<!doctype html><html class=theme-light lang=zh-cn><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/><title>第 5 章 安装应用程序: Packages 和 Ports | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="第 5 章 安装应用程序: Packages 和 Ports"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="zh-cn"><meta property="og:url" content="http://172.16.201.134:1313/zh-cn/books/handbook/ports/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/zh-cn\/books\/handbook\/ports\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/zh-cn>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books>Books</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=zh-cn>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/>前言</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-audience>预期的读者</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes-from3>相对于第三版的改动</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes-from2>相对于第二版的改动 (2004)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes>相对于第一版的改变 (2001)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-overview>本手册的组织</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-conv>本书中使用的一些约定</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-acknowledgements>致谢</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/parti/>部分 I. 起步</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/>第 1 章 介绍</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#introduction-synopsis>1.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#nutshell>1.2. 欢迎来到 FreeBSD 的世界!</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#history>1.3. 关于 FreeBSD 项目</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/>第 2 章 安装 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-synopsis>2.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-hardware>2.2. 硬件需求</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-pre>2.3. 安装前的准备工作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-start>2.4. 开始安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#using-sysinstall>2.5. 介绍 Sysinstall</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-steps>2.6. 分配磁盘空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-choosing>2.7. 选择要安装的软件包</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-media>2.8. 选择您要使用的安装介质</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-final-warning>2.9. 安装确认</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-post>2.10. 安装后的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-trouble>2.11. 常见问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-advanced>2.12. 高级安装指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-diff-media>2.13. 准备您自己的安装介质</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/>第 3 章 安装 FreeBSD（适用于 9.x 及以后版本）</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-synopsis>3.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-hardware>3.2. 硬件需求</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-pre>3.3. 安装前的准备工作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-start>3.4. 开始安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#using-bsdinstall>3.5. 介绍 bsdinstall</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-netinstall>3.6. 通过网络安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-partitioning>3.7. 分配磁盘空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-final-warning>3.8. 安装确认</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-post>3.9. 安装后的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-install-trouble>3.10. 故障排除</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/>第 4 章 UNIX 基础</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-synopsis>4.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#consoles>4.2. 虚拟控制台和终端</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#permissions>4.3. 权限</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#dirstructure>4.4. 目录架构</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#disk-organization>4.5. 磁盘组织</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#mount-unmount>4.6. 文件系统的挂接和卸下</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-processes>4.7. 进程</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-daemons>4.8. 守护进程，信号和杀死进程</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#shells>4.9. Shells</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#editors>4.10. 文本编辑器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-devices>4.11. 设备和设备节点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#binary-formats>4.12. 二进制文件格式</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-more-information>4.13. 取得更多的资讯</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle checked>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/>第 5 章 安装应用程序: Packages 和 Ports</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-synopsis>5.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-overview>5.2. 软件安装预览</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-finding-applications>5.3. 寻找您要的应用程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#packages-using>5.4. 使用 Package 系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-using>5.5. 使用Ports Collection</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-nextsteps>5.6. 安装之后还要做点什么？</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-broken>5.7. 如何处理坏掉的 Ports</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/>第 6 章 X Window 系统</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x11-synopsis>6.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-understanding>6.2. 理解 X</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-install>6.3. 安装 X11</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-config>6.4. 配置 X11</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-fonts>6.5. 在 X11 中使用字体</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-xdm>6.6. X 显示管理器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x11-wm>6.7. 桌面环境</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partii/>部分 II. 常见的任务</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/>第 7 章 桌面应用</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-synopsis>7.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-browsers>7.2. 浏览器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-productivity>7.3. 办公、图象处理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-viewers>7.4. 文档查看器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-finance>7.5. 财务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-summary>7.6. 总结</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/>第 8 章 多媒体</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#multimedia-synopsis>8.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#sound-setup>8.2. 安装声卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#sound-mp3>8.3. MP3音频</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#video-playback>8.4. 视频回放</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#tvcard>8.5. 安装电视卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#scanners>8.6. 图象扫描仪</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/>第 9 章 配置FreeBSD的内核</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-synopsis>9.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-custom-kernel>9.2. 为什么需要建立定制的内核?</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-devices>9.3. 发现系统硬件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-modules>9.4. 内核驱动，子系统和模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-building>9.5. 建立并安装一个定制的内核</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-config>9.6. 配置文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-trouble>9.7. 如果出现问题怎么办</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/>第 10 章 打印</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-synopsis>10.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-intro-spooler>10.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-intro-setup>10.3. 基本设置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-advanced>10.4. 高级设置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-using>10.5. 使用打印机</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-lpd-alternatives>10.6. 替换标准后台打印</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-troubleshooting>10.7. 疑难问题</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/>第 11 章 Linux® 二进制兼容模式</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-synopsis>11.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-lbc-install>11.2. 配置 Linux® 二进制兼容模式</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-advanced>11.3. 高级主题</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partiii/>部分 III. 系统管理</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/>第 12 章 设置和调整</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#config-synopsis>12.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-initial>12.2. 初步配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-core-configuration>12.3. 核心配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-appconfig>12.4. 应用程序配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-starting-services>12.5. 启动服务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-cron>12.6. 配置 <code>cron</code></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-rcd>12.7. 在 FreeBSD 中使用 rc</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#config-network-setup>12.8. 设置网卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-virtual-hosts>12.9. 虚拟主机</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-configfiles>12.10. 配置文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-sysctl>12.11. 用 sysctl 进行调整</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-disk>12.12. 调整磁盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-kernel-limits>12.13. 调整内核限制</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#adding-swap-space>12.14. 添加交换空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#acpi-overview>12.15. 电源和资源管理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#ACPI-debug>12.16. 使用和调试 FreeBSD ACPI</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/>第 13 章 FreeBSD 引导过程</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-synopsis>13.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-introduction>13.2. 引导问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-blocks>13.3. 引导管理器和各引导阶段</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-kernel>13.4. 内核在引导时的交互</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#device-hints>13.5. Device Hints</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-init>13.6. Init：进程控制及初始化</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-shutdown>13.7. 关机 (shutdown) 过程</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/>第 14 章 用户和基本的帐户管理</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-synopsis>14.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-introduction>14.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-superuser>14.3. 超级用户帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-system>14.4. 系统帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-user>14.5. 用户帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-modifying>14.6. 修改帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-limiting>14.7. 限制用户使用系统资源</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-groups>14.8. 组</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/>第 15 章 安全</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-synopsis>15.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-intro>15.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#securing-freebsd>15.3. 确保 FreeBSD 的安全</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#crypt>15.4. DES、 Blowfish、 MD5， 以及 Crypt</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#one-time-passwords>15.5. 一次性口令</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#tcpwrappers>15.6. TCP Wrappers</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#kerberos5>15.7. Kerberos5</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#openssl>15.8. OpenSSL</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#ipsec>15.9. IPsec 上的 VPN</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#openssh>15.10. OpenSSH</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#fs-acl>15.11. 文件系统访问控制表</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-portaudit>15.12. 监视第三方安全问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-advisories>15.13. FreeBSD 安全公告</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-accounting>15.14. 进程记帐</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/>第 16 章 Jails</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-synopsis>16.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-terms>16.2. 与 Jail 相关的一些术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-intro>16.3. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-build>16.4. 建立和控制 jail</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-tuning>16.5. 微调和管理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-application>16.6. Jail 的应用</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/>第 17 章 强制访问控制</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-synopsis>17.1. 概要</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-inline-glossary>17.2. 本章出现的重要术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-initial>17.3. 关于 MAC 的说明</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-understandlabel>17.4. 理解 MAC 标签</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-planning>17.5. 规划安全配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-modules>17.6. 模块配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-seeotheruids>17.7. MAC seeotheruids 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-bsdextended>17.8. MAC bsdextended 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-ifoff>17.9. MAC ifoff 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-portacl>17.10. MAC portacl 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-partition>17.11. MAC partition (分区) 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-mls>17.12. MAC 多级 (Multi-Level) 安全模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-biba>17.13. MAC Biba 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-lomac>17.14. MAC LOMAC 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-implementing>17.15. MAC Jail 中的 Nagios</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-userlocked>17.16. User Lock Down</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-troubleshoot>17.17. MAC 框架的故障排除</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/>第 18 章 安全事件审计</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-synopsis>18.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-inline-glossary>18.2. 本章中的一些关键术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-install>18.3. 安装审计支持</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-config>18.4. 对审计进行配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-administration>18.5. 管理审计子系统</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/>第 19 章 存储</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-synopsis>19.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-naming>19.2. 设备命名</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-adding>19.3. 添加磁盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#raid>19.4. RAID</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#usb-disks>19.5. USB 存储设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#creating-cds>19.6. 创建和使用光学介质(CD)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#creating-dvds>19.7. 创建和使用光学介质(DVD)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#floppies>19.8. 创建和使用软盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backups-tapebackups>19.9. 用磁带机备份</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backups-floppybackups>19.10. 用软盘备份</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backup-strategies>19.11. 备份策略</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backup-basics>19.12. 备份程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-virtual>19.13. 网络、内存和 和以及映像文件为介质的虚拟文件系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#snapshots>19.14. 文件系统快照</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#quotas>19.15. 文件系统配额</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-encrypting>19.16. 加密磁盘分区</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#swap-encrypting>19.17. 对交换区进行加密</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-hast>19.18. 高可用性存储 (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/>第 20 章 GEOM: 模块化磁盘变换框架</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-synopsis>20.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-intro>20.2. GEOM 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-striping>20.3. RAID0 - 条带</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-mirror>20.4. RAID1 - 镜像</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-raid3>20.5. RAID3 - 使用专用校验设备的字节级条带</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-ggate>20.6. GEOM Gate 网络设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-glabel>20.7. 为磁盘设备添加卷标</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-gjournal>20.8. 通过 GEOM 实现 UFS 日志</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/>第 21 章 文件系统 Support</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/#filesystems-synopsis>21.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/#filesystems-zfs>21.2. Z 文件系统 (ZFS)</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/>第 22 章 Vinum 卷管理程序</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-synopsis>22.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-intro>22.2. 磁盘容量太小</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-access-bottlenecks>22.3. 访问瓶颈</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-data-integrity>22.4. 数据的完整性</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-objects>22.5. Vinum 目标</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-examples>22.6. 一些例子</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-object-naming>22.7. 对象命名</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-config>22.8. 配置 Vinum</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-root>22.9. 使用 Vinum 作为根文件系统</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/>第 23 章 虚拟化</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-synopsis>23.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-guest>23.2. 作为客户 OS 的 FreeBSD</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-host>23.3. 作为宿主 OS 的 FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/>第 24 章 本地化－I18N/L10N使用和设置</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-synopsis>24.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-basics>24.2. 基础知识</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#using-localization>24.3. 使用本地化语言</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-compiling>24.4. 编译I18N程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#lang-setup>24.5. 本地化FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/>第 25 章 更新与升级 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-synopsis>25.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>25.2. FreeBSD 更新</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-portsnap>25.3. Portsnap： 一个 Ports Collection 更新工具</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-documentation>25.4. 更新系统附带的文档</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#current-stable>25.5. 追踪开发分支</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#synching>25.6. 同步您的源码</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#makeworld>25.7. 重新编译 "world"</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#make-delete-old>25.8. 删除过时的文件、 目录和函数库</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#small-lan>25.9. 跟踪多台机器</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/>第 26 章 DTrace</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-synopsis>26.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-implementation>26.2. 实现上的差异</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-enable>26.3. 启用 DTrace 支持</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-using>26.4. 使用 DTrace</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-language>26.5. D 语言</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partiv/>部分 IV. 网络通讯</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/>第 27 章 串口通讯</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serial-synopsis>27.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serial>27.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#term>27.3. 终端</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#dialup>27.4. 拨入服务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#dialout>27.5. 拨出设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serialconsole-setup>27.6. 设置串口控制台</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/>第 28 章 PPP 和 SLIP</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>28.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#userppp>28.2. 使用用户级 PPP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp>28.3. 使用内核级PPP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp-troubleshoot>28.4. PPP 连接故障排除</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#pppoe>28.5. 使用基于以太网的PPP(PPPoE)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#pppoa>28.6. 使用 ATM 上的 PPP (PPPoA)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#slip>28.7. 使用SLIP</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/>第 29 章 电子邮件</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-synopsis>29.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-using>29.2. 使用电子邮件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#sendmail>29.3. sendmail 配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-changingmta>29.4. 改变您的邮件传输代理程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-trouble>29.5. 疑难解答</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-advanced>29.6. 高级主题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-UUCP>29.7. SMTP 与 UUCP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#outgoing-only>29.8. 只发送邮件的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-dialup>29.9. 拨号连接时使用邮件传送</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-Auth>29.10. SMTP 验证</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-agents>29.11. 邮件用户代理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-fetchmail>29.12. 使用 fetchmail</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-procmail>29.13. 使用 procmail</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/>第 30 章 网络服务器</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-servers-synopsis>30.1. 概要</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-inetd>30.2. inetd"超级服务器"</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-nfs>30.3. 网络文件系统（NFS）</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-nis>30.4. 网络信息服务 (NIS/YP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-dhcp>30.5. 网络自动配置 (DHCP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-dns>30.6. 域名系统 (DNS)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-apache>30.7. Apache HTTP 服务器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-ftp>30.8. 文件传输协议 (FTP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-samba>30.9. 为 Microsoft® Windows® 客户机提供文件和打印服务 (Samba)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-ntp>30.10. 通过 NTP 进行时钟同步</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-syslogd>30.11. 使用 <code>syslogd</code> 记录远程主机的日志</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/>第 31 章 防火墙</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-intro>31.1. 入门</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-concepts>31.2. 防火墙的概念</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-apps>31.3. 防火墙软件包</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-pf>31.4. OpenBSD Packet Filter (PF) 和 ALTQ</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-ipf>31.5. IPFILTER (IPF) 防火墙</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-ipfw>31.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/>第 32 章 高级网络</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#advanced-networking-synopsis>32.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-routing>32.2. 网关和路由</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-wireless>32.3. 无线网络</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-bluetooth>32.4. 蓝牙</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-bridging>32.5. 桥接</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-aggregation>32.6. 链路聚合与故障转移</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-diskless>32.7. 无盘操作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-pxe-nfs>32.8. 从 PXE 启动一个 NFS 根文件系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-isdn>32.9. ISDN</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-natd>32.10. 网络地址转换</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-plip>32.11. 并口电缆 IP (PLIP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-ipv6>32.12. IPv6</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-atm>32.13. 异步传输模式 (ATM)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#carp>32.14. Common Address Redundancy Protocol (CARP， 共用地址冗余协议)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partv/>部分 V. 附录</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/>附录 A. 获取 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-cdrom>A.1. CDROM 和 DVD 发行商</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-ftp>A.2. FTP 站点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#anoncvs>A.3. 匿名 CVS</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#ctm>A.4. 使用 CTM</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#cvsup>A.5. 使用 CVSup</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#cvs-tags>A.6. CVS 标签</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-afs>A.7. AFS 站点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-rsync>A.8. rsync 站点</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/>附录 B. 参考文献</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-freebsd>B.1. 关于 FreeBSD 的专业书籍与杂志</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-userguides>B.2. 用户指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-adminguides>B.3. 管理员指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-programmers>B.4. 开发指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-osinternals>B.5. 操作系统原理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-security>B.6. 安全方面的参考文献</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-hardware>B.7. 硬件参考</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-history>B.8. UNIX® 历史</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-journals>B.9. 各种期刊</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/>附录 C. Internet上的资源</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-mail>C.1. 邮件列表</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-news>C.2. Usenet新闻组</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-web>C.3. World Wide Web服务器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-email>C.4. Email地址</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/pgpkeys/>附录 D. PGP公钥</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Officers</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>第 5 章 安装应用程序: Packages 和 Ports</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#ports-synopsis>5.1. 概述</a></li><li><a href=#ports-overview>5.2. 软件安装预览</a></li><li><a href=#ports-finding-applications>5.3. 寻找您要的应用程序</a></li><li><a href=#packages-using>5.4. 使用 Package 系统</a></li><li><a href=#ports-using>5.5. 使用Ports Collection</a></li><li><a href=#ports-nextsteps>5.6. 安装之后还要做点什么？</a></li><li><a href=#ports-broken>5.7. 如何处理坏掉的 Ports</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=ports-synopsis>5.1. 概述<a class=anchor href=#ports-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>FreeBSD 将许多系统工具捆绑作为基本系统的一部分。 然而， 要完成实际的工作， 可能还需要安装更多的第三方应用。 FreeBSD 提供了两种补充的技术， 用以在您的系统中安装第三方软件： FreeBSD Ports 套件 (用于从源代码安装)， 以及 packages (用以从预编译的二进制版本安装)。 这两种方法都可以用于从本地介质， 或从网上直接安装您喜欢的应用程序的最新版本。</p></div><div class=paragraph><p>读完这章，您将了解到:</p></div><div class=ulist><ul><li><p>如何安装第三方的二进制软件包。</p></li><li><p>如何使用 ports 套件从源代码构建第三方软件。</p></li><li><p>如何删除先前安装的软件包。</p></li><li><p>如何改动Ports Collection里面的一些参数，定制软件使用。</p></li><li><p>如何找到您需要的软件包。</p></li><li><p>如何升级您的应用软件。</p></li></ul></div></div></div><div class=sect1><h2 id=ports-overview>5.2. 软件安装预览<a class=anchor href=#ports-overview></a></h2><div class=sectionbody><div class=paragraph><p>如果您以前使用过 UNIX® 系统，那典型的第三方软件安装的步骤是像下面描述的：</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>下载这个软件，软件的发行版可能是源代码格式，或是一个二进制包。</p></li><li><p>解开软件(其中代表性的是用 <a href="https://man.freebsd.org/cgi/man.cgi?query=compress&amp;sektion=1&amp;format=html">compress(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a>, 或 <a href="https://man.freebsd.org/cgi/man.cgi?query=bzip2&amp;sektion=1&amp;format=html">bzip2(1)</a> 压缩过的tar包)。</p></li><li><p>阅读相关文档，了解如何安装。 (多半一个文件名是<span class=filename>INSTALL</span>或<span class=filename>README</span>， 或在<span class=filename>doc/</span> 目录下的一些文档)</p></li><li><p>如果软件是以源代码形式发布的，那就需要编译它。可能需要编辑一个 <span class=filename>Makefile</span>文件, 或运行 <code>configure</code>脚本，和其他的一些工作。</p></li><li><p>测试和安装软件。</p></li></ol></div></div></div><div class=paragraph><p>如果一切顺利的话，就这么简单。如果您在安装一个软件包时发生一些错误， 您可能需要编辑一下它的代码，以使它能正常工作。</p></div><div class=paragraph><p>您可以继续使用 "传统的"方式安装软件。 然而， FreeBSD 提供了两种技术： packages 和 ports。 就在写这篇文章的时候， 已经有超过 36000 个第三方的应用程序可以使用了。</p></div><div class=paragraph><p>对于任意一个应用程序包，是一个可以下载的FreeBSD package文件。这个 FreeBSD package包含了编译好的的副本， 还有一些配置文件或文档。 一个下载的包文件可以用 FreeBSD 的包管理命令来操作， 例如 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>，<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> 等等。 可以使用一个简单的命令安装一个新的应用程序。</p></div><div class=paragraph><p>一个FreeBSD的port是一个可以自动从源代码编译成应用程序的文件集合。</p></div><div class=paragraph><p>记住，如果您自己来编译的话，需要执行很多步的操作 (解压， 补丁， 编译， 安装)。 这些整理 port 的文件集合包含了系统需要完成这个工作的必需信息。 您可以运行一些简单的命令， 那些源代码就可以自动地下载， 解开， 打补丁， 编译， 直至安装完成。</p></div><div class=paragraph><p>实际上，ports 系统也能做出被 <code>pkg_add</code> 的程序包和不久就要讲到的其他包管理命令来安装的软件包。</p></div><div class=paragraph><p>Packages 和 ports 是互相 <em>依赖</em> 的。 假设您想安装一个依赖于已经安装的特定库的应用程序。 应用程序和那个库都已经应用于 FreeBSD ports 和 packages。 如果您使用 命令或 ports 系统来添加应用程序， 两个都必须注意库是否被安装， 如果没有， 它会自动先安装库。</p></div><div class=paragraph><p>这里给出的两种技术是很相似的，您可能会奇怪为什么 FreeBSD 会弄出这两种技术。 其实， packages 和 ports 都有它们自己的长处， 使用哪一种完全取决于您自己的喜好。</p></div><div class=ulist><div class=title>Package Benefits</div><ul><li><p>一个压缩的 package 通常要比一个压缩的包含源代码的应用程序小得多。</p></li><li><p>package 不需要进行额外的编译。 对于大型应用程序如 Mozilla， KDE 或 GNOME 来说这显得尤为重要， 特别是在您的系统资源比较差的情况下。</p></li><li><p>package不需要您知道如何在FreeBSD上编译软件的详细过程。</p></li></ul></div><div class=ulist><div class=title>Ports Benefits</div><ul><li><p>package 在编译时通常使用比较保守的选项， 这是为了保证它们能够运行在大多数的系统上。 通过从 port 安装， 您可以细微调整编译选项来产生适合于处理器的代码 (针对于 Pentium 4 或 AMD 的 Athlon CPU)。</p></li><li><p>一些软件包已经把与它们相关的能做和不能做的事情的选项都编译进去了。 例如， Apache 可能就配置了很多的选项。 从 port 中安装时， 您不一定要接受默认的选项， 可以自己来设置。</p><div class=paragraph><p>在一些例子中，一个软件有不同的配置存在多个package。 例如， Ghostscript存在 <span class=filename>ghostscript</span> package 和 <span class=filename>ghostscript-nox11</span> package两个配置package， 这取决于您是否安装了X11服务器。 这样的调整对package是可能的， 但如果一个应用程序有超过一个或两个不同的编译时间选项时， 就不行了。</p></div></li><li><p>一些软件的许可条件禁止采用二进制形式发行。 它们必须带上源代码。</p></li><li><p>一些人不信任二进制发行形式。 至少有了源代码， (理论上) 可以亲自阅读它，寻找潜在的问题。</p></li><li><p>如果您要自己对软件打补丁，您就需要有源代码。</p></li><li><p>一些人喜欢整天围着源代码转， 所以他们喜欢亲自阅读源代码， 修改源代码等等。</p></li></ul></div><div class=paragraph><p>保持更新 ports， 订阅邮件列表 <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports 邮件列表</a> 和递交错误报告 <a href=https://lists.FreeBSD.org/subscription/freebsd-ports-bugs>FreeBSD ports bugs 邮件列表</a>。</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>安装任何应用程序之前， 应首先检查 <a href=http://vuxml.freebsd.org/>http://vuxml.freebsd.org/</a> 上是否有关于您所安装的应用程序的安全问题报告。</p></div><div class=paragraph><p>您也可以安装 <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portaudit/>ports-mgmt/portaudit</a>， 它能够自动地检查已经安装的应用程序的漏洞； 此外， 在您安装程序之前它也会首先检查是否存在已知的漏洞。 另外， 您也可以使用 <code>portaudit -F -a</code> 这个命令在安装了某个软件包之后作出检查。</p></div></td></tr></tbody></table></div><div class=paragraph><p>这章的其余部分将介绍在 FreeBSD 上如何使用 packages 和 ports 来安装和管理第三方软件。</p></div></div></div><div class=sect1><h2 id=ports-finding-applications>5.3. 寻找您要的应用程序<a class=anchor href=#ports-finding-applications></a></h2><div class=sectionbody><div class=paragraph><p>在您安装任何应用程序之前，需要知道您需要什么，那个应用程序叫什么。</p></div><div class=paragraph><p>FreeBSD中可用的应用程序正在不断地增长着。幸运的是， 有许多方法可以找到您所需要的程序:</p></div><div class=ulist><ul><li><p>FreeBSD站点上有一个可以搜索到的当前所有可用的应用程序列表，在 <a href=https://www.FreeBSD.org/ports/>http://www.FreeBSD.org/ports/</a>。 它分很多种类，您既可以通过程序的名称来搜索(如果您知道名字)， 也可以在分类中列出所有可用的应用程序。</p></li><li><p>Dan Langille 维护着网站 FreshPorts，在 <a href=http://www.FreshPorts.org/>http://www.FreshPorts.org/</a>。 FreshPort时刻 "追踪" 着在 ports 中应用程序的变化。当有任何程序被升级时，他们就会发 email 提醒您。</p></li><li><p>如果您不知道您想要的应用程序的名字，可以通过 (<a href=http://www.freshmeat.net/>http://www.freshmeat.net/</a>) 网站来查找， 如果找到了应用程序， 您可以回 FreeBSD 的主站去看一下这个应用程序是否已经被 port 进去了。</p></li><li><p>如果您知道一个port的准确名字， 但需要知道在哪个类别里面能找到它，您可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=whereis&amp;sektion=1&amp;format=html">whereis(1)</a> 这个命令。简单地输入 <code>whereis file</code>， <em>file</em> 就是您想安装的程序名字。 如果系统找到了它， 您将被告知在它在哪里， 例如:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># whereis lsof</span>
lsof: /usr/ports/sysutils/lsof</code></pre></div></div><div class=paragraph><p>结果告诉我们这个命令<code>lsof</code> (一个系统配置程序)可以在 <span class=filename>/usr/ports/sysutils/lsof</span>目录中找到。</p></div></li><li><p>你可以使用简单的 <a href="https://man.freebsd.org/cgi/man.cgi?query=echo&amp;sektion=1&amp;format=html">echo(1)</a> 语句来查找某个 port 是否存在于 ports 树中。 例如：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo /usr/ports/*/*lsof*</span>
/usr/ports/sysutils/lsof</code></pre></div></div><div class=paragraph><p>Note that this will return any matched files downloaded into the <span class=filename>/usr/ports/distfiles</span> directory.</p></div><div class=paragraph><p>请注意这条命令将会返回下载到 <span class=filename>/usr/ports/distfiles</span> 目录中所有符合条件的文件。</p></div></li><li><p>还有另外的一个寻找您需要的port的方法—​是用ports collecton 内嵌的搜索机制。要使用这个搜索, 您需要先到 <span class=filename>/usr/ports</span>目录下面。 在那个目录里面， 运行<code>make search name=program-name</code>， <em>program-name</em> 就是您想寻找的程序名字。 举个例子， 如果您想找 <code>lsof</code>：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports</span>
<span class=c># make search name=lsof</span>
Port:   lsof-4.56.4
Path:   /usr/ports/sysutils/lsof
Info:   Lists information about open files <span class=o>(</span>similar to fstat<span class=o>(</span>1<span class=o>))</span>
Maint:  obrien@FreeBSD.org
Index:  sysutils
B-deps:
R-deps:</code></pre></div></div><div class=paragraph><p>在输出的内容里面您要特别注意包含 "Path:" 的这行将告诉您在哪里可以找到这个 port。 如果要安装此 port， 那其他输出的信息不是必须的， 但是还是显示输出了。</p></div><div class=paragraph><p>为了更深入的搜索，您还可以用 <code>make search key=string</code>， <em>string</em>就是您想搜索的部分内容。 它将搜索port的名字、 注释， 描述和从属关系， 如果您不知道您想搜索的程序名字， 可以利用它搜索一些关键主题来找到您需要的。</p></div><div class=paragraph><p>上面说的这些方法， 搜索的关键字没有大小写区分的。 搜索 "LSOF"的结果将和搜索"lsof"的结果一样。</p></div></li></ul></div></div></div><div class=sect1><h2 id=packages-using>5.4. 使用 Package 系统<a class=anchor href=#packages-using></a></h2><div class=sectionbody><div class=paragraph><p>在 FreeBSD 系统上有几种不同的工具用来管理 package：</p></div><div class=ulist><ul><li><p><code>sysinstall</code> 工具可以在正在运行的系统上运行， 以完成安装、 删除和列出可用的以及已经安装的预编译软件包的任务。 如欲了解进一步信息， 请参阅 <a href=../install/#packages>安装预编译的软件包 (package)</a>。</p></li><li><p>这一节余下的部分将介绍用于管理预编译软件包的命令行工具。</p></li></ul></div><div class=sect2><h3 id=_一个_package_的安装>5.4.1. 一个 package 的安装<a class=anchor href=#_一个_package_的安装></a></h3><div class=paragraph><p>您可以用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 这个命令从本地文件或网络上的服务器来安装一个 FreeBSD 软件包。</p></div><div class=exampleblock><div class=title>例 1. 在本地手动下载一个package,并安装它</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ftp -a ftp2.FreeBSD.org</span>
Connected to ftp2.FreeBSD.org.
220 ftp2.FreeBSD.org FTP server <span class=o>(</span>Version 6.00LS<span class=o>)</span> ready.
331 Guest login ok, send your email address as password.
230-
230-     This machine is <span class=k>in </span>Vienna, VA, USA, hosted by Verio.
230-         Questions? E-mail freebsd@vienna.verio.net.
230-
230-
230 Guest login ok, access restrictions apply.
Remote system <span class=nb>type </span>is UNIX.
Using binary mode to transfer files.
ftp&gt; <span class=nb>cd</span> /pub/FreeBSD/ports/packages/sysutils/
250 CWD <span class=nb>command </span>successful.
ftp&gt; get lsof-4.56.4.tgz
<span class=nb>local</span>: lsof-4.56.4.tgz remote: lsof-4.56.4.tgz
200 PORT <span class=nb>command </span>successful.
150 Opening BINARY mode data connection <span class=k>for</span> <span class=s1>&#39;lsof-4.56.4.tgz&#39;</span> <span class=o>(</span>92375 bytes<span class=o>)</span><span class=nb>.</span>
100% |<span class=k>**************************************************</span>| 92375       00:00 ETA
226 Transfer complete.
92375 bytes received <span class=k>in </span>5.60 seconds <span class=o>(</span>16.11 KB/s<span class=o>)</span>
ftp&gt; <span class=nb>exit</span>
<span class=c># pkg_add lsof-4.56.4.tgz</span></code></pre></div></div></div></div><div class=paragraph><p>如果您没有本地package的安装盘 (如 FreeBSD CD-ROM)， 可以执行 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 命令并加上 <code>-r</code> 选项。 这将迫使程序自动决定目标文件的正确格式和版本， 然后自动从一个 FTP 站点寻找和安装 package。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r lsof</span></code></pre></div></div><div class=paragraph><p>上面的例子将下载正确的package， 而不需要用户的干预就可以安装。 如果您想指定 FreeBSD package 的镜像站点， 替换主站点， 就必须相应地设置 <code>PACKAGESITE</code> 这个环境变量， 覆盖原来的设置。 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=3&amp;format=html">fetch(3)</a> 下载文件， 可以使用多种环境变量， 包含 <code>FTP_PASSIVE_MODE</code>、 <code>FTP_PROXY</code>， 和 <code>FTP_PASSWORD</code>。 如果您使用 FTP/HTTP 代理或在防火墙后面， 您可能需要设置这些环境变量。 详细的列表请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=3&amp;format=html">fetch(3)</a>。上述例子中用 <code>lsof</code> 替代了 <code>lsof-4.56.4</code>。 当使用远程安装 Package 的时候软件名字不需要包含版本号。 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 将自动的找到这个软件最新的版本。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>如果您使用 FreeBSD-CURRENT 或 FreeBSD-STABLE版本的FreeBSD， <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 将下载您的应用软件的最新版本。 如果您使用 -RELEASE 版本的 FreeBSD, 它将会获得与您的版本相应的软件包版本。 您可以通过修改环境变量 <code>PACKAGESITE</code> 来改变这一行为。 例如， 如果您运行 FreeBSD 8.1-RELEASE 系统， 默认情况下 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 将尝试从 <code><a href=ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8.1-release/Latest/ class=bare>ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8.1-release/Latest/</a></code> 下载预编译的软件包。 如果您希望强制 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 下载 FreeBSD 8-STABLE 的软件包， 则可以将 <code>PACKAGESITE</code> 设置为 <code><a href=ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8-stable/Latest/ class=bare>ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8-stable/Latest/</a></code>。</p></div></td></tr></tbody></table></div><div class=paragraph><p>软件包采用 <span class=filename>.tgz</span> 和 <span class=filename>.tbz</span> 两种格式。您可以在 <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/>ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/</a> 下面或从 FreeBSD 的发行光盘找到， 它在每一个 4CD 的 FreeBSD 发行版的 <span class=filename>/packages</span>目录中。 软件包的设计规划与 <span class=filename>/usr/ports</span> 树一致。 每个分类都有自己的目录， 所有的软件包可以在目录 <span class=filename>All</span>中找到。</p></div><div class=paragraph><p>软件包系统的目录结构与ports的设计规划一致； 它们共同构成了整个 package/port。</p></div></div><div class=sect2><h3 id=_软件包的管理>5.4.2. 软件包的管理<a class=anchor href=#_软件包的管理></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> 是用于列出已安装的所有软件包列表和描述的程序。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info</span>
cvsup-16.1          A general network file distribution system optimized <span class=k>for </span>CV
docbook-1.2         Meta-port <span class=k>for </span>the different versions of the DocBook DTD
...</code></pre></div></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_version&amp;sektion=1&amp;format=html">pkg_version(1)</a>是一个用来统计所有安装的软件包版本的工具。 它可以用来比较本地 package 的版本与 ports 目录中的当前版本是否一致。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_version</span>
cvsup                       <span class=o>=</span>
docbook                     <span class=o>=</span>
...</code></pre></div></div><div class=paragraph><p>在第二列的符号指出了安装版本的相关时间和本地ports目录树中可用的版本。</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">符号</th><th class="tableblock halign-left valign-top">含义</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>=</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>在本地ports树中与已安装的软件包版本相匹配。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>&lt;</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>已安装的版本要比在ports树中的版本旧。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>已安装的版本要比在ports树中的版本新 (本地的port树可能没有更新)。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>?</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>已安装的软件包无法在ports索引中找到。 (可能发生这种事情，举个例子， 您早先安装的一个 port 从 port 树中移出或改名了)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>*</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>软件包有很多版本。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>!</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>已安装的软件包在索引中存有记录， 但是由于某些原因 <code>pkg_version</code> 无法比较已安装的软件包与索引中相对应的版本号。</p></td></tr></tbody></table></div><div class=sect2><h3 id=_删除一个软件包>5.4.3. 删除一个软件包<a class=anchor href=#_删除一个软件包></a></h3><div class=paragraph><p>要删除先前安装的软件package，只要使用<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> 工具。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_delete xchat-1.7.1</span></code></pre></div></div><div class=paragraph><p>需要注意的是， <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> 需要提供完整的包名； 如果您只是指定了类似 <em>xchat</em> 而不是 <em>xchat-1.7.1</em> 这样的名字， 则它将拒绝执行操作。 不过， 您可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_version&amp;sektion=1&amp;format=html">pkg_version(1)</a> 来了解安装的 package 的版本。 除此之外， 也可以使用通配符：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_delete xchat\*</span></code></pre></div></div><div class=paragraph><p>这时， 所有名字以 <code>xchat</code> 开头的 package 都会被删掉。</p></div></div><div class=sect2><h3 id=_其它>5.4.4. 其它<a class=anchor href=#_其它></a></h3><div class=paragraph><p>所有已安装的 package 信息都保存在 <span class=filename>/var/db/pkg</span> 目录下。 安装文件的列表和每个 package 的内容和描述都能在这个目录的相关文件中找到。</p></div></div></div></div><div class=sect1><h2 id=ports-using>5.5. 使用Ports Collection<a class=anchor href=#ports-using></a></h2><div class=sectionbody><div class=paragraph><p>下面的几个小节中， 给出了关于如何使用 Ports 套件来在您的系统中安装或卸载程序的介绍。 关于可用的 <code>make</code> targets 以及环境变量的介绍， 可以在 <a href="https://man.freebsd.org/cgi/man.cgi?query=ports&amp;sektion=7&amp;format=html">ports(7)</a> 中找到。</p></div><div class=sect2><h3 id=ports-tree>5.5.1. 获得Ports Collection<a class=anchor href=#ports-tree></a></h3><div class=paragraph><p>在您能使用 ports 之前， 您必须先获得 Ports Collection - 本质上是 <span class=filename>/usr/ports</span> 目录下的一堆 <span class=filename>Makefile</span>、 补丁和描述文件。</p></div><div class=paragraph><p>在您安装 FreeBSD 系统的时候， sysinstall 会询问您是否需要安装 Ports Collection。 如果您选择 no， 那您可以用下面的指令来安装 Ports Collection：</p></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: CVSup 方法</strong></p></div><div class=paragraph><p>保持您本地 Ports 套件最新的一种快捷的方法， 是使用 CVSup 协议来进行更新。 如果您希望了解更多关于 CVSup 的细节， 请参见 <a href=../mirrors/#cvsup>使用 CVSup</a>。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>在 FreeBSD 系统里对 CVSup 的实现叫作 csup。</p></div></td></tr></tbody></table></div><div class=paragraph><p>在首次运行 csup 之前， 务必确认 <span class=filename>/usr/ports</span> 是空的！ 如果您之前已经用其他地方安装了一份 Ports 套件， 则 csup 可能不会自动删除已经在上游服务器上删除掉的补丁文件。</p></div><div class="olist arabic"><ol class=arabic><li><p>运行 <code>csup</code>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># csup -L 2 -h cvsup.FreeBSD.org /usr/shared/examples/cvsup/ports-supfile</span></code></pre></div></div><div class=paragraph><p>将 <em>cvsup.FreeBSD.org</em> 改为离您较近的 CVSup 服务器。 请参见 <a href=../mirrors/#cvsup-mirrors>CVSup 镜像</a> (<a href=../mirrors/#cvsup-mirrors>CVSup 站点</a>) 中的镜像站点完整列表。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>有时可能希望使用自己的 <span class=filename>ports-supfile</span>， 比如说， 不想每次都通过命令行来指定所使用的 CVSup 服务器。</p></div><div class="sidebarblock procedure"><div class=content><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>这种情况下， 需要以 <code>root</code> 身份将 <span class=filename>/usr/shared/examples/cvsup/ports-supfile</span> 复制到新的位置， 例如 <span class=filename>/root</span> 或您的主目录。</p></li><li><p>编辑 <span class=filename>ports-supfile</span>。</p></li><li><p>把 <em>CHANGE_THIS.FreeBSD.org</em> 修改成离您较近的 CVSup 服务器。 可以参考 <a href=../mirrors/#cvsup-mirrors>CVSup 镜像</a> (<a href=../mirrors/#cvsup-mirrors>CVSup 站点</a>) 中的镜像站点完整列表。</p></li><li><p>接下来按如下的方式运行 <code>csup</code>：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># csup -L 2 /root/ports-supfile</span></code></pre></div></div></li></ol></div></div></div></td></tr></tbody></table></div></li><li><p>此后运行 <a href="https://man.freebsd.org/cgi/man.cgi?query=csup&amp;sektion=1&amp;format=html">csup(1)</a> 命令将下载最近所进行的改动， 并将它们应用到您的 Ports Collection 上， 不过这一过程并不重新联编您系统上的 ports。</p></li></ol></div></div></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Portsnap 方式</strong></p></div><div class=paragraph><p>Portsnap 是用于发布 Ports 套件的另一套系统。 请参阅 <a href=../cutting-edge/#updating-upgrading-portsnap>使用 Portsnap</a> 以了解关于 Portsnap 功能更详细的介绍。</p></div><div class="olist arabic"><ol class=arabic><li><p>下载压缩的 Ports 套件快照到 <span class=filename>/var/db/portsnap</span>。 您可以根据需要在这之后关闭 Internet 连接。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch</span></code></pre></div></div></li><li><p>假如您是首次运行 Portsnap， 则需要将快照释放到 <span class=filename>/usr/ports</span>：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap extract</span></code></pre></div></div><div class=paragraph><p>如果您已经有装好的 <span class=filename>/usr/ports</span> 而您只想更新， 则应执行下面的命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap update</span></code></pre></div></div></li></ol></div></div></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Sysinstall 方式</strong></p></div><div class=paragraph><p>这种方法需要使用 sysinstall 从安装介质上安装 Ports 套件。 注意， 安装的将是发布发行版时的旧版 Ports 套件。 如果您能访问 Internet， 应使用前面介绍的方法之一。</p></div><div class="olist arabic"><ol class=arabic><li><p>以 <code>root</code> 身份运行 <code>sysinstall</code>：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysinstall</span></code></pre></div></div></li><li><p>用光标向下选择 <span class=guimenuitem>Configure</span>， 并按 <kbd>Enter</kbd>。</p></li><li><p>向下并选择 <span class=guimenuitem>Distributions</span>， 按 <kbd>Enter</kbd>。</p></li><li><p>选择 <span class=guimenuitem>ports</span>， 并按 <kbd>Space</kbd>。</p></li><li><p>选择 <span class=guimenuitem>Exit</span>， 并按 <kbd>Enter</kbd>。</p></li><li><p>选择所希望的安装介质， 例如 CDROM、 FTP， 等等。</p></li><li><p>选择 <span class=guimenuitem>Exit</span> 并按 <kbd>Enter</kbd>。</p></li><li><p>按 <kbd>X</kbd> 退出 sysinstall。</p></li></ol></div></div></div></div><div class=sect2><h3 id=ports-skeleton>5.5.2. 安装 Ports<a class=anchor href=#ports-skeleton></a></h3><div class=paragraph><p>当提到 Ports Collection 时， 第一个要说明的就是何谓 "skeleton"。 简单地说， port skeleton 是让一个程序在 FreeBSD 上简洁地编译并安装的所需文件的最小组合。 每个 port skeleton 包含：</p></div><div class=ulist><ul><li><p>一个 <span class=filename>Makefile</span>。 <span class=filename>Makefile</span> 包括好几个部分， 指出应用程序是如何编译以及将被安装在系统的哪些地方。</p></li><li><p>一个 <span class=filename>distinfo</span> 文件。这个文件包括这些信息： 这些文件用来对下载后的文件校验和进行检查 (使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=sha256&amp;sektion=1&amp;format=html">sha256(1)</a>)， 来确保在下载过程中文件没有被破坏。</p></li><li><p>一个 <span class=filename>files</span> 目录。 这个目录包括在 FreeBSD 系统上编译和安装程序需要用到的补丁。 这些补丁基本上都是些小文件， 指出特定文件作了哪些修正。 它们都是纯文本的的格式，基本上是这样的 "删除第 10 行" 或 "将第 26 行改为这样 …​"， 补丁文件也被称作 "diffs"， 他们由 <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> 程序生成。</p><div class=paragraph><p>这个目录也包含了在编译 port 时要用到的其它文件。</p></div></li><li><p>一个 <span class=filename>pkg-descr</span> 文件。 这是一个提供更多细节，有软件的多行描述。</p></li><li><p>一个 <span class=filename>pkg-plist</span> 文件。 这是即将被安装的所有文件的列表。它告诉 ports 系统在卸载时需要删除哪些文件。</p></li></ul></div><div class=paragraph><p>一些ports还有些其它的文件， 例如 <span class=filename>pkg-message</span>。 ports 系统在一些特殊情况下会用到这些文件。 如果您想知道这些文件更多的细节以及 ports 的概要， 请参阅 <a href=https://docs.freebsd.org/zh-cn/books/porters-handbook/>FreeBSD Porter’s Handbook</a>。</p></div><div class=paragraph><p>port里面包含着如何编译源代码的指令， 但不包含真正的源代码。 您可以在网上或 CD-ROM 上获得源代码。 源代码可能被开发者发布成任何格式。 一般来说应该是一个被 tar 和 gzip 过的文件， 或者是被一些其他的工具压缩或未压缩的文件。 ports中这个程序源代码标示文件叫 "distfile"， 安装 FreeBSD port的方法还不止这两种。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>您必须使用 <code>root</code> 用户登录后安装 ports。</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>在安装任何 port 之前， 应该首先确保已经更新到了最新的 Ports Collection， 并检查 <a href=http://vuxml.freebsd.org/>http://vuxml.freebsd.org/</a> 中是否有与那个 port 有关的安全问题。</p></div><div class=paragraph><p>在安装应用程序之前， 可以使用 portaudit 来自动地检查是否存在已知的安全问题。 这个工具同样可以在 Ports Collection (<a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portaudit/>ports-mgmt/portaudit</a>) 中找到。 在安装新的 port 之前， 可以考虑先运行一下 <code>portaudit -F</code> 来抓取最新的漏洞数据库。 在每天的周期性系统安全检察时， 数据库会被自动更新， 并且会在这之后实施安全审计。 欲了解进一步的情况，请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=portaudit&amp;sektion=1&amp;format=html">portaudit(1)</a> 和 <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a>。</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ports 套件假定您有可用的 Internet 连接。 如果您没有， 则需要将 distfile 手工放到 <span class=filename>/usr/ports/distfiles</span> 中。</p></div><div class=paragraph><p>要开始操作， 首先进入要安装 port 的目录：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/sysutils/lsof</span></code></pre></div></div><div class=paragraph><p>一旦进入了 <span class=filename>lsof</span> 的目录，您将会看到这个port的结构。 下一步就是 make，或说 "联编" 这个 port。 只需在命令行简单地输入 <code>make</code> 命令就可轻松完成这一工作。 做好之后，您可以看到下面的信息：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make</span>
<span class=o>&gt;&gt;</span> lsof_4.57D.freebsd.tar.gz doesn<span class=s1>&#39;t seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.
===&gt;  Extracting for lsof-4.57
...
[extraction output snipped]
...
&gt;&gt; Checksum OK for lsof_4.57D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.57
===&gt;  Applying FreeBSD patches for lsof-4.57
===&gt;  Configuring for lsof-4.57
...
[configure output snipped]
...
===&gt;  Building for lsof-4.57
...
[compilation output snipped]
...
#</span></code></pre></div></div><div class=paragraph><p>注意，一旦编译完成，您就会回到命令行。 下一步安装 port， 要安装它只需要在 <code>make</code> 命令后跟上一个单词 <code>install</code> 即可：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make install</span>
<span class=o>===&gt;</span>  Installing <span class=k>for </span>lsof-4.57
...
<span class=o>[</span>installation output snipped]
...
<span class=o>===&gt;</span>   Generating temporary packing list
<span class=o>===&gt;</span>   Compressing manual pages <span class=k>for </span>lsof-4.57
<span class=o>===&gt;</span>   Registering installation <span class=k>for </span>lsof-4.57
<span class=o>===&gt;</span>  SECURITY NOTE:
      This port has installed the following binaries which execute with
      increased privileges.
<span class=c>#</span></code></pre></div></div><div class=paragraph><p>一旦您返回到提示符，您就可以运行您刚刚安装的程序了。因为 <code>lsof</code> 是一个赋予特殊权限的程序， 因此显示了一个安全警告。 在编译和安装 ports 的时候， 您应该留意任何出现的警告。</p></div><div class=paragraph><p>删除工作目录是个好主意， 这个目录中包含了全部在编译过程中用到的临时文件。 这些文件不仅会占用宝贵的磁盘空间， 而且可能会给升级新版本的 port 时带来麻烦。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make clean</span>
<span class=o>===&gt;</span>  Cleaning <span class=k>for </span>lsof-4.57
<span class=c>#</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>使用 <code>make install clean</code> 可以一步完成 <code>make</code>、 <code>make install</code> 和 <code>make clean</code> 这三个分开的步骤的工作。</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>一些 shell 会缓存环境变量 <code>PATH</code> 中指定的目录里的可执行文件， 以加速查找它们的速度。 如果您使用的是这类 shell， 在安装 port 之后可能需要执行 <code>rehash</code> 命令， 然后才能运行新安装的那些命令。 这个命令可以在类似 <code>tcsh</code> 的 shell 中使用。 对于类似 <code>sh</code> 的 shell， 对应的命令是 <code>hash -r</code>。 请参见您的 shell 的文档以了解进一步的情况。</p></div></td></tr></tbody></table></div><div class=paragraph><p>某些第三方 DVD-ROM 产品， 如 <a href=http://www.freebsdmall.com/>FreeBSD Mall</a> 的 FreeBSD Toolkit 中包含了 distfiles。 这些文件可以与 Ports 套件配合使用。 将 DVD-ROM 挂接到 <span class=filename>/cdrom</span>。 如果您使用不同的挂接点， 则应设置 make 变量 <code>CD_MOUNTPTS</code>。 如果盘上有需要的 distfiles， 则会自动使用。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>请注意， 少数 ports 并不允许通过 CD-ROM 发行。 这可能是由于下载之前需要填写注册表格， 或者不允许再次发布， 或者有一些其它原因。 如果您希望安装在 CD-ROM 上没有的 port， 就需要在线操作了。</p></div></td></tr></tbody></table></div><div class=paragraph><p>ports 系统使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=1&amp;format=html">fetch(1)</a> 去下载文件， 它有很多可以设置的环境变量， 其中包括 <code>FTP_PASSIVE_MODE</code>、 <code>FTP_PROXY</code>， 和 <code>FTP_PASSWORD</code>。 如果您在防火墙之后，或使用 FTP/HTTP代理， 您就可能需要设置它们。 完整的说明请看 <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=3&amp;format=html">fetch(3)</a>。</p></div><div class=paragraph><p>当使用者不是所有时间都能连接上网络， 则可以利用 <code>make fetch</code>。 您只要在顶层目录 (<span class=filename>/usr/ports</span>) 下运行这个命令， 所有需要的文件都将被下载。 这个命令也同样可以在下级类别目录中使用， 例如： <span class=filename>/usr/ports/net</span>。 注意， 如果一个port有一些依赖的库或其他 port， 它将 <em>不</em> 下载这些依赖的 port 的 distfile 文件， 如果您想获取所有依赖的 port 的所有 distfile， 请用 <code>fetch-recursive</code> 命令代替 <code>fetch</code>命令。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>您可以在一个类别或在顶级目录编译所有的 port， 或者使用上述提到的 <code>make fetch</code>命令。 这样是非常危险的， 因为有一些port不能并存。 或者有另一种可能， 一些port会安装两个不同的文件， 但是却是相同的文件名。</p></div></td></tr></tbody></table></div><div class=paragraph><p>在一些罕见的例子中， 用户可能需要在除了 <code>MASTER_SITES</code> 以外的一个站点(本地已经下载下来的文件)去获得一个文件包。 您可以用以下命令不使用 <code>MASTER_SITES</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/directory</span>
<span class=c># make MASTER_SITE_OVERRIDE= \</span>
ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/ fetch</code></pre></div></div><div class=paragraph><p>在这个例子中，我们把 <code>MASTER_SITES</code>这个选项改为了 <code>ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/</code>。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>一些 port 允许 (或甚至要求) 您指定编译选项来 启用/禁用 应用程序中非必需的功能， 一些安全选项， 以及其他可以订制的内容。 具有代表性的包括 <a class=package href=https://cgit.freebsd.org/ports/tree/www/mozilla/>www/mozilla</a>、 <a class=package href=https://cgit.freebsd.org/ports/tree/security/gpgme/>security/gpgme</a>、 以及 <a class=package href=https://cgit.freebsd.org/ports/tree/mail/sylpheed-claws/>mail/sylpheed-claws</a>。 如果存在这样的选项， 通常会在编译时给出提示。</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=_改变默认的_ports_目录>5.5.2.1. 改变默认的 Ports 目录<a class=anchor href=#_改变默认的_ports_目录></a></h4><div class=paragraph><p>有时， 使用不同的工作临时目录和目标目录可能很有用 (甚至是必要的)。 可以用 <code>WRKDIRPREFIX</code> 和 <code>PREFIX</code> 这两个变量来改变默认的目录。 例如：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make WRKDIRPREFIX=/usr/home/example/ports install</span></code></pre></div></div><div class=paragraph><p>将在 <span class=filename>/usr/home/example/ports</span> 中编译 port 并把所有的文件安装到 <span class=filename>/usr/local</span>。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make PREFIX=/usr/home/example/local install</span></code></pre></div></div><div class=paragraph><p>将在 <span class=filename>/usr/ports</span> 编译它并安装到 <span class=filename>/usr/home/example/local</span>。</p></div><div class=paragraph><p>当然，</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make WRKDIRPREFIX=../ports PREFIX=../local install</span></code></pre></div></div><div class=paragraph><p>将包含两种设置 (没有办法在这一页把它写完， 但您应该已经知道怎么回事了)。</p></div><div class=paragraph><p>另外， 这些变量也可以作为环境变量来设置。 请参考您的 shell 的联机手册上关于如何设置环境变量的说明。</p></div></div><div class=sect3><h4 id=_处理_imake>5.5.2.2. 处理 <code>imake</code><a class=anchor href=#_处理_imake></a></h4><div class=paragraph><p>一些 port 使用 <code>imake</code> (这是 X Window 系统的一部分) 不能正常地配合 <code>PREFIX</code>， 它们会坚持把文件安装到 <span class=filename>/usr/X11R6</span> 下面。 类似地， 一些 Perl port 会忽略 <code>PREFIX</code> 并把文件安装到 Perl 的目录中。 让这些 port 尊重 <code>PREFIX</code> 是困难甚至是不可能的事情。</p></div></div><div class=sect3><h4 id=_重新配置_ports>5.5.2.3. 重新配置 Ports<a class=anchor href=#_重新配置_ports></a></h4><div class=paragraph><p>当你在编译某些 ports 的时候，可能会弹出一个基于 ncurses 的菜单来让你来选择一些编译选项。 通常用户都希望能够在一个 port 被编译安装了以后还能再次访问这份菜单以添加删除或修改这些选项。 实际上有很多方法来做这件事情。 一个方法进入那个 port 的目录后键入 <code>make config</code>， 之后便会再次显示出菜单和已选择的项目。 另一个方法是用 <code>make showconfig</code>， 这会给你显示出所有的配置选项。还有一个方法是执行 <code>make rmconfig</code>， 这将删除所有已选择的项目。 有关这些选项更详细的内容请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=ports&amp;sektion=7&amp;format=html">ports(7)</a>。</p></div></div></div><div class=sect2><h3 id=ports-removing>5.5.3. 卸载已经安装的 Ports<a class=anchor href=#ports-removing></a></h3><div class=paragraph><p>现在您已经了解了如何安装 ports， 并希望进一步了解如何卸载， 特别是在错误地安装了某个 port 之后。我们将卸载前面例子 (假如您没有注意的话， 是 <code>lsof</code>) 中安装的 port。 Ports 可以同 packages 以完全相同的方式 (在 <a href=#packages-using>Packages 一节</a> 中进行了介绍) 卸载， 方法是使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> 命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_delete lsof-4.57</span></code></pre></div></div></div><div class=sect2><h3 id=ports-upgrading>5.5.4. 升级 Ports<a class=anchor href=#ports-upgrading></a></h3><div class=paragraph><p>首先， 使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_version&amp;sektion=1&amp;format=html">pkg_version(1)</a> 命令来列出 Ports Collection 中提供了更新版本的那些 port：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_version -v</span></code></pre></div></div><div class=sect3><h4 id=ports-file-updating>5.5.4.1. <span class=filename>/usr/ports/UPDATING</span><a class=anchor href=#ports-file-updating></a></h4><div class=paragraph><p>在您更新了 Ports 套件之后， 在升级 port 之前， 应查看 <span class=filename>/usr/ports/UPDATING</span>。 这个文件中介绍了在升级时用户应注意的问题， 以及一些可能需要进行的操作。 这可能包括更改文件格式、 配置文件位置的变动， 以及与先前版本的兼容性等等。</p></div><div class=paragraph><p>如果 <span class=filename>UPDATING</span> 与本书中介绍的内容不同， 请以 <span class=filename>UPDATING</span> 为准。</p></div></div><div class=sect3><h4 id=portupgrade>5.5.4.2. 使用 Portupgrade 来更新 Ports<a class=anchor href=#portupgrade></a></h4><div class=paragraph><p>portupgrade 工具是设计来简化升级已安装的 port 的操作的。 它通过 <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> port 来提供。 您可以像其它 port 那样， 使用 <code>make install clean</code> 命令来安装它：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/ports-mgmt/portupgrade</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>使用 <code>pkgdb -F</code> 命令来扫描已安装的 port 的列表， 并修正其所报告的不一致。 在每次升级之前， 有规律地执行它是个好主意。</p></div><div class=paragraph><p>运行 <code>portupgrade -a</code> 时， portupgrade 将开始并升级系统中所安装的所有过时的 ports。 如果您希望在每个升级操作时得到确认， 应指定 <code>-i</code> 参数。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -ai</span></code></pre></div></div><div class=paragraph><p>如果您只希望升级某个特定的应用程序， 而非全部可用的 port， 应使用 <code>portupgrade pkgname</code>。 如果 portupgrade 应首先升级指定应用程序的话， 则应指定 <code>-R</code> 参数。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -R firefox</span></code></pre></div></div><div class=paragraph><p>要使用预编译的 package 而不是 ports 来进行安装， 需要指定 <code>-P</code>。 如果指定了这个选项， portupgrade 会搜索 <code>PKG_PATH</code> 中指定的本地目录， 如果没有找到， 则从远程站点下载。 如果本地没有找到， 而且远程站点也没有成功地下载预编译包， 则 portupgrade 将使用 ports。 要禁止使用 port， 可以指定 <code>-PP</code>。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -PP gnome2</span></code></pre></div></div><div class=paragraph><p>如果只想下载 distfiles (或者， 如果指定了 <code>-P</code> 的话， 是 packages) 而不想构建或安装任何东西， 可以使用 <code>-F</code>。 要了解更多细节， 请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=portupgrade&amp;sektion=1&amp;format=html">portupgrade(1)</a>。</p></div></div><div class=sect3><h4 id=portmanager>5.5.4.3. 使用 Portmanager 来升级 Ports<a class=anchor href=#portmanager></a></h4><div class=paragraph><p>Portmanager 是另一个用以简化已安装 port 升级操作的工具。 它可以通过 <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portmanager/>ports-mgmt/portmanager</a> port 安装：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/ports-mgmt/portmanager</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>可以通过这个简单的命令来升级所有已安装的 port：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmanager -u</span></code></pre></div></div><div class=paragraph><p>如果希望 Portmanager 在进行每步操作之前都给出提示， 应使用 <code>-ui</code> 参数。 Portmanager 也可以用来在系统中安装新的 ports。 与通常的 <code>make install clean</code> 命令不同，它会在联编和安装您所选择的 port 之前升级所有依赖包。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmanager x11/gnome2</span></code></pre></div></div><div class=paragraph><p>如果关于所选 port 的依赖有任何问题， 可以用 Portmanager 来以正确的顺序重新构建它们。 完成之后， 有问题的 port 也将被重新构建。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmanager graphics/gimp -f</span></code></pre></div></div><div class=paragraph><p>要了解更多信息， 请参见 <a href="https://man.freebsd.org/cgi/man.cgi?query=portmanager&amp;sektion=1&amp;format=html">portmanager(1)</a>。</p></div></div><div class=sect3><h4 id=portmaster>5.5.4.4. 使用 Portmaster 升级 Ports<a class=anchor href=#portmaster></a></h4><div class=paragraph><p>Portmaster 是另外一个用来升级已安装的 ports 的工具。 Portmaster 被设计成尽可能使用 "基本" 系统中能找到的工具 （它不依赖于其他的 ports） 和 <span class=filename>/var/db/pkg/</span> 中的信息来检测出需要升级的 ports。你可以在 <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portmaster/>ports-mgmt/portmaster</a> 找到它：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/ports-mgmt/portmaster</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Portmaster groups ports into four categories:</p></div><div class=paragraph><p>Portmaster 把 ports 分成4类：</p></div><div class=ulist><ul><li><p>Root ports (不依赖其他的 ports，也不被依赖)</p></li><li><p>Trunk ports (不依赖其他的 ports，但是被其他的 ports 依赖)</p></li><li><p>Branch ports (依赖于其他的 ports，同时也被依赖)</p></li><li><p>Leaf ports (依赖于其他的 ports，但不被依赖)</p></li></ul></div><div class=paragraph><p>你可以使用 <code>-L</code> 选项列出所有已安装的 ports 和查找存在更新的 ports：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -L</span>
<span class=o>===&gt;&gt;&gt;</span> Root ports <span class=o>(</span>No dependencies, not depended on<span class=o>)</span>
<span class=o>===&gt;&gt;&gt;</span> ispell-3.2.06_18
<span class=o>===&gt;&gt;&gt;</span> screen-4.0.3
        <span class=o>===&gt;&gt;&gt;</span> New version available: screen-4.0.3_1
<span class=o>===&gt;&gt;&gt;</span> tcpflow-0.21_1
<span class=o>===&gt;&gt;&gt;</span> 7 root ports
...
<span class=o>===&gt;&gt;&gt;</span> Branch ports <span class=o>(</span>Have dependencies, are depended on<span class=o>)</span>
<span class=o>===&gt;&gt;&gt;</span> apache-2.2.3
        <span class=o>===&gt;&gt;&gt;</span> New version available: apache-2.2.8
...
<span class=o>===&gt;&gt;&gt;</span> Leaf ports <span class=o>(</span>Have dependencies, not depended on<span class=o>)</span>
<span class=o>===&gt;&gt;&gt;</span> automake-1.9.6_2
<span class=o>===&gt;&gt;&gt;</span> bash-3.1.17
        <span class=o>===&gt;&gt;&gt;</span> New version available: bash-3.2.33
...
<span class=o>===&gt;&gt;&gt;</span> 32 leaf ports

<span class=o>===&gt;&gt;&gt;</span> 137 total installed ports
        <span class=o>===&gt;&gt;&gt;</span> 83 have new versions available</code></pre></div></div><div class=paragraph><p>可以使用这个简单的命令升级所有已安装的 ports：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -a</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Portmaster 默认在删除一个现有的 port 前会做一个备份包。如果新的版本能够被成功安装， Portmaster 将删除备份。 使用 <code>-b</code> 后 Portmaster 便不会自动删除备份。加上 <code>-i</code> 选项之后 Portmaster 将进入互动模式， 在升级每个 port 以前提示你给予确认。</p></div></td></tr></tbody></table></div><div class=paragraph><p>如果你在升级的过程中发现了错误，你可以使用 <code>-f</code> 选项升级/重新编译所有的 ports：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -af</span></code></pre></div></div><div class=paragraph><p>同样你也可以使用 Portmaster 往系统里安装新的 ports，升级所有的依赖关系之后并安装新的 port：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster shells/bash</span></code></pre></div></div><div class=paragraph><p>更多的详细信息请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=portmaster&amp;sektion=8&amp;format=html">portmaster(8)</a></p></div></div></div><div class=sect2><h3 id=ports-disk-space>5.5.5. Ports 和磁盘空间<a class=anchor href=#ports-disk-space></a></h3><div class=paragraph><p>使用 Ports 套件会最终用完磁盘空间。 在通过 ports 联编和安装软件之后，您应记得清理临时的 <span class=filename>work</span> 目录， 其方法是使用 <code>make clean</code> 命令。 您可以使用下面的命令来清理整个 Ports 套件：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsclean -C</span></code></pre></div></div><div class=paragraph><p>随着时间的推移， 您可能会在 <span class=filename>distfiles</span> 目录中积累下大量源代码文件。 您可以手工删除这些文件， 也可以使用下面的命令来删除所有 port 都不引用的文件：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsclean -D</span></code></pre></div></div><div class=paragraph><p>除此之外， 也可以用下列命令删去目前安装的 port 没有使用的源码包文件：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsclean -DD</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>这个 <code>portsclean</code> 工具是 portupgrade 套件的一部分。</p></div></td></tr></tbody></table></div><div class=paragraph><p>不要忘记删除那些已经安装， 但已不再使用的 ports。 用于自动完成这种工作的一个好工具是 <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/pkg_cutleaves/>ports-mgmt/pkg_cutleaves</a> port。</p></div></div></div></div><div class=sect1><h2 id=ports-nextsteps>5.6. 安装之后还要做点什么？<a class=anchor href=#ports-nextsteps></a></h2><div class=sectionbody><div class=paragraph><p>通常，您通过port安装完一个软件后,可以阅读它带的一些文档(如果它包含文档的话)， 或需要编辑它的配置文件，来确保这个软件的运行， 或在机器启动的时候启动(如果它是一个服务的话)，等等。</p></div><div class=paragraph><p>对于不同的软件有着不同的配置步骤。不管怎样， 如果您装好了一个软件，但是不知道下一步怎么办的时候， 这些小技巧可能可以帮助您:</p></div><div class=ulist><ul><li><p>使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> 命令，它能找到安装了哪些文件，以及装在哪里。 举个例子，如果您安装了 FooPackage version 1.0.0, 那么这个命令</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info -L foopackage-1.0.0 | less</span></code></pre></div></div><div class=paragraph><p>将显示这个软件包安装的所有文件，您要特别注意在<span class=filename>man/</span>目录里面的文件， 它们可能是手册，<span class=filename>etc/</span>目录里面的配置文件，以及 <span class=filename>doc/</span>目录下面更多的文档。</p></div><div class=paragraph><p>如果您不确定已经安装好的软件版本，您可以使用这样的命令</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info | grep -i foopackage</span></code></pre></div></div><div class=paragraph><p>它将会找到所有已安装的软件包名字中包含<em>foopackage</em> 的软件包。 对于其他的查找， 您只需要在命令行中替换 <em>foopackage</em>。</p></div></li><li><p>一旦一些软件手册已被您确认安装，您可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=man&amp;sektion=1&amp;format=html">man(1)</a> 查看它。 同样的，如果有的话，您还可以完整的查看一遍配置文件的示例，以及任何额外的文档。</p></li><li><p>如果应用软件有网站, 您还可以从网站上找到文档，常见问题的解答，或其他更多。 如果您不知道它们的网站地址，请使用下面的命令</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info foopackage-1.0.0</span></code></pre></div></div><div class=paragraph><p>一个 <code>WWW:</code> 行, 如果它存在， 它将提供一个这个应用程序的网站URL.</p></div></li><li><p>Ports 如果需要在服务器启动时运行(就像互联网服务器)， 它通常会把一个脚本的样例放入 <span class=filename>/usr/local/etc/rc.d</span> 目录。为了保证正确性， 您可以查看这个脚本， 并编辑或更改这个脚本的名字。 详情请看<a href=../config/#configtuning-starting-services>启动服务</a>。</p></li></ul></div></div></div><div class=sect1><h2 id=ports-broken>5.7. 如何处理坏掉的 Ports<a class=anchor href=#ports-broken></a></h2><div class=sectionbody><div class=paragraph><p>如果您发现某个 port 无法正常工作， 有几件事值得尝试， 包括：</p></div><div class="olist arabic"><ol class=arabic><li><p>在 <a href=https://www.FreeBSD.org/support/#gnats>问题报告数据库</a> 中查找是否有尚未提交的修正。 如果有， 可以使用所提议的修正。</p></li><li><p>要求 port 的监护人 (maintainer) 提供帮助。 输入 <code>make maintainer</code> 或阅读 <span class=filename>Makefile</span> 查找监护人的电子邮件地址。 请记得把 port 的名字和版本写在邮件里 (<span class=filename>Makefile</span> 中的 <code>$FreeBSD:</code>这一行) 并把错误输出的头几行发给 maintainer。</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>某些 ports 并非一个人维护， 而是写了一个 <a href=https://docs.freebsd.org/en/articles/mailing-list-faq/>邮件列表</a>。 许多， 但并非所有 port， 使用类似 <a href=mailto:freebsd-listname@FreeBSD.org>freebsd-listname@FreeBSD.org</a> 这样的地址。 请在提出问题时考虑这一点。</p></div><div class=paragraph><p>特别地， 由 <a href=mailto:ports@FreeBSD.org>ports@FreeBSD.org</a> 监护的 port， 实际上并没有人维护。 订阅这个邮件列表的人们会感谢您提供的修正和支持。 我们一直都需要更多志愿者！</p></div></td></tr></tbody></table></div><div class=paragraph><p>如果您没有得到回应， 则可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> 来提交问题报告 (请参见 <a href=https://docs.freebsd.org/en/articles/problem-reports/>如何撰写 FreeBSD 问题报告</a>)。</p></div></li><li><p>修正它！ <a href=https://docs.freebsd.org/zh-cn/books/porters-handbook/>Porter 手册</a> 中提供了关于 "Ports" 基础设施的详细信息， 通过了解这些内容， 您就能修正偶然坏掉的 port， 或甚至提交自己的 port 了！</p></li><li><p>从较近的 FTP 站点下载一个编译好的安装包。 "中央的" package collection 在 <code>ftp.FreeBSD.org</code> 的 <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/>packages 目录中</a>， 但 <em>在此之前</em> 请 <em>事先</em> 检查一下是否存在较近的 <a href=../mirrors/#mirrors-ftp>镜像网站</a>！ 通常情况下这些安装包都可以直接使用， 而且应该比自行编译快一些。 安装过程本身可以通过 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 来完成。</p></li></ol></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: March 9, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11 class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#ports-synopsis>5.1. 概述</a></li><li><a href=#ports-overview>5.2. 软件安装预览</a></li><li><a href=#ports-finding-applications>5.3. 寻找您要的应用程序</a></li><li><a href=#packages-using>5.4. 使用 Package 系统</a></li><li><a href=#ports-using>5.5. 使用Ports Collection</a></li><li><a href=#ports-nextsteps>5.6. 安装之后还要做点什么？</a></li><li><a href=#ports-broken>5.7. 如何处理坏掉的 Ports</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/zh-cn/books/handbook/handbook_zh-cn.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/zh-cn/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/zh-cn/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>简体中文</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/zh-cn class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>