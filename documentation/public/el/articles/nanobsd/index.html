<!doctype html><html class=theme-light lang=el><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/el/articles/nanobsd/><title>Εισαγωγή στο NanoBSD | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Εισαγωγή στο NanoBSD"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="el"><meta property="og:url" content="http://172.16.201.134:1313/el/articles/nanobsd/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/el\/articles\/nanobsd\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/el>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/el/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/el/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/el/books>Books</a></li><li><a href=http://172.16.201.134:1313/el/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/el/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=el>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><main class=main-wrapper-article><div class=article><h1 class=title>Εισαγωγή στο NanoBSD</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=copyright>Copyright © 2006, 2009 Η Ομάδα Τεκμηρίωσης του FreeBSD</div><div class=legalnotice><a id=trademarks></a><details><summary>Εμπορικά σύμβολα</summary><p>Το FreeBSD είναι ένα κατοχυρωμένο εμπορικό σύμβολο του FreeBSD Foundation.</p><p>Πολλές από τις λέξεις ή φράσεις οι οποίες χρησιμοποιούνται από τους κατασκευαστές ή τους πωλητές τους για να διακρίνουν τα προϊόντα τους θεωρούνται εμπορικά σύμβολα. Όπου αυτές εμφανίζονται σε αυτό το κείμενο και για όσες από αυτές γνωρίζει η Ομάδα Ανάπτυξης του FreeBSD ότι είναι πιθανόν να είναι εμπορικά σύμβολα, θα δείτε ένα από τα σύμβολα: “™” ή “®”.</p></details></div><div class=toc-mobile><h3>Πίνακας περιεχομένων</h3><nav id=TableOfContents><ul><li><a href=#intro>1. Εισαγωγή στο NanoBSD</a></li><li><a href=#howto>2. Ρύθμιση του NanoBSD</a></li></ul></nav></div><div id=preamble><div class=sectionbody><div class="paragraph abstract-title"><p>Περίληψη</p></div><div class=paragraph><p>Το έγγραφο αυτό παρέχει πληροφορίες για τα εργαλεία του NanoBSD, τα οποία μπορούν να χρησιμοποιηθούν προκειμένου να δημιουργηθούν είδωλα του συστήματος FreeBSD για embedded εφαρμογές, κατάλληλες για χρήση από κάρτα Compact Flash (ή άλλο μέσο αποθήκευσης).</p></div><hr></div></div><div class=sect1><h2 id=intro>1. Εισαγωγή στο NanoBSD<a class=anchor href=#intro></a></h2><div class=sectionbody><div class=paragraph><p>Το NanoBSD είναι ένα εργαλείο το οποίο αναπτύσσεται ενεργά από τον Poul-Henning Kamp. Δημιουργεί ένα εικονικό είδωλο του συστήματος FreeBSD για embedded εφαρμογές, ιδανικό για κάρτες Compact Flash (ή άλλο μέσο αποθήκευσης).</p></div><div class=paragraph><p>Μπορεί να χρησιμοποιηθεί για να φτιαχτούν εξειδικευμένες εικόνες, σχεδιασμένες για εύκολη εγκατάσταση και συντήρηση συστημάτων τύπου "computer appliance". Τα συστήματα τέτοιου είδους έχουν το υλικό και λογισμικό τους ενοποιημένα μέσα στο προϊόν. Αυτό σημαίνει πως συχνά είναι προεγκατεστημένα όλα τα απαραίτητα προγράμματα. Η συσκευή συνδέεται σε ένα υπάρχον δίκτυο και μπορεί να λειτουργήσει (σχεδόν) αμέσως.</p></div><div class=paragraph><p>Τα βασικά χαρακτηριστικά του NanoBSD είναι:</p></div><div class=ulist><ul><li><p>Τα ports και τα πακέτα λειτουργούν όπως στο FreeBSD - οποιοδήποτε πρόγραμμα μπορεί να εγκατασταθεί και να χρησιμοποιηθεί στο FreeBSD μπορεί να ενσωματωθεί και σε ένα είδωλο NanoBSD και να λειτουργήσει με τον ίδιο τρόπο.</p></li><li><p>Δε υστερεί σε λειτουργικότητα - Αν είναι εφικτό να γίνει κάτι με το FreeBSD, τότε είναι εφικτό να γίνει το ίδιο πράμα και με το NanoBSD, εκτός αν το συγκεκριμένο χαρακτηριστικό έχει σκόπιμα αφαιρεθεί από το είδωλο του NanoBSD.</p></li><li><p>Το NanoBSD τρέχει με το σύστημα σε κατάσταση προστασίας από εγγραφή. Μπορείτε ακόμα και να το αποσυνδέσετε από το ρεύμα την ώρα που λειτουργεί. Δεν είναι αναγκαίο να εκτελεστεί το <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> μετά από μια άγαρμπη διακοπή λειτουργίας του συστήματος.</p></li><li><p>Είναι εύκολο να δημιουργηθεί και να προσαρμοστεί ένα είδωλο NanoBSD. Με τη χρήση ενός μόνο σεναρίου φλοιού και ενός αρχείου διαμόρφωσης είναι εφικτή η δόμηση προσαρμοσμένων ειδώλων που ικανοποιούν οποιαδήποτε ανάγκη.</p></li></ul></div></div></div><div class=sect1><h2 id=howto>2. Ρύθμιση του NanoBSD<a class=anchor href=#howto></a></h2><div class=sectionbody><div class=sect2><h3 id=design>2.1. Η Σχεδίαση του NanoBSD<a class=anchor href=#design></a></h3><div class=paragraph><p>Αφού γραφτεί ένα είδωλο του NanoBSD σε κάποιο αποθηκευτικό μέσο, μπορεί να χρησιμοποιηθεί για να ξεκινήσει ένα σύστημα FreeBSD. Η προκαθορισμένη διαμόρφωση του μέσου εκκίνησης αποτελείται από τρία μέρη:</p></div><div class=ulist><ul><li><p>Δύο διαμερίσματα εκκίνησης: <code>code#1</code> και <code>code#2</code>.</p></li><li><p>Το διαμέρισμα ρυθμίσεων, Αυτό μπορεί να προσαρτηθεί στον κατάλογο <span class=filename>/cfg</span> την ώρα λειτουργίας του NanoBSD.</p></li></ul></div><div class=paragraph><p>Αυτά τα τρία διαμερίσματα κανονικά είναι προσαρτημένα μόνο για ανάγνωση.</p></div><div class=paragraph><p>Οι κατάλογοι <span class=filename>/etc</span> και <span class=filename>/var</span> είναι εικονικοί δίσκοι <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a> (malloc).</p></div><div class=paragraph><p>Το διαμέρισμα ρυθμίσεων μπορεί να προσαρτηθεί στον κατάλογο <span class=filename>/cfg</span>. Περιέχει αρχεία τα οποία αντιγράφονται στον κατάλογο <span class=filename>/etc</span>. Κατά την εκκίνηση του συστήματος το διαμέρισμα ρυθμίσεων προσαρτάται προσωρινά μόνο για ανάγνωση και αντιγράφονται τα αρχεία του στον κατάλογο <span class=filename>/etc</span>. Οπότε για να είναι κάποια αλλαγή ρυθμίσεων πιο "μόνιμη" και να ισχύει ακόμα και μετά από επανεκκίνηση του συστήματος, πρέπει να αντιγράφεται από τον κατάλογο <span class=filename>/etc</span> στο διαμέρισμα ρυθμίσεων, αφού αυτό προσαρτηθεί για γράψιμο στον κατάλογο <span class=filename>/cfg</span>.</p></div><div class=exampleblock><div class=title>Παράδειγμα 1. Κάνοντας μόνιμες αλλαγές στο <span class=filename>/etc/resolv.conf</span></div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># vi /etc/resolv.conf</span>
<span class=o>[</span>...]
<span class=c># mount /cfg</span>
<span class=c># cp /etc/resolv.conf /cfg</span>
<span class=c># umount /cfg</span></code></pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Το διαμέρισμα το οποίο περιέχει τον κατάλογο <span class=filename>/cfg</span> πρέπει να προσαρτάται μόνο κατά την εκκίνηση και όταν έχουν προτεραιότητα τα αρχεία ρυθμίσεων του <span class=filename>/cfg</span>.</p></div><div class=paragraph><p>Δεν είναι καλή ιδέα να μένει μόνιμα προσαρτημένο το διαμέρισμα <span class=filename>/cfg</span>. Αν ένα διαμέρισμα είναι προσαρτημένο για γράψιμο και το αποθηκευτικό μέσο του NanoBSD επιτρέπει περιορισμένο αριθμό κύκλων εγγραφής (όπως π.χ. μερικές κάρτες CF), μπορεί να επηρεαστεί αρνητικά το αποθηκευτιμό μέσο επειδή ο πυρήνας γράφει κάθε λίγο στους δίσκους του συστήματος (syncer).</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_δημιουργία_ενός_προσαρμοσμένου_συστήματος_nanobsd>2.2. Δημιουργία Ενός Προσαρμοσμένου Συστήματος NanoBSD<a class=anchor href=#_δημιουργία_ενός_προσαρμοσμένου_συστήματος_nanobsd></a></h3><div class=paragraph><p>Το είδωλο του NanoBSD δημιουργείται από ένα απλό σενάριο κονσόλας, το <span class=filename>nanobsd.sh</span>, το οποίο μπορεί να βρεθεί στον κατάλογο <span class=filename>/usr/src/tools/nanobsd</span>. Αυτό το σενάριο δημιουργεί ένα είδωλο δίσκου, το οποίο μπορεί να αντιγραφεί απευθείας σε κάποιο αποθηκευτικό μεσο χρησιμοποιώντας το πρόγραμμα <a href="https://man.freebsd.org/cgi/man.cgi?query=dd&amp;sektion=1&amp;format=html">dd(1)</a>.</p></div><div class=paragraph><p>Οι απαραίτητες εντολές προκειμένου να δημιουργηθεί ένα είδωλο του NanoBSD είναι οι εξής:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/tools/tools/nanobsd </span><i class=conum data-value=1></i><b>(1)</b>
<span class=c># sh nanobsd.sh </span><i class=conum data-value=2></i><b>(2)</b>
<span class=c># cd /usr/obj/nanobsd.full </span><i class=conum data-value=3></i><b>(3)</b>
<span class=c># dd if=_.disk.full of=/dev/da0 bs=64k </span><i class=conum data-value=4></i><b>(4)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Αλλαγή από τον τρέχοντα κατάλογο στον βασικό κατάλογο του σεναρίου δημιουργίας του NanoBSD.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Εκκίνηση της δημιουργίας του ειδώλου.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Αλλαγή από τον τρέχοντα κατάλογο στον κατάλογο που περιέχει το είδωλο του NanoBSD.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Αντιγραφή του NanoBSD σε ένα μέσο αποθήκευσης.</td></tr></tbody></table></div></div><div class=sect2><h3 id=_προσαρμόζοντας_το_είδωλο_του_nanobsd>2.3. Προσαρμόζοντας το είδωλο του NanoBSD<a class=anchor href=#_προσαρμόζοντας_το_είδωλο_του_nanobsd></a></h3><div class=paragraph><p>Αυτό είναι πιθανότατα το πιο σημαντικό και πιο ενδιαφέρον χαρακτηριστικό του NanoBSD. Αυτό είναι και το μέρος της διαδικασίας ανάπτυξης του ειδώλου NanoBSD για το οποίο θα ξοδέψετε ένα μεγάλο ποσοστό του χρόνου προετοιμασίας του ειδώλου.</p></div><div class=paragraph><p>Η ακόλουθη εντολή θα κάνει το <span class=filename>nanobsd.sh</span> να διαβάσει τις ρυθμίσεις του από το αρχείο <span class=filename>myconf.nano</span> που βρίσκεται στο τρέχοντα κατάλογο:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sh nanobsd.sh -c myconf.nano</span></code></pre></div></div><div class=paragraph><p>Η προσαρμογή και παραμετροποίηση του NanoBSD γίνεται συνήθως με δύο τρόπους:</p></div><div class=ulist><ul><li><p>Επιλογές διαμόρφωσης</p></li><li><p>Προσαρμοσμένες συναρτήσεις</p></li></ul></div><div class=sect3><h4 id=_επιλογές_διαμόρφωσης>2.3.1. Επιλογές διαμόρφωσης<a class=anchor href=#_επιλογές_διαμόρφωσης></a></h4><div class=paragraph><p>Οι ρυθμίσεις του NanoBSD μπορούν να χρησιμοποιηθούν για να οριστούν προσαρμοσμένες επιλογές μεταγλώττισης και εγκατάστασης του FreeBSD. Αυτές οι επιλογές επηρεάζουν τα στάδια <code>buildworld</code> και <code>installworld</code> του NanoBSD, καθώς και άλλες επιλογές της δημιουργίας του τελικού ειδώλου. Με τις κατάλληλες ρυθμίσεις το NanoBSD μπορεί να μικρύνει αρκετά σε μέγεθος· μπορεί να χωρέσει ένα πολύ μικρό υποσύνολο του βασικού FreeBSD σε χώρο μικρότερο από 64MB. Μπορείτε επίσης να χρησιμοποιήσετε τις επιλογές του NanoBSD για να δημιουργήσετε ένα είδωλο που έχει μόνο τον πυρήνα και δυο-τρία αρχεία στο βασικό σύστημα.</p></div><div class=paragraph><p>Το αρχείο ρυθμίσεων του NanoBSD περιέχει εντολές οι οποίες ορίζουν νέες τιμές για κάποια προκαθορισμένη μεταβλητή ή επεκτείνουν τις υπάρχουσες ρυθμίσεις. Οι πιο σημαντικές μεταβλητές είναι οι εξής:</p></div><div class=ulist><ul><li><p><code>NANO_NAME</code> - Το όνομα του ειδώλου NanoBSD που θα δημιουργηθεί (χρησιμοποιείται για να φτιάξει τα ονόματα των κατάλογων εργασίας).</p></li><li><p><code>NANO_SRC</code> - Η διαδρομή του δέντρου πηγαίου κώδικα το οποίο θα χρησιμοποιηθεί για να μετγλωττιστεί το είδωλο.</p></li><li><p><code>NANO_KERNEL</code> - Το όνομα του αρχείου ρυθμίσεων πυρήνα το οποίο θα χρησιμοποιηθεί για να χτιστεί ο πυρήνας του ειδώλου.</p></li><li><p><code>CONF_BUILD</code> - Επιλογές που περνούν στο στάδιο <code>buildworld</code> της μεταγλώττισης του FreeBSD.</p></li><li><p><code>CONF_INSTALL</code> - Επιλογές που περνούν στο στάδιο <code>installworld</code> της προετοιμασίας του ειδώλου.</p></li><li><p><code>CONF_WORLD</code> - Επιλογές που περνούν και στα δύο στάδια της προετοιμασίας του ειδώλου, και στο <code>buildworld</code> και στο <code>installworld</code>.</p></li><li><p><code>FlashDevice</code> - Ορίζει τον τύπο του μέσου αποθήκευσης που θα χρησιμοποιηθεί. Για περισσότερες λεπτομέρειες δείτε το αρχείο <span class=filename>FlashDevise.sub</span>.</p></li></ul></div></div><div class=sect3><h4 id=_προσαρμοσμένες_συναρτήσεις>2.3.2. Προσαρμοσμένες Συναρτήσεις<a class=anchor href=#_προσαρμοσμένες_συναρτήσεις></a></h4><div class=paragraph><p>Στο αρχείο ρύθμισης του NanoBSD μπορεί να ρυθμιστεί σχεδόν κάθε λεπτομέρεια της προετοιμασίας του ειδώλου και του τελικού ειδώλου το οποίο θα δημιουργηθεί. Χρησιμοποιώντας μικρές συναρτήσεις φλοιού, μπορούμε να ρυθμίσουμε τα πάντα. Για παράδειγμα, μπορούμε να τρέξουμε δικές μας εντολές οι οποίες παραμετροποιούν το τελικό είδωλο ως εξής:</p></div><div class="literalblock programlisting"><div class=content><pre>cust_foo () (
	echo &#34;bar=topless&#34; &gt; \
		${NANO_WORLDDIR}/etc/foo
)
customize_cmd cust_foo</pre></div></div><div class=paragraph><p>Ένα πιο χρήσιμο παράδειγμα συνάρτησης φλοιού, η οποία ρυθμίζει κάποια παράμετρο του τελικού ειδώλου, είναι αυτό που ακολουθεί. Η συνάρτηση <code>cust_etc_size</code> αλλάζει την προεπιλεγμένη τιμή μεγέθους του καταλόγου <span class=filename>/etc</span> από 5MB σε 30MB:</p></div><div class="literalblock programlisting"><div class=content><pre>cust_etc_size () (
	cd ${NANO_WORLDDIR}/conf
	echo 30000 &gt; default/etc/md_size
)
customize_cmd cust_etc_size</pre></div></div><div class=paragraph><p>Το σενάριο φλοιού που δημιουργεί το NanoBSD έχει μερικές έτοιμες συναρτήσεις φλοιού οι οποίες εκτελούν τέτοιες επιπλέον ρυθμίσεις:</p></div><div class=ulist><ul><li><p><code>cust_comconsole</code> - Απενεργοποιεί το <a href="https://man.freebsd.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;format=html">getty(8)</a> στις κονσόλες VGA (οι συσκευές <span class=filename>/dev/ttyv*</span>) και ενεργοποιεί την χρήση της σειριακής θύρας COM1 ως κονσόλα συστήματος.</p></li><li><p><code>cust_allow_ssh_root</code> - Επιτρέπει την είσοδο του χρήστη <code>root</code> μέσω του <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a>.</p></li><li><p><code>cust_install_files</code> - Εγκαθιστά αρχεία από τον κατάλογο <span class=filename>nanobsd/Files</span>. Σε αυτό τον κατάλογο βρίσκονται μερικά χρήσιμα σενάρια φλοιού για τη διαχείριση ενός συστήματος NanoBSD.</p></li></ul></div></div><div class=sect3><h4 id=_προσθέτοντας_πακέτα>2.3.3. Προσθέτοντας Πακέτα<a class=anchor href=#_προσθέτοντας_πακέτα></a></h4><div class=paragraph><p>Σε ένα είδωλο NanoBSD μπορούν να προστεθούν και έτοιμα πακέτα, που έχουν φτιαχτεί από πριν χρησιμοποιώντας τη Συλλογή των Ports. Μια συνάρτηση φλοιού μπορεί να εγκαταστήσει έξτρα πακέτα την ώρα που προετοιμάζεται το είδωλο. Για παράδειγμα, η παρακάτω συνάρτηση θα εγκαταστήσει στο είδωλο όλα τα πακέτα που βρίσκονται στον κατάλογο <span class=filename>/usr/src/tools/tools/nanobsd/packages</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>install_packages () (
mkdir -p ${NANO_WORLDDIR}/packages
cp /usr/src/tools/tools/nanobsd/packages/* ${NANO_WORLDDIR}/packages
chroot ${NANO_WORLDDIR} sh -c &#39;cd packages; pkg_add -v *;cd ..;&#39;
rm -rf ${NANO_WORLDDIR}/packages
)

customize_cmd install_packages</pre></div></div></div><div class=sect3><h4 id=_παράδειγμα_αρχείου_ρυθμίσεων_του_nanobsd>2.3.4. Παράδειγμα Αρχείου Ρυθμίσεων του NanoBSD<a class=anchor href=#_παράδειγμα_αρχείου_ρυθμίσεων_του_nanobsd></a></h4><div class=paragraph><p>Ένα πλήρες παράδειγμα αρχείου ρυθμίσεων για το NanoBSD, με διάφορες ρυθμίσεις για τη μεταγλώττιση του FreeBSD και την προετοιμασία του τελικού ειδώλου, μπορεί να μοιάζει κάπως έτσι:</p></div><div class="literalblock programlisting"><div class=content><pre>NANO_NAME=custom
NANO_SRC=/usr/src
NANO_KERNEL=MYKERNEL
NANO_IMAGES=2

CONF_BUILD=&#39;
NO_KLDLOAD=YES
NO_NETGRAPH=YES
NO_PAM=YES
&#39;

CONF_INSTALL=&#39;
NO_ACPI=YES
NO_BLUETOOTH=YES
NO_CVS=YES
NO_FORTRAN=YES
NO_HTML=YES
NO_LPR=YES
NO_MAN=YES
NO_SENDMAIL=YES
NO_SHAREDOCS=YES
NO_EXAMPLES=YES
NO_INSTALLLIB=YES
NO_CALENDAR=YES
NO_MISC=YES
NO_SHARE=YES
&#39;

CONF_WORLD=&#39;
NO_BIND=YES
NO_MODULES=YES
NO_KERBEROS=YES
NO_GAMES=YES
NO_RESCUE=YES
NO_LOCALES=YES
NO_SYSCONS=YES
NO_INFO=YES
&#39;

FlashDevice SanDisk 1G

cust_nobeastie() (
	touch ${NANO_WORLDDIR}/boot/loader.conf
	echo &#34;beastie_disable=\&#34;YES\&#34;&#34; &gt;&gt; ${NANO_WORLDDIR}/boot/loader.conf
)

customize_cmd cust_comconsole
customize_cmd cust_install_files
customize_cmd cust_allow_ssh_root
customize_cmd cust_nobeastie</pre></div></div></div></div><div class=sect2><h3 id=_ενημερώνοντας_το_nanobsd>2.4. Ενημερώνοντας το NanoBSD<a class=anchor href=#_ενημερώνοντας_το_nanobsd></a></h3><div class=paragraph><p>Η διαδικασία ενημέρωσης του NanoBSD είναι σχετικά απλή:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Δημιουργία ενός νέου ειδώλου NanoBSD, με το συνηθισμένο τρόπο.</p></li><li><p>Ανέβασμα του νέου ειδώλου σε μια αχρησιμοποίητη κατάτμηση μιας συσκευής που τρέχει NanoBSD.</p><div class=paragraph><p>Η πιο σημαντική διαφορά αυτού του σημείου από την αρχική εγκατάσταση του NanoBSD είναι ότι τώρα αντί του αρχείου <span class=filename>_.disk.full</span> (το οποίο περιέχει το είδωλο ενός ολόκληρου δίσκου), εγκαταστάθηκε το αρχείο <span class=filename>_.disk.image</span> (το οποίο περιέχει το είδωλο μιας μόνο κατάτμησης του δίσκου).</p></div></li><li><p>Κλείσιμο και επανεκκίνηση του συστήματος από την νέα εγκατεστημένη κατάτμηση.</p></li><li><p>Αν όλα πάνε καλά, η αναβάθμιση τελείωσε.</p></li><li><p>Αν οτιδήποτε πάει στραβά, επανεκκινήστε τη συσκευή από την προηγούμενη κατάτμηση (η οποία περιέχει το παλιό είδωλο, που λειτουργεί σωστά). Έτσι μπορείτε να επαναφέρετε άμεσα το σύστημα σε λειτουργική κατάσταση. Διορθώστε οποιαδήποτε προβλήματα έχει το νέο είδωλο, και επαναλάβετε την διαδικασία.</p></li></ol></div></div></div><div class=paragraph><p>Για να εγκατασταθεί το νέο είδωλο σε ένα σύστημα NanoBSD, το οποίο ήδη βρίσκεται σε λειτουργία, μπορεί να χρησιμοποιηθεί είτε το σενάριο <span class=filename>updatep1</span> είτε το <span class=filename>updatep2</span>. Αυτά τα δύο σενάρια φλοιού βρίσκονται στον κατάλογο <span class=filename>/root</span>.</p></div><div class=paragraph><p>Ανάλογα με τις υπηρεσίες του συστήματος στο οποίο δημιουργείται ένα είδωλο NanoBSD, μπορεί να μεταφερθεί ένα νέο είδωλο στο τελικό σύστημα με διάφορους τρόπους:</p></div><div class=sect3><h4 id=_χρησιμοποιώντας_το_ftp1>2.4.1. Χρησιμοποιώντας το <a href="https://man.freebsd.org/cgi/man.cgi?query=ftp&amp;sektion=1&amp;format=html">ftp(1)</a><a class=anchor href=#_χρησιμοποιώντας_το_ftp1></a></h4><div class=paragraph><p>Αν σας ενδιαφέρει η καλή ταχύτητα μεταφοράς, χρησιμοποιήστε το FTP για τη μεταφορά του ειδώλου:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ftp myhost</span>
get _.disk.image <span class=s2>&#34;| sh updatep1&#34;</span></code></pre></div></div></div><div class=sect3><h4 id=_χρησιμοποιώντας_το_ssh1>2.4.2. Χρησιμοποιώντας το <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a><a class=anchor href=#_χρησιμοποιώντας_το_ssh1></a></h4><div class=paragraph><p>Αν σας ενδιαφέρει η μεταφορά του ειδώλου να γίνει με ασφαλή τρόπο και δεν έχετε αφαιρέσει από το αρχικό είδωλο το <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>, προτιμήστε τη μεταφορά μέσω SSH:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ssh myhost cat _.disk.image.gz | zcat | sh updatep1</span></code></pre></div></div></div><div class=sect3><h4 id=_χρησιμοποιώντας_το_nc1>2.4.3. Χρησιμοποιώντας το <a href="https://man.freebsd.org/cgi/man.cgi?query=nc&amp;sektion=1&amp;format=html">nc(1)</a><a class=anchor href=#_χρησιμοποιώντας_το_nc1></a></h4><div class=paragraph><p>Αν το σύστημα στο οποίο έχει δημιουργηθεί το νέο είδωλο του NanoBSD δεν τρέχει ούτε <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpd&amp;sektion=8&amp;format=html">ftpd(8)</a> ούτε <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a>, μπορείτε να χρησιμοποιήσετε άλλα εργαλεία για τη μεταφορά, όπως το <a href="https://man.freebsd.org/cgi/man.cgi?query=nc&amp;sektion=1&amp;format=html">nc(1)</a>:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Πρώτα ανοίξτε ένα εξυπηρετητή <code>TCP</code> στο σύστημα το οποίο θα παρέχει το νέο είδωλο, και ορίστε το νέο είδωλο ως είσοδο για τη μεταφορά που θα γίνει αργότερα:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>myhost# nc <span class=nt>-l</span> 2222 &lt; _.disk.image</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Πριν από αυτό βεβαιωθείτε ότι η θύρα που χρησιμοποιείτε για τον εξυπηρετητή μπορεί να δεχθεί εισερχόμενες συνδέσεις από το σύστημα NanoBSD προς το σύστημα του εξυπηρετητή, και δεν εμποδίζεται, για παράδειγμα, από κάποιο τείχος προστασίας ("firewall").</p></div></td></tr></tbody></table></div></li><li><p>Συνδεθείτε από το NanoBSD στον εξυπηρετητή, ο οποίος είναι ήδη έτοιμος να παρέχει το νέο είδωλο, και τροφοδοτείστε το σενάριο φλοιού <span class=filename>updatep1</span> με την έξοδο του εργαλείου <a href="https://man.freebsd.org/cgi/man.cgi?query=nc&amp;sektion=1&amp;format=html">nc(1)</a>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># nc myhost 2222 | sh updatep1</span></code></pre></div></div></li></ol></div></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Τελευταία τροποποίηση</strong>: 3 Νοεμβρίου 2021 από <a href="https://cgit.freebsd.org/doc/commit/?id=64acd169b8" target=_blank>Sergio Carlavilla Delgado</a></p></div></div><aside class=toc><div class=toc-content><h3>Πίνακας περιεχομένων</h3><nav id=TableOfContents><ul><li><a href=#intro>1. Εισαγωγή στο NanoBSD</a></li><li><a href=#howto>2. Ρύθμιση του NanoBSD</a></li></ul></nav><hr><div class=resources><h3>Πηγές</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Λήψη PDF"></i><a href=https://download.freebsd.org/doc/el/articles/nanobsd/nanobsd_el.pdf>Λήψη PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Τροποποίηση αυτής της σελίδας"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/el/_index target=_blank>Τροποποίηση αυτής της σελίδας</a></li></ul></div></div></aside></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/el/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Επιλογή γλώσσας">
<span>Greek</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>Σύστημα</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Υψηλή αντίθεση</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/el class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/el/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>