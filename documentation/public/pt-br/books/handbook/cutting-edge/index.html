<!doctype html><html class=theme-light lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/><title>Capítulo 23. Atualização e Upgrade do FreeBSD | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Capítulo 23. Atualização e Upgrade do FreeBSD"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="pt-br"><meta property="og:url" content="https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/pt-br\/books\/handbook\/cutting-edge\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/pt-br>Documentation portal</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/pt-br/books>Books</a></li><li><a href=https://docs.freebsd.org/pt-br/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/pt-br/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=pt-br>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Pesquisar aria-label=Pesquisar maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/>Prefácio</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/#preface-audience>Audiência Pretendida</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/#preface-changes-from3>Mudanças desde a Terceira Edição</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/#preface-changes-from2>Mudanças desde a Segunda Edição (2004)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/#preface-changes>Mudanças desde a Primeira Edição (2001)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/#preface-overview>Organização deste Livro</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/#preface-conv>Convenções utilizadas neste livro</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/preface/#preface-acknowledgements>Agradecimentos</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/parti/>Parte I. Primeiros Passos</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/introduction/>Capítulo 1. Introdução</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/introduction/#introduction-synopsis>1.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/introduction/#nutshell>1.2. Bem vindo ao FreeBSD!</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/introduction/#history>1.3. Sobre o Projeto FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/>Capítulo 2. Instalando o FreeBSD</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-synopsis>2.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-hardware>2.2. Requisitos mínimos de hardware</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-pre>2.3. Tarefas de Pré-instalação</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-start>2.4. Iniciando a instalação</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#using-bsdinstall>2.5. Usando o bsdinstall</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-partitioning>2.6. Alocando o espaço em disco</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-fetching-distribution>2.7. Fazendo o download dos arquivos de distribuição</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-post>2.8. Contas, Time Zone, Serviços e Hardening</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-network>2.9. Interfaces de Rede</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#bsdinstall-install-trouble>2.10. Solução de problemas</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bsdinstall/#using-live-cd>2.11. Usando o Live CD</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/>Capítulo 3. Fundamentos do FreeBSD</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#basics-synopsis>3.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#consoles>3.2. Consoles e Terminais Virtuais</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#users-synopsis>3.3. Usuários e Gerenciamento Básico de Contas</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#permissions>3.4. Permissões</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#dirstructure>3.5. Estrutura de Diretórios</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#disk-organization>3.6. Organização dos Discos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#mount-unmount>3.7. Montando e Desmontando Sistemas de Arquivos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#basics-processes>3.8. Processos e Daemons</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#shells>3.9. Shells</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#editors>3.10. Editores de Texto</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#basics-devices>3.11. Dispositivos e nós de dispositivos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/basics/#basics-more-information>3.12. Páginas de Manual</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/>Capítulo 4. Instalando Aplicativos: Pacotes e Ports</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#ports-synopsis>4.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#ports-overview>4.2. Visão geral sobre a Instalação de Software</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#ports-finding-applications>4.3. Encontrando Software</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#pkgng-intro>4.4. Usando o pkg para o gerenciamento de pacotes binários</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#ports-using>4.5. Usando a Coleção de Ports</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#ports-poudriere>4.6. Compilando Pacotes com o Poudriere</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#ports-nextsteps>4.7. Considerações pós-instalação</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ports/#ports-broken>4.8. Lidando com ports quebrados</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/>Capítulo 5. O sistema X Window</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x11-synopsis>5.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x-understanding>5.2. Terminologia</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x-install>5.3. Instalando o Xorg</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x-config>5.4. Configuração do Xorg</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x-fonts>5.5. Usando fontes no Xorg</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x-xdm>5.6. O Gerenciador de Display X</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x11-wm>5.7. Ambientes de desktop</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x-compiz-fusion>5.8. Instalando o Compiz Fusion</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/x11/#x11-troubleshooting>5.9. Solução de problemas</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/partii/>Parte II. Tarefas comuns</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/desktop/>Capítulo 6. Aplicações de Desktop</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/desktop/#desktop-synopsis>6.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/desktop/#desktop-browsers>6.2. Navegadores</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/desktop/#desktop-productivity>6.3. Produtividade</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/desktop/#desktop-viewers>6.4. Visualizadores de Documentos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/desktop/#desktop-finance>6.5. Finanças</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/>Capítulo 7. Multimídia</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/#multimedia-synopsis>7.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/#sound-setup>7.2. Configurando a Placa de Som</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/#sound-mp3>7.3. Áudio MP3</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/#video-playback>7.4. Reprodução de Vídeo</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/#tvcard>7.5. Placas de TV</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/#mythtv>7.6. MythTV</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/multimedia/#scanners>7.7. Scanners de Imagem</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/kernelconfig/>Capítulo 8. Configurando o kernel do FreeBSD</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. Por que compilar um kernel personalizado?</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/kernelconfig/#kernelconfig-devices>8.3. Encontrando o hardware do sistema</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/kernelconfig/#kernelconfig-config>8.4. O Arquivo de Configuração</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/kernelconfig/#kernelconfig-building>8.5. Criando e Instalando um Kernel Customizado</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/kernelconfig/#kernelconfig-trouble>8.6. Se algo der errado</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/printing/>Capítulo 9. Impressão</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/printing/#printing-quick-start>9.1. Inicio Rápido</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/printing/#printing-connections>9.2. Conexões de Impressora</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/printing/#printing-pdls>9.3. Linguagens de Descrição de Página Comuns</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/printing/#printing-direct>9.4. Impressão Direta</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/printing/#printing-lpd>9.5. LPD (Daemon de impressora de linha)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/printing/#printing-other>9.6. Outros sistemas de impressão</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/linuxemu/>Capítulo 10. Compatibilidade binária com o Linux®</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Configurando a compatibilidade binária com o Linux™</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/linuxemu/#linuxemu-advanced>10.3. Tópicos Avançados</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/partiii/>Parte III. Administração do Sistema</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/config/>Capítulo 11. Configuração e Ajuste</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#config-synopsis>11.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-starting-services>11.2. Inicialização de Serviços</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-cron>11.3. Configurando o cron(8)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-rcd>11.4. Gerenciando Serviços no FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#config-network-setup>11.5. Configurando Placas de Interface de Rede</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-virtual-hosts>11.6. Hosts Virtuais</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-syslog>11.7. Configurando o log do sistema</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-configfiles>11.8. Arquivos de Configuração</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-sysctl>11.9. Efetuando ajustes com o sysctl(8)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-disk>11.10. Otimização de Discos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#configtuning-kernel-limits>11.11. Ajustando os Limites do Kernel</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#adding-swap-space>11.12. Adicionando Espaço de Swap</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/config/#acpi-overview>11.13. Gerenciamento de energia e recursos</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/boot/>Capítulo 12. O processo de inicialização do FreeBSD</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/boot/#boot-synopsis>12.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/boot/#boot-introduction>12.2. Processo de Inicialização do FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/boot/#boot-splash>12.3. Configurando telas iniciais de inicialização</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/boot/#device-hints>12.4. Sugestões de dispositivos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/boot/#boot-shutdown>12.5. Sequência de Desligamento</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/security/>Capítulo 13. Segurança</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#security-synopsis>13.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#security-intro>13.2. Introdução</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#one-time-passwords>13.3. Senhas de Uso Unico</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#tcpwrappers>13.4. TCP Wrapper</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#kerberos5>13.5. Kerberos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#openssl>13.6. OpenSSL</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#ipsec>13.7. VPN Sobre IPsec</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#openssh>13.8. OpenSSH</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#fs-acl>13.9. Listas de Controle de Acesso</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#security-pkg>13.10. Monitorando Problemas de Segurança de Terceiros</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#security-advisories>13.11. Avisos de Segurança do FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#security-accounting>13.12. Auditoria de Processo</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#security-resourcelimits>13.13. Limites de Recursos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/security/#security-sudo>13.14. Administração Compartilhada com Sudo</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/jails/>Capítulo 14. Jails</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/jails/#jails-synopsis>14.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/jails/#jails-terms>14.2. Termos Relacionados à Jails</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/jails/#jails-build>14.3. Criando e Controlando Jails</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/jails/#jails-tuning>14.4. Tuning e Administração</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/jails/#jails-application>14.5. Atualizando Múltiplas Jails</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/jails/#jails-ezjail>14.6. Gerenciando Jails com o ezjail</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/>Capítulo 15. Controle de acesso obrigatório</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-synopsis>15.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-inline-glossary>15.2. Termos chave</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-understandlabel>15.3. Entendendo os rótulos MAC</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-planning>15.4. Planejando a configuração de segurança</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-policies>15.5. Políticas MAC Disponíveis</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-userlocked>15.6. Bloqueio do Usuário</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-implementing>15.7. Nagios em Jail MAC</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mac/#mac-troubleshoot>15.8. Solução de problemas do framework MAC</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/audit/>Capítulo 16. Auditoria de Evento de Segurança</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/audit/#audit-synopsis>16.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/audit/#audit-inline-glossary>16.2. Termos chave</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/audit/#audit-config>16.3. Configuração de Auditoria</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/audit/#audit-administration>16.4. Trabalhando com Trilhas de Auditoria</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/>Capítulo 17. Armazenamento</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#disks-synopsis>17.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#disks-adding>17.2. Adicionando Discos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#disks-growing>17.3. Redimensionando e Ampliando Discos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#usb-disks>17.4. Dispositivos de Armazenamento USB</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#creating-cds>17.5. Criando e Usando Mídia em CD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#creating-dvds>17.6. Criando e Usando Mídia de DVD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#floppies>17.7. Criando e Usando Disquetes</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#backup-basics>17.8. Noções Básicas de Backup</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#disks-virtual>17.9. Discos de Memória</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#snapshots>17.10. Snapshots de Sistemas de Arquivos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#quotas>17.11. Cotas de Disco</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#disks-encrypting>17.12. Criptografando Partições de Disco</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#swap-encrypting>17.13. Criptografando Swap</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/disks/#disks-hast>17.14. Alta Disponibilidade de Armazenamento (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/>Capítulo 18. GEOM: Framework de Transformação de Disco Modular</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-synopsis>18.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-striping>18.2. RAID0 - Striping</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-mirror>18.3. RAID1 - Espelhamento</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-raid3>18.4. RAID3 - Distribuição em Nível de Byte com Paridade Dedicada</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-graid>18.5. Dispositivos RAID por Software</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-ggate>18.6. GEOM Network Gate</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-glabel>18.7. Rotulando Dispositivos de Disco</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/geom/#geom-gjournal>18.8. Journaling UFS através do GEOM</a></li></ul></li><li><input type=checkbox id=chapter-73e82560fcb7145b7c0e2ec47af8fc04 class=toggle>
<label class="icon cursor" for=chapter-73e82560fcb7145b7c0e2ec47af8fc04><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/>Capítulo 19. O sistema de arquivos Z (ZFS)</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-differences>19.1. O que torna o ZFS diferente</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-quickstart>19.2. Guia de Início Rápido</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-zpool>19.3. Administração <code>zpool</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-zfs>19.4. Administração do <code>zfs</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-zfs-allow>19.5. Administração Delegada</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-advanced>19.6. Tópicos Avançados</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-links>19.7. Recursos adicionais</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/zfs/#zfs-term>19.8. Recursos e terminologia do ZFS</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/filesystems/>Capítulo 20. Outros Sistemas de Arquivos</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/filesystems/#filesystems-synopsis>20.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/filesystems/#filesystems-linux>20.2. Sistemas de arquivos do Linux™</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/>Capítulo 21. Virtualização</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-synopsis>21.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-guest-parallels>21.2. FreeBSD como Sistema Operacional Convidado no Parallels para Mac OS™ X</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-guest-virtualpc>21.3. FreeBSD como sistema convidado no Virtual PC para Windows™</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-guest-vmware>21.4. FreeBSD como Sistema Operacional Convidado no VMware Fusion para Mac OS™</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-guest-virtualbox>21.5. FreeBSD como Sistema Operacional Convidado no VirtualBox™</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-host-virtualbox>21.6. FreeBSD como Host com VirtualBox™</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-host-bhyve>21.7. FreeBSD como um Host bhyve</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/virtualization/#virtualization-host-xen>21.8. FreeBSD como Host Xen™</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/l10n/>Capítulo 22. Localização - Uso e Configuração do i18n/L10n</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/l10n/#l10n-synopsis>22.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/l10n/#using-localization>22.2. Usando Localização</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/l10n/#l10n-compiling>22.3. Encontrando Aplicações i18n</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/l10n/#lang-setup>22.4. Configuração de Localização para Idiomas Específicos</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle checked>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/>Capítulo 23. Atualização e Upgrade do FreeBSD</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/#updating-upgrading-synopsis>23.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>23.2. Atualização do FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/#updating-upgrading-documentation>23.3. Atualizando o Conjunto de Documentação</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/#current-stable>23.4. Acompanhando um ramo de desenvolvimento</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/#makeworld>23.5. Atualizando o FreeBSD a partir do código fonte</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/cutting-edge/#small-lan>23.6. Atualização de várias máquinas</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/dtrace/>Chapter 24. DTrace</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/dtrace/#dtrace-synopsis>24.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/dtrace/#dtrace-implementation>24.2. Diferenças de Implementação</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/dtrace/#dtrace-enable>24.3. Ativando o Suporte do DTrace</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/dtrace/#dtrace-using>24.4. Usando o DTrace</a></li></ul></li><li><input type=checkbox id=chapter-913e72bfb3d6947b2869d3e9447a6eaa class=toggle>
<label class="icon cursor" for=chapter-913e72bfb3d6947b2869d3e9447a6eaa><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/usb-device-mode/>Capítulo 25. Modo de dispositivo USB/USB OTG</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/usb-device-mode/#usb-device-mode-synopsis>25.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/usb-device-mode/#usb-device-mode-terminals>25.2. Portas Seriais Virtuais USB</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/usb-device-mode/#usb-device-mode-network>25.3. Interfaces de rede do modo de dispositivo USB</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/usb-device-mode/#usb-device-mode-storage>25.4. Dispositivo de armazenamento virtual USB</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/partiv/>Parte IV. Comunicação de rede</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/serialcomms/>Capítulo 26. Comunicações Seriais</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/serialcomms/#serial-synopsis>26.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/serialcomms/#serial>26.2. Terminologia serial e hardware</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/serialcomms/#term>26.3. Terminais</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/serialcomms/#dialup>26.4. Serviço Dial-in</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/serialcomms/#dialout>26.5. Serviço de Dial-in</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/serialcomms/#serialconsole-setup>26.6. Configurando o Console Serial</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/ppp-and-slip/>Capítulo 27. PPP</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ppp-and-slip/#userppp>27.2. Configurando o PPP</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.3. Solução de problemas de conexões PPP</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ppp-and-slip/#pppoe>27.4. Usando o PPP sobre Ethernet (PPPoE)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/ppp-and-slip/#pppoa>27.5. Usando PPP sobre ATM (PPPoA)</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/>Capítulo 28. Correio Eletrônico</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-synopsis>28.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-using>28.2. Componentes de Email</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#sendmail>28.3. Arquivos de Configuração do Sendmail</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-changingmta>28.4. Alterando o Mail Transfer Agent</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-trouble>28.5. Solução de problemas</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-advanced>28.6. Tópicos Avançados</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#outgoing-only>28.7. Configurando Apenas Envio</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#SMTP-dialup>28.8. Usando Email com uma Conexão Dialup</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#SMTP-Auth>28.9. Autenticação SMTP</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-agents>28.10. Mail User Agents</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-fetchmail>28.11. Usando o fetchmail</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mail/#mail-procmail>28.12. Usando o procmail</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/>Capítulo 29. Servidores de Rede</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-servers-synopsis>29.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-inetd>29.2. O super-servidor inetd</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-nfs>29.3. Network File System (NFS)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-nis>29.4. Sistema de Informação de Rede (NIS)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-ldap>29.5. Protocolo leve de acesso de diretório ( LDAP )</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-dhcp>29.6. Protocolo de configuração dinâmica de hosts (DHCP)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-dns>29.7. Sistema de Nomes de Domínio (DNS)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-apache>29.8. Servidor HTTP Apache</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-ftp>29.9. Protocolo de Transferência de Arquivos (FTP)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-samba>29.10. Serviços de arquivos e impressão para clientes Microsoft™Windows™ Clients (Samba)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-ntp>29.11. Sincronização de Relógio com NTP</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/network-servers/#network-iscsi>29.12. Inicializador iSCSI e Configuração Alvo</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/firewalls/>Capítulo 30. Firewalls</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/firewalls/#firewalls-intro>30.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/firewalls/#firewalls-concepts>30.2. Conceitos de Firewall</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/firewalls/#firewalls-pf>30.3. PF</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/firewalls/#firewalls-ipfw>30.4. IPFW</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/firewalls/#firewalls-ipf>30.5. IPFILTER (IPF)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/firewalls/#firewalls-blacklistd>30.6. Blacklistd</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/>Capítulo 31. Rede Avançada</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Sinopse</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-routing>31.2. Gateways e Rotas</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-wireless>31.3. Rede sem fio</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-usb-tethering>31.4. USB Tethering</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-bluetooth>31.5. Bluetooth</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-bridging>31.6. Bridging</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-aggregation>31.7. Agregação de links e failover</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-diskless>31.8. Operação Diskless com PXE</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-ipv6>31.9. IPv6</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#carp>31.10. Protocolo Comum de Redundância de Endereços (CARP)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/advanced-networking/#network-vlan>31.11. VLANs</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/partv/>Parte V. Apêndices</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/mirrors/>Apêndice A. Obtendo o FreeBSD</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mirrors/#mirrors-cdrom>A.1. CD and DVD Sets</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mirrors/#mirrors-ftp>A.2. Sites de FTP</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mirrors/#svn>A.3. Usando o Subversion</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/mirrors/#mirrors-rsync>A.4. Usando o rsync</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/>Apêndice B. Bibliografia</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-freebsd>B.1. Livros específicos para o FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-userguides>B.2. Guias de usuários</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-adminguides>B.3. Guias de Administradores</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-programmers>B.4. Guias de programadores</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-osinternals>B.5. Internals do sistema operacional</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-security>B.6. Referências de segurança</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-hardware>B.7. Referências de Hardware</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-history>B.8. História do UNIX™</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/bibliography/#bibliography-journals>B.9. Periódicos, Jornais e Revistas</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/eresources/>Apêndice C. Recursos na Internet</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/eresources/#eresources-www>C.1. Websites</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/eresources/#eresources-mail>C.2. Listas de Discussão</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/eresources/#eresources-news>C.3. Grupos de Notícias Usenet</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook/eresources/#eresources-web>C.4. Espelhos Oficiais</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/handbook/pgpkeys/>Apêndice D. Chaves OpenPGP</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Administradores</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title=Menu></i>
Menu</span></label></div><h1 class=title>Capítulo 23. Atualização e Upgrade do FreeBSD</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
Esta tradução pode estar desatualizada. Para ajudar com as traduções, acesse a <a href=https://translate-dev.freebsd.org/ target=_blank>ferramenta de traduções do FreeBSD</a>.</p></div><div class=toc-mobile><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#updating-upgrading-synopsis>23.1. Sinopse</a></li><li><a href=#updating-upgrading-freebsdupdate>23.2. Atualização do FreeBSD</a></li><li><a href=#updating-upgrading-documentation>23.3. Atualizando o Conjunto de Documentação</a></li><li><a href=#current-stable>23.4. Acompanhando um ramo de desenvolvimento</a></li><li><a href=#makeworld>23.5. Atualizando o FreeBSD a partir do código fonte</a></li><li><a href=#small-lan>23.6. Atualização de várias máquinas</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=updating-upgrading-synopsis>23.1. Sinopse<a class=anchor href=#updating-upgrading-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>O FreeBSD está em constante desenvolvimento entre os releases. Algumas pessoas preferem usar as versões lançadas oficialmente, enquanto outras preferem se manter em sincronia com os últimos desenvolvimentos. No entanto, até mesmo versões oficiais são atualizadas com patches de segurança e outras correções críticas. Independentemente da versão usada, o FreeBSD fornece todas as ferramentas necessárias para manter o sistema atualizado e permite atualizações fáceis entre as versões. Este capítulo descreve como acompanhar o sistema de desenvolvimento e o uso das ferramentas básicas para manter um sistema FreeBSD atualizado.</p></div><div class=paragraph><p>Depois de ler este capítulo, você saberá:</p></div><div class=ulist><ul><li><p>Como manter um sistema FreeBSD atualizado com o freebsd-update ou com o Subversion.</p></li><li><p>Como comparar o estado de um sistema instalado com uma cópia original.</p></li><li><p>Como manter a documentação instalada atualizada com o Subversion ou com o port da documentação.</p></li><li><p>A diferença entre os dois ramos de desenvolvimento: FreeBSD-STABLE e FreeBSD-CURRENT.</p></li><li><p>Como recompilar e reinstalar todo o sistema básico.</p></li></ul></div><div class=paragraph><p>Antes de ler este capítulo, você deve:</p></div><div class=ulist><ul><li><p>Configurar corretamente a conexão de rede (<a href=../advanced-networking/#advanced-networking>Rede Avançada</a>).</p></li><li><p>Saber como instalar software adicional de terceiros (<a href=../ports/#ports>Instalando Aplicativos. Pacotes e Ports</a>).</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ao longo deste capítulo, o <code>svnlite</code> é usado para obter e atualizar o código fonte do FreeBSD. Opcionalmente, o port ou pacote <a class=package href=https://cgit.freebsd.org/ports/tree/devel/subversion/>devel/subversion</a> pode ser usado.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=updating-upgrading-freebsdupdate>23.2. Atualização do FreeBSD<a class=anchor href=#updating-upgrading-freebsdupdate></a></h2><div class=sectionbody><div class=paragraph><p>A aplicação de patches de segurança em tempo hábil e a atualização para uma versão mais recente de um sistema operacional são aspectos importantes da administração contínua do sistema. O FreeBSD inclui um utilitário chamado <code>freebsd-update</code> o qual pode ser usado para executar ambas as tarefas.</p></div><div class=paragraph><p>Este utilitário suporta atualizações binárias de segurança e de erratas para o FreeBSD, sem a necessidade de compilar e instalar manualmente o patch ou um novo kernel. Atualizações binárias estão disponíveis para todas as arquiteturas e versões atualmente suportadas pela equipe de segurança. A lista de versões suportadas e suas datas estimadas de fim de vida estão listadas em <a href=https://www.FreeBSD.org/security/>https://www.FreeBSD.org/security/</a>.</p></div><div class=paragraph><p>Este utilitário também suporta upgrades do sistema operacional para releases menores (ponto x), bem como atualizações para outro ramo de release. Antes de atualizar para uma nova versão, revise o seu anúncio de lançamento, pois ele contém informações importantes pertinentes ao release. Os anúncios de lançamento estão disponíveis em <a href=https://www.FreeBSD.org/releases/>https://www.FreeBSD.org/releases/</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se um <code>crontab</code> utilizando os recursos do <a href="https://man.freebsd.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8&amp;format=html">freebsd-update(8)</a> existir, ele deve ser desativado antes de atualizar o sistema operacional .</p></div></td></tr></tbody></table></div><div class=paragraph><p>Esta seção descreve o arquivo de configuração usado pelo <code>freebsd-update</code>, demonstra como aplicar um patch de segurança e como atualizar para um release menor ou principal do sistema operacional e discute algumas das considerações ao atualizar o sistema operacional .</p></div><div class=sect2><h3 id=freebsdupdate-config-file>23.2.1. O Arquivo de Configuração<a class=anchor href=#freebsdupdate-config-file></a></h3><div class=paragraph><p>O arquivo de configuração padrão do <code>freebsd-update</code> funciona como está. Alguns usuários podem querer ajustar a configuração padrão no <span class=filename>/etc/freebsd-update.conf</span>, permitindo um melhor controle do processo. Os comentários neste arquivo explicam as opções disponíveis, mas os seguintes podem exigir um pouco mais de explicação:</p></div><div class="literalblock programlisting"><div class=content><pre># Componentes do sistema base que devem ser mantidos atualizados.
Components world kernel</pre></div></div><div class=paragraph><p>Este parâmetro controla quais partes do FreeBSD serão mantidas atualizadas. O padrão é atualizar todo o sistema básico e o kernel. Componentes individuais podem ser especificados, como <code>src/base</code> ou <code>src/sys</code>. No entanto, a melhor opção é deixar isso no padrão, pois alterá-lo para incluir itens específicos requer que todos os itens necessários sejam listados. Com o tempo, isso pode ter consequências desastrosas, pois o código-fonte e os binários podem ficar fora de sincronia.</p></div><div class="literalblock programlisting"><div class=content><pre># Caminhos que começam com qualquer coisa que corresponda a uma entrada em uma
# declaração IgnorePaths será ignorada.
IgnorePaths /boot/kernel/linker.hints</pre></div></div><div class=paragraph><p>Para deixar diretórios especificados, como <span class=filename>/bin</span> ou <span class=filename>/sbin</span>, intocados durante o processo de atualização, adicione seus caminhos a esta instrução. Esta opção pode ser usada para evitar que o <code>freebsd-update</code> substitua as modificações locais.</p></div><div class="literalblock programlisting"><div class=content><pre># Caminhos que começam com qualquer coisa que corresponda a uma entrada em uma declaração
# UpdateIfUnmodified só será atualizada se o conteúdo do arquivo não tiver sido
# modificado pelo usuário (a menos que as alterações sejam mescladas; veja abaixo).
UpdateIfUnmodified /etc/ /var/ /root/ /.cshrc /.profile</pre></div></div><div class=paragraph><p>Esta opção atualizará apenas os arquivos de configuração não modificados nos diretórios especificados. Quaisquer alterações feitas pelo usuário impedirão a atualização automática desses arquivos. Existe outra opção, <code>KeepModifiedMetadata</code>, que instruirá o <code>freebsd-update</code> para salvar as alterações durante a mesclagem.</p></div><div class="literalblock programlisting"><div class=content><pre># Ao fazer o upgrade para uma nova versão do FreeBSD, os arquivos que forem especificados no MergeChanges
# terão quaisquer alterações locais mescladas na versão da nova release.
MergeChanges /etc/ /var/named/etc/ /boot/device.hints</pre></div></div><div class=paragraph><p>Lista de diretórios com arquivos de configuração que o <code>freebsd-update</code> deve tentar mesclar. O processo de mesclagem de arquivos é uma série de patches <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> semelhantes a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a>, mas com menos opções. As mesclagens são aceitas, abrem um editor ou fazem com que o <code>freebsd-update</code> aborte. Em caso de dúvida, faça backup do <span class=filename>/etc</span> e apenas aceite as mesclagens. Veja <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> para maiores informações sobre o <code>mergemaster</code>.</p></div><div class="literalblock programlisting"><div class=content><pre># Diretório no qual armazenar atualizações baixadas e arquivos
# temporários usados pelo FreeBSD Update.
# WorkDir /var/db/freebsd-update</pre></div></div><div class=paragraph><p>Este diretório é onde todos os patches e arquivos temporários são colocados. Nos casos em que o usuário estiver fazendo uma atualização de versão, esse local deverá ter pelo menos um gigabyte de espaço em disco disponível.</p></div><div class="literalblock programlisting"><div class=content><pre># Ao atualizar entre releases, a lista de Componentes deve ser lida de forma estrita (StrictComponents yes)
# ou meramente como uma lista de componentes que *podem* ser instalados de quais atualizações do
# FreeBSD devem ser instaladas e atualizadas (StrictComponents no)?
# StrictComponents no</pre></div></div><div class=paragraph><p>Quando esta opção estiver definida como <code>yes</code>, o <code>freebsd-update</code> assumirá que a lista <code>Componentes</code> está completa e não tentará fazer alterações fora da lista. Efetivamente, o <code>freebsd-update</code> tentará atualizar todos os arquivos que pertencem à lista <code>Componentes</code>.</p></div></div><div class=sect2><h3 id=freebsdupdate-security-patches>23.2.2. Aplicando Patches de Segurança<a class=anchor href=#freebsdupdate-security-patches></a></h3><div class=paragraph><p>O processo de aplicação de patches de segurança do FreeBSD foi simplificado, permitindo que um administrador mantenha um sistema totalmente corrigido usando o <code>freebsd-update</code>. Maiores informações sobre os avisos de segurança do FreeBSD podem ser encontradas em <a href=../security/#security-advisories>Avisos de Segurança do FreeBSD</a>.</p></div><div class=paragraph><p>Patches de segurança do FreeBSD podem ser baixados e instalados usando os seguintes comandos. O primeiro comando determinará se algum patch pendente está disponível e, em caso afirmativo, listará os arquivos que serão modificados se os patches forem aplicados. O segundo comando aplicará os patches.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update fetch</span>
<span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>Se a atualização aplicar alguma correção de kernel, o sistema precisará de uma reinicialização para inicializar no kernel corrigido. Se o patch for aplicado a qualquer binário em execução, os aplicativos afetados devem ser reiniciados para que a versão corrigida do binário seja usada.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Normalmente, o usuário precisa estar preparado para reiniciar o sistema. Para saber se uma reinicialização é necessária por uma atualização do kernel, execute os comandos <code>freebsd-version -k</code> e <code>uname -r</code> e se eles forem diferentes, é necessário reiniciar.</p></div></td></tr></tbody></table></div><div class=paragraph><p>O sistema pode ser configurado para verificar automaticamente as atualizações uma vez por dia, adicionando esta entrada ao <span class=filename>/etc/crontab</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>@daily                                  root    freebsd-update cron</pre></div></div><div class=paragraph><p>Se houver patches, eles serão automaticamente baixados, mas não serão aplicados. O usuário <code>root</code> receberá um email para que os patches possam ser revisados e instalados manualmente com o <code>freebsd-update install</code>.</p></div><div class=paragraph><p>Se algo der errado, o <code>freebsd-update</code> terá a capacidade de reverter o último conjunto de alterações com o seguinte comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update rollback</span>
Uninstalling updates... <span class=k>done</span>.</code></pre></div></div><div class=paragraph><p>Novamente, o sistema deve ser reiniciado se o kernel ou qualquer módulo do kernel for modificado e quaisquer binários afetados devem ser reiniciados.</p></div><div class=paragraph><p>Apenas o kernel <span class=filename>GENERIC</span> pode ser atualizado automaticamente pelo <code>freebsd-update</code>. Se um kernel personalizado estiver instalado, ele terá que ser recompilado e reinstalado depois que o <code>freebsd-update</code> terminar de instalar as atualizações. No entanto, o <code>freebsd-update</code> detectará e atualizará o kernel <em>GENERIC</em> se <span class=filename>/boot/GENERIC</span> existir, mesmo que não seja o kernel atual em execução no sistema. Para verificar detalhes desta instalação utilize o comando <a href="https://man.freebsd.org/cgi/man.cgi?query=uname&amp;sektion=1&amp;format=html">uname(1)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sempre mantenha uma cópia do kernel <span class=filename>GENERIC</span> em <span class=filename>/boot/GENERIC</span>. Será útil no diagnóstico de vários problemas e na execução de atualizações de versão. Consulte <a href=#freebsd-update-custom-kernel-9x>Kernels personalizados com o FreeBSD 9.X e posteriores</a> para obter instruções sobre como obter uma cópia do kernel <span class=filename>GENERIC</span>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A menos que a configuração padrão em <span class=filename>/etc/freebsd-update.conf</span> tenha sido alterada, o <code>freebsd-update</code> instalará o código fonte atualizado do kernel juntamente com o restante das atualizações. O processo de recompilação e reinstalação de um novo kernel personalizado poderá ser executado da maneira usual.</p></div><div class=paragraph><p>As atualizações distribuídas pelo <code>freebsd-update</code> nem sempre envolvem o kernel. Não é necessário recompilar um kernel personalizado se o código fonte do kernel não tiverem sido modificado pelo <code>freebsd-update install</code>. No entanto, o <code>freebsd-update</code> sempre atualizará o <span class=filename>/usr/src/sys/conf/newvers.sh</span>. O nível de patch atual, conforme indicado pelo número <code>-p</code> relatado pelo <code>uname -r</code>, é obtido desse arquivo. Recompilar um kernel personalizado, mesmo que nada mais tenha sido alterado, permite que o <code>uname</code> relate com precisão o nível de patch atual do sistema. Isso é particularmente útil ao manter vários sistemas, pois permite uma avaliação rápida das atualizações instaladas em cada um deles.</p></div></div><div class=sect2><h3 id=freebsdupdate-upgrade>23.2.3. Realizando Upgrades de Versão Principais e Menores<a class=anchor href=#freebsdupdate-upgrade></a></h3><div class=paragraph><p>Atualizações de uma versão menor do FreeBSD para outra, como do FreeBSD 9.0 para o FreeBSD 9.1, são chamadas de upgrades de <em>versão menor</em>. Atualizações de <em>versões principais</em> ocorrem quando o FreeBSD é atualizado de uma versão principal para outra, como do FreeBSD 9.X para o FreeBSD 10.X. Ambos os tipos de atualizações podem ser executados fornecendo um target de versão de release para o <code>freebsd-update</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se o sistema estiver executando um kernel personalizado, certifique-se de que uma cópia do kernel <span class=filename>GENERIC</span> exista em <span class=filename>/boot/GENERIC</span> antes de iniciar o upgrade. Consulte <a href=#freebsd-update-custom-kernel-9x>Kernels personalizados com o FreeBSD 9.X e posteriores</a> para obter instruções sobre como obter uma cópia do kernel <span class=filename>GENERIC</span>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>O seguinte comando, quando executado em um sistema FreeBSD 9.0, irá atualizá-lo para o FreeBSD 9.1:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update -r 9.1-RELEASE upgrade</span></code></pre></div></div><div class=paragraph><p>Depois que o comando for recebido, o <code>freebsd-update</code> avaliará o arquivo de configuração e o sistema atual na tentativa de reunir as informações necessárias para executar a atualização. Uma listagem de tela exibirá quais componentes foram e quais não foram detectados. Por exemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Looking up update.FreeBSD.org mirrors... 1 mirrors found.
Fetching metadata signature <span class=k>for </span>9.0-RELEASE from update1.FreeBSD.org... <span class=k>done</span><span class=nb>.</span>
Fetching metadata index... <span class=k>done</span><span class=nb>.</span>
Inspecting system... <span class=k>done</span><span class=nb>.</span>

The following components of FreeBSD seem to be installed:
kernel/smp src/base src/bin src/contrib src/crypto src/etc src/games
src/gnu src/include src/krb5 src/lib src/libexec src/release src/rescue
src/sbin src/secure src/share src/sys src/tools src/ubin src/usbin
world/base world/info world/lib32 world/manpages

The following components of FreeBSD <span class=k>do </span>not seem to be installed:
kernel/generic world/catpages world/dict world/doc world/games
world/proflibs

Does this look reasonable <span class=o>(</span>y/n<span class=o>)</span>? y</code></pre></div></div><div class=paragraph><p>Neste ponto, o <code>freebsd-update</code> tentará baixar todos os arquivos necessários para a atualização. Em alguns casos, o usuário pode ser questionado sobre o que instalar ou como proceder.</p></div><div class=paragraph><p>Ao usar um kernel personalizado, a etapa acima produzirá um aviso semelhante ao seguinte:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>WARNING: This system is running a <span class=s2>&#34;MYKERNEL&#34;</span> kernel, which is not a
kernel configuration distributed as part of FreeBSD 9.0-RELEASE.
This kernel will not be updated: you MUST update the kernel manually
before running <span class=s2>&#34;/usr/sbin/freebsd-update install&#34;</span></code></pre></div></div><div class=paragraph><p>Este aviso pode ser ignorado com segurança neste momento. O kernel <span class=filename>GENERIC</span> atualizado será usado como uma etapa intermediária no processo de atualização.</p></div><div class=paragraph><p>Depois que todos os patches tiverem sido baixados para o sistema local, eles serão aplicados. Esse processo pode demorar um pouco, dependendo da velocidade e da carga de trabalho da máquina. Os arquivos de configuração serão então mesclados. O processo de mesclagem requer alguma intervenção do usuário, pois um arquivo pode ser mesclado ou um editor pode aparecer na tela para uma mesclagem manual. Os resultados de cada mesclagem bem-sucedida serão mostrados para o usuário enquanto o processo continua. Um merge falho ou ignorado fará com que o processo seja abortado. Os usuários podem desejar fazer um backup de <span class=filename>/etc</span> e mesclar manualmente os arquivos importantes, como o <span class=filename>master.passwd</span> ou o <span class=filename>group</span> posteriormente.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O sistema não está sendo alterado, já que todos os patches e merges estão acontecendo em outro diretório. Uma vez que todas as correções tenham sido aplicadas com sucesso, e todos os arquivos de configuração foram mesclados e tudo indicar que o processo ocorrerá sem problemas, as alterações poderão ser confirmadas pelo usuário usando o seguinte comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>O kernel e os módulos do kernel serão atualizados primeiro. Se o sistema estiver sendo executado com um kernel personalizado, use o <a href="https://man.freebsd.org/cgi/man.cgi?query=nextboot&amp;sektion=8&amp;format=html">nextboot(8)</a> para definir que o kernel para a próxima inicialização será o <span class=filename>/boot/GENERIC</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># nextboot -k GENERIC</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Antes de reinicializar com o kernel <span class=filename>GENERIC</span>, verifique se ele contém todos os drivers necessários para o sistema inicializar corretamente e se conectar à rede, se a máquina que está sendo atualizada for acessada remotamente. Em particular, se o kernel customizado em execução contiver funcionalidades internas normalmente fornecidas pelos módulos do kernel, certifique-se de carregar temporariamente estes módulos no kernel <span class=filename>GENERIC</span> usando o <span class=filename>/boot/loader.conf</span>. Recomenda-se desabilitar os serviços não essenciais, bem como todas as montagens de disco e de rede, até que o processo de atualização seja concluído.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A máquina agora deve ser reiniciada com o kernel atualizado:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown -r now</span></code></pre></div></div><div class=paragraph><p>Quando o sistema estiver on-line, reinicie o <code>freebsd-update</code> usando o comando a seguir. Como o estado do processo foi salvo, o <code>freebsd-update</code> não será iniciado desde o início, mas passará para a próxima fase e removerá todas as bibliotecas compartilhadas e os arquivos de objetos antigos.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Dependendo se os números de versão de uma biblioteca foram incrementados ou não, pode haver apenas duas fases de instalação em vez de três.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A atualização está completa agora. Se esta for uma atualização de versão principal, reinstale todas os ports e pacotes conforme descrito em <a href=#freebsdupdate-portsrebuild>Atualizando pacotes após atualizar para uma versão principal (Major Release)</a>.</p></div><div class=sect3><h4 id=freebsd-update-custom-kernel-9x>23.2.3.1. Kernels personalizados com o FreeBSD 9.X e posteriores<a class=anchor href=#freebsd-update-custom-kernel-9x></a></h4><div class=paragraph><p>Antes de usar o <code>freebsd-update</code>, assegure-se de que uma cópia do kernel <span class=filename>GENERIC</span> exista em <span class=filename>/boot/GENERIC</span>. Se um kernel personalizado foi compilado apenas uma vez, o kernel em <span class=filename>/boot/kernel.old</span> é o kernel <code>GENERIC</code>. Simplesmente renomeie este diretório para <span class=filename>/boot/GENERIC</span>.</p></div><div class=paragraph><p>Se um kernel personalizado foi compilado mais de uma vez ou se é desconhecido quantas vezes o kernel personalizado foi compilado, obtenha uma cópia do kernel <code>GENERIC</code> que corresponda à versão atual do sistema operacional. Se o acesso físico ao sistema estiver disponível, uma cópia do kernel <code>GENERIC</code> pode ser instalada a partir da mídia de instalação:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /cdrom</span>
<span class=c># cd /cdrom/usr/freebsd-dist</span>
<span class=c># tar -C/ -xvf kernel.txz boot/kernel/kernel</span></code></pre></div></div><div class=paragraph><p>Como alternativa, o kernel <code>GENERIC</code> pode ser recriado e instalado a partir da do código fonte:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make kernel __MAKE_CONF=/dev/null SRCCONF=/dev/null</span></code></pre></div></div><div class=paragraph><p>Para que este kernel seja identificado como o kernel <code>GENERIC</code> pelo <code>freebsd-update</code>, o arquivo de configuração <span class=filename>GENERIC</span> não deve ter sido modificado de forma alguma. Também é sugerido que o kernel seja compilado sem outras opções especiais.</p></div><div class=paragraph><p>A reinicialização no kernel <span class=filename>GENERIC</span> não é necessária, pois o <code>freebsd-update</code> só precisa que o <span class=filename>/boot/GENERIC</span> exista.</p></div></div><div class=sect3><h4 id=freebsdupdate-portsrebuild>23.2.3.2. Atualizando pacotes após atualizar para uma versão principal (Major Release)<a class=anchor href=#freebsdupdate-portsrebuild></a></h4><div class=paragraph><p>Geralmente, os aplicativos instalados continuarão funcionando sem problemas após atualizações de versões menores. As versões principais usam diferentes interfaces binárias de aplicativos (ABIs), que quebram a maioria dos aplicativos de terceiros. Após uma atualização de versão principal, todos os pacotes e ports instalados precisam ser atualizados. Pacotes podem ser atualizados usando <code>pkg upgrade</code>. Para atualizar os ports instalados, use um utilitário como o <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portmaster/>ports-mgmt/portmaster</a>.</p></div><div class=paragraph><p>Uma atualização forçada de todos os pacotes instalados substituirá os pacotes por novas versões a partir do repositório, mesmo que o número da versão não tenha aumentado. Isso é necessário por causa da alteração da versão do ABI que ocorre ao atualizar entre versões principais do FreeBSD. A atualização forçada pode ser realizada executando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg-static upgrade -f</span></code></pre></div></div><div class=paragraph><p>Uma recompilação de todos os aplicativos instalados pode ser realizada com este comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -af</span></code></pre></div></div><div class=paragraph><p>Este comando exibirá as telas de configuração de cada aplicativo que possui opções configuráveis e aguardará que o usuário interaja com estas telas. Para evitar esse comportamento e usar apenas as opções padrões, inclua <code>-G</code> no comando acima.</p></div><div class=paragraph><p>Quando as atualizações de software estiverem concluídas, conclua o processo de atualização com uma chamada final para o <code>freebsd-update</code> para amarrar todas as pontas soltas no processo de atualização:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>Se o kernel <span class=filename>GENERIC</span> foi usado temporariamente, este é o momento de construir e instalar um novo kernel personalizado usando as instruções do <a href=../kernelconfig/#kernelconfig>Configurando o kernel do FreeBSD</a>.</p></div><div class=paragraph><p>Reinicialize a máquina na nova versão do FreeBSD. O processo de atualização está concluído agora.</p></div></div></div><div class=sect2><h3 id=freebsdupdate-system-comparison>23.2.4. Comparação do estado do sistema<a class=anchor href=#freebsdupdate-system-comparison></a></h3><div class=paragraph><p>O estado da versão instalada do FreeBSD em relação a uma boa cópia conhecida pode ser testado usando o <code>freebsd-update IDS</code>. Este comando avalia a versão atual dos utilitários do sistema, bibliotecas e arquivos de configuração e pode ser usado como um Sistema de Detecção de Intrusão embutido (IDS).</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Este comando não é um substituto para um IDS real como o <a class=package href=https://cgit.freebsd.org/ports/tree/security/snort/>security/snort</a>. Como o <code>freebsd-update</code> armazena dados no disco, a possibilidade de adulteração é evidente. Embora esta possibilidade possa ser reduzida usando o <code>kern.securelevel</code> e armazenando os dados do <code>freebsd-update</code> em um sistema de arquivos read-only quando não estiver em uso, uma solução melhor seria comparar o sistema com um disco seguro, como um DVD ou dispositivo de disco externo USB armazenado em segurança. Um método alternativo para fornecer a funcionalidade de IDS usando um utilitário interno é descrito em <a href=../security/#security-ids>Verificação Binária</a></p></div></td></tr></tbody></table></div><div class=paragraph><p>Para começar a comparação, especifique um arquivo de saída para salvar os resultados:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update IDS &gt;&gt; outfile.ids</span></code></pre></div></div><div class=paragraph><p>O sistema agora será inspecionado e uma longa lista de arquivos, junto com os valores de hash SHA256 tanto para o valor conhecido na release e como na instalação atual, será enviada para o arquivo de saída especificado.</p></div><div class=paragraph><p>As entradas na listagem são extremamente longas, mas o formato de saída pode ser facilmente analisado. Por exemplo, para obter uma lista de todos os arquivos que diferem daqueles na release, execute o seguinte comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat outfile.ids | awk &#39;{ print $1 }&#39; | more</span>
/etc/master.passwd
/etc/motd
/etc/passwd
/etc/pf.conf</code></pre></div></div><div class=paragraph><p>Este exemplo de saída foi truncado, pois existem muito mais arquivos. Alguns arquivos possuem modificações naturais. Por exemplo, o <span class=filename>/etc/passwd</span> será modificado se usuários tiverem sido adicionados ao sistema. Módulos de kernel podem diferir pois o <code>freebsd-update</code> pode tê-los atualizado. Para excluir arquivos ou diretórios específicos, adicione-os à opção <code>IDSIgnorePaths</code> em <span class=filename>/etc/freebsd-update.conf</span>.</p></div></div></div></div><div class=sect1><h2 id=updating-upgrading-documentation>23.3. Atualizando o Conjunto de Documentação<a class=anchor href=#updating-upgrading-documentation></a></h2><div class=sectionbody><div class=paragraph><p>A documentação é parte integrante do sistema operacional FreeBSD. Enquanto uma versão atualizada da documentação do FreeBSD está sempre disponível no site do FreeBSD (<a href=https://www.FreeBSD.org/doc/>https://www.freebsd.org/doc/</a>), pode ser útil ter uma cópia local atualizada do site do FreeBSD, manuais, FAQ e artigos.</p></div><div class=paragraph><p>Esta seção descreve como usar os fontes ou a Coleção de Ports do FreeBSD para manter uma cópia local da documentação do FreeBSD atualizada.</p></div><div class=paragraph><p>Para obter informações sobre como editar e enviar correções para a documentação, consulte o Primer do Projeto de Documentação do FreeBSD para Novos Colaboradores (<a href=https://docs.freebsd.org/pt-br/books/fdp-primer/>Primer do Projeto de Documentação do FreeBSD</a>).</p></div><div class=sect2><h3 id=updating-installed-documentation>23.3.1. Atualizando a documentação a partir do código-fonte<a class=anchor href=#updating-installed-documentation></a></h3><div class=paragraph><p>Recompilar a documentação do FreeBSD a partir do código-fonte requer uma coleção de ferramentas que não fazem parte do sistema básico do FreeBSD. As ferramentas necessárias podem ser instaladas a partir do pacote <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/docproj/>textproc/docproj</a> ou do port desenvolvido pelo Projeto de Documentação do FreeBSD.</p></div><div class=paragraph><p>Uma vez instalado, use o svnlite para buscar uma cópia limpa dos fontes da documentação:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># svnlite checkout https://svn.FreeBSD.org/doc/head /usr/doc</span></code></pre></div></div><div class=paragraph><p>O download inicial dos fontes da documentação pode demorar um pouco. Deixe executar até completar.</p></div><div class=paragraph><p>Futuras atualizações dos fontes da documentação podem ser obtidas executando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># svnlite update /usr/doc</span></code></pre></div></div><div class=paragraph><p>Depois que um snapshot atualizado dos fontes da documentação for obtido e disponibilizado em <span class=filename>/usr/doc</span>, tudo estará pronto para uma atualização da documentação instalada.</p></div><div class=paragraph><p>Uma atualização completa de todos os idiomas disponíveis pode ser realizada digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Se uma atualização de apenas um idioma específico for desejada, o <code>make</code> pode ser executado em um subdiretório específico de idioma do <span class=filename>/usr/doc</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc/en_US.ISO8859-1</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Uma maneira alternativa de atualizar a documentação é executar este comando a partir do <span class=filename>/usr/doc</span> ou do subdiretório específico do idioma desejado:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make update</span></code></pre></div></div><div class=paragraph><p>Os formatos de saída que serão instalados podem ser especificados definindo o parâmetro <code>FORMATS</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make FORMATS=&#39;html html-split&#39; install clean</span></code></pre></div></div><div class=paragraph><p>Várias opções estão disponíveis para facilitar o processo de atualização de apenas partes da documentação ou a construção de traduções específicas. Estas opções podem ser configuradas como opções de todo o sistema no <span class=filename>/etc/make.conf</span>, ou como opções de linha de comando passadas para o <code>make</code>.</p></div><div class=paragraph><p>As opções incluem:</p></div><div class=dlist><dl><dt class=hdlist1><code>DOC_LANG</code></dt><dd><p>A lista de idiomas e codificações para compilar e instalar, como <code>en_US.ISO8859-1</code> para documentação em inglês.</p></dd><dt class=hdlist1><code>FORMATS</code></dt><dd><p>Um formato único ou uma lista de formatos de saída a serem criados. Atualmente os formatos suportados são, <code>html</code>, <code>html-split</code>, <code>txt</code>, <code>ps</code>, e <code>pdf</code>.</p></dd><dt class=hdlist1><code>DOCDIR</code></dt><dd><p>Onde instalar a documentação. O padrão é <span class=filename>/usr/shared/doc</span>.</p></dd></dl></div><div class=paragraph><p>Para mais variáveis do <code>make</code> suportadas como opções system-wide no FreeBSD, consulte <a href="https://man.freebsd.org/cgi/man.cgi?query=make.conf&amp;sektion=5&amp;format=html">make.conf(5)</a>.</p></div></div><div class=sect2><h3 id=doc-ports-install-package>23.3.2. Atualizando a documentação a partir do ports<a class=anchor href=#doc-ports-install-package></a></h3><div class=paragraph><p>A seção anterior apresentou um método para atualizar a documentação do FreeBSD a partir do código fonte. Esta seção descreve um método alternativo que usa a Coleção de Ports e possibilita:</p></div><div class=ulist><ul><li><p>Instalar pacotes pré-compilados da documentação, sem precisar compilar nada localmente ou instalar o conjunto de ferramentas de documentação.</p></li><li><p>Compilar o código fonte da documentação por meio do framework de ports, facilitando o check-out e as etapas de compilação.</p></li></ul></div><div class=paragraph><p>Este método de atualização da documentação do FreeBSD é suportado por um conjunto de ports e pacotes de documentação que são atualizados mensalmente pela Equipe de Engenharia da Documentação <a href=mailto:doceng@FreeBSD.org>doceng@FreeBSD.org</a>. Eles estão listados na Coleção de Ports do FreeBSD, na categoria docs (<a href=http://www.freshports.org/docs/>http://www.freshports.org/docs/</a>).</p></div><div class=paragraph><p>A organização dos ports de documentação é a seguinte:</p></div><div class=ulist><ul><li><p>O pacote ou port <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-en/>misc/freebsd-doc-en</a> instala toda a documentação em inglês.</p></li><li><p>O meta-pacote ou port do pacote <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-all/>misc/freebsd-doc-all</a> instala toda a documentação em todos os idiomas disponíveis.</p></li><li><p>Existe um pacote e um port para cada tradução, como <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-hu/>misc/freebsd-doc-hu</a> para a documentação húngara.</p></li></ul></div><div class=paragraph><p>Quando pacotes binários são usados, a documentação do FreeBSD será instalada em todos os formatos disponíveis para o idioma especificado. Por exemplo, o comando a seguir instalará o pacote mais recente da documentação em húngaro:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install hu-freebsd-doc</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os pacotes usam um formato que difere do nome do port correspondente: <code><em>lang</em>-freebsd-doc</code>, onde <em>lang</em> é o formato abreviado do código de idioma, como <code>hu</code> para húngaro, ou <code>zh_cn</code> para chinês simplificado.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Para especificar o formato da documentação, compile o port em vez de instalar o pacote. Por exemplo, para compilar e instalar a documentação em inglês:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/misc/freebsd-doc-en</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>O port fornece um menu de configuração no qual o formato para compilar e instalar pode ser especificado. Por padrão, o HTML dividido, semelhante ao formato usado em <a href=http://www.FreeBSD.org>http://www.FreeBSD.org</a> e o PDF estão selecionados.</p></div><div class=paragraph><p>Alternativamente, várias opções <code>make</code> podem ser especificadas ao compilar um port de documentação, incluindo:</p></div><div class=dlist><dl><dt class=hdlist1><code>WITH_HTML</code></dt><dd><p>Cria o formato HTML com um único arquivo HTML por documento. A documentação formatada é salva em um arquivo chamado <span class=filename>article.html</span> ou <span class=filename>book.html</span>.</p></dd><dt class=hdlist1><code>WITH_PDF</code></dt><dd><p>A documentação formatada é salva em um arquivo chamado <span class=filename>article.pd</span> ou <span class=filename>book.pdf</span>.</p></dd><dt class=hdlist1><code>DOCBASE</code></dt><dd><p>Especifica onde instalar a documentação. O padrão é <span class=filename>/usr/local/shared/doc/freebsd</span>.</p></dd></dl></div><div class=paragraph><p>Este exemplo usa variáveis para instalar a documentação húngara como um arquivo PDF no diretório especificado:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/misc/freebsd-doc-hu</span>
<span class=c># make -DWITH_PDF DOCBASE=share/doc/freebsd/hu install clean</span></code></pre></div></div><div class=paragraph><p>Pacotes ou ports de documentação podem ser atualizados usando as instruções em <a href=../ports/#ports>Instalando Aplicativos. Pacotes e Ports</a>. Por exemplo, o seguinte comando atualiza a documentação húngara instalada usando <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portmaster/>ports-mgmt/portmaster</a> através do uso apenas de pacotes:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -PP hu-freebsd-doc</span></code></pre></div></div></div></div></div><div class=sect1><h2 id=current-stable>23.4. Acompanhando um ramo de desenvolvimento<a class=anchor href=#current-stable></a></h2><div class=sectionbody><div class=paragraph><p>O FreeBSD possui duas ramificações de desenvolvimento: FreeBSD-CURRENT e FreeBSD-STABLE.</p></div><div class=paragraph><p>Esta seção fornece uma explicação sobre cada ramo e seu público-alvo, bem como manter um sistema atualizado com cada ramo respectivo.</p></div><div class=sect2><h3 id=current>23.4.1. Usando o FreeBSD-CURRENT<a class=anchor href=#current></a></h3><div class=paragraph><p>O FreeBSD-CURRENT é o desenvolvimento "bleeding edge" do FreeBSD e espera-se que os usuários do FreeBSD-CURRENT tenham um alto grau de habilidade técnica. Usuários menos técnicos que desejam acompanhar um ramo de desenvolvimento devem acompanhar o FreeBSD-STABLE.</p></div><div class=paragraph><p>O FreeBSD-CURRENT é o código-fonte mais recente do FreeBSD e inclui trabalhos em andamento, mudanças experimentais e mecanismos de transição que podem ou não estar presentes na próxima versão oficial. Enquanto muitos desenvolvedores do FreeBSD compilam o código-fonte do FreeBSD-CURRENT diariamente, há curtos períodos de tempo em que o código fonte pode não ser compilável. Esses problemas são resolvidos o mais rápidamente possível, mas se o FreeBSD-CURRENT traz ou não uma nova funcionalidade pode ser uma questão de quando o código-fonte foi sincronizado.</p></div><div class=paragraph><p>O FreeBSD-CURRENT é disponibilizado para três grupos de interesse principais:</p></div><div class="olist arabic"><ol class=arabic><li><p>Membros da comunidade do FreeBSD que estão trabalhando ativamente em alguma parte da árvore de códigos fontes.</p></li><li><p>Membros da comunidade FreeBSD que são testadores ativos. Eles estão dispostos a gastar tempo resolvendo problemas, fazendo sugestões sobre mudanças e sobre a direção geral do FreeBSD, e enviando correções.</p></li><li><p>Usuários que desejam ficar de olho nas coisas, usam o código fonte atual para fins de referência ou fazem comentários ocasionais ou contribuições de código.</p></li></ol></div><div class=paragraph><p>O FreeBSD-CURRENT <em>não</em> deve ser considerado um fast-track para obter novos recursos antes do próximo release, já que os recursos de pré-release ainda não foram totalmente testados e provavelmente contêm bugs. Não é uma maneira rápida de obter correções de bugs, pois qualquer commit é tão provável de introduzir novos bugs quanto consertar os existentes. O FreeBSD-CURRENT não é de nenhuma maneira "oficialmente suportado".</p></div><div class=paragraph><p>Para acompanhar o FreeBSD-CURRENT:</p></div><div class="olist arabic"><ol class=arabic><li><p>Junte-se as listas <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-current>freebsd-current</a> e <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-src-head>svn-src-head</a>. Isto é <em>essencial</em> para ver os comentários que as pessoas estão fazendo sobre o estado atual do sistema e para receber importantes boletins sobre o estado atual do FreeBSD-CURRENT.</p><div class=paragraph><p>A lista <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-src-head>svn-src-head</a> registra a entrada de log de commit para cada alteração assim que ela é feita, juntamente com qualquer informação pertinente sobre possíveis efeitos colaterais.</p></div><div class=paragraph><p>Para juntar-se a estas listas, vá para <a href=http://lists.FreeBSD.org/mailman/listinfo>http://lists.FreeBSD.org/mailman/listinfo</a>, clique na lista para se inscrever e siga as instruções. A fim de rastrear mudanças em toda a árvore de código-fonte, não apenas as mudanças no FreeBSD-CURRENT, inscreva-se na lista <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-src-all>svn-src-all</a>.</p></div></li><li><p>Sincronize com o código-fonte do FreeBSD-CURRENT. Normalmente, o <a href=../mirrors/#svn>svnlite</a> é usado para obter o código -CURRENT da ramificação <code>head</code> de um dos sites espelhos do Subversion listados em <a href=../mirrors/#svn-mirrors>Sites Espelho do Subversion</a>.</p></li><li><p>Devido ao tamanho do repositório, alguns usuários escolhem sincronizar apenas as seções do código-fonte que lhes interessam ou para as quais estão contribuindo com correções. No entanto, os usuários que planejam compilar o sistema operacional a partir do código-fonte devem baixar <em>tudo</em> do FreeBSD-CURRENT, não apenas as partes selecionadas.</p><div class=paragraph><p>Antes de compilar o FreeBSD-CURRENT , leia o <span class=filename>/usr/src/Makefile</span> com muito cuidado e siga as instruções em <a href=#makeworld>Atualizando o FreeBSD a partir do código fonte</a>. Leia a <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-current>lista de discussão do FreeBSD-CURRENT</a> e o <span class=filename>/usr/src/UPDATING</span> para manter-se atualizado sobre outros procedimentos de bootstrapping que algumas vezes se tornam necessários no caminho para a próxima versão.</p></div></li><li><p>Ser ativo! Usuários do FreeBSD-CURRENT são encorajados a enviar suas sugestões para melhorias ou correções de bugs. Sugestões acompanhadas de código são sempre bem vindas.</p></li></ol></div></div><div class=sect2><h3 id=stable>23.4.2. Usando o FreeBSD-STABLE<a class=anchor href=#stable></a></h3><div class=paragraph><p>O FreeBSD-STABLE é o ramo de desenvolvimento a partir do qual as releases principais são feitas. Mudanças entram neste ramo em um ritmo mais lento e com a suposição geral de que elas foram testadas primeiro no FreeBSD-CURRENT. Ele <em>ainda</em> é um ramo de desenvolvimento e, a qualquer momento, as fontes para o FreeBSD-STABLE podem ou não ser adequadas para uso geral. É simplesmente outra trilha de desenvolvimento de engenharia, não um recurso para usuários finais. Usuários que não possuem recursos para realizar testes devem, ao invés disso, executar a release mais recente do FreeBSD.</p></div><div class=paragraph><p>Os interessados em acompanhar ou contribuir para o processo de desenvolvimento do FreeBSD, especialmente no que se refere à próxima versão do FreeBSD, devem considerar seguir o FreeBSD-STABLE.</p></div><div class=paragraph><p>Embora seja esperado que o ramo FreeBSD-STABLE compile e execute o tempo todo, isso não pode ser garantido. Uma vez que mais pessoas executam o FreeBSD-STABLE do que o FreeBSD-CURRENT, é inevitável que bugs e problemas mais raros às vezes sejam encontrados no FreeBSD-STABLE os quais não foram detectados no FreeBSD-CURRENT. Por esta razão, não se deve seguir cegamente o FreeBSD-STABLE. É particularmente importante <em>não</em> atualizar quaisquer servidores de produção para o FreeBSD-STABLE sem testar completamente o código em um ambiente de desenvolvimento ou de teste.</p></div><div class=paragraph><p>Para acompanhar o FreeBSD-STABLE:</p></div><div class="olist arabic"><ol class=arabic><li><p>Junte-se à lista <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable>freebsd-stable</a> para se manter informado sobre as dependências de compilação que podem aparecer no FreeBSD-STABLE ou qualquer outro problema que requeira atenção especial. Os desenvolvedores também farão anúncios nesta lista de e-mails quando estiverem contemplando alguma correção ou atualização controversa, dando aos usuários uma chance de responder se tiverem alguma questão a ser levantada sobre a alteração proposta.</p><div class=paragraph><p>Junte-se à lista svn relevante para o ramo que está sendo acompanhado. Por exemplo, os usuários que acompanham o ramo 9-STABLE devem se juntar a lista <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-9>svn-src-stable-9</a>. Esta lista registra a entrada do log de commit para cada alteração à medida que ela é feita, junto com qualquer informação pertinente sobre os possíveis efeitos colaterais.</p></div><div class=paragraph><p>Para se juntar a estas listas, vá para <a href=http://lists.FreeBSD.org/mailman/listinfo>http://lists.FreeBSD.org/mailman/listinfo</a>, clique na lista para se inscrever e siga as instruções. Se desejar acompanhar as mudanças para toda a árvore de código-fonte, inscreva-se na <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-src-all>svn-src-all</a> .</p></div></li><li><p>Para instalar um novo sistema FreeBSD-STABLE, instale a versão mais recente do FreeBSD-STABLE a partir de um dos <a href=../mirrors/#mirrors>sites espelho do FreeBSD</a> ou use um snapshot mensal criado a partir do FreeBSD-STABLE. Consulte <a href=https://www.FreeBSD.org/snapshots/>www.freebsd.org/snapshots</a> para maiores informações sobre snapshots.</p><div class=paragraph><p>Para compilar ou atualizar um sistema FreeBSD existente para o FreeBSD-STABLE, use o <a href=../mirrors/#svn>svnlite</a> para obter o código-fonte da ramificação desejada. Os nomes das ramificações, como <code>stable/9</code>, estão listados em <a href=https://www.FreeBSD.org/releng/>www.freebsd.org/releng</a>.</p></div></li><li><p>Antes de compilar ou atualizar para o FreeBSD-STABLE , leia o <span class=filename>/usr/src/Makefile</span> cuidadosamente e siga as instruções em <a href=#makeworld>Atualizando o FreeBSD a partir do código fonte</a>. Leia a <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable>lista de discussão FreeBSD-STABLE</a> e o <span class=filename>/usr/src/UPDATING</span> para manter-se atualizado sobre outros procedimentos de bootstrapping que às vezes se tornam necessários no caminho para o próximo release.</p></li></ol></div></div></div></div><div class=sect1><h2 id=makeworld>23.5. Atualizando o FreeBSD a partir do código fonte<a class=anchor href=#makeworld></a></h2><div class=sectionbody><div class=paragraph><p>A atualização do FreeBSD através da compilação a partir do código-fonte oferece várias vantagens sobre as atualizações binárias. O código pode ser compilado com opções para aproveitar o hardware específico. Partes do sistema base podem ser compiladas com configurações não padrões, ou deixadas de fora somente onde não são necessárias ou desejadas. O processo de compilação leva mais tempo para atualizar um sistema do que apenas instalar atualizações binárias, mas permite customização completa para produzir uma versão do FreeBSD adaptada as suas necessidades.</p></div><div class=sect2><h3 id=updating-src-quick-start>23.5.1. Inicio Rápido<a class=anchor href=#updating-src-quick-start></a></h3><div class=paragraph><p>Esta é uma referência rápida para as etapas típicas usadas para atualizar o FreeBSD compilando-o a partir do código fonte. As seções posteriores descrevem o processo com mais detalhes.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Atualizar e Compilar</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># svnlite update /usr/src  </span><i class=conum data-value=1></i><b>(1)</b>
check /usr/src/UPDATING  <i class=conum data-value=2></i><b>(2)</b>
<span class=c># cd /usr/src          </span><i class=conum data-value=3></i><b>(3)</b>
<span class=c># make -j4 buildworld  </span><i class=conum data-value=4></i><b>(4)</b>
<span class=c># make -j4 kernel      </span><i class=conum data-value=5></i><b>(5)</b>
<span class=c># shutdown -r now      </span><i class=conum data-value=6></i><b>(6)</b>
<span class=c># cd /usr/src          </span><i class=conum data-value=7></i><b>(7)</b>
<span class=c># make installworld    </span><i class=conum data-value=8></i><b>(8)</b>
<span class=c># mergemaster -Ui      </span><i class=conum data-value=9></i><b>(9)</b>
<span class=c># shutdown -r now      </span><i class=conum data-value=10></i><b>(10)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Obtenha a versão mais recente do código fonte. Veja <a href=#updating-src-obtaining-src>Atualizando o código fonte</a> para maiores informações sobre como obter e atualizar o código fonte.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Verifique o <span class=filename>/usr/src/UPDATING</span> para quaisquer etapas manuais necessárias antes ou depois de compilar a partir do código fonte.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Vá para o diretório de origem.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Compile o mundo, tudo exceto o kernel.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Compile e instale o kernel. Isso é equivalente a <code>make installkernel installkernel</code>.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>Reinicialize o sistema com o novo kernel.</td></tr><tr><td><i class=conum data-value=7></i><b>7</b></td><td>Vá para o diretório de origem.</td></tr><tr><td><i class=conum data-value=8></i><b>8</b></td><td>Instale o mundo.</td></tr><tr><td><i class=conum data-value=9></i><b>9</b></td><td>Atualize e mescle os arquivos de configuração em <span class=filename>/etc/</span>.</td></tr><tr><td><i class=conum data-value=10></i><b>10</b></td><td>Reinicie o sistema para usar o mundo e o kernel recém-compilados.</td></tr></tbody></table></div></li></ol></div></div></div></div><div class=sect2><h3 id=updating-src-preparing>23.5.2. Preparando-se para uma atualização a partir do código fonte<a class=anchor href=#updating-src-preparing></a></h3><div class=paragraph><p>Leia o <span class=filename>/usr/src/UPDATING</span>. Quaisquer etapas manuais que devem ser executadas antes ou depois de uma atualização são descritas neste arquivo.</p></div></div><div class=sect2><h3 id=updating-src-obtaining-src>23.5.3. Atualizando o código fonte<a class=anchor href=#updating-src-obtaining-src></a></h3><div class=paragraph><p>O código fonte do FreeBSD está localizado em <span class=filename>/usr/src/</span>. O método preferido para atualizar os fontes é através do sistema de controle de versão do Subversion. Verifique se o código-fonte está sob controle de versão:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># svnlite info /usr/src</span>
Path: /usr/src
Working Copy Root Path: /usr/src
...</code></pre></div></div><div class=paragraph><p>Isto indica que o <span class=filename>/usr/src/</span> está sob controle de versão e pode ser atualizado com o <a href="https://man.freebsd.org/cgi/man.cgi?query=svnlite&amp;sektion=1&amp;format=html">svnlite(1)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># svnlite update /usr/src</span></code></pre></div></div><div class=paragraph><p>O processo de atualização pode levar algum tempo se o diretório não tiver sido atualizado recentemente. Após a conclusão, o código-fonte estará atualizado e o processo de compilação descrito na próxima seção poderá começar.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=title>Obtendo o código fonte</div><div class=paragraph><p>Se a saída disser que <code>'/usr/src' is not a working copy</code>, estão faltando arquivos no diretório ou eles foram instalados com um método diferente. Um novo checkout da fonte é necessário.</p></div><table id=updating-src-obtaining-src-repopath class="tableblock frame-all grid-all stretch"><caption class=title>Tabela 1. Versões do FreeBSD e Caminhos do Repositório</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Saída do uname -r</th><th class="tableblock halign-left valign-top">Caminho do Repositório</th><th class="tableblock halign-left valign-top">Descrição</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><em>X.Y</em>-RELEASE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>base/releng/</code><em>X.Y</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A versão do release mais apenas correções críticas de segurança e correção de erros. Este ramo é recomendado para a maioria dos usuários.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><em>X.Y</em>-STABLE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>base/stable/</code><em>X</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A versão de Release mais todos os desenvolvimentos adicionais nesse ramo. O <em>STABLE</em> refere-se à interface binária de aplicativos (ABI) não sendo alterada, portanto, o software compilado para versões anteriores ainda é executado. Por exemplo, o software compilado para rodar no FreeBSD 10.1 ainda rodará no FreeBSD 10-STABLE compilado posteriormente.</p><p class=tableblock>Os ramos STABLE ocasionalmente possuem bugs ou incompatibilidades que podem afetar os usuários, embora sejam normalmente corrigidos rapidamente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><em>X</em>-CURRENT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>base/head/</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A mais recente versão de desenvolvimento do FreeBSD. A ramificação CURRENT pode ter grandes erros ou incompatibilidades e é recomendada apenas para usuários avançados.</p></td></tr></tbody></table><div class=paragraph><p>Determine qual versão do FreeBSD está sendo usada com <a href="https://man.freebsd.org/cgi/man.cgi?query=uname&amp;sektion=1&amp;format=html">uname(1)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># uname -r</span>
10.3-RELEASE</code></pre></div></div><div class=paragraph><p>Baseado em <a href=#updating-src-obtaining-src-repopath>Versões do FreeBSD e Caminhos do Repositório</a>, a fonte usada para atualizar <code>10.3-RELEASE</code> tem como caminho de repositório <code>base/releng/10.3</code>. Este caminho é usado ao verificar a fonte:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mv /usr/src /usr/src.bak </span><i class=conum data-value=1></i><b>(1)</b>
<span class=c># svnlite checkout https://svn.freebsd.org/base/releng/10.3 /usr/src </span><i class=conum data-value=2></i><b>(2)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Mova o diretório antigo para fora do caminho. Se não houver modificações locais nesse diretório, ele poderá ser excluído.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>O caminho da <a href=#updating-src-obtaining-src-repopath>Versões do FreeBSD e Caminhos do Repositório</a> é adicionado a URL repositório . O terceiro parâmetro é o diretório de destino do código-fonte no sistema local.</td></tr></tbody></table></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=updating-src-building>23.5.4. Compilando a partir do código-fonte<a class=anchor href=#updating-src-building></a></h3><div class=paragraph><p>O <em>world</em>, ou todo o sistema operacional, exceto o kernel, é compilado. Isso é feito primeiro para fornecer ferramentas atualizadas para construir o kernel. Então o próprio kernel é construído:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make buildworld</span>
<span class=c># make buildkernel</span></code></pre></div></div><div class=paragraph><p>O código compilado é escrito em <span class=filename>/usr/obj</span>.</p></div><div class=paragraph><p>Estes são os passos básicos. Opções adicionais para controlar a compilação são descritas abaixo.</p></div><div class=sect3><h4 id=updating-src-building-clean-build>23.5.4.1. Executando uma compilação limpa<a class=anchor href=#updating-src-building-clean-build></a></h4><div class=paragraph><p>Algumas versões do sistema de compilação do FreeBSD deixam o código previamente compilado no diretório de objetos temporários, <span class=filename>/usr/obj</span>. Isso pode acelerar as compilações posteriores, evitando recompilar o código que não foi alterado. Para forçar uma reconstrução limpa de tudo, use <code>cleanworld</code> antes de iniciar uma construção:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make cleanworld</span></code></pre></div></div></div><div class=sect3><h4 id=updating-src-building-jobs>23.5.4.2. Definindo o Número de Jobs<a class=anchor href=#updating-src-building-jobs></a></h4><div class=paragraph><p>Aumentar o número de jobs de compilação em processadores com vários núcleos pode melhorar a velocidade de construção. Determine o número de núcleos com <code>sysctl hw.ncpu</code>. Os processadores variam, assim como os sistemas de compilação usados com diferentes versões do FreeBSD, portanto, o teste é o único método seguro para determinar como um número diferente de tarefas afeta a velocidade de compilação. Como ponto de partida, considere valores entre metade e o dobro do número de núcleos. O número de jobs é especificado com a opção <code>-j</code>.</p></div><div id=updating-src-building-jobs-example class=exampleblock><div class=title>Exemplo 1. Aumentando o número de jobs de compilação</div><div class=content><div class=paragraph><p>Compilando o mundo e o kernel com quatro jobs:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -j4 buildworld buildkernel</span></code></pre></div></div></div></div></div><div class=sect3><h4 id=updating-src-building-only-kernel>23.5.4.3. Compilando Apenas o Kernel<a class=anchor href=#updating-src-building-only-kernel></a></h4><div class=paragraph><p>Um <code>buildworld</code> deve ser completado se o código-fonte for alterado. Depois disso, um <code>buildkernel</code> para compilar um kernel pode ser executado a qualquer momento. Para compilar apenas o kernel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make buildkernel</span></code></pre></div></div></div><div class=sect3><h4 id=updating-src-building-custom-kernel>23.5.4.4. Compilando um Kernel Customizado<a class=anchor href=#updating-src-building-custom-kernel></a></h4><div class=paragraph><p>O kernel padrão do FreeBSD é baseado em um <em>arquivo de configuração do kernel</em> chamado <span class=filename>GENERIC</span>. O kernel <span class=filename>GENERIC</span> inclui os drivers e opções de dispositivos mais comumente necessários. Às vezes, é útil ou necessário criar um kernel personalizado, adicionando ou removendo drivers de dispositivo ou opções para atender a uma necessidade específica.</p></div><div class=paragraph><p>Por exemplo, alguém que desenvolve um pequeno computador embarcado com RAM severamente limitada pode remover drivers de dispositivo desnecessários ou opções para tornar o kernel um pouco menor.</p></div><div class=paragraph><p>Os arquivos de configuração do Kernel estão localizados em <span class=filename>/usr/src/sys/arch/conf/</span>, onde <em>arch</em> é a saída do <code>uname - m</code>. Na maioria dos computadores, a saida será <code>amd64</code>, resultando no diretório de arquivos de configuração <span class=filename>/usr/src/sys/amd64/conf/</span>.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>O <span class=filename>/usr/src</span> pode ser deletado ou recriado, então é preferível manter os arquivos de configuração do kernel em um diretório separado, como por exemplo em <span class=filename>/root</span>. Vincule o arquivo de configuração do kernel ao diretório <span class=filename>conf</span>. Se esse diretório for excluído ou sobrescrito, a configuração do kernel pode ser vinculada novamente ao novo.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Um arquivo de configuração personalizado pode ser criado copiando o arquivo de configuração <span class=filename>GENERIC</span>. Neste exemplo, o novo kernel personalizado é para um servidor de armazenamento, portanto, é denominado <span class=filename>STORAGESERVER</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp /usr/src/sys/amd64/conf/GENERIC /root/STORAGESERVER</span>
<span class=c># cd /usr/src/sys/amd64/conf</span>
<span class=c># ln -s /root/STORAGESERVER .</span></code></pre></div></div><div class=paragraph><p>O <span class=filename>/root/STORAGESERVER</span> é então editado, adicionando ou removendo dispositivos ou opções como mostrado em <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=5&amp;format=html">config(5)</a>.</p></div><div class=paragraph><p>O kernel personalizado é compilado pela configuração <code>KERNCONF</code> no arquivo de configuração do kernel na linha de comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make buildkernel KERNCONF=STORAGESERVER</span></code></pre></div></div></div></div><div class=sect2><h3 id=updating-src-installing>23.5.5. Instalando o código compilado<a class=anchor href=#updating-src-installing></a></h3><div class=paragraph><p>Depois que as etapas <code>buildworld</code> e <code>buildkernel</code> forem concluídas, o novo kernel e o restante do sistema base serão instalados:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make installkernel</span>
<span class=c># shutdown -r now</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld</span>
<span class=c># shutdown -r now</span></code></pre></div></div><div class=paragraph><p>Se um kernel customizado foi compilado, <code>KERNCONF</code> também deve ser configurado para usar o novo kernel customizado:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make installkernel KERNCONF=STORAGESERVER</span>
<span class=c># shutdown -r now</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld</span>
<span class=c># shutdown -r now</span></code></pre></div></div></div><div class=sect2><h3 id=updating-src-completing>23.5.6. Concluindo a atualização<a class=anchor href=#updating-src-completing></a></h3><div class=paragraph><p>Algumas tarefas finais completam a atualização. Quaisquer arquivos de configuração que tenham sido modificados serão mesclado com as novas versões, as bibliotecas desatualizadas são localizadas e removidas e, em seguida, o sistema é reiniciado.</p></div><div class=sect3><h4 id=updating-src-completing-merge-mergemaster>23.5.6.1. Mesclando arquivos de configuração com o <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a><a class=anchor href=#updating-src-completing-merge-mergemaster></a></h4><div class=paragraph><p>O <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> fornece uma maneira fácil de mesclar as alterações feitas nos arquivos de configuração do sistema com novas versões desses arquivos.</p></div><div class=paragraph><p>Com a opção <code>-Ui</code>, o <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> atualizará automaticamente os arquivos que não foram modificados pelo usuário e instalará os novos arquivos que ainda não estiverem presentes:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mergemaster -Ui</span></code></pre></div></div><div class=paragraph><p>Se um arquivo precisar ser mesclado manualmente, uma exibição interativa permitirá que o usuário escolha quais partes dos arquivos serão mantidas. Veja <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> para maiores informações.</p></div></div><div class=sect3><h4 id=updating-src-completing-check-old>23.5.6.2. Verificando Arquivos e Bibliotecas Desatualizados<a class=anchor href=#updating-src-completing-check-old></a></h4><div class=paragraph><p>Alguns arquivos ou diretórios obsoletos podem permanecer após uma atualização. Esses arquivos podem ser localizados:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make check-old</span></code></pre></div></div><div class=paragraph><p>e excluído:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make delete-old</span></code></pre></div></div><div class=paragraph><p>Algumas bibliotecas obsoletas também podem permanecer. Estes podem ser detectados com:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make check-old-libs</span></code></pre></div></div><div class=paragraph><p>e deletado com</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make delete-old-libs</span></code></pre></div></div><div class=paragraph><p>Os programas que ainda estavam usando estas bibliotecas antigas deixarão de funcionar quando a biblioteca for excluída. Estes programas devem ser recompilados ou substituídos após a exclusão das bibliotecas antigas.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Quando todos os arquivos ou diretórios antigos forem considerados seguros para serem excluídos, a ação de pressionar <kbd>y</kbd> e <kbd>Enter</kbd> para excluir cada arquivo poderá ser evitada configurando a variável <code>BATCH_DELETE_OLD_FILES</code> no comando. Por exemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make BATCH_DELETE_OLD_FILES=yes delete-old-libs</span></code></pre></div></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=updating-src-completing-restart>23.5.6.3. Reiniciando após a atualização<a class=anchor href=#updating-src-completing-restart></a></h4><div class=paragraph><p>A última etapa após a atualização é reiniciar o computador para que todas as alterações entrem em vigor:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown -r now</span></code></pre></div></div></div></div></div></div><div class=sect1><h2 id=small-lan>23.6. Atualização de várias máquinas<a class=anchor href=#small-lan></a></h2><div class=sectionbody><div class=paragraph><p>Quando várias máquinas precisam rastrear a mesma árvore de código-fonte, é um desperdício de espaço em disco, largura de banda de rede e ciclos de CPU se cada sistema tiver que baixar o código-fonte e recompilar tudo. A solução é ter uma máquina fazendo a maior parte do trabalho, enquanto o resto das máquinas montam esse trabalho via NFS. Esta seção descreve um método para fazer isso. Para maiores informações sobre o uso de NFS, consulte <a href=../network-servers/#network-nfs>Network File System (NFS)</a>.</p></div><div class=paragraph><p>Primeiro, identifique um conjunto de máquinas que executará o mesmo conjunto de binários, conhecido como <em>conjunto de compilação</em>. Cada máquina pode ter um kernel customizado, mas executará os mesmos binários do userland. A partir desse conjunto, escolha uma máquina para ser a <em>máquina de compilação</em> em que o sistema base e o kernel serão compilados. Idealmente, esta deverá ser uma máquina rápida que tenha CPU suficiente disponível para executar o <code>make buildworld</code> e o <code>make buildkernel</code>.</p></div><div class=paragraph><p>Selecione uma máquina para ser a <em>máquina de teste</em>, que testará as atualizações de software antes de serem colocadas em produção. Esta <em>deve</em> ser uma máquina que você possa se dar ao luxo de ficar inativa por um longo período de tempo. Pode ser a máquina de compilação, mas não precisa ser.</p></div><div class=paragraph><p>Todas as máquinas neste conjunto de compilação precisam montar o <span class=filename>/usr/obj</span> e o <span class=filename>/usr/src</span> da máquina de compilação através do NFS. Para vários conjuntos de compilação, o <span class=filename>/usr/src</span> deve ser um sistema de arquivos local na máquina de compilação e um sistema montado por NFS nas demais.</p></div><div class=paragraph><p>Certifique-se de que o <span class=filename>/etc/make.conf</span> e o <span class=filename>/etc/src.conf</span> em todas as máquinas no conjunto de compilação concordem com a máquina de compilação. Isso significa que a máquina de compilação deve compilar todas as partes do sistema base que qualquer máquina no conjunto de compilação irá instalar. Além disso, cada máquina de compilação deve ter seu nome de kernel definido com <code>KERNCONF</code> em <span class=filename>/etc/make.conf</span>, e a máquina de compilação deve listá-los todos em seu <code>KERNCONF</code>, listando seu próprio kernel primeiro. A máquina de compilação deve ter os arquivos de configuração do kernel para cada máquina em seu <span class=filename>/usr/src/sys/arch/conf</span>.</p></div><div class=paragraph><p>Na máquina de compilação, compile o kernel e o mundo conforme descrito em <a href=#makeworld>Atualizando o FreeBSD a partir do código fonte</a>, mas não instale nada na máquina de compilação. Em vez disso, instale o kernel compilado na máquina de teste. Na máquina de teste, monte <span class=filename>/usr/src</span> e o <span class=filename>/usr/obj</span> via NFS. Em seguida, execute <code>shutdown now</code> para ir para o modo de usuário único para instalar o novo kernel e o restante do sistema base e execute o <code>mergemaster</code> como de costume. Quando terminar, reinicialize para retornar às operações multiusuário normais.</p></div><div class=paragraph><p>Depois de verificar se tudo na máquina de teste está funcionando corretamente, use o mesmo procedimento para instalar o novo software em cada uma das outras máquinas no conjunto de compilação.</p></div><div class=paragraph><p>A mesma metodologia pode ser usada para a árvore de ports. O primeiro passo é compartilhar o <span class=filename>/usr/ports</span> via NFS para todas as máquinas no conjunto de compilação. Para configurar o <span class=filename>/etc/make.conf</span> para compartilhar os distfiles, configure o <code>DISTDIR</code> para um diretório compartilhado que possa ser escrito por qualquer usuário <code>root</code> mapeado pela montagem NFS. Cada máquina deve definir o <code>WRKDIRPREFIX</code> para um diretório de compilação local, se os ports precisarem ser compilados localmente. Como alternativa, se o sistema de compilação tiver que compilar e distribuir pacotes para as máquinas no conjunto de compilação, configure o <code>PACKAGES</code> no sistema de compilação para um diretório semelhante ao <code>DISTDIR</code>.</p></div></div></div></div><hr><div class=last-modified><p><strong>Última alteração em</strong>: 9 de março de 2024 por <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Anterior></i><div class=container><a href=https://docs.freebsd.org/pt-br/books/handbook/l10n class=direction>Anterior</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Início></i><div class=container><a href=../ class=direction>Início</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/pt-br/books/handbook/dtrace class=direction>Próximo</a></div><i class="fa fa-angle-right" aria-hidden=true title=Próximo></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#updating-upgrading-synopsis>23.1. Sinopse</a></li><li><a href=#updating-upgrading-freebsdupdate>23.2. Atualização do FreeBSD</a></li><li><a href=#updating-upgrading-documentation>23.3. Atualizando o Conjunto de Documentação</a></li><li><a href=#current-stable>23.4. Acompanhando um ramo de desenvolvimento</a></li><li><a href=#makeworld>23.5. Atualizando o FreeBSD a partir do código fonte</a></li><li><a href=#small-lan>23.6. Atualização de várias máquinas</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/pt-br/books/handbook/handbook_pt-br.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edite essa página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/pt-br/_index target=_blank>Edite essa página</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/pt-br/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Escolha o idioma">
<span>Brazilian Portuguese</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/pt-br class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/pt-br/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>