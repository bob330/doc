<!doctype html><html class=theme-light lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/><title>Capítulo 8. Prácticas Avançadas de pkg-plist | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Capítulo 8. Prácticas Avançadas de pkg-plist"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="pt-br"><meta property="og:url" content="https://docs.freebsd.org/pt-br/books/porters-handbook/plist/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/pt-br\/books\/porters-handbook\/plist\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/pt-br>Documentation portal</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/pt-br/books>Books</a></li><li><a href=https://docs.freebsd.org/pt-br/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/pt-br/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=pt-br>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Pesquisar aria-label=Pesquisar maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-c934186a5adac4f64b993f751abed30c class=toggle>
<label for=chapter-c934186a5adac4f64b993f751abed30c><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-why/>Capítulo 1. Introdução</a></li><li><input type=checkbox id=chapter-2798d78fe854f2709bab5ca473b97050 class=toggle>
<label for=chapter-2798d78fe854f2709bab5ca473b97050><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/new-port/>Capítulo 2. Criando um Novo Port</a></li><li><input type=checkbox id=chapter-c0d52b9121b517084e01f59cefa725e1 class=toggle>
<label class="icon cursor" for=chapter-c0d52b9121b517084e01f59cefa725e1><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/quick-porting/>Capítulo 3. Port Rápido</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/quick-porting/#porting-makefile>3.1. Escrevendo o <span class=filename>Makefile</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/quick-porting/#porting-desc>3.2. Escrevendo os Arquivos de Descrição</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/quick-porting/#porting-checksum>3.3. Criando o Arquivo Checksum</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/quick-porting/#porting-testing>3.4. Testando o Port</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/quick-porting/#porting-portlint>3.5. Verificando o Port com <code>portlint</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/quick-porting/#porting-submitting>3.6. Enviando o Novo Port</a></li></ul></li><li><input type=checkbox id=chapter-3694de03923da61ba10a0a25efca6ef0 class=toggle>
<label class="icon cursor" for=chapter-3694de03923da61ba10a0a25efca6ef0><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/slow-porting/>Capítulo 4. Port Lento</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/slow-porting/#slow-work>4.1. Como as Coisas Funcionam</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/slow-porting/#slow-sources>4.2. Obtendo os Fontes Originais</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/slow-porting/#slow-modifying>4.3. Modificando o Port</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/slow-porting/#slow-patch>4.4. Patching</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/slow-porting/#slow-configure>4.5. Configurando</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/slow-porting/#slow-user-input>4.6. Manipulando a Entrada do Usuário</a></li></ul></li><li><input type=checkbox id=chapter-165f6a6dba6651f8c25fc63ab83d6538 class=toggle>
<label class="icon cursor" for=chapter-165f6a6dba6651f8c25fc63ab83d6538><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/>Capítulo 5. Configurando o Makefile</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-source>5.1. O Código Fonte Original</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-categories>5.2. Categorização</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-distfiles>5.3. Os Arquivos de Distribuição</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-maintainer>5.4. <code>MAINTAINER</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-comment>5.5. <code>COMMENT</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#licenses>5.6. Licenças</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-portscout>5.7. <code>PORTSCOUT</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-depend>5.8. Dependências</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-use-vars>5.9. 0 <code>USE_*</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-masterdir>5.10. Ports Slaves e <code>MASTERDIR</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-manpages>5.11. Páginas de Manual</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-info>5.12. Arquivos de Informação</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-options>5.13. Opções do Makefile</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#makefile-wrkdir>5.14. Especificando o Diretório de Trabalho</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#conflicts>5.15. Manipulando Conflitos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#install>5.16. Instalando Arquivos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/makefiles/#binary-alias>5.17. Use <code>BINARY_ALIAS</code> para Renomear Comandos Em Vez de Aplicar Patch na Compilação</a></li></ul></li><li><input type=checkbox id=chapter-19e3150e00beb84341d8ac1a73936ef0 class=toggle>
<label class="icon cursor" for=chapter-19e3150e00beb84341d8ac1a73936ef0><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/>Capítulo 6. Considerações Especiais</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#staging>6.1. Staging</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#bundled-libs>6.2. Bibliotecas Empacotadas (Bundled)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#porting-shlibs>6.3. Bibliotecas Compartilhadas</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#porting-restrictions>6.4. Ports com Restrições de Distribuição ou Preocupações Legais</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#building>6.5. Mecanismos de Compilação</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-autotools>6.6. Usando o GNU Autotools</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-gettext>6.7. Usando o GNU <code>gettext</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-perl>6.8. Usando Perl</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-x11>6.9. Usando o X11</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-gnome>6.10. Usando o GNOME</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#gnome-components>6.11. Componentes GNOME</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-qt>6.12. Usando o Qt</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-kde>6.13. Usando o KDE</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-lxqt>6.14. Usando o LXQt</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-java>6.15. Usando Java</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-php>6.16. Aplicações Web, Apache e PHP</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-python>6.17. Usando Python</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-tcl>6.18. Usando Tcl/Tk</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-ruby>6.19. Usando Ruby</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-sdl>6.20. Usando SDL</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-wx>6.21. Usando wxWidgets</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-lua>6.22. Usando Lua</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-iconv>6.23. Usando <code>iconv</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-xfce>6.24. Usando o Xfce</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#using-databases>6.25. Usando Bancos de Dados</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#rc-scripts>6.26. Iniciando e Parando Serviços (com scripts <code>rc</code>)</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#users-and-groups>6.27. Adicionando Usuários e Grupos</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#requiring-kernel-sources>6.28. Ports que Dependem dos Fontes do kernel</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#go-libs>6.29. Bibliotecas Go</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#haskell-libs>6.30. Bibliotecas Haskell</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/special/#shell-completion>6.31. Arquivos Shell Completion</a></li></ul></li><li><input type=checkbox id=chapter-2a77b1fa0736427c336503055c700137 class=toggle>
<label class="icon cursor" for=chapter-2a77b1fa0736427c336503055c700137><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/flavors/>Capítulo 7. Flavors</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/flavors/#flavors-intro>7.1. Uma Introdução aos Flavors</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/flavors/#flavors-using>7.2. Usando FLAVORS</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/flavors/#flavors-auto-php>7.3. <code>USES=php</code> e Flavors</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/flavors/#flavors-auto-python>7.4. <code>USES=python</code> e Flavors</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/flavors/#flavors-auto-lua>7.5. <code>USES=lua</code> e Flavors</a></li></ul></li><li><input type=checkbox id=chapter-154554011c772e1e6cc0108eef5e0b2b class=toggle checked>
<label class="icon cursor" for=chapter-154554011c772e1e6cc0108eef5e0b2b><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/>Capítulo 8. Prácticas Avançadas de pkg-plist</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/#plist-sub>8.1. Alterando o <span class=filename>pkg-plist</span> Baseado em Variáveis Make</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/#plist-cleaning>8.2. Diretórios Vazios</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/#plist-config>8.3. Arquivos de Configuração</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/#plist-dynamic>8.4. Lista de Pacotes Estática versus Dinâmica</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/#plist-autoplist>8.5. Criação Automatizada da Lista de Pacotes</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/plist/#plist-keywords>8.6. Expandindo a Lista de Pacotes com Keywords</a></li></ul></li><li><input type=checkbox id=chapter-5955b0791ccd51005b5bc5bebeec91e5 class=toggle>
<label class="icon cursor" for=chapter-5955b0791ccd51005b5bc5bebeec91e5><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/pkg-files/>Capítulo 9. pkg-*</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/pkg-files/#porting-message>9.1. <span class=filename>pkg-message</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/pkg-files/#pkg-install>9.2. <span class=filename>pkg-install</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/pkg-files/#pkg-deinstall>9.3. <span class=filename>pkg-deinstall</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/pkg-files/#pkg-names>9.4. Mudando os nomes dos <span class=filename>pkg-*</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/pkg-files/#using-sub-files>9.5. Fazendo uso de <code>SUB_FILES</code> e <code>SUB_LIST</code></a></li></ul></li><li><input type=checkbox id=chapter-ee86a11caedb6395ed82b94ec7a9c6cd class=toggle>
<label class="icon cursor" for=chapter-ee86a11caedb6395ed82b94ec7a9c6cd><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/testing/>Capítulo 10. Testando o Port</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/testing/#make-describe>10.1. Executando <code>make describe</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/testing/#testing-portlint>10.2. Portlint</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/testing/#testing-porttools>10.3. Ferramentas do Ports</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/testing/#porting-prefix>10.4. <code>PREFIX</code> e <code>DESTDIR</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/testing/#testing-poudriere>10.5. Poudriere</a></li></ul></li><li><input type=checkbox id=chapter-4ccaefe2590c044ca2b79c46e79fe17f class=toggle>
<label class="icon cursor" for=chapter-4ccaefe2590c044ca2b79c46e79fe17f><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/upgrading/>Capítulo 11. Atualizando um Port</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/upgrading/#svn-diff>11.1. Usando o Subversion para Criar Patches</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/upgrading/#moved-and-updating-files>11.2. <span class=filename>UPDATE</span> e <span class=filename>MOVED</span></a></li></ul></li><li><input type=checkbox id=chapter-1023911bc0041506653280b832dea3b2 class=toggle>
<label class="icon cursor" for=chapter-1023911bc0041506653280b832dea3b2><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/security/>Capítulo 12. Segurança</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/security/#security-intro>12.1. Por Que Segurança é Tão Importante</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/security/#security-fix>12.2. Corrigindo Vulnerabilidades de Segurança</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/security/#security-notify>12.3. Mantendo a Comunidade Informada</a></li></ul></li><li><input type=checkbox id=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7 class=toggle>
<label class="icon cursor" for=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/>Capítulo 13. O Que Fazer e Não Fazer</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-intro>13.1. Introdução</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#porting-wrkdir>13.2. <code>WRKDIR</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#porting-wrkdirprefix>13.3. <code>WRKDIRPREFIX</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#porting-versions>13.4. Diferenciando Sistemas Operacionais e Versões de OS</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-after-port-mk>13.5. Escrevendo Algo Depois do <span class=filename>bsd.port.mk</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-sh-exec>13.6. Uso de Declarações <code>exec</code> em Wrapper Scripts</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-rational>13.7. Faça as Coisas Racionalmente</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-cc>13.8. Respeite Ambos <code>CC</code> e <code>CXX</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-cflags>13.9. Respeite <code>CFLAGS</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-verbose-logs>13.10. Logs de Compilação Detalhados</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-feedback>13.11. Feedback</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-readme>13.12. <span class=filename>README.html</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-noinstall>13.13. Marcando um Port não Instalável com a variável <code>BROKEN</code>, <code>FORBIDDEN</code> ou <code>IGNORE</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-arch>13.14. Considerações Arquitetônicas</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-deprecated>13.15. Marcando um Port para Remoção com <code>DEPRECATED</code> ou <code>EXPIRATION_DATE</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-dot-error>13.16. Evite o Uso do Construtor <code>.error</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-sysctl>13.17. Uso de <span class=filename>sysctl</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-rerolling-distfiles>13.18. Atualizando Distfiles</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-use-posix-standards>13.19. Uso de Padrões POSIX</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-dads/#dads-misc>13.20. Miscelânea</a></li></ul></li><li><input type=checkbox id=chapter-5ef4c4c471a3f55c74fb71881f9d8713 class=toggle>
<label for=chapter-5ef4c4c471a3f55c74fb71881f9d8713><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/porting-samplem/>Capítulo 14. Um Exemplo de Makefile</a></li><li><input type=checkbox id=chapter-15c16456ccd7b4dc2a25fa8defa336a1 class=toggle>
<label class="icon cursor" for=chapter-15c16456ccd7b4dc2a25fa8defa336a1><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/>Chapter 15. Ordem das Variáveis ​​nos Makefiles de Port</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-portname>15.1. Bloco <code>PORTNAME</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-patch>15.2. Bloco <code>PATCHFILES</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-maintainer>15.3. Bloco <code>MAINTAINER</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-license>15.4. Bloco <code>LICENSE</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-broken>15.5. Mensagens Genéricas <code>BROKEN</code>/<code>IGNORE</code>/<code>DEPRECATED</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-depends>15.6. O Bloco de Dependências</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-flavors>15.7. Flavors</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-uses>15.8. <code>USES</code> e <code>USE_x</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-variables>15.9. Variáveis ​​Padrão <span class=filename>bsd.port.mk</span></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-options>15.10. Opções e Assistentes</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-rest>15.11. O Restante das Variáveis</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/order/#porting-order-targets>15.12. Os Targets</a></li></ul></li><li><input type=checkbox id=chapter-70f5a4755700a24529175d26e65871bf class=toggle>
<label class="icon cursor" for=chapter-70f5a4755700a24529175d26e65871bf><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/keeping-up/>Capítulo 16. Mantendo-se Atualizado</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/keeping-up/#freshports>16.1. FreshPorts</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/keeping-up/#svnweb>16.2. A interface Web para o Repositório do Código Fonte</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/keeping-up/#ports-mailing-list>16.3. A Lista de Discussão de Ports do FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/keeping-up/#build-cluster>16.4. O Cluster de Compilação de Ports do FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/keeping-up/#distfile-survey>16.5. Portscout: o Scanner de Distfile de Ports do FreeBSD</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/keeping-up/#portsmon>16.6. O Sistema de Monitoramento de Ports do FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-8225273087f0e195be28132f4b5a0562 class=toggle>
<label class="icon cursor" for=chapter-8225273087f0e195be28132f4b5a0562><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/>Capítulo 17. Using USES Macros</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-intro>17.1. Uma introdução ao <code>USES</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-7z>17.2. <code>7z</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-ada>17.3. <code>ada</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-autoreconf>17.4. <code>autoreconf</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-blaslapack>17.5. <code>blaslapack</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-bdb>17.6. <code>bdb</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-bison>17.7. <code>bison</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-cabal>17.8. <code>cabal</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-cargo>17.9. <code>cargo</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-charsetfix>17.10. <code>charsetfix</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-cmake>17.11. <code>cmake</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-compiler>17.12. <code>compiler</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-cpe>17.13. <code>cpe</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-cran>17.14. <code>cran</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-desktop-file-utils>17.15. <code>desktop-file-utils</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-desthack>17.16. <code>desthack</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-display>17.17. <code>display</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-dos2unix>17.18. <code>dos2unix</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-drupal>17.19. <code>drupal</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-fakeroot>17.20. <code>fakeroot</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-fam>17.21. <code>fam</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-firebird>17.22. <code>firebird</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-fonts>17.23. <code>fonts</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-fortran>17.24. <code>fortran</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-fuse>17.25. <code>fuse</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gem>17.26. <code>gem</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gettext>17.27. <code>gettext</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gettext-runtime>17.28. <code>gettext-runtime</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gettext-tools>17.29. <code>gettext-tools</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-ghostscript>17.30. <code>ghostscript</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gl>17.31. <code>gl</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gmake>17.32. <code>gmake</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gnome>17.33. <code>gnome</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-go>17.34. <code>go</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gperf>17.35. <code>gperf</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-grantlee>17.36. <code>grantlee</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-groff>17.37. <code>groff</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-gssapi>17.38. <code>gssapi</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-horde>17.39. <code>horde</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-iconv>17.40. <code>iconv</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-imake>17.41. <code>imake</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-kde>17.42. <code>kde</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-kmod>17.43. <code>kmod</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-lha>17.44. <code>lha</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-libarchive>17.45. <code>libarchive</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-libedit>17.46. <code>libedit</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-libtool>17.47. <code>libtool</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-linux>17.48. <code>linux</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-localbase>17.49. <code>localbase</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-lua>17.50. <code>lua</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-lxqt>17.51. <code>lxqt</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-makeinfo>17.52. <code>makeinfo</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-makeself>17.53. <code>makeself</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-mate>17.54. <code>mate</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-meson>17.55. <code>meson</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-metaport>17.56. <code>metaport</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-mysql>17.57. <code>mysql</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-mono>17.58. <code>mono</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-motif>17.59. <code>motif</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-ncurses>17.60. <code>ncurses</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-ninja>17.61. <code>ninja</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-objc>17.62. <code>objc</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-openal>17.63. <code>openal</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-pathfix>17.64. <code>pathfix</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-pear>17.65. <code>pear</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-perl5>17.66. <code>perl5</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-pgsql>17.67. <code>pgsql</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-php>17.68. <code>php</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-pkgconfig>17.69. <code>pkgconfig</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-pure>17.70. <code>pure</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-pyqt>17.71. <code>pyqt</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-python>17.72. <code>python</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-qmail>17.73. <code>qmail</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-qmake>17.74. <code>qmake</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-qt>17.75. <code>qt</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-qt-dist>17.76. <code>qt-dist</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-readline>17.77. <code>readline</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-samba>17.78. <code>samba</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-scons>17.79. <code>scons</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-shared-mime-info>17.80. <code>shared-mime-info</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-shebangfix>17.81. <code>shebangfix</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-sqlite>17.82. <code>sqlite</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-ssl>17.83. <code>ssl</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-tar>17.84. <code>tar</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-tcl>17.85. <code>tcl</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-terminfo>17.86. <code>terminfo</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-tk>17.87. <code>tk</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-uidfix>17.88. <code>uidfix</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-uniquefiles>17.89. <code>uniquefiles</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-varnish>17.90. <code>varnish</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-webplugin>17.91. <code>webplugin</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-xfce>17.92. <code>xfce</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-xorg>17.93. <code>xorg</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-xorg-cat>17.94. <code>xorg-cat</code></a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/uses/#uses-zip>17.95. <code>zip</code></a></li></ul></li><li><input type=checkbox id=chapter-7713ccc63287693c9be6c832b2c1e850 class=toggle>
<label class="icon cursor" for=chapter-7713ccc63287693c9be6c832b2c1e850><a role=button></a></label><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/>Capítulo 18. Valores __FreeBSD_version</a><ul><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-13>18.1. Versões do FreeBSD 13</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-12>18.2. Versões do FreeBSD 12</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-11>18.3. Versões do FreeBSD 11</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-10>18.4. Versões do FreeBSD 10</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-9>18.5. Versões do FreeBSD 9</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-8>18.6. Versões do FreeBSD 8</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-7>18.7. Versões do FreeBSD 7</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-6>18.8. Versões do FreeBSD 6</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-5>18.9. Versões do FreeBSD 5</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-4>18.10. Versões do FreeBSD 4</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-3>18.11. Versões do FreeBSD 3</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-2-2>18.12. Versões do FreeBSD 2.2</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/versions/#versions-2>18.13. FreeBSD 2 Antes das Versões 2.2-RELEASE</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title=Menu></i>
Menu</span></label></div><h1 class=title>Capítulo 8. Prácticas Avançadas de pkg-plist</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
Esta tradução pode estar desatualizada. Para ajudar com as traduções, acesse a <a href=https://translate-dev.freebsd.org/ target=_blank>ferramenta de traduções do FreeBSD</a>.</p></div><div class=toc-mobile><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#plist-sub>8.1. Alterando o <span class=filename>pkg-plist</span> Baseado em Variáveis Make</a></li><li><a href=#plist-cleaning>8.2. Diretórios Vazios</a></li><li><a href=#plist-config>8.3. Arquivos de Configuração</a></li><li><a href=#plist-dynamic>8.4. Lista de Pacotes Estática versus Dinâmica</a></li><li><a href=#plist-autoplist>8.5. Criação Automatizada da Lista de Pacotes</a></li><li><a href=#plist-keywords>8.6. Expandindo a Lista de Pacotes com Keywords</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=plist-sub>8.1. Alterando o <span class=filename>pkg-plist</span> Baseado em Variáveis Make<a class=anchor href=#plist-sub></a></h2><div class=sectionbody><div class=paragraph><p>Alguns ports, particularmente os <code>p5-</code> ports, precisam mudar seus <span class=filename>pkg-plist</span> dependendo de quais opções eles são configurados com (ou versão de <code>perl</code>, no caso de <code>p5-</code> ports). Para tornar isso fácil, todas as instâncias <span class=filename>pkg-plist</span> de <code>%%OSREL%%</code>, <code>%%PERL_VER%%</code> e <code>%%PERL_VERSION%%</code> serão substituídas apropriadamente. O valor de <code>%%OSREL%%</code> é a revisão numérica do sistema operacional (por exemplo,<code>4.9</code>). <code>%%PERL_VERSION%%</code> e <code>%%PERL_VER%%</code> é o número completo da versão <code>perl</code> (por exemplo,<code>5.8.9</code>). Muitos outros <code>%%<em>VARS</em>%%</code> relacionados aos arquivos de documentação do port são descritos na <a href=../makefiles/#install-documentation>seção relevante</a>.</p></div><div class=paragraph><p>Para fazer outras substituições, defina <code>PLIST_SUB</code> com uma lista de pares <code><em>VAR</em>=<em>VALOR</em></code> e as instâncias de <code>%%<em>VAR</em>%%</code> serão substituídas por <em>VALOR</em> no <span class=filename>pkg-plist</span>.</p></div><div class=paragraph><p>Por exemplo, se um port instalar muitos arquivos em um subdiretório específico da versão, use um placeholder para a versão de modo que o <span class=filename>pkg-plist</span> não precise ser gerado novamente toda vez que o port é atualizado. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OCTAVE_VERSION=	${PORTREVISION}
PLIST_SUB=	OCTAVE_VERSION=${OCTAVE_VERSION}</pre></div></div><div class=paragraph><p>no <span class=filename>Makefile</span> e use <code>%%OCTAVE_VERSION%%</code> onde quer que a versão apareça em <span class=filename>pkg-plist</span>. Quando o port é atualizado, não será necessário editar dezenas (ou em alguns casos, centenas) de linhas no <span class=filename>pkg-plist</span>.</p></div><div class=paragraph><p>Se os arquivos são instalados condicionalmente pelas opções definidas no port, a maneira usual de lidar com isso é prefixando as linhas <span class=filename>pkg-plist</span> com <code>%%OPT%%</code> para linhas necessárias quando a opção está ativada ou <code>%%NO_OPT%%</code> quando a opção está desativada e adicionando <code>OPTIONS_SUB=yes</code> ao <span class=filename>Makefile</span>. Veja <a href=../makefiles/#options_sub><code>OPTIONS_SUB</code></a> para mais informações.</p></div><div class=paragraph><p>Por exemplo, se houver arquivos que são instalados apenas quando a opção <code>X11</code> está ativada, e o <span class=filename>Makefile</span> tem:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	X11
OPTIONS_SUB=	yes</pre></div></div><div class=paragraph><p>No <span class=filename>pkg-plist</span>, insira <code>%%X11%%</code> no início das linhas que serão instaladas apenas quando a opção estiver habilitada, assim:</p></div><div class="literalblock programlisting"><div class=content><pre>%%X11%%bin/foo-gui</pre></div></div><div class=paragraph><p>Esta substituição será feita entre os targets <code>pre-install</code> e <code>do-install</code>, lendo a partir do <span class=filename>PLIST</span> e escrevendo em <span class=filename>TMPPLIST</span> (padrão:<span class=filename>WRKDIR/.PLIST.mktmp</span>). Então, se o port gera o <span class=filename>PLIST</span> na hora da compilação, faça isso em ou antes do <code>pre-install</code>. Além disso, se o port precisar editar o arquivo resultante, faça-o em <code>post-install</code> em um arquivo chamado <span class=filename>TMPPLIST</span>.</p></div><div class=paragraph><p>Outra maneira de modificar a lista de empacotamento de um port é baseada na configuração das variáveis <code>PLIST_FILES</code> e <code>PLIST_DIRS</code>. O valor de cada variável é considerado como uma lista de nomes de caminho para gravar no <span class=filename>TMPPLIST</span> junto com conteúdo do <span class=filename>PLIST</span>. Enquanto os nomes listados no <code>PLIST_FILES</code> e <code>PLIST_DIRS</code> estão sujeitos a substituição do <code>%%<em>VAR</em>%%</code> conforme descrito acima, é melhor usar o <code>${<em>VAR</em>}</code> diretamente. Exceto por isso, os nomes contidos no <code>PLIST_FILES</code> aparecerão inalterados na lista final de packing, enquanto o <code>@dir</code> será anexado aos nomes do <code>PLIST_DIRS</code>. Para fazer efeito, o <code>PLIST_FILES</code> e o <code>PLIST_DIRS</code> devem ser definidos antes que o <span class=filename>TMPPLIST</span> seja escrito, isto é, no <code>pre-install</code> ou antes.</p></div><div class=paragraph><p>De vez em quando, usar <code>OPTIONS_SUB</code> não é o suficiente. Nesses casos, adicionar uma <code><em>TAG</em></code> para <code>PLIST_SUB</code> dentro do <span class=filename>Makefile</span> com um valor especial <code>@comment</code>, faz as ferramentas de pacote ignorar a linha. Por exemplo, se alguns arquivos são instalados apenas quando a opção <code>X11</code> está habilitada e a arquitetura é <code>i386</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>.include &lt;bsd.port.pre.mk&gt;

.if ${PORT_OPTIONS:MX11} &amp;&amp; ${ARCH} == &#34;i386&#34;
PLIST_SUB+=	X11I386=&#34;&#34;
.else
PLIST_SUB+=	X11I386=&#34;@comment &#34;
.endif</pre></div></div></div></div><div class=sect1><h2 id=plist-cleaning>8.2. Diretórios Vazios<a class=anchor href=#plist-cleaning></a></h2><div class=sectionbody><div class=sect2><h3 id=plist-dir-cleaning>8.2.1. Limpando Diretórios Vazios<a class=anchor href=#plist-dir-cleaning></a></h3><div class=paragraph><p>Ao ser desinstalado, um port deve remover os diretórios vazios que ele criou. A maioria desses diretórios são removidos automaticamente pelo <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a>, mas para os diretórios criados fora do <span class=filename>${PREFIX}</span>, ou diretórios vazios, mais alguns passos precisam ser feitos. Isso geralmente é realizando adicionando entradas <code>@dir</code> para esses diretórios.Os subdiretórios devem ser excluídos antes de excluir os diretórios pai.</p></div><div class="literalblock programlisting"><div class=content><pre>[...]
@dir /var/games/oneko/saved-games
@dir /var/games/oneko</pre></div></div></div><div class=sect2><h3 id=plist-dir-empty>8.2.2. Criando Diretórios Vazios<a class=anchor href=#plist-dir-empty></a></h3><div class=paragraph><p>Os diretórios vazios criados durante a instalação do port precisam de atenção especial. Eles devem estar presentes quando o pacote é criado. Se eles não forem criados pelo código do port, crie-os no <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/some/directory</pre></div></div><div class=paragraph><p>Adicione o diretório ao <span class=filename>pkg-plist</span> como qualquer outro. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>@dir some/directory</pre></div></div></div></div></div><div class=sect1><h2 id=plist-config>8.3. Arquivos de Configuração<a class=anchor href=#plist-config></a></h2><div class=sectionbody><div class=paragraph><p>Se o port instalar arquivos de configuração em <span class=filename>PREFIX/etc</span> (ou em outro lugar) <em>não</em> liste-os em <span class=filename>pkg-plist</span>. Isso fará com que <code>pkg delete</code> remova os arquivos que foram cuidadosamente editados pelo usuário, e uma reinstalação irá eliminá-los.</p></div><div class=paragraph><p>Em vez disso, instale arquivos de exemplo com uma extensão <span class=filename>filename.sample</span>. A macro <code>@sample</code> automatiza isso, consulte <a href=#plist-keywords-sample><code>@sample</code> <em>file</em>[<em>file</em>]</a> para entender o que ela faz exatamente. Para cada arquivo de exemplo, adicione uma entrada no <span class=filename>pkg-plist</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>@sample etc/orbit.conf.sample</pre></div></div><div class=paragraph><p>Se houver uma boa razão para não instalar um arquivo de configuração por padrão, liste apenas o nome do arquivo de exemplo em <span class=filename>pkg-plist</span>, sem o <code>@sample</code> seguido por um espaço e adicione uma <a href=#porting-message>mensagem</a> ressaltando que o usuário deve copiar e editar o arquivo antes que o software seja executado.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Quando um port instala sua configuração em um subdiretório de <span class=filename>${PREFIX}/etc</span>, usar <code>ETCDIR</code>, cujo padrão é <code>${PREFIX}/etc/${PORTNAME}</code>, pode ser substituído nos <span class=filename>Makefile</span> dos ports se houver uma convenção para o port usar algum outro diretório. A macro <code>%%ETCDIR%%</code> será usado em seu lugar em <span class=filename>pkg-plist</span>.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os arquivos de configuração de exemplo devem sempre ter o sufixo <span class=filename>.sample</span>. Se, por algum motivo histórico, o uso do sufixo padrão não for possível ou se os arquivos de exemplo vierem de algum outro diretório, use esta construção:</p></div><div class="literalblock programlisting"><div class=content><pre>@sample etc/orbit.conf-dist etc/orbit.conf</pre></div></div><div class=paragraph><p>ou</p></div><div class="literalblock programlisting"><div class=content><pre>@sample %%EXAMPLESDIR%%/orbit.conf etc/orbit.conf</pre></div></div><div class=paragraph><p>O formato é <code>@sample sample-file actual-config-file</code>.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=plist-dynamic>8.4. Lista de Pacotes Estática versus Dinâmica<a class=anchor href=#plist-dynamic></a></h2><div class=sectionbody><div class=paragraph><p>Uma <em>lista de pacotes estáticos</em> é uma lista de pacotes que está disponível na Coleção de Ports ou como <span class=filename>pkg-plist</span> (com ou sem substituição de variável), ou embutido no <span class=filename>Makefile</span> através do <code>PLIST_FILES</code> e do <code>PLIST_DIRS</code>. Mesmo se o conteúdo for gerado automaticamente por uma ferramenta ou um taget no Makefile <em>antes</em> da inclusão na Coleção de Ports por um committer (por exemplo, usando <code>make makeplist</code>), isso ainda é considerado uma lista estática, já que é possível examiná-la sem ter que baixar ou compilar o distfile.</p></div><div class=paragraph><p>Uma <em>lista de pacotes dinâmicos</em> é uma lista de pacotes que é gerada no momento em que o port é compilado com base nos arquivos e diretórios que estão instalados. Não é possível examiná-lo antes que o código-fonte do aplicativo portado seja baixado e compilado, ou após executar um <code>make clean</code>.</p></div><div class=paragraph><p>Embora o uso de listas de pacotes dinâmicos não seja proibido, os mantenedores devem usar listas de pacotes estáticos sempre que possível, já que isso permite aos usuários utilizar <a href="https://man.freebsd.org/cgi/man.cgi?query=grep&amp;sektion=1&amp;format=html">grep(1)</a> nos de ports disponíveis para descobrir, por exemplo, qual port instala um determinado arquivo. Listas dinâmicas devem ser usadas principalmente para ports complexos onde a lista de pacotes muda drasticamente com base nos recursos opcionais do port (e assim manter uma lista de pacotes estática é impraticável), ou ports que alteram a lista de pacotes com base na versão do software dependente usado. Por exemplo, ports que geram documentos com Javadoc.</p></div></div></div><div class=sect1><h2 id=plist-autoplist>8.5. Criação Automatizada da Lista de Pacotes<a class=anchor href=#plist-autoplist></a></h2><div class=sectionbody><div class=paragraph><p>Primeiro, verifique se o port está quase completo, faltando apenas o <span class=filename>pkg-plist</span>. Executar o comando <code>make makeplist</code> irá mostrar um exemplo para o <span class=filename>pkg-plist</span>. A saída do <code>makeplist</code> deve ser checada duas vezes quanto à correção, pois ela tenta adivinhar automaticamente algumas coisas e pode errar.</p></div><div class=paragraph><p>Os arquivos de configuração do usuário devem ser instalados como <span class=filename>filename.sample</span>, como é descrito em <a href=#plist-config>Arquivos de Configuração</a>. O <span class=filename>info/dir</span> não deve ser listado e entradas apropriadas <span class=filename>install-info</span> devem ser adicionadas conforme a seção <a href=#makefile-info>arquivos de informação</a>. Quaisquer bibliotecas instaladas pelo port devem ser listadas conforme especificado na seção <a href=#porting-shlibs>bibliotecas compartilhadas</a>.</p></div><div class=sect2><h3 id=plist-autoplist-regex>8.5.1. Expansão do <code>PLIST_SUB</code> com Expressões Regulares<a class=anchor href=#plist-autoplist-regex></a></h3><div class=paragraph><p>As strings a serem substituídas às vezes precisam ser muito específicas para evitar substituições indesejadas. Esse é um problema comum com valores mais curtos.</p></div><div class=paragraph><p>Para resolver este problema, para cada <code>PLACEHOLDER=value</code>, um <code>PLACEHOLDER_regex =regex</code> pode ser definido, com o <em>regex</em> do <code><em>value</em></code> correspondendo mais precisamente.</p></div><div id=plist-autoplist-regex-ex1 class=exampleblock><div class=title>Exemplo 1. Usando PLIST_SUB com Expressões Regulares</div><div class=content><div class=paragraph><p>Os ports Perl podem instalar arquivos dependentes da arquitetura em uma árvore específica. No FreeBSD para facilitar a portabilidade, esta árvore é chamada de <code>mach</code>. Por exemplo, um port que instala um arquivo cujo caminho contém <code>mach</code> poderia ter essa parte da sequência do caminho substituída pelos valores incorretos. Considere este <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	Machine-Build
DISTVERSION=	1
CATEGORIES=	devel perl5
MASTER_SITES=	CPAN
PKGNAMEPREFIX=	p5-

MAINTAINER=	perl@FreeBSD.org
COMMENT=	Building machine

USES=		perl5
USE_PERL5=	configure

PLIST_SUB=	PERL_ARCH=mach</pre></div></div><div class=paragraph><p>Os arquivos instalados pelo port são:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/local/bin/machine-build
/usr/local/lib/perl5/site_perl/man/man1/machine-build.1.gz
/usr/local/lib/perl5/site_perl/man/man3/Machine::Build.3.gz
/usr/local/lib/perl5/site_perl/Machine/Build.pm
/usr/local/lib/perl5/site_perl/mach/5.20/Machine/Build/Build.so</pre></div></div><div class=paragraph><p>Executar o <code>make makeplist</code> gera incorretamente:</p></div><div class="literalblock programlisting"><div class=content><pre>bin/%%PERL_ARCH%%ine-build
%%PERL5_MAN1%%/%%PERL_ARCH%%ine-build.1.gz
%%PERL5_MAN3%%/Machine::Build.3.gz
%%SITE_PERL%%/Machine/Build.pm
%%SITE_PERL%%/%%PERL_ARCH%%/%%PERL_VER%%/Machine/Build/Build.so</pre></div></div><div class=paragraph><p>Altere a linha <code>PLIST_SUB</code> do <span class=filename>Makefile</span> para:</p></div><div class="literalblock programlisting"><div class=content><pre>PLIST_SUB=	PERL_ARCH=mach \
		PERL_ARCH_regex=\bmach\b</pre></div></div><div class=paragraph><p>Agora o <code>make makeplist</code> gera corretamente:</p></div><div class="literalblock programlisting"><div class=content><pre>bin/machine-build
%%PERL5_MAN1%%/machine-build.1.gz
%%PERL5_MAN3%%/Machine::Build.3.gz
%%SITE_PERL%%/Machine/Build.pm
%%SITE_PERL%%/%%PERL_ARCH%%/%%PERL_VER%%/Machine/Build/Build.so</pre></div></div></div></div></div></div></div><div class=sect1><h2 id=plist-keywords>8.6. Expandindo a Lista de Pacotes com Keywords<a class=anchor href=#plist-keywords></a></h2><div class=sectionbody><div class=paragraph><p>Todas as keywords também podem ter argumentos opcionais entre parênteses. Os argumentos são owner, group e mode. Esse argumento é usado no arquivo ou diretório referenciado. Para alterar o dono, o grupo e o modo de um arquivo de configuração, use:</p></div><div class="literalblock programlisting"><div class=content><pre>@sample(games,games,640) etc/config.sample</pre></div></div><div class=paragraph><p>Os argumentos são opcionais. Se apenas o grupo e o modo precisarem ser alterados, use:</p></div><div class="literalblock programlisting"><div class=content><pre>@sample(,games,660) etc/config.sample</pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Se uma keyword for utilizada em uma entrada de <a href=../makefiles/#makefile-options>opção</a>, ela precisa ser adicionada após o assistente:</p></div><div class="literalblock programlisting"><div class=content><pre>%%FOO%%@sample etc/orbit.conf.sample</pre></div></div><div class=paragraph><p>Isso é porque os assistentes plist das opções são utilizados para comentar as linhas, e por isso eles precisam ser inseridos no início. Veja <a href=../makefiles/#options_sub><code>OPTIONS_SUB</code></a> para maiores informações.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=plist-keywords-desktop-file-utils>8.6.1. <code>@desktop-file-utils</code><a class=anchor href=#plist-keywords-desktop-file-utils></a></h3><div class=paragraph><p>Irá executar o <code>update-desktop-database -q</code> após a instalação e desinstalação. <em>Nunca</em> use diretamente, adicione <a href=../uses/#uses-desktop-file-utils><code>USES=desktop-file-utils</code></a> ao <span class=filename>Makefile</span>.</p></div></div><div class=sect2><h3 id=plist-keywords-fc>8.6.2. <code>@fc</code> <em>directory</em><a class=anchor href=#plist-keywords-fc></a></h3><div class=paragraph><p>Adiciona uma entrada <code>@dir</code> para o diretório passado como um argumento, e executa <code>fc-cache -fs</code> nesse diretório após a instalação e desinstalação.</p></div></div><div class=sect2><h3 id=plist-keywords-fcfontsdir>8.6.3. <code>@fcfontsdir</code> <em>directory</em><a class=anchor href=#plist-keywords-fcfontsdir></a></h3><div class=paragraph><p>Adiciona uma entrada <code>@dir</code> para o diretório passado como um argumento, e executa <code>fc-cache -fs</code>, <code>mkfontscale</code> e <code>mkfontdir</code> nesse diretório após a instalação e desinstalação. Além disso, na desinstalação, ele remove os arquivos de cache <span class=filename>fonts.scale</span> e <span class=filename>fonts.dir</span>, se estiverem vazios. Esta keyword é equivalente a adicionar o diretório <a href=#plist-keywords-fc><code>@fc</code></a> e o diretório <a href=#plist-keywords-fontsdir><code>@fontsdir</code></a>.</p></div></div><div class=sect2><h3 id=plist-keywords-fontsdir>8.6.4. <code>@fontsdir</code> <em>directory</em><a class=anchor href=#plist-keywords-fontsdir></a></h3><div class=paragraph><p>Adiciona um entrada <code>@dir</code> para o diretório passado como um argumento, e executa <code>mkfontscale</code> e <code>mkfontdir</code> nesse diretório após a instalação e desinstalação. Além disso, na desinstalação, ele remove os arquivos de cache <span class=filename>fonts.scale</span> e <span class=filename>fonts.dir</span>, se estiverem vazios.</p></div></div><div class=sect2><h3 id=plist-keywords-glib-schemas>8.6.5. <code>@glib-schemas</code><a class=anchor href=#plist-keywords-glib-schemas></a></h3><div class=paragraph><p>Executa <code>glib-compile-schemas</code> na instalação e desinstalação.</p></div></div><div class=sect2><h3 id=plist-keywords-info>8.6.6. <code>@info</code> <em>file</em><a class=anchor href=#plist-keywords-info></a></h3><div class=paragraph><p>Adiciona o arquivo passado como argumento ao plist e atualiza o índice do documento info na instalação e desinstalação. Além disso, ele remove o índice se estiver vazio na desinstalação. Isso nunca deve ser usado manualmente, mas sempre <code>INFO</code>. Veja <a href=../makefiles/#makefile-info>Arquivos de Informação</a> para maiores informações.</p></div></div><div class=sect2><h3 id=plist-keywords-kld>8.6.7. <code>@kld</code> <em>directory</em><a class=anchor href=#plist-keywords-kld></a></h3><div class=paragraph><p>Executa o <code>kldxref</code> no diretório na instalação e desinstalação. Além disso, na desinstalação, ele removerá o diretório se estiver vazio.</p></div></div><div class=sect2><h3 id=plist-keywords-rmtry>8.6.8. <code>@rmtry</code> <em>file</em><a class=anchor href=#plist-keywords-rmtry></a></h3><div class=paragraph><p>O arquivo será removido na desinstalação, e não dará um erro se o arquivo não estiver lá.</p></div></div><div class=sect2><h3 id=plist-keywords-sample>8.6.9. <code>@sample</code> <em>file</em>[<em>file</em>]<a class=anchor href=#plist-keywords-sample></a></h3><div class=paragraph><p>Isso é usado para lidar com a instalação de arquivos de configuração, através de arquivos de exemplo empacotados com o pacote. O arquivo "atual", não-amostra, ou é o segundo nome do arquivo, se presente, ou o primeiro nome de arquivo sem a extensão <span class=filename>.sample</span>.</p></div><div class=paragraph><p>Isso faz três coisas. Primeiro, adiciona o primeiro arquivo passado como argumento, o arquivo de exemplo, ao plist. Então, na instalação, se o arquivo real não for encontrado, copia o arquivo de exemplo para o arquivo real. E, finalmente, na desinstalação, remove o arquivo atual se ele não tiver sido modificado. Veja <a href=#plist-config>Arquivos de Configuração</a> para maiores informações.</p></div></div><div class=sect2><h3 id=plist-keywords-shared-mime-info>8.6.10. <code>@shared-mime-info</code> <em>directory</em><a class=anchor href=#plist-keywords-shared-mime-info></a></h3><div class=paragraph><p>Executa <code>update-mime-database</code> no diretório na instalação e desinstalação.</p></div></div><div class=sect2><h3 id=plist-keywords-shell>8.6.11. <code>@shell</code> <em>file</em><a class=anchor href=#plist-keywords-shell></a></h3><div class=paragraph><p>Adiciona o arquivo passado como argumento ao plist.</p></div><div class=paragraph><p>Na instalação, adiciona o caminho completo do <em>file</em> em <span class=filename>/etc/shells</span>, certificando-se que não é adicionado duas vezes. Na desinstalação, remove-o de <span class=filename>/etc/shells</span>.</p></div></div><div class=sect2><h3 id=plist-keywords-terminfo>8.6.12. <code>@terminfo</code><a class=anchor href=#plist-keywords-terminfo></a></h3><div class=paragraph><p>Não use sozinho. Se o port for instalar arquivos <span class=filename>*.terminfo</span>, adicione <a href=#uses-terminfo>USES=terminfo</a> no seu <span class=filename>Makefile</span>.</p></div><div class=paragraph><p>Na instalação e desinstalação, se o <code>tic</code> estiver presente, atualize o <span class=filename>${PREFIX}/shared/misc/terminfo.db</span> a partir dos arquivos <span class=filename>*.terminfo</span> disponíveis em <span class=filename>${PREFIX}/shared/misc</span>.</p></div></div><div class=sect2><h3 id=plist-keywords-base>8.6.13. Keywords Básicas<a class=anchor href=#plist-keywords-base></a></h3><div class=paragraph><p>Existem algumas keywords que são codificadas e documentadas em <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-create&amp;sektion=8&amp;format=html">pkg-create(8)</a>. Por uma questão de completude, elas também estão documentadas aqui.</p></div><div class=sect3><h4 id=plist-keywords-base-empty>8.6.13.1. <code>@</code> [<em>file</em>]<a class=anchor href=#plist-keywords-base-empty></a></h4><div class=paragraph><p>A keyword vazia é um espaço reservado para ser usado quando o proprietário, grupo ou modo do arquivo precisam ser alterados. Por exemplo, para definir o grupo de um arquivo como <code>games</code> e adicionar o bit setgid, adicione:</p></div><div class="literalblock programlisting"><div class=content><pre>@(,games,2755) sbin/daemon</pre></div></div></div><div class=sect3><h4 id=plist-keywords-base-exec>8.6.13.2. <code>@preexec</code> <em>command</em>, <code>@postexec</code> <em>command</em>, <code>@preunexec</code> <em>command</em>, <code>@postunexec</code> <em>command</em><a class=anchor href=#plist-keywords-base-exec></a></h4><div class=paragraph><p>Executa o <em>command</em> como parte do processo de instalação ou desinstalação.</p></div><div class=dlist><dl><dt class=hdlist1><code>@preexec</code> <em>command</em></dt><dd><p>Executar o <em>command</em> como parte dos scripts <span class=filename>pre-install</span>.</p></dd><dt class=hdlist1><code>@postexec</code> <em>command</em></dt><dd><p>Executar o <em>command</em> como parte dos scripts <span class=filename>post-install</span>.</p></dd><dt class=hdlist1><code>@preunexec</code> <em>command</em></dt><dd><p>Executar o <em>command</em> como parte dos scripts <span class=filename>pre-deinstall</span>.</p></dd><dt class=hdlist1><code>@postunexec</code> <em>command</em></dt><dd><p>Executar o <em>command</em> como parte dos scripts <span class=filename>post-deinstall</span>.</p></dd></dl></div><div class=paragraph><p>E se o <em>command</em> contém qualquer uma dessas sequências em algum lugar, elas são expandidas em linha. Para estes exemplos, assuma que <code>@cwd</code> está configurado para <span class=filename>/usr/local</span> e o último arquivo extraído foi <span class=filename>bin/emacs</span>.</p></div><div class=dlist><dl><dt class=hdlist1><code>%F</code></dt><dd><p>Expandir para o último nome de arquivo extraído (conforme especificado). No caso do exemplo <span class=filename>bin/emacs</span>.</p></dd><dt class=hdlist1><code>%D</code></dt><dd><p>Expandir para o prefixo do diretório atual, como definido no <code>@cwd</code>. No caso do exemplo <span class=filename>/usr/local</span>.</p></dd><dt class=hdlist1><code>%B</code></dt><dd><p>Expandir para o nome de base do nome completo do arquivo, ou seja, o prefixo do diretório atual mais o último arquivo, menos o nome do arquivo final. No exemplo, isso seria <span class=filename>/usr/local/bin</span>.</p></dd><dt class=hdlist1><code>%f</code></dt><dd><p>Expandir para a parte do nome do arquivo do nome totalmente qualificado, ou o inverso de <code>%B</code>. No caso do exemplo, <span class=filename>emacs</span>.</p></dd></dl></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Essas keywords estão aqui para ajudá-lo a configurar o pacote para que ele esteja tão pronto quanto possível. Elas <em>não devem</em> ser abusadas para iniciar serviços, interromper serviços ou executar quaisquer outros comandos que modificarão o sistema em execução.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=plist-keywords-base-mode>8.6.13.3. <code>@mode</code> <em>mode</em><a class=anchor href=#plist-keywords-base-mode></a></h4><div class=paragraph><p>Define a permissão padrão para todos os arquivos extraídos posteriormente para <em>mode</em>. O formato é o mesmo usado por <a href="https://man.freebsd.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;format=html">chmod(1)</a>. Use sem um argumento para voltar às permissões padrão (modo do arquivo enquanto estava sendo empacotado).</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Este deve ser um modo numérico, como <code>644</code>, <code>4755</code> ou <code>600</code>. Não pode ser um modo relativo como <code>u+s</code>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=plist-keywords-base-owner>8.6.13.4. <code>@owner</code> <em>user</em><a class=anchor href=#plist-keywords-base-owner></a></h4><div class=paragraph><p>Define a propriedade padrão para todos os arquivos subsequentes para <em>user</em>. Use sem um argumento para voltar à propriedade padrão (<code>root</code>).</p></div></div><div class=sect3><h4 id=plist-keywords-base-group>8.6.13.5. <code>@group</code> <em>group</em><a class=anchor href=#plist-keywords-base-group></a></h4><div class=paragraph><p>Define a propriedade de grupo padrão para todos os arquivos subsequentes para <em>group</em>. Use sem um argumento para retornar à propriedade do grupo padrão (<code>wheel</code>).</p></div></div><div class=sect3><h4 id=plist-keywords-base-comment>8.6.13.6. <code>@comment</code> <em>string</em><a class=anchor href=#plist-keywords-base-comment></a></h4><div class=paragraph><p>Esta linha é ignorada no momento de empacotar.</p></div></div><div class=sect3><h4 id=plist-keywords-base-dir>8.6.13.7. <code>@dir</code> <em>directory</em><a class=anchor href=#plist-keywords-base-dir></a></h4><div class=paragraph><p>Declara o nome do diretório. Por padrão, os diretórios criados sob <code>PREFIX</code> por uma instalação de pacote são automaticamente removidos. Use isto quando um diretório vazio sob <code>PREFIX</code> precisa ser criado ou quando o diretório precisa ter proprietário, grupo ou modo não padrão. Diretórios fora de <code>PREFIX</code> precisam ser registrados. Por exemplo, <span class=filename>/var/db/${PORTNAME}</span> precisa ter uma entrada <code>@dir</code> enquanto <span class=filename>${PREFIX}/shared/${PORTNAME}</span> não, se contiver arquivos ou usar o proprietário, grupo e modo padrão.</p></div></div><div class=sect3><h4 id=plist-keywords-base-exec-deprecated>8.6.13.8. <code>@exec</code> <em>command</em>, <code>@unexec</code> <em>command</em> (Descontinuado)<a class=anchor href=#plist-keywords-base-exec-deprecated></a></h4><div class=paragraph><p>Executa o <em>command</em> como parte do processo de instalação ou desinstalação. Por favor, use <a href=#plist-keywords-base-exec><code>@preexec</code> <em>command</em>, <code>@postexec</code> <em>command</em>, <code>@preunexec</code> <em>command</em>, <code>@postunexec</code> <em>command</em></a> no lugar.</p></div></div><div class=sect3><h4 id=plist-keywords-base-dirrm>8.6.13.9. <code>@dirrm</code> <em>directory</em> (Descontinuado)<a class=anchor href=#plist-keywords-base-dirrm></a></h4><div class=paragraph><p>Declara o nome do diretório a ser excluído na desinstalação. Por padrão, os diretórios criados sob <code>PREFIX</code> por uma instalação de pacote são excluídos quando o pacote é desinstalado.</p></div></div><div class=sect3><h4 id=plist-keywords-base-dirrmtry>8.6.13.10. <code>@dirrmtry</code> <em>directory</em> (Descontinuado)<a class=anchor href=#plist-keywords-base-dirrmtry></a></h4><div class=paragraph><p>Declara o nome do diretório a ser removido, como para a keyword <code>@dirrm</code>, mas não emite um aviso se o diretório não puder ser removido.</p></div></div></div><div class=sect2><h3 id=plist-keywords-creating-new>8.6.14. Criando Novas Keywords<a class=anchor href=#plist-keywords-creating-new></a></h3><div class=paragraph><p>Os arquivos da lista de pacotes podem ser estendidos por keywords definidas no diretório <span class=filename>${PORTSDIR}/Keywords</span>. As configurações de cada keyword são armazenadas em um arquivo UCL chamado <span class=filename>keyword.ucl</span>. O arquivo deve conter pelo menos uma destas seções:</p></div><div class=ulist><ul><li><p><code>attributes</code></p></li><li><p><code>action</code></p></li><li><p><code>pre-install</code></p></li><li><p><code>post-install</code></p></li><li><p><code>pre-deinstall</code></p></li><li><p><code>post-deinstall</code></p></li><li><p><code>pre-upgrade</code></p></li><li><p><code>post-upgrade</code></p></li></ul></div><div class=sect3><h4 id=plist-keywords-attributes>8.6.14.1. <code>attributes</code><a class=anchor href=#plist-keywords-attributes></a></h4><div class=paragraph><p>Altera o dono, grupo ou modo usado pela keyword. Contém uma matriz associativa em que as chaves possíveis são <code>owner</code>, <code>group</code> e <code>mode</code>. Os valores são, respectivamente, um nome de usuário, um nome de grupo e um modo de arquivo. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>attributes: { owner: &#34;games&#34;, group: &#34;games&#34;, mode: 0555 }</pre></div></div></div><div class=sect3><h4 id=plist-keywords-action>8.6.14.2. <code>action</code><a class=anchor href=#plist-keywords-action></a></h4><div class=paragraph><p>Define o que acontece com o parâmetro da keyword. Contém uma matriz onde os valores possíveis são:</p></div><div class=dlist><dl><dt class=hdlist1><code>setprefix</code></dt><dd><p>Define o prefixo para as próximas entradas do plist.</p></dd><dt class=hdlist1><code>dir</code></dt><dd><p>Registra um diretório para ser criado na instalação e removido na desinstalação.</p></dd><dt class=hdlist1><code>dirrm</code></dt><dd><p>Registra um diretório a ser excluído na desinstalação. Descontinuado.</p></dd><dt class=hdlist1><code>dirrmtry</code></dt><dd><p>Registra um diretório para tentar deletar na desinstalação. Descontinuado.</p></dd><dt class=hdlist1><code>file</code></dt><dd><p>Registra um arquivo.</p></dd><dt class=hdlist1><code>setmode</code></dt><dd><p>Define o modo para as próximas entradas do plist.</p></dd><dt class=hdlist1><code>setowner</code></dt><dd><p>Define o dono para as próximas entradas do plist.</p></dd><dt class=hdlist1><code>setgroup</code></dt><dd><p>Define o grupo para as próximas entradas do plist.</p></dd><dt class=hdlist1><code>comment</code></dt><dd><p>Não faz nada, é o equivalente a não entrar em uma seção <code>action</code>.</p></dd><dt class=hdlist1><code>ignore_next</code></dt><dd><p>Ignora a próxima entrada no plist.</p></dd></dl></div></div><div class=sect3><h4 id=plist-keywords-arguments>8.6.14.3. <code>arguments</code><a class=anchor href=#plist-keywords-arguments></a></h4><div class=paragraph><p>Se definido para <code>true</code>, adiciona manipulação de argumentos, dividindo toda a linha, <code>%@</code>, em argumentos numerados,<code>%1</code>, <code>%2</code>, e assim por diante. Por exemplo, para esta linha:</p></div><div class="literalblock programlisting"><div class=content><pre>@foo some.content other.content</pre></div></div><div class=paragraph><p><code>%1</code> e <code>%2</code> irão conter:</p></div><div class="literalblock programlisting"><div class=content><pre>some.content
other.content</pre></div></div><div class=paragraph><p>Também afeta como a entrada <a href=#plist-keywords-action><code>action</code></a> funciona. Quando há mais de um argumento, o número do argumento deve ser especificado. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>actions: [file(1)]</pre></div></div></div><div class=sect3><h4 id=plist-keywords-pre-post>8.6.14.4. <code>pre-install</code>, <code>post-install</code>, <code>pre-deinstall</code>, <code>post-deinstall</code>, <code>pre-upgrade</code>, <code>post-upgrade</code><a class=anchor href=#plist-keywords-pre-post></a></h4><div class=paragraph><p>Essas keywords contêm um script <a href="https://man.freebsd.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;format=html">sh(1)</a> a ser executado antes ou depois da instalação, desinstalação, ou atualização do pacote. Além do habitual placeholder <code>@exec %foo</code> descrito em <a href=#plist-keywords-base-exec><code>@preexec</code> <em>command</em>, <code>@postexec</code> <em>command</em>, <code>@preunexec</code> <em>command</em>, <code>@postunexec</code> <em>command</em></a>, há um novo <code>%@</code>, que representa o argumento da keyword.</p></div></div><div class=sect3><h4 id=plist-keywords-examples>8.6.14.5. Exemplos de Keywords Customizadas<a class=anchor href=#plist-keywords-examples></a></h4><div id=plist-keywords-fc-example class=exampleblock><div class=title>Exemplo 2. Exemplo de uma Keyword <code>@dirrmtryecho</code></div><div class=content><div class=paragraph><p>Esta keyword faz duas coisas, adiciona uma linha <code>@dirrmtry <em>directory</em></code> na lista de empacotamento, e escreve no log quando o diretório é removido ao desinstalar o pacote.</p></div><div class="literalblock programlisting"><div class=content><pre>actions: [dirrmtry]
post-deinstall: &lt;&lt;EOD
  echo &#34;Directory %D/%@ removed.&#34;
EOD</pre></div></div></div></div><div id=plist-keywords-sample-example class=exampleblock><div class=title>Exemplo 3. Exemplo na vida real, como o <code>@sample</code> é implementado</div><div class=content><div class=paragraph><p>Esta keyword faz três coisas. Ela adiciona o primeiro <em>filename</em> passado como um argumento para <code>@sample</code> na lista de empacotamento, ele adiciona instruções ao script de <code>post-install</code> para copiar o exemplo para o arquivo de configuração real, se ele ainda não existir, e adiciona instruções ao script <code>post-deinstall</code> para remover o arquivo de configuração se ele não tiver sido modificado.</p></div><div class="literalblock programlisting"><div class=content><pre>actions: [file(1)]
arguments: true
post-install: &lt;&lt;EOD
  case &#34;%1&#34; in
  /*) sample_file=&#34;%1&#34; ;;
  *) sample_file=&#34;%D/%1&#34; ;;
  esac
  target_file=&#34;${sample_file%.sample}&#34;
  set -- %@
  if [ $# -eq 2 ]; then
      target_file=${2}
  fi
  case &#34;${target_file}&#34; in
  /*) target_file=&#34;${target_file}&#34; ;;
  *) target_file=&#34;%D/${target_file}&#34; ;;
  esac
  if ! [ -f &#34;${target_file}&#34; ]; then
    /bin/cp -p &#34;${sample_file}&#34; &#34;${target_file}&#34; &amp;&amp; \
      /bin/chmod u+w &#34;${target_file}&#34;
  fi
EOD
pre-deinstall: &lt;&lt;EOD
  case &#34;%1&#34; in
  /*) sample_file=&#34;%1&#34; ;;
  *) sample_file=&#34;%D/%1&#34; ;;
  esac
  target_file=&#34;${sample_file%.sample}&#34;
  set -- %@
  if [ $# -eq 2 ]; then
      set -- %@
      target_file=${2}
  fi
  case &#34;${target_file}&#34; in
  /*) target_file=&#34;${target_file}&#34; ;;
  *) target_file=&#34;%D/${target_file}&#34; ;;
  esac
  if cmp -s &#34;${target_file}&#34; &#34;${sample_file}&#34;; then
    rm -f &#34;${target_file}&#34;
  else
    echo &#34;You may need to manually remove ${target_file} if it is no longer needed.&#34;
  fi
EOD</pre></div></div></div></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Última alteração em</strong>: 9 de março de 2024 por <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Anterior></i><div class=container><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/flavors class=direction>Anterior</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Início></i><div class=container><a href=../ class=direction>Início</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/pt-br/books/porters-handbook/pkg-files class=direction>Próximo</a></div><i class="fa fa-angle-right" aria-hidden=true title=Próximo></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#plist-sub>8.1. Alterando o <span class=filename>pkg-plist</span> Baseado em Variáveis Make</a></li><li><a href=#plist-cleaning>8.2. Diretórios Vazios</a></li><li><a href=#plist-config>8.3. Arquivos de Configuração</a></li><li><a href=#plist-dynamic>8.4. Lista de Pacotes Estática versus Dinâmica</a></li><li><a href=#plist-autoplist>8.5. Criação Automatizada da Lista de Pacotes</a></li><li><a href=#plist-keywords>8.6. Expandindo a Lista de Pacotes com Keywords</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/pt-br/books/porters-handbook/porters-handbook_pt-br.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edite essa página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/pt-br/_index target=_blank>Edite essa página</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/pt-br/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Escolha o idioma">
<span>Brazilian Portuguese</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/pt-br class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/pt-br/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>