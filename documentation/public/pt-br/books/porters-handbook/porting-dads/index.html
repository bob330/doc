<!doctype html><html class=theme-light lang=pt-br><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/><title>Capítulo 13. O Que Fazer e Não Fazer | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Capítulo 13. O Que Fazer e Não Fazer"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="pt-br"><meta property="og:url" content="http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/pt-br\/books\/porters-handbook\/porting-dads\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/pt-br>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/pt-br/books>Books</a></li><li><a href=http://172.16.201.134:1313/pt-br/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/pt-br/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=pt-br>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Pesquisar aria-label=Pesquisar maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-c934186a5adac4f64b993f751abed30c class=toggle>
<label for=chapter-c934186a5adac4f64b993f751abed30c><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-why/>Capítulo 1. Introdução</a></li><li><input type=checkbox id=chapter-2798d78fe854f2709bab5ca473b97050 class=toggle>
<label for=chapter-2798d78fe854f2709bab5ca473b97050><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/new-port/>Capítulo 2. Criando um Novo Port</a></li><li><input type=checkbox id=chapter-c0d52b9121b517084e01f59cefa725e1 class=toggle>
<label class="icon cursor" for=chapter-c0d52b9121b517084e01f59cefa725e1><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/>Capítulo 3. Port Rápido</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-makefile>3.1. Escrevendo o <span class=filename>Makefile</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-desc>3.2. Escrevendo os Arquivos de Descrição</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-checksum>3.3. Criando o Arquivo Checksum</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-testing>3.4. Testando o Port</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-portlint>3.5. Verificando o Port com <code>portlint</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-submitting>3.6. Enviando o Novo Port</a></li></ul></li><li><input type=checkbox id=chapter-3694de03923da61ba10a0a25efca6ef0 class=toggle>
<label class="icon cursor" for=chapter-3694de03923da61ba10a0a25efca6ef0><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/>Capítulo 4. Port Lento</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-work>4.1. Como as Coisas Funcionam</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-sources>4.2. Obtendo os Fontes Originais</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-modifying>4.3. Modificando o Port</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-patch>4.4. Patching</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-configure>4.5. Configurando</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-user-input>4.6. Manipulando a Entrada do Usuário</a></li></ul></li><li><input type=checkbox id=chapter-165f6a6dba6651f8c25fc63ab83d6538 class=toggle>
<label class="icon cursor" for=chapter-165f6a6dba6651f8c25fc63ab83d6538><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/>Capítulo 5. Configurando o Makefile</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-source>5.1. O Código Fonte Original</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-categories>5.2. Categorização</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-distfiles>5.3. Os Arquivos de Distribuição</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-maintainer>5.4. <code>MAINTAINER</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-comment>5.5. <code>COMMENT</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#licenses>5.6. Licenças</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-portscout>5.7. <code>PORTSCOUT</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-depend>5.8. Dependências</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-use-vars>5.9. 0 <code>USE_*</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-masterdir>5.10. Ports Slaves e <code>MASTERDIR</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-manpages>5.11. Páginas de Manual</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-info>5.12. Arquivos de Informação</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-options>5.13. Opções do Makefile</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-wrkdir>5.14. Especificando o Diretório de Trabalho</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#conflicts>5.15. Manipulando Conflitos</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#install>5.16. Instalando Arquivos</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#binary-alias>5.17. Use <code>BINARY_ALIAS</code> para Renomear Comandos Em Vez de Aplicar Patch na Compilação</a></li></ul></li><li><input type=checkbox id=chapter-19e3150e00beb84341d8ac1a73936ef0 class=toggle>
<label class="icon cursor" for=chapter-19e3150e00beb84341d8ac1a73936ef0><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/>Capítulo 6. Considerações Especiais</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#staging>6.1. Staging</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#bundled-libs>6.2. Bibliotecas Empacotadas (Bundled)</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#porting-shlibs>6.3. Bibliotecas Compartilhadas</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#porting-restrictions>6.4. Ports com Restrições de Distribuição ou Preocupações Legais</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#building>6.5. Mecanismos de Compilação</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-autotools>6.6. Usando o GNU Autotools</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-gettext>6.7. Usando o GNU <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-perl>6.8. Usando Perl</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-x11>6.9. Usando o X11</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-gnome>6.10. Usando o GNOME</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#gnome-components>6.11. Componentes GNOME</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-qt>6.12. Usando o Qt</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-kde>6.13. Usando o KDE</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-lxqt>6.14. Usando o LXQt</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-java>6.15. Usando Java</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-php>6.16. Aplicações Web, Apache e PHP</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-python>6.17. Usando Python</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-tcl>6.18. Usando Tcl/Tk</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-ruby>6.19. Usando Ruby</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-sdl>6.20. Usando SDL</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-wx>6.21. Usando wxWidgets</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-lua>6.22. Usando Lua</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-iconv>6.23. Usando <code>iconv</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-xfce>6.24. Usando o Xfce</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-databases>6.25. Usando Bancos de Dados</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#rc-scripts>6.26. Iniciando e Parando Serviços (com scripts <code>rc</code>)</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#users-and-groups>6.27. Adicionando Usuários e Grupos</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#requiring-kernel-sources>6.28. Ports que Dependem dos Fontes do kernel</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#go-libs>6.29. Bibliotecas Go</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#haskell-libs>6.30. Bibliotecas Haskell</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#shell-completion>6.31. Arquivos Shell Completion</a></li></ul></li><li><input type=checkbox id=chapter-2a77b1fa0736427c336503055c700137 class=toggle>
<label class="icon cursor" for=chapter-2a77b1fa0736427c336503055c700137><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/>Capítulo 7. Flavors</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-intro>7.1. Uma Introdução aos Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-using>7.2. Usando FLAVORS</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-auto-php>7.3. <code>USES=php</code> e Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-auto-python>7.4. <code>USES=python</code> e Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-auto-lua>7.5. <code>USES=lua</code> e Flavors</a></li></ul></li><li><input type=checkbox id=chapter-154554011c772e1e6cc0108eef5e0b2b class=toggle>
<label class="icon cursor" for=chapter-154554011c772e1e6cc0108eef5e0b2b><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/>Capítulo 8. Prácticas Avançadas de pkg-plist</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-sub>8.1. Alterando o <span class=filename>pkg-plist</span> Baseado em Variáveis Make</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-cleaning>8.2. Diretórios Vazios</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-config>8.3. Arquivos de Configuração</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-dynamic>8.4. Lista de Pacotes Estática versus Dinâmica</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-autoplist>8.5. Criação Automatizada da Lista de Pacotes</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-keywords>8.6. Expandindo a Lista de Pacotes com Keywords</a></li></ul></li><li><input type=checkbox id=chapter-5955b0791ccd51005b5bc5bebeec91e5 class=toggle>
<label class="icon cursor" for=chapter-5955b0791ccd51005b5bc5bebeec91e5><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/>Capítulo 9. pkg-*</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#porting-message>9.1. <span class=filename>pkg-message</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#pkg-install>9.2. <span class=filename>pkg-install</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#pkg-deinstall>9.3. <span class=filename>pkg-deinstall</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#pkg-names>9.4. Mudando os nomes dos <span class=filename>pkg-*</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#using-sub-files>9.5. Fazendo uso de <code>SUB_FILES</code> e <code>SUB_LIST</code></a></li></ul></li><li><input type=checkbox id=chapter-ee86a11caedb6395ed82b94ec7a9c6cd class=toggle>
<label class="icon cursor" for=chapter-ee86a11caedb6395ed82b94ec7a9c6cd><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/>Capítulo 10. Testando o Port</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#make-describe>10.1. Executando <code>make describe</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#testing-portlint>10.2. Portlint</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#testing-porttools>10.3. Ferramentas do Ports</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#porting-prefix>10.4. <code>PREFIX</code> e <code>DESTDIR</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#testing-poudriere>10.5. Poudriere</a></li></ul></li><li><input type=checkbox id=chapter-4ccaefe2590c044ca2b79c46e79fe17f class=toggle>
<label class="icon cursor" for=chapter-4ccaefe2590c044ca2b79c46e79fe17f><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/upgrading/>Capítulo 11. Atualizando um Port</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/upgrading/#svn-diff>11.1. Usando o Subversion para Criar Patches</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/upgrading/#moved-and-updating-files>11.2. <span class=filename>UPDATE</span> e <span class=filename>MOVED</span></a></li></ul></li><li><input type=checkbox id=chapter-1023911bc0041506653280b832dea3b2 class=toggle>
<label class="icon cursor" for=chapter-1023911bc0041506653280b832dea3b2><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/>Capítulo 12. Segurança</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/#security-intro>12.1. Por Que Segurança é Tão Importante</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/#security-fix>12.2. Corrigindo Vulnerabilidades de Segurança</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/#security-notify>12.3. Mantendo a Comunidade Informada</a></li></ul></li><li><input type=checkbox id=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7 class=toggle checked>
<label class="icon cursor" for=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/>Capítulo 13. O Que Fazer e Não Fazer</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-intro>13.1. Introdução</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#porting-wrkdir>13.2. <code>WRKDIR</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#porting-wrkdirprefix>13.3. <code>WRKDIRPREFIX</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#porting-versions>13.4. Diferenciando Sistemas Operacionais e Versões de OS</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-after-port-mk>13.5. Escrevendo Algo Depois do <span class=filename>bsd.port.mk</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-sh-exec>13.6. Uso de Declarações <code>exec</code> em Wrapper Scripts</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-rational>13.7. Faça as Coisas Racionalmente</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-cc>13.8. Respeite Ambos <code>CC</code> e <code>CXX</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-cflags>13.9. Respeite <code>CFLAGS</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-verbose-logs>13.10. Logs de Compilação Detalhados</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-feedback>13.11. Feedback</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-readme>13.12. <span class=filename>README.html</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-noinstall>13.13. Marcando um Port não Instalável com a variável <code>BROKEN</code>, <code>FORBIDDEN</code> ou <code>IGNORE</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-arch>13.14. Considerações Arquitetônicas</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-deprecated>13.15. Marcando um Port para Remoção com <code>DEPRECATED</code> ou <code>EXPIRATION_DATE</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-dot-error>13.16. Evite o Uso do Construtor <code>.error</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-sysctl>13.17. Uso de <span class=filename>sysctl</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-rerolling-distfiles>13.18. Atualizando Distfiles</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-use-posix-standards>13.19. Uso de Padrões POSIX</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-misc>13.20. Miscelânea</a></li></ul></li><li><input type=checkbox id=chapter-5ef4c4c471a3f55c74fb71881f9d8713 class=toggle>
<label for=chapter-5ef4c4c471a3f55c74fb71881f9d8713><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-samplem/>Capítulo 14. Um Exemplo de Makefile</a></li><li><input type=checkbox id=chapter-15c16456ccd7b4dc2a25fa8defa336a1 class=toggle>
<label class="icon cursor" for=chapter-15c16456ccd7b4dc2a25fa8defa336a1><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/>Chapter 15. Ordem das Variáveis ​​nos Makefiles de Port</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-portname>15.1. Bloco <code>PORTNAME</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-patch>15.2. Bloco <code>PATCHFILES</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-maintainer>15.3. Bloco <code>MAINTAINER</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-license>15.4. Bloco <code>LICENSE</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-broken>15.5. Mensagens Genéricas <code>BROKEN</code>/<code>IGNORE</code>/<code>DEPRECATED</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-depends>15.6. O Bloco de Dependências</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-flavors>15.7. Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-uses>15.8. <code>USES</code> e <code>USE_x</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-variables>15.9. Variáveis ​​Padrão <span class=filename>bsd.port.mk</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-options>15.10. Opções e Assistentes</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-rest>15.11. O Restante das Variáveis</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-targets>15.12. Os Targets</a></li></ul></li><li><input type=checkbox id=chapter-70f5a4755700a24529175d26e65871bf class=toggle>
<label class="icon cursor" for=chapter-70f5a4755700a24529175d26e65871bf><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/>Capítulo 16. Mantendo-se Atualizado</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#freshports>16.1. FreshPorts</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#svnweb>16.2. A interface Web para o Repositório do Código Fonte</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#ports-mailing-list>16.3. A Lista de Discussão de Ports do FreeBSD</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#build-cluster>16.4. O Cluster de Compilação de Ports do FreeBSD</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#distfile-survey>16.5. Portscout: o Scanner de Distfile de Ports do FreeBSD</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#portsmon>16.6. O Sistema de Monitoramento de Ports do FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-8225273087f0e195be28132f4b5a0562 class=toggle>
<label class="icon cursor" for=chapter-8225273087f0e195be28132f4b5a0562><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/>Capítulo 17. Using USES Macros</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-intro>17.1. Uma introdução ao <code>USES</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-7z>17.2. <code>7z</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ada>17.3. <code>ada</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-autoreconf>17.4. <code>autoreconf</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-blaslapack>17.5. <code>blaslapack</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-bdb>17.6. <code>bdb</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-bison>17.7. <code>bison</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cabal>17.8. <code>cabal</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cargo>17.9. <code>cargo</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-charsetfix>17.10. <code>charsetfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cmake>17.11. <code>cmake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-compiler>17.12. <code>compiler</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cpe>17.13. <code>cpe</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cran>17.14. <code>cran</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-desktop-file-utils>17.15. <code>desktop-file-utils</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-desthack>17.16. <code>desthack</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-display>17.17. <code>display</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-dos2unix>17.18. <code>dos2unix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-drupal>17.19. <code>drupal</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fakeroot>17.20. <code>fakeroot</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fam>17.21. <code>fam</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-firebird>17.22. <code>firebird</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fonts>17.23. <code>fonts</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fortran>17.24. <code>fortran</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fuse>17.25. <code>fuse</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gem>17.26. <code>gem</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gettext>17.27. <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gettext-runtime>17.28. <code>gettext-runtime</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gettext-tools>17.29. <code>gettext-tools</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ghostscript>17.30. <code>ghostscript</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gl>17.31. <code>gl</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gmake>17.32. <code>gmake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gnome>17.33. <code>gnome</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-go>17.34. <code>go</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gperf>17.35. <code>gperf</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-grantlee>17.36. <code>grantlee</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-groff>17.37. <code>groff</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gssapi>17.38. <code>gssapi</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-horde>17.39. <code>horde</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-iconv>17.40. <code>iconv</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-imake>17.41. <code>imake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-kde>17.42. <code>kde</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-kmod>17.43. <code>kmod</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-lha>17.44. <code>lha</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-libarchive>17.45. <code>libarchive</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-libedit>17.46. <code>libedit</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-libtool>17.47. <code>libtool</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-linux>17.48. <code>linux</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-localbase>17.49. <code>localbase</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-lua>17.50. <code>lua</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-lxqt>17.51. <code>lxqt</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-makeinfo>17.52. <code>makeinfo</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-makeself>17.53. <code>makeself</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-mate>17.54. <code>mate</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-meson>17.55. <code>meson</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-metaport>17.56. <code>metaport</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-mysql>17.57. <code>mysql</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-mono>17.58. <code>mono</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-motif>17.59. <code>motif</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ncurses>17.60. <code>ncurses</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ninja>17.61. <code>ninja</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-objc>17.62. <code>objc</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-openal>17.63. <code>openal</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pathfix>17.64. <code>pathfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pear>17.65. <code>pear</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-perl5>17.66. <code>perl5</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pgsql>17.67. <code>pgsql</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-php>17.68. <code>php</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pkgconfig>17.69. <code>pkgconfig</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pure>17.70. <code>pure</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pyqt>17.71. <code>pyqt</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-python>17.72. <code>python</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qmail>17.73. <code>qmail</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qmake>17.74. <code>qmake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qt>17.75. <code>qt</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qt-dist>17.76. <code>qt-dist</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-readline>17.77. <code>readline</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-samba>17.78. <code>samba</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-scons>17.79. <code>scons</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-shared-mime-info>17.80. <code>shared-mime-info</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-shebangfix>17.81. <code>shebangfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-sqlite>17.82. <code>sqlite</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ssl>17.83. <code>ssl</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-tar>17.84. <code>tar</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-tcl>17.85. <code>tcl</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-terminfo>17.86. <code>terminfo</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-tk>17.87. <code>tk</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-uidfix>17.88. <code>uidfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-uniquefiles>17.89. <code>uniquefiles</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-varnish>17.90. <code>varnish</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-webplugin>17.91. <code>webplugin</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-xfce>17.92. <code>xfce</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-xorg>17.93. <code>xorg</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-xorg-cat>17.94. <code>xorg-cat</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-zip>17.95. <code>zip</code></a></li></ul></li><li><input type=checkbox id=chapter-7713ccc63287693c9be6c832b2c1e850 class=toggle>
<label class="icon cursor" for=chapter-7713ccc63287693c9be6c832b2c1e850><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/>Capítulo 18. Valores __FreeBSD_version</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-13>18.1. Versões do FreeBSD 13</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-12>18.2. Versões do FreeBSD 12</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-11>18.3. Versões do FreeBSD 11</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-10>18.4. Versões do FreeBSD 10</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-9>18.5. Versões do FreeBSD 9</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-8>18.6. Versões do FreeBSD 8</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-7>18.7. Versões do FreeBSD 7</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-6>18.8. Versões do FreeBSD 6</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-5>18.9. Versões do FreeBSD 5</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-4>18.10. Versões do FreeBSD 4</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-3>18.11. Versões do FreeBSD 3</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-2-2>18.12. Versões do FreeBSD 2.2</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-2>18.13. FreeBSD 2 Antes das Versões 2.2-RELEASE</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title=Menu></i>
Menu</span></label></div><h1 class=title>Capítulo 13. O Que Fazer e Não Fazer</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
Esta tradução pode estar desatualizada. Para ajudar com as traduções, acesse a <a href=https://translate-dev.freebsd.org/ target=_blank>ferramenta de traduções do FreeBSD</a>.</p></div><div class=toc-mobile><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#dads-intro>13.1. Introdução</a></li><li><a href=#porting-wrkdir>13.2. <code>WRKDIR</code></a></li><li><a href=#porting-wrkdirprefix>13.3. <code>WRKDIRPREFIX</code></a></li><li><a href=#porting-versions>13.4. Diferenciando Sistemas Operacionais e Versões de OS</a></li><li><a href=#dads-after-port-mk>13.5. Escrevendo Algo Depois do <span class=filename>bsd.port.mk</span></a></li><li><a href=#dads-sh-exec>13.6. Uso de Declarações <code>exec</code> em Wrapper Scripts</a></li><li><a href=#dads-rational>13.7. Faça as Coisas Racionalmente</a></li><li><a href=#dads-cc>13.8. Respeite Ambos <code>CC</code> e <code>CXX</code></a></li><li><a href=#dads-cflags>13.9. Respeite <code>CFLAGS</code></a></li><li><a href=#dads-verbose-logs>13.10. Logs de Compilação Detalhados</a></li><li><a href=#dads-feedback>13.11. Feedback</a></li><li><a href=#dads-readme>13.12. <span class=filename>README.html</span></a></li><li><a href=#dads-noinstall>13.13. Marcando um Port não Instalável com a variável <code>BROKEN</code>, <code>FORBIDDEN</code> ou <code>IGNORE</code></a></li><li><a href=#dads-arch>13.14. Considerações Arquitetônicas</a></li><li><a href=#dads-deprecated>13.15. Marcando um Port para Remoção com <code>DEPRECATED</code> ou <code>EXPIRATION_DATE</code></a></li><li><a href=#dads-dot-error>13.16. Evite o Uso do Construtor <code>.error</code></a></li><li><a href=#dads-sysctl>13.17. Uso de <span class=filename>sysctl</span></a></li><li><a href=#dads-rerolling-distfiles>13.18. Atualizando Distfiles</a></li><li><a href=#dads-use-posix-standards>13.19. Uso de Padrões POSIX</a></li><li><a href=#dads-misc>13.20. Miscelânea</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=dads-intro>13.1. Introdução<a class=anchor href=#dads-intro></a></h2><div class=sectionbody><div class=paragraph><p>Aqui está uma lista comum de o que fazer ou não, encontrada durante o processo de portabilidade. Verifique o port com relação a essa lista, mas também verifique os ports no <a href=https://bugs.FreeBSD.org/search/>banco de dados de PR’s</a> que outros enviaram. Envie quaisquer comentários sobre os ports, conforme descrito em <a href=https://docs.freebsd.org/pt-br/articles/contributing/#CONTRIB-GENERAL>Relatórios de Bugs e Comentários Gerais</a>. Verificar os ports no banco de dados de PR’s irá tornar o processo mais rápido para que possamos fazer o seu commit e para provar que você sabe o que está fazendo.</p></div></div></div><div class=sect1><h2 id=porting-wrkdir>13.2. <code>WRKDIR</code><a class=anchor href=#porting-wrkdir></a></h2><div class=sectionbody><div class=paragraph><p>Não escreva nada em arquivos fora do <code>WRKDIR</code>. <code>WRKDIR</code> é o único lugar garantido com permissão de escrita durante a compilação do port (consulte <a href=https://docs.freebsd.org/pt-br/books/handbook/book/ports#PORTS-CD>instalando ports a partir de um CDROM</a> para um exemplo de construção de ports de uma árvore somente leitura). Os arquivos <span class=filename>pkg-*</span> podem ser modificados pela <a href=#pkg-names>redefinição de uma variável</a> em vez de sobrescrever o arquivo.</p></div></div></div><div class=sect1><h2 id=porting-wrkdirprefix>13.3. <code>WRKDIRPREFIX</code><a class=anchor href=#porting-wrkdirprefix></a></h2><div class=sectionbody><div class=paragraph><p>Certifique-se de que o port honre a variável <code>WRKDIRPREFIX</code>. A maioria dos ports não precisa se preocupar com isso. Em particular, quando se refere a uma variável <code>WRKDIR</code> de outro port, observe que o local correto é <span class=filename>WRKDIRPREFIXPORTSDIR/subdir/name/work</span> e não <span class=filename>PORTSDIR/subdir/name/work</span> ou <span class=filename>.CURDIR/../../subdir/name/work</span> ou algo assim.</p></div><div class=paragraph><p>Além disso, se definir <code>WRKDIR</code>, certifique-se de adicionar <code>${WRKDIRPREFIX}${.CURDIR}</code> na frente.</p></div></div></div><div class=sect1><h2 id=porting-versions>13.4. Diferenciando Sistemas Operacionais e Versões de OS<a class=anchor href=#porting-versions></a></h2><div class=sectionbody><div class=paragraph><p>Alguns códigos precisam de modificações ou compilação condicional com base na versão do FreeBSD Unix em que ele está sendo executado. A maneira preferida de distinguir as versões do FreeBSD é usar as macros __FreeBSD_version e __FreeBSD__ definidas em <a href="https://svnweb.freebsd.org/base/head/sys/sys/param.h?view=markup">sys/param.h</a>. Se este arquivo não estiver incluído, adicione o código,</p></div><div class="literalblock programlisting"><div class=content><pre>#include &lt;sys/param.h&gt;</pre></div></div><div class=paragraph><p>para o lugar adequado no arquivo <span class=filename>.c</span>.</p></div><div class=paragraph><p>__FreeBSD__ é definido em todas as versões do FreeBSD para seu principal número de versão. Por exemplo, no FreeBSD 9.x, __FreeBSD__ é definido para <code>9</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>#if __FreeBSD__ &gt;= 9
#  if __FreeBSD_version &gt;= 901000
	 /* 9.1+ release specific code here */
#  endif
#endif</pre></div></div><div class=paragraph><p>Uma lista completa de valores <code><em>FreeBSD_version</em></code><em> está disponível em <a href=../versions/#versions>Valores <code></code></a></em><a href=../versions/#versions><code>FreeBSD_version</code></a>.</p></div></div></div><div class=sect1><h2 id=dads-after-port-mk>13.5. Escrevendo Algo Depois do <span class=filename>bsd.port.mk</span><a class=anchor href=#dads-after-port-mk></a></h2><div class=sectionbody><div class=paragraph><p>Não escreva nada depois da linha <code>.include &lt;bsd.port.mk></code>. Isso geralmente pode ser evitado incluindo <span class=filename>bsd.port.pre.mk</span> em algum lugar no meio do <span class=filename>Makefile</span> e <span class=filename>bsd.port.post.mk</span> no fim.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Inclua o par <span class=filename>bsd.port.pre.mk</span>/<span class=filename>bsd.port.post.mk</span> ou apenas <span class=filename>bsd.port.mk</span>; não misture o uso dos dois.</p></div></td></tr></tbody></table></div><div class=paragraph><p><span class=filename>bsd.port.pre.mk</span> define apenas algumas variáveis, que podem ser usadas em testes no <span class=filename>Makefile</span>, <span class=filename>bsd.port.post.mk</span> define o restante.</p></div><div class=paragraph><p>Aqui estão algumas variáveis ​​importantes definidas no arquivo <span class=filename>bsd.port.pre.mk</span> (esta não é a lista completa, por favor leia <span class=filename>bsd.port.mk</span> para a lista completa).</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variável</th><th class="tableblock halign-left valign-top">Descrição</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ARCH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A arquitetura retornada por <code>uname -m</code> (por exemplo, <code>i386</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OPSYS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O tipo de sistema operacional, conforme retornado por <code>uname -s</code> (por exemplo, <code>FreeBSD</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSREL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A versão de lançamento do sistema operacional (por exemplo, <code>2.1.5</code> ou <code>2.2.7</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSVERSION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A versão numérica do sistema operacional; o mesmo que <a href=#versions><code>__FreeBSD_version</code></a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LOCALBASE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A base da árvore "local" (por exemplo, <code>/usr/local</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Onde o port se instala (veja <a href=#porting-prefix>mais sobre a variável <code>PREFIX</code></a>).</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Quando <code>MASTERDIR</code> for necessário, sempre o defina antes de incluir o <span class=filename>bsd.port.pre.mk</span>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Aqui estão alguns exemplos de coisas que podem ser adicionadas depois do <span class=filename>bsd.port.pre.mk</span>:</p></div><div class="literalblock programlisting"><div class=content><pre># no need to compile lang/perl5 if perl5 is already in system
.if ${OSVERSION} &gt; 300003
BROKEN=	perl is in system
.endif</pre></div></div><div class=paragraph><p>Sempre use tab em vez de espaços após o argumento <code>BROKEN=</code>.</p></div></div></div><div class=sect1><h2 id=dads-sh-exec>13.6. Uso de Declarações <code>exec</code> em Wrapper Scripts<a class=anchor href=#dads-sh-exec></a></h2><div class=sectionbody><div class=paragraph><p>Se o port instalar um script shell cuja finalidade é executar outro programa, e se a execução desse programa for a última ação executada pelo script, certifique-se de executar o programa usando a função <code>exec</code>, por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
exec %%LOCALBASE%%/bin/java -jar %%DATADIR%%/foo.jar &#34;$@&#34;</pre></div></div><div class=paragraph><p>A declaração de <code>exec</code> substitui o processo do shell pelo programa especificado. E se <code>exec</code> for omitido, o processo do shell permanece na memória enquanto o programa está sendo executado e consome desnecessariamente recursos do sistema.</p></div></div></div><div class=sect1><h2 id=dads-rational>13.7. Faça as Coisas Racionalmente<a class=anchor href=#dads-rational></a></h2><div class=sectionbody><div class=paragraph><p>O <span class=filename>Makefile</span> deve fazer as coisas de uma maneira simples e razoável. Tornar algumas linhas mais curtas ou mais legíveis é sempre melhor. Exemplos incluem usar um construtor <code>.if</code> do make em vez de um construtor <code>if</code> do shell, não redefinir <code>do-extract</code> se redefinir <code>EXTRACT*</code> é o suficiente e usar <code>GNU_CONFIGURE</code> ao invés de <code>CONFIGURE_ARGS += --prefix=${PREFIX}</code>.</p></div><div class=paragraph><p>Se um monte de código novo é necessário para fazer algo, já pode haver uma implementação dele em <span class=filename>bsd.port.mk</span>. Embora seja difícil de ler, há muitos problemas aparentemente difíceis para os quais <span class=filename>bsd.port.mk</span> já fornece uma solução simples.</p></div></div></div><div class=sect1><h2 id=dads-cc>13.8. Respeite Ambos <code>CC</code> e <code>CXX</code><a class=anchor href=#dads-cc></a></h2><div class=sectionbody><div class=paragraph><p>O port deve respeitar tanto <code>CC</code> e <code>CXX</code>. O que queremos dizer com isso é que o port não deve definir os valores dessas variáveis ​​absolutamente, sobrepondo os valores existentes; em vez disso, pode anexar quaisquer valores necessários aos valores existentes. Isso é para que as opções de build que afetam todos os ports possam ser definidas globalmente.</p></div><div class=paragraph><p>Se o port não respeitar essas variáveis, por favor adicione <code>NO_PACKAGE=ignores either cc or cxx</code> ao <span class=filename>Makefile</span>.</p></div><div class=paragraph><p>Aqui está um exemplo do <span class=filename>Makefile</span> respeitando ambos <code>CC</code> e <code>CXX</code>. Note o <code>?=</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>CC?= gcc</pre></div></div><div class="literalblock programlisting"><div class=content><pre>CXX?= g++</pre></div></div><div class=paragraph><p>Aqui está um exemplo que não respeita nem <code>CC</code> nem <code>CXX</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>CC= gcc</pre></div></div><div class="literalblock programlisting"><div class=content><pre>CXX= g++</pre></div></div><div class=paragraph><p>Ambos <code>CC</code> e <code>CXX</code> podem ser definidos em sistemas FreeBSD no arquivo <span class=filename>/etc/make.conf</span>. O primeiro exemplo define um valor se não foi definido anteriormente no arquivo <span class=filename>/etc/make.conf</span>, preservando quaisquer definições de todo o sistema. O segundo exemplo atrapalha qualquer coisa previamente definida.</p></div></div></div><div class=sect1><h2 id=dads-cflags>13.9. Respeite <code>CFLAGS</code><a class=anchor href=#dads-cflags></a></h2><div class=sectionbody><div class=paragraph><p>O port deve respeitar a variável <code>CFLAGS</code>. O que queremos dizer com isso é que o port não deve definir o valor dessa variável absolutamente, substituindo o valor existente. Em vez disso, pode anexar quaisquer valores necessários ao valor existente. Isso é para que as opções de build que afetam todos os ports possam ser definidas globalmente.</p></div><div class=paragraph><p>Se isso não acontecer, por favor adicione <code>NO_PACKAGE=ignores cflags</code> ao <span class=filename>Makefile</span>.</p></div><div class=paragraph><p>Aqui está um exemplo de <span class=filename>Makefile</span> respeitando <code>CFLAGS</code>. Note o <code>+=</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS+= -Wall -Werror</pre></div></div><div class=paragraph><p>Aqui está um exemplo que não respeita <code>CFLAGS</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS= -Wall -Werror</pre></div></div><div class=paragraph><p><code>CFLAGS</code> são definidas em sistemas FreeBSD no arquivo <span class=filename>/etc/make.conf</span>. O primeiro exemplo acrescenta flags adicionais para a variável <code>CFLAGS</code>, preservando quaisquer definições de todo o sistema. O segundo exemplo atrapalha qualquer coisa previamente definida.</p></div><div class=paragraph><p>Remove flags de otimização do <span class=filename>Makefile</span> de terceiros. O sistema de variáveis <code>CFLAGS</code> contém flags de otimização de todo o sistema. Um exemplo de um <span class=filename>Makefile</span> não modificado:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS= -O3 -funroll-loops -DHAVE_SOUND</pre></div></div><div class=paragraph><p>Usando flags de otimização do sistema, o <span class=filename>Makefile</span> seria semelhante a este exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS+= -DHAVE_SOUND</pre></div></div></div></div><div class=sect1><h2 id=dads-verbose-logs>13.10. Logs de Compilação Detalhados<a class=anchor href=#dads-verbose-logs></a></h2><div class=sectionbody><div class=paragraph><p>Faz com que o sistema de build dos ports exiba todos os comandos executados durante o estágio de build. Os registros de build completos são cruciais para depurar problemas de ports.</p></div><div class=paragraph><p>Exemplo de log de compilação não informativo (ruim):</p></div><div class="literalblock programlisting"><div class=content><pre>  CC     source1.o
  CC     source2.o
  CCLD   someprogram</pre></div></div><div class=paragraph><p>Exemplo de log de compilação detalhado (bom):</p></div><div class="literalblock programlisting"><div class=content><pre>cc -O2 -pipe -I/usr/local/include -c -o source1.o source1.c
cc -O2 -pipe -I/usr/local/include -c -o source2.o source2.c
cc -o someprogram source1.o source2.o -L/usr/local/lib -lsomelib</pre></div></div><div class=paragraph><p>Alguns sistemas de build, como o CMake, ninja e GNU configure são configurados para registro detalhado pelo framework do ports. Em outros casos, os ports podem precisar de ajustes individuais.</p></div></div></div><div class=sect1><h2 id=dads-feedback>13.11. Feedback<a class=anchor href=#dads-feedback></a></h2><div class=sectionbody><div class=paragraph><p>Envie mudanças aplicáveis e correções ​​para o mantenedor upstream para inclusão na próxima versão do código. Isso torna a atualização para a próxima versão muito mais fácil.</p></div></div></div><div class=sect1><h2 id=dads-readme>13.12. <span class=filename>README.html</span><a class=anchor href=#dads-readme></a></h2><div class=sectionbody><div class=paragraph><p><span class=filename>README.html</span> não faz parte do port, mas é gerado com o comando <code>make readme</code>. Não inclua este arquivo em patches ou commits.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se o comando <code>make readme</code> falhar, certifique-se de que o valor padrão de <code>ECHO_MSG</code> não tenha sido modificado pelo port.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=dads-noinstall>13.13. Marcando um Port não Instalável com a variável <code>BROKEN</code>, <code>FORBIDDEN</code> ou <code>IGNORE</code><a class=anchor href=#dads-noinstall></a></h2><div class=sectionbody><div class=paragraph><p>Em certos casos, os usuários devem ser impedidos de instalar um port. Existem várias variáveis ​​que podem ser usadas no <span class=filename>Makefile</span> de um port para informar ao usuário que o port não pode ser instalado. O valor dessas variáveis ​​make será o motivo que é mostrado aos usuários do porque o port se recusa a se instalar. Por favor, use a variável correta. Cada variável transmite significados radicalmente diferentes, tanto para usuários quanto para sistemas automatizados que dependem do <span class=filename>Makefile</span>, assim como <a href=#build-cluster>o cluster de compilação de ports</a>, <a href=#freshports>FreshPorts</a> e <a href=#portsmon>portsmon</a>.</p></div><div class=sect2><h3 id=dads-noinstall-variables>13.13.1. Variáveis<a class=anchor href=#dads-noinstall-variables></a></h3><div class=ulist><ul><li><p><code>BROKEN</code> é reservada para ports que atualmente não compilam, instalam, desinstalam ou que não são executados corretamente. Use-o para ports em que o problema é considerado temporário.</p><div class=paragraph><p>Se instruído, o cluster de build ainda tentará compilar eles para ver se o problema subjacente foi resolvido. (No entanto, em geral, o cluster é executado sem isso.)</p></div><div class=paragraph><p>Por exemplo, use <code>BROKEN</code> quando um port:</p></div><div class=ulist><ul><li><p>não compila</p></li><li><p>falha em sua configuração ou no processo de instalação</p></li><li><p>instala arquivos fora do <span class=filename>${PREFIX}</span></p></li><li><p>não remove todos os seus arquivos corretamente após a desinstalação (no entanto, pode ser aceitável, e desejável, que o port deixe arquivos modificados pelo usuário por fora do port)</p></li><li><p>tem problemas em tempo de execução em sistemas nos quais é necessário que ele seja executado corretamente.</p></li></ul></div></li><li><p>A variável <code>FORBIDDEN</code> é usada para ports que contêm uma vulnerabilidade de segurança ou causam grande preocupação em relação à segurança de um sistema FreeBSD com um determinado port instalado (por exemplo, um programa de confiança inseguro ou um programa que fornece serviços facilmente exploráveis). Marcar ports como <code>FORBIDDEN</code> assim que um determinado software tiver uma vulnerabilidade e não houver atualização liberada. Idealmente, atualize os ports o mais rápido possível quando uma vulnerabilidade de segurança for descoberta para reduzir o número de hosts vulneráveis ​​do FreeBSD (gostamos de ser conhecidos pela segurança), mas às vezes há um intervalo de tempo entre a divulgação de uma vulnerabilidade e uma versão atualizada do software vulnerável. Não marque um port como <code>FORBIDDEN</code> por qualquer outro motivo que não seja segurança.</p></li><li><p>A variável <code>IGNORE</code> é reservada para ports que não devem ser compilados por algum outro motivo. Use-a para ports em que o problema é considerado estrutural. O cluster de build não criará, sob nenhuma circunstância, ports marcados com a variável <code>IGNORE</code>. Por exemplo, use <code>IGNORE</code> quando um port:</p><div class=ulist><ul><li><p>não funciona na versão instalada do FreeBSD</p></li><li><p>tem um distfile que não pôde ser obtido automaticamente devido a restrições de licenciamento</p></li><li><p>não funciona com algum outro port atualmente instalado (por exemplo, o port depende do <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache20/>www/apache20</a> mas <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache22/>www/apache22</a> está instalado)</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se um port entrar em conflito com um port que está atualmente instalado (por exemplo, se eles instalam um arquivo no mesmo local que executa uma função diferente), <a href=#conflicts>use a variável <code>CONFLICTS</code> como uma alternativa</a>. <code>CONFLICTS</code> ajustará <code>IGNORE</code> por si próprio.</p></div></td></tr></tbody></table></div></li></ul></div></li></ul></div></div><div class=sect2><h3 id=dads-noinstall-notes>13.13.2. Notas de Implementação<a class=anchor href=#dads-noinstall-notes></a></h3><div class=paragraph><p>Não coloque os valores de <code>BROKEN</code>, <code>IGNORE</code> e variáveis ​​relacionadas entre aspas. Devido à forma como a informação é mostrada ao usuário, o texto das mensagens para cada variável é diferente:</p></div><div class="literalblock programlisting"><div class=content><pre>BROKEN=	fails to link with base -lcrypto</pre></div></div><div class="literalblock programlisting"><div class=content><pre>IGNORE=	unsupported on recent versions</pre></div></div><div class=paragraph><p>resultando nesta saída a partir do comando <code>make describe</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>===&gt;  foobar-0.1 is marked as broken: fails to link with base -lcrypto.</pre></div></div><div class="literalblock programlisting"><div class=content><pre>===&gt;  foobar-0.1 is unsupported on recent versions.</pre></div></div></div></div></div><div class=sect1><h2 id=dads-arch>13.14. Considerações Arquitetônicas<a class=anchor href=#dads-arch></a></h2><div class=sectionbody><div class=sect2><h3 id=dads-arch-general>13.14.1. Notas Gerais sobre Arquiteturas<a class=anchor href=#dads-arch-general></a></h3><div class=paragraph><p>O FreeBSD roda em muito mais arquiteturas de processador do que apenas as conhecidas baseadas em x86. Alguns ports possuem restrições específicas para uma ou mais dessas arquiteturas.</p></div><div class=paragraph><p>Para a lista de arquiteturas suportadas, execute:</p></div><div class="literalblock programlisting"><div class=content><pre>cd ${SRCDIR}; make targets</pre></div></div><div class=paragraph><p>Os valores são mostrados no formato <code>TARGET</code>/<code>TARGET_ARCH</code>. O makevar <code>ARCH</code> somente leitura do ports é configurado com base no valor de <code>TARGET_ARCH</code>. Os <span class=filename>Makefile</span>s dos Ports devem testar o valor deste Makevar.</p></div></div><div class=sect2><h3 id=dads-arch-neutral>13.14.2. Marcando um Port como de Arquitetura Neutra<a class=anchor href=#dads-arch-neutral></a></h3><div class=paragraph><p>Os ports que não possuem requisitos ou arquivos dependentes de arquitetura são identificados com <code>NO_ARCH=yes</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>NO_ARCH</code> pretende indicar que não há necessidade de compilar um pacote para cada uma das arquiteturas suportadas. O objetivo é reduzir a quantidade de recursos gastos na compilação e distribuição de pacotes, como largura de banda de rede e espaço em disco em mirrors e na mídia de distribuição. Atualmente, entretanto, nossa infraestrutura de pacotes (por exemplo, gerenciadores de pacotes, mirrors e compiladores de pacotes) não estão configurados para se beneficiar totalmente do <code>NO_ARCH</code>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=dads-arch-ignore>13.14.3. Marcando um port para ser ignorado apenas em determinadas arquiteturas<a class=anchor href=#dads-arch-ignore></a></h3><div class=ulist><ul><li><p>Para marcar um port com <code>IGNORE</code> apenas em determinadas arquiteturas, existem duas outras variáveis ​​de conveniência que irão setar automaticamente <code>IGNORE</code>: <code>ONLY_FOR_ARCHS</code> e <code>NOT_FOR_ARCHS</code>. Exemplos:</p><div class="literalblock programlisting"><div class=content><pre>ONLY_FOR_ARCHS=	i386 amd64</pre></div></div><div class="literalblock programlisting"><div class=content><pre>NOT_FOR_ARCHS=	ia64 sparc64</pre></div></div><div class=paragraph><p>Uma mensagem de <code>IGNORE</code> customizada pode ser definida usando as variáveis <code>ONLY_FOR_ARCHS_REASON</code> e <code>NOT_FOR_ARCHS_REASON</code>. É possível definir entradas por arquitetura com as variáveis <code>ONLY_FOR_ARCHS_REASON_ARCH</code> e <code>NOT_FOR_ARCHS_REASON_ARCH</code>.</p></div></li></ul></div></div><div class=sect2><h3 id=dads-arch-i386>13.14.4. Unknown Title!<a class=anchor href=#dads-arch-i386></a></h3><div class=ulist><ul><li><p>Se um port baixar e instalar binários i386, defina a variável <code>IA32_BINARY_PORT</code>. Se esta variável estiver definida,<span class=filename>/usr/lib32</span> deve estar presente para versões IA32 de bibliotecas e o kernel deve suportar compatibilidade com IA32. Se uma dessas duas dependências não forem satisfeitas, <code>IGNORE</code> será definido automaticamente.</p></li></ul></div></div><div class=sect2><h3 id=dads-arch-cluster>13.14.5. Considerações Específicas do Cluster<a class=anchor href=#dads-arch-cluster></a></h3><div class=ulist><ul><li><p>Alguns ports tentam se ajustar à máquina exata em que estão sendo compilados, definindo <code>-march=native</code> para o compilador. Isso deve ser evitado: liste-o em uma opção desativada por padrão ou exclua-o completamente.</p><div class=paragraph><p>Caso contrário, o pacote padrão produzido pelo cluster de compilação pode não rodar em todas as máquinas desse <code>ARCH</code>.</p></div></li></ul></div></div></div></div><div class=sect1><h2 id=dads-deprecated>13.15. Marcando um Port para Remoção com <code>DEPRECATED</code> ou <code>EXPIRATION_DATE</code><a class=anchor href=#dads-deprecated></a></h2><div class=sectionbody><div class=paragraph><p>Lembre-se que <code>BROKEN</code> e <code>FORBIDDEN</code> devem ser usados ​​como um recurso temporário se um port não estiver funcionando. Ports permanentemente quebrados serão removidos da árvore por completo.</p></div><div class=paragraph><p>Quando fizer sentido, os usuários podem ser avisados ​​sobre uma remoção de port pendente com as variáveis <code>DEPRECATED</code> e <code>EXPIRATION_DATE</code>. A primeira é uma string que indica porque o port está programado para remoção; a segunda é uma string no formato ISO 8601 (YYYY-MM-DD). Ambos serão mostrados ao usuário.</p></div><div class=paragraph><p>É possível definir a variável <code>DEPRECATED</code> sem uma <code>EXPIRATION_DATE</code> (por exemplo, recomendando uma versão mais nova do port), mas o contrário não faz sentido.</p></div><div class=paragraph><p>Não existe uma política definida sobre o tempo de aviso a ser dado. A prática atual parece ser de um mês para problemas relacionados à segurança e dois meses para problemas de compilação. Isso também dá a algum interessado um pouco de tempo para resolver os problemas.</p></div></div></div><div class=sect1><h2 id=dads-dot-error>13.16. Evite o Uso do Construtor <code>.error</code><a class=anchor href=#dads-dot-error></a></h2><div class=sectionbody><div class=paragraph><p>A maneira correta de um <span class=filename>Makefile</span> sinalizar que o port não pode ser instalado devido a algum fator externo (por exemplo, o usuário especificou uma combinação ilegal de opções de compilação) é definir um valor não vazio para <code>IGNORE</code>. Este valor será formatado e mostrado ao usuário pelo comando <code>make install</code>.</p></div><div class=paragraph><p>É um equívoco comum usar <code>.error</code> para esse propósito. O problema com isso é que muitas ferramentas automatizadas que funcionam com a árvore de ports falharão nessa situação. A ocorrência mais comum disso é encontrada ao tentar construir o arquivo <span class=filename>/usr/ports/INDEX</span> (Veja <a href=../testing/#make-describe>Executando <code>make describe</code></a>). No entanto, comandos ainda mais triviais, como <code>make maintainer</code> também irão falhar neste cenário. E Isto não é aceitável.</p></div><div id=dot-error-breaks-index class=exampleblock><div class=title>Exemplo 1. Como Evitar o Uso de <code>.error</code></div><div class=content><div class=paragraph><p>O primeiro dos próximos dois trechos de <span class=filename>Makefile</span> irá fazer o <code>make index</code> falhar, enquanto o segundo não:</p></div><div class="literalblock programlisting"><div class=content><pre>.error &#34;option is not supported&#34;</pre></div></div><div class="literalblock programlisting"><div class=content><pre>IGNORE=option is not supported</pre></div></div></div></div></div></div><div class=sect1><h2 id=dads-sysctl>13.17. Uso de <span class=filename>sysctl</span><a class=anchor href=#dads-sysctl></a></h2><div class=sectionbody><div class=paragraph><p>O uso de <span class=filename>sysctl</span> é desencorajado, exceto nos targets. Isso porque ele seria processado na execução de qualquer <code>makevar</code>, como os usados durante um <code>make index</code>, e assim teria que executar o comando, retardando ainda mais esse processo.</p></div><div class=paragraph><p>Use apenas <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> através de <code>SYSCTL</code>, pois contém o caminho completo e pode ser modificado, se alguém tiver uma necessidade especial.</p></div></div></div><div class=sect1><h2 id=dads-rerolling-distfiles>13.18. Atualizando Distfiles<a class=anchor href=#dads-rerolling-distfiles></a></h2><div class=sectionbody><div class=paragraph><p>De vez em quando os autores de software alteram o conteúdo dos distfiles liberados sem alterar o nome do arquivo. Verifique se as alterações são oficiais e se foram realizadas pelo autor. Já aconteceu no passado em que o distfile foi silenciosamente alterado nos servidores de download com a intenção de prejudicar ou comprometer a segurança do usuário final.</p></div><div class=paragraph><p>Coloque o antigo distfile de lado, faça o download do novo, descompacte-o e compare o conteúdo com o <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>. Se não houver nada suspeito, atualize o <span class=filename>distinfo</span>.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Certifique-se de resumir as diferenças no log do PR e do commit, para que outras pessoas saibam que nada de ruim aconteceu.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Contate os autores do software e confirme as alterações com eles.</p></div></div></div><div class=sect1><h2 id=dads-use-posix-standards>13.19. Uso de Padrões POSIX<a class=anchor href=#dads-use-posix-standards></a></h2><div class=sectionbody><div class=paragraph><p>Os ports do FreeBSD geralmente esperam conformidade com POSIX. Alguns softwares e sistemas de compilação fazem suposições baseadas em um sistema operacional ou ambiente específico que pode causar problemas quando usado em um port.</p></div><div class=paragraph><p>Não use <span class=filename>/proc</span> se houver outras maneiras de obter as informações. Por exemplo, <code>setprogname(argv[0])</code> dentro de <code>main()</code> e depois <a href="https://man.freebsd.org/cgi/man.cgi?query=getprogname&amp;sektion=3&amp;format=html">getprogname(3)</a> para saber o nome do executável.</p></div><div class=paragraph><p>Não confie em comportamento não documentado pelo POSIX.</p></div><div class=paragraph><p>Não registre timestamps no caminho crítico do aplicativo se ele também funcionar sem. Obter registros de timestamps pode ser lento, dependendo da precisão dos registros de timestamp no SO. Se os timestamps forem realmente necessários, determine o quão precisos eles devem ser e use uma API documentada para fornecer a precisão necessária.</p></div><div class=paragraph><p>Um número razoável de syscalls simples (por exemplo <a href="https://man.freebsd.org/cgi/man.cgi?query=gettimeofday&amp;sektion=2&amp;format=html">gettimeofday(2)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=getpid&amp;sektion=2&amp;format=html">getpid(2)</a>) são muito mais rápidos no Linux™ do que em qualquer outro sistema operacional, devido ao armazenamento em cache e às otimizações de desempenho do vsyscall. Não confie que seus custos sejam baratos em aplicativos de desempenho crítico. Em geral, tente evitar as syscalls se possível.</p></div><div class=paragraph><p>Não confie no comportamento de sockets específicos do Linux™. Em particular, os tamanhos padrão do buffer de socket são diferentes (chamadas <a href="https://man.freebsd.org/cgi/man.cgi?query=setsockopt&amp;sektion=2&amp;format=html">setsockopt(2)</a> com <code>SO_SNDBUF</code> e <code>SO_RCVBUF</code>, e enquanto o <a href="https://man.freebsd.org/cgi/man.cgi?query=send&amp;sektion=2&amp;format=html">send(2)</a> do Linux™'s bloqueia quando o buffer do socket está cheio, o do FreeBSD falhará e definirá <code>ENOBUFS</code> no errno).</p></div><div class=paragraph><p>Se for necessário depender de um comportamento não padrão, encapsule-o adequadamente em uma API genérica, verifique o comportamento no estágio de configuração e pare se ele estiver ausente.</p></div><div class=paragraph><p>Verifique as <a href=https://www.freebsd.org/cgi/man.cgi>páginas de manual</a> para ver se a função usada é uma interface POSIX (na seção "STANDARDS" da página de manual).</p></div><div class=paragraph><p>Não assuma que <span class=filename>/bin/sh</span> é o bash. Certifique-se de que uma linha de comando passada para <a href="https://man.freebsd.org/cgi/man.cgi?query=system&amp;sektion=3&amp;format=html">system(3)</a> irá funcionar com um shell compatível com POSIX.</p></div><div class=paragraph><p>Uma lista de bashismos comum está disponível <a href=https://wiki.ubuntu.com/DashAsBinSh>aqui</a>.</p></div><div class=paragraph><p>Verifique se os cabeçalhos estão incluídos no POSIX ou da maneira recomendada na página do manual. Por exemplo,<span class=filename>sys/types.h</span> é muitas vezes esquecido, o que não é tanto um problema para o Linux™ como é para o FreeBSD.</p></div></div></div><div class=sect1><h2 id=dads-misc>13.20. Miscelânea<a class=anchor href=#dads-misc></a></h2><div class=sectionbody><div class=paragraph><p>Sempre verifique duas vezes os arquivos <span class=filename>pkg-descr</span> e <span class=filename>pkg-plist</span>. Se estiver revisando um port e uma melhor formulação puder ser alcançada, faça isso.</p></div><div class=paragraph><p>Não faça mais cópias da Licença GNU General Public License em nosso sistema. Obrigado.</p></div><div class=paragraph><p>Por favor, tenha cuidado ao notar quaisquer questões legais! Não nos deixe distribuir software ilegalmente!</p></div></div></div></div><hr><div class=last-modified><p><strong>Última alteração em</strong>: 9 de março de 2024 por <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Anterior></i><div class=container><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security class=direction>Anterior</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Início></i><div class=container><a href=../ class=direction>Início</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-samplem class=direction>Próximo</a></div><i class="fa fa-angle-right" aria-hidden=true title=Próximo></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#dads-intro>13.1. Introdução</a></li><li><a href=#porting-wrkdir>13.2. <code>WRKDIR</code></a></li><li><a href=#porting-wrkdirprefix>13.3. <code>WRKDIRPREFIX</code></a></li><li><a href=#porting-versions>13.4. Diferenciando Sistemas Operacionais e Versões de OS</a></li><li><a href=#dads-after-port-mk>13.5. Escrevendo Algo Depois do <span class=filename>bsd.port.mk</span></a></li><li><a href=#dads-sh-exec>13.6. Uso de Declarações <code>exec</code> em Wrapper Scripts</a></li><li><a href=#dads-rational>13.7. Faça as Coisas Racionalmente</a></li><li><a href=#dads-cc>13.8. Respeite Ambos <code>CC</code> e <code>CXX</code></a></li><li><a href=#dads-cflags>13.9. Respeite <code>CFLAGS</code></a></li><li><a href=#dads-verbose-logs>13.10. Logs de Compilação Detalhados</a></li><li><a href=#dads-feedback>13.11. Feedback</a></li><li><a href=#dads-readme>13.12. <span class=filename>README.html</span></a></li><li><a href=#dads-noinstall>13.13. Marcando um Port não Instalável com a variável <code>BROKEN</code>, <code>FORBIDDEN</code> ou <code>IGNORE</code></a></li><li><a href=#dads-arch>13.14. Considerações Arquitetônicas</a></li><li><a href=#dads-deprecated>13.15. Marcando um Port para Remoção com <code>DEPRECATED</code> ou <code>EXPIRATION_DATE</code></a></li><li><a href=#dads-dot-error>13.16. Evite o Uso do Construtor <code>.error</code></a></li><li><a href=#dads-sysctl>13.17. Uso de <span class=filename>sysctl</span></a></li><li><a href=#dads-rerolling-distfiles>13.18. Atualizando Distfiles</a></li><li><a href=#dads-use-posix-standards>13.19. Uso de Padrões POSIX</a></li><li><a href=#dads-misc>13.20. Miscelânea</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/pt-br/books/porters-handbook/porters-handbook_pt-br.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edite essa página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/pt-br/_index target=_blank>Edite essa página</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/pt-br/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Escolha o idioma">
<span>Brazilian Portuguese</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/pt-br class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/pt-br/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>