<!doctype html><html class=theme-light lang=pt-br><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/><title>Capítulo 5. Configurando o Makefile | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Capítulo 5. Configurando o Makefile"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="pt-br"><meta property="og:url" content="http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/pt-br\/books\/porters-handbook\/makefiles\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/pt-br>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/pt-br/books>Books</a></li><li><a href=http://172.16.201.134:1313/pt-br/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/pt-br/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=pt-br>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Pesquisar aria-label=Pesquisar maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-c934186a5adac4f64b993f751abed30c class=toggle>
<label for=chapter-c934186a5adac4f64b993f751abed30c><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-why/>Capítulo 1. Introdução</a></li><li><input type=checkbox id=chapter-2798d78fe854f2709bab5ca473b97050 class=toggle>
<label for=chapter-2798d78fe854f2709bab5ca473b97050><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/new-port/>Capítulo 2. Criando um Novo Port</a></li><li><input type=checkbox id=chapter-c0d52b9121b517084e01f59cefa725e1 class=toggle>
<label class="icon cursor" for=chapter-c0d52b9121b517084e01f59cefa725e1><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/>Capítulo 3. Port Rápido</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-makefile>3.1. Escrevendo o <span class=filename>Makefile</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-desc>3.2. Escrevendo os Arquivos de Descrição</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-checksum>3.3. Criando o Arquivo Checksum</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-testing>3.4. Testando o Port</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-portlint>3.5. Verificando o Port com <code>portlint</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/quick-porting/#porting-submitting>3.6. Enviando o Novo Port</a></li></ul></li><li><input type=checkbox id=chapter-3694de03923da61ba10a0a25efca6ef0 class=toggle>
<label class="icon cursor" for=chapter-3694de03923da61ba10a0a25efca6ef0><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/>Capítulo 4. Port Lento</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-work>4.1. Como as Coisas Funcionam</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-sources>4.2. Obtendo os Fontes Originais</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-modifying>4.3. Modificando o Port</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-patch>4.4. Patching</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-configure>4.5. Configurando</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting/#slow-user-input>4.6. Manipulando a Entrada do Usuário</a></li></ul></li><li><input type=checkbox id=chapter-165f6a6dba6651f8c25fc63ab83d6538 class=toggle checked>
<label class="icon cursor" for=chapter-165f6a6dba6651f8c25fc63ab83d6538><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/>Capítulo 5. Configurando o Makefile</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-source>5.1. O Código Fonte Original</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-categories>5.2. Categorização</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-distfiles>5.3. Os Arquivos de Distribuição</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-maintainer>5.4. <code>MAINTAINER</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-comment>5.5. <code>COMMENT</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#licenses>5.6. Licenças</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-portscout>5.7. <code>PORTSCOUT</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-depend>5.8. Dependências</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-use-vars>5.9. 0 <code>USE_*</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-masterdir>5.10. Ports Slaves e <code>MASTERDIR</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-manpages>5.11. Páginas de Manual</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-info>5.12. Arquivos de Informação</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-options>5.13. Opções do Makefile</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#makefile-wrkdir>5.14. Especificando o Diretório de Trabalho</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#conflicts>5.15. Manipulando Conflitos</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#install>5.16. Instalando Arquivos</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/makefiles/#binary-alias>5.17. Use <code>BINARY_ALIAS</code> para Renomear Comandos Em Vez de Aplicar Patch na Compilação</a></li></ul></li><li><input type=checkbox id=chapter-19e3150e00beb84341d8ac1a73936ef0 class=toggle>
<label class="icon cursor" for=chapter-19e3150e00beb84341d8ac1a73936ef0><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/>Capítulo 6. Considerações Especiais</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#staging>6.1. Staging</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#bundled-libs>6.2. Bibliotecas Empacotadas (Bundled)</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#porting-shlibs>6.3. Bibliotecas Compartilhadas</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#porting-restrictions>6.4. Ports com Restrições de Distribuição ou Preocupações Legais</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#building>6.5. Mecanismos de Compilação</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-autotools>6.6. Usando o GNU Autotools</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-gettext>6.7. Usando o GNU <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-perl>6.8. Usando Perl</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-x11>6.9. Usando o X11</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-gnome>6.10. Usando o GNOME</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#gnome-components>6.11. Componentes GNOME</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-qt>6.12. Usando o Qt</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-kde>6.13. Usando o KDE</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-lxqt>6.14. Usando o LXQt</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-java>6.15. Usando Java</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-php>6.16. Aplicações Web, Apache e PHP</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-python>6.17. Usando Python</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-tcl>6.18. Usando Tcl/Tk</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-ruby>6.19. Usando Ruby</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-sdl>6.20. Usando SDL</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-wx>6.21. Usando wxWidgets</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-lua>6.22. Usando Lua</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-iconv>6.23. Usando <code>iconv</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-xfce>6.24. Usando o Xfce</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#using-databases>6.25. Usando Bancos de Dados</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#rc-scripts>6.26. Iniciando e Parando Serviços (com scripts <code>rc</code>)</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#users-and-groups>6.27. Adicionando Usuários e Grupos</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#requiring-kernel-sources>6.28. Ports que Dependem dos Fontes do kernel</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#go-libs>6.29. Bibliotecas Go</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#haskell-libs>6.30. Bibliotecas Haskell</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special/#shell-completion>6.31. Arquivos Shell Completion</a></li></ul></li><li><input type=checkbox id=chapter-2a77b1fa0736427c336503055c700137 class=toggle>
<label class="icon cursor" for=chapter-2a77b1fa0736427c336503055c700137><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/>Capítulo 7. Flavors</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-intro>7.1. Uma Introdução aos Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-using>7.2. Usando FLAVORS</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-auto-php>7.3. <code>USES=php</code> e Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-auto-python>7.4. <code>USES=python</code> e Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/flavors/#flavors-auto-lua>7.5. <code>USES=lua</code> e Flavors</a></li></ul></li><li><input type=checkbox id=chapter-154554011c772e1e6cc0108eef5e0b2b class=toggle>
<label class="icon cursor" for=chapter-154554011c772e1e6cc0108eef5e0b2b><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/>Capítulo 8. Prácticas Avançadas de pkg-plist</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-sub>8.1. Alterando o <span class=filename>pkg-plist</span> Baseado em Variáveis Make</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-cleaning>8.2. Diretórios Vazios</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-config>8.3. Arquivos de Configuração</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-dynamic>8.4. Lista de Pacotes Estática versus Dinâmica</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-autoplist>8.5. Criação Automatizada da Lista de Pacotes</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/plist/#plist-keywords>8.6. Expandindo a Lista de Pacotes com Keywords</a></li></ul></li><li><input type=checkbox id=chapter-5955b0791ccd51005b5bc5bebeec91e5 class=toggle>
<label class="icon cursor" for=chapter-5955b0791ccd51005b5bc5bebeec91e5><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/>Capítulo 9. pkg-*</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#porting-message>9.1. <span class=filename>pkg-message</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#pkg-install>9.2. <span class=filename>pkg-install</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#pkg-deinstall>9.3. <span class=filename>pkg-deinstall</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#pkg-names>9.4. Mudando os nomes dos <span class=filename>pkg-*</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/pkg-files/#using-sub-files>9.5. Fazendo uso de <code>SUB_FILES</code> e <code>SUB_LIST</code></a></li></ul></li><li><input type=checkbox id=chapter-ee86a11caedb6395ed82b94ec7a9c6cd class=toggle>
<label class="icon cursor" for=chapter-ee86a11caedb6395ed82b94ec7a9c6cd><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/>Capítulo 10. Testando o Port</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#make-describe>10.1. Executando <code>make describe</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#testing-portlint>10.2. Portlint</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#testing-porttools>10.3. Ferramentas do Ports</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#porting-prefix>10.4. <code>PREFIX</code> e <code>DESTDIR</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/testing/#testing-poudriere>10.5. Poudriere</a></li></ul></li><li><input type=checkbox id=chapter-4ccaefe2590c044ca2b79c46e79fe17f class=toggle>
<label class="icon cursor" for=chapter-4ccaefe2590c044ca2b79c46e79fe17f><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/upgrading/>Capítulo 11. Atualizando um Port</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/upgrading/#svn-diff>11.1. Usando o Subversion para Criar Patches</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/upgrading/#moved-and-updating-files>11.2. <span class=filename>UPDATE</span> e <span class=filename>MOVED</span></a></li></ul></li><li><input type=checkbox id=chapter-1023911bc0041506653280b832dea3b2 class=toggle>
<label class="icon cursor" for=chapter-1023911bc0041506653280b832dea3b2><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/>Capítulo 12. Segurança</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/#security-intro>12.1. Por Que Segurança é Tão Importante</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/#security-fix>12.2. Corrigindo Vulnerabilidades de Segurança</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/security/#security-notify>12.3. Mantendo a Comunidade Informada</a></li></ul></li><li><input type=checkbox id=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7 class=toggle>
<label class="icon cursor" for=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/>Capítulo 13. O Que Fazer e Não Fazer</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-intro>13.1. Introdução</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#porting-wrkdir>13.2. <code>WRKDIR</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#porting-wrkdirprefix>13.3. <code>WRKDIRPREFIX</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#porting-versions>13.4. Diferenciando Sistemas Operacionais e Versões de OS</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-after-port-mk>13.5. Escrevendo Algo Depois do <span class=filename>bsd.port.mk</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-sh-exec>13.6. Uso de Declarações <code>exec</code> em Wrapper Scripts</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-rational>13.7. Faça as Coisas Racionalmente</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-cc>13.8. Respeite Ambos <code>CC</code> e <code>CXX</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-cflags>13.9. Respeite <code>CFLAGS</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-verbose-logs>13.10. Logs de Compilação Detalhados</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-feedback>13.11. Feedback</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-readme>13.12. <span class=filename>README.html</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-noinstall>13.13. Marcando um Port não Instalável com a variável <code>BROKEN</code>, <code>FORBIDDEN</code> ou <code>IGNORE</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-arch>13.14. Considerações Arquitetônicas</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-deprecated>13.15. Marcando um Port para Remoção com <code>DEPRECATED</code> ou <code>EXPIRATION_DATE</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-dot-error>13.16. Evite o Uso do Construtor <code>.error</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-sysctl>13.17. Uso de <span class=filename>sysctl</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-rerolling-distfiles>13.18. Atualizando Distfiles</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-use-posix-standards>13.19. Uso de Padrões POSIX</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-dads/#dads-misc>13.20. Miscelânea</a></li></ul></li><li><input type=checkbox id=chapter-5ef4c4c471a3f55c74fb71881f9d8713 class=toggle>
<label for=chapter-5ef4c4c471a3f55c74fb71881f9d8713><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/porting-samplem/>Capítulo 14. Um Exemplo de Makefile</a></li><li><input type=checkbox id=chapter-15c16456ccd7b4dc2a25fa8defa336a1 class=toggle>
<label class="icon cursor" for=chapter-15c16456ccd7b4dc2a25fa8defa336a1><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/>Chapter 15. Ordem das Variáveis ​​nos Makefiles de Port</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-portname>15.1. Bloco <code>PORTNAME</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-patch>15.2. Bloco <code>PATCHFILES</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-maintainer>15.3. Bloco <code>MAINTAINER</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-license>15.4. Bloco <code>LICENSE</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-broken>15.5. Mensagens Genéricas <code>BROKEN</code>/<code>IGNORE</code>/<code>DEPRECATED</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-depends>15.6. O Bloco de Dependências</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-flavors>15.7. Flavors</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-uses>15.8. <code>USES</code> e <code>USE_x</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-variables>15.9. Variáveis ​​Padrão <span class=filename>bsd.port.mk</span></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-options>15.10. Opções e Assistentes</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-rest>15.11. O Restante das Variáveis</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/order/#porting-order-targets>15.12. Os Targets</a></li></ul></li><li><input type=checkbox id=chapter-70f5a4755700a24529175d26e65871bf class=toggle>
<label class="icon cursor" for=chapter-70f5a4755700a24529175d26e65871bf><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/>Capítulo 16. Mantendo-se Atualizado</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#freshports>16.1. FreshPorts</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#svnweb>16.2. A interface Web para o Repositório do Código Fonte</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#ports-mailing-list>16.3. A Lista de Discussão de Ports do FreeBSD</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#build-cluster>16.4. O Cluster de Compilação de Ports do FreeBSD</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#distfile-survey>16.5. Portscout: o Scanner de Distfile de Ports do FreeBSD</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/keeping-up/#portsmon>16.6. O Sistema de Monitoramento de Ports do FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-8225273087f0e195be28132f4b5a0562 class=toggle>
<label class="icon cursor" for=chapter-8225273087f0e195be28132f4b5a0562><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/>Capítulo 17. Using USES Macros</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-intro>17.1. Uma introdução ao <code>USES</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-7z>17.2. <code>7z</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ada>17.3. <code>ada</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-autoreconf>17.4. <code>autoreconf</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-blaslapack>17.5. <code>blaslapack</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-bdb>17.6. <code>bdb</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-bison>17.7. <code>bison</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cabal>17.8. <code>cabal</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cargo>17.9. <code>cargo</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-charsetfix>17.10. <code>charsetfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cmake>17.11. <code>cmake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-compiler>17.12. <code>compiler</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cpe>17.13. <code>cpe</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-cran>17.14. <code>cran</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-desktop-file-utils>17.15. <code>desktop-file-utils</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-desthack>17.16. <code>desthack</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-display>17.17. <code>display</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-dos2unix>17.18. <code>dos2unix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-drupal>17.19. <code>drupal</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fakeroot>17.20. <code>fakeroot</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fam>17.21. <code>fam</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-firebird>17.22. <code>firebird</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fonts>17.23. <code>fonts</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fortran>17.24. <code>fortran</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-fuse>17.25. <code>fuse</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gem>17.26. <code>gem</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gettext>17.27. <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gettext-runtime>17.28. <code>gettext-runtime</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gettext-tools>17.29. <code>gettext-tools</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ghostscript>17.30. <code>ghostscript</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gl>17.31. <code>gl</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gmake>17.32. <code>gmake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gnome>17.33. <code>gnome</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-go>17.34. <code>go</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gperf>17.35. <code>gperf</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-grantlee>17.36. <code>grantlee</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-groff>17.37. <code>groff</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-gssapi>17.38. <code>gssapi</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-horde>17.39. <code>horde</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-iconv>17.40. <code>iconv</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-imake>17.41. <code>imake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-kde>17.42. <code>kde</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-kmod>17.43. <code>kmod</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-lha>17.44. <code>lha</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-libarchive>17.45. <code>libarchive</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-libedit>17.46. <code>libedit</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-libtool>17.47. <code>libtool</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-linux>17.48. <code>linux</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-localbase>17.49. <code>localbase</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-lua>17.50. <code>lua</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-lxqt>17.51. <code>lxqt</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-makeinfo>17.52. <code>makeinfo</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-makeself>17.53. <code>makeself</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-mate>17.54. <code>mate</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-meson>17.55. <code>meson</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-metaport>17.56. <code>metaport</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-mysql>17.57. <code>mysql</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-mono>17.58. <code>mono</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-motif>17.59. <code>motif</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ncurses>17.60. <code>ncurses</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ninja>17.61. <code>ninja</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-objc>17.62. <code>objc</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-openal>17.63. <code>openal</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pathfix>17.64. <code>pathfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pear>17.65. <code>pear</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-perl5>17.66. <code>perl5</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pgsql>17.67. <code>pgsql</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-php>17.68. <code>php</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pkgconfig>17.69. <code>pkgconfig</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pure>17.70. <code>pure</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-pyqt>17.71. <code>pyqt</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-python>17.72. <code>python</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qmail>17.73. <code>qmail</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qmake>17.74. <code>qmake</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qt>17.75. <code>qt</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-qt-dist>17.76. <code>qt-dist</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-readline>17.77. <code>readline</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-samba>17.78. <code>samba</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-scons>17.79. <code>scons</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-shared-mime-info>17.80. <code>shared-mime-info</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-shebangfix>17.81. <code>shebangfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-sqlite>17.82. <code>sqlite</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-ssl>17.83. <code>ssl</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-tar>17.84. <code>tar</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-tcl>17.85. <code>tcl</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-terminfo>17.86. <code>terminfo</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-tk>17.87. <code>tk</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-uidfix>17.88. <code>uidfix</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-uniquefiles>17.89. <code>uniquefiles</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-varnish>17.90. <code>varnish</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-webplugin>17.91. <code>webplugin</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-xfce>17.92. <code>xfce</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-xorg>17.93. <code>xorg</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-xorg-cat>17.94. <code>xorg-cat</code></a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/uses/#uses-zip>17.95. <code>zip</code></a></li></ul></li><li><input type=checkbox id=chapter-7713ccc63287693c9be6c832b2c1e850 class=toggle>
<label class="icon cursor" for=chapter-7713ccc63287693c9be6c832b2c1e850><a role=button></a></label><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/>Capítulo 18. Valores __FreeBSD_version</a><ul><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-13>18.1. Versões do FreeBSD 13</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-12>18.2. Versões do FreeBSD 12</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-11>18.3. Versões do FreeBSD 11</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-10>18.4. Versões do FreeBSD 10</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-9>18.5. Versões do FreeBSD 9</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-8>18.6. Versões do FreeBSD 8</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-7>18.7. Versões do FreeBSD 7</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-6>18.8. Versões do FreeBSD 6</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-5>18.9. Versões do FreeBSD 5</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-4>18.10. Versões do FreeBSD 4</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-3>18.11. Versões do FreeBSD 3</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-2-2>18.12. Versões do FreeBSD 2.2</a></li><li><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/versions/#versions-2>18.13. FreeBSD 2 Antes das Versões 2.2-RELEASE</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title=Menu></i>
Menu</span></label></div><h1 class=title>Capítulo 5. Configurando o Makefile</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
Esta tradução pode estar desatualizada. Para ajudar com as traduções, acesse a <a href=https://translate-dev.freebsd.org/ target=_blank>ferramenta de traduções do FreeBSD</a>.</p></div><div class=toc-mobile><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. O Código Fonte Original</a></li><li><a href=#makefile-categories>5.2. Categorização</a></li><li><a href=#makefile-distfiles>5.3. Os Arquivos de Distribuição</a></li><li><a href=#makefile-maintainer>5.4. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.5. <code>COMMENT</code></a></li><li><a href=#licenses>5.6. Licenças</a></li><li><a href=#makefile-portscout>5.7. <code>PORTSCOUT</code></a></li><li><a href=#makefile-depend>5.8. Dependências</a></li><li><a href=#makefile-use-vars>5.9. 0 <code>USE_*</code></a></li><li><a href=#makefile-masterdir>5.10. Ports Slaves e <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.11. Páginas de Manual</a></li><li><a href=#makefile-info>5.12. Arquivos de Informação</a></li><li><a href=#makefile-options>5.13. Opções do Makefile</a></li><li><a href=#makefile-wrkdir>5.14. Especificando o Diretório de Trabalho</a></li><li><a href=#conflicts>5.15. Manipulando Conflitos</a></li><li><a href=#install>5.16. Instalando Arquivos</a></li><li><a href=#binary-alias>5.17. Use <code>BINARY_ALIAS</code> para Renomear Comandos Em Vez de Aplicar Patch na Compilação</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class=paragraph><p>Configurar o <span class=filename>Makefile</span> é bastante simples e, novamente, sugerimos examinar os exemplos existentes antes de começar. Além disso, há um <a href=#porting-samplem>Makefile de exemplo</a> neste manual, então dê uma olhada e por favor siga a ordem das variáveis ​​e seções naquele modelo para tornar o port mais fácil para os outros lerem.</p></div><div class=paragraph><p>Considere estes problemas em sequência durante o projeto do novo <span class=filename>Makefile</span>:</p></div></div></div><div class=sect1><h2 id=makefile-source>5.1. O Código Fonte Original<a class=anchor href=#makefile-source></a></h2><div class=sectionbody><div class=paragraph><p>Ele está em <code>DISTDIR</code> como um tarball <code>gzip</code> e é chamado de algo como <span class=filename>foozolix-1.2.tar.gz</span>? Se assim for, vá para o próximo passo. Caso contrário, o formato do arquivo de distribuição pode necessitar da substituição de uma ou mais das variáveis <code>DISTVERSION</code>, <code>DISTNAME</code>, <code>EXTRACT_CMD</code>, <code>EXTRACT_BEFORE_ARGS</code>, <code>EXTRACT_AFTER_ARGS</code>, <code>EXTRACT_SUFX</code> ou <code>DISTFILES</code>.</p></div><div class=paragraph><p>Na pior das hipóteses, crie um target personalizado <code>do-extract</code> para substituir o padrão. Isso raramente é necessário.</p></div><div class=sect2><h3 id=makefile-naming>5.1.1. Nomeando<a class=anchor href=#makefile-naming></a></h3><div class=paragraph><p>A primeira parte do <span class=filename>Makefile</span> do port o nomeia, descreve seu número de versão e o lista na categoria correta.</p></div></div><div class=sect2><h3 id=makefile-portname>5.1.2. <code>PORTNAME</code><a class=anchor href=#makefile-portname></a></h3><div class=paragraph><p>Setar <code>PORTNAME</code> ao nome base do software. Isso é usado como base para o pacote do FreeBSD, e para o <a href=#makefile-distname><code>DISTNAME</code></a>.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>O nome do pacote deve ser único em toda a árvore de ports. Certifique-se de que o <code>PORTNAME</code> já não está em uso por um port existente, e que nenhum outro port já tem o mesmo <code>PKGBASE</code>. Se o nome já tiver sido usado, adicione <a href=#porting-pkgnameprefix-suffix><code>PKGNAMEPREFIX</code> ou <code>PKGNAMESUFFIX</code></a>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-versions>5.1.3. Versões, <code>DISTVERSION</code> ou <code>PORTVERSION</code><a class=anchor href=#makefile-versions></a></h3><div class=paragraph><p>Setar <code>DISTVERSION</code> para o número da versão do software.</p></div><div class=paragraph><p><code>PORTVERSION</code> é a versão usada para o pacote do FreeBSD. Será automaticamente derivado de <code>DISTVERSION</code> para ser compatível com o esquema de versionamento de pacotes do FreeBSD. Se a versão contiver <em>letras</em>, pode ser necessário definir <code>PORTVERSION</code> e não <code>DISTVERSION</code>.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Não é possível utilizar <code>PORTVERSION</code> e <code>DISTVERSION</code> juntos, deve ser ser definido um de cada vez.</p></div></td></tr></tbody></table></div><div class=paragraph><p>De tempos em tempos, alguns softwares usam um esquema de versão que não é compatível em como o <code>DISTVERSION</code> traduz a versão no <code>PORTVERSION</code>.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Ao atualizar um port, é possível usar o <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a><code>-t</code> para verificar se a nova versão é maior ou menor do que antes. Veja <a href=#makefile-versions-ex-pkg-version>Usando pkg-version(8) para comparar versões.</a>.</p></div></td></tr></tbody></table></div><div id=makefile-versions-ex-pkg-version class=exampleblock><div class=title>Exemplo 1. Usando <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> para comparar versões.</div><div class=content><div class=paragraph><p><code>pkg version -t</code> recebe duas versões como argumentos, responderá com <code>&lt;</code>, <code>=</code> ou <code>></code> se a primeira versão for menor, igual ou maior que a segunda versão, respectivamente.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 1.2 1.3
&lt; <i class=conum data-value=1></i><b>(1)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2
<span class=o>=</span> <i class=conum data-value=2></i><b>(2)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2.0
<span class=o>=</span> <i class=conum data-value=3></i><b>(3)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2.p1
<span class=o>&gt;</span> <i class=conum data-value=4></i><b>(4)</b>
% pkg version <span class=nt>-t</span> 1.2.a1 1.2.b1
&lt; <i class=conum data-value=5></i><b>(5)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2p1
&lt; <i class=conum data-value=6></i><b>(6)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td><code>1.2</code> é menor que <code>1.3</code>.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td><code>1.2</code> e <code>1.2</code> são iguais, pois têm a mesma versão.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td><code>1.2</code> e <code>1.2.0</code> são iguais, pois valor vazio é igual a zero.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td><code>1.2</code> é maior que <code>1.2.p1</code> por causa do <code>.p1</code>, pense em "pre-release 1".</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td><code>1.2.a1</code> é menor que <code>1.2.b1</code>, pense em "alfa" e "beta" e <code>a</code> é menor que <code>b</code>.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td><code>1.2</code> é menor que <code>1.2p1</code> por causa do <code>2p1</code>, pense em "2, nível de patch 1" que é uma versão depois de qualquer <code>2.X</code> mas antes de <code>3</code>.</td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Aqui, <code>a</code>, <code>b</code> e <code>p</code> são usados ​​como se significassem "alfa", "beta" ou "pre-release" e "nível de patch", mas elas são apenas letras e são classificados por ordem alfabética, portanto, qualquer letra pode ser utilizada, e elas serão ordenadas de forma adequada.</p></div></td></tr></tbody></table></div></div></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabela 1. Exemplos de <code>DISTVERSION</code> e de Derivações <code>PORTVERSION</code></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">DISTVERSION</th><th class="tableblock halign-left valign-top">PORTVERSION</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1d</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1.d</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>10Alpha3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10.a3</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>3Beta7-pre2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.b7.p2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>8:f_17</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8f.17</p></td></tr></tbody></table><div id=makefile-versions-ex1 class=exampleblock><div class=title>Exemplo 2. Usando <code>DISTVERSION</code></div><div class=content><div class=paragraph><p>Quando a versão contém apenas números separados por pontos, traços ou sublinhados, use <code>DISTVERSION</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2-4</pre></div></div><div class=paragraph><p>Isso irá gerar um <code>PORTVERSION 1.2.4</code>.</p></div></div></div><div id=makefile-versions-ex2 class=exampleblock><div class=title>Exemplo 3. Usando <code>DISTVERSION</code> Quando a Versão Começa com uma Letra ou um Prefixo</div><div class=content><div class=paragraph><p>Quando a versão começa ou termina com uma letra, um prefixo ou um sufixo que não faz parte da versão, use <code>DISTVERSIONPREFIX</code>, <code>DISTVERSION</code> e <code>DISTVERSIONSUFFIX</code>.</p></div><div class=paragraph><p>Se a versão for <code>v1.2-4</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSIONPREFIX=  v
DISTVERSION=	1_2_4</pre></div></div><div class=paragraph><p>Algumas vezes, projetos usando GitHub usará seu nome em suas versões. Por exemplo, a versão pode ser <code>nekoto-1.2-4</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSIONPREFIX=  nekoto-
DISTVERSION=	1.2_4</pre></div></div><div class=paragraph><p>Esses projetos também usam algumas strings no final da versão, por exemplo,<code>1.2-4_RELEASE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2-4
DISTVERSIONSUFFIX=  _RELEASE</pre></div></div><div class=paragraph><p>Ou eles fazem ambos, por exemplo,<code>nekoto-1.2-4_RELEASE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSIONPREFIX=  nekoto-
DISTVERSION=	1.2-4
DISTVERSIONSUFFIX=  _RELEASE</pre></div></div><div class=paragraph><p><code>DISTVERSIONPREFIX</code> e <code>DISTVERSIONSUFFIX</code> não serão usados durante a construção do <code>PORTVERSION</code>, mas usado apenas em <code>DISTNAME</code>.</p></div><div class=paragraph><p>Todos exemplos irão gerar um <code>PORTVERSION</code> com valor <code>1.2.4</code>.</p></div></div></div><div id=makefile-versions-ex3 class=exampleblock><div class=title>Exemplo 4. Usando <code>DISTVERSION</code> Quando a Versão Contém Letras Significando "alpha", "beta" ou "pre-release"</div><div class=content><div class=paragraph><p>Quando a versão contém números separados por pontos, traços ou underlines, e letras são usadas para significar "alpha", "beta" ou "pre-release", no sentido de que vem antes das versões sem letras, use <code>DISTVERSION</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2-pre4</pre></div></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2p4</pre></div></div><div class=paragraph><p>Ambos irão gerar um <code>PORTVERSION</code> com valor <code>1.2.p4</code> que é menor do que 1.2. <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> pode ser usado para verificar esse fato:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 1.2.p4 1.2
&lt;</code></pre></div></div></div></div><div id=makefile-versions-ex4 class=exampleblock><div class=title>Exemplo 5. Não use <code>DISTVERSION</code> Quando a Versão Contém Letras que Significam "Nível de Patch"</div><div class=content><div class=paragraph><p>Quando a versão contém letras que não significam "alpha", "beta" ou "pre", e estão mais para um "nível de patch", no sentido de que vem depois da versão sem as letras, use <code>PORTVERSION</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
PORTVERSION=	1.2p4</pre></div></div><div class=paragraph><p>Neste caso, usar <code>DISTVERSION</code> não é possível porque geraria uma versão <code>1.2.p4</code> o que seria menor que <code>1.2</code> e não maior.<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> irá constatar isso:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 1.2 1.2.p4
<span class=o>&gt;</span> <i class=conum data-value=1></i><b>(1)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2p4
&lt; <i class=conum data-value=2></i><b>(2)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td><code>1.2</code> é maior que <code>1.2.p4</code>, o que é <em>errado</em> nesse caso.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td><code>1.2</code> é menor que <code>1.2p4</code>, que é o que era necessário.</td></tr></tbody></table></div></div></div><div class=paragraph><p>Para alguns exemplos mais avançados de configuração do <code>PORTVERSION</code>, quando a versão do software não é realmente compatível com o FreeBSD, ou <code>DISTNAME</code> quando o arquivo de distribuição não contém a versão em si, consulte <a href=#makefile-distname><code>DISTNAME</code></a>.</p></div></div><div class=sect2><h3 id=makefile-naming-revepoch>5.1.4. <code>PORTREVISION</code> e <code>PORTEPOCH</code><a class=anchor href=#makefile-naming-revepoch></a></h3><div class=sect3><h4 id=makefile-portrevision>5.1.4.1. <code>PORTREVISION</code><a class=anchor href=#makefile-portrevision></a></h4><div class=paragraph><p><code>PORTREVISION</code> é um valor monotonicamente crescente que é redefinido para 0 com cada incremento de <code>DISTVERSION</code>, normalmente toda vez que houver uma nova versão oficial do fornecedor. E se <code>PORTREVISION</code> é diferente de zero, o valor é anexado ao nome do pacote. Mudanças em <code>PORTREVISION</code> são usadas ​​por ferramentas automatizadas como <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> para determinar se um novo pacote está disponível.</p></div><div class=paragraph><p><code>PORTREVISION</code> deve ser incrementado toda vez que uma alteração for feita no port onde se altera o pacote gerado de alguma forma. Isso inclui alterações que afetam apenas um pacote compilado com <a href=#makefile-options>options</a> não padrão.</p></div><div class=paragraph><p>Exemplos de quando <code>PORTREVISION</code> deve ser alterado:</p></div><div class=ulist><ul><li><p>Adição de correções para corrigir vulnerabilidades de segurança, bugs ou para adicionar novas funcionalidades ao port.</p></li><li><p>Alterações no <span class=filename>Makefile</span> do port para ativar ou desativar as opções de tempo de compilação no pacote.</p></li><li><p>Alterações na lista de empacotamento ou no comportamento de tempo de instalação do pacote. Por exemplo, uma alteração em um script que gera dados iniciais para o pacote, como chaves de host <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>.</p></li><li><p>Bump de versão da dependência de biblioteca compartilhada de um port (nesse caso, alguém tentando instalar o pacote antigo depois de instalar uma versão mais nova da dependência falhará, pois procurará a libfoo.x antiga em vez da libfoo.(x+1)).</p></li><li><p>Mudanças silenciosas no distfile do port que possuem diferenças funcionais significativas. Por exemplo, mudanças no distfile que requerem uma correção para <span class=filename>distinfo</span> sem alteração correspondente para <code>DISTVERSION</code>, onde um <code>diff -ru</code> das versões antiga e nova mostra mudanças não triviais no código.</p></li></ul></div><div class=paragraph><p>Exemplos de alterações que não requerem uma alteração no <code>PORTREVISION</code>:</p></div><div class=ulist><ul><li><p>Mudanças de estilo no esqueleto do port sem alteração funcional ao que aparece no pacote resultante.</p></li><li><p>Mudanças para <code>MASTER_SITES</code> ou outras alterações funcionais no port que não afetem o pacote resultante.</p></li><li><p>Patches triviais para o distfile, como correção de erros de digitação, que não são importantes o suficiente para que os usuários do pacote tenham que se dar ao trabalho de atualizar.</p></li><li><p>Correções de compilação que fazem com que um pacote se torne compilável onde antes estava falhando. Desde que as alterações não introduzam nenhuma mudança funcional em nenhuma outra plataforma na qual o port tenha sido compilado anteriormente. <code>PORTREVISION</code> reflete o conteúdo do pacote, se o pacote não foi compilado anteriormente, então não há necessidade de incrementar o <code>PORTREVISION</code> para registrar uma mudança.</p></li></ul></div><div class=paragraph><p>Uma regra geral é decidir se a mudança em um port é algo que <em>algumas</em> pessoas se beneficiariam em ter. Por causa de um aprimoramento, conserto ou em virtude de que o novo pacote funcione de fato. Em seguida, pondere que, de fato, isso fará com que todos que regularmente atualizam sua árvore de ports sejam obrigados a atualiza-lo. Se sim, <code>PORTREVISION</code> deve ser incrementado.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Pessoas usando pacotes binários <em>nunca</em> verão a atualização se <code>PORTREVISION</code> não for incrementado. Sem incrementar <code>PORTREVISION</code>, os package builders não têm como detectar a alteração e, portanto, não irão recompilar o pacote.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=makefile-portepoch>5.1.4.2. <code>PORTEPOCH</code><a class=anchor href=#makefile-portepoch></a></h4><div class=paragraph><p>De tempos em tempos, um fornecedor de software ou um mantenedor de port do FreeBSD fazem algo tolo e lançam uma versão de seu software que é numericamente menor que a versão anterior. Um exemplo disso é um port que vai de foo-20000801 para foo-1.0 ( o primeiro será incorretamente tratado como uma versão mais nova, já que 20000801 é um valor numericamente maior que 1).</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Os resultados das comparações de números de versão nem sempre são óbvios. <code>pkg version</code> (veja <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>) pode ser usado para testar a comparação de duas sequências de números de versão. Por exemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 0.031 0.29
<span class=o>&gt;</span></code></pre></div></div><div class=paragraph><p>A saida <code>></code> indica que a versão 0.031 é considerada maior que a versão 0.29, o que pode não ter sido óbvio para o mantenedor do port.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Em situações como essa, <code>PORTEPOCH</code> deve ser incrementado. E se <code>PORTEPOCH</code> é diferente de zero, ele é anexado ao nome do pacote conforme descrito na seção 0 acima. <code>PORTEPOCH</code> nunca deve ser diminuído ou redefinido para zero, porque isso faria com que a comparação com um pacote de uma época anterior falhasse. Por exemplo, o pacote não seria detectado como desatualizado. O novo número da versão, <code>1.0.1</code> no exemplo acima, ainda é numericamente menor que a versão anterior, 20000801, mas o sufixo <code>1</code> é tratado especialmente por ferramentas automatizadas e considerado maior que o sufixo <code>0</code> implícito no pacote anterior.</p></div><div class=paragraph><p>Remover ou resetar o <code>PORTEPOCH</code> incorretamente conduz ao luto eterno. Se a discussão acima não foi clara o suficiente, por favor consulte a <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports>Lista de discussão de ports do FreeBSD</a>.</p></div><div class=paragraph><p>É esperado que <code>PORTEPOCH</code> não seja utilizado na maioria dos ports, e que seja feito o uso sensato do <code>DISTVERSION</code>, ou que o <code>PORTVERSION</code> seja usado com cuidado também, isso muitas vezes pode evitar que uma versão futura do software altere a estrutura da versão. No entanto, é necessário que os porters do FreeBSD tenham cuidado quando uma versão do fornecedor é feita sem um número de versão oficial - como um código de release "snapshot". A tentação é rotular a release com a data de lançamento, o que causará problemas como no exemplo acima, quando um novo release "oficial" é feito.</p></div><div class=paragraph><p>Por exemplo, se um snapshot de release é feito na data <code>20000917</code> e a versão anterior do software era a versão <code>1.2</code>, não use <code>20000917</code> no <code>DISTVERSION</code>. A maneira correta é um <code>DISTVERSION</code> com valor <code>1.2.20000917</code>, ou similar, para que a próxima versão, digamos <code>1.3</code>, ainda seja um valor numericamente maior.</p></div></div><div class=sect3><h4 id=makefile-portrevision-example>5.1.4.3. Exemplo de Uso <code>PORTREVISION</code> e <code>PORTEPOCH</code><a class=anchor href=#makefile-portrevision-example></a></h4><div class=paragraph><p>O port <code>gtkmumble</code>, versão <code>0.10</code> está comitado na coleção de ports:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.10</pre></div></div><div class=paragraph><p><code>PKGNAME</code> torna-se <code>gtkmumble-0.10</code>.</p></div><div class=paragraph><p>Uma falha de segurança é descoberta, o que requer um patch local do FreeBSD. <code>PORTREVISION</code> é alterado de acordo.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.10
PORTREVISION=	1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> torna-se <code>gtkmumble-0.10_1</code></p></div><div class=paragraph><p>Uma nova versão é lançada pelo fornecedor, numerada como <code>0.2</code> (acontece que o autor realmente pretendia que <code>0.10</code> significa-se realmente <code>0.1.0</code>, não "o que vem depois de 0.9" - oops, tarde demais agora). Como a nova versão secundária <code>2</code> é numericamente menor que a versão anterior <code>10</code>, <code>PORTEPOCH</code> deve ser incrementado para forçar manualmente que o novo pacote seja detectado como "mais recente". Como é uma nova versão do fornecedor, <code>PORTREVISION</code> é redefinido para 0 (ou removido do <span class=filename>Makefile</span>).</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.2
PORTEPOCH=	1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> torna-se <code>gtkmumble-0.2,1</code></p></div><div class=paragraph><p>O próximo lançamento é 0.3. Desde que <code>PORTEPOCH</code> nunca diminua, as variáveis ​​de versão são agora:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.3
PORTEPOCH=	1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> torna-se <code>gtkmumble-0.3,1</code></p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>E se <code>PORTEPOCH</code> for redefinido para <code>0</code> com esta atualização, alguém que instalou o <code>gtkmumble-0.10_1</code> não detectaria o <code>gtkmumble-0.3</code> como pacote mais novo, desde que <code>3</code> ainda é numericamente menor que <code>10</code>. Lembre-se, este é o ponto principal de <code>PORTEPOCH</code> em primeiro lugar.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=porting-pkgnameprefix-suffix>5.1.5. <code>PKGNAMEPREFIX</code> e <code>PKGNAMESUFFIX</code><a class=anchor href=#porting-pkgnameprefix-suffix></a></h3><div class=paragraph><p>Duas variáveis ​​opcionais, <code>PKGNAMEPREFIX</code> e <code>PKGNAMESUFFIX</code>, são combinadas com <code>PORTNAME</code> e <code>PORTVERSION</code> para formar <code>PKGNAME</code> como <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>. Certifique-se de que isto está de acordo com as nossas <a href=#porting-pkgname>diretrizes para um bom nome de pacote</a>. Em particular, o uso de um hífen (<code>-</code>) dentro de <code>PORTVERSION</code> <em>não é</em> permitido. Além disso, se o nome do pacote tiver o <em>language-</em> ou a parte <em>-compiled.specifics</em> (veja abaixo), use <code>PKGNAMEPREFIX</code> e <code>PKGNAMESUFFIX</code>, respectivamente. Não os faça parte de <code>PORTNAME</code>.</p></div></div><div class=sect2><h3 id=porting-pkgname>5.1.6. Convenções de Nomenclatura de Pacotes<a class=anchor href=#porting-pkgname></a></h3><div class=paragraph><p>Estas são as convenções a serem seguidas ao nomear pacotes. Isso é para facilitar a varredura do diretório de pacotes, já que existem milhares de pacotes e os usuários irão pegar ranço se eles machucarem seus olhos!</p></div><div class=paragraph><p>Nomes de pacotes tomam a forma de <span class=filename>language_region-name-compiled.specifics-version.numbers</span>.</p></div><div class=paragraph><p>O nome do pacote é definido como <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>. Certifique-se de definir as variáveis ​​para estar em conformidade com esse formato.</p></div><div id=porting-pkgname-language class=dlist><dl><dt class=hdlist1><span class=filename>language_region-</span></dt><dd><p>O FreeBSD se esforça para suportar a linguagem nativa de seus usuários. A parte <em>language-</em> é uma abreviação de duas letras da linguagem natural definida pela ISO-639 quando o port é específico para um determinado idioma. Exemplos são <code>ja</code> para japonês, <code>ru</code> para russo,<code>vi</code> para vietnamita, <code>zh</code> para o chinês, <code>ko</code> para coreano e <code>de</code> para alemão.</p><div class=paragraph><p>Se o port for específico de uma determinada região dentro da área de idioma, adicione também o código do país de duas letras. Exemplos são <code>en_US</code> para Inglês dos EUA e <code>fr_CH</code> para o Francês Suíço.</p></div><div class=paragraph><p>A parte <em>language-</em> é definida em <code>PKGNAMEPREFIX</code>.</p></div></dd></dl></div><div id=porting-pkgname-name class=dlist><dl><dt class=hdlist1><span class=filename>name</span></dt><dd><p>Certifique-se de que o nome e a versão do port estejam claramente separados e colocados em <code>PORTNAME</code> e <code>DISTVERSION</code>. A única razão para <code>PORTNAME</code> conter uma parte da versão é se a distribuição upstream é realmente chamada dessa forma, como no <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/libxml2/>textproc/libxml2</a> ou <a class=package href=https://cgit.freebsd.org/ports/tree/japanese/kinput2-freewnn/>japanese/kinput2-freewnn</a>. De outra forma, <code>PORTNAME</code> não pode conter informações específicas da versão. É normal que vários ports tenham o mesmo <code>PORTNAME</code>, como os ports <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache*/>www/apache*</a> fazem; Nesse caso, versões diferentes (e entradas de índice diferentes) são distinguidas por valores <code>PKGNAMEPREFIX</code> e <code>PKGNAMESUFFIX</code>.</p><div class=paragraph><p>Há uma tradição de nomear módulos <code>Perl 5</code> com sufixo <code>p5-</code> e convertendo o separador de dois pontos para um hífen. Por exemplo, o modulo <code>Data::Dumper</code> torna-se <code>p5-Data-Dumper</code>.</p></div></dd></dl></div><div id=porting-pkgname-compiled-specifics class=dlist><dl><dt class=hdlist1><span class=filename>-compiled.specifics</span></dt><dd><p>Se o port pode ser construído com diferentes <a href=#makefile-masterdir>padrões codificados</a> (geralmente parte do nome do diretório em uma família de ports), a parte <em>-compiled.specifics</em> indica os padrões compilados. O hífen é opcional. Exemplos são tamanho de papel e unidades de fonte.</p><div class=paragraph><p>A parte <em>-compiled.specifics</em> é definida em <code>PKGNAMESUFFIX</code>.</p></div></dd></dl></div><div id=porting-pkgname-version-numbers class=dlist><dl><dt class=hdlist1><span class=filename>-version.numbers</span></dt><dd><p>A string da versão segue um hífen (<code>-</code>) e é uma lista separada por pontos de números inteiros e letras minúsculas. Em particular, não é permitido ter outro hífen dentro da string de versão. A única exceção é a string <code>pl</code> (significando "patchlevel"), que pode ser usado <em>apenas</em> quando não há números de versão maiores e menores no software. Se a versão do software tiver sequências como "alpha", "beta", "rc" ou "pre", use a primeira letra e coloque imediatamente após um ponto. Se a sequência da versão continuar após esses nomes, os números seguirão o alfabeto simples sem um ponto extra entre eles (por exemplo,<code>1.0b2</code>).</p><div class=paragraph><p>A ideia é facilitar a classificação dos ports observando a string de versão. Em particular, certifique-se de que os componentes do número da versão estejam sempre delimitados por um ponto e, se a data fizer parte da string, use o formato <code>dyyyy.mm.dd</code>, não <code>dd.mm.yyyy</code> ou o não compatível com o formato Y2K <code>yy.mm.dd</code>. É importante prefixar a versão com uma letra, aqui <code>d</code> (para data), no caso de uma versão com um número de versão real, que seria numericamente inferior a <code><em>yyyy</em></code>.</p></div></dd></dl></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>O nome do pacote deve ser único entre todos os ports, verifique se ainda não existe um port com o mesmo <code>PORTNAME</code> e se houver, adicione um dos <a href=#porting-pkgnameprefix-suffix><code>PKGNAMEPREFIX</code> ou <code>PKGNAMESUFFIX</code></a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Aqui estão alguns exemplos (reais) de como converter o nome como chamado pelos autores do software para um nome de pacote adequado, para cada linha, apenas um dos <code>DISTVERSION</code> ou <code>PORTVERSION</code> está definido, dependendo de qual seria usado no <span class=filename>Makefile</span>:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabela 2. Exemplos de Nomes de Pacotes</caption><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2858%><thead><tr><th class="tableblock halign-left valign-top">Nome da Distribuição</th><th class="tableblock halign-left valign-top">PKGNAMEPREFIX</th><th class="tableblock halign-left valign-top">PORTNAME</th><th class="tableblock halign-left valign-top">PKGNAMESUFFIX</th><th class="tableblock halign-left valign-top">DISTVERSION</th><th class="tableblock halign-left valign-top">PORTVERSION</th><th class="tableblock halign-left valign-top">Razão ou comentário</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mule-2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mule</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.2</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nenhuma alteração é necessária</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mule-1.0.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mule</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0.1</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Esta é a versão 1 do mule e a versão 2 já existe</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EmiClock-1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>emiclock</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0.2</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sem nomes em maiúsculas para programas individuais</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rdist-1.3alpha</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>rdist</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.3alfa</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versão será <code>1.3.a</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>es-0.9-beta1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>es</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.9-beta1</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versão será <code>0.9.b1</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mailman-2.0rc3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mailman</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.0rc3</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versão será <code>2.0.r3</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>v3.3beta021.src</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tiff</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O que diabos foi isso afinal?</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>p11</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nenhuma versão no nome do arquivo, use o que o upstream diz que é</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nenhuma versão no nome do arquivo, use o que o upstream diz que é</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr-2.10pl1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.10.pl1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nesse caso,<code>pl1</code> significa nível de patch, então usar DISTVERSION não é possível.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>gawk-2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ja-</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>gawk</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.15.6</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versão em japonês</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>psutils-1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>psutils</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>-letter</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.13</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tamanho do papel codificado no tempo de compilação do pacote</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(vazio)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>300</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pacote para fontes de 300dpi</p></td></tr></tbody></table><div class=paragraph><p>Se não houver absolutamente nenhum rastro de informações de versão co código fonte original e é improvável que o autor original vá liberar outra versão, basta definir a string de versão para <code>1.0</code> (como o exemplo <code>piewm</code> acima). Caso contrário, pergunte ao autor original ou use a string de data com valor de quando a código fonte foi lançado como (<code>dyyyy.mm.dd</code> ou <code>dyyyymmdd</code>) como a versão.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Use qualquer letra. Aqui,<code>d</code> significa data, se o código for um repositório do Git, <code>g</code> seguido pela data de commit é normalmente utilizado, <code>s</code> para snapshot também é comum.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=makefile-categories>5.2. Categorização<a class=anchor href=#makefile-categories></a></h2><div class=sectionbody><div class=sect2><h3 id=makefile-categories-definition>5.2.1. <code>CATEGORIES</code><a class=anchor href=#makefile-categories-definition></a></h3><div class=paragraph><p>Quando um pacote é criado, ele é colocado em <span class=filename>/usr/ports/packages/All</span> e links são feitos de um ou mais subdiretórios de <span class=filename>/usr/ports/packages</span>. Os nomes desses subdiretórios são especificados pela variável <code>CATEGORIES</code>. O objetivo é facilitar a vida do usuário quando ele estiver vasculhando a pilha de pacotes no site FTP ou no CD-ROM. Por favor, dê uma olhada na <a href=#porting-categories>lista atual de categorias</a> e escolha as que são adequadas para o port.</p></div><div class=paragraph><p>Esta lista também determina de onde, na árvore de ports, o port será importado. Se houver mais de uma categoria aqui, os arquivos do port devem ser colocados no subdiretório com o nome da primeira categoria. Veja <a href=#choosing-categories>abaixo</a> para mais informação sobre como escolher as categorias certas.</p></div></div><div class=sect2><h3 id=porting-categories>5.2.2. Lista Atual de Categorias<a class=anchor href=#porting-categories></a></h3><div class=paragraph><p>Aqui está a lista atual de categorias de ports. As marcadas com um asterisco (<code>*</code>) são categorias <em>virtuais</em> - aquelas que não possuem um subdiretório correspondente na árvore de ports. Elas são usadas ​​apenas como categorias secundárias e apenas para fins de pesquisa.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Para categorias não virtuais, há uma descrição de uma linha em <code>COMMENT</code> no <span class=filename>Makefile</span> desse subdiretório.</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Categoria</th><th class="tableblock halign-left valign-top">Descrição</th><th class="tableblock halign-left valign-top">Notas</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>accessibility</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports para ajudar usuários com deficiências.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>afterstep</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports para apoiar o gerenciador de janelas <a href=http://www.afterstep.org>AfterStep</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>arabic</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma árabe".</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>archivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ferramentas de arquivamento.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>astro</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports astronômicos.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>audio</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte de som.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>benchmarks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários de benchmarking.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>biology</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado à biologia.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>cad</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ferramentas de desenho assistidas por computador.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>chinese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma chinês.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>comms</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software de comunicação.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Principalmente software para falar com o port serial.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>converters</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Conversores de código de caracteres.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>databases</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bancos de dados.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>deskutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Coisas que costumavam estar na área de trabalho antes dos computadores serem inventados.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>devel</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários de desenvolvimento.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Não coloque bibliotecas aqui só porque são bibliotecas. Elas <em>não deveriam</em> estar nesta categoria, a menos que elas realmente não pertençam a nenhum outro lugar.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>dns</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado ao DNS.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>docs</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Meta-ports para documentação do FreeBSD.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>editors</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Editores gerais.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Editores especializados entram na seção para essas ferramentas. Por exemplo, um editor de fórmula matemática <span class=filename>math</span>, e tem <span class=filename>editores</span> como uma segunda categoria.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>elisp</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emacs-lisp ports.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>emulators</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emuladores para outros sistemas operacionais.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emuladores de terminal <em>não</em> estão aqui. Os baseados em X vão para o <span class=filename>x11</span> e baseados em texto para qualquer <span class=filename>comms</span> ou <span class=filename>misc</span>, dependendo da funcionalidade exata.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>enlightenment</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports relacionados com o gerenciador de janelas Enlightenment.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>finance</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicações monetárias, financeiras e relacionadas.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>french</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma francês.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ftp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários de cliente e servidor deFTP.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Se o port fala com FTP e HTTP, coloque-o em <span class=filename>ftp</span> com uma categoria secundária de <span class=filename>www</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>games</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Jogos.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>geography</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado à geografia.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>german</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma alemão.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnome</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports do Projeto <a href=http://www.gnome.org>GNOME</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnustep</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado ao ambiente de desktop GNUstep.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>graphics</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários gráficos.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hamradio</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software para rádio amador.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>haskell</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado à linguagem Haskell.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hebrew</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma hebraico.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hungarian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte de idioma húngaro.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>irc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários do Internet Relay Chat.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>japanese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma japonês.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>java</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado à linguagem Java™.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A categoria <span class=filename>Java</span> não deve ser única para um port. Salvo para ports diretamente relacionadas à linguagem Java, os mantenedores de ports também são encorajados a não usar <span class=filename>Java</span> como a principal categoria de um port.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports do Projeto <a href=http://www.kde.org>KDE</a> (genérico).</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde-applications</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicações do Projeto <a href=http://www.kde.org>KDE</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde-frameworks</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bibliotecas add-on do Projeto <a href=http://www.kde.org>KDE</a> para programação com Qt.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde-plasma</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Desktop do Projeto <a href=http://www.kde.org>KDE</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kld</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Módulos carregáveis ​​do kernel.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>korean</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma coreano.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lang</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Linguagens de programação.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>linux</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicações Linux e utilitários de suporte.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lisp</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado à linguagem Lisp.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mail</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mail software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mate</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports relacionado ao ambiente de desktop MATE, um fork do GNOME 2.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>math</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software de computação numérica e outras utilidades para matemática.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mbone</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicações MBone.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>misc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários diversos</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Coisas que não pertencem em nenhum outro lugar. Se possível, tente encontrar uma categoria melhor para o port do que <code>misc</code>, como os ports tendem a ser negligenciados aqui.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>multimedia</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software multimídia.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software de rede diversos.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-im</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software de mensagens instantâneas.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software de gerenciamento de rede.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-p2p</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicativos de rede peer to peer.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-vpn</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicativos de Rede Privada Virtual.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>news</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software de notícias USENET.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>parallel</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicativos que lidam com o paralelismo na computação.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>pear</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports relacionados ao framework PHP Pear.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>perl5</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports que exigem Perl versão 5 para rodar.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>plan9</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vários programas de <a href=http://www.cs.bell-labs.com/plan9dist/>Plan9</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>polish</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma polonês".</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ports-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports para gerenciar, instalar e desenvolver ports e pacotes do FreeBSD.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>portuguese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma Português.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>print</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software de Impressão.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>As ferramentas de editoração eletrônica (pré-visualizadores etc.) também pertencem aqui.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>python</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado a linguagem <a href=http://www.python.org/>Python</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ruby</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado a linguagem <a href=http://www.ruby-lang.org/>Ruby</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>rubygems</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports de pacotes <a href=http://www.rubygems.org/>RubyGems</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>russian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte de idioma russo.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>scheme</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado à linguagem Scheme.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>science</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports científicos que não se encaixam em outras categorias, como <span class=filename>astro</span>, <span class=filename>biologia</span> e <span class=filename>matemática</span>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>security</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários de segurança.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>shells</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Linha de comando do shell.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>spanish</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte ao idioma espanhol.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>sysutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilidades do sistema.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports que usam o Tcl para rodar.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>textproc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilitários de processamento de texto.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Não inclui ferramentas de editoração eletrônica, que vão para <span class=filename>print</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports que usam o Tk para rodar.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ukrainian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte de idioma Ucraniano.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>vietnamese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Suporte de idioma Vietnamita.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>wayland</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports para suportar o servidor de display Wayland.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>windowmaker</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports para suportar o gerenciador de janelas do WindowMaker.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>www</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software relacionado à World Wide Web.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O suporte ao idioma HTML também pertence aqui.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O X Window System e seus amigos.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Esta categoria é apenas para software que suporta diretamente o sistema de janelas. Não coloque aplicativos regulares do X aqui. A maioria deles é usada em outras categorias <span class=filename>x11- *</span> (veja abaixo).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-clocks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 relógios.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-drivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Drivers X11.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gerentes de arquivos X11.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fonts</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Fontes X11 e utilitários de fonte.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-servers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Servidores X11.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-themes</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 temas.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-toolkits</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kits de ferramentas X11.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-wm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gerentes de janela do X11.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xfce</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports relacionados com o ambiente de trabalho <a href=http://www.xfce.org/>Xfce</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>zope</span> <code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.zope.org/>Zope</a> suporte.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table></div><div class=sect2><h3 id=choosing-categories>5.2.3. Escolhendo a Categoria Correta<a class=anchor href=#choosing-categories></a></h3><div class=paragraph><p>Como muitas das categorias se sobrepõem, escolher qual das categorias será a principal categoria do port pode ser entediante. Existem várias regras que governam essa questão. Aqui está a lista de prioridades, em ordem decrescente de precedência:</p></div><div class=ulist><ul><li><p>A primeira categoria deve ser uma categoria física (veja <a href=#porting-categories>acima</a>). Isso é necessário para o empacotamento funcionar. Categorias virtuais e categorias físicas podem ser misturadas depois disso.</p></li><li><p>As categorias específicas de idioma sempre vêm em primeiro lugar. Por exemplo, se o port instalar fontes X11 em japonês, a linha <code>CATEGORIES</code> deve ser <span class=filename>japanese x11-fonts</span>.</p></li><li><p>Categorias específicas são listadas antes de outras menos específicas. Por exemplo, um editor de HTML é listado como <span class=filename>www editors</span>, e não ao contrário. Além disso, não insira <span class=filename>net</span> quando o port pertencer a qualquer uma das categorias <span class=filename>irc</span>, <span class=filename>mail</span>, <span class=filename>news</span>, <span class=filename>security</span> ou <span class=filename>www</span>, pois <span class=filename>net</span> está incluída implicitamente.</p></li><li><p><span class=filename>x11</span> é usado como uma categoria secundária somente quando a categoria principal é uma linguagem natural. Em particular, não coloque <span class=filename>x11</span> na linha de categoria em aplicações X.</p></li><li><p>Os modes Emacs são colocados na mesma categoria de ports que a aplicação suportada pelo mode, e não em <span class=filename>editors</span>. Por exemplo, um mode Emacs para editar código fonte de alguma linguagem de programação entra em <span class=filename>lang</span>.</p></li><li><p>Ports que instalam módulos do kernel carregáveis ​​também têm a categoria virtual <span class=filename>kld</span> na sua linha <code>CATEGORIES</code>. Esta é uma das coisas tratadas automaticamente adicionando <code>USES=kmod</code>.</p></li><li><p><span class=filename>misc</span> não aparece com nenhuma outra categoria não virtual. Se houver <code>misc</code> com outra categoria na linha <code>CATEGORIES</code>, isso significa que <code>misc</code> pode ser seguramente excluído e o port colocado apenas no outro subdiretório.</p></li><li><p>Se o port realmente não pertencer em nenhum outro lugar, coloque-o em <span class=filename>misc</span>.</p></li></ul></div><div class=paragraph><p>Se a categoria não estiver claramente definida, por favor, insira um comentário sobre isso na submissão <a href=https://bugs.freebsd.org/submit/>do port</a> no banco de dados de bugs, para que possamos discuti-lo antes de importá-lo. Como committer, envie uma mensagem para a <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports>lista de discussão de ports do FreeBSD</a>, para podermos discutir isso primeiro. Com muita frequência, novos ports são importados na categoria errada, e depois são movidos imediatamente para a categoria correta.</p></div></div><div class=sect2><h3 id=proposing-categories>5.2.4. Propondo uma Nova Categoria<a class=anchor href=#proposing-categories></a></h3><div class=paragraph><p>Como a Coleção de Ports vem crescendo com o tempo, várias novas categorias também são adicionadas. Novas categorias podem ser categorias <em>virtuais</em>- aquelas que não possuem um subdiretório correspondente na árvore de ports - ou <em>físicas</em> - aquelas que possuem. Esta seção discute os problemas envolvidos na criação de uma nova categoria física. Leia atentamente antes de propor uma nova.</p></div><div class=paragraph><p>Nossa prática atual tem sido a de evitar a criação de uma nova categoria física, a menos que um grande número de ports logicamente pertençam a ela, ou os ports que pertenceriam a ela sejam um grupo logicamente distinto de interesse geral limitado (por exemplo, categorias relacionadas com as línguas humanas faladas), ou de preferência ambas.</p></div><div class=paragraph><p>A razão para isto é que tal mudança cria uma <a href=https://docs.freebsd.org/pt-br/articles/committers-guide/#ports>quantidade grande de trabalho</a> tanto para os committers quanto para todos os usuários que rastreiam alterações na coleção de ports. Além disso, propostas de alteração de categorias parecem naturalmente atrair controvérsias. (Talvez isso seja porque não há um consenso claro sobre quando uma categoria é "grande o suficiente", nem quando as categorias devem ser apenas para propósitos de busca (e, portanto, qual número de categorias seria um número ideal), e assim por diante.)</p></div><div class=paragraph><p>Aqui está o procedimento:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Proponha a nova categoria na <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports>lista de discussão de ports do FreeBSD</a>. Inclua uma justificativa detalhada para a nova categoria, incluindo por que as categorias existentes não são suficientes, e a lista de ports existentes propostos para a mudança. (Se houver novos ports pendentes no Bugzilla que caberia nessa categoria, liste-os também.) Se você for o mantenedor e/ou o apresentador, respectivamente, mencione isso, pois isso pode ajudar no caso.</p></li><li><p>Participe da discussão.</p></li><li><p>Se parecer que há apoio o suficiente para a ideia, registre um PR que inclua a lógica e a lista de ports existentes que precisam ser movidos. O ideal é que este PR também inclua essas alterações:</p><div class=ulist><ul><li><p><span class=filename>Makefile</span>s para os novos ports, uma vez que sejam recopiados</p></li><li><p><span class=filename>Makefile</span> para a nova categoria</p></li><li><p><span class=filename>Makefile</span> para as categorias dos ports antigos</p></li><li><p><span class=filename>Makefile</span>s para ports que dependem dos ports antigos</p></li><li><p>(para crédito extra, inclua os outros arquivos que precisam ser alterados, conforme o procedimento no Guia do Committer.)</p></li></ul></div></li><li><p>Como isso afeta a infraestrutura do ports e envolve a movimentação e alteração de vários ports, pode ser necessário executar testes de regressão no cluster de build, e portanto, atribua o PR para a Equipe de Gerenciamento de Ports <a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>.</p></li><li><p>Se esse PR for aprovado, um committer precisará seguir o restante do procedimento que é <a href=https://docs.freebsd.org/pt-br/articles/committers-guide/#ports>descrito no Guia do Committer</a>.</p></li></ol></div></div></div><div class=paragraph><p>A proposta de uma nova categoria virtual é semelhante à acima, mas muito menos trabalhoso, já que nenhum port terá que ser movido. Nesse caso, os únicos patches a serem incluídos no PR serão aqueles para adicionar a nova categoria na linha <code>CATEGORIES</code> dos ports afetados.</p></div></div><div class=sect2><h3 id=proposing-reorg>5.2.5. Propondo Reorganizar Todas as Categorias<a class=anchor href=#proposing-reorg></a></h3><div class=paragraph><p>Ocasionalmente alguém propõe reorganizar as categorias com uma estrutura de dois níveis, ou algum outro tipo de estrutura de palavras-chave. Até o momento, nada vem de nenhuma dessas propostas porque, embora sejam muito fáceis de fazer, o esforço envolvido com qualquer readequação de toda a coleção de ports existente é assustadora, para se dizer o mínimo. Por favor, leia o histórico dessas propostas nos arquivos da lista de discussão antes de postar essa idéia. Além disso, esteja preparado para ser desafiado a oferecer um protótipo funcional.</p></div></div></div></div><div class=sect1><h2 id=makefile-distfiles>5.3. Os Arquivos de Distribuição<a class=anchor href=#makefile-distfiles></a></h2><div class=sectionbody><div class=paragraph><p>A segunda parte do <span class=filename>Makefile</span> descreve os arquivos que devem ser baixados para compilar o port e onde eles podem ser baixados.</p></div><div class=sect2><h3 id=makefile-distname>5.3.1. <code>DISTNAME</code><a class=anchor href=#makefile-distname></a></h3><div class=paragraph><p><code>DISTNAME</code> é o nome do port, conforme chamado pelos autores do software. <code>DISTNAME</code> é derivado de <code>${PORTNAME}-${DISTVERSIONPREFIX}${DISTVERSION}${DISTVERSIONSUFFIX}</code>, e se não estiver definido, <code>DISTVERSION</code> é derivado de <code>${PORTVERSION}</code>, portanto altere <code>DISTNAME</code> somente se necessário. <code>DISTNAME</code> é usado apenas em dois lugares. Primeiro, na lista de arquivos de distribuição (<code>DISTFILES</code>) padrão para <code>${DISTNAME} ${EXTRACT_SUFX}</code>. Em segundo lugar, espera-se que o arquivo de distribuição seja extraído em um subdiretório denominado <code>WRKSRC</code>, cujo padrão é <span class=filename>work/${DISTNAME}</span>.</p></div><div class=paragraph><p>Alguns nomes de distribuição de fornecedores que não se encaixam no <code>${PORTNAME}-${PORTVERSION}</code>-scheme podem ser tratados automaticamente configurando <code>DISTVERSIONPREFIX</code>, <code>DISTVERSION</code> e <code>DISTVERSIONSUFFIX</code>. <code>PORTVERSION</code> será derivado de <code>DISTVERSION</code> automaticamente.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Apenas um dos <code>PORTVERSION</code> e <code>DISTVERSION</code> pode ser definido de cada vez. E se <code>DISTVERSION</code> não derivar um <code>PORTVERSION</code> correto, não use <code>DISTVERSION</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se o esquema de versão upstream puder ser derivado em um esquema de versão compatível com o ports, defina uma variável para a versão upstream, <em>não</em> use <code>DISTVERSION</code> como o nome da variável. Defina <code>PORTVERSION</code> para a versão computada com base na variável criada, e defina <code>DISTNAME</code> adequadamente.</p></div><div class=paragraph><p>Se o esquema de versão upstream não puder ser facilmente configurado para um valor compatível com o ports, defina <code>PORTVERSION</code> para um valor sensato, e defina <code>DISTNAME</code> com <code>PORTNAME</code> com a versão literal do upstream.</p></div><div id=makefile-distname-ex1 class=exampleblock><div class=title>Exemplo 6. Derivando <code>PORTVERSION</code> Manualmente</div><div class=content><div class=paragraph><p>BIND9 usa um esquema de versão que não é compatível com as versões de ports (tem <code>-</code> em suas versões) e não pode ser derivado usando <code>DISTVERSION</code> porque após a versão 9.9.9, será lançado "patchlevels" na forma <code>9.9.9-P1</code>. DISTVERSION iria traduzir isso para <code>9.9.9.p1</code>, que no esquema de versionamento de ports significa 9.9.9 pré-release 1, que vem antes de 9.9.9 e não depois. Assim <code>PORTVERSION</code> é derivado manualmente de uma variável <code>ISCVERSION</code> para retornar <code>9.9.9p1</code>.</p></div><div class=paragraph><p>A ordem na qual o framework do ports e o pkg ordenará as versões, é verificada usando o argumento <code>-t</code> do <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 9.9.9 9.9.9.p1
<span class=o>&gt;</span> <i class=conum data-value=1></i><b>(1)</b>
% pkg version <span class=nt>-t</span> 9.9.9 9.9.9p1
&lt; <i class=conum data-value=2></i><b>(2)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>O sinal <code>></code> significa que o primeiro argumento passado em <code>-t</code> é maior que o segundo argumento. <code>9.9.9</code> é maior que <code>9.9.9.p1</code>.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>O sinal <code>&lt;</code> significa que o primeiro argumento passado em <code>-t</code> é menor que o segundo argumento. <code>9.9.9</code> é menor que <code>9.9.9p1</code>.</td></tr></tbody></table></div><div class=paragraph><p>No <span class=filename>Makefile</span> do port, por exemplo <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a>, é alcançado por:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	bind
PORTVERSION=	${ISCVERSION:S/-P/P/:S/b/.b/:S/a/.a/:S/rc/.rc/} <i class=conum data-value=1></i><b>(1)</b>
CATEGORIES=	dns net
MASTER_SITES=	ISC/bind9/${ISCVERSION} <i class=conum data-value=2></i><b>(2)</b>
PKGNAMESUFFIX=	99
DISTNAME=	${PORTNAME}-${ISCVERSION} <i class=conum data-value=3></i><b>(3)</b>

MAINTAINER=	mat@FreeBSD.org
COMMENT=	BIND DNS suite with updated DNSSEC and DNS64

LICENSE=	ISCL

# ISC releases things like 9.8.0-P1 or 9.8.1rc1, which our versioning does not like
ISCVERSION=	9.9.9-P6 <i class=conum data-value=4></i><b>(4)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Defina a versão upstream em <code>ISCVERSION</code>, com um comentário dizendo <em>porque</em> é necessário.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Use <code>ISCVERSION</code> para obter um <code>PORTVERSION</code> compatível com o ports.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Use <code>ISCVERSION</code> diretamente para obter a URL correta para baixar o arquivo de distribuição.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Use <code>ISCVERSION</code> diretamente para nomear o arquivo de distribuição.</td></tr></tbody></table></div></div></div><div id=makefile-distname-ex2 class=exampleblock><div class=title>Exemplo 7. Derivar <code>DISTNAME</code> a partir de <code>PORTVERSION</code></div><div class=content><div class=paragraph><p>De tempos em tempos, o nome do arquivo de distribuição tem pouca ou nenhuma relação com a versão do software.</p></div><div class=paragraph><p>No <a class=package href=https://cgit.freebsd.org/ports/tree/comms/kermit/>comms/kermit</a>, apenas o último elemento da versão está presente no arquivo de distribuição:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	kermit
PORTVERSION=	9.0.304
CATEGORIES=	comms ftp net
MASTER_SITES=	ftp://ftp.kermitproject.org/kermit/test/tar/
DISTNAME=	cku${PORTVERSION:E}-dev20 <i class=conum data-value=1></i><b>(1)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>O modificador <code>:E</code> <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> retorna o sufixo da variável, neste caso, <code>304</code>. O arquivo de distribuição <code>cku304-dev20.tar.gz</code> é gerado corretamente.</td></tr></tbody></table></div></div></div><div id=makefile-distname-ex3 class=exampleblock><div class=title>Exemplo 8. Caso Exótico 1</div><div class=content><div class=paragraph><p>Às vezes, não há relação entre o nome do software, sua versão e o arquivo de distribuição no qual ele é distribuído.</p></div><div class=paragraph><p>Do <a class=package href=https://cgit.freebsd.org/ports/tree/audio/libworkman/>audio/libworkman</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       libworkman
PORTVERSION=    1.4
CATEGORIES=     audio
MASTER_SITES=   LOCAL/jim
DISTNAME=       ${PORTNAME}-1999-06-20</pre></div></div></div></div><div id=makefile-distname-ex4 class=exampleblock><div class=title>Exemplo 9. Caso Exótico 2</div><div class=content><div class=paragraph><p>No <a class=package href=https://cgit.freebsd.org/ports/tree/comms/librs232/>comms/librs232</a>, o arquivo de distribuição não é versionado, portanto, <a href=#makefile-dist_subdir><code>DIST_SUBDIR</code></a> é necessário:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       librs232
PORTVERSION=    20160710
CATEGORIES=     comms
MASTER_SITES=   http://www.teuniz.net/RS-232/
DISTNAME=       RS-232
DIST_SUBDIR=	${PORTNAME}-${PORTVERSION}</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>PKGNAMEPREFIX</code> e <code>PKGNAMESUFFIX</code> não afetam o <code>DISTNAME</code>. Observe também que se <code>WRKSRC</code> for igual a <span class=filename>${WRKDIR}/${DISTNAME}</span> enquanto o arquivo fonte original é nomeado para algo diferente de <code>${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</code>, deixe <code>DISTNAME</code> sozinho-- definir apenas <code>DISTFILES</code> é mais fácil que ambos <code>DISTNAME</code> e <code>WRKSRC</code> (e possivelmente <code>EXTRACT_SUFX</code>).</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-master_sites>5.3.2. <code>MASTER_SITES</code><a class=anchor href=#makefile-master_sites></a></h3><div class=paragraph><p>Grave a parte do diretório do FTP/HTTP-URL apontando para o tarball original em <code>MASTER_SITES</code>. Não esqueça a barra final (<span class=filename>/</span>)!</p></div><div class=paragraph><p>A macro <code>make</code> irá tentar usar esta especificação para baixar o arquivo de distribuição com <code>FETCH</code> se não for possível encontrá-lo já no sistema.</p></div><div class=paragraph><p>Recomenda-se que vários sites sejam incluídos nesta lista, de preferência em diferentes continentes. Isso irá proteger contra problemas de rede amplos.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p><code>MASTER_SITES</code> não deve estar em branco. Ele deve apontar para o site real que hospeda os arquivos de distribuição. Ele não pode apontar para web archives ou para os sites de cache dos arquivos de distribuição do FreeBSD. A única exceção a essa regra são ports que não possuem arquivos de distribuição. Por exemplo, meta-ports não possuem arquivos de distribuição, assim o <code>MASTER_SITES</code> não precisa ser definido.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=makefile-master_sites-shorthand>5.3.2.1. Usando Variáveis <code>MASTER_SITE_*</code>​​<a class=anchor href=#makefile-master_sites-shorthand></a></h4><div class=paragraph><p>Abreviações de atalhos estão disponíveis para arquivos populares como o SourceForge (<code>SOURCEFORGE</code>), GNU (<code>GNU</code>), ou Perl CPAN (<code>PERL_CPAN</code>). <code>MASTER_SITES</code> pode usá-los diretamente:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	GNU/make</pre></div></div><div class=paragraph><p>O antigo formato expandido ainda funciona, mas todos os ports foram convertidos para o formato compacto. O formato expandido se parece com isto:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=		${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=	make</pre></div></div><div class=paragraph><p>Estes valores e variáveis ​​são definidos em <a href="https://svnweb.freebsd.org/ports/head/Mk/bsd.sites.mk?view=markup">Mk/bsd.sites.mk</a>. Novas entradas são adicionadas com frequência, portanto, verifique a versão mais recente deste arquivo antes de enviar um port.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Para qualquer variável <code>MASTER_SITE_FOO</code> , a versão abreviada <code><em>FOO</em></code> pode ser utilizada. Por exemplo, use:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	FOO</pre></div></div><div class=paragraph><p>E se <code>MASTER_SITE_SUBDIR</code> for necessário, use isso:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	FOO/bar</pre></div></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alguns nomes <code>MASTER_SITE_*</code> são bastante longos e, para facilitar o uso, foram definidos atalhos:</p></div><table id=makefile-master_sites-shortcut class="tableblock frame-none grid-all stretch"><caption class=title>Tabela 3. Atalhos para Macros <code>MASTER_SITE_*</code></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Macro</th><th class="tableblock halign-left valign-top">Atalho</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PERL_CPAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>CPAN</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GITHUB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GITHUB_CLOUD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GHC</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LIBREOFFICE_DEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>LODEV</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NETLIB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>NL</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBYGEMS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>RG</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SOURCEFORGE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>SF</code></p></td></tr></tbody></table></td></tr></tbody></table></div></div><div class=sect3><h4 id=makefile-master_sites-magic>5.3.2.2. Macros Mágicas de MASTER_SITES<a class=anchor href=#makefile-master_sites-magic></a></h4><div class=paragraph><p>Várias macros "mágicas" existem para sites populares com uma estrutura de diretórios previsível. Para isso, basta usar a abreviação e o sistema escolherá um subdiretório automaticamente. Para um port nomeado <code>Stardict</code>, de versão <code>1.2.3</code> e hospedado no SourceForge, adicione esta linha:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF</pre></div></div><div class=paragraph><p>Implica em um subdiretório chamado <code>/project/stardict/stardict/1.2.3</code>. Se o diretório estiver incorreto, ele poderá ser substituído:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF/stardict/WyabdcRealPeopleTTS/${PORTVERSION}</pre></div></div><div class=paragraph><p>Isso também pode ser escrito como</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF
MASTER_SITE_SUBDIR=	stardict/WyabdcRealPeopleTTS/${PORTVERSION}</pre></div></div><table id=makefile-master_sites-popular class="tableblock frame-none grid-all stretch"><caption class=title>Tabela 4. Macros Mágicas de <code>MASTER_SITES</code></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Macro</th><th class="tableblock halign-left valign-top">Subdiretório deduzido</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_COMMONS_BINARIES</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:S,commons-,,}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_COMMONS_SOURCE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:S,commons-,,}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_JAKARTA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:S,-,/,}/source</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BERLIOS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}.berlios</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CHEESESHOP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>source/${DISTNAME:C/(.).*/\1/}/${DISTNAME:C/(.*)-[0-9].*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CPAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:C/-.*//}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>DEBIAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>pool/main/${PORTNAME:C/^((lib)?.).*$/\1/}/${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>FARSIGHT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>FESTIVAL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTREVISION}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GCC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>releases/${DISTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GENTOO</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>distfiles</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GIMP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}/${PORTVERSION:R}/</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${GH_ACCOUNT}/${GH_PROJECT}/tar.gz/${GH_TAGNAME}?dummy=/</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GHC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${GH_ACCOUNT}/${GH_PROJECT}/</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNOME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>sources/${PORTNAME}/${PORTVERSION:C/^(<span class=0-9>\.[0-9]</span>).*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNU</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNUPG</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNU_ALPHA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>HORDE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LODEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MATE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTVERSION:C/^(<span class=0-9>\.[0-9]</span>).*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MOZDEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>archive/qt/${PORTVERSION:R}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SAMBA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SAVANNAH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}/${PORTNAME:tl}/${PORTVERSION}</code></p></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-master_sites-github>5.3.3. <code>USE_GITHUB</code><a class=anchor href=#makefile-master_sites-github></a></h3><div class=paragraph><p>Se o arquivo de distribuição vier de um commit ou tag específico no <a href=https://github.com>GitHub</a> para o qual não há arquivo lançado oficialmente, há uma maneira fácil de definir o <code>DISTNAME</code> e <code>MASTER_SITES</code> corretos automaticamente. Estas variáveis ​​estão disponíveis:</p></div><table id=makefile-master_sites-github-description class="tableblock frame-all grid-all stretch"><caption class=title>Tabela 5. <code>USE_GITHUB</code> Descrição</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variável</th><th class="tableblock halign-left valign-top">Descrição</th><th class="tableblock halign-left valign-top">Padrão</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_ACCOUNT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nome da conta do usuário do GitHub que hospeda o projeto</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_PROJECT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nome do projeto no GitHub</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_TAGNAME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nome da tag para download (2.0.1, hash, …​) Usar o nome de uma branch aqui é errado. Também é possível usar o hash de um ID de commit para gerar um snapshot.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${DISTVERSIONPREFIX}${DISTVERSION}${DISTVERSIONSUFFIX}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_SUBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Quando o software precisa que um arquivo de distribuição adicional seja extraído em <code>${WRKSRC}</code>, esta variável pode ser usada. Veja os exemplos em <a href=#makefile-master_sites-github-multiple>Baixando Múltiplos Arquivos do GitHub</a> para maiores informações.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(none)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_TUPLE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_TUPLE</code> permite colocar <code>GH_ACCOUNT</code>, <code>GH_PROJECT</code>, <code>GH_TAGNAME</code> e <code>GH_SUBDIR</code> em uma única variável. O formato é <em>conta</em>`:`<em>projeto</em>`:`<em>tagname</em>`:`<em>grupo</em>`/`<em>subdiretório</em>. O `/`_subdiretório _ é opcional. Isso é útil quando mais de um projeto no GitHub precisa ser utilizado.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Não use <code>GH_TUPLE</code> para o arquivo de distribuição padrão, já que não tem nenhum padrão.</p></div></td></tr></tbody></table></div><div id=makefile-master_sites-github-ex1 class=exampleblock><div class=title>Exemplo 10. Uso Simples de <code>USE_GITHUB</code></div><div class=content><div class=paragraph><p>Ao tentar fazer um port para a versão <code>1.2.7</code> do pkg do usuário FreeBSD no github, em <a href=https://github.com/freebsd/pkg class=bare>https://github.com/freebsd/pkg</a>, O <span class=filename>Makefile</span> acabaria ficando assim (levemente simplificado para o exemplo):</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	pkg
DISTVERSION=	1.2.7

USE_GITHUB=	yes
GH_ACCOUNT=	freebsd</pre></div></div><div class=paragraph><p><code>MASTER_SITES</code> será automaticamente definido como <code>GH GHC</code> e <code>WRKSRC</code> para <code>${WRKDIR}/pkg-1.2.7</code>.</p></div></div></div><div id=makefile-master_sites-github-ex2 class=exampleblock><div class=title>Exemplo 11. Uso Mais Completo de <code>USE_GITHUB</code></div><div class=content><div class=paragraph><p>Ao tentar fazer um port para uma versão de desenvolvimento do pkg do usuário FreeBSD no github, em <a href=https://github.com/freebsd/pkg class=bare>https://github.com/freebsd/pkg</a>, o <span class=filename>Makefile</span> acaba ficando assim (levemente simplificado para o exemplo):</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	pkg-devel
DISTVERSION=	1.3.0.a.20140411

USE_GITHUB=	yes
GH_ACCOUNT=	freebsd
GH_PROJECT=	pkg
GH_TAGNAME=	6dbb17b</pre></div></div><div class=paragraph><p><code>MASTER_SITES</code> será automaticamente definido para <code>GH GHC</code> e <code>WRKSRC</code> para <code>${WRKDIR}/pkg-6dbb17b</code>.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p><code>20140411</code> é a data do commit referenciada em <code>GH_TAGNAME</code>, não a data em que é editado o <span class=filename>Makefile</span>, ou a data em que o commit é feito.</p></div></td></tr></tbody></table></div></div></div><div id=makefile-master_sites-github-ex3 class=exampleblock><div class=title>Exemplo 12. Uso de <code>USE_GITHUB</code> com <code>DISTVERSIONPREFIX</code></div><div class=content><div class=paragraph><p>De tempos em tempos, <code>GH_TAGNAME</code> é uma ligeira variação de <code>DISTVERSION</code>. Por exemplo, se a versão for <code>1.0.2</code>, e a tag <code>v1.0.2</code>. Nesses casos, é possível usar <code>DISTVERSIONPREFIX</code> ou <code>DISTVERSIONSUFFIX</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSIONPREFIX=	v
DISTVERSION=	1.0.2

USE_GITHUB=	yes</pre></div></div><div class=paragraph><p><code>GH_TAGNAME</code> será automaticamente definido para <code>v1.0.2</code>, enquanto <code>WRKSRC</code> será mantido como <code>${WRKDIR} /foo-1.0.2</code>.</p></div></div></div><div id=makefile-master_sites-github-ex4 class=exampleblock><div class=title>Exemplo 13. Usando <code>USE_GITHUB</code> Quando o Upstream Não Usa Versões</div><div class=content><div class=paragraph><p>Se nunca houve uma versão upstream, não invente uma como <code>0.1</code> ou <code>1.0</code>. Crie o port com um <code>DISTVERSION</code> de <code>gYYYYMMDD</code>, onde <code>g</code> é para Git e <code>YYYYMMDD</code> representa a data em que o commit é referenciado em <code>GH_TAGNAME</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	bar
DISTVERSION=	g20140411

USE_GITHUB=	yes
GH_TAGNAME=	c472d66b</pre></div></div><div class=paragraph><p>Isso cria um esquema de controle de versão que é incrementado com o tempo e que ainda é menor do que a versão <code>0</code> (veja <a href=#makefile-versions-ex-pkg-version>Usando pkg-version(8) para comparar versões.</a> para mais informações do <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> g20140411 0
&lt;</code></pre></div></div><div class=paragraph><p>Isso significa que não será necessário usar o <code>PORTEPOCH</code> caso o upstream decida lançar versões no futuro.</p></div></div></div><div id=makefile-master_sites-github-ex5 class=exampleblock><div class=title>Exemplo 14. Usando <code>USE_GITHUB</code> para Acessar um Commit Entre Duas Versões</div><div class=content><div class=paragraph><p>Se a versão atual do software usa uma tag Git, e o port precisa ser atualizado para uma versão mais recente e intermediária, sem uma tag, use <a href="https://man.freebsd.org/cgi/man.cgi?query=git-describe&amp;sektion=1&amp;format=html">git-describe(1)</a> para descobrir a versão a ser utilizada:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% git describe <span class=nt>--tags</span> f0038b1
v0.7.3-14-gf0038b1</code></pre></div></div><div class=paragraph><p><code>v0.7.3-14-gf0038b1</code> pode ser dividido em três partes:</p></div><div class=dlist><dl><dt class=hdlist1><code>v0.7.3</code></dt><dd><p>Este é a última tag Git que aparece no histórico de commits antes do commit solicitado.</p></dd><dt class=hdlist1><code>-14</code></dt><dd><p>Isso significa que o commit solicitado, <code>f0038b1</code>, é o 14º commit após a tag <code>v0.7.3</code>.</p></dd><dt class=hdlist1><code>-gf0038b1</code></dt><dd><p>O <code>-g</code> significa "Git", e o <code>f0038b1</code> é o commit hash referenciado.</p></dd></dl></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	bar
DISTVERSIONPREFIX=  v
DISTVERSION=	0.7.3-14
DISTVERSIONSUFFIX=  -gf0038b1

USE_GITHUB=	yes</pre></div></div><div class=paragraph><p>Isso cria um esquema de versionamento que é incrementado com o tempo (bem, em cima de commits), e não entra em conflito com a criação de uma versão <code>0.7.4</code>. (Veja <a href=#makefile-versions-ex-pkg-version>Usando pkg-version(8) para comparar versões.</a> para detalhes do <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 0.7.3 0.7.3.14
&lt;
% pkg version <span class=nt>-t</span> 0.7.3.14 0.7.4
&lt;</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se o commit solicitado é o mesmo que uma tag, uma descrição mais curta é mostrada por padrão. A versão mais longa é equivalente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% git describe <span class=nt>--tags</span> c66c71d
v0.7.3
% git describe <span class=nt>--tags</span> <span class=nt>--long</span> c66c71d
v0.7.3-0-gc66c71d</code></pre></div></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=makefile-master_sites-github-multiple>5.3.3.1. Baixando Múltiplos Arquivos do GitHub<a class=anchor href=#makefile-master_sites-github-multiple></a></h4><div class=paragraph><p>O framework <code>USE_GITHUB</code> também suporta a obtenção de vários arquivos de distribuição de diferentes locais no GitHub. Ele funciona de uma forma muito semelhante ao <a href=#porting-master-sites-n>Múltiplos Arquivos de Distribuição ou Patches de Vários Locais</a>.</p></div><div class=paragraph><p>Vários valores são adicionados a <code>GH_ACCOUNT</code>, <code>GH_PROJECT</code> e <code>GH_TAGNAME</code>. Cada valor diferente é atribuído a um grupo. O valor principal pode não ter nenhum grupo ou grupo <code>:DEFAULT</code>. Um valor pode ser omitido se for o mesmo que o padrão listado em <a href=#makefile-master_sites-github-description><code>USE_GITHUB</code> Descrição</a>.</p></div><div class=paragraph><p><code>GH_TUPLE</code> também pode ser usado quando há muitos arquivos de distribuição. Isso ajuda a manter as informações de conta, projeto, tagname e grupo no mesmo lugar.</p></div><div class=paragraph><p>Para cada grupo, uma variável auxiliar <code>${WRKSRC_group}</code> é criada, contendo o diretório no qual o arquivo foi extraído. As variáveis <code>${WRKSRC_group}</code> ​​podem ser usadas para mover diretórios durante o <code>post-extract</code>, ou para serem adicionadas em <code>CONFIGURE_ARGS</code>, ou o que for necessário para que o software seja compilado corretamente.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class=icon><i class="fa icon-caution" title=Caution></i></td><td class=content><div class=paragraph><p>A parte do <code>:group</code> <em>deve</em> ser usada para <em>apenas um</em> arquivo de distribuição. Ela é usado como uma chave única e usá-la mais de uma vez irá sobrescrever os valores anteriores.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Como isso é apenas modificações de <code>DISTFILES</code> e <code>MASTER_SITES</code>, os nomes dos grupos devem obedecer às restrições de nomes de grupos descritas em <a href=#porting-master-sites-n>Múltiplos Arquivos de Distribuição ou Patches de Vários Locais</a></p></div></td></tr></tbody></table></div><div class=paragraph><p>Ao buscar vários arquivos do GitHub, às vezes o arquivo de distribuição padrão não é buscado no GitHub. Para desabilitar a busca da distribuição padrão, defina:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GITHUB=	nodefault</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Ao utilizar <code>USE_GITHUB=nodefault</code>, o <span class=filename>Makefile</span> deve ter <code>DISTFILES</code> em seu <a href=#porting-order-portname>bloco inicial</a>. A definição deve ser:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=    ${DISTNAME}${EXTRACT_SUFX}</pre></div></div></td></tr></tbody></table></div><div id=makefile-master_sites-github-multi class=exampleblock><div class=title>Exemplo 15. Uso de <code>USE_GITHUB</code> com Vários Arquivos de Distribuição</div><div class=content><div class=paragraph><p>De tempos em tempos é necessário baixar mais de um arquivo de distribuição. Por exemplo, quando o repositório git do upstream usa submódulos. Isso pode ser feito facilmente usando grupos nas variáveis <code>GH_*</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITHUB=	yes
GH_ACCOUNT=	bar:icons,contrib
GH_PROJECT=	foo-icons:icons foo-contrib:contrib
GH_TAGNAME=	1.0:icons fa579bc:contrib
GH_SUBDIR=	ext/icons:icons

CONFIGURE_ARGS=	--with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>Isso irá baixar três arquivos de distribuição do github. O padrão vem de <span class=filename>foo/foo</span> versão <code>1.0.2</code>. O segundo, com o grupo <code>icons</code>, vem de <span class=filename>bar/foo-icons</span> versão <code>1.0</code>. O terceiro vem de <span class=filename>bar/foo-contrib</span> e usa o commit do Git <code>fa579bc</code>. Os arquivos de distribuição são nomeados <span class=filename>foo-foo-1.0.2_GH0.tar.gz</span>, <span class=filename>bar-foo-icons-1.0_GH0.tar.gz</span> e <span class=filename>bar-foo-contrib-fa579bc_GH0.tar.gz</span>.</p></div><div class=paragraph><p>Todos os arquivos de distribuição são extraídos em <code>${WRKDIR}</code> em seus respectivos subdiretórios. O arquivo padrão ainda é extraído em <code>${WRKSRC}</code>, nesse caso, <span class=filename>${WRKDIR}/foo-1.0.2</span>. Cada arquivo de distribuição adicional é extraído em <code>${WRKSRC_group}</code>. Aqui, para o grupo <code>icons</code>, chamado de <code>${WRKSRC_icons}</code>, será <span class=filename>${WRKDIR}/foo-icons-1.0</span>. O arquivo com o grupo <code>contrib</code> é chamado de <code>${WRKSRC_contrib}</code> e contém <code>${WRKDIR}/foo-contrib-fa579bc</code>.</p></div><div class=paragraph><p>O sistema de compilação do software espera encontrar os ícones em um subdiretório <span class=filename>ext/icons</span> em seus fontes, então <code>GH_SUBDIR</code> é usado. <code>GH_SUBDIR</code> garante que <span class=filename>ext</span> exista, mas não que <span class=filename>ext/icons</span> também exista. Então isso acontece:</p></div><div class="literalblock programlisting"><div class=content><pre>post-extract:
      @${MV} ${WRKSRC_icons} ${WRKSRC}/ext/icons</pre></div></div></div></div><div id=makefile-master_sites-github-multi2 class=exampleblock><div class=title>Exemplo 16. Uso de <code>USE_GITHUB</code> com Vários Arquivos de Distribuição Usando <code>GH_TUPLE</code></div><div class=content><div class=paragraph><p>Isto é funcionalmente equivalente a <a href=#makefile-master_sites-github-multi>Uso de <code>USE_GITHUB</code> com Vários Arquivos de Distribuição</a> mas usando <code>GH_TUPLE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITHUB=	yes
GH_TUPLE=	bar:foo-icons:1.0:icons/ext/icons \
		bar:foo-contrib:fa579bc:contrib

CONFIGURE_ARGS=	--with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>Agrupamento foi usado no exemplo anterior com <code>bar:icons, contrib</code>. Algumas informações redundantes estão presentes com <code>GH_TUPLE</code> porque o uso de agrupamento não é possível.</p></div></div></div><div id=makefile-master_sites-github-submodules class=exampleblock><div class=title>Exemplo 17. Como Usar <code>USE_GITHUB</code> com Submodulos Git?</div><div class=content><div class=paragraph><p>Ports com o GitHub como um repositório upstream às vezes usam submódulos. Veja <a href="https://man.freebsd.org/cgi/man.cgi?query=git-submodule&amp;sektion=1&amp;format=html">git-submodule(1)</a> para maiores informações.</p></div><div class=paragraph><p>O problema com submódulos é que cada um é um repositório separado. Como tal, cada um deve ser buscado separadamente.</p></div><div class=paragraph><p>Usando <a class=package href=https://cgit.freebsd.org/ports/tree/finances/moneymanagerex/>finances/moneymanagerex</a> como exemplo, seu repositório GitHub é <a href=https://github.com/moneymanagerex/moneymanagerex class=bare>https://github.com/moneymanagerex/moneymanagerex</a>. Tem um arquivo <a href=https://github.com/moneymanagerex/moneymanagerex/blob/master/.gitmodules>.gitmodules</a> na raiz. Este arquivo descreve todos os sub módulos usados neste repositório e lista os repositórios adicionais necessários. Este arquivo irá dizer quais repositórios adicionais são necessários:</p></div><div class="literalblock programlisting"><div class=content><pre>[submodule &#34;lib/wxsqlite3&#34;]
	path = lib/wxsqlite3
	url = https://github.com/utelle/wxsqlite3.git
[submodule &#34;3rd/mongoose&#34;]
	path = 3rd/mongoose
	url = https://github.com/cesanta/mongoose.git
[submodule &#34;3rd/LuaGlue&#34;]
	path = 3rd/LuaGlue
	url = https://github.com/moneymanagerex/LuaGlue.git
[submodule &#34;3rd/cgitemplate&#34;]
	path = 3rd/cgitemplate
	url = https://github.com/moneymanagerex/html-template.git
[...]</pre></div></div><div class=paragraph><p>A única informação que falta nesse arquivo é a hash ou tag de commit para usar na versão. Esta informação é encontrada após a clonagem do repositório:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% git clone <span class=nt>--recurse-submodules</span> https://github.com/moneymanagerex/moneymanagerex.git
Cloning into <span class=s1>&#39;moneymanagerex&#39;</span>...
remote: Counting objects: 32387, <span class=k>done</span><span class=nb>.</span>
<span class=o>[</span>...]
Submodule <span class=s1>&#39;3rd/LuaGlue&#39;</span> <span class=o>(</span>https://github.com/moneymanagerex/LuaGlue.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;3rd/LuaGlue&#39;</span>
Submodule <span class=s1>&#39;3rd/cgitemplate&#39;</span> <span class=o>(</span>https://github.com/moneymanagerex/html-template.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;3rd/cgitemplate&#39;</span>
Submodule <span class=s1>&#39;3rd/mongoose&#39;</span> <span class=o>(</span>https://github.com/cesanta/mongoose.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;3rd/mongoose&#39;</span>
Submodule <span class=s1>&#39;lib/wxsqlite3&#39;</span> <span class=o>(</span>https://github.com/utelle/wxsqlite3.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;lib/wxsqlite3&#39;</span>
<span class=o>[</span>...]
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/3rd/LuaGlue&#39;</span>...
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/3rd/cgitemplate&#39;</span>...
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/3rd/mongoose&#39;</span>...
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/lib/wxsqlite3&#39;</span>...
<span class=o>[</span>...]
Submodule path <span class=s1>&#39;3rd/LuaGlue&#39;</span>: checked out <span class=s1>&#39;c51d11a247ee4d1e9817dfa2a8da8d9e2f97ae3b&#39;</span>
Submodule path <span class=s1>&#39;3rd/cgitemplate&#39;</span>: checked out <span class=s1>&#39;cd434eeeb35904ebcd3d718ba29c281a649b192c&#39;</span>
Submodule path <span class=s1>&#39;3rd/mongoose&#39;</span>: checked out <span class=s1>&#39;2140e5992ab9a3a9a34ce9a281abf57f00f95cda&#39;</span>
Submodule path <span class=s1>&#39;lib/wxsqlite3&#39;</span>: checked out <span class=s1>&#39;fb66eb230d8aed21dec273b38c7c054dcb7d6b51&#39;</span>
<span class=o>[</span>...]
% <span class=nb>cd </span>moneymanagerex
% git submodule status
 c51d11a247ee4d1e9817dfa2a8da8d9e2f97ae3b 3rd/LuaGlue <span class=o>(</span>heads/master<span class=o>)</span>
 cd434eeeb35904ebcd3d718ba29c281a649b192c 3rd/cgitemplate <span class=o>(</span>cd434ee<span class=o>)</span>
 2140e5992ab9a3a9a34ce9a281abf57f00f95cda 3rd/mongoose <span class=o>(</span>6.2-138-g2140e59<span class=o>)</span>
 fb66eb230d8aed21dec273b38c7c054dcb7d6b51 lib/wxsqlite3 <span class=o>(</span>v3.4.0<span class=o>)</span>
<span class=o>[</span>...]</code></pre></div></div><div class=paragraph><p>Também pode ser encontrado no GitHub. Cada subdiretório que é um submódulo é mostrado como <em>diretório</em> <code>@</code> <em>hash</em>, por exemplo,<code>mongoose @ 2140e59</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Embora a obtenção das informações pelo GitHub pareça mais fácil, as informações encontradas usando <code>git submodule status</code> fornecerá informações mais significativas. Por exemplo, o commit hash de <code>lib/wxsqlite3 fb66eb2</code> corresponde a <code>v3.4.0</code>. Ambos podem ser usados, mas quando uma tag estiver disponível, use-a.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Agora que todas as informações necessárias foram reunidas, o <span class=filename>Makefile</span> pode ser escrito (somente as linhas relacionadas ao GitHub são mostradas):</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	moneymanagerex
DISTVERSIONPREFIX=	v
DISTVERSION=	1.3.0

USE_GITHUB=	yes
GH_TUPLE=	utelle:wxsqlite3:v3.4.0:wxsqlite3/lib/wxsqlite3 \
		moneymanagerex:LuaGlue:c51d11a:lua_glue/3rd/LuaGlue \
		moneymanagerex:html-template:cd434ee:html_template/3rd/cgitemplate \
		cesanta:mongoose:2140e59:mongoose/3rd/mongoose \
		[...]</pre></div></div></div></div></div></div><div class=sect2><h3 id=makefile-master_sites-gitlab>5.3.4. <code>USE_GITLAB</code><a class=anchor href=#makefile-master_sites-gitlab></a></h3><div class=paragraph><p>Semelhante ao GitHub, se o arquivo de distribuição vier de <a href=https://gitlab.com>gitlab.com</a> ou se estiver hospedado com o software GitLab, essas variáveis estão disponíveis para uso e talvez precisem ser definidas.</p></div><table id=makefile-master_sites-gitlab-description class="tableblock frame-all grid-all stretch"><caption class=title>Tabela 6. <code>USE_GITLAB</code> Descrição</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variável</th><th class="tableblock halign-left valign-top">Descrição</th><th class="tableblock halign-left valign-top">Padrão</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_SITE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nome do site que hospeda o projeto GitLab</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://gitlab.com class=bare>https://gitlab.com</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_ACCOUNT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nome da conta do usuário do GitLab hospedando o projeto</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_PROJECT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nome do projeto em GitLab</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_COMMIT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O hash de commit para download. Deve ser o hash hex sha1 completo de 160 bits e 40 caracteres. Essa é uma variável obrigatória para GitLab.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>(none)</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_SUBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Quando o software precisa de um arquivo de distribuição adicional para ser extraído com <code>${WRKSRC}</code>, esta variável pode ser usada. Veja os exemplos em <a href=#makefile-master_sites-gitlab-multiple>Baixando Múltiplos Arquivos do GitLab</a> para maiores informações.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(none)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_TUPLE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_TUPLE</code> permite colocar <code>GL_SITE</code>, <code>GL_ACCOUNT</code>, <code>GL_PROJECT</code>, <code>GL_COMMIT</code>, e <code>GL_SUBDIR</code> dentro de uma única variável. O formato é <em>site</em>`:`<em>conta</em>`:`<em>projeto</em>`:`<em>commit</em>`:`<em>grupo</em>`/<code><em>subdiretório</em>. O <em>site</em></code>:` e `/`<em>subdiretório</em> são opcionais. Isso ajuda quando é necessário baixar arquivos de mais de um projeto GitLab.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table><div id=makefile-master_sites-gitlab-ex1 class=exampleblock><div class=title>Exemplo 18. Uso Simples de <code>USE_GITLAB</code></div><div class=content><div class=paragraph><p>Ao tentar fazer um port para a versão <code>1.14</code> do libsignon-glib do usuário accounts-sso do gitlab.com, em <a href=https://gitlab.com/accounts-sso/libsignon-glib class=bare>https://gitlab.com/accounts-sso/libsignon-glib</a>, O <span class=filename>Makefile</span> acabaria ficando assim para buscar os arquivos de distribuição:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	libsignon-glib
DISTVERSION=	1.14

USE_GITLAB=	yes
GL_ACCOUNT=	accounts-sso
GL_COMMIT=	e90302e342bfd27bc8c9132ab9d0ea3d8723fd03</pre></div></div><div class=paragraph><p>Ele terá automaticamente <code>MASTER_SITES</code> definido como <a href=https://gitlab.com>gitlab.com</a> e <code>WRKSRC</code> para <code>${WRKDIR}/libsignon-glib-e90302e342bfd27bc8c9132ab9d0ea3d8723fd03-e90302e342bfd27bc8c9132ab9d0ea3d8723fd03</code>.</p></div></div></div><div id=makefile-master_sites-gitlab-ex2 class=exampleblock><div class=title>Exemplo 19. Uso Mais Completo de <code>USE_GITLAB</code></div><div class=content><div class=paragraph><p>Um uso mais completo do exemplo acima é se o port não tiver controle de versão e foobar do usuário foo no projeto bar em um GitLab auto hospedado em <code><a href=https://gitlab.example.com class=bare>https://gitlab.example.com</a></code>, o <span class=filename>Makefile</span> acaba ficando assim para buscar os arquivos de distribuição:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foobar
DISTVERSION=	g20170906

USE_GITLAB=	yes
GL_SITE=	https://gitlab.example.com
GL_ACCOUNT=	foo
GL_PROJECT=	bar
GL_COMMIT=	9c1669ce60c3f4f5eb43df874d7314483fb3f8a6</pre></div></div><div class=paragraph><p>Terá <code>MASTER_SITES</code> definido como <code>"https://gitlab.example.com"</code> e <code>WRKSRC</code> para <code>${WRKDIR}/bar-9c1669ce60c3f4f5eb43df874d7314483fb3f8a6-9c1669ce60c3f4f5eb43df874d7314483fb3f8a6</code>.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p><code>20170906</code> é a data do commit referenciada em <code>GL_COMMIT</code>, não a data em que o <span class=filename>Makefile</span> é editado, ou a data em que o commit para a árvore de ports do FreeBSD é feito.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O protocolo, porta e webroot do <code>GL_SITE</code> podem ser modificados na mesma variável.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=makefile-master_sites-gitlab-multiple>5.3.4.1. Baixando Múltiplos Arquivos do GitLab<a class=anchor href=#makefile-master_sites-gitlab-multiple></a></h4><div class=paragraph><p>O framework <code>USE_GITLAB</code> também suporta a busca de vários arquivos de distribuição de diferentes locais de GitLab e sites hospedados no GitLab. Ele funciona de uma forma muito semelhante ao <a href=#porting-master-sites-n>Múltiplos Arquivos de Distribuição ou Patches de Vários Locais</a> e <a href=#makefile-master_sites-gitlab-multiple>Baixando Múltiplos Arquivos do GitLab</a>.</p></div><div class=paragraph><p>Vários valores são adicionados a <code>GL_SITE</code>, <code>GL_ACCOUNT</code>, <code>GL_PROJECT</code> e <code>GL_COMMIT</code>. Cada valor diferente é atribuído a um grupo. <a href=#makefile-master_sites-gitlab-description><code>USE_GITLAB</code> Descrição</a>.</p></div><div class=paragraph><p><code>GL_TUPLE</code> também pode ser usado quando há muitos arquivos de distribuição. Isso ajuda a manter as informações de site, conta, projeto, commit e grupo no mesmo local.</p></div><div class=paragraph><p>Para cada grupo, uma variável auxiliar <code>${WRKSRC_group}</code> é criada, contendo o diretório no qual o arquivo foi extraído. As variáveis <code>${WRKSRC_group}</code> ​​podem ser usadas para mover diretórios durante o <code>post-extract</code>, ou para serem adicionadas em <code>CONFIGURE_ARGS</code>, ou o que for necessário para que o software seja compilado corretamente.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class=icon><i class="fa icon-caution" title=Caution></i></td><td class=content><div class=paragraph><p>A parte do <code>:group</code> <em>deve</em> ser usada para <em>apenas um</em> arquivo de distribuição. Ela é usado como uma chave única e usá-la mais de uma vez irá sobrescrever os valores anteriores.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Como isso é apenas modificações de <code>DISTFILES</code> e <code>MASTER_SITES</code>, os nomes dos grupos devem obedecer às restrições de nomes de grupos descritas em <a href=#porting-master-sites-n>Múltiplos Arquivos de Distribuição ou Patches de Vários Locais</a></p></div></td></tr></tbody></table></div><div class=paragraph><p>Ao buscar vários arquivos usando GitLab, às vezes, o arquivo de distribuição padrão não é obtido de um GitLab. Para desativar a busca do arquivo de distribuição padrão, defina:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GITLAB=	nodefault</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Ao utilizar <code>USE_GITLAB=nodefault</code>, o <span class=filename>Makefile</span> deve ter <code>DISTFILES</code> em seu <a href=#porting-order-portname>bloco inicial</a>. A definição deve ser:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=    ${DISTNAME}${EXTRACT_SUFX}</pre></div></div></td></tr></tbody></table></div><div id=makefile-master_sites-gitlab-multi class=exampleblock><div class=title>Exemplo 20. Uso de <code>USE_GITLAB</code> com Vários Arquivos de Distribuição</div><div class=content><div class=paragraph><p>De tempos em tempos, é necessário buscar mais de um arquivo de distribuição. Por exemplo, quando o repositório git do upstream usa submódulos. Isso pode ser feito facilmente usando grupos nas variáveis <code>GL_*</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITLAB=	yes
GL_SITE=	https://gitlab.example.com:9434/gitlab:icons
GL_ACCOUNT=	bar:icons,contrib
GL_PROJECT=	foo-icons:icons foo-contrib:contrib
GL_COMMIT=	c189207a55da45305c884fe2b50e086fcad4724b ae7368cab1ca7ca754b38d49da064df87968ffe4:icons 9e4dd76ad9b38f33fdb417a4c01935958d5acd2a:contrib
GL_SUBDIR=	ext/icons:icons

CONFIGURE_ARGS= --with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>Isso irá buscar dois arquivos de distribuição do gitlab.com e um de <code>gitlab.example.com</code> hospedado com GitLab. O padrão vem de <span class=filename><a href=https://gitlab.com/foo/foo class=bare>https://gitlab.com/foo/foo</a></span> e o commit é <code>c189207a55da45305c884fe2b50e086fcad4724b</code>. O segundo, com o grupo <code>icons</code>, vem de <span class=filename><a href=https://gitlab.example.com:9434/gitlab/bar/foo-icons class=bare>https://gitlab.example.com:9434/gitlab/bar/foo-icons</a></span> e o commit é <code>ae7368cab1ca7ca754b38d49da064df87968ffe4</code>. O terceiro vem de <span class=filename><a href=https://gitlab.com/bar/foo-contrib class=bare>https://gitlab.com/bar/foo-contrib</a></span> e o commit é <code>9e4dd76ad9b38f33fdb417a4c01935958d5acd2a</code>. Os arquivos de distribuição são nomeados <span class=filename>foo-foo-c189207a55da45305c884fe2b50e086fcad4724b_GL0.tar.gz</span>, <span class=filename>bar-foo-icons-ae7368cab1ca7ca754b38d49da064df87968ffe4_GL0.tar.gz</span> e <span class=filename>bar-foo-contrib-9e4dd76ad9b38f33fdb417a4c01935958d5acd2a_GL0.tar.gz</span>.</p></div><div class=paragraph><p>Todos os arquivos de distribuição são extraídos no <code>${WRKDIR}</code> em seus respectivos subdiretórios. O arquivo padrão ainda é extraído no <code>${WRKSRC}</code>, nesse caso, <span class=filename>${WRKDIR}/foo-c189207a55da45305c884fe2b50e086fcad4724b-c189207a55da45305c884fe2b50e086fcad4724b</span>. Cada arquivo de distribuição adicional é extraído em <code>${WRKSRC_group}</code>. Aqui, para o grupo <code>icons</code>, é chamado <code>${WRKSRC_icons}</code> e contém <span class=filename>${WRKDIR}/foo-icons-ae7368cab1ca7ca754b38d49da064df87968ffe4-ae7368cab1ca7ca754b38d49da064df87968ffe4</span>. O arquivo com o grupo <code>contrib</code> é chamado <code>${WRKSRC_contrib}</code> e contém <code>${WRKDIR}/foo-contrib-9e4dd76ad9b38f33fdb417a4c01935958d5acd2a-9e4dd76ad9b38f33fdb417a4c01935958d5acd2a</code>.</p></div><div class=paragraph><p>O sistema de compilação do software espera encontrar os ícones em um subdiretório <span class=filename>ext/icons</span> em seus fontes, então <code>GL_SUBDIR</code> é usado.<code>GL_SUBDIR</code> garante que <span class=filename>ext</span> existe, mas não que <span class=filename>ext/icons</span> também exista. Então isso acontece:</p></div><div class="literalblock programlisting"><div class=content><pre>post-extract:
        @${MV} ${WRKSRC_icons} ${WRKSRC}/ext/icons</pre></div></div></div></div><div id=makefile-master_sites-gitlab-multi2 class=exampleblock><div class=title>Exemplo 21. Uso de <code>USE_GITLAB</code> com Vários Arquivos de Distribuição Usando <code>GL_TUPLE</code></div><div class=content><div class=paragraph><p>Isto é funcionalmente equivalente a <a href=#makefile-master_sites-gitlab-multi>Uso de <code>USE_GITLAB</code> com Vários Arquivos de Distribuição</a> mas usando <code>GL_TUPLE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITLAB=	yes
GL_COMMIT=	c189207a55da45305c884fe2b50e086fcad4724b
GL_TUPLE=	https://gitlab.example.com:9434/gitlab:bar:foo-icons:ae7368cab1ca7ca754b38d49da064df87968ffe4:icons/ext/icons \
		bar:foo-contrib:9e4dd76ad9b38f33fdb417a4c01935958d5acd2a:contrib

CONFIGURE_ARGS= --with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>Agrupamento foi usado no exemplo anterior com <code>bar:icons,contrib</code>. Algumas informações redundantes estão presentes com <code>GL_TUPLE</code> porque o uso de agrupamento não é possível.</p></div></div></div></div></div><div class=sect2><h3 id=makefile-extract_sufx>5.3.5. <code>EXTRACT_SUFX</code><a class=anchor href=#makefile-extract_sufx></a></h3><div class=paragraph><p>Se houver um arquivo de distribuição e ele usar um sufixo diferente para indicar o mecanismo de compactação, defina <code>EXTRACT_SUFX</code>.</p></div><div class=paragraph><p>Por exemplo, se o arquivo de distribuição foi nomeado <span class=filename>foo.tar.gzip</span> em vez do mais comum <span class=filename>foo.tar.gz</span>, escreva:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTNAME=	foo
EXTRACT_SUFX=	.tar.gzip</pre></div></div><div class=paragraph><p>O <code>USES=tar[:xxx]</code>, <code>USES=lha</code> ou <code>USES=zip</code> define automaticamente <code>EXTRACT_SUFX</code> com as extensões de arquivo mais comuns, conforme necessário, consulte <a href=../uses/#uses>Usando Macros <code>USES</code></a> para mais detalhes. Se nenhum destes estiver definido, o <code>EXTRACT_SUFX</code> padrão é <code>.tar.gz</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Como <code>EXTRACT_SUFX</code> é usado apenas em <code>DISTFILES</code>, apenas defina um deles..</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-distfiles-definition>5.3.6. <code>DISTFILES</code><a class=anchor href=#makefile-distfiles-definition></a></h3><div class=paragraph><p>Às vezes os nomes dos arquivos a serem baixados não têm semelhança com o nome do port. Por exemplo, pode ser chamado <span class=filename>source.tar.gz</span> ou similar. Em outros casos, o código-fonte do aplicativo pode estar em vários arquivos diferentes, e todos eles devem ser baixados.</p></div><div class=paragraph><p>Se este for o caso, defina <code>DISTFILES</code> para ser uma lista separada por espaços de todos os arquivos que devem ser baixados.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=	source1.tar.gz source2.tar.gz</pre></div></div><div class=paragraph><p>Se não for definido explicitamente, o <code>DISTFILES</code> padrão é <code>${DISTNAME}${EXTRACT_SUFX}</code>.</p></div></div><div class=sect2><h3 id=makefile-extract_only>5.3.7. <code>EXTRACT_ONLY</code><a class=anchor href=#makefile-extract_only></a></h3><div class=paragraph><p>Se apenas alguns dos <code>DISTFILES</code> devem ser extraídos-- por exemplo, um deles é o código-fonte, enquanto outro é um documento não compactado - liste os nomes dos arquivos que devem ser extraídos em <code>EXTRACT_ONLY</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=	source.tar.gz manual.html
EXTRACT_ONLY=	source.tar.gz</pre></div></div><div class=paragraph><p>Quando nenhum dos <code>DISTFILES</code> precisam ser descompactados, deixe vazio o <code>EXTRACT_ONLY</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_ONLY=</pre></div></div></div><div class=sect2><h3 id=porting-patchfiles>5.3.8. <code>PATCHFILES</code><a class=anchor href=#porting-patchfiles></a></h3><div class=paragraph><p>Se o port requer alguns patches adicionais que estão disponíveis por FTP ou HTTP, defina <code>PATCHFILES</code> para os nomes dos arquivos e <code>PATCH_SITES</code> para a URL do diretório que os contém (o formato é o mesmo do <code>MASTER_SITES</code>).</p></div><div class=paragraph><p>Se o patch não for relativo ao inicio da árvore do código fonte (isto é, <code>WRKSRC</code>) porque contém alguns pathnames extras, defina <code>PATCH_DIST_STRIP</code> adequadamente. Por exemplo, se todos os pathnames no patch tiverem um <code>foozolix-1.0 /</code> extra na frente dos nomes dos arquivos, então defina <code>PATCH_DIST_STRIP=-p1</code>.</p></div><div class=paragraph><p>Não se preocupe se os patches estiverem compactados; eles serão descompactados automaticamente se os nomes dos arquivos terminarem com <span class=filename>.Z</span>, <span class=filename>.gz</span>, <span class=filename>.bz2</span> ou <span class=filename>.xz</span>.</p></div><div class=paragraph><p>Se o patch for distribuído com alguns outros arquivos, como documentação, em um arquivo compactado, o uso de <code>PATCHFILES</code> não será possível. Se for esse o caso, adicione o nome e a localização do arquivo do patch em <code>DISTFILES</code> e <code>MASTER_SITES</code>. Então, use <code>EXTRA_PATCHES</code> para apontar para esses arquivos e o <span class=filename>bsd.port.mk</span> irá aplicá-los automaticamente. Em particular, <em>não</em> copie os arquivos de patch em <span class=filename>${PATCHDIR}</span>. Esse diretório pode não ter permissão de escrita.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Se houver vários patches e eles precisarem de valores mistos para o parâmetro strip, ele poderá ser adicionado ao lado do nome do patch em <code>PATCHFILES</code>, por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>PATCHFILES=	patch1 patch2:-p1</pre></div></div><div class=paragraph><p>Isto não entra em conflito com <a href=#porting-master-sites-n>o recurso de agrupamento de sites principais</a>, adicionando um grupo também funciona:</p></div><div class="literalblock programlisting"><div class=content><pre>PATCHFILES=	patch2:-p1:source2</pre></div></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O arquivo será extraído junto com o arquivo de código fonte, então não há necessidade de explicitamente extraí-lo se ele for um arquivo compactado normal. Tome cuidado extra para não sobrescrever algo que já existe nesse diretório caso faça a extração manualmente. Também não se esqueça de adicionar um comando para remover o patch copiado no target <code>pre-clean</code>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=porting-master-sites-n>5.3.9. Múltiplos Arquivos de Distribuição ou Patches de Vários Locais<a class=anchor href=#porting-master-sites-n></a></h3><div class=paragraph><p>(Considere isto como um "tópico avançado"; a princípio, aqueles que são novos neste documento podem desejar pular esta seção).</p></div><div class=paragraph><p>Esta seção contém informações sobre o mecanismo de busca conhecido como <code>MASTER_SITES:n</code> e <code>MASTER_SITES_NN</code>. Vamos nos referir a este mecanismo como <code>MASTER_SITES:n</code>.</p></div><div class=paragraph><p>Um pouco de background primeiro. O OpenBSD tem um ótimo recurso dentro do <code>DISTFILES</code> e <code>PATCHFILES</code> que permite que arquivos e pacthes sejam pós fixados com identificadores <code>:n</code>. Aqui, <code>n</code> pode ser qualquer palavra que contenha <code>[0-9a-zA-Z_]</code> e signifique uma designação de grupo. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=	alpha:0 beta:1</pre></div></div><div class=paragraph><p>No OpenBSD, arquivo de distribuição <span class=filename>alpha</span> será associado com a variável <code>MASTER_SITES0</code> em vez da nossa comum <code>MASTER_SITES</code> e <span class=filename>beta</span> com <code>MASTER_SITES1</code>.</p></div><div class=paragraph><p>Esta é uma característica muito interessante que pode diminuir a busca sem fim pelo site de download correto.</p></div><div class=paragraph><p>Apenas imagine 2 arquivos em <code>DISTFILES</code> e 20 sites em <code>MASTER_SITES</code>, os sites são extremamente lentos e <span class=filename>beta</span> é hospedado em todas as entradas do <code>MASTER_SITES</code> e <span class=filename>alfa</span> só pode ser encontrado no 20º site. Seria um desperdício checar todos eles se o mantenedor soubesse isso de antemão, não seria? Não é um bom começo para aquele lindo fim de semana!</p></div><div class=paragraph><p>Agora que você já tem uma ideia, imagine mais <code>DISTFILES</code> e mais <code>MASTER_SITES</code>. Certamente nosso "distfiles survey meister" irá ser apreciado pelo alívio nas conexões de rede que isso trará.</p></div><div class=paragraph><p>Nas próximas seções, as informações seguirão a implementação do FreeBSD desta idéia. Nós melhoramos um pouco o conceito do OpenBSD.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Os nomes dos grupos não podem ter traços neles (<code>-</code>), na verdade, eles não podem ter nenhum caractere fora do range <code>[a-zA-Z0-9_]</code>. Isso porque, enquanto<a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> está ok com nomes de variáveis ​​contendo traços, <a href="https://man.freebsd.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;format=html">sh(1)</a>não.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=porting-master-sites-n-simplified>5.3.9.1. Informação Simplificada<a class=anchor href=#porting-master-sites-n-simplified></a></h4><div class=paragraph><p>Esta seção explica como preparar rapidamente a busca de vários arquivos de distribuição e patches de diferentes sites e subdiretórios. Descrevemos aqui um caso de uso de <code>MASTER_SITES:n</code>. Isso será suficiente para a maioria dos cenários. Informações mais detalhadas estão disponíveis em <a href=#ports-master-sites-n-detailed>Informação Detalhada</a>.</p></div><div class=paragraph><p>Alguns aplicativos consistem em vários arquivos de distribuição que devem ser baixados de vários sites diferentes. Por exemplo, Ghostscript consiste no núcleo do programa e, em seguida, um grande número de arquivos de driver que são usados dependendo da impressora do usuário. Alguns desses arquivos de driver são fornecidos com o núcleo, mas muitos outros devem ser baixados de uma variedade de sites diferentes.</p></div><div class=paragraph><p>Para suportar isso, cada entrada no <code>DISTFILES</code> pode ser seguida por dois pontos e um "nome de grupo". Cada site listado em <code>MASTER_SITES</code> é então seguido por dois pontos, e o grupo que indica quais arquivos de distribuição são baixados deste site.</p></div><div class=paragraph><p>Por exemplo, considere um aplicativo com a divisão do código fonte em duas partes, <span class=filename>source1.tar.gz</span> e <span class=filename>source2.tar.gz</span>, que deve ser baixado de dois sites diferentes. O <span class=filename>Makefile</span> do port incluiria linhas como <a href=#ports-master-sites-n-example-simple-use-one-file-per-site>Uso Simplificado de <code>MASTER_SITES:n</code> com Um Arquivo Por Site</a>.</p></div><div id=ports-master-sites-n-example-simple-use-one-file-per-site class=exampleblock><div class=title>Exemplo 22. Uso Simplificado de <code>MASTER_SITES:n</code> com Um Arquivo Por Site</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	ftp://ftp1.example.com/:source1 \
		http://www.example.com/:source2
DISTFILES=	source1.tar.gz:source1 \
		source2.tar.gz:source2</pre></div></div></div></div><div class=paragraph><p>Vários arquivos de distribuição podem ter o mesmo grupo. Continuando o exemplo anterior, suponha que houvesse um terceiro distfile, <span class=filename>source3.tar.gz</span>, que é baixado do <code>ftp.example2.com</code>. O <span class=filename>Makefile</span> seria então escrito como <a href=#ports-master-sites-n-example-simple-use-more-than-one-file-per-site>Uso Simplificado de <code>MASTER_SITES:n</code> com Mais de Um Arquivo Por Site</a>.</p></div><div id=ports-master-sites-n-example-simple-use-more-than-one-file-per-site class=exampleblock><div class=title>Exemplo 23. Uso Simplificado de <code>MASTER_SITES:n</code> com Mais de Um Arquivo Por Site</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	ftp://ftp.example.com/:source1 \
		http://www.example.com/:source2
DISTFILES=	source1.tar.gz:source1 \
		source2.tar.gz:source2 \
		source3.tar.gz:source2</pre></div></div></div></div></div><div class=sect3><h4 id=ports-master-sites-n-detailed>5.3.9.2. Informação Detalhada<a class=anchor href=#ports-master-sites-n-detailed></a></h4><div class=paragraph><p>Ok, então o exemplo anterior não refletiu as necessidades do novo port? Nesta seção vamos explicar em detalhes como o mecanismo de busca avançado <code>MASTER_SITES:n</code> funciona e como ele pode ser usado.</p></div><div class="olist arabic"><ol class=arabic><li><p>Elementos podem ser pós-fixados com <code>:<em>n</em></code> onde <em>n</em> é <code><span class=^:>`, isso é, _n_ poderia conceitualmente ser qualquer string alfanumérica, mas vamos limitá-lo a `[a-zA-Z_][0-9a-zA-Z_]</span></code> por enquanto.</p><div class=paragraph><p>Além disso, a verificação de strings é case sensitive, ou seja, <code>n</code> é diferente de <code>N</code>.</p></div><div class=paragraph><p>No entanto, essas palavras não podem ser usadas para finalidades de pós-fixação, pois elas produzem um significado especial: <code>default</code>, <code>all</code> e <code>ALL</code> (estes são usados ​​internamente no item <a href=#porting-master-sites-n-what-changes-in-port-targets>ii</a>). Além disso, <code>DEFAULT</code> é uma palavra de propósito especial (verifique o item <a href=#porting-master-sites-n-DEFAULT-group>3</a>).</p></div></li><li><p>Elementos pós-fixados com <code>:n</code> pertence ao grupo <code>n</code>, <code>:m</code> pertence ao grupo <code>m</code> e assim por diante.</p></li><li><p>Elementos que não estão pós-fixados são desagrupados, todos eles pertencem ao grupo especial <code>DEFAULT</code>. Quaisquer elementos pós-fixados com <code>DEFAULT</code> estão apenas sendo redundantes, a menos que um elemento pertença a ambos <code>DEFAULT</code> e outros grupos ao mesmo tempo (verifique o item <a href=#porting-master-sites-n-comma-operator>5</a>).</p><div class=paragraph><p>Esses exemplos são equivalentes, mas o primeiro é o preferido:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:DEFAULT</pre></div></div></li><li><p>Grupos não são exclusivos, um elemento pode pertencer a vários grupos diferentes ao mesmo tempo e um grupo pode ter vários elementos diferentes ou nenhum.</p></li><li><p>Quando um elemento pertence a vários grupos ao mesmo tempo, use uma vírgula (<code>,</code>).</p><div class=paragraph><p>Em vez de repetir isso várias vezes, cada vez com uma pós-fixação diferente, podemos listar vários grupos de uma vez em uma única pós-fixação. Por exemplo, <code>:m,n,o</code> marca um elemento que pertence ao grupo <code>m</code>, <code>n</code> e <code>o</code>.</p></div><div class=paragraph><p>Todos esses exemplos são equivalentes, mas o último é o preferido:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha alpha:SOME_SITE</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:DEFAULT alpha:SOME_SITE</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:SOME_SITE,DEFAULT</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:DEFAULT,SOME_SITE</pre></div></div></li><li><p>Todos os sites dentro de um determinado grupo são ordernados de acordo com <code>MASTER_SORT_AWK</code>. Todos os grupos dentro de <code>MASTER_SITES</code> e <code>PATCH_SITES</code> são ordenados também.</p></li><li><p>A semântica de grupo pode ser usada em qualquer uma das variáveis <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code>, <code>PATCH_SITE_SUBDIR</code>, <code>DISTFILES</code> e <code>PATCHFILES</code> de acordo com esta sintaxe:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Todos elementos <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code> e <code>PATCH_SITE_SUBDIR</code> devem ser terminados com o caractere barra <code>/</code>. Se algum elemento pertencer a algum grupo, o grupo de pós-fixação <code>:<em>n</em></code> deve vir logo após o terminador <code>/</code>. O mecanismo <code>MASTER_SITES:n</code> depende da existência do terminador <code>/</code> para evitar confundir elementos onde um <code>:n</code> é uma parte válida do elemento com ocorrências em que <code>:n</code> denota grupo <code>n</code>. Para fins de compatibilidade, uma vez que o terminador <code>/</code> não for necessário antes em ambos elementos <code>MASTER_SITE_SUBDIR</code> e <code>PATCH_SITE_SUBDIR</code>, se o caractere precedente imediato da pós-fixação não for <code>/</code> então <code>:n</code> será considerada uma parte válida do elemento em vez de uma pós-fixação de grupo, mesmo que um elemento <code>n</code> seja pós-fixado. Veja ambos <a href=#ports-master-sites-n-example-detailed-use-master-site-subdir>Uso Detalhado de <code>MASTER_SITES:n</code> no <code>MASTER_SITE_SUBDIR</code></a> e <a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Uso Detalhado de <code>MASTER_SITES:n</code> com Vírgula, Vários Arquivos, Vários Sites e Vários Subdiretórios</a>.</p><div id=ports-master-sites-n-example-detailed-use-master-site-subdir class=exampleblock><div class=title>Exemplo 24. Uso Detalhado de <code>MASTER_SITES:n</code> no <code>MASTER_SITE_SUBDIR</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITE_SUBDIR=	old:n new/:NEW</pre></div></div><div class=ulist><ul><li><p>Diretórios dentro do grupo <code>DEFAULT</code> → old:n</p></li><li><p>Diretórios dentro do grupo <code>NEW</code> → new</p></li></ul></div></div></div><div id=ports-master-sites-n-example-detailed-use-complete-example-master-sites class=exampleblock><div class=title>Exemplo 25. Uso Detalhado de <code>MASTER_SITES:n</code> com Vírgula, Vários Arquivos, Vários Sites e Vários Subdiretórios</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	http://site1/%SUBDIR%/http://site2/:DEFAULT \
		http://site3/:group3 http://site4/:group4 \
		http://site5/:group5 http://site6/:group6 \
		http://site7/:DEFAULT,group6 \
		http://site8/%SUBDIR%/:group6,group7 \
		http://site9/:group8
DISTFILES=	file1 file2:DEFAULT file3:group3 \
		file4:group4,group5,group6 file5:grouping \
		file6:group7
MASTER_SITE_SUBDIR=	directory-trial:1 directory-n/:groupn \
		directory-one/:group6,DEFAULT \
		directory</pre></div></div><div class=paragraph><p>O exemplo anterior resulta em uma busca detalhada. Os sites são listados na ordem exata em que serão usados.</p></div><div class=ulist><ul><li><p><span class=filename>arquivo1</span> será obtido a partir de</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>arquivo2</span> será baixado exatamente como o <span class=filename>arquivo1</span> já que ambos pertencem ao mesmo grupo</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>arquivo3</span> será obtido a partir de</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site3/ class=bare>http://site3/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>arquivo4</span> será obtido a partir de</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site4/ class=bare>http://site4/</a></p></li><li><p><a href=http://site5/ class=bare>http://site5/</a></p></li><li><p><a href=http://site6/ class=bare>http://site6/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><a href=http://site8/directory-one/ class=bare>http://site8/directory-one/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>arquivo5</span> será obtido a partir de</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file6</span> será obtido a partir de</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site8/ class=bare>http://site8/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li></ul></div></div></div></li></ol></div></li><li><p>Como posso agrupar uma das macros especiais de <span class=filename>bsd.sites.mk</span>, por exemplo, SourceForge (<code>SF</code>)?</p><div class=paragraph><p>Isso foi simplificado o máximo possível. Veja <a href=#ports-master-sites-n-example-detailed-use-master-site-sourceforge>Uso Detalhado de <code>MASTER_SITES:n</code> com SourceForge (<code>SF</code>)</a>.</p></div><div id=ports-master-sites-n-example-detailed-use-master-site-sourceforge class=exampleblock><div class=title>Exemplo 26. Uso Detalhado de <code>MASTER_SITES:n</code> com SourceForge (<code>SF</code>)</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	http://site1/SF/something/1.0:sourceforge,TEST
DISTFILES=	something.tar.gz:sourceforge</pre></div></div><div class=paragraph><p><span class=filename>something.tar.gz</span> será obtido por todos os sites do SourceForge.</p></div></div></div></li><li><p>Como eu uso isso com <code>PATCH*</code>?</p><div class=paragraph><p>Todos os exemplos foram feitos com <code>MASTER*</code> mas eles funcionam exatamente da mesma forma com <code>PATCH*</code> como pode ser visto em <a href=#ports-master-sites-n-example-detailed-use-patch-sites>Uso Simplificado de <code>MASTER_SITES:n</code> com <code>PATCH_SITES</code></a>.</p></div><div id=ports-master-sites-n-example-detailed-use-patch-sites class=exampleblock><div class=title>Exemplo 27. Uso Simplificado de <code>MASTER_SITES:n</code> com <code>PATCH_SITES</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>PATCH_SITES=	http://site1/ http://site2/:test
PATCHFILES=	patch1:test</pre></div></div></div></div></li></ol></div></div><div class=sect3><h4 id=port-master-sites-n-what-changed>5.3.9.3. O que Muda para os Ports? O que Não Funciona?<a class=anchor href=#port-master-sites-n-what-changed></a></h4><div class="olist lowerroman"><ol class=lowerroman type=i><li><p>Todos os ports atuais permanecem os mesmos. A feature <code>MASTER_SITES:n</code> só é ativada se houver elementos pós-fixados com <code>:<em>n</em></code> como elementos de acordo com as regras de sintaxe acima, especialmente como mostrado no item <a href=#porting-master-sites-n-group-semantics>7</a>.</p></li></ol></div><div id=porting-master-sites-n-what-changes-in-port-targets class="olist arabic"><ol class=arabic><li><p>Os targets de port permanecem os mesmos: <code>checksum</code>, <code>makesum</code>, <code>patch</code>, <code>configure</code>, <code>build</code>, etc. Com as exceções óbvias de <code>do-fetch</code>, <code>fetch-list</code>, <code>master-sites</code> e <code>patch-sites</code>.</p><div class=ulist><ul><li><p><code>do-fetch</code>: implementa o novo agrupamento pós-fixado <code>DISTFILES</code> e <code>PATCHFILES</code> com seus elementos de grupo correspondentes dentro de ambos <code>MASTER_SITES</code> e <code>PATCH_SITES</code> que usam elementos de grupo correspondentes dentro de ambos <code>MASTER_SITE_SUBDIR</code> e <code>PATCH_SITE_SUBDIR</code>. Verifique <a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Uso Detalhado de <code>MASTER_SITES:n</code> com Vírgula, Vários Arquivos, Vários Sites e Vários Subdiretórios</a>.</p></li><li><p><code>fetch-list</code>: funciona como o antigo <code>fetch-list</code>, com a exceção de que faz agrupamentos exatamente como o <code>do-fetch</code>.</p></li><li><p><code>master-sites</code> e <code>patch-sites</code>: (incompatível com versões mais antigas) somente retorna os elementos do grupo <code>DEFAULT</code>; na verdade, eles executam os targets <code>master-sites-default</code> e <code>patch-sites-default</code> respectivamente.</p><div class=paragraph><p>Além disso, usar o target <code>master-sites-all</code> ou <code>patch-sites-all</code> é o preferido para verificar diretamente <code>MASTER_SITES</code> ou <code>PATCH_SITES</code>. Além disso, não é garantido que a checagem direta funcione em versões futuras. Veja <a href=#porting-master-sites-n-new-port-targets-master-sites-all>B</a> para obter mais informações sobre esses novos tagets de port.</p></div></li></ul></div></li><li><p>Novos Targets de Port</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Existem targets <code>master-sites-<em>n</em></code> e <code>patch-sites-<em>n</em></code> que listarão os elementos do respectivo grupo <em>n</em> dentro de <code>MASTER_SITES</code> e <code>PATCH_SITES</code> respectivamente. Por exemplo, ambos <code>master-sites-DEFAULT</code> e <code>patch-sites-DEFAULT</code> retornarão os elementos do grupo <code>DEFAULT</code>, <code>master-sites-test</code> e <code>patch-sites-test</code> do grupo <code>test</code>.</p></li></ol></div></li></ol></div><div id=porting-master-sites-n-new-port-targets-master-sites-all class="olist loweralpha"><ol class=loweralpha type=a><li><p>Há novos targets <code>master-sites-all</code> e <code>patch-sites-all</code> que fazem o trabalho dos antigos <code>master-sites</code> e <code>patch-sites</code>. Eles retornam os elementos de todos os grupos como se todos pertencessem ao mesmo grupo, com a ressalva de que lista tantos <code>MASTER_SITE_BACKUP</code> e <code>MASTER_SITE_OVERRIDE</code> como existem grupos definidos dentro de qualquer <code>DISTFILES</code> ou <code>PATCHFILES</code>; respectivamente para <code>master-sites-all</code> e <code>patch-sites-all</code>.</p></li></ol></div></div></div><div class=sect2><h3 id=makefile-dist_subdir>5.3.10. <code>DIST_SUBDIR</code><a class=anchor href=#makefile-dist_subdir></a></h3><div class=paragraph><p>Não deixe o <span class=filename>/usr/ports/distfiles</span> bagunçado. Se um port exigir que muitos arquivos sejam baixados, ou que contenha um arquivo que tenha um nome que possa entrar em conflito com outros ports (por exemplo, <span class=filename>Makefile</span>), defina <code>DIST_SUBDIR</code> com o nome do port (<code>${PORTNAME}</code> ou <code>${PKGNAMEPREFIX}${PORTNAME}</code>). Isso vai mudar o <code>DISTDIR</code> do padrão <span class=filename>/usr/ports/distfiles</span> para <span class=filename>/usr/ports/distfiles/${DIST_SUBDIR}</span>,e assim, será colocado tudo o que é necessário para o port nesse subdiretório.</p></div><div class=paragraph><p>Ele também examinará o subdiretório com o mesmo nome no site principal de backup em <a href=http://distcache.FreeBSD.org>http://distcache.FreeBSD.org</a> (Configurar o <code>DISTDIR</code> explicitamente no <span class=filename>Makefile</span> não fará isso funcionar, então por favor use <code>DIST_SUBDIR</code>.)</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Isso não afeta o <code>MASTER_SITES</code> definido no <span class=filename>Makefile</span>.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=makefile-maintainer>5.4. <code>MAINTAINER</code><a class=anchor href=#makefile-maintainer></a></h2><div class=sectionbody><div class=paragraph><p>Defina seu endereço de email aqui. Por favor. <em>:-)</em></p></div><div class=paragraph><p>Apenas um único endereço sem a parte de comentário é permitido como um valor para <code>MAINTAINER</code>. O formato usado é <code>user@hostname.domain</code>. Por favor, não inclua nenhum texto descritivo, como um nome nesta entrada. Isso confunde a infraestrutura do Ports e a maioria das ferramentas que a usam.</p></div><div class=paragraph><p>O mantenedor é responsável por manter o port atualizado e garantir que elo funcione corretamente. Para obter uma descrição detalhada das responsabilidades de um mantenedor de port, consulte <a href=https://docs.freebsd.org/pt-br/articles/contributing/#maintain-port>O desafio para os mantenedores de port</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Um mantenedor se voluntaria para manter um port em bom estado de funcionamento. Os mantenedores têm a responsabilidade primária por seus ports, mas não possuem propriedade exclusiva. Os ports existem para o benefício da comunidade e, na realidade, pertencem à comunidade. O que isso significa é que outras pessoas além do mantenedor, também podem fazer alterações em um port. Grandes mudanças na Coleção de Ports podem exigir mudanças em muitos ports. A Equipe de Gerenciamento do Ports do FreeBSD ou membros de outras equipes podem modificar ports para corrigir problemas de dependência ou outros problemas, como um bump de versão para uma atualização de biblioteca compartilhada.</p></div><div class=paragraph><p>Alguns tipos de correções tem "aprovação implícita" da Equipe de Gerenciamento do Ports <a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>, permitindo que qualquer committer conserte essas categorias de problemas em qualquer port. Essas correções não precisam da aprovação do mantenedor.</p></div><div class=paragraph><p>Aprovação implícita para a maioria dos ports se aplicam para correções como mudanças de infraestrutura, trivialidades e correções <em>testadas</em> de compilação e execução. A lista atual está disponibilizada em <a href=https://docs.freebsd.org/pt-br/articles/committers-guide/#ports-qa-misc-blanket-approval>Seção Ports do Guia dos Committers</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Outras alterações no port serão enviadas ao mantenedor para revisão e aprovação antes de se fazer o commit. Se o mantenedor não responder a uma solicitação de atualização após duas semanas (excluindo os principais feriados), isso será considerado como timeout do mantenedor, e a atualização poderá ser feita sem a aprovação explícita do mesmo. Se o mantenedor não responder dentro de três meses, ou se houver três timeouts consecutivos, então o mantenedor é considerado ausente, e todas os seus ports podem ser atribuídos de volta para à comunidade. Exceções para isso são quaisquer ports mantidos pela Equipe de Gerenciamento de Ports <a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a> ou pela Equipe de Oficias de Segurança <a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>. Nenhum commit não autorizado pode ser feito em ports mantidos por esses grupos.</p></div><div class=paragraph><p>Reservamo-nos o direito de modificar as submissões do mantenedor para melhor adequar as políticas e os estilos existentes da Coleção de Ports sem aprovação explicita do remetente ou do mantenedor. Além disso, grandes alterações de infraestrutura podem resultar na modificação de um port sem o consentimento do mantenedor. Estes tipos de alterações nunca irão afetar a funcionalidade do port.</p></div><div class=paragraph><p>A Equipe de Gerenciamento de Ports <a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a> reserva o direito de revogar ou substituir a propriedade de mantenedor de qualquer pessoa por qualquer motivo, e a Equipe de Oficiais de Segurança <a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a> reserva o direito de revogar ou substituir a propriedade de mantenedor por razões de segurança.</p></div></div></div><div class=sect1><h2 id=makefile-comment>5.5. <code>COMMENT</code><a class=anchor href=#makefile-comment></a></h2><div class=sectionbody><div class=paragraph><p>O comentário é uma descrição de uma linha de um port mostrada por <code>pkg info</code>. Por favor, siga estas regras ao compor:</p></div><div class="olist arabic"><ol class=arabic><li><p>A string COMMENT deve ter 70 caracteres ou menos.</p></li><li><p><em>Não</em> inclua o nome do pacote ou o número da versão do software.</p></li><li><p>O comentário deve começar com uma letra maiúscula e terminar sem um ponto final.</p></li><li><p>Não comece com um artigo indefinido (isto é, A ou Um).</p></li><li><p>Capitalize nomes como Apache, JavaScript ou Perl.</p></li><li><p>Use uma vírgula serial para listas de palavras: "verde, vermelho, e azul."</p></li><li><p>Verifique erros de ortografia.</p></li></ol></div><div class=paragraph><p>Aqui está um exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>COMMENT=	Cat chasing a mouse all over the screen</pre></div></div><div class=paragraph><p>A variável COMMENT vem depois da variável MAINTAINER no <span class=filename>Makefile</span>.</p></div></div></div><div class=sect1><h2 id=licenses>5.6. Licenças<a class=anchor href=#licenses></a></h2><div class=sectionbody><div class=paragraph><p>Cada port deve documentar a licença sob a qual está disponível. Se não for uma licença aprovada pelo OSI, também deve documentar quaisquer restrições à redistribuição.</p></div><div class=sect2><h3 id=licenses-license>5.6.1. <code>LICENSE</code><a class=anchor href=#licenses-license></a></h3><div class=paragraph><p>Um nome abreviado para a licença ou licenças se mais de uma licença for aplicada.</p></div><div class=paragraph><p>Se for uma das licenças listadas no <a href=#licenses-license-list>Lista de Licenças Predefinidas</a>, apenas as variáveis <code>LICENSE_FILE</code> e <code>LICENSE_DISTFILES</code> podem ser definidas.</p></div><div class=paragraph><p>Se esta for uma licença que não tenha sido definida na infraestrutura de ports (veja <a href=#licenses-license-list>Lista de Licenças Predefinidas</a>), <code>LICENSE_PERMS</code> e <code>LICENSE_NAME</code> devem ser definidos, juntamente com <code>LICENSE_FILE</code> ou <code>LICENSE_TEXT</code>. <code>LICENSE_DISTFILES</code> e <code>LICENSE_GROUPS</code> também podem ser definidos, mas não é necessário.</p></div><div class=paragraph><p>As licenças pré-definidas são mostradas em <a href=#licenses-license-list>Lista de Licenças Predefinidas</a>. A lista atual está sempre disponível em <span class=filename>Mk/bsd.licenses.db.mk</span>.</p></div><div id=licenses-license-ex1 class=exampleblock><div class=title>Exemplo 28. Uso Mais Simples, Licenças Predefinidas</div><div class=content><div class=paragraph><p>Quando o <span class=filename>README</span> de algum software diz "This software is under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version." mas não fornece o arquivo de licença, use isto:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	LGPL21+</pre></div></div><div class=paragraph><p>Quando o software fornece o arquivo de licença, use isto:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	LGPL21+
LICENSE_FILE=	${WRKSRC}/COPYING</pre></div></div></div></div><div class=paragraph><p>Para as licenças predefinidas, as permissões padrão são <code>dist-mirror dist-sell pkg-mirror pkg-sell auto-accept</code>.</p></div><table id=licenses-license-list class="tableblock frame-none grid-all stretch"><caption class=title>Tabela 7. Lista de Licenças Predefinidas</caption><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Nome Curto</th><th class="tableblock halign-left valign-top">Nome</th><th class="tableblock halign-left valign-top">Grupo</th><th class="tableblock halign-left valign-top">Permissões</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AGPLv3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Affero General Public License version 3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AGPLv3+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Affero General Public License version 3 (ou maior)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Apache License 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Apache License 1.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Apache License 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ART10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Artistic License version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ART20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Artistic License version 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ARTPERL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Artistic License (perl) version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD license Generic Version (deprecated)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD2CLAUSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD 2-clause "Simplified" License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD3CLAUSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD 3-clause "New" or "Revised" License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD4CLAUSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD 4-clause "Original" or "Old" License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Boost Software License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror pkg-mirror auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Compartilhar Alike 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC0-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Zero v1.0 Universal</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CDDL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Common Development and Distribution License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CPAL-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Common Public Attribution License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ClArtistic</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Clarified Artistic License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>EPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Eclipse Public License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GFDL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Free Documentation License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GMGPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNAT Modified General Public License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv1</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv1+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 1 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv2+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 2 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 3 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3RLE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU GPL version 3 Runtime Library Exception</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3RLE+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU GPL version 3 Runtime Library Exception (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ISCL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Internet Systems Consortium License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Library General Public License version 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL20+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Library General Public License version 2.0 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL21</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 2.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL21+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 2.1 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL3+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 3 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL12</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13a</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13b</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3b</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13c</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3c</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MIT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>MIT license / X11 license</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MPL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla Public License version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MPL11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla Public License version 1.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MPL20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla Public License version 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NCSA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>University of Illinois/NCSA Open Source License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NONE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>No license specified</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OFL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SIL Open Font License version 1.0 (<a href=http://scripts.sil.org/OFL class=bare>http://scripts.sil.org/OFL</a>)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FONTS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OFL11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SIL Open Font License version 1.1 (<a href=http://scripts.sil.org/OFL class=bare>http://scripts.sil.org/OFL</a>)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FONTS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OWL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Open Works License (owl.apotheon.org)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OpenSSL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Licença OpenSSL</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Public Domain</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PHP202</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PHP License version 2.02</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PHP30</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PHP License version 3.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PHP301</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PHP License versão 3.01</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PSFL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Python Software Foundation License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PostgreSQL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PostgreSQL License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ruby License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>UNLICENSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The Unlicense</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE FSF GPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WTFPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Do What the Fuck You Want To Public License version 2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL FSF COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WTFPL1</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Do What the Fuck You Want To Public License version 1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL FSF COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ZLIB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>zlib License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ZPL21</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zope Public License version 2.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(padrão)</p></td></tr></tbody></table></div><div class=sect2><h3 id=licenses-license_perms>5.6.2. <code>LICENSE_PERMS</code> e <code>LICENSE_PERMS_NAME</code><a class=anchor href=#licenses-license_perms></a></h3><div class=paragraph><p>Permissões. Use <code>none</code> se vazio.</p></div><div id=licenses-license_perms-dist-mirror class=dlist><div class=title>Lista de Permissões de Licença</div><dl><dt class=hdlist1><code>dist-mirror</code></dt><dd><p>A redistribuição dos arquivos de distribuição é permitida. Os arquivos de distribuição serão adicionados ao FreeBSD CDN <code>MASTER_SITE_BACKUP</code>.</p></dd></dl></div><div id=licenses-license_perms-no-dist-mirror class=dlist><dl><dt class=hdlist1><code>no-dist-mirror</code></dt><dd><p>A redistribuição dos arquivos de distribuição é proibida. Isso é equivalente a <a href=#porting-restrictions-restricted><code>RESTRICT</code></a>. Os arquivos de distribuição <em>não</em> serão adicionados ao FreeBSD CDN <code>MASTER_SITE_BACKUP</code>.</p></dd></dl></div><div id=licenses-license_perms-dist-sell class=dlist><dl><dt class=hdlist1><code>dist-sell</code></dt><dd><p>A venda de arquivos de distribuição é permitida. Os arquivos de distribuição estarão presentes nas imagens do instalador.</p></dd></dl></div><div id=licenses-license_perms-no-dist-sell class=dlist><dl><dt class=hdlist1><code>no-dist-sell</code></dt><dd><p>A venda de arquivos de distribuição é proibida. Isso é equivalente a <a href=#porting-restrictions-no_cdrom><code>NO_CDROM</code></a>.</p></dd></dl></div><div id=licenses-license_perms-pkg-mirror class=dlist><dl><dt class=hdlist1><code>pkg-mirror</code></dt><dd><p>É permitida a redistribuição gratuita do pacote. O pacote será distribuído na CDN de pacotes do FreeBSD <a href=https://pkg.freebsd.org/>https://pkg.freebsd.org/</a>.</p></dd></dl></div><div id=licenses-license_perms-no-pkg-mirror class=dlist><dl><dt class=hdlist1><code>no-pkg-mirror</code></dt><dd><p>É proibida a redistribuição gratuita do pacote. Equivalente à definir <a href=#porting-restrictions-no_package><code>NO_PACKAGE</code></a>. O pacote <em>não</em> será distribuído a partir da CDN de pacotes do FreeBSD <a href=https://pkg.freebsd.org/>https://pkg.freebsd.org/</a>.</p></dd></dl></div><div id=licenses-license_perms-pkg-sell class=dlist><dl><dt class=hdlist1><code>pkg-sell</code></dt><dd><p>A venda do pacote é permitida. O pacote estará presente nas imagens do instalador.</p></dd></dl></div><div id=licenses-license_perms-no-pkg-sell class=dlist><dl><dt class=hdlist1><code>no-pkg-sell</code></dt><dd><p>A venda de pacotes é proibida. Isso é equivalente a definir <a href=#porting-restrictions-no_cdrom><code>NO_CDROM</code></a>. O pacote <em>não</em> estará presente nas imagens do instalador.</p></dd></dl></div><div id=licenses-license_perms-auto-accept class=dlist><dl><dt class=hdlist1><code>auto-accept</code></dt><dd><p>A licença é aceita por padrão. Os prompts para aceitar uma licença não são exibidos a menos que o usuário tenha definido <code>LICENSES_ASK</code>. Use isto, a menos que a licença indique que o usuário deve aceitar os termos da licença.</p></dd></dl></div><div id=licenses-license_perms-no-auto-accept class=dlist><dl><dt class=hdlist1><code>no-auto-accept</code></dt><dd><p>A licença não é aceita por padrão. O usuário sempre será solicitado a confirmar a aceitação desta licença. Isso deve ser usado se a licença declarar que o usuário deve aceitar seus termos.</p></dd></dl></div><div class=paragraph><p>Quando ambos <code><em>permission</em></code> e <code>no-<em>permission</em></code> estiverem presentes o <code>no-<em>permission</em></code> vai cancelar a <code><em>permission</em></code>.</p></div><div class=paragraph><p>Quando <code><em>permission</em></code> não estiver presente, é considerado uma <code>no-<em>permission</em></code>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Algumas permissões que estiverem faltando, impedirão que um port (e todos os ports dependendo dele) sejam utilizados pelos usuários do pacote:</p></div><div class=paragraph><p>Um port sem a permissão <code>auto-accept</code> nunca será compilado e todos os ports dependendo dele serão ignorados.</p></div><div class=paragraph><p>Um port sem a permissão <code>pkg-mirror</code> será removido, assim como todos os ports que dependam dele, isso depois da compilação e então eles nunca serão distribuídos.</p></div></td></tr></tbody></table></div><div id=licenses-license_perms-ex1 class=exampleblock><div class=title>Exemplo 29. Licença Não Padrão</div><div class=content><div class=paragraph><p>Leia os termos da licença e traduza-os usando as permissões disponíveis.</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=        UNKNOWN
LICENSE_NAME=   unknown
LICENSE_TEXT=   Esse programa NÃO é de domínio publico.\
                pode ser distribuído livremente para propósitos não comerciais apenas,\
                e NÃO HÁ GARANTIA PARA ESSE PROGRAMA.
LICENSE_PERMS=  dist-mirror no-dist-sell pkg-mirror no-pkg-sell auto-accept</pre></div></div></div></div><div id=licenses-license_perms-ex2 class=exampleblock><div class=title>Exemplo 30. Licenças Padrão e Não Padrão</div><div class=content><div class=paragraph><p>Leia os termos da licença e expresse-os usando as permissões disponíveis. Em caso de dúvida, peça orientação na <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports>lista de discussão de ports do FreeBSD</a>.</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=        WARSOW GPLv2
LICENSE_COMB=   multi
LICENSE_NAME_WARSOW=    Warsow Content License
LICENSE_FILE_WARSOW=    ${WRKSRC}/docs/license.txt
LICENSE_PERMS_WARSOW=   dist-mirror pkg-mirror auto-accept</pre></div></div><div class=paragraph><p>Quando as permissões das licenças GPLv2 e UNKNOWN são misturadas, o port termina com <code>dist-mirror dist-sell pkg-mirror pkg-sell auto-accept dist-mirror no-dist-sell pkg-mirror no-pkg-sell auto-accept</code>. O <code>no-<em>permissions</em></code> cancela as <em>permissions</em>. A lista resultante de permissões é <em>dist-mirror pkg-mirror auto-accept</em>. Os arquivos de distribuição e os pacotes não estarão disponíveis nas imagens do instalador.</p></div></div></div></div><div class=sect2><h3 id=licenses-license_groups>5.6.3. <code>LICENSE_GROUPS</code> e <code>LICENSE_GROUPS_NAME</code><a class=anchor href=#licenses-license_groups></a></h3><div class=paragraph><p>Grupos que a licença pertence.</p></div><div id=licenses-license_groups-FSF class=dlist><div class=title>Lista de Grupos de Licenças Predefinidas</div><dl><dt class=hdlist1><code>FSF</code></dt><dd><p>Aprovada pela Free Software Foundation, veja <a href=http://www.fsf.org/licensing>FSF Licensing & Compliance Team</a>.</p></dd></dl></div><div id=licenses-license_groups-GPL class=dlist><dl><dt class=hdlist1><code>GPL</code></dt><dd><p>Compatível com GPL</p></dd></dl></div><div id=licenses-license_groups-OSI class=dlist><dl><dt class=hdlist1><code>OSI</code></dt><dd><p>Aprovado pelo OSI, veja a pagina Open Source Initiative <a href=http://opensource.org/licenses>Open Source Licenses</a>.</p></dd></dl></div><div id=licenses-license_groups-COPYFREE class=dlist><dl><dt class=hdlist1><code>COPYFREE</code></dt><dd><p>Segue a Copyfree Standard Definition, consulte a pagina <a href=http://copyfree.org/standard/licenses>Copyfree Licenses</a>.</p></dd></dl></div><div id=licenses-license_groups-FONTS class=dlist><dl><dt class=hdlist1><code>FONTS</code></dt><dd><p>Licenças de fonte</p></dd></dl></div></div><div class=sect2><h3 id=licenses-license_name>5.6.4. <code>LICENSE_NAME</code> e <code>LICENSE_NAME_NAME</code><a class=anchor href=#licenses-license_name></a></h3><div class=paragraph><p>Nome completo da licença.</p></div><div id=licenses-license_name-ex1 class=exampleblock><div class=title>Exemplo 31. <code>LICENSE_NAME</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>LICENSE=        UNRAR
LICENSE_NAME=   UnRAR License
LICENSE_FILE=   ${WRKSRC}/license.txt
LICENSE_PERMS=  dist-mirror dist-sell pkg-mirror pkg-sell auto-accept</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_file>5.6.5. <code>LICENSE_FILE</code> e <code>LICENSE_FILE_NOME</code><a class=anchor href=#licenses-license_file></a></h3><div class=paragraph><p>Caminho completo para o arquivo que contém o texto da licença, geralmente <span class=filename>${WRKSRC}/some/file</span>. Se o arquivo não estiver no distfile e seu conteúdo for muito longo para ser colocado em <a href=#licenses-license_text><code>LICENSE_TEXT</code></a>, insira o texto em um novo arquivo em <span class=filename>${FILESDIR}</span>.</p></div><div id=licenses-license_file-ex1 class=exampleblock><div class=title>Exemplo 32. <code>LICENSE_FILE</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>LICENSE=	GPLv3+
LICENSE_FILE=	${WRKSRC}/COPYING</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_text>5.6.6. <code>LICENSE_TEXT</code> e <code>LICENSE_TEXT_NAME</code><a class=anchor href=#licenses-license_text></a></h3><div class=paragraph><p>Texto para usar como uma licença. Útil quando a licença não está nos arquivos de distribuição e seu texto é curto.</p></div><div id=licenses-license_text-ex1 class=exampleblock><div class=title>Exemplo 33. <code>LICENSE_TEXT</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>LICENSE=        UNKNOWN
LICENSE_NAME=   unknown
LICENSE_TEXT=   This program is NOT in public domain.\
                It can be freely distributed for non-commercial purposes only,\
                and THERE IS NO WARRANTY FOR THIS PROGRAM.
LICENSE_PERMS=  dist-mirror no-dist-sell pkg-mirror no-pkg-sell auto-accept</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_distfiles>5.6.7. <code>LICENSE_DISTFILES</code> e <code>LICENSE_DISTFILES_NAME</code><a class=anchor href=#licenses-license_distfiles></a></h3><div class=paragraph><p>Os arquivos de distribuição aos quais as licenças se aplicam. O padrão é para todos os arquivos de distribuição.</p></div><div id=licenses-license_distfiles-ex1 class=exampleblock><div class=title>Exemplo 34. <code>LICENSE_DISTFILES</code></div><div class=content><div class=paragraph><p>Usado quando os arquivos de distribuição não possuem a mesma licença. Por exemplo, um possui uma licença de código e outro possui alguns trabalhos de arte que não podem ser redistribuídos:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   SF/some-game
DISTFILES=      ${DISTNAME}${EXTRACT_SUFX} artwork.zip

LICENSE=        BSD3CLAUSE ARTWORK
LICENSE_COMB=   dual
LICENSE_NAME_ARTWORK=      The game artwork license
LICENSE_TEXT_ARTWORK=      The README says that the files cannot be redistributed
LICENSE_PERMS_ARTWORK=     pkg-mirror pkg-sell auto-accept
LICENSE_DISTFILES_BSD3CLAUSE=   ${DISTNAME}${EXTRACT_SUFX}
LICENSE_DISTFILES_ARTWORK= artwork.zip</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_comb>5.6.8. <code>LICENSE_COMB</code><a class=anchor href=#licenses-license_comb></a></h3><div class=paragraph><p>Defina como <code>multi</code> se todas as licenças se aplicarem. Defina como <code>dual</code> se qualquer uma das licenças se aplica. O padrão é definido para <code>single</code>.</p></div><div id=licenses-license_comb-ex1 class=exampleblock><div class=title>Exemplo 35. Licenças Duplas</div><div class=content><div class=paragraph><p>Quando um port diz "This software may be distributed under the GNU General Public License or the Artistic License">, isso significa que qualquer licença pode ser usada. Use isto:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	ART10 GPLv1
LICENSE_COMB=   dual</pre></div></div><div class=paragraph><p>Se os arquivos de licença forem fornecidos, use assim:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	ART10 GPLv1
LICENSE_COMB=   dual
LICENSE_FILE_ART10=     ${WRKSRC}/Artistic
LICENSE_FILE_GPLv1=     ${WRKSRC}/Copying</pre></div></div></div></div><div id=licenses-license_comb-ex2 class=exampleblock><div class=title>Exemplo 36. Múltiplas Licenças</div><div class=content><div class=paragraph><p>Quando parte de um port tem uma licença, e outra parte tem uma licença diferente, use <code>multi</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	GPLv2 LGPL21+
LICENSE_COMB=	multi</pre></div></div></div></div></div></div></div><div class=sect1><h2 id=makefile-portscout>5.7. <code>PORTSCOUT</code><a class=anchor href=#makefile-portscout></a></h2><div class=sectionbody><div class=paragraph><p>Portscout é um utilitário de verificação de distfile automatizado para a Coleção de Ports do FreeBSD, descrito em detalhes em <a href=../keeping-up/#distfile-survey>Portscout: o Scanner de Distfile de Ports do FreeBSD</a>.</p></div><div class=paragraph><p><code>PORTSCOUT</code> define condições especiais dentro das quais o scanner distfile do Portscout é restrito.</p></div><div class=paragraph><p>Situações em que o <code>PORTSCOUT</code> é configurado:</p></div><div class=ulist><ul><li><p>Quando distfiles precisam ser ignorados, seja para versões específicas, ou para pequenas revisões específicas. Por exemplo, para excluir a versão <em>8.2</em> das verificações de versão de distfile porque é conhecido por estar quebrado, adicione:</p><div class="literalblock programlisting"><div class=content><pre>PORTSCOUT=	ignore:8.2</pre></div></div></li><li><p>Quando versões específicas ou revisões maiores e menores específicas de um distfile devem ser verificadas. Por exemplo, se somente a versão <em>0.6.4</em> deve ser monitorado porque versões mais recentes têm problemas de compatibilidade com o FreeBSD, adicione:</p><div class="literalblock programlisting"><div class=content><pre>PORTSCOUT=	limit:^0\.6\.4</pre></div></div></li><li><p>Quando os URLs que listam as versões disponíveis diferem dos URLs de download. Por exemplo, para limitar as verificações de versão do arquivo distfile à página de download para o port <a class=package href=https://cgit.freebsd.org/ports/tree/databases/pgtune/>databases/pgtune</a>, adicione:</p><div class="literalblock programlisting"><div class=content><pre>PORTSCOUT=	site:http://pgfoundry.org/frs/?group_id=1000416</pre></div></div></li></ul></div></div></div><div class=sect1><h2 id=makefile-depend>5.8. Dependências<a class=anchor href=#makefile-depend></a></h2><div class=sectionbody><div class=paragraph><p>Muitos ports dependem de outros ports. Esta é uma característica muito conveniente da maioria dos sistemas operacionais Unix-like, incluindo FreeBSD. Vários ports podem compartilhar uma dependência comum, ao invés de agrupar essa dependência com cada port ou pacote que precisa dela. Há sete variáveis ​​que podem ser usadas para garantir que todos os bits necessários estejam na máquina do usuário. Existem também algumas variáveis ​​de dependência pré-suportadas para casos comuns, além de algumas outras para controlar o comportamento das dependências.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Quando o software possui dependências extras que fornecem recursos extras, as dependências básicas listadas em <code>*_DEPENDS</code> devem incluir as dependências extras que beneficiariam a maioria dos usuários. As dependências básicas nunca devem ser um conjunto de dependências "mínima". O objetivo não é incluir todas as dependências possíveis. Inclua apenas aquelas que beneficiarão a maioria das pessoas.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=makefile-lib_depends>5.8.1. <code>LIB_DEPENDS</code><a class=anchor href=#makefile-lib_depends></a></h3><div class=paragraph><p>Esta variável especifica as bibliotecas compartilhadas das quais este port depende. É uma lista de tuplas <em>lib:dir</em> onde <em>lib</em> é o nome da biblioteca compartilhada, <em>dir</em> é o diretório no qual encontrá-lo, caso não esteja disponível. Por exemplo,</p></div><div class="literalblock programlisting"><div class=content><pre>LIB_DEPENDS=   libjpeg.so:graphics/jpeg</pre></div></div><div class=paragraph><p>irá verificar se há uma biblioteca jpeg compartilhada com qualquer versão no subdiretório <span class=filename>graphics/jpeg</span> da árvore de ports para compilar e instalar se não for encontrado.</p></div><div class=paragraph><p>A dependência é verificada duas vezes, uma vez dentro do target <code>build</code> e depois dentro do target <code>install</code>. Além disso, o nome da dependência é colocado no pacote para que o <code>pkg-install</code> (veja <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-install&amp;sektion=8&amp;format=html">pkg-install(8)</a>) a instale automaticamente se a mesma não estiver no sistema do usuário.</p></div></div><div class=sect2><h3 id=makefile-run_depends>5.8.2. <code>RUN_DEPENDS</code><a class=anchor href=#makefile-run_depends></a></h3><div class=paragraph><p>Esta variável especifica arquivos executáveis ou arquivos para os quais este port depende durante o tempo de execução. É uma lista de tuplas path:dir:[<code>target</code>] onde <em>path</em> é o nome do executável ou arquivo,<em>dir</em> é o diretório no qual encontrá-lo, caso não esteja disponível, e o <em>target</em> é o target para chamar nesse diretório. E se o <em>path</em> começar com uma barra (<code>/</code>), ele será tratado como um arquivo e sua existência é testada com <code>test -e</code>; caso contrário, é assumido como um executável e <code>which -s</code> é usado para determinar se o programa existe no caminho de pesquisa.</p></div><div class=paragraph><p>Por exemplo,</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS=	${LOCALBASE}/news/bin/innd:news/inn \
		xmlcatmgr:textproc/xmlcatmgr</pre></div></div><div class=paragraph><p>irá verificar se o arquivo ou diretório <span class=filename>/usr/local/news/bin/innd</span> existe, e compilar e instalá-lo a partir do subdiretório <span class=filename>news/inn</span> da árvore de ports, caso não seja encontrado. Ele também verá se um executável chamado <code>xmlcatmgr</code> está no caminho de pesquisa em <span class=filename>textproc/xmlcatmgr</span> para compilar e instalar se não for encontrado.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nesse caso, <code>innd</code> é na verdade um executável; se um executável estiver em um local que não deve estar no caminho de pesquisa, use o nome do caminho completo.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A pesquisa oficial <code>PATH</code> usado no cluster de construção de ports é</p></div><div class="literalblock programlisting"><div class=content><pre>/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin</pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>A dependência é verificada a partir do target <code>install</code>. Além disso, o nome da dependência é colocado no pacote para que o <code>pkg-install</code> (veja <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-install&amp;sektion=8&amp;format=html">pkg-install(8)</a>) a instale automaticamente se a mesma não estiver no sistema do usuário. A parte <em>target</em> pode ser omitida se for igual a <code>DEPENDS_TARGET</code>.</p></div><div class=paragraph><p>Uma situação bastante comum é quando <code>RUN_DEPENDS</code> é literalmente o mesmo que <code>BUILD_DEPENDS</code>, especialmente se o software portado é escrito em uma linguagem de script ou se requer o mesmo ambiente de compilação e tempo de execução. Neste caso, é tentador e intuitivo atribuir diretamente um ao outro:</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS=	${BUILD_DEPENDS}</pre></div></div><div class=paragraph><p>No entanto, essa atribuição pode poluir as dependências de tempo de execução com entradas não definidas no <code>BUILD_DEPENDS</code> original do port. Isso acontece por causa de uma avaliação preguiçosa de atribuição de variáveis do <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>. Considere um <span class=filename>Makefile</span> com <code>USES_*</code>, que são processados ​​por <span class=filename>ports/Mk/bsd.*.mk</span> para aumentar as dependências iniciais de compilação. Por exemplo, <code>USES=gmake</code> adiciona <a class=package href=https://cgit.freebsd.org/ports/tree/devel/gmake/>devel/gmake</a> para <code>BUILD_DEPENDS</code>. Para evitar que essas dependências adicionais poluam <code>RUN_DEPENDS</code>, crie outra variável com o conteúdo atual de <code>BUILD_DEPENDS</code> e atribua-a para ambos <code>BUILD_DEPENDS</code> e <code>RUN_DEPENDS</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>MY_DEPENDS=	some:devel/some \
		other:lang/other
BUILD_DEPENDS=	${MY_DEPENDS}
RUN_DEPENDS=	${MY_DEPENDS}</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p><em>Não</em> use <code>:=</code> para atribuir <code>BUILD_DEPENDS</code> para <code>RUN_DEPENDS</code> ou vice-versa. Todas as variáveis ​​são expandidas imediatamente, o que é exatamente a coisa errada a fazer e quase sempre um fracasso.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-build_depends>5.8.3. <code>BUILD_DEPENDS</code><a class=anchor href=#makefile-build_depends></a></h3><div class=paragraph><p>Esta variável especifica executáveis ​​ou arquivos que este port requer para ser compilado. Como <code>RUN_DEPENDS</code>, ela é uma lista de tuplas path:dir:[<code>target</code>]. Por exemplo,</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=	unzip:archivers/unzip</pre></div></div><div class=paragraph><p>irá procurar por um executável chamado <code>unzip</code>, e ir para o subdiretório <span class=filename>archivers/unzip</span> da árvore de ports para compilar e instalar se não for encontrado.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>"build" aqui significa tudo, desde a extração até a compilação. A dependência é verificada a partir do target <code>extract</code>. A parte do <em>target</em> pode ser omitida se for igual a <code>DEPENDS_TARGET</code></p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-fetch_depends>5.8.4. <code>FETCH_DEPENDS</code><a class=anchor href=#makefile-fetch_depends></a></h3><div class=paragraph><p>Esta variável especifica executáveis ​​ou arquivos que este port requer para fazer os downloads. Como os dois anteriores, é uma lista de tuplas path:dir:[<code>target</code>]. Por exemplo,</p></div><div class="literalblock programlisting"><div class=content><pre>FETCH_DEPENDS=	ncftp2:net/ncftp2</pre></div></div><div class=paragraph><p>irá procurar por um executável chamado <code>ncftp2</code> e ir para o subdiretório <span class=filename>net/ncftp2</span> da árvore de ports para compilar e instalar se não for encontrado.</p></div><div class=paragraph><p>A dependência é verificada a partir do target <code>fetch</code>. A parte <em>target</em> pode ser omitida se for igual a <code>DEPENDS_TARGET</code>.</p></div></div><div class=sect2><h3 id=makefile-extract_depends>5.8.5. <code>EXTRACT_DEPENDS</code><a class=anchor href=#makefile-extract_depends></a></h3><div class=paragraph><p>Esta variável especifica executáveis ​​ou arquivos que este port requer para extração. Como no anterior, é uma lista de tuplas path:dir:[<code>target</code>]. Por exemplo,</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_DEPENDS=	unzip:archivers/unzip</pre></div></div><div class=paragraph><p>irá procurar por um executável chamado <code>unzip</code>, e ir para o subdiretório <span class=filename>archivers/unzip</span> da árvore de ports para compilar e instalar se não for encontrado.</p></div><div class=paragraph><p>A dependência é verificada a partir do target <code>extract</code>. A parte <em>target</em> pode ser omitida se for igual a <code>DEPENDS_TARGET</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Use esta variável somente se a extração ainda não funcionar (o padrão usa <code>tar</code>) e não funciona com <code>USES=tar</code>, <code>USES=lha</code> ou <code>USES=zip</code> descrito em <a href=../uses/#uses>Usando Macros <code>USES</code></a>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-patch_depends>5.8.6. <code>PATCH_DEPENDS</code><a class=anchor href=#makefile-patch_depends></a></h3><div class=paragraph><p>Esta variável especifica executáveis ​​ou arquivos que este port requer para aplicar patches. Como no anterior, é uma lista de path:dir:[<code>target</code>]. Por exemplo,</p></div><div class="literalblock programlisting"><div class=content><pre>PATCH_DEPENDS=	${NONEXISTENT}:java/jfc:extract</pre></div></div><div class=paragraph><p>vai descer para o subdiretório <span class=filename>java/jfc</span> da árvore de ports para extraí-lo.</p></div><div class=paragraph><p>A dependência é verificada a partir do target <code>patch</code>. A parte <em>target</em> pode ser omitida se for igual a <code>DEPENDS_TARGET</code>.</p></div></div><div class=sect2><h3 id=makefile-uses>5.8.7. <code>USES</code><a class=anchor href=#makefile-uses></a></h3><div class=paragraph><p>Parâmetros podem ser adicionados para definir diferentes recursos e dependências usados ​​pelo port. Eles são especificados adicionando esta linha ao <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>USES= feature[:arguments]</pre></div></div><div class=paragraph><p>Para a lista completa de valores, por favor veja o <a href=../uses/#uses>Usando Macros <code>USES</code></a>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p><code>USES</code> não pode ser atribuído após a inclusão de <span class=filename>bsd.port.pre.mk</span>.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=makefile-use-vars>5.9. 0 <code>USE_*</code><a class=anchor href=#makefile-use-vars></a></h2><div class=sectionbody><div class=paragraph><p>Diversas variáveis ​​existem para definir dependências comuns compartilhadas por muitos ports. O uso é opcional, mas ajuda a reduzir a verbosidade dos <span class=filename>Makefile</span>s de port . Cada um deles é denominado como <code>USES_*</code>. Essas variáveis ​​podem ser usadas apenas no <span class=filename>Makefile</span> do port e <span class=filename>ports/Mk/bsd.*.mk</span>. Elas não são destinadas a opções configuráveis ​​pelo usuário - use <code>PORT_OPTIONS</code> para esse propósito.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>É <em>sempre</em> incorreto definir qualquer <code>USE_*</code> dentro de <span class=filename>/etc/make.conf</span>. Por exemplo, definindo</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GCC=X.Y</pre></div></div><div class=paragraph><p>(onde XY é o número da versão) adicionaria uma dependência do gccXY para cada port, incluindo <code>lang/gccXY</code> em si!</p></div></td></tr></tbody></table></div><table id=makefile-use-vars-table class="tableblock frame-none grid-all stretch"><caption class=title>Tabela 8. <code>USE_*</code></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variável</th><th class="tableblock halign-left valign-top">Significa</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_GCC</code></p></td><td class="tableblock halign-left valign-top"><div class=content><div class=paragraph><p>O port requer GCC (gcc ou {gcc-plus-plus}) para compilar. Alguns ports precisam de qualquer versão do GCC, algumas exigem versões modernas e recentes. Normalmente, é configurado para <code>qualquer</code> (neste caso, o GCC da base seria usado em versões do FreeBSD que ainda o possuem, ou o port <code>lang/gcc</code> seria instalado quando o compilador C/C++ padrão for o Clang); ou <code>yes</code> (significa usar sempre GCC estável e moderno do port <code>lang/gcc</code>). A versão exata também pode ser especificada, com um valor como <code>4.7</code>. A versão mínima exigida pode ser especificada como <code>4.6+</code>. O GCC do sistema base é usado quando satisfaz a versão solicitada, caso contrário, um compilador apropriado é compilado a partir do port, e <code>CC</code> e <code>CXX</code> são ajustados em conformidade.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>USE_GCC</code> irá registrar uma dependência de tempo de compilação e uma de tempo de execução.</p></div></td></tr></tbody></table></div></div></td></tr></tbody></table><div class=paragraph><p>Variáveis ​​relacionadas ao gmake e <span class=filename>configure</span> são descritos em <a href=../special/#building>Mecanismos de Compilação</a>, enquanto autoconf, automake e libtool são descritos em <a href=../special/#using-autotools>Usando o GNU Autotools</a>. Variáveis relacionadas ao Perl ​são descritas em <a href=../special/#using-perl>Usando Perl</a>. Variáveis ​​X11 são listadas em <a href=../special/#using-x11>Usando o X11</a>. <a href=../special/#using-gnome>Usando o GNOME</a> lida com o GNOME e <a href=../special/#using-kde>Usando o KDE</a> com variáveis ​​relacionadas ao KDE. <a href=../special/#using-java>Usando Java</a> documenta variáveis ​​Java, enquanto <a href=../special/#using-php>Aplicações Web</a> contém informações sobre Apache, PHP e módulos PEAR. Python é discutido em <a href=../special/#using-python>Usando Python</a>, e Ruby em <a href=../special/#using-ruby>Usando Ruby</a>. <a href=../special/#using-sdl>Usando SDL</a> fornece variáveis ​​usadas para aplicações SDL e, finalmente, <a href=../special/#using-xfce>Usando o Xfce</a> contém informações sobre o Xfce.</p></div><div class=sect2><h3 id=makefile-version-dependency>5.9.1. Versão Mínima de uma Dependência<a class=anchor href=#makefile-version-dependency></a></h3><div class=paragraph><p>Uma versão mínima de uma dependência pode ser especificada em qualquer <code>*_DEPENDS</code>, exceto <code>LIB_DEPENDS</code>, usando esta sintaxe:</p></div><div class="literalblock programlisting"><div class=content><pre>p5-Spiffy&gt;=0.26:devel/p5-Spiffy</pre></div></div><div class=paragraph><p>O primeiro campo contém um nome de pacote dependente, que deve corresponder à entrada no banco de dados de pacotes, um sinal de comparação e uma versão do pacote. A dependência é satisfeita se o p5-Spiffy-0.26 ou mais recente estiver instalado na máquina.</p></div></div><div class=sect2><h3 id=makefile-note-on-dependencies>5.9.2. Notas sobre Dependências<a class=anchor href=#makefile-note-on-dependencies></a></h3><div class=paragraph><p>Como mencionado acima, o target padrão para chamar quando uma dependência é necessária é o <code>DEPENDS_TARGET</code>. Seu padrão é o <code>install</code>. Esta é uma variável de usuário; nunca é definido em um <span class=filename>Makefile</span> de port. Se o port precisar de uma maneira especial de lidar com uma dependência, use a parte <code>:target</code> de <code>*_DEPENDS</code> em vez de redefinir <code>DEPENDS_TARGET</code>.</p></div><div class=paragraph><p>Quando rodar <code>make clean</code>, as dependências de port também são limpas automaticamente. Se isso não for desejável, defina <code>NOCLEANDEPENDS</code> no ambiente. Isto pode ser particularmente desejável se o port tiver algo que demore muito tempo para recompilar em sua lista de dependências, como o KDE, o GNOME ou o Mozilla.</p></div><div class=paragraph><p>Para depender de outro port incondicionalmente, use a variável <code>${NONEXISTENT}</code> no primeiro campo do <code>BUILD_DEPENDS</code> ou <code>RUN_DEPENDS</code>. Use isto somente quando o código fonte do outro port for necessário. Tempo de compilação pode ser economizado especificando o target também. Por exemplo</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=	${NONEXISTENT}:graphics/jpeg:extract</pre></div></div><div class=paragraph><p>sempre descerá para o port <code>jpeg</code> e extrai-lo.</p></div></div><div class=sect2><h3 id=makefile-circular-dependencies>5.9.3. Dependências Circulares são Fatais<a class=anchor href=#makefile-circular-dependencies></a></h3><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Não insira nenhuma dependência circular na árvore de ports!</p></div></td></tr></tbody></table></div><div class=paragraph><p>A tecnologia de compilação de ports não tolera dependências circulares. Se uma for inserida, alguém, em algum lugar do mundo, terá sua instalação do FreeBSD quebrada quase que imediatamente, e muitos outros rapidamente terão o mesmo problema. Estes erros podem ser realmente difíceis de serem detectados. Em caso de dúvida, antes de fazer qualquer alteração, certifique-se de executar: <code>cd /usr/ports; make index</code>. Esse processo pode ser muito lento em máquinas mais antigas, mas pode evitar dor de cabeça para um grande número de pessoas, incluindo você.</p></div></div><div class=sect2><h3 id=makefile-automatic-dependencies>5.9.4. Problemas Causados ​​por Dependências Automáticas<a class=anchor href=#makefile-automatic-dependencies></a></h3><div class=paragraph><p>Dependências devem ser declaradas explicitamente ou usando o <a href=#makefile-options>framework OPTIONS</a>. Usar outros métodos, como a detecção automática, dificulta a indexação, o que causa problemas para o gerenciamento de ports e pacotes.</p></div><div id=makefile-automatic-dependencies-bad class=exampleblock><div class=title>Exemplo 37. Declaração Errada de uma Dependência Opcional</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.include &lt;bsd.port.pre.mk&gt;

.if exists(${LOCALBASE}/bin/foo)
LIB_DEPENDS=	libbar.so:foo/bar
.endif</pre></div></div></div></div><div class=paragraph><p>O problema em tentar adicionar dependências automaticamente é que os arquivos e configurações fora de um port individual podem ser alterados a qualquer momento. Por exemplo: um índice é construído, depois um lote de ports é instalado. Mas um dos ports instala o arquivo testado. O índice então fica incorreto, porque um port instalado inesperadamente tem uma nova dependência. O índice ainda pode estar errado mesmo após a recriação, se outros ports também determinarem a necessidade de dependências com base na existência de outros arquivos.</p></div><div id=makefile-automatic-dependencies-good class=exampleblock><div class=title>Exemplo 38. Declaração Correta de uma Dependência Opcional</div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	BAR
BAR_DESC=	Calling cellphones via bar

BAR_LIB_DEPENDS=	libbar.so:foo/bar</pre></div></div></div></div><div class=paragraph><p>Testar variáveis ​​de opções é o método correto. Ele não causará inconsistências no índice de um lote de ports, desde que as opções tenham sido definidas antes da construção do índice. Scripts simples podem ser usados ​​para automatizar a compilação, instalação e atualização desses ports e seus pacotes.</p></div></div></div></div><div class=sect1><h2 id=makefile-masterdir>5.10. Ports Slaves e <code>MASTERDIR</code><a class=anchor href=#makefile-masterdir></a></h2><div class=sectionbody><div class=paragraph><p>Se o port precisar criar versões ligeiramente diferentes de pacotes fazendo com que uma variável (por exemplo, resolução ou tamanho de papel) assuma valores diferentes, crie um subdiretório por pacote para facilitar aos usuários a visualização do que fazer, mas tente compartilhar o máximo possível de arquivos entre os ports. Normalmente, usando variáveis ​​inteligentemente, apenas um <span class=filename>Makefile</span> bem curto será necessário em todos, exceto em um dos diretórios. No <span class=filename>Makefile</span> solitário, use <code>MASTERDIR</code> para especificar o diretório onde o restante dos arquivos estão. Além disso, use uma variável como parte de <a href=#porting-pkgname><code>PKGNAMESUFFIX</code></a> para que os pacotes tenham nomes diferentes.</p></div><div class=paragraph><p>Isso será melhor demonstrado por um exemplo. Isso é parte de <span class=filename>print/pkfonts300/Makefile</span>;</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	pkfonts${RESOLUTION}
PORTVERSION=	1.0
DISTFILES=	pk${RESOLUTION}.tar.gz

PLIST=		${PKGDIR}/pkg-plist.${RESOLUTION}

.if !defined(RESOLUTION)
RESOLUTION=	300
.else
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
	${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 360 &amp;&amp; \
	${RESOLUTION} != 400 &amp;&amp; ${RESOLUTION} != 600
.BEGIN:
	@${ECHO_MSG} &#34;Error: invalid value for RESOLUTION: \&#34;${RESOLUTION}\&#34;&#34;
	@${ECHO_MSG} &#34;Possible values are: 118, 240, 300, 360, 400 and 600.&#34;
	@${FALSE}
.endif
.endif</pre></div></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/print/pkfonts300/>print/pkfonts300</a> também tem todos os patches, arquivos de pacotes, etc. Rodando <code>make</code> nele, será assumido o valor padrão para a resolução (300) e o port será compilado normalmente.</p></div><div class=paragraph><p>Quanto às outras resoluções, este é o <span class=filename>print/pkfonts360/Makefile</span><em>completo</em>:</p></div><div class="literalblock programlisting"><div class=content><pre>RESOLUTION=	360
MASTERDIR=	${.CURDIR}/../pkfonts300

.include	&#34;${MASTERDIR}/Makefile&#34;</pre></div></div><div class=paragraph><p>(<span class=filename>print/pkfonts118/Makefile</span>, <span class=filename>print/pkfonts600/Makefile</span>, e todos os outros são semelhantes). A definição de <code>MASTERDIR</code> diz ao <span class=filename>bsd.port.mk</span> que o conjunto regular de subdiretórios como <code>FILESDIR</code> e <code>SCRIPTDIR</code> podem ser encontrados em <span class=filename>pkfonts300</span>. A linha <code>RESOLUTION=360</code> irá substituir a linha <code>RESOLUTION=300</code> em <span class=filename>pkfonts300/Makefile</span> e o port será compilado com a resolução definida para 360.</p></div></div></div><div class=sect1><h2 id=makefile-manpages>5.11. Páginas de Manual<a class=anchor href=#makefile-manpages></a></h2><div class=sectionbody><div class=paragraph><p>Se o port instala a sua árvore de manuais em outro lugar diferente de <code>PREFIX</code>, use <code>MANDIRS</code> para especificar esses diretórios. Note que os arquivos correspondentes às páginas de manual devem ser colocados no <span class=filename>pkg-plist</span> junto com o resto dos arquivos. O propósito do <code>MANDIRS</code> é ativar a compactação automática de páginas de manual, portanto, os nomes dos arquivos são sufixados com <span class=filename>.gz</span>.</p></div></div></div><div class=sect1><h2 id=makefile-info>5.12. Arquivos de Informação<a class=anchor href=#makefile-info></a></h2><div class=sectionbody><div class=paragraph><p>Se o pacote precisar instalar arquivos de informações GNU, liste-os na variável <code>INFO</code> (sem o sufixo <code>.info</code>), uma entrada por documento. Presume-se que esses arquivos estejam instalados em <span class=filename>PREFIX/INFO_PATH</span>. Mude <code>INFO_PATH</code> se o pacote usa um local diferente. Contudo, isto não é recomendado. Essas entradas contêm apenas o caminho relativo para <span class=filename>PREFIX/INFO_PATH</span>. Por exemplo, <a class=package href=https://cgit.freebsd.org/ports/tree/lang/gcc34/>lang/gcc34</a> instala arquivos de informações em <span class=filename>PREFIX/INFO_PATH/gcc34</span> e <code>INFO</code> será algo assim:</p></div><div class="literalblock programlisting"><div class=content><pre>INFO=	gcc34/cpp gcc34/cppinternals gcc34/g77 ...</pre></div></div><div class=paragraph><p>O código apropriado de instalação/desinstalação será automaticamente adicionado ao arquivo <span class=filename>pkg-plist</span> temporário antes do registro do pacote.</p></div></div></div><div class=sect1><h2 id=makefile-options>5.13. Opções do Makefile<a class=anchor href=#makefile-options></a></h2><div class=sectionbody><div class=paragraph><p>Muitas aplicações podem ser compiladas com configurações opcionais ou diferentes. Exemplos podem ser a escolha de linguagem natural (humana), GUI versus linha de comando ou qual tipo de banco de dados será suportado. Os usuários podem precisar de uma configuração diferente do padrão, portanto o sistema de ports fornece ganchos em que o autor do port pode usar para controlar qual variante será compilada. Suportar essas opções corretamente fará com que os usuários fiquem felizes, e efetivamente forneça dois ou mais ports pelo preço de um.</p></div><div class=sect2><h3 id=makefile-options-options>5.13.1. <code>OPTIONS</code><a class=anchor href=#makefile-options-options></a></h3><div class=sect3><h4 id=makefile-options-background>5.13.1.1. Background<a class=anchor href=#makefile-options-background></a></h4><div class=paragraph><p><code>OPTIONS_*</code> fornece ao usuário que está instalando o port uma caixa de diálogo mostrando as opções disponíveis e, em seguida, salva essas opções em <span class=filename>${PORT_DBDIR}/${OPTIONS_NAME}/options</span>. Na próxima vez que o port for compilado, as opções serão reutilizadas. O padrão de <code>PORT_DBDIR</code> é <span class=filename>/var/db/ports</span>. <code>OPTIONS_NAME</code> é a origem do port com um underline como o separador de espaço, por exemplo, <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a> será <code>dns_bind99</code>.</p></div><div class=paragraph><p>Quando o usuário executa <code>make config</code> (ou executa <code>make build</code> pela primeira vez), o framework verifica <span class=filename>${PORT_DBDIR}/${OPTIONS_NAME}/options</span>. Se esse arquivo não existir, os valores de <code>OPTIONS_*</code> são usados ​​e uma caixa de diálogo é exibida onde as opções podem ser ativadas ou desativadas. Então as <span class=filename>options</span> são salvas e as variáveis ​​configuradas são utilizadas ao compilar o port.</p></div><div class=paragraph><p>Se uma nova versão do port adicionar novas <code>OPTIONS</code>, a caixa de diálogo será apresentada ao usuário, já preenchido com os valores salvos das antigas <code>OPTIONS</code>.</p></div><div class=paragraph><p><code>make showconfig</code> mostra a configuração salva. Use <code>make rmconfig</code> para remover a configuração salva.</p></div></div><div class=sect3><h4 id=makefile-options-syntax>5.13.1.2. Sintaxe<a class=anchor href=#makefile-options-syntax></a></h4><div class=paragraph><p><code>OPTIONS_DEFINE</code> contém uma lista de <code>OPTIONS</code> para serem utilizadas. Elas são independentes umas das outras e não são agrupadas:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2</pre></div></div><div class=paragraph><p>Uma vez definido, as <code>OPTIONS</code> são descritas (opcionalmente, mas fortemente recomendado):</p></div><div class="literalblock programlisting"><div class=content><pre>OPT1_DESC=	Describe OPT1
OPT2_DESC=	Describe OPT2
OPT3_DESC=	Describe OPT3
OPT4_DESC=	Describe OPT4
OPT5_DESC=	Describe OPT5
OPT6_DESC=	Describe OPT6</pre></div></div><div class=paragraph><p><span class=filename>ports/Mk/bsd.options.desc.mk</span> possui descrições para muitas <code>OPTIONS</code> comuns. Geralmente são úteis, mas podem ser substituas se a descrição for insuficiente para o port.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Ao descrever as opções, visualize-as da perspectiva do usuário: "Qual funcionalidade ela muda?" e "Por que eu iria querer habilitar ela?" Não repita apenas o nome. Por exemplo, descrever a opção <code>NLS</code> como "incluir suporte NLS" não ajuda o usuário, que já pode ver o nome da opção, mas pode não saber o que isso significa. Descrevendo-a como "Suporte a idiomas nativos por meio de utilitários gettext" é muito mais útil.</p></div></td></tr></tbody></table></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Os nomes das opções são sempre em letras maiúsculas. Não podem estar misturadas ou apenas em minúsculo.</p></div></td></tr></tbody></table></div><div class=paragraph><p><code>OPTIONS</code> podem ser agrupadas como opções radio, onde apenas uma escolha de cada grupo é permitida:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_SINGLE=		SG1
OPTIONS_SINGLE_SG1=	OPT3 OPT4</pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p><em>Deve</em> estar sempre selecionada uma de cada <code>OPTIONS_SINGLE</code> para as opções serem válidas. Uma opção de cada grupo <em>deve</em> ser adicionada a <code>OPTIONS_DEFAULT</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p><code>OPTIONS</code> podem ser agrupadas como opções radio, onde nenhuma ou apenas uma escolha de cada grupo é permitida:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_RADIO=		RG1
OPTIONS_RADIO_RG1=	OPT7 OPT8</pre></div></div><div class=paragraph><p><code>OPTIONS</code> também pode ser agrupadas como listas de "múltipla-escolha", onde <em>pelo menos uma</em> opção deve estar habilitada:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_MULTI=		MG1
OPTIONS_MULTI_MG1=	OPT5 OPT6</pre></div></div><div class=paragraph><p><code>OPTIONS</code> também pode ser agrupadas como listas de "múltipla-escolha", onde nenhuma ou qualquer opção pode ser ativada:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_GROUP=		GG1
OPTIONS_GROUP_GG1=	OPT9 OPT10</pre></div></div><div class=paragraph><p><code>OPTIONS</code> são desativadas por padrão, a menos que estejam listadas em <code>OPTIONS_DEFAULT</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFAULT=	OPT1 OPT3 OPT6</pre></div></div><div class=paragraph><p>Definições de <code>OPTIONS</code> devem aparecer antes da inclusão de <span class=filename>bsd.port.options.mk</span>. Valores de <code>PORT_OPTIONS</code> só podem ser testados após a inclusão de <span class=filename>bsd.port.options.mk</span>. Inclusão de <span class=filename>bsd.port.pre.mk</span> pode ser usado também, e ainda é amplamente usado em ports escritos antes da introdução de <span class=filename>bsd.port.options.mk</span>. Mas esteja ciente de que algumas variáveis não funcionarão como esperado após a inclusão de <span class=filename>bsd.port.pre.mk</span>, tipicamente algumas flags <code>USE_*</code>.</p></div><div id=ports-options-simple-use class=exampleblock><div class=title>Exemplo 39. Uso Simples de <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	FOO BAR
OPTIONS_DEFAULT=FOO

FOO_DESC=	Option foo support
BAR_DESC=	Feature bar support

# Will add --with-foo / --without-foo
FOO_CONFIGURE_WITH=	foo
BAR_RUN_DEPENDS=	bar:bar/bar

.include &lt;bsd.port.mk&gt;</pre></div></div></div></div><div id=ports-options-check-unset class=exampleblock><div class=title>Exemplo 40. Verificar <code>OPTIONS</code> Desmacadas</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if ! ${PORT_OPTIONS:MEXAMPLES}
CONFIGURE_ARGS+=--without-examples
.endif</pre></div></div><div class=paragraph><p>O formato acima não é recomendado. O método preferido é usar um configure knob para realmente ativar e desativar o recurso coincidindo com a opção:</p></div><div class="literalblock programlisting"><div class=content><pre># Will add --with-examples / --without-examples
EXAMPLES_CONFIGURE_WITH=	examples</pre></div></div></div></div><div id=ports-options-practical-use class=exampleblock><div class=title>Exemplo 41. Uso Prático de <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=		EXAMPLES
OPTIONS_DEFAULT=	PGSQL LDAP SSL

OPTIONS_SINGLE=		BACKEND
OPTIONS_SINGLE_BACKEND=	MYSQL PGSQL BDB

OPTIONS_MULTI=		AUTH
OPTIONS_MULTI_AUTH=	LDAP PAM SSL

EXAMPLES_DESC=		Install extra examples
MYSQL_DESC=		Use MySQL as backend
PGSQL_DESC=		Use PostgreSQL as backend
BDB_DESC=		Use Berkeley DB as backend
LDAP_DESC=		Build with LDAP authentication support
PAM_DESC=		Build with PAM support
SSL_DESC=		Build with OpenSSL support

# Will add USE_PGSQL=yes
PGSQL_USE=	pgsql=yes
# Will add --enable-postgres / --disable-postgres
PGSQL_CONFIGURE_ENABLE=	postgres

ICU_LIB_DEPENDS=	libicuuc.so:devel/icu

# Will add --with-examples / --without-examples
EXAMPLES_CONFIGURE_WITH=	examples

# Check other OPTIONS

.include &lt;bsd.port.mk&gt;</pre></div></div></div></div></div><div class=sect3><h4 id=makefile-options-default>5.13.1.3. Opções Padrão<a class=anchor href=#makefile-options-default></a></h4><div class=paragraph><p>Essas opções estão sempre ativadas por padrão.</p></div><div class=ulist><ul><li><p><code>DOCS</code> — build and install documentation.</p></li><li><p><code>NLS</code> — Native Language Support.</p></li><li><p><code>EXAMPLES</code> — build and install examples.</p></li><li><p><code>IPV6</code> — IPv6 protocol support.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Não há necessidade de adicioná-las em <code>OPTIONS_DEFAULT</code>. Para ativá-las e mostra-las na caixa de diálogo de seleção de opções, elas devem ser adicionadas em <code>OPTIONS_DEFINE</code>.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=makefile-options-auto-activation>5.13.2. Feature de Ativação Automática<a class=anchor href=#makefile-options-auto-activation></a></h3><div class=paragraph><p>Ao usar um script configure GNU, fique de olho em quais recursos opcionais são ativados por detecção automática. Desative explicitamente os recursos opcionais que não são necessários, adicionando <code>--without-xxx</code> ou <code>--disable-xxx</code> em <code>CONFIGURE_ARGS</code>.</p></div><div id=makefile-options-auto-activation-bad class=exampleblock><div class=title>Exemplo 42. Manipulação Incorreta de uma Opção</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if ${PORT_OPTIONS:MFOO}
LIB_DEPENDS+=		libfoo.so:devel/foo
CONFIGURE_ARGS+=	--enable-foo
.endif</pre></div></div></div></div><div class=paragraph><p>No exemplo acima, imagine que uma biblioteca libfoo está instalada no sistema. O usuário não quer que este aplicativo use libfoo, então ele desabilitou a opção na caixa de diálogo do <code>make config</code>. Mas o script configure do aplicativo detecta a biblioteca presente no sistema e inclui seu suporte no executável resultante. Agora, quando o usuário decide remover libfoo do sistema, o sistema de ports não protesta (nenhuma dependência de libfoo foi registrada), e então o aplicativo quebra.</p></div><div id=makefile-options-auto-activation-good class=exampleblock><div class=title>Exemplo 43. Manuseio Correto de uma Opção</div><div class=content><div class="literalblock programlisting"><div class=content><pre>FOO_LIB_DEPENDS=		libfoo.so:devel/foo
# Will add --enable-foo / --disable-foo
FOO_CONFIGURE_ENABLE=	foo</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sob algumas circunstâncias, a sintaxe condicional abreviada pode causar problemas com construções complexas. Os erros são geralmente <code>Malformed conditional</code>, e uma sintaxe alternativa pode ser usada.</p></div><div class="literalblock programlisting"><div class=content><pre>.if !empty(VARIABLE:MVALUE)</pre></div></div><div class=paragraph><p>como uma alternativa para</p></div><div class="literalblock programlisting"><div class=content><pre>.if ${VARIABLE:MVALUE}</pre></div></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=options-helpers>5.13.3. Assistentes de Opções<a class=anchor href=#options-helpers></a></h3><div class=paragraph><p>Existem algumas macros para ajudar a simplificar valores condicionais que diferem com base nas opções definidas. Para facilitar o acesso, é fornecida uma lista abrangente:</p></div><div class=dlist><dl><dt class=hdlist1><code>PLIST_SUB</code>, <code>SUB_LIST</code></dt><dd><p>Para geração automática de <code>%%<em>OPT</em>%%</code> e <code>%%NO_OPT%%</code>, veja <a href=#options_sub><code>OPTIONS_SUB</code></a>.</p><div class=paragraph><p>Para uso mais complexo, veja <a href=#options-variables>Substituição de Variáveis ​​Genéricas, <code>OPT_VARIABLE_</code> e <code>OPT_VARIABLE_OFF</code></a>.</p></div></dd><dt class=hdlist1><code>CONFIGURE_ARGS</code></dt><dd><p>Para <code>--enable-<em>x</em></code> e <code>--disable-<em>x</em></code>, veja <a href=#options-configure_enable><code>OPT_CONFIGURE_ENABLE</code></a>.</p><div class=paragraph><p>Para <code>--with-<em>x</em></code> e <code>--without-<em>x</em></code>, veja <a href=#options-configure_with><code>OPT_CONFIGURE_WITH</code></a>.</p></div><div class=paragraph><p>Para todos os outros casos, veja <a href=#options-configure_on><code>OPT_CONFIGURE_ON</code> e <code>OPT_CONFIGURE_OFF</code></a>.</p></div></dd><dt class=hdlist1><code>CMAKE_ARGS</code></dt><dd><p>Para argumentos que são booleanos (<code>on</code>, <code>off</code>, <code>true</code>, <code>false</code>, <code>0</code>, <code>1</code>) veja <a href=#options-cmake_bool><code>OPT_CMAKE_BOOL</code> e <code>OPT_CMAKE_BOOL_OFF</code></a>.</p><div class=paragraph><p>Para todos os outros casos, veja <a href=#options-cmake_on><code>OPT_CMAKE_ON</code> e <code>OPT_CMAKE_OFF</code></a>.</p></div></dd><dt class=hdlist1><code>MESON_ARGS</code></dt><dd><p>Para argumentos que precisam de <code>true</code> ou <code>false</code>, veja <a href=#options-meson_true><code>OPT_MESON_TRUE</code> e <code>OPT_MESON_FALSE</code></a>.</p><div class=paragraph><p>Para argumentos que precisam de <code>yes</code> ou <code>no</code>, use <a href=#options-meson_yes><code>OPT_MESON_YES</code> e <code>OPT_MESON_NO</code></a>.</p></div><div class=paragraph><p>Para argumentos que precisam de <code>true</code> ou <code>false</code>, veja <a href=#options-meson_enabled><code>OPT_MESON_ENABLED</code> e <code>OPT_MESON_DISABLED</code></a>.</p></div><div class=paragraph><p>Para todos os outros casos, use <a href=#options-meson_on><code>OPT_MESON_ON</code> e <code>OPT_MESON_OFF</code></a>.</p></div></dd><dt class=hdlist1><code>QMAKE_ARGS</code></dt><dd><p>Veja <a href=#options-qmake_on><code>OPT_QMAKE_ON</code> e <code>OPT_QMAKE_OFF</code></a>.</p></dd><dt class=hdlist1><code>USE_*</code></dt><dd><p>Veja <a href=#options-use><code>OPT_USE</code> e <code>OPT_USE_OFF</code></a>.</p></dd><dt class=hdlist1><code>*_DEPENDS</code></dt><dd><p>Veja <a href=#options-dependencies>Dependências, <code>OPT_DEPTYPE_</code> e <code>OPT_DEPTYPE_OFF</code></a>.</p></dd><dt class=hdlist1><em>*</em> (Qualquer variável)</dt><dd><p>As variáveis ​​mais usadas possuem assistentes diretos, veja <a href=#options-variables>Substituição de Variáveis ​​Genéricas, <code>OPT_VARIABLE_</code> e <code>OPT_VARIABLE_OFF</code></a>.</p><div class=paragraph><p>Para qualquer variável sem um assistente específico, veja <a href=#options-vars><code>OPT_VARS</code> e <code>OPT_VARS_OFF</code></a>.</p></div></dd><dt class=hdlist1>Dependências de opções</dt><dd><p>Quando uma opção precisa de outra opção para funcionar, veja <a href=#options-implies><code>OPT_IMPLIES</code></a>.</p></dd><dt class=hdlist1>Conflitos de opções</dt><dd><p>Quando uma opção não funciona se outra também estiver ativada, consulte <a href=#options-prevents><code>OPT_PREVENTS</code> e <code>OPT_PREVENTS_MSG</code></a>.</p></dd><dt class=hdlist1>Targets para Build</dt><dd><p>Quando uma opção precisa de algum processamento extra, veja <a href=#options-targets>Targets Adicionais de Compilação, <code><em>target</em>-<em>OPT</em>-on</code> e <code><em>target</em>-<em>OPT</em>-off</code></a>.</p></dd></dl></div><div class=sect3><h4 id=options_sub>5.13.3.1. <code>OPTIONS_SUB</code><a class=anchor href=#options_sub></a></h4><div class=paragraph><p>Se <code>OPTIONS_SUB</code> está definido com <code>yes</code> então cada uma das opções adicionadas a <code>OPTIONS_DEFINE</code> será adicionada em <code>PLIST_SUB</code> e <code>SUB_LIST</code>, por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPTIONS_SUB=	yes</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
PLIST_SUB+=	OPT1=&#34;&#34; NO_OPT1=&#34;@comment &#34;
SUB_LIST+=	OPT1=&#34;&#34; NO_OPT1=&#34;@comment &#34;
.else
PLIST_SUB+=	OPT1=&#34;@comment &#34; NO_OPT1=&#34;&#34;
SUB_LIST+=	OPT1=&#34;@comment &#34; NO_OPT1=&#34;&#34;
.endif</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O valor de <code>OPTIONS_SUB</code> é ignorado. Definindo-o com qualquer valor irá adicionar entradas <code>PLIST_SUB</code> e <code>SUB_LIST</code> para <em>todas</em> as opções.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=options-use>5.13.3.2. <code>OPT_USE</code> e <code>OPT_USE_OFF</code><a class=anchor href=#options-use></a></h4><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, para cada par <code><em>key=value</em></code> em <code>OPT_USE</code>, <em>value</em> é anexado ao <code>USE_KEY</code> correspondente. E se <em>value</em> tiver espaços, substitua-os por vírgulas e eles serão alterados de volta para espaços durante o processamento. <code>OPT_USE_OFF</code> funciona da mesma maneira, quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_USES=	xorg
OPT1_USE=	mysql=yes xorg=x11,xextproto,xext,xrandr
OPT1_USE_OFF=	openssl=yes</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
USE_MYSQL=	yes
USES+=		xorg
USE_XORG=	x11 xextproto xext xrandr
.else
USE_OPENSSL=	yes
.endif</pre></div></div></div><div class=sect3><h4 id=options-configure-helpers>5.13.3.3. Assistentes <code>CONFIGURE_ARGS</code><a class=anchor href=#options-configure-helpers></a></h4><div class=sect4><h5 id=options-configure_enable>5.13.3.3.1. <code>OPT_CONFIGURE_ENABLE</code><a class=anchor href=#options-configure_enable></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, para cada <em>valor</em> em <code>OPT_CONFIGURE_ENABLE</code>, <code>--enable-<em>valor</em></code> será anexado a <code>CONFIGURE_ARGS</code>. Quando a opção OPT <em>não for</em> selecionada, <code>--disable-<em>valor</em></code> será anexado a <code>CONFIGURE_ARGS</code>. Um argumento opcional pode ser especificado com um símbolo <code>=</code>. Este argumento é apenas anexado na entrada de opção do script configure <code>--enable-<em>valor</em></code>. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_CONFIGURE_ENABLE=	test1 test2
OPT2_CONFIGURE_ENABLE=	test2=exhaustive</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--enable-test1 --enable-test2
.else
CONFIGURE_ARGS+=	--disable-test1 --disable-test2
.endif

.if ${PORT_OPTIONS:MOPT2}
CONFIGURE_ARGS+=	--enable-test2=exhaustive
.else
CONFIGURE_ARGS+=	--disable-test2
.endif</pre></div></div></div><div class=sect4><h5 id=options-configure_with>5.13.3.3.2. <code>OPT_CONFIGURE_WITH</code><a class=anchor href=#options-configure_with></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, para cada <em>valor</em> em <code>OPT_CONFIGURE_WITH</code>, <code>--with-<em>valor</em></code> será anexado a <code>CONFIGURE_ARGS</code>. Quando a opção OPT_não for_ selecionada, <code>--without-<em>valor</em></code> será anexado a <code>CONFIGURE_ARGS</code>. Um argumento opcional pode ser especificado com um símbolo <code>=</code>. Este argumento é apenas anexado na entrada de opção do script configure <code>--with-<em>valor</em></code>. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_CONFIGURE_WITH=	test1
OPT2_CONFIGURE_WITH=	test2=exhaustive</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--with-test1
.else
CONFIGURE_ARGS+=	--without-test1
.endif

.if ${PORT_OPTIONS:MOPT2}
CONFIGURE_ARGS+=	--with-test2=exhaustive
.else
CONFIGURE_ARGS+=	--without-test2
.endif</pre></div></div></div><div class=sect4><h5 id=options-configure_on>5.13.3.3.3. <code>OPT_CONFIGURE_ON</code> e <code>OPT_CONFIGURE_OFF</code><a class=anchor href=#options-configure_on></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, o valor de <code>OPT_CONFIGURE_ON</code>, se definido, é anexado a <code>CONFIGURE_ARGS</code>. <code>OPT_CONFIGURE_OFF</code> funciona da mesma maneira, quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_CONFIGURE_ON=	--add-test
OPT1_CONFIGURE_OFF=	--no-test</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--add-test
.else
CONFIGURE_ARGS+=	--no-test
.endif</pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Na maioria das vezes, os assistentes em <a href=#options-configure_enable><code>OPT_CONFIGURE_ENABLE</code></a> e <a href=#options-configure_with><code>OPT_CONFIGURE_WITH</code></a> fornecem uma funcionalidade mais curta e abrangente.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=options-cmake-helpers>5.13.3.4. Assistentes <code>CMAKE_ARGS</code><a class=anchor href=#options-cmake-helpers></a></h4><div class=sect4><h5 id=options-cmake_on>5.13.3.4.1. <code>OPT_CMAKE_ON</code> e <code>OPT_CMAKE_OFF</code><a class=anchor href=#options-cmake_on></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, o valor de <code>OPT_CMAKE_ON</code>, se definido, é anexado a <code>CMAKE_ARGS</code>. <code>OPT_CMAKE_OFF</code> funciona da mesma maneira, mas quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_CMAKE_ON=	-DTEST:BOOL=true -DDEBUG:BOOL=true
OPT1_CMAKE_OFF=	-DOPTIMIZE:BOOL=true</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CMAKE_ARGS+=	-DTEST:BOOL=true -DDEBUG:BOOL=true
.else
CMAKE_ARGS+=	-DOPTIMIZE:BOOL=true
.endif</pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Veja <a href=#options-cmake_bool><code>OPT_CMAKE_BOOL</code> e <code>OPT_CMAKE_BOOL_OFF</code></a> para um assistente mais curto quando o valor for booleano.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=options-cmake_bool>5.13.3.4.2. <code>OPT_CMAKE_BOOL</code> e <code>OPT_CMAKE_BOOL_OFF</code><a class=anchor href=#options-cmake_bool></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, para cada <em>valor</em> em <code>OPT_CMAKE_BOOL</code>, <code>-Dvalor:BOOL=true</code> será anexado a <code>CMAKE_ARGS</code>. Quando a opção OPT_não for_ selecionada, <code>-Dvalor:BOOL=false</code> será anexado a <code>CONFIGURE_ARGS</code>. O <code>OPT_CMAKE_BOOL_OFF</code> é o oposto, <code>-Dvalor:BOOL=false</code> será anexado a <code>CMAKE_ARGS</code> quando a opção é selecionada, e a entrada <code>-Dvalor:BOOL=true</code> quando a opção <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_CMAKE_BOOL=	TEST DEBUG
OPT1_CMAKE_BOOL_OFF=	OPTIMIZE</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CMAKE_ARGS+=	-DTEST:BOOL=true -DDEBUG:BOOL=true \
		-DOPTIMIZE:BOOL=false
.else
CMAKE_ARGS+=	-DTEST:BOOL=false -DDEBUG:BOOL=false \
		-DOPTIMIZE:BOOL=true
.endif</pre></div></div></div></div><div class=sect3><h4 id=options-meson-helpers>5.13.3.5. Assistentes <code>MESON_ARGS</code><a class=anchor href=#options-meson-helpers></a></h4><div class=sect4><h5 id=options-meson_on>5.13.3.5.1. <code>OPT_MESON_ON</code> e <code>OPT_MESON_OFF</code><a class=anchor href=#options-meson_on></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, o valor de <code>OPT_MESON_ON</code>, se definido, é anexado a <code>MESON_ARGS</code>. <code>OPT_MESON_OFF</code> funciona da mesma maneira, quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_ON=	-Dopt=1
OPT1_MESON_OFF=	-Dopt=2</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dopt=1
.else
MESON_ARGS+=	-Dopt=2
.endif</pre></div></div></div><div class=sect4><h5 id=options-meson_true>5.13.3.5.2. <code>OPT_MESON_TRUE</code> e <code>OPT_MESON_FALSE</code><a class=anchor href=#options-meson_true></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, para cada <em>valor</em> em <code>OPT_MESON_TRUE</code>, <code>-Dvalor=true</code> será anexado a <code>MESON_ARGS</code>. Quando a opção OPT_não for_ selecionada, <code>-Dvalor=false</code> será anexado a <code>MESON_ARGS</code>. O <code>OPT_MESON_FALSE</code> é o oposto, a entrada <code>-Dvalor=false</code> será anexado a <code>MESON_ARGS</code> quando a opção for selecionada e a entrada <code>-Dvalor=true</code> quando a opção <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_TRUE=	test debug
OPT1_MESON_FALSE=	optimize</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dtest=true -Ddebug=true \
		-Doptimize=false
.else
MESON_ARGS+=	-Dtest=false -Ddebug=false \
		-Doptimize=true
.endif</pre></div></div></div><div class=sect4><h5 id=options-meson_yes>5.13.3.5.3. <code>OPT_MESON_YES</code> e <code>OPT_MESON_NO</code><a class=anchor href=#options-meson_yes></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, para cada <em>entrada</em> dentro da variável <code>OPT_MESON_YES</code> a entrada <code>-D__=yes</code> é anexada a variável <code>MESON_ARGS</code>. Quando a opção OPT <em>não é</em> selecionada, então a entrada <code>-D=no</code> é anexada a variável <code>MESON_ARGS</code>. O <code>OPT_MESON_NO</code> é o oposto, a entrada <code>-D=no</code> é anexada a variável <code>MESON_ARGS</code> quando a opção é selecionada e a entrada <code>-D=yes</code> quando a opção <em>não é</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_YES=	test debug
OPT1_MESON_NO=	optimize</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dtest=yes -Ddebug=yes \
		-Doptimize=no
.else
MESON_ARGS+=	-Dtest=no -Ddebug=no \
		-Doptimize=yes
.endif</pre></div></div></div><div class=sect4><h5 id=options-meson_enabled>5.13.3.5.4. <code>OPT_MESON_ENABLED</code> e <code>OPT_MESON_DISABLED</code><a class=anchor href=#options-meson_enabled></a></h5><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, para cada <em>valor</em> em <code>OPT_MESON_ENABLED</code>, <code>-Dvalor=enabled</code> será anexado a <code>MESON_ARGS</code>. Quando a opção OPT_não for_ selecionada, <code>-Dvalor=disabled</code> será anexado a <code>MESON_ARGS</code>. O <code>OPT_MESON_DISABLED</code> é o oposto, a entrada <code>-Dvalor=disabled</code> será anexado a <code>MESON_ARGS</code> quando a opção for selecionada e a entrada <code>-Dvalor=enabled</code> quando a opção <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_ENABLED=	test
OPT1_MESON_DISABLED=	debug</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dtest=enabled -Ddebug=disabled
.else
MESON_ARGS+=	-Dtest=disabled -Ddebug=enabled
.endif</pre></div></div></div></div><div class=sect3><h4 id=options-qmake_on>5.13.3.6. <code>OPT_QMAKE_ON</code> e <code>OPT_QMAKE_OFF</code><a class=anchor href=#options-qmake_on></a></h4><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, o valor de <code>OPT_QMAKE_ON</code>, se definido, é anexado a <code>QMAKE_ARGS</code>. <code>OPT_QMAKE_OFF</code> funciona da mesma maneira, quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_QMAKE_ON=	-DTEST:BOOL=true
OPT1_QMAKE_OFF=	-DPRODUCTION:BOOL=true</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
QMAKE_ARGS+=	-DTEST:BOOL=true
.else
QMAKE_ARGS+=	-DPRODUCTION:BOOL=true
.endif</pre></div></div></div><div class=sect3><h4 id=options-implies>5.13.3.7. <code>OPT_IMPLIES</code><a class=anchor href=#options-implies></a></h4><div class=paragraph><p>Fornece uma maneira de adicionar dependências entre as opções.</p></div><div class=paragraph><p>Quando <em>OPT</em> for selecionada, todas as opções listadas nesta variável também serão selecionadas. Usando o <a href=#options-configure_enable><code>OPT_CONFIGURE_ENABLE</code></a> descrito anteriormente para demonstrar:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_IMPLIES=	OPT2

OPT1_CONFIGURE_ENABLE=	opt1
OPT2_CONFIGURE_ENABLE=	opt2</pre></div></div><div class=paragraph><p>É equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--enable-opt1
.else
CONFIGURE_ARGS+=	--disable-opt1
.endif

.if ${PORT_OPTIONS:MOPT2} || ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--enable-opt2
.else
CONFIGURE_ARGS+=	--disable-opt2
.endif</pre></div></div><div id=options-implies-ex1 class=exampleblock><div class=title>Exemplo 44. Uso Simples de <code>OPT_IMPLIES</code></div><div class=content><div class=paragraph><p>Este port tem uma opção <code>X11</code> e uma opção <code>GNOME</code> que precisa da opção <code>X11</code> selecionada para poder compilar.</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	X11 GNOME
OPTIONS_DEFAULT=	X11

X11_USES=	xorg
X11_USE=	xorg=xi,xextproto
GNOME_USE=	gnome=gtk30
GNOME_IMPLIES=	X11</pre></div></div></div></div></div><div class=sect3><h4 id=options-prevents>5.13.3.8. <code>OPT_PREVENTS</code> e <code>OPT_PREVENTS_MSG</code><a class=anchor href=#options-prevents></a></h4><div class=paragraph><p>Fornece uma maneira de adicionar conflitos entre as opções.</p></div><div class=paragraph><p>Quando <em>OPT</em> for selecionada, todas as opções listadas em <code>OPT_PREVENTS</code> devem estar desmarcadas. Se <code>OPT_PREVENTS_MSG</code> estiver definido e um conflito for acionado, seu conteúdo será exibido explicando o por que do conflito. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_PREVENTS=	OPT2
OPT1_PREVENTS_MSG=	OPT1 and OPT2 enable conflicting options</pre></div></div><div class=paragraph><p>É aproximadamente equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT2} &amp;&amp; ${PORT_OPTIONS:MOPT1}
BROKEN=	Option OPT1 conflicts with OPT2 (select only one)
.endif</pre></div></div><div class=paragraph><p>A única diferença é que o primeiro irá apresentar um erro depois de executar <code>make config</code>, sugerindo alterar as opções selecionadas.</p></div><div id=options-prevents-ex1 class=exampleblock><div class=title>Exemplo 45. Uso Simples de <code>OPT_PREVENTS</code></div><div class=content><div class=paragraph><p>Este port tem as opções <code>X509</code> e <code>SCTP</code>. Ambas as opções adicionam patches, mas os patches entram em conflito uns com os outros, então eles não podem ser selecionados ao mesmo tempo.</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	X509 SCTP

SCTP_PATCHFILES=	${PORTNAME}-6.8p1-sctp-2573.patch.gz:-p1
SCTP_CONFIGURE_WITH=	sctp

X509_PATCH_SITES=	http://www.roumenpetrov.info/openssh/x509/:x509
X509_PATCHFILES=	${PORTNAME}-7.0p1+x509-8.5.diff.gz:-p1:x509
X509_PREVENTS=		SCTP
X509_PREVENTS_MSG=	X509 and SCTP patches conflict</pre></div></div></div></div></div><div class=sect3><h4 id=options-vars>5.13.3.9. <code>OPT_VARS</code> e <code>OPT_VARS_OFF</code><a class=anchor href=#options-vars></a></h4><div class=paragraph><p>Fornece uma maneira genérica de definir e acrescentar valores em variáveis.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Antes de usar <code>OPT_VARS</code> e <code>OPT_VARS_OFF</code>, veja se já não existe um assistente mais específico disponível em <a href=#options-variables>Substituição de Variáveis ​​Genéricas, <code>OPT_VARIABLE_</code> e <code>OPT_VARIABLE_OFF</code></a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Quando a opção <em>OPT</em> está selecionada e <code>OPT_VARS</code> definido, os pares <code><em>chave</em>=<em>valor</em></code> e <code><em>chave</em>+=<em>valor</em></code> são avaliados a partir da variável <code>OPT_VARS</code>. Um <code>=</code> sobrescreve o valor existente da <code>CHAVE</code>, um <code>+=</code> acrescenta o valor a chave. <code>OPT_VARS_OFF</code> funciona da mesma maneira, quando a opção <code>OPT</code> <em>não for</em> selecionada.</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2 OPT3
OPT1_VARS=	also_build+=bin1
OPT2_VARS=	also_build+=bin2
OPT3_VARS=	bin3_build=yes
OPT3_VARS_OFF=	bin3_build=no

MAKE_ARGS=	ALSO_BUILD=&#34;${ALSO_BUILD}&#34; BIN3_BUILD=&#34;${BIN3_BUILD}&#34;</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

MAKE_ARGS=	ALSO_BUILD=&#34;${ALSO_BUILD}&#34; BIN3_BUILD=&#34;${BIN3_BUILD}&#34;

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
ALSO_BUILD+=	bin1
.endif

.if ${PORT_OPTIONS:MOPT2}
ALSO_BUILD+=	bin2
.endif

.if ${PORT_OPTIONS:MOPT2}
BIN3_BUILD=	yes
.else
BIN3_BUILD=	no
.endif</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Valores contendo espaços em branco devem ser colocados entre aspas:</p></div><div class="literalblock programlisting"><div class=content><pre>OPT_VARS=	foo=&#34;bar baz&#34;</pre></div></div><div class=paragraph><p>Isso se deve ao jeito que a variável de expansão <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> lida com espaço em branco. Quando a opção <code>OPT_VARS=foo=bar baz</code> é expandida, a variável acaba contendo duas strings, <code>foo=bar</code> e <code>baz</code>. Mas quem está submetendo o código provavelmente pretendia que houvesse apenas uma string, <code>foo=bar baz</code>. Inserir o valor entre aspas impede que o espaço em branco seja usado como um delimitador.</p></div><div class=paragraph><p>Além disso, <em>não</em> adicione espaços extras após o símbolo <code><em>var</em>=</code> e antes do valor, pois assim também seria dividido o valor em duas strings. <em>Isso não irá funcionar</em>:</p></div><div class="literalblock programlisting"><div class=content><pre>OPT_VARS=	foo=	bar</pre></div></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=options-dependencies>5.13.3.10. Dependências, <code>OPT_DEPTYPE_</code> e <code>OPT_DEPTYPE_OFF</code><a class=anchor href=#options-dependencies></a></h4><div class=paragraph><p>Para qualquer um desses tipos de dependência:</p></div><div class=ulist><ul><li><p><code>PKG_DEPENDS</code></p></li><li><p><code>EXTRACT_DEPENDS</code></p></li><li><p><code>PATCH_DEPENDS</code></p></li><li><p><code>FETCH_DEPENDS</code></p></li><li><p><code>BUILD_DEPENDS</code></p></li><li><p><code>LIB_DEPENDS</code></p></li><li><p><code>RUN_DEPENDS</code></p></li></ul></div><div class=paragraph><p>Quando opção <em>OPT</em> é selecionada, o valor de <code>OPT_DEPTYPE</code>, se definido, é anexado a <code><em>DEPTYPE</em></code>. <code>OPT_DEPTYPE_OFF</code> funciona da mesma forma, quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_LIB_DEPENDS=	liba.so:devel/a
OPT1_LIB_DEPENDS_OFF=	libb.so:devel/b</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
LIB_DEPENDS+=	liba.so:devel/a
.else
LIB_DEPENDS+=	libb.so:devel/b
.endif</pre></div></div></div><div class=sect3><h4 id=options-variables>5.13.3.11. Substituição de Variáveis ​​Genéricas, <code>OPT_VARIABLE_</code> e <code>OPT_VARIABLE_OFF</code><a class=anchor href=#options-variables></a></h4><div class=paragraph><p>Para qualquer uma destas variáveis:</p></div><div class=ulist><ul><li><p><code>ALL_TARGET</code></p></li><li><p><code>BINARY_ALIAS</code></p></li><li><p><code>BROKEN</code></p></li><li><p><code>CATEGORIES</code></p></li><li><p><code>CFLAGS</code></p></li><li><p><code>CONFIGURE_ENV</code></p></li><li><p><code>CONFLICTS</code></p></li><li><p><code>CONFLICTS_BUILD</code></p></li><li><p><code>CONFLICTS_INSTALL</code></p></li><li><p><code>CPPFLAGS</code></p></li><li><p><code>CXXFLAGS</code></p></li><li><p><code>DESKTOP_ENTRIES</code></p></li><li><p><code>DISTFILES</code></p></li><li><p><code>EXTRACT_ONLY</code></p></li><li><p><code>EXTRA_PATCHES</code></p></li><li><p><code>GH_ACCOUNT</code></p></li><li><p><code>GH_PROJECT</code></p></li><li><p><code>GH_SUBDIR</code></p></li><li><p><code>GH_TAGNAME</code></p></li><li><p><code>GH_TUPLE</code></p></li><li><p><code>GL_ACCOUNT</code></p></li><li><p><code>GL_COMMIT</code></p></li><li><p><code>GL_PROJECT</code></p></li><li><p><code>GL_SITE</code></p></li><li><p><code>GL_SUBDIR</code></p></li><li><p><code>GL_TUPLE</code></p></li><li><p><code>IGNORE</code></p></li><li><p><code>INFO</code></p></li><li><p><code>INSTALL_TARGET</code></p></li><li><p><code>LDFLAGS</code></p></li><li><p><code>LIBS</code></p></li><li><p><code>MAKE_ARGS</code></p></li><li><p><code>MAKE_ENV</code></p></li><li><p><code>MASTER_SITES</code></p></li><li><p><code>PATCHFILES</code></p></li><li><p><code>PATCH_SITES</code></p></li><li><p><code>PLIST_DIRS</code></p></li><li><p><code>PLIST_FILES</code></p></li><li><p><code>PLIST_SUB</code></p></li><li><p><code>PORTDOCS</code></p></li><li><p><code>PORTEXAMPLES</code></p></li><li><p><code>SUB_FILES</code></p></li><li><p><code>SUB_LIST</code></p></li><li><p><code>TEST_TARGET</code></p></li><li><p><code>USES</code></p></li></ul></div><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, o valor da variável <code>OPT_ABOVEVARIABLE</code>, se definido, é anexado a <code><em>ABOVEVARIABLE</em></code>. <code>OPT_ABOVEVARIABLE_OFF</code> funciona da mesma maneira, quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_USES=	gmake
OPT1_CFLAGS_OFF=	-DTEST</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
USES+=		gmake
.else
CFLAGS+=	-DTEST
.endif</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Algumas variáveis ​​não estão nesta lista, em particular <code>PKGNAMEPREFIX</code> e <code>PKGNAMESUFFIX</code>. Isso é intencional. Um port <em>não deve</em> mudar seu nome quando alguma de suas opções forem alteradas.</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Algumas dessas variáveis, pelo menos <code>ALL_TARGET</code>, <code>DISTFILES</code> e <code>INSTALL_TARGET</code>, tem seus valores padrão definidos <em>depois</em> das opções serem processadas.</p></div><div class=paragraph><p>Com estas linhas no <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>ALL_TARGET=	all

DOCS_ALL_TARGET=	doc</pre></div></div><div class=paragraph><p>Se a opção <code>DOCS</code> estiver ativada, <code>ALL_TARGET</code> terá o valor <code>all doc</code>; se a opção estiver desativada, ela terá o valor <code>all</code>.</p></div><div class=paragraph><p>Com apenas a linha do assistente de opções no <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>DOCS_ALL_TARGET=	doc</pre></div></div><div class=paragraph><p>Se a opção <code>DOCS</code> estiver ativada, <code>ALL_TARGET</code> terá o valor <code>doc</code>; se a opção estiver desativada, ela terá o valor <code>all</code>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=options-targets>5.13.3.12. Targets Adicionais de Compilação, <code><em>target</em>-<em>OPT</em>-on</code> e <code><em>target</em>-<em>OPT</em>-off</code><a class=anchor href=#options-targets></a></h4><div class=paragraph><p>Estes targets de <span class=filename>Makefile</span> podem aceitar targets extras de compilação:</p></div><div class=ulist><ul><li><p><code>pre-fetch</code></p></li><li><p><code>do-fetch</code></p></li><li><p><code>post-fetch</code></p></li><li><p><code>pre-extract</code></p></li><li><p><code>do-extract</code></p></li><li><p><code>post-extract</code></p></li><li><p><code>pre-patch</code></p></li><li><p><code>do-patch</code></p></li><li><p><code>post-patch</code></p></li><li><p><code>pre-configure</code></p></li><li><p><code>do-configure</code></p></li><li><p><code>post-configure</code></p></li><li><p><code>pre-build</code></p></li><li><p><code>do-build</code></p></li><li><p><code>post-build</code></p></li><li><p><code>pre-install</code></p></li><li><p><code>do-install</code></p></li><li><p><code>post-install</code></p></li><li><p><code>post-stage</code></p></li><li><p><code>pre-package</code></p></li><li><p><code>do-package</code></p></li><li><p><code>post-package</code></p></li></ul></div><div class=paragraph><p>Quando a opção <em>OPT</em> é selecionada, o target <code><em>TARGET</em>-<em>OPT</em>-on</code>, se definido, é executado após <code><em>TARGET</em></code>. <code><em>TARGET</em>-<em>OPT</em>-off</code> funciona da mesma maneira, quando <code>OPT</code> <em>não for</em> selecionada. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

post-patch-OPT1-on:
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${EXAMPLESDIR}/|&#39; ${WRKSRC}/Makefile

post-patch-OPT1-off:
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${PREFIX}/bin/|&#39; ${WRKSRC}/Makefile</pre></div></div><div class=paragraph><p>é equivalente a:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

post-patch:
.if ${PORT_OPTIONS:MOPT1}
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${EXAMPLESDIR}/|&#39; ${WRKSRC}/Makefile
.else
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${PREFIX}/bin/|&#39; ${WRKSRC}/Makefile
.endif</pre></div></div></div></div></div></div><div class=sect1><h2 id=makefile-wrkdir>5.14. Especificando o Diretório de Trabalho<a class=anchor href=#makefile-wrkdir></a></h2><div class=sectionbody><div class=paragraph><p>Cada port é extraído em um diretório de trabalho, que deve ter permissão de escrita. O sistema de ports tem por padrão os <code>DISTFILES</code> descompactado em um diretório chamado <code>${DISTNAME}</code>. Em outras palavras, se o <span class=filename>Makefile</span> tem:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0</pre></div></div><div class=paragraph><p>então os arquivos de distribuição do port contêm um diretório de nível superior, <span class=filename>foo-1.0</span>, e o resto dos arquivos estão localizados nesse diretório.</p></div><div class=paragraph><p>Diversas variáveis ​​podem ser substituídas se não for esse o caso.</p></div><div class=sect2><h3 id=makefile-wrksrc>5.14.1. <code>WRKSRC</code><a class=anchor href=#makefile-wrksrc></a></h3><div class=paragraph><p>A variável lista o nome do diretório que é criado quando os distfiles do aplicativo são extraídos. Se o exemplo anterior for extraído em um diretório chamado <span class=filename>foo</span> (e não <span class=filename>foo-1.0</span>) escreva:</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=	${WRKDIR}/foo</pre></div></div><div class=paragraph><p>ou possivelmente</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=	${WRKDIR}/${PORTNAME}</pre></div></div></div><div class=sect2><h3 id=makefile-wrksrc_subdir>5.14.2. <code>WRKSRC_SUBDIR</code><a class=anchor href=#makefile-wrksrc_subdir></a></h3><div class=paragraph><p>Se o código fonte necessário para o port estiver em um subdiretório do arquivo de distribuição extraído, defina <code>WRKSRC_SUBDIR</code> para esse diretório.</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC_SUBDIR=	src</pre></div></div></div><div class=sect2><h3 id=makefile-no_wrksubdir>5.14.3. <code>NO_WRKSUBDIR</code><a class=anchor href=#makefile-no_wrksubdir></a></h3><div class=paragraph><p>Se o port não extrair para nenhum subdiretório, então configure <code>NO_WRKSUBDIR</code> para indicar isso.</p></div><div class="literalblock programlisting"><div class=content><pre>NO_WRKSUBDIR=	yes</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Porque <code>WRKDIR</code> é o único diretório que deve ter permissão de escrita durante a compilação e é usado para armazenar muitos arquivos que registram o status da compilação, a extração do port será forçada para um subdiretório.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=conflicts>5.15. Manipulando Conflitos<a class=anchor href=#conflicts></a></h2><div class=sectionbody><div class=paragraph><p>Existem três variáveis ​​diferentes para registrar um conflito entre pacotes e ports: <code>CONFLICTS</code>, <code>CONFLICTS_INSTALL</code> e <code>CONFLICTS_BUILD</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>As variáveis ​​de conflito definem automaticamente a variável <code>IGNORE</code>, que é mais amplamente documentada em <a href=../porting-dads/#dads-noinstall>Marcando um Port não Instalável com a variável <code>BROKEN</code> <code>FORBIDDEN</code> ou <code>IGNORE</code></a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ao remover um dos vários ports conflitados, é aconselhável reter <code>CONFLICTS</code> nos outros ports por alguns meses para atender usuários que apenas fazem atualizações de vez em quando.</p></div><div id=conclicts-conflicts_install class=dlist><dl><dt class=hdlist1><code>CONFLICTS_INSTALL</code></dt><dd><p>Se o pacote não puder coexistir com outros pacotes (devido a conflitos de arquivos, incompatibilidades de tempo de execução, etc.). A checagem <code>CONFLICTS_INSTALL</code> é feita após o estágio de compilação e antes do estágio de instalação.</p></dd></dl></div><div id=conclicts-conflicts_build class=dlist><dl><dt class=hdlist1><code>CONFLICTS_BUILD</code></dt><dd><p>Se o port não puder ser compilado quando outros ports específicos já estiverem instalados. Conflitos de compilação não serão registrados no pacote final.</p></dd></dl></div><div id=conclicts-conflicts class=dlist><dl><dt class=hdlist1><code>CONFLICTS</code></dt><dd><p>Se o port não puder ser compilado quando um certo port estiver instalado e o pacote final não puder coexistir com o outro pacote. A checagem <code>CONFLICTS</code> é feita antes do estágio de compilação e antes do estágio de instalação.</p></dd></dl></div><div class=paragraph><p>O conteúdo mais comum de uma dessas variáveis ​​é o pacote base de outro port. O pacote base é o nome do pacote sem a versão, ele pode ser obtido executando <code>make -V PKGBASE</code>.</p></div><div id=conflicts-ex1 class=exampleblock><div class=title>Exemplo 46. Uso básico de <code>CONFLICTS_*</code></div><div class=content><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a> não pode ser instalado se <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind910/>dns/bind910</a> está presente porque eles instalam os mesmos arquivos. Primeiro, reúna o pacote base para usar:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% make <span class=nt>-C</span> dns/bind99 <span class=nt>-V</span> PKGBASE
bind99
% make <span class=nt>-C</span> dns/bind910 <span class=nt>-V</span> PKGBASE
bind910</code></pre></div></div><div class=paragraph><p>Então adicione ao <span class=filename>Makefile</span> do <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFLICTS_INSTALL=	bind910</pre></div></div><div class=paragraph><p>E adicione ao <span class=filename>Makefile</span> do <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind910/>dns/bind910</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFLICTS_INSTALL=	bind99</pre></div></div></div></div><div class=paragraph><p>Às vezes, apenas uma versão de outro port é incompatível, neste caso, use o nome completo do pacote, com a versão, e use shell globs, como <code>*</code> e <code>?</code> para garantir que todas as versões possíveis sejam correspondidas.</p></div><div id=conflicts-ex2 class=exampleblock><div class=title>Exemplo 47. Usando <code>CONFLICTS_*</code> Com Globs.</div><div class=content><div class=paragraph><p>Nas versões 2.0 até 2.4.1_2, <a class=package href=https://cgit.freebsd.org/ports/tree/deskutils/gnotime/>deskutils/gnotime</a> instalava uma versão integrada de <a class=package href=https://cgit.freebsd.org/ports/tree/databases/qof/>databases/qof</a>.</p></div><div class=paragraph><p>Para refletir este passado, o <span class=filename>Makefile</span> do <a class=package href=https://cgit.freebsd.org/ports/tree/database/qof/>database/qof</a> contém:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFLICTS_INSTALL=	gnotime-2.[0-3]* \
			gnotime-2.4.0* gnotime-2.4.1 \
			gnotime-2.4.1_[12]</pre></div></div><div class=paragraph><p>As primeira entrada corresponde as versões <code>2.0</code> até <code>2.3</code>, a segunda corresponde todas as revisões de <code>2.4.0</code>, a terceira corresponde a versão exata <code>2.4.1</code>, e a última corresponde a primeira e segunda revisão da versão <code>2.4.1</code>.</p></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/deskutils/gnotime/>deskutils/gnotime</a> não possui nenhuma linha de conflitos porque sua versão atual não conflita com mais nada.</p></div></div></div></div></div><div class=sect1><h2 id=install>5.16. Instalando Arquivos<a class=anchor href=#install></a></h2><div class=sectionbody><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>O estágio <code>install</code> é muito importante para o usuário final porque ele adiciona arquivos ao sistema. Todos os comandos adicionais de estágios <code>*-install</code> dos <span class=filename>Makefile</span>'s de port devem ser mostrados na tela. <em>Não</em> silencie esses comandos com <code>@</code> ou <code>.SILENT</code>.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=install-macros>5.16.1. Macros <code>INSTALL_*</code><a class=anchor href=#install-macros></a></h3><div class=paragraph><p>Use as macros fornecidas em <span class=filename>bsd.port.mk</span> para garantir a propriedade correta dos arquivos nos targets <code>*-install</code> do port. Defina a propriedade diretamente em <span class=filename>pkg-plist</span> com as entradas correspondentes, como <code>@(<em>owner</em>,<em>group</em>,)</code>, <code>@owner <em>owner</em></code>, e <code>@group <em>group</em></code>. Esses operadores funcionam até serem substituídos, ou até o final do <span class=filename>pkg-plist</span>, lembre-se de redefini-los depois que eles não forem mais necessários. O valor de propriedade padrão é <code>root:wheel</code>. Veja <a href=../plist/#plist-keywords-base>Keywords Básicas</a> para maiores informações.</p></div><div class=ulist><ul><li><p><code>INSTALL_PROGRAM</code> é um comando para instalar executáveis ​​binários.</p></li><li><p><code>INSTALL_SCRIPT</code> é um comando para instalar scripts executáveis.</p></li><li><p><code>INSTALL_LIB</code> é um comando para instalar bibliotecas compartilhadas (mas não bibliotecas estáticas).</p></li><li><p><code>INSTALL_KLD</code> é um comando para instalar módulos carregáveis ​​do kernel. Algumas arquiteturas não gostam de ter os módulos otimizados (stripped), então use este comando em vez de <code>INSTALL_PROGRAM</code>.</p></li><li><p><code>INSTALL_DATA</code> é um comando para instalar dados compartilháveis, incluindo bibliotecas estáticas.</p></li><li><p><code>INSTALL_MAN</code> é um comando para instalar manpages e outras documentações (ele não realiza nenhuma compactação).</p></li></ul></div><div class=paragraph><p>Estas variáveis ​​parametrizam o comando <a href="https://man.freebsd.org/cgi/man.cgi?query=install&amp;sektion=1&amp;format=html">install(1)</a> com as flags apropriadas para cada situação.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Não use <code>INSTALL_LIB</code> para instalar bibliotecas estáticas, porque otimiza-las (strip) torna-as sem utilidade. Use <code>INSTALL_DATA</code> neste caso.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-strip>5.16.2. Otimizando (Stripping) Binários e Bibliotecas Compartilhadas<a class=anchor href=#install-strip></a></h3><div class=paragraph><p>Os binários instalados devem ser otimizados (stripped). Não otimize (strip) os binários manualmente, a menos que seja absolutamente necessário. A macro <code>INSTALL_PROGRAM</code> instala e otimiza (strip) o binário ao mesmo tempo. A macro <code>INSTALL_LIB</code> faz o mesmo com as bibliotecas compartilhadas.</p></div><div class=paragraph><p>Quando um arquivo deve ser otimizado (stripped), mas as macros <code>INSTALL_PROGRAM</code> e <code>INSTALL_LIB</code> não são desejadas, <code>${STRIP_CMD}</code> otimiza (strips) o programa ou a biblioteca compartilhada. Isso geralmente é feito no target <code>post-install</code>. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/xdl</pre></div></div><div class=paragraph><p>Quando vários arquivos precisam ser otimizados (stripped):</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
.for l in geometry media body track world
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib${PORTNAME}-${l}.so.0
.endfor</pre></div></div><div class=paragraph><p>Use <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> em um arquivo para determinar se ele foi otimizado (stripped). Binários são relatados por <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> como <code>stripped</code> ou <code>not stripped</code>. Além disso,<a href="https://man.freebsd.org/cgi/man.cgi?query=strip&amp;sektion=1&amp;format=html">strip(1)</a> irá detectar programas que já foram otimizados (stripped) e retornar o comando sem erros.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Quando <code>WITH_DEBUG</code> estiver definido, os arquivos elf <em>não devem</em> ser otimizados (stripped).</p></div><div class=paragraph><p>As variáveis ​​(<code>STRIP_CMD</code>, <code>INSTALL_PROGRAM</code>, <code>INSTALL_LIB</code>, …​) e <a href=../uses/#uses><code>USES</code></a> fornecidas pelo framework lidam com isso automaticamente.</p></div><div class=paragraph><p>Alguns softwares, adicionam <code>-s</code> em seus <code>LDFLAGS</code>, neste caso, ou remova o <code>-s</code> se <code>WITH_DEBUG</code> estiver definido, ou remova o incondicionalmente e use <code>STRIP_CMD</code> em <code>post-install</code>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-copytree>5.16.3. Instalando uma Árvore Inteira de Arquivos<a class=anchor href=#install-copytree></a></h3><div class=paragraph><p>Às vezes, um grande número de arquivos devem ser instalados preservando sua organização hierárquica. Por exemplo, copiando de uma árvore de diretórios inteira do <code>WRKSRC</code> para um diretório de destino sob <code>PREFIX</code>. Observe que <code>PREFIX</code>, <code>EXEMPLESDIR</code>, <code>DATADIR</code> e outras variáveis ​​de caminho sempre devem ser precedidas por <code>STAGEDIR</code> para respeitar o staging (ver <a href=../special/#staging>Staging</a>).</p></div><div class=paragraph><p>Existem duas macros para essa situação. A vantagem de usar essas macros em vez de <code>cp</code> é que elas garantem a propriedade e permissão adequada dos arquivos nos arquivos de destino. A primeira macro, <code>COPYTREE_BIN</code>, irá definir todos os arquivos instalados como sendo executáveis, sendo assim, adequado para instalações em <span class=filename>PREFIX/bin</span>. A segunda macro,<code>COPYTREE_SHARE</code>, não define permissões de execução nos arquivos e, portanto, é adequado para instalar arquivos sob o destino <span class=filename>PREFIX/share</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${EXAMPLESDIR}
	(cd ${WRKSRC}/examples &amp;&amp; ${COPYTREE_SHARE} .${STAGEDIR}${EXAMPLESDIR})</pre></div></div><div class=paragraph><p>Este exemplo irá instalar o conteúdo do diretório <span class=filename>exemples</span> do distfile do fornecedor para o local de exemplos apropriado do port.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${DATADIR}/summer
	(cd ${WRKSRC}/temperatures &amp;&amp; ${COPYTREE_SHARE} &#34;June July August&#34; ${STAGEDIR}${DATADIR}/summer)</pre></div></div><div class=paragraph><p>E este exemplo irá instalar os dados dos meses de verão no subdiretório <span class=filename>summer</span> de um <span class=filename>DATADIR</span>.</p></div><div class=paragraph><p>Argumentos <code>find</code> adicionais podem ser passados através do terceiro argumento para <code>COPYTREE_*</code>. Por exemplo, para instalar todos os arquivos do primeiro exemplo, exceto Makefiles, é possível usar esses comandos.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${EXAMPLESDIR}
	(cd ${WRKSRC}/examples &amp;&amp; \
	${COPYTREE_SHARE} .${STAGEDIR}${EXAMPLESDIR} &#34;! -name Makefile&#34;)</pre></div></div><div class=paragraph><p>Essas macros não adicionam os arquivos instalados em <span class=filename>pkg-plist</span>. Eles devem ser adicionados manualmente. Para documentação opcional (<code>PORTDOCS</code>, veja <a href=#install-documentation>Instalar Documentação Adicional</a>) e exemplos (<code>PORTEXAMPLES</code>), os prefixos <code>%%PORTDOCS%%</code> ou <code>%%PORTEXAMPLES%%</code> devem ser prefixados no <span class=filename>pkg-plist</span>.</p></div></div><div class=sect2><h3 id=install-documentation>5.16.4. Instalar Documentação Adicional<a class=anchor href=#install-documentation></a></h3><div class=paragraph><p>Se o software tiver alguma documentação diferente do manual padrão e páginas de informações úteis para o usuário, instale-os em <code>DOCSDIR</code>. Isso pode ser feito como no item anterior, no target <code>post-install</code>.</p></div><div class=paragraph><p>Crie um novo diretório para o port. O nome do diretório é <code>DOCSDIR</code>. Isso geralmente é igual a <code>PORTNAME</code>. No entanto, se o usuário desejar que versões diferentes do port sejam instaladas ao mesmo tempo, <code>PKGNAME</code> pode ser usado.</p></div><div class=paragraph><p>Já que apenas os arquivos listados no <span class=filename>pkg-plist</span> são instalados, é seguro sempre instalar documentações no <code>STAGEDIR</code> (veja <a href=../special/#staging>Staging</a>). Por isso, blocos <code>.if</code> são necessários apenas quando os arquivos forem grandes o suficiente para causarem sobrecarga significativa de I/O.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${DOCSDIR}
	${INSTALL_MAN} ${WRKSRC}/docs/xvdocs.ps ${STAGEDIR}${DOCSDIR}</pre></div></div><div class=paragraph><p>Por outro lado, se houver uma opção DOCS no port, instale a documentação em um taget <code>post-install-DOCS-on</code>. Esses targets são descritos em <a href=#options-targets>Targets Adicionais de Compilação, <code><em>target</em>-<em>OPT</em>-on</code> e <code><em>target</em>-<em>OPT</em>-off</code></a>.</p></div><div class=paragraph><p>Aqui estão algumas variáveis úteis e como elas são expandidas por padrão quando usadas no <span class=filename>Makefile</span>:</p></div><div class=ulist><ul><li><p><code>DATADIR</code> é expandido para <span class=filename>PREFIX/shared/PORTNAME</span>.</p></li><li><p><code>DATADIR_REL</code> é expandido para <span class=filename>share/PORTNAME</span>.</p></li><li><p><code>DOCSDIR</code> é expandido para <span class=filename>PREFIX/shared/doc/PORTNAME</span>.</p></li><li><p><code>DOCSDIR_REL</code> é expandido para <span class=filename>share/doc/PORTNAME</span>.</p></li><li><p><code>EXEMPLESDIR</code> é expandido para <span class=filename>PREFIX/shared/examples/PORTNAME</span>.</p></li><li><p><code>EXAMPLESDIR_REL</code> é expandido para <span class=filename>share/examples/PORTNAME</span>.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A opção <code>DOCS</code> controla apenas a documentação adicional instalada em <code>DOCSDIR</code>. Não se aplica a páginas de manual e páginas de informações padrão. Arquivos instalados em <code>EXEMPLESDIR</code> são controlados pela opção <code>EXEMPLES</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Essas variáveis são exportadas para <code>PLIST_SUB</code>. Quando possível, seus valores aparecerão como nomes de caminho relativos ao <span class=filename>PREFIX</span>. Isso é, por padrão <span class=filename>share/doc/PORTNAME</span> será substituído por <code>%%DOCSDIR%%</code> na lista de empacotamento e assim por diante. (Saiba mais sobre substituições <span class=filename>pkg-plist</span><a href=#plist-sub>aqui</a>.)</p></div><div class=paragraph><p>Todos os arquivos e diretórios de documentação instalados condicionalmente são incluídos no <span class=filename>pkg-plist</span> com o prefixo <code>%%PORTDOCS%%</code>, por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
%%PORTDOCS%%%%DOCSDIR%%/CONTACT</pre></div></div><div class=paragraph><p>Como uma alternativa para listar os arquivos de documentação em <span class=filename>pkg-plist</span>, um port pode definir a variável <code>PORTDOCS</code> com uma lista de nomes de arquivo e padrões shell glob para adicionar à lista de empacotamento final. Os nomes serão relativos a <code>DOCSDIR</code>. Portanto, um port que utiliza <code>PORTDOCS</code> e usa um local não padrão para sua documentação, deve definir <code>DOCSDIR</code> adequadamente. Se um diretório estiver listado em <code>PORTDOCS</code> ou ser correspondido por um padrão glob dessa variável, toda a sub árvore de arquivos e diretórios contidos serão registrados na lista final de empacotamento. Se a opção <code>DOCS</code> estiver desmarcada, os arquivos e diretórios listados em <code>PORTDOCS</code> não serão instalados ou adicionados à lista de empacotamento do port. A instalação da documentação em <code>PORTDOCS</code> como mostrado acima fica a cargo do port. Um exemplo típico de utilização <code>PORTDOCS</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTDOCS=	README.* ChangeLog docs/*</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O equivalente de <code>PORTDOCS</code> para arquivos instalados em <code>DATADIR</code> e <code>EXEMPLESDIR</code> são <code>PORTDATA</code> e <code>PORTEXAMPLES</code>, respectivamente.</p></div><div class=paragraph><p>O conteúdo de <span class=filename>pkg-message</span> é exibido na instalação. Veja <a href=#porting-message>a seção sobre o uso do <span class=filename>pkg-message</span></a> para mais detalhes. <span class=filename>pkg-message</span> não precisa ser adicionado ao <span class=filename>pkg-plist</span>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-subdirs>5.16.5. Subdiretórios Sob <code>PREFIX</code><a class=anchor href=#install-subdirs></a></h3><div class=paragraph><p>Tente deixar o port colocar os arquivos nos subdiretórios corretos de <code>PREFIX</code>. Alguns ports juntam tudo e colocam os arquivos em um subdiretório com o nome do port, o que é incorreto. Além disso, muitos ports colocam todos arquivos, exceto binários, arquivos header e páginas de manual, em um subdiretório de <span class=filename>lib</span>, o que não funciona bem com o paradigma BSD. Muitos dos arquivos devem ser movidos para um desses diretórios: <span class=filename>etc</span>(setup/arquivos de configuração), <span class=filename>libexec</span> (executáveis ​​iniciados internamente), <span class=filename>sbin</span> (executáveis ​​para super-usuários/gerentes), <span class=filename>info</span> (documentação para o navegador de informações) ou <span class=filename>share</span> (arquivos independentes de arquitetura). Veja <a href="https://man.freebsd.org/cgi/man.cgi?query=hier&amp;sektion=7&amp;format=html">hier(7)</a> para detalhes; as regras que regem <span class=filename>/usr</span> praticamente se aplicam a <span class=filename>/usr/local</span> também. A exceção são os ports que lidam com "notícias" USENET. Eles podem usar <span class=filename>PREFIX/news</span> como um destino para seus arquivos.</p></div></div></div></div><div class=sect1><h2 id=binary-alias>5.17. Use <code>BINARY_ALIAS</code> para Renomear Comandos Em Vez de Aplicar Patch na Compilação<a class=anchor href=#binary-alias></a></h2><div class=sectionbody><div class=paragraph><p>Quando <code>BINARY_ALIAS</code> é definido, ele criará links simbólicos dos comandos fornecidos, em um diretório que será prefixado para o <code>PATH</code>.</p></div><div class=paragraph><p>Use-o para substituir comandos codificados na fase de compilação sem ter aplicar nenhum patch nos arquivos de compilação.</p></div><div id=binary-alias-ex1 class=exampleblock><div class=title>Exemplo 48. Usando <code>BINARY_ALIAS</code> para Deixar <code>gsed</code> Disponível como <code>sed</code></div><div class=content><div class=paragraph><p>Alguns ports esperam que o <code>sed</code> se comporte como o GNU sed e utilizam recursos que o <a href="https://man.freebsd.org/cgi/man.cgi?query=sed&amp;sektion=1&amp;format=html">sed(1)</a> não possui. GNU sed está disponível em <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/gsed/>textproc/gsed</a> no FreeBSD.</p></div><div class=paragraph><p>Use <code>BINARY_ALIAS</code> para substituir <code>sed</code> com <code>gsed</code> durante a compilação:</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=	gsed:textproc/gsed
...
BINARY_ALIAS=	sed=gsed</pre></div></div></div></div><div id=binary-alias-ex2 class=exampleblock><div class=title>Exemplo 49. Usando <code>BINARY_ALIAS</code> Para Fornecer Aliases para Comandos <code>python3</code> Codificado</div><div class=content><div class=paragraph><p>Um port que possui uma referência codificada para <code>python3</code> em seus scripts de compilação precisará ter ele disponível no <code>PATH</code> em tempo de compilação. Use <code>BINARY_ALIAS</code> para criar um alias que aponte para o binário certo do Python 3:</p></div><div class="literalblock programlisting"><div class=content><pre>USES=	python:3.4+,build
...
BINARY_ALIAS=	python3=${PYTHON_CMD}</pre></div></div><div class=paragraph><p>Veja <a href=../special/#using-python>Usando Python</a> para mais informações sobre <code>USES=python</code>.</p></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Aliases binários são criados após as dependências fornecidas via <code>BUILD_DEPENDS</code> e <code>LIB_DEPENDS</code> serem processadas e antes do target <code>configure</code>. Isso leva a várias limitações. Por exemplo, os programas instalados via <code>TEST_DEPENDS</code> não podem ser usados para criar um alias binário, pois as dependências de teste especificadas desta forma são processadas após a criação dos aliases binários.</p></div></td></tr></tbody></table></div></div></div></div><hr><div class=last-modified><p><strong>Última alteração em</strong>: 20 de agosto de 2024 por <a href="https://cgit.freebsd.org/doc/commit/?id=cfa9804b6e" target=_blank>Fernando Apesteguía</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Anterior></i><div class=container><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/slow-porting class=direction>Anterior</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Início></i><div class=container><a href=../ class=direction>Início</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/pt-br/books/porters-handbook/special class=direction>Próximo</a></div><i class="fa fa-angle-right" aria-hidden=true title=Próximo></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. O Código Fonte Original</a></li><li><a href=#makefile-categories>5.2. Categorização</a></li><li><a href=#makefile-distfiles>5.3. Os Arquivos de Distribuição</a></li><li><a href=#makefile-maintainer>5.4. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.5. <code>COMMENT</code></a></li><li><a href=#licenses>5.6. Licenças</a></li><li><a href=#makefile-portscout>5.7. <code>PORTSCOUT</code></a></li><li><a href=#makefile-depend>5.8. Dependências</a></li><li><a href=#makefile-use-vars>5.9. 0 <code>USE_*</code></a></li><li><a href=#makefile-masterdir>5.10. Ports Slaves e <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.11. Páginas de Manual</a></li><li><a href=#makefile-info>5.12. Arquivos de Informação</a></li><li><a href=#makefile-options>5.13. Opções do Makefile</a></li><li><a href=#makefile-wrkdir>5.14. Especificando o Diretório de Trabalho</a></li><li><a href=#conflicts>5.15. Manipulando Conflitos</a></li><li><a href=#install>5.16. Instalando Arquivos</a></li><li><a href=#binary-alias>5.17. Use <code>BINARY_ALIAS</code> para Renomear Comandos Em Vez de Aplicar Patch na Compilação</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/pt-br/books/porters-handbook/porters-handbook_pt-br.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edite essa página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/pt-br/_index target=_blank>Edite essa página</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/pt-br/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Escolha o idioma">
<span>Brazilian Portuguese</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/pt-br class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/pt-br/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>