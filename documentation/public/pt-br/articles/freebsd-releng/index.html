<!doctype html><html class=theme-light lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/pt-br/articles/freebsd-releng/><title>Engenharia de Release do FreeBSD | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Engenharia de Release do FreeBSD"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="pt-br"><meta property="og:url" content="https://docs.freebsd.org/pt-br/articles/freebsd-releng/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/pt-br\/articles\/freebsd-releng\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/pt-br>Documentation portal</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/pt-br/books>Books</a></li><li><a href=https://docs.freebsd.org/pt-br/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/pt-br/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=pt-br>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><main class=main-wrapper-article><div class=article><h1 class=title>Engenharia de Release do FreeBSD</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
Esta tradução pode estar desatualizada. Para ajudar com as traduções, acesse a <a href=https://translate-dev.freebsd.org/ target=_blank>ferramenta de traduções do FreeBSD</a>.</p></div><div class=legalnotice><a id=trademarks></a><details><summary>trademarks</summary><p>FreeBSD is a registered trademark of the FreeBSD Foundation.</p><p>Intel, Celeron, Centrino, Core, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are trademarks or registered trademarks of Intel Corporation or its subsidiaries in the United States and other countries.</p><p>Many of the designations used by manufacturers and sellers to distinguish their products are claimed as trademarks. Where those designations appear in this document, and the FreeBSD Project was aware of the trademark claim, the designations have been followed by the “™” or the “®” symbol.</p></details></div><div class=toc-mobile><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#introduction>1. Introdução ao Processo de Engenharia de Release do FreeBSD</a></li><li><a href=#releng-prep>2. Informação Geral e Preparativos</a></li><li><a href=#releng-terms>3. Terminologia da Engenharia de Release</a></li><li><a href=#releng-website>4. Alterações na Página Web Durante o Ciclo de Release</a></li><li><a href=#releng-head>5. Releases a partir da branch <code>head/</code></a></li><li><a href=#releng-stable>6. Release a partir da branch <code>stable/</code></a></li><li><a href=#releng-building>7. Construindo a Mídia de Instalação do FreeBSD</a></li><li><a href=#releng-mirrors>8. Publicando a Mídia de Instalação do FreeBSD nos Espelhos do Projeto</a></li><li><a href=#releng-wrapup>9. Encerrando o Ciclo de Release</a></li><li><a href=#releng-eol>10. Fim de Vida (End-of-Life) de Releases</a></li></ul></nav></div><div id=preamble><div class=sectionbody><div class="paragraph abstract-title"><p>Resumo</p></div><div class=paragraph><p>Este artigo descreve o processo por trás do modelo de engenharia de release adotado pelo Projeto FreeBSD.</p></div><hr></div></div><div class=sect1><h2 id=introduction>1. Introdução ao Processo de Engenharia de Release do FreeBSD<a class=anchor href=#introduction></a></h2><div class=sectionbody><div class=paragraph><p>O desenvolvimento do FreeBSD segue um fluxo muito específico. Em geral, todas as mudanças no sistema base do FreeBSD são feitas em uma branch chamada <code>head/</code>, a qual reflete o topo da árvore de código fonte.</p></div><div class=paragraph><p>Após um período razoável de testes, as alterações podem ser fundidas na branch <code>stable/</code>. O período de tempo mínimo padrão antes da fusão das alterações na branch <code>stable/</code> é de três (3) dias.</p></div><div class=paragraph><p>Embora seja uma regra geral esperar pelo menos três (3) dias antes de fundir o código produzido na branch <code>head/</code>, existem algumas circunstâncias especiais em que uma fusão imediata pode ser necessária, tal como uma correção de segurança crítica ou uma correção de bug que inibe diretamente o processo de compilação de uma release.</p></div><div class=paragraph><p>Após vários meses, quando o número de mudanças na branch <code>stable/</code> cresceu significativamente, é hora de lançar a próxima versão do FreeBSD. Essas versões foram historicamente chamadas de "point" releases.</p></div><div class=paragraph><p>Entre as versões das branches <code>stable/</code>, aproximadamente a cada dois (2) anos, uma nova versão é criada vinda diretamente da branch <code>head/</code>. Essas versões foram historicamente chamadas de versões "dot-zero".</p></div><div class=paragraph><p>Este artigo irá destacar o fluxo de trabalho e as responsabilidades da Equipe de Engenharia de Release do FreeBSD para ambas as versões "dot-zero" e "point release".</p></div><div class=paragraph><p>As seções a seguir deste artigo descrevem:</p></div><div class=dlist><dl><dt class=hdlist1><a href=#releng-prep>Informação Geral e Preparativos</a></dt><dd><p>Informações gerais e preparativos antes de iniciar o ciclo de release.</p></dd><dt class=hdlist1><a href=#releng-website>Alterações na Página Web Durante o Ciclo de Release</a></dt><dd><p>Alterações na Página Web Durante o Ciclo de Release</p></dd><dt class=hdlist1><a href=#releng-terms>Terminologia da Engenharia de Release</a></dt><dd><p>Terminologia e informações gerais, como "code slush" e "code freeze", usadas por todo este documento.</p></dd><dt class=hdlist1><a href=#releng-head>Releases a partir da branch <code>head/</code></a></dt><dd><p>O processo de Engenharia de Release para uma versão "dot-zero".</p></dd><dt class=hdlist1><a href=#releng-stable>Release a partir da branch <code>stable/</code></a></dt><dd><p>O processo de Engenharia de Release para uma versão "point release".</p></dd><dt class=hdlist1><a href=#releng-building>Construindo a Mídia de Instalação do FreeBSD</a></dt><dd><p>Informações relacionadas aos procedimentos específicos para construir o meio de instalação.</p></dd><dt class=hdlist1><a href=#releng-mirrors>Publicando a Mídia de Instalação do FreeBSD nos Espelhos do Projeto</a></dt><dd><p>Procedimentos para publicar um meio de instalação.</p></dd><dt class=hdlist1><a href=#releng-wrapup>Encerrando o Ciclo de Release</a></dt><dd><p>Encerrando o ciclo de release.</p></dd></dl></div></div></div><div class=sect1><h2 id=releng-prep>2. Informação Geral e Preparativos<a class=anchor href=#releng-prep></a></h2><div class=sectionbody><div class=paragraph><p>Aproximadamente dois meses antes do início do ciclo de vida de uma nova versão, a Equipe de Engenharia de Release do FreeBSD decide sobre um cronograma para o seu lançamento. A programação inclui os vários milestones do ciclo de release, como datas de congelamento, datas para as branches e datas para compilação do código. Por exemplo:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Milestone</th><th class="tableblock halign-left valign-top">Data prevista</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>pré congelamento da <code>head/</code>:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27 de maio de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Congelamento da <code>head/</code>:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10 de junho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Congelamento de KBI da <code>head/</code>:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24 de junho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Pré congelamento da árvore <code>doc/</code> [1]:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24 de junho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Branch trimestral dos ports [2]:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1º de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>branch <code>stable/<em>12</em>/</code>:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicação da tag na árvore <code>doc/</code> [3]:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Começa a compilação da fase BETA1:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>descongelamento da branch <code>head/</code>:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Começa a compilação da fase BETA2:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Começa a compilação da fase BETA3 [*]:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>branch <code>releng/<em>12.0</em>/</code>:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>A compilação da fase RC1 é iniciada:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>descongelamento da branch <code>stable/<em>12</em>/</code>:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30 de julho de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Começa a compilação da fase RC2:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5 de agosto de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Última compilação dos ports [4]:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6 de agosto de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Aplicação da tag na árvore dos ports:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12 de agosto de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>compilação da fase RC3 [*]:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12 de agosto de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>início de compilação da RELEASE:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19 de agosto de 2016</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Anúncio da RELEASE:</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2 de setembro de 2016</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Itens marcados com "[*]" identificam passos executados apenas "conforme necessário".</p></div></td></tr></tbody></table></div><div class="olist arabic"><ol class=arabic><li><p>O pré congelamento da árvore <code>doc</code> é coordenado pela Equipe de Engenharia de Documentação do FreeBSD.</p></li><li><p>A branch trimestral da árvore da coleção de ports é determinada quando a compilação final da fase <code>RC</code> é planejada. Uma nova branch trimestral é criada no primeiro dia do trimestre, portanto, essa métrica deve ser usada ao considerar os marcos do ciclo de release. Uma branch trimestral é criada pela Equipe de Gerenciamento de Ports do FreeBSD.</p></li><li><p>A árvore <code>doc</code> é recebe a tag da Equipe de Engenharia de Documentação do FreeBSD.</p></li><li><p>A compilação final dos pacotes é feita pela Equipe de Gerenciamento de Ports do FreeBSD após a compilação final (ou o que é esperada ser a final) de uma fase <code>RC</code>.</p></li></ol></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se a versão RELEASE estiver sendo criada a partir de uma branch <code>stable</code> existente, a data de congelamento do KBI poderá ser excluída, já que o KBI já está congelado em branchs <code>stable</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ao escrever o cronograma do ciclo de versões, várias coisas precisam ser levadas em consideração, em particular os milestones nos quais a data alvo depende de milestones pré-definidos sobre os quais existe uma dependência. Por exemplo, a aplicação da tag de release da Coleção de Ports é originada da branch trimestral ativa no momento da última fase do <code>RC</code>. Isso em parte define qual branch trimestral é usada, quando a aplicação da tag pode acontecer e qual revisão da árvore de ports é usada para a construção final de uma <code>RELEASE</code>.</p></div><div class=paragraph><p>Depois de um acordo geral sobre o cronograma, a Equipe de Engenharia de Release do FreeBSD envia e-mails para os desenvolvedores do FreeBSD.</p></div><div class=paragraph><p>É normal que muitos desenvolvedores informem a Equipe de Engenharia de Release do FreeBSD sobre vários trabalhos em andamento. Em alguns casos, uma extensão para o trabalho em andamento será solicitada e, em outros casos, uma solicitação para uma "aprovação geral" para um subconjunto específico da árvore será feita.</p></div><div class=paragraph><p>Quando tais solicitações são feitas, é importante certificar-se de que os cronogramas (mesmo que estimados) sejam discutidos. Para as aprovações gerais, o período de tempo para a aprovação geral deve ser claro. Por exemplo, um desenvolvedor do FreeBSD pode solicitar aprovações gerais desde o início do code slush até o início da construção da primeira <code>RC</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Para manter o controle das aprovações gerais, a Equipe de Engenharia de Release do FreeBSD usa um repositório interno para manter um registro de tais solicitações, que define a área na qual uma aprovação geral foi concedida, o(s) autor(es), quando a aprovação geral expira e a razão pela qual a aprovação foi concedida. Um exemplo disso é a concessão de uma aprovação geral na <span class=filename>release/doc/</span> a todos os membros da Equipe de Engenharia de Release do FreeBSD até o <code>RC</code> final para atualizar as notas de lançamento e outras documentação relacionada ao lançamento.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A Equipe de Engenharia de Release do FreeBSD também usa este repositório para rastrear solicitações de aprovação pendentes que são recebidas antes de iniciar várias compilações durante o ciclo de release, que o Engenheiro de Release especifica o período de corte com um email para os desenvolvedores do FreeBSD.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Dependendo do conjunto de código subjacente em questão, e do impacto geral que o conjunto de código tem no FreeBSD como um todo, tais solicitações podem ser aprovadas ou negadas pela Equipe de Engenharia de Release do FreeBSD.</p></div><div class=paragraph><p>O mesmo se aplica às extensões de trabalho em andamento. Por exemplo, o trabalho em andamento para um novo driver de dispositivo que de outra forma é isolado do restante da árvore pode receber uma extensão. Um novo scheduler, no entanto, pode não ser viável, especialmente se tais mudanças dramáticas não existirem em outra branch.</p></div><div class=paragraph><p>O cronograma também é adicionado ao site do projeto, no repositório <code>doc</code>, em <span class=filename>head/en_US.ISO8859-1/htdocs/releases/12.0R/schedule.xml</span>. Este arquivo é continuamente atualizado conforme o ciclo progride.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Na maioria dos casos, o <span class=filename>schedule.xml</span> pode ser copiado de uma versão anterior e atualizado de acordo.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Além de adicionar o <span class=filename>schedule.xml</span> ao site, o <span class=filename>head/shared/xml/navibar.ent</span> e o <span class=filename>head/shared/xml/release.ent</span> também são atualizados para adicionar o link para o cronograma em várias subpáginas, bem como para habilitar o link para o cronograma na página principal do website do projeto.</p></div><div class=paragraph><p>O cronograma também chamado a partir de <span class=filename>head/en_US.ISO8859-1/htdocs/releng/index.xml</span>.</p></div><div class=paragraph><p>Aproximadamente um mês antes do "code slush", a Equipe de Engenharia de Release do FreeBSD envia um email de lembrete para os desenvolvedores do FreeBSD.</p></div><div class=paragraph><p>Uma vez que as primeiras compilações do ciclo de release estejam disponíveis, atualize a entidade <code>beta.local.where</code> em <span class=filename>head/en_US.ISO8859-1/htdocs/releases/12.0R/schedule.xml</span>. substituindo <code>IGNORE</code> por <code>INCLUDE</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se dois ciclos de lançamento paralelo estão acontecendo ao mesmo tempo, a entidade <code>beta2.local.where</code> pode ser usada no lugar.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=releng-terms>3. Terminologia da Engenharia de Release<a class=anchor href=#releng-terms></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve algumas das terminologias usadas no restante deste documento.</p></div><div class=sect2><h3 id=releng-terms-code-slush>3.1. O Code Slush<a class=anchor href=#releng-terms-code-slush></a></h3><div class=paragraph><p>Embora o code slush não seja um congelamento mandatório da árvore, a Equipe de Engenharia de Release do FreeBSD solicita que resoluções dos bugs existentes no código tenham prioridade sobre implementação de novos recursos.</p></div><div class=paragraph><p>O code slush não impõe aprovações de confirmação para o Branch.</p></div></div><div class=sect2><h3 id=releng-terms-code-freeze>3.2. O Code Freeze<a class=anchor href=#releng-terms-code-freeze></a></h3><div class=paragraph><p>O code freeze marca o momento em que todos os commits para a branch exigem aprovação explícita da Equipe de Engenharia de Release do FreeBSD.</p></div><div class=paragraph><p>O repositório Subversion do FreeBSD contém vários ganchos para executar verificações de integridade antes que qualquer commit seja realmente confirmado na árvore. Um desses ganchos avaliará se o comprometimento com uma branch específica requer aprovação específica.</p></div><div class=paragraph><p>Para impor aprovações de commit pela Equipe de Engenharia de Release do FreeBSD, o Engenheiro de Release atualiza o <span class=filename>base/svnadmin/conf/approvers</span>, e aplica a mudança de volta para o repositório. Feito isso, qualquer alteração na branch deve incluir uma linha "Aprovado por:" na mensagem de commit.</p></div><div class=paragraph><p>A linha "Aprovada por:" deve corresponder à segunda coluna em <span class=filename>base/svnadmin/conf/aprovovers</span>, caso contrário, o commit será rejeitado pelos hooks do repositório.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Durante o code freeze, os committers do FreeBSD devem seguir as <a href=https://wiki.freebsd.org/Releng/ChangeRequestGuidelines>Recomendações de Requisição de Mudanças</a>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=releng-terms-kbi-freeze>3.3. O KBI / Congelamento KPI<a class=anchor href=#releng-terms-kbi-freeze></a></h3><div class=paragraph><p>A estabilidade de KBI/KPI implica que o caller (que faz uma chamada) de uma função através de duas versões diferentes de software que implementam a função, resulta no mesmo estado final. O caller, seja um processo, thread ou função, espera que a função opere de uma determinada maneira, caso contrário, a estabilidade do KBI/KPI na branch é interrompida.</p></div></div></div></div><div class=sect1><h2 id=releng-website>4. Alterações na Página Web Durante o Ciclo de Release<a class=anchor href=#releng-website></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve as alterações no site que devem ocorrer conforme o ciclo de lançamento progride.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os arquivos especificados ao longo desta seção são relativos à branch <code>head/</code> do repositório <code>doc</code> no Subversion.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=releng-website-prerelease>4.1. Alterações na Página Web Antes do Início do Ciclo de Release<a class=anchor href=#releng-website-prerelease></a></h3><div class=paragraph><p>Quando o cronograma do ciclo de release está disponível, esses arquivos precisam ser atualizados para habilitar várias funcionalidades diferentes no site do Projeto FreeBSD:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Arquivo para editar</th><th class="tableblock halign-left valign-top">O que mudar</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>share/xml/release.ent</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altere <code>beta.upcoming</code> de <code>IGNORE</code> para <code>INCLUDE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>share/xml/release.ent</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altere <code>% beta.upcoming</code> de <code>IGNORE</code> para <code>INCLUDE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>share/xml/release.ent</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altere <code>beta.testing</code> de <code>IGNORE</code> para <code>INCLUDE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>share/xml/release.ent</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altere <code>% beta.testing</code> de <code>IGNORE</code> para <code>INCLUDE</code></p></td></tr></tbody></table></div><div class=sect2><h3 id=releng-website-beta-rc>4.2. Alterações na página web durante a fase <code>BETA</code> ou <code>RC</code><a class=anchor href=#releng-website-beta-rc></a></h3><div class=paragraph><p>Ao fazer a transição de <code>PRERELEASE</code> para <code>BETA</code>, esses arquivos precisam ser atualizados para ativar o bloco "Teste de ajuda" na página de download. Todos os arquivos são relativos ao <span class=filename>head/</span> no repositório <code>doc</code>:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Arquivo para editar</th><th class="tableblock halign-left valign-top">O que mudar</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>en_US.ISO8859-1/htdocs/releases/12.0R/schedule.xml</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altere <code>% beta.local.where</code> <code>IGNORE</code> para <code>INCLUDE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>share/xml/release.ent</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize <code>% betarel.vers</code> para <code>BETA1</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>share/xml/news.xml</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adicione uma entrada anunciando a versão <code>BETA</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>en_US.ISO8859-1/htdocs/security/advisory-template.txt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adicione as novas <code>BETA</code>, <code>RC</code> ou <code>RELEASE</code> final ao modelo</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>en_US.ISO8859-1/htdocs/security/errata-template.txt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adicione as novas <code>BETA</code>, <code>RC</code> ou <code>RELEASE</code> final ao modelo</p></td></tr></tbody></table><div class=paragraph><p>Uma vez criada a branch <code>releng/<em>12.0</em>/</code>, os diversos documentos relacionados à release precisam ser gerados e adicionados manualmente ao repositório <code>doc/</code>.</p></div><div class=paragraph><p>Dentro de <span class=filename>release/doc</span>, invoque <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> para gerar as páginas <span class=filename>errata.html</span>, <span class=filename>hardware.html</span>, <span class=filename>readme.html</span> e <span class=filename>relnotes.html</span>, que são então adicionadas ao diretório <span class=filename>doc/head/en_US.ISO8859-1/htdocs/releases/XYR/</span>, em que <em>XY</em> representa o número da versão principal e da versão secundária.</p></div><div class=paragraph><p>A propriedade <code>fbsd:nokeywords</code> deve ser definido como <code>on</code> nos arquivos recém-adicionados para que os hooks de pré-commit permitam que eles sejam adicionados ao repositório.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os documentos relevantes relacionados à release existem no repositório <span class=filename>doc</span> para FreeBSD 12.x e posterior.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=releng-ports-beta-rc>4.3. Mudanças nos ports durante as fases <code>BETA</code>, <code>RC</code>, e a versão <code>RELEASE</code> final<a class=anchor href=#releng-ports-beta-rc></a></h3><div class=paragraph><p>Para cada compilação durante o ciclo de release, os arquivos <code>MANIFEST</code> contendo o <code>SHA256</code> dos vários conjuntos de distribuição, como <code>base.txz</code>, <code>kernel.txz</code>, e assim por diante, são adicionados ao port <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-release-manifests/>misc/freebsd-release-manifests</a>. Isso permite outros utilitários além do <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdinstall&amp;sektion=8&amp;format=html">bsdinstall(8)</a>, como <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/poudriere/>ports-mgmt/poudriere</a>, usem esses conjuntos de distribuição com segurança fornecendo um mecanismo através do qual os checksums possam ser verificados.</p></div></div></div></div><div class=sect1><h2 id=releng-head>5. Releases a partir da branch <code>head/</code><a class=anchor href=#releng-head></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve os procedimentos gerais do ciclo de release do FreeBSD na branch <code>head</code>.</p></div><div class=sect2><h3 id=releng-head-builds-alpha>5.1. Compilações “ALPHA” do FreeBSD<a class=anchor href=#releng-head-builds-alpha></a></h3><div class=paragraph><p>Tendo aparecido primeiramente durante o ciclo de release do FreeBSD 10.0-RELEASE, a noção de compilações de fases “ALPHA” foi introduzida. Ao contrário das compilações <code>BETA</code> e <code>RC</code>, as compilações desse novo estágio <code>ALPHA</code> não fazem parte do cronograma de Release do FreeBSD.</p></div><div class=paragraph><p>A idéia por trás das compilações <code>ALPHA</code> é disponibilizar builds regulares fornecidas pelo FreeBSD antes da criação da branch <code>stable/</code>.</p></div><div class=paragraph><p>Os snapshots <code>ALPHA</code> do FreeBSD devem ser preparados aproximadamente uma vez por semana.</p></div><div class=paragraph><p>Para a primeira compilação <code>ALPHA</code>, o valor BRANCH em <span class=filename>sys/conf/newvers.sh</span> precisa ser alterado de <code>CURRENT</code> para <code>ALPHA1</code>. Para compilações <code>ALPHA</code> subsequentes, incremente cada valor de <code>ALPHA<em>N</em></code> em um.</p></div><div class=paragraph><p>Veja <a href=#releng-building>Construindo a Mídia de Instalação do FreeBSD</a> para informações sobre como construir as imagens <code>ALPHA</code>.</p></div></div><div class=sect2><h3 id=releng-head-branching>5.2. Criando a branch <code>stable/<em>12</em>/</code><a class=anchor href=#releng-head-branching></a></h3><div class=paragraph><p>Ao criar a branch <code>stable/</code>, várias alterações são necessárias na nova branch <code>stable/</code> e na branch <code>head/</code>. Os arquivos listados são relativos ao repositório raiz. Para criar a nova branch <code>stable/<em>12</em>/</code> no Subversion:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>cp</span> ^/head stable/12/</code></pre></div></div><div class=paragraph><p>Uma vez que a branch <code>stable/<em>12</em>/</code> tenha sido criada, faça as seguintes edições:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Arquivo para editar</th><th class="tableblock halign-left valign-top">O que mudar</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/UPDATING</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize a versão do FreeBSD e remova o aviso sobre <code>WITNESS</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/contrib/jemalloc/include/jemalloc/jemalloc_FreeBSD.h</span></p></td><td class="tableblock halign-left valign-top"><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c>#ifndef MALLOC_PRODUCTION</span>
<span class=c>#define MALLOC_PRODUCTION</span>
<span class=c>#endif</span></code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/lib/clang/llvm.build.mk</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remova o comentário <code>-DNDEBUG</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/sys/*/conf/GENERIC*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remova o suporte de depuração</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/sys/*/conf/MINIMAL</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remova o suporte de depuração</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/release/release.conf.sample</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>SRCBRANCH</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/sys/*/conf/GENERIC-NODEBUG</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remova essas configurações do kernel</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/sys/arm/conf/std.arm*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remova as opções de depuração</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/sys/conf/newvers.sh</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o valor de BRANCH para refletir <code>BETA1</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/shared/mk/src.opts.mk</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mova <code>REPRODUCIBLE_BUILD</code> de <code>__DEFAULT_NO_OPTIONS</code> para <code>__DEFAULT_YES_OPTIONS</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/libexec/rc/rc.conf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Defina o <code>dumpdev</code> de <code>AUTO</code> para <code>NO</code> (ele é configurável via <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdinstall&amp;sektion=8&amp;format=html">bsdinstall(8)</a> para aqueles que o querem habilitado por padrão)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/release/Makefile</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remova as entradas <code>debug.witness.trace</code></p></td></tr></tbody></table><div class=paragraph><p>Então, na branch <code>head/</code>, que agora se tornará uma nova versão principal:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Arquivo para editar</th><th class="tableblock halign-left valign-top">O que mudar</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/UPDATING</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize a versão do FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/sys/conf/newvers.sh</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o valor de BRANCH para refletir <code>CURRENT</code> e incremente a <code>REVISION</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/Makefile.inc1</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>TARGET_TRIPLE</code> e o <code>MACHINE_TRIPLE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/sys/sys/param.h</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>__FreeBSD_version</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/gnu/usr.bin/cc/cc_tools/freebsd-native.h</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>FBSD_MAJOR</code> e o <code>FBSD_CC_VER</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/contrib/gcc/config.gcc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Anexe a seção <code>freebsd&lt;versão>.h</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/lib/clang/llvm.build.mk</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o valor do <code>OS_VERSION</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/lib/clang/freebsd_cc_version.h</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>FREEBSD_CC_VERSION</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/lib/clang/include/lld/Common/Version.inc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>LLD_REVISION_STRING</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/Makefile.libcompat</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>LILB32CPUFLAGS</code></p></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=releng-stable>6. Release a partir da branch <code>stable/</code><a class=anchor href=#releng-stable></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve os procedimentos gerais do ciclo de release do FreeBSD a partir de uma branch <code>stable/</code>.</p></div><div class=sect2><h3 id=releng-stable-slush>6.1. Code Slush da branch <code>stable</code> do FreeBSD<a class=anchor href=#releng-stable-slush></a></h3><div class=paragraph><p>Na preparação para o code freeze em uma branch <code>stable</code>, vários arquivos precisam ser atualizados para refletir o ciclo de release que está oficialmente em andamento. Esses arquivos são todos relativos ao nível mais alto da branch stable:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Arquivo para editar</th><th class="tableblock halign-left valign-top">O que mudar</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>sys/conf/newvers.sh</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o valor da BRANCH para refletir <code>PRERELEASE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Makefile.inc1</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>TARGET_TRIPLE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lib/clang/llvm.build.mk</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>OS_VERSION</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Makefile.libcompat</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>LILB32CPUFLAGS</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnu/usr.bin/groff/tmac/mdoc.local.in</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adiciona uma nova entrada <code>.ds</code> para a versão do FreeBSD, e atualiza <code>doc-default-operating-system</code> (FreeBSD 11.x e anteriores apenas)</p></td></tr></tbody></table><div class=paragraph><p>No repositório <code>doc</code>, atualize também <span class=filename>head/pt_BR.ISO8859-1/htdocs/releases/12.0R/Makefile.hardware</span>, alternando o valor de <code>_BRANCH</code> para <code>BETA<em>X</em></code>, <code>RC<em>X</em></code> ou <code>RELEASE</code>, respectivamente.</p></div></div><div class=sect2><h3 id=releng-stable-builds-beta>6.2. Builds <code>BETA</code> do FreeBSD<a class=anchor href=#releng-stable-builds-beta></a></h3><div class=paragraph><p>Após o code slush, a próxima fase do ciclo de release é o code freeze. Este é o ponto no qual todos os commits para a branch stable requerem aprovação explícita da Equipe de Engenharia de Release do FreeBSD. Isto é reforçado por hooks de pré-commit no repositório Subversion editando <span class=filename>base/svnadmin/conf/approvers</span> para incluir uma expressão regular que coincida com a branch <code>stable/<em>12</em>/</code> para a release:</p></div><div class="literalblock programlisting"><div class=content><pre>^/stable/12/	re
^/releng/12.0/	re</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Há duas exceções gerais para exigir aprovação de commit durante o ciclo de release. A primeira é qualquer alteração que precise ser "committed" pelo Engenheiro de Release para continuar com o fluxo de trabalho diário do ciclo de lançamento, e a outra são as correções de segurança que podem ocorrer durante o ciclo de lançamento.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Quando o code freeze estiver em vigor, a próxima construção da branch será rotulada como <code>BETA1</code>. Isso é feito atualizando o valor de BRANCH em <span class=filename>sys/conf/newvers.sh</span> de <code>PRERELEASE</code> para <code>BETA1</code>.</p></div><div class=paragraph><p>Feito isso, o primeiro conjunto de builds <code>BETA</code> é iniciado. Builds <code>BETA</code> subseqüentes não requerem atualizações em nenhum arquivo diferente do <span class=filename>sys/conf/newvers.sh</span>, incrementando o número de compilação da versão <code>BETA</code>.</p></div></div><div class=sect2><h3 id=releng-stable-branching>6.3. Criando a branch <code>releng/<em>12.0</em>/</code><a class=anchor href=#releng-stable-branching></a></h3><div class=paragraph><p>Quando a primeira construção <code>RC</code> (Release Candidate) está pronta para começar, a branch <code>releng/</code> é criada. Este é um processo de várias etapas que deve ser feito em uma ordem específica, a fim de evitar anomalias, como sobreposições com valores de <code>__FreeBSD_version</code>, por exemplo. Os caminhos listados abaixo são relativos ao repositório raiz. A ordem dos commits e o que mudar são:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>cp</span> ^/stable/12/ releng/12.0/</code></pre></div></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Arquivo para editar</th><th class="tableblock halign-left valign-top">O que mudar</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>releng/12.0/sys/conf/newvers.sh</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altere <code>BETA<em>X</em></code> para <code>RC1</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>releng/12.0/sys/sys/param.h</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>__FreeBSD_version</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>releng/12.0/etc/pkg/FreeBSD.conf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Substitua <code>latest</code> por <code>quarterly</code> (trimestral) como a localização padrão do repositório de pacotes</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>releng/12.0/release/pkg_repos/release-dvd.conf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Substitua <code>latest</code> por <code>quarterly</code> (trimestral) como a localização padrão do repositório de pacotes</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/sys/conf/newvers.sh</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize <code>BETA<em>X</em></code> para <code>PRERELEASE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>stable/12/sys/sys/param.h</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualize o <code>__FreeBSD_version</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>svnadmin/conf/approvers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adicione uma nova linha de aprovadores para a branch releng como foi feito para a branch stable</p></td></tr></tbody></table><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn propdel <span class=nt>-R</span> svn:mergeinfo releng/12.0/
% svn commit releng/12.0/
% svn commit stable/12/</code></pre></div></div><div class=paragraph><p>Agora que existem dois novos valores de <code>__FreeBSD_version</code>, também atualize <span class=filename>head/pt_BR.ISO8859-1/books/porters-handbook/versions/chapter.xml</span> no repositório do Projeto de Documentação.</p></div><div class=paragraph><p>Depois que a primeira compilação de um <code>RC</code> estiver concluída e testada, a branch <code>stable/</code> pode ser "descongelada" removendo (ou comentando) a entrada ^/<code>stable/<em>12</em>/</code> em <span class=filename>svnadmin/conf/approvers</span>.</p></div><div class=paragraph><p>Seguindo a disponibilidade do primeiro <code>RC</code>, o Time Bugmeister do FreeBSD deve ser avisado por e-mail para adicionar o novo FreeBSD <code>-RELEASE</code> às <code>versões</code> disponíveis no menu drop-down exibido no rastreador de bugs.</p></div></div></div></div><div class=sect1><h2 id=releng-building>7. Construindo a Mídia de Instalação do FreeBSD<a class=anchor href=#releng-building></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve os procedimentos gerais de produção de snapshots e releases de desenvolvimento do FreeBSD.</p></div><div class=sect2><h3 id=releng-build-scripts>7.1. Scripts para compilação de Releases<a class=anchor href=#releng-build-scripts></a></h3><div class=paragraph><p>Esta seção descreve os scripts de build usados pela Equipe de Engenharia de Release do FreeBSD para produzir snapshots da versão em desenvolvimento e das releases.</p></div><div class=sect3><h4 id=releng-build-scripts-single>7.1.1. O script <span class=filename>release.sh</span><a class=anchor href=#releng-build-scripts-single></a></h4><div class=paragraph><p>Antes do FreeBSD 9.0-RELEASE, o <span class=filename>src/release/Makefile</span> era atualizado para suportar o <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdinstall&amp;sektion=8&amp;format=html">bsdinstall(8)</a>, e o script <span class=filename>src/release/generate-release.sh</span> foi introduzido como um wrapper para automatizar a chamada dos targets <a href="https://man.freebsd.org/cgi/man.cgi?query=release&amp;sektion=7&amp;format=html">release(7)</a>.</p></div><div class=paragraph><p>Antes do FreeBSD 9.2-RELEASE, foi introduzido o <span class=filename>src/release/release.sh</span>, que baseado fortemente em <span class=filename>src/release/generate-release.sh</span> incluía suporte para especificar arquivos de configuração para substituir várias opções e variáveis de ambiente. O suporte para arquivos de configuração forneceu suporte para cross building (compilação para mais de uma arquitetura) de uma release para cada arquitetura, especificando um arquivo de configuração separado para cada chamada.</p></div><div class=paragraph><p>Como um breve exemplo do uso de <span class=filename>src/release/release.sh</span> para construir uma única versão em <span class=filename>/scratch</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /bin/sh /usr/src/release/release.sh</span></code></pre></div></div><div class=paragraph><p>Como um breve exemplo do uso de <span class=filename>src/release/release.sh</span> para construir uma única versão cross-build (entre arquiteturas) usando um diretório de destino diferente, crie um <span class=filename>release.conf</span> personalizado contendo:</p></div><div class="literalblock programlisting"><div class=content><pre># release.sh configuration for powerpc/powerpc64
CHROOTDIR=&#34;/scratch-powerpc64&#34;
TARGET=&#34;powerpc&#34;
TARGET_ARCH=&#34;powerpc64&#34;
KERNEL=&#34;GENERIC64&#34;</pre></div></div><div class=paragraph><p>Em seguida, invoque <span class=filename>src/release/release.sh</span> da seguinte forma:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /bin/sh /usr/src/release/release.sh -c $HOME/release.conf</span></code></pre></div></div><div class=paragraph><p>Veja <a href="https://man.freebsd.org/cgi/man.cgi?query=release&amp;sektion=7&amp;format=html">release(7)</a> e <span class=filename>src/release/release.conf.sample</span> para mais detalhes e exemplos de uso.</p></div></div><div class=sect3><h4 id=releng-build-scripts-multiple>7.1.2. O Script Wrapper <span class=filename>thermite.sh</span><a class=anchor href=#releng-build-scripts-multiple></a></h4><div class=paragraph><p>Para tornar o cross building do conjunto completo de arquiteturas suportadas em uma determinada branch mais rápido, mais fácil e reduzindo os fatores de erro humano, um script wrapper de apoio ao <span class=filename>src/release/release.sh</span> foi escrito para iterar pelas várias combinações de arquiteturas e chamar o script <span class=filename>src/release/release.sh</span> usando um arquivo de configuração específico para essa arquitetura.</p></div><div class=paragraph><p>O script wrapper é chamado de <span class=filename>thermite.sh</span>, o qual está disponível no repositório Subversion do FreeBSD em <code>svn://svn.freebsd.org/base/user/gjb/thermite/</code> , além dos arquivos de configuração usados para construir os snapshots de desenvolvimento <code>head/</code> e <code>stable/<em>12</em>/</code>.</p></div><div class=paragraph><p>O uso do <span class=filename>thermite.sh</span> é explicado em <a href=#releng-build-snapshot>Construindo Snapshots de Desenvolvimento do FreeBSD</a> e <a href=#releng-build-release>Construindo Releases do FreeBSD</a>.</p></div><div class=paragraph><p>Cada arquitetura e kernel individual tem seu próprio arquivo de configuração usado pelo <span class=filename>release.sh</span>. Cada branch tem sua própria configuração <span class=filename>defaults-X.conf</span> que contém entradas comuns em cada arquitetura, onde substituições ou variáveis especiais são definidas e/ou substituídas nos arquivos por compilação.</p></div><div class=paragraph><p>O esquema de nomenclatura do arquivo de configuração por compilação está na forma de <span class=filename>${revision}-${TARGET_ARCH}-${KERNCONF}-${type}.conf</span>, em que as variáveis em maiúsculas são equivalentes a que <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> usa no sistema de compilação e as variáveis minúsculas são definidas nos arquivos de configuração, mapeando para a versão principal da respectiva branch.</p></div><div class=paragraph><p>Cada branch também possui sua própria configuração <span class=filename>builds-X.conf</span>, que é usada pelo <span class=filename>thermite.sh</span>. O script <span class=filename>thermite.sh</span> itera através de cada valor ${revision}, ${TARGET_ARCH}, ${KERNCONF} e ${type}, criando uma lista principal do que construir. No entanto, uma determinada combinação da lista só será criada se o respectivo arquivo de configuração existir, que é onde o esquema de nomenclatura acima é relevante.</p></div><div class=paragraph><p>Existem dois caminhos de fornecimento de arquivos:</p></div><div class=ulist><ul><li><p><span class=filename>builds-12.conf</span> → <span class=filename>main.conf</span></p><div class=paragraph><p>Isto controla o comportamento do <span class=filename>thermite.sh</span></p></div></li><li><p><span class=filename>12-amd64-GENERIC-snap.conf</span> → <span class=filename>defaults-12.conf</span> → <span class=filename>main.conf</span></p><div class=paragraph><p>Isto controla o comportamento do <span class=filename>release/release.sh</span> dentro do <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> de compilação</p></div></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os arquivos de configuração <span class=filename>builds-12.conf</span>, <span class=filename>defaults-12.conf</span>, e <span class=filename>main.conf</span> existem para reduzir a repetição entre os vários arquivos por compilação.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=releng-build-snapshot>7.2. Construindo Snapshots de Desenvolvimento do FreeBSD<a class=anchor href=#releng-build-snapshot></a></h3><div class=paragraph><p>As máquinas oficiais de compilação de versões têm um layout do sistema de arquivos específico, que utiliza ZFS, o <span class=filename>thermite.sh</span> tira grande proveito de clones e snapshots, garantindo um ambiente de compilação uniforme e consistente.</p></div><div class=paragraph><p>Os scripts de compilação localizam-se respectivamente em <span class=filename>/releng/scripts-snapshot/scripts</span> ou <span class=filename>/releng/scripts-release/scripts</span>, para evitar colisões entre uma compilação <code>RC</code> de uma branch releng contra um snapshot <code>STABLE</code> da respectiva branch stable.</p></div><div class=paragraph><p>Existe um dataset (conjunto de dados) separado para as imagens finais de compilação, <span class=filename>/snap/ftp</span>. Este diretório contém diretórios de snapshots e releases. Eles são usados apenas se a variável <code>EVERYTHINGISFINE</code> estiver definida em <span class=filename>main.conf</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O nome da variável <code>EVERYTHINGISFINE</code> foi escolhido para evitar a colisão com uma variável possivelmente definida no ambiente do usuário, ativando acidentalmente o comportamento que depende de sua definição.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Como o <span class=filename>thermite.sh</span> percorre a lista principal de combinações e localiza o arquivo de configuração por compilação, um dataset ZFS é criado sob o <span class=filename>/releng</span>, tal como <span class=filename>/releng/12-amd64-GENERIC-snap</span>. O checkout das árvores <code>src/</code>, <code>ports/</code> e <code>doc/</code> é realizado em diferentes datasets ZFS, tal como <span class=filename>/releng/12-src-snap</span>, os quais são então clonados e montados nos respectivos datasets de compilação. Isso é feito para evitar a remoção de uma determinada árvore mais de uma vez.</p></div><div class=paragraph><p>Assumindo esses caminhos do sistema de arquivos, o <span class=filename>thermite.sh</span> deveria ser chamado como:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /releng/scripts-snapshot/scripts</span>
<span class=c># ./setrev.sh -b stable/12/</span>
<span class=c># ./zfs-cleanup.sh -c ./builds-12.conf</span>
<span class=c># ./thermite.sh -c ./builds-12.conf</span></code></pre></div></div><div class=paragraph><p>Quando as compilações forem concluídas, scripts adicionais auxiliares estarão disponíveis para gerar e-mails de snapshots de desenvolvimento que são enviados para a lista de e-mail <code>freebsd-snapshots@freebsd.org</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /releng/scripts-snapshot/scripts</span>
<span class=c># ./get-checksums.sh -c ./builds-12.conf | ./generate-email.pl &gt; snapshot-12-mail</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A saída gerada deve ser checada duas vezes para garantir a exatidão, e o próprio e-mail deve ter assinatura PGP, in-line (no arquivo).</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Esses scripts auxiliares aplicam-se apenas às compilações de snapshot (versão instantânea) de desenvolvimento. Os anúncios durante o ciclo de lançamento (excluindo o anúncio de versão final) são criados a partir de um modelo de email. Uma amostra do modelo de email usado atualmente pode ser encontrada <a href=https://svn.freebsd.org/base/user/gjb/thermite/non-release-template-mail.txt>aqui</a>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=releng-build-release>7.3. Construindo Releases do FreeBSD<a class=anchor href=#releng-build-release></a></h3><div class=paragraph><p>Similar a compilação de snapshots de desenvolvimento do FreeBSD, o <span class=filename>thermite.sh</span> seria invocado da mesma maneira. A diferença entre snapshots de desenvolvimento e builds de releases, <code>BETA</code> e <code>RC</code> inclusos, é que os arquivos de configuração do <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> devem ser nomeados com <code>release</code> ao invés de <code>snap</code> no "type", como mencionado acima.</p></div><div class=paragraph><p>Além disso, <code>BUILDTYPE</code> e <code>types</code> devem ser alterados de <code>snap</code> para <code>release</code> em <span class=filename>defaults-12.conf</span> e <span class=filename>builds-12.conf</span>, respectivamente.</p></div><div class=paragraph><p>Ao construir o <code>BETA</code>, o <code>RC</code>, e o <code>RELEASE</code> final, também ajuste estaticamente o <code>BUILDSVNREV</code> para a revisão na branch refletindo a mudança de nome, <code>BUILDDATE</code> para a data em que as compilações são iniciadas no formato <code>YYYYMMDD</code>. Se as árvores <code>doc/</code> e <code>ports/</code> tiverem sido marcadas, defina também o <code>PORTBRANCH</code> e o <code>DOCBRANCH</code> para o caminho da tag relevante no repositório Subversion, substituindo <code>HEAD</code> pela última revisão alterada. Também defina <code>releasesrc</code> em <span class=filename>builds-12.conf</span> para a branch relevante, como <code>stable/<em>12</em>/</code> ou <code>releng/<em>12.0</em>/</code>.</p></div><div class=paragraph><p>Durante o ciclo de release, uma cópia do <span class=filename>CHECKSUM.SHA512</span> e do <span class=filename>CHECKSUM.SHA256</span> para cada arquitetura é armazenada no repositório interno da Equipe de Engenharia de Release do FreeBSD, além de ser incluída nos diversos e-mails de anúncio. Cada <span class=filename>MANIFEST</span> contendo os hashes do <span class=filename>base.txz</span>, do <span class=filename>kernel.txz</span>, etc. também são adicionados ao <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-release-manifests/>misc/freebsd-release-manifests</a> na coleção de ports.</p></div><div class=paragraph><p>Depois de construir a <code>RELEASE</code> final, a branch <code>releng/<em>12.0</em>/</code> é marcada como <code>release/<em>12.0.0</em>/</code> usando a revisão a partir da qual a <code>RELEASE</code> foi construída. Semelhante a criar as branches <code>stable/<em>12</em>/</code> e <code>releng/<em>12.0</em>/</code>, isso é feito com <code>svn cp</code>. Da raiz do repositório:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>cp</span> ^/releng/12.0/@r306420 release/12.0.0/
% svn commit release/12.0.0/</code></pre></div></div></div></div></div><div class=sect1><h2 id=releng-mirrors>8. Publicando a Mídia de Instalação do FreeBSD nos Espelhos do Projeto<a class=anchor href=#releng-mirrors></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve o procedimento para publicar snapshots e releases de desenvolvimento do FreeBSD nos espelhos do Projeto.</p></div><div class=sect2><h3 id=releng-mirrors-staging>8.1. Preparando Imagens de Mídias de Instalação do FreeBSD<a class=anchor href=#releng-mirrors-staging></a></h3><div class=paragraph><p>A preparação dos snapshots e das versões do FreeBSD é um processo de duas partes:</p></div><div class=ulist><ul><li><p>Criando a estrutura de diretórios para corresponder a hierarquia em <code>ftp-master</code></p><div class=paragraph><p>Se <code>EVERYTHINGISFINE</code> for definido nos arquivos de configuração de compilação, <span class=filename>main.conf</span> no caso dos scripts de compilação mencionados acima, isto acontece automaticamente no <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> após a compilação ser concluída, criando a estrutura de diretório em <span class=filename>${DESTDIR}/R/ftp-stage</span> com um estrutura de caminho que corresponde ao que é esperado em <code>ftp-master</code>. Isto é equivalente a executar o seguinte diretamente no <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -C /usr/src/release -f Makefile.mirrors EVERYTHINGISFINE=1 ftp-stage</span></code></pre></div></div><div class=paragraph><p>Depois que cada arquitetura é compilada, o <span class=filename>thermite.sh</span> irá fazer um rsync do <span class=filename>${DESTDIR}/R/ftp-stage</span> da compilação <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> para o diretório <span class=filename>/snap/ftp/snapshots</span> ou <span class=filename>/snap/ftp/releases</span> no host de compilação, respectivamente.</p></div></li><li><p>Copiando os arquivos para um diretório temporário em <code>ftp-master</code> antes de mover os arquivos para <span class=filename>pub/</span> para iniciar a propagação para os servidores espelhos do Projeto</p><div class=paragraph><p>Uma vez que todas as compilações terminarem, <span class=filename>/snap/ftp/snapshots</span>, ou <span class=filename>/snap/ftp/releases</span> para uma versão, é pesquisado pelo <code>ftp-master</code> usando rsync para <span class=filename>/archive/tmp/snapshots</span> ou <span class=filename>/archive/tmp/releases</span>, respectivamente.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>No <code>ftp-master</code> na infraestrutura do Projeto FreeBSD, esta etapa requer acesso ao nível de <code>root</code>, já que esta etapa deve ser executada como o usuário <code>archive</code>.</p></div></td></tr></tbody></table></div></li></ul></div></div><div class=sect2><h3 id=releng-mirrors-publishing>8.2. Publicando a Mídia de Instalação do FreeBSD<a class=anchor href=#releng-mirrors-publishing></a></h3><div class=paragraph><p>Uma vez que as imagens são colocadas em <span class=filename>/archive/tmp/</span>, elas estão prontas para serem publicadas colocando-as em <span class=filename>/archive/pub/FreeBSD</span>. Para reduzir o tempo de propagação, o <a href="https://man.freebsd.org/cgi/man.cgi?query=pax&amp;sektion=1&amp;format=html">pax(1)</a> é usado para criar links físicos a partir de <span class=filename>/archive/tmp</span> para <span class=filename>/archive/pub/FreeBSD</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Para que isto seja efetivo, tanto o <span class=filename>/archive/tmp</span> quanto o <span class=filename>/archive/pub</span> devem residir no mesmo sistema de arquivos lógico.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Há uma ressalva, no entanto, em que o rsync deve ser usado após o <a href="https://man.freebsd.org/cgi/man.cgi?query=pax&amp;sektion=1&amp;format=html">pax(1)</a> para corrigir os links simbólicos no <span class=filename>pub/FreeBSD/snapshots/ISO-IMAGES</span> que o <a href="https://man.freebsd.org/cgi/man.cgi?query=pax&amp;sektion=1&amp;format=html">pax(1)</a> irá substituir por um hard link, aumentando o tempo de propagação.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Assim como nas etapas de preparação, isto requer acesso em nível de <code>root</code>, já que essa etapa deve ser executada como o usuário <code>archive</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Como o usuário <code>archive</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> /archive/tmp/snapshots
% pax <span class=nt>-r</span> <span class=nt>-w</span> <span class=nt>-l</span> <span class=nb>.</span> /archive/pub/FreeBSD/snapshots
% /usr/local/bin/rsync <span class=nt>-avH</span> /archive/tmp/snapshots/<span class=k>*</span> /archive/pub/FreeBSD/snapshots/</code></pre></div></div><div class=paragraph><p>Substitua os <em>snapshots</em> por <em>releases</em> conforme apropriado.</p></div></div></div></div><div class=sect1><h2 id=releng-wrapup>9. Encerrando o Ciclo de Release<a class=anchor href=#releng-wrapup></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve as tarefas gerais de pós-release.</p></div><div class=sect2><h3 id=releng-wrapup-en>9.1. Avisos de Erratas de Pós-Release<a class=anchor href=#releng-wrapup-en></a></h3><div class=paragraph><p>A medida que o ciclo de release se aproxima da conclusão, é comum ter vários candidatos a EN (Aviso de Erratas) para abordar os problemas que foram descobertos ao final do ciclo. Após o lançamento, a Equipe de Engenharia de Release do FreeBSD e a Equipe de Segurança do FreeBSD reveem mudanças que não foram aprovadas antes da versão final, e dependendo do escopo da mudança em questão, podem emitir um EN.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O processo atual de emissão de ENs é tratado pela Equipe de Segurança do FreeBSD.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Para solicitar uma Errata após a conclusão de um ciclo de lançamento, o desenvolvedor deve preencher o <a href=https://www.freebsd.org/security/errata-template.txt>Template de Errata</a>, em particular as seções <code>Background</code>, <code>Problem Description</code>, <code>Impact</code> e, se aplicável, as seções <code>Workaround</code>.</p></div><div class=paragraph><p>O modelo de Errata preenchido deve ser enviado por e-mail juntamente com um patch na branch <code>releng/</code> ou uma lista de revisões da branch <code>stable/</code>.</p></div><div class=paragraph><p>Para pedidos de Errata imediatamente após o lançamento, o pedido deve ser enviado por e-mail à Equipe de Engenharia de Releases do FreeBSD e à Equipe de Segurança do FreeBSD. Depois que a branch <code>releng/</code> foi entregue à equipe de Segurança do FreeBSD, conforme descrito em <a href=#releng-wrapup-handoff>Entrega para a Equipe de Segurança do FreeBSD</a>, as solicitações de Errata devem ser enviadas à equipe de Segurança do FreeBSD.</p></div></div><div class=sect2><h3 id=releng-wrapup-handoff>9.2. Entrega para a Equipe de Segurança do FreeBSD<a class=anchor href=#releng-wrapup-handoff></a></h3><div class=paragraph><p>Aproximadamente duas semanas após o lançamento, o Engenheiro de Release atualiza o <span class=filename>svnadmin/conf/approvers</span> alterando a coluna do aprovador de <code>re</code> para <code>(so|security-officer)</code> para a branch <code>releng/<em>12.0</em>/</code>.</p></div></div></div></div><div class=sect1><h2 id=releng-eol>10. Fim de Vida (End-of-Life) de Releases<a class=anchor href=#releng-eol></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção descreve os arquivos relacionados ao website que precisam ser atualizados quando uma release atingir o EoL (End-of-Life).</p></div><div class=sect2><h3 id=releng-eol-website>10.1. Atualizações do Website para End-of-Life<a class=anchor href=#releng-eol-website></a></h3><div class=paragraph><p>Quando uma release atinge o End-of-Life, as referências para essa release precisam ser removidas ou atualizadas no website:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Arquivo</th><th class="tableblock halign-left valign-top">O que mudar</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/en_US.ISO8859-1/htdocs/index.xsl</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remover referências <code>&amp;u.relXXX.announce;</code> e <code>&amp;u.relXXX.current;</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/en_US.ISO8859-1/htdocs/releases/index.xml</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mova as macros &amp;u.relXXX.*; da lista de releases suportadas para a lista de Releases Legadas.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/en_US.ISO8859-1/htdocs/releng/index.xml</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Atualizar a branch releng em questão para refletir que a branch não é mais suportada.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/en_US.ISO8859-1/htdocs/security/security.xml</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remover a branch da lista de branchs suportadas.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/en_US.ISO8859-1/htdocs/where.xml</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remover as URLs da release.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/share/xml/navibar.ent</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remover referências <code>&amp;u.relXXX.announce;</code> e <code>&amp;u.relXXX.current;</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/en_US.ISO8859-1/htdocs/security/advisory-template.txt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remover referências da release e releng branch.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>head/en_US.ISO8859-1/htdocs/security/errata-template.txt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Remover referências da release e releng branch.</p></td></tr></tbody></table></div></div></div><hr><div class=last-modified><p><strong>Última alteração em</strong>: 3 de novembro de 2021 por <a href="https://cgit.freebsd.org/doc/commit/?id=64acd169b8" target=_blank>Sergio Carlavilla Delgado</a></p></div></div><aside class=toc><div class=toc-content><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#introduction>1. Introdução ao Processo de Engenharia de Release do FreeBSD</a></li><li><a href=#releng-prep>2. Informação Geral e Preparativos</a></li><li><a href=#releng-terms>3. Terminologia da Engenharia de Release</a></li><li><a href=#releng-website>4. Alterações na Página Web Durante o Ciclo de Release</a></li><li><a href=#releng-head>5. Releases a partir da branch <code>head/</code></a></li><li><a href=#releng-stable>6. Release a partir da branch <code>stable/</code></a></li><li><a href=#releng-building>7. Construindo a Mídia de Instalação do FreeBSD</a></li><li><a href=#releng-mirrors>8. Publicando a Mídia de Instalação do FreeBSD nos Espelhos do Projeto</a></li><li><a href=#releng-wrapup>9. Encerrando o Ciclo de Release</a></li><li><a href=#releng-eol>10. Fim de Vida (End-of-Life) de Releases</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/pt-br/articles/freebsd-releng/freebsd-releng_pt-br.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edite essa página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/pt-br/_index target=_blank>Edite essa página</a></li></ul></div></div></aside></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/pt-br/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Escolha o idioma">
<span>Brazilian Portuguese</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/pt-br class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/pt-br/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>