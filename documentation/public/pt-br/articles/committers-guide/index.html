<!doctype html><html class=theme-light lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/pt-br/articles/committers-guide/><title>Guia dos Committers | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Guia dos Committers"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="pt-br"><meta property="og:url" content="https://docs.freebsd.org/pt-br/articles/committers-guide/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/pt-br\/articles\/committers-guide\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/pt-br>Documentation portal</a></li><li><a href=https://docs.freebsd.org/pt-br/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/pt-br/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/pt-br/books>Books</a></li><li><a href=https://docs.freebsd.org/pt-br/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/pt-br/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=pt-br>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><main class=main-wrapper-article><div class=article><h1 class=title>Guia dos Committers</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
Esta tradução pode estar desatualizada. Para ajudar com as traduções, acesse a <a href=https://translate-dev.freebsd.org/ target=_blank>ferramenta de traduções do FreeBSD</a>.</p></div><div class=copyright>Copyright © 1999-2020 Projeto de Documentação do FreeBSD</div><div class=legalnotice><a id=trademarks></a><details><summary>trademarks</summary><p>FreeBSD is a registered trademark of the FreeBSD Foundation.</p><p>Coverity is a registered trademark; Coverity Extend, Coverity Prevent and Coverity Prevent SQS are trademarks of Coverity, Inc.</p><p>IBM, AIX, OS/2, PowerPC, PS/2, S/390, and ThinkPad are trademarks of International Business Machines Corporation in the United States, other countries, or both.</p><p>Intel, Celeron, Centrino, Core, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are trademarks or registered trademarks of Intel Corporation or its subsidiaries in the United States and other countries.</p><p>SPARC, SPARC64, and UltraSPARC are trademarks of SPARC International, Inc in the United States and other countries. SPARC International, Inc owns all of the SPARC trademarks and under licensing agreements allows the proper use of these trademarks by its members.</p><p>Many of the designations used by manufacturers and sellers to distinguish their products are claimed as trademarks. Where those designations appear in this document, and the FreeBSD Project was aware of the trademark claim, the designations have been followed by the “™” or the “®” symbol.</p></details></div><div class=toc-mobile><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#admin>1. Detalhes Administrativos</a></li><li><a href=#pgpkeys>2. Chaves OpenPGP para o FreeBSD</a></li><li><a href=#kerberos-ldap>3. Kerberos e LDAP Web Password para o cluster do FreeBSD</a></li><li><a href=#committer.types>4. Tipos de Commit Bits</a></li><li><a href=#subversion-primer>5. Subversion Primer</a></li><li><a href=#conventions>6. Configuração, Convenções e Tradições</a></li><li><a href=#pre-commit-review>7. Revisão pré-commit</a></li><li><a href=#commit-log-message>8. Mensagens de Log de Commit</a></li><li><a href=#pref-license>9. Licença preferida para novos arquivos</a></li><li><a href=#tracking.license.grants>10. Acompanhando as Licenças Concedidas ao Projeto FreeBSD</a></li><li><a href=#developer.relations>11. Relações entre os Desenvolvedores</a></li><li><a href=#if-in-doubt>12. Se em dúvida…​</a></li><li><a href=#bugzilla>13. Bugzilla</a></li><li><a href=#phabricator>14. Phabricator</a></li><li><a href=#people>15. Quem é quem</a></li><li><a href=#ssh.guide>16. Guia de início rápido do SSH</a></li><li><a href=#coverity>17. Disponibilidade do Coverity® para os Committers do FreeBSD</a></li><li><a href=#rules>18. A Grande Lista de Regras dos Committers do FreeBSD</a></li><li><a href=#archs>19. Suporte para Várias Arquiteturas</a></li><li><a href=#ports>20. FAQ específico dos Ports</a></li><li><a href=#non-committers>21. Problemas Específicos para Desenvolvedores Que Não São Committers</a></li><li><a href=#misc>22. Perguntas Diversas</a></li><li><a href=#benefits>23. Benefícios e vantagens para os Commiters do FreeBSD</a></li></ul></nav></div><div id=preamble><div class=sectionbody><div class="paragraph abstract-title"><p>Resumo</p></div><div class=paragraph><p>Este documento fornece informações para a comunidade de committers do FreeBSD. Todos os novos committers devem ler este documento antes de começar, e os committers existentes são fortemente encorajados a revisá-lo de tempos em tempos.</p></div><div class=paragraph><p>Quase todos os desenvolvedores do FreeBSD possuem direitos de commit para um ou mais repositórios. No entanto, alguns desenvolvedores não tem, e algumas das informações aqui se aplicam a eles também. (Por exemplo, algumas pessoas só têm direitos para trabalhar com o banco de dados do Relatório de Problemas). Por favor, veja <a href=#non-committers>Problemas Específicos para Desenvolvedores Que Não São Committers</a> para mais informações.</p></div><div class=paragraph><p>Este documento também pode ser de interesse para os membros da comunidade FreeBSD que querem aprender mais sobre como o projeto funciona.</p></div><hr></div></div><div class=sect1><h2 id=admin>1. Detalhes Administrativos<a class=anchor href=#admin></a></h2><div class=sectionbody><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Métodos de login</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>,_apenas no protocolo 2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Servidor Principal de Shell</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>freefall.FreeBSD.org</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Servidor SMTP</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>smtp.FreeBSD.org:587</code> (veja também <a href=#smtp-setup>Configuração de acesso SMTP</a>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Raiz do Subversion para o <code><em>src/</em></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>svn+ssh://repo.FreeBSD.org/base</code> (veja também <a href=#svn-getting-started-base-layout>Branches <code>RELENG_*</code> e Layout Geral</a>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Raiz do Subversion para o <code><em>doc/</em></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>svn+ssh://repo.FreeBSD.org/doc</code> (veja também <a href=#svn-getting-started-doc-layout>Branches e Layout do Projeto de Documentação do FreeBSD</a>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Raiz do Subversion para o <code><em>ports/</em></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>svn+ssh://repo.FreeBSD.org/ports</code> (veja também <a href=#svn-getting-started-ports-layout>Branches e Layout da Árvore de Ports do FreeBSD</a>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Listas de Discussão Internas</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>developers (tecnicamente chamada de all-developers), doc-developers, doc-committers, ports-developers, ports-committers, src-developers, src-committers. (cada repositório do projeto tem as suas próprias listas de discussão -developers e -committers. Os arquivos destas listas podem ser encontrados nos arquivos <span class=filename>/local/mail/repository-name-developers-archive</span> e <span class=filename>/local/mail/repository-name-committers-archive</span> no cluster <code>FreeBSD.org</code>.)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Relatórios mensais do Core Team</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Disponíveis no diretório <span class=filename>/home/core/public/monthly-reports</span> do cluster <code>FreeBSD.org</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Relatórios mensais da Equipe de Gestão do Ports</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Disponíveis no diretório <span class=filename>/home/portmgr/public/monthly-reports</span> do cluster <code>FreeBSD.org</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Branchs SVN do <code>src/</code> dignas de atenção</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>stable/n</code> (<code>n</code>-STABLE), <code>head</code> (-CURRENT)</p></td></tr></tbody></table><div class=paragraph><p>O <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> é necessário para se conectar aos servidores do projeto. Para mais informações, veja <a href=#ssh.guide>Guia de início rápido do SSH</a>.</p></div><div class=paragraph><p>Links Úteis:</p></div><div class=ulist><ul><li><p><a href=https://www.FreeBSD.org/internal/>Páginas Internas do Projeto FreeBSD</a></p></li><li><p><a href=https://www.FreeBSD.org/internal/machines/>Servidores do Projeto FreeBSD</a></p></li><li><p><a href=https://www.FreeBSD.org/administration/>Grupos Administrativos do Projeto FreeBSD</a></p></li></ul></div></div></div><div class=sect1><h2 id=pgpkeys>2. Chaves OpenPGP para o FreeBSD<a class=anchor href=#pgpkeys></a></h2><div class=sectionbody><div class=paragraph><p>O projeto FreeBSD utiliza chaves criptográficas em conformidade com o padrão OpenPGP (<em>Pretty Good Privacy</em>) para autenticar os committers. Mensagens contendo informações importantes como chaves públicas SSH podem ser assinadas com uma chave OpenPGP para provar que elas vieram realmente do committer. Veja <a href=http://www.nostarch.com/pgp_ml.htm>PGP & GPG: Email for the Practical Paranoid by Michael Lucas</a> e <a href=http://en.wikipedia.org/wiki/Pretty_Good_Privacy class=bare>http://en.wikipedia.org/wiki/Pretty_Good_Privacy</a> para maiores informações.</p></div><div class=sect2><h3 id=pgpkeys-creating>2.1. Criando uma chave<a class=anchor href=#pgpkeys-creating></a></h3><div class=paragraph><p>As chaves existentes podem ser usadas, mas elas devem ser obtidas com o <span class=filename>doc/head/shared/pgpkeys/checkkey.sh</span> primeiro. Neste caso, certifique-se que a chave contenha um ID de usuário FreeBSD.</p></div><div class=paragraph><p>Para quem ainda não tem uma chave OpenPGP, ou precisa de uma nova chave para atender aos requisitos de segurança do FreeBSD, nesta seção iremos mostrar como gerar uma.</p></div><div id=pgpkeys-create-steps class="olist arabic procedure"><ol class=arabic><li><p>Instale o <span class=filename>security/gnupg</span>. Digite estas linhas no <span class=filename>~/.gnupg/gpg.conf</span> para definir padrões mínimos aceitáveis:</p><div class="literalblock programlisting"><div class=content><pre>fixed-list-mode
keyid-format 0xlong
personal-digest-preferences SHA512 SHA384 SHA256 SHA224
default-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 BZIP2 ZLIB ZIP Uncompressed
use-agent
verify-options show-uid-validity
list-options show-uid-validity
sig-notation issuer-fpr@notations.openpgp.fifthhorseman.net=%g
cert-digest-algo SHA512</pre></div></div></li><li><p>Gere uma chave:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% gpg <span class=nt>--full-gen-key</span>
gpg <span class=o>(</span>GnuPG<span class=o>)</span> 2.1.8<span class=p>;</span> Copyright <span class=o>(</span>C<span class=o>)</span> 2015 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Warning: using insecure memory!
Please <span class=k>select </span>what kind of key you want:
   <span class=o>(</span>1<span class=o>)</span> RSA and RSA <span class=o>(</span>default<span class=o>)</span>
   <span class=o>(</span>2<span class=o>)</span> DSA and Elgamal
   <span class=o>(</span>3<span class=o>)</span> DSA <span class=o>(</span>sign only<span class=o>)</span>
   <span class=o>(</span>4<span class=o>)</span> RSA <span class=o>(</span>sign only<span class=o>)</span>
Your selection? 1
RSA keys may be between 1024 and 4096 bits long.
What keysize <span class=k>do </span>you want? <span class=o>(</span>2048<span class=o>)</span> 2048 <i class=conum data-value=1></i><b>(1)</b>
Requested keysize is 2048 bits
Please specify how long the key should be valid.
         0 <span class=o>=</span> key does not expire
      &lt;n&gt;  <span class=o>=</span> key expires <span class=k>in </span>n days
      &lt;n&gt;w <span class=o>=</span> key expires <span class=k>in </span>n weeks
      &lt;n&gt;m <span class=o>=</span> key expires <span class=k>in </span>n months
      &lt;n&gt;y <span class=o>=</span> key expires <span class=k>in </span>n years
Key is valid <span class=k>for</span>? <span class=o>(</span>0<span class=o>)</span> 3y <i class=conum data-value=2></i><b>(2)</b>
Key expires at Wed Nov  4 17:20:20 2015 MST
Is this correct? <span class=o>(</span>y/N<span class=o>)</span> y
GnuPG needs to construct a user ID to identify your key.

Real name: Chucky Daemon <i class=conum data-value=3></i><b>(3)</b>
Email address: notreal@example.com
Comment:
You selected this USER-ID:
<span class=s2>&#34;Chucky Daemon &lt;notreal@example.com&gt;&#34;</span>

Change <span class=o>(</span>N<span class=o>)</span>ame, <span class=o>(</span>C<span class=o>)</span>omment, <span class=o>(</span>E<span class=o>)</span>mail or <span class=o>(</span>O<span class=o>)</span>kay/<span class=o>(</span>Q<span class=o>)</span>uit? o
You need a Passphrase to protect your secret key.</code></pre></div></div></li></ol></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Chaves de 2048-bit com uma expiração de 3 anos proveem uma proteção adequada nos dias de hoje (2013-12). O artigo <a href=http://danielpocock.com/rsa-key-sizes-2048-or-4096-bits class=bare>http://danielpocock.com/rsa-key-sizes-2048-or-4096-bits</a> descreve a situação em mais detalhes.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Três anos é um tempo de vida para a chave que é curto o suficiente para tornar obsoletas as chaves enfraquecidas pelo avanço do poder computacional, mas é tempo suficiente para reduzir os principais problemas de gerenciamento.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Use o seu nome real, preferencialmente o mesmo que consta do seu documento de identificação (ID) emitido pelo seu governo para tornar mais fácil para as outras pessoas confirmarem sua identidade. Você pode inserir um texto adicional para ajudar outras pessoas a identificar você na seção <code>Comment</code>.<div class=paragraph><p>Depois que o endereço de e-mail é inserido, uma senha é solicitada. Os métodos de criação de uma frase secreta segura são controversos. Em vez de sugerir um único caminho, aqui estão alguns links para sites que descrevem vários métodos: <a href=http://world.std.com/~reinhold/diceware.html class=bare>http://world.std.com/~reinhold/diceware.html</a>, <a href=http://www.iusmentis.com/security/passphrasefaq/ class=bare>http://www.iusmentis.com/security/passphrasefaq/</a>, <a href=http://xkcd.com/936/ class=bare>http://xkcd.com/936/</a> e <a href=http://en.wikipedia.org/wiki/Passphrase class=bare>http://en.wikipedia.org/wiki/Passphrase</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Proteja a chave privada e a frase secreta. Se a chave privada ou a frase secreta pode ter sido comprometida ou exposta, notifique imediatamente <a href=mailto:accounts@FreeBSD.org>accounts@FreeBSD.org</a> e revogue a chave.</p></div><div class=paragraph><p>O processo para commit da nova chave é mostrado em <a href=#commit-steps>Procedure: Etapas para os novos committers</a>.</p></div></div></div></div><div class=sect1><h2 id=kerberos-ldap>3. Kerberos e LDAP Web Password para o cluster do FreeBSD<a class=anchor href=#kerberos-ldap></a></h2><div class=sectionbody><div class=paragraph><p>O cluster do FreeBSD requer uma senha do Kerberos para acessar certos serviços. A senha do Kerberos também serve como a senha LDAP para a web, já que o LDAP faz um proxy para o Kerberos no cluster. Alguns dos serviços que exigem isso incluem:</p></div><div class=ulist><ul><li><p><a href=https://bugs.freebsd.org/bugzilla>Bugzilla</a></p></li><li><p><a href=https://ci.freebsd.org>Jenkins</a></p></li></ul></div><div class=paragraph><p>Para criar uma nova conta do Kerberos no cluster do FreeBSD, ou para redefinir uma senha do Kerberos para uma conta existente usando um gerador de senha aleatória:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ssh kpasswd.freebsd.org</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Isto deve ser feito a partir de uma máquina fora do cluster do FreeBSD.org.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Uma senha do Kerberos também pode ser definida manualmente, para isto logue no servidor <code>freefall.FreeBSD.org</code> e execute:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% kpasswd</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A menos que os serviços autenticados por Kerberos do cluster do FreeBSD.org tenham sido usados anteriormente, o erro <code>Client unknown</code> será exibido. Este erro significa que o método <code>ssh kpasswd.freebsd.org</code> mostrado acima deve ser usado primeiro para inicializar a conta Kerberos.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=committer.types>4. Tipos de Commit Bits<a class=anchor href=#committer.types></a></h2><div class=sectionbody><div class=paragraph><p>O repositório do FreeBSD possui um número de componentes que, quando combinados, suportam os fontes básicos do sistema operacional, a documentação, a infraestrutura de ports de aplicativos de terceiros e vários utilitários mantidos. Quando os commit bits do FreeBSD são alocados, as áreas da árvore onde o bit pode ser usado são especificadas. Geralmente, as áreas associadas a um bit refletem quem autorizou a alocação do bit de commit. Áreas adicionais de autoridade podem ser adicionadas em uma data posterior: quando isso ocorre, o committer deve seguir procedimentos normais de atribuição de bits de confirmação para essa área da árvore, buscando a aprovação da entidade apropriada e possivelmente obtendo um mentor para essa área por algum período de tempo.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>Tipo de Committer</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><em>Responsável</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><em>Componentes da Árvore</em></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>src</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>core@</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>src/, doc/ sujeito a revisão apropriada</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>doc</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>doceng@</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>doc/, ports/, src/ documentação</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ports</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>portmgr@</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ports/</p></td></tr></tbody></table><div class=paragraph><p>Os commit bits alocados antes do desenvolvimento da noção de áreas de autoridade podem ser apropriados para uso em muitas partes da árvore. No entanto, o senso comum determina que um committer que não tenha trabalhado anteriormente em uma área da árvore busque alguém para realizar uma revisão antes de realizar o commit, busque a aprovação da parte responsável apropriada e/ou trabalhe com um mentor. Uma vez que as regras relativas à manutenção de código diferem por área da árvore, isso é tanto para o benefício do committer trabalhando em uma área de menos familiar quanto para as outras pessoas trabalhando na árvore.</p></div><div class=paragraph><p>Committers são encorajados a buscar revisão do seu trabalho como parte do processo normal de desenvolvimento, independentemente da área da árvore onde o trabalho está ocorrendo.</p></div><div class=sect2><h3 id=_política_para_atividade_de_committers_em_outras_árvores>4.1. Política para atividade de Committers em outras árvores<a class=anchor href=#_política_para_atividade_de_committers_em_outras_árvores></a></h3><div class=ulist><ul><li><p>Todos os committers podem modificar <span class=filename>base/head/shared/misc/committers-*.dot</span>, <span class=filename>base/head/usr.bin/calendar/calendars/calendar.freebsd</span>, e <span class=filename>ports/head/astro/xearth/files</span>.</p></li><li><p>os doc committers podem efetuar commits de alterações na documentação sob <span class=filename>src</span>, tal como man pages, READMEs, banco de dados do fortune, arquivos de calendários, e comentar correções sem aprovação de um src committer, sujeito aos cuidados normais necessários para um commit seguro.</p></li><li><p>Qualquer committer pode fazer alterações em qualquer outra árvore com um "Approved by" de um committer que não esteja sob mentoria e que tenha o bit apropriado.</p></li><li><p>Os committers podem adquirir um bit adicional pelo processo usual de encontrar um mentor que os proporá ao core, doceng ou portmgr, conforme apropriado. Quando aprovados, eles serão adicionados ao 'access' e o período normal de mentoria irá ocorrer, o que envolverá a continuidade do uso do "Approved by" por um período.</p></li><li><p>O "Approved by" só é aceitável vindo de src committers que não estejam sob mentoria - os committers mentorados podem fornecer um "Reviewed by" mas não um "Approved by".</p></li></ul></div></div></div></div><div class=sect1><h2 id=subversion-primer>5. Subversion Primer<a class=anchor href=#subversion-primer></a></h2><div class=sectionbody><div class=paragraph><p>Supõe-se que novos committers já estejam familiarizados com a operação básica do Subversion. Se não, comece lendo o <a href=http://svnbook.red-bean.com/>Subversion Book</a>.</p></div><div class=sect2><h3 id=svn-intro>5.1. Introdução<a class=anchor href=#svn-intro></a></h3><div class=paragraph><p>O repositório de código fonte do FreeBSD mudou do <code>CVS</code> para o Subversion em 31 de maio de 2008. O primeiro commit real no <code>SVN</code> é o <em>r179447</em>.</p></div><div class=paragraph><p>O repositório do FreeBSD <code>doc/www</code> foi migrado do <code>CVS</code> para o Subversion em 19 de Maio de 2012. O primeiro commit real no <code>SVN</code> foi o <em>r38821</em>.</p></div><div class=paragraph><p>O repositório da coleção de <code>ports</code> do FreeBSD foi migrado do <code>CVS</code> para o Subversion em 14 de Julho 2012. O primeiro commit real no <code>SVN</code> foi o <em>r300894</em>.</p></div><div class=paragraph><p>O Subversion pode ser instalado a partir da Coleção de Ports do FreeBSD, executando o comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install subversion</span></code></pre></div></div></div><div class=sect2><h3 id=svn-getting-started>5.2. Primeiros Passos<a class=anchor href=#svn-getting-started></a></h3><div class=paragraph><p>Existem algumas maneiras de obter uma cópia de trabalho da árvore do Subversion. Esta seção irá explicá-las.</p></div><div class=sect3><h4 id=svn-getting-started-direct-checkout>5.2.1. Checkout direto<a class=anchor href=#svn-getting-started-direct-checkout></a></h4><div class=paragraph><p>O primeiro é fazer check-out diretamente do repositório principal. Para a árvore <code>src</code>, use:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn checkout svn+ssh://repo.freebsd.org/base/head /usr/src</code></pre></div></div><div class=paragraph><p>Para a árvore <code>doc</code>, use:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn checkout svn+ssh://repo.freebsd.org/doc/head /usr/doc</code></pre></div></div><div class=paragraph><p>Para a árvore da coleção de <code>ports</code>, use:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn checkout svn+ssh://repo.freebsd.org/ports/head /usr/ports</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Embora os exemplos restantes neste documento tenham sido escritos tendo o workflow de trabalho com a árvore <code>src</code> em mente, os conceitos básicos são os mesmos para se trabalhar com o <code>doc</code> e com a árvore dos <code>ports</code>. Os ports relacionados às operações do Subversion estão listados em <a href=#ports>FAQ específico dos Ports</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>O comando acima irá fazer o checkout da árvore de código-fonte <code>CURRENT</code> como <span class=filename>/usr/src/</span>, o qual pode ser qualquer diretório de destino no sistema de arquivos local. Omitir o argumento final desse comando faz com que a cópia de trabalho, neste caso, seja nominada como "head", mas ela poderá ser renomeada com segurança.</p></div><div class=paragraph><p>O <code>svn+ssh</code> significa que o protocolo <code>SVN</code> será tunelado sobre o SSH. O nome do servidor é <code>repo.freebsd.org</code>, e <code>base</code> é o caminho para o repositório, e <code>head</code> é o subdiretório dentro do repositório.</p></div><div class=paragraph><p>Se seu nome de login no projeto FreeBSD for diferente do nome de login usado na sua máquina local, inclua-o na URL (por exemplo <code>svn+ssh://jarjar@repo.freebsd.org/base/head</code>) ou adicione uma entrada no arquivo <span class=filename>~/.ssh/config</span> no formato:</p></div><div class="literalblock programlisting"><div class=content><pre>Host repo.freebsd.org
	User jarjar</pre></div></div><div class=paragraph><p>Este é o método mais simples, mas é difícil dizer quanta carga ele irá colocar no repositório.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>O <code>svn diff</code> não requer acesso ao servidor pois o <code>SVN</code> armazena uma cópia de referência de todos os arquivos na cópia de trabalho. Isto, no entanto, significa que as cópias de trabalho do Subversion são muito grandes em tamanho.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=svn-getting-started-base-layout>5.2.2. Branches <code>RELENG_*</code> e Layout Geral<a class=anchor href=#svn-getting-started-base-layout></a></h4><div class=paragraph><p>No <code>svn+ssh://repo.freebsd.org/base</code>, <em>base</em> refere-se à árvore de código fonte. Similarmente, <em>ports</em> refere-se à árvore de ports e assim por diante. Estes são repositórios separados com suas próprias seqüências de números de mudança, controles de acesso e email de commit.</p></div><div class=paragraph><p>Para o repositório base, HEAD refere-se a árvore -CURRENT. Por exemplo, <span class=filename>head/bin/ls</span> é o que entraria como <span class=filename>/usr/src/bin/ls</span> em uma release. Alguns locais importantes são:</p></div><div class=ulist><ul><li><p><em>/head/</em> que corresponde a <code>HEAD</code>, também conhecido como <code>-CURRENT</code>.</p></li><li><p><em>/stable/n</em> que corresponde a <code>RELENG_n_</code>.</p></li><li><p><em>/releng/n.n</em> que corresponde a <code>RELENG_n_n</code>.</p></li><li><p><em>/release/n.n.n</em> que corresponde a <code>RELENG_n_n_n_RELEASE</code>.</p></li><li><p><em>/vendor*</em> é uma área de trabalho para importar branches de vendors. Este diretório em si não contém branches, no entanto, os seus subdiretórios contém. Isso contrasta com os diretórios <em>stable</em>, <em>releng</em> e <em>release</em>.</p></li><li><p><em>/projects</em> e <em>/user</em> são áreas de trabalho de branch. Como acima, o diretório <em>/user</em> não contém branches em si.</p></li></ul></div></div><div class=sect3><h4 id=svn-getting-started-doc-layout>5.2.3. Branches e Layout do Projeto de Documentação do FreeBSD<a class=anchor href=#svn-getting-started-doc-layout></a></h4><div class=paragraph><p>no <code>svn+ssh://repo.freebsd.org/doc</code>, <em>doc</em> refere-se à raiz do repositório da árvore de código fonte.</p></div><div class=paragraph><p>Em geral, a maior parte do trabalho do Projeto de Documentação do FreeBSD será feito dentro do branch <span class=filename>head/</span> da árvore com os arquivos fontes da documentação.</p></div><div class=paragraph><p>A documentação do FreeBSD é escrita e/ou traduzida para vários idiomas, cada um em um diretório separado no branch <span class=filename>head/</span>.</p></div><div class=paragraph><p>Cada conjunto de tradução contém vários subdiretórios para as várias partes do Projeto de Documentação do FreeBSD. Alguns diretórios notáveis são:</p></div><div class=ulist><ul><li><p><em>/articles/</em> contém o código fonte para artigos escritos por vários colaboradores do FreeBSD.</p></li><li><p><em>/books/</em> contém o código fonte para os diferentes livros, como o Handbook do FreeBSD.</p></li><li><p><em>/htdocs/</em> contém o código-fonte do website do FreeBSD.</p></li></ul></div></div><div class=sect3><h4 id=svn-getting-started-ports-layout>5.2.4. Branches e Layout da Árvore de Ports do FreeBSD<a class=anchor href=#svn-getting-started-ports-layout></a></h4><div class=paragraph><p>No <code>svn+ssh: //repo.freebsd.org/ports</code>, <em>ports</em> refere-se à raiz do repositório da árvore de ports.</p></div><div class=paragraph><p>Em geral, a maior parte do trabalho na coleção de ports do FreeBSD será feito dentro da branch <span class=filename>head/</span> da árvore de ports, que é a árvore de ports real usada para instalar software. Alguns outros locais importantes são:</p></div><div class=ulist><ul><li><p>/branches/RELENG_n_n_n que corresponde a <code>RELENG_n_n_n</code> e é usado para mesclar atualizações de segurança em preparação para uma release.</p></li><li><p>/tags/RELEASE_n_n_n que corresponde a <code>RELEASE_n_n_n</code> e representa uma tag de release da árvore de ports.</p></li><li><p>/tags/RELEASE_n_EOL representa o tag de end of life de um branch específico do FreeBSD.</p></li></ul></div></div></div><div class=sect2><h3 id=svn-daily-use>5.3. Uso diário<a class=anchor href=#svn-daily-use></a></h3><div class=paragraph><p>Esta seção explicará como realizar operações comuns do dia-a-dia com o Subversion.</p></div><div class=sect3><h4 id=svn-daily-use-help>5.3.1. Ajuda<a class=anchor href=#svn-daily-use-help></a></h4><div class=paragraph><p>O <code>SVN</code> traz em si uma documentação interna de ajuda. Ela pode ser acessada digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>help</span></code></pre></div></div><div class=paragraph><p>Informações adicionais podem ser encontradas no <a href=http://svnbook.red-bean.com/>Subversion Book</a>.</p></div></div><div class=sect3><h4 id=svn-daily-use-checkout>5.3.2. Checkout<a class=anchor href=#svn-daily-use-checkout></a></h4><div class=paragraph><p>Como visto anteriormente, para fazer o checkout da branch principal (head) do FreeBSD:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn checkout svn+ssh://repo.freebsd.org/base/head /usr/src</code></pre></div></div><div class=paragraph><p>Em algum momento, provavelmente será útil ter uma copia de trabalho mais do que apenas do <code>HEAD</code>, por exemplo, ao mesclar as alterações para stable/7. Portanto, pode ser útil ter uma verificação parcial da árvore completa (um check-out completo seria muito doloroso).</p></div><div class=paragraph><p>Para fazer isso, primeiro confira a raiz do repositório:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn checkout <span class=nt>--depth</span><span class=o>=</span>immediates svn+ssh://repo.freebsd.org/base</code></pre></div></div><div class=paragraph><p>Isso vai obter o <code>base</code> com todos os arquivos que ele contém (no momento da escrita, apenas o <span class=filename>ROADMAP.txt</span>) e subdiretórios vazios para <code>head</code>, <code>stable</code>, <code>vendor</code> e assim por diante.</p></div><div class=paragraph><p>É possível expandir a cópia de trabalho. Basta alterar a profundidade dos vários subdiretórios:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn up <span class=nt>--set-depth</span><span class=o>=</span>infinity base/head
% svn up <span class=nt>--set-depth</span><span class=o>=</span>immediates base/release base/releng base/stable</code></pre></div></div><div class=paragraph><p>O comando acima irá baixar uma cópia completa do <code>head</code>, além de cópias vazias de cada tag de <code>release</code>, de cada branch de <code>releng</code>, e de cada branch <code>stable</code>.</p></div><div class=paragraph><p>Se numa data posterior você tiver necessidade de mesclar algo, por exemplo, com a <code>7-STABLE</code>, expanda a cópia de trabalho:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn up <span class=nt>--set-depth</span><span class=o>=</span>infinity base/stable/7</code></pre></div></div><div class=paragraph><p>As subárvores não precisam ser expandidas completamente. Por exemplo, para expandir apenas o <code>stable/7/sys</code> e depois expandir o resto do <code>stable/7</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn up <span class=nt>--set-depth</span><span class=o>=</span>infinity base/stable/7/sys
% svn up <span class=nt>--set-depth</span><span class=o>=</span>infinity base/stable/7</code></pre></div></div><div class=paragraph><p>Atualizar a árvore com <code>svn update</code> irá apenas atualizar o que foi pedido anteriormente (neste caso, <code>head</code> e <code>stable/7</code>), ele não irá puxar a árvore inteira.</p></div></div><div class=sect3><h4 id=svn-daily-use-anonymous-checkout>5.3.3. Checkout Anonimo<a class=anchor href=#svn-daily-use-anonymous-checkout></a></h4><div class=paragraph><p>É possível efetuar o checkout anonimo o repositório Subversion do FreeBSD. Isso dará acesso a uma árvore somente leitura que pode ser atualizada, mas que não poderá ser enviada de volta para o repositório principal por meio de um commit. Para fazer isso, use:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn co https://svn.FreeBSD.org/base/head /usr/src</code></pre></div></div><div class=paragraph><p>Mais detalhes sobre o uso do Subversion podem ser encontrados em <a href=https://docs.freebsd.org/pt-br/books/handbook/book/mirrors#svn>Usando o Subversion</a>.</p></div></div><div class=sect3><h4 id=svn-daily-use-updating-the-tree>5.3.4. Atualizando a Árvore<a class=anchor href=#svn-daily-use-updating-the-tree></a></h4><div class=paragraph><p>Para atualizar uma cópia de trabalho para a revisão mais recente ou uma revisão específica:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn update
% svn update <span class=nt>-r12345</span></code></pre></div></div></div><div class=sect3><h4 id=svn-daily-use-status>5.3.5. Status<a class=anchor href=#svn-daily-use-status></a></h4><div class=paragraph><p>Para ver as alterações locais que foram feitas na cópia de trabalho:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn status</code></pre></div></div><div class=paragraph><p>Para mostrar alterações locais e arquivos que estão desatualizados, execute:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn status <span class=nt>--show-updates</span></code></pre></div></div></div><div class=sect3><h4 id=svn-daily-use-editing-and-committing>5.3.6. Editando e efetuando o commit<a class=anchor href=#svn-daily-use-editing-and-committing></a></h4><div class=paragraph><p>O <code>SVN</code> não precisa ser avisado com antecedência sobre a edição de arquivos.</p></div><div class=paragraph><p>Para efetuar o commit de todas as alterações no diretório atual e em todos os seus subdiretórios:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn commit</code></pre></div></div><div class=paragraph><p>Para efetuar o commit de todas as alterações, por exemplo, nos arquivos <span class=filename>lib/libfetch/</span> e <span class=filename>usr/bin/fetch/</span> em uma única operação, execute:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn commit lib/libfetch usr/bin/fetch</code></pre></div></div><div class=paragraph><p>Também existe um wrapper de commit para a árvore de ports para manipular as propriedades e para verificar a sanidade das mudanças:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% /usr/ports/Tools/scripts/psvn commit</code></pre></div></div></div><div class=sect3><h4 id=svn-daily-use-adding-and-removing>5.3.7. Adicionando e Removendo Arquivos<a class=anchor href=#svn-daily-use-adding-and-removing></a></h4><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Antes de adicionar arquivos, obtenha uma cópia do <a href=https://people.FreeBSD.org/~peter/auto-props.txt>auto-props.txt</a> (há também um <a href=https://people.FreeBSD.org/~beat/cvs2svn/auto-props.txt>versão específica da árvore de ports</a>) e adicione-o ao <span class=filename>~/.subversion/config</span> seguindo as instruções contidas no arquivo. Se você adicionou algo antes de ler isto, use o comando <code>svn rm --keep-local</code> para apenas os arquivos adicionados, corrija seu arquivo de configuração e adicione-os novamente. O arquivo de configuração inicial é criado quando você executa um comando svn pela primeira vez, até mesmo algo tão simples quanto <code>svn help</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Os arquivos são adicionados a um <code>SVN</code> repositório com <code>svn add</code>. Para adicionar um arquivo chamado <em>foo</em>, edite-o e depois execute:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn add foo</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A maioria dos novos arquivos fonte deve incluir uma string <code>$FreeBSD: head/pt_BR.ISO8859-1/articles/committers-guide/article.xml 53731 2020-01-01 14:37:53Z ebrandi $</code> próxima ao início do arquivo. Ao efetuar o commit, o <code>svn</code> expandirá a string <code>$FreeBSD: head/pt_BR.ISO8859-1/articles/committers-guide/article.xml 53731 2020-01-01 14:37:53Z ebrandi $</code>, adicionando o caminho do arquivo, o número da revisão, a data e a hora da confirmação e o nome de usuário do committer. Arquivos que não podem ser modificados podem ser enviados sem a string <code>$FreeBSD: head/pt_BR.ISO8859-1/articles/committers-guide/article.xml 53731 2020-01-01 14:37:53Z ebrandi $</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Os arquivos podem ser removidos com <code>svn remove</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn remove foo</code></pre></div></div><div class=paragraph><p>O subversion não requer a exclusão do arquivo antes de usaramos o comando <code>svn rm</code> e, de fato, ele reclama se isso acontecer.</p></div><div class=paragraph><p>É possível adicionar diretórios com <code>svn add</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>mkdir </span>bar
% svn add bar</code></pre></div></div><div class=paragraph><p>Apesar que o <code>svn mkdir</code> torna isso mais fácil, combinando a criação do diretório e a adição dele:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>mkdir </span>bar</code></pre></div></div><div class=paragraph><p>Como arquivos, os diretórios são removidos com <code>svn rm</code>. Não existe um comando separado especificamente para remover diretórios.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>rm </span>bar</code></pre></div></div></div><div class=sect3><h4 id=svn-daily-use-copying-and-moving>5.3.8. Copiando e Movendo Arquivos<a class=anchor href=#svn-daily-use-copying-and-moving></a></h4><div class=paragraph><p>Este comando cria uma cópia do arquivo <span class=filename>foo.c</span> nomeado <span class=filename>bar.c</span>, com o novo arquivo também sob controle de versão e com o histórico completo de <span class=filename>foo.c</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn copy foo.c bar.c</code></pre></div></div><div class=paragraph><p>Geralmente é preferível copiar desta forma ao invés de copiar o arquivo com comando <code>cp</code> e adicionando-o ao repositório com <code>svn add</code> porque desta forma o novo arquivo não herda a história do original.</p></div><div class=paragraph><p>Para mover e renomear um arquivo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn move foo.c bar.c</code></pre></div></div></div><div class=sect3><h4 id=svn-daily-use-log-and-annotate>5.3.9. Logs e Anotações<a class=anchor href=#svn-daily-use-log-and-annotate></a></h4><div class=paragraph><p>O <code>svn log</code> mostra revisões e mensagens de commit, as mais recentes são exibidas primeiro, para arquivos ou diretórios. Quando usado em um diretório, todas as revisões que afetaram o diretório e os arquivos nesse diretório são mostradas.</p></div><div class=paragraph><p>O <code>svn annotate</code> , ou igualmente o <code>svn praise</code> ou <code>svn blame</code>, mostra o número de revisão mais recente e quem fez o commit dessa revisão para cada linha de um arquivo.</p></div></div><div class=sect3><h4 id=svn-daily-use-diffs>5.3.10. Diffs<a class=anchor href=#svn-daily-use-diffs></a></h4><div class=paragraph><p>O <code>svn diff</code> exibe alterações na cópia de trabalho. Diffs gerado por <code>SVN</code> são unificados e incluem novos arquivos por padrão na saída do diff.</p></div><div class=paragraph><p>O <code>svn diff</code> pode mostrar as mudanças entre duas revisões do mesmo arquivo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn diff <span class=nt>-r179453</span>:179454 ROADMAP.txt</code></pre></div></div><div class=paragraph><p>Ele também pode mostrar todas as alterações para um changeset específico. Este comando mostra quais alterações foram feitas no diretório atual e em todos os subdiretórios do changeset 179454:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn diff <span class=nt>-c179454</span> .</code></pre></div></div></div><div class=sect3><h4 id=svn-daily-use-reverting>5.3.11. Revertendo<a class=anchor href=#svn-daily-use-reverting></a></h4><div class=paragraph><p>Mudanças locais (incluindo adições e deleções) podem ser revertidas usando <code>svn revert</code>. Ele não atualiza arquivos desatualizados, apenas os substitui por cópias originais da versão original.</p></div></div><div class=sect3><h4 id=svn-daily-use-conflicts>5.3.12. Conflitos<a class=anchor href=#svn-daily-use-conflicts></a></h4><div class=paragraph><p>Se um <code>svn update</code> resultou em um conflito de mesclagem, o Subversion irá lembrar quais arquivos têm conflitos e se recusará a fazer o commit de quaisquer alterações nesses arquivos até que seja explicitamente informado que os conflitos foram resolvidos. O procedimento simples, ainda não obsoleto, é:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn resolved foo</code></pre></div></div><div class=paragraph><p>No entanto, o procedimento preferido é:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn resolve <span class=nt>--accept</span><span class=o>=</span>working foo</code></pre></div></div><div class=paragraph><p>Os dois exemplos são equivalentes. Os valores possíveis para <code>--accept</code> são:</p></div><div class=ulist><ul><li><p><code>working</code>: use a versão em seu diretório de trabalho (a qual se presume que foi editada para resolver os conflitos).</p></li><li><p><code>base</code>: usar uma cópia original da versão que você tinha antes do <code>svn update</code>, descartando suas próprias alterações, as mudanças conflitantes e possivelmente outras mudanças intervenientes também.</p></li><li><p><code>mine-full</code>: use o que você tinha antes do <code>svn update</code>, incluindo suas próprias mudanças, mas descartando as mudanças conflitantes, e possivelmente outras mudanças intervenientes também.</p></li><li><p><code>theirs-full</code>: use a versão que foi recuperada quando você fez o <code>svn update</code>, descartando as suas próprias mudanças.</p></li></ul></div></div></div><div class=sect2><h3 id=_uso_avançado>5.4. Uso Avançado<a class=anchor href=#_uso_avançado></a></h3><div class=sect3><h4 id=svn-advanced-use-sparse-checkouts>5.4.1. Checkouts dispersos<a class=anchor href=#svn-advanced-use-sparse-checkouts></a></h4><div class=paragraph><p>O <code>SVN</code> permite <em>sparse</em>, ou checkouts parciais de um diretório adicionando <code>--depth</code> a um <code>svn checkout</code>.</p></div><div class=paragraph><p>Os argumentos válidos para <code>--depth</code> são:</p></div><div class=ulist><ul><li><p><code>empty</code>: o próprio diretório sem qualquer conteúdo.</p></li><li><p><code>files</code>: o diretório e quaisquer arquivos nele contidos.</p></li><li><p><code>immediates</code>: o diretório e quaisquer arquivos e diretórios contidos nele, mas nenhum dos conteúdos dos subdiretórios.</p></li><li><p><code>infinity</code>: qualquer coisa.</p></li></ul></div><div class=paragraph><p>A opção <code>--depth</code> se aplica a muitos outros comandos, incluindo <code>svn commit</code>, <code>svn revert</code> e o <code>svn diff</code>.</p></div><div class=paragraph><p>Como o parâmetro <code>--depth</code> utilizado é persistente, existe uma opção <code>--set-depth</code> para o <code>svn update</code> que irá mudar a profundidade selecionada. Assim, dada a cópia de trabalho produzida pelo exemplo anterior:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> ~/freebsd
% svn update <span class=nt>--set-depth</span><span class=o>=</span>immediates .</code></pre></div></div><div class=paragraph><p>O comando acima irá popular a cópia de trabalho em <em>~/freebsd</em> com <span class=filename>ROADMAP.txt</span> e subdiretórios vazios, e nada acontecerá quando <code>svn update</code> for executado nos subdiretórios. No entanto, esse comando definirá a profundidade para <em>head</em> (nesse caso) como infinito e o populará totalmente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn update <span class=nt>--set-depth</span><span class=o>=</span>infinity <span class=nb>head</span></code></pre></div></div></div><div class=sect3><h4 id=svn-advanced-use-direct-operation>5.4.2. Operação Direta<a class=anchor href=#svn-advanced-use-direct-operation></a></h4><div class=paragraph><p>Certas operações podem ser realizadas diretamente no repositório sem tocar na cópia de trabalho. Especificamente, isso se aplica a qualquer operação que não exija a edição de um arquivo, incluindo:</p></div><div class=ulist><ul><li><p><code>log</code>, <code>diff</code></p></li><li><p><code>mkdir</code></p></li><li><p><code>remove</code>, <code>copy</code>, <code>rename</code></p></li><li><p><code>propset</code>, <code>propedit</code>, <code>propdel</code></p></li><li><p><code>merge</code></p></li></ul></div><div class=paragraph><p>A criação de uma branch é muito rápida. Este comando seria usado para criar a branch <code>RELENG_8</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn copy svn+ssh://repo.freebsd.org/base/head svn+ssh://repo.freebsd.org/base/stable/8</code></pre></div></div><div class=paragraph><p>Isso equivale a esses comandos, que levam minutos e horas, em vez de segundos, dependendo da sua conexão de rede:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn checkout <span class=nt>--depth</span><span class=o>=</span>immediates svn+ssh://repo.freebsd.org/base
% <span class=nb>cd </span>base
% svn update <span class=nt>--set-depth</span><span class=o>=</span>infinity <span class=nb>head</span>
% svn copy <span class=nb>head </span>stable/8
% svn commit stable/8</code></pre></div></div></div><div class=sect3><h4 id=svn-advanced-use-merging>5.4.3. Mesclando com <code>SVN</code><a class=anchor href=#svn-advanced-use-merging></a></h4><div class=paragraph><p>Esta seção lida com o merge de código de um branch para outro (normalmente, do head para um brach stable).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Em todos os exemplos abaixo, <code>$FSVN</code> refere-se à localização do repositório Subversion do FreeBSD, <code>svn+ssh://repo.freebsd.org/base</code>.</p></div></td></tr></tbody></table></div><div class=sect4><h5 id=_sobre_o_acompanhamento_de_mesclagem>5.4.3.1. Sobre o acompanhamento de mesclagem<a class=anchor href=#_sobre_o_acompanhamento_de_mesclagem></a></h5><div class=paragraph><p>Do ponto de vista do usuário, informações de acompanhamento de mesclagem (ou mergeinfo) são armazenadas em uma propriedade chamada <code>svn:mergeinfo</code>, que é uma lista separada por vírgulas de revisões e intervalos de revisões que foram mescladas. Quando definido em um arquivo, ele se aplica somente a esse arquivo. Quando definido em um diretório, ele se aplica a esse diretório e seus descendentes (arquivos e diretórios), exceto aqueles que possuem o seu próprio <code>svn:mergeinfo</code>.</p></div><div class=paragraph><p>Ele <em>não</em> é herdado. Por exemplo, <span class=filename>stable/6/contrib/openpam/</span> não herda implicitamente o mergeinfo de <span class=filename>stable/6/</span>, ou do <span class=filename>stable/6/contrib/</span>. Isso faria com que os checkouts parciais fossem difíceis de gerenciar. Em vez disso, o mergeinfo é explicitamente propagado pela árvore. Para mesclar algo em <span class=filename>branch/foo/bar/</span>, estas regras se aplicam:</p></div><div class="olist arabic"><ol class=arabic><li><p>Se <span class=filename>branch/foo/bar/</span> ainda não tiver um registro mergeinfo, mas um ancestral direto (por exemplo, <span class=filename>branch/foo/</span>) tem, então esse registro será propagado para abaixo até <span class=filename>branch/foo/bar/</span> antes que as informações sobre a mesclagem atual sejam registradas.</p></li><li><p>As informações sobre a mesclagem atual <em>não</em> serão propagadas para o ancestral.</p></li><li><p>Se um descendente direto de <span class=filename>branch/foo/bar/</span> (por exemplo, <span class=filename>branch/foo/bar/baz/</span>) já tiver um registro mergeinfo, as informações sobre a mesclagem atual serão propagadas para ele.</p></li></ol></div><div class=paragraph><p>Se você considerar o caso em que uma revisão altera várias partes separadas da árvore (por exemplo, <span class=filename>branch/foo/bar/</span> e <span class=filename>branch/foo/quux/</span>), mas você só deseja mesclar alguns deles (por exemplo, <span class=filename>branch/foo/bar/</span>), você verá que essas regras fazem sentido. Se mergeinfo fosse propagado, pareceria que a revisão também foi mesclada com <span class=filename>branch/foo/quux/</span>, quando na verdade não foi.</p></div></div><div class=sect4><h5 id=merge-source>5.4.3.2. Selecionando a branch de origem e de destino ao mesclar<a class=anchor href=#merge-source></a></h5><div class=paragraph><p>Mesclagens para as branches <code>stable/</code> devem originar-se da <code>head/</code>. Por exemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>svn merge <span class=nt>-c</span> r123456 ^/head/ stable/11
svn commit stable/11</code></pre></div></div><div class=paragraph><p>Mesclagens para as branches <code>releng/</code> devem sempre se originar da branch <code>stable/</code> correspondente. Por exemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>svn merge <span class=nt>-c</span> r123456 ^/stable/11 releng/11.0
svn commit releng/11.0</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os committers só podem se efetuar um commit para as branches <code>releng/</code> durante um ciclo de release após receber aprovação da Equipe de Engenharia de Release, após o qual somente o Security Officer pode efetuar commits para o branch <code>releng/</code> para um Aviso de Segurança ou Aviso de Errata.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Todas as mesclagens são mescladas e enviadas por commit a partir da raiz da branch. Todas as mesclagens se parecem com:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>svn merge <span class=nt>-cr123456</span> ^/head/checkout
svn commit checkout</code></pre></div></div><div class=paragraph><p>Observe que <em>checkout</em> deve ser uma verificação completa da branch na qual a mesclagem ocorre.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>svn merge <span class=nt>-c</span> r123456 ^/stable/10 releng/10.0</code></pre></div></div></div><div class=sect4><h5 id=_preparando_o_alvo_de_mesclagem_merge_target>5.4.3.3. Preparando o Alvo de Mesclagem (Merge Target)<a class=anchor href=#_preparando_o_alvo_de_mesclagem_merge_target></a></h5><div class=paragraph><p>Devido aos problemas de propagação do mergeinfo descritos anteriormente, é muito importante nunca mesclar as alterações em uma cópia de trabalho esparsa. Sempre use um checkout completo do branch que está sendo mesclado. Por exemplo, ao mesclar de HEAD para 7, use um checkout completo de stable/7:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>stable/7
% svn up <span class=nt>--set-depth</span><span class=o>=</span>infinity</code></pre></div></div><div class=paragraph><p>O diretório de destino também deve estar atualizado e não deve conter alterações que ainda não foram enviadas por commit ou arquivos perdidos.</p></div></div><div class=sect4><h5 id=_identificando_revisões>5.4.3.4. Identificando Revisões<a class=anchor href=#_identificando_revisões></a></h5><div class=paragraph><p>Identificar revisões a serem mescladas é uma obrigação. Se o alvo já tiver mergeinfo completo, solicite uma lista para o <code>SVN</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>stable/6/contrib/openpam
% svn mergeinfo <span class=nt>--show-revs</span><span class=o>=</span>eligible <span class=nv>$FSVN</span>/head/contrib/openpam</code></pre></div></div><div class=paragraph><p>Se o destino não tiver mergeinfo completo, verifique o log da origem de mesclagem.</p></div></div><div class=sect4><h5 id=_mesclando>5.4.3.5. Mesclando<a class=anchor href=#_mesclando></a></h5><div class=paragraph><p>Agora vamos começar a mesclar!</p></div><div class=sect5><h6 id=_os_princípios>5.4.3.5.1. Os princípios<a class=anchor href=#_os_princípios></a></h6><div class=paragraph><p>Por exemplo, para mesclar:</p></div><div class=ulist><ul><li><p>revisão <code>$R</code></p></li><li><p>no diretório $target na branch stable $B</p></li><li><p>a partir do diretório $source no head</p></li><li><p>$FSVN é o <code>svn+ssh://repo.freebsd.org/base</code></p></li></ul></div><div class=paragraph><p>Supondo que as revisões $P e $Q já tenham sido mescladas e que o diretório atual seja uma cópia de trabalho atualizada de stable/$B, a mergeinfo existente será semelhante a:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn propget svn:mergeinfo <span class=nt>-R</span> <span class=nv>$target</span>
<span class=nv>$target</span> - /head/<span class=nv>$source</span>:<span class=nv>$P</span>,<span class=nv>$Q</span></code></pre></div></div><div class=paragraph><p>A mesclagem é feita assim:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn merge <span class=nt>-c</span><span class=nv>$R</span> <span class=nv>$FSVN</span>/head/<span class=nv>$source</span> <span class=nv>$target</span></code></pre></div></div><div class=paragraph><p>É possível verificar os resultados disso com um <code>svn diff</code>.</p></div><div class=paragraph><p>O svn:mergeinfo agora se parece com:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn propget svn:mergeinfo <span class=nt>-R</span> <span class=nv>$target</span>
<span class=nv>$target</span> - <span class=nb>head</span>/<span class=nv>$source</span>:<span class=nv>$P</span>,<span class=nv>$Q</span>,<span class=nv>$R</span></code></pre></div></div><div class=paragraph><p>Se os resultados não forem exatamente como os mostrados, você pode precisar de assistência antes de efetuar o commit pois erros podem ter sido cometidos, ou pode haver algo errado com o mergeinfo existente, ou pode haver um bug no Subversion.</p></div></div><div class=sect5><h6 id=_exemplo_prático>5.4.3.5.2. Exemplo Prático<a class=anchor href=#_exemplo_prático></a></h6><div class=paragraph><p>Como um exemplo prático, considere este cenário. As alterações no <span class=filename>netmap.4</span> no r238987 devem ser mescladas do CURRENT para o 9-STABLE. O arquivo reside em <span class=filename>head/shared/man/man4</span>. De acordo com o <a href=#svn-advanced-use-merging>Mesclando com <code>SVN</code></a>, também é onde devemos fazer a mesclagem. Note que neste exemplo todos os caminhos são relativos ao topo do repositório svn. Para obter mais informações sobre o layout do diretório, consulte <a href=#svn-getting-started-base-layout>Branches <code>RELENG_*</code> e Layout Geral</a>.</p></div><div class=paragraph><p>O primeiro passo é inspecionar o mergeinfo existente.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn propget svn:mergeinfo <span class=nt>-R</span> stable/9/shared/man/man4</code></pre></div></div><div class=paragraph><p>Tome uma nota rápida de como ele se parece antes de avançar para o próximo passo; fazendo a mesclagem real:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn merge <span class=nt>-c</span> r238987 svn+ssh://repo.freebsd.org/base/head/shared/man/man4 stable/9/shared/man/man4
<span class=nt>---</span> Merging r238987 into <span class=s1>&#39;stable/9/shared/man/man4&#39;</span>:
U    stable/9/shared/man/man4/netmap.4
<span class=nt>---</span> Recording mergeinfo <span class=k>for </span>merge of r238987 into
<span class=s1>&#39;stable/9/shared/man/man4&#39;</span>:
 U   stable/9/shared/man/man4</code></pre></div></div><div class=paragraph><p>Verifique se o número de revisão da revisão mesclada foi adicionado. Quando isso for verificado, a única coisa que resta é o commit em si.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn commit stable/9/shared/man/man4</code></pre></div></div></div></div><div class=sect4><h5 id=_precauções_antes_de_efetuar_o_commit>5.4.3.6. Precauções antes de efetuar o commit<a class=anchor href=#_precauções_antes_de_efetuar_o_commit></a></h5><div class=paragraph><p>Como sempre, faça um build world (ou as partes apropriadas dele).</p></div><div class=paragraph><p>Verifique as mudanças com o <code>svn diff</code> e <code>svn stat</code>. Certifique-se de que todos os arquivos que deveriam ter sido adicionados ou excluídos foram de fato adicionados ou excluídos.</p></div><div class=paragraph><p>Dê uma olhada mais de perto em qualquer mudança de propriedade (marcada por um <code>M</code> na segunda coluna do <code>svn stat</code>). Normalmente, nenhuma propriedade svn:mergeinfo deve estar em qualquer lugar, exceto o diretório (ou diretórios) de destino.</p></div><div class=paragraph><p>Se algo parecer suspeito, peça ajuda.</p></div></div><div class=sect4><h5 id=_fazendo_o_commit>5.4.3.7. Fazendo o commit<a class=anchor href=#_fazendo_o_commit></a></h5><div class=paragraph><p>Certifique-se de efetuar o commit de um diretório de nível superior para incluir também o mergeinfo. Não especifique arquivos individuais na linha de comando. Para mais informações sobre como submeter arquivos em geral, veja a seção relevante deste manual.</p></div></div></div><div class=sect3><h4 id=svn-advanced-use-vendor-imports>5.4.4. Importações de fornecedores com <code>SVN</code><a class=anchor href=#svn-advanced-use-vendor-imports></a></h4><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Por favor, leia toda esta seção antes de iniciar uma importação de fornecedores.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os patches para o código do fornecedor se enquadram em duas categorias:</p></div><div class=ulist><ul><li><p>Patches do fornecedor: são patches que foram emitidos pelo fornecedor ou que foram extraídos do sistema de controle de versão do fornecedor, que abordam problemas que não podem esperar até a próxima versão do fornecedor.</p></li><li><p>Patches do FreeBSD: são patches que modificam o código do fornecedor para resolver problemas específicos do FreeBSD.</p></li></ul></div><div class=paragraph><p>A natureza de um patch determina para onde ele deve ser enviado por commit:</p></div><div class=ulist><ul><li><p>Os patches do fornecedor devem ser enviados por commit para o branch do fornecedor e mesclados a partir dele. Se o patch resolver um problema em uma nova versão que está sendo importada atualmente, ele <em>não deve</em> ser enviado por commit junto com a nova versão: a versão deve ser importada e marcada primeiro, então a correção pode ser aplicada e o commit efetuado. Não há necessidade de marcar novamente as fontes do fornecedor depois de confirmar o patch.</p></li><li><p>Patches do FreeBSD são enviados diretamente para o head.</p></li></ul></div></td></tr></tbody></table></div><div class=sect4><h5 id=_preparando_a_árvore>5.4.4.1. Preparando a Árvore<a class=anchor href=#_preparando_a_árvore></a></h5><div class=paragraph><p>Se estiver importando pela primeira vez após a mudança para o Subversion, é necessário achatar e limpar a árvore do fornecedor, bem como inicializar o histórico de mesclagem na árvore principal.</p></div><div class=sect5><h6 id=_achatamento>5.4.4.1.1. Achatamento<a class=anchor href=#_achatamento></a></h6><div class=paragraph><p>Durante a conversão do <code>CVS</code> para o Subversion, as branches do fornecedor foram importadas com o mesmo layout da árvore principal. Isso significa que as fontes do fornecedor <code>pf</code> foram armazenadas originalmente em <span class=filename>vendor/pf/dist/contrib/pf</span>. O código fonte do fornecedor fica melhor se armazenado diretamente em <span class=filename>vendor/pf/dist</span>.</p></div><div class=paragraph><p>Para achatar a árvore do <code>pf</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>vendor/pf/dist/contrib/pf
% svn <span class=nb>mv</span> <span class=si>$(</span>svn list<span class=si>)</span> ../..
% <span class=nb>cd</span> ../..
% svn <span class=nb>rm </span>contrib
% svn propdel <span class=nt>-R</span> svn:mergeinfo <span class=nb>.</span>
% svn commit</code></pre></div></div><div class=paragraph><p>O bit <code>propdel</code> é necessário porque, começando com 1.5, o Subversion adicionará <code>svn:mergeinfo</code> em qualquer diretório que seja copiado ou movido. Nesse caso, como nada está sendo mesclado da árvore excluída, eles apenas atrapalham.</p></div><div class=paragraph><p>As tags também podem ser achatadas (3, 4, 3.5 etc.); o procedimento é exatamente o mesmo, mudando apenas <code>dist</code> para <code>3.5</code> ou similar, e aguardando para executar o <code>svn commit</code> apenas no final do processo.</p></div></div><div class=sect5><h6 id=_limpando>5.4.4.1.2. Limpando<a class=anchor href=#_limpando></a></h6><div class=paragraph><p>A árvore <code>dist</code> pode ser limpa conforme necessário. A desativação da expansão de palavras-chave é recomendada, pois não faz sentido no código do fornecedor não modificado e, em alguns casos, pode até mesmo ser prejudicial. O OpenSSH, por exemplo, inclui dois arquivos que se originaram do FreeBSD e ainda contêm as tags da versão original. Para fazer isso:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn propdel svn:keywords <span class=nt>-R</span> <span class=nb>.</span>
% svn commit</code></pre></div></div></div><div class=sect5><h6 id=_bootstrapping_o_historico_de_mesclagem>5.4.4.1.3. Bootstrapping o historico de mesclagem<a class=anchor href=#_bootstrapping_o_historico_de_mesclagem></a></h6><div class=paragraph><p>Se estiver importando pela primeira vez após a mudança para o Subversion, faça o bootstrap do <code>svn:mergeinfo</code> no diretório de destino da árvore principal para a revisão que corresponde à última alteração relacionada à árvore do fornecedor, antes de importar novos fontes:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd head</span>/contrib/pf
% svn merge <span class=nt>--record-only</span> svn+ssh://repo.freebsd.org/base/vendor/pf/dist@180876 <span class=nb>.</span>
% svn commit</code></pre></div></div></div></div><div class=sect4><h5 id=_importando_novas_fontes>5.4.4.2. Importando Novas Fontes<a class=anchor href=#_importando_novas_fontes></a></h5><div class=paragraph><p>Com dois commits - um para a importação em si e outro para a tag - essa etapa pode ser opcionalmente repetida para cada release upstream entre a última importação e a importação atual.</p></div><div class=sect5><h6 id=_preparando_os_fontes_do_fornecedor>5.4.4.2.1. Preparando os fontes do fornecedor<a class=anchor href=#_preparando_os_fontes_do_fornecedor></a></h6><div class=paragraph><p>O Subversion é capaz de armazenar uma distribuição completa na árvore do fornecedor. Portanto, importe tudo, mas mescle apenas o que é necessário.</p></div><div class=paragraph><p>Um <code>svn add</code> é necessário para adicionar quaisquer arquivos que foram adicionados desde a última importação do fornecedor, e o <code>svn rm</code> é necessário para remover todos os que foram removidos desde então. Recomenda-se a preparação de listas ordenadas do conteúdo da árvore do fornecedor e das fontes que serão importadas, para facilitar o processo.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>vendor/pf/dist
% svn list <span class=nt>-R</span> | <span class=nb>grep</span> <span class=nt>-v</span> <span class=s1>&#39;/$&#39;</span> | <span class=nb>sort</span> <span class=o>&gt;</span>../old
% <span class=nb>cd</span> ../pf-4.3
% find <span class=nb>.</span> <span class=nt>-type</span> f | <span class=nb>cut</span> <span class=nt>-c</span> 3- | <span class=nb>sort</span> <span class=o>&gt;</span>../new</code></pre></div></div><div class=paragraph><p>Com esses dois arquivos, o <code>comm -23 ../old ../new</code> listará os arquivos removidos (arquivos somente em <span class=filename>old</span>), enquanto <code>comm -13 .. /old ../new</code> listará os arquivos adicionados somente no <span class=filename>new</span>.</p></div></div><div class=sect5><h6 id=_importando_para_a_árvore_do_fornecedor>5.4.4.2.2. Importando para a Árvore do Fornecedor<a class=anchor href=#_importando_para_a_árvore_do_fornecedor></a></h6><div class=paragraph><p>Agora, os fontes devem ser copiados para <span class=filename>dist</span> e os comandos <code>svn add</code> e <code>svn rm</code> são usados conforme necessário:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>vendor/pf/pf-4.3
% <span class=nb>tar </span>cf - <span class=nb>.</span> | <span class=nb>tar </span>xf - <span class=nt>-C</span> ../dist
% <span class=nb>cd</span> ../dist
% <span class=nb>comm</span> <span class=nt>-23</span> ../old ../new | xargs svn <span class=nb>rm</span>
% <span class=nb>comm</span> <span class=nt>-13</span> ../old ../new | xargs svn add <span class=nt>--parents</span></code></pre></div></div><div class=paragraph><p>Se algum diretório foi removido, ele terá que ser removido manualmente com o <code>svn rm</code>. Nada vai quebrar se eles não forem, mas eles permanecerão na árvore.</p></div><div class=paragraph><p>Verifique as propriedades em qualquer novo arquivo. Todos os arquivos de texto devem ter o <code>svn:eol-style</code> definido como <code>native</code>. Todos os arquivos binários devem ter o <code>svn:mime-type</code> configurado para <code>application/octet-stream</code>, a menos que haja um tipo de mídia mais apropriado. Arquivos executáveis devem ter <code>svn:executable</code> definido como <code>*</code>. Nenhuma outra propriedade deve existir em qualquer arquivo da árvore.</p></div><div class=paragraph><p>Agora é possível fazer o commit. No entanto, é uma boa prática certificar-se de que tudo está correto, usando os comandos <code>svn stat</code> e <code>svn diff</code>.</p></div></div><div class=sect5><h6 id=_marcação_tagging>5.4.4.2.3. Marcação (Tagging)<a class=anchor href=#_marcação_tagging></a></h6><div class=paragraph><p>Depois de realizado o commit, as versões do fornecedor são marcadas para referência futura. A melhor e mais rápida maneira de fazer isso é diretamente no repositório:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>cp </span>svn+ssh://repo.freebsd.org/base/vendor/pf/dist svn+ssh://repo.freebsd.org/base/vendor/pf/4.3</code></pre></div></div><div class=paragraph><p>Quando isso estiver concluído, execute o <code>svn up</code> para a cópia de trabalho do <span class=filename>vendor/pf</span> para obter a nova tag, embora isso raramente seja necessário.</p></div><div class=paragraph><p>Se você criar a tag na cópia de trabalho da árvore, os resultados do <code>svn:mergeinfo</code> deverão ser removidos:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd	</span>vendor/pf
% svn <span class=nb>cp </span>dist 4.3
% svn propdel svn:mergeinfo <span class=nt>-R</span> 4.3</code></pre></div></div></div></div><div class=sect4><h5 id=_mesclagem_para_o_head>5.4.4.3. Mesclagem para o Head<a class=anchor href=#_mesclagem_para_o_head></a></h5><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd head</span>/contrib/pf
% svn up
% svn merge <span class=nt>--accept</span><span class=o>=</span>postpone svn+ssh://repo.freebsd.org/base/vendor/pf/dist .</code></pre></div></div><div class=paragraph><p>O <code>--accept=postpone</code> diz ao Subversion para não reclamar sobre conflitos de mesclagem, pois eles serão manipulados manualmente.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>A mudança do <code>cvs2svn</code> ocorreu em 3 de junho de 2008. Ao realizar mesclagens de fornecedores para pacotes que já estavam presentes e convertidos pelo processo <code>cvs2svn</code>, o comando usado para mesclar <span class=filename>/vendor/package_name/dist</span> para <span class=filename>/head/package_location</span> (por exemplo, <span class=filename>head/contrib/sendmail</span>) deve usar <code>-c <em>REV</em></code> para indicar a revisão a ser mesclada a partir da árvore <span class=filename>/vendor</span>. Por exemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn checkout svn+ssh://repo.freebsd.org/base/head/contrib/sendmail
% <span class=nb>cd </span>sendmail
% svn merge <span class=nt>-c</span> r261190 <span class=s1>&#39;^/vendor/sendmail/dist&#39;</span> .</code></pre></div></div><div class=paragraph><p><code>^</code> é um alias para o caminho do repositório.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se estiver usando o shell Zsh, o <code>^</code> deve ser escapado com <code>\</code> ou entre aspas.</p></div></td></tr></tbody></table></div><div class=paragraph><p>É necessário resolver quaisquer conflitos de mesclagem.</p></div><div class=paragraph><p>Certifique-se de que todos os arquivos adicionados ou removidos na árvore do fornecedor tenham sido adicionados ou removidos corretamente na árvore principal. Para verificar os diffs com relação ao branch do fornecedor:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn diff <span class=nt>--no-diff-deleted</span> <span class=nt>--old</span><span class=o>=</span>svn+ssh://repo.freebsd.org/base/vendor/pf/dist <span class=nt>--new</span><span class=o>=</span>.</code></pre></div></div><div class=paragraph><p>O <code>--no-diff-deleted</code> diz ao Subversion para não reclamar sobre os arquivos que estão na árvore do fornecedor, mas que não estão na árvore principal. Coisas que teriam sido removidas antes da importação do fornecedor, como os makefiles do fornecedor e os scripts de configuração.</p></div><div class=paragraph><p>Usando o <code>CVS</code>, uma vez que um arquivo estava fora do branch do fornecedor, ele não podia ser colocado de volta. Com o Subversion, não há nenhum conceito dentro ou fora do branch do fornecedor. Se um arquivo que anteriormente tinha modificações locais, para fazer com que ele não apareça em diffs na árvore do fornecedor, tudo o que tem que ser feito é remover qualquer sobra como as tags de versões do FreeBSD, o que é muito mais fácil.</p></div><div class=paragraph><p>Se alguma mudança for necessária para o "world" compilar com os novos fontes, faça-as agora e continue testando até que tudo seja compilado e executado perfeitamente.</p></div></div><div class=sect4><h5 id=_fazendo_o_commit_da_importação_de_fornecedores>5.4.4.4. Fazendo o commit da Importação de Fornecedores<a class=anchor href=#_fazendo_o_commit_da_importação_de_fornecedores></a></h5><div class=paragraph><p>Agora é possível fazer o commit! O commit deve ser feito de tudo de uma só vez. Se feito corretamente, a árvore passará de um estado consistente com o código antigo para um estado consistente com o novo código.</p></div></div><div class=sect4><h5 id=_a_partir_do_zero>5.4.4.5. A partir do zero<a class=anchor href=#_a_partir_do_zero></a></h5><div class=sect5><h6 id=_importando_para_a_árvore_do_fornecedor_2>5.4.4.5.1. Importando para a Árvore do Fornecedor<a class=anchor href=#_importando_para_a_árvore_do_fornecedor_2></a></h6><div class=paragraph><p>Esta seção é um exemplo de importação e marcação do byacc no <span class=filename>head</span>.</p></div><div class=paragraph><p>Primeiro, prepare o diretório em <span class=filename>vendor</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn co <span class=nt>--depth</span> immediates <span class=nv>$FSVN</span>/vendor
% <span class=nb>cd </span>vendor
% svn <span class=nb>mkdir </span>byacc
% svn <span class=nb>mkdir </span>byacc/dist</code></pre></div></div><div class=paragraph><p>Agora, importe os fontes para o diretório <span class=filename>dist</span>. Uma vez que os arquivos estiverem no lugar, faça o <code>svn add</code> dos novos, e então faça o <code>svn commit</code> e aplique a tag na versão importada. Para poupar tempo e largura de banda, é possível efetuar diretamente o commit e as marcações de forma remota:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>cp</span> <span class=nt>-m</span> <span class=s2>&#34;Tag byacc 20120115&#34;</span> <span class=nv>$FSVN</span>/vendor/byacc/dist <span class=nv>$FSVN</span>/vendor/byacc/20120115</code></pre></div></div></div><div class=sect5><h6 id=_mesclando_para_o_head>5.4.4.5.2. Mesclando para o <code>head</code><a class=anchor href=#_mesclando_para_o_head></a></h6><div class=paragraph><p>Devido a este ser um novo arquivo, copie-o para a mesclagem:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn <span class=nb>cp</span> <span class=nt>-m</span> <span class=s2>&#34;Import byacc to contrib&#34;</span> <span class=nv>$FSVN</span>/vendor/byacc/dist <span class=nv>$FSVN</span>/head/contrib/byacc</code></pre></div></div><div class=paragraph><p>Ainda é possível trabalhar normalmente nos fontes recém importados.</p></div></div></div></div><div class=sect3><h4 id=svn-advanced-use-reverting-a-commit>5.4.5. Revertendo um Commit<a class=anchor href=#svn-advanced-use-reverting-a-commit></a></h4><div class=paragraph><p>A reversão de um commit para uma versão anterior é bem fácil:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn merge <span class=nt>-r179454</span>:179453 ROADMAP.txt
% svn commit</code></pre></div></div><div class=paragraph><p>Alterar a sintaxe do número, com o negativo significando a reversão de uma mudança, também pode ser usado:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn merge <span class=nt>-c</span> <span class=nt>-179454</span> ROADMAP.txt
% svn commit</code></pre></div></div><div class=paragraph><p>Isso também pode ser feito diretamente no repositório:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn merge <span class=nt>-r179454</span>:179453 svn+ssh://repo.freebsd.org/base/ROADMAP.txt</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>É importante assegurar que o mergeinfo esteja correto ao reverter um arquivo para permitir que o <code>svn mergeinfo --eligible</code> funcione como esperado.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A reversão da exclusão de um arquivo é um pouco diferente. É necessário copiar a versão do arquivo que antecede a exclusão. Por exemplo, para restaurar um arquivo que foi excluído na revisão N, restaure a versão N-1:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn copy svn+ssh://repo.freebsd.org/base/ROADMAP.txt@179454
% svn commit</code></pre></div></div><div class=paragraph><p>ou, igualmente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn copy svn+ssh://repo.freebsd.org/base/ROADMAP.txt@179454 svn+ssh://repo.freebsd.org/base</code></pre></div></div><div class=paragraph><p>Simplesmente <em>não</em> recrie o arquivo manualmente e o adicione com o <code>svn add</code> - isso fará com que o histórico seja perdido.</p></div></div><div class=sect3><h4 id=svn-advanced-use-fixing-mistakes>5.4.6. Corrigindo Erros<a class=anchor href=#svn-advanced-use-fixing-mistakes></a></h4><div class=paragraph><p>Por mais que possamos realizar uma cirurgia em uma emergência, não planeje ou corrija erros por baixo dos panos. Planos para erros permanecem nos registros para sempre. Certifique-se de verificar a saída do <code>svn status</code> e do <code>svn diff</code> antes de enviar o commit.</p></div><div class=paragraph><p>Erros acontecerão, mas eles geralmente podem ser corrigidos sem perturbar.</p></div><div class=paragraph><p>No caso de adicionar um arquivo no local errado. A coisa certa a fazer é usar o <code>svn move</code> e mover o arquivo para o local correto e fazer o commit. Isso altera apenas algumas linhas de metadados no journal do repositório, e os logs serão todos conectados corretamente.</p></div><div class=paragraph><p>A coisa errada a fazer é apagar o arquivo e, em seguida, usar <code>svn add</code> para adicionar uma cópia independente no local correto. Em vez de algumas linhas de texto, o repositório journal cria uma nova cópia inteira do arquivo. Isso é um desperdício.</p></div></div><div class=sect3><h4 id=svn-getting-started-checkout-from-a-mirror>5.4.7. Usando um Espelho do Subversion<a class=anchor href=#svn-getting-started-checkout-from-a-mirror></a></h4><div class=paragraph><p>Há uma séria desvantagem neste método: toda vez que for feito o commit de algo, terá que executar um <code>svn relocate</code> no repositório master, não esquecendo de executar o <code>svn relocate</code> de volta para o mirror após o commit. Além disso, como o <code>svn relocate</code> só funciona entre os repositórios que possuem o mesmo UUID, algum hacking do UUID do repositório local deve ocorrer antes que seja possível começar a usá-lo.</p></div><div class=sect4><h5 id=svn-advanced-checkout-from-mirror>5.4.7.1. Checkout a partir de um Mirror<a class=anchor href=#svn-advanced-checkout-from-mirror></a></h5><div class=paragraph><p>Faça o checkout de uma cópia de trabalho a partir de um mirror substituindo a URL do mirror por <code>svn+ssh://repo.freebsd.org/base</code>. Este pode ser um mirror oficial ou um mirror mantido usando o <code>svnsync</code>.</p></div></div><div class=sect4><h5 id=svn-advanced-use-setting-up-svnsync>5.4.7.2. Configurando um Mirror svnsync<a class=anchor href=#svn-advanced-use-setting-up-svnsync></a></h5><div class=paragraph><p>Evite configurar um mirror svnsync a menos que haja uma boa razão para isso. Na maioria das vezes, um mirror <code>git</code> é uma alternativa melhor. Começar um novo mirror do zero leva muito tempo. Espere um mínimo de 10 horas para conectividade de alta velocidade. Se o trafego for passar por links internacionais, espere que isso leve de quatro a dez vezes mais.</p></div><div class=paragraph><p>Uma maneira de limitar o tempo necessário é pegar um arquivo de <a href=https://download.freebsd.org/development/subversion/>seed</a>. Ele é grande (~1GB), mas consome menos tráfego de rede e leva menos tempo para baixar do que o svnsync.</p></div><div class=paragraph><p>Extraia o arquivo e o atualize:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>tar </span>xf svnmirror-base-r261170.tar.xz
% svnsync <span class=nb>sync </span>file:///home/svnmirror/base</code></pre></div></div><div class=paragraph><p>Agora, configure isso para executar a partir do <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>, faça checkouts localmente, configure um servidor svnserve para as máquinas locais com as quais conversar, etc.</p></div><div class=paragraph><p>O mirror seed está definido para buscar o conteúdo a partir de <code>svn://svn.freebsd.org/base</code>. A configuração para o mirror é armazenada em <code>revprop 0</code> no mirror local. Para ver a configuração, tente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn proplist <span class=nt>-v</span> <span class=nt>--revprop</span> <span class=nt>-r</span> 0 file:///home/svnmirror/base</code></pre></div></div><div class=paragraph><p>Use <code>svn propset</code> para mudar as coisas.</p></div></div></div><div class=sect3><h4 id=svn-advanced-use-committing-high-ascii-data>5.4.8. Fazendo commit de dados High ASCII<a class=anchor href=#svn-advanced-use-committing-high-ascii-data></a></h4><div class=paragraph><p>Os arquivos que possuem bits high-ASCII são considerados arquivos binários no <code>SVN</code>, portanto, as verificações de pré-commit falham e indicam que a propriedade <code>mime-type</code> deve ser definida como <code>application/octet-stream</code>. No entanto, o uso deste é desencorajado, por isso, não o defina. A melhor maneira é sempre evitar dados high-ASCII, para que possam ser lidos em qualquer lugar com qualquer editor de texto, mas se não for possivel evitar, em vez de alterar o mime-type, defina a propriedade <code>fbsd:notbinary</code> com o <code>propset</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn propset fbsd:notbinary <span class=nb>yes </span>foo.data</code></pre></div></div></div><div class=sect3><h4 id=svn-advanced-use-maintaining-a-project-branch>5.4.9. Mantendo um branch de projeto<a class=anchor href=#svn-advanced-use-maintaining-a-project-branch></a></h4><div class=paragraph><p>Uma branch de projeto é aquela que está sincronizada com o head (ou outra branch) e é usada para desenvolver um projeto e, em seguida, fazer o seu commit de volta para o head. No <code>SVN</code>, o branch "dolphin" é usado para isso. Uma branch "dolphin" é aquela que diverge por um tempo e é finalmente enviada de volta ao branch original. Durante a migração do código de desenvolvimento em uma direção (do head para o branch apenas). Não é feito o commit de nenhum código de volta ao head até o final. Depois que é feito o commit da branch no final, ela estará morta (embora uma nova branch com o mesmo nome possa ser criada depois que a que está morta é excluída).</p></div><div class=paragraph><p>Como explicado em <a href=https://people.FreeBSD.org/~peter/svn_notes.txt>https://people.FreeBSD.org/~peter/svn_notes.txt</a>, o trabalho que destina-se a ser mesclado de volta para o HEAD deve estar em <span class=filename>base/projects/</span>. Se o trabalho é benéfico para a comunidade do FreeBSD de alguma forma, mas não se destina a ser mesclado diretamente no HEAD, então o local apropriado é <span class=filename>base/user/username/</span>. <a href=https://svnweb.freebsd.org/base/projects/GUIDELINES.txt>Esta página</a> contém mais detalhes.</p></div><div class=paragraph><p>Para criar um branch de projeto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn copy svn+ssh://repo.freebsd.org/base/head svn+ssh://repo.freebsd.org/base/projects/spif</code></pre></div></div><div class=paragraph><p>Para mesclar as alterações do HEAD de volta ao branch de projeto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>copy_of_spif
% svn merge svn+ssh://repo.freebsd.org/base/head
% svn commit</code></pre></div></div><div class=paragraph><p>É importante resolver quaisquer conflitos de mesclagem antes de fazer o commit.</p></div></div></div><div class=sect2><h3 id=_algumas_dicas>5.5. Algumas dicas<a class=anchor href=#_algumas_dicas></a></h3><div class=paragraph><p>Nos logs de commit, etc., "rev 179872" é soletrado "r179872" conforme a convenção.</p></div><div class=paragraph><p>É possível acelerar o svn adicionando estas entradas ao <span class=filename>~/.ssh/config</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Host <span class=k>*</span>
ControlPath ~/.ssh/sockets/master-l-r@h:p
ControlMaster auto
ControlPersist <span class=nb>yes</span></code></pre></div></div><div class=paragraph><p>e depois digitando</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell> <span class=nb>mkdir</span> ~/.ssh/sockets</code></pre></div></div><div class=paragraph><p>Fazer o check-out de uma cópia de trabalho com um cliente Subversion padrão sem patches específicos do FreeBSD (<code>OPTIONS_SET=FREEBSD_TEMPLATE</code>) significará que as tags <code>$FreeBSD: head/pt_BR.ISO8859-1/articles/committers-guide/article.xml 53731 2020-01-01 14:37:53Z ebrandi $</code> não serão expandidas. Uma vez que a versão correta foi instalada, engane o Subversion para expandi-las da seguinte forma:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svn propdel <span class=nt>-R</span> svn:keywords <span class=nb>.</span>
% svn revert <span class=nt>-R</span> .</code></pre></div></div><div class=paragraph><p>Isso eliminará os patches para os quais ainda não foi feito o commit.</p></div><div class=paragraph><p>É possível preencher automaticamente os campos de log de commit "Sponsored by" e "MFC after" configurando os campos "freebsd-sponsored-by" e "freebsd-mfc-after" na seção "[miscellany]" do arquivo de configuração <span class=filename>~/.subversion/config</span>. Por exemplo:</p></div><div class="literalblock programlisting"><div class=content><pre>freebsd-sponsored-by = The FreeBSD Foundation
freebsd-mfc-after = 2 weeks</pre></div></div></div></div></div><div class=sect1><h2 id=conventions>6. Configuração, Convenções e Tradições<a class=anchor href=#conventions></a></h2><div class=sectionbody><div class=paragraph><p>Existe uma série de coisas para fazer como um novo desenvolvedor. O primeiro conjunto de etapas é específico apenas para os committers. Essas etapas devem ser feitas por um mentor para aqueles que não são committers.</p></div><div class=sect2><h3 id=conventions-committers>6.1. Para novos committers<a class=anchor href=#conventions-committers></a></h3><div class=paragraph><p>Aqueles que receberam direitos de commit para os repositórios do FreeBSD devem seguir estes passos.</p></div><div class=ulist><ul><li><p>Obtenha a aprovação do seu mentor antes de fazer o commit de cada uma dessas mudanças!</p></li><li><p>Os arquivos <span class=filename>.ent</span> e <span class=filename>.xml</span> mencionados abaixo existem no repositório SVN do Projeto de Documentation do FreeBSD em <code>svn+ssh://repo.FreeBSD.org/doc/</code>.</p></li><li><p>Novos arquivos que não possuem a propriedade <code>FreeBSD=%H svn:keywords</code> serão rejeitados quando você tentar fazer o commit dos mesmos para o repositório. Certifique-se de ler <a href=#svn-daily-use-adding-and-removing>Adicionando e Removendo Arquivos</a> sobre como adicionar e remover arquivos. Verifique se o <span class=filename>~/.subversion/config</span> contém as entradas necessárias de "auto-props" do <span class=filename>auto-props.txt</span> mencionado lá.</p></li><li><p>Todos os commits do <span class=filename>src</span> vão para o FreeBSD-CURRENT antes de serem mesclados para o FreeBSD-STABLE. A branch do FreeBSD-STABLE deve manter a compatibilidade de ABI e de API com as versões anteriores dessa branch. Não mescle as alterações que quebram essa compatibilidade.</p></li></ul></div><div id=commit-steps class="olist arabic procedure"><div class=title>Procedure: Etapas para os novos committers</div><ol class=arabic><li><p>Adicione uma entidade de autor</p><div class=paragraph><p><span class=filename>doc/head/shared/xml/authors.ent</span> - Adicione uma entidade de autor. Etapas posteriores dependem dessa entidade, e a falta dessa etapa fará com que a compilação do <span class=filename>doc/</span> falhe. Essa é uma tarefa relativamente fácil, mas continua sendo um bom primeiro teste de habilidades no controle de versão.</p></div></li><li><p>Atualize a lista de desenvolvedores e colaboradores</p><div class=paragraph><p><span class=filename>doc/head/en_US.ISO8859-1/articles/contributors/contrib.committers.xml</span> - Adicione uma entrada à seção "Desenvolvedores" da <a href=https://docs.freebsd.org/pt-br/articles/contributors/#staff-committers>Lista de Contribuidores</a>. As entradas são classificadas pelo sobrenome.</p></div><div class=paragraph><p><span class=filename>doc/head/en_US.ISO8859-1/articles/contributors/contrib.additional.xml</span> - <em>Remova</em> a entrada da seção "Contribuidores Adicionais". As entradas são classificadas pelo primeiro nome.</p></div></li><li><p>Adicione um item de notícias</p><div class=paragraph><p><span class=filename>doc/head/shared/xml/news.xml</span> - Adicione uma entrada. Procure por outras entradas que anunciam novos committers e siga o formato. Use a data do email de aprovação do <a href=mailto:core@FreeBSD.org>core@FreeBSD.org</a> para o commit bit.</p></div></li><li><p>Adicione uma chave PGP</p><div class=paragraph><p><span class=filename>doc/head/shared/pgpkeys/pgpkeys.ent</span> e <span class=filename>doc/head/shared/pgpkeys/pgpkeys-developers.xml</span> - Adicione a sua chave PGP ou GnuPG. Aqueles que ainda não têm uma chave devem ver <a href=#pgpkeys-creating>Criando uma chave</a>.</p></div><div class=paragraph><p>O Dag-Erling Smørgrav <a href=mailto:des@FreeBSD.org>des@FreeBSD.org</a> escreveu um script de shell (<span class=filename>doc/head/shared/pgpkeys/addkey.sh</span>) para tornar isto mais fácil. Consulte o arquivo <a href=http://svnweb.FreeBSD.org/doc/head/shared/pgpkeys/README>README</a> para obter mais informações.</p></div><div class=paragraph><p>Use o <span class=filename>doc/head/shared/pgpkeys/checkkey.sh</span> para verificar se as chaves atendem aos padrões mínimos das boas práticas recomendadas.</p></div><div class=paragraph><p>Depois de adicionar e verificar uma chave, adicione os dois arquivos atualizados ao controle de versão do código fonte, e em seguida faça o commit. As entradas neste arquivo são classificadas pelo sobrenome.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>É muito importante ter uma chave PGP/GnuPG atualizada no repositório. A chave pode ser necessária para a identificação positiva de um committer. Por exemplo, os Administradores do FreeBSD <a href=mailto:admins@FreeBSD.org>admins@FreeBSD.org</a>podem precisar dela para a recuperação da conta. Um chaveiro completo dos usuários do <code>FreeBSD.org</code> está disponível para download em <a href=https://www.FreeBSD.org/doc/pgpkeyring.txt>https://www.FreeBSD.org/doc/pgpkeyring.txt</a>.</p></div></td></tr></tbody></table></div></li><li><p>Atualize as informações do Mentor e do Mentee</p><div class=paragraph><p><span class=filename>base/head/shared/misc/committers-repository.dot</span> - Adicione uma entrada à seção committers atuais, onde <em>repository</em> é <code>doc</code>, <code>ports</code>, ou <code>src</code>, dependendo dos privilégios de commit concedidos.</p></div><div class=paragraph><p>Adicione uma entrada para cada relacionamento adicional de mentor/mentee na seção inferior.</p></div></li><li><p>Gere uma senha do Kerberos</p><div class=paragraph><p>Veja <a href=#kerberos-ldap>Kerberos e LDAP Web Password para o cluster do FreeBSD</a> para gerar ou definir um Kerberos para uso com outros serviços do FreeBSD, como o banco de dados de rastreamento de bugs.</p></div></li><li><p>Opcional: Ative a sua conta na Wiki</p><div class=paragraph><p><a href=https://wiki.freebsd.org>Conta no Wiki do FreeBSD</a> - Uma conta no wiki permite que compartilhe projetos e ideias. Aqueles que ainda não têm uma conta podem seguir as instruções da <a href=https://wiki.freebsd.org/AboutWiki>Página Sobre a Wiki</a> para obter uma. Entre em contato com <a href=mailto:wikiadmin@FreeBSD.org>wikiadmin@FreeBSD.org</a> se precisar de ajuda com sua conta no Wiki.</p></div></li><li><p>Opcional: Atualize informações do Wiki</p><div class=paragraph><p>Informações do Wiki - Depois de obter acesso ao wiki, algumas pessoas adicionam entradas nas páginas <a href=https://wiki.freebsd.org/HowWeGotHere>How We Got Here</a>, <a href=https://wiki.freebsd.org/IRC/Nicknames>IRC Nicks</a> e <a href=https://wiki.freebsd.org/Community/Dogs>Dogs of FreeBSD</a> páginas.</p></div></li><li><p>Opcional: Atualize o Ports com as suas Informações Pessoais</p><div class=paragraph><p><span class=filename>ports/astro/xearth/files/freebsd.committers.markers</span> e <span class=filename>src/usr.bin/calendar/calendars/calendar.freebsd</span> - Algumas pessoas adicionam entradas para elas nestes arquivos para mostrar onde estão localizadas ou a data de seu aniversário.</p></div></li><li><p>Opcional: Evite Correspondências Duplicadas</p><div class=paragraph><p>Assinantes das listas <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-src-all>svn-src-all</a>, <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all>svn-ports-all</a> ou da <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all>svn-doc-all</a> podem desejar cancelar a assinatura para evitar receber cópias duplicadas de mensagens de commit e de followups.</p></div></li></ol></div></div><div class=sect2><h3 id=conventions-everyone>6.2. Para todos<a class=anchor href=#conventions-everyone></a></h3><div id=conventions-everyone-steps class="olist arabic procedure"><ol class=arabic><li><p>Apresente-se aos outros desenvolvedores, caso contrário, ninguém fará a menor ideia de quem você é ou no que você está trabalhando. A introdução não precisa ser uma biografia abrangente, basta escrever um parágrafo ou dois sobre quem você é, em que você planeja trabalhar como desenvolvedor no FreeBSD e quem será seu mentor. Envie os parágrafos por e-mail para a lista de discussão dos desenvolvedores do FreeBSD e você estará a caminho!</p></li><li><p>Entre na <code>freefall.FreeBSD.org</code> e crie um arquivo <span class=filename>/var/forward/user</span> (no qual <em>user</em> é seu nome de usuário) contendo o endereço de e-mail para o qual você deseja que o correio endereçado para <em>yourusername</em>@FreeBSD.org seja encaminhado. Isto inclui todas as mensagens de commit assim como qualquer outro email endereçado à lista de discussão dos committers do FreeBSD e à lista de discussão dos desenvolvedores do FreeBSD. Caixas de correio realmente grandes que tenham residência permanente na <code>freefall</code> podem ser truncadas sem aviso se o espaço precisar ser liberado, então encaminhe suas mensagens ou salve-as em outro lugar.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se o seu sistema de e-mail usa SPF com regras estritas, você deve colocar o host <code>mx2.FreeBSD.org</code> na whitelist de verificações do SPF.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Devido ao load severo imposto aos servidores centrais que fazem o processamento da lista de discussão devido ao grande volume de SPAMs, o servidor de front-end faz algumas verificações básicas e descarta algumas mensagens com base nessas verificações. No momento, as informações de DNS adequadas para o host de conexão são a única verificação ativa, mas isso pode mudar. Algumas pessoas culpam estas verificações por rejeitar e-mails válidos. Para que essas verificações sejam desativadas no seu email, crie um arquivo chamado <span class=filename>~/.spam_lover</span> no servidor <code>freefall.FreeBSD.org</code>.</p></div></li></ol></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Aqueles que são desenvolvedores, mas não são committers, não serão inscritos nas listas de discussão de desenvolvedores ou de committers. As assinaturas são derivadas dos direitos de acesso.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=smtp-setup>6.2.1. Configuração de acesso SMTP<a class=anchor href=#smtp-setup></a></h4><div class=paragraph><p>Para aqueles dispostos a enviar mensagens de e-mail através da infraestrutura do FreeBSD.org, siga as instruções abaixo:</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>Aponte seu cliente de e-mail para <code>smtp.FreeBSD.org:587</code>.</p></li><li><p>Habilite o STARTTLS.</p></li><li><p>Assegure-se de que seu endereço <code>From:</code> esteja configurado para <code><em>yourusername</em>@FreeBSD.org</code>.</p></li><li><p>Para autenticação, você pode usar o seu nome de usuário e a sua senha do Kerberos no cluster do FreeBSD (veja <a href=#kerberos-ldap>Kerberos e LDAP Web Password para o cluster do FreeBSD</a>). O principal <code><em>yourusername</em>/mail</code> é o preferido, pois é válido apenas para autenticação dos recursos de correio.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Não inclua <code>@FreeBSD.org</code> ao digitar seu nome de usuário.</p></div></td></tr></tbody></table></div></li></ol></div><div class=exampleblock><div class=content><div class=ulist><ul><li><p>Aceitará apenas mensagens de <code><em>yourusername</em>@FreeBSD.org</code>. Se você for autenticado como um usuário, não terá permissão para enviar e-mails como outro.</p></li><li><p>Um cabeçalho será anexado com o nome de usuário do SASL: (<code>Authenticated sender: <em>username</em></code>).</p></li><li><p>O host possui vários limites de taxa para reduzir as tentativas de força bruta.</p></li></ul></div></div></div><div class=sect4><h5 id=smtp-setup-local-mta>6.2.1.1. Usando um MTA Local para Encaminhar Emails para o Serviço SMTP do FreeBSD.org<a class=anchor href=#smtp-setup-local-mta></a></h5><div class=paragraph><p>Também é possível usar um MTA local para encaminhar emails enviados localmente para os servidores SMTP do FreeBSD.org.</p></div><div id=smtp-setup-local-postfix class=exampleblock><div class=title>Exemplo 1. Usando o Postfix</div><div class=content><div class=paragraph><p>Para dizer a uma instância local do Postfix que qualquer email de <code><em>yourusername</em>@FreeBSD.org</code> deve ser encaminhado para os servidores do FreeBSD.org, adicione isto ao seu <span class=filename>main.cf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>sender_dependent_relayhost_maps = hash:/usr/local/etc/postfix/relayhost_maps
smtp_sasl_auth_enable = yes
smtp_sasl_security_options = noanonymous
smtp_sasl_password_maps = hash:/usr/local/etc/postfix/sasl_passwd
smtp_use_tls = yes</pre></div></div><div class=paragraph><p>Crie <span class=filename>/usr/local/etc/postfix/relayhost_maps</span> com o seguinte conteúdo:</p></div><div class="literalblock programlisting"><div class=content><pre>yourusername@FreeBSD.org  [smtp.freebsd.org]:587</pre></div></div><div class=paragraph><p>Crie <span class=filename>/usr/local/etc/postfix/sasl_passwd</span> com o seguinte conteúdo:</p></div><div class="literalblock programlisting"><div class=content><pre>[smtp.freebsd.org]:587          yourusername:yourpassword</pre></div></div><div class=paragraph><p>Se o servidor de email for usado por outras pessoas, talvez você queira impedir que elas enviem emails do seu endereço. Para configurar isso, adicione estas entradas ao seu <span class=filename>main.cf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>smtpd_sender_login_maps = hash:/usr/local/etc/postfix/sender_login_maps
smtpd_sender_restrictions = reject_known_sender_login_mismatch</pre></div></div><div class=paragraph><p>Crie <span class=filename>/usr/local/etc/postfix/sender_login_maps</span> com o seguinte conteúdo:</p></div><div class="literalblock programlisting"><div class=content><pre>yourusername@FreeBSD.org yourlocalusername</pre></div></div><div class=paragraph><p>Onde <em>yourlocalusername</em> é o usuário SASL utilizado para conectar na instância local do Postfix.</p></div></div></div></div></div></div><div class=sect2><h3 id=mentors>6.3. Mentores<a class=anchor href=#mentors></a></h3><div class=paragraph><p>Todos os novos desenvolvedores têm um mentor atribuído a eles nos primeiros meses. Um mentor é responsável por ensinar ao aprendiz as regras e convenções do projeto e orientar seus primeiros passos na comunidade de desenvolvedores. O mentor também é pessoalmente responsável pelas ações do aprendiz durante este período inicial.</p></div><div class=paragraph><p>Para committers: não faça nenhum commit sem antes obter a aprovação do seu mentor. Documente essa aprovação com uma linha <code>Approved by:</code> na mensagem de commit.</p></div><div class=paragraph><p>Quando o mentor decide que um aprendiz já aprendeu o necessário e está pronto para fazer commits por conta própria, o mentor anuncia o fato com um commit no <span class=filename>conf/mentors</span>. Este arquivo está na branch <span class=filename>svnadmin</span> de cada repositório:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>src</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>base/svnadmin/conf/mentors</span></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>doc</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>doc/svnadmin/conf/mentors</span></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ports</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ports/svnadmin/conf/mentors</span></p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Os novos committers devem ter como objetivo realizar commits o suficiente para que seu mentor se sinta confortável em liberá-los da mentoria no primeiro ano. Se eles ainda estiverem sob orientação, o corpo gerencial apropriado (core, doceng ou portmgr) deve tentar garantir que não haja barreiras que impeçam a conclusão. Se o committer não for capaz de satisfazer seu mentor de prontidão por um ano e meio, seu commit bit pode ser convertido para membro do projeto.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=pre-commit-review>7. Revisão pré-commit<a class=anchor href=#pre-commit-review></a></h2><div class=sectionbody><div class=paragraph><p>A revisão de código é uma maneira de aumentar a qualidade do software. As seguintes diretrizes se aplicam a commits na ramificação <code>head</code> (-CURRENT) do repositório <code>src</code>. Outras ramificações e as árvores do <code>ports</code> e do <code>docs</code> têm suas próprias políticas de revisão, mas essas diretrizes geralmente se aplicam a commits que exigem revisão:</p></div><div class=ulist><ul><li><p>Todas as alterações não triviais devem ser revisadas antes de serem cometidas no repositório.</p></li><li><p>As revisões podem ser conduzidas por e-mail, pelo Bugzilla, pelo Phabricator ou por outro mecanismo. Sempre que possível, as revisões devem ser públicas.</p></li><li><p>O desenvolvedor responsável por uma mudança de código também é responsável por fazer todas as alterações necessárias relacionadas à revisão.</p></li><li><p>A revisão de código pode ser um processo iterativo, que continua até que o patch esteja pronto para o commit. Especificamente, uma vez que um patch é enviado para revisão, ele deve receber um explícito "looks good" antes que o commit possa ser feito. Desde que a aprovação seja explícita, ela pode ser formalizada de qualquer forma que faça sentido para o método de revisão.</p></li><li><p>Timeouts não são um substituto para revisão.</p></li></ul></div><div class=paragraph><p>Às vezes, as revisões de código demoram mais tempo do que você esperaria, especialmente para recursos maiores. As formas aceitas de acelerar os tempos de revisão dos seus patches são:</p></div><div class=ulist><ul><li><p>Revise os patches de outras pessoas. Se você ajudar, todos estarão mais dispostos a fazer o mesmo por você; A boa vontade é a nossa moeda.</p></li><li><p>Ping o patch. Se for urgente, forneça as razões pelas quais é importante para você finalizá-lo e faça o ping a cada dois dias. Se não for urgente, a frequência adequada de ping é de uma vez por semana. Lembre-se de que você está pedindo um tempo valioso de outros desenvolvedores profissionais.</p></li><li><p>Peça ajuda em listas de discussão, IRC, etc. Outros podem ajudá-lo diretamente ou sugerir um revisor.</p></li><li><p>Dividir seu patch em vários patches pequenos os quais se aplicam uns sobre os outros. Quanto menor o seu patch, maior a probabilidade de alguém dar uma rápida olhada nele.</p><div class=paragraph><p>Ao fazer grandes mudanças, é útil ter isso em mente desde o início do esforço, pois quebrar grandes alterações em pequenas é geralmente difícil depois que estão prontas.</p></div></li></ul></div><div class=paragraph><p>Os desenvolvedores devem participar de revisões de código fazendo revisões e recebendo revisões. Se alguém tiver a gentileza de revisar seu código, você deve devolver o favor a outra pessoa. Observe que, embora qualquer pessoa seja bem-vinda para revisar e dar feedback sobre um patch, apenas um especialista no assunto apropriado pode aprovar uma alteração. Geralmente, este especialista será um committer que trabalha com o código em questão regularmente.</p></div><div class=paragraph><p>Em alguns casos, nenhum especialista no assunto pode estar disponível. Nesses casos, uma revisão por um desenvolvedor experiente é suficiente quando associada a testes apropriados.</p></div></div></div><div class=sect1><h2 id=commit-log-message>8. Mensagens de Log de Commit<a class=anchor href=#commit-log-message></a></h2><div class=sectionbody><div class=paragraph><p>Esta seção contém algumas sugestões e tradições de como os logs de commit são formatados.</p></div><div class=paragraph><p>Além de incluir uma mensagem informativa com cada commit, algumas informações adicionais podem ser necessárias.</p></div><div class=paragraph><p>Essas informações consistem em uma ou mais linhas contendo a palavra-chave ou frase, dois-pontos, guias para formatação e, em seguida, as informações adicionais.</p></div><div class=paragraph><p>As palavras ou frases-chave são:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:20%><col style=width:80%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PR:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O relatório do problema (se houver) que é afetado (normalmente, por estar fechado) por este commit. Vários PRs podem ser especificados em uma linha, separados por vírgulas ou espaços.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Submitted by:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O nome e o endereço de e-mail da pessoa que enviou a correção; para desenvolvedores, apenas o nome de usuário no cluster do FreeBSD.</p><p class=tableblock>Se o requisitante for o mantenedor do port que está sendo atualizado pelo commit, inclua "(maintainer)" após o endereço de e-mail.</p><p class=tableblock>Evite ofuscar o endereço de e-mail do remetente, pois isso adiciona trabalho adicional ao pesquisar os registros.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Reviewed by:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O nome e o endereço de e-mail da pessoa ou pessoas que revisaram a alteração; para desenvolvedores, apenas o nome de usuário no cluster do FreeBSD. Se um patch foi submetido a uma lista de discussão para revisão e a revisão foi favorável, basta incluir o nome da lista.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Approved by:</code></p></td><td class="tableblock halign-left valign-top"><div class=content><div class=paragraph><p>O nome e endereço de e-mail da pessoa ou pessoas que aprovaram a alteração; para desenvolvedores, apenas o nome de usuário no cluster do FreeBSD. É costume obter aprovação prévia para um commit se for para uma área da árvore na qual você normalmente não faz commit. Além disso, durante a preparação para uma nova versão, todos os commits <em>devem</em> ser aprovados pela equipe de engenharia de release.</p></div><div class=paragraph><p>Enquanto estiver sob orientação, obtenha aprovação do mentor antes do commit. Digite o nome de usuário do mentor neste campo e adicione uma nota de que ele é um mentor:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Approved by: username-of-mentor <span class=o>(</span>mentor<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Se uma equipe aprovou esses commits, inclua o nome da equipe seguido do nome de usuário do aprovador entre parênteses. Por exemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Approved by: re <span class=o>(</span>username<span class=o>)</span></code></pre></div></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Obtained from:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>O nome do projeto (se houver) do qual o código foi obtido. Não use esta linha para o nome de uma pessoa individual.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Sponsored by:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Organizações patrocinadoras dessa mudança, se houver. Separe várias organizações com vírgulas. Se apenas uma parte do trabalho foi patrocinada, ou diferentes montantes de patrocínio foram fornecidos a diferentes autores, por favor, forneça os devidos créditos entre parênteses após cada nome de patrocinador. Por exemplo, <code>Example.com (alice, refatoração de código), Wormulon (bob), Momcorp (cindy)</code> mostra que Alice foi patrocinada pela Example.com para refatoração de código, enquanto Wormulon patrocinou o trabalho de Bob e a Momcorp patrocinou o trabalho de Cindy. Outros autores não foram patrocinados ou optaram por não listar o patrocínio.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MFC after:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Para receber um lembrete por e-mail para o MFC em uma data posterior, especifique o número de dias, semanas ou meses após os quais um MFC está planejado.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MFC to:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Se o commit deve ser mesclado em um subconjunto de branches estáveis, especifique os nomes das branchs.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MFC with:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Se o commit deve ser mesclado junto com um commit anterior em um único MFC (por exemplo, onde o commit corrige um bug da alteração anterior), especifique o número de revisão correspondente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Relnotes:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Se a alteração for candidata a inclusão nas notas de lançamento da próxima versão da branch, defina como <code>yes</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Security:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Se a alteração estiver relacionada a uma vulnerabilidade de segurança ou exposição de segurança, inclua uma ou mais referências ou uma descrição do problema. Se possível, inclua um URL VuXML ou um ID CVE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Evento:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Descrição para o evento em que essa confirmação foi feita. Se este for um evento recorrente, adicione o ano ou até mesmo o mês. Por exemplo, isso pode ser <code>FooBSDcon 2019</code>. A idéia por trás dessa linha é dar reconhecimento a conferências, reuniões e outros tipos de reuniões e mostrar que elas são úteis. Por favor, não use a linha <code>Patrocinado por:</code> para isso, pois isso significa que as organizações patrocinam determinados recursos ou desenvolvedores que trabalham neles.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>Differential Revision:</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A URL completa da revisão do Phabricator. Esta linha <em>deve ser a última linha </em>. Por exemplo: <code><a href=https://reviews.freebsd.org/D1708 class=bare>https://reviews.freebsd.org/D1708</a></code>.</p></td></tr></tbody></table><div class=exampleblock><div class=title>Exemplo 2. Commit Log para um commit baseado em um PR</div><div class=content><div class=paragraph><p>O commit é baseado em um patch de um PR enviado por John Smith. Os campos da mensagem de commit "PR" e "Submitted by" são preenchidos.</p></div><div class="literalblock programlisting"><div class=content><pre>...

	    PR:                    12345
	    Submitted by:	   John Smith &lt;John.Smith@example.com&gt;</pre></div></div></div></div><div class=exampleblock><div class=title>Exemplo 3. Commit log de um commit que precisa de revisão</div><div class=content><div class=paragraph><p>O sistema de memória virtual está sendo alterado. Depois de enviar os patches para a lista de discussão apropriada (neste caso, <code>freebsd-arch</code>) e as mudanças foram aprovadas.</p></div><div class="literalblock programlisting"><div class=content><pre>...
	    Reviewed by:       -arch</pre></div></div></div></div><div class=exampleblock><div class=title>Exemplo 4. Commit log de um commit que precisa de aprovação</div><div class=content><div class=paragraph><p>Commit um port, depois de trabalhar com o MAINTAINER, que disse para ir em frente e executar o commit.</p></div><div class="literalblock programlisting"><div class=content><pre>...
	    Approved by:	    abc (maintainer)</pre></div></div><div class=paragraph><p>No qual o <em>abc</em> é o nome da conta da pessoa que aprovou.</p></div></div></div><div class=exampleblock><div class=title>Exemplo 5. Commit log de um commit que importa código do OpenBSD</div><div class=content><div class=paragraph><p>Efetuando o commit de códigos baseados no trabalho feito no projeto OpenBSD.</p></div><div class="literalblock programlisting"><div class=content><pre>...
	    Obtained from:      OpenBSD</pre></div></div></div></div><div class=exampleblock><div class=title>Exemplo 6. Commit Log para uma mudança no FreeBSD-CURRENT com um commit planejado para o FreeBSD-STABLE para seguir em uma data posterior.</div><div class=content><div class=paragraph><p>Efetuando o commit de códigos que serão mesclados do FreeBSD-CURRENT na branch do FreeBSD-STABLE após duas semanas.</p></div><div class="literalblock programlisting"><div class=content><pre>...
MFC after:      2 weeks</pre></div></div><div class=paragraph><p>Onde <em>2</em> é o número de dias, semanas ou meses após o qual um MFC é planejado. A opção <em>weeks</em> pode ser <code>day</code>, <code>dias</code>, <code>semana</code>, <code>semanas</code>, <code>mês</code>, <code>meses</code>.</p></div></div></div><div class=paragraph><p>Muitas vezes é necessário combinar isso.</p></div><div class=paragraph><p>Considere a situação em que um usuário enviou um código contendo o PR do projeto NetBSD. Olhando para o PR, o desenvolvedor vê que não é uma área da árvore na qual eles normalmente trabalham, então eles têm a mudança revisada pela lista de discussão <code>arch</code>. Como a mudança é complexa, o desenvolvedor opta pelo MFC após um mês para permitir testes adequados.</p></div><div class=paragraph><p>A informação extra para incluir no commit seria algo como</p></div><div class=exampleblock><div class=title>Exemplo 7. Exemplo de log de commit combinado</div><div class=content><div class="literalblock programlisting"><div class=content><pre>PR:                 54321
Submitted by:       John Smith &lt;John.Smith@example.com&gt;
Reviewed by:        -arch
Obtained from:      NetBSD
MFC after:          1 month
Relnotes:           yes</pre></div></div></div></div></div></div><div class=sect1><h2 id=pref-license>9. Licença preferida para novos arquivos<a class=anchor href=#pref-license></a></h2><div class=sectionbody><div class=paragraph><p>A política de licença completa do Projeto FreeBSD pode ser encontrada em <a href=https://www.FreeBSD.org/internal/software-license/>https://www.FreeBSD.org/internal/software-license/</a>. O restante desta seção destina-se a ajudá-lo a começar. Por via de regra, quando em dúvida, pergunte. É muito mais fácil dar conselhos do que consertar a árvore de código fonte.</p></div><div class=paragraph><p>O Projeto FreeBSD sugere e usa este texto como o esquema de licença preferencial:</p></div><div class="literalblock programlisting"><div class=content><pre>/*-
 * SPDX-License-Identifier: BSD-2-Clause-FreeBSD
 *
 * Copyright (c) [year] [your name]
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS&#39;&#39; AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 * [id for your version control system, if any]
 */</pre></div></div><div class=paragraph><p>O projeto FreeBSD desencoraja fortemente a chamada "cláusula publicitária" no novo código. Devido ao grande número de contribuidores para o projeto FreeBSD, o cumprimento desta cláusula para muitos fornecedores comerciais se tornou difícil. Se você tiver um código na árvore com a cláusula de publicidade, considere removê-lo. Na verdade, considere usar a licença acima para o seu código.</p></div><div class=paragraph><p>O projeto FreeBSD desencoraja completamente novas licenças e variações nas licenças padrões. Novas licenças requerem a aprovação do Core Team <a href=mailto:core@FreeBSD.org>core@FreeBSD.org</a> para residir no repositório principal. Quanto mais licenças diferentes forem usadas na árvore, mais problemas isso causará para aqueles que desejarem utilizar esse código, geralmente de consequências não intencionais de uma licença mal formulada.</p></div><div class=paragraph><p>A política do projeto determina que o código sob algumas licenças não-BSD deve ser colocado apenas em seções específicas do repositório e, em alguns casos, a compilação deve ser condicional ou até mesmo desativada por padrão. Por exemplo, o kernel GENERIC deve ser compilado apenas sob licenças idênticas ou substancialmente semelhantes à licença BSD. O software licenciado GPL, APSL, CDDL, etc, não deve ser compilado no GENERIC.</p></div><div class=paragraph><p>Os desenvolvedores são lembrados de que, em código aberto, ficar "aberto" corretamente é tão importante quanto obter o "fonte" correto, já que o manuseio inadequado da propriedade intelectual tem sérias consequências. Quaisquer dúvidas ou preocupações devem imediatamente ser levadas à atenção do Core Team.</p></div></div></div><div class=sect1><h2 id=tracking.license.grants>10. Acompanhando as Licenças Concedidas ao Projeto FreeBSD<a class=anchor href=#tracking.license.grants></a></h2><div class=sectionbody><div class=paragraph><p>Vários softwares ou dados existem nos repositórios onde o projeto FreeBSD recebeu uma licença especial para poder usá-los. Um caso em questão são as fontes do Terminus para uso com o <a href="https://man.freebsd.org/cgi/man.cgi?query=vt&amp;sektion=4&amp;format=html">vt(4)</a>. Aqui, o autor Dimitar Zhekov nos permitiu usar a fonte "Terminus BSD Console" sob uma licença BSD de 2 cláusulas, em vez da licença Open Font License que ele normalmente usa.</p></div><div class=paragraph><p>É claramente sensível manter um registro de tais concessões de licença. Para esse fim, o Core Team <a href=mailto:core@FreeBSD.org>core@FreeBSD.org</a> decidiu manter um arquivo delas. Sempre que o projeto FreeBSD receber uma licença especial, nós exigimos que o Core Team <a href=mailto:core@FreeBSD.org>core@FreeBSD.org</a> seja notificado. Qualquer desenvolvedor envolvido na obtenção de tal concessão de licença, por favor envie os detalhes para o Core Team <a href=mailto:core@FreeBSD.org>core@FreeBSD.org</a> incluindo:</p></div><div class=ulist><ul><li><p>Detalhes de contato para as pessoas ou organizações que concederam a licença especial.</p></li><li><p>Quais arquivos, diretórios etc. nos repositórios são cobertos pela concessão da licença, incluindo os números de revisão dos commits nos quais qualquer material especialmente licenciado tenha sido incorporado.</p></li><li><p>A data em que a licença entra em vigor. Salvo acordo em contrário, esta será a data em que a licença foi emitida pelos autores do software em questão.</p></li><li><p>O texto da licença.</p></li><li><p>Uma nota de quaisquer restrições, limitações ou exceções que se aplicam especificamente ao uso do material licenciado pelo FreeBSD.</p></li><li><p>Qualquer outra informação relevante.</p></li></ul></div><div class=paragraph><p>Uma vez que o Core Team <a href=mailto:core@FreeBSD.org>core@FreeBSD.org</a> esteja satisfeito de que todos os detalhes necessários foram reunidos e estão corretos, o secretário enviará um aviso de recebimento assinado com o PGP, incluindo os detalhes da licença. Esse recibo será persistentemente arquivado e servirá como nosso registro permanente da concessão da licença.</p></div><div class=paragraph><p>O arquivo de licença deve conter apenas detalhes das concessões de licença; este não é o lugar para qualquer discussão em torno de licenciamento ou outros assuntos. O acesso aos dados dentro do arquivo de licença estará disponível mediante solicitação para o Core Team <a href=mailto:core@FreeBSD.org>core@FreeBSD.org</a>.</p></div></div></div><div class=sect1><h2 id=developer.relations>11. Relações entre os Desenvolvedores<a class=anchor href=#developer.relations></a></h2><div class=sectionbody><div class=paragraph><p>Ao trabalhar diretamente em seu próprio código ou em um código que já esteja bem estabelecido como sua responsabilidade, provavelmente haverá pouca necessidade de verificar com outros committers antes de entrar com um commit. Ao trabalhar em um bug em uma área do sistema que é claramente órfã (e existem algumas dessas áreas, para nossa vergonha), o mesmo se aplica. Ao modificar partes do sistema que são mantidas, formalmente ou informalmente, considere solicitar uma revisão exatamente como um desenvolvedor teria de fazer antes de se tornar um committer. Para os ports, entre em contato com o <code>MAINTAINER</code> listado no <span class=filename>Makefile</span>.</p></div><div class=paragraph><p>Para determinar se uma área da árvore é mantida, verifique o arquivo MAINTAINERS na raiz da árvore. Se ninguém estiver listado, analise o histórico de revisões para ver quem fez o commit de alterações no passado. Um script de exemplo que lista cada pessoa que já fez commit de um determinado arquivo junto com o número de commits que cada pessoa fez pode ser encontrado na <code>freefall</code> em <span class=filename>~eadler/bin/whodid</span>. Se as consultas não forem atendidas ou se o committer indicar uma falta de interesse na área afetada, vá em frente e faça o commit.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Evite enviar e-mails privados para os mantenedores. Outras pessoas podem estar interessadas na conversa, não apenas no resultado final.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se houver qualquer dúvida sobre um commit por qualquer razão, submeta-o ao processo de revisão antes de faze-lo. É melhor fazer com que ele seja criticado lá e não quando ele já fizer parte do repositório. Se um commit resulta em controvérsia, pode ser aconselhável considerar a possibilidade de fazer o rollback do commit até que o assunto seja resolvido. Lembre-se, com um sistema de controle de versão, podemos sempre alterá-lo de volta.</p></div><div class=paragraph><p>Não impugne as intenções dos outros. Se eles vêem uma solução diferente para um problema, ou até um problema diferente, provavelmente não é porque eles são estúpidos, porque eles têm parentesco questionável, ou porque eles estão tentando destruir o trabalho duro, a imagem pessoal ou o FreeBSD, mas basicamente porque eles têm uma visão diferente do mundo. Diferente é bom.</p></div><div class=paragraph><p>Discorde honestamente. Argumente sua posição com base em seus méritos, seja honesto quanto a quaisquer deficiências que possa ter, e esteja aberto para ver a solução deles, ou mesmo a visão deles do problema, com uma mente aberta.</p></div><div class=paragraph><p>Aceite a correção. Somos todos falíveis. Quando você cometer um erro, peça desculpas e continue com a vida. Não se bata, e certamente não espanque os outros por seu erro. Não perca tempo com constrangimentos ou recriminações, apenas conserte o problema e siga em frente.</p></div><div class=paragraph><p>Peça por ajuda. Procure (e dê) revisões dos seus pares. Uma das maneiras pelas quais o software de código aberto deve se sobressair é no número de globos oculares aplicados a ele; isso não se aplica se ninguém revisar o código.</p></div></div></div><div class=sect1><h2 id=if-in-doubt>12. Se em dúvida…​<a class=anchor href=#if-in-doubt></a></h2><div class=sectionbody><div class=paragraph><p>Quando não tiver certeza sobre algo, seja um problema técnico ou uma convenção do projeto, não se esqueça de perguntar. Se você ficar em silêncio, nunca fará progressos.</p></div><div class=paragraph><p>Se estiver relacionado a um problema técnico, pergunte nas listas públicas de discussão. Evite a tentação de enviar e-mail para a pessoa que conhece a resposta. Dessa forma, todos poderão aprender com a pergunta e a resposta.</p></div><div class=paragraph><p>Para perguntas específicas ou administrativas do projeto, pergunte na seguinte ordem:</p></div><div class=ulist><ul><li><p>Seu mentor ou ex-mentor.</p></li><li><p>Um committer experiente no IRC, email, etc.</p></li><li><p>Qualquer equipe com um "hat" (chapéu), uma vez que eles podem lhe dar uma resposta definitiva.</p></li><li><p>Se ainda não tiver certeza, pergunte na lista de discussão dos desenvolvedores do FreeBSD.</p></li></ul></div><div class=paragraph><p>Uma vez que sua pergunta seja respondida, se ninguém lhe indicou a documentação que soletra a resposta para sua pergunta, documente-a, pois outros terão a mesma pergunta no futuro.</p></div></div></div><div class=sect1><h2 id=bugzilla>13. Bugzilla<a class=anchor href=#bugzilla></a></h2><div class=sectionbody><div class=paragraph><p>O Projeto FreeBSD utiliza o Bugzilla para rastrear bugs e requisições de alteração. Certifique-se de fechar o PR caso você faça o commit de uma correção ou sugestão encontrada no banco de dados de PR. Também é considerada uma boa prática você reservar um tempo para fechar qualquer PR associado aos seus commits, se apropriado.</p></div><div class=paragraph><p>Committers com contas não-<code>FreeBSD.org</code> no Bugzilla podem ter a conta antiga mesclada com a conta <code>FreeBSD.org</code> seguindo estes passos:</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>Faça o login usando sua conta antiga.</p></li><li><p>Abra um novo bug. Escolha <code>Services</code> como o Produto e <code>Bug Tracker</code> como o Componente. Na descrição de erros liste as contas que você deseja mesclar.</p></li><li><p>Faça o login usando a conta do <code>FreeBSD.org</code> e poste um comentário no bug recém-aberto para confirmar a propriedade. Veja <a href=#kerberos-ldap>Kerberos e LDAP Web Password para o cluster do FreeBSD</a> para mais detalhes sobre como gerar ou definir uma senha para sua conta <code>FreeBSD.org</code>.</p></li><li><p>Se houver mais de duas contas para mesclar, poste comentários de cada uma delas.</p></li></ol></div><div class=paragraph><p>Você pode descobrir mais sobre o Bugzilla em:</p></div><div class=paragraph><p>*
* <a href=https://www.FreeBSD.org/support/>https://www.FreeBSD.org/support/</a></p></div></div></div><div class=sect1><h2 id=phabricator>14. Phabricator<a class=anchor href=#phabricator></a></h2><div class=sectionbody><div class=paragraph><p>O projeto FreeBSD utiliza o <a href=https://reviews.freebsd.org>Phabricator</a> para solicitações de revisão de código. Veja a página <a href=https://wiki.freebsd.org/CodeReview>CodeReview</a> no wiki para detalhes.</p></div><div class=paragraph><p>Committers com contas não-<code>FreeBSD.org</code> no Phabricator podem ter a conta antiga renomeada para a conta <code>FreeBSD.org</code> seguindo estes passos:</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>Altere o email da conta do Phabricator para o seu email <code>FreeBSD.org</code>.</p></li><li><p>Abra um novo bug em nosso bug tracker usando sua conta <code>FreeBSD.org</code>, veja <a href=#bugzilla>Bugzilla</a> para mais informações. Escolha <code>Services</code> como o Produto e <code>Code Review</code> como o Componente. Na descrição de bugs, solicite que a sua conta do Phabricator seja renomeada e forneça um link para o usuário do Phabricator. Por exemplo, <code><a href=https://reviews.freebsd.org/p/bob_example.com/ class=bare>https://reviews.freebsd.org/p/bob_example.com/</a></code></p></li></ol></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>As contas do Phabricator não podem ser mescladas, por favor, não abra uma nova conta.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=people>15. Quem é quem<a class=anchor href=#people></a></h2><div class=sectionbody><div class=paragraph><p>Além dos repositórios meisters, existem outros membros e equipes do projeto FreeBSD que você provavelmente conhecerá no exercício da sua função como committer. Resumidamente, e de forma alguma inclusivamente, estes são:</p></div><div class=dlist><dl><dt class=hdlist1>Equipe de Engenharia de Documentação <a href=mailto:doceng@FreeBSD.org>doceng@FreeBSD.org</a></dt><dd><p>O doceng é o grupo responsável pela infraestrutura de criação de documentação, aprovando de novos committers de documentação e garantindo que o website do FreeBSD e a documentação no site FTP estão atualizados em relação à árvore subversion. Não é um corpo de resolução de conflitos. A grande maioria das discussões relacionadas à documentação ocorre na <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc>lista de discussão do projeto de documentação do FreeBSD</a>. Mais detalhes sobre a equipe doceng podem ser encontrados em seu <a href=https://www.FreeBSD.org/internal/doceng/>charter</a>. Os committers interessados em contribuir com a documentação devem se familiarizar com o <a href=https://docs.freebsd.org/pt-br/books/fdp-primer/>Primer do Projeto de Documentação</a>.</p></dd><dt class=hdlist1>Glen Barber <a href=mailto:gjb@FreeBSD.org>gjb@FreeBSD.org</a>, Konstantin Belousov <a href=mailto:kib@FreeBSD.org>kib@FreeBSD.org</a>, Bryan Drewery <a href=mailto:>bdrewery@FreeBSD.org</a>, Marc Fonvieille <a href=mailto:blackend@FreeBSD.org>blackend@FreeBSD.org</a>, Xin Li <a href=mailto:delphij@FreeBSD.org>delphij@FreeBSD.org</a>, Colin Percival <a href=mailto:cperciva@FreeBSD.org>cperciva@FreeBSD.org</a> Hiroki Sato <a href=mailto:hrs@FreeBSD.org>hrs@FreeBSD.org</a>, Gleb Smirnoff <a href=mailto:glebius@FreeBSD.org>glebius@FreeBSD.org</a></dt><dd><p>Estes são os membros da Equipe de Engenharia de Release <a href=mailto:re@FreeBSD.org>re@FreeBSD.org</a>. Essa equipe é responsável por definir os prazos de lançamento e por controlar o processo de release. Durante o congelamento de código, os engenheiros de release têm autoridade final sobre todas as alterações no sistema para qualquer branch que esteja com status de release pendente. Se há algo que você deseja mesclar do FreeBSD-CURRENT para o FreeBSD-STABLE (quaisquer valores que eles possam ter em um dado momento), estas são as pessoas com quem conversar sobre isso.</p></dd><dt class=hdlist1>Gordon Tetlow <a href=mailto:gordon@FreeBSD.org>gordon@FreeBSD.org</a></dt><dd><p>Gordon Tetlow é o <a href=https://www.FreeBSD.org/security/>Oficial de Segurança do FreeBSD</a> e supervisiona a Equipe Oficial de Segurança <a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>.</p></dd><dt class=hdlist1>Garrett Wollman <a href=mailto:wollman@FreeBSD.org>wollman@FreeBSD.org</a></dt><dd><p>Se você precisar de conselhos sobre aspectos internos obscuros da rede ou não tiver certeza de alguma mudança potencial no subsistema de rede que você tem em mente, Garrett é alguém com quem conversar. Garrett também é muito conhecedor dos vários padrões aplicáveis ao FreeBSD.</p></dd><dt class=hdlist1>Lista de discussão dos committers do FreeBSD</dt><dd><p><a href=http://lists.FreeBSD.org/mailman/listinfo/svn-src-all>svn-src-all</a>, <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all>svn-ports-all</a> e <a href=http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all>svn-doc-all</a> são as listas de discussão que o sistema de controle de versão usa para enviar mensagens de commit. <em>Nunca</em> envie e-mail diretamente para essas listas. Apenas envie respostas para esta lista quando elas forem curtas e estiverem diretamente relacionadas a um commit.</p></dd><dt class=hdlist1>Lista de discussão dos desenvolvedores do FreeBSD</dt><dd><p>Todos os committers estão inscritos na -developers. Esta lista foi criada para ser um fórum para os problemas da "comunidade" dos committers. Exemplos são a eleição do Core Team, anúncios, etc.</p><div class=paragraph><p>A lista de discussão dos desenvolvedores do FreeBSD é para uso exclusivo dos committers do FreeBSD. Para desenvolver o FreeBSD, os committers devem ter a capacidade de discutir abertamente assuntos que serão resolvidos antes de serem anunciados publicamente. As discussões francas sobre o trabalho em andamento não são adequadas para publicação aberta e podem prejudicar o FreeBSD.</p></div><div class=paragraph><p>Espera-se que todos os committers do FreeBSD não publiquem ou encaminhem mensagens da lista de discussão dos desenvolvedores do FreeBSD fora da lista de membros sem a permissão de todos os autores. Violadores serão removidos da lista de discussão dos desenvolvedores do FreeBSD, resultando em uma suspensão dos privilégios de commit. Violações repetidas ou flagrantes podem resultar na revogação permanente dos privilégios de commit.</p></div><div class=paragraph><p><em>Não</em> é a intenção desta lista ser um local para revisões de código ou para realizar qualquer discussão técnica. Na verdade, usá-lo como tal prejudica o Projeto FreeBSD, pois dá uma sensação de uma lista fechada, onde as decisões gerais que afetam toda a comunidade usando o FreeBSD são feitas sem serem "abertas". Por último, mas não menos importante, <em>nunca, nunca, envie por e-mail a lista de discussão dos desenvolvedores do FreeBSD e faça CC:/BCC: para outra lista do FreeBSD</em>. Nunca, jamais envie email para outra lista de emails do FreeBSD e faça CC:/BCC: para a lista de discussão dos desenvolvedores do FreeBSD. Fazer isso pode diminuir muito os benefícios dessa lista.</p></div></dd></dl></div></div></div><div class=sect1><h2 id=ssh.guide>16. Guia de início rápido do SSH<a class=anchor href=#ssh.guide></a></h2><div class=sectionbody><div class="olist arabic procedure"><ol class=arabic><li><p>Se você não quiser digitar sua senha toda vez que usar o <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>, e você usa chaves para autenticar, o <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1&amp;format=html">ssh-agent(1)</a> está lá para sua conveniência. Se você quiser usar o <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1&amp;format=html">ssh-agent(1)</a>, certifique-se de executá-lo antes de executar os outros aplicativos. Os usuários de X, por exemplo, geralmente fazem isso a partir do <span class=filename>.xsession</span> ou do <span class=filename>.xinitrc</span>. Veja <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1&amp;format=html">ssh-agent(1)</a> para detalhes.</p></li><li><p>Gere um par de chaves usando <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1&amp;format=html">ssh-keygen(1)</a>. O par de chaves será colocado no diretório <span class=filename>$HOME/.ssh/</span>.</p><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Somente as chaves ECDSA, Ed25519 ou RSA são suportadas.</p></div></td></tr></tbody></table></div></li><li><p>Envie sua chave pública (<span class=filename>$HOME/.ssh/id_ecdsa.pub</span>, <span class=filename>$HOME/.ssh/id_ed25519.pub</span>, ou <span class=filename>$HOME/.ssh/id_rsa.pub</span>) para a pessoa que está configurando você como um committer para que ela possa ser colocada em <span class=filename>yourlogin</span> in <span class=filename>/etc/ssh-keys/</span> na <code>freefall</code>.
Agora <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-add&amp;sektion=1&amp;format=html">ssh-add(1)</a> pode ser usado para autenticação uma vez por sessão. Ele solicita a frase secreta da chave privada e a armazena no agente de autenticação (<a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1&amp;format=html">ssh-agent(1)</a>). Use o <code>ssh-add -d</code> para remover as chaves armazenadas no agente.</p></li></ol></div><div class=paragraph><p>Teste com um simples comando remoto: <code>ssh freefall.FreeBSD.org ls /usr</code>.</p></div><div class=paragraph><p>Para obter mais informações, consulte <a class=package href=https://cgit.freebsd.org/ports/tree/security/openssh-portable/>security/openssh-portable</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-add&amp;sektion=1&amp;format=html">ssh-add(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-agent&amp;sektion=1&amp;format=html">ssh-agent(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1&amp;format=html">ssh-keygen(1)</a>, e <a href="https://man.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">scp(1)</a>.</p></div><div class=paragraph><p>Para obter informações sobre como adicionar, alterar ou remover chaves <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>, consulte <a href=https://wiki.freebsd.org/clusteradm/ssh-keys>este artigo</a>.</p></div></div></div><div class=sect1><h2 id=coverity>17. Disponibilidade do Coverity® para os Committers do FreeBSD<a class=anchor href=#coverity></a></h2><div class=sectionbody><div class=paragraph><p>Todos os desenvolvedores do FreeBSD podem obter acesso aos resultados da análise do Coverity de todo o software do Projeto FreeBSD. Todos os interessados em obter acesso aos resultados de análise das execuções automatizadas do Coverity podem se inscrever em <a href=http://scan.coverity.com/>Coverity Scan</a>.</p></div><div class=paragraph><p>O wiki do FreeBSD inclui um mini-guia para desenvolvedores interessados em trabalhar com os relatórios de análise do Coverity®: <a href=https://wiki.freebsd.org/CoverityPrevent>https://wiki.freebsd.org/CoverityPrevent</a>. Por favor observe que este mini-guia só pode ser lido por desenvolvedores do FreeBSD, então se você não puder acessar esta página, você terá que pedir a alguém para adicioná-lo à lista de acesso apropriada do Wiki.</p></div><div class=paragraph><p>Finalmente, todos os desenvolvedores do FreeBSD que usarão o Coverity® são sempre encorajados a pedir mais detalhes e informações sobre o uso, publicando quaisquer perguntas na lista de discussão dos desenvolvedores do FreeBSD.</p></div></div></div><div class=sect1><h2 id=rules>18. A Grande Lista de Regras dos Committers do FreeBSD<a class=anchor href=#rules></a></h2><div class=sectionbody><div class=paragraph><p>Todos os envolvidos com o projeto FreeBSD devem obedecer ao <em>Código de Conduta</em> disponível em <a href=https://www.FreeBSD.org/internal/code-of-conduct/>https://www.FreeBSD.org/internal/code-of-conduct/</a>. Como committers, vocês formam a face pública do projeto, e como você se comporta tem um impacto vital na percepção pública disso. Este guia expande as partes do <em>Código de Conduta</em> específico para os committers.</p></div><div class="olist arabic"><ol class=arabic><li><p>Respeite outros committers.</p></li><li><p>Respeite os outros colaboradores.</p></li><li><p>Discuta qualquer mudança significativa <em>antes de</em> fazer o commit.</p></li><li><p>Respeite os mantenedores existentes (se listado no campo <code>MAINTAINER</code> no <span class=filename>Makefile</span> ou no <span class=filename>MAINTAINER</span> no diretório de nível superior).</p></li><li><p>Deve ser feito o rollback de qualquer alteração contestada enquanto estiver pendente a resolução da disputa, se solicitado por um mantenedor. Alterações relacionadas à segurança podem anular os desejos de um mantenedor, a critério do Oficial de Segurança.</p></li><li><p>As alterações vão para o FreeBSD-CURRENT antes do FreeBSD-STABLE, a menos que especificamente permitido pelo engenheiro de release ou a menos que elas não sejam aplicáveis ao FreeBSD-CURRENT. Qualquer alteração não trivial ou não urgente que seja aplicável também deve ser permitida no FreeBSD-CURRENT por pelo menos 3 dias antes da fusão, para que tenha tempo suficiente de teste. O engenheiro de release tem a mesma autoridade sobre o branch FreeBSD-STABLE, conforme descrito para o mantenedor na regra #5.</p></li><li><p>Não brigue em público com outros committers; parece ruim.</p></li><li><p>Respeite todos os congelamentos de código e leia as listas de discussão <code>committers</code> e <code>developers</code> em tempo hábil para que você saiba quando um congelamento de código está em vigor.</p></li><li><p>Em caso de dúvida em qualquer procedimento, pergunte primeiro!</p></li><li><p>Teste suas alterações antes de fazer o commit.</p></li><li><p>Não commit em software contribuído sem a aprovação <em>explicita</em> dos respectivos mantenedores.</p></li></ol></div><div class=paragraph><p>Conforme observado, a quebra de algumas dessas regras pode ser motivo para suspensão ou, mediante ofensa repetida, remoção permanente de privilégios de commit. Membros individuais do core têm o poder de suspender temporariamente os privilégios de commit até que o core como um todo tenha a chance de revisar o problema. No caso de uma "emergência" (um committer causando dano ao repositório), uma suspensão temporária também pode ser feita pelos meisters do repositório. Apenas uma maioria de 2/3 do core tem autoridade para suspender os privilégios de confirmação por mais de uma semana ou para removê-los permanentemente. Essa regra não existe para definir o core como um bando de ditadores cruéis que podem se livrar casualmente de committers como se fossem latas de refrigerante vazias, mas para dar ao projeto uma espécie de fusível de segurança. Se alguém está fora de controle, é importante ser capaz de lidar com isso imediatamente, em vez de ficar paralisado pelo debate. Em todos os casos, um committer cujos privilégios foram suspensos ou revogados tem direito a uma "audiência" com o core, sendo a duração total da suspensão determinada naquele momento. Um committer cujos privilégios são suspensos também pode solicitar uma revisão da decisão após 30 dias e a cada 30 dias a partir de então (a menos que o período total de suspensão seja inferior a 30 dias). Um committer cujos privilégios tenham sido revogados completamente pode solicitar uma revisão após um período de 6 meses. Esta política de revisão é <em>estritamente informal</em> e, em todos os casos, o core reserva-se o direito de agir ou desconsiderar os pedidos de revisão se eles sentirem que a decisão original é a correta.</p></div><div class=paragraph><p>Em todos os outros aspectos da operação do projeto, o core é um subconjunto de committers e é limitado pelas <em>mesmas regras</em>. Só porque alguém está no core isso não significa que eles têm permissão especial para sair de qualquer uma das linhas pintadas aqui; os "poderes especiais" do core só são aplicados quando ele age como um grupo, não individualmente. Como indivíduos, os membros da equipe principal são todos committers em primeiro lugar e core em segundo.</p></div><div class=sect2><h3 id=_detalhes>18.1. Detalhes<a class=anchor href=#_detalhes></a></h3><div id=respect class="olist arabic"><ol class=arabic><li><p>Respeite outros committers.</p><div class=paragraph><p>Isso significa que você precisa tratar outros committers como os desenvolvedores de grupos pares que eles são. Apesar de nossas tentativas ocasionais de provar o contrário, não se chega a ser um committer por ser estúpido e nada incomoda mais do que ser tratado dessa maneira por um de seus colegas. Se nós sempre sentimos respeito uns pelos outros ou não (e todo mundo tem dias difíceis), nós ainda temos que <em>tratar</em> os outros committers com respeito em todos os momentos, em fóruns públicos e em emails privados.</p></div><div class=paragraph><p>Ser capaz de trabalhar juntos a longo prazo é o maior patrimônio deste projeto, muito mais importante do que qualquer conjunto de alterações no código, e transformar argumentos sobre código em problemas que afetam nossa capacidade de longo prazo de trabalhar harmoniosamente juntos não vale a pena por qualquer estiramento concebível da imaginação.</p></div><div class=paragraph><p>Para cumprir esta regra, não envie e-mails quando estiver com raiva ou de alguma forma se comportar de uma maneira que possa causar uma confrontação desnecessária com os outros. Primeiro acalme-se, então pense em como se comunicar da maneira mais eficaz para convencer as outras pessoas de que o seu lado do argumento está correto, não apenas gaste um pouco de vapor para que você possa se sentir melhor a curto prazo às custas de uma guerra de longa duração. Isso não só é uma "economia de energia" muito ruim, mas demonstrações repetidas de agressão pública que prejudicam nossa capacidade de trabalhar bem juntas serão tratadas severamente pela liderança do projeto e podem resultar na suspensão ou término dos seus privilégios de commit. . A liderança do projeto levará em consideração as comunicações públicas e privadas trazidas a ela. Ela não buscará a divulgação de comunicações privadas, mas levará isso em conta se for oferecida de forma voluntária pelos envolvidos na reclamação.</p></div><div class=paragraph><p>Tudo isso nunca é uma opção que a liderança do projeto goste nem um pouco, mas a união vem em primeiro lugar. Nenhuma quantidade de código ou de bons conselhos vale a pena se trocar desta forma.</p></div></li><li><p>Respeite os outros colaboradores.</p><div class=paragraph><p>Você nem sempre foi um committer. Houve uma época em que você era um colaborador. Lembre-se disso em todos os momentos. Lembre-se de como foi tentar obter ajuda e atenção. Não se esqueça de que seu trabalho como colaborador foi muito importante para você. Lembre-se de como foi. Não desencoraje, deprecie ou diminua os colaboradores. Trate-os com respeito. Eles são nossos committers em espera. Eles são tão importantes para o projeto quanto os committers. Suas contribuições são tão válidas e tão importantes quanto as suas. Afinal, você fez muitas contribuições antes de se tornar um committer. Sempre se lembre disso.</p></div><div class=paragraph><p>Considere os pontos levantados sob <a href=#respect>Respeite outros committers</a> e aplique-os também aos contribuidores.</p></div></li><li><p>Discuta qualquer mudança significativa <em>antes de</em> fazer o commit.</p><div class=paragraph><p>O repositório não é onde as alterações são inicialmente submetidas para correção ou discussão, isso acontece primeiro nas listas de discussão ou pelo uso do serviço do Phabricator. O commit só acontecerá quando algo semelhante a um consenso for alcançado. Isso não significa que a permissão seja necessária antes de corrigir todos os erros óbvios de sintaxe ou erros ortográficos na página manual, significa apenas que é bom desenvolver uma ideia de quando a mudança proposta não é tão óbvia e requer algum feedback primeiro. As pessoas realmente não se importam com mudanças radicais se o resultado for algo claramente melhor do que antes, elas simplesmente não gostam de ser <em>surpreendidas</em> por essas mudanças. A melhor maneira de certificar-se de que as coisas estão no caminho certo é ter o código revisado por um ou mais committers.</p></div><div class=paragraph><p>Em caso de dúvida, peça por uma revisão!</p></div></li><li><p>Respeite os mantenedores existentes, se listados.</p><div class=paragraph><p>Muitas partes do FreeBSD não são "possuídas" no sentido de que qualquer indivíduo específico irá pular e gritar se você enviar uma alteração para a "sua" área, mas ainda vale a pena verificar primeiro. Uma convenção que usamos é colocar uma linha de mantenedor no <span class=filename>Makefile</span> para qualquer pacote ou subárvore que esteja sendo mantido ativamente por uma ou mais pessoas; veja <a href=https://docs.freebsd.org/en/books/developers-handbook/#policies>Source Tree Guidelines and Policies</a> para documentação sobre isso. Nas seções de código para quais existirem vários mantenedores, os commits nas áreas afetadas por um mantenedor precisarão ser revisados por pelo menos um outro mantenedor. Nos casos em que o "maintainer-ship" de algo não está claro, consulte os logs do repositório para os arquivos em questão e veja se alguém está trabalhando recentemente ou predominantemente naquela área.</p></div></li><li><p>Deve ser feito o rollback de qualquer alteração contestada enquanto estiver pendente a resolução da disputa, se solicitado por um mantenedor. Alterações relacionadas à segurança podem anular os desejos de um mantenedor, a critério do Oficial de Segurança.</p><div class=paragraph><p>Isso pode ser difícil de engolir em momentos de conflito (quando cada lado está convencido de que eles estão certos, é claro), mas um sistema de controle de versão torna desnecessário ter uma disputa em andamento quando é muito mais fácil simplesmente reverter a mudança que gerou a disputa, faça com que todos se acalmem novamente e tente descobrir qual é a melhor maneira de proceder. Se a mudança acaba por ser a melhor coisa depois de tudo, ela pode ser facilmente trazida de volta. Se ela não for, os usuários não terão que viver com a mudança falsa na árvore enquanto todos estavam ocupados debatendo seus méritos. Pessoas <em>muito</em> raramente pedem rollbacks no repositório, uma vez que a discussão geralmente expõe mudanças ruins ou controversas antes que o commit aconteça, mas em raras ocasiões o rollback deve ser feito sem discussão para que possamos entrar imediatamente da discussão do tópico para descobrirmos se ele era adequado ou não.</p></div></li><li><p>As alterações vão para o FreeBSD-CURRENT antes do FreeBSD-STABLE, a menos que especificamente permitido pelo engenheiro de release ou a menos que elas não sejam aplicáveis ao FreeBSD-CURRENT. Qualquer alteração não trivial ou não urgente que seja aplicável também deve ser permitida no FreeBSD-CURRENT por pelo menos 3 dias antes da fusão, para que possa ter tempo suficiente de teste. O engenheiro de lançamento tem a mesma autoridade sobre o branch FreeBSD-STABLE, conforme descrito na regra #5.</p><div class=paragraph><p>Este é outro problema do tipo "não discuta sobre isso", já que é o engenheiro de release quem é o responsável final (e é espancado) se uma mudança for ruim. Por favor, respeite isso e dê ao engenheiro de release a sua total cooperação quando se trata do branch FreeBSD-STABLE. O gerenciamento do FreeBSD-STABLE pode frequentemente parecer excessivamente conservador para o observador casual, mas também deve ter em mente o fato de que o conservadorismo deve ser a marca do FreeBSD-STABLE e regras diferentes aplicam-se lá do que no FreeBSD-CURRENT. Também não há sentido em fazer com que o FreeBSD-CURRENT seja um campo de testes se as alterações forem mescladas no FreeBSD-STABLE imediatamente. Mudanças precisam de uma chance de serem testadas pelos desenvolvedores do FreeBSD-CURRENT, então espere algum tempo antes da fusão, a menos que a correção do FreeBSD-STABLE seja crítica, sensível ao tempo ou óbvia a ponto de tornar desnecessário testes adicionais (correções ortográficas nas páginas de manual) correções de erros / erros de digitação, etc.) Em outras palavras, aplique o bom senso.</p></div><div class=paragraph><p>Mudanças nas branches de segurança (por exemplo, <code>releng/9.3</code>) devem ser aprovadas por um membro da Equipe de Segurança <a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>, ou em alguns casos , por um membro da Equipe de Engenharia de Release <a href=mailto:re@FreeBSD.org>re@FreeBSD.org</a>.</p></div></li><li><p>Não brigue em público com outros committers; parece ruim.</p><div class=paragraph><p>Este projeto tem uma imagem pública a defender e essa imagem é muito importante para todos nós, especialmente se quisermos continuar a atrair novos membros. Haverá ocasiões em que, apesar das melhores tentativas de autocontrole de todos, os ânimos se perdem e palavras de raiva são trocadas. A melhor coisa que pode ser feita nesses casos é minimizar os efeitos disso até que todos tenham esfriado. Não divulgue palavras iradas em público e não encaminhe correspondências privadas ou outras comunicações privadas para listas publicas de discussão, aliases de mensagens, canais de mensagens instantâneas ou sites de mídia social. O que as pessoas dizem um-para-um é frequentemente muito menos revestido de açúcar do que o que eles diriam em público, e tais comunicações, portanto, não têm lugar lá - elas servem apenas para inflamar uma situação já ruim. Se a pessoa que enviou um flame-o-grama tiver pelo menos a elegância de enviá-lo em particular, então tenha a elegância de mantê-lo em sigilo. Se você acha que está sendo tratado injustamente por outro desenvolvedor e está lhe causando angústia, traga o assunto para o core em vez de torná-lo público. O Core fará o seu melhor para atuar como pacificadores e trazer as coisas de volta para a sanidade. Nos casos em que a disputa envolve uma alteração na base de código e os participantes não parecem estar chegando a um acordo amigável, o core pode nomear um terceiro mutuamente aceitável para resolver a disputa. Todas as partes envolvidas devem então concordar em se comprometer com a decisão tomada por este terceiro.</p></div></li><li><p>Respeite todos os congelamentos de código e leia atempadamente a lista de discussão <code>committers</code> e <code>developers</code> para saber quando um congelamento de código está em vigor.</p><div class=paragraph><p>Efetuar o commit de alterações não aprovadas durante um congelamento de código é um erro realmente grande e espera-se que os committers se mantenham atualizados sobre o que está acontecendo antes de entrar depois de uma longa ausência e fazer o commit de 10 megabytes de material acumulado. As pessoas que abusarem disso regularmente terão seus privilégios de commit suspensos até que eles voltem do FreeBSD Happy Reeducation Camp que mantemos na Groenlândia.</p></div></li><li><p>Em caso de dúvida em qualquer procedimento, pergunte primeiro!</p><div class=paragraph><p>Muitos erros são cometidos porque alguém está com pressa e apenas assume que sabe a forma certa para fazer alguma coisa. Se você não fez isso antes, é bem provável que você não conheça realmente a maneira como fazemos as coisas e realmente precise perguntar primeiro ou você vai se envergonhar completamente em público. Não há vergonha em perguntar "como diabos eu faço isso?" Já sabemos que você é uma pessoa inteligente; caso contrário, você não seria um committer.</p></div></li><li><p>Teste suas alterações antes de fazer o commit.</p><div class=paragraph><p>Isso pode parecer óbvio, mas se realmente fosse tão óbvio, provavelmente não veríamos tantos casos de pessoas claramente não fazendo isso. Se suas mudanças são para o kernel, certifique-se de que você ainda pode compilar o GENERIC e o LINT. Se as suas alterações estiverem em outro lugar, certifique-se de que você ainda pode fazer um "make world". Se as alterações forem feitas em uma branch, certifique-se de que seu teste ocorra com uma máquina que esteja executando esse código. Se você tiver uma alteração que também possa quebrar outra arquitetura, verifique e teste em todas as arquiteturas suportadas. Por favor, consulte a <a href=https://www.FreeBSD.org/internal/>Página Interna do FreeBSD</a> para obter uma lista dos recursos disponíveis. À medida que outras arquiteturas são adicionadas à lista de plataformas suportadas do FreeBSD, os recursos de teste compartilhados apropriados serão disponibilizados.</p></div></li><li><p>Não commit em software contribuído sem a aprovação <em>explicita</em> dos respectivos mantenedores.</p><div class=paragraph><p>Software contribuído é qualquer código que esteja sob as árvores <span class=filename>src/contrib</span>, <span class=filename>src/crypto</span>, ou <span class=filename>src/sys/contrib</span>.</p></div><div class=paragraph><p>As árvores mencionadas acima são para software contribuído geralmente importado para um branch de fornecedor. Fazer o commit de algo lá pode causar dores de cabeça desnecessárias quando for importado novas versões do software. Uma regra geral é considerar enviar os patches upstream diretamente para o fornecedor. Patches podem ser committados primeiramente no FreeBSD, desde que tenha a permissão do mantenedor.</p></div><div class=paragraph><p>As razões para modificar o software upstream variam entre querer controle estrito sobre uma dependência fortemente acoplada à falta de portabilidade na distribuição do repositório canônico do seu código. Independentemente do motivo, o esforço para minimizar a carga de manutenção do fork é útil para outros mantenedores. Evite realizar commits de alterações triviais ou cosméticas nos arquivos, pois isso dificulta cada merge: esses patches precisam ser verificados manualmente a cada importação.</p></div><div class=paragraph><p>Se uma parte específica do software não tiver um mantenedor, você é incentivado a assumir a propriedade. Se você não tiver certeza sobre o mantenedor atual, envie um email para a <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-arch>lista de email de arquitetura e design do FreeBSD</a> e pergunte.</p></div></li></ol></div></div><div class=sect2><h3 id=_política_sobre_várias_arquiteturas>18.2. Política sobre Várias Arquiteturas<a class=anchor href=#_política_sobre_várias_arquiteturas></a></h3><div class=paragraph><p>O FreeBSD adicionou ports para várias novas arquiteturas durante os ciclos de release recentes e realmente não é mais um sistema operacional centrado em i386™. Em um esforço para tornar mais fácil manter o FreeBSD portátil entre as plataformas que suportamos, o core desenvolveu este mandato:</p></div><div class="paragraph blockquote"><p>Nossa plataforma de referência de 32 bits é a i386 e a nossa plataforma de referência de 64 bits é amd64. O principal trabalho de design (incluindo as principais alterações da API e da ABI) deve ser comprovado em pelo menos uma plataforma de 32 bits e pelo menos uma de 64 bits, preferencialmente nas plataformas de referência primária, antes que o seu commit possa ser feito na árvore de fontes.</p></div><div class=paragraph><p>As plataformas i386 e amd64 foram escolhidas por estarem mais prontamente disponíveis para os desenvolvedores e como representantes dos mais diversos designs de processador e de sistema - "big versus little endian", registrador de arquivos versus pilha de registro, diferentes implementações de DMA e cache, tabelas de página de hardware versus gerenciamento de TLB de software, etc.</p></div><div class=paragraph><p>Continuaremos a reavaliar essa política, já que o custo e a disponibilidade das plataformas de 64 bits mudam.</p></div><div class=paragraph><p>Os desenvolvedores também devem estar cientes da nossa Política de Tier para o suporte de longo prazo das arquiteturas de hardware. As regras aqui pretendem fornecer orientação durante o processo de desenvolvimento e são diferentes dos requisitos de recursos e arquiteturas listados nessa seção. As regras de Tier para suporte de recursos em arquiteturas no momento da release são mais rigorosas do que as regras para alterações durante o processo de desenvolvimento.</p></div></div><div class=sect2><h3 id=_outras_sugestões>18.3. Outras Sugestões<a class=anchor href=#_outras_sugestões></a></h3><div class=paragraph><p>Ao enviar alterações na documentação, use um verificador ortográfico antes de efetuar o commit. Para todos os documentos XML, verifique se as diretivas de formatação estão corretas executando o <code>make lint</code> e o <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/igor/>textproc/igor</a>.</p></div><div class=paragraph><p>Para as páginas de manual, execute o <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/manck/>sysutils/manck</a> e o <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/igor/>textproc/igor</a> na página de manual para verificar se todas as referências cruzadas e referências de arquivo estão corretas e se a página man possui todos os <code>MLINKS</code> apropriados instalados.</p></div><div class=paragraph><p>Não misture correções de estilo com novas funcionalidades. Uma correção de estilo é qualquer alteração que não modifique a funcionalidade do código. Misturar as alterações ofusca a mudança de funcionalidade ao solicitar a comparação das diferenças entre as revisões, o que pode ocultar quaisquer novos bugs. Não inclua alterações de espaço em branco com alterações de conteúdo nos commits para <span class=filename>doc/</span>. A desordem extra nos diffs torna o trabalho dos tradutores muito mais difícil. Em vez disso, faça qualquer alteração de estilo ou espaço em branco em commits separados e que sejam claramente rotuladas como tal na mensagem de commit.</p></div></div><div class=sect2><h3 id=_recursos_obsoletos_deprecated>18.4. Recursos Obsoletos (Deprecated)<a class=anchor href=#_recursos_obsoletos_deprecated></a></h3><div class=paragraph><p>Quando for necessário remover uma funcionalidade de software do sistema básico, siga estas diretrizes sempre que possível:</p></div><div class="olist arabic"><ol class=arabic><li><p>Uma menção é feita na página de manual e, possivelmente, nas notas de versão que a opção, o utilitário ou a interface estão obsoletos. O uso do recurso obsoleto gera um aviso.</p></li><li><p>A opção, utilitário ou interface é preservada até a próxima release principal (ponto zero).</p></li><li><p>A opção, o utilitário ou a interface são removidos e não são mais documentados. Agora está obsoleto. Também é geralmente uma boa ideia anotar sua remoção nas notas de release.</p></li></ol></div></div><div class=sect2><h3 id=_privacidade_e_confidencialidade>18.5. Privacidade e Confidencialidade<a class=anchor href=#_privacidade_e_confidencialidade></a></h3><div class="olist arabic"><ol class=arabic><li><p>A maioria dos negócios do FreeBSD é feita em público.</p><div class=paragraph><p>O FreeBSD é um projeto <em>aberto</em>. O que significa que não só alguém pode usar o código-fonte, mas que a maior parte do processo de desenvolvimento está aberto ao escrutínio público.</p></div></li><li><p>Certos assuntos delicados devem permanecer privados ou mantidos sob embargo.</p><div class=paragraph><p>Infelizmente, não pode haver transparência completa. Como desenvolvedor do FreeBSD, você terá um certo grau de acesso privilegiado à informação. Consequentemente, espera-se que você respeite certos requisitos de confidencialidade. Às vezes, a necessidade de confidencialidade vem de colaboradores externos ou tem um limite de tempo específico. Principalmente, porém, é uma questão de não liberar comunicações privadas.</p></div></li><li><p>O oficial de segurança tem controle exclusivo sobre a liberação de alertas de segurança.</p><div class=paragraph><p>Onde existem problemas de segurança que afetam muitos sistemas operacionais diferentes, o FreeBSD frequentemente depende do acesso antecipado para poder preparar alertas para liberação coordenada. A menos que se possa confiar nos desenvolvedores do FreeBSD para manter a segurança, esse acesso antecipado não será disponibilizado. O Oficial de Segurança é responsável por controlar o acesso pré-lançamento às informações sobre vulnerabilidades, e por definir o momento de liberação de todos os alertas. Ele pode solicitar ajuda sob condição de confidencialidade de qualquer desenvolvedor com conhecimento relevante para preparar as correções de segurança.</p></div></li><li><p>As comunicações com o Core são mantidas confidenciais pelo tempo que for necessário.</p><div class=paragraph><p>As comunicações para o core serão inicialmente tratadas como confidenciais. Eventualmente, no entanto, a maioria dos negócios do Core serão resumidos nos relatórios mensais ou trimestrais do core. Cuidado será tomado para evitar a divulgação de detalhes sensíveis. Os registros de alguns assuntos particularmente sensíveis podem não ser relatados e serão mantidos apenas nos arquivos privados do Core.</p></div></li><li><p>Acordos de não divulgação (NDA) podem ser necessários para o acesso a determinados dados comercialmente sensíveis.</p><div class=paragraph><p>O acesso a determinados dados comercialmente sensíveis só pode estar disponível sob um Contrato de Não Divulgação. A equipe jurídica da Fundação FreeBSD deve ser consultado antes de qualquer acordo vinculativo ser firmado.</p></div></li><li><p>Comunicações privadas não devem ser tornadas públicas sem permissão.</p><div class=paragraph><p>Além dos requisitos específicos acima, há uma expectativa geral de não publicar comunicações privadas entre desenvolvedores sem o consentimento de todas as partes envolvidas. Peça permissão antes de encaminhar uma mensagem para uma lista de discussão pública, ou publicá-la em um fórum ou site que possa ser acessado por outros que não os correspondentes originais.</p></div></li><li><p>As comunicações em canais de acesso restrito ou somente do projeto devem ser mantidas em sigilo.</p><div class=paragraph><p>Semelhantemente às comunicações pessoais, certos canais de comunicação interna, incluindo as listas de discussão dos Committers do FreeBSD e os canais de IRC de acesso restrito, são considerados comunicações privadas. A permissão é necessária para publicar material dessas fontes.</p></div></li><li><p>O Core pode aprovar a publicação.</p><div class=paragraph><p>Quando for impraticável obter permissão devido ao número de correspondentes ou quando a permissão para publicar for injustificadamente retida, a Core poderá aprovar a liberação de tais assuntos privados que mereçam uma publicação mais geral.</p></div></li></ol></div></div></div></div><div class=sect1><h2 id=archs>19. Suporte para Várias Arquiteturas<a class=anchor href=#archs></a></h2><div class=sectionbody><div class=paragraph><p>O FreeBSD é um sistema operacional altamente portátil destinado a funcionar em muitos tipos diferentes de arquiteturas de hardware. Manter uma separação clara entre o código dependente de máquina (MD) e independente de máquina (MI), além de minimizar o código MD, é uma parte importante da nossa estratégia de permanecer ágil em relação às tendências atuais de hardware. Cada nova arquitetura de hardware suportada pelo FreeBSD aumenta substancialmente o custo de manutenção de código, de suporte do toolchain e de engenharia de release. Também aumenta drasticamente o custo do teste efetivo das alterações no kernel. Como tal, há uma forte motivação para diferenciar as classes de suporte para as várias arquiteturas, permanecendo forte em algumas arquiteturas chaves que são vistas como o "público-alvo" do FreeBSD.</p></div><div class=sect2><h3 id=_declaração_de_intenção_geral>19.1. Declaração de Intenção Geral<a class=anchor href=#_declaração_de_intenção_geral></a></h3><div class=paragraph><p>O projeto FreeBSD tem como objetivo a "qualidade comercial de produção off-the-shelf (COTS) para workstations, servidores e sistemas embarcados de ponta". Mantendo o foco em um conjunto restrito de arquiteturas de interesse nesses ambientes, o Projeto FreeBSD é capaz de manter altos níveis de qualidade, estabilidade e desempenho, bem como de minimizar a carga de várias equipes de suporte no projeto, como a equipe de ports, a equipe de documentação, o oficial de segurança e as equipes de engenharia de release. A diversidade no suporte de hardware amplia as opções para os consumidores do FreeBSD oferecendo novos recursos e oportunidades de uso, mas esses benefícios devem sempre ser cuidadosamente considerados em termos do custo de manutenção no mundo real associado ao suporte adicional à plataforma.</p></div><div class=paragraph><p>O projeto FreeBSD diferencia plataforma alvos em quatro camadas. Cada camada inclui uma lista de garantias que os consumidores podem confiar , bem como as obrigações por Projeto e desenvolvedores para cumprir essas garantias. Esta lista define o mínimo de garantia por cada camada. O Projeto e desenvolvedores podem prover leveis de suporte adicionais além da garantia mínima dada a uma camada, mas tais suportes adicionais não tem garantias. Cada plataforma alvo é designada para uma camada especifica para cada ramificação stable. Como resultado, a plataforma alvo poderia ser designada para diferentes camadas em ramificações stable concorrentes.</p></div></div><div class=sect2><h3 id=_plataformas_alvo>19.2. Plataformas Alvo<a class=anchor href=#_plataformas_alvo></a></h3><div class=paragraph><p>O suporte para uma plataforma de hardware consiste em dois componentes: suporte ao kernel e interfaces binárias de aplicativos (ABIs) do usuário. O suporte do kernel à plataforma inclui os itens necessários para executar um kernel do FreeBSD em uma plataforma de hardware, como gerenciamento de memória virtual dependente de máquina e drivers de dispositivo. Uma ABI especifica uma interface para os processos do usuário interagirem com o kernel do FreeBSD e as bibliotecas do sistema base. Uma ABI inclui interfaces de chamada do sistema, o layout e a semântica de estruturas de dados públicos e o layout e a semântica de argumentos transmitidos às sub-rotinas. Alguns componentes de uma ABI podem ser definidos por especificações tais como o layout dos objetos de exceção C ++ ou as convenções de chamada para funções C.</p></div><div class=paragraph><p>Um kernel do FreeBSD também usa uma ABI (às vezes chamada de Interface Binária do Kernel (KBI)) que inclui a semântica e layouts de estruturas de dados públicos e o layout e semântica de argumentos para funções públicas dentro do próprio kernel.</p></div><div class=paragraph><p>Um kernel do FreeBSD pode suportar múltiplas ABIs de usuário. Por exemplo, o kernel amd64 do FreeBSD suporta as ABIs de usuário do FreeBSD amd64 e i386, bem como as ABIs de usuário do Linux x86_64 e i386. Um kernel do FreeBSD deve suportar uma ABI "nativa" como a ABI padrão. A "ABI" nativa geralmente compartilha certas propriedades com a ABI do kernel, como a convenção de chamada C, tamanhos dos tipos básicos, etc.</p></div><div class=paragraph><p>Os Tiers são definidos tanto para os kernels quanto para as ABIs do usuário. Normalmente, o kernel de uma plataforma e as ABIs do FreeBSD são atribuídas à mesma Tier.</p></div></div><div class=sect2><h3 id=_tier_1_arquiteturas_completamente_suportadas>19.3. Tier 1: Arquiteturas Completamente Suportadas<a class=anchor href=#_tier_1_arquiteturas_completamente_suportadas></a></h3><div class=paragraph><p>As plataformas Tier 1 são as plataformas mais maduras do FreeBSD. Elas são suportadas pelas equipes de segurança, engenharia de release e gerenciamento de ports. Espera-se que as arquiteturas Tier 1 estejam com Qualidade de Produção em relação a todos os aspectos do sistema operacional FreeBSD, incluindo ambientes de instalação e desenvolvimento.</p></div><div class=paragraph><p>O Projeto FreeBSD fornece as seguintes garantias aos consumidores das plataformas de Tier 1:</p></div><div class=ulist><ul><li><p>Imagens oficiais de Release do FreeBSD serão fornecidas pela equipe de engenharia de release.</p></li><li><p>Serão fornecidas atualizações binárias e patches no formato de código fonte para os Avisos de Segurança e Avisos de Erro das versões suportadas.</p></li><li><p>Serão fornecidos patches de código fonte para os avisos de segurança das branches suportadas.</p></li><li><p>Atualizações binárias e patches de código fonte geralmente são fornecidos para os avisos de segurança multiplataforma no momento do anúncio.</p></li><li><p>As alterações nas ABIs do usuário geralmente incluirão bibliotecas de compatibilidade para garantir a operação correta dos binários compilados a partir de qualquer branch estável de uma plataforma Tier 1. Estas bibliotecas podem não ser ativadas na instalação padrão. Se as bibliotecas de compatibilidade não forem fornecidas para uma alteração de ABI, a falta da mesma estará claramente documentada nas notas de versão.</p></li><li><p>Alterações em certas partes da ABI do kernel incluirão bibliotecas de compatibilidade para garantir a operação correta dos módulos do kernel compilados contra a versão suportada mais antiga da branch. Observe que nem todas as partes da ABI do kernel estão protegidas.</p></li><li><p>Pacotes binários oficiais para softwares de terceiros serão fornecidos pela equipe de ports. Para arquiteturas embarcadas, esses pacotes podem ser compilados de forma cruzada a partir de uma arquitetura diferente.</p></li><li><p>Os ports mais relevantes devem ou compilar ou ter filtros apropriados para prevenir a compilação dos inadequados.</p></li><li><p>Novos recursos que não são inerentemente específicos da plataforma serão totalmente funcionais em todas as arquiteturas de Tier 1.</p></li><li><p>Os recursos e bibliotecas de compatibilidade usados pelos binários compilados a partir das branchs estáveis mais antigas podem ser removidos nas versões principais mais recentes. Essas remoções serão claramente documentadas nas notas de versão.</p></li><li><p>As plataformas Tier 1 devem ser totalmente documentadas. As operações básicas serão documentadas no Handbook do FreeBSD.</p></li><li><p>As plataformas de Tier 1 serão incluídas na árvore de código fonte.</p></li><li><p>As plataformas de Tier 1 devem ser auto-hospedadas ou por meio de um toolchain disponível na árvore de código fonte ou por meio de um toolchain externo. Se um toolchain externo for necessário, serão fornecidos pacotes binários oficiais para o toolchain externo.</p></li></ul></div><div class=paragraph><p>Para manter a maturidade das plataformas de Tier 1, o Projeto FreeBSD manterá os seguintes recursos para apoiar o desenvolvimento:</p></div><div class=ulist><ul><li><p>Suporte à automação do processo de compilação e de testes no cluster FreeBSD.org ou em algum outro local facilmente disponível para todos os desenvolvedores. Plataformas embarcadas podem substituir um emulador disponível no cluster FreeBSD.org por hardware real.</p></li><li><p>A inclusão nos targets do <code>make universe</code> e <code>make tinderbox</code>.</p></li><li><p>Hardware dedicado em um dos clusters do FreeBSD para compilação de pacotes (nativamente ou via qemu-user).</p></li></ul></div><div class=paragraph><p>Coletivamente, os desenvolvedores devem fornecer o seguinte para manter o status de Tier 1 de uma plataforma:</p></div><div class=ulist><ul><li><p>Alterações na árvore de código fonte não devem quebrar conscientemente a compilação de uma plataforma de Tier 1.</p></li><li><p>As arquiteturas de Tier 1 devem ter um ecossistema maduro e saudável de usuários e desenvolvedores ativos.</p></li><li><p>Os desenvolvedores devem ser capazes de compilar pacotes em sistemas Tier 1 não-embarcados comumente disponíveis. Isso pode significar compilações nativas se sistemas não-embarcados estiverem normalmente disponíveis para a plataforma em questão, ou significar compilações cruzadas hospedadas em alguma outra arquitetura de Tier 1.</p></li><li><p>As alterações não podem quebrar a ABI do usuário. Se for necessária uma alteração da ABI, a compatibilidade da ABI com os binários existentes deve ser provida através do versionamento de símbolos ou do versionamento de bibliotecas compartilhadas.</p></li><li><p>Alterações mescladas em branchs estáveis não podem quebrar as partes protegidas da ABI do kernel. Se for necessária uma alteração da ABI do kernel, ela deverá ser modificada para preservar a funcionalidade dos módulos existentes do kernel.</p></li></ul></div></div><div class=sect2><h3 id=_tier_2_arquiteturas_de_desenvolvimento_e_nicho>19.4. Tier 2: Arquiteturas de Desenvolvimento e Nicho<a class=anchor href=#_tier_2_arquiteturas_de_desenvolvimento_e_nicho></a></h3><div class=paragraph><p>As plataformas de Tier 2 são funcionais, mas são plataformas FreeBSD menos maduras. Elas não são suportadas pelas equipes de segurança, engenharia de release e gerenciamento de ports.</p></div><div class=paragraph><p>As plataformas Tier 2 podem ser candidatas à plataforma Tier 1 que ainda estão em desenvolvimento ativo. As arquiteturas que atingem o fim da vida útil também podem ser movidas do status de Tier 1 para o status de Tier 2 à medida que a disponibilidade de recursos para continuar a manter o sistema em um estado de Qualidade de Produção diminui. Arquiteturas de nicho bem suportadas também podem ser de Tier 2.</p></div><div class=paragraph><p>O Projeto FreeBSD fornece as seguintes garantias aos consumidores das plataformas de Tier 2:</p></div><div class=ulist><ul><li><p>A infraestrutura de ports deve incluir suporte básico para as arquiteturas de Tier 2 suficiente para suportar a compilação de ports e pacotes. Isso inclui suporte para pacotes básicos, tais como o ports-mgmt/pkg, mas não há garantia de que ports arbitrários serão compiláveis ou funcionais.</p></li><li><p>Novos recursos que não são inerentemente específicos da plataforma devem ser viáveis em todas as arquiteturas de Tier 2 se não implementados.</p></li><li><p>As plataformas de Tier 2 serão incluídas na árvore de código fonte.</p></li><li><p>As plataformas de Tier 2 devem ser auto-hospedadas ou por meio de um toolchain disponível na árvore de código fonte ou por meio de um toolchain externo. Se um toolchain externo for necessário, serão fornecidos pacotes binários oficiais para o toolchain externo.</p></li><li><p>As plataformas de Tier 2 devem fornecer kernels e espaço de usuário funcionais, mesmo que uma release oficial não seja provida.</p></li></ul></div><div class=paragraph><p>Para manter a maturidade das plataformas de Tier 2, o Projeto FreeBSD manterá os seguintes recursos para apoiar o desenvolvimento:</p></div><div class=ulist><ul><li><p>A inclusão nos targets do <code>make universe</code> e <code>make tinderbox</code>.</p></li></ul></div><div class=paragraph><p>Coletivamente, os desenvolvedores devem fornecer o seguinte para manter o status de Tier 2 de uma plataforma:</p></div><div class=ulist><ul><li><p>Alterações na árvore de código fonte não devem quebrar conscientemente a compilação de uma plataforma de Tier 2.</p></li><li><p>As arquiteturas de Tier 2 devem ter um ecossistema ativo de usuários e desenvolvedores.</p></li><li><p>Embora sejam permitidas alterações que quebrem a ABI do usuário, a ABI não deve ser quebrada gratuitamente. Alterações significativas da ABI do usuário devem ser restritas às versões principais.</p></li><li><p>Novos recursos que ainda não foram implementados nas arquiteturas de Tier 2 devem fornecer um meio de desativá-los nessas arquiteturas.</p></li></ul></div></div><div class=sect2><h3 id=_tier_3_arquiteturas_experimentais>19.5. Tier 3: Arquiteturas Experimentais<a class=anchor href=#_tier_3_arquiteturas_experimentais></a></h3><div class=paragraph><p>As plataformas de Tier 3 têm pelo menos suporte parcial ao FreeBSD. Elas <em>não</em> são suportadas pelas equipes de segurança, engenharia de release e de gerenciamento de ports.</p></div><div class=paragraph><p>As plataformas de Tier 3 são arquiteturas nos estágios iniciais de desenvolvimento, para plataformas de hardware não convencionais, ou que são considerados sistemas legados improváveis de serem amplamente utilizados no futuro. O suporte inicial para plataformas de Tier 3 pode existir em um repositório separado em vez do repositório de código fonte principal.</p></div><div class=paragraph><p>O Projeto FreeBSD não oferece garantias aos consumidores das plataformas de Tier 3 e não está comprometido em manter recursos para apoiar o seu desenvolvimento. As plataformas de Tier 3 nem sempre podem ser compiláveis, nem quaisquer ABIs do kernel ou de usuário são consideradas estáveis.</p></div></div><div class=sect2><h3 id=_tier_4_arquiteturas_não_suportadas>19.6. Tier 4: Arquiteturas Não Suportadas<a class=anchor href=#_tier_4_arquiteturas_não_suportadas></a></h3><div class=paragraph><p>As plataformas Tier 4 não são suportadas de nenhuma forma pelo projeto.</p></div><div class=paragraph><p>Todos os sistemas não classificados de outra forma são sistemas de Tier 4. Quando uma plataforma faz a transição para o Tier 4, todo o suporte para a plataforma é removido das árvores de código fonte e de ports. Observe que o suporte aos ports deve ser mantido enquanto a plataforma for suportada em uma branch suportada pelo ports.</p></div></div><div class=sect2><h3 id=_política_para_alteração_do_tier_de_uma_arquitetura>19.7. Política para Alteração do Tier de uma Arquitetura<a class=anchor href=#_política_para_alteração_do_tier_de_uma_arquitetura></a></h3><div class=paragraph><p>Os sistemas só podem ser movidos de um Tier para outro por meio da aprovação do Core Team do FreeBSD, que deve tomar essa decisão em colaboração com as equipes de segurança, engenharia de release e gerenciamento dos ports. Para que uma plataforma seja promovida para um Tier superior, todas as garantias de suporte ausentes devem ser atendidas antes que a promoção seja concluída.</p></div></div></div></div><div class=sect1><h2 id=ports>20. FAQ específico dos Ports<a class=anchor href=#ports></a></h2><div class=sectionbody><div class=sect2><h3 id=ports-qa-add-new>20.1. Como eu adiciono um novo port?<a class=anchor href=#ports-qa-add-new></a></h3><div class=paragraph><div class=title>Adicionando um Novo Port</div><p>Primeiro, por favor leia a seção sobre cópias do repositório.</p></div><div class=paragraph><p>A maneira mais fácil de adicionar um novo port é o script <code>addport</code> localizado no diretório <span class=filename>ports/Tools/scripts</span>. Ele adiciona um port do diretório especificado, determinando a categoria automaticamente a partir do <span class=filename>Makefile</span> do port. Também adiciona uma entrada à categoria do <span class=filename>Makefile</span> do port. Foi escrito por Michael Haro <a href=mailto:mharo@FreeBSD.org>mharo@FreeBSD.org</a>, Will Andrews <a href=mailto:will@FreeBSD.org>will@FreeBSD.org</a> e Renato Botelho <a href=mailto:garga@FreeBSD.org>garga@FreeBSD.org</a>. Ao enviar perguntas sobre este script para a <a href=http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports>lista de discussão dos ports do FreeBSD</a>, por favor também copie Chris Rees <a href=mailto:crees@FreeBSD.org>crees@FreeBSD.org</a>, o mantenedor atual.</p></div></div><div class=sect2><h3 id=ports-qa-add-new-extra>20.2. Existe qualquer outra coisa que preciso saber quando adiciono um novo port?<a class=anchor href=#ports-qa-add-new-extra></a></h3><div class=paragraph><p>Verifique o port, de preferência para garantir que ele seja compilado e empacotado corretamente. Essa é a seqüência recomendada:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make install</span>
<span class=c># make package</span>
<span class=c># make deinstall</span>
<span class=c># pkg add package you built above</span>
<span class=c># make deinstall</span>
<span class=c># make reinstall</span>
<span class=c># make package</span></code></pre></div></div><div class=paragraph><p>O <a href=https://docs.freebsd.org/pt-br/books/porters-handbook/>Manual de Porters</a> contém instruções mais detalhadas.</p></div><div class=paragraph><p>Use o <a href="https://man.freebsd.org/cgi/man.cgi?query=portlint&amp;sektion=1&amp;format=html">portlint(1)</a> para verificar a sintaxe do port. Você não precisa necessariamente eliminar todos os avisos, mas certifique-se de ter corrigido os mais simples.</p></div><div class=paragraph><p>Se o port veio de um remetente que não contribuiu para o projeto antes, adicione o nome dessa pessoa a seção <a href=https://docs.freebsd.org/pt-br/articles/contributors/#contrib-additional>Colaboradores Adicionais</a> da Lista de Colaboradores do FreeBSD.</p></div><div class=paragraph><p>Feche o PR se o port entrou como um PR. Para fechar um PR, mude o estado para <code>Issue Resolved</code> e a resolução como <code>Fixed</code>.</p></div></div></div></div><div class=sect1><h2 id=non-committers>21. Problemas Específicos para Desenvolvedores Que Não São Committers<a class=anchor href=#non-committers></a></h2><div class=sectionbody><div class=paragraph><p>Algumas pessoas que têm acesso às máquinas do FreeBSD não possuem commit bits. Quase todo este documento também será aplicado a esses desenvolvedores (exceto itens específicos de commits e associações de listas de discussão que os acompanham). Em particular, recomendamos que você leia:</p></div><div class=ulist><ul><li><p><a href=#admin>Detalhes Administrativos</a></p></li><li><p><a href=#conventions-everyone>Para todos</a></p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Peça ao seu mentor para adicioná-lo em "Colaboradores Adicionais" (<span class=filename>doc/en_US.ISO8859-1/articles/contributors/contrib.additional.xml</span>), se você ainda não estiver listado há.</p></div></td></tr></tbody></table></div></li><li><p><a href=#developer.relations>Relações entre os Desenvolvedores</a></p></li><li><p><a href=#ssh.guide>Guia de início rápido do SSH</a></p></li><li><p><a href=#rules>A Grande Lista de Regras dos Committers do FreeBSD</a>
== Informações sobre o Google Analytics</p></li></ul></div><div class=paragraph><p>A partir de 12 de dezembro de 2012, o Google Analytics foi habilitado no site do Projeto FreeBSD para coletar estatísticas anônimas sobre o uso do site. As informações coletadas são valiosas para o Projeto de Documentação do FreeBSD, para identificar vários problemas no site do FreeBSD.</p></div><div class=sect2><h3 id=google-analytics-policy>21.1. Política Geral do Google Analytics<a class=anchor href=#google-analytics-policy></a></h3><div class=paragraph><p>O projeto FreeBSD leva a privacidade do visitante muito a sério. Como tal, o site do Projeto FreeBSD honra o cabeçalho "Do Not Track"<em>antes</em> de buscar o código de monitoramento do Google. Para mais informações, consulte a <a href=https://www.FreeBSD.org/privacy/>Política de Privacidade do FreeBSD</a>.</p></div><div class=paragraph><p>O acesso do Google Analytics <em>não</em> é arbitrariamente permitido - o acesso deve ser solicitado, votado pela Equipe de Engenharia de Documentação <a href=mailto:doceng@FreeBSD.org>doceng@FreeBSD.org</a> e explicitamente concedido.</p></div><div class=paragraph><p>Solicitações de acesso aos dados do Google Analytics devem incluir uma finalidade específica. Por exemplo, uma razão válida para solicitar acesso seria "para ver os navegadores web usados com mais freqüência pelos visitantes do website do FreeBSD para garantir que as velocidades de renderização da página sejam aceitáveis."</p></div><div class=paragraph><p>Por outro lado, "ver quais navegadores são usados com mais freqüência" (sem declarar <em>por que</em>) seria rejeitado.</p></div><div class=paragraph><p>Todas as solicitações devem incluir o período de tempo para o qual os dados seriam requisitados. Por exemplo, deve ser explicitamente declarado se os dados solicitados seriam requisitados em um período de tempo que abranja um período de 3 semanas, ou se o pedido seria para acessar apenas uma vez.</p></div><div class=paragraph><p>Qualquer pedido de dados do Google Analytics sem uma razão clara e razoável que beneficie o Projeto FreeBSD será rejeitado.</p></div></div><div class=sect2><h3 id=google-analytics-data>21.2. Dados disponíveis por meio do Google Analytics<a class=anchor href=#google-analytics-data></a></h3><div class=paragraph><p>Alguns exemplos dos tipos de dados do Google Analytics disponíveis incluem:</p></div><div class=ulist><ul><li><p>Navegadores Web comumente usados</p></li><li><p>Tempos de carregamento de páginas</p></li><li><p>Acesso ao site por idioma</p></li></ul></div></div></div></div><div class=sect1><h2 id=misc>22. Perguntas Diversas<a class=anchor href=#misc></a></h2><div class=sectionbody><div class=sect2><h3 id=_como_adiciono_um_novo_arquivo_a_uma_branch>22.1. Como adiciono um novo arquivo a uma branch?<a class=anchor href=#_como_adiciono_um_novo_arquivo_a_uma_branch></a></h3><div class=paragraph><p>Para adicionar um arquivo a uma branch, simplesmente faça o check-out ou atualize-o na branch que você deseja adicionar e, em seguida, adicione o arquivo usando a operação add como faria normalmente. Isso funciona bem para as árvores <code>doc</code> e <code>ports</code>. A árvore <code>src</code> usa o SVN e requer mais cuidado por causa das propriedades <code>mergeinfo</code>. Veja o <a href=#subversion-primer>Subversion Primer</a> para detalhes sobre como executar um MFC.</p></div></div><div class=sect2><h3 id=_como_eu_acesso_people_freebsd_org_para_colocar_informações_pessoais_ou_de_projeto>22.2. Como eu acesso people.FreeBSD.org para colocar informações pessoais ou de projeto?<a class=anchor href=#_como_eu_acesso_people_freebsd_org_para_colocar_informações_pessoais_ou_de_projeto></a></h3><div class=paragraph><p>O servidor <code>people.FreeBSD.org</code> é o mesmo que <code>freefall.FreeBSD.org</code>. Basta criar um diretório <span class=filename>public_html</span>. Qualquer coisa que você colocar nesse diretório será automaticamente visível em <a href=https://people.FreeBSD.org/>https://people.FreeBSD.org/</a>.</p></div></div><div class=sect2><h3 id=_onde_estão_armazenados_os_arquivos_da_lista_de_discussão>22.3. Onde estão armazenados os arquivos da lista de discussão?<a class=anchor href=#_onde_estão_armazenados_os_arquivos_da_lista_de_discussão></a></h3><div class=paragraph><p>As listas de discussão são arquivadas em <span class=filename>/local/mail</span> na <code>freefall.FreeBSD.org</code>.</p></div></div><div class=sect2><h3 id=_eu_gostaria_de_ser_mentor_de_um_novo_committer_qual_processo_eu_preciso_seguir>22.4. Eu gostaria de ser mentor de um novo committer. Qual processo eu preciso seguir?<a class=anchor href=#_eu_gostaria_de_ser_mentor_de_um_novo_committer_qual_processo_eu_preciso_seguir></a></h3><div class=paragraph><p>Consulte o documento <a href=https://www.freebsd.org/internal/new-account/>Novo Procedimento para Criação de Conta</a> nas páginas internas.</p></div></div></div></div><div class=sect1><h2 id=benefits>23. Benefícios e vantagens para os Commiters do FreeBSD<a class=anchor href=#benefits></a></h2><div class=sectionbody><div class=sect2><h3 id=benefits-recognition>23.1. Reconhecimento<a class=anchor href=#benefits-recognition></a></h3><div class=paragraph><p>O reconhecimento como engenheiro de software competente é o valor mais duradouro. Além disso, ter a chance de trabalhar com algumas das melhores pessoas que todos os engenheiros sonham em conhecer é um grande privilégio!</p></div></div><div class=sect2><h3 id=benefits-freebsdmall>23.2. FreeBSD Mall<a class=anchor href=#benefits-freebsdmall></a></h3><div class=paragraph><p>Os committers do FreeBSD podem obter um conjunto gratuito de 4-CDs ou DVDs da <a href=http://www.freebsdmall.com>FreeBSD Mall, Inc.</a> em conferências.</p></div></div><div class=sect2><h3 id=benefits-irc>23.3. IRC<a class=anchor href=#benefits-irc></a></h3><div class=paragraph><p>Além disso, os desenvolvedores podem solicitar um "cloaked hostmask" para sua conta na rede Freenode de IRC na forma de <code>freebsd/developer/<em>nome_na_freefall</em></code> ou <code>freebsd/developer/<em>nome_no_NickServ</em></code>. Para solicitar uma máscara, envie um e-mail para <a href=mailto:irc@FreeBSD.org>irc@FreeBSD.org</a> com o nome da sua hostmask solicitada e nome da conta no NickServ.</p></div></div><div class=sect2><h3 id=benefits-gandi>23.4. <code>Gandi.net</code><a class=anchor href=#benefits-gandi></a></h3><div class=paragraph><p>A Gandi fornece hospedagem de sites, computação em nuvem, registro de domínio e serviços de certificados X.509.</p></div><div class=paragraph><p>A Gandi oferece um desconto E-rate para todos os desenvolvedores do FreeBSD. Envie e-mail para <a href=mailto:non-profit@gandi.net>non-profit@gandi.net</a> usando o seu endereço de e-mail <code>@freebsd.org</code> e indique o seu identificador no Gandi.</p></div></div></div></div><hr><div class=last-modified><p><strong>Última alteração em</strong>: 14 de janeiro de 2022 por <a href="https://cgit.freebsd.org/doc/commit/?id=0c272255af" target=_blank>Li-Wen Hsu</a></p></div></div><aside class=toc><div class=toc-content><h3>Índice</h3><nav id=TableOfContents><ul><li><a href=#admin>1. Detalhes Administrativos</a></li><li><a href=#pgpkeys>2. Chaves OpenPGP para o FreeBSD</a></li><li><a href=#kerberos-ldap>3. Kerberos e LDAP Web Password para o cluster do FreeBSD</a></li><li><a href=#committer.types>4. Tipos de Commit Bits</a></li><li><a href=#subversion-primer>5. Subversion Primer</a></li><li><a href=#conventions>6. Configuração, Convenções e Tradições</a></li><li><a href=#pre-commit-review>7. Revisão pré-commit</a></li><li><a href=#commit-log-message>8. Mensagens de Log de Commit</a></li><li><a href=#pref-license>9. Licença preferida para novos arquivos</a></li><li><a href=#tracking.license.grants>10. Acompanhando as Licenças Concedidas ao Projeto FreeBSD</a></li><li><a href=#developer.relations>11. Relações entre os Desenvolvedores</a></li><li><a href=#if-in-doubt>12. Se em dúvida…​</a></li><li><a href=#bugzilla>13. Bugzilla</a></li><li><a href=#phabricator>14. Phabricator</a></li><li><a href=#people>15. Quem é quem</a></li><li><a href=#ssh.guide>16. Guia de início rápido do SSH</a></li><li><a href=#coverity>17. Disponibilidade do Coverity® para os Committers do FreeBSD</a></li><li><a href=#rules>18. A Grande Lista de Regras dos Committers do FreeBSD</a></li><li><a href=#archs>19. Suporte para Várias Arquiteturas</a></li><li><a href=#ports>20. FAQ específico dos Ports</a></li><li><a href=#non-committers>21. Problemas Específicos para Desenvolvedores Que Não São Committers</a></li><li><a href=#misc>22. Perguntas Diversas</a></li><li><a href=#benefits>23. Benefícios e vantagens para os Commiters do FreeBSD</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/pt-br/articles/committers-guide/committers-guide_pt-br.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edite essa página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/pt-br/_index target=_blank>Edite essa página</a></li></ul></div></div></aside></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/pt-br/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Escolha o idioma">
<span>Brazilian Portuguese</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/pt-br class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/pt-br/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>