<!doctype html><html class=theme-light lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Source Tree Guidelines and Policies"><meta name=keywords content="Style Guidelines,MAINTAINER,Makefiles,Contributed Software,Shared libraries"><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/en/books/developers-handbook/policies/><title>Chapter 5. Source Tree Guidelines and Policies | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Chapter 5. Source Tree Guidelines and Policies"><meta property="og:description" content="Source Tree Guidelines and Policies"><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="en"><meta property="og:url" content="https://docs.freebsd.org/en/books/developers-handbook/policies/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/en\/books\/developers-handbook\/policies\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/en>Documentation portal</a></li><li><a href=https://docs.freebsd.org/en/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/en/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/en/books>Books</a></li><li><a href=https://docs.freebsd.org/en/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/en/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=en>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-b1b18a35567534d1699b4dd27b58b2ff class=toggle>
<label for=chapter-b1b18a35567534d1699b4dd27b58b2ff><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/parti/>Part I. Basics</a></li><li><input type=checkbox id=chapter-3af9d0cd3607fbe44d37e3a13957c40f class=toggle>
<label class="icon cursor" for=chapter-3af9d0cd3607fbe44d37e3a13957c40f><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/introduction/>Chapter 1. Introduction</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/introduction/#introduction-devel>1.1. Developing on FreeBSD</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/introduction/#introduction-bsdvision>1.2. The BSD Vision</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/introduction/#introduction-archguide>1.3. Architectural Guidelines</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/introduction/#introduction-layout>1.4. The Layout of /usr/src</a></li></ul></li><li><input type=checkbox id=chapter-15219234c513f9a79d9cb2d3bcf73d13 class=toggle>
<label class="icon cursor" for=chapter-15219234c513f9a79d9cb2d3bcf73d13><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/>Chapter 2. Programming Tools</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#tools-synopsis>2.1. Synopsis</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#tools-intro>2.2. Introduction</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#tools-programming>2.3. Introduction to Programming</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#tools-compiling>2.4. Compiling with <code>cc</code></a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#tools-make>2.5. Make</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#debugging>2.6. Debugging</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#emacs>2.7. Using Emacs as a Development Environment</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/tools/#tools-reading>2.8. Further Reading</a></li></ul></li><li><input type=checkbox id=chapter-7319f5d899d5be33daaf1f2d5f180558 class=toggle>
<label class="icon cursor" for=chapter-7319f5d899d5be33daaf1f2d5f180558><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/>Chapter 3. Secure Programming</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/#secure-synopsis>3.1. Synopsis</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/#secure-philosophy>3.2. Secure Design Methodology</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/#secure-bufferov>3.3. Buffer Overflows</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/#secure-setuid>3.4. SetUID issues</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/#secure-chroot>3.5. Limiting your program’s environment</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/#secure-trust>3.6. Trust</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/secure/#secure-race-conditions>3.7. Race Conditions</a></li></ul></li><li><input type=checkbox id=chapter-0240ccaf7010beed911378cfab7bd8fc class=toggle>
<label class="icon cursor" for=chapter-0240ccaf7010beed911378cfab7bd8fc><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/l10n/>Chapter 4. Localization and Internationalization - L10N and I18N</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/l10n/#l10n-programming>4.1. Programming I18N Compliant Applications</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/l10n/#posix-nls>4.2. Localized Messages with POSIX.1 Native Language Support (NLS)</a></li></ul></li><li><input type=checkbox id=chapter-c3107aaf64e60e1ee09bc33fc9fd641a class=toggle checked>
<label class="icon cursor" for=chapter-c3107aaf64e60e1ee09bc33fc9fd641a><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/policies/>Chapter 5. Source Tree Guidelines and Policies</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/policies/#policies-style>5.1. Style Guidelines</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/policies/#policies-maintainer>5.2. <code>MAINTAINER</code> on Makefiles</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/policies/#policies-contributed>5.3. Contributed Software</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/policies/#policies-encumbered>5.4. Encumbered Files</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/policies/#policies-shlib>5.5. Shared Libraries</a></li></ul></li><li><input type=checkbox id=chapter-c7b4fd5a7f8f049234fe3bc225acef44 class=toggle>
<label class="icon cursor" for=chapter-c7b4fd5a7f8f049234fe3bc225acef44><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/testing/>Chapter 6. Regression and Performance Testing</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/testing/#testing-micro-benchmark>6.1. Micro Benchmark Checklist</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/testing/#testing-tinderbox>6.2. The FreeBSD Source Tinderbox</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/testing/#_the_index_cgi_script>6.3. The index.cgi Script</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/testing/#_official_build_servers>6.4. Official Build Servers</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/testing/#_official_summary_site>6.5. Official Summary Site</a></li></ul></li><li><input type=checkbox id=chapter-1f9b02a65f2bc5d4015a050d706fa837 class=toggle>
<label for=chapter-1f9b02a65f2bc5d4015a050d706fa837><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/partii/>Part II. Interprocess Communication</a></li><li><input type=checkbox id=chapter-5e03777f678dd5731a581d7956d19c13 class=toggle>
<label class="icon cursor" for=chapter-5e03777f678dd5731a581d7956d19c13><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/>Chapter 7. Sockets</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/#sockets-synopsis>7.1. Synopsis</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/#sockets-diversity>7.2. Networking and Diversity</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/#sockets-protocols>7.3. Protocols</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/#sockets-model>7.4. The Sockets Model</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/#sockets-essential-functions>7.5. Essential Socket Functions</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/#sockets-helper-functions>7.6. Helper Functions</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/sockets/#sockets-concurrent-servers>7.7. Concurrent Servers</a></li></ul></li><li><input type=checkbox id=chapter-5cbeeaa29a95a5f152e5ccc3901d0fd3 class=toggle>
<label class="icon cursor" for=chapter-5cbeeaa29a95a5f152e5ccc3901d0fd3><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/ipv6/>Chapter 8. IPv6 Internals</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/ipv6/#ipv6-implementation>8.1. IPv6/IPsec Implementation</a></li></ul></li><li><input type=checkbox id=chapter-c9a07b517dc2e43d169c8e013e23cfc1 class=toggle>
<label for=chapter-c9a07b517dc2e43d169c8e013e23cfc1><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/partiii/>Part III. Kernel</a></li><li><input type=checkbox id=chapter-db22f8e5e5e9496dbc711815e2e05f36 class=toggle>
<label class="icon cursor" for=chapter-db22f8e5e5e9496dbc711815e2e05f36><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/kernelbuild/>Chapter 9. Building and Installing a FreeBSD Kernel</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kernelbuild/#kernelbuild-traditional>9.1. Building the Faster but Brittle Way</a></li></ul></li><li><input type=checkbox id=chapter-3036877c53948cfb76174f2776bbdf64 class=toggle>
<label class="icon cursor" for=chapter-3036877c53948cfb76174f2776bbdf64><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/>Chapter 10. Kernel Debugging</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-obtain>10.1. Obtaining a Kernel Crash Dump</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-gdb>10.2. Debugging a Kernel Crash Dump with <code>kgdb</code></a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-online-ddb>10.3. On-Line Kernel Debugging Using DDB</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-online-gdb>10.4. On-Line Kernel Debugging Using Remote GDB</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-console>10.5. Debugging a Console Driver</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-deadlocks>10.6. Debugging Deadlocks</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-dcons>10.7. Kernel debugging with Dcons</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/kerneldebug/#kerneldebug-options>10.8. Glossary of Kernel Options for Debugging</a></li></ul></li><li><input type=checkbox id=chapter-86707094ce48d6e89e5f45569c084cea class=toggle>
<label for=chapter-86707094ce48d6e89e5f45569c084cea><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/partiv/>Part IV. Architectures</a></li><li><input type=checkbox id=chapter-43b1e1e6d2a94eb8b161876bc22ce644 class=toggle>
<label class="icon cursor" for=chapter-43b1e1e6d2a94eb8b161876bc22ce644><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/>Chapter 11. x86 Assembly Language Programming</a><ul><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-intro>A.1. Synopsis</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-the-tools>A.2. The Tools</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-system-calls>A.3. System Calls</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-return-values>A.4. Return Values</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-portable-code>A.5. Creating Portable Code</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-first-program>A.6. Our First Program</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-unix-filters>A.7. Writing UNIX® Filters</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-buffered-io>A.8. Buffered Input and Output</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-command-line>A.9. Command Line Arguments</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-environment>A.10. UNIX® Environment</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-files>A.11. Working with Files</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-one-pointed-mind>A.12. One-Pointed Mind</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-fpu>A.13. Using the FPU</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-caveats>A.14. Caveats</a></li><li><a href=https://docs.freebsd.org/en/books/developers-handbook/x86/#x86-acknowledgements>A.15. Acknowledgements</a></li></ul></li><li><input type=checkbox id=chapter-c49dfe630861d471fb2f58f5b554ed84 class=toggle>
<label for=chapter-c49dfe630861d471fb2f58f5b554ed84><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/partv/>Part V. Appendices</a></li><li><input type=checkbox id=chapter-ac9541a3f38001d13964c1b0b324bb83 class=toggle>
<label for=chapter-ac9541a3f38001d13964c1b0b324bb83><a role=button></a></label><a href=https://docs.freebsd.org/en/books/developers-handbook/bibliography/>Bibliography</a></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Chapter 5. Source Tree Guidelines and Policies</h1><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#policies-style>5.1. Style Guidelines</a></li><li><a href=#policies-maintainer>5.2. <code>MAINTAINER</code> on Makefiles</a></li><li><a href=#policies-contributed>5.3. Contributed Software</a></li><li><a href=#policies-encumbered>5.4. Encumbered Files</a></li><li><a href=#policies-shlib>5.5. Shared Libraries</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class=paragraph><p>This chapter documents various guidelines and policies in force for the FreeBSD source tree.</p></div></div></div><div class=sect1><h2 id=policies-style>5.1. Style Guidelines<a class=anchor href=#policies-style></a></h2><div class=sectionbody><div class=paragraph><p>Consistent coding style is extremely important, particularly with large projects like FreeBSD.
Code should follow the FreeBSD coding styles described in <a href="https://man.freebsd.org/cgi/man.cgi?query=style&amp;sektion=9&amp;format=html">style(9)</a> and <a href="https://man.freebsd.org/cgi/man.cgi?query=style.Makefile&amp;sektion=5&amp;format=html">style.Makefile(5)</a>.</p></div></div></div><div class=sect1><h2 id=policies-maintainer>5.2. <code>MAINTAINER</code> on Makefiles<a class=anchor href=#policies-maintainer></a></h2><div class=sectionbody><div class=paragraph><p>If a particular portion of the FreeBSD <span class=filename>src/</span> distribution is being maintained by a person or group of persons, this is communicated through an entry in <span class=filename>src/MAINTAINERS</span>.
Maintainers of ports within the Ports Collection express their maintainership to the world by adding a <code>MAINTAINER</code> line to the <span class=filename>Makefile</span> of the port in question:</p></div><div class="literalblock programlisting"><div class=content><pre>MAINTAINER= email-addresses</pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>For other parts of the repository, or for sections not listed as having a maintainer, or when you are unsure who the active maintainer is, try looking at the recent commit history of the relevant parts of the source tree.
It is quite often the case that a maintainer is not explicitly named, but the people who are actively working in a part of the source tree for, say, the last couple of years are interested in reviewing changes.
Even if this is not specifically mentioned in the documentation or the source itself, asking for a review as a form of courtesy is a very reasonable thing to do.</p></div></td></tr></tbody></table></div><div class=paragraph><p>The role of the maintainer is as follows:</p></div><div class=ulist><ul><li><p>The maintainer owns and is responsible for that code. This means that he or she is responsible for fixing bugs and answering problem reports pertaining to that piece of the code, and in the case of contributed software, for tracking new versions, as appropriate.</p></li><li><p>Changes to directories which have a maintainer defined shall be sent to the maintainer for review before being committed. Only if the maintainer does not respond for an unacceptable period of time, to several emails, will it be acceptable to commit changes without review by the maintainer. However, it is suggested that you try to have the changes reviewed by someone else if at all possible.</p></li><li><p>It is of course not acceptable to add a person or group as maintainer unless they agree to assume this duty. On the other hand it does not have to be a committer and it can easily be a group of people.</p></li></ul></div></div></div><div class=sect1><h2 id=policies-contributed>5.3. Contributed Software<a class=anchor href=#policies-contributed></a></h2><div class=sectionbody><div class=paragraph><p>Some parts of the FreeBSD distribution consist of software that is actively being maintained outside the FreeBSD project.
For historical reasons, we call this <em>contributed</em> software.
Some examples are LLVM, <a href="https://man.freebsd.org/cgi/man.cgi?query=zlib&amp;sektion=3&amp;format=html">zlib(3)</a>, and <a href="https://man.freebsd.org/cgi/man.cgi?query=awk&amp;sektion=1&amp;format=html">awk(1)</a>.</p></div><div class=paragraph><p>The accepted procedure for managing contributed software involves creating a <em>vendor branch</em>, where the software can be imported cleanly (without modification) and updates can be tracked in a versioned manner.
Then, the content of the vendor branch is applied to the source tree, possibly with local modifications.
FreeBSD-specific build glue is maintained in the source tree, not in the vendor branch.</p></div><div class=paragraph><p>Depending on their needs and complexity, individual software projects may deviate from this procedure, at the discretion of the maintainer.
The exact steps required to update a particular piece of contributed software should be recorded in a file named <code>FREEBSD-upgrade</code>;
for example, <a href=https://cgit.freebsd.org/src/tree/contrib/libarchive/FREEBSD-upgrade>libarchive’s FREEBSD-upgrade file</a>.</p></div><div class=paragraph><p>Contributed software is usually placed in the <span class=filepath>contrib/</span> subdirectory of the source tree, with some exceptions.
Contributed software used only by the kernel lives under <span class=filepath>sys/contrib/</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Because it makes it harder to import future versions minor, trivial and/or cosmetic changes are <em>strongly discouraged</em> on files that are still tracking the vendor branch.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=vendor-import>5.3.1. Vendor Imports<a class=anchor href=#vendor-import></a></h3><div class=paragraph><p>The standard process for managing contributed software and vendor branches is described in detail by the <a href=https://docs.freebsd.org/en/articles/committers-guide/#vendor-import-git>Committer’s Guide</a>.</p></div></div></div></div><div class=sect1><h2 id=policies-encumbered>5.4. Encumbered Files<a class=anchor href=#policies-encumbered></a></h2><div class=sectionbody><div class=paragraph><p>It might occasionally be necessary to include an encumbered file in the FreeBSD source tree.
For example, if a device requires a small piece of binary code to be loaded to it before the device will operate,
and we do not have the source to that code, then the binary file is said to be encumbered.
The following policies apply to including encumbered files in the FreeBSD source tree.</p></div><div class="olist arabic"><ol class=arabic><li><p>Any file which is interpreted or executed by the system CPU(s) and not in source format is encumbered.</p></li><li><p>Any file with a license more restrictive than BSD or GNU is encumbered.</p></li><li><p>A file which contains downloadable binary data for use by the hardware is not encumbered, unless (1) or (2) apply to it.</p></li><li><p>Any encumbered file requires specific approval from the <a href=https://www.FreeBSD.org/administration/#t-core>Core Team</a> before it is added to the repository.</p></li><li><p>Encumbered files go in <span class=filename>src/contrib</span> or <span class=filename>src/sys/contrib</span>.</p></li><li><p>The entire module should be kept together. There is no point in splitting it, unless there is code-sharing with non-encumbered code.</p></li><li><p>In the past binary files were typically uuencoded, and named <span class=filename>arch/filename.o.uu</span>.
This is no longer necessary, and binary files may be added to the repository unchanged.</p></li><li><p>Kernel files:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Should always be referenced in <span class=filename>conf/files.*</span> (for build simplicity).</p></li><li><p>Should always be in <span class=filename>LINT</span>, but the <a href=https://www.FreeBSD.org/administration/#t-core>Core Team</a> decides per case if it should be commented out or not. The <a href=https://www.FreeBSD.org/administration/#t-core>Core Team</a> can, of course, change their minds later on.</p></li><li><p>The <em>Release Engineer</em> decides whether or not it goes into the release.</p></li></ol></div></li><li><p>User-land files:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>The <a href=https://www.FreeBSD.org/administration/#t-core>Core team</a> decides if the code should be part of <code>make world</code>.</p></li><li><p>The <a href=https://www.FreeBSD.org/administration/#t-re>Release Engineering</a> decides if it goes into the release.</p></li></ol></div></li></ol></div></div></div><div class=sect1><h2 id=policies-shlib>5.5. Shared Libraries<a class=anchor href=#policies-shlib></a></h2><div class=sectionbody><div class=paragraph><p>If you are adding shared library support to a port or other piece of software that does not have one, the version numbers should follow these rules.
Generally, the resulting numbers will have nothing to do with the release version of the software.</p></div><div class=paragraph><p>For ports:</p></div><div class=ulist><ul><li><p>Prefer using the number already selected by upstream</p></li><li><p>If upstream provides symbol versioning, ensure that we use their script</p></li></ul></div><div class=paragraph><p>For the base system:</p></div><div class=ulist><ul><li><p>Start library version from 1</p></li><li><p>It is strongly recommended to add symbol versioning to the new library</p></li><li><p>If there is an incompatible change, handle it with symbol versioning, maintaining backward ABI compatibility</p></li><li><p>If this is impossible, or the library does not use symbol versioning, bump the library version</p></li><li><p>Before even considering bumping library version for symbol-versioned library, consult with Release Engineering team, providing reasons why the change is so important that it should be allowed despite breaking the ABI</p></li></ul></div><div class=paragraph><p>For instance, added functions and bugfixes not changing the interfaces are fine, while deleted functions, changed function call syntax, etc. should either provide backward-compat symbols, or will force the major version number to change.</p></div><div class=paragraph><p>It is the duty of the committer making the change to handle library versioning.</p></div><div class=paragraph><p>The ELF dynamic linker matches library names literally.
There is a popular convention where library version is written in the form <code>libexample.so.x.y</code>, where x is the major version, and y is minor.
Common practice is to set the library' soname (<code>DT_SONAME</code> ELF tag) to <code>libexample.so.x</code>, and set up symlinks <code>libexample.so.x→libexample.so.x.y</code>, <code>libexample.so→libexample.so.x</code> on library installation for the latest minor version y.
Then, since the static linker searches for <code>libexample.so</code> when the <code>-lexample</code> command line option is specified, objects linked with libexample get a dependency on the right library.
Almost all popular build systems use this scheme automatically.</p></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: March 9, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/en/books/developers-handbook/l10n class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/en/books/developers-handbook/testing class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#policies-style>5.1. Style Guidelines</a></li><li><a href=#policies-maintainer>5.2. <code>MAINTAINER</code> on Makefiles</a></li><li><a href=#policies-contributed>5.3. Contributed Software</a></li><li><a href=#policies-encumbered>5.4. Encumbered Files</a></li><li><a href=#policies-shlib>5.5. Shared Libraries</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/en/books/developers-handbook/developers-handbook_en.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/en/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/en/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>English</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/en class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/en/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>