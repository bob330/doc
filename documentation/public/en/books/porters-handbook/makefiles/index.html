<!doctype html><html class=theme-light lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Configuring the Makefile for FreeBSD Ports"><meta name=keywords content="makefiles,configuring,naming,versions"><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/><title>Chapter 5. Configuring the Makefile | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Chapter 5. Configuring the Makefile"><meta property="og:description" content="Configuring the Makefile for FreeBSD Ports"><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="en"><meta property="og:url" content="http://172.16.201.134:1313/en/books/porters-handbook/makefiles/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/en\/books\/porters-handbook\/makefiles\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/en>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/en/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/en/books>Books</a></li><li><a href=http://172.16.201.134:1313/en/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/en/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=en>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-c934186a5adac4f64b993f751abed30c class=toggle>
<label for=chapter-c934186a5adac4f64b993f751abed30c><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-why/>Chapter 1. Introduction</a></li><li><input type=checkbox id=chapter-2798d78fe854f2709bab5ca473b97050 class=toggle>
<label for=chapter-2798d78fe854f2709bab5ca473b97050><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/new-port/>Chapter 2. Making a New Port</a></li><li><input type=checkbox id=chapter-c0d52b9121b517084e01f59cefa725e1 class=toggle>
<label class="icon cursor" for=chapter-c0d52b9121b517084e01f59cefa725e1><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/quick-porting/>Chapter 3. Quick Porting</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/quick-porting/#porting-makefile>3.1. Writing the Makefile</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/quick-porting/#porting-desc>3.2. Writing the Description Files</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/quick-porting/#porting-checksum>3.3. Creating the Checksum File</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/quick-porting/#porting-testing>3.4. Testing the Port</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/quick-porting/#porting-portlint>3.5. Checking the Port with <code>portlint</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/quick-porting/#porting-submitting>3.6. Submitting the New Port</a></li></ul></li><li><input type=checkbox id=chapter-3694de03923da61ba10a0a25efca6ef0 class=toggle>
<label class="icon cursor" for=chapter-3694de03923da61ba10a0a25efca6ef0><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting/>Chapter 4. Slow Porting</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting/#slow-work>4.1. How Things Work</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting/#slow-sources>4.2. Getting the Original Sources</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting/#slow-modifying>4.3. Modifying the Port</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting/#slow-patch>4.4. Patching</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting/#slow-configure>4.5. Configuring</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting/#slow-user-input>4.6. Handling User Input</a></li></ul></li><li><input type=checkbox id=chapter-165f6a6dba6651f8c25fc63ab83d6538 class=toggle checked>
<label class="icon cursor" for=chapter-165f6a6dba6651f8c25fc63ab83d6538><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/>Chapter 5. Configuring the Makefile</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-source>5.1. The Original Source</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-naming>5.2. Naming</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-categories>5.3. Categorization</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-distfiles>5.4. The Distribution Files</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-www>5.7. Project website</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#licenses>5.8. Licenses</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-portscout>5.9. <code>PORTSCOUT</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-depend>5.10. Dependencies</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-masterdir>5.11. Slave Ports and <code>MASTERDIR</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-manpages>5.12. Man Pages</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-info>5.13. Info Files</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-options>5.14. Makefile Options</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#makefile-wrkdir>5.15. Specifying the Working Directory</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#conflicts>5.16. Conflict Handling</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#install>5.17. Installing Files</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/makefiles/#binary-alias>5.18. Use <code>BINARY_ALIAS</code> to Rename Commands Instead of Patching the Build</a></li></ul></li><li><input type=checkbox id=chapter-19e3150e00beb84341d8ac1a73936ef0 class=toggle>
<label class="icon cursor" for=chapter-19e3150e00beb84341d8ac1a73936ef0><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/>Chapter 6. Special Considerations</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#splitting-long-files>6.1. Splitting long files</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#staging>6.2. Staging</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#bundled-libs>6.3. Bundled Libraries</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#porting-shlibs>6.4. Shared Libraries</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#porting-restrictions>6.5. Ports with Distribution Restrictions or Legal Concerns</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#building>6.6. Building Mechanisms</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-autotools>6.7. Using GNU Autotools</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-gettext>6.8. Using GNU <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-perl>6.9. Using Perl</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-x11>6.10. Using X11</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-gnome>6.11. Using GNOME</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#gnome-components>6.12. GNOME Components</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-qt>6.13. Using Qt</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-kde>6.14. Using KDE</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-lxqt>6.15. Using LXQt</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-java>6.16. Using Java</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-php>6.17. Web Applications, Apache and PHP</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-python>6.18. Using Python</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-tcl>6.19. Using Tcl/Tk</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-sdl>6.20. Using SDL</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-wx>6.21. Using wxWidgets</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-lua>6.22. Using Lua</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-guile>6.23. Using Guile</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-iconv>6.24. Using <code>iconv</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-xfce>6.25. Using Xfce</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-budgie>6.26. Using Budgie</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#using-databases>6.27. Using Databases</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#rc-scripts>6.28. Starting and Stopping Services (<code>rc</code> Scripts)</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#users-and-groups>6.29. Adding Users and Groups</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#requiring-kernel-sources>6.30. Ports That Rely on Kernel Sources</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#go-libs>6.31. Go Libraries</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#haskell-libs>6.32. Haskell Libraries</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/special/#shell-completion>6.33. Shell Completion Files</a></li></ul></li><li><input type=checkbox id=chapter-2a77b1fa0736427c336503055c700137 class=toggle>
<label class="icon cursor" for=chapter-2a77b1fa0736427c336503055c700137><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/flavors/>Chapter 7. Flavors</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/flavors/#flavors-intro>7.1. An Introduction to Flavors</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/flavors/#flavors-using>7.2. Using FLAVORS</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/flavors/#flavors-auto-php>7.3. <code>USES=php</code> and Flavors</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/flavors/#flavors-auto-python>7.4. <code>USES=python</code> and Flavors</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/flavors/#flavors-auto-lua>7.5. <code>USES=lua</code> and Flavors</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/flavors/#flavors-auto-guile>7.6. <code>USES=guile</code> and Flavors</a></li></ul></li><li><input type=checkbox id=chapter-154554011c772e1e6cc0108eef5e0b2b class=toggle>
<label class="icon cursor" for=chapter-154554011c772e1e6cc0108eef5e0b2b><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/plist/>Chapter 8. Advanced pkg-plist Practices</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/plist/#plist-sub>8.1. Changing pkg-plist Based on Make Variables</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/plist/#plist-cleaning>8.2. Empty Directories</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/plist/#plist-config>8.3. Configuration Files</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/plist/#plist-dynamic>8.4. Dynamic Versus Static Package List</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/plist/#plist-autoplist>8.5. Automated Package List Creation</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/plist/#plist-keywords>8.6. Expanding Package List with Keywords</a></li></ul></li><li><input type=checkbox id=chapter-5955b0791ccd51005b5bc5bebeec91e5 class=toggle>
<label class="icon cursor" for=chapter-5955b0791ccd51005b5bc5bebeec91e5><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/pkg-files/>Chapter 9. pkg-*</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/pkg-files/#porting-message>9.1. pkg-message</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/pkg-files/#pkg-install>9.2. pkg-install, pkg-pre-install, and pkg-post-install</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/pkg-files/#pkg-deinstall>9.3. pkg-deinstall, pkg-pre-deinstall, and pkg-post-deinstall</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/pkg-files/#pkg-names>9.4. Changing the Names of pkg-*</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/pkg-files/#using-sub-files>9.5. Making Use of <code>SUB_FILES</code> and <code>SUB_LIST</code></a></li></ul></li><li><input type=checkbox id=chapter-ee86a11caedb6395ed82b94ec7a9c6cd class=toggle>
<label class="icon cursor" for=chapter-ee86a11caedb6395ed82b94ec7a9c6cd><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/>Chapter 10. Testing the Port</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#make-describe>10.1. Running <code>make describe</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#make-test>10.2. Running <code>make test</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#testing-portclippy>10.3. Portclippy / Portfmt</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#testing-portlint>10.4. Portlint</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#testing-porttools>10.5. Port Tools</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#porting-prefix>10.6. <code>PREFIX</code> and <code>DESTDIR</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#testing-poudriere>10.7. poudriere</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/testing/#testing-debugging-ports>10.8. Debugging ports</a></li></ul></li><li><input type=checkbox id=chapter-4ccaefe2590c044ca2b79c46e79fe17f class=toggle>
<label class="icon cursor" for=chapter-4ccaefe2590c044ca2b79c46e79fe17f><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/upgrading/>Chapter 11. Upgrading a Port</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/upgrading/#git-diff>11.1. Using Git to Make Patches</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/upgrading/#moved-and-updating-files>11.2. UPDATING and MOVED</a></li></ul></li><li><input type=checkbox id=chapter-1023911bc0041506653280b832dea3b2 class=toggle>
<label class="icon cursor" for=chapter-1023911bc0041506653280b832dea3b2><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/security/>Chapter 12. Security</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/security/#security-intro>12.1. Why Security is So Important</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/security/#security-fix>12.2. Fixing Security Vulnerabilities</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/security/#security-notify>12.3. Keeping the Community Informed</a></li></ul></li><li><input type=checkbox id=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7 class=toggle>
<label class="icon cursor" for=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/>Chapter 13. Dos and Don'ts</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-intro>13.1. Introduction</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#porting-wrkdir>13.2. <code>WRKDIR</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#porting-wrkdirprefix>13.3. <code>WRKDIRPREFIX</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#porting-versions>13.4. Differentiating Operating Systems and OS Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-after-port-mk>13.5. Writing Something After bsd.port.mk</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-sh-exec>13.6. Use the <code>exec</code> Statement in Wrapper Scripts</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-rational>13.7. Do Things Rationally</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-cc>13.8. Respect Both <code>CC</code> and <code>CXX</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-cflags>13.9. Respect <code>CFLAGS</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-verbose-logs>13.10. Verbose Build Logs</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-feedback>13.11. Feedback</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-readme>13.12. README.html</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-noinstall>13.13. Marking a Port Not Installable with <code>BROKEN</code>, <code>FORBIDDEN</code>, or <code>IGNORE</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-arch>13.14. Architectural Considerations</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-deprecated>13.15. Marking a Port for Removal with <code>DEPRECATED</code> or <code>EXPIRATION_DATE</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-dot-error>13.16. Avoid Use of the <code>.error</code> Construct</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-sysctl>13.17. Usage of sysctl</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-rerolling-distfiles>13.18. Rerolling Distfiles</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-use-posix-standards>13.19. Use POSIX Standards</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-dads/#dads-misc>13.20. Miscellanea</a></li></ul></li><li><input type=checkbox id=chapter-5ef4c4c471a3f55c74fb71881f9d8713 class=toggle>
<label for=chapter-5ef4c4c471a3f55c74fb71881f9d8713><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/porting-samplem/>Chapter 14. A Sample Makefile</a></li><li><input type=checkbox id=chapter-15c16456ccd7b4dc2a25fa8defa336a1 class=toggle>
<label class="icon cursor" for=chapter-15c16456ccd7b4dc2a25fa8defa336a1><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/>Chapter 15. Order of Variables in Port Makefiles</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-portname>15.1. <code>PORTNAME</code> Block</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-patch>15.2. <code>PATCHFILES</code> Block</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-maintainer>15.3. <code>MAINTAINER</code> Block</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-license>15.4. <code>LICENSE</code> Block</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-broken>15.5. Generic <code>BROKEN</code>/<code>IGNORE</code>/<code>DEPRECATED</code> Messages</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-depends>15.6. The Dependencies Block</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-flavors>15.7. Flavors</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-uses>15.8. <code>USES</code> and <code>USE_x</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-variables>15.9. Standard bsd.port.mk Variables</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-options>15.10. Options and Helpers</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-rest>15.11. The Rest of the Variables</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/order/#porting-order-targets>15.12. The Targets</a></li></ul></li><li><input type=checkbox id=chapter-70f5a4755700a24529175d26e65871bf class=toggle>
<label class="icon cursor" for=chapter-70f5a4755700a24529175d26e65871bf><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/keeping-up/>Chapter 16. Keeping Up</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/keeping-up/#freshports>16.1. FreshPorts</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/keeping-up/#cgit>16.2. The Web Interface to the Source Repository</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/keeping-up/#ports-mailing-list>16.3. The FreeBSD Ports Mailing List</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/keeping-up/#build-cluster>16.4. The FreeBSD Port Building Cluster</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/keeping-up/#distfile-survey>16.5. Portscout: the FreeBSD Ports Distfile Scanner</a></li></ul></li><li><input type=checkbox id=chapter-8225273087f0e195be28132f4b5a0562 class=toggle>
<label class="icon cursor" for=chapter-8225273087f0e195be28132f4b5a0562><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/>Chapter 17. Using USES Macros</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-intro>17.1. An Introduction to <code>USES</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-7z>17.2. <code>7z</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ada>17.3. <code>ada</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-autoreconf>17.4. <code>autoreconf</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-blaslapack>17.5. <code>blaslapack</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-bdb>17.6. <code>bdb</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-bison>17.7. <code>bison</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-budgie>17.8. <code>budgie</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-cabal>17.9. <code>cabal</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-cargo>17.10. <code>cargo</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-charsetfix>17.11. <code>charsetfix</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-cmake>17.12. <code>cmake</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-compiler>17.13. <code>compiler</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-cpe>17.14. <code>cpe</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-cran>17.15. <code>cran</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-desktop-file-utils>17.16. <code>desktop-file-utils</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-desthack>17.17. <code>desthack</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-display>17.18. <code>display</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-dos2unix>17.19. <code>dos2unix</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-drupal>17.20. <code>drupal</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ebur128>17.21. <code>ebur128</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-eigen>17.22. <code>eigen</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-elfctl>17.23. <code>elfctl</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-erlang>17.24. <code>erlang</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-fakeroot>17.25. <code>fakeroot</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-fam>17.26. <code>fam</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-firebird>17.27. <code>firebird</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-fonts>17.28. <code>fonts</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-fortran>17.29. <code>fortran</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-fuse>17.30. <code>fuse</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gem>17.31. <code>gem</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gettext>17.32. <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gettext-runtime>17.33. <code>gettext-runtime</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gettext-tools>17.34. <code>gettext-tools</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ghostscript>17.35. <code>ghostscript</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gl>17.36. <code>gl</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gmake>17.37. <code>gmake</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gnome>17.38. <code>gnome</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-go>17.39. <code>go</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gperf>17.40. <code>gperf</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-grantlee>17.41. <code>grantlee</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-groff>17.42. <code>groff</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gssapi>17.43. <code>gssapi</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-gstreamer>17.44. <code>gstreamer</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-guile>17.45. <code>guile</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-horde>17.46. <code>horde</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-iconv>17.47. <code>iconv</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-imake>17.48. <code>imake</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-kde>17.49. <code>kde</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-kmod>17.50. <code>kmod</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ldap>17.51. <code>ldap</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-lha>17.52. <code>lha</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-libarchive>17.53. <code>libarchive</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-libedit>17.54. <code>libedit</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-libtool>17.55. <code>libtool</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-linux>17.56. <code>linux</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-llvm>17.57. <code>llvm</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-localbase>17.58. <code>localbase</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-lua>17.59. <code>lua</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-luajit>17.60. <code>luajit</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-lxqt>17.61. <code>lxqt</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-magick>17.62. <code>magick</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-makeinfo>17.63. <code>makeinfo</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-makeself>17.64. <code>makeself</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-mate>17.65. <code>mate</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-meson>17.66. <code>meson</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-metaport>17.67. <code>metaport</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-minizip>17.68. <code>minizip</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-mysql>17.69. <code>mysql</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-mono>17.70. <code>mono</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-motif>17.71. <code>motif</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ncurses>17.72. <code>ncurses</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-nextcloud>17.73. <code>nextcloud</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ninja>17.74. <code>ninja</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-nodejs>17.75. <code>nodejs</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-objc>17.76. <code>objc</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-octave>17.77. <code>octave</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-openal>17.78. <code>openal</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-pathfix>17.79. <code>pathfix</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-pear>17.80. <code>pear</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-perl5>17.81. <code>perl5</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-pgsql>17.82. <code>pgsql</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-php>17.83. <code>php</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-pkgconfig>17.84. <code>pkgconfig</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-pure>17.85. <code>pure</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-pyqt>17.86. <code>pyqt</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-pytest>17.87. <code>pytest</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-python>17.88. <code>python</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-qmail>17.89. <code>qmail</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-qmake>17.90. <code>qmake</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-qt>17.91. <code>qt</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-qt-dist>17.92. <code>qt-dist</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-readline>17.93. <code>readline</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ruby>17.94. <code>ruby</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-samba>17.95. <code>samba</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-scons>17.96. <code>scons</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-shared-mime-info>17.97. <code>shared-mime-info</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-shebangfix>17.98. <code>shebangfix</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-sqlite>17.99. <code>sqlite</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-ssl>17.100. <code>ssl</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-tar>17.101. <code>tar</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-tcl>17.102. <code>tcl</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-terminfo>17.103. <code>terminfo</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-tex>17.104. <code>tex</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-tk>17.105. <code>tk</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-uidfix>17.106. <code>uidfix</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-uniquefiles>17.107. <code>uniquefiles</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-vala>17.108. <code>vala</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-varnish>17.109. <code>varnish</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-webplugin>17.110. <code>webplugin</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-xfce>17.111. <code>xfce</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-xorg>17.112. <code>xorg</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-xorg-cat>17.113. <code>xorg-cat</code></a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/uses/#uses-zip>17.114. <code>zip</code></a></li></ul></li><li><input type=checkbox id=chapter-7713ccc63287693c9be6c832b2c1e850 class=toggle>
<label class="icon cursor" for=chapter-7713ccc63287693c9be6c832b2c1e850><a role=button></a></label><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/>Chapter 18. __FreeBSD_version Values</a><ul><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-15>18.1. FreeBSD 15 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-14>18.2. FreeBSD 14 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-13>18.3. FreeBSD 13 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-12>18.4. FreeBSD 12 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-11>18.5. FreeBSD 11 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-10>18.6. FreeBSD 10 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-9>18.7. FreeBSD 9 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-8>18.8. FreeBSD 8 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-7>18.9. FreeBSD 7 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-6>18.10. FreeBSD 6 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-5>18.11. FreeBSD 5 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-4>18.12. FreeBSD 4 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-3>18.13. FreeBSD 3 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-2.2>18.14. FreeBSD 2.2 Versions</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook/versions/#versions-2>18.15. FreeBSD 2 Before 2.2-RELEASE Versions</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Chapter 5. Configuring the Makefile</h1><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. The Original Source</a></li><li><a href=#makefile-naming>5.2. Naming</a></li><li><a href=#makefile-categories>5.3. Categorization</a></li><li><a href=#makefile-distfiles>5.4. The Distribution Files</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-www>5.7. Project website</a></li><li><a href=#licenses>5.8. Licenses</a></li><li><a href=#makefile-portscout>5.9. <code>PORTSCOUT</code></a></li><li><a href=#makefile-depend>5.10. Dependencies</a></li><li><a href=#makefile-masterdir>5.11. Slave Ports and <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.12. Man Pages</a></li><li><a href=#makefile-info>5.13. Info Files</a></li><li><a href=#makefile-options>5.14. Makefile Options</a></li><li><a href=#makefile-wrkdir>5.15. Specifying the Working Directory</a></li><li><a href=#conflicts>5.16. Conflict Handling</a></li><li><a href=#install>5.17. Installing Files</a></li><li><a href=#binary-alias>5.18. Use <code>BINARY_ALIAS</code> to Rename Commands Instead of Patching the Build</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class=paragraph><p>Configuring the <span class=filename>Makefile</span> is pretty simple, and again we suggest looking at existing examples before starting.
Also, there is a <a href=../porting-samplem/#porting-samplem>sample Makefile</a> in this handbook,
so take a look and please follow the ordering of variables and sections in that template to make the port easier for others to read.</p></div><div class=paragraph><p>Consider these problems in sequence during the design of the new <span class=filename>Makefile</span>:</p></div></div></div><div class=sect1><h2 id=makefile-source>5.1. The Original Source<a class=anchor href=#makefile-source></a></h2><div class=sectionbody><div class=paragraph><p>Does it live in <code>DISTDIR</code> as a standard <code>gzip</code>ped tarball named something like <span class=filename>foozolix-1.2.tar.gz</span>? If so, go on to the next step.
If not, the distribution file format might require overriding one or more of <code>DISTVERSION</code>, <code>DISTNAME</code>, <code>EXTRACT_CMD</code>, <code>EXTRACT_BEFORE_ARGS</code>, <code>EXTRACT_AFTER_ARGS</code>, <code>EXTRACT_SUFX</code>, or <code>DISTFILES</code>.</p></div><div class=paragraph><p>In the worst case, create a custom <code>do-extract</code> target to override the default.
This is rarely, if ever, necessary.</p></div></div></div><div class=sect1><h2 id=makefile-naming>5.2. Naming<a class=anchor href=#makefile-naming></a></h2><div class=sectionbody><div class=paragraph><p>The first part of the port’s <span class=filename>Makefile</span> names the port, describes its version number, and lists it in the correct category.</p></div><div class=sect2><h3 id=makefile-portname>5.2.1. <code>PORTNAME</code><a class=anchor href=#makefile-portname></a></h3><div class=paragraph><p>Set <code>PORTNAME</code> to the base name of the software.
It is used as the base for the FreeBSD package, and for <a href=../makefiles/#makefile-distname><code>DISTNAME</code></a>.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>The package name must be unique across the entire ports tree.
Make sure that the <code>PORTNAME</code> is not already in use by an existing port, and that no other port already has the same <code>PKGBASE</code>.
If the name has already been used, add either
<a href=../makefiles/#porting-pkgnameprefix-suffix><code>PKGNAMEPREFIX</code> or <code>PKGNAMESUFFIX</code></a>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-versions>5.2.2. Versions, <code>DISTVERSION</code> <em>or</em> <code>PORTVERSION</code><a class=anchor href=#makefile-versions></a></h3><div class=paragraph><p>Set <code>DISTVERSION</code> to the version number of the software.</p></div><div class=paragraph><p><code>PORTVERSION</code> is the version used for the FreeBSD package.
It will be automatically derived from <code>DISTVERSION</code> to be compatible with FreeBSD’s package versioning scheme.
If the version contains <em>letters</em>, it might be needed to set <code>PORTVERSION</code> and not <code>DISTVERSION</code>.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Only one of <code>PORTVERSION</code> and <code>DISTVERSION</code> can be set at a time.</p></div></td></tr></tbody></table></div><div class=paragraph><p>From time to time, some software will use a version scheme that is not compatible with how <code>DISTVERSION</code> translates in <code>PORTVERSION</code>.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>When updating a port, it is possible to use <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>'s <code>-t</code> argument to check if the new version is greater or lesser than before.
See <a href=../makefiles/#makefile-versions-ex-pkg-version>Using </a><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version\&amp;sektion=8</a> to Compare Versions&amp;format=html">pkg-version\(8] to Compare Versions)</a>.</p></div></td></tr></tbody></table></div><div id=makefile-versions-ex-pkg-version class=exampleblock><div class=title>Example 1. Using <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> to Compare Versions</div><div class=content><div class=paragraph><p><code>pkg version -t</code> takes two versions as arguments, it will respond with <code>&lt;</code>, <code>=</code> or <code>></code> if the first version is less, equal, or more than the second version, respectively.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 1.2 1.3
&lt; <i class=conum data-value=1></i><b>(1)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2
<span class=o>=</span> <i class=conum data-value=2></i><b>(2)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2.0
<span class=o>=</span> <i class=conum data-value=3></i><b>(3)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2.p1
<span class=o>&gt;</span> <i class=conum data-value=4></i><b>(4)</b>
% pkg version <span class=nt>-t</span> 1.2.a1 1.2.b1
&lt; <i class=conum data-value=5></i><b>(5)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2p1
&lt; <i class=conum data-value=6></i><b>(6)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td><code>1.2</code> is before <code>1.3</code>.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td><code>1.2</code> and <code>1.2</code> are equal as they have the same version.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td><code>1.2</code> and <code>1.2.0</code> are equal as nothing equals zero.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td><code>1.2</code> is after <code>1.2.p1</code> as <code>.p1</code>, think "pre-release 1".</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td><code>1.2.a1</code> is before <code>1.2.b1</code>, think "alpha" and "beta", and <code>a</code> is before <code>b</code>.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td><code>1.2</code> is before <code>1.2p1</code> as <code>2p1</code>, think "2, patch level 1" which is a version after any <code>2.X</code> but before <code>3</code>.</td></tr></tbody></table></div><div class=sidebarblock><div class=content><div class=paragraph><p>In here, the <code>a</code>, <code>b</code>, and <code>p</code> are used as if meaning "alpha", "beta" or "pre-release" and "patch level",
but they are only letters and are sorted alphabetically, so any letter can be used, and they will be sorted appropriately.</p></div></div></div></div></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Table 1. Examples of <code>DISTVERSION</code> and the Derived <code>PORTVERSION</code></caption><col style=width:10%><col style=width:90%><thead><tr><th class="tableblock halign-left valign-top">DISTVERSION</th><th class="tableblock halign-left valign-top">PORTVERSION</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1d</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1.d</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>10Alpha3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10.a3</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>3Beta7-pre2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.b7.p2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>8:f_17</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8f.17</p></td></tr></tbody></table><div id=makefile-versions-ex1 class=exampleblock><div class=title>Example 2. Using <code>DISTVERSION</code></div><div class=content><div class=paragraph><p>When the version only contains numbers separated by dots, dashes or underscores, use <code>DISTVERSION</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2-4</pre></div></div><div class=paragraph><p>It will generate a <code>PORTVERSION</code> of <code>1.2.4</code>.</p></div></div></div><div id=makefile-versions-ex2 class=exampleblock><div class=title>Example 3. Using <code>DISTVERSION</code> When the Version Starts with a Letter or a Prefix</div><div class=content><div class=paragraph><p>When the version starts or ends with a letter, or a prefix or a suffix that is not part of the version, use <code>DISTVERSIONPREFIX</code>, <code>DISTVERSION</code>, and <code>DISTVERSIONSUFFIX</code>.</p></div><div class=paragraph><p>If the version is <code>v1.2-4</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSIONPREFIX=  v
DISTVERSION=	1_2_4</pre></div></div><div class=paragraph><p>Some of the time, projects using GitHub will use their name in their versions.
For example, the version could be <code>nekoto-1.2-4</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSIONPREFIX=  nekoto-
DISTVERSION=	1.2_4</pre></div></div><div class=paragraph><p>Those projects also sometimes use some string at the end of the version, for example, <code>1.2-4_RELEASE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2-4
DISTVERSIONSUFFIX=  _RELEASE</pre></div></div><div class=paragraph><p>Or they do both, for example, <code>nekoto-1.2-4_RELEASE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSIONPREFIX=  nekoto-
DISTVERSION=	1.2-4
DISTVERSIONSUFFIX=  _RELEASE</pre></div></div><div class=paragraph><p><code>DISTVERSIONPREFIX</code> and <code>DISTVERSIONSUFFIX</code> will not be used while constructing <code>PORTVERSION</code>, but only used in <code>DISTNAME</code>.</p></div><div class=paragraph><p>All will generate a <code>PORTVERSION</code> of <code>1.2.4</code>.</p></div></div></div><div id=makefile-versions-ex3 class=exampleblock><div class=title>Example 4. Using <code>DISTVERSION</code> When the Version Contains Letters Meaning "alpha", "beta", or "pre-release"</div><div class=content><div class=paragraph><p>When the version contains numbers separated by dots, dashes or underscores, and letters are used to mean "alpha", "beta" or "pre-release", which is, before the version without the letters, use <code>DISTVERSION</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2-pre4</pre></div></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
DISTVERSION=	1.2p4</pre></div></div><div class=paragraph><p>Both will generate a <code>PORTVERSION</code> of <code>1.2.p4</code> which is before than 1.2. <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> can be used to check that fact:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 1.2.p4 1.2
&lt;</code></pre></div></div></div></div><div id=makefile-versions-ex4 class=exampleblock><div class=title>Example 5. Not Using <code>DISTVERSION</code> When the Version Contains Letters Meaning "Patch Level"</div><div class=content><div class=paragraph><p>When the version contains letters that are not meant as "alpha", "beta", or "pre", but more in a "patch level", and meaning after the version without the letters, use <code>PORTVERSION</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=   nekoto
PORTVERSION=	1.2p4</pre></div></div><div class=paragraph><p>In this case, using <code>DISTVERSION</code> is not possible because it would generate a version of <code>1.2.p4</code> which would be before <code>1.2</code> and not after.
<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> will verify this:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 1.2 1.2.p4
<span class=o>&gt;</span> <i class=conum data-value=1></i><b>(1)</b>
% pkg version <span class=nt>-t</span> 1.2 1.2p4
&lt; <i class=conum data-value=2></i><b>(2)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td><code>1.2</code> is after <code>1.2.p4</code>, which is <em>wrong</em> in this case.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td><code>1.2</code> is before <code>1.2p4</code>, which is what was needed.</td></tr></tbody></table></div></div></div><div class=paragraph><p>For some more advanced examples of setting <code>PORTVERSION</code>, when the software’s
versioning is really not compatible with FreeBSD’s, or <code>DISTNAME</code> when the
distribution file does not contain the version itself, see
<a href=../makefiles/#makefile-distname><code>DISTNAME</code></a>.</p></div></div><div class=sect2><h3 id=makefile-naming-revepoch>5.2.3. <code>PORTREVISION</code> and <code>PORTEPOCH</code><a class=anchor href=#makefile-naming-revepoch></a></h3><div class=sect3><h4 id=makefile-portrevision>5.2.3.1. <code>PORTREVISION</code><a class=anchor href=#makefile-portrevision></a></h4><div class=paragraph><p><code>PORTREVISION</code> is a monotonically increasing value which is reset to 0 with every increase of <code>DISTVERSION</code>, typically every time there is a new official vendor release. If <code>PORTREVISION</code> is non-zero, the value is appended to the package name.
Changes to <code>PORTREVISION</code> are used by automated tools like <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a> to determine that a new package is available.</p></div><div class=paragraph><p><code>PORTREVISION</code> must be increased each time a change is made to the port that changes the generated package in any way.
That includes changes that only affect a package built with non-default
<a href=../makefiles/#makefile-options>options</a>.</p></div><div class=paragraph><p>Examples of when <code>PORTREVISION</code> must be bumped:</p></div><div class=ulist><ul><li><p>Addition of patches to correct security vulnerabilities, bugs, or to add new functionality to the port.</p></li><li><p>Changes to the port <span class=filename>Makefile</span> to enable or disable compile-time options in the package.</p></li><li><p>Changes in the packing list or the install-time behavior of the package. For example, a change to a script which generates initial data for the package, like <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> host keys.</p></li><li><p>Version bump of a port’s shared library dependency (in this case, someone trying to install the old package after installing a newer version of the dependency will fail since it will look for the old libfoo.x instead of libfoo.(x+1)).</p></li><li><p>Silent changes to the port distfile which have significant functional differences. For example, changes to the distfile requiring a correction to <span class=filename>distinfo</span> with no corresponding change to <code>DISTVERSION</code>, where a <code>diff -ru</code> of the old and new versions shows non-trivial changes to the code.</p></li><li><p>Changes to <code>MAINTAINER</code>.</p></li></ul></div><div class=paragraph><p>Examples of changes which do not require a <code>PORTREVISION</code> bump:</p></div><div class=ulist><ul><li><p>Style changes to the port skeleton with no functional change to what appears in the resulting package.</p></li><li><p>Changes to <code>MASTER_SITES</code> or other functional changes to the port which do not affect the resulting package.</p></li><li><p>Trivial patches to the distfile such as correction of typos, which are not important enough that users of the package have to go to the trouble of upgrading.</p></li><li><p>Build fixes which cause a package to become compilable where it was previously failing. As long as the changes do not introduce any functional change on any other platforms on which the port did previously build. Since <code>PORTREVISION</code> reflects the content of the package, if the package was not previously buildable then there is no need to increase <code>PORTREVISION</code> to mark a change.</p></li></ul></div><div class=paragraph><p>A rule of thumb is to decide whether a change committed to a port is something which <em>some</em> people would benefit from having.
Either because of an enhancement, fix, or by virtue that the new package will actually work at all.
Then weigh that against that fact that it will cause everyone who regularly updates their ports tree to be compelled to update.
If yes, <code>PORTREVISION</code> must be bumped.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>People using binary packages will <em>never</em> see the update if <code>PORTREVISION</code> is not bumped.
Without increasing <code>PORTREVISION</code>, the package builders have no way to detect the change and thus, will not rebuild the package.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=makefile-portepoch>5.2.3.2. <code>PORTEPOCH</code><a class=anchor href=#makefile-portepoch></a></h4><div class=paragraph><p>From time to time a software vendor or FreeBSD porter will do something silly and release a version of their software which is actually numerically less than the previous version.
An example of this is a port which goes from foo-20000801 to foo-1.0 (the former will be incorrectly treated as a newer version since 20000801 is a numerically greater value than 1).</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>The results of version number comparisons are not always obvious.
<code>pkg version</code> (see <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>) can be used to test the comparison of two version number strings.
For example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 0.031 0.29
<span class=o>&gt;</span></code></pre></div></div><div class=paragraph><p>The <code>></code> output indicates that version 0.031 is considered greater than version 0.29, which may not have been obvious to the porter.</p></div></td></tr></tbody></table></div><div class=paragraph><p>In situations such as this, <code>PORTEPOCH</code> must be increased.
If <code>PORTEPOCH</code> is nonzero it is appended to the package name as described in section 0 above.
<code>PORTEPOCH</code> must never be decreased or reset to zero, because that would cause comparison to a package from an earlier epoch to fail.
For example, the package would not be detected as out of date.
The new version number, <code>1.0,1</code> in the above example, is still numerically less than the previous version, 20000801, but the <code>,1</code> suffix is treated specially by automated tools and found to be greater than the implied suffix <code>,0</code> on the earlier package.</p></div><div class=paragraph><p>Dropping or resetting <code>PORTEPOCH</code> incorrectly leads to no end of grief.
If the discussion above was not clear enough, please consult the <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports mailing list</a>.</p></div><div class=paragraph><p>It is expected that <code>PORTEPOCH</code> will not be used for the majority of ports, and that sensible use of <code>DISTVERSION</code>, or that use <code>PORTVERSION</code> carefully, can often preempt it becoming necessary if a future release of the software changes the version structure.
However, care is needed by FreeBSD porters when a vendor release is made without an official version number - such as a code "snapshot" release.
The temptation is to label the release with the release date, which will cause problems as in the example above when a new "official" release is made.</p></div><div class=paragraph><p>For example, if a snapshot release is made on the date <code>20000917</code>, and the previous version of the software was version <code>1.2</code>, do not use <code>20000917</code> for <code>DISTVERSION</code>.
The correct way is a <code>DISTVERSION</code> of <code>1.2.20000917</code>, or similar, so that the succeeding release, say <code>1.3</code>, is still a numerically greater value.</p></div></div><div class=sect3><h4 id=makefile-portrevision-example>5.2.3.3. Example of <code>PORTREVISION</code> and <code>PORTEPOCH</code> Usage<a class=anchor href=#makefile-portrevision-example></a></h4><div class=paragraph><p>The <code>gtkmumble</code> port, version <code>0.10</code>, is committed to the ports collection:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.10</pre></div></div><div class=paragraph><p><code>PKGNAME</code> becomes <code>gtkmumble-0.10</code>.</p></div><div class=paragraph><p>A security hole is discovered which requires a local FreeBSD patch.
<code>PORTREVISION</code> is bumped accordingly.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.10
PORTREVISION=	1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> becomes <code>gtkmumble-0.10_1</code></p></div><div class=paragraph><p>A new version is released by the vendor, numbered <code>0.2</code> (it turns out the author actually intended <code>0.10</code> to actually mean <code>0.1.0</code>, not "what comes after 0.9" - oops, too late now).
Since the new minor version <code>2</code> is numerically less than the previous version <code>10</code>, <code>PORTEPOCH</code> must be bumped to manually force the new package to be detected as "newer".
Since it is a new vendor release of the code, <code>PORTREVISION</code> is reset to 0 (or removed from the <span class=filename>Makefile</span>).</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.2
PORTEPOCH=	1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> becomes <code>gtkmumble-0.2,1</code></p></div><div class=paragraph><p>The next release is 0.3.
Since <code>PORTEPOCH</code> never decreases, the version variables are now:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	gtkmumble
DISTVERSION=	0.3
PORTEPOCH=	1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> becomes <code>gtkmumble-0.3,1</code></p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>If <code>PORTEPOCH</code> were reset to <code>0</code> with this upgrade, someone who had installed the <code>gtkmumble-0.10_1</code> package would not detect the <code>gtkmumble-0.3</code> package as newer, since <code>3</code> is still numerically less than <code>10</code>.
Remember, this is the whole point of <code>PORTEPOCH</code> in the first place.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=porting-pkgnameprefix-suffix>5.2.4. <code>PKGNAMEPREFIX</code> and <code>PKGNAMESUFFIX</code><a class=anchor href=#porting-pkgnameprefix-suffix></a></h3><div class=paragraph><p>Two optional variables, <code>PKGNAMEPREFIX</code> and <code>PKGNAMESUFFIX</code>, are combined with <code>PORTNAME</code> and <code>PORTVERSION</code> to form <code>PKGNAME</code> as <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>.
Make sure this conforms to our <a href=../makefiles/#porting-pkgname>guidelines for a good package name</a>.
In particular, the use of a hyphen (<code>-</code>) in <code>PORTVERSION</code> is <em>not</em> allowed.
Also, if the package name has the <em>language-</em> or the <em>-compiled.specifics</em> part (see below), use <code>PKGNAMEPREFIX</code> and <code>PKGNAMESUFFIX</code>, respectively.
Do not make them part of <code>PORTNAME</code>.</p></div></div><div class=sect2><h3 id=porting-pkgname>5.2.5. Package Naming Conventions<a class=anchor href=#porting-pkgname></a></h3><div class=paragraph><p>These are the conventions to follow when naming packages.
This is to make the package directory easy to scan, as there are already thousands of packages and users are going to turn away if they hurt their eyes!</p></div><div class=paragraph><p>Package names take the form of <span class=filename>language_region-name-compiled.specifics-version.numbers</span>.</p></div><div class=paragraph><p>The package name is defined as <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>.
Make sure to set the variables to conform to that format.</p></div><div id=porting-pkgname-language class=dlist><dl><dt class=hdlist1><span class=filename>language_region-</span></dt><dd><p>FreeBSD strives to support the native language of its users.
The <em>language-</em> part is a two letter abbreviation of the natural language defined by ISO-639 when the port is specific to a certain language.
Examples are <code>ja</code> for Japanese, <code>ru</code> for Russian, <code>vi</code> for Vietnamese, <code>zh</code> for Chinese, <code>ko</code> for Korean and <code>de</code> for German.</p><div class=paragraph><p>If the port is specific to a certain region within the language area, add the two letter country code as well.
Examples are <code>en_US</code> for US English and <code>fr_CH</code> for Swiss French.</p></div><div class=paragraph><p>The <em>language-</em> part is set in <code>PKGNAMEPREFIX</code>.</p></div></dd></dl></div><div id=porting-pkgname-name class=dlist><dl><dt class=hdlist1><span class=filename>name</span></dt><dd><p>Make sure that the port’s name and version are clearly separated and placed into <code>PORTNAME</code> and <code>DISTVERSION</code>.
The only reason for <code>PORTNAME</code> to contain a version part is if the upstream distribution is really named that way, as in the <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/libxml2/>textproc/libxml2</a> or <a class=package href=https://cgit.freebsd.org/ports/tree/japanese/kinput2-freewnn/>japanese/kinput2-freewnn</a> ports.
Otherwise, <code>PORTNAME</code> cannot contain any version-specific information.
It is quite normal for several ports to have the same <code>PORTNAME</code>, as the <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache*/>www/apache*</a> ports do; in that case, different versions (and different index entries) are distinguished by <code>PKGNAMEPREFIX</code> and <code>PKGNAMESUFFIX</code> values.</p><div class=paragraph><p>There is a tradition of naming <code>Perl 5</code> modules by prepending <code>p5-</code> and converting the double-colon separator to a hyphen.
For example, the <code>Data::Dumper</code> module becomes <code>p5-Data-Dumper</code>.</p></div></dd></dl></div><div id=porting-pkgname-compiled-specifics class=dlist><dl><dt class=hdlist1><span class=filename>-compiled.specifics</span></dt><dd><p>If the port can be built with different
<a href=../makefiles/#makefile-masterdir>hardcoded defaults</a> (usually part of the directory name in a family of ports), the <em>-compiled.specifics</em> part states the compiled-in defaults.
The hyphen is optional.
Examples are paper size and font units.</p><div class=paragraph><p>The <em>-compiled.specifics</em> part is set in <code>PKGNAMESUFFIX</code>.</p></div></dd></dl></div><div id=porting-pkgname-version-numbers class=dlist><dl><dt class=hdlist1><span class=filename>-version.numbers</span></dt><dd><p>The version string follows a dash (<code>-</code>) and is a period-separated list of integers and single lowercase alphabetics.
In particular, it is not permissible to have another dash inside the version string.
The only exception is the string <code>pl</code> (meaning "patchlevel"), which can be used <em>only</em> when there are no major and minor version numbers in the software.
If the software version has strings like "alpha", "beta", "rc", or "pre", take the first letter and put it immediately after a period.
If the version string continues after those names, the numbers follow the single alphabet without an extra period between them (for example, <code>1.0b2</code>).</p><div class=paragraph><p>The idea is to make it easier to sort ports by looking at the version string.
In particular, make sure version number components are always delimited by a period, and if the date is part of the string, use the <code>d<em>yyyy.mm.dd</em></code> format, not <code><em>dd.mm.yyyy</em></code> or the non-Y2K compliant <code><em>yy.mm.dd</em></code> format.
It is important to prefix the version with a letter, here <code>d</code> (for date), in case a release with an actual version number is made, which would be numerically less than <code><em>yyyy</em></code>.</p></div></dd></dl></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Package name must be unique among all of the ports tree, check that there is not
already a port with the same <code>PORTNAME</code> and if there is add one of
<a href=../makefiles/#porting-pkgnameprefix-suffix><code>PKGNAMEPREFIX</code> or <code>PKGNAMESUFFIX</code></a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Here are some (real) examples on how to convert the name as called by the software authors to a suitable package name, for each line, only one of <code>DISTVERSION</code> or <code>PORTVERSION</code> is set in, depending on which would be used in the port’s <span class=filename>Makefile</span>:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Table 2. Package Naming Examples</caption><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2857%><col style=width:14.2858%><thead><tr><th class="tableblock halign-left valign-top">Distribution Name</th><th class="tableblock halign-left valign-top">PKGNAMEPREFIX</th><th class="tableblock halign-left valign-top">PORTNAME</th><th class="tableblock halign-left valign-top">PKGNAMESUFFIX</th><th class="tableblock halign-left valign-top">DISTVERSION</th><th class="tableblock halign-left valign-top">PORTVERSION</th><th class="tableblock halign-left valign-top">Reason or comment</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mule-2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mule</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.2</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>No changes required</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mule-1.0.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mule</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0.1</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>This is version 1 of mule, and version 2 already exists</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EmiClock-1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>emiclock</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0.2</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>No uppercase names for single programs</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rdist-1.3alpha</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>rdist</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.3alpha</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Version will be <code>1.3.a</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>es-0.9-beta1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>es</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.9-beta1</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Version will be <code>0.9.b1</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mailman-2.0rc3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mailman</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.0rc3</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Version will be <code>2.0.r3</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>v3.3beta021.src</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tiff</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>What the heck was that anyway?</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>p11</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>No version in the filename, use what upstream says it is</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>No version in the filename, use what upstream says it is</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr-2.10pl1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.10.pl1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>In that case, <code>pl1</code> means patch level, so using DISTVERSION is not possible.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>gawk-2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ja-</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>gawk</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.15.6</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Japanese language version</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>psutils-1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>psutils</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>-letter</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.13</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Paper size hardcoded at package build time</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(empty)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>300</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>Package for 300dpi fonts</p></td></tr></tbody></table><div class=paragraph><p>If there is absolutely no trace of version information in the original source and it is unlikely that the original author will ever release another version, just set the version string to <code>1.0</code> (like the <code>piewm</code> example above).
Otherwise, ask the original author or use the date string the source file was released on (<code>d<em>yyyy.mm.dd</em></code>, or <code>d<em>yyyymmdd</em></code>) as the version.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Use any letter.
Here, <code>d</code> here stands for date, if the source is a Git repository, <code>g</code> followed by the commit date is commonly used, using <code>s</code> for snapshot is also common.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=makefile-categories>5.3. Categorization<a class=anchor href=#makefile-categories></a></h2><div class=sectionbody><div class=sect2><h3 id=makefile-categories-definition>5.3.1. <code>CATEGORIES</code><a class=anchor href=#makefile-categories-definition></a></h3><div class=paragraph><p>When a package is created, it is put under <span class=filename>/usr/ports/packages/All</span> and links are made from one or more subdirectories of <span class=filename>/usr/ports/packages</span>.
The names of these subdirectories are specified by the variable <code>CATEGORIES</code>.
It is intended to make life easier for the user when he is wading through the pile of packages on the FTP site or the CDROM.
Please take a look at the <a href=../makefiles/#porting-categories>current list of categories</a> and pick the ones that are suitable for the port.</p></div><div class=paragraph><p>This list also determines where in the ports tree the port is imported.
If there is more than one category here, the port files must be put in the subdirectory with the name of the first category.
See <a href=../makefiles/#choosing-categories>below</a> for more discussion about how to pick the right categories.</p></div></div><div class=sect2><h3 id=porting-categories>5.3.2. Current List of Categories<a class=anchor href=#porting-categories></a></h3><div class=paragraph><p>Here is the current list of port categories.
Those marked with an asterisk (<code>*</code>) are <em>virtual</em> categories-those that do not have a corresponding subdirectory in the ports tree.
They are only used as secondary categories, and only for search purposes.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>For non-virtual categories, there is a one-line description in <code>COMMENT</code> in that subdirectory’s <span class=filename>Makefile</span>.</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Category</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Notes</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>accessibility</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports to help disabled users.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>afterstep</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports to support the <a href=http://www.afterstep.org/>AfterStep</a> window manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>arabic</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Arabic language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>archivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Archiving tools.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>astro</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Astronomical ports.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>audio</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sound support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>benchmarks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benchmarking utilities.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>biology</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Biology-related software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>cad</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Computer aided design tools.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>chinese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Chinese language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>comms</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Communication software.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mostly software to talk to the serial port.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>converters</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Character code converters.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>databases</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Databases.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>deskutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Things that used to be on the desktop before computers were invented.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>devel</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Development utilities.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Do not put libraries here just because they are libraries. They should <em>not</em> be in this category unless they truly do not belong anywhere else.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>dns</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DNS-related software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>docs</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Meta-ports for FreeBSD documentation.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>editors</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>General editors.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Specialized editors go in the section for those tools. For example, a mathematical-formula editor will go in <span class=filename>math</span>, and have <span class=filename>editors</span> as a second category.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>education</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Education-related software.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>This includes applications, utilities, or games primarily or substantially designed to help the user learn a specific topic or study in general. It also includes course-writing applications, course-delivery applications, and classroom or school management applications</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>elisp</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emacs-lisp ports.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>emulators</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emulators for other operating systems.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Terminal emulators do <em>not</em> belong here. X-based ones go to <span class=filename>x11</span> and text-based ones to either <span class=filename>comms</span> or <span class=filename>misc</span>, depending on the exact functionality.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>enlightenment</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports related to the Enlightenment window manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>finance</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Monetary, financial and related applications.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>french</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>French language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ftp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FTP client and server utilities.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>If the port speaks both FTP and HTTP, put it in <span class=filename>ftp</span> with a secondary category of <span class=filename>www</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>games</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Games.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>geography</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Geography-related software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>german</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>German language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnome</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports from the <a href=https://www.gnome.org/>GNOME</a> Project.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnustep</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the GNUstep desktop environment.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>graphics</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Graphics utilities.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hamradio</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software for amateur radio.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>haskell</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the Haskell language.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hebrew</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hebrew language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hungarian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hungarian language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>irc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Internet Relay Chat utilities.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>japanese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Japanese language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>java</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the Java™ language.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The <span class=filename>java</span> category must not be the only one for a port. Save for ports directly related to the Java language, porters are also encouraged not to use <span class=filename>java</span> as the main category of a port.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports from the <a href=https://www.kde.org/>KDE</a> Project (generic).</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde-applications</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Applications from the <a href=https://www.kde.org/>KDE</a> Project.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde-frameworks</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Add-on libraries from the <a href=https://www.kde.org/>KDE</a> Project for programming with Qt.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde-plasma</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Desktop from the <a href=https://www.kde.org/>KDE</a> Project.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kld</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kernel loadable modules.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>korean</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Korean language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lang</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Programming languages.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>linux</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Linux applications and support utilities.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lisp</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the Lisp language.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mail</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mail software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mate</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports related to the MATE desktop environment, a fork of GNOME 2.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>math</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Numerical computation software and other utilities for mathematics.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mbone</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>MBone applications.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>misc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Miscellaneous utilities</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Things that do not belong anywhere else. If at all possible, try to find a better category for the port than <code>misc</code>, as ports tend to be overlooked in here.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>multimedia</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Multimedia software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Miscellaneous networking software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-im</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Instant messaging software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Networking management software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-p2p</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Peer to peer network applications.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-vpn</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Virtual Private Network applications.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>news</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>USENET news software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>parallel</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Applications dealing with parallelism in computing.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>pear</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports related to the Pear PHP framework.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>perl5</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports that require Perl version 5 to run.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>plan9</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Various programs from <a href=https://9p.io/wiki/plan9/Download/index.html>Plan9</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>polish</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Polish language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ports-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports for managing, installing and developing FreeBSD ports and packages.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>portuguese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Portuguese language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>print</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Printing software.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Desktop publishing tools (previewers, etc.) belong here too.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>python</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the <a href=https://www.python.org/>Python</a> language.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ruby</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the <a href=https://www.ruby-lang.org/>Ruby</a> language.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>rubygems</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports of <a href=https://www.rubygems.org/>RubyGems</a> packages.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>russian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Russian language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>scheme</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the Scheme language.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>science</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Scientific ports that do not fit into other categories such as <span class=filename>astro</span>, <span class=filename>biology</span> and <span class=filename>math</span>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>security</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Security utilities.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>shells</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Command line shells.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>spanish</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spanish language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>sysutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>System utilities.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports that use Tcl to run.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>textproc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Text processing utilities.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>It does not include desktop publishing tools, which go to <span class=filename>print</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports that use Tk to run.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ukrainian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ukrainian language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>vietnamese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vietnamese language support.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>wayland</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports to support the Wayland display server.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>windowmaker</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports to support the Window Maker window manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>www</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software related to the World Wide Web.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>HTML language support belongs here too.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The X Window System and friends.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>This category is only for software that directly supports the window system. Do not put regular X applications here. Most of them go into other <span class=filename>x11-*</span> categories (see below).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-clocks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 clocks.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-drivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 drivers.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 file managers.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fonts</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 fonts and font utilities.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-servers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 servers.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-themes</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 themes.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-toolkits</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 toolkits.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-wm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 window managers.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xfce</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports related to the <a href=https://www.xfce.org/>Xfce</a> desktop environment.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>zope</span><code>*</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://www.zope.org/>Zope</a> support.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table></div><div class=sect2><h3 id=choosing-categories>5.3.3. Choosing the Right Category<a class=anchor href=#choosing-categories></a></h3><div class=paragraph><p>As many of the categories overlap, choosing which of the categories will be the primary category of the port can be tedious.
There are several rules that govern this issue.
Here is the list of priorities, in decreasing order of precedence:</p></div><div class=ulist><ul><li><p>The first category must be a physical category (see
<a href=../makefiles/#porting-categories>above</a>). This is necessary to make the packaging work. Virtual categories and physical categories may be intermixed after that.</p></li><li><p>Language specific categories always come first. For example, if the port installs Japanese X11 fonts, then the <code>CATEGORIES</code> line would read <span class=filename>japanese x11-fonts</span>.</p></li><li><p>Specific categories are listed before less-specific ones. For instance, an HTML editor is listed as <span class=filename>www editors</span>, not the other way around. Also, do not list <span class=filename>net</span> when the port belongs to any of <span class=filename>irc</span>, <span class=filename>mail</span>, <span class=filename>news</span>, <span class=filename>security</span>, or <span class=filename>www</span>, as <span class=filename>net</span> is included implicitly.</p></li><li><p><span class=filename>x11</span> is used as a secondary category only when the primary category is a natural language. In particular, do not put <span class=filename>x11</span> in the category line for X applications.</p></li><li><p>Emacs modes are placed in the same ports category as the application supported by the mode, not in <span class=filename>editors</span>. For example, an Emacs mode to edit source files of some programming language goes into <span class=filename>lang</span>.</p></li><li><p>Ports installing loadable kernel modules also have the virtual category <span class=filename>kld</span> in their <code>CATEGORIES</code> line. This is one of the things handled automatically by adding <code>USES=kmod</code>.</p></li><li><p><span class=filename>misc</span> does not appear with any other non-virtual category. If there is <code>misc</code> with something else in <code>CATEGORIES</code>, that means <code>misc</code> can safely be deleted and the port placed only in the other subdirectory.</p></li><li><p>If the port truly does not belong anywhere else, put it in <span class=filename>misc</span>.</p></li></ul></div><div class=paragraph><p>If the category is not clearly defined, please put a comment to that effect in the <a href=https://bugs.freebsd.org/submit/>port submission</a> in the bug database so we can discuss it before we import it.
As a committer, send a note to the <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports mailing list</a> so we can discuss it first.
Too often, new ports are imported to the wrong category only to be moved right away.</p></div></div><div class=sect2><h3 id=proposing-categories>5.3.4. Proposing a New Category<a class=anchor href=#proposing-categories></a></h3><div class=paragraph><p>As the Ports Collection has grown over time, various new categories have been introduced.
New categories can either be <em>virtual</em> categories-those that do not have a corresponding subdirectory in the ports tree- or <em>physical</em> categories-those that do. This section discusses the issues involved in creating a new physical category.
Read it thoroughly before proposing a new one.</p></div><div class=paragraph><p>Our existing practice has been to avoid creating a new physical category unless either a large number of ports would logically belong to it, or the ports that would belong to it are a logically distinct group that is of limited general interest (for instance, categories related to spoken human languages), or preferably both.</p></div><div class=paragraph><p>The rationale for this is that such a change creates a <a href=https://docs.freebsd.org/en/articles/committers-guide/#ports>fair amount of work</a> for both the committers and also for all users who track changes to the Ports Collection.
In addition, proposed category changes just naturally seem to attract controversy.
(Perhaps this is because there is no clear consensus on when a category is "too big", nor whether categories should lend themselves to browsing (and thus what number of categories would be an ideal number), and so forth.)</p></div><div class=paragraph><p>Here is the procedure:</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>Propose the new category on <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports mailing list</a>. Include a detailed rationale for the new category, including why the existing categories are not sufficient, and the list of existing ports proposed to move. (If there are new ports pending in Bugzilla that would fit this category, list them too.) If you are the maintainer and/or submitter, respectively, mention that as it may help the case.</p></li><li><p>Participate in the discussion.</p></li><li><p>If it seems that there is support for the idea, file a PR which includes both the rationale and the list of existing ports that need to be moved. Ideally, this PR would also include these patches:</p><div class=ulist><ul><li><p><span class=filename>Makefile</span>s for the new ports once they are repocopied</p></li><li><p><span class=filename>Makefile</span> for the new category</p></li><li><p><span class=filename>Makefile</span> for the old ports' categories</p></li><li><p><span class=filename>Makefile</span>s for ports that depend on the old ports</p></li><li><p>(for extra credit, include the other files that have to change, as per the procedure in the Committer’s Guide.)</p></li></ul></div></li><li><p>Since it affects the ports infrastructure and involves moving and patching many ports but also possibly running regression tests on the build cluster, assign the PR to the Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>>.</p></li><li><p>If that PR is approved, a committer will need to follow the rest of the procedure that is <a href=https://docs.freebsd.org/en/articles/committers-guide/#ports>outlined in the Committer’s Guide</a>.</p></li></ol></div><div class=paragraph><p>Proposing a new virtual category is similar to the above but much less involved, since no ports will actually have to move.
In this case, the only patches to include in the PR would be those to add the new category to <code>CATEGORIES</code> of the affected ports.</p></div></div><div class=sect2><h3 id=proposing-reorg>5.3.5. Proposing Reorganizing All the Categories<a class=anchor href=#proposing-reorg></a></h3><div class=paragraph><p>Occasionally someone proposes reorganizing the categories with either a 2-level structure, or some other kind of keyword structure.
To date, nothing has come of any of these proposals because, while they are very easy to make, the effort involved to retrofit the entire existing ports collection with any kind of reorganization is daunting to say the very least.
Please read the history of these proposals in the mailing list archives before posting this idea.
Furthermore, be prepared to be challenged to offer a working prototype.</p></div></div></div></div><div class=sect1><h2 id=makefile-distfiles>5.4. The Distribution Files<a class=anchor href=#makefile-distfiles></a></h2><div class=sectionbody><div class=paragraph><p>The second part of the <span class=filename>Makefile</span> describes the files that must be downloaded to build the port, and where they can be downloaded.</p></div><div class=sect2><h3 id=makefile-distname>5.4.1. <code>DISTNAME</code><a class=anchor href=#makefile-distname></a></h3><div class=paragraph><p><code>DISTNAME</code> is the name of the port as called by the authors of the software.
<code>DISTNAME</code> defaults to <code>${PORTNAME}-${DISTVERSIONPREFIX}${DISTVERSION}${DISTVERSIONSUFFIX}</code>, and if not set, <code>DISTVERSION</code> defaults to <code>${PORTVERSION}</code> so override <code>DISTNAME</code> only if necessary.
<code>DISTNAME</code> is only used in two places.
First, the distribution file list (<code>DISTFILES</code>) defaults to <code>${DISTNAME}${EXTRACT_SUFX}</code>.
Second, the distribution file is expected to extract into a subdirectory named <code>WRKSRC</code>, which defaults to <span class=filename>work/${DISTNAME}</span>.</p></div><div class=paragraph><p>Some vendor’s distribution names which do not fit into the <code>${PORTNAME}-${PORTVERSION}</code>-scheme can be handled automatically by setting <code>DISTVERSIONPREFIX</code>, <code>DISTVERSION</code>, and <code>DISTVERSIONSUFFIX</code>.
<code>PORTVERSION</code> will be derived from <code>DISTVERSION</code> automatically.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Only one of <code>PORTVERSION</code> and <code>DISTVERSION</code> can be set at a time.
If <code>DISTVERSION</code> does not derive a correct <code>PORTVERSION</code>, do not use <code>DISTVERSION</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>If the upstream version scheme can be derived into a ports-compatible version scheme, set some variable to the upstream version, <em>do not</em> use <code>DISTVERSION</code> as the variable name.
Set <code>PORTVERSION</code> to the computed version based on the variable you created, and set <code>DISTNAME</code> accordingly.</p></div><div class=paragraph><p>If the upstream version scheme cannot easily be coerced into a ports-compatible value, set <code>PORTVERSION</code> to a sensible value, and set <code>DISTNAME</code> with <code>PORTNAME</code> with the verbatim upstream version.</p></div><div id=makefile-distname-ex1 class=exampleblock><div class=title>Example 6. Deriving <code>PORTVERSION</code> Manually</div><div class=content><div class=paragraph><p>BIND9 uses a version scheme that is not compatible with the ports versions (it has <code>-</code> in its versions) and cannot be derived using <code>DISTVERSION</code> because after the 9.9.9 release, it will release a "patchlevels" in the form of <code>9.9.9-P1</code>.
DISTVERSION would translate that into <code>9.9.9.p1</code>, which, in the ports versioning scheme means 9.9.9 pre-release 1, which is before 9.9.9 and not after.
So <code>PORTVERSION</code> is manually derived from an <code>ISCVERSION</code> variable to output <code>9.9.9p1</code>.</p></div><div class=paragraph><p>The order into which the ports framework, and pkg, will sort versions is checked using the <code>-t</code> argument of <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 9.9.9 9.9.9.p1
<span class=o>&gt;</span> <i class=conum data-value=1></i><b>(1)</b>
% pkg version <span class=nt>-t</span> 9.9.9 9.9.9p1
&lt; <i class=conum data-value=2></i><b>(2)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>The <code>></code> sign means that the first argument passed to <code>-t</code> is greater than the second argument. <code>9.9.9</code> is after <code>9.9.9.p1</code>.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>The <code>&lt;</code> sign means that the first argument passed to <code>-t</code> is less than the second argument. <code>9.9.9</code> is before <code>9.9.9p1</code>.</td></tr></tbody></table></div><div class=paragraph><p>In the port <span class=filename>Makefile</span>, for example <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a>, it is achieved by:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	bind
PORTVERSION=	${ISCVERSION:S/-P/P/:S/b/.b/:S/a/.a/:S/rc/.rc/}
CATEGORIES=	dns net
MASTER_SITES=	ISC/bind9/${ISCVERSION}
PKGNAMESUFFIX=	99
DISTNAME=	${PORTNAME}-${ISCVERSION}

MAINTAINER=	mat@FreeBSD.org
COMMENT=	BIND DNS suite with updated DNSSEC and DNS64
WWW=		https://www.isc.org/bind/

LICENSE=	ISCL

# ISC releases things like 9.8.0-P1 or 9.8.1rc1, which our versioning does not like
ISCVERSION=	9.9.9-P6</pre></div></div><div class=paragraph><p>Define upstream version in <code>ISCVERSION</code>, with a comment saying <em>why</em> it is needed.
Use <code>ISCVERSION</code> to get a ports-compatible <code>PORTVERSION</code>.
Use <code>ISCVERSION</code> directly to get the correct URL for fetching the distribution file.
Use <code>ISCVERSION</code> directly to name the distribution file.</p></div></div></div><div id=makefile-distname-ex2 class=exampleblock><div class=title>Example 7. Derive <code>DISTNAME</code> from <code>PORTVERSION</code></div><div class=content><div class=paragraph><p>From time to time, the distribution file name has little or no relation to the version of the software.</p></div><div class=paragraph><p>In <a class=package href=https://cgit.freebsd.org/ports/tree/comms/kermit/>comms/kermit</a>, only the last element of the version is present in the distribution file:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	kermit
PORTVERSION=	9.0.304
CATEGORIES=	comms ftp net
MASTER_SITES=	ftp://ftp.kermitproject.org/kermit/test/tar/
DISTNAME=	cku${PORTVERSION:E}-dev20</pre></div></div><div class=paragraph><p>The <code>:E</code> <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> modifier returns the suffix of the variable, in this case, <code>304</code>.
The distribution file is correctly generated as <code>cku304-dev20.tar.gz</code>.</p></div></div></div><div id=makefile-distname-ex3 class=exampleblock><div class=title>Example 8. Exotic Case 1</div><div class=content><div class=paragraph><p>Sometimes, there is no relation between the software name, its version, and the distribution file it is distributed in.</p></div><div class=paragraph><p>From <a class=package href=https://cgit.freebsd.org/ports/tree/audio/libworkman/>audio/libworkman</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       libworkman
PORTVERSION=    1.4
CATEGORIES=     audio
MASTER_SITES=   LOCAL/jim
DISTNAME=       ${PORTNAME}-1999-06-20</pre></div></div></div></div><div id=makefile-distname-ex4 class=exampleblock><div class=title>Example 9. Exotic Case 2</div><div class=content><div class=paragraph><p>In <a class=package href=https://cgit.freebsd.org/ports/tree/comms/librs232/>comms/librs232</a>, the distribution file is not versioned, so using
<a href=../makefiles/#makefile-dist_subdir><code>DIST_SUBDIR</code></a> is needed:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       librs232
PORTVERSION=    20160710
CATEGORIES=     comms
MASTER_SITES=   http://www.teuniz.net/RS-232/
DISTNAME=       RS-232
DIST_SUBDIR=	${PORTNAME}-${PORTVERSION}</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>PKGNAMEPREFIX</code> and <code>PKGNAMESUFFIX</code> do not affect <code>DISTNAME</code>.
Also note that if <code>WRKSRC</code> is equal to <span class=filename>${WRKDIR}/${DISTNAME}</span> while the original source archive is named something other than <code>${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</code>, leave <code>DISTNAME</code> alone- defining only <code>DISTFILES</code> is easier than both <code>DISTNAME</code> and <code>WRKSRC</code> (and possibly <code>EXTRACT_SUFX</code>).</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-master_sites>5.4.2. <code>MASTER_SITES</code><a class=anchor href=#makefile-master_sites></a></h3><div class=paragraph><p>Record the directory part of the FTP/HTTP-URL pointing at the original tarball in <code>MASTER_SITES</code>.
Do not forget the trailing slash (<span class=filename>/</span>)!</p></div><div class=paragraph><p>The <code>make</code> macros will try to use this specification for grabbing the distribution file with <code>FETCH</code> if they cannot find it already on the system.</p></div><div class=paragraph><p>It is recommended that multiple sites are included on this list, preferably from different continents.
This will safeguard against wide-area network problems.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p><code>MASTER_SITES</code> must not be blank.
It must point to the actual site hosting the distribution files.
It cannot point to web archives, or the FreeBSD distribution files cache sites.
The only exception to this rule is ports that do not have any distribution files.
For example, meta-ports do not have any distribution files, so <code>MASTER_SITES</code> does not need to be set.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=makefile-master_sites-shorthand>5.4.2.1. Using <code>MASTER_SITE_*</code> Variables<a class=anchor href=#makefile-master_sites-shorthand></a></h4><div class=paragraph><p>Shortcut abbreviations are available for popular archives like SourceForge (<code>SOURCEFORGE</code>), GNU (<code>GNU</code>), or Perl CPAN (<code>PERL_CPAN</code>). <code>MASTER_SITES</code> can use them directly:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	GNU/make</pre></div></div><div class=paragraph><p>The older expanded format still works, but all ports have been converted to the compact format.
The expanded format looks like this:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=		${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=	make</pre></div></div><div class=paragraph><p>These values and variables are defined in <a href=https://cgit.freebsd.org/ports/tree/Mk/bsd.sites.mk>Mk/bsd.sites.mk</a>.
New entries are added often, so make sure to check the latest version of this file before submitting a port.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>For any <code>MASTER_SITE_FOO</code> variable, the shorthand <code><em>FOO</em></code> can be used.
For example, use:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	FOO</pre></div></div><div class=paragraph><p>If <code>MASTER_SITE_SUBDIR</code> is needed, use this:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	FOO/bar</pre></div></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Some <code>MASTER_SITE_*</code> names are quite long, and for ease of use, shortcuts have been defined:</p></div><table id=makefile-master_sites-shortcut class="tableblock frame-none grid-all stretch"><caption class=title>Table 3. Shortcuts for <code>MASTER_SITE_*</code> Macros</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Macro</th><th class="tableblock halign-left valign-top">Shortcut</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PERL_CPAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>CPAN</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GITHUB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GITHUB_CLOUD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GHC</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LIBREOFFICE_DEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>LODEV</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NETLIB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>NL</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBYGEMS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>RG</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SOURCEFORGE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>SF</code></p></td></tr></tbody></table></td></tr></tbody></table></div></div><div class=sect3><h4 id=makefile-master_sites-magic>5.4.2.2. Magic MASTER_SITES Macros<a class=anchor href=#makefile-master_sites-magic></a></h4><div class=paragraph><p>Several "magic" macros exist for popular sites with a predictable directory structure.
For these, just use the abbreviation and the system will choose a subdirectory automatically.
For a port named <code>Stardict</code>, of version <code>1.2.3</code>, and hosted on SourceForge, adding this line:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF</pre></div></div><div class=paragraph><p>infers a subdirectory named <code>/project/stardict/stardict/1.2.3</code>.
If the inferred directory is incorrect, it can be overridden:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF/stardict/WyabdcRealPeopleTTS/${PORTVERSION}</pre></div></div><div class=paragraph><p>This can also be written as</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF
MASTER_SITE_SUBDIR=	stardict/WyabdcRealPeopleTTS/${PORTVERSION}</pre></div></div><table id=makefile-master_sites-popular class="tableblock frame-none grid-all stretch"><caption class=title>Table 4. Magic <code>MASTER_SITES</code> Macros</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Macro</th><th class="tableblock halign-left valign-top">Assumed subdirectory</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_COMMONS_BINARIES</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:S,commons-,,}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_COMMONS_SOURCE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:S,commons-,,}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_JAKARTA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:S,-,/,}/source</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BERLIOS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}.berlios</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CHEESESHOP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>source/${DISTNAME:C/(.).*/\1/}/${DISTNAME:C/(.*)-[0-9].*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CPAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:C/-.*//}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>DEBIAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>pool/main/${PORTNAME:C/^((lib)?.).*$/\1/}/${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>FARSIGHT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>FESTIVAL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTREVISION}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GCC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>releases/${DISTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GENTOO</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>distfiles</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GIMP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}/${PORTVERSION:R}/</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${GH_ACCOUNT}/${GH_PROJECT}/tar.gz/${GH_TAGNAME}?dummy=/</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GHC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${GH_ACCOUNT}/${GH_PROJECT}/</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNOME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>sources/${PORTNAME}/${PORTVERSION:C/^(<span class=0-9>\.[0-9]</span>).*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNU</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNUPG</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNU_ALPHA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>HORDE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LODEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MATE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTVERSION:C/^(<span class=0-9>\.[0-9]</span>).*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MOZDEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>archive/qt/${PORTVERSION:R}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SAMBA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SAVANNAH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME:tl}/${PORTNAME:tl}/${PORTVERSION}</code></p></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-master_sites-github>5.4.3. <code>USE_GITHUB</code><a class=anchor href=#makefile-master_sites-github></a></h3><div class=paragraph><p>If the distribution file comes from a specific commit or tag on <a href=https://github.com/>GitHub</a> for which there is no officially released file,
there is an easy way to set the right <code>DISTNAME</code> and <code>MASTER_SITES</code> automatically.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>As of 2023-02-21 <a href=https://github.blog/2023-02-21-update-on-the-future-stability-of-source-code-archives-and-hashes/>GitHub</a> have announced that source downloads will be stable for a year.
Please switch to release assets and if not available ask upstream to generate ones.</p></div></td></tr></tbody></table></div><div class=paragraph><p>These variables are available:</p></div><table id=makefile-master_sites-github-description class="tableblock frame-all grid-all stretch"><caption class=title>Table 5. <code>USE_GITHUB</code> Description</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_ACCOUNT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Account name of the GitHub user hosting the project</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_PROJECT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Name of the project on GitHub</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_TAGNAME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Name of the tag to download (2.0.1, hash, …​) Using the name of a branch here is incorrect. It is also possible to use the hash of a commit id to do a snapshot.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${DISTVERSIONPREFIX}${DISTVERSION}${DISTVERSIONSUFFIX}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_SUBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>When the software needs an additional distribution file to be extracted within
<code>${WRKSRC}</code>, this variable can be used. See the examples in
<a href=../makefiles/#makefile-master_sites-github-multiple>Fetching Multiple Files from GitHub</a> for more information.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(none)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_TUPLE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GH_TUPLE</code> allows putting <code>GH_ACCOUNT</code>, <code>GH_PROJECT</code>, <code>GH_TAGNAME</code>, and <code>GH_SUBDIR</code> into a single variable. The format is <em>account</em>`:`<em>project</em>`:`<em>tagname</em>`:`<em>group</em>`/`<em>subdir</em>. The `/`<em>subdir</em> part is optional. It is helpful when there is more than one GitHub project from which to fetch.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Do not use <code>GH_TUPLE</code> for the default distribution file, as it has no default.</p></div></td></tr></tbody></table></div><div id=makefile-master_sites-github-ex1 class=exampleblock><div class=title>Example 10. Simple Use of <code>USE_GITHUB</code></div><div class=content><div class=paragraph><p>While trying to make a port for version <code>1.2.7</code> of pkg from the FreeBSD user on github, at <a href=https://github.com/freebsd/pkg/ class=bare>https://github.com/freebsd/pkg/</a>, The <span class=filename>Makefile</span> would end up looking like this (slightly stripped for the example):</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	pkg
DISTVERSION=	1.2.7

USE_GITHUB=	yes
GH_ACCOUNT=	freebsd</pre></div></div><div class=paragraph><p>It will automatically have <code>MASTER_SITES</code> set to <code>GH</code> and <code>WRKSRC</code> to <code>${WRKDIR}/pkg-1.2.7</code>.</p></div></div></div><div id=makefile-master_sites-github-ex2 class=exampleblock><div class=title>Example 11. More Complete Use of <code>USE_GITHUB</code></div><div class=content><div class=paragraph><p>While trying to make a port for the bleeding edge version of pkg from the FreeBSD user on github, at <a href=https://github.com/freebsd/pkg/ class=bare>https://github.com/freebsd/pkg/</a>, the <span class=filename>Makefile</span> ends up looking like this (slightly stripped for the example):</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	pkg-devel
DISTVERSION=	1.3.0.a.20140411

USE_GITHUB=	yes
GH_ACCOUNT=	freebsd
GH_PROJECT=	pkg
GH_TAGNAME=	6dbb17b</pre></div></div><div class=paragraph><p>It will automatically have <code>MASTER_SITES</code> set to <code>GH</code> and <code>WRKSRC</code> to <code>${WRKDIR}/pkg-6dbb17b</code>.</p></div><div class=sidebarblock><div class=content><div class=paragraph><p><code>20140411</code> is the date of the commit referenced in <code>GH_TAGNAME</code>, not the date the <span class=filename>Makefile</span> is edited, or the date the commit is made.</p></div></div></div></div></div><div id=makefile-master_sites-github-ex3 class=exampleblock><div class=title>Example 12. Use of <code>USE_GITHUB</code> with <code>DISTVERSIONPREFIX</code></div><div class=content><div class=paragraph><p>From time to time, <code>GH_TAGNAME</code> is a slight variation from <code>DISTVERSION</code>.
For example, if the version is <code>1.0.2</code>, the tag is <code>v1.0.2</code>.
In those cases, it is possible to use <code>DISTVERSIONPREFIX</code> or <code>DISTVERSIONSUFFIX</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSIONPREFIX=	v
DISTVERSION=	1.0.2

USE_GITHUB=	yes</pre></div></div><div class=paragraph><p>It will automatically set <code>GH_TAGNAME</code> to <code>v1.0.2</code>, while <code>WRKSRC</code> will be kept to <code>${WRKDIR}/foo-1.0.2</code>.</p></div></div></div><div id=makefile-master_sites-github-ex4 class=exampleblock><div class=title>Example 13. Using <code>USE_GITHUB</code> When Upstream Does Not Use Versions</div><div class=content><div class=paragraph><p>If there never was a version upstream, do not invent one like <code>0.1</code> or <code>1.0</code>.
Create the port with a <code>DISTVERSION</code> of <code>g<em>YYYYMMDD</em></code>, where <code>g</code> is for Git, and <code><em>YYYYMMDD</em></code> represents the date the commit referenced in <code>GH_TAGNAME</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	bar
DISTVERSION=	g20140411

USE_GITHUB=	yes
GH_TAGNAME=	c472d66b</pre></div></div><div class=paragraph><p>This creates a versioning scheme that increases over time, and that is still
before version <code>0</code> (see <a href=../makefiles/#makefile-versions-ex-pkg-version>Using </a><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version\&amp;sektion=8</a> to Compare Versions&amp;format=html">pkg-version\(8] to Compare Versions)</a> for details on <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> g20140411 0
&lt;</code></pre></div></div><div class=paragraph><p>Which means using <code>PORTEPOCH</code> will not be needed in case upstream decides to cut versions in the future.</p></div></div></div><div id=makefile-master_sites-github-ex5 class=exampleblock><div class=title>Example 14. Using <code>USE_GITHUB</code> to Access a Commit Between Two Versions</div><div class=content><div class=paragraph><p>If the current version of the software uses a Git tag, and the port needs to be updated to a newer, intermediate version, without a tag, use <a href="https://man.freebsd.org/cgi/man.cgi?query=git-describe&amp;sektion=1&amp;format=html">git-describe(1)</a> to find out the version to use:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% git describe <span class=nt>--tags</span> f0038b1
v0.7.3-14-gf0038b1</code></pre></div></div><div class=paragraph><p><code>v0.7.3-14-gf0038b1</code> can be split into three parts:</p></div><div class=dlist><dl><dt class=hdlist1><code>v0.7.3</code></dt><dd><p>This is the last Git tag that appears in the commit history before the requested commit.</p></dd><dt class=hdlist1><code>-14</code></dt><dd><p>This means that the requested commit, <code>f0038b1</code>, is the 14th commit after the <code>v0.7.3</code> tag.</p></dd><dt class=hdlist1><code>-gf0038b1</code></dt><dd><p>The <code>-g</code> means "Git", and the <code>f0038b1</code> is the commit hash that this reference points to.</p></dd></dl></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	bar
DISTVERSIONPREFIX=  v
DISTVERSION=	0.7.3-14
DISTVERSIONSUFFIX=  -gf0038b1

USE_GITHUB=	yes</pre></div></div><div class=paragraph><p>This creates a versioning scheme that increases over time (well, over commits), and does not conflict with the creation of a <code>0.7.4</code> version.
(See <a href=../makefiles/#makefile-versions-ex-pkg-version>Using </a><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version\&amp;sektion=8</a> to Compare Versions&amp;format=html">pkg-version\(8] to Compare Versions)</a> for details on <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-version&amp;sektion=8&amp;format=html">pkg-version(8)</a>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg version <span class=nt>-t</span> 0.7.3 0.7.3.14
&lt;
% pkg version <span class=nt>-t</span> 0.7.3.14 0.7.4
&lt;</code></pre></div></div><div class=sidebarblock><div class=content><div class=paragraph><p>If the requested commit is the same as a tag, a shorter description is shown by default.
The longer version is equivalent:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% git describe <span class=nt>--tags</span> c66c71d
v0.7.3

% git describe <span class=nt>--tags</span> <span class=nt>--long</span> c66c71d
v0.7.3-0-gc66c71d</code></pre></div></div></div></div></div></div><div class=sect3><h4 id=makefile-master_sites-github-multiple>5.4.3.1. Fetching Multiple Files from GitHub<a class=anchor href=#makefile-master_sites-github-multiple></a></h4><div class=paragraph><p>The <code>USE_GITHUB</code> framework also supports fetching multiple distribution files from different places in GitHub.
It works in a way very similar to <a href=../makefiles/#porting-master-sites-n>Multiple Distribution or Patches Files from Multiple Locations</a>.</p></div><div class=paragraph><p>Multiple values are added to <code>GH_ACCOUNT</code>, <code>GH_PROJECT</code>, and <code>GH_TAGNAME</code>.
Each different value is assigned a group.
The main value can either have no group, or the <code>:DEFAULT</code> group.
A value can be omitted if it is the same as the default as listed in
<a href=../makefiles/#makefile-master_sites-github-description><code>USE_GITHUB</code> Description</a>.</p></div><div class=paragraph><p><code>GH_TUPLE</code> can also be used when there are a lot of distribution files.
It helps keep the account, project, tagname, and group information at the same place.</p></div><div class=paragraph><p>For each group, a <code>${WRKSRC_group}</code> helper variable is created, containing the directory into which the file has been extracted.
The <code>${WRKSRC_group}</code> variables can be used to move directories around during <code>post-extract</code>, or add to <code>CONFIGURE_ARGS</code>, or whatever is needed so that the software builds correctly.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class=icon><i class="fa icon-caution" title=Caution></i></td><td class=content><div class=paragraph><p>The <code>:<em>group</em></code> part <em>must</em> be used for <em>only one</em> distribution file.
It is used as a unique key and using it more than once will overwrite the previous values.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>As this is only syntactic sugar above <code>DISTFILES</code> and <code>MASTER_SITES</code>, the group
names must adhere to the restrictions on group names outlined in
<a href=../makefiles/#porting-master-sites-n>Multiple Distribution or Patches Files from Multiple Locations</a></p></div></td></tr></tbody></table></div><div class=paragraph><p>When fetching multiple files from GitHub, sometimes the default distribution file is not fetched from GitHub.
To disable fetching the default distribution, set:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GITHUB=	nodefault</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>When using <code>USE_GITHUB=nodefault</code>, the <span class=filename>Makefile</span> must set <code>DISTFILES</code> in its <a href=../porting-order/#porting-order-portname>top block</a>. The definition should be:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=    ${DISTNAME}${EXTRACT_SUFX}</pre></div></div></td></tr></tbody></table></div><div id=makefile-master_sites-github-multi class=exampleblock><div class=title>Example 15. Use of <code>USE_GITHUB</code> with Multiple Distribution Files</div><div class=content><div class=paragraph><p>From time to time, there is a need to fetch more than one distribution file.
For example, when the upstream git repository uses submodules.
This can be done easily using groups in the <code>GH_*</code> variables:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITHUB=	yes
GH_ACCOUNT=	bar:icons,contrib
GH_PROJECT=	foo-icons:icons foo-contrib:contrib
GH_TAGNAME=	1.0:icons fa579bc:contrib
GH_SUBDIR=	ext/icons:icons

CONFIGURE_ARGS=	--with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>This will fetch three distribution files from github.
The default one comes from <span class=filename>foo/foo</span> and is version <code>1.0.2</code>.
The second one, with the <code>icons</code> group, comes from <span class=filename>bar/foo-icons</span> and is in version <code>1.0</code>.
The third one comes from <span class=filename>bar/foo-contrib</span> and uses the Git commit <code>fa579bc</code>.
The distribution files are named <span class=filename>foo-foo-1.0.2_GH0.tar.gz</span>, <span class=filename>bar-foo-icons-1.0_GH0.tar.gz</span>, and <span class=filename>bar-foo-contrib-fa579bc_GH0.tar.gz</span>.</p></div><div class=paragraph><p>All the distribution files are extracted in <code>${WRKDIR}</code> in their respective subdirectories.
The default file is still extracted in <code>${WRKSRC}</code>, in this case, <span class=filename>${WRKDIR}/foo-1.0.2</span>.
Each additional distribution file is extracted in <code>${WRKSRC_group}</code>.
Here, for the <code>icons</code> group, it is called <code>${WRKSRC_icons}</code> and it contains <span class=filename>${WRKDIR}/foo-icons-1.0</span>.
The file with the <code>contrib</code> group is called <code>${WRKSRC_contrib}</code> and contains <code>${WRKDIR}/foo-contrib-fa579bc</code>.</p></div><div class=paragraph><p>The software’s build system expects to find the icons in a <span class=filename>ext/icons</span> subdirectory in its sources, so <code>GH_SUBDIR</code> is used.
<code>GH_SUBDIR</code> makes sure that <span class=filename>ext</span> exists, but that <span class=filename>ext/icons</span> does not already exist.
Then it does this:</p></div><div class="literalblock programlisting"><div class=content><pre>post-extract:
      @${MV} ${WRKSRC_icons} ${WRKSRC}/ext/icons</pre></div></div></div></div><div id=makefile-master_sites-github-multi2 class=exampleblock><div class=title>Example 16. Use of <code>USE_GITHUB</code> with Multiple Distribution Files Using <code>GH_TUPLE</code></div><div class=content><div class=paragraph><p>This is functionally equivalent to
<a href=../makefiles/#makefile-master_sites-github-multi>Use of <code>USE_GITHUB</code> with Multiple Distribution Files</a>, but using <code>GH_TUPLE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITHUB=	yes
GH_TUPLE=	bar:foo-icons:1.0:icons/ext/icons \
		bar:foo-contrib:fa579bc:contrib

CONFIGURE_ARGS=	--with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>Grouping was used in the previous example with <code>bar:icons,contrib</code>.
Some redundant information is present with <code>GH_TUPLE</code> because grouping is not possible.</p></div></div></div><div id=makefile-master_sites-github-submodules class=exampleblock><div class=title>Example 17. How to Use <code>USE_GITHUB</code> with Git Submodules?</div><div class=content><div class=paragraph><p>Ports with GitHub as an upstream repository sometimes use submodules.
See <a href="https://man.freebsd.org/cgi/man.cgi?query=git-submodule&amp;sektion=1&amp;format=html">git-submodule(1)</a> for more information.</p></div><div class=paragraph><p>The problem with submodules is that each is a separate repository.
As such, they each must be fetched separately.</p></div><div class=paragraph><p>Using <a class=package href=https://cgit.freebsd.org/ports/tree/finance/moneymanagerex/>finance/moneymanagerex</a> as an example, its GitHub repository is <a href=https://github.com/moneymanagerex/moneymanagerex/ class=bare>https://github.com/moneymanagerex/moneymanagerex/</a>.
It has a <a href=https://github.com/moneymanagerex/moneymanagerex/blob/master/.gitmodules>.gitmodules</a> file at the root.
This file describes all the submodules used in this repository, and lists additional repositories needed.
This file will tell what additional repositories are needed:</p></div><div class="literalblock programlisting"><div class=content><pre>[submodule &#34;lib/wxsqlite3&#34;]
	path = lib/wxsqlite3
	url = https://github.com/utelle/wxsqlite3.git
[submodule &#34;3rd/mongoose&#34;]
	path = 3rd/mongoose
	url = https://github.com/cesanta/mongoose.git
[submodule &#34;3rd/LuaGlue&#34;]
	path = 3rd/LuaGlue
	url = https://github.com/moneymanagerex/LuaGlue.git
[submodule &#34;3rd/cgitemplate&#34;]
	path = 3rd/cgitemplate
	url = https://github.com/moneymanagerex/html-template.git
[...]</pre></div></div><div class=paragraph><p>The only information missing from that file is the commit hash or tag to use as a version.
This information is found after cloning the repository:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% git clone <span class=nt>--recurse-submodules</span> https://github.com/moneymanagerex/moneymanagerex.git
Cloning into <span class=s1>&#39;moneymanagerex&#39;</span>...
remote: Counting objects: 32387, <span class=k>done</span><span class=nb>.</span>
<span class=o>[</span>...]
Submodule <span class=s1>&#39;3rd/LuaGlue&#39;</span> <span class=o>(</span>https://github.com/moneymanagerex/LuaGlue.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;3rd/LuaGlue&#39;</span>
Submodule <span class=s1>&#39;3rd/cgitemplate&#39;</span> <span class=o>(</span>https://github.com/moneymanagerex/html-template.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;3rd/cgitemplate&#39;</span>
Submodule <span class=s1>&#39;3rd/mongoose&#39;</span> <span class=o>(</span>https://github.com/cesanta/mongoose.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;3rd/mongoose&#39;</span>
Submodule <span class=s1>&#39;lib/wxsqlite3&#39;</span> <span class=o>(</span>https://github.com/utelle/wxsqlite3.git<span class=o>)</span> registered <span class=k>for </span>path <span class=s1>&#39;lib/wxsqlite3&#39;</span>
<span class=o>[</span>...]
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/3rd/LuaGlue&#39;</span>...
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/3rd/cgitemplate&#39;</span>...
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/3rd/mongoose&#39;</span>...
Cloning into <span class=s1>&#39;/home/mat/work/freebsd/ports/finance/moneymanagerex/moneymanagerex/lib/wxsqlite3&#39;</span>...
<span class=o>[</span>...]
Submodule path <span class=s1>&#39;3rd/LuaGlue&#39;</span>: checked out <span class=s1>&#39;c51d11a247ee4d1e9817dfa2a8da8d9e2f97ae3b&#39;</span>
Submodule path <span class=s1>&#39;3rd/cgitemplate&#39;</span>: checked out <span class=s1>&#39;cd434eeeb35904ebcd3d718ba29c281a649b192c&#39;</span>
Submodule path <span class=s1>&#39;3rd/mongoose&#39;</span>: checked out <span class=s1>&#39;2140e5992ab9a3a9a34ce9a281abf57f00f95cda&#39;</span>
Submodule path <span class=s1>&#39;lib/wxsqlite3&#39;</span>: checked out <span class=s1>&#39;fb66eb230d8aed21dec273b38c7c054dcb7d6b51&#39;</span>
<span class=o>[</span>...]
% <span class=nb>cd </span>moneymanagerex
% git submodule status
 c51d11a247ee4d1e9817dfa2a8da8d9e2f97ae3b 3rd/LuaGlue <span class=o>(</span>heads/master<span class=o>)</span>
 cd434eeeb35904ebcd3d718ba29c281a649b192c 3rd/cgitemplate <span class=o>(</span>cd434ee<span class=o>)</span>
 2140e5992ab9a3a9a34ce9a281abf57f00f95cda 3rd/mongoose <span class=o>(</span>6.2-138-g2140e59<span class=o>)</span>
 fb66eb230d8aed21dec273b38c7c054dcb7d6b51 lib/wxsqlite3 <span class=o>(</span>v3.4.0<span class=o>)</span>
<span class=o>[</span>...]</code></pre></div></div><div class=paragraph><p>It can also be found on GitHub.
Each subdirectory that is a submodule is shown as <code><em>directory @ hash</em></code>, for example, <code>mongoose @ 2140e59</code>.</p></div><div class=sidebarblock><div class=content><div class=paragraph><p>While getting the information from GitHub seems more straightforward, the information found using <code>git submodule status</code> will provide more meaningful information.
For example, here, <code>lib/wxsqlite3</code>'s commit hash <code>fb66eb2</code> correspond to <code>v3.4.0</code>.
Both can be used interchangeably, but when a tag is available, use it.</p></div></div></div><div class=paragraph><p>Now that all the required information has been gathered, the <span class=filename>Makefile</span> can be written (only GitHub-related lines are shown):</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	moneymanagerex
DISTVERSIONPREFIX=	v
DISTVERSION=	1.3.0

USE_GITHUB=	yes
GH_TUPLE=	utelle:wxsqlite3:v3.4.0:wxsqlite3/lib/wxsqlite3 \
		moneymanagerex:LuaGlue:c51d11a:lua_glue/3rd/LuaGlue \
		moneymanagerex:html-template:cd434ee:html_template/3rd/cgitemplate \
		cesanta:mongoose:2140e59:mongoose/3rd/mongoose \
		[...]</pre></div></div></div></div></div></div><div class=sect2><h3 id=makefile-master_sites-gitlab>5.4.4. <code>USE_GITLAB</code><a class=anchor href=#makefile-master_sites-gitlab></a></h3><div class=paragraph><p>Similar to GitHub, if the distribution file comes from <a href=https://gitlab.com/>gitlab.com</a> or is hosting the GitLab software, these variables are available for use and might need to be set.</p></div><table id=makefile-master_sites-gitlab-description class="tableblock frame-all grid-all stretch"><caption class=title>Table 6. <code>USE_GITLAB</code> Description</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_SITE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Site name hosting the GitLab project</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://gitlab.com/ class=bare>https://gitlab.com/</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_ACCOUNT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Account name of the GitLab user hosting the project</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_PROJECT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Name of the project on GitLab</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_COMMIT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The commit hash to download. Must be the full 160 bit, 40 character hex sha1 hash. This is a required variable for GitLab.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>(none)</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_SUBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>When the software needs an additional distribution file to be extracted within
<code>${WRKSRC}</code>, this variable can be used. See the examples in
<a href=../makefiles/#makefile-master_sites-gitlab-multiple>Fetching Multiple Files from GitLab</a> for more information.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(none)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_TUPLE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GL_TUPLE</code> allows putting <code>GL_SITE</code>, <code>GL_ACCOUNT</code>, <code>GL_PROJECT</code>, <code>GL_COMMIT</code>, and <code>GL_SUBDIR</code> into a single variable. The format is <em>site</em>`:`<em>account</em>`:`<em>project</em>`:`<em>commit</em>`:`<em>group</em>`/<code><em>subdir</em>. The <em>site</em></code>:` and `/`<em>subdir</em> part is optional. It is helpful when there are more than one GitLab project from which to fetch.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table><div id=makefile-master_sites-gitlab-ex1 class=exampleblock><div class=title>Example 18. Simple Use of <code>USE_GITLAB</code></div><div class=content><div class=paragraph><p>While trying to make a port for version <code>1.14</code> of libsignon-glib from the accounts-sso user on gitlab.com, at <a href=https://gitlab.com/accounts-sso/libsignon-glib/ class=bare>https://gitlab.com/accounts-sso/libsignon-glib/</a>, The <span class=filename>Makefile</span> would end up looking like this for fetching the distribution files:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	libsignon-glib
DISTVERSION=	1.14

USE_GITLAB=	yes
GL_ACCOUNT=	accounts-sso
GL_COMMIT=	e90302e342bfd27bc8c9132ab9d0ea3d8723fd03</pre></div></div><div class=paragraph><p>It will automatically have <code>MASTER_SITES</code> set to <a href=https://gitlab.com/>gitlab.com</a> and <code>WRKSRC</code> to <code>${WRKDIR}/libsignon-glib-e90302e342bfd27bc8c9132ab9d0ea3d8723fd03-e90302e342bfd27bc8c9132ab9d0ea3d8723fd03</code>.</p></div></div></div><div id=makefile-master_sites-gitlab-ex2 class=exampleblock><div class=title>Example 19. More Complete Use of <code>USE_GITLAB</code></div><div class=content><div class=paragraph><p>A more complete use of the above if port had no versioning and foobar from the foo user on project bar on a self hosted GitLab site <code><a href=https://gitlab.example.com/ class=bare>https://gitlab.example.com/</a></code>, the <span class=filename>Makefile</span> ends up looking like this for fetching distribution files:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foobar
DISTVERSION=	g20170906

USE_GITLAB=	yes
GL_SITE=	https://gitlab.example.com
GL_ACCOUNT=	foo
GL_PROJECT=	bar
GL_COMMIT=	9c1669ce60c3f4f5eb43df874d7314483fb3f8a6</pre></div></div><div class=paragraph><p>It will have <code>MASTER_SITES</code> set to <code>"https://gitlab.example.com"</code> and <code>WRKSRC</code> to <code>${WRKDIR}/bar-9c1669ce60c3f4f5eb43df874d7314483fb3f8a6-9c1669ce60c3f4f5eb43df874d7314483fb3f8a6</code>.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p><code>20170906</code> is the date of the commit referenced in <code>GL_COMMIT</code>, not the date the <span class=filename>Makefile</span> is edited, or the date the commit to the FreeBSD ports tree is made.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>GL_SITE</code>'s protocol, port and webroot can all be modified in the same variable.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=makefile-master_sites-gitlab-multiple>5.4.4.1. Fetching Multiple Files from GitLab<a class=anchor href=#makefile-master_sites-gitlab-multiple></a></h4><div class=paragraph><p>The <code>USE_GITLAB</code> framework also supports fetching multiple distribution files from different places from GitLab and GitLab hosted sites.
It works in a way very similar to <a href=../makefiles/#porting-master-sites-n>Multiple Distribution or Patches Files from Multiple Locations</a> and
<a href=../makefiles/#makefile-master_sites-gitlab-multiple>Fetching Multiple Files from GitLab</a>.</p></div><div class=paragraph><p>Multiple values are added to <code>GL_SITE</code>, <code>GL_ACCOUNT</code>, <code>GL_PROJECT</code> and <code>GL_COMMIT</code>.
Each different value is assigned a group.
<a href=../makefiles/#makefile-master_sites-gitlab-description><code>USE_GITLAB</code> Description</a>.</p></div><div class=paragraph><p><code>GL_TUPLE</code> can also be used when there are a lot of distribution files.
It helps keep the site, account, project, commit, and group information at the same place.</p></div><div class=paragraph><p>For each group, a <code>${WRKSRC_group}</code> helper variable is created, containing the directory into which the file has been extracted.
The <code>${WRKSRC_group}</code> variables can be used to move directories around during <code>post-extract</code>, or add to <code>CONFIGURE_ARGS</code>, or whatever is needed so that the software builds correctly.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class=icon><i class="fa icon-caution" title=Caution></i></td><td class=content><div class=paragraph><p>The <code>:<em>group</em></code> part <em>must</em> be used for <em>only one</em> distribution file.
It is used as a unique key and using it more than once will overwrite the previous values.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>As this is only syntactic sugar above <code>DISTFILES</code> and <code>MASTER_SITES</code>, the group
names must adhere to the restrictions on group names outlined in
<a href=../makefiles/#porting-master-sites-n>Multiple Distribution or Patches Files from Multiple Locations</a></p></div></td></tr></tbody></table></div><div class=paragraph><p>When fetching multiple files using GitLab, sometimes the default distribution file is not fetched from a GitLab site.
To disable fetching the default distribution, set:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GITLAB=	nodefault</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>When using <code>USE_GITLAB=nodefault</code>, the <span class=filename>Makefile</span> must set
<code>DISTFILES</code> in its <a href=../makefiles/#porting-order-portname>top block</a>.
The definition should be:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=    ${DISTNAME}${EXTRACT_SUFX}</pre></div></div></td></tr></tbody></table></div><div id=makefile-master_sites-gitlab-multi class=exampleblock><div class=title>Example 20. Use of <code>USE_GITLAB</code> with Multiple Distribution Files</div><div class=content><div class=paragraph><p>From time to time, there is a need to fetch more than one distribution file.
For example, when the upstream git repository uses submodules.
This can be done easily using groups in the <code>GL_*</code> variables:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITLAB=	yes
GL_SITE=	https://gitlab.example.com:9434/gitlab:icons
GL_ACCOUNT=	bar:icons,contrib
GL_PROJECT=	foo-icons:icons foo-contrib:contrib
GL_COMMIT=	c189207a55da45305c884fe2b50e086fcad4724b ae7368cab1ca7ca754b38d49da064df87968ffe4:icons 9e4dd76ad9b38f33fdb417a4c01935958d5acd2a:contrib
GL_SUBDIR=	ext/icons:icons

CONFIGURE_ARGS= --with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>This will fetch two distribution files from gitlab.com and one from <code>gitlab.example.com</code> hosting GitLab.
The default one comes from <span class=filename><a href=https://gitlab.com/foo/foo class=bare>https://gitlab.com/foo/foo</a></span> and commit is <code>c189207a55da45305c884fe2b50e086fcad4724b</code>.
The second one, with the <code>icons</code> group, comes from <span class=filename><a href=https://gitlab.example.com:9434/gitlab/bar/foo-icons class=bare>https://gitlab.example.com:9434/gitlab/bar/foo-icons</a></span> and commit is <code>ae7368cab1ca7ca754b38d49da064df87968ffe4</code>.
The third one comes from <span class=filename><a href=https://gitlab.com/bar/foo-contrib class=bare>https://gitlab.com/bar/foo-contrib</a></span> and is commit <code>9e4dd76ad9b38f33fdb417a4c01935958d5acd2a</code>.
The distribution files are named <span class=filename>foo-foo-c189207a55da45305c884fe2b50e086fcad4724b_GL0.tar.gz</span>, <span class=filename>bar-foo-icons-ae7368cab1ca7ca754b38d49da064df87968ffe4_GL0.tar.gz</span>, and <span class=filename>bar-foo-contrib-9e4dd76ad9b38f33fdb417a4c01935958d5acd2a_GL0.tar.gz</span>.</p></div><div class=paragraph><p>All the distribution files are extracted in <code>${WRKDIR}</code> in their respective subdirectories.
The default file is still extracted in <code>${WRKSRC}</code>, in this case, <span class=filename>${WRKDIR}/foo-c189207a55da45305c884fe2b50e086fcad4724b-c189207a55da45305c884fe2b50e086fcad4724b</span>.
Each additional distribution file is extracted in <code>${WRKSRC_group}</code>.
Here, for the <code>icons</code> group, it is called <code>${WRKSRC_icons}</code> and it contains <span class=filename>${WRKDIR}/foo-icons-ae7368cab1ca7ca754b38d49da064df87968ffe4-ae7368cab1ca7ca754b38d49da064df87968ffe4</span>.
The file with the <code>contrib</code> group is called <code>${WRKSRC_contrib}</code> and contains <code>${WRKDIR}/foo-contrib-9e4dd76ad9b38f33fdb417a4c01935958d5acd2a-9e4dd76ad9b38f33fdb417a4c01935958d5acd2a</code>.</p></div><div class=paragraph><p>The software’s build system expects to find the icons in a <span class=filename>ext/icons</span> subdirectory in its sources, so <code>GL_SUBDIR</code> is used.
<code>GL_SUBDIR</code> makes sure that <span class=filename>ext</span> exists, but that <span class=filename>ext/icons</span> does not already exist.
Then it does this:</p></div><div class="literalblock programlisting"><div class=content><pre>post-extract:
        @${MV} ${WRKSRC_icons} ${WRKSRC}/ext/icons</pre></div></div></div></div><div id=makefile-master_sites-gitlab-multi2 class=exampleblock><div class=title>Example 21. Use of <code>USE_GITLAB</code> with Multiple Distribution Files Using <code>GL_TUPLE</code></div><div class=content><div class=paragraph><p>This is functionally equivalent to
<a href=../makefiles/#makefile-master_sites-gitlab-multi>Use of <code>USE_GITLAB</code> with Multiple Distribution Files</a>, but using <code>GL_TUPLE</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0.2

USE_GITLAB=	yes
GL_COMMIT=	c189207a55da45305c884fe2b50e086fcad4724b
GL_TUPLE=	https://gitlab.example.com:9434/gitlab:bar:foo-icons:ae7368cab1ca7ca754b38d49da064df87968ffe4:icons/ext/icons \
		bar:foo-contrib:9e4dd76ad9b38f33fdb417a4c01935958d5acd2a:contrib

CONFIGURE_ARGS= --with-contrib=${WRKSRC_contrib}</pre></div></div><div class=paragraph><p>Grouping was used in the previous example with <code>bar:icons,contrib</code>.
Some redundant information is present with <code>GL_TUPLE</code> because grouping is not possible.</p></div></div></div></div></div><div class=sect2><h3 id=makefile-extract_sufx>5.4.5. <code>EXTRACT_SUFX</code><a class=anchor href=#makefile-extract_sufx></a></h3><div class=paragraph><p>If there is one distribution file, and it uses an odd suffix to indicate the compression mechanism, set <code>EXTRACT_SUFX</code>.</p></div><div class=paragraph><p>For example, if the distribution file was named <span class=filename>foo.tar.gzip</span> instead of the more normal <span class=filename>foo.tar.gz</span>, write:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTNAME=	foo
EXTRACT_SUFX=	.tar.gzip</pre></div></div><div class=paragraph><p>The <code>USES=tar[:<em>xxx</em>]</code>, <code>USES=lha</code> or <code>USES=zip</code> automatically set <code>EXTRACT_SUFX</code> to the most common archives extensions as necessary, see <a href=../uses/#uses>Using <code>USES</code> Macros</a> for more details.
If neither of these are set then <code>EXTRACT_SUFX</code> defaults to <code>.tar.gz</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>As <code>EXTRACT_SUFX</code> is only used in <code>DISTFILES</code>, only set one of them..</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-distfiles-definition>5.4.6. <code>DISTFILES</code><a class=anchor href=#makefile-distfiles-definition></a></h3><div class=paragraph><p>Sometimes the names of the files to be downloaded have no resemblance to the name of the port.
For example, it might be called <span class=filename>source.tar.gz</span> or similar.
In other cases the application’s source code might be in several different archives, all of which must be downloaded.</p></div><div class=paragraph><p>If this is the case, set <code>DISTFILES</code> to be a space separated list of all the files that must be downloaded.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=	source1.tar.gz source2.tar.gz</pre></div></div><div class=paragraph><p>If not explicitly set, <code>DISTFILES</code> defaults to <code>${DISTNAME}${EXTRACT_SUFX}</code>.</p></div></div><div class=sect2><h3 id=makefile-extract_only>5.4.7. <code>EXTRACT_ONLY</code><a class=anchor href=#makefile-extract_only></a></h3><div class=paragraph><p>If only some of the <code>DISTFILES</code> must be extracted-for example, one of them is the source code, while another is an uncompressed document-list the filenames that must be extracted in <code>EXTRACT_ONLY</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=	source.tar.gz manual.html
EXTRACT_ONLY=	source.tar.gz</pre></div></div><div class=paragraph><p>When none of the <code>DISTFILES</code> need to be uncompressed, set <code>EXTRACT_ONLY</code> to the empty string.</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_ONLY=</pre></div></div></div><div class=sect2><h3 id=porting-patchfiles>5.4.8. <code>PATCHFILES</code><a class=anchor href=#porting-patchfiles></a></h3><div class=paragraph><p>If the port requires some additional patches that are available by FTP or HTTP, set <code>PATCHFILES</code> to the names of the files and <code>PATCH_SITES</code> to the URL of the directory that contains them (the format is the same as <code>MASTER_SITES</code>).</p></div><div class=paragraph><p>If the patch is not relative to the top of the source tree (that is, <code>WRKSRC</code>) because it contains some extra pathnames, set <code>PATCH_DIST_STRIP</code> accordingly.
For instance, if all the pathnames in the patch have an extra <code>foozolix-1.0/</code> in front of the filenames, then set <code>PATCH_DIST_STRIP=-p1</code>.</p></div><div class=paragraph><p>Do not worry if the patches are compressed; they will be decompressed automatically if the filenames end with <span class=filename>.Z</span>, <span class=filename>.gz</span>, <span class=filename>.bz2</span> or <span class=filename>.xz</span>.</p></div><div class=paragraph><p>If the patch is distributed with some other files, such as documentation, in a compressed tarball, using <code>PATCHFILES</code> is not possible.
If that is the case, add the name and the location of the patch tarball to <code>DISTFILES</code> and <code>MASTER_SITES</code>.
Then, use <code>EXTRA_PATCHES</code> to point to those files and <span class=filename>bsd.port.mk</span> will automatically apply them.
In particular, do <em>not</em> copy patch files into <span class=filename>${PATCHDIR}</span>.
That directory may not be writable.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>If there are multiple patches and they need mixed values for the strip parameter, it can be added alongside the patch name in <code>PATCHFILES</code>, e.g:</p></div><div class="literalblock programlisting"><div class=content><pre>PATCHFILES=	patch1 patch2:-p1</pre></div></div><div class=paragraph><p>This does not conflict with <a href=../makefiles/#porting-master-sites-n>the master site grouping feature</a>, adding a group also works:</p></div><div class="literalblock programlisting"><div class=content><pre>PATCHFILES=	patch2:-p1:source2</pre></div></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>The tarball will have been extracted alongside the regular source by then, so there is no need to explicitly extract it if it is a regular compressed tarball. Take extra care not to overwrite something that already exists in that directory if extracting it manually.
Also, do not forget to add a command to remove the copied patch in the <code>pre-clean</code> target.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=porting-master-sites-n>5.4.9. Multiple Distribution or Patches Files from Multiple Locations<a class=anchor href=#porting-master-sites-n></a></h3><div class=paragraph><p>(Consider this to be a somewhat "advanced topic"; those new to this document may wish to skip this section at first).</p></div><div class=paragraph><p>This section has information on the fetching mechanism known as both <code>MASTER_SITES:n</code> and <code>MASTER_SITES_NN</code>.
We will refer to this mechanism as <code>MASTER_SITES:n</code>.</p></div><div class=paragraph><p>A little background first.
OpenBSD has a neat feature inside <code>DISTFILES</code> and <code>PATCHFILES</code> which allows files and patches to be postfixed with <code>:n</code> identifiers.
Here, <code>n</code> can be any word containing <code>[0-9a-zA-Z_]</code> and denote a group designation.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=	alpha:0 beta:1</pre></div></div><div class=paragraph><p>In OpenBSD, distribution file <span class=filename>alpha</span> will be associated with variable <code>MASTER_SITES0</code> instead of our common <code>MASTER_SITES</code> and <span class=filename>beta</span> with <code>MASTER_SITES1</code>.</p></div><div class=paragraph><p>This is a very interesting feature which can decrease that endless search for the correct download site.</p></div><div class=paragraph><p>Just picture 2 files in <code>DISTFILES</code> and 20 sites in <code>MASTER_SITES</code>, the sites slow as hell where <span class=filename>beta</span> is carried by all sites in <code>MASTER_SITES</code>, and <span class=filename>alpha</span> can only be found in the 20th site.
It would be such a waste to check all of them if the maintainer knew this beforehand, would it not? Not a good start for that lovely weekend!</p></div><div class=paragraph><p>Now that you have the idea, just imagine more <code>DISTFILES</code> and more <code>MASTER_SITES</code>.
Surely our "distfiles survey meister" would appreciate the relief to network strain that this would bring.</p></div><div class=paragraph><p>In the next sections, information will follow on the FreeBSD implementation of this idea.
We improved a bit on OpenBSD’s concept.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>The group names cannot have dashes in them (<code>-</code>), in fact, they cannot have any characters out of the <code>[a-zA-Z0-9_]</code> range.
This is because, while <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> is ok with variable names containing dashes, <a href="https://man.freebsd.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;format=html">sh(1)</a> is not.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=porting-master-sites-n-simplified>5.4.9.1. Simplified Information<a class=anchor href=#porting-master-sites-n-simplified></a></h4><div class=paragraph><p>This section explains how to quickly prepare fine grained fetching of multiple distribution files and patches from different sites and subdirectories.
We describe here a case of simplified <code>MASTER_SITES:n</code> usage.
This will be sufficient for most scenarios.
More detailed information are available in
<a href=../makefiles/#ports-master-sites-n-detailed>Detailed Information</a>.</p></div><div class=paragraph><p>Some applications consist of multiple distribution files that must be downloaded from a number of different sites.
For example, Ghostscript consists of the core of the program, and then a large number of driver files that are used depending on the user’s printer.
Some of these driver files are supplied with the core, but many others must be downloaded from a variety of different sites.</p></div><div class=paragraph><p>To support this, each entry in <code>DISTFILES</code> may be followed by a colon and a "group name".
Each site listed in <code>MASTER_SITES</code> is then followed by a colon, and the group that indicates which distribution files are downloaded from this site.</p></div><div class=paragraph><p>For example, consider an application with the source split in two parts, <span class=filename>source1.tar.gz</span> and <span class=filename>source2.tar.gz</span>, which must be downloaded from two different sites.
The port’s <span class=filename>Makefile</span> would include lines like
<a href=../makefiles/#ports-master-sites-n-example-simple-use-one-file-per-site>Simplified Use of <code>MASTER_SITES:n</code> with One File Per Site</a>.</p></div><div id=ports-master-sites-n-example-simple-use-one-file-per-site class=exampleblock><div class=title>Example 22. Simplified Use of <code>MASTER_SITES:n</code> with One File Per Site</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	ftp://ftp1.example.com/:source1 \
		http://www.example.com/:source2
DISTFILES=	source1.tar.gz:source1 \
		source2.tar.gz:source2</pre></div></div></div></div><div class=paragraph><p>Multiple distribution files can have the same group.
Continuing the previous example, suppose that there was a third distfile, <span class=filename>source3.tar.gz</span>, that is downloaded from <code>ftp.example2.com</code>.
The <span class=filename>Makefile</span> would then be written like
<a href=../makefiles/#ports-master-sites-n-example-simple-use-more-than-one-file-per-site>Simplified Use of <code>MASTER_SITES:n</code> with More Than One File Per Site</a>.</p></div><div id=ports-master-sites-n-example-simple-use-more-than-one-file-per-site class=exampleblock><div class=title>Example 23. Simplified Use of <code>MASTER_SITES:n</code> with More Than One File Per Site</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	ftp://ftp.example.com/:source1 \
		http://www.example.com/:source2
DISTFILES=	source1.tar.gz:source1 \
		source2.tar.gz:source2 \
		source3.tar.gz:source2</pre></div></div></div></div></div><div class=sect3><h4 id=ports-master-sites-n-detailed>5.4.9.2. Detailed Information<a class=anchor href=#ports-master-sites-n-detailed></a></h4><div class=paragraph><p>Okay, so the previous example did not reflect the new port’s needs? In this section we will explain in detail how the fine grained fetching mechanism <code>MASTER_SITES:n</code> works and how it can be used.</p></div><div class="olist arabic"><ol class=arabic><li><p>Elements can be postfixed with <code>:<em>n</em></code> where <em>n</em> is <code><span class=^:>`, that is, _n_ could conceptually be any alphanumeric string but we will limit it to `[a-zA-Z_][0-9a-zA-Z_]</span></code> for now.</p><div class=paragraph><p>Moreover, string matching is case sensitive; that is, <code>n</code> is different from <code>N</code>.</p></div><div class=paragraph><p>However, these words cannot be used for postfixing purposes since they yield
special meaning: <code>default</code>, <code>all</code> and <code>ALL</code> (they are used internally in item
<a href=../makefiles/#porting-master-sites-n-what-changes-in-port-targets>ii</a>).
Furthermore, <code>DEFAULT</code> is a special purpose word (check item
<a href=../makefiles/#porting-master-sites-n-DEFAULT-group>3</a>).</p></div></li><li><p>Elements postfixed with <code>:n</code> belong to the group <code>n</code>, <code>:m</code> belong to group <code>m</code> and so forth.</p></li><li><p>Elements without a postfix are groupless, they all belong to the special group
<code>DEFAULT</code>. Any elements postfixed with <code>DEFAULT</code>, is just being redundant
unless an element belongs to both <code>DEFAULT</code> and other groups at the same time
(check item <a href=../makefiles/#porting-master-sites-n-comma-operator>5</a>).</p><div class=paragraph><p>These examples are equivalent but the first one is preferred:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:DEFAULT</pre></div></div></li><li><p>Groups are not exclusive, an element may belong to several different groups at the same time and a group can either have either several different elements or none at all.</p></li><li><p>When an element belongs to several groups at the same time, use the comma operator (<code>,</code>).</p><div class=paragraph><p>Instead of repeating it several times, each time with a different postfix, we can list several groups at once in a single postfix.
For instance, <code>:m,n,o</code> marks an element that belongs to group <code>m</code>, <code>n</code> and <code>o</code>.</p></div><div class=paragraph><p>All these examples are equivalent but the last one is preferred:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha alpha:SOME_SITE</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:DEFAULT alpha:SOME_SITE</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:SOME_SITE,DEFAULT</pre></div></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	alpha:DEFAULT,SOME_SITE</pre></div></div></li><li><p>All sites within a given group are sorted according to <code>MASTER_SORT_AWK</code>. All groups within <code>MASTER_SITES</code> and <code>PATCH_SITES</code> are sorted as well.</p></li><li><p>Group semantics can be used in any of the variables <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code>, <code>PATCH_SITE_SUBDIR</code>, <code>DISTFILES</code>, and <code>PATCHFILES</code> according to this syntax:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>All <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code> and
<code>PATCH_SITE_SUBDIR</code> elements must be terminated with the forward slash <code>/</code>
character. If any elements belong to any groups, the group postfix <code>:<em>n</em></code>
must come right after the terminator <code>/</code>. The <code>MASTER_SITES:n</code> mechanism
relies on the existence of the terminator <code>/</code> to avoid confusing elements
where a <code>:n</code> is a valid part of the element with occurrences where <code>:n</code>
denotes group <code>n</code>. For compatibility purposes, since the <code>/</code> terminator was
not required before in both <code>MASTER_SITE_SUBDIR</code> and <code>PATCH_SITE_SUBDIR</code>
elements, if the postfix immediate preceding character is not a <code>/</code> then <code>:n</code>
will be considered a valid part of the element instead of a group postfix
even if an element is postfixed with <code>:n</code>. See both
<a href=../makefiles/#ports-master-sites-n-example-detailed-use-master-site-subdir>Detailed Use of <code>MASTER_SITES:n</code> in <code>MASTER_SITE_SUBDIR</code></a>
and
<a href=../makefiles/#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Detailed Use of <code>MASTER_SITES:n</code> with Comma Operator</a>.</p><div id=ports-master-sites-n-example-detailed-use-master-site-subdir class=exampleblock><div class=title>Example 24. Detailed Use of <code>MASTER_SITES:n</code> in <code>MASTER_SITE_SUBDIR</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITE_SUBDIR=	old:n new/:NEW</pre></div></div><div class=ulist><ul><li><p>Directories within group <code>DEFAULT</code> → old:n</p></li><li><p>Directories within group <code>NEW</code> → new</p></li></ul></div></div></div><div id=ports-master-sites-n-example-detailed-use-complete-example-master-sites class=exampleblock><div class=title>Example 25. Detailed Use of <code>MASTER_SITES:n</code> with Comma Operator, Multiple Files, Multiple Sites and Multiple Subdirectories</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	http://site1/%SUBDIR%/ http://site2/:DEFAULT \
		http://site3/:group3 http://site4/:group4 \
		http://site5/:group5 http://site6/:group6 \
		http://site7/:DEFAULT,group6 \
		http://site8/%SUBDIR%/:group6,group7 \
		http://site9/:group8
DISTFILES=	file1 file2:DEFAULT file3:group3 \
		file4:group4,group5,group6 file5:grouping \
		file6:group7
MASTER_SITE_SUBDIR=	directory-trial:1 directory-n/:groupn \
		directory-one/:group6,DEFAULT \
		directory</pre></div></div><div class=paragraph><p>The previous example results in this fine grained fetching.
Sites are listed in the exact order they will be used.</p></div><div class=ulist><ul><li><p><span class=filename>file1</span> will be fetched from</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file2</span> will be fetched exactly as <span class=filename>file1</span> since they both belong to the same group</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file3</span> will be fetched from</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site3/ class=bare>http://site3/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file4</span> will be fetched from</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site4/ class=bare>http://site4/</a></p></li><li><p><a href=http://site5/ class=bare>http://site5/</a></p></li><li><p><a href=http://site6/ class=bare>http://site6/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><a href=http://site8/directory-one/ class=bare>http://site8/directory-one/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file5</span> will be fetched from</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file6</span> will be fetched from</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site8/ class=bare>http://site8/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li></ul></div></div></div></li></ol></div></li><li><p>How do I group one of the special macros from <span class=filename>bsd.sites.mk</span>, for example, SourceForge (<code>SF</code>)?</p><div class=paragraph><p>This has been simplified as much as possible.
See
<a href=../makefiles/#ports-master-sites-n-example-detailed-use-master-site-sourceforge>Detailed Use of <code>MASTER_SITES:n</code> with SourceForge (<code>SF</code>)</a>.</p></div><div id=ports-master-sites-n-example-detailed-use-master-site-sourceforge class=exampleblock><div class=title>Example 26. Detailed Use of <code>MASTER_SITES:n</code> with SourceForge (<code>SF</code>)</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	http://site1/ SF/something/1.0:sourceforge,TEST
DISTFILES=	something.tar.gz:sourceforge</pre></div></div><div class=paragraph><p><span class=filename>something.tar.gz</span> will be fetched from all sites within SourceForge.</p></div></div></div></li><li><p>How do I use this with <code>PATCH*</code>?</p><div class=paragraph><p>All examples were done with <code>MASTER*</code> but they work exactly the same for
<code>PATCH*</code> ones as can be seen in
<a href=../makefiles/#ports-master-sites-n-example-detailed-use-patch-sites>Simplified Use of <code>MASTER_SITES:n</code> with <code>PATCH_SITES</code></a>.</p></div><div id=ports-master-sites-n-example-detailed-use-patch-sites class=exampleblock><div class=title>Example 27. Simplified Use of <code>MASTER_SITES:n</code> with <code>PATCH_SITES</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>PATCH_SITES=	http://site1/ http://site2/:test
PATCHFILES=	patch1:test</pre></div></div></div></div></li></ol></div></div><div class=sect3><h4 id=port-master-sites-n-what-changed>5.4.9.3. What Does Change for Ports? What Does Not?<a class=anchor href=#port-master-sites-n-what-changed></a></h4><div class="olist lowerroman"><ol class=lowerroman type=i><li><p>All current ports remain the same. The <code>MASTER_SITES:n</code> feature code is only
activated if there are elements postfixed with <code>:<em>n</em></code> like elements
according to the aforementioned syntax rules, especially as shown in item
<a href=../makefiles/#porting-master-sites-n-group-semantics>7</a>.</p></li><li><p>The port targets remain the same: <code>checksum</code>, <code>makesum</code>, <code>patch</code>, <code>configure</code>, <code>build</code>, etc. With the obvious exceptions of <code>do-fetch</code>, <code>fetch-list</code>, <code>master-sites</code> and <code>patch-sites</code>.</p><div class=ulist><ul><li><p><code>do-fetch</code>: deploys the new grouping postfixed <code>DISTFILES</code> and <code>PATCHFILES</code>
with their matching group elements within both <code>MASTER_SITES</code> and
<code>PATCH_SITES</code> which use matching group elements within both
<code>MASTER_SITE_SUBDIR</code> and <code>PATCH_SITE_SUBDIR</code>. Check
<a href=../makefiles/#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Detailed Use of <code>MASTER_SITES:n</code> with Comma Operator</a>.</p></li><li><p><code>fetch-list</code>: works like old <code>fetch-list</code> with the exception that it groups just like <code>do-fetch</code>.</p></li><li><p><code>master-sites</code> and <code>patch-sites</code>: (incompatible with older versions) only return the elements of group <code>DEFAULT</code>; in fact, they execute targets <code>master-sites-default</code> and <code>patch-sites-default</code> respectively.</p><div class=paragraph><p>Furthermore, using target either <code>master-sites-all</code> or <code>patch-sites-all</code> is preferred to directly checking either <code>MASTER_SITES</code> or <code>PATCH_SITES</code>.
Also, directly checking is not guaranteed to work in any future versions.
Check item
<a href=../makefiles/#porting-master-sites-n-new-port-targets-master-sites-all>B</a> for more information on these new port targets.</p></div></li></ul></div></li><li><p>New port targets</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>There are <code>master-sites-<em>n</em></code> and <code>patch-sites-<em>n</em></code> targets which will list the elements of the respective group <em>n</em> within <code>MASTER_SITES</code> and <code>PATCH_SITES</code> respectively. For instance, both <code>master-sites-DEFAULT</code> and <code>patch-sites-DEFAULT</code> will return the elements of group <code>DEFAULT</code>, <code>master-sites-test</code> and <code>patch-sites-test</code> of group <code>test</code>, and thereon.</p></li><li><p>There are new targets <code>master-sites-all</code> and <code>patch-sites-all</code> which do the work of the old <code>master-sites</code> and <code>patch-sites</code> ones. They return the elements of all groups as if they all belonged to the same group with the caveat that it lists as many <code>MASTER_SITE_BACKUP</code> and <code>MASTER_SITE_OVERRIDE</code> as there are groups defined within either <code>DISTFILES</code> or <code>PATCHFILES</code>; respectively for <code>master-sites-all</code> and <code>patch-sites-all</code>.</p></li></ol></div></li></ol></div></div></div><div class=sect2><h3 id=makefile-dist_subdir>5.4.10. <code>DIST_SUBDIR</code><a class=anchor href=#makefile-dist_subdir></a></h3><div class=paragraph><p>Do not let the port clutter <span class=filename>/usr/ports/distfiles</span>.
If the port requires a lot of files to be fetched, or contains a file that has a name that might conflict with other ports (for example, <span class=filename>Makefile</span>), set <code>DIST_SUBDIR</code> to the name of the port (<code>${PORTNAME}</code> or <code>${PKGNAMEPREFIX}${PORTNAME}</code> are fine).
This will change <code>DISTDIR</code> from the default <span class=filename>/usr/ports/distfiles</span> to <span class=filename>/usr/ports/distfiles/${DIST_SUBDIR}</span>, and in effect puts everything that is required for the port into that subdirectory.</p></div><div class=paragraph><p>It will also look at the subdirectory with the same name on the backup master site at <a href=http://distcache.FreeBSD.org>http://distcache.FreeBSD.org</a> (Setting <code>DISTDIR</code> explicitly in <span class=filename>Makefile</span> will not accomplish this, so please use <code>DIST_SUBDIR</code>.)</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>This does not affect <code>MASTER_SITES</code> defined in the <span class=filename>Makefile</span>.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=makefile-maintainer>5.5. <code>MAINTAINER</code><a class=anchor href=#makefile-maintainer></a></h2><div class=sectionbody><div class=paragraph><p>Set your mail-address here. Please. <em>:-)</em></p></div><div class=paragraph><p>Only a single address without the comment part is allowed as a <code>MAINTAINER</code> value.
The format used is <code>user@hostname.domain</code>.
Please do not include any descriptive text such as a real name in this entry.
That merely confuses the Ports infrastructure and most tools using it.</p></div><div class=paragraph><p>The maintainer is responsible for keeping the port up to date and making sure that it works correctly.
For a detailed description of the responsibilities of a port maintainer, refer to <a href=https://docs.freebsd.org/en/articles/contributing/#maintain-port>The challenge for port maintainers</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A maintainer volunteers to keep a port in good working order.
Maintainers have the primary responsibility for their ports, but not exclusive ownership.
Ports exist for the benefit of the community and, in reality, belong to the community.
What this means is that people other than the maintainer can make changes to a port.
Large changes to the Ports Collection might require changes to many ports.
The FreeBSD Ports Management Team or members of other teams might modify ports to fix dependency issues or other problems, like a version bump for a shared library update.</p></div><div class=paragraph><p>Some types of fixes have "blanket approval" from the Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>>, allowing any committer to fix those categories of problems on any port.
These fixes do not need approval from the maintainer.</p></div><div class=paragraph><p>Blanket approval for most ports applies to fixes like infrastructure changes, or trivial and <em>tested</em> build and runtime fixes.
The current list is available in <a href=https://docs.freebsd.org/en/articles/committers-guide/#ports-qa-misc-blanket-approval>Ports section of the Committer’s Guide</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Other changes to the port will be sent to the maintainer for review and approval before being committed.
If the maintainer does not respond to an update request after two weeks (excluding major public holidays), then that is considered a maintainer timeout, and the update can be made without explicit maintainer approval.
If the maintainer does not respond within three months, or if there have been three consecutive timeouts, then that maintainer is considered absent without leave, and all of their ports can be assigned back to the pool.
Exceptions to this are anything maintained by the Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>>, or the Security Officer Team &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>>.
No unauthorized commits may ever be made to ports maintained by those groups.</p></div><div class=paragraph><p>We reserve the right to modify the maintainer’s submission to better match existing policies and style of the Ports Collection without explicit blessing from the submitter or the maintainer.
Also, large infrastructural changes can result in a port being modified without the maintainer’s consent.
These kinds of changes will never affect the port’s functionality.</p></div><div class=paragraph><p>The Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> reserves the right to revoke or override anyone’s maintainership for any reason, and the Security Officer Team &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>> reserves the right to revoke or override maintainership for security reasons.</p></div></div></div><div class=sect1><h2 id=makefile-comment>5.6. <code>COMMENT</code><a class=anchor href=#makefile-comment></a></h2><div class=sectionbody><div class=paragraph><p>The comment is a one-line description of a port shown by <code>pkg info</code>.
Please follow these rules when composing it:</p></div><div class="olist arabic"><ol class=arabic><li><p>The COMMENT string should be 70 characters or less.</p></li><li><p>Do <em>not</em> include the package name or version number of software.</p></li><li><p>The comment must begin with a capital and end without a period.</p></li><li><p>Do not start with an indefinite article (that is, A or An).</p></li><li><p>Capitalize names such as Apache, JavaScript, or Perl.</p></li><li><p>Use a serial comma for lists of words: "green, red, and blue."</p></li><li><p>Check for spelling errors.</p></li></ol></div><div class=paragraph><p>Here is an example:</p></div><div class="literalblock programlisting"><div class=content><pre>COMMENT=	Cat chasing a mouse all over the screen</pre></div></div><div class=paragraph><p>The COMMENT variable immediately follows the MAINTAINER variable in the <span class=filename>Makefile</span>.</p></div></div></div><div class=sect1><h2 id=makefile-www>5.7. Project website<a class=anchor href=#makefile-www></a></h2><div class=sectionbody><div class=paragraph><p>Each port should point to a website that provides more information about the software.</p></div><div class=paragraph><p>Whenever possible, this should be the official project website maintained by the developers of the software.</p></div><div class="literalblock programlisting"><div class=content><pre>WWW=		https://ffmpeg.org/</pre></div></div><div class=paragraph><p>But it can also be a directory or resource in the source code repository:</p></div><div class="literalblock programlisting"><div class=content><pre>WWW=		https://sourceforge.net/projects/mpd/</pre></div></div><div class=paragraph><p>The WWW variable immediately follows the COMMENT variable in the <span class=filename>Makefile</span>.</p></div><div class=paragraph><p>If the same content can be accessed via HTTP and HTTPS, the URL starting with <code>https://</code> shall be used.
If the URI is the root of the website or directory, it must be terminated with a slash.</p></div><div class=paragraph><p>This information used to be placed into the last line of the <span class=filename>pkg-descr</span> file.
It has been moved into the Makefile for easier maintenance and processing.
Having a <code>WWW:</code> line at the end of the <span class=filename>pkg-descr</span> file is deprecated.</p></div></div></div><div class=sect1><h2 id=licenses>5.8. Licenses<a class=anchor href=#licenses></a></h2><div class=sectionbody><div class=paragraph><p>Each port must document the license under which it is available.
If it is not an OSI approved license it must also document any restrictions on redistribution.</p></div><div class=sect2><h3 id=licenses-license>5.8.1. <code>LICENSE</code><a class=anchor href=#licenses-license></a></h3><div class=paragraph><p>A short name for the license or licenses if more than one license apply.</p></div><div class=paragraph><p>If it is one of the licenses listed in <a href=../makefiles/#licenses-license-list>Predefined License List</a>, only <code>LICENSE_FILE</code> and <code>LICENSE_DISTFILES</code> variables can be set.</p></div><div class=paragraph><p>If this is a license that has not been defined in the ports framework (see
<a href=../makefiles/#licenses-license-list>Predefined License List</a>), the <code>LICENSE_PERMS</code> and <code>LICENSE_NAME</code> must be set, along with either <code>LICENSE_FILE</code> or <code>LICENSE_TEXT</code>.
<code>LICENSE_DISTFILES</code> and <code>LICENSE_GROUPS</code> can also be set, but are not required.</p></div><div class=paragraph><p>The predefined licenses are shown in <a href=../makefiles/#licenses-license-list>Predefined License List</a>.
The current list is always available in <span class=filename>Mk/bsd.licenses.db.mk</span>.</p></div><div id=licenses-license-ex1 class=exampleblock><div class=title>Example 28. Simplest Usage, Predefined Licenses</div><div class=content><div class=paragraph><p>When the <span class=filename>README</span> of some software says "This software is under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version." but does not provide the license file, use this:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	LGPL21+</pre></div></div><div class=paragraph><p>When the software provides the license file, use this:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	LGPL21+
LICENSE_FILE=	${WRKSRC}/COPYING</pre></div></div></div></div><div class=paragraph><p>For the predefined licenses, the default permissions are <code>dist-mirror dist-sell pkg-mirror pkg-sell auto-accept</code>.</p></div><table id=licenses-license-list class="tableblock frame-none grid-all stretch"><caption class=title>Table 7. Predefined License List</caption><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Short Name</th><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Group</th><th class="tableblock halign-left valign-top">Permissions</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AGPLv3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Affero General Public License version 3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AGPLv3+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Affero General Public License version 3 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Apache License 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Apache License 1.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Apache License 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ART10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Artistic License version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ART20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Artistic License version 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ARTPERL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Artistic License (perl) version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD license Generic Version (deprecated)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD2CLAUSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD 2-clause "Simplified" License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD3CLAUSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD 3-clause "New" or "Revised" License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSD4CLAUSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BSD 4-clause "Original" or "Old" License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BSL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Boost Software License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-ND-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial No Derivatives 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-NC-SA-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Non Commercial Share Alike 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror<code>pkg-mirror</code>auto-accept</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-ND-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution No Derivatives 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 1.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-2.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 2.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-2.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 2.5</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-3.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 3.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC-BY-SA-4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Attribution Share Alike 4.0</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CC0-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creative Commons Zero v1.0 Universal</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CDDL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Common Development and Distribution License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CPAL-1.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Common Public Attribution License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ClArtistic</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Clarified Artistic License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>EPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Eclipse Public License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GFDL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Free Documentation License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GMGPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNAT Modified General Public License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv1</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv1+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 1 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv2+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 2 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU General Public License version 3 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3RLE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU GPL version 3 Runtime Library Exception</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPLv3RLE+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU GPL version 3 Runtime Library Exception (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ISCL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Internet Systems Consortium License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Library General Public License version 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL20+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Library General Public License version 2.0 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL21</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 2.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL21+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 2.1 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LGPL3+</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNU Lesser General Public License version 3 (or later)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL12</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13a</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13b</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3b</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LPPL13c</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>LaTeX Project Public License version 1.3c</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>dist-mirror dist-sell</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MIT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>MIT license / X11 license</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MPL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla Public License version 1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MPL11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla Public License version 1.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MPL20</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla Public License version 2.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NCSA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>University of Illinois/NCSA Open Source License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NONE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>No license specified</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OFL10</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SIL Open Font License version 1.0 (<a href=https://scripts.sil.org/OFL/ class=bare>https://scripts.sil.org/OFL/</a>)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FONTS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OFL11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SIL Open Font License version 1.1 (<a href=https://scripts.sil.org/OFL/ class=bare>https://scripts.sil.org/OFL/</a>)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FONTS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OWL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Open Works License (owl.apotheon.org)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OpenSSL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>OpenSSL License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Public Domain</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PHP202</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PHP License version 2.02</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PHP30</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PHP License version 3.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PHP301</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PHP License version 3.01</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PSFL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Python Software Foundation License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PostgreSQL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PostgreSQL License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF GPL OSI COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ruby License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>FSF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>UNLICENSE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The Unlicense</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>COPYFREE FSF GPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WTFPL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Do What the Fuck You Want To Public License version 2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL FSF COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WTFPL1</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Do What the Fuck You Want To Public License version 1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL FSF COPYFREE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ZLIB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>zlib License</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL FSF OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ZPL21</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zope Public License version 2.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>GPL OSI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(default)</p></td></tr></tbody></table></div><div class=sect2><h3 id=licenses-license_perms>5.8.2. <code>LICENSE_PERMS</code> and <code>LICENSE_PERMS_NAME_</code><a class=anchor href=#licenses-license_perms></a></h3><div class=paragraph><p>Permissions. use <code>none</code> if empty.</p></div><div id=licenses-license_perms-dist-mirror class=dlist><div class=title>License Permissions List</div><dl><dt class=hdlist1><code>dist-mirror</code></dt><dd><p>Redistribution of the distribution files is permitted.
The distribution files will be added to the FreeBSD <code>MASTER_SITE_BACKUP</code> CDN.</p></dd></dl></div><div id=licenses-license_perms-no-dist-mirror class=dlist><dl><dt class=hdlist1><code>no-dist-mirror</code></dt><dd><p>Redistribution of the distribution files is prohibited.
This is equivalent to setting <a href=../special/#porting-restrictions-restricted><code>RESTRICTED</code></a>.
The distribution files will <em>not</em> be added to the FreeBSD <code>MASTER_SITE_BACKUP</code> CDN.</p></dd></dl></div><div id=licenses-license_perms-dist-sell class=dlist><dl><dt class=hdlist1><code>dist-sell</code></dt><dd><p>Selling of distribution files is permitted.
The distribution files will be present on the installer images.</p></dd></dl></div><div id=licenses-license_perms-no-dist-sell class=dlist><dl><dt class=hdlist1><code>no-dist-sell</code></dt><dd><p>Selling of distribution files is prohibited.
This is equivalent to setting <a href=../special/#porting-restrictions-no_cdrom><code>NO_CDROM</code></a>.</p></dd></dl></div><div id=licenses-license_perms-pkg-mirror class=dlist><dl><dt class=hdlist1><code>pkg-mirror</code></dt><dd><p>Free redistribution of package is permitted.
The package will be distributed on the FreeBSD package CDN <a href=https://pkg.freebsd.org/>https://pkg.freebsd.org/</a>.</p></dd></dl></div><div id=licenses-license_perms-no-pkg-mirror class=dlist><dl><dt class=hdlist1><code>no-pkg-mirror</code></dt><dd><p>Free redistribution of package is prohibited.
Equivalent to setting <a href=../special/#porting-restrictions-no_package><code>NO_PACKAGE</code></a>.
The package will <em>not</em> be distributed from the FreeBSD package CDN <a href=https://pkg.freebsd.org/>https://pkg.freebsd.org/</a>.</p></dd></dl></div><div id=licenses-license_perms-pkg-sell class=dlist><dl><dt class=hdlist1><code>pkg-sell</code></dt><dd><p>Selling of package is permitted.
The package will be present on the installer images.</p></dd></dl></div><div id=licenses-license_perms-no-pkg-sell class=dlist><dl><dt class=hdlist1><code>no-pkg-sell</code></dt><dd><p>Selling of package is prohibited.
This is equivalent to setting <a href=../special/#porting-restrictions-no_cdrom><code>NO_CDROM</code></a>.
The package will <em>not</em> be present on the installer images.</p></dd></dl></div><div id=licenses-license_perms-auto-accept class=dlist><dl><dt class=hdlist1><code>auto-accept</code></dt><dd><p>License is accepted by default.
Prompts to accept a license are not displayed unless the user has defined <code>LICENSES_ASK</code>.
Use this unless the license states the user must accept the terms of the license.</p></dd></dl></div><div id=licenses-license_perms-no-auto-accept class=dlist><dl><dt class=hdlist1><code>no-auto-accept</code></dt><dd><p>License is not accepted by default.
The user will always be asked to confirm the acceptance of this license.
This must be used if the license states that the user must accept its terms.</p></dd></dl></div><div class=paragraph><p>When both <code><em>permission</em></code> and <code>no-<em>permission</em></code> is present the <code>no-<em>permission</em></code> will cancel <code><em>permission</em></code>.</p></div><div class=paragraph><p>When <code><em>permission</em></code> is not present, it is considered to be a <code>no-<em>permission</em></code>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Some missing permissions will prevent a port (and all ports depending on it) from being usable by package users:</p></div><div class=paragraph><p>A port without the <code>auto-accept</code> permission will never be be built and all the ports depending on it will be ignored.</p></div><div class=paragraph><p>A port without the <code>pkg-mirror</code> permission will be removed, as well as all the ports depending on it, after the build and they will ever end up being distributed.</p></div></td></tr></tbody></table></div><div id=licenses-license_perms-ex1 class=exampleblock><div class=title>Example 29. Nonstandard License</div><div class=content><div class=paragraph><p>Read the terms of the license and translate those using the available permissions.</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=        UNKNOWN
LICENSE_NAME=   unknown
LICENSE_TEXT=   This program is NOT in public domain.\
                It can be freely distributed for non-commercial purposes only.
LICENSE_PERMS=  dist-mirror no-dist-sell pkg-mirror no-pkg-sell auto-accept</pre></div></div></div></div><div id=licenses-license_perms-ex2 class=exampleblock><div class=title>Example 30. Standard and Nonstandard Licenses</div><div class=content><div class=paragraph><p>Read the terms of the license and express those using the available permissions.
In case of doubt, please ask for guidance on the <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports mailing list</a>.</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=        WARSOW GPLv2
LICENSE_COMB=   multi
LICENSE_NAME_WARSOW=    Warsow Content License
LICENSE_FILE_WARSOW=    ${WRKSRC}/docs/license.txt
LICENSE_PERMS_WARSOW=   dist-mirror pkg-mirror auto-accept</pre></div></div><div class=paragraph><p>When the permissions of the GPLv2 and the UNKNOWN licenses are mixed, the port ends up with <code>dist-mirror dist-sell pkg-mirror pkg-sell auto-accept dist-mirror no-dist-sell pkg-mirror no-pkg-sell auto-accept</code>.
The <code>no-<em>permissions</em></code> cancel the <em>permissions</em>.
The resulting list of permissions are <em>dist-mirror pkg-mirror auto-accept</em>.
The distribution files and the packages will not be available on the installer images.</p></div></div></div></div><div class=sect2><h3 id=licenses-license_groups>5.8.3. <code>LICENSE_GROUPS</code> and <code>LICENSE_GROUPS_NAME</code><a class=anchor href=#licenses-license_groups></a></h3><div class=paragraph><p>Groups the license belongs.</p></div><div id=licenses-license_groups-FSF class=dlist><div class=title>Predefined License Groups List</div><dl><dt class=hdlist1><code>FSF</code></dt><dd><p>Free Software Foundation Approved, see the <a href=https://www.fsf.org/licensing/>FSF Licensing & Compliance Team</a>.</p></dd></dl></div><div id=licenses-license_groups-GPL class=dlist><dl><dt class=hdlist1><code>GPL</code></dt><dd><p>GPL Compatible</p></dd></dl></div><div id=licenses-license_groups-OSI class=dlist><dl><dt class=hdlist1><code>OSI</code></dt><dd><p>OSI Approved, see the Open Source Initiative <a href=https://opensource.org/licenses/>Open Source Licenses</a> page.</p></dd></dl></div><div id=licenses-license_groups-COPYFREE class=dlist><dl><dt class=hdlist1><code>COPYFREE</code></dt><dd><p>Comply with Copyfree Standard Definition, see the <a href=https://copyfree.org/standard/licenses/>Copyfree Licenses</a> page.</p></dd></dl></div><div id=licenses-license_groups-FONTS class=dlist><dl><dt class=hdlist1><code>FONTS</code></dt><dd><p>Font licenses</p></dd></dl></div></div><div class=sect2><h3 id=licenses-license_name>5.8.4. <code>LICENSE_NAME</code> and <code>LICENSE_NAME_NAME</code><a class=anchor href=#licenses-license_name></a></h3><div class=paragraph><p>Full name of the license.</p></div><div id=licenses-license_name-ex1 class=exampleblock><div class=title>Example 31. <code>LICENSE_NAME</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>LICENSE=        UNRAR
LICENSE_NAME=   UnRAR License
LICENSE_FILE=   ${WRKSRC}/license.txt
LICENSE_PERMS=  dist-mirror dist-sell pkg-mirror pkg-sell auto-accept</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_file>5.8.5. <code>LICENSE_FILE</code> and <code>LICENSE_FILE_NAME</code><a class=anchor href=#licenses-license_file></a></h3><div class=paragraph><p>Full path to the file containing the license text, usually <span class=filename>${WRKSRC}/some/file</span>.
If the file is not in the distfile, and its content is too long to be put in
<a href=../makefiles/#licenses-license_text><code>LICENSE_TEXT</code></a>, put it in a new file in <span class=filename>${FILESDIR}</span>.</p></div><div id=licenses-license_file-ex1 class=exampleblock><div class=title>Example 32. <code>LICENSE_FILE</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>LICENSE=	GPLv3+
LICENSE_FILE=	${WRKSRC}/COPYING</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_text>5.8.6. <code>LICENSE_TEXT</code> and <code>LICENSE_TEXT_NAME</code><a class=anchor href=#licenses-license_text></a></h3><div class=paragraph><p>Text to use as a license.
Useful when the license is not in the distribution files and its text is short.</p></div><div id=licenses-license_text-ex1 class=exampleblock><div class=title>Example 33. <code>LICENSE_TEXT</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>LICENSE=        UNKNOWN
LICENSE_NAME=   unknown
LICENSE_TEXT=   This program is NOT in public domain.\
                It can be freely distributed for non-commercial purposes only,\
                and THERE IS NO WARRANTY FOR THIS PROGRAM.
LICENSE_PERMS=  dist-mirror no-dist-sell pkg-mirror no-pkg-sell auto-accept</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_distfiles>5.8.7. <code>LICENSE_DISTFILES</code> and <code>LICENSE_DISTFILES_NAME</code><a class=anchor href=#licenses-license_distfiles></a></h3><div class=paragraph><p>The distribution files to which the licenses apply.
Defaults to all the distribution files.</p></div><div id=licenses-license_distfiles-ex1 class=exampleblock><div class=title>Example 34. <code>LICENSE_DISTFILES</code></div><div class=content><div class=paragraph><p>Used when the distribution files do not all have the same license.
For example, one has a code license, and another has some artwork that cannot be redistributed:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   SF/some-game
DISTFILES=      ${DISTNAME}${EXTRACT_SUFX} artwork.zip

LICENSE=        BSD3CLAUSE ARTWORK
LICENSE_COMB=   dual
LICENSE_NAME_ARTWORK=      The game artwork license
LICENSE_TEXT_ARTWORK=      The README says that the files cannot be redistributed
LICENSE_PERMS_ARTWORK=     pkg-mirror pkg-sell auto-accept
LICENSE_DISTFILES_BSD3CLAUSE=   ${DISTNAME}${EXTRACT_SUFX}
LICENSE_DISTFILES_ARTWORK= artwork.zip</pre></div></div></div></div></div><div class=sect2><h3 id=licenses-license_comb>5.8.8. <code>LICENSE_COMB</code><a class=anchor href=#licenses-license_comb></a></h3><div class=paragraph><p>Set to <code>multi</code> if all licenses apply.
Set to <code>dual</code> if any license applies.
Defaults to <code>single</code>.</p></div><div id=licenses-license_comb-ex1 class=exampleblock><div class=title>Example 35. Dual Licenses</div><div class=content><div class=paragraph><p>When a port says "This software may be distributed under the GNU General Public License or the Artistic License",
it means that either license can be used.
Use this:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	ART10 GPLv1
LICENSE_COMB=   dual</pre></div></div><div class=paragraph><p>If license files are provided, use this:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	ART10 GPLv1
LICENSE_COMB=   dual
LICENSE_FILE_ART10=     ${WRKSRC}/Artistic
LICENSE_FILE_GPLv1=     ${WRKSRC}/Copying</pre></div></div></div></div><div id=licenses-license_comb-ex2 class=exampleblock><div class=title>Example 36. Multiple Licenses</div><div class=content><div class=paragraph><p>When part of a port has one license, and another part has a different license, use <code>multi</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>LICENSE=	GPLv2 LGPL21+
LICENSE_COMB=	multi</pre></div></div></div></div></div></div></div><div class=sect1><h2 id=makefile-portscout>5.9. <code>PORTSCOUT</code><a class=anchor href=#makefile-portscout></a></h2><div class=sectionbody><div class=paragraph><p>Portscout is an automated distfile check utility for the FreeBSD Ports Collection, described in detail in <a href=../keeping-up/#distfile-survey>Portscout: the FreeBSD Ports Distfile Scanner</a>.</p></div><div class=paragraph><p><code>PORTSCOUT</code> defines special conditions within which the Portscout distfile scanner is restricted.</p></div><div class=paragraph><p>Situations where <code>PORTSCOUT</code> is set include:</p></div><div class=ulist><ul><li><p>When distfiles have to be ignored for specific versions. For example, to exclude version <em>8.2</em> and version <em>8.3</em> from distfile version checks because they are known to be broken, add:</p><div class="literalblock programlisting"><div class=content><pre>PORTSCOUT=	skipv:8.2,8.3</pre></div></div></li><li><p>When distfile version checks have to be disabled completely. For example, if a port is not going to be updated ever again, add:</p><div class="literalblock programlisting"><div class=content><pre>PORTSCOUT=	ignore:1</pre></div></div></li><li><p>When specific versions or specific major and minor revisions of a distfile must be checked. For example, if only version <em>0.6.4</em> must be monitored because newer versions have compatibility issues with FreeBSD, add:</p><div class="literalblock programlisting"><div class=content><pre>PORTSCOUT=	limit:^0\.6\.4</pre></div></div></li><li><p>When URLs listing the available versions differ from the download URLs. For example, to limit distfile version checks to the download page for the <a class=package href=https://cgit.freebsd.org/ports/tree/databases/pgtune/>databases/pgtune</a> port, add:</p><div class="literalblock programlisting"><div class=content><pre>PORTSCOUT=	site:http://www.renpy.org/dl/release/</pre></div></div></li></ul></div></div></div><div class=sect1><h2 id=makefile-depend>5.10. Dependencies<a class=anchor href=#makefile-depend></a></h2><div class=sectionbody><div class=paragraph><p>Many ports depend on other ports.
This is a very convenient feature of most Unix-like operating systems, including FreeBSD.
Multiple ports can share a common dependency, rather than bundling that dependency with every port or package that needs it.
There are seven variables that can be used to ensure that all the required bits will be on the user’s machine.
There are also some pre-supported dependency variables for common cases, plus a few more to control the behavior of dependencies.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>When software has extra dependencies that provide extra features, the base dependencies listed in <code>*_DEPENDS</code> should include the extra dependencies that would benefit most users.
The base dependencies should never be a "minimal" dependency set.
The goal is not to include every dependency possible. Only include those that will benefit most people.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=makefile-lib_depends>5.10.1. <code>LIB_DEPENDS</code><a class=anchor href=#makefile-lib_depends></a></h3><div class=paragraph><p>This variable specifies the shared libraries this port depends on.
It is a list of <code><em>lib:dir</em></code> tuples where <code><em>lib</em></code> is the name of the shared library, <code><em>dir</em></code> is the directory in which to find it in case it is not available.
For example,</p></div><div class="literalblock programlisting"><div class=content><pre>LIB_DEPENDS=   libjpeg.so:graphics/jpeg</pre></div></div><div class=paragraph><p>will check for a shared jpeg library with any version, and descend into the <span class=filename>graphics/jpeg</span> subdirectory of the ports tree to build and install it if it is not found.</p></div><div class=paragraph><p>The dependency is checked twice, once from within the <code>build</code> target and then from within the <code>install</code> target.
Also, the name of the dependency is put into the package so that <code>pkg install</code> (see <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-install&amp;sektion=8&amp;format=html">pkg-install(8)</a>) will automatically install it if it is not on the user’s system.</p></div></div><div class=sect2><h3 id=makefile-run_depends>5.10.2. <code>RUN_DEPENDS</code><a class=anchor href=#makefile-run_depends></a></h3><div class=paragraph><p>This variable specifies executables or files this port depends on during run-time.
It is a list of <code><em>path:dir</em></code>[:<code><em>target</em></code>] tuples where <code><em>path</em></code> is the name of the executable or file, <em>dir</em> is the directory in which to find it in case it is not available, and <em>target</em> is the target to call in that directory.
If <em>path</em> starts with a slash (<code>/</code>), it is treated as a file and its existence is tested with <code>test -e</code>; otherwise, it is assumed to be an executable, and <code>which -s</code> is used to determine if the program exists in the search path.</p></div><div class=paragraph><p>For example,</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS=	${LOCALBASE}/news/bin/innd:news/inn \
		xmlcatmgr:textproc/xmlcatmgr</pre></div></div><div class=paragraph><p>will check if the file or directory <span class=filename>/usr/local/news/bin/innd</span> exists, and build and install it from the <span class=filename>news/inn</span> subdirectory of the ports tree if it is not found.
It will also see if an executable called <code>xmlcatmgr</code> is in the search path, and descend into <span class=filename>textproc/xmlcatmgr</span> to build and install it if it is not found.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In this case, <code>innd</code> is actually an executable;
if an executable is in a place that is not expected to be in the search path, use the full pathname.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>The official search <code>PATH</code> used on the ports build cluster is</p></div><div class="literalblock programlisting"><div class=content><pre>/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin</pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>The dependency is checked from within the <code>install</code> target.
Also, the name of the dependency is put into the package so that <code>pkg install</code> (see <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-install&amp;sektion=8&amp;format=html">pkg-install(8)</a>) will automatically install it if it is not on the user’s system.
The <em>target</em> part can be omitted if it is the same as <code>DEPENDS_TARGET</code>.</p></div><div class=paragraph><p>A quite common situation is when <code>RUN_DEPENDS</code> is literally the same as <code>BUILD_DEPENDS</code>, especially if ported software is written in a scripted language or if it requires the same build and run-time environment.
In this case, it is both tempting and intuitive to directly assign one to the other:</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS=	${BUILD_DEPENDS}</pre></div></div><div class=paragraph><p>However, such assignment can pollute run-time dependencies with entries not defined in the port’s original <code>BUILD_DEPENDS</code>.
This happens because of <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>'s lazy evaluation of variable assignment.
Consider a <span class=filename>Makefile</span> with <code>USE_*</code>, which are processed by <span class=filename>ports/Mk/bsd.*.mk</span> to augment initial build dependencies.
For example, <code>USES= gmake</code> adds <a class=package href=https://cgit.freebsd.org/ports/tree/devel/gmake/>devel/gmake</a> to <code>BUILD_DEPENDS</code>.
To prevent such additional dependencies from polluting <code>RUN_DEPENDS</code>, create another variable with the current content of <code>BUILD_DEPENDS</code> and assign it to both <code>BUILD_DEPENDS</code> and <code>RUN_DEPENDS</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>MY_DEPENDS=	some:devel/some \
		other:lang/other
BUILD_DEPENDS=	${MY_DEPENDS}
RUN_DEPENDS=	${MY_DEPENDS}</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p><em>Do not</em> use <code>:=</code> to assign <code>BUILD_DEPENDS</code> to <code>RUN_DEPENDS</code> or vice-versa.
All variables are expanded immediately, which is exactly the wrong thing to do and almost always a failure.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-build_depends>5.10.3. <code>BUILD_DEPENDS</code><a class=anchor href=#makefile-build_depends></a></h3><div class=paragraph><p>This variable specifies executables or files this port requires to build.
Like <code>RUN_DEPENDS</code>, it is a list of <code><em>path:dir</em></code>[:<code><em>target</em></code>] tuples.
For example,</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=	unzip:archivers/unzip</pre></div></div><div class=paragraph><p>will check for an executable called <code>unzip</code>, and descend into the <span class=filename>archivers/unzip</span> subdirectory of the ports tree to build and install it if it is not found.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>"build" here means everything from extraction to compilation.
The dependency is checked from within the <code>extract</code> target.
The <em>target</em> part can be omitted if it is the same as <code>DEPENDS_TARGET</code></p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-fetch_depends>5.10.4. <code>FETCH_DEPENDS</code><a class=anchor href=#makefile-fetch_depends></a></h3><div class=paragraph><p>This variable specifies executables or files this port requires to fetch.
Like the previous two, it is a list of <code><em>path:dir</em></code>[:<code><em>target</em></code>] tuples.
For example,</p></div><div class="literalblock programlisting"><div class=content><pre>FETCH_DEPENDS=	ncftp2:net/ncftp2</pre></div></div><div class=paragraph><p>will check for an executable called <code>ncftp2</code>, and descend into the <span class=filename>net/ncftp2</span> subdirectory of the ports tree to build and install it if it is not found.</p></div><div class=paragraph><p>The dependency is checked from within the <code>fetch</code> target.
The <em>target</em> part can be omitted if it is the same as <code>DEPENDS_TARGET</code>.</p></div></div><div class=sect2><h3 id=makefile-extract_depends>5.10.5. <code>EXTRACT_DEPENDS</code><a class=anchor href=#makefile-extract_depends></a></h3><div class=paragraph><p>This variable specifies executables or files this port requires for extraction.
Like the previous, it is a list of <code><em>path:dir</em></code>[:<code><em>target</em></code>] tuples.
For example,</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_DEPENDS=	unzip:archivers/unzip</pre></div></div><div class=paragraph><p>will check for an executable called <code>unzip</code>, and descend into the <span class=filename>archivers/unzip</span> subdirectory of the ports tree to build and install it if it is not found.</p></div><div class=paragraph><p>The dependency is checked from within the <code>extract</code> target.
The <em>target</em> part can be omitted if it is the same as <code>DEPENDS_TARGET</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Use this variable only if the extraction does not already work (the default assumes <code>tar</code>) and cannot be made to work using <code>USES=tar</code>, <code>USES=lha</code> or <code>USES=zip</code> described in <a href=../uses/#uses>Using <code>USES</code> Macros</a>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-patch_depends>5.10.6. <code>PATCH_DEPENDS</code><a class=anchor href=#makefile-patch_depends></a></h3><div class=paragraph><p>This variable specifies executables or files this port requires to patch.
Like the previous, it is a list of <code><em>path:dir</em></code>[:<code><em>target</em></code>] tuples. For example,</p></div><div class="literalblock programlisting"><div class=content><pre>PATCH_DEPENDS=	${NONEXISTENT}:java/jfc:extract</pre></div></div><div class=paragraph><p>will descend into the <span class=filename>java/jfc</span> subdirectory of the ports tree to extract it.</p></div><div class=paragraph><p>The dependency is checked from within the <code>patch</code> target.
The <em>target</em> part can be omitted if it is the same as <code>DEPENDS_TARGET</code>.</p></div></div><div class=sect2><h3 id=makefile-uses>5.10.7. <code>USES</code><a class=anchor href=#makefile-uses></a></h3><div class=paragraph><p>Parameters can be added to define different features and dependencies used by the port.
They are specified by adding this line to the <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>USES= feature[:arguments]</pre></div></div><div class=paragraph><p>For the complete list of values, please see <a href=../uses/#uses>Using <code>USES</code> Macros</a>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p><code>USES</code> cannot be assigned after inclusion of <span class=filename>bsd.port.pre.mk</span>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makefile-use-vars>5.10.8. <code>USE_*</code><a class=anchor href=#makefile-use-vars></a></h3><div class=paragraph><p>Several variables exist to define common dependencies shared by many ports.
Their use is optional, but helps to reduce the verbosity of the port <span class=filename>Makefile</span>s.
Each of them is styled as <code>USE_*</code>.
These variables may be used only in the port <span class=filename>Makefile</span>s and <span class=filename>ports/Mk/bsd.*.mk</span>.
They are not meant for user-settable options - use <code>PORT_OPTIONS</code> for that purpose.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>It is <em>always</em> incorrect to set any <code>USE_*</code> in <span class=filename>/etc/make.conf</span>.
For instance, setting</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GCC=X.Y</pre></div></div><div class=paragraph><p>(where X.Y is version number) would add a dependency on gccXY for every port, including <code>lang/gccXY</code> itself!</p></div></td></tr></tbody></table></div><table id=makefile-use-vars-table class="tableblock frame-none grid-all stretch"><caption class=title>Table 8. <code>USE_*</code></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Means</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_GCC</code></p></td><td class="tableblock halign-left valign-top"><div class=content><div class=paragraph><p>The port requires GCC (<code>gcc</code> or <code>g++</code>) to build.
Some ports need a specific, old GCC version, some require modern, recent versions.
It is typically set to <code>yes</code> (means always use stable, modern GCC from ports per <code>GCC_DEFAULT</code> in <span class=filename>Mk/bsd.default-versions.mk</span>).
This is also the default value.
The exact version can also be specified, with a value such as <code>10</code>.
GCC from the base system is used when it satisfies the requested version, otherwise an appropriate compiler is built from ports, and <code>CC</code> and <code>CXX</code> are adjusted accordingly.
The <code>:build</code> argument following the version specifier adds only a build time dependency to the port.</p></div><div class=paragraph><p>For example:</p></div><div class=exampleblock><div class=content><div class="literalblock programlisting"><div class=content><pre>USE_GCC=yes		# port requires a current version of GCC
USE_GCC=11:build	# port requires GCC 11 at build time only</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>USE_GCC=any</code> is deprecated and should not be used in new ports</p></div></td></tr></tbody></table></div></div></td></tr></tbody></table><div class=paragraph><p>Variables related to gmake and <span class=filename>configure</span> are described in <a href=../special/#building>Building Mechanisms</a>, while autoconf, automake and libtool are described in <a href=../special/#using-autotools>Using GNU Autotools</a>.
Perl related variables are described in <a href=../special/#using-perl>Using Perl</a>.
X11 variables are listed in <a href=../special/#using-x11>Using X11</a>.
<a href=../special/#using-gnome>Using Gnome</a> deals with GNOME and <a href=../special/#using-kde>Using KDE</a> with KDE related variables.
<a href=../special/#using-java>Using Java</a> documents Java variables, while <a href=../special/#using-php>Web Applications</a> contains information on Apache, PHP and PEAR modules.
Python is discussed in <a href=../special/#using-python>Using Python</a>, while Ruby in <a href=../special/#using-ruby>Using Ruby</a>.
<a href=../special/#using-sdl>Using SDL</a> provides variables used for SDL applications and finally, <a href=../special/#using-xfce>Using Xfce</a> contains information on Xfce.</p></div></div><div class=sect2><h3 id=makefile-version-dependency>5.10.9. Minimal Version of a Dependency<a class=anchor href=#makefile-version-dependency></a></h3><div class=paragraph><p>A minimal version of a dependency can be specified in any <code>*_DEPENDS</code> except <code>LIB_DEPENDS</code> using this syntax:</p></div><div class="literalblock programlisting"><div class=content><pre>p5-Spiffy&gt;=0.26:devel/p5-Spiffy</pre></div></div><div class=paragraph><p>The first field contains a dependent package name, which must match the entry in the package database, a comparison sign, and a package version.
The dependency is satisfied if p5-Spiffy-0.26 or newer is installed on the machine.</p></div></div><div class=sect2><h3 id=makefile-note-on-dependencies>5.10.10. Notes on Dependencies<a class=anchor href=#makefile-note-on-dependencies></a></h3><div class=paragraph><p>As mentioned above, the default target to call when a dependency is required is <code>DEPENDS_TARGET</code>.
It defaults to <code>install</code>.
This is a user variable; it is never defined in a port’s <span class=filename>Makefile</span>.
If the port needs a special way to handle a dependency, use the <code>:target</code> part of <code>*_DEPENDS</code> instead of redefining <code>DEPENDS_TARGET</code>.</p></div><div class=paragraph><p>When running <code>make clean</code>, the port dependencies are automatically cleaned too.
If this is not desirable, define <code>NOCLEANDEPENDS</code> in the environment.
This may be particularly desirable if the port has something that takes a long time to rebuild in its dependency list, such as KDE, GNOME or Mozilla.</p></div><div class=paragraph><p>To depend on another port unconditionally, use the variable <code>${NONEXISTENT}</code> as the first field of <code>BUILD_DEPENDS</code> or <code>RUN_DEPENDS</code>.
Use this only when the source of the other port is needed.
Compilation time can be saved by specifying the target too.
For instance</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=	${NONEXISTENT}:graphics/jpeg:extract</pre></div></div><div class=paragraph><p>will always descend to the <code>jpeg</code> port and extract it.</p></div></div><div class=sect2><h3 id=makefile-circular-dependencies>5.10.11. Circular Dependencies Are Fatal<a class=anchor href=#makefile-circular-dependencies></a></h3><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Do not introduce any circular dependencies into the ports tree!</p></div></td></tr></tbody></table></div><div class=paragraph><p>The ports building technology does not tolerate circular dependencies.
If one is introduced, someone, somewhere in the world, will have their FreeBSD installation broken almost immediately, with many others quickly to follow.
These can really be hard to detect.
If in doubt, before making that change, make sure to run: <code>cd /usr/ports; make index</code>.
That process can be quite slow on older machines, but it may be able to save a large number of people, including yourself, a lot of grief in the process.</p></div></div><div class=sect2><h3 id=makefile-automatic-dependencies>5.10.12. Problems Caused by Automatic Dependencies<a class=anchor href=#makefile-automatic-dependencies></a></h3><div class=paragraph><p>Dependencies must be declared either explicitly or by using the
<a href=../makefiles/#makefile-options>OPTIONS framework</a>.
Using other methods like automatic detection complicates indexing, which causes problems for port and package management.</p></div><div id=makefile-automatic-dependencies-bad class=exampleblock><div class=title>Example 37. Wrong Declaration of an Optional Dependency</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.include &lt;bsd.port.pre.mk&gt;

.if exists(${LOCALBASE}/bin/foo)
LIB_DEPENDS=	libbar.so:foo/bar
.endif</pre></div></div></div></div><div class=paragraph><p>The problem with trying to automatically add dependencies is that files and settings outside an individual port can change at any time.
For example: an index is built, then a batch of ports are installed.
But one of the ports installs the tested file.
The index is now incorrect, because an installed port unexpectedly has a new dependency.
The index may still be wrong even after rebuilding if other ports also determine their need for dependencies based on the existence of other files.</p></div><div id=makefile-automatic-dependencies-good class=exampleblock><div class=title>Example 38. Correct Declaration of an Optional Dependency</div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	BAR
BAR_DESC=	Calling cellphones via bar

BAR_LIB_DEPENDS=	libbar.so:foo/bar</pre></div></div></div></div><div class=paragraph><p>Testing option variables is the correct method.
It will not cause inconsistencies in the index of a batch of ports, provided the options were defined prior to the index build.
Simple scripts can then be used to automate the building, installation, and updating of these ports and their packages.</p></div></div></div></div><div class=sect1><h2 id=makefile-masterdir>5.11. Slave Ports and <code>MASTERDIR</code><a class=anchor href=#makefile-masterdir></a></h2><div class=sectionbody><div class=paragraph><p>If the port needs to build slightly different versions of packages by having a variable (for instance, resolution, or paper size) take different values, create one subdirectory per package to make it easier for users to see what to do, but try to share as many files as possible between ports.
Typically, by using variables cleverly, only a very short <span class=filename>Makefile</span> is needed in all but one of the directories.
In the sole <span class=filename>Makefile</span>, use <code>MASTERDIR</code> to specify the directory where the rest of the files are.
Also, use a variable as part of
<a href=../makefiles/#porting-pkgname><code>PKGNAMESUFFIX</code></a> so the packages will have different names.</p></div><div class=paragraph><p>This will be best demonstrated by an example.
This is part of <span class=filename>print/pkfonts300/Makefile</span>;</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	pkfonts${RESOLUTION}
PORTVERSION=	1.0
DISTFILES=	pk${RESOLUTION}.tar.gz

PLIST=		${PKGDIR}/pkg-plist.${RESOLUTION}

.if !defined(RESOLUTION)
RESOLUTION=	300
.else
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
	${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 360 &amp;&amp; \
	${RESOLUTION} != 400 &amp;&amp; ${RESOLUTION} != 600
.BEGIN:
	@${ECHO_MSG} &#34;Error: invalid value for RESOLUTION: \&#34;${RESOLUTION}\&#34;&#34;
	@${ECHO_MSG} &#34;Possible values are: 118, 240, 300, 360, 400 and 600.&#34;
	@${FALSE}
.endif
.endif</pre></div></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/print/pkfonts300/>print/pkfonts300</a> also has all the regular patches, package files, etc.
Running <code>make</code> there, it will take the default value for the resolution (300) and build the port normally.</p></div><div class=paragraph><p>As for other resolutions, this is the <em>entire</em> <span class=filename>print/pkfonts360/Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>RESOLUTION=	360
MASTERDIR=	${.CURDIR}/../pkfonts300

.include	&#34;${MASTERDIR}/Makefile&#34;</pre></div></div><div class=paragraph><p>(<span class=filename>print/pkfonts118/Makefile</span>, <span class=filename>print/pkfonts600/Makefile</span>, and all the other are similar).
<code>MASTERDIR</code> definition tells <span class=filename>bsd.port.mk</span> that the regular set of subdirectories like <code>FILESDIR</code> and <code>SCRIPTDIR</code> are to be found under <span class=filename>pkfonts300</span>.
The <code>RESOLUTION=360</code> line will override the <code>RESOLUTION=300</code> line in <span class=filename>pkfonts300/Makefile</span> and the port will be built with resolution set to 360.</p></div></div></div><div class=sect1><h2 id=makefile-manpages>5.12. Man Pages<a class=anchor href=#makefile-manpages></a></h2><div class=sectionbody><div class=paragraph><p>If the port anchors its man tree somewhere other than <code>PREFIX</code>, use <code>MANDIRS</code> to specify those directories.
Note that the files corresponding to manual pages must be placed in <span class=filename>pkg-plist</span> along with the rest of the files.
The purpose of <code>MANDIRS</code> is to enable automatic compression of manual pages, therefore the file names are suffixed with <span class=filename>.gz</span>.</p></div></div></div><div class=sect1><h2 id=makefile-info>5.13. Info Files<a class=anchor href=#makefile-info></a></h2><div class=sectionbody><div class=paragraph><p>If the package needs to install GNU info files, list them in <code>INFO</code> (without the trailing <code>.info</code>), one entry per document.
These files are assumed to be installed to <span class=filename>PREFIX/INFO_PATH</span>.
Change <code>INFO_PATH</code> if the package uses a different location.
However, this is not recommended. These entries contain just the path relative to <span class=filename>PREFIX/INFO_PATH</span>.
For example, <a class=package href=https://cgit.freebsd.org/ports/tree/lang/gcc34/>lang/gcc34</a> installs info files to <span class=filename>PREFIX/INFO_PATH/gcc34</span>, and <code>INFO</code> will be something like this:</p></div><div class="literalblock programlisting"><div class=content><pre>INFO=	gcc34/cpp gcc34/cppinternals gcc34/g77 ...</pre></div></div><div class=paragraph><p>Appropriate installation/de-installation code will be automatically added to the temporary <span class=filename>pkg-plist</span> before package registration.</p></div></div></div><div class=sect1><h2 id=makefile-options>5.14. Makefile Options<a class=anchor href=#makefile-options></a></h2><div class=sectionbody><div class=paragraph><p>Many applications can be built with optional or differing configurations.
Examples include choice of natural (human) language, GUI versus command-line, or type of database to support.
Users may need a different configuration than the default, so the ports system provides hooks the port author can use to control which variant will be built. Supporting these options properly will make users happy, and effectively provide two or more ports for the price of one.</p></div><div class=sect2><h3 id=makefile-options-options>5.14.1. <code>OPTIONS</code><a class=anchor href=#makefile-options-options></a></h3><div class=sect3><h4 id=makefile-options-background>5.14.1.1. Background<a class=anchor href=#makefile-options-background></a></h4><div class=paragraph><p><code>OPTIONS_*</code> give the user installing the port a dialog showing the available options, and then saves those options to <span class=filename>${PORT_DBDIR}/${OPTIONS_NAME}/options</span>.
The next time the port is built, the options are reused.
<code>PORT_DBDIR</code> defaults to <span class=filename>/var/db/ports</span>.
<code>OPTIONS_NAME</code> is to the port origin with an underscore as the space separator, for example, for <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a> it will be <code>dns_bind99</code>.</p></div><div class=paragraph><p>When the user runs <code>make config</code> (or runs <code>make build</code> for the first time), the framework checks for <span class=filename>${PORT_DBDIR}/${OPTIONS_NAME}/options</span>.
If that file does not exist, the values of <code>OPTIONS_*</code> are used, and a dialog box is displayed where the options can be enabled or disabled.
Then <span class=filename>options</span> is saved and the configured variables are used when building the port.</p></div><div class=paragraph><p>If a new version of the port adds new <code>OPTIONS</code>, the dialog will be presented to the user with the saved values of old <code>OPTIONS</code> prefilled.</p></div><div class=paragraph><p><code>make showconfig</code> shows the saved configuration.
Use <code>make rmconfig</code> to remove the saved configuration.</p></div></div><div class=sect3><h4 id=makefile-options-syntax>5.14.1.2. Syntax<a class=anchor href=#makefile-options-syntax></a></h4><div class=paragraph><p><code>OPTIONS_DEFINE</code> contains a list of <code>OPTIONS</code> to be used.
These are independent of each other and are not grouped:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2</pre></div></div><div class=paragraph><p>Once defined, <code>OPTIONS</code> are described (optional, but strongly recommended):</p></div><div class="literalblock programlisting"><div class=content><pre>OPT1_DESC=	Describe OPT1
OPT2_DESC=	Describe OPT2
OPT3_DESC=	Describe OPT3
OPT4_DESC=	Describe OPT4
OPT5_DESC=	Describe OPT5
OPT6_DESC=	Describe OPT6</pre></div></div><div class=paragraph><p><span class=filename>ports/Mk/bsd.options.desc.mk</span> has descriptions for many common <code>OPTIONS</code>.
While often useful, override them if the description is insufficient for the port.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>When describing options, view it from the perspective of the user: "What functionality does it change?" and "Why would I want to enable this?" Do not just repeat the name.
For example, describing the <code>NLS</code> option as "include NLS support" does not help the user, who can already see the option name but may not know what it means.
Describing it as "Native Language Support via gettext utilities" is much more helpful.</p></div></td></tr></tbody></table></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Option names are always in all uppercase.
They cannot use mixed case or lowercase.</p></div></td></tr></tbody></table></div><div class=paragraph><p><code>OPTIONS</code> can be grouped as radio choices, where only one choice from each group is allowed:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_SINGLE=		SG1
OPTIONS_SINGLE_SG1=	OPT3 OPT4</pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>There <em>must</em> be one of each <code>OPTIONS_SINGLE</code> group selected at all times for the options to be valid.
One option of each group <em>must</em> be added to <code>OPTIONS_DEFAULT</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p><code>OPTIONS</code> can be grouped as radio choices, where none or only one choice from each group is allowed:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_RADIO=		RG1
OPTIONS_RADIO_RG1=	OPT7 OPT8</pre></div></div><div class=paragraph><p><code>OPTIONS</code> can also be grouped as "multiple-choice" lists, where <em>at least one</em> option must be enabled:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_MULTI=		MG1
OPTIONS_MULTI_MG1=	OPT5 OPT6</pre></div></div><div class=paragraph><p><code>OPTIONS</code> can also be grouped as "multiple-choice" lists, where none or any option can be enabled:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_GROUP=		GG1
OPTIONS_GROUP_GG1=	OPT9 OPT10</pre></div></div><div class=paragraph><p><code>OPTIONS</code> are unset by default, unless they are listed in <code>OPTIONS_DEFAULT</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFAULT=	OPT1 OPT3 OPT6</pre></div></div><div class=paragraph><p><code>OPTIONS</code> definitions must appear before the inclusion of <span class=filename>bsd.port.options.mk</span>.
<code>PORT_OPTIONS</code> values can only be tested after the inclusion of <span class=filename>bsd.port.options.mk</span>.
Inclusion of <span class=filename>bsd.port.pre.mk</span> can be used instead, too, and is still widely used in ports written before the introduction of <span class=filename>bsd.port.options.mk</span>.
But be aware that some variables will not work as expected after the inclusion of <span class=filename>bsd.port.pre.mk</span>, typically some <code>USE_*</code> flags.</p></div><div id=ports-options-simple-use class=exampleblock><div class=title>Example 39. Simple Use of <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	FOO BAR
OPTIONS_DEFAULT=FOO

FOO_DESC=	Option foo support
BAR_DESC=	Feature bar support

# Will add --with-foo / --without-foo
FOO_CONFIGURE_WITH=	foo
BAR_RUN_DEPENDS=	bar:bar/bar

.include &lt;bsd.port.mk&gt;</pre></div></div></div></div><div id=ports-options-check-unset class=exampleblock><div class=title>Example 40. Check for Unset Port <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if ! ${PORT_OPTIONS:MEXAMPLES}
CONFIGURE_ARGS+=--without-examples
.endif</pre></div></div><div class=paragraph><p>The form shown above is discouraged.
The preferred method is using a configure knob to really enable and disable the feature to match the option:</p></div><div class="literalblock programlisting"><div class=content><pre># Will add --with-examples / --without-examples
EXAMPLES_CONFIGURE_WITH=	examples</pre></div></div></div></div><div id=ports-options-practical-use class=exampleblock><div class=title>Example 41. Practical Use of <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=		EXAMPLES
OPTIONS_DEFAULT=	PGSQL LDAP SSL

OPTIONS_SINGLE=		BACKEND
OPTIONS_SINGLE_BACKEND=	MYSQL PGSQL BDB

OPTIONS_MULTI=		AUTH
OPTIONS_MULTI_AUTH=	LDAP PAM SSL

EXAMPLES_DESC=		Install extra examples
MYSQL_DESC=		Use MySQL as backend
PGSQL_DESC=		Use PostgreSQL as backend
BDB_DESC=		Use Berkeley DB as backend
LDAP_DESC=		Build with LDAP authentication support
PAM_DESC=		Build with PAM support
SSL_DESC=		Build with OpenSSL support

# Will add USE_PGSQL=yes
PGSQL_USE=	pgsql=yes
# Will add --enable-postgres / --disable-postgres
PGSQL_CONFIGURE_ENABLE=	postgres

ICU_LIB_DEPENDS=	libicuuc.so:devel/icu

# Will add --with-examples / --without-examples
EXAMPLES_CONFIGURE_WITH=	examples

# Check other OPTIONS

.include &lt;bsd.port.mk&gt;</pre></div></div></div></div></div><div class=sect3><h4 id=makefile-options-default>5.14.1.3. Default Options<a class=anchor href=#makefile-options-default></a></h4><div class=paragraph><p>These options are always on by default.</p></div><div class=ulist><ul><li><p><code>DOCS</code> - build and install documentation.</p></li><li><p><code>NLS</code> - Native Language Support.</p></li><li><p><code>EXAMPLES</code> - build and install examples.</p></li><li><p><code>IPV6</code> - IPv6 protocol support.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>There is no need to add these to <code>OPTIONS_DEFAULT</code>.
To have them active, and show up in the options selection dialog, however, they must be added to <code>OPTIONS_DEFINE</code>.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=makefile-options-auto-activation>5.14.2. Feature Auto-Activation<a class=anchor href=#makefile-options-auto-activation></a></h3><div class=paragraph><p>When using a GNU configure script, keep an eye on which optional features are activated by auto-detection.
Explicitly disable optional features that are not needed by adding <code>--without-xxx</code> or <code>--disable-xxx</code> in <code>CONFIGURE_ARGS</code>.</p></div><div id=makefile-options-auto-activation-bad class=exampleblock><div class=title>Example 42. Wrong Handling of an Option</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if ${PORT_OPTIONS:MFOO}
LIB_DEPENDS+=		libfoo.so:devel/foo
CONFIGURE_ARGS+=	--enable-foo
.endif</pre></div></div></div></div><div class=paragraph><p>In the example above, imagine a library libfoo is installed on the system.
The user does not want this application to use libfoo, so he toggled the option off in the <code>make config</code> dialog.
But the application’s configure script detects the library present in the system and includes its support in the resulting executable.
Now when the user decides to remove libfoo from the system, the ports system does not protest (no dependency on libfoo was recorded) but the application breaks.</p></div><div id=makefile-options-auto-activation-good class=exampleblock><div class=title>Example 43. Correct Handling of an Option</div><div class=content><div class="literalblock programlisting"><div class=content><pre>FOO_LIB_DEPENDS=		libfoo.so:devel/foo
# Will add --enable-foo / --disable-foo
FOO_CONFIGURE_ENABLE=	foo</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Under some circumstances, the shorthand conditional syntax can cause problems with complex constructs.
The errors are usually <code>Malformed conditional</code>, an alternative syntax can be used.</p></div><div class="literalblock programlisting"><div class=content><pre>.if !empty(VARIABLE:MVALUE)</pre></div></div><div class=paragraph><p>as an alternative to</p></div><div class="literalblock programlisting"><div class=content><pre>.if ${VARIABLE:MVALUE}</pre></div></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=options-helpers>5.14.3. Options Helpers<a class=anchor href=#options-helpers></a></h3><div class=paragraph><p>There are some macros to help simplify conditional values which differ based on the options set.
For easier access, a comprehensive list is provided:</p></div><div class=dlist><dl><dt class=hdlist1><code>PLIST_SUB</code>, <code>SUB_LIST</code></dt><dd><p>For automatic <code>%%<em>OPT</em>%%</code> and <code>%%NO<em>OPT</em>%%</code> generation, see <a href=../makefiles/#options_sub><code>OPTIONS_SUB</code></a>.</p><div class=paragraph><p>For more complex usage, see <a href=../makefiles/#options-variables>Generic Variables Replacement</a>.</p></div></dd><dt class=hdlist1><code>CONFIGURE_ARGS</code></dt><dd><p>For <code>--enable-<em>x</em></code> and <code>--disable-<em>x</em></code>, see <a href=../makefiles/#options-configure_enable><code>OPT_CONFIGURE_ENABLE</code></a>.</p><div class=paragraph><p>For <code>--with-<em>x</em></code> and <code>--without-<em>x</em></code>, see <a href=../makefiles/#options-configure_with><code>OPT_CONFIGURE_WITH</code></a>.</p></div><div class=paragraph><p>For all other cases, see <a href=../makefiles/#options-configure_on><code>OPT_CONFIGURE_ON</code> and <code>OPT_CONFIGURE_OFF</code></a>.</p></div></dd><dt class=hdlist1><code>CMAKE_ARGS</code></dt><dd><p>For arguments that are booleans (<code>on</code>, <code>off</code>, <code>true</code>, <code>false</code>, <code>0</code>, <code>1</code>) see
<a href=../makefiles/#options-cmake_bool><code>OPT_CMAKE_BOOL</code> and <code>OPT_CMAKE_BOOL_OFF</code></a>.</p><div class=paragraph><p>For all other cases, see <a href=../makefiles/#options-cmake_on><code>OPT_CMAKE_ON</code> and <code>OPT_CMAKE_OFF</code></a>.</p></div></dd><dt class=hdlist1><code>MESON_ARGS</code></dt><dd><p>For arguments that take <code>true</code> or <code>false</code>, see <a href=../makefiles/#options-meson_true><code>OPT_MESON_TRUE</code> and <code>OPT_MESON_FALSE</code></a>.</p><div class=paragraph><p>For arguments that take <code>yes</code> or <code>no</code>, use <a href=../makefiles/#options-meson_yes><code>OPT_MESON_YES</code> and <code>OPT_MESON_NO</code></a>.</p></div><div class=paragraph><p>For arguments that take <code>enabled</code> or <code>disabled</code>, see <a href=../makefiles/#options-meson_enabled><code>OPT_MESON_ENABLED</code> and <code>OPT_MESON_DISABLED</code></a>.</p></div><div class=paragraph><p>For all other cases, use <a href=../makefiles/#options-meson_on><code>OPT_MESON_ON</code> and <code>OPT_MESON_OFF</code></a>.</p></div></dd><dt class=hdlist1><code>QMAKE_ARGS</code></dt><dd><p>See <a href=../makefiles/#options-qmake_on><code>OPT_QMAKE_ON</code> and <code>OPT_QMAKE_OFF</code></a>.</p></dd><dt class=hdlist1><code>USE_*</code></dt><dd><p>See <a href=../makefiles/#options-use><code>OPT_USE</code> and <code>OPT_USE_OFF</code></a>.</p></dd><dt class=hdlist1><code>*_DEPENDS</code></dt><dd><p>See <a href=../makefiles/#options-dependencies>Dependencies</a>.</p></dd><dt class=hdlist1><code>*</code> (Any variable)</dt><dd><p>The most used variables have direct helpers, see
<a href=../makefiles/#options-variables>Generic Variables Replacement</a>.</p><div class=paragraph><p>For any variable without a specific helper, see <a href=../makefiles/#options-vars><code>OPT_VARS</code> and <code>OPT_VARS_OFF</code></a>.</p></div></dd><dt class=hdlist1>Options dependencies</dt><dd><p>When an option need another option to work, see
<a href=../makefiles/#options-implies><code>OPT_IMPLIES</code></a>.</p></dd><dt class=hdlist1>Options conflicts</dt><dd><p>When an option cannot work if another is also enabled, see
<a href=../makefiles/#options-prevents><code>OPT_PREVENTS</code> and <code>OPT_PREVENTS_MSG</code></a>.</p></dd><dt class=hdlist1>Build targets</dt><dd><p>When an option need some extra processing, see
<a href=../makefiles/#options-targets>Additional Build Targets</a>.</p></dd></dl></div><div class=sect3><h4 id=options_sub>5.14.3.1. <code>OPTIONS_SUB</code><a class=anchor href=#options_sub></a></h4><div class=paragraph><p>If <code>OPTIONS_SUB</code> is set to <code>yes</code> then each of the options added to <code>OPTIONS_DEFINE</code> will be added to <code>PLIST_SUB</code> and <code>SUB_LIST</code>, for example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPTIONS_SUB=	yes</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
PLIST_SUB+=	OPT1=&#34;&#34; NO_OPT1=&#34;@comment &#34;
SUB_LIST+=	OPT1=&#34;&#34; NO_OPT1=&#34;@comment &#34;
.else
PLIST_SUB+=	OPT1=&#34;@comment &#34; NO_OPT1=&#34;&#34;
SUB_LIST+=	OPT1=&#34;@comment &#34; NO_OPT1=&#34;&#34;
.endif</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>The value of <code>OPTIONS_SUB</code> is ignored.
Setting it to any value will add <code>PLIST_SUB</code> and <code>SUB_LIST</code> entries for <em>all</em> options.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=options-use>5.14.3.2. <code>OPT_USE</code> and <code>OPT_USE_OFF</code><a class=anchor href=#options-use></a></h4><div class=paragraph><p>When option <em>OPT</em> is selected, for each <code><em>key=value</em></code> pair in <code>OPT_USE</code>, <em>value</em> is appended to the corresponding <code>USE_KEY</code>.
If <em>value</em> has spaces in it, replace them with commas and they will be changed back to spaces during processing.
<code>OPT_USE_OFF</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_USES=	xorg
OPT1_USE=	mysql=yes xorg=x11,xextproto,xext,xrandr
OPT1_USE_OFF=	openssl=yes</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
USE_MYSQL=	yes
USES+=		xorg
USE_XORG=	x11 xextproto xext xrandr
.else
USE_OPENSSL=	yes
.endif</pre></div></div></div><div class=sect3><h4 id=options-configure-helpers>5.14.3.3. <code>CONFIGURE_ARGS</code> Helpers<a class=anchor href=#options-configure-helpers></a></h4><div class=sect4><h5 id=options-configure_enable>5.14.3.3.1. <code>OPT_CONFIGURE_ENABLE</code><a class=anchor href=#options-configure_enable></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, for each <em>entry</em> in <code>OPT_CONFIGURE_ENABLE</code> then <code>--enable-<em>entry</em></code> is appended to <code>CONFIGURE_ARGS</code>.
When option <em>OPT</em> is <em>not</em> selected, <code>--disable-<em>entry</em></code> is appended to <code>CONFIGURE_ARGS</code>.
An optional argument can be specified with an <code>=</code> symbol.
This argument is only appended to the <code>--enable-<em>entry</em></code> configure option.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_CONFIGURE_ENABLE=	test1 test2
OPT2_CONFIGURE_ENABLE=	test2=exhaustive</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--enable-test1 --enable-test2
.else
CONFIGURE_ARGS+=	--disable-test1 --disable-test2
.endif

.if ${PORT_OPTIONS:MOPT2}
CONFIGURE_ARGS+=	--enable-test2=exhaustive
.else
CONFIGURE_ARGS+=	--disable-test2
.endif</pre></div></div></div><div class=sect4><h5 id=options-configure_with>5.14.3.3.2. <code>OPT_CONFIGURE_WITH</code><a class=anchor href=#options-configure_with></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, for each <em>entry</em> in <code><em>OPT_CONFIGURE_WITH</em></code><em> then <code>--with-_entry</code></em> is appended to <code>CONFIGURE_ARGS</code>.
When option <em>OPT</em> is <em>not</em> selected, <code>--without-<em>entry</em></code> is appended to <code>CONFIGURE_ARGS</code>.
An optional argument can be specified with an <code>=</code> symbol.
This argument is only appended to the <code>--with-<em>entry</em></code> configure option.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_CONFIGURE_WITH=	test1
OPT2_CONFIGURE_WITH=	test2=exhaustive</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--with-test1
.else
CONFIGURE_ARGS+=	--without-test1
.endif

.if ${PORT_OPTIONS:MOPT2}
CONFIGURE_ARGS+=	--with-test2=exhaustive
.else
CONFIGURE_ARGS+=	--without-test2
.endif</pre></div></div></div><div class=sect4><h5 id=options-configure_on>5.14.3.3.3. <code>OPT_CONFIGURE_ON</code> and <code>OPT_CONFIGURE_OFF</code><a class=anchor href=#options-configure_on></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, the value of <code>OPT_CONFIGURE_ON</code>, if defined, is appended to <code>CONFIGURE_ARGS</code>.
<code>OPT_CONFIGURE_OFF</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_CONFIGURE_ON=	--add-test
OPT1_CONFIGURE_OFF=	--no-test</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--add-test
.else
CONFIGURE_ARGS+=	--no-test
.endif</pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Most of the time, the helpers in <a href=../makefiles/#options-configure_enable><code>OPT_CONFIGURE_ENABLE</code></a>
and <a href=../makefiles/#options-configure_with><code>OPT_CONFIGURE_WITH</code></a> provide a shorter and more comprehensive functionality.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=options-cmake-helpers>5.14.3.4. <code>CMAKE_ARGS</code> Helpers<a class=anchor href=#options-cmake-helpers></a></h4><div class=sect4><h5 id=options-cmake_on>5.14.3.4.1. <code>OPT_CMAKE_ON</code> and <code>OPT_CMAKE_OFF</code><a class=anchor href=#options-cmake_on></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, the value of <code>OPT_CMAKE_ON</code>, if defined, is appended to <code>CMAKE_ARGS</code>. <code>OPT_CMAKE_OFF</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_CMAKE_ON=	-DTEST:BOOL=true -DDEBUG:BOOL=true
OPT1_CMAKE_OFF=	-DOPTIMIZE:BOOL=true</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CMAKE_ARGS+=	-DTEST:BOOL=true -DDEBUG:BOOL=true
.else
CMAKE_ARGS+=	-DOPTIMIZE:BOOL=true
.endif</pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>See <a href=../makefiles/#options-cmake_bool><code>OPT_CMAKE_BOOL</code> and <code>OPT_CMAKE_BOOL_OFF</code></a> for a shorter helper when the value is boolean.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=options-cmake_bool>5.14.3.4.2. <code>OPT_CMAKE_BOOL</code> and <code>OPT_CMAKE_BOOL_OFF</code><a class=anchor href=#options-cmake_bool></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, for each <em>entry</em> in <code>OPT_CMAKE_BOOL</code> then <code>-D_entry_:BOOL=true</code> is appended to <code>CMAKE_ARGS</code>.
When option <em>OPT</em> is <em>not</em> selected, <code>-D_entry_:BOOL=false</code> is appended to <code>CONFIGURE_ARGS</code>.
<code>OPT_CMAKE_BOOL_OFF</code> is the opposite, <code>-D_entry_:BOOL=false</code> is appended to <code>CMAKE_ARGS</code> when the option is selected, and <code>-D_entry_:BOOL=true</code> when the option is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_CMAKE_BOOL=	TEST DEBUG
OPT1_CMAKE_BOOL_OFF=	OPTIMIZE</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CMAKE_ARGS+=	-DTEST:BOOL=true -DDEBUG:BOOL=true \
		-DOPTIMIZE:BOOL=false
.else
CMAKE_ARGS+=	-DTEST:BOOL=false -DDEBUG:BOOL=false \
		-DOPTIMIZE:BOOL=true
.endif</pre></div></div></div></div><div class=sect3><h4 id=options-meson-helpers>5.14.3.5. <code>MESON_ARGS</code> Helpers<a class=anchor href=#options-meson-helpers></a></h4><div class=sect4><h5 id=options-meson_on>5.14.3.5.1. <code>OPT_MESON_ON</code> and <code>OPT_MESON_OFF</code><a class=anchor href=#options-meson_on></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, the value of <code>OPT_MESON_ON</code>, if defined, is appended to <code>MESON_ARGS</code>.
<code>OPT_MESON_OFF</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_ON=	-Dopt=1
OPT1_MESON_OFF=	-Dopt=2</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dopt=1
.else
MESON_ARGS+=	-Dopt=2
.endif</pre></div></div></div><div class=sect4><h5 id=options-meson_true>5.14.3.5.2. <code>OPT_MESON_TRUE</code> and <code>OPT_MESON_FALSE</code><a class=anchor href=#options-meson_true></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, for each <em>entry</em> in <code>OPT_MESON_TRUE</code> then <code>-D_entry_=true</code> is appended to <code>MESON_ARGS</code>.
When option <em>OPT</em> is <em>not</em> selected, <code>-D_entry_=false</code> is appended to <code>MESON_ARGS</code>.
<code>OPT_MESON_FALSE</code> is the opposite, <code>-D_entry_=false</code> is appended to <code>MESON_ARGS</code> when the option is selected, and <code>-D_entry_=true</code> when the option is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_TRUE=	test debug
OPT1_MESON_FALSE=	optimize</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dtest=true -Ddebug=true \
		-Doptimize=false
.else
MESON_ARGS+=	-Dtest=false -Ddebug=false \
		-Doptimize=true
.endif</pre></div></div></div><div class=sect4><h5 id=options-meson_yes>5.14.3.5.3. <code>OPT_MESON_YES</code> and <code>OPT_MESON_NO</code><a class=anchor href=#options-meson_yes></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, for each <em>entry</em> in <code>OPT_MESON_YES</code> then <code>-D_entry_=yes</code> is appended to <code>MESON_ARGS</code>.
When option <em>OPT</em> is <em>not</em> selected, <code>-D_entry_=no</code> is appended to <code>MESON_ARGS</code>.
<code>OPT_MESON_NO</code> is the opposite, <code>-D_entry_=no</code> is appended to <code>MESON_ARGS</code> when the option is selected, and <code>-D_entry_=yes</code> when the option is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_YES=	test debug
OPT1_MESON_NO=	optimize</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dtest=yes -Ddebug=yes \
		-Doptimize=no
.else
MESON_ARGS+=	-Dtest=no -Ddebug=no \
		-Doptimize=yes
.endif</pre></div></div></div><div class=sect4><h5 id=options-meson_enabled>5.14.3.5.4. <code>OPT_MESON_ENABLED</code> and <code>OPT_MESON_DISABLED</code><a class=anchor href=#options-meson_enabled></a></h5><div class=paragraph><p>When option <em>OPT</em> is selected, for each <em>entry</em> in <code>OPT_MESON_ENABLED</code> then <code>-D_entry_=enabled</code> is appended to <code>MESON_ARGS</code>.
When option <em>OPT</em> is <em>not</em> selected, <code>-D_entry_=disabled</code> is appended to <code>MESON_ARGS</code>.
<code>OPT_MESON_DISABLED</code> is the opposite, <code>-D_entry_=disabled</code> is appended to <code>MESON_ARGS</code> when the option is selected, and <code>-D_entry_=enabled</code> when the option is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_MESON_ENABLED=	test
OPT1_MESON_DISABLED=	debug</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
MESON_ARGS+=	-Dtest=enabled -Ddebug=disabled
.else
MESON_ARGS+=	-Dtest=disabled -Ddebug=enabled
.endif</pre></div></div></div></div><div class=sect3><h4 id=options-qmake_on>5.14.3.6. <code>OPT_QMAKE_ON</code> and <code>OPT_QMAKE_OFF</code><a class=anchor href=#options-qmake_on></a></h4><div class=paragraph><p>When option <em>OPT</em> is selected, the value of <code>OPT_QMAKE_ON</code>, if defined, is appended to <code>QMAKE_ARGS</code>.
<code>OPT_QMAKE_OFF</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_QMAKE_ON=	-DTEST:BOOL=true
OPT1_QMAKE_OFF=	-DPRODUCTION:BOOL=true</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
QMAKE_ARGS+=	-DTEST:BOOL=true
.else
QMAKE_ARGS+=	-DPRODUCTION:BOOL=true
.endif</pre></div></div></div><div class=sect3><h4 id=options-implies>5.14.3.7. <code>OPT_IMPLIES</code><a class=anchor href=#options-implies></a></h4><div class=paragraph><p>Provides a way to add dependencies between options.</p></div><div class=paragraph><p>When <em>OPT</em> is selected, all the options listed in this variable will be selected too.
Using the <a href=../makefiles/#options-configure_enable><code>OPT_CONFIGURE_ENABLE</code></a> described earlier to illustrate:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_IMPLIES=	OPT2

OPT1_CONFIGURE_ENABLE=	opt1
OPT2_CONFIGURE_ENABLE=	opt2</pre></div></div><div class=paragraph><p>Is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--enable-opt1
.else
CONFIGURE_ARGS+=	--disable-opt1
.endif

.if ${PORT_OPTIONS:MOPT2} || ${PORT_OPTIONS:MOPT1}
CONFIGURE_ARGS+=	--enable-opt2
.else
CONFIGURE_ARGS+=	--disable-opt2
.endif</pre></div></div><div id=options-implies-ex1 class=exampleblock><div class=title>Example 44. Simple Use of <code>OPT_IMPLIES</code></div><div class=content><div class=paragraph><p>This port has a <code>X11</code> option, and a <code>GNOME</code> option that needs the <code>X11</code> option to be selected to build.</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	X11 GNOME
OPTIONS_DEFAULT=	X11

X11_USES=	xorg
X11_USE=	xorg=xi,xextproto
GNOME_USE=	gnome=gtk30
GNOME_IMPLIES=	X11</pre></div></div></div></div></div><div class=sect3><h4 id=options-prevents>5.14.3.8. <code>OPT_PREVENTS</code> and <code>OPT_PREVENTS_MSG</code><a class=anchor href=#options-prevents></a></h4><div class=paragraph><p>Provides a way to add conflicts between options.</p></div><div class=paragraph><p>When <em>OPT</em> is selected, all the options listed in <code>OPT_PREVENTS</code> must be un-selected.
If <code>OPT_PREVENTS_MSG</code> is set and a conflict is triggered, its content will be shown explaining why they conflict.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2
OPT1_PREVENTS=	OPT2
OPT1_PREVENTS_MSG=	OPT1 and OPT2 enable conflicting options</pre></div></div><div class=paragraph><p>Is roughly equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT2} &amp;&amp; ${PORT_OPTIONS:MOPT1}
BROKEN=	Option OPT1 conflicts with OPT2 (select only one)
.endif</pre></div></div><div class=paragraph><p>The only difference is that the first one will write an error after running <code>make config</code>, suggesting changing the selected options.</p></div><div id=options-prevents-ex1 class=exampleblock><div class=title>Example 45. Simple Use of <code>OPT_PREVENTS</code></div><div class=content><div class=paragraph><p>This port has <code>X509</code> and <code>SCTP</code> options.
Both options add patches, but the patches conflict with each other, so they cannot be selected at the same time.</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	X509 SCTP

SCTP_PATCHFILES=	${PORTNAME}-6.8p1-sctp-2573.patch.gz:-p1
SCTP_CONFIGURE_WITH=	sctp

X509_PATCH_SITES=	http://www.roumenpetrov.info/openssh/x509/:x509
X509_PATCHFILES=	${PORTNAME}-7.0p1+x509-8.5.diff.gz:-p1:x509
X509_PREVENTS=		SCTP
X509_PREVENTS_MSG=	X509 and SCTP patches conflict</pre></div></div></div></div></div><div class=sect3><h4 id=options-vars>5.14.3.9. <code>OPT_VARS</code> and <code>OPT_VARS_OFF</code><a class=anchor href=#options-vars></a></h4><div class=paragraph><p>Provides a generic way to set and append to variables.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Before using <code>OPT_VARS</code> and <code>OPT_VARS_OFF</code>, see if there is already a more
specific helper available in <a href=../makefiles/#options-variables>Generic Variables Replacement</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>When option <em>OPT</em> is selected, and <code>OPT_VARS</code> defined, <code><em>key</em>=<em>value</em></code> and <code><em>key</em>+=<em>value</em></code> pairs are evaluated from <code>OPT_VARS</code>.
An <code>=</code> cause the existing value of <code>KEY</code> to be overwritten, an <code>+=</code> appends to the value.
<code>OPT_VARS_OFF</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2 OPT3
OPT1_VARS=	also_build+=bin1
OPT2_VARS=	also_build+=bin2
OPT3_VARS=	bin3_build=yes
OPT3_VARS_OFF=	bin3_build=no

MAKE_ARGS=	ALSO_BUILD=&#34;${ALSO_BUILD}&#34; BIN3_BUILD=&#34;${BIN3_BUILD}&#34;</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1 OPT2

MAKE_ARGS=	ALSO_BUILD=&#34;${ALSO_BUILD}&#34; BIN3_BUILD=&#34;${BIN3_BUILD}&#34;

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
ALSO_BUILD+=	bin1
.endif

.if ${PORT_OPTIONS:MOPT2}
ALSO_BUILD+=	bin2
.endif

.if ${PORT_OPTIONS:MOPT2}
BIN3_BUILD=	yes
.else
BIN3_BUILD=	no
.endif</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Values containing whitespace must be enclosed in quotes:</p></div><div class="literalblock programlisting"><div class=content><pre>OPT_VARS=	foo=&#34;bar baz&#34;</pre></div></div><div class=paragraph><p>This is due to the way <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> variable expansion deals with whitespace.
When <code>OPT_VARS= foo=bar baz</code> is expanded, the variable ends up containing two strings, <code>foo=bar</code> and <code>baz</code>.
But the submitter probably intended there to be only one string, <code>foo=bar baz</code>.
Quoting the value prevents whitespace from being used as a delimiter.</p></div><div class=paragraph><p>Also, <em>do not</em> add extra spaces after the <code><em>var</em>=</code> sign and before the value, it would also be split into two strings.
<em>This will not work</em>:</p></div><div class="literalblock programlisting"><div class=content><pre>OPT_VARS=	foo=	bar</pre></div></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=options-dependencies>5.14.3.10. Dependencies, <code>OPT_DEPTYPE</code> and <code>OPT_DEPTYPE_OFF</code><a class=anchor href=#options-dependencies></a></h4><div class=paragraph><p>For any of these dependency types:</p></div><div class=ulist><ul><li><p><code>PKG_DEPENDS</code></p></li><li><p><code>EXTRACT_DEPENDS</code></p></li><li><p><code>PATCH_DEPENDS</code></p></li><li><p><code>FETCH_DEPENDS</code></p></li><li><p><code>BUILD_DEPENDS</code></p></li><li><p><code>LIB_DEPENDS</code></p></li><li><p><code>RUN_DEPENDS</code></p></li></ul></div><div class=paragraph><p>When option <em>OPT</em> is selected, the value of <code>OPT_DEPTYPE</code>, if defined, is appended to <code>DEPTYPE</code>.
<code>OPT_DEPTYPE_OFF</code> works the same, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_LIB_DEPENDS=	liba.so:devel/a
OPT1_LIB_DEPENDS_OFF=	libb.so:devel/b</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
LIB_DEPENDS+=	liba.so:devel/a
.else
LIB_DEPENDS+=	libb.so:devel/b
.endif</pre></div></div></div><div class=sect3><h4 id=options-variables>5.14.3.11. Generic Variables Replacement, <code>OPT_VARIABLE</code> and <code>OPT_VARIABLE_OFF</code><a class=anchor href=#options-variables></a></h4><div class=paragraph><p>For any of these variables:</p></div><div class=ulist><ul><li><p><code>ALL_TARGET</code></p></li><li><p><code>BINARY_ALIAS</code></p></li><li><p><code>BROKEN</code></p></li><li><p><code>CATEGORIES</code></p></li><li><p><code>CFLAGS</code></p></li><li><p><code>CONFIGURE_ENV</code></p></li><li><p><code>CONFLICTS</code></p></li><li><p><code>CONFLICTS_BUILD</code></p></li><li><p><code>CONFLICTS_INSTALL</code></p></li><li><p><code>CPPFLAGS</code></p></li><li><p><code>CXXFLAGS</code></p></li><li><p><code>DESKTOP_ENTRIES</code></p></li><li><p><code>DISTFILES</code></p></li><li><p><code>EXTRACT_ONLY</code></p></li><li><p><code>EXTRA_PATCHES</code></p></li><li><p><code>GH_ACCOUNT</code></p></li><li><p><code>GH_PROJECT</code></p></li><li><p><code>GH_SUBDIR</code></p></li><li><p><code>GH_TAGNAME</code></p></li><li><p><code>GH_TUPLE</code></p></li><li><p><code>GL_ACCOUNT</code></p></li><li><p><code>GL_COMMIT</code></p></li><li><p><code>GL_PROJECT</code></p></li><li><p><code>GL_SITE</code></p></li><li><p><code>GL_SUBDIR</code></p></li><li><p><code>GL_TUPLE</code></p></li><li><p><code>IGNORE</code></p></li><li><p><code>INFO</code></p></li><li><p><code>INSTALL_TARGET</code></p></li><li><p><code>LDFLAGS</code></p></li><li><p><code>LIBS</code></p></li><li><p><code>MAKE_ARGS</code></p></li><li><p><code>MAKE_ENV</code></p></li><li><p><code>MASTER_SITES</code></p></li><li><p><code>PATCHFILES</code></p></li><li><p><code>PATCH_SITES</code></p></li><li><p><code>PLIST_DIRS</code></p></li><li><p><code>PLIST_FILES</code></p></li><li><p><code>PLIST_SUB</code></p></li><li><p><code>PORTDOCS</code></p></li><li><p><code>PORTEXAMPLES</code></p></li><li><p><code>SUB_FILES</code></p></li><li><p><code>SUB_LIST</code></p></li><li><p><code>TEST_TARGET</code></p></li><li><p><code>USES</code></p></li></ul></div><div class=paragraph><p>When option <em>OPT</em> is selected, the value of <code>OPT_ABOVEVARIABLE</code>, if defined, is appended to <code><em>ABOVEVARIABLE</em></code>.
<code>OPT_ABOVEVARIABLE_OFF</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1
OPT1_USES=	gmake
OPT1_CFLAGS_OFF=	-DTEST</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MOPT1}
USES+=		gmake
.else
CFLAGS+=	-DTEST
.endif</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Some variables are not in this list, in particular <code>PKGNAMEPREFIX</code> and <code>PKGNAMESUFFIX</code>.
This is intentional.
A port <em>must not</em> change its name when its option set changes.</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Some of these variables, at least <code>ALL_TARGET</code>, <code>DISTFILES</code> and <code>INSTALL_TARGET</code>, have their default values set <em>after</em> the options are processed.</p></div><div class=paragraph><p>With these lines in the <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>ALL_TARGET=	all

DOCS_ALL_TARGET=	doc</pre></div></div><div class=paragraph><p>If the <code>DOCS</code> option is enabled, <code>ALL_TARGET</code> will have a final value of <code>all doc</code>; if the option is disabled, it would have a value of <code>all</code>.</p></div><div class=paragraph><p>With only the options helper line in the <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>DOCS_ALL_TARGET=	doc</pre></div></div><div class=paragraph><p>If the <code>DOCS</code> option is enabled, <code>ALL_TARGET</code> will have a final value of <code>doc</code>; if the option is disabled, it would have a value of <code>all</code>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=options-targets>5.14.3.12. Additional Build Targets, <code><em>target</em>-<em>OPT</em>-on</code> and <code><em>target</em>-<em>OPT</em>-off</code><a class=anchor href=#options-targets></a></h4><div class=paragraph><p>These <span class=filename>Makefile</span> targets can accept optional extra build targets:</p></div><div class=ulist><ul><li><p><code>pre-fetch</code></p></li><li><p><code>do-fetch</code></p></li><li><p><code>post-fetch</code></p></li><li><p><code>pre-extract</code></p></li><li><p><code>do-extract</code></p></li><li><p><code>post-extract</code></p></li><li><p><code>pre-patch</code></p></li><li><p><code>do-patch</code></p></li><li><p><code>post-patch</code></p></li><li><p><code>pre-configure</code></p></li><li><p><code>do-configure</code></p></li><li><p><code>post-configure</code></p></li><li><p><code>pre-build</code></p></li><li><p><code>do-build</code></p></li><li><p><code>post-build</code></p></li><li><p><code>pre-install</code></p></li><li><p><code>do-install</code></p></li><li><p><code>post-install</code></p></li><li><p><code>post-stage</code></p></li><li><p><code>pre-package</code></p></li><li><p><code>do-package</code></p></li><li><p><code>post-package</code></p></li></ul></div><div class=paragraph><p>When option <em>OPT</em> is selected, the target <code><em>TARGET</em>-<em>OPT</em>-on</code>, if defined, is executed after <code><em>TARGET</em></code>.
<code><em>TARGET</em>-<em>OPT</em>-off</code> works the same way, but when <code>OPT</code> is <em>not</em> selected.
For example:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

post-patch-OPT1-on:
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${EXAMPLESDIR}/|&#39; ${WRKSRC}/Makefile

post-patch-OPT1-off:
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${PREFIX}/bin/|&#39; ${WRKSRC}/Makefile</pre></div></div><div class=paragraph><p>is equivalent to:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS_DEFINE=	OPT1

.include &lt;bsd.port.options.mk&gt;

post-patch:
.if ${PORT_OPTIONS:MOPT1}
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${EXAMPLESDIR}/|&#39; ${WRKSRC}/Makefile
.else
	@${REINPLACE_CMD} -e &#39;/opt1/s|/usr/bin/|${PREFIX}/bin/|&#39; ${WRKSRC}/Makefile
.endif</pre></div></div></div></div></div></div><div class=sect1><h2 id=makefile-wrkdir>5.15. Specifying the Working Directory<a class=anchor href=#makefile-wrkdir></a></h2><div class=sectionbody><div class=paragraph><p>Each port is extracted into a working directory, which must be writable.
The ports system defaults to having <code>DISTFILES</code> unpack in to a directory called <code>${DISTNAME}</code>.
In other words, if the <span class=filename>Makefile</span> has:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=	foo
DISTVERSION=	1.0</pre></div></div><div class=paragraph><p>then the port’s distribution files contain a top-level directory, <span class=filename>foo-1.0</span>, and the rest of the files are located under that directory.</p></div><div class=paragraph><p>A number of variables can be overridden if that is not the case.</p></div><div class=sect2><h3 id=makefile-wrksrc>5.15.1. <code>WRKSRC</code><a class=anchor href=#makefile-wrksrc></a></h3><div class=paragraph><p>The variable lists the name of the directory that is created when the application’s distfiles are extracted.
If our previous example extracted into a directory called <span class=filename>foo</span> (and not <span class=filename>foo-1.0</span>) write:</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=	${WRKDIR}/foo</pre></div></div><div class=paragraph><p>or possibly</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=	${WRKDIR}/${PORTNAME}</pre></div></div></div><div class=sect2><h3 id=makefile-wrksrc_subdir>5.15.2. <code>WRKSRC_SUBDIR</code><a class=anchor href=#makefile-wrksrc_subdir></a></h3><div class=paragraph><p>If the source files needed for the port are in a subdirectory of the extracted distribution file, set <code>WRKSRC_SUBDIR</code> to that directory.</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC_SUBDIR=	src</pre></div></div></div><div class=sect2><h3 id=makefile-no_wrksubdir>5.15.3. <code>NO_WRKSUBDIR</code><a class=anchor href=#makefile-no_wrksubdir></a></h3><div class=paragraph><p>If the port does not extract in to a subdirectory at all, then set <code>NO_WRKSUBDIR</code> to indicate that.</p></div><div class="literalblock programlisting"><div class=content><pre>NO_WRKSUBDIR=	yes</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Because <code>WRKDIR</code> is the only directory that is supposed to be writable during the build, and is used to store many files recording the status of the build, the port’s extraction will be forced into a subdirectory.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=conflicts>5.16. Conflict Handling<a class=anchor href=#conflicts></a></h2><div class=sectionbody><div class=paragraph><p>There are three different variables to register a conflict between packages and ports: <code>CONFLICTS</code>, <code>CONFLICTS_INSTALL</code> and <code>CONFLICTS_BUILD</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>The conflict variables automatically set the variable <code>IGNORE</code>, which is more fully documented in <a href=../porting-dads/#dads-noinstall>Marking a Port Not Installable with <code>BROKEN</code></a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>When removing one of several conflicting ports, it is advisable to retain <code>CONFLICTS</code> in those other ports for a few months to cater for users who only update once in a while.</p></div><div id=conclicts-conflicts_install class=dlist><dl><dt class=hdlist1><code>CONFLICTS_INSTALL</code></dt><dd><p>If the package cannot coexist with other packages (because of file conflicts, runtime incompatibilities, etc.).
<code>CONFLICTS_INSTALL</code> check is done after the build stage and prior to the install stage.</p></dd></dl></div><div id=conclicts-conflicts_build class=dlist><dl><dt class=hdlist1><code>CONFLICTS_BUILD</code></dt><dd><p>If the port cannot be built when other specific ports are already installed.
Build conflicts are not recorded in the resulting package.</p></dd></dl></div><div id=conclicts-conflicts class=dlist><dl><dt class=hdlist1><code>CONFLICTS</code></dt><dd><p>If the port cannot be built if a certain port is already installed and the resulting package cannot coexist with the other package.
<code>CONFLICTS</code> check is done prior to the build stage and prior to the install stage.</p></dd></dl></div><div class=paragraph><p>Each space-separated item in the <code>CONFLICTS*</code> variable values is matched against packages except the one being built, using shell globbing rules.
This allows listing all flavors of a port in a conflict list instead of having to take pains to exclude the flavor being built from that list.
For example, if git-lite is installed, <code>CONFLICTS_INSTALL=git git-lite</code> would allow to perform:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% make <span class=nt>-C</span> devel/git <span class=nv>FLAVOR</span><span class=o>=</span>lite all deinstall <span class=nb>install</span></code></pre></div></div><div class=paragraph><p>But the following command would report a conflict, since the package base name installed is <code>git-lite</code>, while <code>git</code> would be built, but cannot be installed in addition to <code>git-lite</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% make <span class=nt>-C</span> devel/git <span class=nv>FLAVOR</span><span class=o>=</span>default all deinstall <span class=nb>install</span></code></pre></div></div><div class=paragraph><p>Without that feature, the Makefile would need one <code>_flavor__CONFLICTS_INSTALL</code> for each flavor, listing every other flavor.</p></div><div class=paragraph><p>The most common content of one of these variable is the package base of another port.
The package base is the package name without the appended version, it can be obtained by running <code>make -V PKGBASE</code>.</p></div><div id=conflicts-ex1 class=exampleblock><div class=title>Example 46. Basic usage of <code>CONFLICTS*</code></div><div class=content><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a> cannot be installed if <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind910/>dns/bind910</a> is present because they install same files.
First gather the package base to use:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% make <span class=nt>-C</span> dns/bind99 <span class=nt>-V</span> PKGBASE
bind99
% make <span class=nt>-C</span> dns/bind910 <span class=nt>-V</span> PKGBASE
bind910</code></pre></div></div><div class=paragraph><p>Then add to the <span class=filename>Makefile</span> of <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFLICTS_INSTALL=	bind910</pre></div></div><div class=paragraph><p>And add to the <span class=filename>Makefile</span> of <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind910/>dns/bind910</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFLICTS_INSTALL=	bind99</pre></div></div></div></div><div class=paragraph><p>Sometimes, only certain versions of another port are incompatible.
When this is the case, use the full package name including the version.
If necessary, use shell globs like <code>*</code> and <code>?</code> so that all necessary versions are matched.</p></div><div id=conflicts-ex2 class=exampleblock><div class=title>Example 47. Using <code>CONFLICTS*</code> With Globs.</div><div class=content><div class=paragraph><p>From versions from 2.0 and up-to 2.4.1_2, <a class=package href=https://cgit.freebsd.org/ports/tree/deskutils/gnotime/>deskutils/gnotime</a> used to install a bundled version of <a class=package href=https://cgit.freebsd.org/ports/tree/databases/qof/>databases/qof</a>.</p></div><div class=paragraph><p>To reflect this past, the <span class=filename>Makefile</span> of <a class=package href=https://cgit.freebsd.org/ports/tree/databases/qof/>databases/qof</a> contains:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFLICTS_INSTALL=	gnotime-2.[0-3]* \
			gnotime-2.4.0* gnotime-2.4.1 \
			gnotime-2.4.1_[12]</pre></div></div><div class=paragraph><p>The first entry match versions <code>2.0</code> through <code>2.3</code>, the second all the revisions of <code>2.4.0</code>, the third the exact <code>2.4.1</code> version, and the last the first and second revisions of the <code>2.4.1</code> version.</p></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/deskutils/gnotime/>deskutils/gnotime</a> does not have any conflicts line because its current version does not conflict with anything else.</p></div></div></div><div class=paragraph><p>The variable <code>DISABLE_CONFLICTS</code> may be temporarily set when making targets that are not affected by conflicts.
The variable is not to be set in port Makefiles.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% make <span class=nt>-DDISABLE_CONFLICTS</span> patch</code></pre></div></div></div></div><div class=sect1><h2 id=install>5.17. Installing Files<a class=anchor href=#install></a></h2><div class=sectionbody><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>The <code>install</code> phase is very important to the end user because it adds files to their system.
All the additional commands run in the port <span class=filename>Makefile</span>'s <code>*-install</code> targets should be echoed to the screen.
<em>Do not</em> silence these commands with <code>@</code> or <code>.SILENT</code>.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=install-macros>5.17.1. <code>INSTALL_*</code> Macros<a class=anchor href=#install-macros></a></h3><div class=paragraph><p>Use the macros provided in <span class=filename>bsd.port.mk</span> to ensure correct modes of files in the port’s <code>*-install</code> targets.
Set ownership directly in <span class=filename>pkg-plist</span> with the corresponding entries, such as <code>@(<em>owner</em>,<em>group</em>,)</code>, <code>@owner <em>owner</em></code>, and <code>@group <em>group</em></code>.
These operators work until overridden, or until the end of <span class=filename>pkg-plist</span>, so remember to reset them after they are no longer needed.
The default ownership is <code>root:wheel</code>.
See <a href=../plist/#plist-keywords-base>Base Keywords</a> for more information.</p></div><div class=ulist><ul><li><p><code>INSTALL_PROGRAM</code> is a command to install binary executables.</p></li><li><p><code>INSTALL_SCRIPT</code> is a command to install executable scripts.</p></li><li><p><code>INSTALL_LIB</code> is a command to install shared libraries (but not static libraries).</p></li><li><p><code>INSTALL_KLD</code> is a command to install kernel loadable modules. Some architectures do not like having the modules stripped, so use this command instead of <code>INSTALL_PROGRAM</code>.</p></li><li><p><code>INSTALL_DATA</code> is a command to install sharable data, including static libraries.</p></li><li><p><code>INSTALL_MAN</code> is a command to install manpages and other documentation (it does not compress anything).</p></li></ul></div><div class=paragraph><p>These variables are set to the <a href="https://man.freebsd.org/cgi/man.cgi?query=install&amp;sektion=1&amp;format=html">install(1)</a> command with the appropriate flags for each situation.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Do not use <code>INSTALL_LIB</code> to install static libraries, because stripping them renders them useless. Use <code>INSTALL_DATA</code> instead.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-strip>5.17.2. Stripping Binaries and Shared Libraries<a class=anchor href=#install-strip></a></h3><div class=paragraph><p>Installed binaries should be stripped. Do not strip binaries manually unless absolutely required.
The <code>INSTALL_PROGRAM</code> macro installs and strips a binary at the same time.
The <code>INSTALL_LIB</code> macro does the same thing to shared libraries.</p></div><div class=paragraph><p>When a file must be stripped, but neither <code>INSTALL_PROGRAM</code> nor <code>INSTALL_LIB</code> macros are desirable, <code>${STRIP_CMD}</code> strips the program or shared library.
This is typically done within the <code>post-install</code> target. For example:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/xdl</pre></div></div><div class=paragraph><p>When multiple files need to be stripped:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
.for l in geometry media body track world
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib${PORTNAME}-${l}.so.0
.endfor</pre></div></div><div class=paragraph><p>Use <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> on a file to determine if it has been stripped.
Binaries are reported by <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> as <code>stripped</code>, or <code>not stripped</code>.
Additionally, <a href="https://man.freebsd.org/cgi/man.cgi?query=strip&amp;sektion=1&amp;format=html">strip(1)</a> will detect programs that have already been stripped and exit cleanly.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>When <code>WITH_DEBUG</code> is defined, elf files <em>must not</em> be stripped.</p></div><div class=paragraph><p>The variables (<code>STRIP_CMD</code>, <code>INSTALL_PROGRAM</code>, <code>INSTALL_LIB</code>, …​) and <a href=../uses/#uses><code>USES</code></a> provided by the framework handle this automatically.</p></div><div class=paragraph><p>Some software, add <code>-s</code> to their <code>LDFLAGS</code>, in this case, either remove <code>-s</code> if <code>WITH_DEBUG</code> is set, or remove it unconditionally and use <code>STRIP_CMD</code> in <code>post-install</code>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-copytree>5.17.3. Installing a Whole Tree of Files<a class=anchor href=#install-copytree></a></h3><div class=paragraph><p>Sometimes, a large number of files must be installed while preserving their hierarchical organization.
For example, copying over a whole directory tree from <code>WRKSRC</code> to a target directory under <code>PREFIX</code>.
Note that <code>PREFIX</code>, <code>EXAMPLESDIR</code>, <code>DATADIR</code>, and other path variables must always be prepended with <code>STAGEDIR</code> to respect staging (see <a href=../special/#staging>Staging</a>).</p></div><div class=paragraph><p>Two macros exist for this situation.
The advantage of using these macros instead of <code>cp</code> is that they guarantee proper file ownership and permissions on target files.
The first macro, <code>COPYTREE_BIN</code>, will set all the installed files to be executable, thus being suitable for installing into <span class=filename>PREFIX/bin</span>.
The second macro, <code>COPYTREE_SHARE</code>, does not set executable permissions on files, and is therefore suitable for installing files under <span class=filename>PREFIX/share</span> target.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${EXAMPLESDIR}
	(cd ${WRKSRC}/examples &amp;&amp; ${COPYTREE_SHARE} . ${STAGEDIR}${EXAMPLESDIR})</pre></div></div><div class=paragraph><p>This example will install the contents of the <span class=filename>examples</span> directory in the vendor distfile to the proper examples location of the port.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${DATADIR}/summer
	(cd ${WRKSRC}/temperatures &amp;&amp; ${COPYTREE_SHARE} &#34;June July August&#34; ${STAGEDIR}${DATADIR}/summer)</pre></div></div><div class=paragraph><p>And this example will install the data of summer months to the <span class=filename>summer</span> subdirectory of a <span class=filename>DATADIR</span>.</p></div><div class=paragraph><p>Additional <code>find</code> arguments can be passed via the third argument to <code>COPYTREE_*</code> macros.
For example, to install all files from the first example except Makefiles, one can use these commands.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${EXAMPLESDIR}
	(cd ${WRKSRC}/examples &amp;&amp; \
	${COPYTREE_SHARE} . ${STAGEDIR}${EXAMPLESDIR} &#34;! -name Makefile&#34;)</pre></div></div><div class=paragraph><p>These macros do not add the installed files to <span class=filename>pkg-plist</span>.
They must be added manually.
For optional documentation (<code>PORTDOCS</code>, see
<a href=../makefiles/#install-documentation>Install Additional Documentation</a>) and examples (<code>PORTEXAMPLES</code>), the <code>%%PORTDOCS%%</code> or <code>%%PORTEXAMPLES%%</code> prefixes must be prepended in <span class=filename>pkg-plist</span>.</p></div></div><div class=sect2><h3 id=install-documentation>5.17.4. Install Additional Documentation<a class=anchor href=#install-documentation></a></h3><div class=paragraph><p>If the software has some documentation other than the standard man and info pages that is useful for the user, install it under <code>DOCSDIR</code>.
This can be done, like the previous item, in the <code>post-install</code> target.</p></div><div class=paragraph><p>Create a new directory for the port.
The directory name is <code>DOCSDIR</code>.
This usually equals <code>PORTNAME</code>.
However, if the user might want different versions of the port to be installed at the same time, the whole <code>PKGNAME</code> can be used.</p></div><div class=paragraph><p>Since only the files listed in <span class=filename>pkg-plist</span> are installed, it is safe to always install documentation to <code>STAGEDIR</code> (see <a href=../special/#staging>Staging</a>).
Hence <code>.if</code> blocks are only needed when the installed files are large enough to cause significant I/O overhead.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
	${MKDIR} ${STAGEDIR}${DOCSDIR}
	${INSTALL_DATA} ${WRKSRC}/docs/xvdocs.ps ${STAGEDIR}${DOCSDIR}</pre></div></div><div class=paragraph><p>On the other hand, if there is a DOCS option in the port, install the documentation in a <code>post-install-DOCS-on</code> target.
These targets are described in <a href=../makefiles/#options-targets>Additional Build Targets</a>.</p></div><div class=paragraph><p>Here are some handy variables and how they are expanded by default when used in the <span class=filename>Makefile</span>:</p></div><div class=ulist><ul><li><p><code>DATADIR</code> gets expanded to <span class=filename>PREFIX/share/PORTNAME</span>.</p></li><li><p><code>DATADIR_REL</code> gets expanded to <span class=filename>share/PORTNAME</span>.</p></li><li><p><code>DOCSDIR</code> gets expanded to <span class=filename>PREFIX/share/doc/PORTNAME</span>.</p></li><li><p><code>DOCSDIR_REL</code> gets expanded to <span class=filename>share/doc/PORTNAME</span>.</p></li><li><p><code>EXAMPLESDIR</code> gets expanded to <span class=filename>PREFIX/share/examples/PORTNAME</span>.</p></li><li><p><code>EXAMPLESDIR_REL</code> gets expanded to <span class=filename>share/examples/PORTNAME</span>.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>The <code>DOCS</code> option only controls additional documentation installed in <code>DOCSDIR</code>.
It does not apply to standard man pages and info pages.
Things installed in <code>EXAMPLESDIR</code> are controlled by the <code>EXAMPLES</code> option.</p></div></td></tr></tbody></table></div><div class=paragraph><p>These variables are exported to <code>PLIST_SUB</code>.
Their values will appear there as pathnames relative to <span class=filename>PREFIX</span> if possible.
That is, <span class=filename>share/doc/PORTNAME</span> will be substituted for <code>%%DOCSDIR%%</code> in the packing list by default, and so on.
(See more on <span class=filename>pkg-plist</span> substitution <a href=../plist/#plist-sub>here</a>.)</p></div><div class=paragraph><p>All conditionally installed documentation files and directories are included in <span class=filename>pkg-plist</span> with the <code>%%PORTDOCS%%</code> prefix, for example:</p></div><div class="literalblock programlisting"><div class=content><pre>%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
%%PORTDOCS%%%%DOCSDIR%%/CONTACT</pre></div></div><div class=paragraph><p>As an alternative to enumerating the documentation files in <span class=filename>pkg-plist</span>, a port can set the variable <code>PORTDOCS</code> to a list of file names and shell glob patterns to add to the final packing list.
The names will be relative to <code>DOCSDIR</code>.
Therefore, a port that utilizes <code>PORTDOCS</code>, and uses a non-default location for its documentation, must set <code>DOCSDIR</code> accordingly.
If a directory is listed in <code>PORTDOCS</code> or matched by a glob pattern from this variable, the entire subtree of contained files and directories will be registered in the final packing list.
If the <code>DOCS</code> option has been unset then files and directories listed in <code>PORTDOCS</code> would not be installed or added to port packing list.
Installing the documentation at <code>PORTDOCS</code> as shown above remains up to the port itself.
A typical example of utilizing <code>PORTDOCS</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTDOCS=	README.* ChangeLog docs/*</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>The equivalents of <code>PORTDOCS</code> for files installed under <code>DATADIR</code> and <code>EXAMPLESDIR</code> are <code>PORTDATA</code> and <code>PORTEXAMPLES</code>, respectively.</p></div><div class=paragraph><p>The contents of <span class=filename>pkg-message</span> are displayed upon installation.
See <a href=../pkg-files/#porting-message>the section on using <span class=filename>pkg-message</span></a> for details.
<span class=filename>pkg-message</span> does not need to be added to <span class=filename>pkg-plist</span>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-subdirs>5.17.5. Subdirectories Under <code>PREFIX</code><a class=anchor href=#install-subdirs></a></h3><div class=paragraph><p>Try to let the port put things in the right subdirectories of <code>PREFIX</code>.
Some ports lump everything and put it in the subdirectory with the port’s name, which is incorrect.
Also, many ports put everything except binaries, header files and manual pages in a subdirectory of <span class=filename>lib</span>, which does not work well with the BSD paradigm.
Many of the files must be moved to one of these directories: <span class=filename>etc</span> (setup/configuration files), <span class=filename>libexec</span> (executables started internally), <span class=filename>sbin</span> (executables for superusers/managers), <span class=filename>info</span> (documentation for info browser) or <span class=filename>share</span> (architecture independent files).
See <a href="https://man.freebsd.org/cgi/man.cgi?query=hier&amp;sektion=7&amp;format=html">hier(7)</a> for details; the rules governing <span class=filename>/usr</span> pretty much apply to <span class=filename>/usr/local</span> too.
The exception are ports dealing with USENET "news".
They may use <span class=filename>PREFIX/news</span> as a destination for their files.</p></div></div></div></div><div class=sect1><h2 id=binary-alias>5.18. Use <code>BINARY_ALIAS</code> to Rename Commands Instead of Patching the Build<a class=anchor href=#binary-alias></a></h2><div class=sectionbody><div class=paragraph><p>When <code>BINARY_ALIAS</code> is defined it will create symlinks of the given commands in a directory which will be prepended to <code>PATH</code>.</p></div><div class=paragraph><p>Use it to substitute hardcoded commands the build phase relies on without having to patch any build files.</p></div><div id=binary-alias-ex1 class=exampleblock><div class=title>Example 48. Using <code>BINARY_ALIAS</code> to Make <code>gsed</code> Available as <code>sed</code></div><div class=content><div class=paragraph><p>Some ports expect <code>sed</code> to behave like GNU sed and use features that <a href="https://man.freebsd.org/cgi/man.cgi?query=sed&amp;sektion=1&amp;format=html">sed(1)</a> does not provide.
GNU sed is available from <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/gsed/>textproc/gsed</a> on FreeBSD.</p></div><div class=paragraph><p>Use <code>BINARY_ALIAS</code> to substitute <code>sed</code> with <code>gsed</code> for the duration of the build:</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=	gsed:textproc/gsed
...
BINARY_ALIAS=	sed=gsed</pre></div></div></div></div><div id=binary-alias-ex2 class=exampleblock><div class=title>Example 49. Using <code>BINARY_ALIAS</code> to Provide Aliases for Hardcoded <code>python3</code> Commands</div><div class=content><div class=paragraph><p>A port that has a hardcoded reference to <code>python3</code> in its build scripts will need to have it available in <code>PATH</code> at build time.
Use <code>BINARY_ALIAS</code> to create an alias that points to the right Python 3 binary:</p></div><div class="literalblock programlisting"><div class=content><pre>USES=	python:3.4+,build
...
BINARY_ALIAS=	python3=${PYTHON_CMD}</pre></div></div><div class=paragraph><p>See <a href=../special/#using-python>Using Python</a> for more information about <code>USES=python</code>.</p></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Binary aliases are created after the dependencies provided via <code>BUILD_DEPENDS</code> and <code>LIB_DEPENDS</code> are processed and before the <code>configure</code> target.
This leads to various limitations.
For example, programs installed via <code>TEST_DEPENDS</code> cannot be used to create a binary alias as test dependencies specified this way are processed after binary aliases are created.</p></div></td></tr></tbody></table></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: September 23, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=c6f45f0053" target=_blank>Fernando Apesteguía</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/en/books/porters-handbook/slow-porting class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/en/books/porters-handbook/special class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. The Original Source</a></li><li><a href=#makefile-naming>5.2. Naming</a></li><li><a href=#makefile-categories>5.3. Categorization</a></li><li><a href=#makefile-distfiles>5.4. The Distribution Files</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-www>5.7. Project website</a></li><li><a href=#licenses>5.8. Licenses</a></li><li><a href=#makefile-portscout>5.9. <code>PORTSCOUT</code></a></li><li><a href=#makefile-depend>5.10. Dependencies</a></li><li><a href=#makefile-masterdir>5.11. Slave Ports and <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.12. Man Pages</a></li><li><a href=#makefile-info>5.13. Info Files</a></li><li><a href=#makefile-options>5.14. Makefile Options</a></li><li><a href=#makefile-wrkdir>5.15. Specifying the Working Directory</a></li><li><a href=#conflicts>5.16. Conflict Handling</a></li><li><a href=#install>5.17. Installing Files</a></li><li><a href=#binary-alias>5.18. Use <code>BINARY_ALIAS</code> to Rename Commands Instead of Patching the Build</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/en/books/porters-handbook/porters-handbook_en.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/en/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/en/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>English</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/en class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/en/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>