<!doctype html><html class=theme-light lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A description of the various font technologies in FreeBSD, and how to use them with different programs"><meta name=keywords content="Fonts,syscons,X11,Ghostscript,Groff,guide,tutorial,FreeBSD"><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/en/articles/fonts/><title>Fonts and FreeBSD | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Fonts and FreeBSD"><meta property="og:description" content="A description of the various font technologies in FreeBSD, and how to use them with different programs"><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="en"><meta property="og:url" content="http://172.16.201.134:1313/en/articles/fonts/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/en\/articles\/fonts\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/en>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/en/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/en/books>Books</a></li><li><a href=http://172.16.201.134:1313/en/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/en/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=en>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><main class=main-wrapper-article><div class=article><h1 class=title>Fonts and FreeBSD</h1><h3 class=subtitle>A Tutorial</h3><div class=legalnotice><a id=trademarks></a><details><summary>trademarks</summary><p>FreeBSD is a registered trademark of the FreeBSD Foundation.</p><p>Adobe, Acrobat, Acrobat Reader, Flash and PostScript are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries.</p><p>Apple, AirPort, FireWire, iMac, iPhone, iPad, Mac, Macintosh, Mac OS, Quicktime, and TrueType are trademarks of Apple Inc., registered in the U.S. and other countries.</p><p>Linux is a registered trademark of Linus Torvalds.</p><p>Microsoft, IntelliMouse, MS-DOS, Outlook, Windows, Windows Media and Windows NT are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries.</p><p>Motif, OSF/1, and UNIX are registered trademarks and IT DialTone and The Open Group are trademarks of The Open Group in the United States and other countries.</p><p>Many of the designations used by manufacturers and sellers to distinguish their products are claimed as trademarks. Where those designations appear in this document, and the FreeBSD Project was aware of the trademark claim, the designations have been followed by the “™” or the “®” symbol.</p></details></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#intro>1. Introduction</a></li><li><a href=#terminology>2. Basic Terminology</a></li><li><a href=#font-formats>3. What Font Formats Can I Use?</a></li><li><a href=#virtual-console>4. Setting a Virtual Console to 80x60 Line Mode</a></li><li><a href=#type1-fonts-x11>5. Using Type 1 Fonts with X11</a></li><li><a href=#type1-fonts-ghostscript>6. Using Type 1 Fonts with Ghostscript</a></li><li><a href=#type1-fonts-groff>7. Using Type 1 Fonts with Groff</a></li><li><a href=#convert-truetype>8. Converting TrueType Fonts to a groff/PostScript Format For groff</a></li><li><a href=#truetype-for-other-programs>9. Can TrueType Fonts be Used with Other Programs?</a></li><li><a href=#obtaining-additional-fonts>10. Where Can Additional Fonts be Obtained?</a></li><li><a href=#additional-questions>11. Additional Questions</a></li></ul></nav></div><div id=preamble><div class=sectionbody><div class="paragraph abstract-title"><p>Abstract</p></div><div class=paragraph><p>This document contains a description of the various font files that may be used with FreeBSD and the syscons driver, X11, Ghostscript and Groff.
Cookbook examples are provided for switching the syscons display to 80x60 mode, and for using type 1 fonts with the above application programs.</p></div><hr></div></div><div class=sect1><h2 id=intro>1. Introduction<a class=anchor href=#intro></a></h2><div class=sectionbody><div class=paragraph><p>There are many sources of fonts available, and one might ask how they might be used with FreeBSD.
The answer can be found by carefully searching the documentation for the component that one would like to use.
This is very time consuming, so this tutorial is an attempt to provide a shortcut for others who might be interested.</p></div></div></div><div class=sect1><h2 id=terminology>2. Basic Terminology<a class=anchor href=#terminology></a></h2><div class=sectionbody><div class=paragraph><p>There are many different font formats and associated font file suffixes.
A few that will be addressed here are:</p></div><div class=dlist><dl><dt class=hdlist1><span class=filename>.pfa</span>, <span class=filename>.pfb</span></dt><dd><p>PostScript® type 1 fonts. The <span class=filename>.pfa</span> is the <em>A</em>scii form and <span class=filename>.pfb</span> the <em>B</em>inary form.</p></dd><dt class=hdlist1><span class=filename>.afm</span></dt><dd><p>The font metrics associated with a type 1 font.</p></dd><dt class=hdlist1><span class=filename>.pfm</span></dt><dd><p>The printer font metrics associated with a type 1 font.</p></dd><dt class=hdlist1><span class=filename>.ttf</span></dt><dd><p>A TrueType® font</p></dd><dt class=hdlist1><span class=filename>.fot</span></dt><dd><p>An indirect reference to a TrueType font (not an actual font)</p></dd><dt class=hdlist1><span class=filename>.fon</span>, <span class=filename>.fnt</span></dt><dd><p>Bitmapped screen fonts</p></dd></dl></div><div class=paragraph><p>The <span class=filename>.fot</span> is used by Windows® as sort of a symbolic link to the actual TrueType® font (<span class=filename>.ttf</span>) file. The <span class=filename>.fon</span> font files are also used by Windows.
I know of no way to use this font format with FreeBSD.</p></div></div></div><div class=sect1><h2 id=font-formats>3. What Font Formats Can I Use?<a class=anchor href=#font-formats></a></h2><div class=sectionbody><div class=paragraph><p>Which font file format is useful depends on the application being used.
FreeBSD by itself uses no fonts.
Application programs and/or drivers may make use of the font files.
Here is a small cross reference of application/driver to the font type suffixes:</p></div><div class=dlist><dl><dt class=hdlist1>Driver</dt><dd><div class=dlist><dl><dt class=hdlist1>vt</dt><dd><p><span class=filename>.hex</span></p></dd><dt class=hdlist1>syscons</dt><dd><p><span class=filename>.fnt</span></p></dd></dl></div></dd><dt class=hdlist1>Application</dt><dd><div class=dlist><dl><dt class=hdlist1>Ghostscript</dt><dd><p><span class=filename>.pfa</span>, <span class=filename>.pfb</span>, <span class=filename>.ttf</span></p></dd><dt class=hdlist1>X11</dt><dd><p><span class=filename>.pfa</span>, <span class=filename>.pfb</span></p></dd><dt class=hdlist1>Groff</dt><dd><p><span class=filename>.pfa</span>, <span class=filename>.afm</span></p></dd><dt class=hdlist1>Povray</dt><dd><p><span class=filename>.ttf</span></p></dd></dl></div></dd></dl></div><div class=paragraph><p>The <span class=filename>.fnt</span> suffix is used quite frequently.
I suspect that whenever someone wanted to create a specialized font file for their application, more often than not they chose this suffix.
Therefore, it is likely that files with this suffix are not all the same format; specifically, the <span class=filename>.fnt</span> files used by syscons under FreeBSD may not be the same format as a <span class=filename>.fnt</span> one encounters in the MS-DOS®/Windows® environment.
I have not made any attempt at using other <span class=filename>.fnt</span> files other than those provided with FreeBSD.</p></div></div></div><div class=sect1><h2 id=virtual-console>4. Setting a Virtual Console to 80x60 Line Mode<a class=anchor href=#virtual-console></a></h2><div class=sectionbody><div class=paragraph><p>First, an 8x8 font must be loaded.
To do this, <span class=filename>/etc/rc.conf</span> should contain the line (change the font name to an appropriate one for your locale):</p></div><div class="literalblock programlisting"><div class=content><pre>font8x8=&#34;iso-8x8&#34;		# font 8x8 from /usr/share/syscons/fonts/* (or NO).</pre></div></div><div class=paragraph><p>The command to actually switch the mode is <a href="https://man.freebsd.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1&amp;format=html">vidcontrol(1)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% vidcontrol VGA_80x60</code></pre></div></div><div class=paragraph><p>Various screen-oriented programs, such as <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a>, must be able to determine the current screen dimensions.
As this is achieved this through <code>ioctl</code> calls to the console driver (such as <a href="https://man.freebsd.org/cgi/man.cgi?query=syscons&amp;sektion=4&amp;format=html">syscons(4)</a>) they will correctly determine the new screen dimensions.</p></div><div class=paragraph><p>To make this more seamless, one can embed these commands in the startup scripts so it takes place when the system boots.
To do this is add this line to <span class=filename>/etc/rc.conf</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>allscreens_flags=&#34;VGA_80x60&#34;	# Set this vidcontrol mode for all virtual screens</pre></div></div><div class=paragraph><p>References: <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1&amp;format=html">vidcontrol(1)</a>.</p></div></div></div><div class=sect1><h2 id=type1-fonts-x11>5. Using Type 1 Fonts with X11<a class=anchor href=#type1-fonts-x11></a></h2><div class=sectionbody><div class=paragraph><p>X11 can use either the <span class=filename>.pfa</span> or the <span class=filename>.pfb</span> format fonts.
The X11 fonts are located in various subdirectories under <span class=filename>/usr/X11R6/lib/X11/fonts</span>.
Each font file is cross referenced to its X11 name by the contents of <span class=filename>fonts.dir</span> in each directory.</p></div><div class=paragraph><p>There is already a directory named <span class=filename>Type1</span>.
The most straight forward way to add a new font is to put it into this directory.
A better way is to keep all new fonts in a separate directory and use a symbolic link to the additional font.
This allows one to more easily keep track of ones fonts without confusing them with the fonts that were originally provided.
For example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Create a directory to contain the font files
% <span class=nb>mkdir</span> <span class=nt>-p</span> /usr/local/share/fonts/type1
% <span class=nb>cd</span> /usr/local/share/fonts/type1

Place the .pfa, .pfb and .afm files here

One might want to keep readme files, and other documentation

<span class=k>for </span>the fonts here also
% <span class=nb>cp</span> /cdrom/fonts/atm/showboat/showboat.pfb <span class=nb>.</span>
% <span class=nb>cp</span> /cdrom/fonts/atm/showboat/showboat.afm <span class=nb>.</span>

Maintain an index to cross reference the fonts
% <span class=nb>echo </span>showboat - InfoMagic CICA, Dec 1994, /fonts/atm/showboat <span class=o>&gt;&gt;</span>INDEX</code></pre></div></div><div class=paragraph><p>Now, to use a new font with X11, one must make the font file available and update the font name files.
The X11 font names look like:</p></div><div class="literalblock programlisting"><div class=content><pre>-bitstream-charter-medium-r-normal-xxx-0-0-0-0-p-0-iso8859-1
     |        |      |    |   |     |  | | | | | |    \    \
     |        |      |    |   |     \  \ \ \ \ \ \     +----+- character set
     |        |      |    |   \      \  \ \ \ \ \ +- average width
     |        |      |    |    \      \  \ \ \ \ +- spacing
     |        |      |    \	\      \  \ \ \ +- vertical res.
     |        |      |     \	 \	\  \ \ +- horizontal res.
     |        |      |      \	  \	 \  \ +- points
     |        |      |       \     \	  \  +- pixels
     |        |      |        \     \	   \
  foundry  family  weight   slant  width  additional style</pre></div></div><div class=paragraph><p>A new name needs to be created for each new font.
If you have some information from the documentation that accompanied the font, then it could serve as the basis for creating the name.
If there is no information, then you can get some idea by using <a href="https://man.freebsd.org/cgi/man.cgi?query=strings&amp;sektion=1&amp;format=html">strings(1)</a> on the font file.
For example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% strings showboat.pfb | more
%!FontType1-1.0: Showboat 001.001
%%CreationDate: 1/15/91 5:16:03 PM
%%VMusage: 1024 45747
% Generated by Fontographer 3.1
% Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.
FontDirectory/Showboat known<span class=o>{</span>/Showboat findfont dup/UniqueID known<span class=o>{</span>dup
/UniqueID get 4962377 eq exch/FontType get 1 eq and<span class=o>}{</span>pop <span class=nb>false</span><span class=o>}</span>ifelse
<span class=o>{</span>save <span class=nb>true</span><span class=o>}{</span><span class=nb>false</span><span class=o>}</span>ifelse<span class=o>}{</span><span class=nb>false</span><span class=o>}</span>ifelse
12 dict begin
/FontInfo 9 dict dup begin
 /version <span class=o>(</span>001.001<span class=o>)</span> <span class=nb>readonly </span>def
 /FullName <span class=o>(</span>Showboat<span class=o>)</span> <span class=nb>readonly </span>def
 /FamilyName <span class=o>(</span>Showboat<span class=o>)</span> <span class=nb>readonly </span>def
 /Weight <span class=o>(</span>Medium<span class=o>)</span> <span class=nb>readonly </span>def
 /ItalicAngle 0 def
 /isFixedPitch <span class=nb>false </span>def
 /UnderlinePosition <span class=nt>-106</span> def
 /UnderlineThickness 16 def
 /Notice <span class=o>(</span>Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.<span class=o>)</span> <span class=nb>readonly </span>def
end <span class=nb>readonly </span>def
/FontName /Showboat def
<span class=nt>--stdin--</span></code></pre></div></div><div class=paragraph><p>Using this information, a possible name might be:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=nt>-type1-Showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1</span></code></pre></div></div><div class=paragraph><p>The components of our name are:</p></div><div class=dlist><dl><dt class=hdlist1>Foundry</dt><dd><p>Lets just name all the new fonts <code>type1</code>.</p></dd><dt class=hdlist1>Family</dt><dd><p>The name of the font.</p></dd><dt class=hdlist1>Weight</dt><dd><p>Normal, bold, medium, semibold, etc.
From the <a href="https://man.freebsd.org/cgi/man.cgi?query=strings&amp;sektion=1&amp;format=html">strings(1)</a> output above, it appears that this font has a weight of <em>medium</em>.</p></dd><dt class=hdlist1>Slant</dt><dd><p><em>r</em>oman, <em>i</em>talic, <em>o</em>blique, etc.
Since the <em>ItalicAngle</em> is zero, <em>roman</em> will be used.</p></dd><dt class=hdlist1>Width</dt><dd><p>Normal, wide, condensed, extended, etc.
Until it can be examined, the assumption will be <em>normal</em>.</p></dd><dt class=hdlist1>Additional style</dt><dd><p>Usually omitted, but this will indicate that the font contains decorative capital letters.</p></dd><dt class=hdlist1>Spacing</dt><dd><p>proportional or monospaced.
<em>Proportional</em> is used since <em>isFixedPitch</em> is false.</p></dd></dl></div><div class=paragraph><p>All of these names are arbitrary, but one should strive to be compatible with the existing conventions.
A font is referenced by name with possible wild cards by an X11 program, so the name chosen should make some sense.
One might begin by simply using</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>...-normal-r-normal-...-p-...</code></pre></div></div><div class=paragraph><p>as the name, and then use <a href="https://man.freebsd.org/cgi/man.cgi?query=xfontsel&amp;sektion=1&amp;format=html">xfontsel(1)</a> to examine it and adjust the name based on the appearance of the font.</p></div><div class=paragraph><p>So, to complete our example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Make the font accessible to X11
% <span class=nb>cd</span> /usr/X11R6/lib/X11/fonts/Type1
% <span class=nb>ln</span> <span class=nt>-s</span> /usr/local/share/fonts/type1/showboat.pfb <span class=nb>.</span>

Edit fonts.dir and fonts.scale, adding the line describing the font
and incrementing the number of fonts which is found on the first line.
% ex fonts.dir
:1p
25
:1c
26
<span class=nb>.</span>
:<span class=nv>$a</span>
showboat.pfb <span class=nt>-type1-showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1</span>
<span class=nb>.</span>
:wq

fonts.scale seems to be identical to fonts.dir...
% <span class=nb>cp </span>fonts.dir fonts.scale

Tell X11 that things have changed
% xset fp rehash

Examine the new font
% xfontsel <span class=nt>-pattern</span> <span class=nt>-type1-</span><span class=k>*</span></code></pre></div></div><div class=paragraph><p>References: <a href="https://man.freebsd.org/cgi/man.cgi?query=xfontsel&amp;sektion=1&amp;format=html">xfontsel(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=xset&amp;sektion=1&amp;format=html">xset(1)</a>, The X Windows System in a Nutshell, <a href=http://www.ora.com/>O’Reilly & Associates</a>.</p></div></div></div><div class=sect1><h2 id=type1-fonts-ghostscript>6. Using Type 1 Fonts with Ghostscript<a class=anchor href=#type1-fonts-ghostscript></a></h2><div class=sectionbody><div class=paragraph><p>Ghostscript references a font via its <span class=filename>Fontmap</span>.
This must be modified in a similar way to the X11 <span class=filename>fonts.dir</span>.
Ghostscript can use either the <span class=filename>.pfa</span> or the <span class=filename>.pfb</span> format fonts.
Using the font from the previous example, here is how to use it with Ghostscript:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Put the font <span class=k>in </span>Ghostscript<span class=s1>&#39;s font directory
% cd /usr/local/share/ghostscript/fonts
% ln -s /usr/local/share/fonts/type1/showboat.pfb .

Edit Fontmap so Ghostscript knows about the font
% cd /usr/local/share/ghostscript/4.01
% ex Fontmap
:$a
/Showboat        (showboat.pfb) ; % From CICA /fonts/atm/showboat
.
:wq

Use Ghostscript to examine the font
% gs prfont.ps
Aladdin Ghostscript 4.01 (1996-7-10)
Copyright (C) 1996 Aladdin Enterprises, Menlo Park, CA.  All rights
reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Loading Times-Roman font from /usr/local/share/ghostscript/fonts/tir_____.pfb...
 /1899520 581354 1300084 13826 0 done.
GS&gt;Showboat DoFont
Loading Showboat font from /usr/local/share/ghostscript/fonts/showboat.pfb...
 1939688 565415 1300084 16901 0 done.
&gt;&gt;showpage, press &lt;return&gt; to continue&lt;&lt;
&gt;&gt;showpage, press &lt;return&gt; to continue&lt;&lt;
&gt;&gt;showpage, press &lt;return&gt; to continue&lt;&lt;
GS&gt;quit</span></code></pre></div></div><div class=paragraph><p>References: <span class=filename>fonts.txt</span> in the Ghostscript 4.01 distribution</p></div></div></div><div class=sect1><h2 id=type1-fonts-groff>7. Using Type 1 Fonts with Groff<a class=anchor href=#type1-fonts-groff></a></h2><div class=sectionbody><div class=paragraph><p>Now that the new font can be used by both X11 and Ghostscript, how can one use the new font with groff? First of all, since we are dealing with type 1 PostScript® fonts, the groff device that is applicable is the <em>ps</em> device.
A font file must be created for each font that groff can use.
A groff font name is just a file in <span class=filename>/usr/share/groff_font/devps</span>.
With our example, the font file could be <span class=filename>/usr/share/groff_font/devps/SHOWBOAT</span>.
The file must be created using tools provided by groff.</p></div><div class=paragraph><p>The first tool is <code>afmtodit</code>.
This is not normally installed, so it must be retrieved from the source distribution.
I found I had to change the first line of the file, so I did:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cp</span> /usr/src/gnu/usr.bin/groff/afmtodit/afmtodit.pl /tmp
% ex /tmp/afmtodit.pl
:1c
<span class=c>#!/usr/bin/perl -P-</span>
<span class=nb>.</span>
:wq</code></pre></div></div><div class=paragraph><p>This tool will create the groff font file from the metrics file (<span class=filename>.afm</span> suffix.)
Continuing with our example:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Many .afm files are <span class=k>in </span>Mac format... ^M delimited lines
We need to convert them to UNIX<span class=o>(</span>R<span class=o>)</span> style ^J delimited lines
% <span class=nb>cd</span> /tmp
% <span class=nb>cat</span> /usr/local/share/fonts/type1/showboat.afm |
	<span class=nb>tr</span> <span class=s1>&#39;\015&#39;</span> <span class=s1>&#39;\012&#39;</span> <span class=o>&gt;</span>showboat.afm

Now create the groff font file
% <span class=nb>cd</span> /usr/share/groff_font/devps
% /tmp/afmtodit.pl <span class=nt>-d</span> DESC <span class=nt>-e</span> text.enc /tmp/showboat.afm generate/textmap SHOWBOAT</code></pre></div></div><div class=paragraph><p>The font can now be referenced with the name SHOWBOAT.</p></div><div class=paragraph><p>If Ghostscript is used to drive the printers on the system, then nothing more needs to be done.
However, if true PostScript® printers are used, then the font must be downloaded to the printer in order for the font to be used (unless the printer happens to have the showboat font built in or on an accessible font disk.)
The final step is to create a downloadable font.
The <code>pfbtops</code> tool is used to create the <span class=filename>.pfa</span> format of the font, and <span class=filename>download</span> is modified to reference the new font.
The <span class=filename>download</span> must reference the internal name of the font.
This can easily be determined from the groff font file as illustrated:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Create the .pfa font file
% pfbtops /usr/local/share/fonts/type1/showboat.pfb <span class=o>&gt;</span>showboat.pfa</code></pre></div></div><div class=paragraph><p>Of course, if <span class=filename>.pfa</span> is already available, just use a symbolic link to reference it.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Get the internal font name
% fgrep internalname SHOWBOAT
internalname Showboat
Tell groff that the font must be downloaded
% ex download
:<span class=nv>$a</span>
Showboat      showboat.pfa
<span class=nb>.</span>
:wq</code></pre></div></div><div class=paragraph><p>To test the font:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> /tmp
% <span class=nb>cat</span> <span class=o>&gt;</span>example.t <span class=o>&lt;&lt;</span><span class=no>EOF</span><span class=sh>
.sp 5
.ps 16
This is an example of the Showboat font:
.br
.ps 48
.vs (</span><span class=se>\n</span><span class=sh>(.s+2)p
.sp
.ft SHOWBOAT
ABCDEFGHI
.br
JKLMNOPQR
.br
STUVWXYZ
.sp
.ps 16
.vs (</span><span class=se>\n</span><span class=sh>(.s+2)p
.fp 5 SHOWBOAT
.ft R
To use it for the first letter of a paragraph, it will look like:
.sp 50p
</span><span class=se>\s</span><span class=sh>(48</span><span class=se>\f</span><span class=sh>5H</span><span class=se>\s</span><span class=sh>0</span><span class=se>\f</span><span class=sh>Rere is the first sentence of a paragraph that uses the
showboat font as its first letter.
Additional vertical space must be used to allow room for the larger
letter.
</span><span class=no>EOF
</span>% groff <span class=nt>-Tps</span> example.t <span class=o>&gt;</span>example.ps

To use ghostscript/ghostview
% ghostview example.ps

To print it
% lpr <span class=nt>-Ppostscript</span> example.ps</code></pre></div></div><div class=paragraph><p>References: <span class=filename>/usr/src/gnu/usr.bin/groff/afmtodit/afmtodit.man</span>, <a href="https://man.freebsd.org/cgi/man.cgi?query=groff_font&amp;sektion=5&amp;format=html">groff_font(5)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=groff_char&amp;sektion=7&amp;format=html">groff_char(7)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=pfbtops&amp;sektion=1&amp;format=html">pfbtops(1)</a>.</p></div></div></div><div class=sect1><h2 id=convert-truetype>8. Converting TrueType Fonts to a groff/PostScript Format For groff<a class=anchor href=#convert-truetype></a></h2><div class=sectionbody><div class=paragraph><p>This potentially requires a bit of work, simply because it depends on some utilities that are not installed as part of the base system.
They are:</p></div><div class=dlist><dl><dt class=hdlist1><code>ttf2pf</code></dt><dd><p>TrueType to PostScript conversion utilities.
This allows conversion of a TrueType font to an ascii font metric (<span class=filename>.afm</span>) file.</p><div class=paragraph><p>Currently available at <a href=http://sunsite.icm.edu.pl/pub/GUST/contrib/BachoTeX98/ttf2pf/>http://sunsite.icm.edu.pl/pub/GUST/contrib/BachoTeX98/ttf2pf/</a>.
Note: These files are PostScript programs and must be downloaded to disk by holding down <kbd>Shift</kbd> when clicking on the link.
Otherwise, your browser may try to launch ghostview to view them.</p></div><div class=paragraph><p>The files of interest are:</p></div><div class=ulist><ul><li><p><span class=filename>GS_TTF.PS</span></p></li><li><p><span class=filename>PF2AFM.PS</span></p></li><li><p><span class=filename>ttf2pf.ps</span></p><div class=paragraph><p>The funny upper/lower case is due to their being intended also for DOS shells.
<span class=filename>ttf2pf.ps</span> makes use of the others as upper case, so any renaming must be consistent with this.
(Actually, <span class=filename>GS_TTF.PS</span> and <span class=filename>PFS2AFM.PS</span> are supposedly part of the Ghostscript distribution, but it is just as easy to use these as an isolated utility.
FreeBSD does not seem to include the latter.)
You also may want to have these installed to <span class=filename>/usr/local/share/groff_font/devps</span>(?).</p></div></li></ul></div></dd><dt class=hdlist1><code>afmtodit</code></dt><dd><p>Creates font files for use with groff from ascii font metrics file.
This usually resides in the directory, <span class=filename>/usr/src/contrib/groff/afmtodit</span>, and requires some work to get going.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>If you are paranoid about working in the <span class=filename>/usr/src</span> tree, simply copy the contents of the above directory to a work location.</p></div></td></tr></tbody></table></div><div class=paragraph><p>In the work area, you will need to make the utility.
Just type:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -f Makefile.sub afmtodit</span></code></pre></div></div><div class=paragraph><p>You may also need to copy <span class=filename>/usr/contrib/groff/devps/generate/textmap</span> to <span class=filename>/usr/share/groff_font/devps/generate</span> if it does not already exist.</p></div></dd></dl></div><div class=paragraph><p>Once all these utilities are in place, you are ready to commence:</p></div><div class="olist arabic"><ol class=arabic><li><p>Create <span class=filename>.afm</span> by typing:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% gs <span class=nt>-dNODISPLAY</span> <span class=nt>-q</span> <span class=nt>--</span> ttf2pf.ps TTF_name PS_font_name AFM_name</code></pre></div></div><div class=paragraph><p>Where, <em>TTF_name</em> is your TrueType font file, <em>PS_font_name</em> is the file name for <span class=filename>.pfa</span>, <em>AFM_name</em> is the name you wish for <span class=filename>.afm</span>. If you do not specify output file names for the <span class=filename>.pfa</span> or <span class=filename>.afm</span> files, then default names will be generated from the TrueType font file name.</p></div><div class=paragraph><p>This also produces a <span class=filename>.pfa</span>, the ascii PostScript font metrics file (<span class=filename>.pfb</span> is for the binary form).
This will not be needed, but could (I think) be useful for a fontserver.</p></div><div class=paragraph><p>For example, to convert the 30f9 Barcode font using the default file names, use the following command:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% gs <span class=nt>-dNODISPLAY</span> <span class=nt>--</span> ttf2pf.ps 3of9.ttf
Aladdin Ghostscript 5.10 <span class=o>(</span>1997-11-23<span class=o>)</span>
Copyright <span class=o>(</span>C<span class=o>)</span> 1997 Aladdin Enterprises, Menlo Park, CA.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC <span class=k>for </span>details.
Converting 3of9.ttf to 3of9.pfa and 3of9.afm.</code></pre></div></div><div class=paragraph><p>If you want the converted fonts to be stored in <span class=filename>A.pfa</span> and <span class=filename>B.afm</span>, then use this command:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% gs <span class=nt>-dNODISPLAY</span> <span class=nt>--</span> ttf2pf.ps 3of9.ttf A B
Aladdin Ghostscript 5.10 <span class=o>(</span>1997-11-23<span class=o>)</span>
Copyright <span class=o>(</span>C<span class=o>)</span> 1997 Aladdin Enterprises, Menlo Park, CA.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC <span class=k>for </span>details.
Converting 3of9.ttf to A.pfa and B.afm.</code></pre></div></div></li><li><p>Create the groff PostScript file:</p><div class=paragraph><p>Change directories to <span class=filename>/usr/share/groff_font/devps</span> so as to make the following command easier to execute.
You will probably need root privileges for this.
(Or, if you are paranoid about working there, make sure you reference the files <span class=filename>DESC</span>, <span class=filename>text.enc</span> and <span class=filename>generate/textmap</span> as being in this directory.)</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% afmtodit <span class=nt>-d</span> DESC <span class=nt>-e</span> text.enc file.afm generate/textmap PS_font_name</code></pre></div></div><div class=paragraph><p>Where, <span class=filename>file.afm</span> is the <em>AFM_name</em> created by <code>ttf2pf.ps</code> above, and <em>PS_font_name</em> is the font name used from that command, as well as the name that <a href="https://man.freebsd.org/cgi/man.cgi?query=groff&amp;sektion=1&amp;format=html">groff(1)</a> will use for references to this font.
For example, assuming you used the first <code>tiff2pf.ps</code> above, then the 3of9 Barcode font can be created using the command:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% afmtodit <span class=nt>-d</span> DESC <span class=nt>-e</span> text.enc 3of9.afm generate/textmap 3of9</code></pre></div></div><div class=paragraph><p>Ensure that the resulting <em>PS_font_name</em> file (e.g., <span class=filename>3of9</span> in the example above) is located in the directory <span class=filename>/usr/share/groff_font/devps</span> by copying or moving it there.</p></div><div class=paragraph><p>Note that if <span class=filename>ttf2pf.ps</span> assigns a font name using the one it finds in the TrueType font file and you want to use a different name, you must edit the <span class=filename>.afm</span> prior to running <code>afmtodit</code>.
This name must also match the one used in the Fontmap file if you wish to pipe <a href="https://man.freebsd.org/cgi/man.cgi?query=groff&amp;sektion=1&amp;format=html">groff(1)</a> into <a href="https://man.freebsd.org/cgi/man.cgi?query=gs&amp;sektion=1&amp;format=html">gs(1)</a>.</p></div></li></ol></div></div></div><div class=sect1><h2 id=truetype-for-other-programs>9. Can TrueType Fonts be Used with Other Programs?<a class=anchor href=#truetype-for-other-programs></a></h2><div class=sectionbody><div class=paragraph><p>The TrueType font format is used by Windows, Windows 95, and Mac’s.
It is quite popular and there are a great number of fonts available in this format.</p></div><div class=paragraph><p>Unfortunately, there are few applications that I am aware of that can use this format: Ghostscript and Povray come to mind.
Ghostscript’s support, according to the documentation, is rudimentary and the results are likely to be inferior to type 1 fonts.
Povray version 3 also has the ability to use TrueType fonts, but I rather doubt many people will be creating documents as a series of raytraced pages :-).</p></div><div class=paragraph><p>This rather dismal situation may soon change.
The <a href=http://www.freetype.org/>FreeType Project</a> is currently developing a useful set of FreeType tools:</p></div><div class=ulist><ul><li><p>The <code>xfsft</code> font server for X11 can serve TrueType fonts in addition to regular fonts. Though currently in beta, it is said to be quite usable. See <a href=http://www.dcs.ed.ac.uk/home/jec/programs/xfsft/>Juliusz Chroboczek’s page</a> for further information. Porting instructions for FreeBSD can be found at <a href=http://math.missouri.edu/~stephen/software/>Stephen Montgomery’s software page</a>.</p></li><li><p>xfstt is another font server for X11, available under <a href=ftp://sunsite.unc.edu/pub/Linux/X11/fonts/>ftp://sunsite.unc.edu/pub/Linux/X11/fonts/</a>.</p></li><li><p>A program called <code>ttf2bdf</code> can produce BDF files suitable for use in an X environment from TrueType files. Linux binaries are said to be available from <a href=ftp://crl.nmsu.edu/CLR/multiling/General/>ftp://crl.nmsu.edu/CLR/multiling/General/</a>.</p></li><li><p>and others …​</p></li></ul></div></div></div><div class=sect1><h2 id=obtaining-additional-fonts>10. Where Can Additional Fonts be Obtained?<a class=anchor href=#obtaining-additional-fonts></a></h2><div class=sectionbody><div class=paragraph><p>Many fonts are available on the Internet.
They are either entirely free, or are share-ware.
In addition many fonts are available in the <span class=filename>x11-fonts/</span> category in the ports collection</p></div></div></div><div class=sect1><h2 id=additional-questions>11. Additional Questions<a class=anchor href=#additional-questions></a></h2><div class=sectionbody><div class=ulist><ul><li><p>What use are the <span class=filename>.pfm</span> files?</p></li><li><p>Can one generate the <span class=filename>.afm</span> from a <span class=filename>.pfa</span> or <span class=filename>.pfb</span>?</p></li><li><p>How to generate the groff character mapping files for PostScript fonts with non-standard character names?</p></li><li><p>Can xditview and devX?? devices be set up to access all the new fonts?</p></li><li><p>It would be good to have examples of using TrueType fonts with Povray and Ghostscript.</p></li></ul></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: November 3, 2021 by <a href="https://cgit.freebsd.org/doc/commit/?id=64acd169b8" target=_blank>Sergio Carlavilla Delgado</a></p></div></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#intro>1. Introduction</a></li><li><a href=#terminology>2. Basic Terminology</a></li><li><a href=#font-formats>3. What Font Formats Can I Use?</a></li><li><a href=#virtual-console>4. Setting a Virtual Console to 80x60 Line Mode</a></li><li><a href=#type1-fonts-x11>5. Using Type 1 Fonts with X11</a></li><li><a href=#type1-fonts-ghostscript>6. Using Type 1 Fonts with Ghostscript</a></li><li><a href=#type1-fonts-groff>7. Using Type 1 Fonts with Groff</a></li><li><a href=#convert-truetype>8. Converting TrueType Fonts to a groff/PostScript Format For groff</a></li><li><a href=#truetype-for-other-programs>9. Can TrueType Fonts be Used with Other Programs?</a></li><li><a href=#obtaining-additional-fonts>10. Where Can Additional Fonts be Obtained?</a></li><li><a href=#additional-questions>11. Additional Questions</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/en/articles/fonts/fonts_en.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/en/_index target=_blank>Edit this page</a></li></ul></div></div></aside></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/en/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>English</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/en class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/en/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>