<!doctype html><html class=theme-light lang=en><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The all in one guide for mirroring the FreeBSD website, FTP servers, and more"><meta name=keywords content="Mirroring,FreeBSD,Hub"><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/en/articles/hubs/><title>Mirroring FreeBSD | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Mirroring FreeBSD"><meta property="og:description" content="The all in one guide for mirroring the FreeBSD website, FTP servers, and more"><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="en"><meta property="og:url" content="http://172.16.201.134:1313/en/articles/hubs/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/en\/articles\/hubs\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/en>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/en/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/en/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/en/books>Books</a></li><li><a href=http://172.16.201.134:1313/en/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/en/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=en>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><main class=main-wrapper-article><div class=article><h1 class=title>Mirroring FreeBSD</h1><div class=legalnotice><a id=trademarks></a><details><summary>trademarks</summary><p>FreeBSD is a registered trademark of the FreeBSD Foundation.</p><p>Many of the designations used by manufacturers and sellers to distinguish their products are claimed as trademarks. Where those designations appear in this document, and the FreeBSD Project was aware of the trademark claim, the designations have been followed by the “™” or the “®” symbol.</p></details></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#mirror-contact>1. Contact Information</a></li><li><a href=#mirror-requirements>2. Requirements for FreeBSD Mirrors</a></li><li><a href=#mirror-howto>3. How to Mirror FreeBSD</a></li><li><a href=#mirror-where>4. Where to Mirror From</a></li><li><a href=#mirror-official>5. Official Mirrors</a></li><li><a href=#mirror-statpages>6. Some Statistics from Mirror Sites</a></li></ul></nav></div><div id=preamble><div class=sectionbody><div class="paragraph abstract-title"><p>Abstract</p></div><div class=paragraph><p>An in-progress article on how to mirror FreeBSD, aimed at hub administrators.</p></div><hr><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>We are not accepting new community mirrors at this time.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=mirror-contact>1. Contact Information<a class=anchor href=#mirror-contact></a></h2><div class=sectionbody><div class=paragraph><p>The Mirror System Coordinators can be reached through email at <a href=mailto:mirror-admin@FreeBSD.org>mirror-admin@FreeBSD.org</a>.
There is also a <a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>FreeBSD mirror sites mailing lists</a>.</p></div></div></div><div class=sect1><h2 id=mirror-requirements>2. Requirements for FreeBSD Mirrors<a class=anchor href=#mirror-requirements></a></h2><div class=sectionbody><div class=sect2><h3 id=mirror-diskspace>2.1. Disk Space<a class=anchor href=#mirror-diskspace></a></h3><div class=paragraph><p>Disk space is one of the most important requirements.
Depending on the set of releases, architectures, and degree of completeness you want to mirror, a huge amount of disk space may be consumed.
Also keep in mind that <em>official</em> mirrors are probably required to be complete.
The web pages should always be mirrored completely.
Also note that the numbers stated here are reflecting the current state (at 12.0-RELEASE/11.3-RELEASE).
Further development and releases will only increase the required amount.
Also make sure to keep some (ca. 10-20%) extra space around just to be sure.
Here are some approximate figures:</p></div><div class=ulist><ul><li><p>Full FTP Distribution: 1.4 TB</p></li><li><p>CTM deltas: 10 GB</p></li><li><p>Web pages: 1GB</p></li></ul></div><div class=paragraph><p>The current disk usage of FTP Distribution can be found at <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/dir.sizes>ftp://ftp.FreeBSD.org/pub/FreeBSD/dir.sizes</a>.</p></div></div><div class=sect2><h3 id=mirror-bandwidth>2.2. Network Connection/Bandwidth<a class=anchor href=#mirror-bandwidth></a></h3><div class=paragraph><p>Of course, you need to be connected to the Internet.
The required bandwidth depends on your intended use of the mirror.
If you just want to mirror some parts of FreeBSD for local use at your site/intranet, the demand may be much smaller than if you want to make the files publicly available.
If you intend to become an official mirror, the bandwidth required will be even higher.
We can only give rough estimates here:</p></div><div class=ulist><ul><li><p>Local site, no public access: basically no minimum, but &lt; 2 Mbps could make syncing too slow.</p></li><li><p>Unofficial public site: 34 Mbps is probably a good start.</p></li><li><p>Official site: > 100 Mbps is recommended, and your host should be connected as close as possible to your border router.</p></li></ul></div></div><div class=sect2><h3 id=mirror-system>2.3. System Requirements, CPU, RAM<a class=anchor href=#mirror-system></a></h3><div class=paragraph><p>One thing this depends on the expected number of clients, which is determined by the server’s policy.
It is also affected by the types of services you want to offer.
Plain FTP or HTTP services may not require a huge amount of resources.
Watch out if you provide rsync.
This can have a huge impact on CPU and memory requirements as it is considered a memory hog.
The following are just examples to give you a very rough hint.</p></div><div class=paragraph><p>For a moderately visited site that offers rsync, you might consider a current CPU with around 800MHz - 1 GHz, and at least 512MB RAM.
This is probably the minimum you want for an <em>official</em> site.</p></div><div class=paragraph><p>For a frequently used site you definitely need more RAM (consider 2GB as a good start) and possibly more CPU, which could also mean that you need to go for a SMP system.</p></div><div class=paragraph><p>You also want to consider a fast disk subsystem.
Operations on the SVN repository require a fast disk subsystem (RAID is highly advised).
A SCSI controller that has a cache of its own can also speed up things since most of these services incur a large number of small modifications to the disk.</p></div></div><div class=sect2><h3 id=mirror-services>2.4. Services to Offer<a class=anchor href=#mirror-services></a></h3><div class=paragraph><p>Every mirror site is required to have a set of core services available.
In addition to these required services, there are a number of optional services that server administrators may choose to offer.
This section explains which services you can provide and how to go about implementing them.</p></div><div class=sect3><h4 id=mirror-serv-ftp>2.4.1. FTP (required for FTP Fileset)<a class=anchor href=#mirror-serv-ftp></a></h4><div class=paragraph><p>This is one of the most basic services, and it is required for each mirror offering public FTP distributions.
FTP access must be anonymous, and no upload/download ratios are allowed (a ridiculous thing anyway).
Upload capability is not required (and <em>must</em> never be allowed for the FreeBSD file space).
Also the FreeBSD archive should be available under the path <span class=filename>/pub/FreeBSD</span>.</p></div><div class=paragraph><p>There is a lot of software available which can be set up to allow anonymous FTP (in alphabetical order).</p></div><div class=ulist><ul><li><p><code>/usr/libexec/ftpd</code>: FreeBSD’s own ftpd can be used. Be sure to read <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpd&amp;sektion=8&amp;format=html">ftpd(8)</a>.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/ncftpd/>ftp/ncftpd</a>: A commercial package, free for educational use.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/oftpd/>ftp/oftpd</a>: An ftpd designed with security as a main focus.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/proftpd/>ftp/proftpd</a>: A modular and very flexible ftpd.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/pure-ftpd/>ftp/pure-ftpd</a>: Another ftpd developed with security in mind.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/twoftpd/>ftp/twoftpd</a>: As above.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/vsftpd/>ftp/vsftpd</a>: The "very secure" ftpd.</p></li></ul></div><div class=paragraph><p>FreeBSD’s <code>ftpd</code>, <code>proftpd</code> and maybe <code>ncftpd</code> are among the most commonly used FTPds.
The others do not have a large userbase among mirror sites.
One thing to consider is that you may need flexibility in limiting how many simultaneous connections are allowed, thus limiting how much network bandwidth and system resources are consumed.</p></div></div><div class=sect3><h4 id=mirror-serv-rsync>2.4.2. Rsync (optional for FTP Fileset)<a class=anchor href=#mirror-serv-rsync></a></h4><div class=paragraph><p>Rsync is often offered for access to the contents of the FTP area of FreeBSD, so other mirror sites can use your system as their source.
The protocol is different from FTP in many ways.
It is much more bandwidth friendly, as only differences between files are transferred instead of whole files when they change.
Rsync does require a significant amount of memory for each instance.
The size depends on the size of the synced module in terms of the number of directories and files.
Rsync can use <code>rsh</code> and <code>ssh</code> (now default) as a transport, or use its own protocol for stand-alone access (this is the preferred method for public rsync servers).
Authentication, connection limits, and other restrictions may be applied.
There is just one software package available:</p></div><div class=ulist><ul><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/net/rsync/>net/rsync</a></p></li></ul></div></div><div class=sect3><h4 id=mirror-serv-http>2.4.3. HTTP (required for Web Pages, Optional for FTP Fileset)<a class=anchor href=#mirror-serv-http></a></h4><div class=paragraph><p>If you want to offer the FreeBSD web pages, you will need to install a web server.
You may optionally offer the FTP fileset via HTTP.
The choice of web server software is left up to the mirror administrator.
Some of the most popular choices are:</p></div><div class=ulist><ul><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/apache24/>www/apache24</a>: Apache is still one of the most widely deployed web servers on the Internet. It is used extensively by the FreeBSD Project.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/boa/>www/boa</a>: Boa is a single-tasking HTTP server. Unlike traditional web servers, it does not fork for each incoming connection, nor does it fork many copies of itself to handle multiple connections. Although, it should provide considerably great performance for purely static content.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/cherokee/>www/cherokee</a>: Cherokee is a very fast, flexible and easy to configure web server. It supports the widespread technologies nowadays: FastCGI, SCGI, PHP, CGI, SSL/TLS encrypted connections, vhosts, users authentication, on the fly encoding and load balancing. It also generates Apache compatible log files.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/lighttpd/>www/lighttpd</a>: lighttpd is a secure, fast, compliant and very flexible web server which has been optimized for high-performance environments. It has a very low memory footprint compared to other web servers and takes care of cpu-load.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/nginx/>www/nginx</a>: nginx is a high performance edge web server with a low memory footprint and key features to build a modern and efficient web infrastructure. Features include a HTTP server, HTTP and mail reverse proxy, caching, load balancing, compression, request throttling, connection multiplexing and reuse, SSL offload and HTTP media streaming.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/thttpd/>www/thttpd</a>: If you are going to be serving a large amount of static content you may find that using an application such as thttpd is more efficient than others. It is also optimized for excellent performance on FreeBSD.</p></li></ul></div></div></div></div></div><div class=sect1><h2 id=mirror-howto>3. How to Mirror FreeBSD<a class=anchor href=#mirror-howto></a></h2><div class=sectionbody><div class=paragraph><p>Ok, now you know the requirements and how to offer the services, but not how to get it.
:-) This section explains how to actually mirror the various parts of FreeBSD, what tools to use, and where to mirror from.</p></div><div class=sect2><h3 id=mirror-ftp-rsync>3.1. Mirroring the FTP Site<a class=anchor href=#mirror-ftp-rsync></a></h3><div class=paragraph><p>The FTP area is the largest amount of data that needs to be mirrored.
It includes the <em>distribution sets</em> required for network installation, the <em>branches</em> which are actually snapshots of checked-out source trees, the <em>ISO Images</em> to write CD-ROMs with the installation distribution, a live file system, and a snapshot of the ports tree.
All of course for various FreeBSD versions, and various architectures.</p></div><div class=paragraph><p>The best way to mirror the FTP area is rsync.
You can install the port <a class=package href=https://cgit.freebsd.org/ports/tree/net/rsync/>net/rsync</a> and then use rsync to sync with your upstream host.
rsync is already mentioned in <a href=../hubs/#mirror-serv-rsync>Rsync (optional for FTP Fileset)</a>.
Since rsync access is not required, your preferred upstream site may not allow it.
You may need to hunt around a little bit to find a site that allows rsync access.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Since the number of rsync clients will have a significant impact on the server machine, most admins impose limitations on their server.
For a mirror, you should ask the site maintainer you are syncing from about their policy, and maybe an exception for your host (since you are a mirror).</p></div></td></tr></tbody></table></div><div class=paragraph><p>A command line to mirror FreeBSD might look like:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% rsync <span class=nt>-vaHz</span> <span class=nt>--delete</span> rsync://ftp4.de.FreeBSD.org/FreeBSD/ /pub/FreeBSD/</code></pre></div></div><div class=paragraph><p>Consult the documentation for rsync, which is also available at <a href=http://rsync.samba.org/>http://rsync.samba.org/</a>, about the various options to be used with rsync.
If you sync the whole module (unlike subdirectories), be aware that the module-directory (here "FreeBSD") will not be created, so you cannot omit the target directory. Also you might want to set up a script framework that calls such a command via <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>.</p></div></div><div class=sect2><h3 id=mirror-www>3.2. Mirroring the WWW Pages<a class=anchor href=#mirror-www></a></h3><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Since doc migration to Hugo/Asciidoctor on 2021-01-25, mirroring the website with rsync no longer works.</p></div></td></tr></tbody></table></div><div class=paragraph><p>There are ongoing studies to implement a website mirror with the <a href=https://docs.freebsd.org/en/books/handbook/mirrors/>official infrastructure</a>.</p></div><div class=paragraph><p>For the former website mirrors, a way to achieve mirroring the website today is building the website locally with the corresponding address it will be hosted.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>website <span class=o>&amp;&amp;</span> <span class=nb>env </span><span class=nv>HUGO_baseURL</span><span class=o>=</span><span class=s2>&#34;https://www.XX.freebsd.org/&#34;</span> make</code></pre></div></div><div class=paragraph><p>Check for more details about the build tools on <a href=https://docs.freebsd.org/en/books/fdp-primer/overview/#overview-quick-start>FreeBSD Documentation Project Primer for New Contributors</a> book.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Notice the website was split into www.FreeBSD.org and docs.FreeBSD.org, and there are links between them; plus, at this moment, <code>HUGO_baseURL</code> variable won’t cover all links, this way, mirroring the website is discouraged.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=mirror-pkgs>3.3. Mirroring Packages<a class=anchor href=#mirror-pkgs></a></h3><div class=paragraph><p>Due to very high requirements of bandwidth, storage and administration the FreeBSD Project has decided not to allow public mirrors of packages.
For sites with lots of machines, it might be advantagous to run a caching HTTP proxy for the <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a> process.
Alternatively specific packages and their dependencies can be fetched by running something like the following:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg fetch <span class=nt>-d</span> <span class=nt>-o</span> /usr/local/mirror vim</code></pre></div></div><div class=paragraph><p>Once those packages have been fetched, the repository metadata must be generated by running:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg repo /usr/local/mirror</code></pre></div></div><div class=paragraph><p>Once the packages have been fetched and the metadata for the repository has been generated, serve the packages up to the client machines via HTTP.
For additional information see the man pages for <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a>, specifically the <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-repo&amp;sektion=8&amp;format=html">pkg-repo(8)</a> page.</p></div></div><div class=sect2><h3 id=mirror-how-often>3.4. How Often Should I Mirror?<a class=anchor href=#mirror-how-often></a></h3><div class=paragraph><p>Every mirror should be updated at a minimum of once per day.
Certainly a script with locking to prevent multiple runs happening at the same time will be needed to run from <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>.
Since nearly every admin does this in their own way, specific instructions cannot be provided.
It could work something like this:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Put the command to run your mirroring application in a script. Use of a plain <code>/bin/sh</code> script is recommended.</p></li><li><p>Add some output redirections so diagnostic messages are logged to a file.</p></li><li><p>Test if your script works. Check the logs.</p></li><li><p>Use <a href="https://man.freebsd.org/cgi/man.cgi?query=crontab&amp;sektion=1&amp;format=html">crontab(1)</a> to add the script to the appropriate user’s <a href="https://man.freebsd.org/cgi/man.cgi?query=crontab&amp;sektion=5&amp;format=html">crontab(5)</a>. This should be a different user than what your FTP daemon runs as so that if file permissions inside your FTP area are not world-readable those files cannot be accessed by anonymous FTP. This is used to "stage" releases - making sure all of the official mirror sites have all of the necessary release files on release day.</p></li></ol></div></div></div><div class=paragraph><p>Here are some recommended schedules:</p></div><div class=ulist><ul><li><p>FTP fileset: daily</p></li><li><p>WWW pages: daily</p></li></ul></div></div></div></div><div class=sect1><h2 id=mirror-where>4. Where to Mirror From<a class=anchor href=#mirror-where></a></h2><div class=sectionbody><div class=paragraph><p>This is an important issue.
So this section will spend some effort to explain the backgrounds.
We will say this several times: under no circumstances should you mirror from <code>ftp.FreeBSD.org</code>.</p></div><div class=sect2><h3 id=mirror-where-organization>4.1. A few Words About the Organization<a class=anchor href=#mirror-where-organization></a></h3><div class=paragraph><p>Mirrors are organized by country.
All official mirrors have a DNS entry of the form <code>ftpN.CC.FreeBSD.org</code>.
<em>CC</em> (i.e., country code) is the <em>top level domain</em> (TLD) of the country where this mirror is located.
<em>N</em> is a number, telling that the host would be the <em>Nth</em> mirror in that country.
(Same applies to <code>wwwN.CC.FreeBSD.org</code>, etc.) There are mirrors with no <em>CC</em> part.
These are the mirror sites that are very well connected and allow a large number of concurrent users.
<code>ftp.FreeBSD.org</code> is actually two machines, one currently located in Denmark and the other in the United States.
It is <em>NOT</em> a master site and should never be used to mirror from.
Lots of online documentation leads "interactive"users to <code>ftp.FreeBSD.org</code> so automated mirroring systems should find a different machine to mirror from.</p></div><div class=paragraph><p>Additionally there exists a hierarchy of mirrors, which is described in terms of <em>tiers</em>.
The master sites are not referred to but can be described as <em>Tier-0</em>.
Mirrors that mirror from these sites can be considered <em>Tier-1</em>, mirrors of <em>Tier-1</em>-mirrors, are <em>Tier-2</em>, etc.
Official sites are encouraged to be of a low <em>tier</em>, but the lower the tier
the higher the requirements in terms as described in
<a href=../hubs/#mirror-requirements>Requirements for FreeBSD Mirrors</a>.
Also access to low-tier-mirrors may be restricted, and access to master sites is definitely restricted.
The <em>tier</em>-hierarchy is not reflected by DNS and generally not documented anywhere except for the master sites.
However, official mirrors with low numbers like 1-4, are usually <em>Tier-1</em> (this is just a rough hint, and there is no rule).</p></div></div><div class=sect2><h3 id=mirror-where-where>4.2. Ok, but Where Should I get the Stuff Now?<a class=anchor href=#mirror-where-where></a></h3><div class=paragraph><p>Under no circumstances should you mirror from <code>ftp.FreeBSD.org</code>.
The short answer is: from the site that is closest to you in Internet terms, or gives you the fastest access.</p></div><div class=sect3><h4 id=mirror-where-simple>4.2.1. I Just Want to Mirror from Somewhere!<a class=anchor href=#mirror-where-simple></a></h4><div class=paragraph><p>If you have no special intentions or requirements, the statement in
<a href=../hubs/#mirror-where-where>Ok</a> applies.
This means:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Check for those which provide fastest access (number of hops, round-trip-times) and offer the services you intend to use (like rsync).</p></li><li><p>Contact the administrators of your chosen site stating your request, and asking about their terms and policies.</p></li><li><p>Set up your mirror as described above.</p></li></ol></div></div></div></div><div class=sect3><h4 id=mirror-where-official>4.2.2. I am an Official Mirror, What is the Right Site for Me?<a class=anchor href=#mirror-where-official></a></h4><div class=paragraph><p>In general the description in <a href=../hubs/#mirror-where-simple>I Just Want to Mirror from Somewhere!</a> still applies.
Of course you may want to put some weight on the fact that your upstream should be of a low tier.
There are some other considerations about <em>official</em> mirrors that are described
in <a href=../hubs/#mirror-official>Official Mirrors</a>.</p></div></div><div class=sect3><h4 id=mirror-where-master>4.2.3. I Want to Access the Master Sites!<a class=anchor href=#mirror-where-master></a></h4><div class=paragraph><p>If you have good reasons and good prerequisites, you may want and get access to one of the master sites.
Access to these sites is generally restricted, and there are special policies for access.
If you are already an <em>official</em> mirror, this certainly helps you getting access.
In any other case make sure your country really needs another mirror.
If it already has three or more, ask the "zone administrator" (<a href=mailto:hostmaster@CC.FreeBSD.org>hostmaster@CC.FreeBSD.org</a>) or <a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>FreeBSD mirror sites mailing lists</a> first.</p></div><div class=paragraph><p>Whoever helped you become, an <em>official</em> should have helped you gain access to an appropriate upstream host, either one of the master sites or a suitable Tier-1 site.
If not, you can send email to <a href=mailto:mirror-admin@FreeBSD.org>mirror-admin@FreeBSD.org</a> to request help with that.</p></div><div class=paragraph><p>There is one master site for the FTP fileset.</p></div><div class=sect4><h5 id=mirror-where-master-ftp>4.2.3.1. ftp-master.FreeBSD.org<a class=anchor href=#mirror-where-master-ftp></a></h5><div class=paragraph><p>This is the master site for the FTP fileset.</p></div><div class=paragraph><p><code>ftp-master.FreeBSD.org</code> provides rsync access, in addition to FTP.
Refer to <a href=../hubs/#mirror-ftp-rsync>Mirroring the FTP Site</a>.</p></div><div class=paragraph><p>Mirrors are also encouraged to allow rsync access for the FTP contents, since they are <em>Tier-1</em>-mirrors.</p></div></div></div></div></div></div><div class=sect1><h2 id=mirror-official>5. Official Mirrors<a class=anchor href=#mirror-official></a></h2><div class=sectionbody><div class=paragraph><p>Official mirrors are mirrors that</p></div><div class=ulist><ul><li><p>a) have a <code>FreeBSD.org</code> DNS entry (usually a CNAME).</p></li><li><p>b) are listed as an official mirror in the FreeBSD documentation (like handbook).</p></li></ul></div><div class=paragraph><p>So far to distinguish official mirrors. Official mirrors are not necessarily <em>Tier-1</em>-mirrors.
However you probably will not find a <em>Tier-1</em>-mirror, that is not also official.</p></div><div class=sect2><h3 id=mirror-official-requirements>5.1. Special Requirements for Official (tier-1) Mirrors<a class=anchor href=#mirror-official-requirements></a></h3><div class=paragraph><p>It is not so easy to state requirements for all official mirrors, since the project is sort of tolerant here.
It is more easy to say, what <em>official tier-1 mirrors</em> are required to.
All other official mirrors can consider this a big <em>should</em>.</p></div><div class=paragraph><p>Tier-1 mirrors are required to:</p></div><div class=ulist><ul><li><p>carry the complete fileset</p></li><li><p>allow access to other mirror sites</p></li><li><p>provide FTP and rsync access</p></li></ul></div><div class=paragraph><p>Furthermore, admins should be subscribed to the <a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>FreeBSD mirror sites mailing lists</a>.
See <a href=https://docs.freebsd.org/en/books/handbook/#eresources-mail>this link</a> for details, how to subscribe.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>It is <em>very</em> important for a hub administrator, especially Tier-1 hub admins, to check the <a href=https://www.FreeBSD.org/releng/>release schedule</a> for the next FreeBSD release.
This is important because it will tell you when the next release is scheduled to come out, and thus giving you time to prepare for the big spike of traffic which follows it.</p></div><div class=paragraph><p>It is also important that hub administrators try to keep their mirrors as up-to-date as possible (again, even more crucial for Tier-1 mirrors).
If Mirror1 does not update for a while, lower tier mirrors will begin to mirror old data from Mirror1 and thus begins a downward spiral…​ Keep your mirrors up to date!</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=mirror-official-become>5.2. How to Become Official Then?<a class=anchor href=#mirror-official-become></a></h3><div class=paragraph><p>Please contact the Cluster Administrators as documented at <a href=https://www.FreeBSD.org/administration/#t-clusteradm class=bare>https://www.FreeBSD.org/administration/#t-clusteradm</a>.</p></div></div></div></div><div class=sect1><h2 id=mirror-statpages>6. Some Statistics from Mirror Sites<a class=anchor href=#mirror-statpages></a></h2><div class=sectionbody><div class=paragraph><p>Here are links to the stat pages of your favorite mirrors (aka the only ones who feel like providing stats).</p></div><div class=sect2><h3 id=mirror-statpagesftp>6.1. FTP Site Statistics<a class=anchor href=#mirror-statpagesftp></a></h3><div class=ulist><ul><li><p>ftp.is.FreeBSD.org - <a href=mailto:hostmaster@is.FreeBSD.org>hostmaster@is.FreeBSD.org</a> - <a href=http://www.rhnet.is/status/draupnir/draupnir.html>(Bandwidth)</a> <a href=http://www.rhnet.is/status/ftp/ftp-notendur.html>(FTP processes)</a> <a href=http://www.rhnet.is/status/ftp/http-notendur.html>(HTTP processes)</a></p></li><li><p>ftp2.ru.FreeBSD.org - <a href=mailto:mirror@macomnet.ru>mirror@macomnet.ru</a> - <a href=http://mirror.macomnet.net/mrtg/mirror.macomnet.net_195.128.64.25.html>(Bandwidth)</a> <a href=http://mirror.macomnet.net/mrtg/mirror.macomnet.net_proc.html>(HTTP and FTP users)</a></p></li></ul></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: September 20, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=2d2f5d38cc" target=_blank>Fernando Apesteguía</a></p></div></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#mirror-contact>1. Contact Information</a></li><li><a href=#mirror-requirements>2. Requirements for FreeBSD Mirrors</a></li><li><a href=#mirror-howto>3. How to Mirror FreeBSD</a></li><li><a href=#mirror-where>4. Where to Mirror From</a></li><li><a href=#mirror-official>5. Official Mirrors</a></li><li><a href=#mirror-statpages>6. Some Statistics from Mirror Sites</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/en/articles/hubs/hubs_en.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/en/_index target=_blank>Edit this page</a></li></ul></div></div></aside></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/en/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>English</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/en class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/en/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>