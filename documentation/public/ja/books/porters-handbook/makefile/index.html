<!doctype html><html class=theme-light lang=ja><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/><title>第5章 Makefile の作成 | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="第5章 Makefile の作成"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="ja"><meta property="og:url" content="http://172.16.201.134:1313/ja/books/porters-handbook/makefile/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/ja\/books\/porters-handbook\/makefile\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/ja>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/ja/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/ja/books>Books</a></li><li><a href=http://172.16.201.134:1313/ja/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/ja/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=ja>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-89897b13690206c8d016b08d866ebe49 class=toggle>
<label for=chapter-89897b13690206c8d016b08d866ebe49><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/why-port/>第1章 はじめに</a></li><li><input type=checkbox id=chapter-6619d34d40746c4cdcc07a792381c027 class=toggle>
<label for=chapter-6619d34d40746c4cdcc07a792381c027><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/own-port/>第2章 自分で port を作成するには</a></li><li><input type=checkbox id=chapter-c0d52b9121b517084e01f59cefa725e1 class=toggle>
<label class="icon cursor" for=chapter-c0d52b9121b517084e01f59cefa725e1><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/quick-porting/>第3章 3 分間 porting</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/quick-porting/#porting-makefile>3.1. <span class=filename>Makefile</span> の作成</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/quick-porting/#porting-desc>3.2. package 記述ファイルの作成</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/quick-porting/#porting-checksum>3.3. チェックサムファイルの作成</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/quick-porting/#porting-testing>3.4. port のテスト</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/quick-porting/#porting-portlint>3.5. <code>portlint</code> によるチェック</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/quick-porting/#porting-submitting>3.6. port の提出</a></li></ul></li><li><input type=checkbox id=chapter-78c64b7f0aa40d4648859dde83f4ee13 class=toggle>
<label class="icon cursor" for=chapter-78c64b7f0aa40d4648859dde83f4ee13><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow/>第4章 本格的な port</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow/#slow-work>4.1. port 構築の詳細</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow/#slow-sources>4.2. オリジナルのソースの入手</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow/#slow-modifying>4.3. port の修正</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow/#slow-patch>4.4. パッチの適用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow/#slow-configure>4.5. コンフィグレーション</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow/#slow-user-input>4.6. ユーザからの入力の扱い</a></li></ul></li><li><input type=checkbox id=chapter-869403c3f74bf6ec89e800963596e31a class=toggle checked>
<label class="icon cursor" for=chapter-869403c3f74bf6ec89e800963596e31a><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/>第5章 Makefile の作成</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-source>5.1. オリジナルのソース</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-naming>5.2. 名前の付け方</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-categories>5.3. カテゴリ分類</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-distfiles>5.4. 配布ファイル</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-depend>5.7. 依存関係</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-wrkdir>5.8. 作業ディレクトリの指定</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#conflicts>5.9. <code>CONFLICTS</code></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/makefile/#makefile-build>5.10. ビルドのメカニズム</a></li></ul></li><li><input type=checkbox id=chapter-19e3150e00beb84341d8ac1a73936ef0 class=toggle>
<label class="icon cursor" for=chapter-19e3150e00beb84341d8ac1a73936ef0><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/>第6章 特別な配慮</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#porting-shlibs>6.1. 共有ライブラリ</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#porting-restrictions>6.2. 配布制限がある ports</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-perl>6.3. <code>perl</code> の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-x11>6.4. X11 の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-automake>6.5. <code>automake</code>, <code>autoconf</code> および <code>libtool</code> の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-gnome>6.6. GNOME の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-kde>6.7. KDE の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-bison>6.8. Bison の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-java>6.9. Java の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-python>6.10. Python の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-emacs>6.11. Emacs の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-ruby>6.12. Ruby の利用</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special/#using-sdl>6.13. SDL の利用</a></li></ul></li><li><input type=checkbox id=chapter-cfdd4a61297a40347b44190bffb9e967 class=toggle>
<label for=chapter-cfdd4a61297a40347b44190bffb9e967><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-masterdir/>第7章 MASTERDIR</a></li><li><input type=checkbox id=chapter-22e9c415e2790a95b60e5aa0ef1a0965 class=toggle>
<label for=chapter-22e9c415e2790a95b60e5aa0ef1a0965><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/shared/>第8章 共有ライブラリのバージョン</a></li><li><input type=checkbox id=chapter-0e9c6b3c9458983885b31acab2f13136 class=toggle>
<label for=chapter-0e9c6b3c9458983885b31acab2f13136><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-manpages/>第9章 マニュアルページ</a></li><li><input type=checkbox id=chapter-272fb4ef4cb19464343707eeb40986f2 class=toggle>
<label class="icon cursor" for=chapter-272fb4ef4cb19464343707eeb40986f2><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-motif/>第10章 Motif を必要とする port</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-motif/#motif-use>10.1. <code>USE_MOTIF</code></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-motif/#motif-lib>10.2. <code>MOTIFLIB</code></a></li></ul></li><li><input type=checkbox id=chapter-045fe63771cd111bb783b4fa7409a860 class=toggle>
<label for=chapter-045fe63771cd111bb783b4fa7409a860><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/x11-fonts/>第11章 X11 のフォント</a></li><li><input type=checkbox id=chapter-314ea4400f3f871d3e726d940cef30c0 class=toggle>
<label for=chapter-314ea4400f3f871d3e726d940cef30c0><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-info/>第12章 Info ファイル</a></li><li><input type=checkbox id=chapter-5955b0791ccd51005b5bc5bebeec91e5 class=toggle>
<label class="icon cursor" for=chapter-5955b0791ccd51005b5bc5bebeec91e5><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/pkg-files/>第13章 pkg-* ファイル</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/pkg-files/#porting-message>13.1. <span class=filename>pkg-message</span></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/pkg-files/#pkg-install>13.2. <span class=filename>pkg-install</span></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/pkg-files/#pkg-deinstall>13.3. <span class=filename>pkg-deinstall</span></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/pkg-files/#pkg-req>13.4. <span class=filename>pkg-req</span></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/pkg-files/#porting-plist>13.5. make の変数にあわせた <span class=filename>pkg-plist</span> の変更</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/pkg-files/#pkg-names>13.6. <span class=filename>pkg-*</span> ファイルの名前変更</a></li></ul></li><li><input type=checkbox id=chapter-ee86a11caedb6395ed82b94ec7a9c6cd class=toggle>
<label class="icon cursor" for=chapter-ee86a11caedb6395ed82b94ec7a9c6cd><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/testing/>第14章 port のテスト</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/testing/#testing-portlint>14.1. portlint</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/testing/#porting-prefix>14.2. <code>PREFIX</code></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/testing/#testing-freshports>14.3. FreshPorts 正当性テスト</a></li></ul></li><li><input type=checkbox id=chapter-24703a9f2b5ab277e796cbfa6f5fd1e4 class=toggle>
<label for=chapter-24703a9f2b5ab277e796cbfa6f5fd1e4><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/port-upgrading/>第15章 アップグレード</a></li><li><input type=checkbox id=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7 class=toggle>
<label class="icon cursor" for=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/>第16章 やっていいことといけないこと</a><ul><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-intro>16.1. はじめに</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-strip>16.2. バイナリの strip</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-install>16.3. <code>INSTALL_*</code> マクロ</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#porting-wrkdir>16.4. <code>WRKDIR</code></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#porting-wrkdirprefix>16.5. <code>WRKDIRPREFIX</code></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#porting-versions>16.6. OS の種類やバージョンの識別</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#freebsd-versions>16.7. __FreeBSD_version の値</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-after-port-mk>16.8. <span class=filename>bsd.port.mk</span> の後に書くこと</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-documentation>16.9. 付加的な文書のインストール</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-subdirs>16.10. ディレクトリ構成</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#porting-cleaning>16.11. 空のディレクトリの削除</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-uid>16.12. UID</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-rational>16.13. 合理的な port</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-cc>16.14. <code>CC</code> および <code>CXX</code> の尊重</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-cflags>16.15. <code>CFLAGS</code> の尊重</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-config>16.16. コンフィグレーション (設定) ファイル</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-freedback>16.17. フィードバック</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-readme>16.18. <span class=filename>README.html</span></a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-broken>16.19. Port に <code>BROKEN</code>, <code>FORBIDDEN</code> などの印をつける</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-workarounds>16.20. 必要な回避策</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-misc>16.21. その他諸々</a></li><li><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-dads/#dads-stuck>16.22. 困ったら…​</a></li></ul></li><li><input type=checkbox id=chapter-5ef4c4c471a3f55c74fb71881f9d8713 class=toggle>
<label for=chapter-5ef4c4c471a3f55c74fb71881f9d8713><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-samplem/>第17章 Makefile のサンプル</a></li><li><input type=checkbox id=chapter-b421e468bf239e07d899e0d2f5e7b2e5 class=toggle>
<label for=chapter-b421e468bf239e07d899e0d2f5e7b2e5><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/porting-autoplist/>第18章 パッキングリストの自動生成</a></li><li><input type=checkbox id=chapter-9df8872e9cd736e47497099d9a6619cc class=toggle>
<label for=chapter-9df8872e9cd736e47497099d9a6619cc><a role=button></a></label><a href=http://172.16.201.134:1313/ja/books/porters-handbook/changes/>第19章 この文書と ports システムの変更</a></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>第5章 Makefile の作成</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>目次</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. オリジナルのソース</a></li><li><a href=#makefile-naming>5.2. 名前の付け方</a></li><li><a href=#makefile-categories>5.3. カテゴリ分類</a></li><li><a href=#makefile-distfiles>5.4. 配布ファイル</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-depend>5.7. 依存関係</a></li><li><a href=#makefile-wrkdir>5.8. 作業ディレクトリの指定</a></li><li><a href=#conflicts>5.9. <code>CONFLICTS</code></a></li><li><a href=#makefile-build>5.10. ビルドのメカニズム</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class=paragraph><p><span class=filename>Makefile</span> の作成は非常に単純です。 繰り返しますが、始めるまえに既存の例を見ておくことを推奨します。 また、このハンドブックには <a href=#porting-samplem>Makefile のサンプル</a>があります。 それを見て、Makefile 内の変数の順番や 空行を入れるところなどの参考にしてください。 そうすると他の人々にも読みやすいものとなります。</p></div><div class=paragraph><p>では、<span class=filename>Makefile</span> を設計するときに 問題となるところを順に追って見てみましょう。</p></div></div></div><div class=sect1><h2 id=makefile-source>5.1. オリジナルのソース<a class=anchor href=#makefile-source></a></h2><div class=sectionbody><div class=paragraph><p>ソースは <span class=filename>foozolix-1.2.tar.gz</span> といった名前の 標準的な gzip された tar ファイルの形式で <code>DISTDIR</code> に置かれていますか? そうなっていれば、次のステップに進めます。 異なっている場合には、変数 <code>DISTNAME</code>, <code>EXTRACT_CMD</code>, <code>EXTRACT_BEFORE_ARGS</code>, <code>EXTRACT_AFTER_ARGS</code>, <code>EXTRACT_SUFX</code>, <code>DISTFILES</code> のうち いくつかを書き換える必要があります。 どれだけ変更しないといけないかは、その port の配布ファイルが どの程度標準からかけはなれているかによります (最もよくあるのは gzip ではなく普通の compress コマンドで tar ファイルが圧縮されている場合で、そのときは <code>EXTRACT_SUFX=.tar.Z</code> とするだけです)。</p></div><div class=paragraph><p>最悪の場合には、自分で <code>do-extract</code> ターゲットを作成して、 デフォルトを上書きすることもできます。 しかし、そこまでする必要があることはめったにないでしょう。</p></div></div></div><div class=sect1><h2 id=makefile-naming>5.2. 名前の付け方<a class=anchor href=#makefile-naming></a></h2><div class=sectionbody><div class=paragraph><p>Port の <span class=filename>Makefile</span> のはじめの部分で port に名前をつけ、バージョン番号を記述し、適切なカテゴリに載せます。</p></div><div class=sect2><h3 id=_portname_および_portversion>5.2.1. <code>PORTNAME</code> および <code>PORTVERSION</code><a class=anchor href=#_portname_および_portversion></a></h3><div class=paragraph><p><code>PORTNAME</code> には port の名前の基幹部分を入れ、 <code>PORTVERSION</code> には port のバージョン番号を入れます。</p></div></div><div class=sect2><h3 id=_portrevision_および_portepoch>5.2.2. <code>PORTREVISION</code> および <code>PORTEPOCH</code><a class=anchor href=#_portrevision_および_portepoch></a></h3><div class=sect3><h4 id=_portrevision>5.2.2.1. <code>PORTREVISION</code><a class=anchor href=#_portrevision></a></h4><div class=paragraph><p><code>PORTREVISION</code> 変数は単調増加する値です。 <code>PORTVERSION</code> が増加した時 (つまり、 新しいオフィシャルベンダーリリースが行なわれた時) には いつでも 0 にリセットされます。 また、その値が 0 でない場合には package 名に追加されます。 <code>PORTREVISION</code> の変更は、(例えば <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_version&amp;sektion=1&amp;format=html">pkg_version(1)</a> 等の) 自動化ツールが、 新たな package が入手できることを示すのに使われます。</p></div><div class=paragraph><p>その port から作られる package の内容や構造に 大きな影響を与える変更を行なった時には、 <code>PORTREVISION</code> を増やしてください。</p></div><div class=paragraph><p><code>PORTREVISION</code> を上げる必要がある変更の例:</p></div><div class=ulist><ul><li><p>セキュリティ上の脆弱性やバグを修正するため、または その port に新しい機能を追加するためのパッチの追加。</p></li><li><p>package のコンパイル時オプションの有効化や 無効化のための port の <span class=filename>Makefile</span> の変更。</p></li><li><p>パッキングリストの変更や、package のインストール時の 挙動の変更 (たとえば、ssh のホストキーのような package の 初期データを生成するスクリプトの変更など)。</p></li><li><p>その port が依存する共有ライブラリのバージョンを 上げる場合 (新しいバージョンの共有ライブラリが インストールされた後に、そのライブラリに依存していた 古い package をインストールを試みる場合、 その package は新しい libfoo.(x+1) ではなく 古い libfoo.x を探そうとするため、インストールに失敗します。 (訳注: そのため、PORTREVISION を上げた package を 作成する必要があるわけです))。</p></li><li><p>ひそかに port 配布ファイルの変更が行なわれ、 その機能に大きな変化があった場合。 つまり、<span class=filename>distinfo</span> の修正を 必要とするような配布ファイルの変更が行なわれ、 新旧のバージョンの <code>diff -ru</code> を取ると 些細とは言えない変更が認められるにもかかわらず、 オリジナルのバージョン番号が変更されていないことから <code>PORTVERSION</code> の変更は難しい場合。</p></li></ul></div><div class=paragraph><p>PORTREVISION を上げる必要の無い変更の例:</p></div><div class=ulist><ul><li><p>生成される package に機能の変化が起らないような port スケルトンのスタイル変更。</p></li><li><p>生成される package に影響しないような <code>MASTER_SITES</code> その他の port に対する機能変更。</p></li><li><p>誤植の修正などの些細な変更で、その package のユーザが アップグレードを必要とするほどには重要でないパッチ。</p></li><li><p>以前にはコンパイルが通らなかった package を ビルド可能にするための修正 (その port が以前にビルド可能だった プラットフォームにおいて、その変更により何らかの機能的な 違いが発生しない場合に限ります)。 <code>PORTREVISION</code> は package の内容を反映したものなので、その package が以前にビルド可能でなかったのなら、変更を示すために、 <code>PORTREVISION</code> を 増やす必要はありません。</p></li></ul></div><div class=paragraph><p>経験的な判断方法としては、ある port にコミットされた変更が (それが強化や修正によるものであれ、新しい package による 実質的な効能であれ)、アップデートすることにより、 誰もが利益を受けるような何かかどうか、また定期的に ports ツリーを更新している人に更新を強制するということに値するか自問してみることです。 もし答がイエスであれば、 <code>PORTREVISION</code> を上げるべきでしょう。</p></div></div><div class=sect3><h4 id=_portepoch>5.2.2.2. <code>PORTEPOCH</code><a class=anchor href=#_portepoch></a></h4><div class=paragraph><p>ソフトウェアのベンダや FreeBSD の port 作成者は、 以前のものよりも小さい数字のバージョン番号をつけたソフトウェアをリリースするといった、 何か馬鹿げたことをすることが時々あります。 例をあげると、ある port が foo-20000801 から foo-1.0 になるといった具合です (数字として見ると 20000801 は 1 よりも大きいため、 間違って前者の方が新しいバージョンとして扱われてしまいます)。</p></div><div class=paragraph><p>このような場合には <code>PORTEPOCH</code> バージョンを増やしてください。 上のセクション 0 で説明したように、 <code>PORTEPOCH</code> がゼロでない場合には、 それがパッケージ名の後ろにつけられます。絶対に <code>PORTEPOCH</code> を減らしたり、ゼロにリセットしてはいけません。 さもないと、以前に作成された package との比較に失敗する (つまり、その package が古くなっていることがわからない) ためです: 新しいバージョン番号 (上の例では<code>1.0,1</code>) は 依然として前のバージョン番号 (20000801) よりも 数字としては小さいのですが、自動化ツールが サフィックス <code>,1</code> を特別扱いすることで、 以前の package には明示されていないサフィックス <code>,0</code> よりも新しいことがわかります。</p></div><div class=paragraph><p>誤って <code>PORTEPOCH</code> を削除したりリセットしたりすると、終わりのない悲劇に見舞われます。 上記の議論を理解できないなら、 わかるまで議論をたどるかメーリングリストで質問してください。</p></div><div class=paragraph><p>大多数の ports では、<code>PORTEPOCH</code> が 必要になることは まず無いものと考えられています。 また、注意深く <code>PORTVERSION</code> を使用することで、 そのソフトウェアの将来のリリースがバージョン構造を変更する必要が出てきた場合にも、 多くの場合前もって対応しておくことができるでしょう。 しかし、"スナップショット"リリースのように、 オフィシャルなバージョン番号を持たないベンダーリリースが行なわれた時には、 FreeBSD 版の port 作者によるケアが必要になります。 そういったリリースに対し、 リリース日付を使ったラベルを付けたいという誘惑にかられることがあるでしょうが、 そうすると新しい"オフィシャル"リリースが行なわれた時に、 上の例で示したような問題が起きることでしょう。</p></div><div class=paragraph><p>例えば、あるソフトウェアのスナップショットリリースが 20000917 に行なわれ、以前のバージョン番号が 1.2 だったとすると、 そのスナップショットの <code>PORTVERSION</code> には 20000917 ではなく 1.2.20000917 か何か、そのような番号を 指定するのが良いでしょう。 そうしておけば、例えばバージョン番号 1.3 として後続のリリースが 行なわれた場合にも、大小関係が崩されずにすむわけです。</p></div></div><div class=sect3><h4 id=_portrevision_と_portepoch_の使い方の例>5.2.2.3. <code>PORTREVISION</code> と <code>PORTEPOCH</code> の使い方の例<a class=anchor href=#_portrevision_と_portepoch_の使い方の例></a></h4><div class=paragraph><p><code>gtkmumble</code> の port, バージョン <code>0.10</code> が ports collection にコミットされます。</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.10</pre></div></div><div class=paragraph><p><code>PKGNAME</code> は <code>gtkmumble-0.10</code> になります。</p></div><div class=paragraph><p>ローカルな FreeBSD パッチを必要とする セキュリティホールが発見されました。 それに合わせて <code>PORTREVISION</code> を増やします。</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.10
PORTREVISION=   1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> は <code>gtkmumble-0.10_1</code> になります。</p></div><div class=paragraph><p>ベンダから <code>0.2</code> という番号が振られた 新バージョンがリリースされます (これにより、 作者は <code>0.10</code> という番号を "0.9 の次という意味ではなく"、 実際には <code>0.1.0</code> のつもりで 使用していたことがわかります - あらら、今さら遅すぎる)。 新しいマイナーバージョン <code>2</code> は数字として以前のバージョン番号 <code>10</code> より小さいので、 強制的に新しい package "の方が新しい"と認識させるため <code>PORTEPOCH</code> を増やす必要があります。 これは新しいベンダーリリースなので、 <code>PORTREVISION</code> は 0 にリセット (または <span class=filename>Makefile</span> から削除) されます。</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.2
PORTEPOCH=      1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> は <code>gtkmumble-0.2,1</code> になります。</p></div><div class=paragraph><p>次のリリースは 0.3 です。 <code>PORTEPOCH</code> は減少することが無いため、 今度のバージョン変数は次のようになります:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.3
PORTEPOCH=      1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> は <code>gtkmumble-0.3,1</code> になります。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>もし、このアップグレードによって <code>PORTEPOCH</code> が <code>0</code> に リセットされたとすると、<code>3</code> は数字として <code>10</code> よりも小さいため、 <code>gtkmumble-0.10_1</code> の package をインストールした誰かは <code>gtkmumble-0.3</code> の package の方が新しいことに気がつかないことになるでしょう。 これが、そもそも <code>PORTEPOCH</code> が導入された肝心な理由です。</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=_pkgnameprefix_および_pkgnamesuffix>5.2.3. <code>PKGNAMEPREFIX</code> および <code>PKGNAMESUFFIX</code><a class=anchor href=#_pkgnameprefix_および_pkgnamesuffix></a></h3><div class=paragraph><p>二つのオプション変数 <code>PKGNAMEPREFIX</code> と <code>PKGNAMESUFFIX</code> は、 <code>PORTNAME</code> および <code>PORTVERSION</code> と結合され、 <code>PKGNAME</code> を <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code> として定義します。 この時、<a href=#porting-pkgname>適切な package 名を選ぶための ガイドライン</a>に沿っているかどうかを確認してください。 特に、<code>PORTVERSION</code> 中に ハイフン (<code>-</code>) を使用することは<em>禁止</em>されています。 また、package 名に <em>language-</em> もしくは <em>-compiled.specifics</em> 部分が 含まれる場合、それぞれ <code>PKGNAMEPREFIX</code> と <code>PKGNAMESUFFIX</code> を使用してください。 これらを <code>PORTNAME</code> の一部としてはいけません。</p></div></div><div class=sect2><h3 id=porting-pkgname>5.2.4. package 名についての規則<a class=anchor href=#porting-pkgname></a></h3><div class=paragraph><p>package の名前は以下のルールにしたがってつけてください。 これは package のディレクトリを見やすくするためで、 既に何千ものパッケージがありますし、 目を痛めてしまうようだとユーザはそっぽを向くでしょう。</p></div><div class=paragraph><p>package の名前は以下のようにしてください。 <span class=filename>言語-名前-オプションバージョン.番号</span></p></div><div class=paragraph><p>package 名は <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code> というように定義されています。 変数がこの書式と適合していることを確認してください。</p></div><div class="olist arabic"><ol class=arabic><li><p>FreeBSD はユーザの慣れ親しんだ言語のサポートに力を入れています。 特定の言語のための port の package 名には <em>言語-</em> に ISO-639 で定義されている言語名の略称を入れてください。 たとえば日本語なら <code>ja</code>、 ロシア語なら <code>ru</code>、 ベトナム語なら <code>vi</code>、 中国語なら <code>zh</code>、 韓国語ならば <code>ko</code>、 ドイツ語なら <code>de</code> といった具合です。</p><div class=paragraph><p>port がある言語地域に特化したものである場合には、 さらに二文字の国名コードを付加してください。 たとえば合衆国英語圏は <code>en_US</code> となり、 スイスのフランス語圏は <code>fr_CH</code> となります。</p></div><div class=paragraph><p><em>言語-</em> 部分は、 <code>PKGNAMEPREFIX</code> 変数に 定義されなければなりません。</p></div></li><li><p><span class=filename>名前</span>の部分の最初の文字は 小文字でなければなりません。 (名前の残りの部分は大文字を含んでいても構わないため、 大文字を含んだソフトウェア名を変換する際の規則は、 あなた自身の裁量に任されています。) <code>perl 5</code> のモジュールでは先頭に <code>p5-</code> を付け、 二重コロン (<code>::</code>) のセパレータをハイフン (<code>-</code>) に置きかえる習慣になっています。 たとえば <code>Data::Dumper</code> は <code>p5-Data-Dumper</code> になります。 また、そのソフトウェアの名前として通常使われるものに番号、 ハイフン、あるいは下線が入っている場合には、 それらを使うことも構いません (<code>kinput2</code>など)。</p></li><li><p>コンパイル時に環境変数や <code>make</code> の引数などで<a href=#porting-masterdir>ハードコードされたデフォルト</a>を変えてコンパイルできる場合、 <em>-compiled.specifics</em> にそのコンパイル時のデフォルトを入れてください (ハイフンはあってもなくてもかまいません)。 用紙のサイズ、あるいはフォントの解像度などがこれにあたります。</p><div class=paragraph><p><em>-compiled.specifics</em> 部分は、 <code>PKGNAMESUFFIX</code> 変数に定義されなければなりません。</p></div></li><li><p>バージョン番号は数字とアルファベットからなり、 ピリオド (.) で区切ります。 アルファベットは二文字以上続けてはいけません。 唯一の例外は"パッチレベル"を意味する文字列 <code>pl</code> で、 それ以外にバージョン番号がまったくついていない場合にのみ使うことができます。 もしソフトウェアのバージョンに "alpha", "beta", "rc" や "pre" といった文字列が含まれるなら、 ピリオドの後に最初の一文字をとってください。 これらの後に、さらにバージョン文字列が続く場合には、 一文字のアルファベットの後にピリオドをつけずに番号を続けます。</p><div class=paragraph><p>この考え方は、 バージョン文字列を見て簡単に ports を並べられるようにするためのものです。 特に、バージョン番号の各部分が必ずピリオドで区切られていること、 また日付の部分がバージョン文字列の一部となっている場合には <code>yyyy.mm.dd</code> という書式を使っていることを確認してください。 <code>dd.mm.yyyy</code> や、2000 年問題に対応していない <code>yy.mm.dd</code> という書式を使ってはいけません。</p></div></li></ol></div><div class=paragraph><p>では、<code>DISTNAME</code>を正しい <code>PKGNAME</code> に直す例を見てみましょう:</p></div><div class=paragraph><p>以下は、ソフトウェアの作者が決めた名前から 適切な package 名に変換する方法を示した (実際の) 例です。</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.667%><thead><tr><th class="tableblock halign-left valign-top">配布名</th><th class="tableblock halign-left valign-top">PKGNAMEPREFIX</th><th class="tableblock halign-left valign-top">PORTNAME</th><th class="tableblock halign-left valign-top">PKGNAMESUFFIX</th><th class="tableblock halign-left valign-top">PORTVERSION</th><th class="tableblock halign-left valign-top">理由</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mule-2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mule</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>変更の必要はありません</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>XFree86-3.3.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>XFree86</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>変更の必要はありません</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EmiClock-1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>emiclock</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>プログラム一つだけの時は小文字のみ</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rdist-1.3alpha</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>rdist</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.3.a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>alpha</code> のような文字列は使えない</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>es-0.9-beta1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>es</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.9.b1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>alpha</code> のような文字列は使えない</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mailman-2.0rc3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mailman</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.0.r3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>rc</code> のような文字列は使えない</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>v3.3beta021.src</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tiff</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>なんなんでしょう ;)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pl11</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>バージョン番号は必ず必要</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>同上</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr-2.10pl1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.10.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>pl</code> が使えるのは、 他にメジャー/マイナーバージョン番号がない場合のみ</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>gawk-2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ja-</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>gawk</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>日本語バージョン</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>psutils-1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>psutils</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>-letter</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>コンパイル時に用紙のサイズを指定</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(空)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>300</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>300dpiフォント用の package</p></td></tr></tbody></table><div class=paragraph><p>オリジナルのソースにまったくバージョン情報が見当たらず、 また原作者が新しいバージョンをリリースする可能性が低いときには、 バージョン番号として <code>1.0</code> を使えばいいでしょう (上記の <code>piewm</code> の例がこれにあたります)。 そうでない場合には原作者に聞くか、日付 (<code>yyyy.mm.dd</code>) を使うなどしてください。</p></div></div></div></div><div class=sect1><h2 id=makefile-categories>5.3. カテゴリ分類<a class=anchor href=#makefile-categories></a></h2><div class=sectionbody><div class=sect2><h3 id=_categories>5.3.1. <code>CATEGORIES</code><a class=anchor href=#_categories></a></h3><div class=paragraph><p>パッケージが作成されると <span class=filename>/usr/ports/packages/All</span> に置かれ、一つ以上の <span class=filename>/usr/ports/packages</span> のサブディレクトリからリンクが張られます。 これらのサブディレクトリの名称は、<code>CATEGORIES</code> 変数で指定されます。これは、ユーザが FTP サイトや CDROM のパッケージの山から探し出すのを容易にするためのものです。 既存の<a href=#porting-categories>カテゴリ</a>を参照して、 あなたの port にふさわしいものを選んでください。</p></div><div class=paragraph><p>また、このリストは、その port が ports ツリーのどこにインポートされるかも決定します。 ここに複数のカテゴリを指定すると、port のファイルは最初のカテゴリ名のサブディレクトリに置かれることになります。 適切なカテゴリの選択方法については<a href=#porting-categories>カテゴリ</a>節をご覧ください。</p></div><div class=paragraph><p>あなたが作成した port が、本当に既存のどのカテゴリにも当てはまらない場合には、 新たにカテゴリ名を作成することもできます。 その場合、新しいカテゴリを提案するメールを <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports メーリングリスト</a> 宛に送ってください。 しかし、一般的にはあなたが提案したカテゴリにあてはまる ports が一握りではすまない場合でなければ、 あなたの提案は却下されるでしょう。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>時々、カテゴリを 2 階層構造や、 何か他のキーワードを利用した構造に再構成することを提案する人がいます。 今日まで、その提案はどれも実現しませんでした。 なぜなら、その構成を実現することは簡単なのですが、既存の Ports Collection 全体を構成しなおしたものに合わせて改修する労力は、 控え目にいっても気が遠くなるものだからです。 こういうアイディアを送る前に、 それらの提案の歴史をメーリングリストのアーカイブで調べてください。 さらに、動作するプロトタイプを示せと言われるのに対する準備をしておきましょう。</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=porting-categories>5.3.2. 現在のカテゴリのリスト<a class=anchor href=#porting-categories></a></h3><div class=paragraph><p>ここに現在の port のカテゴリの一覧を示します。 アスタリスク(<code>*</code>) が付いているものは仮想 (<em>virtual</em>) カテゴリです - これらには対応するサブディレクトリが port ツリーにはありません。 これらは第 2 の補助的なカテゴリとして、 検索目的にしか使われません。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>仮想カテゴリでないものは、 そのサブディレクトリ内の <span class=filename>pkg/COMMENT</span> に一行の記述があります (例: <span class=filename>archivers/pkg/COMMENT</span>)。</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">カテゴリ</th><th class="tableblock halign-left valign-top">説明</th><th class="tableblock halign-left valign-top">Notes</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>accessibility</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>障害を持ったユーザの役に立つ ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>afterstep*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.afterstep.org>AfterStep</a> ウィンドウマネージャをサポートする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>arabic</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>アラビア語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>archivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>アーカイブ用ツール</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>astro</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>天文学関連の ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>audio</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>サウンドをサポートする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>benchmarks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ベンチマークユーティリティ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>biology</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>生物学関連のソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>cad</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CAD ツール</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>chinese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>中国語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>comms</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>通信ソフトウェア</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ほとんどはシリアルポート用のソフトウェア</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>converters</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>文字コード変換</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>databases</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>データベース</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>deskutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>コンピュータが発明される以前に机上で使われていた道具</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(訳注: いわゆるデスクトップユーティリティのこと)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>devel</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>開発ユーティリティ</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>単にライブラリだからというだけで、 どうしてもここに置かなければならない理由があるのでない限り、 ライブラリをここに含めないでください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>dns</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DNS 関連ソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>editors</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>一般的なエディタ</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>特殊なエディタはそれぞれふさわしいセクションに入れます (たとえば数式エディタは <span class=filename>math</span> です)。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>elisp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emacs-lisp の ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>emulators</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>他のオペレーティングシステム用のエミュレータ</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>端末エミュレータはここに<em>含まれません</em> - X ベースのものは <span class=filename>x11</span> に、 テキストベースのものは機能によって <span class=filename>comms</span> か <span class=filename>misc</span> に分類されます。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>finance</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>金融や財務会計関連のアプリケーション。</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>french</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>フランス語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ftp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FTP クライアントとサーバユーティリティ</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>port が FTP と HTTP の両方に対応していれば、 <span class=filename>ftp</span> に入れ、第 2 カテゴリを <span class=filename>www</span> とします。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>games</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ゲーム</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>german</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ドイツ語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnome*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.gnome.org>GNOME</a> プロジェクトの ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>graphics</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>グラフィックユーティリティ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>haskell*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Haskell 言語関連のソフトウェア。</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hebrew</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ヘブライ語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hungarian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ハンガリー語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ipv6*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IPv6 関連のソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>irc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>インターネットリレーチャット (IRC) 用ユーティリティ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>japanese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>日本語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>java</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Java 言語関連のソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.kde.org>K Desktop Environment (kde)</a> プロジェクトの ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>korean</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>韓国語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lang</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>プログラミング言語</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>linux*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Linux アプリケーションとサポートユーティリティ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lisp*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lisp 言語関連のソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mail</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>メールソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>math</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>数値計算ソフトウェアやその他の数学ソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mbone</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>MBone アプリケーション</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>misc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>種々のユーティリティ</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>基本的に他のカテゴリに属さないものです。 これは他の仮想でないカテゴリを伴わない、唯一のカテゴリです。 <code>misc</code> と他のカテゴリが <code>CATEGORIES</code> 行に書かれている場合、 <code>misc</code> を削除して他のサブディレクトリにおいて良いという意味になります。 このカテゴリに置かれた ports は見落とされやすいので、 可能な限り <code>misc</code> よりふさわしいカテゴリを探してください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>multimedia</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>マルチメディアソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>種々のネットワークソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ネットワーク管理ソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>news</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>USENET ニュースソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>offix*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://leb.net/OffiX/>OffiX</a> suite の ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>palm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.palm.com/>Palm™</a> シリーズをサポートするソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>parallel*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>並列計算を行うアプリケーション</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>pear*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pear PHP フレームワーク関連の ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>perl5*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Perl バージョン 5 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>picobsd</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://people.FreeBSD.org/~picobsd/>PicoBSD</a> をサポートするための ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>plan9*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.cs.bell-labs.com/plan9dist/>Plan9</a> に由来するさまざまなソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>polish</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ポーランド語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>portuguese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ポルトガル語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>print</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>印刷ソフトウェア</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTP 用ツール (プレビューアなど) もここに分類されます。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>python*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.python.org/>Python</a> 言語関連のソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ruby*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.ruby-lang.org/>Ruby</a> 言語関連のソフトウェア</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>russian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ロシア語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>science</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>astro</span> や <span class=filename>biology</span>, <span class=filename>math</span> 等、 他のカテゴリにはあてはまらない科学関連の ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>security</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>セキュリティ関連のユーティリティ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>shells</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>コマンドラインシェル</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>sysutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>システムユーティリティ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl76*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tcl バージョン 7.6 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl80*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tcl バージョン 8.0 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl81*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tcl バージョン 8.1 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl82*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tcl バージョン 8.2 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl83*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tcl バージョン 8.3 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>textproc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>テキスト処理ユーティリティ</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTP ツールはここではなく、<span class=filename>print</span> に分類されます。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk42*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tk バージョン 4.2 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk80*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tk バージョン 8.0 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk81*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tk バージョン 8.1 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk82*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tk バージョン 8.2 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk83*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に Tk バージョン 8.3 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tkstep80*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>実行に TkSTEP バージョン 8.0 を必要とする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ukrainian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ウクライナ語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>vietnamese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ベトナム語サポート</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>windowmaker*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>WindowMaker ウィンドウマネージャをサポートする ports</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>www</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>World Wide Web 関連のソフトウェア</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>HTML 言語サポートもここに分類されます。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X ウィンドウシステムとその関連ソフトウェア</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>このカテゴリは、 直接ウィンドウシステムをサポートするソフトウェアのみを対象とするものです。 通常の X アプリケーションをここに分類しないでください。 ほとんどは他の <span class=filename>x11-*</span> カテゴリ (下記参照) に分類されるべきです。 あなたの port が X アプリケーションで、 <code>USE_XLIB</code> を定義し (<code>USE_IMAKE</code> を定義すると自動的に定義されます)、 適切なカテゴリに分類してください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-clocks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 用時計</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 用ファイルマネージャ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fonts</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 フォントとフォントユーティリティ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-servers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 サーバ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-toolkits</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 ツールキット</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-wm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11 ウィンドウマネージャ</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>zope*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.zope.org/>Zope</a> サポート</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table></div><div class=sect2><h3 id=_適切なカテゴリの選択>5.3.3. 適切なカテゴリの選択<a class=anchor href=#_適切なカテゴリの選択></a></h3><div class=paragraph><p>多くのカテゴリに重なるので、 どれを"第一"カテゴリにするかを決めなければならないことがたびたびあるでしょう。 これをうまく決めるルールがいくつかあります。 以下はその優先順のリストで、優先度の高いものから低いものの順に書いてあります。</p></div><div class=ulist><ul><li><p>言語特有のカテゴリがまず最初です。 たとえば日本語の X11 のフォントをインストールする port の場合、 <code>CATEGORIES</code> 行は <span class=filename>japanese x11-fonts</span> となるでしょう。</p></li><li><p>より特徴的なカテゴリが、 一般的なカテゴリより優先されます。 たとえば、HTML エディタの場合は <span class=filename>www editors</span> となります。 これを逆順にはしないでください。 また、 port が <span class=filename>irc</span>, <span class=filename>mail</span>, <span class=filename>mbone</span>, <span class=filename>news</span>, <span class=filename>security</span>, <span class=filename>www</span> のいずれかに属する場合には <span class=filename>net</span> は暗黙のうちに含まれますので、入れるべきではありません。</p></li><li><p><span class=filename>x11</span> を第二カテゴリにするのは第一カテゴリが自然言語の場合のみにしてください。 特に X のアプリケーションには <span class=filename>x11</span> を指定しないでください。</p></li><li><p>Emacs のモードは、 そのモードで対応しているアプリケーションと同じ ports カテゴリに置くようにして、 <span class=filename>editors</span> には置かないでください。 例えば、あるプログラミング言語のソースファイルを編集するための Emacs モードは、 <span class=filename>lang</span> に置くべきです。</p></li><li><p>もし、あなたの port が他のどのカテゴリにも属しない場合には <span class=filename>misc</span> にしてください。</p></li></ul></div><div class=paragraph><p>もし、あなたがカテゴリについて自信が持てない場合には、 そのことを <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> する時に書き加えてください。 そうすればインポートする前にそれについて議論できます (もしあなたがコミッターであれば、 そのことを <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports メーリングリスト</a> に送って先に議論するようにしてください。 新しい port が間違ったカテゴリに import されて、 すぐ移動されることがあまりに多いのです。そうなると、 ソースリポジトリのマスターが不要で好ましくない膨れ方をしてしまいます。</p></div></div></div></div><div class=sect1><h2 id=makefile-distfiles>5.4. 配布ファイル<a class=anchor href=#makefile-distfiles></a></h2><div class=sectionbody><div class=paragraph><p><span class=filename>Makefile</span> の第二の部分では、 その port をビルドするためにダウンロードしなければならないファイルと、 それをどこからダウンロードできるか説明しています。</p></div><div class=sect2><h3 id=_distname>5.4.1. <code>DISTNAME</code><a class=anchor href=#_distname></a></h3><div class=paragraph><p><code>DISTNAME</code> は製作者が決めたソフトウェアの名前です。 デフォルトでは <code>DISTNAME</code> は <code>${PORTNAME}-${PORTVERSION}</code> になりますので、 必要にな場合だけ書き換えるようにしてください。 <code>DISTNAME</code> は二つの場所でしか使われません。 一つ目は配布ファイルリスト (<code>DISTFILES</code>) のデフォルト <code>${DISTNAME} ${EXTRACT_SUFX}</code> で、二つ目は配布ファイルが展開されるサブディレクトリ <code>WRKSRC</code> のデフォルト <span class=filename>work/${DISTNAME}</span> です。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>PKGNAMEPREFIX</code> や <code>PKGNAMESUFFIX</code> は <code>DISTNAME</code> に影響を与えません。 また、元のソースアーカイブが <code>${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</code> という 名前ではないのに、<code>WRKSRC</code> を <span class=filename>work/${PORTNAME}-${PORTVERSION}</span> と設定しているなら、おそらく <code>DISTNAME</code> はそのままにしておく必要があることに注意してください - <code>DISTNAME</code> と <code>WRKSRC</code> の両方を (そして おそらく <code>EXTRACT_SUFX</code> も) セットするよりは、<code>DISTFILES</code> を定義する方が楽でしょう。</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_master_sites>5.4.2. <code>MASTER_SITES</code><a class=anchor href=#_master_sites></a></h3><div class=paragraph><p>元になる配布ファイルを指し示す、FTP/HTTP の URL のファイル名を除いた部分を <code>MASTER_SITES</code> に設定します。 最後にスラッシュ (<span class=filename>/</span>) をつけることをお忘れなく!</p></div><div class=paragraph><p>このシステム上に配布ファイルが見つからなかった場合、 <code>make</code> マクロは <code>FETCH</code> を使ってこの変数に指定されたサイトから配布ファイルを取得しようとします。</p></div><div class=paragraph><p>このリストには、 できれば異なる大陸に存在する複数のサイトを入れておくことが推奨されています。 これにより、広域ネットワークのトラブルに対する耐性を高めることができます。 さらに私たちは、自動的に最も近いマスタサイトを判断して、 そこから取ってくるメカニズムの導入を計画しています。 複数のサイトがあれば、この取組を大きく助けることになります。</p></div><div class=paragraph><p>元になる tar ファイルが X-contrib や GNU, Perl CPAN 等の有名なアーカイブサイトに置かれている場合には、 <code>MASTER_SITE_*</code> を使ってこれらのサイトを簡潔に (例えば <code>MASTER_SITE_XCONTRIB</code> とか、 <code>MASTER_SITE_PERL_CPAN</code> のように) 指定することができます。 <code>MASTER_SITES</code> を これらの変数の一つにセットし、 サイト内でのパスを <code>MASTER_SITE_SUBDIR</code> に指定するだけです。 以下に例を示します。</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=         ${MASTER_SITE_XCONTRIB}
MASTER_SITE_SUBDIR=   applications</pre></div></div><div class=paragraph><p>これらの変数は <span class=filename>/usr/ports/Mk/bsd.sites.mk</span> で定義されています。 いつでも新しい項目が追加されて行きますので、 port を提出する前に このファイルの最新版を チェックするように心掛けてください。</p></div><div class=paragraph><p>ユーザは <span class=filename>/etc/make.conf</span> 中で <code>MASTER_SITE_*</code> 変数を上書きすることもできます。 そうすることで、これらの有名なアーカイブそのものではなく、 好みのミラーサイトを使用することができます。</p></div></div><div class=sect2><h3 id=_extract_sufx>5.4.3. <code>EXTRACT_SUFX</code><a class=anchor href=#_extract_sufx></a></h3><div class=paragraph><p>配布ファイルが 1 つで、 圧縮方式を示すのに普通と異なる接尾辞を使っていたら、 <code>EXTRACT_SUFX</code> を設定してください。</p></div><div class=paragraph><p>例えば、配布ファイルがより一般的な <span class=filename>foo.tar.gz</span> ではなく、 <span class=filename>foo.tgz</span> となっていたら、 次のように書きます。</p></div><div class="literalblock programlisting"><div class=content><pre>DISTNAME=      foo
EXTRACT_SUFX=  .tgz</pre></div></div><div class=paragraph><p><code>USE_BZIP2</code> と <code>USE_ZIP</code> 変数を設定すると、<code>EXTRACT_SUFX</code> は必要に応じて自動的に <code>.bz2</code> または <code>.zip</code> に設定されます。 どちらも設定されていなければ、<code>EXTRACT_SUFX</code> は <code>.tar.gz</code> に設定されます。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>EXTRACT_SUFX</code> と <code>DISTFILES</code> を両方設定する必要はありません。</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_distfiles>5.4.4. <code>DISTFILES</code><a class=anchor href=#_distfiles></a></h3><div class=paragraph><p>時々、ダウンロードするファイルの名称が port の名称とまったく似ていないことがあります。たとえば、 <span class=filename>source.tar.gz</span> などと名づけられていることもあるでしょう。 ほかに、ソースコードがいくつかのアーカイブに分かれていて、 そのすべてをダウンロードしなければならないならないこともあります。</p></div><div class=paragraph><p>この場合、<code>DISTFILES</code> に、ダウンロードしなければならないファイルすべてのリストを、 スペースで区切って設定してください。</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=     source1.tar.gz source2.tar.gz</pre></div></div><div class=paragraph><p>明示的に設定されていない場合、 <code>DISTFILES</code> は <code>${DISTNAME}${EXTRACT_SUFX}</code> に設定されます。</p></div></div><div class=sect2><h3 id=_extract_only>5.4.5. <code>EXTRACT_ONLY</code><a class=anchor href=#_extract_only></a></h3><div class=paragraph><p><code>DISTFILES</code> の一部だけを展開すべき (例えば、一方がソースコードで、もう一方は圧縮されていない文書という) 場合、展開しなければならないファイル名を <code>EXTRACT_ONLY</code> に設定してください。</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=     source.tar.gz manual.html
EXTRACT_ONLY=  source.tar.gz</pre></div></div><div class=paragraph><p><em>どの</em><code>DISTFILES</code> も展開すべきでは<em>ない</em>なら、 <code>EXTRACT_ONLY</code> に空文字列を設定してください。</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_ONLY=</pre></div></div></div><div class=sect2><h3 id=porting-patchfiles>5.4.6. <code>PATCHFILES</code><a class=anchor href=#porting-patchfiles></a></h3><div class=paragraph><p>その port が配布ファイルの他に FTP や HTTP で手に入る追加パッチを必要とする場合には、 <code>PATCHFILES</code> にはそのパッチのファイル名を、 <code>PATCH_SITES</code> にはそのファイルが置かれているディレクトリの URL をセットしてください。(書き方は <code>MASTER_SITES</code> と同じです。)</p></div><div class=paragraph><p>そのパッチに記録されているファイル名に余計なパス名がついていて、 ソースツリーのトップディレクトリ (つまり <code>WKRSRC</code>) からの相対パスになっていない場合には、 それに応じた <code>PATCH_DIST_STRIP</code> を指定してください。 たとえば、パッチ内のすべてのファイル名の先頭に、余計な <code>foozolix-1.0/</code> がついている場合には、 <code>PATCH_DIST_STRIP=-p1</code> としてください。</p></div><div class=paragraph><p>これらのパッチは圧縮されていても大丈夫です。 ファイル名が <span class=filename>.gz</span> や <span class=filename>.Z</span> で終わる場合には、自動的に展開されるようになっています。</p></div><div class=paragraph><p>もしパッチが、ドキュメント等その他のファイルと一緒に gzip された tar ファイルで配布されている場合には、単に <code>PATCHFILES</code> を使うだけではうまくいきません。 このような場合には、このパッチの tar ファイルの名前と場所を <code>DISTFILES</code> と <code>MASTER_SITES</code> に追加しておきます。 それから、<code>EXTRA_PATCHES</code> 変数にそれらのパッチを指定すれば、 <span class=filename>bsd.port.mk</span> が 自動的にパッチを適用してくれます。 特に注意が必要なのは、パッチファイルを <code>PATCHDIR</code> ディレクトリにコピー<em>してはならない</em>ことです - (訳注: port が CD-ROM 上に置かれている等の場合には、) そのディレクトリには書き込みができないかもしれません。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>それが普通の gzip か compress された tar ファイルであれば、 通常のソースファイルと一緒にパッチ適用時までに展開されていますので、 明示的に展開する必要はありません。 もしパッチを <code>DISTFILES</code> に追加した場合には、パッチを含むファイルが展開される際に、 そのディレクトリにある何かを上書きしないように注意してください。 さらに、コピーされたパッチファイルを削除するコマンドを <code>pre-clean</code> ターゲットに追加することを忘れないでください。</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=porting-master-sites-n>5.4.7. 異なるサイトやサブディレクトリからの複数の配布ファイルまたはパッチ (<code>MASTER_SITES:n</code>)<a class=anchor href=#porting-master-sites-n></a></h3><div class=paragraph><p>(これはいささか"高度な話題"です。 この文書を初めて読む人は、 最初はこの節を飛ばしてもよいでしょう)。</p></div><div class=paragraph><p>この節は <code>MASTER_SITES:n</code> や <code>MASTER_SITES_NN</code> と呼ばれる取得方法について説明しています。 ここでは、この方式を <code>MASTER_SITES:n</code> と呼びます。</p></div><div class=paragraph><p>まず、背景を少し説明しておきましょう。OpenBSD には、<code>DISTFILES</code> と <code>PATCHFILES</code> 変数の両方に素敵な機能があります。ファイル、パッチの両方とも、 後ろに <code>:n</code> (<code>n</code> は <code>[0-9]</code> のどれかになります) をつけてグループを指示できます。たとえば、</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=      alpha:0 beta:1</pre></div></div><div class=paragraph><p>OpenBSD では、配布ファイル <span class=filename>alpha</span> は、通常の <code>MASTER_SITES</code> ではなく <code>MASTER_SITES0</code> に、 <span class=filename>beta</span> は <code>MASTER_SITES1</code> に結び付けられます。</p></div><div class=paragraph><p>これは、正しいダウンロードサイトを際限なく探す羽目になるのを減らせる、 興味深い機能です。</p></div><div class=paragraph><p><code>DISTFILES</code> にファイルが 2 つ指定され、<code>MASTER_SITES</code> が 20 サイトあって、サイトはものすごく遅く、 <span class=filename>beta</span> は <code>MASTER_SITES</code> 中のすべてのサイトに置かれていますが、 <span class=filename>alpha</span> は 20 番目のサイトにしかないという場合を考えてください。 メンテナがあらかじめそのことを知っていたら、 すべてのサイトを確認するのは無駄だと思いませんか? 楽しい週末のはじまりというわけにはゆきませんね。</p></div><div class=paragraph><p>イメージできたら、今度は <code>DISTFILES</code> や <code>MASTER_SITES</code> がもっと沢山あるのを想像してください。 "distfiles 調査マイスタ"は、 ネットワーク負荷が緩和されることを喜ぶに違いありません。</p></div><div class=paragraph><p>次節からは、FreeBSD におけるこのアイディアの実装について説明します。 OpenBSD の考え方を多少改良しています。</p></div></div><div class=sect2><h3 id=_簡単な説明>5.4.8. 簡単な説明<a class=anchor href=#_簡単な説明></a></h3><div class=paragraph><p>この節では、複数の配布ファイルやパッチを、 異なるサイトやサブディレクトリから細かく分けて取得する簡単な設定を示します。 ここでは、単純化した <code>MASTER_SITES:n</code> の使い方を説明します。ほとんどの場面ではこれで十分です。 さらに詳しいことを知りたければ、次の節をお読みください。</p></div><div class=paragraph><p>アプリケーションによっては、 いくつもの異なるサイトからダウンロードする複数の配布ファイルからなっているものがあります。 たとえば、Ghostscript は、中核部のプログラムと、 ユーザのプリンタに応じて使い分けられる多数のドライバファイルからなっています。 このドライバファイルの一部は中核部と共に配布されますが、 多くはさまざまなサイトからダウンロードしなければなりません。</p></div><div class=paragraph><p>これに対応するため、<code>DISTFILES</code> の各項目の後ろには、コロンと"タグ名" をつけられるようになっています。<code>MASTER_SITES</code> に設定されているそれぞれのサイトの末尾にも、コロンと、 そのサイトからダウンロードすべきファイルを示すためのタグを加えます。</p></div><div class=paragraph><p>たとえば、ソースコードが <span class=filename>source1.tar.gz</span> と <span class=filename>source2.tar.gz</span> の 2 つに分けられていて、 2 つの別のサイトからダウンロードしなければならないアプリケーションを考えてみましょう。 その port の <span class=filename>Makefile</span> には、<a href=#ports-master-sites-n-example-simple-use-one-file-per-site>各サイトに 1 つファイルがある場合の、簡単な <code>MASTER_SITES:n</code> の使用法</a> のような行があるとします。</p></div><div id=ports-master-sites-n-example-simple-use-one-file-per-site class=exampleblock><div class=title>例 1. 各サイトに 1 つファイルがある場合の、簡単な <code>MASTER_SITES:n</code> の使用法</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   ftp://ftp.example1.com/:source1 \
                ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
                source2.tar.gz:source2</pre></div></div></div></div><div class=paragraph><p>複数の配布ファイルに同じタグがついていてもかまいません。 先ほどの例に続いて、3 番目の配布ファイル <span class=filename>source3.tar.gz</span> があって、 <code>ftp.example2.com</code> からダウンロードすべきだとしましょう。 <span class=filename>Makefile</span> は <a href=#ports-master-sites-n-example-simple-use-more-than-one-file-per-site>各サイトに 1 つ以上ファイルがある場合の、簡単な <code>MASTER_SITES:n</code> の使用法</a> のようになります。</p></div><div id=ports-master-sites-n-example-simple-use-more-than-one-file-per-site class=exampleblock><div class=title>例 2. 各サイトに 1 つ以上ファイルがある場合の、簡単な <code>MASTER_SITES:n</code> の使用法</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   ftp://ftp.example1.com/:source1 \
                ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
                source2.tar.gz:source2 \
                source3.tar.gz:source2</pre></div></div></div></div></div><div class=sect2><h3 id=_詳しい説明>5.4.9. 詳しい説明<a class=anchor href=#_詳しい説明></a></h3><div class=paragraph><p>分かりました。 前節の例ではあなたの要求を満足できなかったわけですね。 この節では、ファイルの取得を細かく制御する仕組み <code>MASTER_SITES:n</code> がどう働くかと、これを利用するために ports をどう変更すればよいかを詳しく説明します。</p></div><div class="olist arabic"><ol class=arabic><li><p>要素の末尾に <code>:n</code> をつけることができます。 ここで、<em>n</em> は <code><span class=^:>` つまり、概念上はいかなる文字と数字からなる文字列でもよいのですが、 われわれとしては、当面は `[a-zA-Z_][0-9a-zA-Z_]</span></code> に制限します。</p><div class=paragraph><p>さらに、文字列のマッチは大文字と小文字を区別します。 つまり、<code>n</code> と <code>N</code> は別の文字として扱われます。</p></div><div class=paragraph><p>しかし、 <code>default</code>, <code>all</code>, <code>ALL</code> は特別な意味を与えられているので、 末尾に付加するのには使えません (これは、<a href=#porting-master-sites-n-what-changes-in-port-targets>ii</a> 項で内部的に利用されています)。 さらに、<code>DEFAULT</code> は特別な意味を持つ単語です (<a href=#porting-master-sites-n-DEFAULT-group>3</a> の項を確認してください)。</p></div></li><li><p><code>:n</code> がついた要素は、グループ <code>n</code> に属し、 <code>:m</code> がついた要素は、グループ <code>m</code> に属するということになります。</p></li><li><p>接尾辞がついていない要素はグループに属しません。 これは、特別なグループ <code>DEFAULT</code> に属しているとして扱われます。 要素の後ろに <code>DEFAULT</code> をつけるのは、その要素を <code>DEFAULT</code> とそれ以外のグループに同時に割り当てたいのでなければ、 冗長に過ぎません (<a href=#porting-master-sites-n-comma-operator>5</a> の項を確認してください)。</p><div class=paragraph><p>次の例はどちらも同じ意味ですが、 最初の方が好ましいです。</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   alpha

MASTER_SITES=   alpha:DEFAULT</pre></div></div></li><li><p>グループは相互排他ではありません。 ひとつの要素が同時に複数のグループに属することができ、 ひとつのグループには複数の要素が属することも、 何も割り当てないこともできます。 同じグループで何回も指定された要素は、 単に複数回指定された要素ということになります。</p></li><li><p>ある要素を同時にいくつものグループに所属させたい時は、 カンマ演算子 (<code>,</code>) が使えます。</p><div class=paragraph><p>その都度別の接尾辞をつけて繰り返すかわりに、 一度だけ接尾辞を指定して複数のグループを指定できます。 たとえば、<code>:m,n,o</code> と書くと、その要素はグループ <code>m</code>, <code>n</code> および <code>o</code> に属することを示します。</p></div><div class=paragraph><p>以下の例はすべて同等ですが、 最後の形式がもっともよいでしょう。</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   alpha alpha:SOME_SITE

MASTER_SITES=   alpha:DEFAULT alpha:SOME_SITE

MASTER_SITES=   alpha:SOME_SITE,DEFAULT

MASTER_SITES=   alpha:DEFAULT,SOME_SITE</pre></div></div></li><li><p>任意のグループ内のサイトは、 <code>MASTER_SORT_AWK</code> によって整列されます。 <code>MASTER_SITES</code> と <code>PATCH_SITES</code> 内のすべてのグループについても同様に整列されます。</p></li></ol></div><div id=porting-master-sites-n-group-semantics class="olist arabic"><ol class=arabic><li><p>グループの概念は、変数 <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code>, <code>PATCH_SITE_SUBDIR</code>, <code>DISTFILES</code> および <code>PATCHFILES</code> においても、下記の文法に従って使えます。</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p><code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code> および <code>PATCH_SITE_SUBDIR</code> のすべての要素はスラッシュ <code>/</code> 記号で終端されていなければなりません。 ある要素がどれかのグループに属しているなら、 グループの接尾辞 <code>:n</code> は、終端記号 <code>/</code> のすぐ後にこなければなりません。 <code>MASTER_SITES:n</code> の仕組みでは、終端記号 <code>/</code> があることで、 <code>:n</code> が要素の有効な一部である場合と、 <code>:n</code> がグループ <code>n</code> を示す場合の混同を避けることができます。 以前は、 <code>MASTER_SITE_SUBDIR</code> と <code>PATCH_SITE_SUBDIR</code> 要素のいずれにおいても終端記号 <code>/</code> は不要だったので、互換性を保つために、 接尾辞の直前の文字が <code>/</code> でなければ、 要素の接尾辞が <code>:n</code> であっても、 グループの接尾語ではなく、 要素の有効な一部分として扱われます。 <a href=#ports-master-sites-n-example-detailed-use-master-site-subdir><code>MASTER_SITE_SUBDIR</code> における <code>MASTER_SITES:n</code> の詳細な使用法</a> と <a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>カンマ演算子、複数のファイル、複数のサイト、 複数のサブディレクトリと合わせた <code>MASTER_SITES:n</code> の詳細な使用法</a> の両方をご覧ください。</p><div id=ports-master-sites-n-example-detailed-use-master-site-subdir class=exampleblock><div class=title>例 3. <code>MASTER_SITE_SUBDIR</code> における <code>MASTER_SITES:n</code> の詳細な使用法</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITE_SUBDIR=     old:n new/:NEW</pre></div></div><div class=ulist><ul><li><p>グループ <code>DEFAULT</code> に属するディレクトリ → old:n</p></li><li><p>グループ <code>NEW</code> に属するディレクトリ → new</p></li></ul></div></div></div><div id=ports-master-sites-n-example-detailed-use-complete-example-master-sites class=exampleblock><div class=title>例 4. カンマ演算子、複数のファイル、複数のサイト、 複数のサブディレクトリと合わせた <code>MASTER_SITES:n</code> の詳細な使用法</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   http://site1/%SUBDIR%/ http://site2/:DEFAULT \
                http://site3/:group3 http://site4/:group4 \
                http://site5/:group5 http://site6/:group6 \
                http://site7/:DEFAULT,group6 \
                http://site8/%SUBDIR%/:group6,group7 \
                http://site9/:group8
DISTFILES=      file1 file2:DEFAULT file3:group3 \
                file4:group4,group5,group6 file5:grouping \
                file6:group7
MASTER_SITE_SUBDIR=     directory-trial:1 directory-n/:groupn \
                        directory-one/:group6,DEFAULT \
                        directory</pre></div></div><div class=paragraph><p>上の例は、次のような細かく分けた取得を実現します。 サイトは、利用される順番で挙げられています。</p></div><div class=ulist><ul><li><p><span class=filename>file1</span> は次のサイトから取得されます。</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file2</span> は、<span class=filename>file1</span> と同じグループに属しているので、 まったく同じように取得されます。</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file3</span> は次のサイトから取得されます。</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site3/ class=bare>http://site3/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file4</span> は次のサイトから取得されます。</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site4/ class=bare>http://site4/</a></p></li><li><p><a href=http://site5/ class=bare>http://site5/</a></p></li><li><p><a href=http://site6/ class=bare>http://site6/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><a href=http://site8/directory-one/ class=bare>http://site8/directory-one/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file5</span> は次のサイトから取得されます。</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file6</span> は次のサイトから取得されます。</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site8/directory-one/ class=bare>http://site8/directory-one/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li></ul></div></div></div></li></ol></div></li><li><p><code>MASTER_SITE_SOURCEFORGE</code> のように、<span class=filename>bsd.sites.mk</span> で定義される特別な変数をグループに割り当てるにはどうすればよいですか?</p><div class=paragraph><p><a href=#ports-master-sites-n-example-detailed-use-master-site-sourceforge><code>MASTER_SITE_SOURCEFORGE</code> と合わせた <code>MASTER_SITES:n</code> の詳しい使用法</a> をご覧ください。</p></div><div id=ports-master-sites-n-example-detailed-use-master-site-sourceforge class=exampleblock><div class=title>例 5. <code>MASTER_SITE_SOURCEFORGE</code> と合わせた <code>MASTER_SITES:n</code> の詳しい使用法</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   http://site1/ ${MASTER_SITE_SOURCEFORGE:S/$/:sourceforge,TEST/}
DISTFILES=      something.tar.gz:sourceforge</pre></div></div></div></div><div class=paragraph><p><span class=filename>something.tar.gz</span> は、<code>MASTER_SITE_SOURCEFORGE</code> に含まれるあらゆるサイトから取得されます。</p></div></li><li><p>これを <code>PATCH*</code> 変数と組み合わせて使うにはどうすればよいでしょうか?</p><div class=paragraph><p>すべての例で <code>MASTER*</code> 変数を使っていますが、<a href=#ports-master-sites-n-example-detailed-use-patch-sites><code>PATCH_SITES</code> と合わせた <code>MASTER_SITES:n</code> の簡単な使用法</a> にあるように、<code>PATCH*</code> 変数に対してもまったく同じように働きます。</p></div><div id=ports-master-sites-n-example-detailed-use-patch-sites class=exampleblock><div class=title>例 6. <code>PATCH_SITES</code> と合わせた <code>MASTER_SITES:n</code> の簡単な使用法</div><div class=content><div class="literalblock programlisting"><div class=content><pre>PATCH_SITES=    http://site1/ http://site2/:test
PATCHFILES=     patch1:test</pre></div></div></div></div></li></ol></div></div><div class=sect2><h3 id=_ports_について何が変更され何が変わらないのでしょうか>5.4.10. ports について何が変更され、何が変わらないのでしょうか?<a class=anchor href=#_ports_について何が変更され何が変わらないのでしょうか></a></h3><div class="olist lowerroman"><ol class=lowerroman type=i><li><p>現在のすべての ports はそのまま変わりません。 <code>MASTER_SITES:n</code> 機能のコードは、<a href=#porting-master-sites-n-group-semantics>7</a> で述べた文法に従う <code>:n</code> のような形式が後ろについた要素がある場合だけ動作します。</p></li></ol></div><div id=porting-master-sites-n-what-changes-in-port-targets class="olist arabic"><ol class=arabic><li><p>port を make する際のターゲットにも変更はありません。 <code>checksum</code>, <code>makesum</code>, <code>patch</code>, <code>configure</code>, <code>build</code> 等です。 もちろん、<code>do-fetch</code>, <code>fetch-list</code>, <code>master-sites</code> それから <code>patch-sites</code> は例外です。</p><div class=ulist><ul><li><p><code>do-fetch</code> は、新しくグループ分けの接尾辞のついた <code>DISTFILES</code> と <code>PATCHFILES</code> を設定します。それぞれが、対応する <code>MASTER_SITES</code> と <code>PATCH_SITES</code> を利用し、さらに対応する <code>MASTER_SITE_SUBDIR</code> と <code>PATCH_SITE_SUBDIR</code> を利用します。<a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>カンマ演算子、複数のファイル、複数のサイト、 複数のサブディレクトリと合わせた <code>MASTER_SITES:n</code> の詳細な使用法</a> をご覧ください。</p></li><li><p><code>fetch-list</code> は、<code>do-fetch</code> と同じようにグループを利用するということを除いて、以前の <code>fetch-list</code> のように動作します。</p></li><li><p><code>master-sites</code> および <code>patch-sites</code> は、 (古いバージョンと互換性がなくなり) <code>DEFAULT</code> グループの要素を返すだけになっています。 実際は、それぞれ <code>master-sites-default</code> および <code>patch-sites-default</code> というターゲットを実行します。</p><div class=paragraph><p>さらに、 <code>MASTER_SITES</code> や <code>PATCH_SITES</code> を直接確認するよりも、 <code>master-sites-all</code> または <code>patch-sites-all</code> のどちらかのターゲットを使う方がよいです。 また、将来のバージョンでも直接確認ができるかどうかは保証されていません。 これら新規 port ターゲットについては、<a href=#porting-master-sites-n-new-port-targets-master-sites-all>B</a> の項をご確認ください。</p></div></li></ul></div></li><li><p>新規の port ターゲット</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p><code>MASTER_SITES</code> および <code>PATCH_SITES</code> のそれぞれについて、 グループ <em>n</em> の要素を表示する <code>master-sites-<em>n</em></code> および <code>patch-sites-<em>n</em></code> ターゲットがあります。たとえば、 <code>master-sites-DEFAULT</code> および <code>patch-sites-DEFAULT</code> のいずれも <code>DEFAULT</code> グループの要素を返し、 <code>master-sites-test</code> および <code>patch-sites-test</code> は <code>test</code> グループの要素を返します。</p></li></ol></div></li></ol></div><div id=porting-master-sites-n-new-port-targets-master-sites-all class="olist loweralpha"><ol class=loweralpha type=a><li><p>以前の <code>master-sites</code> および <code>patch-sites</code> が行っていた作業を行う <code>master-sites-all</code> および <code>patch-sites-all</code> という新たなターゲットがあります。 これらのターゲットは、 すべてのグループの要素をすべてが同じグループに属しているかのように返します。 ただし、 <code>master-sites-all</code> および <code>patch-sites-all</code> のそれぞれについて、 <code>DISTFILES</code> や <code>PATCHFILES</code> で定義されているグループと同じ数だけ <code>MASTER_SITE_BACKUP</code> と <code>MASTER_SITE_OVERRIDE</code> を表示します。</p></li></ol></div></div><div class=sect2><h3 id=_dist_subdir>5.4.11. <code>DIST_SUBDIR</code><a class=anchor href=#_dist_subdir></a></h3><div class=paragraph><p><span class=filename>/usr/ports/distfiles</span> ディレクトリ内をあまり散らかさないようにしてください。 たくさんのファイルを取ってくる port や、他の port と名前の衝突が起きる恐れのあるファイル (<span class=filename>Makefile</span> など) がある場合には、 <code>DIST_SUBDIR</code> に port の名前 (<code>${PORTNAME}</code> か <code>${PKGNAMEPREFIX}${PORTNAME}</code> を使うといいでしょう) を入れてください。すると <code>DISTDIR</code> がデフォルトの <span class=filename>/usr/ports/distfiles</span> から <span class=filename>/usr/ports/distfiles/DIST_SUBDIR</span> に変更され、 取ってきたファイルはすべてそのサブディレクトリの中に置かれるようになります。</p></div><div class=paragraph><p>また、 ファイルを取ってくるときにバックアップサイトとして使われる <span class=filename>ftp.FreeBSD.org</span> のディレクトリ名にもこの変数の値が使われます (<code>Makefile</code> の中で <code>DISTDIR</code> を明示的に指定した場合、 ローカルのファイルを置くところは変わりますが、 このサイトのディレクトリ名は変わりません。 必ず <code>DIST_SUBDIR</code> を使うようにしてください)。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>この変数は <span class=filename>Makefile</span> 中で明示的に指定された <code>MASTER_SITES</code> には影響しません。</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=makefile-maintainer>5.5. <code>MAINTAINER</code><a class=anchor href=#makefile-maintainer></a></h2><div class=sectionbody><div class=paragraph><p>あなたのメールアドレスをここに入れてください。 お願いします。 <em>:-)</em></p></div><div class=paragraph><p><code>MAINTAINER</code> の値は、コメント部のない単一のアドレスしか受け付けられません。 <code>user@hostname.domain</code> という形式を利用してください。この項目には、 あなたの本名などの説明用のテキストは一切いれないでください。 (そうしても、ただ <span class=filename>bsd.port.mk</span> が混乱するだけです)。そういう情報は <span class=filename>pkg-descr</span> に書いてください。</p></div><div class=paragraph><p>保守担当者 (maintainer) の責任に関する詳細説明は、 <a href=https://docs.freebsd.org/en/books/developers-handbook/#POLICIES-MAINTAINER>Makefile 中の MAINTAINER</a> の セクションを参照してください。</p></div><div class=paragraph><p>Port のメンテナがユーザからの更新要求に (主な公休日を除いて) 2 週間返答しなかったら、 保守担当者の持ち時間が切れたとみなして、 保守担当者の明示的な了承なしに更新して構いません。 保守担当者が 3 ヶ月以内に返答しない場合は、 その保守担当者は無断で不在にしているとみなして、 問題となっている port の保守担当者を入れ替えても構いません。 例外となるは、ports 管理チーム &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> または セキュリティオフィサチーム &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>> が保守しているものです。このグループが保守している port に対しては許可を得ずにコミットしてはいけません。</p></div><div class=paragraph><p>ports 管理チーム &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> は、何か理由があれば、 誰かを保守担当から外したり、別の方を担当者にする権利を持ちます。 セキュリティオフィサチーム &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>> は、セキュリティ上の理由で、 保守担当者の権限を剥奪したり担当者を変更する権利を持ちます。</p></div></div></div><div class=sect1><h2 id=makefile-comment>5.6. <code>COMMENT</code><a class=anchor href=#makefile-comment></a></h2><div class=sectionbody><div class=paragraph><p>その port の 1 行の説明です。 コメントにはパッケージ名 (やソフトウェアのバージョン) を<em>入れないでください</em>。 コメントは大文字で始め、最後にピリオドは付けないでください。 たとえば、こんな具合です。</p></div><div class="literalblock programlisting"><div class=content><pre>COMMENT=       A cat chasing a mouse all over the screen</pre></div></div><div class=paragraph><p><span class=filename>Makefile</span> 中で、 COMMENT 変数は MAINTAINER 変数の直後においてください。</p></div><div class=paragraph><p>COMMENT 行は、port の 1 行の要約としてユーザに示されるので、 70 文字未満に抑えるようにしてください。</p></div></div></div><div class=sect1><h2 id=makefile-depend>5.7. 依存関係<a class=anchor href=#makefile-depend></a></h2><div class=sectionbody><div class=paragraph><p>多くの port は他の port に依存しています。 必要なものすべてがユーザのマシン上に存在することを 保証するために使用可能な、7 つの変数が用意されています。 よくあるケースのためにあらかじめ設定された依存変数に加え、 いくつかの依存関係の制御のための変数があります。</p></div><div class=sect2><h3 id=_lib_depends>5.7.1. <code>LIB_DEPENDS</code><a class=anchor href=#_lib_depends></a></h3><div class=paragraph><p>その port が必要とする共有ライブラリを、この変数で指定します。 (訳注: libc 等、標準のライブラリは指定する必要がありません。) これは <em>lib:dir</em><code>:target</code> という 組のリストです。 <em>lib</em> が共有ライブラリの名前、 <em>dir</em> が そのライブラリが見つからない場合に インストールされる port のディレクトリ、 <em>target</em>が そのディレクトリで呼ばれるターゲットです。 たとえば、</p></div><div class="literalblock programlisting"><div class=content><pre>LIB_DEPENDS= jpeg.9:${PORTSDIR}/graphics/jpeg:install</pre></div></div><div class=paragraph><p>と指定されていた場合、まずメジャーバージョンが 9 の jpeg 共有ライブラリがインストールされているかどうかを確認します。 インストールされていない場合には、ports ツリーの <span class=filename>graphics/jpeg</span> サブディレクトリに移動し、 <em>target</em> のコンパイルとインストールを行ないます。 <em>target</em> の部分は、 それが <code>DEPENDS_TARGET</code> (デフォルトでは <code>install</code>) と 等しいときには省略することができます。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>先頭の <em>lib</em> の部分は <code>ldconfig -r | grep -wF</code> への引数になります。 この変数には正規表現を入れないようにしてください。</p></div></td></tr></tbody></table></div><div class=paragraph><p>この依存関係のチェックは、 <code>extract</code> ターゲットと <code>install</code> ターゲットの中で、2 回行なわれます。 (訳注: これは、その port をビルドするマシンとインストールされるマシンが違う場合、 どちらのマシンでもそのライブラリが利用できることを確認するためです)。 同様に、依存するライブラリの名前は package 中にも書き込まれていて、 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 実行時にそのライブラリがユーザのシステムに存在していなければ、 自動的にインストールされます。</p></div></div><div class=sect2><h3 id=_run_depends>5.7.2. <code>RUN_DEPENDS</code><a class=anchor href=#_run_depends></a></h3><div class=paragraph><p>この port の実行時に必要となるプログラム、 またはファイルがあるときにはこの変数で指定します。これは <em>path:dir</em><code>:target</code> という組のリストです。 <em>path</em> がファイルまたはプログラムの名前、 <em>dir</em> が それが見つからない場合にインストールされる port のディレクトリ、 <em>target</em> が そのディレクトリで呼ばれるターゲットです。 <em>path</em> の最初の文字がスラッシュ (<code>/</code>) の場合にはファイルかディレクトリとみなし、 存在するかどうか <code>test -e</code> を使ってチェックします。 そうでない場合には実行可能ファイルであると考えて、 そのプログラムがユーザのサーチパス上にあるかどうか <code>which -s</code> を使って確認します。</p></div><div class=paragraph><p>たとえば Makefile に以下のように書いてあるとします。</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS=   ${LOCALBASE}/etc/innd:${PORTSDIR}/news/inn \
                wish8.0:${PORTSDIR}/x11-toolkits/tk80</pre></div></div><div class=paragraph><p>まず、<span class=filename>/usr/local/etc/innd</span> というファイルかディレクトリが存在するか確認します。 存在しない場合には、ports ツリーの <span class=filename>news/inn</span> というサブディレクトリで ビルドとインストールを行ないます。 さらに、<code>wish8.0</code> というプログラムがユーザのサーチパス中にあるかどうか探します。 ない場合には同じく ports ツリーの <span class=filename>x11-toolkits/tk80</span> というサブディレクトリでコンパイルとインストールを行ないます。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>この例で、<code>innd</code> は実際にはプログラムです。 このように、プログラムであっても一般ユーザのサーチパスに 含まれているとは考えにくいところに置かれているものの場合には、 絶対パスで指定してください。</p></div></td></tr></tbody></table></div><div class=paragraph><p>この依存関係は <code>install</code> ターゲット中でチェックされます。 また、<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> によるインストールの際に、その package が依存するものがユーザのシステムに存在しない場合には自動的に追加インストールできるように、 依存するものの名前も package 中に記録されます。 <em>target</em> の部分が <code>DEPENDS_TARGET</code> と同じ場合には、 <em>target</em> の部分を省略することができます。</p></div></div><div class=sect2><h3 id=_build_depends>5.7.3. <code>BUILD_DEPENDS</code><a class=anchor href=#_build_depends></a></h3><div class=paragraph><p>この port のビルド時に必要となるプログラム、 またはファイルがあるときにはこの変数で指定します。 <code>RUN_DEPENDS</code> と同様に、これは <em>path:dir</em><code>:target</code> という組のリストです。たとえば、</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=unzip:${PORTSDIR}/archivers/unzip</pre></div></div><div class=paragraph><p>と指定されていた場合、まず <code>unzip</code> という名前のプログラムがインストールされているかどうかを確認します。 インストールされていない場合には ports ツリーの <span class=filename>archivers/unzip</span> サブディレクトリに移動し、 ビルドとインストールを行ないます。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>ここで言う"ビルド"とは、 ファイルの展開からコンパイルまでのすべての処理を意味します。 この依存関係は、<code>extract</code> ターゲットの中でチェックされます。 <em>target</em> の部分は、 <code>DEPENDS_TARGET</code> と同じ場合には省略することができます。</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_fetch_depends>5.7.4. <code>FETCH_DEPENDS</code><a class=anchor href=#_fetch_depends></a></h3><div class=paragraph><p>この port を取ってくるのに必要となるプログラム、 またはファイルがあるときにはこの変数で指定します。 上の二つと同様に、これは <em>path:dir</em><code>:target</code> という組のリストです。たとえば、</p></div><div class="literalblock programlisting"><div class=content><pre>FETCH_DEPENDS=ncftp2:${PORTSDIR}/net/ncftp2</pre></div></div><div class=paragraph><p>と指定されていれば、<code>ncftp2</code> という名前のプログラムを探します。 見つからない場合には、ports ツリーの <span class=filename>net/ncftp2</span> サブディレクトリでビルドとインストールを行ないます。</p></div><div class=paragraph><p>この依存関係は <code>fetch</code> ターゲット中でチェックされます。 <em>target</em> の部分は、 <code>DEPENDS_TARGET</code> と同じ場合には省略することができます。</p></div></div><div class=sect2><h3 id=_extract_depends>5.7.5. <code>EXTRACT_DEPENDS</code><a class=anchor href=#_extract_depends></a></h3><div class=paragraph><p>この変数には、この port の展開に必要な実行ファイルや、他のファイルを指定します。 前の変数と同じく、これは <em>path:dir</em><code>:target</code> のタプルの一覧です。たとえば、</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_DEPENDS=
	    unzip:${PORTSDIR}/archivers/unzip</pre></div></div><div class=paragraph><p>は、<code>unzip</code> という実行形式のファイルがあるかどうか確認し、 見つからなければ、ports ツリーの <span class=filename>archivers/unzip</span> サブディレクトリに降りてビルドおよびインストールを行います。</p></div><div class=paragraph><p>依存関係は <code>extract</code> ターゲットにおいて確認されます。 <em>target</em> 部分が <code>DEPENDS_TARGET</code> と同じなら、省いて構いません。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>この変数は、展開が働いておらず (デフォルトでは <code>gzip</code> を仮定しています)、 <a href=#use-vars><code>USE_*</code></a> で説明されている <code>USE_ZIP</code> や <code>USE_BZIP2</code> を使っても動かない場合にだけ使ってください。</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_patch_depends>5.7.6. <code>PATCH_DEPENDS</code><a class=anchor href=#_patch_depends></a></h3><div class=paragraph><p>この変数は、この port がパッチを当てる際に必要とする実行ファイルや他のファイルを指定します。 前の変数と同じく、これは <em>path:dir</em><code>:target</code> のタプルの一覧です。たとえば、</p></div><div class="literalblock programlisting"><div class=content><pre> PATCH_DEPENDS=
	    ${NONEXISTENT}:${PORTSDIR}/java/jfc:extract</pre></div></div><div class=paragraph><p>は、ports ツリーの <span class=filename>java/jfc</span> サブディレクトリに移動して、 ビルドおよびインストールを行います。</p></div><div class=paragraph><p>依存関係は、<code>patch</code> ターゲットにおいて確認されます。<em>target</em> 部分が <code>DEPENDS_TARGET</code> と同じなら省略して構いません。</p></div></div><div class=sect2><h3 id=_depends>5.7.7. <code>DEPENDS</code><a class=anchor href=#_depends></a></h3><div class=paragraph><p>上記のいずれにもあてはまらないような依存関係がある場合、 または他の port がインストールされているだけではなく ソースが展開されている必要がある場合には、この変数を使います。 これは上記の四つと違い、特に"確認"するものが ありませんので、 <em>dir</em><code>:target</code> という形式のリストになります。 <em>target</em> の部分は <code>DEPENDS_TARGET</code> と同じ場合には省略することができます。</p></div></div><div class=sect2><h3 id=use-vars>5.7.8. <code>USE_*</code><a class=anchor href=#use-vars></a></h3><div class=paragraph><p>多くの ports に共通の依存関係をカプセル化するために、 いくつもの変数が存在しています。</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>表 1. <code>USE_*</code> 変数</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">変数</th><th class="tableblock halign-left valign-top">意味</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_BZIP2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port の tarball は <code>bzip2</code> で圧縮されています。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_ZIP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port の tarball は <code>zip</code> で圧縮されています。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_GMAKE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port をビルドするのに <code>gmake</code> が必要です。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PERL5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port をビルドしてインストールするのに <code>perl 5</code> が必要です。 <code>perl</code> に関連して設定可能な他の変数については <a href=../special/#using-perl>perl の利用</a> をご覧ください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_X_PREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port は <code>PREFIX</code> ではなく <code>X11BASE</code> にインストールされます。 X11 に関連して設定可能な他の変数については、 <a href=../special/#using-x11>X11 の利用</a> をご覧ください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_AUTOMAKE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port のビルドに GNU <code>automake</code> が使われます。<code>automake</code> に関わる他に設定可能な変数については、 <a href=../special/#using-automake><code>automake</code> - <code>autoconf</code> および libtool の利用</a> をご覧ください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_AUTOCONF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port のビルドに GNU <code>autoconf</code> が使われます。<code>autoconf</code> に関わる他に設定可能な変数については、 <a href=../special/#using-automake><code>automake</code> - <code>autoconf</code> および libtool の利用</a> をご覧ください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_LIBTOOL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port のビルドに GNU <code>libtool</code> が使われます。<code>libtool</code> に関わる他に設定可能な変数については、 <a href=../special/#using-automake><code>automake</code> - <code>autoconf</code> および libtool の利用</a> をご覧ください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GMAKE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>gmake</code> が <code>PATH</code> に入っていない場合のフルパス</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_BISON</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port のビルドに <code>bison</code> が使われます。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_SDL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>その port のビルドや実行に <code>SDL</code> が使われます。 <code>USE_SDL</code> の使い方について、詳しくは <a href=../special/#using-sdl>SDL の利用</a> をご覧ください。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>NO_INSTALL_MANPAGES</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>install.man</code> ターゲットを使いません。</p></td></tr></tbody></table><div class=paragraph><p>その ports が X Window System を必要とするのであれば、 <code>USE_XLIB=yes</code> を定義してください (これは <code>USE_IMAKE</code> が定義されていれば自動的に定義されます)。 BSD <code>make</code> ではなく GNU <code>make</code> を必要とする場合には <code>USE_GMAKE=yes</code> を、 GNU autoconf を実行する必要がある場合には <code>USE_AUTOCONF=yes</code> を、 最新の qt toolkit を使用する場合には <code>USE_QT=yes</code> を、 <code>perl</code> 言語のバージョン 5 を必要とする場合には <code>USE_PERL5=yes</code> を定義してください (特に最後のものは重要です。 FreeBSD のバージョンにより、基本システムに <code>perl5</code> が含まれていたり、いなかったりします)。</p></div></div><div class=sect2><h3 id=_依存関係に関する注意>5.7.9. 依存関係に関する注意<a class=anchor href=#_依存関係に関する注意></a></h3><div class=paragraph><p>上で述べたように、依存する ports が必要になったときに呼ばれるデフォルトのターゲットは <code>DEPENDS_TARGET</code> で、そのデフォルトは <code>install</code> です。 これはユーザが使用する変数であり、 port の <span class=filename>Makefile</span> で定義するものではありません。 もし、その port が特別な方法で依存関係を扱う必要がある場合には、 <code>DEPENDS_TARGET</code> を再定義するのではなく <code>*_DEPENDS</code> 変数の <code>:target</code> 部分を使用してください。</p></div><div class=paragraph><p><code>make clean</code> と入力したときには、 その port が依存する port も自動的に clean されます。 そうならないようにしたい場合には、 環境変数 <code>NOCLEANDEPENDS</code> を設定してください。KDE, GNOME や Mozilla のように、再ビルドするのに時間がかかる port に依存している場合は特に望ましいかもしれません。</p></div><div class=paragraph><p>無条件に他の port に依存させるには、 <code>BUILD_DEPENDS</code> や <code>RUN_DEPENDS</code> の最初のフィールドに <code>${NONEXISTENT}</code> という変数を指定してください。 これは、他の port のソースが必要なときのみ使用してください。 ターゲットも指定することで、 コンパイルの時間を節約できる場合もあります。 たとえば</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=   ${NONEXISTENT}:${PORTSDIR}/graphics/jpeg:extract</pre></div></div><div class=paragraph><p>とすると、常に <code>jpeg</code> port のディレクトリに行ってソースの展開を行ないます。</p></div><div class=paragraph><p>あなたがやりたいことが他の方法ではできない場合以外には <code>DEPENDS</code> を使わないでください。 これは常に他の port の作成を行ない (さらにデフォルトでは インストールも行ない)、package まで作成します。 この動作が本当に所望のものでしたら、 それを <code>BUILD_DEPENDS</code> と <code>RUN_DEPENDS</code> に書くべきでしょう - 少なくとも意図を明確にすることができます。</p></div></div><div class=sect2><h3 id=_オプション選択可能な依存ライブラリ>5.7.10. オプション選択可能な依存ライブラリ<a class=anchor href=#_オプション選択可能な依存ライブラリ></a></h3><div class=paragraph><p>巨大なアプリケーションの中には、 複数のコンフィギュレーションでビルドすることができるものがあります。 つまり、いくつもの外部ライブラリやアプリケーションの中の、 あるものが利用可能な場合に、 それを拡張機能として使用するように設定することができるということです。 それらのライブラリやアプリケーションを、 必ずしも すべてのユーザが必要としているわけではありませんので、ports システムではどのコンフィギュレーションがビルドされるべきかを port 作者が決めるために使えるフックを用意しています。 これらを適切にサポートすることにより、ユーザをハッピーにしたり、 port 1 つ分のコストで 2 つまたはそれ以上の port を提供するのと同様の効率化を行なうことが可能です。</p></div><div class=paragraph><p>これらのフックのうちで最も簡単に使えるものは <code>WITHOUT_X11</code> でしょう。 その port が X Window System のサポートありと、 サポートなしの設定でビルドできるのであれば、 通常は X Window System サポートありでビルドするべきでしょう。 ビルド時に <code>WITHOUT_X11</code> が定義されていれば、 その時は X Window System サポートなしのバージョンが ビルドされるべきです。</p></div><div class=paragraph><p>GNOME 環境の様々なパーツも、そのようなノブ (フック) を持っていますが、それらは幾分使いにくいものです。 <span class=filename>Makefile</span> 中で その目的に使用される変数は <code>WANT_*</code> と <code>HAVE_*</code> になります。 そのアプリケーションが、 以下に示されている依存ライブラリの一つについて、 サポートあり、なしの両方でビルドできる場合、 <span class=filename>Makefile</span> には <code>WANT_PKG</code> をセットする必要があります。 そして、ビルド時に <code>HAVE_PKG</code> が定義されていれば <code>PKG</code> を使うバージョンがビルドされることになります。</p></div><div class=paragraph><p>現在、このような形でサポートされている <code>WANT_*</code> 変数は、 <code>WANT_GLIB</code>, <code>WANT_GTK</code>, <code>WANT_ESOUND</code>, <code>WANT_IMLIB</code>, そして <code>WANT_GNOME</code> です。</p></div></div><div class=sect2><h3 id=_致命的な依存の循環>5.7.11. 致命的な依存の循環<a class=anchor href=#_致命的な依存の循環></a></h3><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Ports ツリーに循環する依存性を持ち込まないでください!</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ports の構築技術は循環依存性を許容していません。 循環依存させてしまうと、たちまちどこかの誰かがインストールしている FreeBSD を駄目にしてしまい、その数はまたたく間に増えて行きます。 この問題は見付けるのが非常に難しいです。 問題がありそうな場合は、その変更を行う前に <code>cd /usr/ports; make index</code> を実行するようにしてください。 この処理は古いマシンではかなり遅いかもしれませんが、 (あなたも含めて) 多くの人がその処理を行って嘆くことにならずに済ませられるでしょう。</p></div></div></div></div><div class=sect1><h2 id=makefile-wrkdir>5.8. 作業ディレクトリの指定<a class=anchor href=#makefile-wrkdir></a></h2><div class=sectionbody><div class=paragraph><p>それぞれの port は作業ディレクトリに展開されるので、 作業ディレクトリは書き込み可能でなければなりません。 Ports システムは、デフォルトでは <code>DISTFILES</code> が <code>${DISTNAME}</code> というディレクトリに展開されると想定します。 つまり、次のように設定していたら、</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=      foo
PORTVERSION=   1.0</pre></div></div><div class=paragraph><p>その port の配布ファイルの内容は、最上位のディレクトリが <span class=filename>foo-1.0</span> で、 残りのファイルはそのディレクトリの下に置かれているということです。</p></div><div class=paragraph><p>そうでない場合に上書きできる変数がたくさんあります。</p></div><div class=sect2><h3 id=_wrksrc>5.8.1. <code>WRKSRC</code><a class=anchor href=#_wrksrc></a></h3><div class=paragraph><p>この変数は、 アプリケーションの配布ファイルが展開された時に作成されるディレクトリの名称を示します。 前の例で、(<span class=filename>foo-1.0</span> ではなく) <span class=filename>foo</span> というディレクトリに展開されるなら、</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=      ${WRKDIR}/foo</pre></div></div><div class=paragraph><p>または、</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=      ${WRKDIR}/${PORTNAME}</pre></div></div><div class=paragraph><p>と書いてください。</p></div></div><div class=sect2><h3 id=_no_wrksubdir>5.8.2. <code>NO_WRKSUBDIR</code><a class=anchor href=#_no_wrksubdir></a></h3><div class=paragraph><p>その port がサブディレクトリに展開しないのであれば、 それを示すために <code>NO_WRKSUBDIR</code> を設定してください。</p></div><div class="literalblock programlisting"><div class=content><pre>NO_WRKSUBDIR= yes</pre></div></div></div></div></div><div class=sect1><h2 id=conflicts>5.9. <code>CONFLICTS</code><a class=anchor href=#conflicts></a></h2><div class=sectionbody><div class=paragraph><p>あなたが作成している package が他の packageと (ファイルの衝突や実行時の非互換性により) 共存できないのであれば、<code>CONFLICTS</code> 変数にその package の名称を挙げてください。 <code>*</code> や <code>?</code> のようなシェルの補完が利用できます。package 名は <span class=filename>/var/db/pkg</span> にあるのと同じ形式で並べてください。</p></div></div></div><div class=sect1><h2 id=makefile-build>5.10. ビルドのメカニズム<a class=anchor href=#makefile-build></a></h2><div class=sectionbody><div class=paragraph><p>そのソフトウェアがビルドの際に GNU <code>make</code> を使う場合には、<code>USE_GMAKE=yes</code> をセットしてください。 <code>configure</code> を使う場合には、 <code>HAS_CONFIGURE=yes</code> をセットしてください。 GNU <code>configure</code> を使う場合には、 <code>GNU_CONFIGURE=yes</code> をセットしてください (これにより <code>HAS_CONFIGURE</code> もセットされます)。 <code>configure</code> に追加の引数を渡したい場合には、 追加部分を <code>CONFIGURE_ARGS</code> に指定してください。 (デフォルトの引数リストは、GNU <code>configure</code> では <code>--prefix=${PREFIX}</code> に、 GNU でない <code>configure</code> では空リストになります。) GNU <code>autoconf</code> を使う場合には、 <code>USE_AUTOCONF=yes</code> をセットしてください。 これにより <code>GNU_CONFIGURE</code> もセットされ、 <code>configure</code> を実行する前に <code>autoconf</code> が実行されます。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>もしそのパッケージが GNU <code>configure</code> を使っていて、作成された実行形式のファイルが <span class=filename>i386-portbld-freebsd4.7-</span><em>appname</em> のような"奇妙な"名称だった場合は、さらに <code>CONFIGURE_TARGET</code> を上書きして、新しいバージョンの <code>autoconf</code> で生成されたスクリプトが要求する方法でターゲットを指定する必要があります。 <span class=filename>Makefile</span> の <code>GNU_CONFIGURE=yes</code> 行のすぐ後に次の行を追加してください。</p></div><div class=paragraph><p><code>CONFIGURE_TARGET=--build=${MACHINE_ARCH}-portbld-freebsd${OSREL}</code></p></div></td></tr></tbody></table></div><div class=paragraph><p>そのソフトウェアが X Window System のアプリケーションなどで、 <code>imake</code> を使って <span class=filename>Imakefile</span> から <span class=filename>Makefile</span> を作成する場合には、 <code>USE_IMAKE=yes</code> を指定してください。 そうするとコンフィグレーションステージで自動的に <code>xmkmf -a</code> が実行されます。 もし <code>-a</code> フラグが問題を引き起こすなら、 さらに <code>XMKMF=xmkmf</code> をセットしてください。 もし、その port が <code>imake</code> を使用するけれども <code>install.man</code> ターゲットを持たない場合には、 <code>NO_INSTALL_MANPAGES=yes</code> をセットしてください。 ついでに、そのソフトウェアの作者を探し出して八つ裂きにするといいでしょう。 <em>(-</em>-#)_</p></div><div class=paragraph><p>そのソフトウェアの元々の <span class=filename>Makefile</span> が <code>all</code> 以外のものをメインのターゲットとしている場合には、それを <code>ALL_TARGET</code> に指定してください。 <code>install</code> と <code>INSTALL_TARGET</code> も同様です。</p></div></div></div></div><hr><div class=last-modified><p><strong>最終更新日</strong>: 2024年3月9日 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/ja/books/porters-handbook/slow class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/ja/books/porters-handbook/special class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>目次</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. オリジナルのソース</a></li><li><a href=#makefile-naming>5.2. 名前の付け方</a></li><li><a href=#makefile-categories>5.3. カテゴリ分類</a></li><li><a href=#makefile-distfiles>5.4. 配布ファイル</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-depend>5.7. 依存関係</a></li><li><a href=#makefile-wrkdir>5.8. 作業ディレクトリの指定</a></li><li><a href=#conflicts>5.9. <code>CONFLICTS</code></a></li><li><a href=#makefile-build>5.10. ビルドのメカニズム</a></li></ul></nav><hr><div class=resources><h3>リソース</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="PDF 版のダウンロード"></i><a href=https://download.freebsd.org/doc/ja/books/porters-handbook/porters-handbook_ja.pdf>PDF 版のダウンロード</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/ja/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/ja/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>日本語</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/ja class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/ja/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>