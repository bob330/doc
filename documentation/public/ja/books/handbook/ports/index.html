<!doctype html><html class=theme-light lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="FreeBSD は、サードパーティ製のソフトウェアの導入を支援するために、ソースコードをコンパイルしてインストールする Ports Collection と、コンパイル済みのバイナリをインストールする packages という相補的な 2 つの技術を提供しています。"><meta name=keywords content="ports,collection,pkg,poudriere,管理"><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/ja/books/handbook/ports/><title>第4章 アプリケーションのインストール - packages と ports | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="第4章 アプリケーションのインストール - packages と ports"><meta property="og:description" content="FreeBSD は、サードパーティ製のソフトウェアの導入を支援するために、ソースコードをコンパイルしてインストールする Ports Collection と、コンパイル済みのバイナリをインストールする packages という相補的な 2 つの技術を提供しています。"><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="ja"><meta property="og:url" content="https://docs.freebsd.org/ja/books/handbook/ports/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/ja\/books\/handbook\/ports\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/ja>Documentation portal</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/ja/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/ja/books>Books</a></li><li><a href=https://docs.freebsd.org/ja/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/ja/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=ja>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/preface/>前書き</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/preface/#preface-audience>想定している読者</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/preface/#preface-changes-from3>第 3 版からの変更</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/preface/#preface-changes-from2>第 2 版 (2004) からの変更</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/preface/#preface-changes>第 1 版 (2001) からの変更</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/preface/#preface-overview>この文書の構成</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/preface/#preface-conv>この文書で用いられている表記法</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/preface/#preface-acknowledgements>謝辞</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/parti/>パートI. 導入</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/introduction/>第1章 はじめに</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/introduction/#introduction-synopsis>1.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/introduction/#nutshell>1.2. FreeBSD へようこそ!</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/introduction/#history>1.3. FreeBSD プロジェクトについて</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/>第2章 FreeBSD のインストール</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-synopsis>2.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-hardware>2.2. 最小ハードウェア要件</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-pre>2.3. インストール前に行う作業</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-start>2.4. インストールの開始</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#using-bsdinstall>2.5. bsdinstall の使用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-partitioning>2.6. ディスク領域の割り当て</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-fetching-distribution>2.7. 配布ファイルのダウンロード</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-post>2.8. ネットワークインターフェース、アカウント、タイムゾーン、 サービスおよびセキュリティオプションの設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#bsdinstall-install-trouble>2.9. トラブルシューティング</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bsdinstall/#using-live-cd>2.10. Live CD を使う</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/basics/>第3章 FreeBSD の基礎知識</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#basics-synopsis>3.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#consoles>3.2. 仮想コンソールと端末</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#users-synopsis>3.3. ユーザと基本的なアカウント管理</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#permissions>3.4. 許可属性</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#dirstructure>3.5. ディレクトリ構造</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#disk-organization>3.6. ディスク構成</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#mount-unmount>3.7. ファイルシステムのマウントとアンマウント</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#basics-processes>3.8. プロセスおよびデーモン</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#shells>3.9. シェル</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#editors>3.10. テキストエディタ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#basics-devices>3.11. デバイスとデバイスノード</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/basics/#basics-more-information>3.12. マニュアルページ</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle checked>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/ports/>第4章 アプリケーションのインストール - packages と ports</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#ports-synopsis>4.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#ports-overview>4.2. ソフトウェアのインストール</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#ports-finding-applications>4.3. ソフトウェアの探し方</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#pkgng-intro>4.4. pkg によるバイナリ package の管理</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#ports-using>4.5. Ports Collection の利用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#ports-poudriere>4.6. Poudriere を用いた package の構築</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#ports-nextsteps>4.7. インストール後の作業</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ports/#ports-broken>4.8. うまく動作しない ports に遭遇した場合には</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/x11/>第5章 X Window System</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x11-synopsis>5.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x-understanding>5.2. 用語の説明</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x-install>5.3. Xorg のインストール</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x-config>5.4. Xorg の設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x-fonts>5.5. Xorg でのフォントの使用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x-xdm>5.6. X ディスプレイマネージャ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x11-wm>5.7. デスクトップ環境</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x-compiz-fusion>5.8. Compiz Fusion のインストール</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/x11/#x11-troubleshooting>5.9. トラブルシューティング</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/partii/>パートII. 日々の生活</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/desktop/>第6章 デスクトップアプリケーション</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/desktop/#desktop-synopsis>6.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/desktop/#desktop-browsers>6.2. ブラウザ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/desktop/#desktop-productivity>6.3. 生産的なアプリケーション</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/desktop/#desktop-viewers>6.4. ドキュメントビューア</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/desktop/#desktop-finance>6.5. 財務管理ソフトウェア</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/>第7章 マルチメディア</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/#multimedia-synopsis>7.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/#sound-setup>7.2. サウンドカードの設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/#sound-mp3>7.3. MP3 オーディオ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/#video-playback>7.4. ビデオ再生</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/#tvcard>7.5. TV カードの設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/#mythtv>7.6. MythTV</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/multimedia/#scanners>7.7. 画像スキャナ</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/kernelconfig/>第8章 FreeBSD カーネルのコンフィグレーション</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. なぜカスタムカーネルを作るか?</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/kernelconfig/#kernelconfig-devices>8.3. システムのハードウェアについて知る</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/kernelconfig/#kernelconfig-config>8.4. コンフィグレーションファイル</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/kernelconfig/#kernelconfig-building>8.5. カスタムカーネルの構築とインストール</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/kernelconfig/#kernelconfig-trouble>8.6. 問題が起きた場合には</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/printing/>第9章 プリンタの利用</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/printing/#printing-synopsis>9.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/printing/#printing-intro-spooler>9.2. はじめに</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/printing/#printing-intro-setup>9.3. 基本的な設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/printing/#printing-advanced>9.4. プリンタ設定上級編</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/printing/#printing-using>9.5. プリンタを使う</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/printing/#printing-lpd-alternatives>9.6. 標準スプーラの代替品</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/printing/#printing-troubleshooting>9.7. トラブルシューティング</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/linuxemu/>第10章 Linux® バイナリ互換機能</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/linuxemu/#linuxemu-synopsis>10.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Linux® バイナリ互換機能の設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/linuxemu/#linuxemu-advanced>10.3. 高度なトピックス</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/partiii/>パートIII. システム管理</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/config/>第11章 設定とチューニング</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#_この章では>11.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-core-configuration>11.2. 中核となる設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-appconfig>11.3. アプリケーションの設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-starting-services>11.4. サービスの起動</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-virtual-hosts>11.5. バーチャルホスト</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-configfiles>11.6. 設定ファイル</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-sysctl>11.7. sysctl によるチューニング</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-disk>11.8. ディスクのチューニング</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/config/#configtuning-kernel-limits>11.9. Kernel 制限のチューニング</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/boot/>第12章 FreeBSD の起動のプロセス</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/boot/#boot-synopsis>12.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/boot/#boot-introduction>12.2. FreeBSD の起動プロセス</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/boot/#device-hints>12.3. Device Hints</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/boot/#boot-shutdown>12.4. シャットダウン動作</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/security/>第13章 セキュリティ</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#security-synopsis>13.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#security-intro>13.2. はじめに</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#one-time-passwords>13.3. ワンタイムパスワード</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#tcpwrappers>13.4. TCP Wrappers</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#kerberos5>13.5. Kerberos5</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#openssl>13.6. OpenSSL</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#ipsec>13.7. VPN over IPsec</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#openssh>13.8. OpenSSH</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#fs-acl>13.9. ファイルシステムアクセス制御リスト (ACL)</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#security-portaudit>13.10. サードパーティ製ソフトウェアのセキュリティ問題を監視する</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#security-advisories>13.11. FreeBSD セキュリティ勧告</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#security-accounting>13.12. プロセスアカウンティング</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/security/#security-resourcelimits>13.13. リソースの制限</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/disks/>第14章 ストレージ</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#disks-synopsis>14.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#disk-naming>14.2. デバイス名</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#disks-adding>14.3. ディスクの追加</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#raid>14.4. RAID</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#creating-cds>14.5. 光メディア (CD & DVD) の作成と使用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#floppies>14.6. フロッピーディスクの作成と使用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#backups-tapebackups>14.7. データテープの作成と使用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#backups-floppybackups>14.8. フロッピーディスクへのバックアップ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#backup-basics>14.9. バックアップの基本</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#disks-virtual>14.10. ネットワーク、メモリ、そしてファイルベースのファイルシステム</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#snapshots>14.11. ファイルシステムのスナップショット</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#quotas>14.12. ファイルシステムクォータ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/disks/#disks-encrypting>14.13. ディスクパーティションの暗号化</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/l10n/>第15章 地域化 (localization) - i18n/L10n の利用と設定</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/l10n/#l10n-synopsis>15.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/l10n/#using-localization>15.2. 地域化の利用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/l10n/#l10n-compiling>15.3. 国際化 (i18n) に対応したアプリケーションを見つける</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/l10n/#lang-setup>15.4. 特定の言語にロケールを設定する</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/>第16章 FreeBSD のアップデートとアップグレード</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/#updating-upgrading-synopsis>16.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>16.2. FreeBSD Update</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/#updating-bootcode>16.3. ブートコードのアップデート</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/#updating-upgrading-documentation>16.4. ドキュメントのアップデート</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/#current-stable>16.5. 開発ブランチを追いかける</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/#makeworld>16.6. ソースを用いた FreeBSD のアップデート</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/cutting-edge/#small-lan>16.7. 複数のマシンで追いかける</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/partiv/>パートIV. ネットワーク通信</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/serialcomms/>第17章 シリアル通信</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/serialcomms/#serial-synopsis>17.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/serialcomms/#serial>17.2. はじめに</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/serialcomms/#term>17.3. シリアル端末</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/serialcomms/#dialup>17.4. ダイアルインサービス</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/serialcomms/#dialout>17.5. ダイアルアウトサービス</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/serialcomms/#serialconsole-setup>17.6. シリアルコンソールの設定</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/ppp-and-slip/>第18章 PPP と SLIP</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/ppp-and-slip/#_この章では>18.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ppp-and-slip/#userppp>18.2. ユーザ ppp の利用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ppp-and-slip/#ppp>18.3. カーネル PPP の利用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ppp-and-slip/#pppoe>18.4. PPP オーバイーサネット (PPPoE) の利用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/ppp-and-slip/#slip>18.5. SLIP の利用</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/mail/>第19章 電子メール</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#mail-synopsis>19.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#mail-using>19.2. 電子メールを使う</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#sendmail>19.3. sendmail の設定</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#mail-changingmta>19.4. MTA の変更</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#mail-trouble>19.5. トラブルシュート</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#mail-advanced>19.6. 先進的なトピックス</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#SMTP-UUCP>19.7. UUCP とともに SMTP を使う</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#SMTP-dialup>19.8. ダイアルアップ接続でメールを使う</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mail/#SMTP-Auth>19.9. SMTP 認証</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/>第20章 高度なネットワーク</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#advanced-networking-synopsis>20.1. この章では</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-routing>20.2. ゲートウェイと経路</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-wireless>20.3. 無線ネットワーク</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-bluetooth>20.4. Bluetooth</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-bridging>20.5. ブリッジ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-nfs>20.6. NFS</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-diskless>20.7. ディスクレス稼働</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-isdn>20.8. ISDN</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-nis>20.9. NIS/YP</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-dhcp>20.10. DHCP</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-dns>20.11. DNS</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-ntp>20.12. NTP</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-natd>20.13. ネットワークアドレス変換 (NAT)</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-inetd>20.14. inetd"スーパサーバ"</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-plip>20.15. パラレルライン IP (PLIP)</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/advanced-networking/#network-ipv6>20.16. IPv6</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/partv/>パートV. 付録</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/mirrors/>付録A FreeBSD の入手方法</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/mirrors/#mirrors>A.1. Mirrors</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mirrors/#git>A.2. Git の利用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mirrors/#svn>A.3. Subversion の利用</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/mirrors/#mirrors-cdrom>A.4. CD および DVD セット</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/>付録B. 参考図書</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#bibliography-freebsd>B.1. FreeBSD 専門の書籍</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#bibliography-userguides>B.2. 利用者向けのガイド</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#bibliography-adminguides>B.3. 管理者向けのガイド</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#_プログラマ向けのガイド>B.4. プログラマ向けのガイド</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#_オペレーティングシステム内部>B.5. オペレーティングシステム内部</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#_セキュリティの参考資料>B.6. セキュリティの参考資料</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#bibliography-hardware>B.7. ハードウェアの参考資料</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#bibliography-history>B.8. UNIX® の歴史</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/bibliography/#bibliography-journals>B.9. 定期刊行物、雑誌およびジャーナル</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/eresources/>付録 C. インターネット上のリソース</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/eresources/#eresources-www>C.1. ウェブサイト</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/eresources/#eresources-mail>C.2. メーリングリスト</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/eresources/#eresources-news>C.3. Usenet ニュースグループ</a></li><li><a href=https://docs.freebsd.org/ja/books/handbook/eresources/#eresources-web>C.4. オフィシャルミラー</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/ja/books/handbook/pgpkeys/>付録 D. OpenPGP Keys</a><ul><li><a href=https://docs.freebsd.org/ja/books/handbook/pgpkeys/#pgpkeys-officers>D.1. オフィサ</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>第4章 アプリケーションのインストール - packages と ports</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>目次</h3><nav id=TableOfContents><ul><li><a href=#ports-synopsis>4.1. この章では</a></li><li><a href=#ports-overview>4.2. ソフトウェアのインストール</a></li><li><a href=#ports-finding-applications>4.3. ソフトウェアの探し方</a></li><li><a href=#pkgng-intro>4.4. pkg によるバイナリ package の管理</a></li><li><a href=#ports-using>4.5. Ports Collection の利用</a></li><li><a href=#ports-poudriere>4.6. Poudriere を用いた package の構築</a></li><li><a href=#ports-nextsteps>4.7. インストール後の作業</a></li><li><a href=#ports-broken>4.8. うまく動作しない ports に遭遇した場合には</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=ports-synopsis>4.1. この章では<a class=anchor href=#ports-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>FreeBSD の基本システムには数多くのシステムツールが含まれています。 FreeBSD は、サードパーティ製のソフトウェアの導入を支援するために、 ソースコードをコンパイルしてインストールする Ports Collection と、 コンパイル済みのバイナリをインストールする packages という相補的な 2 つの技術を提供しています。 どちらのシステムを用いても、 ローカルメディアやネットワーク上からソフトウェアをインストールできます。</p></div><div class=paragraph><p>この章を読むと、以下のことがわかります。</p></div><div class=ulist><ul><li><p>packages と ports の違い</p></li><li><p>FreeBSD に移植されたサードパーティ製のソフトウェアの探し方</p></li><li><p>pkg を用いてバイナリ package を管理する方法</p></li><li><p>Ports Collection を用いてサードパーティ製のソフトウェアをソースコードから構築する方法</p></li><li><p>インストール後の設定のために、 アプリケーションとともにインストールされたファイルを探す方法</p></li><li><p>ソフトウェアのインストールに失敗した場合に、どうしたらよいか</p></li></ul></div></div></div><div class=sect1><h2 id=ports-overview>4.2. ソフトウェアのインストール<a class=anchor href=#ports-overview></a></h2><div class=sectionbody><div class=paragraph><p>UNIX® システムでは、 サードパーティ製ソフトウェアの典型的なインストール手順は以下のようになります。</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>ソースコード、 またはバイナリ形式で配布されているソフトウェアを探し出し、 ダウンロードする。</p></li><li><p>配布時のフォーマットからソフトウェアを取り出す。 一般的には <a href="https://man.freebsd.org/cgi/man.cgi?query=compress&amp;sektion=1&amp;format=html">compress(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=bzip2&amp;sektion=1&amp;format=html">bzip2(1)</a> または、<a href="https://man.freebsd.org/cgi/man.cgi?query=xz&amp;sektion=1&amp;format=html">xz(1)</a> といったプログラムで圧縮された tarball です。</p></li><li><p><span class=filename>INSTALL</span> または <span class=filename>README</span> ファイル、あるいは <span class=filename>doc/</span> サブディレクトのファイルからドキュメントを探しだし、 ソフトウェアのインストール方法を調べる。</p></li><li><p>ソース形式でソフトウェアが配布されている場合はコンパイルを行う。 ここでは、<span class=filename>Makefile</span> の編集、 または、<code>configure</code> スクリプトの実行を伴うことがあります。</p></li><li><p>ソフトウェアの動作を確認し、インストールする。</p></li></ol></div></div></div><div class=paragraph><p>FreeBSD <em>port</em> は、 アプリケーションをソースコードからコンパイルする際の処理を自動化するように設計されたファイルの集まりです。 port を構成するファイルは、 自動的にアプリケーションをダウンロードし、展開、パッチ作業、 コンパイル、そしてインストールを行うために必要な情報を含んでいます。</p></div><div class=paragraph><p>ソフトウェアが、すでに FreeBSD に移植され、 FreeBSD 上で試験されていなければ、 適切にインストールが行われ、動作するように、 編集する必要があるかもしれません。</p></div><div class=paragraph><p>しかしながら、<a href=https://www.FreeBSD.org/ja/ports/>36000</a> を越えるサードパーティ製アプリケーションが FreeBSD に移植されています。 可能な場合は、これらのアプリケーションをコンパイル済みの <em>packages</em> としてダウンロードできます。</p></div><div class=paragraph><p>package は、package 管理コマンドで扱うことができます。</p></div><div class=paragraph><p>packages と ports は依存関係を理解します。 package または port を用いてアプリケーションをインストールすると、 依存するライブラリがまだインストールされていない場合には、 最初にライブラリが自動的にインストールされます。</p></div><div class=paragraph><p>FreeBSD の package は、コンパイル済みのアプリケーションの全コマンド、 各種設定ファイルやドキュメントを含んでいます。 pkg コマンドでは、<code>pkg install</code> といったコマンドで、 package を扱うことができます。</p></div><div class=paragraph><p>2 つの技術は類似していますが、 packages と ports にはそれぞれ独自の特徴があります。 それぞれのアプリケーションのインストールに対する必要要件に応じてどちらかを選択してください。</p></div><div class=ulist><div class=title>package の利点</div><ul><li><p>一般的に、あるアプリケーションの package の tarball は、 ソースコードを含む tarball より小さなサイズとなります。</p></li><li><p>packages はコンパイルの時間を必要としません。 このことは、遅いシステム上で Mozilla, KDE, または GNOME といった大きなアプリケーションを扱う場合に重要となります。</p></li><li><p>packages を用いれば、 ソフトウェアのコンパイルに関する知識は必要ありません。</p></li></ul></div><div class=ulist><div class=title>port の利点</div><ul><li><p>packages は、通常最も多くのシステムで実行できるように、 非常に保守的な設定で構築されています。 port からコンパイルすることで、 コンパイルオプションを指定できます。</p></li><li><p>アプリケーションのなかには、 どの機能をインストールするかをコンパイル時に設定するものがあります。 たとえば、Apache は多種多様な ビルトインオプションを設定できます。</p><div class=paragraph><p>設定を区別するために、同じアプリケーションに対して 複数の packages が存在することがあります。 たとえば、Ghostscript は Xorg がインストールされているかどうかにより、 <span class=filename>ghostscript</span> package と <span class=filename>ghostscript-nox11</span> package が選択可能となっています。 アプリケーションのコンパイルオプションが 1 つもしくは 2 つ以上になると、 複数の packages を用意することは困難になります。</p></div></li><li><p>ライセンス条項で、 バイナリでの配布を禁止しているソフトウェアがあります。 このようなソフトウェアはソースコードで配布される必要があり、 エンドユーザがコンパイルしなくてはなりません。</p></li><li><p>バイナリ配布を信用していない人や、 潜在的な問題点を見つけ出すためにソースコードを読むことを好む人がいます。</p></li><li><p>カスタマイズしたパッチを適用するためには、 ソースコードが必要になります。</p></li></ul></div><div class=paragraph><p>ports の更新状況を把握するために、 <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports メーリングリスト</a> や <a href=https://lists.FreeBSD.org/subscription/freebsd-ports-bugs>FreeBSD ports bugs メーリングリスト</a> を購読するとよいでしょう。</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>アプリケーションをインストールする前に、 そのアプリケーションに関連したセキュリティ上の問題がないことを <a href=https://vuxml.freebsd.org/ class=bare>https://vuxml.freebsd.org/</a> で確認するか、<code>pkg audit -F</code> と入力して、 インストールされているアプリケーションに既知の脆弱性がないことを確認してください。</p></div></td></tr></tbody></table></div><div class=paragraph><p>この章では、packages と ports を用いた FreeBSD 上での サードパーティ製ソフトウェアのインストール方法や管理方法について説明します。</p></div></div></div><div class=sect1><h2 id=ports-finding-applications>4.3. ソフトウェアの探し方<a class=anchor href=#ports-finding-applications></a></h2><div class=sectionbody><div class=paragraph><p>FreeBSD 上で利用可能なアプリケーションのリストは常に増えています。 インストールするソフトウェアを探す方法はたくさん用意されています。</p></div><div class=ulist><ul><li><p>FreeBSD ウェブサイトは、 利用可能なすべてのアプリケーションの最新の一覧を、検索できる形で <a href=https://www.FreeBSD.org/ja/ports/>https://www.FreeBSD.org/ja/ports/</a> において公開しています。 ports はアプリケーションの名前や、ソフトウェアのカテゴリで検索出来ます。</p></li><li><p>Dan Langille は、包括的な検索ユーティリティや Ports Collection にあるアプリケーションの変更点を追跡する <a href=http://www.FreshPorts.org/>FreshPorts.org</a> を公開しています。 登録したユーザは、監視している ports がアップデートされた時に、 そのことを自動的にメールで知らせてくれるような、 カスタマイズ可能な監視リストを使うことができます。</p></li><li><p>アプリケーションを見つけることが難しい場合には、<a href=http://www.sourceforge.net/>SourceForge.net</a> または <a href=http://www.github.com/>GitHub.com</a> のようなサイトで探してみてください。 その後、そのアプリケーションが ports で利用可能かどうかを <a href=https://www.FreeBSD.org/ja/ports/>FreeBSD サイト</a> で調べて下さい。</p></li><li><p>バイナリ package リポジトリでアプリケーションを探すには、 以下のように実行してください。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg search subversion</span>
git-subversion-1.9.2
java-subversion-1.8.8_2
p5-subversion-1.8.8_2
py27-hgsubversion-1.6
py27-subversion-1.8.8_2
ruby-subversion-1.8.8_2
subversion-1.8.8_2
subversion-book-4515
subversion-static-1.8.8_2
subversion16-1.6.23_4
subversion17-1.7.16_2</code></pre></div></div><div class=paragraph><p>package 名にはバージョン番号が含まれます。 また、python ベースの ports では、 共に構築された python のバージョン番号も含まれます。 ports によっては、複数のバージョンを利用できるものがあります。 subversion では、 複数のバージョンを利用できますが、 異なるコンパイルオプションで構築されたものも利用できます。 インストールする package を指定する際には、 アプリケーションに、port ツリーのパスである、 port のオリジンを指定すると良いでしょう。 <code>pkg search</code> に <code>-o</code> オプションを付けて、実行してください。 各 package のオリジンの一覧が表示されます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg search -o subversion</span>
devel/git-subversion
java/java-subversion
devel/p5-subversion
devel/py-hgsubversion
devel/py-subversion
devel/ruby-subversion
devel/subversion16
devel/subversion17
devel/subversion
devel/subversion-book
devel/subversion-static</code></pre></div></div><div class=paragraph><p><code>pkg search</code> は、 リポジトリデータベースの説明やその他のフィールドにおいて、 シェルグロブ、正規表現、完全一致にも対応しています。 詳細については、<a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/pkg/>ports-mgmt/pkg</a> または <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/pkg-devel/>ports-mgmt/pkg-devel</a> のインストール後、 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-search&amp;sektion=8&amp;format=html">pkg-search(8)</a> をご覧ください。</p></div></li><li><p>Ports Collection がすでにインストールされていれば、 ports ツリーのローカルバージョンを調べることができます。 port がどのカテゴリに分類されているのかを知りたければ、 <a href="https://man.freebsd.org/cgi/man.cgi?query=whereis&amp;sektion=1&amp;format=html">whereis(1)</a> コマンドで調べることができます。 <code>whereis <em>ファイル</em></code> と入力してください。<em>ファイル</em> の部分にはインストールを考えているプログラム名を入れます。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># whereis lsof</span>
lsof: /usr/ports/sysutils/lsof</code></pre></div></div><div class=paragraph><p>さらに、以下の例のように <a href="https://man.freebsd.org/cgi/man.cgi?query=echo&amp;sektion=1&amp;format=html">echo(1)</a> を使って調べることもできます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo /usr/ports/*/*lsof*</span>
/usr/ports/sysutils/lsof</code></pre></div></div><div class=paragraph><p>この方法では <span class=filename>/usr/ports/distfiles</span> 以下にダウンロードされたファイル名にもマッチします。</p></div></li><li><p>また、Ports Collection に備わっている検索機能を利用して port を検索する方法もあります。 この検索機能を利用するには、 cd コマンドを用いて <span class=filename>/usr/ports</span> ディレクトリに移動し、<code>make search name=プログラム名</code> と入力してください。 <em>プログラム名</em> の部分には検索したいソフトウェアの名前を入れてください。 たとえば、<code>lsof</code> を探すには次のようにします。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports</span>
<span class=c># make search name=lsof</span>
Port:   lsof-4.88.d,8
Path:   /usr/ports/sysutils/lsof
Info:   Lists information about open files <span class=o>(</span>similar to fstat<span class=o>(</span>1<span class=o>))</span>
Maint:  ler@lerctr.org
Index:  sysutils
B-deps:
R-deps:</code></pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Ports Collection に用意されている検索のメカニズムでは、 インデックスファイルを利用して検索を行います。 もし <span class=filename>INDEX</span> が必要であるというメッセージが表示されたら、 <code>make fetchindex</code> を実行して、 最新のインデックスファイルをダウンロードしてください。 <span class=filename>INDEX</span> が用意されれば、 <code>make search</code> で検索を実行できるでしょう。</p></div></td></tr></tbody></table></div><div class=paragraph><p>"Path:" という行は、 port がどこにあるかを示しています。</p></div><div class=paragraph><p>より絞られた情報を得るには、 <code>quicksearch</code> と呼ばれる機能を使ってください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports</span>
<span class=c># make quicksearch name=lsof</span>
Port:   lsof-4.88.d,8
Path:   /usr/ports/sysutils/lsof
Info:   Lists information about open files <span class=o>(</span>similar to fstat<span class=o>(</span>1<span class=o>))</span></code></pre></div></div><div class=paragraph><p>もっと詳しく検索するには、 <code>make search key=<em>string</em></code> または <code>make quicksearch key=<em>string</em></code> と入力してください。 <em>string</em> の部分には検索したいテキストを入れます。 プログラムの名前がわからない場合でも、 ある目的に関連した ports の検索に利用できるよう、 テキストの部分には、コメント、 説明文および依存情報を入れることができます。</p></div><div class=paragraph><p><code>search</code> および <code>quicksearch</code> を使う場合には、 検索文字列中の大文字と小文字を区別せずに検索が行われるので、 "LSOF" を検索した結果は、 "lsof" と同じ検索結果になります。</p></div></li></ul></div></div></div><div class=sect1><h2 id=pkgng-intro>4.4. pkg によるバイナリ package の管理<a class=anchor href=#pkgng-intro></a></h2><div class=sectionbody><div class=paragraph><p>pkg は、FreeBSD における伝統的な package 管理ツールの置き換えとなる次世代の管理ツールで、 バイナリ packages をより早く、 より簡単に管理できるようにする数多くの機能を提供します。</p></div><div class=paragraph><p>FreeBSD のミラーサイトが提供する事前に構築されたバイナリ package のみを使いたいと考えているサイトでは、 pkg を使って package を管理するとよいでしょう。</p></div><div class=paragraph><p>しかしながら、 ソースまたは自分自身で用意したリポジトリから構築したサイトでは、<a href=#ports-upgrading-tools>port 管理ツール</a> が別に必要となります。</p></div><div class=paragraph><p>pkg はバイナリ package のみを扱うので、 そのような管理ツールの置き換えとはなりません。 これらのツールは、ソフトウェアをバイナリ packages と Ports Collection の両形式からインストールできますが、 pkg はバイナリ packages のみをインストールします。</p></div><div class=sect2><h3 id=pkgng-initial-setup>4.4.1. pkg 入門<a class=anchor href=#pkgng-initial-setup></a></h3><div class=paragraph><p>FreeBSD には、 pkg およびマニュアルページをインストールするブートストラップユーティリティが用意されています。 このユーティリティは、FreeBSD 10.<em>X</em> 以降で動作するように設計されています。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>このブートストラッププロセスは、すべての FreeBSD バージョンおよびアーキテクチャに対応しているわけではありません。 現在対応している一覧は、 <a href=https://pkg.freebsd.org/ class=bare>https://pkg.freebsd.org/</a> で確認することができます。 対応していない場合には、 Ports Collection またはバイナリ package から pkg をインストールする必要があります。</p></div></td></tr></tbody></table></div><div class=paragraph><p>システムをブートストラップするには、 以下を実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/sbin/pkg</span></code></pre></div></div><div class=paragraph><p>ブートストラッププロセスに成功するには、 インターネットへの接続が必要です。</p></div><div class=paragraph><p>port をインストールするには以下を実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/ports-mgmt/pkg</span>
<span class=c># make</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>古い pkg_* ツールを用いたシステムをアップグレードする際には、 新しいツールがすでにインストールされている package を認識するよう、 データベースを新しいフォーマットへと変換する必要があります。 pkg をインストールしたら、 以下のコマンドを実行して、package データベースをこれまでの伝統的なフォーマットから新しいフォーマットへと変換してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg2ng</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>このステップは、 サードパーティ製ソフトウェアがまだインストールされていないような、 新しくインストールされた直後のシステムでは必要ありません。</p></div></td></tr></tbody></table></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>このステップは非可逆です。 一度 package データベースを pkg フォーマットへと変換したら、伝統的な pkg_* ツールを使うべきではありません。</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>package データベースを変換する際には、 新しいバージョンへのデータ変換に伴ったエラーが出力されることがあります。 通常、これらのエラーは無視して構いませんが、 <code>pkg2ng</code> 終了後、 変換に失敗したソフトウェアの一覧が表示されます。 これらのソフトウェアを手動で再インストールする必要があります。</p></div></td></tr></tbody></table></div><div class=paragraph><p>FreeBSD のバージョンが 10.<em>X</em> より前であれば、 以下の行を <span class=filename>/etc/make.conf</span> に追加して、 Ports Collection がソフトウェアの登録に、伝統的な package のデータベースではなく、pkg を用いるように設定してください。</p></div><div class="literalblock programlisting"><div class=content><pre>WITH_PKGNG=	yes</pre></div></div><div class=paragraph><p>デフォルトでは、pkg は FreeBSD の package ミラー (<em>リポジトリ</em>) のバイナリ package を用います。 カスタム package リポジトリの構築については、 <a href=#ports-poudriere>Poudriere を用いた package の構築</a> をご覧ください。</p></div><div class=paragraph><p>その他の pkg の設定オプションは、<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg.conf&amp;sektion=5&amp;format=html">pkg.conf(5)</a> に記述されています。</p></div><div class=paragraph><p>pkg の利用情報は、 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a> マニュアルページや、 <code>pkg</code> を引数なしに実行すると表示されます。</p></div><div class=paragraph><p>各 pkg コマンドの引数は、 コマンドに固有なマニュアルページに記述されています。 たとえば、<code>pkg install</code> のマニュアルページを読むには、 以下のコマンドのどちらかを実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg help install</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># man pkg-install</span></code></pre></div></div><div class=paragraph><p>以下の節では、pkg を用いた通常のバイナリ package の管理について説明します。 各コマンドでは、カスタマイズのために、 多くのオプションが使われています。 詳細や、他の例については、 コマンドのヘルプやマニュアルページを参照してください。</p></div></div><div class=sect2><h3 id=quarterly-latest-branch>4.4.2. Quarterly および Latest Ports ブランチ<a class=anchor href=#quarterly-latest-branch></a></h3><div class=paragraph><p><code>Quarterly</code> ブランチを使うと、 ユーザは、port および package のインストールおよびアップグレードを、 より予測可能で安定して行うことができます。 基本的には、このブランチでは機能のアップデートは行われません。 Quarterly ブランチの目的は、セキュリティに関連する修正 (バージョンアップデートやコミットのバックポートなど)、 バグの修正および ports のコンプライアンスおよびフレームワークの変更の入手です。 Quarterly ブランチは、毎年の毎四半期 (1 月、4 月、7 月および 10 月) のはじめに HEAD から作成されます。 ブランチには、作成された年 (YYYY) をよび四半期 (Q1-4) により名前がつけられます。 たとえば、2016 年 1 月に作成された quarterly ブランチの名前は 2016Q1 となります。 <code>Latest</code> ブランチは、 最新バージョンの package をユーザに提供します。</p></div><div class=paragraph><p>quarterly から latest ブランチに移行するには、 以下のコマンドを実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp /etc/pkg/FreeBSD.conf /usr/local/etc/pkg/repos/FreeBSD.conf</span></code></pre></div></div><div class=paragraph><p><span class=filename>/usr/local/etc/pkg/repos/FreeBSD.conf</span> ファイルを編集して、<code>url:</code> 行の <em>quarterly</em> 文字列を <em>latest</em> に変更してください。</p></div><div class=paragraph><p>編集後は、以下のようになります。</p></div><div class="literalblock programlisting"><div class=content><pre>FreeBSD: {
  url: &#34;pkg+http://pkg.FreeBSD.org/${ABI}/latest&#34;,
  mirror_type: &#34;srv&#34;,
  signature_type: &#34;fingerprints&#34;,
  fingerprints: &#34;/usr/shared/keys/pkg&#34;,
  enabled: yes
}</pre></div></div><div class=paragraph><p>最後に、以下のコマンドを実行して (latest) リポジトリのメタデータからアップデートしてください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg update -f</span></code></pre></div></div></div><div class=sect2><h3 id=pkgng-pkg-info>4.4.3. インストールされている package の情報を入手する<a class=anchor href=#pkgng-pkg-info></a></h3><div class=paragraph><p>オプションを使用しないで <code>pkg info</code> を実行すると、 システムにインストールされているすべての package もしくは、 ある特定の package の情報が得られます。</p></div><div class=paragraph><p>たとえば、インストールされている pkg の情報を調べるには、 以下のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg info pkg</span>
pkg-1.1.4_1</code></pre></div></div></div><div class=sect2><h3 id=pkgng-installing-deinstalling>4.4.4. package のインストールと削除<a class=anchor href=#pkgng-installing-deinstalling></a></h3><div class=paragraph><p>バイナリ package をインストールするには、 以下のコマンドを使ってください。 ここで <em>packagename</em> は、インストールする package の名前です。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install packagename</span></code></pre></div></div><div class=paragraph><p>このコマンドは、リポジトリデータを使用して、 インストールすべきソフトウェアのバージョン、および、 インストールされていない依存ソフトウェアがあるかどうかを調べます。 たとえば、curl をインストールするには以下を実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install curl</span>
Updating repository catalogue
/usr/local/tmp/All/curl-7.31.0_1.txz          100% of 1181 kB 1380 kBps 00m01s

/usr/local/tmp/All/ca_root_nss-3.15.1_1.txz   100% of  288 kB 1700 kBps 00m00s

Updating repository catalogue
The following 2 packages will be installed:

        Installing ca_root_nss: 3.15.1_1
        Installing curl: 7.31.0_1

The installation will require 3 MB more space

0 B to be downloaded

Proceed with installing packages <span class=o>[</span>y/N]: y
Checking integrity... <span class=k>done</span>
<span class=o>[</span>1/2] Installing ca_root_nss-3.15.1_1... <span class=k>done</span>
<span class=o>[</span>2/2] Installing curl-7.31.0_1... <span class=k>done
</span>Cleaning up cache files...Done</code></pre></div></div><div class=paragraph><p>新しい package と依存関係から追加された package は、 インストール済み package 一覧に表示されます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg info</span>
ca_root_nss-3.15.1_1	The root certificate bundle from the Mozilla Project
curl-7.31.0_1	Non-interactive tool to get files from FTP, GOPHER, HTTP<span class=o>(</span>S<span class=o>)</span> servers
pkg-1.1.4_6	New generation package manager</code></pre></div></div><div class=paragraph><p>必要のなくなった packages は、 <code>pkg delete</code> を使って削除できます。 たとえば、以下のようにして削除できます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg delete curl</span>
The following packages will be deleted:

	curl-7.31.0_1

The deletion will free 3 MB

Proceed with deleting packages <span class=o>[</span>y/N]: y
<span class=o>[</span>1/1] Deleting curl-7.31.0_1... <span class=k>done</span></code></pre></div></div></div><div class=sect2><h3 id=pkgng-upgrading>4.4.5. インストールされている package のアップグレード<a class=anchor href=#pkgng-upgrading></a></h3><div class=paragraph><p>以下のコマンドを実行すると、 インストールされている packages が最新のバージョンにアップグレードされます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg upgrade</span></code></pre></div></div><div class=paragraph><p>このコマンドは、インストールされているソフトウェアのバージョンと、 リポジトリのカタログから利用できるバージョンとを比較し、 リポジトリからアップグレードします。</p></div></div><div class=sect2><h3 id=pkgng-auditing>4.4.6. インストールされている package の検証<a class=anchor href=#pkgng-auditing></a></h3><div class=paragraph><p>サードウェア製アプリケーションに対する脆弱性は、 定期的に見つかります。脆弱性を調べるために、 pkg は、検証機能を持っています。 システムにインストールされているソフトウェアに既知の脆弱性がないかどうかを調べるには、 以下のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg audit -F</span></code></pre></div></div></div><div class=sect2><h3 id=pkgng-autoremove>4.4.7. 使われていない package の自動削除<a class=anchor href=#pkgng-autoremove></a></h3><div class=paragraph><p>package を削除すると、不必要な依存 package が残されることがあります。 依存のためにインストールされたが、 現在は不必要になった package (リーフ package) は、 以下のコマンドで自動的に検出され、削除されます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg autoremove</span>
Packages to be autoremoved:
	ca_root_nss-3.15.1_1

The autoremoval will free 723 kB

Proceed with autoremoval of packages <span class=o>[</span>y/N]: y
Deinstalling ca_root_nss-3.15.1_1... <span class=k>done</span></code></pre></div></div><div class=paragraph><p>依存によりインストールされた packages は、 <em>automatic</em> package と呼ばれます。 非 automatic packages、 すなわち他の package からの依存ではなく、 明示的にインストールした package の一覧は以下のようにして出力できます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg prime-list</span>
nginx
openvpn
<span class=nb>sudo</span></code></pre></div></div><div class=paragraph><p><code>pkg prime-list</code> は、 <span class=filename>/usr/local/etc/pkg.conf</span> で設定されているエイリアスコマンドです。 他にもシステムの package データベースの問い合わせに用いることができる多くのコマンドが用意されています。 たとえば、<code>pkg prime-origins</code> コマンドを使うと、 上記で得られた port 一覧のオリジナルの port ディレクトリを知ることができます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg prime-origins</span>
www/nginx
security/openvpn
security/sudo</code></pre></div></div><div class=paragraph><p>この一覧と <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/poudriere/>ports-mgmt/poudriere</a> または <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/synth/>ports-mgmt/synth</a> といったツールを使うと、 システムにインストールされているすべての package を再構築できます。</p></div><div class=paragraph><p>インストールされた package に automatic のマーク付けをするには、 以下のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg set -A 1 devel/cmake</span></code></pre></div></div><div class=paragraph><p>リーフ package や automatic としてマークされた package は、 <code>pkg autoremove</code> で選択されます。</p></div><div class=paragraph><p>インストールされた package を <em>非</em> automatic とマークするには、以下のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg set -A 0 devel/cmake</span></code></pre></div></div></div><div class=sect2><h3 id=pkgng-backup>4.4.8. package データベースのリストア<a class=anchor href=#pkgng-backup></a></h3><div class=paragraph><p>伝統的な package 管理システムとは異なり、 pkg には package データベースをバックアップするメカニズムがあります。 この機能はデフォルトで有効に設定されています。</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>スクリプトによる定期的な package データベースのバックアップを無効にするには、 <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic.conf&amp;sektion=5&amp;format=html">periodic.conf(5)</a> の中で、 <code>daily_backup_pkgdb_enable="NO"</code> と設定してください。</p></div></td></tr></tbody></table></div><div class=paragraph><p>過去にバックアップした package データベースの中身をリストアするには、 以下のコマンドを実行してください。 以下のコマンドの <em>/path/to/pkg.sql</em> については、バックアップのある場所に置き換えて実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg backup -r /path/to/pkg.sql</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>システムの定期的なスクリプトによって取得されたバックアップをリストアする場合には、 リストアの前に展開しておく必要があります。</p></div></td></tr></tbody></table></div><div class=paragraph><p>手動で pkg データベースをバックアップするには、以下のコマンドを実行してください。 以下のコマンドの <em>/path/to/pkg.sql</em> については、適切なファイル名と場所に置き換えて下さい。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg backup -d /path/to/pkg.sql</span></code></pre></div></div></div><div class=sect2><h3 id=pkgng-clean>4.4.9. 古くなった package の削除<a class=anchor href=#pkgng-clean></a></h3><div class=paragraph><p>デフォルトでは、pkg は、<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg.conf&amp;sektion=5&amp;format=html">pkg.conf(5)</a> の <code>PKG_CACHEDIR</code> 変数で定義されるキャッシュディレクトリにバイナリ packages を保存します。 インストールされている package の最新のコピーのみが保存されます。 古いバージョンの pkg では、 過去にインストールされたすべての package が保存されていました。 これらの古くなったバイナリ package を削除するには、 以下を実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg clean</span></code></pre></div></div><div class=paragraph><p>キャッシュ全体を削除するには以下を実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg clean -a</span></code></pre></div></div></div><div class=sect2><h3 id=pkgng-set>4.4.10. package メタデータの変更<a class=anchor href=#pkgng-set></a></h3><div class=paragraph><p>FreeBSD Ports Collection では、メジャーバージョン番号が変更になることがあります。 これに対応するために、pkg には、 package の情報をアップデートするコマンドが組み込まれています。 たとえば、<span class=filename>lang/php5</span> が、 バージョン <code>5.4</code> を表すようになり、 <span class=filename>lang/php5</span> を <span class=filename>lang/php53</span> と名前を変更する必要があるような場合に、有用です。</p></div><div class=paragraph><p>上記の例の package の情報を変更するには、 以下のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg set -o lang/php5:lang/php53</span></code></pre></div></div><div class=paragraph><p>別の例として、<a class=package href=https://cgit.freebsd.org/ports/tree/lang/ruby18/>lang/ruby18</a> を <a class=package href=https://cgit.freebsd.org/ports/tree/lang/ruby19/>lang/ruby19</a> にアップデートするには、 以下のようにしてください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg set -o lang/ruby18:lang/ruby19</span></code></pre></div></div><div class=paragraph><p>最後の例として、 <span class=filename>libglut</span> 共有ライブラリの情報を <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/libglut/>graphics/libglut</a> から <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/freeglut/>graphics/freeglut</a> へと変更するには、 以下のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg set -o graphics/libglut:graphics/freeglut</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>package の情報を変更したら、 情報が変更された package に依存している packages を再インストールすることが重要となります。 依存 packages を再インストールするには、 以下のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install -Rf graphics/freeglut</span></code></pre></div></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=ports-using>4.5. Ports Collection の利用<a class=anchor href=#ports-using></a></h2><div class=sectionbody><div class=paragraph><p>Ports Collection は、<span class=filename>Makefile</span>, 修正パッチ、 説明文などの一連のファイルのことです。 これらのファイルの各セットは、 個々のアプリケーションをコンパイルして FreeBSD にインストールするために用いられ、<em>port</em> と呼ばれています。</p></div><div class=paragraph><p>デフォルトでは、Ports Collection は、<span class=filename>/usr/ports</span> 以下のサブディレクトリに置かれます。</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Ports Collection をインストールして使用する前に、一般的には、
ソフトウェアのインストールに、pkg でダウンロードしたバイナリパッケージと Ports Collection を組み合わせて使うことはあまり良いことではないことを知っておいてください。
pkg は、デフォルトでは ports ツリーの (HEAD ではなく) quarterly ブランチリリースを追いかけます。
HEAD の port と対応する quarterly ブランチの port の依存関係は異なる可能性があり、そのため pkg でインストールされた依存関係と Ports Collection の依存関係の間で競合が起きることがあります。
もし、Ports Collection と pkg を組み合わせて使用しなければならないのであれば、Ports Collection と pkg が同じ ports ツリーのブランチを使用していることを必ず確認してください。</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ports Collection は、ソフトウェアのカテゴリを表すディレクトリを持ちます。
各カテゴリには、各アプリケーションのサブディレクトリがあります。
各アプリケーションのサブディレクトリには、プログラムを FreeBSD 上で正しくコンパイルしてインストールする方法を提供する、 <em>ports スケルトン</em> と呼ばれるファイルのセットが含まれています。
それぞれの port スケルトンには、次のファイルおよびディレクトリが含まれています。</p></div><div class=ulist><ul><li><p><span class=filename>Makefile</span>: このファイルにはアプリケーションのコンパイル方法やシステムのどこにインストールするかを指定する命令文が含まれています。</p></li><li><p><span class=filename>distinfo</span>: このファイルには、その port を構築するためにダウンロードする必要があるファイルのファイル名と、チェックサム情報が含まれています。</p></li><li><p><span class=filename>files</span>: このディレクトリには FreeBSD 上でプログラムをコンパイルし、インストールするための修正パッチが含まれています。このディレクトリには、その port の構築に必要なその他のファイルが入る場合もあります。</p></li><li><p><span class=filename>pkg-descr</span>: このファイルにはプログラムに関する、より詳しい説明文が含まれます。</p></li><li><p><span class=filename>pkg-plist</span>: これは、その port によってインストールされる全ファイルのリストです。これにはプログラムを削除する際に、どのファイルを削除すれば良いのかを ports システムに伝える役割もあります。</p></li></ul></div><div class=paragraph><p>これらの他に <span class=filename>pkg-message</span> や特殊な状況に対応するためのファイルを含む ports もあります。
これらのファイルについての詳細および ports の一般的な説明については、<a href=https://docs.freebsd.org/ja/books/porters-handbook/>port 作成者のためのハンドブック</a> をご覧下さい。</p></div><div class=paragraph><p>port は実際のソースコード (<span class=filename>distfile</span> とも呼ばれます) を含んではいません。
port の構築の展開部で、ダウンロードされたソースは自動的に <span class=filename>/usr/ports/distfiles</span> に保存されます。</p></div><div class=sect2><h3 id=ports-using-installation-methods>4.5.1. Ports Collection のインストール<a class=anchor href=#ports-using-installation-methods></a></h3><div class=paragraph><p>port を用いてアプリケーションをコンパイルできるようにするには、 まず最初に Ports Collection をインストールする必要があります。 FreeBSD のインストール時に Ports Collection をインストールしていない場合には、 以下の方法のどれかを用いてインストールしてください。</p></div><div id=ports-using-git-method class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Git を用いる方法</strong></p></div><div class=paragraph><p>ports ツリーの管理が必要な場合や、 ローカルで変更点をメンテナンスする必要がある場合、 および FreeBSD-CURRENT を使用している場合には、 Git を使って Ports Collection を取得する方法があります。
Git のより詳細な説明については、<a href=https://docs.freebsd.org/en/articles/committers-guide/#git-primer>Git Primer</a> を参照してください。</p></div><div class="olist arabic"><ol class=arabic><li><p>Git を使って ports ツリーをチェックアウトする前に、Git をインストールしておく必要があります。
ports ツリーがすでにインストールされていれば、 以下のようにして Git をインストールできます。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/devel/git</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>ports ツリーが利用できない場合や、 package の管理に pkg を使っているのであれば、package から Git をインストールできます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install git</span></code></pre></div></div></li><li><p>HEAD ブランチの ports ツリーをチェックアウトしてください。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># git clone https://git.FreeBSD.org/ports.git /usr/ports</span></code></pre></div></div></li><li><p>または、quarterly ブランチをチェックアウトしてください。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># git clone https://git.FreeBSD.org/ports.git -b 2020Q3 /usr/ports</span></code></pre></div></div></li><li><p>Git で最初のチェックアウトをした後は、必要に応じて <span class=filename>/usr/ports</span> をアップデートしてください。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># git -C /usr/ports pull</span></code></pre></div></div></li><li><p>必要に応じて <span class=filename>/usr/ports</span> を別の quarterly ブランチにスイッチしてください。</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># git -C /usr/ports switch 2020Q4</span></code></pre></div></div></li></ol></div></div></div></div><div class=sect2><h3 id=_ports_のインストール>4.5.2. ports のインストール<a class=anchor href=#_ports_のインストール></a></h3><div class=paragraph><p>この節では、Ports Collection を利用してプログラムをインストールしたり、 システムから削除したりする基本的な手順について説明します。 利用可能な <code>make</code> のターゲットや環境変数についての詳細は <a href="https://man.freebsd.org/cgi/man.cgi?query=ports&amp;sektion=7&amp;format=html">ports(7)</a> をご覧ください。</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>いかなる port でも、構築する前には、 前節に書かれているように、Ports Collection をアップデートしてください。 サードパーティ製のソフトウェアをインストールすると、 セキュリティの脆弱性を引き起こす可能性があります。 その port に関連したセキュリティ上の問題がないことを、まずは <a href=https://vuxml.freebsd.org/ class=bare>https://vuxml.freebsd.org/</a> で確認してください。または、 新しい port をインストールする前に、 <code>pkg audit -F</code> を実行してください。 毎日のシステムのセキュリティ確認時に、 自動的にセキュリティの検査およびデータベースの更新を行うようにこのコマンドを設定できます。 詳しくは、<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-audit&amp;sektion=8&amp;format=html">pkg-audit(8)</a> および <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a> を参照してください。</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ports Collection は、ネットワークに接続できることを想定しています。 また、superuser の権限も必要となります。</p></div><div class=paragraph><p>port をコンパイルしてインストールするには、 インストールしたい port のディレクトリに移動してください。 その後、プロンプトから <code>make install</code> と入力してください。 すると、次のような出力が現われるはずです。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/sysutils/lsof</span>
<span class=c># make install</span>
<span class=o>&gt;&gt;</span> lsof_4.88D.freebsd.tar.gz doesn<span class=s1>&#39;t seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.
===&gt;  Extracting for lsof-4.88
...
[extraction output snipped]
...
&gt;&gt; Checksum OK for lsof_4.88D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.88.d,8
===&gt;  Applying FreeBSD patches for lsof-4.88.d,8
===&gt;  Configuring for lsof-4.88.d,8
...
[configure output snipped]
...
===&gt;  Building for lsof-4.88.d,8
...
[compilation output snipped]
...
===&gt;  Installing for lsof-4.88.d,8

===&gt;  Installing for lsof-4.88.d,8
...
[installation output snipped]
...
===&gt;   Generating temporary packing list
===&gt;   Compressing manual pages for lsof-4.88.d,8
===&gt;   Registering installation for lsof-4.88.d,8
===&gt;  SECURITY NOTE:
      This port has installed the following binaries which execute with
      increased privileges.
/usr/local/sbin/lsof
#</span></code></pre></div></div><div class=paragraph><p><code>lsof</code> は高い権限で動作するプログラムなので、 インストールする時にセキュリティに関する警告が表示されます。 インストールが終わったら、プロンプトが戻ります。</p></div><div class=paragraph><p>シェルによってはコマンドの実行ファイルを探す時間を短縮するために、 環境変数 <code>PATH</code> に登録されている ディレクトリのコマンド一覧をキャッシュするものがあります。 <code>tcsh</code> シェルを使っているのであれば、 フルパスを指定することなく新しくインストールしたコマンドを利用できるように、 <code>rehash</code> を実行してください。 <code>sh</code> シェルを使っているのであれば かわりに <code>hash -r</code> を実行してください。 詳細については、 あなたの使っているシェルのドキュメントをご覧ください。</p></div><div class=paragraph><p>インストールの間に、作業用ディレクトリが作成されます。 このディレクトリにはコンパイル時に使用されるすべての一時ファイルが含まれています。 このディレクトリを削除することで、ディスク容量を節約でき、また port を新しいバージョンへアップデートする際に問題が起こる可能性を小さくします。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make clean</span>
<span class=o>===&gt;</span>  Cleaning <span class=k>for </span>lsof-88.d,8
<span class=c>#</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>port を構築する際に、 <code>make install clean</code> と実行することで、 これらの余分な手順を省くことができます。</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=_ports_のインストールのカスタマイズ>4.5.2.1. ports のインストールのカスタマイズ<a class=anchor href=#_ports_のインストールのカスタマイズ></a></h4><div class=paragraph><p>ports の中にはビルドオプションを指定できるものがあります。 このオプションを指定することで、 アプリケーションの機能の一部を有効もしくは無効にできます。 また、セキュリティオプションを設定したり、 その他のカスタマイズを行うことができます。 このようなアプリケーションには <span class=filename>www/firefox</span>, <span class=filename>security/gpgme</span> や <span class=filename>mail/sylpheed-claws</span> などがあります。 port が他のカスタマイズ可能なオプションを持つ ports に依存する場合には、デフォルトでは、ユーザに port のオプションをメニューから選択させる設定のため、 何度もユーザとの対話が起こり待たされることがあります。 これを避けるには、まず最初に port スケルトンで <code>make config-recursive</code> を実行して設定を一括で行い、その後 <code>make install [clean]</code> を実行して port を構築してインストールしてください。</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p><code>config-recursive</code> を実行する際、 <code>all-depends-list</code> を実行すると、設定すべき ports の一覧を得ることができます。 多くの場合は、すべての依存 ports のオプションが定義され、 ports オプションの画面が表示されなくなり、 すべてのオプションが設定されたことを確認できるまで <code>make config-recursive</code> を実行すると良いでしょう。</p></div></td></tr></tbody></table></div><div class=paragraph><p>port の構築後、 再びこのメニューを表示させてオプションの追加や削除、 設定の変更を行う方法はたくさんあります。 一つ目は port のディレクトリに <code>cd</code> で移動し、 <code>make config</code> と入力する方法です。 別の方法は <code>make showconfig</code> を使う方法です。 他の方法は <code>make rmconfig</code> の実行です。 このコマンドを実行すると選択されているすべてのオプションが削除され、 設定をもう一度やり直すことができます。 これらの方法や他の方法についての詳細は、 <a href="https://man.freebsd.org/cgi/man.cgi?query=ports&amp;sektion=7&amp;format=html">ports(7)</a> マニュアルで説明されています。</p></div><div class=paragraph><p>ports は、いくつかの環境変数を参照する <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=1&amp;format=html">fetch(1)</a> を用いてソースファイルをダウンロードします。 FreeBSD システムがファイアウォールの内側であったり、 FTP/HTTP プロキシを使う場合には、 <code>FTP_PASSIVE_MODE</code>, <code>FTP_PROXY</code>, <code>FTP_PASSWORD</code> の環境変数を設定することなります。 対応している環境変数の一覧については <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=3&amp;format=html">fetch(3)</a> をご覧ください。</p></div><div class=paragraph><p>インターネットに常時接続できないユーザのために <code>make fetch</code> コマンドが用意されています。 このコマンドを <span class=filename>/usr/ports</span> で実行してすべての distfiles をダウンロードするか、 <span class=filename>/usr/ports/net</span> といったカテゴリや、あるスケルトンにおいても実行できます。 ある port がライブラリやその他の ports に依存している場合には、 別のカテゴリの ports の distfiles はダウンロードされ<em>ない</em>ことに注意してください。 port が依存しているすべての distfiles をダウンロードしたければ、 <code>make fetch-recursive</code> を使ってください。</p></div><div class=paragraph><p>めったにないことかもしれませんが、 ローカルに distfiles のリポジトリがあるような場合に、 <code>MASTER_SITES</code> 変数を変更することで <span class=filename>Makefile</span> で指定されているダウンロードの場所を 変更することができます。 設定する場合には、変更先を以下のようにして指定してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/directory</span>
<span class=c># make MASTER_SITE_OVERRIDE= \</span>
ftp://ftp.organization.org/pub/FreeBSD/ports/distfiles/ fetch</code></pre></div></div><div class=paragraph><p><code>WRKDIRPREFIX</code> 変数と <code>PREFIX</code> 変数を変更することで、 作業ディレクトリやターゲットディレクトリをデフォルトのものから変更できます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make WRKDIRPREFIX=/usr/home/example/ports install</span></code></pre></div></div><div class=paragraph><p>とすると、ports は <span class=filename>/usr/home/example/ports</span> でコンパイルされ、すべて <span class=filename>/usr/local</span> 以下にインストールされます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make PREFIX=/usr/home/example/local install</span></code></pre></div></div><div class=paragraph><p>この場合、port のコンパイルは <span class=filename>/usr/ports</span> でおこない、<span class=filename>/usr/home/example/local</span> にインストールします。そして</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make WRKDIRPREFIX=../ports PREFIX=../local install</span></code></pre></div></div><div class=paragraph><p>とすれば両者を組み合わせることが可能です。</p></div><div class=paragraph><p>これらを環境変数に設定する方法もあります。 どのように環境変数を設定するかについては、 あなたの使っているシェルのマニュアルページを参照してください。</p></div></div></div><div class=sect2><h3 id=ports-removing>4.5.3. インストールした ports の削除<a class=anchor href=#ports-removing></a></h3><div class=paragraph><p>インストールされた ports は、 <code>pkg delete</code> コマンドで削除できます。 このコマンドの使用例は、<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-delete&amp;sektion=8&amp;format=html">pkg-delete(8)</a> マニュアルページにあります。</p></div><div class=paragraph><p>あるいは、port のディレクトリにて <code>make deinstall</code> を実行することでも削除できます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/sysutils/lsof</span>
<span class=c># make deinstall</span>
<span class=o>===&gt;</span>  Deinstalling <span class=k>for </span>sysutils/lsof
<span class=o>===&gt;</span>   Deinstalling
Deinstallation has been requested <span class=k>for </span>the following 1 packages:

	lsof-4.88.d,8

The deinstallation will free 229 kB
<span class=o>[</span>1/1] Deleting lsof-4.88.d,8... <span class=k>done</span></code></pre></div></div><div class=paragraph><p>port が削除されるときに表示されるメッセージを読むことをお勧めします。 もし削除した port に依存するアプリケーションがあった場合には、 その情報が表示されますが、port の削除は行われます。 そのようなケースでは、依存を直すためにアプリケーションを再インストールするとよいでしょう。</p></div></div><div class=sect2><h3 id=ports-upgrading>4.5.4. ports のアップグレード<a class=anchor href=#ports-upgrading></a></h3><div class=paragraph><p>ports のインストール後、時間が経過すると、Ports Collection で新しいバージョンのソフトウェアを利用できるようになります。 この章では、 どのようにしてアップグレードする必要のあるソフトウェアを判断するか、 そしてアップグレードの方法について説明します。</p></div><div class=paragraph><p>インストールされている ports の新しいバージョンを利用できるかどうかを知るには、まず、 最新の ports ツリーがインストールされていることを確認してください。 これには、<a href=#ports-using-git-method>「Git を用いる方法」</a> で書かれているアップデートのコマンドを使ってください。
FreeBSD 10 以降のシステム、または、pkg に変換されたシステムでは、 以下のコマンドを実行すると、現在利用可能なバージョンよりも古い ports の一覧が表示されます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg version -l &#34;&lt;&#34;</span></code></pre></div></div><div class=paragraph><p>FreeBSD 9.<em>X</em> より前のシステムでは、 現在利用可能なバージョンよりも古い ports の一覧を表示されるには、以下のコマンドを実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_version -l &#34;&lt;&#34;</span></code></pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>アップグレードする前に <span class=filename>/usr/ports/UPDATING</span> を、ファイルの頭から、ports を最後にアップデートした日、 もしくはシステムをインストールをした日に最も近い日まで目を通してください このファイルには port をアップグレードする際にユーザが遭遇するであろう問題や、 追加で必要な作業などが記述されています。 例えば、ファイル形式の変更や設定ファイルの場所の変更、 前のバージョンと互換性がなくなったことなどが書かれています。 アップグレードする必要のある ports に関連した手順に注意し、 アップグレードする際にはこれらの手順に従ってください。</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=ports-upgrading-tools>4.5.4.1. ports のアップグレードおよび管理ツール<a class=anchor href=#ports-upgrading-tools></a></h4><div class=paragraph><p>Ports Collection には、 実際にアップグレードを行うためのユーティリティがいくつか用意されています。 それぞれのユーティリティは長所と短所を持っています。</p></div><div class=paragraph><p>歴史的に、最もインストールされ使われているのは、 Portmaster または Portupgrade です。 Synth は新しいユーティリティです。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>特定のシステムにおいて、 どのツールを選択するとベストかについては、 システム管理者によります。 これらのどのツールでも、使う前には、 データのバックアップをとることが推奨されます。</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=portmaster>4.5.4.2. portmaster を用いた ports のアップグレード<a class=anchor href=#portmaster></a></h4><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portmaster/>ports-mgmt/portmaster</a> は、 インストールされている ports のアップグレードをおこなう、 とても小さなユーティリティです。 FreeBSD のベースシステムとしてインストールされているツールだけを使い、 他の ports やデータベースに依存しないように設計されています。 port からこのユーティリティをインストールするには以下のようにしてください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/ports-mgmt/portmaster</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Portmaster は、 ports を 4 つのカテゴリに分類します。</p></div><div class=ulist><ul><li><p>Root ports: 他の port に依存せず、 他の port からも依存されない ports。</p></li><li><p>Trunk ports: 他の port には依存しないが、 他の port から依存されている ports。</p></li><li><p>Branch ports: 他の port に依存し、 他の port からも依存されている ports。</p></li><li><p>Leaf ports: 他の port に依存するが、 他の port からは依存されない ports。</p></li></ul></div><div class=paragraph><p>これらのカテゴリの一覧や、アップデート可能な port の一覧を表示するには以下のようにしてください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -L</span>
<span class=o>===&gt;&gt;&gt;</span> Root ports <span class=o>(</span>No dependencies, not depended on<span class=o>)</span>
<span class=o>===&gt;&gt;&gt;</span> ispell-3.2.06_18
<span class=o>===&gt;&gt;&gt;</span> screen-4.0.3
        <span class=o>===&gt;&gt;&gt;</span> New version available: screen-4.0.3_1
<span class=o>===&gt;&gt;&gt;</span> tcpflow-0.21_1
<span class=o>===&gt;&gt;&gt;</span> 7 root ports
...
<span class=o>===&gt;&gt;&gt;</span> Branch ports <span class=o>(</span>Have dependencies, are depended on<span class=o>)</span>
<span class=o>===&gt;&gt;&gt;</span> apache22-2.2.3
        <span class=o>===&gt;&gt;&gt;</span> New version available: apache22-2.2.8
...
<span class=o>===&gt;&gt;&gt;</span> Leaf ports <span class=o>(</span>Have dependencies, not depended on<span class=o>)</span>
<span class=o>===&gt;&gt;&gt;</span> automake-1.9.6_2
<span class=o>===&gt;&gt;&gt;</span> bash-3.1.17
        <span class=o>===&gt;&gt;&gt;</span> New version available: bash-3.2.33
...
<span class=o>===&gt;&gt;&gt;</span> 32 leaf ports

<span class=o>===&gt;&gt;&gt;</span> 137 total installed ports
        <span class=o>===&gt;&gt;&gt;</span> 83 have new versions available</code></pre></div></div><div class=paragraph><p>以下のコマンドを使うと、 古くなった ports をすべてアップデートします。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -a</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Portmaster のデフォルトの設定では、 インストールされている port を削除する前に、 バックアップ用の package が作成されます。 このバックアップは、 新しいバージョンのインストールに成功すると削除されます。 <code>-b</code> を使うと、 Portmaster の自動的なバックアップの削除は行いません。 <code>-i</code> を追加すると、 Portmaster をインタラクティブモードで使用できます。 このモードでは、各 port をアップグレードするかどうかの選択を対話的に行うことがでます。 多くのオプションが利用可能です。 <a href="https://man.freebsd.org/cgi/man.cgi?query=portmaster&amp;sektion=8&amp;format=html">portmaster(8)</a> マニュアルページから、 それらの使用方法に関する詳細な説明を読んでください。</p></div></td></tr></tbody></table></div><div class=paragraph><p>アップグレードの過程でエラーに遭遇した場合には、 <code>-f</code> を使ってすべての ports のアップグレードや再構築を行なってください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster -af</span></code></pre></div></div><div class=paragraph><p>Portmaster を使ってシステムに新しい ports をインストールしたり、 新しい port のコンパイルやインストール前に依存するすべての port をアップグレードできます。この機能を使う時には、 Ports Collection の場所を指定してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster shells/bash</span></code></pre></div></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portmaster/>ports-mgmt/portmaster</a> に関するより多くの情報は、<span class=filename>pkg-descr</span> にあります。</p></div></div><div class=sect3><h4 id=portupgrade>4.5.4.3. Portupgrade を用いた ports のアップグレード<a class=anchor href=#portupgrade></a></h4><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> は、 インストールした ports のアップグレードを行なうためのもう一つのユーティリティです。 このユーティリティは ports を管理するために用いられるアプリケーションのセットをインストールします。 Ruby に依存します。 port をインストールするには、以下を実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/ports-mgmt/portupgrade</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>このユーティリティを使ってアップグレードを行う前に、 <code>pkgdb -F</code> を使って、 インストールされている ports の一覧を調べてください。 矛盾が検出された場合には修復してください。</p></div><div class=paragraph><p>システムにインストールされている port の中で古くなったものをすべてアップデートするには <code>portupgrade -a</code> を実行してください。 もし、すべての ports に対して個別にアップグレードするかどうかを確認したいのであれば、 <code>-i</code> を追加してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -ai</span></code></pre></div></div><div class=paragraph><p>ports で利用可能なすべてのアプリケーションではなく、 ある特定のアプリケーションだけを更新したいのであれば、 <code>portupgrade <em>pkgname</em></code> を実行してください。 アップグレードするアプリケーションが依存しているすべての ports をまず先に更新したい場合には、 <code>-R</code> を使ってください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -R firefox</span></code></pre></div></div><div class=paragraph><p><code>-P</code> オプションを使うと、 portupgrade は <code>PKG_PATH</code> に登録されているローカルディレクトリから、 利用可能な package を探します。 ローカルに利用可能な packages が見つからなければ、 リモートサイトから package のダウンロードを試みます。 packages をローカルに見つけることができず、 リモートサイトからもダウンロードできない場合には、 portupgrade は ports からインストールを行ないます。 ports を使用したくなければ、<code>-PP</code> オプションを指定してください。 この最後のオプションを設定すると、 もし package が利用できなければ Portupgrade は終了します。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -PP gnome3</span></code></pre></div></div><div class=paragraph><p>また、ビルドやインストールを行なわず、 distfiles または packages だけをダウンロードしたければ、 <code>-F</code> オプションを指定してください。 利用可能なすべてのオプションについては、 <a href="https://man.freebsd.org/cgi/man.cgi?query=portupgrade&amp;sektion=1&amp;format=html">portupgrade(1)</a> のマニュアルを参照してください。</p></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> に関するより多くの情報は、<span class=filename>pkg-descr</span> にあります。</p></div></div></div><div class=sect2><h3 id=ports-disk-space>4.5.5. ports とディスク容量<a class=anchor href=#ports-disk-space></a></h3><div class=paragraph><p>Ports Collection を使い続けていると、 そのうちディスクを食いつぶしてしまうでしょう。 ports をビルドしてインストールした後、 ports スケルトンで <code>make clean</code> を実行すると、作業用の <span class=filename>work</span> ディレクトリを削除します。 Portmaster を使って port をインストールする場合には、<code>-K</code> を使わなければこのディレクトリは自動的に削除されます。 Portupgrade がインストールされている場合には、 以下のコマンドはローカルの Ports Collection に見つかったすべての <span class=filename>work</span> ディレクトリを削除します。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsclean -C</span></code></pre></div></div><div class=paragraph><p>さらに、時間が経つにつれ <span class=filename>/usr/ports/distfiles</span> には、古くなったソースファイルがたまっていきます。 Portupgrade を使って、どの ports からも使われていないすべての distfiles を削除するには次のように実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsclean -D</span></code></pre></div></div><div class=paragraph><p>Portupgrade を使って、システムにインストールされている port から使われていない distfiles をすべて削除することができます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsclean -DD</span></code></pre></div></div><div class=paragraph><p>もし Portmaster がインストールされているのであれば、以下を実行してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portmaster --clean-distfiles</span></code></pre></div></div><div class=paragraph><p>デフォルトでは、このコマンドはインタラクティブに設定されているため、 ユーザに対して distfile を削除すべきかどうかを確認するプロンプトが表示されます。</p></div><div class=paragraph><p>これらのコマンドに加え、<span class=filename>ports-mgmt/pkg_cutleaves</span> は、 必要なくなった ports を削除する作業を自動化します。</p></div></div></div></div><div class=sect1><h2 id=ports-poudriere>4.6. Poudriere を用いた package の構築<a class=anchor href=#ports-poudriere></a></h2><div class=sectionbody><div class=paragraph><p>poudriere は、FreeBSD package を作成したり、試験に用いられる BSD ライセンスのユーティリティです。 このユーティリティは、FreeBSD jails を用いて、 独立したコンパイル環境を構築します。 これらの jail を使って、 インストールされている FreeBSD のバージョンとは異なるバージョンの package を作成したり、ホストが amd64 のシステムでは、 i386 用の package を構築することもできます。 構築された package のレイアウトは公式のミラーと同じです。 これらの package は、<a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a> や他の package 管理ツールで利用できます。</p></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/poudriere/>ports-mgmt/poudriere</a> package または port から poudriere をインストールしてください。 アプリケーションをインストールすると、サンプルの設定ファイルである <span class=filename>/usr/local/etc/poudriere.conf.sample</span> もインストールされます。 このファイルを <span class=filename>/usr/local/etc/poudriere.conf</span> にコピーして、 ローカルの環境に合わせて編集してください。</p></div><div class=paragraph><p>poudriere を実行するシステムで、 必ずしも ZFS を使う必要はありませんが、 有用です。ZFS を使う際には、 <span class=filename>/usr/local/etc/poudriere.conf</span> の中で <code>ZPOOL</code> を指定する必要があります。 そして、<code>FREEBSD_HOST</code> を最も近いミラーに設定してください。 <code>CCACHE_DIR</code> を定義することで、 <a class=package href=https://cgit.freebsd.org/ports/tree/devel/ccache/>devel/ccache</a> を使ったコンパイルのキャッシュが可能となり、 コンパイルで頻繁に使われるコードの構築時間を短縮できます。 poudriere データセットを <span class=filename>/poudriere</span> にマウントされた独立したツリーに置くと良いでしょう。 他の値はデフォルトの値で十分です。</p></div><div class=paragraph><p>同時に走らせるコンパイル数の定義には、 認識されたコアプロセッサの数が用いられます。 RAM もしくはスワップ空間のどちらかの仮想メモリを十分用意してください。 もし、仮想メモリを使い切ってしまったら、jail の構築は中断し、 異常なメッセージが表示されることでしょう。</p></div><div class=sect2><h3 id=poudriere-initialization>4.6.1. Jails および Port ツリーの初期化<a class=anchor href=#poudriere-initialization></a></h3><div class=paragraph><p>設定が終わったら、poudriere を初期化して、必要とする FreeBSD ツリーおよび jail、 そして ports ツリーをインストールしてください。 jail の名前を <code>-j</code>、 FreeBSD のバージョンを <code>-v</code> で指定してください。 FreeBSD/amd64 システムでは、 <code>-a</code> を使ってアーキテクチャに <code>i386</code> または <code>amd64</code> を設定できます。 デフォルトでは、<code>uname</code> で表示されるアーキテクチャに設定されます。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># poudriere jail -c -j 13amd64 -v 13.1-RELEASE</span>
<span class=o>[</span>00:00:00] Creating 13amd64 fs at /poudriere/jails/13amd64... <span class=k>done</span>
<span class=o>[</span>00:00:00] Using pre-distributed MANIFEST <span class=k>for </span>FreeBSD 13.1-RELEASE amd64
<span class=o>[</span>00:00:00] Fetching base <span class=k>for </span>FreeBSD 13.1-RELEASE amd64
/poudriere/jails/13amd64/fromftp/base.txz              125 MB 4110 kBps    31s
<span class=o>[</span>00:00:33] Extracting base... <span class=k>done</span>
<span class=o>[</span>00:00:54] Fetching src <span class=k>for </span>FreeBSD 13.1-RELEASE amd64
/poudriere/jails/13amd64/fromftp/src.txz               154 MB 4178 kBps    38s
<span class=o>[</span>00:01:33] Extracting src... <span class=k>done</span>
<span class=o>[</span>00:02:31] Fetching lib32 <span class=k>for </span>FreeBSD 13.1-RELEASE amd64
/poudriere/jails/13amd64/fromftp/lib32.txz              24 MB 3969 kBps    06s
<span class=o>[</span>00:02:38] Extracting lib32... <span class=k>done</span>
<span class=o>[</span>00:02:42] Cleaning up... <span class=k>done</span>
<span class=o>[</span>00:02:42] Recording filesystem state <span class=k>for </span>clean... <span class=k>done</span>
<span class=o>[</span>00:02:42] Upgrading using ftp
/etc/resolv.conf -&gt; /poudriere/jails/13amd64/etc/resolv.conf
Looking up update.FreeBSD.org mirrors... 3 mirrors found.
Fetching public key from update4.freebsd.org... <span class=k>done</span><span class=nb>.</span>
Fetching metadata signature <span class=k>for </span>13.1-RELEASE from update4.freebsd.org... <span class=k>done</span><span class=nb>.</span>
Fetching metadata index... <span class=k>done</span><span class=nb>.</span>
Fetching 2 metadata files... <span class=k>done</span><span class=nb>.</span>
Inspecting system... <span class=k>done</span><span class=nb>.</span>
Preparing to download files... <span class=k>done</span><span class=nb>.</span>
Fetching 124 patches.....10....20....30....40....50....60....70....80....90....100....110....120.. <span class=k>done</span><span class=nb>.</span>
Applying patches... <span class=k>done</span><span class=nb>.</span>
Fetching 6 files... <span class=k>done</span><span class=nb>.</span>
The following files will be added as part of updating to
13.1-RELEASE-p1:
/usr/src/contrib/unbound/.github
/usr/src/contrib/unbound/.github/FUNDING.yml
/usr/src/contrib/unbound/contrib/drop2rpz
/usr/src/contrib/unbound/contrib/unbound_portable.service.in
/usr/src/contrib/unbound/services/rpz.c
/usr/src/contrib/unbound/services/rpz.h
/usr/src/lib/libc/tests/gen/spawnp_enoexec.sh
The following files will be updated as part of updating to
13.1-RELEASE-p1:
<span class=o>[</span>…]
Installing updates...Scanning //usr/share/certs/blacklisted <span class=k>for </span>certificates...
Scanning //usr/share/certs/trusted <span class=k>for </span>certificates...
 <span class=k>done</span><span class=nb>.</span>
13.1-RELEASE-p1:
<span class=o>[</span>00:04:06] Recording filesystem state <span class=k>for </span>clean... <span class=k>done</span>
<span class=o>[</span>00:04:07] Jail 13amd64 13.1-RELEASE-p1 amd64 is ready to be used</code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># poudriere ports -c -p local -m git+https</span>
<span class=o>[</span>00:00:00] Creating <span class=nb>local </span>fs at /poudriere/ports/local... <span class=k>done</span>
<span class=o>[</span>00:00:00] Checking out the ports tree... <span class=k>done</span></code></pre></div></div><div class=paragraph><p>一つのコンピュータ上で、 複数の設定、複数の jails、異なる port ツリーから poudriere は port をビルドできます。 これらのコンビネーションのカスタム設定は <em>セット</em> と呼ばれます。 詳細については、<a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/poudriere/>ports-mgmt/poudriere</a> もしくは <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/poudriere-devel/>ports-mgmt/poudriere-devel</a> をインストール後、 <a href="https://man.freebsd.org/cgi/man.cgi?query=poudriere&amp;sektion=8&amp;format=html">poudriere(8)</a> の CUSTOMIZATION の章をご覧下さい。</p></div><div class=paragraph><p>ここで示される基本設定では、jail, ports そしてセット固有の <span class=filename>make.conf</span> を <span class=filename>/usr/local/etc/poudriere.d</span> に置いてください。
この例でのファイル名 <span class=filename>13amd64-local-workstation-make.conf</span> は、jail 名、port 名そして、セット名の組み合わせで付けられています。
システムの <span class=filename>make.conf</span> と、この新しいファイルは、ビルド時に結合され、構築した jail で用いられる <span class=filename>make.conf</span> を作成します。</p></div><div class=paragraph><p>ビルドする package を <span class=filename>13amd64-local-workstation-pkglist</span> に記載してください。</p></div><div class="literalblock programlisting"><div class=content><pre>editors/emacs
devel/git
ports-mgmt/pkg
...</pre></div></div><div class=paragraph><p>特定の ports に対し、 オプションや依存を設定してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># poudriere options -j 13amd64 -p local -z workstation -f 13amd64-local-workstation-pkglist</span></code></pre></div></div><div class=paragraph><p>最後に packages を構築し、 package リポジトリを生成してください。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># poudriere bulk -j 13amd64 -p local -z workstation -f 13amd64-local-workstation-pkglist</span></code></pre></div></div><div class=paragraph><p>このコマンドの実行中に <span class=keyseq><kbd>Ctrl</kbd>+<kbd>t</kbd></span> を押すと、現在のビルド状況が表示されます。 Poudriere は <span class=filename>/poudriere/logs/bulk/jailname</span> にあるファイルも構築します。 このファイルをウェブサーバと共に使うことで、 ビルド情報を表示できます。</p></div><div class=paragraph><p>これが終わると、poudriere リポジトリを package のインストールに利用できるようになります。</p></div><div class=paragraph><p>poudriere を利用する上でのより多くの情報については、 <a href="https://man.freebsd.org/cgi/man.cgi?query=poudriere&amp;sektion=8&amp;format=html">poudriere(8)</a> およびメインのウェブサイトである <a href=https://github.com/freebsd/poudriere/wiki class=bare>https://github.com/freebsd/poudriere/wiki</a> を参照してください。</p></div></div><div class=sect2><h3 id=_poudriere_リポジトリを使うための_pkg_クライアントの設定>4.6.2. Poudriere リポジトリを使うための pkg クライアントの設定<a class=anchor href=#_poudriere_リポジトリを使うための_pkg_クライアントの設定></a></h3><div class=paragraph><p>カスタムリポジトリと公式のリポジトリの両方を並行して使用することは可能ですが、 公式リポジトリを無効にすると有用な場合があります。 このように設定するには、設定ファイルを作成し、 設定ファイルの中で公式リポジトリを無効にしてください。 <span class=filename>/usr/local/etc/pkg/repos/FreeBSD.conf</span> を作成して、以下を含めてください。</p></div><div class="literalblock programlisting"><div class=content><pre>FreeBSD: {
	enabled: no
}</pre></div></div><div class=paragraph><p>通常は、HTTP 経由で poudriere リポジトリをクライアントコンピュータに公開すると簡単です。
package ディレクトリ (たとえば、 <span class=filename>/usr/local/poudriere/data/packages/13amd64</span> ) を公開するようにウェブサーバを設定してください。
この例で <span class=filename>13amd64</span> は構築名です。</p></div><div class=paragraph><p>もし、package リポジトリの URL が <code><a href=http://pkg.example.com/13amd64 class=bare>http://pkg.example.com/13amd64</a></code> であれば、 リポジトリの設定ファイルである <span class=filename>/usr/local/etc/pkg/repos/custom.conf</span> は、 以下のようになります。</p></div><div class="literalblock programlisting"><div class=content><pre>custom: {
	url: &#34;http://pkg.example.com/13amd64&#34;,
	enabled: yes,
}</pre></div></div></div></div></div><div class=sect1><h2 id=ports-nextsteps>4.7. インストール後の作業<a class=anchor href=#ports-nextsteps></a></h2><div class=sectionbody><div class=paragraph><p>バイナリ package もしくは port のどちらを用いてソフトウェアをインストールするかに関わらず、 サードパーティ製のアプリケーションの多くは、 インストール後にある程度の設定を必要とします。 以下のコマンドや場所の情報は、 アプリケーションとともに何がインストールされたかを知るための助けとなるでしょう。</p></div><div class=ulist><ul><li><p>多くのアプリケーションでは、 デフォルトの設定ファイルが、少なくとも一つは <span class=filename>/usr/local/etc</span> にインストールされます。 数多くの設定ファイルを持つようなアプリケーションでは、 それらのファイルを格納するためにサブディレクトリを作成するものもあります。 サンプルの設定ファイルは、しばしば <span class=filename>.sample</span> といった拡張子がついた名前でインストールされます。 設定ファイルを確認し、 必要に応じてシステムの要求に合うように編集してください。 最初にサンプルファイルを <span class=filename>.sample</span> を外した名前のファイルにコピーしてから、編集してください。</p></li><li><p>ドキュメントが付属しているアプリケーションは、ドキュメントを <span class=filename>/usr/local/share/doc</span> にインストールします。
また、多くのアプリケーションは、マニュアルページもインストールします。
これらのドキュメントは、アプリケーションを使い続ける前に見ておくべきものです。</p></li><li><p>ある種のアプリケーションでは、 サービスを実行するためには、 アプリケーションの起動前に、 <span class=filename>/etc/rc.conf</span> に追加する必要があります。 これらのアプリケーションでは、通常、 スタートアップスクリプトが <span class=filename>/usr/local/etc/rc.d</span> にインストールされます。詳細は、 <a href=../config/#configtuning-starting-services>サービスの起動</a> をご覧ください。</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>設計上、インストールの際に、アプリケーションは、 スタートアップスクリプトを実行しませんし、 アンインストールやアップグレードの際には、 停止のためのスクリプトは実行されません。 起動や停止の決定は、各システム管理者に任されています。</p></div></td></tr></tbody></table></div></li><li><p><a href="https://man.freebsd.org/cgi/man.cgi?query=csh&amp;sektion=1&amp;format=html">csh(1)</a> のユーザは、 <code>rehash</code> を実行して、 シェルの <code>PATH</code> のバイナリリストを再構築してください。</p></li><li><p><code>pkg info</code> を使って、アプリケーションと共にインストールされたファイル、 マニュアルページ、およびバイナリを調べることができます。</p></li></ul></div></div></div><div class=sect1><h2 id=ports-broken>4.8. うまく動作しない ports に遭遇した場合には<a class=anchor href=#ports-broken></a></h2><div class=sectionbody><div class=paragraph><p>port をうまくコンパイルできなかったりインストールできない場合には、 以下を試してください。</p></div><div class="olist arabic"><ol class=arabic><li><p>その port に対する修正案が提出されていないかどうかを <a href=https://www.FreeBSD.org/ja/support/>障害報告 (Problem Report) データベース</a> で調べてください。 もし提案されていれば、 その提案されている修正によって問題を解決できるかもしれません。</p></li><li><p>port の保守担当者に対応してもらいましょう。
port スケルトンで <code>make maintainer</code> と入力するか、port の <span class=filename>Makefile</span> を読み、保守担当者の電子メールアドレスを調べてください。
保守担当者にメールを送る際には、エラーが出力されるまでの出力ログを忘れずに添付してください。</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>特定の保守担当者が存在せず、かわりに <a href=https://docs.freebsd.org/en/articles/mailing-list-faq/>メーリングリスト</a> によるグループの管理者が保守している ports があります。 そのような場合には、メールアドレスは <a href=mailto:freebsd-listname@FreeBSD.org>freebsd-listname@FreeBSD.org</a> のようになります。 メールを送る際には、このことに気をつけてください。</p></div><div class=paragraph><p>特に <a href=mailto:ports@FreeBSD.org>ports@FreeBSD.org</a> が保守している ports には、保守担当者がいません。 そのかわり、 そのメーリングリストを購読する人々からなるコミュニティが、 修正や対応をおこなっています。 もっとボランティアが必要です!</p></div></td></tr></tbody></table></div><div class=paragraph><p>メールに対して返信がなければ、<a href=https://docs.freebsd.org/ja/articles/problem-reports/>FreeBSD 障害報告の書き方</a> に書かれている手順にしたがい、 Bugzilla を使ってバグレポートを提出してください。</p></div></li><li><p>自分で直しましょう! ports システムに関する詳細な情報は <a href=https://docs.freebsd.org/ja/books/porters-handbook/>port 作成者のためのハンドブック</a> にあります。 このセクションを読むと、壊れてしまった port を直したり、 自分で作った port を提出したりできるようになります!</p></li><li><p><a href=#pkgng-intro>pkg によるバイナリ package の管理</a> に書かれている手順にしたがって、 package をインストールしてください。</p></li></ol></div></div></div></div><hr><div class=last-modified><p><strong>最終更新日</strong>: 2024年3月9日 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/ja/books/handbook/basics class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/ja/books/handbook/x11 class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>目次</h3><nav id=TableOfContents><ul><li><a href=#ports-synopsis>4.1. この章では</a></li><li><a href=#ports-overview>4.2. ソフトウェアのインストール</a></li><li><a href=#ports-finding-applications>4.3. ソフトウェアの探し方</a></li><li><a href=#pkgng-intro>4.4. pkg によるバイナリ package の管理</a></li><li><a href=#ports-using>4.5. Ports Collection の利用</a></li><li><a href=#ports-poudriere>4.6. Poudriere を用いた package の構築</a></li><li><a href=#ports-nextsteps>4.7. インストール後の作業</a></li><li><a href=#ports-broken>4.8. うまく動作しない ports に遭遇した場合には</a></li></ul></nav><hr><div class=resources><h3>リソース</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="PDF 版のダウンロード"></i><a href=https://download.freebsd.org/doc/ja/books/handbook/handbook_ja.pdf>PDF 版のダウンロード</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/ja/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/ja/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>日本語</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/ja class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/ja/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>