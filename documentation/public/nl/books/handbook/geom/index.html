<!doctype html><html class=theme-light lang=nl><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/nl/books/handbook/geom/><title>Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="nl"><meta property="og:url" content="https://docs.freebsd.org/nl/books/handbook/geom/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/nl\/books\/handbook\/geom\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/nl>Documentation portal</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/nl/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/nl/books>Books</a></li><li><a href=https://docs.freebsd.org/nl/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/nl/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=nl>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/preface/>Voorwoord</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/preface/#preface-audience>Bedoeld publiek</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/preface/#preface-changes-from3>Wijzigingen ten opzichte van de derde editie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/preface/#preface-changes-from2>Wijzigingen ten opzichte van de tweede editie (2004)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/preface/#preface-changes>Veranderingen ten opzichte van de eerste editie (2001)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/preface/#preface-overview>De opbouw van dit boek</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/preface/#preface-conv>Overeenkomsten in dit boek</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/preface/#preface-acknowledgements>Dankwoorden</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/parti/>Deel I. Beginnen</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/introduction/>Hoofdstuk 1. Introductie</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/introduction/#introduction-synopsis>1.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/introduction/#nutshell>1.2. Welkom bij FreeBSD!</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/introduction/#history>1.3. Over het FreeBSD Project</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/install/>Hoofdstuk 2. FreeBSD installeren op FreeBSD 8.X en eerder</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-synopsis>2.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-hardware>2.2. Hardware-eisen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-pre>2.3. Voorbereidende taken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-start>2.4. Beginnen met de installatie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#using-sysinstall>2.5. Inleiding Sysinstall</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-steps>2.6. Schijfruimte toewijzen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-choosing>2.7. Wat installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-media>2.8. Installatiemedia kiezen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-final-warning>2.9. De installatie bevestigen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-post>2.10. Instellingen na de installatie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-trouble>2.11. Problemen oplossen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-advanced>2.12. Installeren voor gevorderden</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/install/#install-diff-media>2.13. Aangepaste installatiemedia maken</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/bsdinstall/>Hoofdstuk 3. FreeBSD 9.X en nieuwer installeren</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/bsdinstall/#bsdinstall-synopsis>33.1. Overzicht</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/basics/>Hoofdstuk 4. UNIX® beginselen</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#basics-synopsis>4.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#consoles>4.2. Virtuele consoles en terminals</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#permissions>4.3. Rechten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#dirstructure>4.4. Mappenstructuur</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#disk-organization>4.5. Organisatie van schijven</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#mount-unmount>4.6. Het koppelen en ontkoppelen van bestandssystemen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#basics-processes>4.7. Processen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#basics-daemons>4.8. Daemons, signalen en het stoppen van processen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#shells>4.9. Shells</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#editors>4.10. Teksteditors</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#basics-devices>4.11. Apparaten en apparaatnodes</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#binary-formats>4.12. Binaire formaten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/basics/#basics-more-information>4.13. Meer informatie</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/ports/>Hoofdstuk 5. Applicaties installeren: pakketten en ports</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/ports/#ports-synopsis>5.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ports/#ports-overview>5.2. Overzicht van softwareinstallatie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ports/#ports-finding-applications>5.3. Applicaties zoeken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ports/#packages-using>5.4. Het pakkettensysteem gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ports/#ports-using>5.5. De Portscollectie gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ports/#ports-nextsteps>5.6. Activiteiten na het installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ports/#ports-broken>5.7. Omgaan met kapotte ports</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/x11/>Hoofdstuk 6. Het X Window systeem</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/x11/#x11-synopsis>6.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/x11/#x-understanding>6.2. X begrijpen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/x11/#x-install>6.3. X11 installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/x11/#x-config>6.4. X11 instellen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/x11/#x-fonts>6.5. Lettertypen gebruiken in X11</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/x11/#x-xdm>6.6. De X beeldschermmanager</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/x11/#x11-wm>6.7. Bureaubladomgevingen</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/partii/>Deel II. Algemene taken</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/desktop/>Hoofdstuk 7. Bureaubladapplicaties</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/desktop/#desktop-synopsis>7.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/desktop/#desktop-browsers>7.2. Browsers</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/desktop/#desktop-productivity>7.3. Productiviteit</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/desktop/#desktop-viewers>7.4. Documentviewers</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/desktop/#desktop-finance>7.5. Financiën</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/desktop/#desktop-summary>7.6. Samenvatting</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/>Hoofdstuk 8. Multimedia</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/#multimedia-synopsis>8.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/#sound-setup>8.2. Geluidskaart installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/#sound-mp3>8.3. MP3 audio</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/#video-playback>8.4. Video afspelen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/#tvcard>8.5. TV-kaarten installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/#mythtv>8.6. MythTV</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/multimedia/#scanners>8.7. Scanners</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/>Hoofdstuk 9. De FreeBSD-kernel instellen</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/#kernelconfig-synopsis>9.1. Samenvatting</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/#kernelconfig-custom-kernel>9.2. Redenen om een aangepaste kernel te bouwen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/#kernelconfig-devices>9.3. De systeemhardware vinden</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/#kernelconfig-modules>9.4. Kernel stuurprogramma’s, subsystemen, en modules</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/#kernelconfig-building>9.5. Bouwen en installeren van een aangepaste kernel</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/#kernelconfig-config>9.6. Het instellingenbestand</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/kernelconfig/#kernelconfig-trouble>9.7. Problemen oplossen</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/printing/>Hoofdstuk 10. Afdrukken</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/printing/#printing-synopsis>10.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/printing/#printing-intro-spooler>10.2. Inleiding</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/printing/#printing-intro-setup>10.3. Standaardinstallatie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/printing/#printing-advanced>10.4. Geavanceerde printerinstallatie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/printing/#printing-using>10.5. Printers gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/printing/#printing-lpd-alternatives>10.6. Alternatieven voor het standaard wachtrijsysteem</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/printing/#printing-troubleshooting>10.7. Problemen oplossen</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/>Hoofdstuk 11. Linux® binaire compatibiliteit</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/#linuxemu-synopsis>11.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/#linuxemu-lbc-install>11.2. Installatie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/#linuxemu-mathematica>11.3. Mathematica® installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/#linuxemu-maple>11.4. Maple™ installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/#linuxemu-matlab>11.5. MATLAB® installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/#linuxemu-oracle>11.6. Oracle® installeren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/linuxemu/#linuxemu-advanced>11.7. Gevorderde onderwerpen</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/partiii/>Deel III. Systeembeheer</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/config/>Hoofdstuk 12. Instellingen en optimalisatie</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#config-synopsis>12.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-initial>12.2. Initiële instellingen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-core-configuration>12.3. Hoofdinstellingen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-appconfig>12.4. Toepassingen instellen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-starting-services>12.5. Diensten starten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-cron>12.6. <code>cron</code> instellen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-rcd>12.7. Gebruik van rc met FreeBSD</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#config-network-setup>12.8. Netwerkkaarten instellen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-virtual-hosts>12.9. Virtuele hosts</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-syslog>12.10. De systeemlogger syslogd configureren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-configfiles>12.11. Instellingenbestanden</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-sysctl>12.12. Optimaliseren met sysctl</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-disk>12.13. Harde schijven optimaliseren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#configtuning-kernel-limits>12.14. Fijnafstemming van kernellimieten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#adding-swap-space>12.15. Wisselbestandruimte toevoegen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#acpi-overview>12.16. Energie- en bronnenbeheer</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/config/#ACPI-debug>12.17. FreeBSD ACPI gebruiken en debuggen</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/boot/>Hoofdstuk 13. Het FreeBSD opstartproces</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/boot/#boot-synopsis>13.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/boot/#boot-introduction>13.2. Het bootprobleem</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/boot/#boot-blocks>13.3. De bootmanager en opstartstadia</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/boot/#boot-kernel>13.4. Interactie met de kernel tijdens opstarten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/boot/#device-hints>13.5. Device hints</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/boot/#boot-init>13.6. Init: start van procesbesturing</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/boot/#boot-shutdown>13.7. Afsluitvolgorde</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/users/>Hoofdstuk 14. Gebruikers- en basisaccountbeheer</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-synopsis>14.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-introduction>14.2. Inleiding</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-superuser>14.3. Het superuser-account</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-system>14.4. Systeemaccounts</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-user>14.5. Gebruikersaccounts</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-modifying>14.6. Accounts wijzigen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-limiting>14.7. Gebruikers beperken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/users/#users-groups>14.8. Groepen</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/security/>Hoofdstuk 15. Beveiliging</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#security-synopsis>15.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#security-intro>15.2. Introductie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#securing-freebsd>15.3. FreeBSD beveiligen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#crypt>15.4. DES, Blowfish, MD5, SHA256, SHA512 en crypt</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#one-time-passwords>15.5. Eenmalige wachtwoorden</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#tcpwrappers>15.6. TCP Wrappers</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#kerberos5>15.7. Kerberos5</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#openssl>15.8. OpenSSL</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#ipsec>15.9. VPN via IPsec</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#openssh>15.10. OpenSSH</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#fs-acl>15.11. Bestandssysteem toegangscontrolelijsten (ACLs)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#security-portaudit>15.12. Monitoren van beveiligingsproblemen met andere software</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#security-advisories>15.13. FreeBSD beveiligingswaarschuwingen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/security/#security-accounting>15.14. Procesaccounting</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/jails/>Hoofdstuk 16. Jails</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/jails/#jails-synopsis>16.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/jails/#jails-terms>16.2. Termen en begrippen van jails</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/jails/#jails-intro>16.3. Introductie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/jails/#jails-build>16.4. Creeëren en controleren van jails</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/jails/#jails-tuning>16.5. Optimaliseren en administratie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/jails/#jails-application>16.6. Toepassing van jails</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/mac/>Hoofdstuk 17. Verplichte Toegangscontrole (MAC)</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-synopsis>17.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-inline-glossary>17.2. Sleuteltermen in dit hoofdstuk</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-initial>17.3. Uitleg over MAC</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-understandlabel>17.4. MAC-labels begrijpen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-planning>17.5. De beveiligingsconfiguratie plannen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-modules>17.6. Module-instellingen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-seeotheruids>17.7. MAC-module seeotheruids</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-bsdextended>17.8. MAC-module bsdextended</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-ifoff>17.9. MAC-module ifoff</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-portacl>17.10. MAC-module portacl</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-partition>17.11. MAC-module partition</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-mls>17.12. MAC-module Multi-Level Security</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-biba>17.13. MAC-module Biba</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-lomac>17.14. MAC-module LOMAC</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-implementing>17.15. Nagios in een MAC-jail</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-userlocked>17.16. Gebruikers afsluiten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mac/#mac-troubleshoot>17.17. Problemen oplossen met het MAC-raamwerk</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/audit/>Hoofdstuk 18. Security Event Auditing</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/audit/#audit-synopsis>18.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/audit/#audit-inline-glossary>18.2. Sleutelwoorden in dit hoofdstuk</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/audit/#audit-install>18.3. Installeren van audit ondersteuning.</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/audit/#audit-config>18.4. Audit Configuratie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/audit/#audit-administration>18.5. Het audit subsysteem beheren.</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/disks/>Hoofdstuk 19. Opslag</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#disks-synopsis>19.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#disks-naming>19.2. Apparaatnamen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#disks-adding>19.3. Schijven toevoegen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#raid>19.4. RAID</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#usb-disks>19.5. USB-opslagapparaten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#creating-cds>19.6. Optische media (CD’s) aanmaken en gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#creating-dvds>19.7. Optische media (DVD’s) aanmaken en gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#floppies>19.8. Diskettes aanmaken en gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#backups-tapebackups>19.9. Gegevensbanden aanmaken en gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#backups-floppybackups>19.10. Naar diskettes back-uppen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#backup-strategies>19.11. Back-up strategieën</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#backup-basics>19.12. Back-upbeginselen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#disks-virtual>19.13. Netwerk-, geheugen-, en bestandsgebaseerde bestandssystemen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#snapshots>19.14. Snapshots van bestandssystemen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#quotas>19.15. Bestandssysteemquota</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#disks-encrypting>19.16. Schijfpartities versleutelen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#swap-encrypting>19.17. Het versleutelen van de wisselbestand ruimte</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/disks/#disks-hast>19.18. Highly Available Storage (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle checked>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/geom/>Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#geom-synopsis>20.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#GEOM-intro>20.2. GEOM inleiding</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#GEOM-striping>20.3. RAID0 - aaneengeschakeld</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#GEOM-mirror>20.4. RAID1 - spiegelen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#GEOM-raid3>20.5. RAID3 - Striping op byte-niveau met toegewijde pariteit</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#geom-ggate>20.6. GEOM Gate netwerk apparaten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#geom-glabels>20.7. Het labelen van schijven</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/geom/#geom-gjournal>20.8. UFS logboeken door middel van GEOM</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/filesystems/>Hoofdstuk 21. Ondersteuning van bestandssystemen</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/filesystems/#filesystems-synopsis>21.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/filesystems/#filesystems-zfs>21.2. Het Z File System (ZFS)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/filesystems/#filesystems-linux>21.3. Linux® bestandssystemen</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/virtualization/>Hoofdstuk 22. Virtualisatie</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/virtualization/#virtualization-synopsis>22.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/virtualization/#virtualization-guest>22.2. FreeBSD als een gast-besturingssysteem</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/virtualization/#virtualization-host>22.3. FreeBSD als een gastheer-besturingssysteem</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/l10n/>Hoofdstuk 23. Lokalisatie - I18N/L10N gebruiken en instellen</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/l10n/#l10n-synopsis>23.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/l10n/#l10n-basics>23.2. Beginselen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/l10n/#using-localization>23.3. Lokalisatie gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/l10n/#l10n-compiling>23.4. I18N-programma’s compileren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/l10n/#lang-setup>23.5. FreeBSD lokaliseren naar talen</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/>Hoofdstuk 24. FreeBSD updaten en upgraden</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#updating-upgrading-synopsis>24.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>24.2. FreeBSD Update</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#updating-upgrading-portsnap>24.3. Portsnap: een updategereedschap voor de Portscollectie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#updating-upgrading-documentation>24.4. De documentatie bijwerken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#current-stable>24.5. Een ontwikkelingstak volgen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#synching>24.6. Broncode synchroniseren</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#makeworld>24.7. De "wereld" opnieuw bouwen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#make-delete-old>24.8. Het verwijderen van overbodige bestanden, directories en bibliotheken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/cutting-edge/#small-lan>24.9. Meerdere machines bijwerken</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/dtrace/>Hoofdstuk 25. DTrace</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/dtrace/#dtrace-synopsis>25.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/dtrace/#dtrace-implementation>25.2. Implementatieverschillen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/dtrace/#dtrace-enable>25.3. Ondersteuning voor DTrace aanzetten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/dtrace/#dtrace-using>25.4. DTrace gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/dtrace/#dtrace-language>25.5. De taal D</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/partiv/>Deel IV. Netwerkcommunicatie</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/serialcomms/>Hoofdstuk 26. Seriële communicatie</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/serialcomms/#serial-synopsis>26.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/serialcomms/#serial>26.2. Inleiding</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/serialcomms/#term>26.3. Terminals</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/serialcomms/#dialup>26.4. Inbeldienst</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/serialcomms/#dialout>26.5. Uitbeldienst</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/serialcomms/#serialconsole-setup>26.6. Seriële console opzetten</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/>Hoofdstuk 27. PPP en SLIP</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/#userppp>27.2. Gebruikmaken van gebruiker-PPP</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/#ppp>27.3. Kernel-PPP gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.4. Het problemen oplossen van PPP-verbindingen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/#pppoe>27.5. PPP gebruiken over Ethernet (PPPoE)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/#pppoa>27.6. Gebruik maken van PPP over ATM (PPPoA)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/ppp-and-slip/#slip>27.7. Gebruik maken van SLIP</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/mail/>Hoofdstuk 28. Elektronische mail</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-synopsis>28.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-using>28.2. Gebruik maken van elektronische mail</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#sendmail>28.3. sendmail instellen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-changingmta>28.4. De Mail Transfer Agent vervangen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-trouble>28.5. Problemen oplossen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-advanced>28.6. Geavanceerde onderwerpen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#SMTP-UUCP>28.7. SMTP met UUCP</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#outgoing-only>28.8. Instellen om alleen te versturen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#SMTP-dialup>28.9. Mail gebruiken met een inbelverbinding</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#SMTP-Auth>28.10. SMTP-authenticatie</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-agents>28.11. Mail User Agents</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-fetchmail>28.12. fetchmail gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mail/#mail-procmail>28.13. procmail gebruiken</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/>Hoofdstuk 29. Netwerkdiensten</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-servers-synopsis>29.1. Overzicht</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-inetd>29.2. De inetd"Super-Server"</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-nfs>29.3. Netwerkbestandssysteem (NFS)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-nis>29.4. Netwerkinformatiesysteem (NIS/YP)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-dhcp>29.5. Automatisch netwerk instellen (DHCP)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-dns>29.6. Domeinnaamsysteem (DNS)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-apache>29.7. Apache HTTP server</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-ftp>29.8. File Transfer Protocol (FTP)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-samba>29.9. Bestands- en printdiensten voor Microsoft® Windows® cliënten (Samba)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-ntp>29.10. Tijd synchroniseren met NTP</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/network-servers/#network-syslogd>29.11. Hosts op afstand loggen met <code>syslogd</code></a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/firewalls/>Hoofdstuk 30. Firewalls</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/firewalls/#firewalls-intro>30.1. Inleiding</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/firewalls/#firewalls-concepts>30.2. Firewallconcepten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/firewalls/#firewalls-apps>30.3. Firewallsoftware</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/firewalls/#firewalls-pf>30.4. De OpenBSD Packet Filter (PF) en ALTQ</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/firewalls/#firewalls-ipf>30.5. De IPFILTER (IPF) firewall</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/firewalls/#firewalls-ipfw>30.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/>Hoofdstuk 31. Geavanceerde netwerken</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Samenvatting</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-routing>31.2. Gateways en routes</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-wireless>31.3. Draadloze netwerken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-bluetooth>31.4. Bluetooth</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-bridging>31.5. Bridging</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-aggregation>31.6. Verbindingsaggregatie en failover</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-diskless>31.7. Schijfloos werken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-pxe-nfs>31.8. Met PXE en een NFS-root-bestandssysteem opstarten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-isdn>31.9. ISDN</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-natd>31.10. Network Address Translation</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-ipv6>31.11. IPv6</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#network-atm>31.12. Asynchronous Transfer Mode (ATM)</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/advanced-networking/#carp>31.13. Common Address Redundancy Protocol (CARP)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/partv/>Deel V. Appendix</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/>Bijlage A. FreeBSD verkrijgen</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#mirrors-cdrom>A.1. CD-ROM en DVD uitgevers</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#mirrors-ftp>A.2. FTP sites</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#mirrors-svn>A.3. Subversion-sites</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#anoncvs>A.4. Anonieme CVS</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#ctm>A.5. CTM gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#cvsup>A.6. CVSup gebruiken</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#cvs-tags>A.7. CVS labels</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/mirrors/#mirrors-rsync>A.8. rsync sites</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/>Bijlage B. Bibliografie</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-freebsd>B.1. Boeken & tijdschriften over FreeBSD</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-userguides>B.2. Voor gebruikers</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-adminguides>B.3. Voor beheerders</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-programmers>B.4. Voor programmeurs</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-osinternals>B.5. Dieper in het besturingssysteem</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-security>B.6. Over beveiliging</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-hardware>B.7. Over hardware</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-history>B.8. UNIX® geschiedenis</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/bibliography/#bibliography-journals>B.9. Tijdschriften en periodieken</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/eresources/>Bijlage C. Bronnen op Internet</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/eresources/#eresources-mail>C.1. Mailinglijsten</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/eresources/#eresources-news>C.2. Usenet-nieuwsgroepen</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/eresources/#eresources-web>C.3. World wide webservers</a></li><li><a href=https://docs.freebsd.org/nl/books/handbook/eresources/#eresources-email>C.4. Email-adressen</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/nl/books/handbook/pgpkeys/>Bijlage D. PGP sleutels</a><ul><li><a href=https://docs.freebsd.org/nl/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Beambten</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#geom-synopsis>20.1. Overzicht</a></li><li><a href=#GEOM-intro>20.2. GEOM inleiding</a></li><li><a href=#GEOM-striping>20.3. RAID0 - aaneengeschakeld</a></li><li><a href=#GEOM-mirror>20.4. RAID1 - spiegelen</a></li><li><a href=#GEOM-raid3>20.5. RAID3 - Striping op byte-niveau met toegewijde pariteit</a></li><li><a href=#geom-ggate>20.6. GEOM Gate netwerk apparaten</a></li><li><a href=#geom-glabels>20.7. Het labelen van schijven</a></li><li><a href=#geom-gjournal>20.8. UFS logboeken door middel van GEOM</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=geom-synopsis>20.1. Overzicht<a class=anchor href=#geom-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>Dit hoofdstuk beschrijft het gebruik van schijven in het GEOM raamwerk in FreeBSD. Hieronder vallen de belangrijkste RAID besturingsprogramma’s die het raamwerk gebruikt voor instellingen. In dit hoofdstuk wordt niet diepgaand beschreven hoe GEOM omgaat met I/O, het onderliggende subsysteem of code. Die informatie staat in het hulppagina voor <a href="https://man.freebsd.org/cgi/man.cgi?query=geom&amp;sektion=4&amp;format=html">geom(4)</a> en de verscheidene "SEE ALSO" referenties. Dit hoofdstuk is ook geen definitief stuk over het instellen van RAID. Alleen de door GEOM ondersteunde RAID-classificaties worden beschreven.</p></div><div class=paragraph><p>Na het lezen van dit hoofdstuk weet de lezer:</p></div><div class=ulist><ul><li><p>Welk type RAID-ondersteuning via GEOM beschikbaar is;</p></li><li><p>Hoe de basisgereedschappen te gebruiken om de verschillende RAID-niveaus in te stellen, te onderhouden en te wijzigen;</p></li><li><p>Hoe schijfapparaten via GEOM te spiegelen, aaneen te schakelen, te versleutelen en vanaf afstand schijven aan te sluiten;</p></li><li><p>Hoe problemen op te lossen met schijven die via het GEOM raamwerk zijn aangesloten.</p></li></ul></div><div class=paragraph><p>Veronderstelde voorkennis:</p></div><div class=ulist><ul><li><p>Begrijpen hoe FreeBSD omgaat met schijfapparaten (<a href=../disks/#disks>Stockage des données</a>);</p></li><li><p>Weten hoe een nieuwe FreeBSD kernel in te stellen en te installeren (<a href=../kernelconfig/#kernelconfig>De FreeBSD-kernel instellen</a>).</p></li></ul></div></div></div><div class=sect1><h2 id=GEOM-intro>20.2. GEOM inleiding<a class=anchor href=#GEOM-intro></a></h2><div class=sectionbody><div class=paragraph><p>GEOM staat toegang en controle toe op klassen, Master Boot Records, BSD labels, enzovoort, door gebruik te maken van diensten of de speciale bestanden in <span class=filename>/dev</span>. GEOM ondersteunt verschillende software RAID instellingen en biedt transparante toegang tot het besturingssysteem en de hulpprogramma’s.</p></div></div></div><div class=sect1><h2 id=GEOM-striping>20.3. RAID0 - aaneengeschakeld<a class=anchor href=#GEOM-striping></a></h2><div class=sectionbody><div class=paragraph><p>Aaneenschakelen is een methode die gebruikt wordt om meerdere schijven te combineren tot een enkele volume. In veel gevallen wordt dit gedaan met hardware controllers. Het GEOM subsysteem biedt softwareondersteuning voor RAID0, ook wel bekend als aaneenschakelen ("disk striping").</p></div><div class=paragraph><p>In een RAID0-systeem worden gegevens opgedeeld in blokken die verdeeld worden over de schijven in een reeks. In plaats van te hoeven wachten tot een systeem 256k naar één schijf heeft geschreven, kan een RAID0-systeem tegelijkertijd 64k naar vier verschillende schijven schrijven, waardoor superieure I/O prestaties worden bereikt. Deze prestaties kunnen nog verbeterd worden door meerdere schijfcontrollers te gebruiken.</p></div><div class=paragraph><p>Iedere schijf in een RAID0-aaneenschakeling moet van dezelfde grootte zijn, omdat I/O-verzoeken altijd zijn opgebouwd uit precies gelijk over de schijven verdeelde verzoeken tot lezen of schrijven.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/geom/striping.png alt="Illustratie aaneengeschakelde schijven"></div></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Ongeformatteerde ATA-schijven aaneenschakelen</strong></p></div><div class="olist arabic"><ol class=arabic><li><p>Laad de module <span class=filename>geom_stripe.ko</span>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload geom_stripe</span></code></pre></div></div></li><li><p>Zorg ervoor dat er een koppelpunt beschikbaar is. Als dit volume een rootpartitie wordt, gebruikt dan tijdelijk een ander koppelpunt zoals <span class=filename>/mnt</span>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /mnt</span></code></pre></div></div></li><li><p>Stel de apparaatnamen voor de schijven vast die aaneen worden geschakeld en maak het nieuwe apparaat aan. Om twee ongebruikte, ongepartitioneerde ATA schijven aaneen te schakelen (<span class=filename>/dev/ad2</span> en <span class=filename>/dev/ad3</span>):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gstripe label -v st0 /dev/ad2 /dev/ad3</span>
Metadata value stored on /dev/ad2.
Metadata value stored on /dev/ad3.
Done.</code></pre></div></div></li><li><p>Schrijf een standaard label naar de nieuwe partitie, ook wel bekend als een partitietabel en installeer de standaard opstart code:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># bsdlabel -wB /dev/stripe/st0</span></code></pre></div></div></li><li><p>Dit proces hoort twee nieuwe apparaten gemaakt te hebben in de map <span class=filename>/dev/stripe</span> naast het apparaat <span class=filename>st0</span>, te weten <span class=filename>st0a</span> en <span class=filename>st0c</span>. Vanaf nu kan er een bestandssysteem op <span class=filename>st0a</span> worden gezet met behulp van de <code>newfs</code> applicatie:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -U /dev/stripe/st0a</span></code></pre></div></div><div class=paragraph><p>Na het uitvoeren van het bovenstaande commando rollen er veel getallen over het scherm en na een aantal seconden is het proces afgerond. Het volume is gereed en klaar om aangekoppeld te worden.</p></div></li></ol></div></div></div><div class=paragraph><p>Om de nieuwe aaneengeschakelde schijf handmatig te koppelen moet het volgende gedaan worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/stripe/st0a /mnt</span></code></pre></div></div><div class=paragraph><p>Om dit aaneengeschakelde bestandssysteem automatisch aan te koppelen bij het opstarten wordt de volume-informatie in <span class=filename>/etc/fstab</span> gezet. Voor dit doel wordt een permanent koppelpunt, genaamd <span class=filename>stripe</span>, aangemaakt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /stripe</span>
<span class=c># echo &#34;/dev/stripe/st0a /mnt ufs rw 2 2&#34; \</span>
      <span class=o>&gt;&gt;</span> /etc/fstab</code></pre></div></div><div class=paragraph><p>Laadt de module <span class=filename>geom_stripe.ko</span> ook automatisch bij het initialiseren van een systeem door de volgende regel toe te voegen aan <span class=filename>/boot/loader.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#39;geom_stripe_load=&#34;YES&#34;&#39; &gt;&gt; /boot/loader.conf</span></code></pre></div></div></div></div><div class=sect1><h2 id=GEOM-mirror>20.4. RAID1 - spiegelen<a class=anchor href=#GEOM-mirror></a></h2><div class=sectionbody><div class=paragraph><p>RAID1, of <em>spiegelen</em>, is de techniek om dezelfde gegevens naar meer dan één schijf te schrijven. Spiegels worden normaliter gebruikt om tegen gegevensverlies te beschermen indien een schijf kapot gaat. Elke schijf in een spiegel bevat een identieke kopie van de gegevens. Wanneer een individuele schijf het begeeft, blijft de spiegel functioneren, en levert het gegevens van de schijven die nog wel functioneren. De computer blijft draaien en de beheerder heeft tijd om de kapotte schijf te vervangen zonder onderbreking voor de gebruikers.</p></div><div class=paragraph><p>Twee veelvoorkomende situaties worden in deze voorbeelden getoond. Het eerste is het maken van een spiegel van twee nieuwe schijven en het als vervanging voor een bestaande enkele schijf te gebruiken. Het tweede voorbeeld maakt een spiegel op een enkele nieuwe schijf aan, kopieert de gegevens van de oude schijf er naar toe, en plaatst daarna de oude schijf in de spiegel. Hoewel deze procedure iets moeilijker is, is er maar één nieuwe schijf nodig.</p></div><div class=paragraph><p>Traditioneel zijn de twee schijven in een spiegel van hetzelfde model en hebben ze dezelfde capaciteit, maar <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> verplicht dit niet. Spiegels die met ongelijke schijven zijn gemaakt zullen de capaciteit van de kleinste schijf in de spiegel aannemen. Extra schijfruimte op grotere schijven zal ongebruikt blijven. Schijven die later in de spiegel worden geplaatst moeten tenminste evenveel capaciteit hebben als de kleinste schijf die reeds in de spiegel zit.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>De procedures voor het spiegelen die hier getoond worden zijn niet-destructief, maar maak zoals bij elke grote schijfoperatie eerst een volledige back-up.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=GEOM-mirror-metadata>20.4.1. Kwesties met meta-gegevens<a class=anchor href=#GEOM-mirror-metadata></a></h3><div class=paragraph><p>Veel schijfsystemen slaan meta-gegevens op aan het einde van elke schijf. Oude meta-gegevens dienen gewist te worden voordat de schijf herbruikt wordt voor een spiegel. De meeste problemen worden veroorzaakt door twee soorten van achtergebleven meta-gegevens: GPT-partitietabellen en oude meta-gegevens van <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> van een vorige spiegel.</p></div><div class=paragraph><p>GPT-meta-gegevens kunnen gewist worden met <a href="https://man.freebsd.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;format=html">gpart(8)</a>. Dit voorbeeld wist zowel de primaire als de back-up GPT-partitietabellen van schijf <span class=filename>ada8</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart destroy -F ada8</span></code></pre></div></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> kan in één stap een schijf uit een actieve spiegel halen en de meta-gegevens wissen. Hier wordt de voorbeeldschijf <span class=filename>ada8</span> uit de actieve spiegel <span class=filename>gm4</span> gehaald:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror remove gm4 ada8</span></code></pre></div></div><div class=paragraph><p>Gebruik, als de spiegel niet draait maar er nog oude meta-gegevens van de spiegel op de schijf staan, <code>gmirror clear</code> om deze te verwijderen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror clear ada8</span></code></pre></div></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> slaat één blok aan meta-gegevens aan het einde van de schijf op. Omdat GPT-partitieschema’s ook meta-gegevens aan het einde van de schijf opslaan, wordt het spiegelen van volledige GPT-schijven met <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> niet aangeraden. Hier wordt MBR-partitionering gebruikt omdat het alleen een partitietabel aan het begin van de schijf opslaat en niet conflicteert met <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a>.</p></div></div><div class=sect2><h3 id=_een_spiegel_met_twee_nieuwe_schijven_maken>20.4.2. Een spiegel met twee nieuwe schijven maken<a class=anchor href=#_een_spiegel_met_twee_nieuwe_schijven_maken></a></h3><div class=paragraph><p>In dit voorbeeld is FreeBSD reeds op een enkele schijf <span class=filename>ada0</span> geïnstalleerd. Twee nieuwe schijven, <span class=filename>ada1</span> en <span class=filename>ada2</span> zijn met het systeem verbonden. Er zal een nieuwe spiegel op deze twee schijven aangemaakt worden die de oude enkele schijf zal vervangen.</p></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> heeft een kernelmodule <span class=filename>geom_mirror.ko</span> nodig, ingebouwd in de kernel of geladen tijdens het opstarten of draaien. Laadt nu handmatig de kernelmodule:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror load</span></code></pre></div></div><div class=paragraph><p>Maak de spiegel aan met de twee nieuwe schijven:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror label -v gm0 /dev/ada1 /dev/ada2</span></code></pre></div></div><div class=paragraph><p><span class=filename>gm0</span> is een door de gebruiker gekozen apparaatnaam die aan de nieuwe spiegel wordt toegekend. Nadat de spiegel is gestart, zal deze apparaatnaam verschijnen in de map <span class=filename>/dev/mirror/</span>.</p></div><div class=paragraph><p>Nu kunnen er met <a href="https://man.freebsd.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;format=html">gpart(8)</a> MBR- en bsdlabel-partitietabellen op de spiegel worden aangemaakt. Hier wordt er een traditioneel schema van een gesplitst bestandssysteem getoond, met partities voor <span class=filename>/</span>, swap, <span class=filename>/var</span>, <span class=filename>/tmp</span> en <span class=filename>/usr</span>. Dit werkt ook voor een enkel bestandssysteem met enkel <span class=filename>/</span> en een wisselpartitie.</p></div><div class=paragraph><p>Partities op de spiegel hoeven niet dezelfde grootte te hebben als die op de bestaande schijf, maar moeten groot genoeg zijn om alle gegevens die reeds op <span class=filename>ada0</span> staan te kunnen bevatten.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart create -s MBR mirror/gm0</span>
<span class=c># gpart add -t freebsd -a 4k mirror/gm0</span>
<span class=c># gpart show mirror/gm0</span>
<span class=o>=&gt;</span>       63  156301423  mirror/gm0  MBR  <span class=o>(</span>74G<span class=o>)</span>
         63         63                    - free -  <span class=o>(</span>31k<span class=o>)</span>
        126  156301299                 1  freebsd  <span class=o>(</span>74G<span class=o>)</span>
  156301425         61                    - free -  <span class=o>(</span>30k<span class=o>)</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart create -s BSD mirror/gm0s1</span>
<span class=c># gpart add -t freebsd-ufs  -a 4k -s 2g mirror/gm0s1</span>
<span class=c># gpart add -t freebsd-swap -a 4k -s 4g mirror/gm0s1</span>
<span class=c># gpart add -t freebsd-ufs  -a 4k -s 2g mirror/gm0s1</span>
<span class=c># gpart add -t freebsd-ufs  -a 4k -s 1g mirror/gm0s1</span>
<span class=c># gpart add -t freebsd-ufs  -a 4k       mirror/gm0s1</span>
<span class=c># gpart show mirror/gm0s1</span>
<span class=o>=&gt;</span>        0  156301299  mirror/gm0s1  BSD  <span class=o>(</span>74G<span class=o>)</span>
          0          2                      - free -  <span class=o>(</span>1.0k<span class=o>)</span>
          2    4194304                   1  freebsd-ufs  <span class=o>(</span>2.0G<span class=o>)</span>
    4194306    8388608                   2  freebsd-swap  <span class=o>(</span>4.0G<span class=o>)</span>
   12582914    4194304                   4  freebsd-ufs  <span class=o>(</span>2.0G<span class=o>)</span>
   16777218    2097152                   5  freebsd-ufs  <span class=o>(</span>1.0G<span class=o>)</span>
   18874370  137426928                   6  freebsd-ufs  <span class=o>(</span>65G<span class=o>)</span>
  156301298          1                      - free -  <span class=o>(</span>512B<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Maak de spiegel opstartbaar door opstartcode in het MBR en bsdlabel te installeren en de actieve slice in te stellen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart bootcode -b /boot/mbr mirror/gm0</span>
<span class=c># gpart set -a active -i 1 mirror/gm0</span>
<span class=c># gpart bootcode -b /boot/boot mirror/gm0s1</span></code></pre></div></div><div class=paragraph><p>Formatteer de bestandssystemen op de nieuwe spiegel en zet daarbij soft-updates aan.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -U /dev/mirror/gm0s1a</span>
<span class=c># newfs -U /dev/mirror/gm0s1d</span>
<span class=c># newfs -U /dev/mirror/gm0s1e</span>
<span class=c># newfs -U /dev/mirror/gm0s1f</span></code></pre></div></div><div class=paragraph><p>Bestandssystemen van de originele schijf (<span class=filename>ada0</span>) kunnen nu met <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> en <a href="https://man.freebsd.org/cgi/man.cgi?query=restore&amp;sektion=8&amp;format=html">restore(8)</a> naar de spiegel gekopieerd worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/mirror/gm0s1a /mnt</span>
<span class=c># dump -C16 -b64 -0aL -f - / | (cd /mnt &amp;&amp; restore -rf -)</span>
<span class=c># mount /dev/mirror/gm0s1d /mnt/var</span>
<span class=c># mount /dev/mirror/gm0s1e /mnt/tmp</span>
<span class=c># mount /dev/mirror/gm0s1f /mnt/usr</span>
<span class=c># dump -C16 -b64 -0aL -f - /var | (cd /mnt/var &amp;&amp; restore -rf -)</span>
<span class=c># dump -C16 -b64 -0aL -f - /tmp | (cd /mnt/tmp &amp;&amp; restore -rf -)</span>
<span class=c># dump -C16 -b64 -0aL -f - /usr | (cd /mnt/usr &amp;&amp; restore -rf -)</span></code></pre></div></div><div class=paragraph><p><span class=filename>/mnt/etc/fstab</span> moet bewerkt worden om naar de nieuwe bestandssystemen op de spiegel te wijzen:</p></div><div class="literalblock programlisting"><div class=content><pre># Device		Mountpoint	FStype	Options	Dump	Pass#
/dev/mirror/gm0s1a	/		ufs	rw	1	1
/dev/mirror/gm0s1b	none		swap	sw	0	0
/dev/mirror/gm0s1d	/var		ufs	rw	2	2
/dev/mirror/gm0s1e	/tmp		ufs	rw	2	2
/dev/mirror/gm0s1f	/usr		ufs	rw	2	2</pre></div></div><div class=paragraph><p>Als de kernelmodule <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> niet in de kernel is ingebouwd, wordt <span class=filename>/mnt/boot/loader.conf</span> bewerkt om de module tijdens het opstarten te laden:</p></div><div class="literalblock programlisting"><div class=content><pre>geom_mirror_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Herstart het systeem om de nieuwe spiegel te testen en te verifiëren dat alle gegevens zijn gekopieerd. Het BIOS zal de spiegel als twee individuele schijven zien in plaats van als een spiegel. Omdat de schijven identiek zijn, maakt het niet uit vanaf welke schijf wordt opgestart.</p></div><div class=paragraph><p>Bekijk de sectie <a href=#gmirror-troubleshooting>Problemen oplossen</a> als er problemen zijn tijdens het opstarten. Door de originele <span class=filename>ada0</span> uit te schakelen en los te koppelen kan het als offline back-up bewaard worden.</p></div><div class=paragraph><p>Tijdens het gebruik zal de spiegel zich net zoals de originele enkele schijf gedragen.</p></div></div><div class=sect2><h3 id=_een_spiegel_met_een_bestaande_schijf_aanmaken>20.4.3. Een spiegel met een bestaande schijf aanmaken<a class=anchor href=#_een_spiegel_met_een_bestaande_schijf_aanmaken></a></h3><div class=paragraph><p>In dit voorbeeld is FreeBSD reeds geïnstalleerd op een enkele schijf, <span class=filename>ada0</span>. Een nieuwe schijf, <span class=filename>ada1</span>, is met het systeem verbonden. Er zal een spiegel van één schijf worden aangemaakt op de nieuwe schijf, het bestaande systeem zal ernaar worden gekopieerd, en daarna zal de oude schijf in de spiegel worden geplaatst. Deze enigszins complexe procedure is nodig omdat <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> een blok van 512 bytes aan meta-gegevens aan het einde van elke schijf moet plaatsen en de bestaande <span class=filename>ada0</span> meestal alle ruimte reeds heeft toegewezen.</p></div><div class=paragraph><p>Laadt de kernelmodule <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror load</span></code></pre></div></div><div class=paragraph><p>Controleer de mediagrootte van de originele schijf met <a href="https://man.freebsd.org/cgi/man.cgi?query=diskinfo&amp;sektion=8&amp;format=html">diskinfo(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># diskinfo -v ada0 | head -n3</span>
/dev/ada0
	512             <span class=c># sectorsize</span>
	1000204821504   <span class=c># mediasize in bytes (931G)</span></code></pre></div></div><div class=paragraph><p>Maak een spiegel aan op de nieuwe schijf. Om er zeker van te zijn dat de capaciteit van de spiegel niet groter is dan die van de originele schijf, wordt <a href="https://man.freebsd.org/cgi/man.cgi?query=gnop&amp;sektion=8&amp;format=html">gnop(8)</a> gebruikt om een nepschijf van precies dezelfde grootte aan te maken. Deze schijf slaat geen gegevens op, maar wordt alleen gebruikt om de grootte van de spiegel te begrenzen. Wanneer <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> de spiegel aanmaakt, zal het de capaciteit beperken tot de grootte van <span class=filename>gzero.nop</span> zelfs als de nieuwe schijf (<span class=filename>ada1</span>) meer ruimte heeft. Merk op dat de <em>1000204821504</em> op de tweede regel gelijk moet zijn aan de mediagrootte van <span class=filename>ada0</span> zoals hierboven door <a href="https://man.freebsd.org/cgi/man.cgi?query=diskinfo&amp;sektion=8&amp;format=html">diskinfo(8)</a> is getoond.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># geom zero load</span>
<span class=c># gnop create -s 1000204821504 gzero</span>
<span class=c># gmirror label -v gm0 gzero.nop ada1</span>
<span class=c># gmirror forget gm0</span></code></pre></div></div><div class=paragraph><p><span class=filename>gzero.nop</span> slaat geen gegevens op, dus ziet de spiegel het niet als verbonden. De spiegel wordt verteld om componenten die niet verbonden zijn te "vergeten", waarbij referenties naar <span class=filename>gzero.nop</span> worden verwijderd. Het resultaat is een spiegelapparaat dat slechts één enkele schijf, <span class=filename>ada1</span>, bevat.</p></div><div class=paragraph><p>Bekijk de partitietabel van <span class=filename>ada0</span> nadat <span class=filename>gm0</span> is aangemaakt.</p></div><div class=paragraph><p>Deze uitvoer komt van een schijf van 1 TB. Als er wat niet-toegewezen ruimte aanwezig is aan het einde van de schijf, kan de inhoud direct van <span class=filename>ada0</span> naar de nieuwe spiegel worden gekopieerd.</p></div><div class=paragraph><p>Als de uitvoer echter toont dat alle ruimte op de schijf is toegewezen zoals in de volgende lijst, is er geen ruimte over voor de 512 bytes aan meta-gegevens van <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> aan het einde van de schijf.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart show ada0</span>
<span class=o>=&gt;</span>        63  1953525105        ada0  MBR  <span class=o>(</span>931G<span class=o>)</span>
          63  1953525105           1  freebsd  <span class=o>[</span>active]  <span class=o>(</span>931G<span class=o>)</span></code></pre></div></div><div class=paragraph><p>In dit geval moet de partitietabel worden bewerkt om de capaciteit op <span class=filename>mirror/gm0</span> met één sector te verminderen. De procedure hiervoor wordt later uitgelegd.</p></div><div class=paragraph><p>In beide gevallen dienen de partitietabellen op de primaire schijf eerst gekopieerd te worden. Dit kan gedaan worden met de subcommando’s <code>backup</code> en <code>restore</code> van <a href="https://man.freebsd.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;format=html">gpart(8)</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart backup ada0 &gt; table.ada0</span>
<span class=c># gpart backup ada0s1 &gt; table.ada0s1</span></code></pre></div></div><div class=paragraph><p>Deze subcommando’s maken twee bestanden aan, <span class=filename>table.ada0</span> en <span class=filename>table.ada0s1</span>. Dit voorbeeld komt van een schijf van 1 TB af:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat table.ada0</span>
MBR 4
1 freebsd         63 1953525105   <span class=o>[</span>active]</code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat table.ada0s1</span>
BSD 8
1  freebsd-ufs          0    4194304
2 freebsd-swap    4194304   33554432
4  freebsd-ufs   37748736   50331648
5  freebsd-ufs   88080384   41943040
6  freebsd-ufs  130023424  838860800
7  freebsd-ufs  968884224  984640881</code></pre></div></div><div class=paragraph><p>Als de gehele schijf was gebruikt in de uitvoer van <a href="https://man.freebsd.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;format=html">gpart(8)</a> <code>show</code>, dan moet de capaciteit in deze partitietabellen met één sector verminderd worden. Bewerk de twee bestanden zodat de grootte van zowel de slice als de laatste partitie met één verminderd wordt. Dit zijn de laatste getallen in elke lijst.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat table.ada0</span>
MBR 4
1 freebsd         63 1953525104   <span class=o>[</span>active]</code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat table.ada0s1</span>
BSD 8
1  freebsd-ufs          0    4194304
2 freebsd-swap    4194304   33554432
4  freebsd-ufs   37748736   50331648
5  freebsd-ufs   88080384   41943040
6  freebsd-ufs  130023424  838860800
7  freebsd-ufs  968884224  984640880</code></pre></div></div><div class=paragraph><p>Als er tenminste één sector aan het einde van de schijf niet was toegewezen, kunnen deze twee bestanden ongewijzigd gebruikt worden.</p></div><div class=paragraph><p>Herstel nu de partitietabel naar <span class=filename>mirror/gm0</span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart restore mirror/gm0 &lt; table.ada0</span>
<span class=c># gpart restore mirror/gm0s1 &lt; table.ada0s1</span></code></pre></div></div><div class=paragraph><p>Controleer de partitietabel met <a href="https://man.freebsd.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;format=html">gpart(8)</a> <code>show</code>. Dit voorbeeld heeft <span class=filename>gm0s1a</span> voor <span class=filename>/</span>, <span class=filename>gm0s1d</span> voor <span class=filename>/var</span>, <span class=filename>gm0s1e</span> voor <span class=filename>/usr</span>, <span class=filename>gm0s1f</span> voor <span class=filename>/data1</span> en <span class=filename>gm0s1g</span> voor <span class=filename>/data2</span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart show mirror/gm0</span>
<span class=o>=&gt;</span>        63  1953525104  mirror/gm0  MBR  <span class=o>(</span>931G<span class=o>)</span>
          63  1953525042           1  freebsd  <span class=o>[</span>active]  <span class=o>(</span>931G<span class=o>)</span>
  1953525105          62              - free -  <span class=o>(</span>31k<span class=o>)</span>

<span class=c># gpart show mirror/gm0s1</span>
<span class=o>=&gt;</span>         0  1953525042  mirror/gm0s1  BSD  <span class=o>(</span>931G<span class=o>)</span>
           0     2097152             1  freebsd-ufs  <span class=o>(</span>1.0G<span class=o>)</span>
     2097152    16777216             2  freebsd-swap  <span class=o>(</span>8.0G<span class=o>)</span>
    18874368    41943040             4  freebsd-ufs  <span class=o>(</span>20G<span class=o>)</span>
    60817408    20971520             5  freebsd-ufs  <span class=o>(</span>10G<span class=o>)</span>
    81788928   629145600             6  freebsd-ufs  <span class=o>(</span>300G<span class=o>)</span>
   710934528  1242590514             7  freebsd-ufs  <span class=o>(</span>592G<span class=o>)</span>
  1953525042          63                - free -  <span class=o>(</span>31k<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Zowel de slice als de laatste partitie dienen wat vrije ruimte aan het einde van elke schijf te hebben.</p></div><div class=paragraph><p>Maak bestandssystemen aan op deze nieuwe partities. Het aantal partities zal variëren, overeenkomend met de partities op de originele schijf, <span class=filename>ada0</span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -U /dev/mirror/gm0s1a</span>
<span class=c># newfs -U /dev/mirror/gm0s1d</span>
<span class=c># newfs -U /dev/mirror/gm0s1e</span>
<span class=c># newfs -U /dev/mirror/gm0s1f</span>
<span class=c># newfs -U /dev/mirror/gm0s1g</span></code></pre></div></div><div class=paragraph><p>Maak de spiegel opstartbaar door opstartcode in het MBR en bsdlabel te installeren en de actieve slice in te stellen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart bootcode -b /boot/mbr mirror/gm0</span>
<span class=c># gpart set -a active -i 1 mirror/gm0</span>
<span class=c># gpart bootcode -b /boot/boot mirror/gm0s1</span></code></pre></div></div><div class=paragraph><p>Pas <span class=filename>/etc/fstab</span> aan zodat het de nieuwe partities op de spiegel gebruikt. Maak eerst een kopie van dit bestand als <span class=filename>/etc/fstab.orig</span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp /etc/fstab /etc/fstab.orig</span></code></pre></div></div><div class=paragraph><p>Wijzig <span class=filename>/etc/fstab</span> door <span class=filename>/dev/ada0</span> door <span class=filename>mirror/gm0</span> te vervangen.</p></div><div class="literalblock programlisting"><div class=content><pre># Device		Mountpoint	FStype	Options	Dump	Pass#
/dev/mirror/gm0s1a	/		ufs	rw	1	1
/dev/mirror/gm0s1b	none		swap	sw	0	0
/dev/mirror/gm0s1d	/var		ufs	rw	2	2
/dev/mirror/gm0s1e	/usr		ufs	rw	2	2
/dev/mirror/gm0s1f	/data1		ufs	rw	2	2
/dev/mirror/gm0s1g	/data2		ufs	rw	2	2</pre></div></div><div class=paragraph><p>Als de kernelmodule <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> niet in de kernel is gebouwd, wijzig dan <span class=filename>/boot/loader.conf</span> om het te laden:</p></div><div class="literalblock programlisting"><div class=content><pre>geom_mirror_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Bestandssystemen van de originele schijf kunnen nu met <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> en <a href="https://man.freebsd.org/cgi/man.cgi?query=restore&amp;sektion=8&amp;format=html">restore(8)</a> naar de spiegel gekopieerd worden. Merk op dat het maken van een snapshot voor elk bestandssysteem dat met <code>dump -L</code> gedumpt is even kan duren.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/mirror/gm0s1a /mnt</span>
<span class=c># dump -C16 -b64 -0aL -f - /    | (cd /mnt &amp;&amp; restore -rf -)</span>
<span class=c># mount /dev/mirror/gm0s1d /mnt/var</span>
<span class=c># mount /dev/mirror/gm0s1e /mnt/usr</span>
<span class=c># mount /dev/mirror/gm0s1f /mnt/data1</span>
<span class=c># mount /dev/mirror/gm0s1g /mnt/data2</span>
<span class=c># dump -C16 -b64 -0aL -f - /usr | (cd /mnt/usr &amp;&amp; restore -rf -)</span>
<span class=c># dump -C16 -b64 -0aL -f - /var | (cd /mnt/var &amp;&amp; restore -rf -)</span>
<span class=c># dump -C16 -b64 -0aL -f - /data1 | (cd /mnt/data1 &amp;&amp; restore -rf -)</span>
<span class=c># dump -C16 -b64 -0aL -f - /data2 | (cd /mnt/data2 &amp;&amp; restore -rf -)</span></code></pre></div></div><div class=paragraph><p>Start het systeem opnieuw op vanaf <span class=filename>ada1</span>. Als alles werkt, zal het systeem opstarten vanaf <span class=filename>mirror/gm0</span>, wat nu dezelfde gegevens bevat die <span class=filename>ada0</span> eerder bevatte. Zie de sectie <a href=#gmirror-troubleshooting>Problemen oplossen</a> als er problemen zijn met het opstarten.</p></div><div class=paragraph><p>Op dit moment bestaat de spiegel nog steeds alleen uit de enkele schijf <span class=filename>ada1</span>.</p></div><div class=paragraph><p>Nadat er succesvol van <span class=filename>mirror/gm0</span> is opgestart, is de laatste stap het plaatsen van <span class=filename>ada0</span> in de spiegel.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Als <span class=filename>ada0</span> in de spiegel wordt geplaatst, zal de vorige inhoud worden overschreven door gegevens in de spiegel. Ben er zeker van dat <span class=filename>mirror/gm0</span> dezelfde gegevens bevat als <span class=filename>ada0</span> voordat <span class=filename>ada0</span> aan de spiegel wordt toegevoegd. Als er iets mis is met de gegevens die door <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> en <a href="https://man.freebsd.org/cgi/man.cgi?query=restore&amp;sektion=8&amp;format=html">restore(8)</a> gekopieerd zijn, draai dan <span class=filename>/etc/fstab</span> terug om de bestandssystemen op <span class=filename>ada0</span> aan te koppelen, start opnieuw op, en probeer de hele procedure nogmaals.</p></div></td></tr></tbody></table></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror insert gm0 ada0</span>
GEOM_MIRROR: Device gm0: rebuilding provider ada0</code></pre></div></div><div class=paragraph><p>De synchronisatie tussen de twee schijven zal onmiddellijk beginnen. <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> <code>status</code> toont de voortgang.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror status</span>
      Name    Status  Components
mirror/gm0  DEGRADED  ada1 <span class=o>(</span>ACTIVE<span class=o>)</span>
                      ada0 <span class=o>(</span>SYNCHRONIZING, 64%<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Na een tijd zal de synchronisatie voltooid zijn.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>GEOM_MIRROR: Device gm0: rebuilding provider ada0 finished.
<span class=c># gmirror status</span>
      Name    Status  Components
mirror/gm0  COMPLETE  ada1 <span class=o>(</span>ACTIVE<span class=o>)</span>
                      ada0 <span class=o>(</span>ACTIVE<span class=o>)</span></code></pre></div></div><div class=paragraph><p><span class=filename>mirror/gm0</span> bestaat nu uit de twee schijven <span class=filename>ada0</span> en <span class=filename>ada1</span>, en de inhoud wordt automatisch met elkaar gesynchroniseerd. In het gebruik zal <span class=filename>mirror/gm0</span> zich net zo gedragen als de originele enkele schijf.</p></div></div><div class=sect2><h3 id=gmirror-troubleshooting>20.4.4. Problemen oplossen<a class=anchor href=#gmirror-troubleshooting></a></h3><div class=sect3><h4 id=_problemen_met_opstarten>20.4.4.1. Problemen met opstarten<a class=anchor href=#_problemen_met_opstarten></a></h4><div class=sect4><h5 id=_bios_instellingen>20.4.4.1.1. BIOS-instellingen<a class=anchor href=#_bios_instellingen></a></h5><div class=paragraph><p>Mogelijk is het nodig om de BIOS-instellingen te wijzigen om van één van de nieuwe gespiegelde schijven op te starten. Beide spiegelschijven kunnen gebruikt worden voor het opstarten. Als componenten van een spiegel bevatten ze identieke gegevens.</p></div></div><div class=sect4><h5 id=_opstartproblemen>20.4.4.1.2. Opstartproblemen<a class=anchor href=#_opstartproblemen></a></h5><div class=paragraph><p>Als het opstarten met dit bericht stopt, is er iets mis met het spiegelapparaat:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Mounting from ufs:/dev/mirror/gm0s1a failed with error 19.

Loader variables:
  vfs.root.mountfrom<span class=o>=</span>ufs:/dev/mirror/gm0s1a
  vfs.root.mountfrom.options<span class=o>=</span>rw

Manual root filesystem specification:
  &lt;fstype&gt;:&lt;device&gt; <span class=o>[</span>options]
      Mount &lt;device&gt; using filesystem &lt;fstype&gt;
      and with the specified <span class=o>(</span>optional<span class=o>)</span> option list.

    eg. ufs:/dev/da0s1a
        zfs:tank
        cd9660:/dev/acd0 ro
          <span class=o>(</span>which is equivalent to: mount <span class=nt>-t</span> cd9660 <span class=nt>-o</span> ro /dev/acd0 /<span class=o>)</span>

  ?               List valid disk boot devices
  <span class=nb>.</span>               Yield 1 second <span class=o>(</span><span class=k>for </span>background tasks<span class=o>)</span>
  &lt;empty line&gt;    Abort manual input

mountroot&gt;</code></pre></div></div><div class=paragraph><p>Het vergeten om de module <span class=filename>geom_mirror</span> in <span class=filename>/boot/loader.conf</span> te laden kan dit probleem veroorzaken. Start op vanaf een FreeBSD-9 of nieuwere CD of USB-stick en kies <code>Shell</code> op de eerste prompt om dit op te lossen. Laadt daarna de spiegelmodule en en koppel het spiegelapparaat aan:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror load</span>
<span class=c># mount /dev/mirror/gm0s1a /mnt</span></code></pre></div></div><div class=paragraph><p>Voeg een regel om de spiegelmodule te laden toe aan <span class=filename>/mnt/boot/loader.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>geom_mirror_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Sla het bestand op en start opnieuw op.</p></div><div class=paragraph><p>Andere problemen die <code>error 19</code> veroorzaken zijn lastiger om op te lossen. Typ <code>ufs:/dev/ada0s1a</code> in op de prompt. Hoewel het systeem van <span class=filename>ada0</span> zou moeten opstarten, verschijnt er een andere prompt om een shell uit te kiezen omdat <span class=filename>/etc/fstab</span> onjuist is. Druk op de prompt op de Enter-toets. Draai de wijzigingen tot nu toe terug door <span class=filename>/etc/fstab</span> terug te draaien, waardoor de bestandssystemen vanaf de originele schijf ( <span class=filename>ada0</span>) in plaats vanaf de spiegel worden aangekoppeld. Start het systeem opnieuw op en probeer de procedure nogmaals.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Enter full pathname of shell or RETURN <span class=k>for</span> /bin/sh:
<span class=c># cp /etc/fstab.orig /etc/fstab</span>
<span class=c># reboot</span></code></pre></div></div></div></div></div><div class=sect2><h3 id=_herstellen_van_falende_schijven>20.4.5. Herstellen van falende schijven<a class=anchor href=#_herstellen_van_falende_schijven></a></h3><div class=paragraph><p>Het mooie aan het spiegelen van schijven is dat een individuele schijf kan falen zonder dat de spiegel gegevens verliest.</p></div><div class=paragraph><p><span class=filename>ada0</span> is één van de twee schijven die de spiegel in het vorige voorbeeld vormen. Als <span class=filename>ada0</span> faalt zal de spiegel blijven werken en gegevens leveren van de overgebleven werkende schijf, <span class=filename>ada1</span>.</p></div><div class=paragraph><p>Om de kapotte schijf te vervangen wordt de computer uitgezet en de kapotte schijf fysiek vervangen door een nieuwe schijf van gelijke of grotere capaciteit. Fabrikanten passen enigszins willekeurige waarden toe om schijven in gigabytes aan te duiden, de enige manier om er echt zeker van te zijn is om de totale hoeveelheid aan sectors aangegeven door <code>diskinfo -v</code> te vergelijken. Een schijf met een grotere capaciteit dan in de spiegel zal werken, alhoewel de extra ruimte op de nieuwe schijf niet gebruikt zal worden.</p></div><div class=paragraph><p>Nadat de computer opnieuw is aangezet, zal de spiegel in een "degraded" toestand met slechts één schijf draaien. De spiegel wordt verteld om schijven die momenteel niet verbonden zijn te vergeten:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror forget gm0</span></code></pre></div></div><div class=paragraph><p>Alle oude meta-gegevens zouden <a href=#GEOM-mirror-metadata>van de vervangende schijf gewist</a> moeten zijn. Daarna wordt de schijf, in dit voorbeeld <span class=filename>ada4</span>, in de spiegel geplaatst:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror insert gm0 /dev/ada4</span></code></pre></div></div><div class=paragraph><p>De hersynchronisatie begint wanneer de nieuwe schijf in de spiegel wordt geplaatst. Het kopiëren van gegevens van de spiegel naar een nieuwe schijf kan een tijd duren. De prestaties van de spiegel zullen tijdens het kopiëren sterk verminderd zijn, dus is het het beste om nieuwe schijven in te voegen wanneer de vraag op de computer laag is.</p></div><div class=paragraph><p>De voortgang kan met <code>gmirror status</code> gevolgd worden, wat de schijven die gesynchroniseerd en het percentage van de voltooiing laat zien. Tijdens de hersynchronisatie zal de status <code>DEGRADED</code> zijn en veranderen in <code>COMPLETE</code> wanneer het proces is voltooid.</p></div></div></div></div><div class=sect1><h2 id=GEOM-raid3>20.5. RAID3 - Striping op byte-niveau met toegewijde pariteit<a class=anchor href=#GEOM-raid3></a></h2><div class=sectionbody><div class=paragraph><p>RAID3 is een methode om verschillende schijven te combineren in een enkel volume met een toegewijde schijf voor de pariteit. In een RAID3-systeem worden de gegevens opgesplitst in een aantal bytes die over alle schijven in de rij worden geschreven, behalve naar één schijf die als een toegewijde schijf voor de pariteit dient. Dit betekent dat het lezen van 1024 kB van een RAID3-implementatie alle schijven in de rij zal benaderen. De prestatie kan worden verhoogd door meerdere schijfcontrollers te gebruiken. De RAID3-rij biedt een fouttolerantie van 1 schijf, terwijl het een capaciteit van 1 - 1/n maal de totale capaciteit biedt van alle schijven in de rij, waarbij n het aantal harde schijven in de rij is. Zulke configuraties zijn meestal geschikt voor het opslaan van gegevens van grotere groottes, bijvoorbeeld multimedia-bestanden.</p></div><div class=paragraph><p>Er zijn minstens 3 fysieke harde schijven nodig om een RAID3-rij te bouwen. Elke schijf moet van dezelfde grootte zijn, aangezien I/O-verzoeken worden verweven om parallel naar meerdere schijven te lezen of schrijven. Bovendien moet vanwege de aard van RAID3 het aantal schijven gelijk zijn aan 3, 5, 9, 17, enzovoorts (dus 2^n + 1).</p></div><div class=sect2><h3 id=_een_toegewijde_raid3_rij_aanmaken>20.5.1. Een toegewijde RAID3-rij aanmaken.<a class=anchor href=#_een_toegewijde_raid3_rij_aanmaken></a></h3><div class=paragraph><p>In FreeBSD is ondersteuning voor RAID3 geïmplementeerd in de GEOM-klasse <a href="https://man.freebsd.org/cgi/man.cgi?query=graid3&amp;sektion=8&amp;format=html">graid3(8)</a>. Voor het aanmaken van een toegewijde RAID3-rij op FreeBSD zijn deze stappen nodig.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Hoewel het theoretisch mogelijk is om op FreeBSD van een RAID3-rij op te starten, is deze configuratie ongebruikelijk en niet aangeraden.</p></div></td></tr></tbody></table></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Laad ten eerste de kernelmodule <span class=filename>geom_raid3.ko</span> door de volgende opdracht uit te voeren:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># graid3 load</span></code></pre></div></div><div class=paragraph><p>Het is ook mogelijk om handmatig de module <span class=filename>geom_raid3.ko</span> te laden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload geom_raid3.ko</span></code></pre></div></div></li><li><p>Zorg ervoor dat er een geschikt aankoppelpunt bestaat of maak het aan:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /multimedia/</span></code></pre></div></div></li><li><p>Bepaal de apparaatnamen voor de schijven die aan de rij worden toegevoegd en maak het nieuwe RAID3-apparaat aan. Het laatst vermelde apparaat zal dienst doen als de toegewijde schijf voor de pariteit. Dit voorbeeld gebruikt drie ongepartitioneerde ATA-schijven: <span class=filename>ada1</span> en <span class=filename>ada2</span> voor gegevens en <span class=filename>ada3</span> voor pariteit.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># graid3 label -v gr0 /dev/ada1 /dev/ada2 /dev/ada3</span>
Metadata value stored on /dev/ada1.
Metadata value stored on /dev/ada2.
Metadata value stored on /dev/ada3.
Done.</code></pre></div></div></li><li><p>Partitioneer het nieuw aangemaakte apparaat <span class=filename>gr0</span> en zet er een UFS-bestandssysteem op:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gpart create -s GPT /dev/raid3/gr0</span>
<span class=c># gpart add -t freebsd-ufs /dev/raid3/gr0</span>
<span class=c># newfs -j /dev/raid3/gr0p1</span></code></pre></div></div><div class=paragraph><p>Vele getallen zullen over het scherm lopen, en na wat tijd zal het proces voltooid zijn. Het volume is aangemaakt en is klaar om aangekoppeld te worden.</p></div></li><li><p>De laatste stap is het aankoppelen van het bestandssysteem:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/raid3/gr0p1 /multimedia/</span></code></pre></div></div><div class=paragraph><p>De RAID3-rij is nu klaar voor gebruik.</p></div></li></ol></div></div></div><div class=paragraph><p>Aanvullende configuratie is nodig om de bovenstaande opstelling te behouden tussen het opnieuw starten van het systeem.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>De module <span class=filename>geom_raid3.ko</span> moet geladen zijn voordat de rij kan worden aangekoppeld. Voeg de volgende regel toe aan <span class=filename>/boot/loader.conf</span> om de kernelmodule automatisch tijdens de initialisatie van het systeem te laden:</p><div class="literalblock programlisting"><div class=content><pre>geom_raid3_load=&#34;YES&#34;</pre></div></div></li><li><p>De volgende volume-informatie moet aan het bestand <span class=filename>/etc/fstab</span> worden toegevoegd om het bestandssysteem van de rij automatisch aan de koppelen tijdens het opstarten van het systeem:</p><div class="literalblock programlisting"><div class=content><pre>/dev/raid3/gr0p1	/multimedia	ufs	rw	2	2</pre></div></div></li></ol></div></div></div></div></div></div><div class=sect1><h2 id=geom-ggate>20.6. GEOM Gate netwerk apparaten<a class=anchor href=#geom-ggate></a></h2><div class=sectionbody><div class=paragraph><p>GEOM ondersteund het op afstand gebruiken van apparaten, zoals schijven, CD-ROMs, bestanden, etcetera door het gebruik van de gate-applicaties. Dit is vergelijkbaar met NFS.</p></div><div class=paragraph><p>Om te beginnen moet er een exports bestand gemaakt worden. Dit bestand specificeert wie de geëxporteerde bron mag benaderen en welke rechten er op dat moment verleend worden. Bijvoorbeeld om de vierde slice te exporteren van de eerste SCSI schijf, moet het volgende in <span class=filename>/etc/gg.exports</span> gezet worden:</p></div><div class="literalblock programlisting"><div class=content><pre>192.168.1.0/24 RW /dev/da0s4d</pre></div></div><div class=paragraph><p>Dit staat alle machines in het privé netwerk toe om het bestandssysteem op <span class=filename>da0s4d</span> te benaderen.</p></div><div class=paragraph><p>Om dit apparaat te kunnen exporteren is het van belang dat de schijf nog niet gekoppeld is en moet de <a href="https://man.freebsd.org/cgi/man.cgi?query=ggated&amp;sektion=8&amp;format=html">ggated(8)</a> dienst gestart worden.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ggated</span></code></pre></div></div><div class=paragraph><p>Om vervolgens het apparaat aan een client machine te koppelen moet het volgende gedaan worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ggatec create -o rw 192.168.1.1 /dev/da0s4d</span>
ggate0
<span class=c># mount /dev/ggate0 /mnt</span></code></pre></div></div><div class=paragraph><p>Vanaf dit moment kan de schijf benaderd worden via het koppelpunt <span class=filename>/mnt</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Let op, dit mislukt als de schijf reeds gekoppeld is op de server machine of als deze reeds gekoppeld is aan een andere machine op het netwerk.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Zodra het apparaat niet langer nodig is, kan het veilig ontkoppeld worden met behulp van <a href="https://man.freebsd.org/cgi/man.cgi?query=umount&amp;sektion=8&amp;format=html">umount(8)</a> net zoals met elke andere schijf.</p></div></div></div><div class=sect1><h2 id=geom-glabels>20.7. Het labelen van schijven<a class=anchor href=#geom-glabels></a></h2><div class=sectionbody><div class=paragraph><p>Tijdens het initialiseren van het systeem zal de FreeBSD kernel apparaatknooppunten creëren nadat het een apparaat gevonden heeft. Deze manier om te zoeken naar apparaten levert wat problemen op bijvoorbeeld wanneer er een nieuwe schijf wordt toegevoegd via USB. Het is hoogst waarschijnlijk dat een flash apparaat een apparaatknooppunt krijgt van <span class=filename>da0</span>, waarna de originele <span class=filename>da0</span> op schuift naar <span class=filename>da1</span>. Dit levert problemen op als bestandssystemen worden gekoppeld als ze gedefinieerd zijn in <span class=filename>/etc/fstab</span>, dit kan zelfs ertoe leiden dat het systeem niet opstart.</p></div><div class=paragraph><p>Een mogelijke oplossing hiervoor is om de SCSI schijven een vaste plek te geven op een bepaalde volgorde, zodat zodra er een nieuwe schijf geplaatst wordt, deze een ongebruikt apparaatknooppunt toegewezen krijgt. Maar wat als er USB apparaten zijn die de primaire SCSI schijf vervangt? Dit gebeurd omdat USB apparaten meestal eerder gevonden worden dan een SCSI kaart. Een oplossing hiervoor is om de apparaten pas toe te voegen als het systeem reeds gestart is, een andere methode kan zijn om alleen een enkele ATA schijf te koppelen en nooit SCSI schijven door middel van <span class=filename>/etc/fstab</span>.</p></div><div class=paragraph><p>Maar er is een betere oplossing beschikbaar. Door het gebruik van <code>glabel</code> kunnen beheerders en gebruikers een label toevoegen aan een schijf, en deze labels gebruiken in <span class=filename>/etc/fstab</span>. Omdat <code>glabel</code> het label bewaard in de laatste sector van de schijf, kan het label bewaard blijven ook na een reboot en kan het bestandssysteem altijd gekoppeld worden ongeacht welk apparaatknooppunt toegekend is aan het apparaat.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Uiteraard hoeft een label niet permanent te zijn, het <code>glabel</code> programma kan zowel tijdelijke als permanente labels aanmaken. Alleen een permanent label blijft beschikbaar ook na een reboot. Zie de <a href="https://man.freebsd.org/cgi/man.cgi?query=glabel&amp;sektion=8&amp;format=html">glabel(8)</a> handleiding voor meer informatie over de verschillen tussen de labeltypes.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=_label_types_en_voorbeelden>20.7.1. Label types en voorbeelden<a class=anchor href=#_label_types_en_voorbeelden></a></h3><div class=paragraph><p>Er zijn twee type labels: een generiek label en een bestandssysteemlabel. Labels kunnen permanent of tijdelijk zijn. Permanente labels kunnen met de commando’s <a href="https://man.freebsd.org/cgi/man.cgi?query=tunefs&amp;sektion=8&amp;format=html">tunefs(8)</a> of <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> aangemaakt worden. Ze zullen vervolgens worden aangemaakt in een submap van <span class=filename>/dev</span>, welke genoemd wordt naar het bestandssysteemtype. Bijvoorbeeld UFS2 labels worden geplaatst in de map <span class=filename>/dev/ufs</span>. Permanente labels kunnen ook worden aangemaakt met het commando <code>glabel label</code>. Deze zijn niet specifiek voor het bestandssysteem, en zullen in de map <span class=filename>/dev/label</span> aangemaakt worden.</p></div><div class=paragraph><p>Een tijdelijk label verdwijnt na een herstart van het systeem. Deze labels worden gecreëerd in <span class=filename>/dev/label</span> en zijn perfect voor experimenten. Een tijdelijk kan met het commando <code>glabel create</code> worden aangemaakt. Lees voor meer informatie de handleidingpagina van <a href="https://man.freebsd.org/cgi/man.cgi?query=glabel&amp;sektion=8&amp;format=html">glabel(8)</a>.</p></div><div class=paragraph><p>Om een permanent label te schrijven voor een UFS2-bestandssysteem zonder de huidige data te vernietigen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tunefs -L home /dev/da3</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Als het bestandssyteem vol is kan dit leiden tot data corruptie; echter als het bestandssysteem vol is zou het hoofddoel moeten zijn om oude achtergebleven bestanden weg te halen in plaats van het toevoegen van labels.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Er zou nu een label moeten bestaan in <span class=filename>/dev/ufs</span>, welke toegevoegd kan worden aan het <span class=filename>/etc/fstab</span> bestand:</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/ufs/home	/home            ufs     rw              2      2</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Het bestandssysteem mag niet aangekoppeld zijn op het moment dat <code>tunefs</code> gebruikt wordt.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Nu kan het bestandssysteem net als normaal worden gekoppeld:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /home</span></code></pre></div></div><div class=paragraph><p>Vanaf dit moment is het mogelijk om, zolang de <span class=filename>geom_label.ko</span> geladen wordt tijdens het opstarten van het systeem, of als deze is meegecompileerd door middel van de <code>GEOM_LABEL</code> optie in de kernel, het apparaatknooppunt te wijzigen zonder ernstige gevolgen voor het systeem.</p></div><div class=paragraph><p>Bestandssystemen kunnen ook een standaard label mee krijgen door gebruik te maken van de <code>-L</code> optie met het <code>newfs</code> commando. Zie de <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> handleiding voor meer informatie.</p></div><div class=paragraph><p>Het volgende commando kan worden gebruikt om een label te verwijderen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># glabel destroy home</span></code></pre></div></div><div class=paragraph><p>Het volgende voorbeeld laat zien hoe de partities van een opstartschijf gelabeld worden.</p></div><div class=exampleblock><div class=title>Voorbeeld 1. Partities op de opstartschijf labelen</div><div class=content><div class=paragraph><p>Door de partities op de opstartschijf permanent te labelen zou het systeem in staat moeten zijn om normaal door te gaan met opstarten, zelfs als de schijf verplaatst is naar een andere controller of is overgeplaatst naar een ander systeem. In dit voorbeeld wordt aangenomen dat er een enkele ATA-schijf wordt gebruikt, die momenteel als <span class=filename>ad0</span> door het systeem wordt herkend. Het wordt ook aangenomen dat het standaard partitieschema van FreeBSD wordt gebruikt, met de bestandssystemen <span class=filename>/</span>, <span class=filename>/var</span>, <span class=filename>/usr</span>, en <span class=filename>/tmp</span>, alsmede een wisselpartitie.</p></div><div class=paragraph><p>Start het systeem opnieuw op, en druk bij de <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a>-prompt op 4 om in enkele gebruikersmodus op te starten. Geef dan de volgende commando’s:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># glabel label rootfs /dev/ad0s1a</span>
GEOM_LABEL: Label <span class=k>for </span>provider /dev/ad0s1a is label/rootfs
<span class=c># glabel label var /dev/ad0s1d</span>
GEOM_LABEL: Label <span class=k>for </span>provider /dev/ad0s1d is label/var
<span class=c># glabel label usr /dev/ad0s1f</span>
GEOM_LABEL: Label <span class=k>for </span>provider /dev/ad0s1f is label/usr
<span class=c># glabel label tmp /dev/ad0s1e</span>
GEOM_LABEL: Label <span class=k>for </span>provider /dev/ad0s1e is label/tmp
<span class=c># glabel label swap /dev/ad0s1b</span>
GEOM_LABEL: Label <span class=k>for </span>provider /dev/ad0s1b is label/swap
<span class=c># exit</span></code></pre></div></div><div class=paragraph><p>Het systeem zal doorgaan met opstarten in meergebruikersmodus. Bewerk, nadat het opstarten is voltooid, <span class=filename>/etc/fstab</span> en vervang de conventionele namen door de respectievelijke labels. Het uiteindelijke bestand <span class=filename>/etc/fstab</span> zal er als volgt uitzien:</p></div><div class="literalblock programlisting"><div class=content><pre># Device                Mountpoint      FStype  Options         Dump    Pass#
/dev/label/swap          none            swap    sw              0       0
/dev/label/rootfs        /               ufs     rw              1       1
/dev/label/tmp           /tmp            ufs     rw              2       2
/dev/label/usr           /usr            ufs     rw              2       2
/dev/label/var           /var            ufs     rw              2       2</pre></div></div><div class=paragraph><p>Het systeem kan nu worden herstart. Als alles goed ging, zal het normaal opstarten en zal <code>mount</code> dit laten zien:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount</span>
/dev/label/rootfs on / <span class=o>(</span>ufs, <span class=nb>local</span><span class=o>)</span>
devfs on /dev <span class=o>(</span>devfs, <span class=nb>local</span><span class=o>)</span>
/dev/label/tmp on /tmp <span class=o>(</span>ufs, <span class=nb>local</span>, soft-updates<span class=o>)</span>
/dev/label/usr on /usr <span class=o>(</span>ufs, <span class=nb>local</span>, soft-updates<span class=o>)</span>
/dev/label/var on /var <span class=o>(</span>ufs, <span class=nb>local</span>, soft-updates<span class=o>)</span></code></pre></div></div></div></div><div class=paragraph><p>Beginnend met FreeBSD 7.2 ondersteunt de klasse <a href="https://man.freebsd.org/cgi/man.cgi?query=glabel&amp;sektion=8&amp;format=html">glabel(8)</a> een nieuw labeltype voor UFS-bestandssystemen, gebaseerd op het unieke id van het bestandssysteem, <code>ufsid</code>. Deze labels kunnen in de map <span class=filename>/dev/ufsid</span> gevonden worden en worden automatisch tijdens het opstarten aangemaakt. Het is mogelijk om de <code>ufsid</code>-labels te gebruiken om partities aan te koppelen door middel van de faciliteit <span class=filename>/etc/fstab</span>. Gebruik <code>glabel status</code> om een lijst van bestandssystemen en hun overeenkomende <code>ufsid</code>-labels te ontvangen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% glabel status
                  Name  Status  Components
ufsid/486b6fc38d330916     N/A  ad4s1d
ufsid/486b6fc16926168e     N/A  ad4s1f</code></pre></div></div><div class=paragraph><p>In het bovenstaande voorbeeld representeert <span class=filename>ad4s1d</span> het bestandssysteem <span class=filename>/var</span>, terwijl <span class=filename>ad4s1f</span> het bestandssysteem <span class=filename>/usr</span> representeert. Door gebruik te maken van de gegeven <code>ufsid</code>-waarden kunnen deze partities nu aangekoppeld worden met de volgende regels in <span class=filename>/etc/fstab</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/ufsid/486b6fc38d330916	/var	ufs	rw	2	2
/dev/ufsid/486b6fc16926168e	/usr	ufs	rw	2	2</pre></div></div><div class=paragraph><p>Elke partitie met een <code>ufsid</code>-label kan op deze manier worden aangekoppeld, waardoor het niet meer nodig is om handmatig permanente labels voor ze aan te maken, terwijl er nog steeds van de voordelen van apparaatnaam-onafhankelijk aankoppelen genoten kan worden.</p></div></div></div></div><div class=sect1><h2 id=geom-gjournal>20.8. UFS logboeken door middel van GEOM<a class=anchor href=#geom-gjournal></a></h2><div class=sectionbody><div class=paragraph><p>Met de komst van FreeBSD 7.0 komt ook de langverwachte optie van UFS logboeken. De implementatie zelf is gedaan door middel van het GEOM subsysteem, welke makkelijk geconfigureerd kan worden met behulp van de <a href="https://man.freebsd.org/cgi/man.cgi?query=gjournal&amp;sektion=8&amp;format=html">gjournal(8)</a> applicatie.</p></div><div class=paragraph><p>Wat is logboeken? Logboek mogelijkheden betekend het opslaan van bestandssysteem transacties, zoals wijzigingen die een complete schrijfactie zijn, voor er meta-data wordt toegevoegd en voor de wijzigingen op schijf worden gezet. Deze transactie log kan later opnieuw afgespeeld worden om te voorkomen dat er bestandssysteem inconsistenties voorkomen.</p></div><div class=paragraph><p>Deze methode is een extra manier om te beschermen tegen gegevensverlies en inconsistenties van het bestandssysteem. In tegenstelling tot Soft Updates, welke bijhoud welke meta-data wijzigingen er worden uitgevoerd en Snapshots, wat een beeld bestand is van het bestandssysteem, wordt er een complete log bewaard in de schijfruimte die speciaal voor deze taak is gereserveerd, en in sommige gevallen op een compleet andere schijf.</p></div><div class=paragraph><p>In tegenstelling tot andere logboek implementaties is de <code>gjournal</code> methode blok gebaseerd en niet geïmplementeerd als onderdeel van het bestandssysteem maar als uitbreiding op GEOM.</p></div><div class=paragraph><p>Om ondersteuning in te schakelen voor <code>gjournal</code>, moet de kernel over de volgende optie beschikken, welke standaard is op FreeBSD 7.X-systemen:</p></div><div class="literalblock programlisting"><div class=content><pre>options        UFS_GJOURNAL</pre></div></div><div class=paragraph><p>Indien gejournalde volumes tijdens het opstarten aangekoppeld moeten worden, moet de kernelmodule <span class=filename>geom_journal.ko</span> ook geladen zijn, door de volgende regel aan <span class=filename>/boot/loader.conf</span> toe te voegen:</p></div><div class="literalblock programlisting"><div class=content><pre>geom_journal_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Ook kan deze functie in een eigen kernel worden ingebouwd, door de volgende regel aan het kernelinstellingenbestand toe te voegen:</p></div><div class="literalblock programlisting"><div class=content><pre>options    GEOM_JOURNAL</pre></div></div><div class=paragraph><p>Het creëren van een logboek op een vrij en beschikbaar bestandssysteem kan nu gedaan worden met behulp van de volgende stappen, ervan uitgaande dat <span class=filename>da4</span> de nieuwe beschikbare SCSI schijf is:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gjournal load</span>
<span class=c># gjournal label /dev/da4</span></code></pre></div></div><div class=paragraph><p>Op dit moment zou er een <span class=filename>ad4</span> apparaatknooppunt en een <span class=filename>ad4.journal</span> apparaatknooppunt moeten zijn. Nu kan er een bestandssysteem op gezet worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -O 2 -J /dev/da4.journal</span></code></pre></div></div><div class=paragraph><p>Het hiervoor ingevoerde commando zal een UFS2 bestandssysteem met logboek ondersteuning aanmaken.</p></div><div class=paragraph><p>Koppel het apparaat op een gewenst koppelpunt met:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/da4.journal /mnt</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In het geval dat er meerdere slices zijn, zal er een logboek voor elke slice gecreëerd worden. Bijvoorbeeld, als <span class=filename>ad4s1</span> en <span class=filename>ad4s2</span> allebei slices zijn, dan zal <code>gjournal</code> een <span class=filename>ad4s1.journal</span> en een <span class=filename>ad4s2.journal</span> creëeren.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Voor performance doeleinden is het gewenst om het logboek op een andere schijf te bewaren. Voor deze gevallen moet de logboekleverancier of het opslagapparaat gespecificeerd worden achter het apparaat waarop de logboek functionaliteit aangebracht moet worden. De logboekfunctionaliteit kan ook worden ingeschakeld op een reeds bestaand systeem met behulp van <code>tunefs</code>. Maak echter altijd een back-up voor dat dit soort dingen uitgeprobeerd worden. In de meeste gevallen zal <code>gjournal</code> falen als het geen actueel logboek kan maken, maar het voorkomt geen dataverlies als gevolg van verkeerd gebruik van <code>tunefs</code>.</p></div><div class=paragraph><p>Het is ook mogelijk om een journal van de opstartschijf van een FreeBSD-systeem bij te houden. Voor gedetailleerde instructies over deze taak wordt naar het artikel <a href=https://docs.freebsd.org/en/articles/gjournal-desktop/>Implementing UFS Journaling on a Desktop PC</a> verwezen.</p></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 9 maart 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/nl/books/handbook/disks class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/nl/books/handbook/filesystems class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#geom-synopsis>20.1. Overzicht</a></li><li><a href=#GEOM-intro>20.2. GEOM inleiding</a></li><li><a href=#GEOM-striping>20.3. RAID0 - aaneengeschakeld</a></li><li><a href=#GEOM-mirror>20.4. RAID1 - spiegelen</a></li><li><a href=#GEOM-raid3>20.5. RAID3 - Striping op byte-niveau met toegewijde pariteit</a></li><li><a href=#geom-ggate>20.6. GEOM Gate netwerk apparaten</a></li><li><a href=#geom-glabels>20.7. Het labelen van schijven</a></li><li><a href=#geom-gjournal>20.8. UFS logboeken door middel van GEOM</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/nl/books/handbook/handbook_nl.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/nl/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/nl/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>Dutch</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/nl class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/nl/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>