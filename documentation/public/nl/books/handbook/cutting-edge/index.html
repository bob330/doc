<!doctype html><html class=theme-light lang=nl><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/><title>Hoofdstuk 24. FreeBSD updaten en upgraden | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Hoofdstuk 24. FreeBSD updaten en upgraden"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="nl"><meta property="og:url" content="http://172.16.201.134:1313/nl/books/handbook/cutting-edge/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/nl\/books\/handbook\/cutting-edge\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/nl>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/nl/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/nl/books>Books</a></li><li><a href=http://172.16.201.134:1313/nl/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/nl/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=nl>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/preface/>Voorwoord</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/preface/#preface-audience>Bedoeld publiek</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/preface/#preface-changes-from3>Wijzigingen ten opzichte van de derde editie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/preface/#preface-changes-from2>Wijzigingen ten opzichte van de tweede editie (2004)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/preface/#preface-changes>Veranderingen ten opzichte van de eerste editie (2001)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/preface/#preface-overview>De opbouw van dit boek</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/preface/#preface-conv>Overeenkomsten in dit boek</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/preface/#preface-acknowledgements>Dankwoorden</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/parti/>Deel I. Beginnen</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/introduction/>Hoofdstuk 1. Introductie</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/introduction/#introduction-synopsis>1.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/introduction/#nutshell>1.2. Welkom bij FreeBSD!</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/introduction/#history>1.3. Over het FreeBSD Project</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/install/>Hoofdstuk 2. FreeBSD installeren op FreeBSD 8.X en eerder</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-synopsis>2.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-hardware>2.2. Hardware-eisen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-pre>2.3. Voorbereidende taken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-start>2.4. Beginnen met de installatie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#using-sysinstall>2.5. Inleiding Sysinstall</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-steps>2.6. Schijfruimte toewijzen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-choosing>2.7. Wat installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-media>2.8. Installatiemedia kiezen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-final-warning>2.9. De installatie bevestigen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-post>2.10. Instellingen na de installatie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-trouble>2.11. Problemen oplossen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-advanced>2.12. Installeren voor gevorderden</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/install/#install-diff-media>2.13. Aangepaste installatiemedia maken</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/bsdinstall/>Hoofdstuk 3. FreeBSD 9.X en nieuwer installeren</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/bsdinstall/#bsdinstall-synopsis>33.1. Overzicht</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/basics/>Hoofdstuk 4. UNIX® beginselen</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#basics-synopsis>4.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#consoles>4.2. Virtuele consoles en terminals</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#permissions>4.3. Rechten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#dirstructure>4.4. Mappenstructuur</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#disk-organization>4.5. Organisatie van schijven</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#mount-unmount>4.6. Het koppelen en ontkoppelen van bestandssystemen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#basics-processes>4.7. Processen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#basics-daemons>4.8. Daemons, signalen en het stoppen van processen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#shells>4.9. Shells</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#editors>4.10. Teksteditors</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#basics-devices>4.11. Apparaten en apparaatnodes</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#binary-formats>4.12. Binaire formaten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/basics/#basics-more-information>4.13. Meer informatie</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/ports/>Hoofdstuk 5. Applicaties installeren: pakketten en ports</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/ports/#ports-synopsis>5.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ports/#ports-overview>5.2. Overzicht van softwareinstallatie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ports/#ports-finding-applications>5.3. Applicaties zoeken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ports/#packages-using>5.4. Het pakkettensysteem gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ports/#ports-using>5.5. De Portscollectie gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ports/#ports-nextsteps>5.6. Activiteiten na het installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ports/#ports-broken>5.7. Omgaan met kapotte ports</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/x11/>Hoofdstuk 6. Het X Window systeem</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/x11/#x11-synopsis>6.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/x11/#x-understanding>6.2. X begrijpen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/x11/#x-install>6.3. X11 installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/x11/#x-config>6.4. X11 instellen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/x11/#x-fonts>6.5. Lettertypen gebruiken in X11</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/x11/#x-xdm>6.6. De X beeldschermmanager</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/x11/#x11-wm>6.7. Bureaubladomgevingen</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/partii/>Deel II. Algemene taken</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/desktop/>Hoofdstuk 7. Bureaubladapplicaties</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/desktop/#desktop-synopsis>7.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/desktop/#desktop-browsers>7.2. Browsers</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/desktop/#desktop-productivity>7.3. Productiviteit</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/desktop/#desktop-viewers>7.4. Documentviewers</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/desktop/#desktop-finance>7.5. Financiën</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/desktop/#desktop-summary>7.6. Samenvatting</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/>Hoofdstuk 8. Multimedia</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/#multimedia-synopsis>8.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/#sound-setup>8.2. Geluidskaart installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/#sound-mp3>8.3. MP3 audio</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/#video-playback>8.4. Video afspelen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/#tvcard>8.5. TV-kaarten installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/#mythtv>8.6. MythTV</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/multimedia/#scanners>8.7. Scanners</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/>Hoofdstuk 9. De FreeBSD-kernel instellen</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/#kernelconfig-synopsis>9.1. Samenvatting</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/#kernelconfig-custom-kernel>9.2. Redenen om een aangepaste kernel te bouwen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/#kernelconfig-devices>9.3. De systeemhardware vinden</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/#kernelconfig-modules>9.4. Kernel stuurprogramma’s, subsystemen, en modules</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/#kernelconfig-building>9.5. Bouwen en installeren van een aangepaste kernel</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/#kernelconfig-config>9.6. Het instellingenbestand</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/kernelconfig/#kernelconfig-trouble>9.7. Problemen oplossen</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/printing/>Hoofdstuk 10. Afdrukken</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/printing/#printing-synopsis>10.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/printing/#printing-intro-spooler>10.2. Inleiding</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/printing/#printing-intro-setup>10.3. Standaardinstallatie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/printing/#printing-advanced>10.4. Geavanceerde printerinstallatie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/printing/#printing-using>10.5. Printers gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/printing/#printing-lpd-alternatives>10.6. Alternatieven voor het standaard wachtrijsysteem</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/printing/#printing-troubleshooting>10.7. Problemen oplossen</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/>Hoofdstuk 11. Linux® binaire compatibiliteit</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/#linuxemu-synopsis>11.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/#linuxemu-lbc-install>11.2. Installatie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/#linuxemu-mathematica>11.3. Mathematica® installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/#linuxemu-maple>11.4. Maple™ installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/#linuxemu-matlab>11.5. MATLAB® installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/#linuxemu-oracle>11.6. Oracle® installeren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/linuxemu/#linuxemu-advanced>11.7. Gevorderde onderwerpen</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/partiii/>Deel III. Systeembeheer</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/config/>Hoofdstuk 12. Instellingen en optimalisatie</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#config-synopsis>12.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-initial>12.2. Initiële instellingen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-core-configuration>12.3. Hoofdinstellingen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-appconfig>12.4. Toepassingen instellen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-starting-services>12.5. Diensten starten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-cron>12.6. <code>cron</code> instellen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-rcd>12.7. Gebruik van rc met FreeBSD</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#config-network-setup>12.8. Netwerkkaarten instellen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-virtual-hosts>12.9. Virtuele hosts</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-syslog>12.10. De systeemlogger syslogd configureren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-configfiles>12.11. Instellingenbestanden</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-sysctl>12.12. Optimaliseren met sysctl</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-disk>12.13. Harde schijven optimaliseren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#configtuning-kernel-limits>12.14. Fijnafstemming van kernellimieten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#adding-swap-space>12.15. Wisselbestandruimte toevoegen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#acpi-overview>12.16. Energie- en bronnenbeheer</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/config/#ACPI-debug>12.17. FreeBSD ACPI gebruiken en debuggen</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/boot/>Hoofdstuk 13. Het FreeBSD opstartproces</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/boot/#boot-synopsis>13.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/boot/#boot-introduction>13.2. Het bootprobleem</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/boot/#boot-blocks>13.3. De bootmanager en opstartstadia</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/boot/#boot-kernel>13.4. Interactie met de kernel tijdens opstarten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/boot/#device-hints>13.5. Device hints</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/boot/#boot-init>13.6. Init: start van procesbesturing</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/boot/#boot-shutdown>13.7. Afsluitvolgorde</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/users/>Hoofdstuk 14. Gebruikers- en basisaccountbeheer</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-synopsis>14.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-introduction>14.2. Inleiding</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-superuser>14.3. Het superuser-account</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-system>14.4. Systeemaccounts</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-user>14.5. Gebruikersaccounts</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-modifying>14.6. Accounts wijzigen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-limiting>14.7. Gebruikers beperken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/users/#users-groups>14.8. Groepen</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/security/>Hoofdstuk 15. Beveiliging</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#security-synopsis>15.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#security-intro>15.2. Introductie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#securing-freebsd>15.3. FreeBSD beveiligen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#crypt>15.4. DES, Blowfish, MD5, SHA256, SHA512 en crypt</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#one-time-passwords>15.5. Eenmalige wachtwoorden</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#tcpwrappers>15.6. TCP Wrappers</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#kerberos5>15.7. Kerberos5</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#openssl>15.8. OpenSSL</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#ipsec>15.9. VPN via IPsec</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#openssh>15.10. OpenSSH</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#fs-acl>15.11. Bestandssysteem toegangscontrolelijsten (ACLs)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#security-portaudit>15.12. Monitoren van beveiligingsproblemen met andere software</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#security-advisories>15.13. FreeBSD beveiligingswaarschuwingen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/security/#security-accounting>15.14. Procesaccounting</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/jails/>Hoofdstuk 16. Jails</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/jails/#jails-synopsis>16.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/jails/#jails-terms>16.2. Termen en begrippen van jails</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/jails/#jails-intro>16.3. Introductie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/jails/#jails-build>16.4. Creeëren en controleren van jails</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/jails/#jails-tuning>16.5. Optimaliseren en administratie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/jails/#jails-application>16.6. Toepassing van jails</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/mac/>Hoofdstuk 17. Verplichte Toegangscontrole (MAC)</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-synopsis>17.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-inline-glossary>17.2. Sleuteltermen in dit hoofdstuk</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-initial>17.3. Uitleg over MAC</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-understandlabel>17.4. MAC-labels begrijpen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-planning>17.5. De beveiligingsconfiguratie plannen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-modules>17.6. Module-instellingen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-seeotheruids>17.7. MAC-module seeotheruids</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-bsdextended>17.8. MAC-module bsdextended</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-ifoff>17.9. MAC-module ifoff</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-portacl>17.10. MAC-module portacl</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-partition>17.11. MAC-module partition</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-mls>17.12. MAC-module Multi-Level Security</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-biba>17.13. MAC-module Biba</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-lomac>17.14. MAC-module LOMAC</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-implementing>17.15. Nagios in een MAC-jail</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-userlocked>17.16. Gebruikers afsluiten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mac/#mac-troubleshoot>17.17. Problemen oplossen met het MAC-raamwerk</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/audit/>Hoofdstuk 18. Security Event Auditing</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/audit/#audit-synopsis>18.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/audit/#audit-inline-glossary>18.2. Sleutelwoorden in dit hoofdstuk</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/audit/#audit-install>18.3. Installeren van audit ondersteuning.</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/audit/#audit-config>18.4. Audit Configuratie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/audit/#audit-administration>18.5. Het audit subsysteem beheren.</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/disks/>Hoofdstuk 19. Opslag</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#disks-synopsis>19.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#disks-naming>19.2. Apparaatnamen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#disks-adding>19.3. Schijven toevoegen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#raid>19.4. RAID</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#usb-disks>19.5. USB-opslagapparaten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#creating-cds>19.6. Optische media (CD’s) aanmaken en gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#creating-dvds>19.7. Optische media (DVD’s) aanmaken en gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#floppies>19.8. Diskettes aanmaken en gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#backups-tapebackups>19.9. Gegevensbanden aanmaken en gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#backups-floppybackups>19.10. Naar diskettes back-uppen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#backup-strategies>19.11. Back-up strategieën</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#backup-basics>19.12. Back-upbeginselen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#disks-virtual>19.13. Netwerk-, geheugen-, en bestandsgebaseerde bestandssystemen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#snapshots>19.14. Snapshots van bestandssystemen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#quotas>19.15. Bestandssysteemquota</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#disks-encrypting>19.16. Schijfpartities versleutelen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#swap-encrypting>19.17. Het versleutelen van de wisselbestand ruimte</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/disks/#disks-hast>19.18. Highly Available Storage (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/geom/>Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#geom-synopsis>20.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#GEOM-intro>20.2. GEOM inleiding</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#GEOM-striping>20.3. RAID0 - aaneengeschakeld</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#GEOM-mirror>20.4. RAID1 - spiegelen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#GEOM-raid3>20.5. RAID3 - Striping op byte-niveau met toegewijde pariteit</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#geom-ggate>20.6. GEOM Gate netwerk apparaten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#geom-glabels>20.7. Het labelen van schijven</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/geom/#geom-gjournal>20.8. UFS logboeken door middel van GEOM</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/filesystems/>Hoofdstuk 21. Ondersteuning van bestandssystemen</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/filesystems/#filesystems-synopsis>21.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/filesystems/#filesystems-zfs>21.2. Het Z File System (ZFS)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/filesystems/#filesystems-linux>21.3. Linux® bestandssystemen</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/virtualization/>Hoofdstuk 22. Virtualisatie</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/virtualization/#virtualization-synopsis>22.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/virtualization/#virtualization-guest>22.2. FreeBSD als een gast-besturingssysteem</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/virtualization/#virtualization-host>22.3. FreeBSD als een gastheer-besturingssysteem</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/l10n/>Hoofdstuk 23. Lokalisatie - I18N/L10N gebruiken en instellen</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/l10n/#l10n-synopsis>23.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/l10n/#l10n-basics>23.2. Beginselen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/l10n/#using-localization>23.3. Lokalisatie gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/l10n/#l10n-compiling>23.4. I18N-programma’s compileren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/l10n/#lang-setup>23.5. FreeBSD lokaliseren naar talen</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle checked>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/>Hoofdstuk 24. FreeBSD updaten en upgraden</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#updating-upgrading-synopsis>24.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>24.2. FreeBSD Update</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#updating-upgrading-portsnap>24.3. Portsnap: een updategereedschap voor de Portscollectie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#updating-upgrading-documentation>24.4. De documentatie bijwerken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#current-stable>24.5. Een ontwikkelingstak volgen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#synching>24.6. Broncode synchroniseren</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#makeworld>24.7. De "wereld" opnieuw bouwen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#make-delete-old>24.8. Het verwijderen van overbodige bestanden, directories en bibliotheken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/cutting-edge/#small-lan>24.9. Meerdere machines bijwerken</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/dtrace/>Hoofdstuk 25. DTrace</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/dtrace/#dtrace-synopsis>25.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/dtrace/#dtrace-implementation>25.2. Implementatieverschillen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/dtrace/#dtrace-enable>25.3. Ondersteuning voor DTrace aanzetten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/dtrace/#dtrace-using>25.4. DTrace gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/dtrace/#dtrace-language>25.5. De taal D</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/partiv/>Deel IV. Netwerkcommunicatie</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/serialcomms/>Hoofdstuk 26. Seriële communicatie</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/serialcomms/#serial-synopsis>26.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/serialcomms/#serial>26.2. Inleiding</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/serialcomms/#term>26.3. Terminals</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/serialcomms/#dialup>26.4. Inbeldienst</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/serialcomms/#dialout>26.5. Uitbeldienst</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/serialcomms/#serialconsole-setup>26.6. Seriële console opzetten</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/>Hoofdstuk 27. PPP en SLIP</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/#userppp>27.2. Gebruikmaken van gebruiker-PPP</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/#ppp>27.3. Kernel-PPP gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.4. Het problemen oplossen van PPP-verbindingen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/#pppoe>27.5. PPP gebruiken over Ethernet (PPPoE)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/#pppoa>27.6. Gebruik maken van PPP over ATM (PPPoA)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/ppp-and-slip/#slip>27.7. Gebruik maken van SLIP</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/mail/>Hoofdstuk 28. Elektronische mail</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-synopsis>28.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-using>28.2. Gebruik maken van elektronische mail</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#sendmail>28.3. sendmail instellen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-changingmta>28.4. De Mail Transfer Agent vervangen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-trouble>28.5. Problemen oplossen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-advanced>28.6. Geavanceerde onderwerpen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#SMTP-UUCP>28.7. SMTP met UUCP</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#outgoing-only>28.8. Instellen om alleen te versturen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#SMTP-dialup>28.9. Mail gebruiken met een inbelverbinding</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#SMTP-Auth>28.10. SMTP-authenticatie</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-agents>28.11. Mail User Agents</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-fetchmail>28.12. fetchmail gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mail/#mail-procmail>28.13. procmail gebruiken</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/>Hoofdstuk 29. Netwerkdiensten</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-servers-synopsis>29.1. Overzicht</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-inetd>29.2. De inetd"Super-Server"</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-nfs>29.3. Netwerkbestandssysteem (NFS)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-nis>29.4. Netwerkinformatiesysteem (NIS/YP)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-dhcp>29.5. Automatisch netwerk instellen (DHCP)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-dns>29.6. Domeinnaamsysteem (DNS)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-apache>29.7. Apache HTTP server</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-ftp>29.8. File Transfer Protocol (FTP)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-samba>29.9. Bestands- en printdiensten voor Microsoft® Windows® cliënten (Samba)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-ntp>29.10. Tijd synchroniseren met NTP</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/network-servers/#network-syslogd>29.11. Hosts op afstand loggen met <code>syslogd</code></a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/firewalls/>Hoofdstuk 30. Firewalls</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/firewalls/#firewalls-intro>30.1. Inleiding</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/firewalls/#firewalls-concepts>30.2. Firewallconcepten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/firewalls/#firewalls-apps>30.3. Firewallsoftware</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/firewalls/#firewalls-pf>30.4. De OpenBSD Packet Filter (PF) en ALTQ</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/firewalls/#firewalls-ipf>30.5. De IPFILTER (IPF) firewall</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/firewalls/#firewalls-ipfw>30.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/>Hoofdstuk 31. Geavanceerde netwerken</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Samenvatting</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-routing>31.2. Gateways en routes</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-wireless>31.3. Draadloze netwerken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-bluetooth>31.4. Bluetooth</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-bridging>31.5. Bridging</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-aggregation>31.6. Verbindingsaggregatie en failover</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-diskless>31.7. Schijfloos werken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-pxe-nfs>31.8. Met PXE en een NFS-root-bestandssysteem opstarten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-isdn>31.9. ISDN</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-natd>31.10. Network Address Translation</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-ipv6>31.11. IPv6</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#network-atm>31.12. Asynchronous Transfer Mode (ATM)</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/advanced-networking/#carp>31.13. Common Address Redundancy Protocol (CARP)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/partv/>Deel V. Appendix</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/>Bijlage A. FreeBSD verkrijgen</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#mirrors-cdrom>A.1. CD-ROM en DVD uitgevers</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#mirrors-ftp>A.2. FTP sites</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#mirrors-svn>A.3. Subversion-sites</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#anoncvs>A.4. Anonieme CVS</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#ctm>A.5. CTM gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#cvsup>A.6. CVSup gebruiken</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#cvs-tags>A.7. CVS labels</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/mirrors/#mirrors-rsync>A.8. rsync sites</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/>Bijlage B. Bibliografie</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-freebsd>B.1. Boeken & tijdschriften over FreeBSD</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-userguides>B.2. Voor gebruikers</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-adminguides>B.3. Voor beheerders</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-programmers>B.4. Voor programmeurs</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-osinternals>B.5. Dieper in het besturingssysteem</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-security>B.6. Over beveiliging</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-hardware>B.7. Over hardware</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-history>B.8. UNIX® geschiedenis</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/bibliography/#bibliography-journals>B.9. Tijdschriften en periodieken</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/eresources/>Bijlage C. Bronnen op Internet</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/eresources/#eresources-mail>C.1. Mailinglijsten</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/eresources/#eresources-news>C.2. Usenet-nieuwsgroepen</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/eresources/#eresources-web>C.3. World wide webservers</a></li><li><a href=http://172.16.201.134:1313/nl/books/handbook/eresources/#eresources-email>C.4. Email-adressen</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=http://172.16.201.134:1313/nl/books/handbook/pgpkeys/>Bijlage D. PGP sleutels</a><ul><li><a href=http://172.16.201.134:1313/nl/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Beambten</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Hoofdstuk 24. FreeBSD updaten en upgraden</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#updating-upgrading-synopsis>24.1. Overzicht</a></li><li><a href=#updating-upgrading-freebsdupdate>24.2. FreeBSD Update</a></li><li><a href=#updating-upgrading-portsnap>24.3. Portsnap: een updategereedschap voor de Portscollectie</a></li><li><a href=#updating-upgrading-documentation>24.4. De documentatie bijwerken</a></li><li><a href=#current-stable>24.5. Een ontwikkelingstak volgen</a></li><li><a href=#synching>24.6. Broncode synchroniseren</a></li><li><a href=#makeworld>24.7. De "wereld" opnieuw bouwen</a></li><li><a href=#make-delete-old>24.8. Het verwijderen van overbodige bestanden, directories en bibliotheken</a></li><li><a href=#small-lan>24.9. Meerdere machines bijwerken</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=updating-upgrading-synopsis>24.1. Overzicht<a class=anchor href=#updating-upgrading-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>FreeBSD wordt ontwikkeld tussen de verschillende versies in. Sommige mensen prefereren om de officieel uitgegeven versies te draaien, terwijl anderen gesynchroniseerd willen blijven met de nieuwste ontwikkelingen. Zelfs officiële uitgaven echter worden vaak bijgewerkt met veiligheids- en andere kritieke reparaties. Ongeacht de gebruikte versie biedt FreeBSD alle noodzakelijke gereedschappen om uw systeem bijgewerkt te houden, en maakt FreeBSD het upgraden tussen versies ook gemakkelijk. Dit hoofdstuk helpt om een keuze te maken of het wenselijk is het ontwikkelsysteem te volgen of één van de uitgegeven versies. De basisgereedschappen om uw systeem bijgewerkt te houden worden ook gepresenteerd.</p></div><div class=paragraph><p>Na het lezen van dit hoofdstuk weet de lezer:</p></div><div class=ulist><ul><li><p>Welke gereedschappen gebruikt kunnen worden om het systeem en de Portscollectie te updaten.</p></li><li><p>Hoe een systeem bijgewerkt kan worden met freebsd-update, CVSup, CVS of CTM;</p></li><li><p>Hoe de toestand van een geïnstalleerd systeem met een bekende maagdelijke kopie te vergelijken.</p></li><li><p>Hoe uw documentatie bijgewerkt te houden met CVSup of documentatie-ports.</p></li><li><p>De verschillen tussen de ontwikkeltakken FreeBSD-STABLE en FreeBSD-CURRENT;</p></li><li><p>Hoe een basissysteem opnieuw te compileren en te herinstalleren met <code>make buildworld</code>, enzovoort.</p></li></ul></div><div class=paragraph><p>Veronderstelde criteria:</p></div><div class=ulist><ul><li><p>Een juist ingesteld netwerk (<a href=../advanced-networking/#advanced-networking>Geavanceerd netwerken</a>);</p></li><li><p>Weten hoe software van derden te installeren (<a href=../ports/#ports>Applicaties installeren. pakketten en ports</a>).</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Door dit hoofdstuk heen wordt <code>cvsup</code> gebruikt om de broncode van FreeBSD te verkrijgen en bij te werken. Om het te gebruiken, dient u de port of het pakket voor <a class=package href=https://cgit.freebsd.org/ports/tree/net/cvsup/>net/cvsup</a> te installeren (als u niet de grafische <code>cvsup</code>-cliënt wilt installeren, kunt u de port <span class=filename>net/cvsup-without-gui</span> installeren. U kunt ervoor kiezen om dit te vervangen door <a href="https://man.freebsd.org/cgi/man.cgi?query=csup&amp;sektion=1&amp;format=html">csup(1)</a> welke onderdeel is van het basissysteem.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=updating-upgrading-freebsdupdate>24.2. FreeBSD Update<a class=anchor href=#updating-upgrading-freebsdupdate></a></h2><div class=sectionbody><div class=paragraph><p>Het toepassen van beveiligingspatches is een belangrijk onderdeel van het beheren van computersoftware, met name het besturingssysteem. Dit was voor een lange tijd geen gemakkelijk proces op FreeBSD. Er moesten patches op de broncode worden toegepast, de code moest herbouwd worden tot binairen, en daarna moesten de binairen worden geherinstalleerd.</p></div><div class=paragraph><p>Dit is niet langer het geval aangezien FreeBSD nu een gereedschap heeft dat eenvoudigweg <code>freebsd-update</code> heet. Dit gereedschap biedt twee gescheiden functies. Ten eerste voorziet het in het toepassen van binaire beveiligings- en errata-updates op het basissysteem van FreeBSD zonder de eis om te bouwen en te installeren. Ten tweede ondersteunt het gereedschap kleine en grote uitgave-upgrades.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Binaire updates zijn beschikbaar voor alle architecturen en uitgaveaankondigingen dienen gelezen te worden aangezien deze belangrijke informatie over de gewenste uitgave kunnen bevatten. De aankondigingen kunnen op de volgende koppelin bekeken worden: <a href=http://www.FreeBSD.org/releases/>http://www.FreeBSD.org/releases/</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Als er een <code>crontab</code> bestaat die de mogelijkheden van <code>freebsd-update</code> gebruikt, moet het uitgeschakeld worden voordat aan de volgende operatie wordt begonnen.</p></div><div class=sect2><h3 id=freebsdupdate-config-file>24.2.1. Het configuratiebestand<a class=anchor href=#freebsdupdate-config-file></a></h3><div class=paragraph><p>Sommige gebruikers willen het standaard configuratiebestand optimaliseren, waardoor het proces beter gecontroleerd kan worden. De opties zijn goed gedocumenteerd, maar voor de volgenden is wat extra uitleg nodig:</p></div><div class="literalblock programlisting"><div class=content><pre># Componenten van het basissysteem die bijgewerkt moeten blijven
Components src world kernel</pre></div></div><div class=paragraph><p>Deze parameter bepaalt welke delen van FreeBSD bijgewerkt blijven. Standaard wordt de broncode bijgewerkt, het hele basissysteem, en de kernel. Dezelfde componenten als tijdens de installatie zijn beschikbaar, het toevoegen van bijvoorbeeld <code>world/games</code> zou de spelpatches toepassen. Het gebruik van <code>src/bin</code> zou de broncode in <span class=filename>src/bin</span> bijgewerkt houden.</p></div><div class=paragraph><p>Het beste kan dit op de standaardwaarde blijven aangezien het veranderen hiervan om specifieke items te bevatten de gebruiker dwingt om alle items die bijgewerkt dienen te worden op te noemen. Dit kan rampzalige gevolgen hebben aangezien de broncode en de binairen asynchroon kunnen raken.</p></div><div class="literalblock programlisting"><div class=content><pre># Paden die beginnen met iets wat overeenkomt met een regel in een IgnorePaths
# statement zullen genegeerd worden.
IgnorePaths</pre></div></div><div class=paragraph><p>Voeg paden, zoals <span class=filename>/bin</span> of <span class=filename>/sbin</span> toe om deze specifieke mappen ongemoeid te laten tijdens het updateproces. Deze optie kan gebruikt worden om te voorkomen dat <code>freebsd-update</code> lokale wijzigingen overschrijft.</p></div><div class="literalblock programlisting"><div class=content><pre># Paden die beginnen met iets wat overeenkomt met een regel in een UpdateIfUnmodified
# statement zullen alleen worden bijgewerkt als de inhoud van het bestand niet is
# gewijzigd door de gebruiker (tenzij veranderingen zijn samengevoegd; zie beneden).
UpdateIfUnmodified /etc/ /var/ /root/ /.cshrc /.profile</pre></div></div><div class=paragraph><p>Werk configuratiebestanden in de aangegeven mappen alleen bij als ze niet zijn gewijzigd. Alle veranderingen die door de gebruiker zijn gemaakt maken het automatisch bijwerken van deze bestanden ongeldig. Er is een andere optie, <code>KeepModifiedMetadata</code>, die <code>freebsd-update</code> instrueert om de veranderingen tijdens het samenvoegen te bewaren.</p></div><div class="literalblock programlisting"><div class=content><pre># Wanneer naar een nieuwe uitgave van FreeBSD wordt ge-upgraded, worden lokale veranderingen van bestanden die overeenkomen met MergeChanges
# samengevoegd in de versie van de nieuwe uitgave.
MergeChanges /etc/ /var/named/etc/</pre></div></div><div class=paragraph><p>Lijst van mappen met instellingenbestanden waar <code>freebsd-update</code> moet proberen om in samen te voegen. Het proces van bestanden samenvoegen is een serie van <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>-patches die ongeveer gelijk is aan <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> met minder opties, de samenvoegingen worden ofwel geaccepteerd, of openen een tekstverwerker, of zorgen ervoor dat <code>freebsd-update</code> afbreekt. Maak in geval van twijfel een reservekopie van <span class=filename>/etc</span> en accepteer de samenvoegingen. In <a href=#mergemaster><code>mergemaster</code></a> staat meer informatie over het commando <code>mergemaster</code>.</p></div><div class="literalblock programlisting"><div class=content><pre># Map waarin de gedownloade updates en tijdelijke
bestanden
# die door een FreeBSD Update worden gebruikt worden opgeslagen.
# WorkDir /var/db/freebsd-update</pre></div></div><div class=paragraph><p>Dit is de map waarin alle patches en tijdelijke bestanden worden geplaatst. In het geval dat de gebruiker een versie-upgrade uitvoert, dient deze locatie tenminste een gigabyte aan vrije schijfruimte te hebben.</p></div><div class="literalblock programlisting"><div class=content><pre># Wanneer tussen uitgaven wordt ge-upgraded, dient de lijst van Componenten dan
# strikt gelezen te worden (StrictComponents yes) of slechts als een lijst van componenten

# die geïnstalleerd *kunnen* worden en waarvan FreeBSD Update uit dient te zoeken
# welke daadwerkelijk zijn geïnstalleerd en die te upgraden (StrictComponents no)?
# StrictComponents no</pre></div></div><div class=paragraph><p>Wanneer ingesteld op <code>yes</code>, zal <code>freebsd-update</code> aannemen dat de lijst <code>Components</code> compleet is en zal het niet proberen om wijzigingen buiten de lijst te maken. Effectief zal <code>freebsd-update</code> proberen om elk bestand bij te werken dat op de lijst <code>Components</code> staat.</p></div></div><div class=sect2><h3 id=freebsdupdate-security-patches>24.2.2. Beveiligingspatches<a class=anchor href=#freebsdupdate-security-patches></a></h3><div class=paragraph><p>Beveiligingspatches staan op een verre machine en kunnen met het volgende commando gedownload en geïnstalleerd worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update fetch</span>
<span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>Als er kernelpatches zijn toegepast moet het systeem opnieuw opgestart worden. Als alles goed is gegaan dient het systeem gepatcht te zijn en kan <code>freebsd-update</code> als een nachtelijke <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>-taak gedraaid worden. Een regel in <span class=filename>/etc/crontab</span> zou genoeg moeten zijn om deze taak te volbrengen:</p></div><div class="literalblock programlisting"><div class=content><pre>@daily                                  root    freebsd-update cron</pre></div></div><div class=paragraph><p>Deze regel verklaart dat eenmaal per dag het commando <code>freebsd-update</code> gedraaid zal worden. Op deze manier, door het argument <code>cron</code> te gebruiken, zal het gereedschap <code>freebsd-update</code> alleen kijken of er updates bestaan. Als er patches bestaan, zullen ze automatisch worden gedownload naar de plaatselijke schijf maar niet worden toegepast. Er zal een email aan de gebruiker <code>root</code> worden verstuurd zodat ze handmatig geïnstalleerd kunnen worden.</p></div><div class=paragraph><p>Als er iets misging, heeft <code>freebsd-update</code> de mogelijkheid om de laatste verzamelingen veranderingen terug te draaien met het volgende commando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update rollback</span></code></pre></div></div><div class=paragraph><p>Eenmaal voltooid, dient het systeem herstart te worden als de kernel of enige kernelmodule is gewijzigd. Dit stelt FreeBSD in staat om de nieuwe binairen in het geheugen te laden.</p></div><div class=paragraph><p>Het gereedschap <code>freebsd-update</code> kan alleen de kernel <span class=filename>GENERIC</span> automatisch bijwerken. Als een eigen kernel wordt gebruikt, moet het herbouwd en geherinstalleerd worden nadat <code>freebsd-update</code> klaar is met het installeren de rest van de updates. <code>freebsd-update</code> zal echter de kernel <span class=filename>GENERIC</span> in <span class=filename>/boot/GENERIC</span> detecteren en bijwerken (als het bestaat), zelfs als het niet de huidige (draaiende) kernel van het systeem is.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Het is een goed idee om altijd een kopie van de kernel <span class=filename>GENERIC</span> in <span class=filename>/boot/GENERIC</span> te bewaren. Het kan van pas komen bij het vaststellen van een keur aan problemen, en bij het uitvoeren van versie-upgrades met <code>freebsd-update</code> zoals beschreven in <a href=#freebsdupdate-upgrade>Grote en kleine upgrades</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Tenzij de standaardconfiguratie in <span class=filename>/etc/freebsd-update.conf</span> is gewijzigd, zal <code>freebsd-update</code> de bijgewerkte kernelbronnen samen met de rest van de updates installeren. Het herbouwen en herinstalleren van uw nieuwe eigen kernel kan daarna op de gebruikelijke manier gedaan worden.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>De updates die via <code>freebsd-update</code> verspreid worden hebben niet altijd betrekking op de kernel. Het is niet nodig om uw eigen kernel te herbouwen als de kernelbronnen niet zijn aangepast door het uitvoeren van <code>freebsd-update install</code>. <code>freebsd-update install</code> zal echter altijd het bestand <span class=filename>/usr/src/sys/conf/newvers.sh</span> bijwerken. Het huidige patchniveau (zoals aangegeven door het <code>-p</code>-nummer gerapporteerd door <code>uname -r</code>) wordt uit dit bestand gehaald. Het herbouwen van uw eigen kernel, zelfs als er niets veranderd is, stelt <a href="https://man.freebsd.org/cgi/man.cgi?query=uname&amp;sektion=1&amp;format=html">uname(1)</a> in staat om het huidige patchniveau van het systeem accuraat te rapporteren. Dit is in het bijzonder behulpzaam wanneer meerdere systemen onderhouden worden, aangezien hierdoor snel de geïnstalleerde updates op elk ervan kunnen worden nagegaan.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=freebsdupdate-upgrade>24.2.3. Grote en kleine upgrades<a class=anchor href=#freebsdupdate-upgrade></a></h3><div class=paragraph><p>Dit proces ruimt oude objectbestanden en bibliotheken op waardoor de meeste applicaties van derde partijen kapot gaan. Het wordt aangeraden dat alle geïnstalleerde poorten ofwel verwijderd en geherinstalleerd worden of later ge-upgraded worden met het hulpmiddel <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a>. De meeste gebruikers zullen willen proefdraaien met het volgende commando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -af</span></code></pre></div></div><div class=paragraph><p>Dit zorgt ervoor dat alles juist wordt geherinstalleerd. Merk op dat het instellen van de omgevingsvariabele <code>BATCH</code> op <code>yes</code> het antwoord <code>yes</code> zal geven op alle prompts tijdens dit proces, waardoor het niet nodig is om handmatig in het bouwproces in te grijpen.</p></div><div class=paragraph><p>Als een eigen kernel wordt gebruikt, is het upgradeproces iets ingewikkelder. Een kopie van de kernel <span class=filename>GENERIC</span> is nodig en dient in <span class=filename>/boot/GENERIC</span> geplaatst te worden. Als de kernel <span class=filename>GENERIC</span> niet reeds op het systeem aanwezig is, moet het met één van de volgende methoden verkregen worden:</p></div><div class=ulist><ul><li><p>Als er slechts eenmaal een eigen kernel is gebouwd, dan is de kernel in <span class=filename>/boot/kernel.old</span> eigenlijk de <span class=filename>GENERIC</span>. Hernoem deze map naar <span class=filename>/boot/GENERIC</span>.</p></li><li><p>Aannemende dat fysieke toegang tot de machine mogelijk is, kan een kopie van de kernel <span class=filename>GENERIC</span> van het CD-ROM-medium worden geïnstalleerd. Laad de installatieschijf en geef de volgende commando’s:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /cdrom</span>
<span class=c># cd /cdrom/X.Y-RELEASE/kernels</span>
<span class=c># ./install.sh GENERIC</span></code></pre></div></div><div class=paragraph><p>Vervang <span class=filename>X.Y-RELEASE</span> met de versie van de uitgave die u gebruikt. De kernel <span class=filename>GENERIC</span> zal standaard in <span class=filename>/boot/GENERIC</span> worden geïnstalleerd.</p></div></li><li><p>Als al het bovenstaande niet lukt, kan de kernel <span class=filename>GENERIC</span> herbouwd en geherinstalleerd worden vanaf de broncode:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># env DESTDIR=/boot/GENERIC make kernel</span>
<span class=c># mv /boot/GENERIC/boot/kernel/* /boot/GENERIC</span>
<span class=c># rm -rf /boot/GENERIC/boot</span></code></pre></div></div><div class=paragraph><p>Om deze kernel door <code>freebsd-update</code> als <span class=filename>GENERIC</span> te laten herkennen, mag het configuratiebestand voor <span class=filename>GENERIC</span> niet op enige wijze veranderd zijn. Het is ook aan te raden dat het zonder andere speciale opties wordt gebouwd (bij voorkeur met een leeg <span class=filename>/etc/make.conf</span>).</p></div></li></ul></div><div class=paragraph><p>Opnieuw opstarten naar de kernel <span class=filename>GENERIC</span> is in dit stadium niet nodig.</p></div><div class=paragraph><p>Updates van grote en kleine versies kunnen worden uitgevoerd door een uitgaveversie als doel aan <code>freebsd-update</code> op te geven, het volgende commando zal bijvoorbeeld updaten naar FreeBSD 8.1:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update -r 8.1-RELEASE upgrade</span></code></pre></div></div><div class=paragraph><p>Nadat het commando is ontvangen, zal <code>freebsd-update</code> het instellingenbestand en het huidige systeem evalueren in een poging om de benodigde informatie te verzamelen om het systeem te updaten. Een lijst op het scherm zal aangeven welke componenten zijn gedetecteerd en welke niet. Bijvoorbeeld:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Looking up update.FreeBSD.org mirrors... 1 mirrors found.
Fetching metadata signature <span class=k>for </span>8.0-RELEASE from update1.FreeBSD.org... <span class=k>done</span><span class=nb>.</span>
Fetching metadata index... <span class=k>done</span><span class=nb>.</span>
Inspecting system... <span class=k>done</span><span class=nb>.</span>

The following components of FreeBSD seem to be installed:
kernel/smp src/base src/bin src/contrib src/crypto src/etc src/games
src/gnu src/include src/krb5 src/lib src/libexec src/release src/rescue
src/sbin src/secure src/share src/sys src/tools src/ubin src/usbin
world/base world/info world/lib32 world/manpages

The following components of FreeBSD <span class=k>do </span>not seem to be installed:
kernel/generic world/catpages world/dict world/doc world/games
world/proflibs

Does this look reasonable <span class=o>(</span>y/n<span class=o>)</span>? y</code></pre></div></div><div class=paragraph><p>Nu zal <code>freebsd-update</code> proberen om alle bestanden die nodig zijn voor de upgrade te downloaden. In sommige gevallen kan de gebruiker worden gevraagd wat te installeren of hoe verder te gaan.</p></div><div class=paragraph><p>Wanneer een eigen kernel wordt gebruikt, zal de bovenstaande stap een waarschuwing geven die lijkt op de volgende:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>WARNING: This system is running a <span class=s2>&#34;MIJNKERNEL&#34;</span> kernel, which is not a
kernel configuration distributed as part of FreeBSD 8.0-RELEASE.
This kernel will not be updated: you MUST update the kernel manually
before running <span class=s2>&#34;/usr/sbin/freebsd-update install&#34;</span></code></pre></div></div><div class=paragraph><p>Deze waarschuwing kan op dit moment veilig worden genegeerd. De bijgewerkte kernel <span class=filename>GENERIC</span> zal als tussenliggende stap in het upgradeproces worden gebruikt.</p></div><div class=paragraph><p>Nadat alle patches zijn gedownload naar het plaatselijke systeem zullen ze worden toegepast. Dit proces kan afhankelijk van de snelheid en werklast van de machine even duren. Hierna zullen instellingenbestanden worden samengevoegd - voor dit gedeelte van het proces is enige tussenkomst van de gebruiker nodig aangezien een bestand kan worden samengevoegd of omdat er een tekstverwerker op het scherm kan verschijnen om het bestand handmatig samen te voegen. Het resultaat van elke succesvolle samenvoeging zal aan de gebruiker worden getoond naarmate het proces verder gaat. Een mislukte of genegeerde samenvoegpoging zal het proces afbreken. Het is mogelijk voor gebruikers om een reservekopie van <span class=filename>/etc</span> te maken en belangrijke bestanden, zoals <span class=filename>master.passwd</span> of <span class=filename>group</span>, later samen te voegen.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Het systeem is nog niet veranderd, al het patchen en samenvoegen gebeurt in een andere map. Wanneer alle patches succesvol zijn toegepast, alle instellingenbestanden zijn samengevoegd en het erop lijkt dat het proces soepel verloopt, dienen de veranderingen verzegeld te worden door de gebruiker.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Als dit proces eenmaal voltooid is, kan de upgrade aan de schijf toevertrouwd worden met het volgende commando.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>De kernel en kernelmodules zullen als eerste gepatcht worden. Nu moet de machine opnieuw opgestart worden. Als het systeem een eigen kernel draaide, gebruik dan het commando <a href="https://man.freebsd.org/cgi/man.cgi?query=nextboot&amp;sektion=8&amp;format=html">nextboot(8)</a> om de kernel voor de volgende keer dat opgestart wordt in te stellen op <span class=filename>/boot/GENERIC</span> (welke is bijgewerkt):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># nextboot -k GENERIC</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Voordat er met de kernel <span class=filename>GENERIC</span> wordt opgestart, dient te worden gecontroleerd dat het alle stuurprogramma’s bevat om uw systeem juist te laten opstarten (en met het netwerk te verbinden, als de machine die bijgewerkt wordt van afstand wordt benaderd). In het bijzonder, als de vorige kernel die draaide ingebouwde functionaliteit bevatte die normaalgesproken door kernelmodules wordt geleverd, zorg er dan voor dat deze modules tijdelijk in de kernel <span class=filename>GENERIC</span> worden geladen door de faciliteit <span class=filename>/boot/loader.conf</span> te gebruiken. U kunt er ook voor kiezen om niet-essentiële diensten, schijf- en netwerkkoppelingen, enzovoorts uit te zetten totdat het upgradeproces voltooid is.</p></div></td></tr></tbody></table></div><div class=paragraph><p>De machine dient nu te worden herstart met de bijgewerkte kernel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown -r now</span></code></pre></div></div><div class=paragraph><p>Als het systeem weer actief is, moet <code>freebsd-update</code> nogmaals gestart worden. De toestand van het proces is opgeslagen en dus zal <code>freebsd-update</code> niet vooraan beginnen, maar zal het alle oude gedeelde bibliotheken en objectbestanden verwijderen. Geef het volgende commando om verder te gaan op dit punt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Afhankelijk van het feit of er versienummers van bibliotheken zijn opgehoogd, kunnen er slechts twee in plaats van drie installatiefasen zijn.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Alle software van derde partijen dient nu opnieuw gebouwd en geïnstalleerd te worden. Dit is nodig omdat geïnstalleerde software van bibliotheken afhankelijk kan zijn die tijdens het upgradeproces zijn verwijderd. Het commando <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> kan gebruikt worden om dit proces te automatiseren. Dit proces kan met de volgende commando’s gestart worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -f ruby</span>
<span class=c># rm /var/db/pkg/pkgdb.db</span>
<span class=c># portupgrade -f ruby18-bdb</span>
<span class=c># rm /var/db/pkg/pkgdb.db /usr/ports/INDEX-*.db</span>
<span class=c># portupgrade -af</span></code></pre></div></div><div class=paragraph><p>Voltooi, nadat dit voltooid is, het upgradeproces met een laatste aanroep naar <code>freebsd-update</code>. Geef het volgende commando om alle losse eindjes in het upgradeproces samen te knopen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>Als de kernel <span class=filename>GENERIC</span> tijdelijk werd gebruikt, is dit het moment om een nieuwe eigen kernel op de gebruikelijke manier te bouwen en installeren.</p></div><div class=paragraph><p>Start de machine opnieuw op in de nieuwe FreeBSD-versie. Het proces is voltooid.</p></div></div><div class=sect2><h3 id=freebsdupdate-system-comparison>24.2.4. Het vergelijken van systeemtoestanden<a class=anchor href=#freebsdupdate-system-comparison></a></h3><div class=paragraph><p>Het gereedschap <code>freebsd-update</code> kan gebruikt worden om de toestand van de geïnstalleerde versie van FreeBSD met een bekende goede kopie te vergelijken. Deze optie evalueert de huidige versie van systeemgereedschappen, bibliotheken, en instellingenbestanden. Geef het volgende commando om met de vergelijking te beginnen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update IDS &gt;&gt; uitvoerbestand.ids</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Hoewel de commandonaam IDS is, is het in geen geval een vervanging voor een indringdetectiesysteem zoals <a class=package href=https://cgit.freebsd.org/ports/tree/security/snort/>security/snort</a>. Aangezien <code>freebsd-update</code> gegevens op schijf opslaat, is de mogelijkheid om te knoeien duidelijk. Hoewel deze mogelijkheid verminderd kan worden door de instelling <code>kern.securelevel</code> te gebruiken en de gegevens van <code>freebsd-update</code> op een bestandssysteem dat alleen gelezen kan worden op te slaan wanneer deze niet gebruikt worden, zou een betere oplossing zijn om het systeem met een veilige schijf te vergelijken, zoals een DVD of een veilig opgeslagen externe USB-schijf.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Het systeem zal nu geïnspecteerd worden, en er zal een lijst van hun <a href="https://man.freebsd.org/cgi/man.cgi?query=sha256&amp;sektion=1&amp;format=html">sha256(1)</a>-hashwaarden, zowel de bekende waarde in de uitgave en de huidige geïnstalleerde waarde, afgebeeld worden. Hierom wordt de uitvoer naar het bestand <span class=filename>uitvoerbestand.ids</span> gezonden. Het scrollt te snel voorbij om het met het oog te vergelijken, en het vult al snel de gehele consolebuffer op.</p></div><div class=paragraph><p>Deze regels zijn ook extreem lang, maar het uitvoerformaat kan vrij eenvoudig geparsed worden. Geef, om bijvoorbeeld een lijst van alle bestanden te krijgen die verschillen van die in de uitgave, het volgende commando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat uitvoerbestand.ids | awk &#39;{ print $1 }&#39; | more</span>
/etc/master.passwd
/etc/motd
/etc/passwd
/etc/pf.conf</code></pre></div></div><div class=paragraph><p>Deze uitvoer is afgekapt, er bestaan veel meer bestanden. Sommige van deze bestanden hebben natuurlijke veranderingen, het <span class=filename>/etc/passwd</span> is gewijzigd omdat er gebruikers aan het systeem zijn toegevoegd. In sommige gevallen kunnen er andere bestanden zijn, zoals kernelmodules, die verschillen aangezien <code>freebsd-update</code> ze ge-updated kan hebben. Voeg, om bepaalde bestanden of mappen uit te sluiten, deze toe aan de optie <code>IDSIgnorePaths</code> in <span class=filename>/etc/freebsd-update.conf</span>.</p></div><div class=paragraph><p>Dit systeem kan gebruikt worden als deel van een uitgebreide upgrademethode, afgezien van de eerder besproken versie.</p></div></div></div></div><div class=sect1><h2 id=updating-upgrading-portsnap>24.3. Portsnap: een updategereedschap voor de Portscollectie<a class=anchor href=#updating-upgrading-portsnap></a></h2><div class=sectionbody><div class=paragraph><p>Het basissysteem van FreeBSD bevat ook een gereedschap om de Portscollectie bij te werken: het hulpmiddel <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a>. Wanneer het wordt uitgevoerd, zal het een verbinding maken met een verre site, de veilige sleutel controleren, en een nieuwe kopie van de Portscollectie downloaden. De sleutel wordt gebruikt om de integriteit van alle gedownloade bestanden te controleren, om er zeker van te zijn dat ze niet tijdens het downloaden zijn gewijzigd. Geef het volgende commando om de nieuwste versie van de bestanden van de Portscollectie te downloaden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch</span>
Looking up portsnap.FreeBSD.org mirrors... 9 mirrors found.
Fetching snapshot tag from geodns-1.portsnap.freebsd.org... <span class=k>done</span><span class=nb>.</span>
Fetching snapshot metadata... <span class=k>done</span><span class=nb>.</span>
Updating from Tue May 22 02:12:15 CEST 2012 to Wed May 23 16:28:31 CEST 2012.
Fetching 3 metadata patches.. <span class=k>done</span><span class=nb>.</span>
Applying metadata patches... <span class=k>done</span><span class=nb>.</span>
Fetching 3 metadata files... <span class=k>done</span><span class=nb>.</span>
Fetching 90 patches.....10....20....30....40....50....60....70....80....90. <span class=k>done</span><span class=nb>.</span>
Applying patches... <span class=k>done</span><span class=nb>.</span>
Fetching 133 new ports or files... <span class=k>done</span>.</code></pre></div></div><div class=paragraph><p>Dit voorbeeld laat zien dat <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> verscheidene patches heeft gevonden en deze met de huidige portsgegevens heeft gecontroleerd. Het geeft ook aan dat het gereedschap eerder is gedraaid, als het voor de eerste keer was gedraaid, had het simpelweg de collectie gedownload.</p></div><div class=paragraph><p>Wanneer <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> succesvol een <code>fetch</code>-operatie afrondt, bestaan de Portscollectie en de vervolgpatches die de verificatie doorstaan hebben op het plaatselijke systeem. Gebruik de eerste keer dat <code>portsnap</code> wordt uitgevoerd <code>extract</code> om de gedownloade bestanden te installeren:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap extract</span>
/usr/ports/.cvsignore
/usr/ports/CHANGES
/usr/ports/COPYRIGHT
/usr/ports/GIDs
/usr/ports/KNOBS
/usr/ports/LEGAL
/usr/ports/MOVED
/usr/ports/Makefile
/usr/ports/Mk/bsd.apache.mk
/usr/ports/Mk/bsd.autotools.mk
/usr/ports/Mk/bsd.cmake.mk
...</code></pre></div></div><div class=paragraph><p>Om een reeds geïnstalleerde Ports Collectie te updaten kan er gebruik worden gemaakt van het commando <code>portsnap update</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap update</span></code></pre></div></div><div class=paragraph><p>Het proces is nu compleet, en applicaties kunnen met de bijgewerkte Portscollectie worden geïnstalleerd of worden bijgewerkt.</p></div><div class=paragraph><p>De bewerkingen <code>fetch</code> en <code>extract</code> of <code>update</code> kunnen achter elkaar uitgevoerd worden, zoals het volgende voorbeeld laat zien:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch update</span></code></pre></div></div><div class=paragraph><p>Dit commando zal de laatste versie van de Ports Collectie downloaden en de lokale versie bijwerken in de <span class=filename>/usr/ports</span>.</p></div></div></div><div class=sect1><h2 id=updating-upgrading-documentation>24.4. De documentatie bijwerken<a class=anchor href=#updating-upgrading-documentation></a></h2><div class=sectionbody><div class=paragraph><p>Naast het basissysteem en de Portscollectie is documentatie een integraal onderdeel van het besturingssysteem FreeBSD. Hoewel een actuele versie van de FreeBSD-documentatie altijd beschikbaar is op de <a href=http://www.freebsd.org/doc/>FreeBSD website</a>, hebben sommige gebruikers een langzame of helemaal geen permanente netwerkverbinding. Gelukkig zijn er verschillende manieren om de documentatie die bij elke uitgave wordt geleverd bij te werken door een lokale kopie van de nieuwste FreeBSD-documentatie bij te houden.</p></div><div class=sect2><h3 id=dsvn-doc>24.4.1. Subversion gebruiken om de documentatie bij te werken<a class=anchor href=#dsvn-doc></a></h3><div class=paragraph><p>De bronnen van de FreeBSD-documentatie kunnen met Subversion worden bijgewerkt. Deze sectie beschrijft:</p></div><div class=ulist><ul><li><p>Hoe de documentatiegereedschappen, de gereedschappen die nodig zijn om de FreeBSD-documentatie vanuit de broncode te herbouwen, te installeren.</p></li><li><p>Hoe een kopie van de documentatiebronnen in <span class=filename>/usr/doc</span> te downloaden door Subversion te gebruiken.</p></li><li><p>Hoe de FreeBSD-documentatie vanuit de broncode te herbouwen en onder <span class=filename>/usr/shared/doc</span> te installeren.</p></li><li><p>Sommige bouwopties die door het bouwsysteem van de documentatie ondersteund worden, i.e., de opties die slechts enkele van de verschillende vertalingen van de documentatie bouwen of de opties die een specifiek uitvoerformaat selecteren.</p></li></ul></div></div><div class=sect2><h3 id=installing-documentation-toolchain>24.4.2. Subversion en de documentatiegereedschappen installeren<a class=anchor href=#installing-documentation-toolchain></a></h3><div class=paragraph><p>Voor het herbouwen van de FreeBSD-documentatie vanuit de broncode is een aardig grote verzameling gereedschappen nodig. Deze gereedschappen zijn geen deel van het basissysteem van FreeBSD omdat ze een grote hoeveelheid schijfruimte nodig hebben en niet voor alle FreeBSD-gebruikers nuttig zijn; ze zijn alleen nuttig voor die gebruikers die actief nieuwe documentatie voor FreeBSD schrijven of regelmatig hun documentatie vanuit de broncode bijwerken.</p></div><div class=paragraph><p>Alle benodigde gereedschappen zijn beschikbaar als deel van de Portscollectie. De port <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/docproj/>textproc/docproj</a> is een meester-port die door het FreeBSD Documentatieproject is ontwikkeld om de installatie en toekomstige updates van deze gereedschappen makkelijker te maken.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Wanneer er geen PostScript®- of PDF-documentatie nodig is, kan men overwegen om in plaats hiervan de port <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/docproj-nojadetex/>textproc/docproj-nojadetex</a> te installeren. Deze versie van de documentatiegereedschappen bevat alles behalve de typesetting-engine teTeX. teTeX is een erg grote verzameling van gereedschappen, dus kan het zinvol zijn om de installatie ervan achterwege te laten als PDF-uitvoer niet echt nodig is.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Subversion wordt geïnstalleerd met de port <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/docproj/>textproc/docproj</a>.</p></div></div><div class=sect2><h3 id=updating-documentation-sources>24.4.3. De documentatiebroncode bijwerken<a class=anchor href=#updating-documentation-sources></a></h3><div class=paragraph><p>Het programma Subversion kan een schone kopie van de documentatiebroncode ophalen door het volgende te typen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># svn checkout svn://svn.FreeBSD.org/doc/head /usr/doc</span></code></pre></div></div><div class=paragraph><p>De initiële download van de documentatiebroncode kan een tijd duren. Laat het draaien totdat het voltooid is.</p></div><div class=paragraph><p>Toekomstige updates van de documentatiebroncode kunnen opgehaald worden door het volgende commando te draaien:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># svn update /usr/doc</span></code></pre></div></div><div class=paragraph><p>Nadat de broncode is uitgecheckt, wordt een alternatieve manier om de documentatie bij te werken ondersteund door <span class=filename>Makefile</span> van de map <span class=filename>/usr/doc</span> door het volgende te draaien:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make update</span></code></pre></div></div></div><div class=sect2><h3 id=updating-documentation-options>24.4.4. Instelbare opties van de documentatiebroncode<a class=anchor href=#updating-documentation-options></a></h3><div class=paragraph><p>Het bijwerk- en bouwsysteem van de FreeBSD-documentatie ondersteunt enkele opties die het proces om de documentatie alleen gedeeltelijk bij te werken, of om specifieke vertalingen te bouwen, makkelijker maken. Deze opties kunnen of als systeemwijde opties in het bestand <span class=filename>/etc/make.conf</span> worden ingesteld, of als opdrachtregelopties aan het hulpmiddel <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> worden doorgegeven.</p></div><div class=paragraph><p>De volgende opties zijn er enkelen van:</p></div><div class=dlist><dl><dt class=hdlist1><code>DOC_LANG</code></dt><dd><p>De lijst van te bouwen en te installeren talen en coderingen, bijvoorbeeld <code>en_US.ISO8859-1</code> voor alleen de Engelse documentatie.</p></dd><dt class=hdlist1><code>FORMATS</code></dt><dd><p>Een enkel formaat of een lijst van uitvoerformaten die gebouwd moeten worden. Momenteel worden <code>html</code>, <code>html-split</code>, <code>txt</code>, <code>ps</code>, <code>pdf</code>, en <code>rtf</code> ondersteund.</p></dd><dt class=hdlist1><code>DOCDIR</code></dt><dd><p>Waar de documentatie te installeren. Dit staat standaard op <span class=filename>/usr/shared/doc</span>.</p></dd></dl></div><div class=paragraph><p>Bekijk <a href="https://man.freebsd.org/cgi/man.cgi?query=make.conf&amp;sektion=5&amp;format=html">make.conf(5)</a> voor meer make-variabelen die als systeemwijde opties in FreeBSD worden ondersteund.</p></div><div class=paragraph><p>Voor meer make-variabelen die door het bouwsysteem van de FreeBSD-documentatie ondersteund worden, wordt naar het <a href=www.FreeBSD.org/books/fdp-primer>FreeBSD Documentation Project Primer for New Contributors</a> verwezen.</p></div></div><div class=sect2><h3 id=updating-installed-documentation>24.4.5. De FreeBSD-documentatie vanuit de broncode installeren<a class=anchor href=#updating-installed-documentation></a></h3><div class=paragraph><p>Wanneer er een actueel snapshot van de documentatiebroncode is opgehaald in <span class=filename>/usr/doc</span>, is alles gereed om de geïnstalleerde documentatie bij te werken.</p></div><div class=paragraph><p>Het volledig bijwerken van alle talen die in de Makefile-optie <code>DOC_LANG</code> zijn gedefinieerd kan worden gedaan door te typen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Als alleen het bijwerken van een specifieke taal gewenst is, dan kan <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> worden aangeroepen in een taalspecifieke submap van <span class=filename>/usr/doc</span>, i.e.:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc/en_US.ISO8859-1</span>
<span class=c># make update install clean</span></code></pre></div></div><div class=paragraph><p>De te installeren uitvoerformaten kunnen worden gespecificeerd door de make-variabele <code>FORMATS</code> in te stellen, i.e.:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make FORMATS=&#39;html html-split&#39; install clean</span></code></pre></div></div></div><div class=sect2><h3 id=doc-ports>24.4.6. Documentatieports gebruiken<a class=anchor href=#doc-ports></a></h3><div class=paragraph><p>In de vorige sectie werd er een methode voor het bijwerken van de FreeBSD-documentatie vanaf de broncode gepresenteerd. Het bijwerken gebaseerd op broncode is echter niet voor alle FreeBSD-systemen haalbaar of praktisch. Voor het bouwen van de documentatiebronnen zijn een redelijk grote verzameling van gereedschappen, de <em>documentatie gereedschapskist</em>, een bepaald niveau van bekendheid met Subversion en checkouts van broncode vanuit een reservoir nodig, en een aantal handmatige stappen om de uitgecheckte broncode te bouwen. In deze sectie wordt een alternatieve manier beschreven om de geïnstalleerde kopiën van de FreeBSD-documentatie bij te werken; een die de Ports Collectie gebruikt en het mogelijk maakt om:</p></div><div class=ulist><ul><li><p>Voorgebouwde versies van de documentatie te downloaden en te installeren, zonder iets lokaal te hoeven bouwen (op deze manier wordt de noodzaak voor een installatie van de gehele documentatie-gereedschapskist voorkomen).</p></li><li><p>De documentatiebronnen te bouwen en ze via het ports-raamwerk te bouwen (de stappen van het uitchecken en bouwen worden iets eenvoudiger gemaakt).</p></li></ul></div><div class=paragraph><p>Deze twee methoden om de FreeBSD-documentatie bij te werken worden ondersteund door een verzameling van <em>documentatie-ports</em> die maandelijks door het Documentatie Engineering Team &lt;<a href=mailto:doceng@FreeBSD.org>doceng@FreeBSD.org</a>> worden bijgewerkt. Deze zijn vermeld in de FreeBSD Ports Collectie onder de virtuele categorie <a href=http://www.freshports.org/docs/>docs</a>.</p></div><div class=sect3><h4 id=doc-ports-install-make>24.4.6.1. Documentatie-ports bouwen en installeren<a class=anchor href=#doc-ports-install-make></a></h4><div class=paragraph><p>De documentatie-ports gebruiken het bouwraamwerk van de ports om het bouwen van documentatie eenvoudiger te maken. Ze automatiseren het proces van het uitchecken van de broncode van de documentatie, het draaien van <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> met de juiste omgevingsinstellingen en opdrachtregelopties, en ze maken de installatie of deïnstallatie van documentatie net zo eenvoudig als de installatie van elke andere FreeBSD-port of -pakket.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Als een extra eigenschap registreren de documentatie-ports, wanneer ze lokaal zijn gebouwd, een afhankelijkheid naar de ports van de <em>documentatie-gereedschapskist</em>, zodat de laatste ook automatisch is geïnstalleerd.</p></div></td></tr></tbody></table></div><div class=paragraph><p>De organisatie van de documentatie-ports is als volgt:</p></div><div class=ulist><ul><li><p>Er is een "meester-port", <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-en/>misc/freebsd-doc-en</a>, waar de bestanden van de documentatie-ports gevonden kunnen worden. Het is de basis van alle documentatie-ports. Standaard bouwt het alleen de Engelstalige documentatie.</p></li><li><p>Er is een "alles-in-één port", <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-all/>misc/freebsd-doc-all</a>, en het bouwt en installeert alle documentatie in alle beschikbare talen.</p></li><li><p>Ten slotte is er een "slaaf-port" voor elke vertaling, bijvoorbeeld <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-hu/>misc/freebsd-doc-hu</a> voor de documenten in het Hongaars. Ze zijn allemaal afhankelijk van de meester-port en installeren de vertaalde documentatie van de respectievelijke taal.</p></li></ul></div><div class=paragraph><p>Gebruik de volgende commando’s (als <code>root</code>) om een documentatieport vanaf de broncode te installeren:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/misc/freebsd-doc-en</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Dit zal de Engelstalige documentatie in gesplitst HTML-formaat (hetzelfde als dat op <a href=http://www.FreeBSD.org>http://www.FreeBSD.org</a> wordt gebruikt) in de map <span class=filename>/usr/local/shared/doc/freebsd</span> bouwen en installeren.</p></div><div class=sect4><h5 id=doc-ports-options>24.4.6.1.1. Algemene knoppen en opties<a class=anchor href=#doc-ports-options></a></h5><div class=paragraph><p>Er zijn vele opties om het standaardgedrag van de documentatie-ports aan te passen. Het volgende is slechts een korte lijst:</p></div><div class=dlist><dl><dt class=hdlist1><code>WITH_HTML</code></dt><dd><p>Staat bouwen van het HTML-formaat toe: een enkel HTML-bestand per document. De opgemaakte documentatie wordt naar gelang in een bestand genaamd <span class=filename>article.html</span>, of <span class=filename>book.html</span>, met afbeeldingen opgeslagen.</p></dd><dt class=hdlist1><code>WITH_PDF</code></dt><dd><p>Staat bouwen van het Adobe® Portable Document Format toe, te gebruiken met Adobe® Acrobat Reader®, Ghostscript, of andere PDF-lezers. De opgemaakte documentatie wordt naar gelang opgeslagen in een bestand genaamd <span class=filename>article.pdf</span> of <span class=filename>book.pdf</span> opgeslagen.</p></dd><dt class=hdlist1><code>DOCBASE</code></dt><dd><p>Waar de documentatie te installeren. Standaard is dit <span class=filename>/usr/local/shared/doc/freebsd</span>.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Merk op dat de standaard doelmap afwijkt van de map die door de Subversion-methode wordt gebruikt. Dit komt omdat er een port wordt geïnstalleerd, en ports worden normaliter onder de map <span class=filename>/usr/local</span> geïnstalleerd. Dit kan veranderd worden door de variabele <code>PREFIX</code> toe te voegen.</p></div></td></tr></tbody></table></div></dd></dl></div><div class=paragraph><p>Hier is een kort voorbeeld over hoe de bovengenoemde variabelen te gebruiken om de Hongaarse documentatie in Portable Document Format te installeren:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/misc/freebsd-doc-hu</span>
<span class=c># make -DWITH_PDF DOCBASE=share/doc/freebsd/hu install clean</span></code></pre></div></div></div></div><div class=sect3><h4 id=doc-ports-install-package>24.4.6.2. Documentatiepakketten gebruiken<a class=anchor href=#doc-ports-install-package></a></h4><div class=paragraph><p>Voor het bouwen van de documentatie-ports vanaf broncode, zoals beschreven in de vorige sectie, is een lokale installatie van de documentatie-gereedschapskist en wat schijfruimte voor het bouwen van de ports nodig. Wanneer de bronnen voor het installeren van de documentatie-gereedschapskist niet aanwezig zijn, of wanneer het bouwen vanaf broncode te veel schijfruimte in beslag neemt, is het nog steeds mogelijk om de vooraf gebouwde versies van de documentatie-ports te installeren.</p></div><div class=paragraph><p>Het Documentatie Engineering Team &lt;<a href=mailto:doceng@FreeBSD.org>doceng@FreeBSD.org</a>> bereidt maandelijkse versies van de FreeBSD documentatiepakketten voor. Deze binaire pakketten kunnen met elk van de meegeleverde pakketgereedschappen, zoals <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a>, enzovoorts gebruikt worden.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Wanneer binaire pakketten worden gebruikt, zal de FreeBSD documentatie in <em>alle</em> beschikbare formaten voor de gegeven taal geïnstalleerd worden.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Het volgende commando bijvoorbeeld zal het nieuwste vooraf gebouwde pakket van de Hongaarse documentatie installeren:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r hu-freebsd-doc</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Pakketten hebben het volgende naamformaat welke afwijkt van de naam van de overeenkomstige port: <code>taal-freebsd-doc</code>. Hier is <em>taal</em> het korte formaat van de taalcode, i.e., <code>hu</code> voor Hongaars, of <code>zh_cn</code> voor Vereenvoudigd Chinees.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=doc-ports-update>24.4.6.3. Documentatieports bijwerken<a class=anchor href=#doc-ports-update></a></h4><div class=paragraph><p>Voor het bijwerken van een eerder geïnstalleerde documentatieport is elk gereedschap voor het bijwerken van ports geschikt. Het volgende commando bijvoorbeeld werkt de geïnstalleerde Hongaarse documentatie bij via het gereedschap <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> door alleen pakketten te gebruiken:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -PP hu-freebsd-doc</span></code></pre></div></div></div></div></div></div><div class=sect1><h2 id=current-stable>24.5. Een ontwikkelingstak volgen<a class=anchor href=#current-stable></a></h2><div class=sectionbody><div class=paragraph><p>Er zijn twee ontwikkeltakken voor FreeBSD: FreeBSD-CURRENT en FreeBSD-STABLE. Deze sectie licht beiden toe en beschrijft hoe een systeem bijgewerkt te houden met elke tak. FreeBSD-CURRENT wordt eerst behandeld, daarna FreeBSD-STABLE.</p></div><div class=sect2><h3 id=current>24.5.1. Bijblijven met FreeBSD<a class=anchor href=#current></a></h3><div class=paragraph><p>Bedenk dat FreeBSD-CURRENT het "nieuwste van het nieuwste" is van FreeBSD ontwikkeling. Van FreeBSD-CURRENT gebruikers wordt verwacht dat ze veel technische kennis hebben en capabel zijn om zelfstandig lastige systeemproblemen op te lossen. Nieuwe gebruikers van FreeBSD kunnen het beste twee keer nadenken alvorens het te installeren.</p></div><div class=sect3><h4 id=_wat_is_freebsd_current>24.5.1.1. Wat is FreeBSD-CURRENT?<a class=anchor href=#_wat_is_freebsd_current></a></h4><div class=paragraph><p>FreeBSD-CURRENT is de laatste werkende set broncode voor FreeBSD. Dit bevat werk in uitvoering, experimentele wijzigingen en overgangsmechanismes die mogelijk wel of niet meegenomen worden in de volgende officiële uitgave van het besturingssysteem. Alhoewel veel FreeBSD-ontwikkelaars de broncode van FreeBSD-CURRENT dagelijks compileren, zijn er periodes dat de broncode niet compileerbaar is. Deze problemen worden zo snel mogelijk gerepareerd, maar het is mogelijk dat FreeBSD-CURRENT een ramp veroorzaakt in plaats van dat het de gewenste functionaliteit levert. Dit ligt geheel aan het moment waarop de broncode is opgehaald.</p></div></div><div class=sect3><h4 id=_wie_heeft_freebsd_current_nodig>24.5.1.2. Wie heeft FreeBSD-CURRENT nodig?<a class=anchor href=#_wie_heeft_freebsd_current_nodig></a></h4><div class=paragraph><p>FreeBSD-CURRENT is beschikbaar voor drie primaire aandachtsgroepen:</p></div><div class="olist arabic"><ol class=arabic><li><p>Leden van de FreeBSD-gemeenschap die actief werken aan een deel van de broncode voor wie "current" een echte eis is.</p></li><li><p>Leden van de FreeBSD-gemeenschap die actief testen en tijd hebben om problemen op te lossen om zeker te stellen dat FreeBSD-CURRENT zo gezond als mogelijk is. Er zijn ook mensen die actuele suggesties maken over wijzigingen en de algemene richting van FreeBSD en die patches opsturen om deze te implementeren.</p></li><li><p>Diegenen die alleen een oogje in het zeil willen houden of de huidige bronnen gebruiken ter referentie (bijvoorbeeld voor het <em>lezen</em> en niet het draaien). Deze mensen geven ook regelmatig commentaar of dragen bij in de code.</p></li></ol></div></div><div class=sect3><h4 id=_wat_is_freebsd_current_niet>24.5.1.3. Wat is FreeBSD-CURRENT <em>niet</em>?<a class=anchor href=#_wat_is_freebsd_current_niet></a></h4><div class="olist arabic"><ol class=arabic><li><p>Een snelle manier om pre-release versies te krijgen omdat bekend is dat er een aantal leuke nieuwe mogelijkheden in zitten en het leuk is deze als eerste te gebruiken. Het als eerste gebruiken van nieuwe mogelijkheden betekent ook de eerste zijn die nieuwe bugs ontdekt.</p></li><li><p>Een snelle manier om bugfixes te krijgen. Elke willekeurige versie van FreeBSD-CURRENT heeft waarschijnlijk net zoveel nieuwe bugs als dat er bugs opgelost zijn.</p></li><li><p>Op welke manier dan ook "officieel ondersteund". We doen onze best om mensen echt te helpen in één van de drie "legitieme" FreeBSD-CURRENT groepen maar er is simpelweg <em>niet genoeg tijd</em> om technische ondersteuning te leveren. Dit is niet omdat we gemene en vervelende mensen zijn die anderen niet willen helpen (we zouden niet eens aan FreeBSD werken als we dat durfden). De ontwikkelaars kunnen simpelweg geen honderd berichten per dag beantwoorden <em>én</em> aan FreeBSD werken. Bij de keuze tussen het verbeteren van FreeBSD en vragen beantwoorden over experimentele code, kiezen ontwikkelaars voor het eerste.</p></li></ol></div></div><div class=sect3><h4 id=_freebsd_current_gebruiken>24.5.1.4. FreeBSD-CURRENT gebruiken<a class=anchor href=#_freebsd_current_gebruiken></a></h4><div class="olist arabic"><ol class=arabic><li><p>Neem een abonnement op de mailinglijsten <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT mailinglijst</a> en <a href=https://lists.FreeBSD.org/subscription/svn-src-head>SVN-commitberichten voor de src-structuur voor head/-current</a>. Dit is niet alleen een goed idee, het is <em>essentieel</em>. Geen berichten ontvangen van de lijst <em><a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT mailinglijst</a></em> betekent geen commentaar zien dat mensen maken over de huidige staat van het systeem en dus waarschijnlijk struikelen over problemen die anderen al gevonden en opgelost hebben. Nog belangrijker is het missen van belangrijke informatie die kritisch kan zijn voor een systeem.</p><div class=paragraph><p>De lijst <a href=https://lists.FreeBSD.org/subscription/svn-src-head>SVN-commitberichten voor de src-structuur voor head/-current</a> biedt de mogelijkheid de wijzigingsboodschap te zien voor elke wijziging die gemaakt wordt, samen met relevante informatie over mogelijke bijwerkingen.</p></div><div class=paragraph><p>Ga om op deze lijsten of één van de andere beschikbare lijsten te abonneren naar <a href=https://lists.freebsd.org class=bare>https://lists.freebsd.org</a> en klik op de gewenste lijst. Instructies over de rest van de procedure zijn daar beschikbaar. Als u geïnteresseerd bent in het volgen van veranderingen voor de gehele broncodeboom, raden wij u aan een abonnement te nemen op de lijst <a href=https://lists.FreeBSD.org/subscription/svn-src-all>SVN-commitberichten voor de gehele src-structuur (behalve voor "user" en "projects")</a>.</p></div></li><li><p>Haal de broncode van een FreeBSD <a href=../mirrors/#mirrors>mirrorsite</a>. Dit kan op de volgende twee manieren:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Gebruik het programma <a href=../mirrors/#cvsup>cvsup</a> met de <span class=filename>supfile</span> genaamd <span class=filename>standard-supfile</span> uit <span class=filename>/usr/shared/examples/cvsup</span>. Dit is de geadviseerde methode, omdat de gehele collectie in één keer wordt binnengehaald en daarna alleen hetgeen wat gewijzigd is. Veel mensen draaien <code>cvsup</code> vanuit de <code>cron</code> en houden daarmee hun broncode automatisch bijgewerkt. De voorbeeld <span class=filename>supfile</span> dient aangepast te worden om <a href=../mirrors/#cvsup>cvsup</a> in te stellen voor uw omgeving.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Het voorbeeld <span class=filename>standard-supfile</span> is bedoeld om een specifieke beveiligingstak van FreeBSD te volgen, niet FreeBSD-CURRENT. U moet dit bestand bewerken en de volgende regel vervangen:</p></div><div class="literalblock programlisting"><div class=content><pre>*default release=cvs tag=RELENG_X_Y</pre></div></div><div class=paragraph><p>door deze:</p></div><div class="literalblock programlisting"><div class=content><pre>*default release=cvs tag=.</pre></div></div><div class=paragraph><p>Voor een gedetailleerde uitleg over bruikbare tags wordt naar de sectie <a href=../mirrors/#cvs-tags>CVS Tags</a> van het Handboek verwezen.</p></div></td></tr></tbody></table></div></li><li><p>Gebruik de faciliteit CTM. Bij een "slechte verbinding", dure connecties of alleen e-mail toegang, is CTM een optie. Het werkt echter lastig en geeft mogelijk corrupte bestanden. Dit zorgt ervoor dat het zelden gebruikt wordt, dat de kans verhoogt dat het niet werkt voor redelijk lange periodes. Het advies is CVSup te gebruiken.</p></li></ol></div></li><li><p>Als de broncode wordt opgehaald om te draaien en niet alleen om naar te kijken, haal dan <em>alles</em> op van FreeBSD-CURRENT en niet alleen geselecteerde delen. De reden hiervoor is dat verschillende delen van de code afhangen van updates op andere plekken en het compileren van een onderdeel gegarandeerd problemen oplevert.</p><div class=paragraph><p>Voordat FreeBSD-CURRENT gecompileerd wordt is het raadzaam om de <span class=filename>Makefile</span> in <span class=filename>/usr/src</span> aandachtig te bekijken. Het is handig om de eerste keer op zijn minst <a href=#makeworld>de kernel en de "wereld" opnieuw te bouwen</a> als onderdeel van het updateproces. Via de <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT mailinglijst</a> en <span class=filename>/usr/src/UPDATING</span> is het mogelijk op de hoogte te blijven van mogelijke wijzigingen in de opstartprocedures die soms nodig zijn tussen verschillende versies.</p></div></li><li><p>Wees actief! Ervaringen van FreeBSD-CURRENT-gebruikers zijn belangrijk, zeker als het gaat om suggesties voor verbeteringen of bugfixes. Suggesties met bijbehorende code worden enthousiast ontvangen!</p></li></ol></div></div></div><div class=sect2><h3 id=stable>24.5.2. FreeBSD stabiel houden<a class=anchor href=#stable></a></h3><div class=sect3><h4 id=_wat_is_freebsd_stable>24.5.2.1. Wat is FreeBSD-STABLE?<a class=anchor href=#_wat_is_freebsd_stable></a></h4><div class=paragraph><p>FreeBSD-STABLE is de ontwikkeltak waaruit grote releases gemaakt worden. Wijzigingen in deze tak gaan in een ander tempo en met de algemene aanname dat ze eerst in FreeBSD-CURRENT worden ingebracht ter test. Dit is <em>nog steeds</em> een ontwikkeltak, echter dit betekent dat op elk gegeven moment de code voor FreeBSD-STABLE wel of niet geschikt is voor een speciaal doel. Het is simpelweg een andere ontwikkelomgeving en geen bron voor eindgebruikers.</p></div></div><div class=sect3><h4 id=_wie_heeft_freebsd_stable_nodig>24.5.2.2. Wie heeft FreeBSD-STABLE nodig?<a class=anchor href=#_wie_heeft_freebsd_stable_nodig></a></h4><div class=paragraph><p>Bij interesse in het bijhouden van of bijdragen aan het FreeBSD-ontwikkelproces, speciaal als het gerelateerd is aan de volgende versie van FreeBSD, is het volgen van FreeBSD-STABLE het overwegen waard.</p></div><div class=paragraph><p>Ondanks dat security fixes ook in de FreeBSD-STABLE-tak komen, hoeft dit <em>niet</em> per se. In elke beveiligingswaarschuwing voor FreeBSD wordt uitgelegd uit hoe het probleem opgelost kan worden voor de release die het betreft. Het volgen van de volledige ontwikkeltak alleen om veiligheidsredenen levert ongetwijfeld ongewenste wijzigingen op.</p></div><div class=paragraph><p>Ondanks het voornemen ervoor te zorgen dat de FreeBSD-STABLE-tak compileert en altijd draait, wordt dit niet gegarandeerd. Terwijl code ontwikkeld wordt in FreeBSD-CURRENT voordat die in FreeBSD-STABLE verwerkt wordt, draaien meer mensen FreeBSD-STABLE dan FreeBSD-CURRENT, dus het is onontkoombaar dat bugs en randgevallen soms in FreeBSD-STABLE gevonden worden die niet in FreeBSD-CURRENT bekend waren.</p></div><div class=paragraph><p>Om deze redenen wordt <em>niet</em> aangeraden FreeBSD-STABLE blindelings te volgen en het is extra belangrijk geen productieservers bij te werken naar FreeBSD-STABLE zonder de code te testen in een testomgeving.</p></div><div class=paragraph><p>Als de mogelijkheden om dit te doen niet beschikbaar zijn, dan is het advies de meest recente release van FreeBSD te draaien en dan de binaire update methode te hanteren om bij te werken tussen verschillende releases.</p></div></div><div class=sect3><h4 id=_freebsd_stable_gebruiken>24.5.2.3. FreeBSD-STABLE gebruiken<a class=anchor href=#_freebsd_stable_gebruiken></a></h4><div class="olist arabic"><ol class=arabic><li><p>Neem een abonnement op de lijst <a href=https://lists.FreeBSD.org/subscription/freebsd-stable>FreeBSD-STABLE; mailinglijst</a>. Deze biedt informatie over onderdelen van de build die mogelijk verschijnen in FreeBSD-STABLE of eventuele andere kwesties die speciale aandacht vereisen. Ontwikkelaars kondigen in deze mailinglijst ook aan wanneer ze overwegen om een controversiële fix of aanpassing willen maken, waardoor de gebruikers een kans hebben om te reageren als ze goede redenen hebben tegen de voorgestelde wijziging.</p><div class=paragraph><p>Wordt lid van de relevante SVN-lijst voor de tak die u volgt. Als u bijvoorbeeld de tak 7-STABLE volgt, wordt u lid van de <a href=https://lists.FreeBSD.org/subscription/svn-src-stable-7>svn-src-stable-7</a> lijst. Dit stelt u in staat om het commit-log-bericht te bekijken voor elke verandering die is gemaakt, tezamen met relevante informatie over mogelijke bijwerkingen.</p></div><div class=paragraph><p>Ga om te abonneren op deze lijsten, of één van de andere beschikbare lijsten naar <a href=https://lists.freebsd.org class=bare>https://lists.freebsd.org</a> en klik op de lijst waarop een abonnement gewenst is. Instructies over de rest van de procedure zijn daar beschikbaar. Als u geïnteresseerd bent in het volgen van veranderingen voor de gehele broncodeboom, raden wij u aan een abonnement te nemen op de <a href=https://lists.FreeBSD.org/subscription/svn-src-all>SVN-commitberichten voor de gehele src-structuur (behalve voor "user" en "projects")</a> lijst.</p></div></li><li><p>Kijk op de webpagina <a href=https://www.FreeBSD.org/snapshots/>Snapshots</a> om een systeem te installeren van een maandelijkse snapshot van FreeBSD-STABLE. Het is ook mogelijk om de meest recente FreeBSD-STABLE release te installeren van de <a href=../mirrors/#mirrors>mirrorsites</a>. Volg de onderstaande instructies om een systeem bij te werken naar de meest recente FreeBSD-STABLE broncode.</p><div class=paragraph><p>Als al een vorige release van FreeBSD draait en bijgewerkt moet worden via de broncodes dan kan dat via de FreeBSD <a href=../mirrors/#mirrors>mirrorsites</a>. Dit kan op één van de twee volgende manieren:</p></div><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Gebruik het programma <a href=../mirrors/#cvsup>cvsup</a> met de <span class=filename>supfile</span> <span class=filename>stable-supfile</span> uit de map <span class=filename>/usr/shared/examples/cvsup</span>. Dit is de aanbevolen methode omdat het hiermee mogelijk is de volledige collectie te downloaden en daarna alleen hetgeen wat veranderd is. Veel mensen draaien <code>cvsup</code> vanuit de <code>cron</code> om de broncodes automatisch bij te werken. Het voorbeeld van de <span class=filename>supfile</span> dient aangepast en ingesteld te worden voor de omgeving waarin het instellingenbestand gebruikt wordt.</p></li><li><p>Gebruik CTM als er geen snelle, goedkope verbinding is met internet. Dan is dit de methode om te gebruiken.</p></li></ol></div></li><li><p>Als er snelle on-demand toegang nodig is tot de broncode en bandbreedte is geen overweging, gebruik dan <code>cvsup</code> of <code>ftp</code>. Gebruik anders CTM.</p></li><li><p>Lees alvorens FreeBSD-STABLE te compileren goed de <span class=filename>Makefile</span> in <span class=filename>/usr/src</span>. Het is handig om de eerste keer op zijn minst <a href=#makeworld>de kernel en de "wereld" opnieuw te bouwen</a> als onderdeel van het updateproces. Via de <a href=https://lists.FreeBSD.org/subscription/freebsd-stable>FreeBSD-STABLE; mailinglijst</a> en <span class=filename>/usr/src/UPDATING</span> is het mogelijk op de hoogte te blijven van mogelijke wijzigingen in de opstartprocedures die soms nodig zijn tussen verschillende releases.</p></li></ol></div></div></div></div></div><div class=sect1><h2 id=synching>24.6. Broncode synchroniseren<a class=anchor href=#synching></a></h2><div class=sectionbody><div class=paragraph><p>Er zijn verschillende manieren om een internet (of e-mail) verbinding te gebruiken om bij te blijven met elk onderdeel van de FreeBSD projectbronnen of alle onderdelen, afhankelijk van het interessegebied. De primaire diensten zijn <a href=../mirrors/#anoncvs>Anonieme CVS</a> en <a href=../mirrors/#ctm>CTM</a>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Ondanks dat het mogelijk is om alleen delen van de broncode bij te werken, is de enige ondersteunde methode de totale broncode bijwerken en zowel userland (alle programma’s die in gebruikersruimte draaien, zoals programma’s in <span class=filename>/bin</span> en <span class=filename>/sbin</span>) als de kernel opnieuw compileren. Als alleen delen van de broncode worden bijgewerkt, alleen de kernel of alleen het userland, resulteert dat vaak in problemen. Deze problemen kunnen verschillen van compileerfouten tot kernel panics of corruptie van gegevens.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Anonieme CVS en CVSup gebruiken het <em>pull</em> model om broncode bij te werken. In het geval van CVSup start de gebruiker (of een <code>cron</code> script) het programma <code>cvsup</code> waarbij het communiceert met een <code>cvsupd</code> server om bestanden bij te werken. De ontvangen updates zijn op de minuut nauwkeurig en ze komen alleen wanneer dat is ingesteld. Updates kunnen eenvoudig beperkt worden tot specifieke bestanden of mappen uit een interessegebied. Updates worden automatisch gegenereerd door een server, aan de hand van wat is ingesteld. Anonieme CVS is veel eenvoudiger dan CVSup omdat dat alleen een uitbreiding is van CVS die de mogelijkheid biedt om wijzigingen direct van een CVS repository op afstand te halen. CVSup kan dit veel efficiënter doen, maar anonieme CVS is makkelijker in het gebruik.</p></div><div class=paragraph><p>CTM aan de andere kant maakt geen vergelijking tussen de aanwezige bronnen en die op de master server. In plaats daarvan wordt een script uitgevoerd dat wijzigingen in bestanden ziet sinds de vorige keer dat is bijgewerkt en die meerdere keren per dag worden uitgevoerd op de master CTM machine. Elke ontdekte wijziging wordt gecomprimeerd, krijgt een volgnummer toegekend en wordt gecodeerd voor verzending via e-mail (in leesbare ASCII). Deze "CTM delta’s" kunnen dan aangeleverd worden aan <a href="https://man.freebsd.org/cgi/man.cgi?query=ctm_rmail&amp;sektion=1&amp;format=html">ctm_rmail(1)</a> die ze automatisch decodeert, controleert en toepast in de gebruikerskopie van de bronnen. Dit proces is veel efficiënter dan CVSup en claimt minder systeembronnen omdat het model <em>push</em> in plaats van <em>pull</em> is.</p></div><div class=paragraph><p>Er zijn andere nadelen. Als per ongeluk een deel van het archief wordt verwijderd, kan CVSup dat detecteren en het beschadigde deel repareren. CTM doet dit niet en als een deel van de broncode wordt verwijderd (en er geen back-up is), dan moet er opnieuw begonnen worden (vanaf de meest recente CVS "base delta" en moet alles opnieuw opgebouwd worden met CTM. Met Anonymous CVS kan simpelweg het slechte deel verwijderd worden alvorens weer te synchroniseren.</p></div></div></div><div class=sect1><h2 id=makeworld>24.7. De "wereld" opnieuw bouwen<a class=anchor href=#makeworld></a></h2><div class=sectionbody><div class=paragraph><p>Zodra de lokale broncode gesynchroniseerd is met een bepaalde versie van FreeBSD (FreeBSD-STABLE, FreeBSD-CURRENT, enzovoort) kan de broncode gebruikt worden om een systeem te herbouwen.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Maak een back-up</div><div class=paragraph><p>Het kan niet vaak genoeg verteld worden hoe belangrijk het is om een back-up te maken van een systeem <em>vóór</em> deze taak uit te voeren. Ook al is het opnieuw bouwen van de wereld vrij simpel (als deze instructies gevolgd worden), er worden ongetwijfeld ooit fouten gemaakt, misschien zelfs in de broncode, die het onmogelijk maken om een systeem op te starten.</p></div><div class=paragraph><p>Wees ervan verzekerd dat er een back-up gemaakt is en dat er een reparatiediskette of cd-rom bij de hand is. Deze wordt waarschijnlijk nooit gebruikt maar "better safe than sorry".</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Abonneer op de juiste mailinglijsten</div><div class=paragraph><p>De FreeBSD-STABLE en FreeBSD-CURRENT takken zijn van nature <em>in ontwikkeling</em>. Mensen die bijdragen aan FreeBSD zijn menselijk en foutjes ontstaan regelmatig.</p></div><div class=paragraph><p>Soms zijn deze foutjes onschadelijk, ze geven dan hooguit een nieuwe diagnostische waarschuwing weer. Maar de wijziging kan ook catastrofaal zijn en ervoor zorgen dat een systeem niet meer opstart of bestandssystemen vernietigt (of erger).</p></div><div class=paragraph><p>Als problemen zoals deze voorkomen wordt er een "heads up" naar de juiste mailinglijst gestuurd, waarin uitgelegd wordt wat het probleem is en welke systemen het raakt. Er wordt een "all clear" bericht gestuurd als het probleem is opgelost.</p></div><div class=paragraph><p>FreeBSD-STABLE of FreeBSD-CURRENT volgen zonder de <a href=https://lists.FreeBSD.org/subscription/freebsd-stable>FreeBSD-STABLE; mailinglijst</a> of <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT mailinglijst</a> te volgen is vragen om problemen.</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Gebruik geen <code>make world</code></div><div class=paragraph><p>Veel oudere documentatie raadt aan om <code>make world</code> te gebruiken. In dat geval worden er belangrijke stappen overgeslagen en gebruik het commando alleen als er voldoende kennis over aanwezig is. In bijna alle omstandigheden is <code>make world</code> verkeerd en de procedure die hier beschreven is hoort in plaats daarvan gebruikt te worden.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=canonical-build>24.7.1. De universele wijze om een systeem bij te werken<a class=anchor href=#canonical-build></a></h3><div class=paragraph><p>Om uw systeem bij te werken, dient u <span class=filename>/usr/src/UPDATING</span> te controleren op eventuele pre-buildworld stappen die nodig zijn voor uw versie van de broncode en daarna de procedure te gebruiken die hier beschreven staat.</p></div><div class=paragraph><p>Deze bijwerkstappen nemen aan dat u nu een oude versie van FreeBSD gebruikt, die uit een oude compiler, een oude kernel, een oude wereld en oude instellingenbestanden bestaat. Onder "wereld" worden de binairen, bibliotheken, en programmeerbestanden van het kernsysteem verstaan. De compiler is deel van "wereld", maar heeft enkele speciale aandachtspunten.</p></div><div class=paragraph><p>We nemen ook aan dat u reeds de broncode van een nieuwer systeem heeft verkregen. Bekijk, als de bronnen op een bepaald systeem ook oud zijn, <a href=#synching>Broncode synchroniseren</a> voor uitgebreide hulp over het synchroniseren ervan naar een nieuwere versie.</p></div><div class=paragraph><p>Het bijwerken van het systeem vanaf de broncode is wat subtieler dan het op het eerste gezicht lijkt, en de ontwikkelaars van FreeBSD vonden het in de loop der jaren nodig om de aangeraden methode redelijk drastisch te veranderen met het aan het licht komen van nieuwe soorten onontwijkbare afhankelijkheden. De rest van deze sectie beschrijft de rationale achter de huidige aanbevolen bijwerkmethode.</p></div><div class=paragraph><p>Elke succesvolle bijwerkmethode krijgt te maken met de volgende punten:</p></div><div class=ulist><ul><li><p>Het kan voorkomen dat de oude compiler de nieuwe kernel niet kan compileren. (Oude compilers bevatten soms bugs.) De nieuwe kernel dient dus met de nieuwe compiler gebouwd te worden. In het bijzonder moet de nieuwe compiler gebouwd worden voordat de nieuwe kernel gebouwd wordt. Dit betekent niet per se dat de nieuwe compiler <em>geïnstalleerd</em> moet worden voordat de nieuwe kernel gebouwd wordt.</p></li><li><p>De nieuwe wereld kan afhankelijk zijn van mogelijkheden van de nieuwe kernel. Dus moet de nieuwe kernel worden geïnstalleerd voordat de nieuwe wereld wordt geïnstalleerd.</p></li></ul></div><div class=paragraph><p>De eerste twee gevallen zijn de basis voor de methode <code>buildworld</code>, <code>buildkernel</code>, <code>installkernel</code>, <code>installworld</code> die we in de volgende paragrafen beschrijven. Dit is geen uitputtende lijst van alle redenen waarom het huidige aanbevolen bijwerkproces de voorkeur verdient. Wat minder voor de hand liggende redenen worden hieronder genoemd:</p></div><div class=ulist><ul><li><p>Het kan zijn dat de oude wereld niet correct draait op de nieuwe kernel, dus moet de nieuwe wereld onmiddellijk na het installeren van de nieuwe kernel geïnstalleerd worden.</p></li><li><p>Sommige instellingen moeten veranderd worden voordat de nieuwe wereld wordt geïnstalleerd, maar anderen kunnen de oude wereld kapot maken. Vandaar dat over het algemeen twee verschillende bijwerkstappen voor de instellingen nodig zijn.</p></li><li><p>Voor het grootste gedeelte houdt het bijwerkproces zich alleen bezig met het vervangen of toevoegen van bestanden; bestaande oude bestanden worden niet verwijderd. Dit kan in sommige gevallen problemen geven. Als een gevolg zal de bijwerkprocedure soms aangeven dat bepaalde bestanden tijdens bepaalde stappen handmatig verwijderd dienen te worden. Dit kan in de toekomst eventueel geautomatiseerd worden.</p></li></ul></div><div class=paragraph><p>Deze zorgen hebben tot het volgende aanbevolen bijwerkproces geleid. Merk op dat het gedetailleerde proces voor bepaalde updates aanvullende stappen nodig kan hebben, maar dit kernproces zou de komende tijd ongewijzigd moeten blijven:</p></div><div class="olist arabic"><ol class=arabic><li><p><code>make buildworld</code></p><div class=paragraph><p>Dit compileert eerst de nieuwe compiler en enkele aanverwante gereedschappen, daarna wordt de nieuwe compiler gebruikt om de rest van de nieuwe wereld te compileren. Het resultaat komt in <span class=filename>/usr/obj</span> te staan.</p></div></li><li><p><code>make buildkernel</code></p><div class=paragraph><p>In tegenstelling tot de oude aanpak, die <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a> en <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> gebruikt, gebruikt dit de <em>nieuwe</em> compiler die in <span class=filename>/usr/obj</span> verblijft. Dit beschermt u tegen mismatches tussen de compiler en de kernel.</p></div></li><li><p><code>make installkernel</code></p><div class=paragraph><p>Plaatst de nieuwe kernel en kernelmodules op de schijf, waardoor het mogelijk wordt om met de nieuw bijgewerkte kernel op te starten.</p></div></li><li><p>Start opnieuw op in enkele-gebruikersmodus.</p><div class=paragraph><p>De enkele-gebruikersmodus minimaliseert problemen met het bijwerken van software die al draait. Het minimaliseert ook problemen die opduiken door een oude wereld op een nieuwe kernel te draaien.</p></div></li><li><p><code>mergemaster -p</code></p><div class=paragraph><p>Dit voert wat initiële updates aan instellingenbestanden uit ter voorbereiding op de nieuwe wereld. Het kan bijvoorbeeld nieuwe gebruikersgroepen aan het systeem, of nieuwe gebruikersnamen aan de wachtwoorddatabase toevoegen. Dit is vaak nodig wanneer er nieuwe groepen of speciale accounts voor systeemgebruikers zijn toegevoegd sinds de laatste keer bijwerken, zodat de stap <code>installworld</code> zonder problemen de nieuw geïnstalleerde namen van systeemgebruikers of systeemgroepen kan gebruiken.</p></div></li><li><p><code>make installworld</code></p><div class=paragraph><p>Kopieert de wereld van <span class=filename>/usr/obj</span>. U heeft nu een nieuwe kernel en een nieuwe wereld op schijf staan.</p></div></li><li><p><code>mergemaster</code></p><div class=paragraph><p>Nu kunt u de overgebleven instellingenbestanden bijwerken, aangezien u een nieuwe wereld op schijf heeft staan.</p></div></li><li><p>Start opnieuw op.</p><div class=paragraph><p>Een volledige nieuwe start van de machine is nodig om de nieuwe kernel en de nieuwe wereld met nieuwe instellingenbestanden te laden.</p></div></li></ol></div><div class=paragraph><p>Merk op dat als u van de ene uitgave van dezelfde tak van FreeBSD bijwerkt naar een recentere uitgave van dezelfde tak, i.e. van 7.0 naar 7.1, dat deze procedure dan niet absoluut nodig is, aangezien het onwaarschijnlijk is dat u serieuze problemen krijgt met de compiler, kernel, gebruikersland en instellingenbestanden. De oudere aanpak met <code>make world</code> gevolgd door het bouwen en installeren van een nieuwe kernel kan voor kleine updates goed genoeg zijn.</p></div><div class=paragraph><p>Maar mensen die deze procedure niet volgen tijdens het bijwerken tussen grote uitgaven kunnen wat problemen verwachten.</p></div><div class=paragraph><p>Het is ook goed om op te merken dat veel upgrades (i.e. 4.<em>X</em> naar 5.0) wat specifieke aanvullende stappen nodig hebben (bijvoorbeeld het hernoemen of verwijderen van specifieke bestanden voorafgaand aan installworld). Lees het bestand <span class=filename>/usr/src/UPDATING</span> zorgvuldig, met name het einde, waar het huidig aangeraden bijwerkproces expliciet wordt beschreven.</p></div><div class=paragraph><p>Deze procedure is in de loop der tijd veranderd aangezien de ontwikkelaars zagen dat het onmogelijk was om bepaalde mismatch-problemen volledig te voorkomen. Hopelijk blijft de huidige procedure voor een lange tijd stabiel.</p></div><div class=paragraph><p>Samengevat is de huidige aanbevolen manier om FreeBSD vanaf broncode bij te werken:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make buildworld</span>
<span class=c># make buildkernel</span>
<span class=c># make installkernel</span>
<span class=c># shutdown -r now</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Er zijn een aantal zeldzame gevallen waarin <code>mergemaster -p</code> nog een keer moet draaien voor de stap met <code>buildworld</code>. Deze staan beschreven in <span class=filename>UPDATING</span>. In het algemeen kan deze stap echter zonder risico worden overgeslagen als er niet tussen een of meer hoofdversies wordt bijgewerkt.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Nadat <code>installkernel</code> succesvol is afgerond, dient er in single-user modus opgestart te worden (met <code>boot -s</code> vanaf de loaderprompt). Draai dan:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -u /</span>
<span class=c># mount -a -t ufs</span>
<span class=c># adjkerntz -i</span>
<span class=c># mergemaster -p</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld</span>
<span class=c># mergemaster</span>
<span class=c># reboot</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Lees verdere uitleg</div><div class=paragraph><p>De hierboven beschreven volgorde is alleen een korte samenvatting. Ook de volgende secties lezen geeft een beter beeld van elke stap, met name als er een op maat gemaakte kernelinstelling wordt gebruikt.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=src-updating>24.7.2. <span class=filename>/usr/src/UPDATING</span> lezen<a class=anchor href=#src-updating></a></h3><div class=paragraph><p>Lees voor verder te gaan <span class=filename>/usr/src/UPDATING</span> (of het gelijknamige bestand waar de kopie van de broncode ook staat). Dit bestand kan belangrijke informatie bevatten over mogelijke problemen of specificeert de volgorde waarin bepaalde commando’s gestart moeten worden. Als <span class=filename>UPDATING</span> tegenstrijdig is met wat hier wordt beschreven, heeft <span class=filename>UPDATING</span> voorrang.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p><span class=filename>UPDATING</span> lezen is geen acceptabele vervanging voor het abonneren op de correcte mailinglijst zoals eerder beschreven. De twee vullen elkaar aan en zijn niet exclusief.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=make-conf>24.7.3. <span class=filename>/etc/make.conf</span> controleren<a class=anchor href=#make-conf></a></h3><div class=paragraph><p>Controleer <span class=filename>/usr/shared/examples/etc/make.conf</span> en <span class=filename>/etc/make.conf</span>. Het eerste bestand bevat standaard definities, waarvan de meeste uitgecommentarieerd zijn. Om hiervan gebruik te maken als het systeem opnieuw opgebouwd wordt vanuit de broncode, moeten ze toegevoegd worden aan <span class=filename>/etc/make.conf</span>. Bedenk dat alles wat toegevoegd wordt aan <span class=filename>/etc/make.conf</span> ook gebruikt wordt bij elk <code>make</code> commando. Het is dus verstandig om daar redelijke waardes in te vullen voor een systeem.</p></div><div class=paragraph><p>Een typische gebruiker wil waarschijnlijk de regel <code>NO_PROFILE</code> uit <span class=filename>/usr/shared/examples/etc/make.conf</span> kopiëren naar <span class=filename>/etc/make.conf</span> en het commentaar verwijderen.</p></div><div class=paragraph><p>Bekijk de andere definities, zoals <code>NOPORTDOCS</code> en bepaal of deze relevant zijn.</p></div></div><div class=sect2><h3 id=updating-etc>24.7.4. <span class=filename>/etc</span> bijwerken<a class=anchor href=#updating-etc></a></h3><div class=paragraph><p>De map <span class=filename>/etc</span> bevat een groot deel van de systeeminstellingen en scripts die gestart worden tijdens de systeemstart. Sommige van deze scripts verschillen van versie tot versie in FreeBSD.</p></div><div class=paragraph><p>Sommige van de instellingenbestanden worden dagelijks gebruikt voor het draaien van een systeem. In het bijzonder <span class=filename>/etc/group</span>.</p></div><div class=paragraph><p>Er zijn gevallen geweest waarbij het installatiegedeelte van <code>make installworld</code> een aantal gebruikersnamen of groepen verwachtte. Als er een upgrade wordt uitgevoerd is het waarschijnlijk dat deze gebruikers of groepen niet bestaan. Dit levert problemen op bij upgraden. In sommige gevallen controleert <code>make buildworld</code> of deze gebruikers of groepen bestaan.</p></div><div class=paragraph><p>Een voorbeeld hiervan is het toevoegen van de gebruiker <code>smmsp</code>. Gebruikers hadden een falend installatieproces toen <a href="https://man.freebsd.org/cgi/man.cgi?query=mtree&amp;sektion=8&amp;format=html">mtree(8)</a> probeerde om <span class=filename>/var/spool/clientmqueue</span> te creëren.</p></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> kan in voorbereidende modus gedraaid worden als de optie <code>-p</code> wordt meegegeven. Dan worden alleen de bestanden vergeleken die essentieel zijn voor het succes van <code>buildworld</code> of <code>installworld</code>:</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>In "paranoide beheerdersmodus" kan er gecontroleerd worden welke bestanden op een systeem eigendom zijn van de groep die wordt hernoemd of verwijderd:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># find / -group GID -print</span></code></pre></div></div><div class=paragraph><p>Dit commando toont alle bestanden die eigendom zijn van de groep <em>GID</em> (een groepsnaam of een numeriek groeps-ID).</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makeworld-singleuser>24.7.5. Systeem naar single-user modus brengen<a class=anchor href=#makeworld-singleuser></a></h3><div class=paragraph><p>Het kan zijn dat een systeem in single-user modus gecompileerd moet worden. Buiten het duidelijke voordeel dat de operatie iets sneller verloopt, is het voordeel dat bij een herinstallatie van een systeem een aantal belangrijke systeembestanden waaronder binaire systeembestanden, bibliotheken, include bestanden, enzovoort, worden aangepast, iets wat op een actief systeem vragen om problemen is (zeker als er actieve gebruikers op een systeem aanwezig zijn).</p></div><div class=paragraph><p>Een andere methode is het systeem compileren in multi-user modus en daarna naar single-user modus gaan voor de installatie. Bij deze methode moeten de volgende stappen gevolgd worden. Het overschakelen naar single-user modus kan uitgesteld worden tot en met <code>installkernel</code> of <code>installworld</code>.</p></div><div class=paragraph><p>Een supergebruiker kan als volgt een draaiend systeem naar single-user modus overgeschakelen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown now</span></code></pre></div></div><div class=paragraph><p>Als alternatief kan tijdens het opstarten de optie <code>single user</code> worden gekozen. Het systeem start dan in single-user modus. Op de shell prompt moet dan worden ingegeven:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fsck -p</span>
<span class=c># mount -u /</span>
<span class=c># mount -a -t ufs</span>
<span class=c># swapon -a</span></code></pre></div></div><div class=paragraph><p>Hierdoor worden de bestandssystemen gecontroleerd, <span class=filename>/</span> met lees en schrijf rechten opnieuw gemount, worden alle andere UFS bestandssystemen die in <span class=filename>/etc/fstab</span> staan gemount en wordt swap ingeschakeld.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Als de CMOS-klok ingesteld is naar de lokale tijd en niet naar GMT (dit is waar als het resultaat van <a href="https://man.freebsd.org/cgi/man.cgi?query=date&amp;sektion=1&amp;format=html">date(1)</a> niet de correcte tijd en zone weergeeft), dan is het misschien handig om het volgende commando te starten:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># adjkerntz -i</span></code></pre></div></div><div class=paragraph><p>Dit zorgt ervoor dat de lokale tijdzoneinstellingen correct ingesteld worden. Zonder deze instelling kunnen er later problemen ontstaan.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=cleaning-usr-obj>24.7.6. <span class=filename>/usr/obj</span> verwijderen<a class=anchor href=#cleaning-usr-obj></a></h3><div class=paragraph><p>Als delen van een systeem opnieuw gebouwd worden, worden ze standaard geplaatst in mappen onder <span class=filename>/usr/obj</span>. Deze mappen schaduwen de mappen onder <span class=filename>/usr/src</span>.</p></div><div class=paragraph><p>Het proces <code>make buildworld</code> kan versneld worden en problemen met afhankelijkheden kunnen voorkomen worden als deze map wordt verwijderd.</p></div><div class=paragraph><p>Sommige bestanden onder <span class=filename>/usr/obj</span> hebben mogelijk de optie "niet aanpassen" ingesteld (zie <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a>) die eerst verwijderd moet worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/obj</span>
<span class=c># chflags -R noschg *</span>
<span class=c># rm -rf *</span></code></pre></div></div></div><div class=sect2><h3 id=updating-upgrading-recompilebase>24.7.7. Broncode van het basissysteem hercompileren<a class=anchor href=#updating-upgrading-recompilebase></a></h3><div class=sect3><h4 id=_uitvoer_bewaren>24.7.7.1. Uitvoer bewaren<a class=anchor href=#_uitvoer_bewaren></a></h4><div class=paragraph><p>Het is een goed idee om de uitvoer van <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> te bewaren in een ander bestand. Als er iets misgaat is er een kopie van de foutmelding aanwezig. Hoewel dit misschien niet helpt in de diagnose van wat er fout is gegaan, kan het anderen helpen als het probleem wordt aangegeven in een FreeBSD mailinglijst.</p></div><div class=paragraph><p>De makkelijkste manier om dit te doen is door het commando <a href="https://man.freebsd.org/cgi/man.cgi?query=script&amp;sektion=1&amp;format=html">script(1)</a> te gebruiken, met een parameter die de naam specificeert waar de uitvoer naartoe moet. Dit moet direct gedaan worden vóór het herbouwen van de wereld, zodat het proces klaar is moet <code>exit</code> worden ingegeven:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># script /var/tmp/mw.out</span>
Script started, output file is /var/tmp/mw.out
<span class=c># make TARGET</span>
… compile, compile, compile …
<span class=c># exit</span>
Script <span class=k>done</span>, …</code></pre></div></div><div class=paragraph><p>Bewaar de uitvoer in deze stap <em>niet</em> in <span class=filename>/tmp</span>. Deze map wordt mogelijk opgeschoond tijdens de volgende herstart. Een betere plaats om dit bestand te bewaren is de map <span class=filename>/var/tmp</span> (zoals in het vorige voorbeeld) of in de thuismap van <code>root</code>.</p></div></div><div class=sect3><h4 id=make-buildworld>24.7.7.2. Basissysteem compileren<a class=anchor href=#make-buildworld></a></h4><div class=paragraph><p>Ga naar de map <span class=filename>/usr/src</span>, tenzij de broncode ergens anders staat, in welk geval naar die map gegaan moet worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span></code></pre></div></div><div class=paragraph><p>Om de wereld opnieuw te bouwen moet het commando <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> gebruikt worden. Dit commando leest zijn instructies uit het bestand <span class=filename>Makefile</span>, dat beschrijft hoe de programma’s die samen FreeBSD vormen moeten worden gebouwd, in welke volgorde ze gebouwd moeten worden, enzovoort.</p></div><div class=paragraph><p>Het algemene formaat van de commandoregel die gebruikt moet worden is als volgt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -x -DVARIABELE doel</span></code></pre></div></div><div class=paragraph><p>In dit voorbeeld is de optie <code>-<em>x</em></code> een optie die wordt meegegeven aan <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>. In de hulppagina voor <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> staat een voorbeeld van de opties die meegegeven kunnen worden.</p></div><div class=paragraph><p><code>-D_VARIABELE_</code> geeft een variabele door aan <span class=filename>Makefile</span>. Het gedrag van <span class=filename>Makefile</span> wordt beïnvloed door deze variabele. Dit zijn dezelfde variabelen die ingesteld worden in <span class=filename>/etc/make.conf</span>. Deze optie biedt een alternatief om deze opties in te stellen.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -DNO_PROFILE doel</span></code></pre></div></div><div class=paragraph><p>Het bovenstaande commando is een andere manier om aan te geven dat geprofileerde bibliotheken niet gebouwd moeten worden en correspondeert met de onderstaande regel in <span class=filename>/etc/make.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>NO_PROFILE=    true	#    Avoid compiling profiled libraries</pre></div></div><div class=paragraph><p><em>doel</em> geeft <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> aan wat er gedaan moet worden. Elke <span class=filename>Makefile</span> definieert een aantal van verschillende doelen en het gekozen doel bepaalt wat er gebeurt.</p></div><div class=paragraph><p>Sommige doelen staan vermeld in het bestand <span class=filename>Makefile</span>, maar zijn niet geschikt om direct te starten. Integendeel, deze worden gebruikt door het bouwproces om de benodigde stappen onder te verdelen.</p></div><div class=paragraph><p>In veel gevallen hoeven er geen parameters te worden meegegeven aan <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> en dus ziet de commando regel er als volgt uit:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make doel</span></code></pre></div></div><div class=paragraph><p>Waar <em>doel</em> een van de vele bouw opties is. De eerste target moet echter altijd <code>buildworld</code> zijn.</p></div><div class=paragraph><p>Zoals de namen impliceren bouwt <code>buildworld</code> een compleet nieuwe boom onder <span class=filename>/usr/obj</span> en <code>installworld</code>, een andere target, installeert deze boom op de huidige machine.</p></div><div class=paragraph><p>Het hebben van verschillende opties is handig om twee redenen. Als eerste biedt het de mogelijkheid om de bouw veilig te doen met de wetenschap dat geen enkel draaiend onderdeel van een systeem geraakt wordt. De bouw is "zelf ondersteunend". Hierdoor kan veilig in multi-user modus <code>buildworld</code> gedraaid worden. Het wordt echter nog steeds aangeraden om <code>installworld</code> in single-user modus te starten.</p></div><div class=paragraph><p>Ten tweede geeft het de mogelijkheid om NFS-mounts te gebruiken om meerdere machines in het netwerk bij te werken. Als er drie machines zijn, <code>A</code>, <code>B</code> en <code>C</code>, die bijgewerkt moeten worden, dan kunnen <code>make buildworld</code> en <code>make installworld</code> gedraaid worden op <code>A</code> waarna <code>B</code> en <code>C</code> een NFS-mount kunnen opzetten naar <span class=filename>/usr/src</span> en <span class=filename>/usr/obj</span> op machine <code>A</code> waarna <code>make installworld</code> gedraaid kan worden op <code>B</code> en <code>C</code> om de resultaten de installeren.</p></div><div class=paragraph><p>Alhoewel het doel <code>world</code> nog wel bestaat wordt het gebruik ervan sterk <em>afgeraden</em>.</p></div><div class=paragraph><p>Voer het volgende commando uit:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make buildworld</span></code></pre></div></div><div class=paragraph><p>Het is mogelijk om de optie <code>-j</code> mee te geven aan <code>make</code>, wat resulteert in meerdere processen die tegelijkertijd draaien. Dit heeft het meeste effect op machines met meerdere processoren. Echter, omdat het compilatieproces meer IO-gericht is dan processorgericht, kan het ook nuttig zijn op systemen met één processor.</p></div><div class=paragraph><p>Start als volgt op een systeem met één processor:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -j4 buildworld</span></code></pre></div></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> draait dan maximaal 4 processen tegelijkertijd. In het algemeen blijkt uit de mailinglijsten dat dit de beste resultaten geeft.</p></div><div class=paragraph><p>Als er meerdere processoren in een systeem zitten en gebruik gemaakt wordt van een SMP kernel, probeer dan waardes tussen de 6 en 10 en bekijk hoe het systeem reageert.</p></div></div><div class=sect3><h4 id=_doorlooptijd>24.7.7.3. Doorlooptijd<a class=anchor href=#_doorlooptijd></a></h4><div class=paragraph><p>Veel factoren bepalen de doorlooptijd van het bouwen van een boom, maar redelijk recente machines doen er maar 1 tot 2 uur over om de FreeBSD-STABLE boom te bouwen. zonder extra trucjes. Een FreeBSD-CURRENT boom kan wat langer duren.</p></div></div></div><div class=sect2><h3 id=new-kernel>24.7.8. Nieuwe kernel compileren en installeren<a class=anchor href=#new-kernel></a></h3><div class=paragraph><p>Om volledig gebruik te maken van het nieuwe systeem moet de kernel opnieuw gecompileerd worden. Dit is bijna altijd nodig omdat sommige geheugenstructuren mogelijkerwijs veranderd zijn en programma’s als <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> en <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a> niet werken totdat de kernel en de broncode dezelfde versie hebben.</p></div><div class=paragraph><p>De simpelste en makkelijkste manier om dit te doen is om een kernel te maken die gebaseerd is op <span class=filename>GENERIC</span>. Ondanks dat <span class=filename>GENERIC</span> mogelijk niet alle benodigde apparaten heeft voor een systeem, hoort het alles te bevatten dat nodig is om een systeem te starten in single-user modus. Dit is een goede test op de correcte werking van een nieuw systeem. Na het opstarten van <span class=filename>GENERIC</span> en een systeemcontrole kan erna een nieuwe kernel gebouwd worden gebaseerd op een aangepast kernelinstellingenbestand.</p></div><div class=paragraph><p>Op FreeBSD is het belangrijk om de <a href=#make-buildworld>wereld opnieuw te bouwen</a> voordat een nieuwe kernel gebouwd wordt.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Als een aangepaste kernel gemaakt moet worden en er reeds een instellingenbestand aanwezig is, gebruik dan <code>KERNCONF=MYKERNEL</code> als volgt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make buildkernel KERNCONF=MYKERNEL</span>
<span class=c># make installkernel KERNCONF=MYKERNEL</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Let op dat als <code>kern.securelevel</code> een waarde hoger dan 1 heeft <em>of</em> <code>noschg</code> of gelijksoortige opties geplaatst zijn op het binaire kernelbestand, is het misschien nodig om terug te gaan naar single-user modus om <code>installkernel</code> uit te voeren. In andere gevallen moet het mogelijk zijn om deze commando’s zonder problemen uit te voeren in multi-user modus. Zie <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> voor meer informatie over <code>kern.securelevel</code> en <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a> voor informatie over diverse bestandsopties.</p></div></div><div class=sect2><h3 id=new-kernel-singleuser>24.7.9. Opnieuw opstarten in single-user modus<a class=anchor href=#new-kernel-singleuser></a></h3><div class=paragraph><p>Start met de instructies in <a href=#makeworld-singleuser>Systeem naar single-user modus brengen</a> in single-user modus op om te testen of de nieuwe kernel werkt.</p></div></div><div class=sect2><h3 id=post-installworld-updates>24.7.10. Nieuwe binaire systeembestanden installeren<a class=anchor href=#post-installworld-updates></a></h3><div class=paragraph><p>Na het draaien van <code>make buildworld</code> kan nu <code>installworld</code> gebruikt worden om de nieuwe binaire systeembestanden te installeren.</p></div><div class=paragraph><p>Voer de volgende commando’s uit:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make installworld</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Als er variabelen gespecificeerd zijn op de commandoregel van <code>make buildworld</code> moeten dezelfde variabelen gebruikt worden op de commandoregel van <code>make installworld</code>. Dit is niet per se waar voor opties zoals <code>-j</code>, die nooit gebruikt mogen worden met <code>installworld</code>.</p></div><div class=paragraph><p>Als bijvoorbeeld het volgende commando is uitgevoerd:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -DNO_PROFILE buildworld</span></code></pre></div></div><div class=paragraph><p>Dan moet het resultaat geïnstalleerd worden met:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -DNO_PROFILE installworld</span></code></pre></div></div><div class=paragraph><p>Anders wordt geprobeerd geprofileerde bibliotheken te installeren die niet gebouwd zijn tijdens de fase <code>make buildworld</code>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=make-installworld>24.7.11. Bestanden bijwerken die niet bijgewerkt zijn door <code>make installworld</code><a class=anchor href=#make-installworld></a></h3><div class=paragraph><p>Het herbouwen van de wereld werkt bepaalde mappen niet bij (in het bijzonder <span class=filename>/etc</span>, <span class=filename>/var</span> en <span class=filename>/usr</span>) met nieuwe of gewijzigde instellingenbestanden.</p></div><div class=paragraph><p>De simpelste manier om deze bestanden bij te werken is door <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> te gebruiken, maar het is ook mogelijk dit handmatig te doen. Welke manier er ook gekozen wordt, zorg er altijd voor dat een back-up van <span class=filename>/etc</span> beschikbaar is voor het geval er iets misgaat.</p></div><div class=sect3><h4 id=mergemaster>24.7.11.1. <code>mergemaster</code><a class=anchor href=#mergemaster></a></h4><div class=paragraph><p>Het hulpprogramma <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> is een Bourne script dat helpt bij het bepalen van de verschillen tussen de instellingenbestanden in <span class=filename>/etc</span> en de instellingenbestanden in de broncodeboom <span class=filename>/usr/src/etc</span>. Deze methode wordt aangeraden om instellingenbestanden van een systeem bijgewerkt te houden met de bestanden die in de broncodeboom staan.</p></div><div class=paragraph><p>Het programma wordt gestart met <code>mergemaster</code> op de commandoregel en geeft dan resultaten weer. <code>mergemaster</code> bouwt dan een tijdelijke root omgeving vanaf <span class=filename>/</span> en vult deze met diverse instellingenbestanden voor een systeem. Deze bestanden worden vergeleken met de bestanden die geïnstalleerd zijn op een systeem. Op dit punt worden de bestanden getoond die verschillen in het <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>-formaat, met een <code>+</code> voor toegevoegde of gewijzigde regels en een <code>-</code> voor regels die verwijderd of vervangen zijn. In de hulppagina voor <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> staat meer informatie over de syntaxis van <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> en hoe bestandsverschillen getoond worden.</p></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> toont dan elk bestand dat verschilt en op dit moment is er de mogelijkheid om of het nieuwe bestand te verwijderen (ofwel het tijdelijke bestand), het tijdelijke bestand te installeren zonder enige wijzigingen, het verwerken van het oude bestand in het nieuwe bestand of de resultaten van <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> nogmaals te tonen.</p></div><div class=paragraph><p>Als gekozen wordt om het tijdelijke bestand te verwijderen, geeft dit <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> aan dat het huidige bestand niet gewijzigd dient te worden en de nieuwe versie verwijderd kan worden. Deze optie wordt niet aangeraden, behalve als er geen reden is om het huidige bestand aan te passen. Op ieder moment kunnen hulpteksten getoond worden door <kbd>?</kbd> in te geven op de prompt van <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a>. Als een bestand wordt overgeslagen, dan wordt het weer getoond als alle overige bestanden verwerkt zijn.</p></div><div class=paragraph><p>Bij de keuze om het ongewijzigde tijdelijke bestand te installeren wordt het huidige bestand vervangen door het nieuwe. Voor de meeste ongewijzigde bestanden is dit de beste optie.</p></div><div class=paragraph><p>Als ervoor gekozen wordt om de wijzigingen te verwerken wordt er een tekstverwerker gestart die de inhoud van beide bestanden toont. De verschillen kunnen verwerkt worden terwijl beide bestanden naast elkaar op het scherm staan. Hier kunnen delen gekozen worden die gezamenlijk een nieuw bestand opleveren. Als de bestanden zij aan zij vergeleken worden, wordt met de toets <kbd>l</kbd> de inhoud links geselecteerd en met de toets <kbd>r</kbd> de inhoud rechts geselecteerd. Het eindresultaat bestaat uit delen van beide bestanden die erna geinstalleerd kunnen worden. Deze optie wordt voornamelijk gebruikt voor bestanden die gewijzigd zijn door de beheerder.</p></div><div class=paragraph><p>Als ervoor gekozen wordt om de <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> resultaten nog een keer te tonen, worden dezelfde verschillen getoond zoals <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> deed voordat een optie gevraagd werd.</p></div><div class=paragraph><p>Zodra <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> klaar is met de systeembestanden worden er andere opties getoond. <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> kan vragen of het wachtwoordbestand opnieuw gebouwd moet worden. Als laatste wordt een optie getoond om alle overgebleven tijdelijke bestanden te verwijderen.</p></div></div><div class=sect3><h4 id=_handmatig_bijwerken>24.7.11.2. Handmatig bijwerken<a class=anchor href=#_handmatig_bijwerken></a></h4><div class=paragraph><p>Bij handmatig bijwerken kunnen de bestanden van <span class=filename>/usr/src/etc</span> niet zomaar naar <span class=filename>/etc</span> gekopieerd worden om een werkend systeem te krijgen. Sommige van deze bestanden moeten eerst "geïnstalleerd" worden. Dit omdat de map <span class=filename>/usr/src/etc</span><em>geen</em> kopie is van <span class=filename>/etc</span>. Daarnaast staan er in <span class=filename>/etc</span> bestanden die niet in <span class=filename>/usr/src/etc</span> staan.</p></div><div class=paragraph><p>Als <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> gebruikt wordt (zoals aangeraden), kan doorgegaan worden met het <a href=#updating-upgrading-rebooting>volgende onderdeel</a>.</p></div><div class=paragraph><p>De simpelste manier om met de hand bij te werken, is de bestanden in een nieuwe map installeren en daarna naar verschillen tussen de bestanden te zoeken.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Back-up maken van <span class=filename>/etc</span></div><div class=paragraph><p>Ondanks dat, in theorie, niets in deze map automatisch wordt aangepast, is het altijd beter om daar zeker van te zijn. Dus kopieer de bestaande <span class=filename>/etc</span> naar een veilige locatie. Zoals bijvoorbeeld met het volgende commando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp -Rp /etc /etc.old</span></code></pre></div></div><div class=paragraph><p><code>-R</code> maakt een recursieve kopie, <code>-p</code> bewaart tijden, eigenaarschap, enzovoorts op bestanden.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Er moet een dummyset van mappen gemaakt worden om de nieuwe <span class=filename>/etc</span> en andere bestanden in te installeren. <span class=filename>/var/tmp/root</span> is een redelijke keuze en er zijn hier een aantal benodigde submappen aanwezig:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/root</span>
<span class=c># cd /usr/src/etc</span>
<span class=c># make DESTDIR=/var/tmp/root distrib-dirs distribution</span></code></pre></div></div><div class=paragraph><p>Dit maakt de benodigde mappenstructuur en installeert de bestanden. Een groot deel van de submappen die gemaakt zijn in <span class=filename>/var/tmp/root</span> zijn leeg en moeten verwijderd worden. De simpelste manier om dit te doen is:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /var/tmp/root</span>
<span class=c># find -d . -type d | xargs rmdir 2&gt;/dev/null</span></code></pre></div></div><div class=paragraph><p>Dit verwijderd alle lege mappen. De standaardfout wordt omgeleid naar <span class=filename>/dev/null</span> om waarschuwingen te voorkomen over mappen die niet leeg zijn.</p></div><div class=paragraph><p><span class=filename>/var/tmp/root</span> bevat nu alle bestanden die geplaatst zouden moeten worden op de juiste locaties in <span class=filename>/</span>. Er moet nu in de bestanden gekeken worden om te bepalen of deze verschillen met de huidige betanden.</p></div><div class=paragraph><p>Let op dat sommige van de bestanden die geïnstalleerd zijn in <span class=filename>/var/tmp/root</span> beginnen met een ".". Op het moment van schrijven hebben alleen shell opstartscripts in <span class=filename>/var/tmp/root</span> en <span class=filename>/var/tmp/root/root</span> dit, maar er kunnen ook andere zijn. Zorg ervoor dat <code>ls -a</code> gebruikt wordt om deze bestanden te zien.</p></div><div class=paragraph><p>De simpelste manier om twee bestanden te vergelijken is <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> gebruiken:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># diff /etc/shells /var/tmp/root/etc/shells</span></code></pre></div></div><div class=paragraph><p>Dit toont de verschillen tussen de huidige <span class=filename>/etc/shells</span> en de nieuwe <span class=filename>/var/tmp/root/etc/shells</span>. Gebruik dit om te bepalen of de wijzigingen gemigreerd moeten worden of dat het oude bestand gekopieërd moet worden.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=title>Voeg aan de naam van de nieuwe rootmap (<span class=filename>/var/tmp/root</span>) een tijdsindicatie toe zodat makkelijk verschillen tussen versies bepaald kunnen worden</div><div class=paragraph><p>Als de wereld regelmatig wordt herbouwd moeten bestanden in <span class=filename>/etc</span> ook regelmatig bijgewerkt moeten worden, wat een vervelend werkje kan zijn.</p></div><div class=paragraph><p>Dit proces kan versneld worden door een kopie te bewaren van de bestanden die gemigreerd zijn naar <span class=filename>/etc</span>. De volgende procedure geeft een idee over hoe dit gedaan kan worden.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Maak de wereld zoals normaal. Als <span class=filename>/etc</span> en de andere mappen bijgewerkt moeten worden, geef dan de doelmap een naam gebaseerd op de huidige datum. Op 14 februari 1998 wordt dat als volgt gedaan:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/root-19980214</span>
<span class=c># cd /usr/src/etc</span>
<span class=c># make DESTDIR=/var/tmp/root-19980214 \</span>
    distrib-dirs distribution</code></pre></div></div></li><li><p>Migreer de wijzigingen van deze map zoals hierboven beschreven.</p><div class=paragraph><p>Verwijder de map <span class=filename>/var/tmp/root-19980214</span><em>niet</em> na afronden.</p></div></li><li><p>Als de laatste versie van de broncode gedownload en opnieuw gemaakt is, volg stap 1. Dit geeft een nieuwe map die wellicht <span class=filename>/var/tmp/root-19980221</span> heet (als er een week zit tussen het bijwerken).</p></li><li><p>De verschillen die gemaakt zijn in de tussenliggende week kunnen nu getoond worden door met <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> een recursieve diff te maken tussen de twee mappen:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /var/tmp</span>
<span class=c># diff -r root-19980214 root-19980221</span></code></pre></div></div><div class=paragraph><p>Vaak is dit een kleinere set aan verschillen dan tussen <span class=filename>/var/tmp/root-19980221/etc</span> en <span class=filename>/etc</span>. Omdat de set verschillen kleiner is, is het makkelijker om deze te migreren naar de map <span class=filename>/etc</span>.</p></div></li><li><p>De oudste van de twee <span class=filename>/var/tmp/root-*</span>-mappen kan nu verwijderd worden:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rm -rf /var/tmp/root-19980214</span></code></pre></div></div></li><li><p>Herhaal dit proces elke keer als er wijzigingen gemigreerd moeten worden naar <span class=filename>/etc</span>.</p></li></ol></div></div></div><div class=paragraph><p>Met <a href="https://man.freebsd.org/cgi/man.cgi?query=date&amp;sektion=1&amp;format=html">date(1)</a> kan het maken van de mappen geautomatiseerd worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/root-`date &#34;+%Y%m%d&#34;`</span></code></pre></div></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=updating-upgrading-rebooting>24.7.12. Herstarten<a class=anchor href=#updating-upgrading-rebooting></a></h3><div class=paragraph><p>Dit was het. Na een controle of alles op de juiste plaats staat kan het systeem herstart worden. Dan kan met een simpele <a href="https://man.freebsd.org/cgi/man.cgi?query=shutdown&amp;sektion=8&amp;format=html">shutdown(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown -r now</span></code></pre></div></div></div><div class=sect2><h3 id=_klaar>24.7.13. Klaar<a class=anchor href=#_klaar></a></h3><div class=paragraph><p>Het FreeBSD systeem is nu succesvol bijgewerkt. Gefeliciteerd!</p></div><div class=paragraph><p>Als er dingen misgingen is het makkelijk om een deel van het systeem opnieuw te bouwen. Als bijvoorbeeld per ongeluk <span class=filename>/etc/magic</span> verwijderd is als onderdeel van de upgrade of door het samenvoegen van <span class=filename>/etc</span>, dan werkt <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> niet meer. Dat kan als volgt opgelost worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/usr.bin/file</span>
<span class=c># make all install</span></code></pre></div></div></div><div class=sect2><h3 id=updating-questions>24.7.14. Vragen<a class=anchor href=#updating-questions></a></h3><div class=sect3><h4 id=_moet_de_wereld_opnieuw_gemaakt_worden_voor_elke_wijziging>24.7.14.1. Moet de wereld opnieuw gemaakt worden voor elke wijziging?<a class=anchor href=#_moet_de_wereld_opnieuw_gemaakt_worden_voor_elke_wijziging></a></h4><div class=paragraph><p>Op deze vraag bestaat geen eenvoudig antwoord, omdat dit afhangt van de aard van de wijziging. Als bijvoorbeeld net CVSup is gedraaid en de onderstaande bestanden zijn bijgewerkt, dan is het waarschijnlijk niet de moeite waard om de volledige wereld te herbouwen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>src/games/cribbage/instr.c
src/games/sail/pl_main.c
src/release/sysinstall/config.c
src/release/sysinstall/media.c
src/shared/mk/bsd.port.mk</code></pre></div></div><div class=paragraph><p>Dan is het handiger om naar de juiste submappen te gaan, daar <code>make all install</code> uit te voeren en dat is het zo’n beetje. Maar als er iets wezenlijks is veranderd, bijvoorbeeld <span class=filename>src/lib/libc/stdlib</span>, dan dient ofwel de wereld herbouwd te worden of tenminste die delen die statisch gelinkt zijn (en ook al het andere dat statisch gelinkt is en onderdeel is van een systeem).</p></div><div class=paragraph><p>Uiteindelijk beslist een beheerder zelf. Misschien vindt die het prettig iedere twee weken de wereld te herbouwen terwijl de wijzigingen in die twee weken binnenkomen. Een andere beheerder herbouwt alleen die onderdelen die veranderd zijn en vertrouwt erop dat hij alle afhankelijkheden in de gaten heeft.</p></div><div class=paragraph><p>Natuurlijk hangt het ook af van de keuze hoe vaak het wenselijk is bij te werken en of FreeBSD-STABLE of FreeBSD-CURRENT wordt bijgehouden.</p></div></div><div class=sect3><h4 id=_het_compileren_gaat_fout_met_veel_meldingen_van_signal_11signal_11_of_andere_signalnummers_wat_is_er_aan_de_hand>24.7.14.2. Het compileren gaat fout met veel meldingen van signal 11signal 11 (of andere signalnummers). Wat is er aan de hand?<a class=anchor href=#_het_compileren_gaat_fout_met_veel_meldingen_van_signal_11signal_11_of_andere_signalnummers_wat_is_er_aan_de_hand></a></h4><div class=paragraph><p>Dit wijst meestal op hardwareproblemen. Het (her)bouwen van de wereld is een prima manier om een stresstest op hardware uit te voeren en hierdoor komen vaak geheugenproblemen bovendrijven. Die resulteren vaak in een compiler die op mysterieuze wijze overlijdt na het ontvangen van vreemde signalen.</p></div><div class=paragraph><p>Dit probleem is nog duidelijker als na het herstarten van de make het proces opnieuw stopt op een ander punt.</p></div><div class=paragraph><p>Hier biedt niets anders uitkomst dan componenten in een systeem wisselen om uit te zoeken welk component er faalt.</p></div></div><div class=sect3><h4 id=_kan_usrobj_verwijderd_worden_na_afloop>24.7.14.3. Kan /usr/obj verwijderd worden na afloop?<a class=anchor href=#_kan_usrobj_verwijderd_worden_na_afloop></a></h4><div class=paragraph><p>Het korte antwoord is ja.</p></div><div class=paragraph><p><span class=filename>/usr/obj</span> bevat alle objectbestanden die tijdens het compileren zijn gemaakt. Normaliter is een van de eerste stappen in het <code>make buildworld</code> proces deze map verwijderen en een verse start maken. In dit geval heeft het behouden van <span class=filename>/usr/obj</span> na het afronden weinig zin en geeft het ook nogal wat extra vrije schijfruimte (ongeveer 2 GB).</p></div><div class=paragraph><p>Als er veel kennis aanwezig is bij een beheerder, dan kan <code>make buildworld</code> aangegeven worden deze stap over te slaan. Hierdoor draaien volgende builds veel sneller, omdat veel broncode niet opnieuw gecompileerd hoeft te worden. De andere kant van de medaille is dat er subtiele afhankelijkheidsproblemen kunnen ontstaan, waardoor een build op bijzondere wijze kan falen. Hierdoor onstaat regelmatig ruis op FreeBSD mailinglijsten als er iemand klaagt dat zijn build faalt, terwijl hij zich niet realiseert dat dit komt doordat hij zijn updateproces niet volgens het boekje heeft uitgevoerd.</p></div></div><div class=sect3><h4 id=_kunnen_onderbroken_builds_gecontinueerd_worden>24.7.14.4. Kunnen onderbroken builds gecontinueerd worden?<a class=anchor href=#_kunnen_onderbroken_builds_gecontinueerd_worden></a></h4><div class=paragraph><p>Dit hangt af van hoever een systeem was voordat een probleem gevonden werd.</p></div><div class=paragraph><p><em>Normaal gesproken</em> (en dit is geen vaste regel) maakt het proces <code>make buildworld</code> nieuwe kopieën van essentiele hulpprogramma’s (zoals <a href="https://man.freebsd.org/cgi/man.cgi?query=gcc&amp;sektion=1&amp;format=html">gcc(1)</a> en <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>) en de systeembibliotheken. Deze hulpprogramma’s en bibliotheken worden daarna geïnstalleerd. De nieuwe hulpprogramma’s en bibliotheken worden daarna gebruikt om zichzelf opnieuw op te bouwen en wederom te installeren. Het complete systeem (nu met gewone programma’s zoals <a href="https://man.freebsd.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;format=html">ls(1)</a> en <a href="https://man.freebsd.org/cgi/man.cgi?query=grep&amp;sektion=1&amp;format=html">grep(1)</a>) wordt daarna opnieuw gebouwd met de nieuwe systeembestanden.</p></div><div class=paragraph><p>Als een systeem in de laatste fase zit (wat uit de uitvoer blijkt) kan dit redelijk veilig gedaan worden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>… fix the problem …
<span class=c># cd /usr/src</span>
<span class=c># make -DNO_CLEAN all</span></code></pre></div></div><div class=paragraph><p>Dit maakt het werk van de vorige <code>make buildworld</code> niet ongedaan.</p></div><div class=paragraph><p>Als het onderstaande bericht in de uitvoer van <code>make buildworld</code> staat, dan is het redelijk veilig om het te doen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=nt>--------------------------------------------------------------</span>
Building everything..
<span class=nt>--------------------------------------------------------------</span></code></pre></div></div><div class=paragraph><p>Als dat bericht er niet is, of er is onzekerheid over, dan is het altijd beter om de build opnieuw te starten vanaf het begin.</p></div></div><div class=sect3><h4 id=_kan_kan_de_wereld_bouwen_versneld_worden>24.7.14.5. Kan kan de wereld bouwen versneld worden?<a class=anchor href=#_kan_kan_de_wereld_bouwen_versneld_worden></a></h4><div class=ulist><ul><li><p>Draai in single-user modus;</p></li><li><p>Zet de mappen <span class=filename>/usr/src</span> en <span class=filename>/usr/obj</span> op aparte bestandssystemen die op aparte schijven staan. Hang deze schijven als mogelijk aan aparte schijfcontrollers;</p></li><li><p>Nog beter, verspreid de bestandssystemen over meerdere schijven via het apparaat <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> (concatenated disk driver);</p></li><li><p>Zet profiling uit (voeg "NO_PROFILE=true" toe aan <span class=filename>/etc/make.conf</span>). Het is zeer waarschijnlijk niet nodig;</p></li><li><p>Geef de optie <code>-j<em>n</em></code> mee aan <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> om meerdere processen parallel te laten lopen. Dit helpt in de meeste gevallen, onafhankelijk of er gewerkt wordt op een systeem met één of meerdere processoren;</p></li><li><p>Het bestandssysteem dat <span class=filename>/usr/src</span> bevat, kan (opnieuw) gemount worden met de optie <code>noatime</code>. Dit voorkomt dat het bestandssysteem de toegangsmomenten registreert. Deze informatie is waarschijnlijk toch niet nodig.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -u -o noatime /usr/src</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>In dit voorbeeld wordt aangenomen dat <span class=filename>/usr/src</span> op zijn eigen bestandssysteem staat. Als dit niet het geval is (bijvoorbeeld als het onderdeel is van <span class=filename>/usr</span>), dan moet het mountpunt voor dat bestandssysteem gebruikt moeten worden en niet <span class=filename>/usr/src</span>;</p></div></td></tr></tbody></table></div></li><li><p>Het bestandssysteem dat <span class=filename>/usr/obj</span> gevat kan (opnieuw) worden gemount met de optie <code>async</code>. Dit zorgt ervoor dat schrijfacties naar een schijf asynchroon plaatsvinden. In andere woorden: de schrijfactie wordt direct uitgevoerd en de gegevens worden later naar de schijf geschreven. Dit stelt het systeem in staat om data geclusterd weg te schrijven, wat een grote prestatieverbetering kan opleveren.</p><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Houd er rekening mee dat deze optie het bestandssysteem kwetsbaarder maakt. Met deze optie is er een vergrote kans dat, indien er een stroomstoring optreed, het bestandssysteem in een niet meer te herstellen staat komt als de machine herstart.</p></div><div class=paragraph><p>Als op dit bestandssysteem alleen <span class=filename>/usr/obj</span> staat, is dit geen probleem. Als er andere belangrijke gegevens op hetzelfde bestandssysteem staan, zorg er dan voor dat er verse back-ups zijn voordat deze optie aangezet wordt.</p></div></td></tr></tbody></table></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -u -o async /usr/obj</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Zorg ervoor, zoals al eerder is aangegeven, dat als <span class=filename>/usr/obj</span> niet op een eigen bestandssysteem staat, het juiste mountpunt wordt gebruikt.</p></div></td></tr></tbody></table></div></li></ul></div></div><div class=sect3><h4 id=_wat_te_doen_als_er_iets_mis_gaat>24.7.14.6. Wat te doen als er iets mis gaat?<a class=anchor href=#_wat_te_doen_als_er_iets_mis_gaat></a></h4><div class=paragraph><p>Zorg ervoor dat het systeem geen rommel meer bevat van eerdere builds. Het volgende helpt daarbij:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chflags -R noschg /usr/obj/usr</span>
<span class=c># rm -rf /usr/obj/usr</span>
<span class=c># cd /usr/src</span>
<span class=c># make cleandir</span>
<span class=c># make cleandir</span></code></pre></div></div><div class=paragraph><p>Inderdaad, <code>make cleandir</code> moet twee keer gedraaid worden.</p></div><div class=paragraph><p>Herstart daarna het complete proces vanaf <code>make buildworld</code>.</p></div><div class=paragraph><p>Als er nog steeds problemen zijn, stuur dan de foutmelding en de uitvoer van <code>uname -a</code> naar de <a href=https://lists.FreeBSD.org/subscription/freebsd-questions>FreeBSD algemene vragen mailinglijst</a>. Wees bereid aanvullende vragen over het systeem te beantwoorden!</p></div></div></div></div></div><div class=sect1><h2 id=make-delete-old>24.8. Het verwijderen van overbodige bestanden, directories en bibliotheken<a class=anchor href=#make-delete-old></a></h2><div class=sectionbody><div class=paragraph><p>Als onderdeel van de FreeBSD ontwikkel levenscyclus kan het van tijd tot tijd gebeuren dat bestanden en de inhoud ervan overbodig worden. Dit kan komen doordat de functionaliteit ergens anders geïmplementeerd is, het versienummer van de bibliotheek veranderd is of hij is totaal van het systeem verdwenen. Dit is inclusief oude bestanden, bibliotheken en directories welke verwijderd moeten worden bij het updaten van het systeem. Het voordeel voor de gebruiker is dat het systeem niet vervuild wordt met oude bestanden die onnodig ruimte innemen op het opslag (en back-up) systeem. Ook is het zo dat als de oude bibliotheek een beveiligings of stabiliteits probleem had, er moet worden geupdate naar de nieuwere bibliotheek om het systeem veilig te houden en te voorkomen dat er crashes komen door de oude implementatie van de bibliotheek. De bestanden, directories en bibliotheken welke als overbodig worden gezien zijn beschreven in <span class=filename>/usr/src/ObsoleteFiles.inc</span>. De volgende instructies zullen helpen om deze verouderde bestanden te verwijderen tijdens het systeem upgrade proces.</p></div><div class=paragraph><p>Er wordt aangenomen dat de stappen gevolgd worden zoals uitgelegd in <a href=#canonical-build>De universele wijze om een systeem bij te werken</a>. Na het <code>make installworld</code> commando en het daarop volgende <code>mergemaster</code> commando succesvol uitgevoerd zijn kan er op de volgende manier gecontroleerd worden voor verouderde bestanden en bibliotheken:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make check-old</span></code></pre></div></div><div class=paragraph><p>Als er verouderde bestanden gevonden worden kunnen deze verwijderd worden door het volgende commando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make delete-old</span></code></pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Zie het <span class=filename>/usr/src/Makefile</span> bestand voor meer interessante targets.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Er wordt een prompt getoond voordat elk verouderd bestand wordt verwijderd. Deze prompt kan worden overgeslagen en het systeem deze bestanden automatisch laten verwijderen door gebruik te maken van de <code>BATCH_DELETE_OLD_FILES</code> make variabele als volgt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -DBATCH_DELETE_OLD_FILES delete-old</span></code></pre></div></div><div class=paragraph><p>Dit kan ook worden gedaan door deze commando’s door <code>yes</code> te pipen als volgt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># yes|make delete-old</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Waarschuwing</div><div class=paragraph><p>Het verwijderen van verouderde bestanden zal applicaties stuk maken die nog gebruik maken van de overbodige bestanden. Dit is zeker waar voor oude bibliotheken. In de meeste gevallen moeten de programma’s, ports of bibliotheken opnieuw gecompileerd worden voordat <code>make delete-old-libs</code> wordt uitgevoerd.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Gereedschappen om gedeelde bibliotheek afhankelijkheden te controleren zijn beschikbaar in de Ports Collectie in <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/libchk/>sysutils/libchk</a> of <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/bsdadminscripts/>sysutils/bsdadminscripts</a>.</p></div><div class=paragraph><p>Overbodige gedeelde bibliotheken kunnen conflicteren met nieuwere bibliotheken welke berichten zoals deze kunnen veroorzaken:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>/usr/bin/ld: warning: libz.so.4, needed by /usr/local/lib/libtiff.so, may conflict with libz.so.5
/usr/bin/ld: warning: librpcsvc.so.4, needed by /usr/local/lib/libXext.so, may conflict with librpcsvc.so.5</code></pre></div></div><div class=paragraph><p>Om deze problemen op te lossen moet bepaald worden welke port deze bibliotheek heeft geïnstalleerd:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info -W /usr/local/lib/libtiff.so</span>
/usr/local/lib/libtiff.so was installed by package tiff-3.9.4
<span class=c># pkg_info -W /usr/local/lib/libXext.so</span>
/usr/local/lib/libXext.so was installed by package libXext-1.1.1,1</code></pre></div></div><div class=paragraph><p>Deïnstalleer, herbouw en herinstalleer de port. De <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portmaster/>ports-mgmt/portmaster</a> en <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> gereedschappen kunnen gebruikt worden om deze processen te automatiseren. Nadat zeker is dat alle ports opnieuw gebouwd zijn, en de oude bibliotheken niet meer gebruikt worden, kunnen deze verwijderd worden met het volgende commando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make delete-old-libs</span></code></pre></div></div></div></div><div class=sect1><h2 id=small-lan>24.9. Meerdere machines bijwerken<a class=anchor href=#small-lan></a></h2><div class=sectionbody><div class=paragraph><p>Als er meerdere machines zijn die dezelfde broncode bijhouden, lijkt het downloaden van alle broncode en alles overal opnieuw bouwen zonde van de bronnen: harde schijfruimte, netwerk bandbreedte, en processorbelasting. Dit klopt en de oplossing is om alles op één machine te doen terwijl de overige machines het uitgevoerde werk benaderen via NFS. Nu wordt een methode beschreven waarmee dit gedaan kan worden.</p></div><div class=sect2><h3 id=small-lan-preliminaries>24.9.1. Benodigdheden<a class=anchor href=#small-lan-preliminaries></a></h3><div class=paragraph><p>Als eerste moet er een groep van machines gekozen worden die dezelfde set aan binaire bestanden zal draaien, hier een <em>bouwgroep</em>. Elke machine kan een eigen afwijkende kernel hebben maar moet dezelfde binaire gebruikersbestanden draaien. Uit die groep moet een machine gekozen worden die de <em>bouwmachine</em> wordt. Dit wordt de machine waar de wereld en kernel op gebouwd worden. In het meest ideale geval is dit een snelle machine die genoeg processorkracht vrij heeft om <code>make buildworld</code> en <code>make buildkernel</code> te draaien. Er moet ook een machine gekozen worden die de <em>testmachine</em> wordt waarop alle bijgewerkte software wordt test voordat die in productie wordt genomen. Dit <em>moet</em> een machine zijn die voor langere tijd down mag zijn. Dit kan de bouwmachine zijn maar dat hoeft niet per se.</p></div><div class=paragraph><p>Alle machines in deze bouwgroep moeten ingesteld worden om <span class=filename>/usr/obj</span> en <span class=filename>/usr/src</span> vanaf dezelfde machine te mounten op hetzelfde punt. In het meest ideale geval zijn dit twee verschillende schijven op de bouwmachine, maar ze kunnen ook door middel van NFS op die machine gemount zijn. Als er meerdere bouwgroepen zijn, dan moet <span class=filename>/usr/src</span> op één bouwmachine staan en door middel van NFS gemount worden op de overige machines.</p></div><div class=paragraph><p>Zorg er als laatste voor dat <span class=filename>/etc/make.conf</span> en <span class=filename>/etc/src.conf</span> op alle machines in de bouwgroep het eens zijn met de bouwmachine. Dat betekent dat de bouwmachine alle delen van het basissysteem moet bouwen die elke machine in de bouwgroep installeert. Ook heeft elke bouwmachine zijn kernelnaam ingesteld met <code>KERNCONF</code> in <span class=filename>/etc/make.conf</span> en de bouwmachine moet ze allemaal hebben in <code>KERNCONF</code>, zijn eigen kernel eerst. De bouwmachine moet de instellingenbestanden voor elke machine in <span class=filename>/usr/src/sys/arch/conf</span> hebben als deze machine de kernels voor de overige machines gaat bouwen.</p></div></div><div class=sect2><h3 id=small-lan-base-system>24.9.2. Basissysteem<a class=anchor href=#small-lan-base-system></a></h3><div class=paragraph><p>Nu kan één systeem alles bouwen. Bouw de kernel en wereld zoals beschreven in <a href=#make-buildworld>Basissysteem compileren</a> op de bouwmachine, maar installeer niets. Zodra de bouw klaar is, moet op de testmachine de kernel geïnstalleerd en getest worden. Als deze machine <span class=filename>/usr/src</span> en <span class=filename>/usr/obj</span> mount via NFS, moet na een herstart in single-user modus het netwerk ingeschakeld worden zodat de mounts opnieuw gemaakt kunnen worden. De makkelijkste manier om dit te doen is om te starten in multi-user modus en daar <code>shutdown now</code> starten om in single-user modus te komen. Eenmaal daar aangekomen kunnen de nieuwe kernel en de wereld geïnstalleerd worden en kan daarna normaal <code>mergemaster</code> gestart worden. Zodra dit klaar is, kan de machine opnieuw gestart worden om naar multi-user modus terug te keren.</p></div><div class=paragraph><p>Nadat zeker is dat alles op de testmachine correct werkt, kan dezelfde procedure gebruikt worden om de nieuwe software op elke machine te installeren in de bouwgroep.</p></div></div><div class=sect2><h3 id=small-lan-ports>24.9.3. Ports<a class=anchor href=#small-lan-ports></a></h3><div class=paragraph><p>Dezelfde ideeën kunnen gebruikt worden voor de ports. De eerste kritieke stap is om <span class=filename>/usr/ports</span> te mounten op alle machines in de bouwgroep. Daarna kan <span class=filename>/etc/make.conf</span> correct ingesteld worden om de distfiles te delen. De variabele <code>DISTDIR</code> moet wijzen naar een gedeelde map waarin geschreven kan worden door de gebruiker waar <code>root</code> naar wijst in de NFS mounts. Op elke machine moet <code>WRKDIRPREFIX</code> naar een lokale bouwmap wijzen. Als er pakketten gebouwd en gedistribueerd worden moet <code>PACKAGES</code> naar een map wijzen gelijkvormig aan de instelling voor <code>DISTDIR</code>.</p></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 9 maart 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/nl/books/handbook/l10n class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/nl/books/handbook/dtrace class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#updating-upgrading-synopsis>24.1. Overzicht</a></li><li><a href=#updating-upgrading-freebsdupdate>24.2. FreeBSD Update</a></li><li><a href=#updating-upgrading-portsnap>24.3. Portsnap: een updategereedschap voor de Portscollectie</a></li><li><a href=#updating-upgrading-documentation>24.4. De documentatie bijwerken</a></li><li><a href=#current-stable>24.5. Een ontwikkelingstak volgen</a></li><li><a href=#synching>24.6. Broncode synchroniseren</a></li><li><a href=#makeworld>24.7. De "wereld" opnieuw bouwen</a></li><li><a href=#make-delete-old>24.8. Het verwijderen van overbodige bestanden, directories en bibliotheken</a></li><li><a href=#small-lan>24.9. Meerdere machines bijwerken</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/nl/books/handbook/handbook_nl.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/nl/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/nl/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>Dutch</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/nl class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/nl/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>