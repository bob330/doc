<!doctype html><html class=theme-light lang=mn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/mn/books/handbook/network-servers/><title>Бүлэг 30. Сүлжээний орчны Серверүүд | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Бүлэг 30. Сүлжээний орчны Серверүүд"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="mn"><meta property="og:url" content="https://docs.freebsd.org/mn/books/handbook/network-servers/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/mn\/books\/handbook\/network-servers\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/mn>Documentation portal</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/mn/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/mn/books>Books</a></li><li><a href=https://docs.freebsd.org/mn/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/mn/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=mn>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/preface/>Өмнөх үг</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/preface/#preface-audience>Энэ номын зориулалт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/preface/#preface-changes-from3>Гурав дахь хэвлэлээс хойшх өөрчлөлтүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/preface/#preface-changes-from2>Хоёр дахь хэвлэлээс (2004) хойшх өөрчлөлтүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/preface/#preface-changes>Эхний хэвлэлээс (2001) хойшх өөрчлөлтүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/preface/#preface-overview>Энэ номын зохион байгуулалт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/preface/#preface-conv>Энэ номонд ашиглагдсан бичиглэлийн хэлбэрүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/preface/#preface-acknowledgements>Талархал</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/parti/>хэсэг I. Эхлэл</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/introduction/>Бүлэг 1. Танилцуулга</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/introduction/#introduction-synopsis>1.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/introduction/#nutshell>1.2. FreeBSD-д тавтай морилно уу!</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/introduction/#history>1.3. FreeBSD Төслийн тухай</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/>Бүлэг 2. FreeBSD 9.X болон түүнээс хойшхи хувилбаруудыг суулгах нь</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-synopsis>2.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-hardware>2.2. Тоног төхөөрөмжийн шаардлагууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-pre>2.3. Суулгахын өмнөх ажлууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-start>2.4. Суулгалтыг эхлүүлэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#using-bsdinstall>2.5. bsdinstall-г танилцуулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-netinstall>2.6. Сүлжээнээс суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-partitioning>2.7. Дискний зай авах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-final-warning>2.8. Суулгалтыг гүйцэтгэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-post>2.9. Суулгасны дараах үйлдлүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#bsdinstall-install-trouble>2.10. Асуудлыг олж засварлах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bsdinstall/#using-live-cd>2.11. Амьд CD ашиглах нь</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/install/>Бүлэг 3. FreeBSD 8.X болон түүнээс өмнөх хувилбар суулгах нь</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-synopsis>3.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-hardware>3.2. Системд тавигдах төхөөрөмжийн шаардлага</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-pre>3.3. Суулгацын өмнө</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-start>3.4. Суулгацыг эхлүүлэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#using-sysinstall>3.5. Sysinstall-н танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-steps>3.6. Дискний зайг зохицуулах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-choosing>3.7. Юу суулгахаа сонгох</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-media>3.8. Суулгацын төхөөрөмжөө сонгох</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-final-warning>3.9. Суулгацыг баталж гүйцээх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-post>3.10. Суулгацын дараах тохиргоо</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-trouble>3.11. Хүндрэл тулгарвал</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-advanced>3.12. Суулгацын нэмэлт гарын авлага</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/install/#install-diff-media>3.13. Өөртөө зориулж тусгай суулгацын төхөөрөмж бэлдэх нь</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/basics/>Бүлэг 4. Юниксийн үндэс</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#basics-synopsis>4.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#consoles>4.2. Виртуал консол болон терминал</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#permissions>4.3. Зөвшөөрлүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#dirstructure>4.4. Сангийн бүтэц</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#disk-organization>4.5. Диск зохион байгуулалт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#mount-unmount>4.6. Файл системийг холбох болон салгах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#basics-processes>4.7. Процесс буюу програмын явц</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#basics-daemons>4.8. Далд чөтгөр буюу дэмонууд, дохионууд, мөн процессуудыг зогсоох нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#shells>4.9. Shell буюу бүрхүүл</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#editors>4.10. Текст засварлагчид</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#basics-devices>4.11. Төхөөрөмж ба төхөөрөмжийн цэгүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#binary-formats>4.12. Хоёртын хэлбэрүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/basics/#basics-more-information>4.13. Нэмэлт мэдээлэл олж авах нь</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/ports/>Бүлэг 5. Програм суулгах: Багцууд болон портууд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#ports-synopsis>5.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#ports-overview>5.2. Програм суулгацын ерөнхий ойлголт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#ports-finding-applications>5.3. Програмаа олох нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#packages-using>5.4. Багцалсан системийг хэрэглэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#pkgng-intro>5.5. pkgng-г бинар багцыг удирдахад ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#ports-using>5.6. Портын цуглуулгыг хэрэглэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#ports-nextsteps>5.7. Порт суулгасны дараах үйлдлүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ports/#ports-broken>5.8. Эвдрэлтэй портыг засах нь</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/x11/>Бүлэг 6. X Цонхот систем</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/x11/#x11-synopsis>6.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/x11/#x-understanding>6.2. X-г таньж мэдэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/x11/#x-install>6.3. X11-г суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/x11/#x-config>6.4. X11-н тохируулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/x11/#x-fonts>6.5. X11 дээр үсгийн маяг хэрэглэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/x11/#x-xdm>6.6. X Display Manager буюу харуулалт зохицуулагч</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/x11/#x11-wm>6.7. Дэлгэцийн орчин</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/partii/>хэсэг II. Нийтлэг асуудлууд</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/desktop/>Бүлэг 7. Ширээний програмууд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/desktop/#desktop-synopsis>7.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/desktop/#desktop-browsers>7.2. Хөтчүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/desktop/#desktop-productivity>7.3. Бүтээмж</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/desktop/#desktop-viewers>7.4. Бичиг баримт үзүүлэгчид</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/desktop/#desktop-finance>7.5. Санхүү</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/desktop/#desktop-summary>7.6. Дүгнэлт</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/>Бүлэг 8. Мультимедиа</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/#multimedia-synopsis>8.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/#sound-setup>8.2. Дууны картыг тохируулах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/#sound-mp3>8.3. MP3 аудио</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/#video-playback>8.4. Видео тоглуулах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/#tvcard>8.5. ТВ картуудыг тохируулах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/#mythtv>8.6. MythTV</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/multimedia/#scanners>8.7. Дүрс скан хийгчид</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/>Бүлэг 9. FreeBSD цөмийг тохируулах нь</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/#kernelconfig-synopsis>9.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/#kernelconfig-custom-kernel>9.2. Яагаад өөрчлөн тохируулсан цөм бүтээх хэрэгтэй вэ?</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/#kernelconfig-devices>9.3. Системийн тоног төхөөрөмж хайж олох нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/#kernelconfig-modules>9.4. Цөмийн драйверууд, дэд системүүд, болон модулиуд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/#kernelconfig-building>9.5. Өөрчлөн тохируулсан цөмийг бүтээх ба суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/#kernelconfig-config>9.6. Тохиргооны файл</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/kernelconfig/#kernelconfig-trouble>9.7. Хэрэв ямар нэг юм буруутвал</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/printing/>Бүлэг 10. Хэвлэлт</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/printing/#printing-synopsis>10.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/printing/#printing-intro-spooler>10.2. Танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/printing/#printing-intro-setup>10.3. Үндсэн тохируулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/printing/#printing-advanced>10.4. Хэвлэгчийн илүү нарийн тохиргоо</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/printing/#printing-using>10.5. Хэвлэгчдийг ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/printing/#printing-lpd-alternatives>10.6. Хэвлэгчийн стандарт түр хадгалагчидтай ижил хадгалагчид</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/printing/#printing-troubleshooting>10.7. Алдааг олж засварлах</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/>Бүлэг 11. Линуксийн Хоёртын Нийлэмж</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/#linuxemu-synopsis>11.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/#linuxemu-lbc-install>11.2. Суулгалт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/#linuxemu-mathematica>11.3. Mathematica® суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/#linuxemu-maple>11.4. Maple™ суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/#linuxemu-matlab>11.5. MATLAB® суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/#linuxemu-oracle>11.6. Oracle® суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/linuxemu/#linuxemu-advanced>11.7. Нэмэлт сэдвүүд</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/partiii/>хэсэг III. Системийн Удирдлага</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/config/>Бүлэг 12. Тохиргоо ба Тааруулалт</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#config-synopsis>12.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-initial>12.2. Эхний Тохиргоо</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-core-configuration>12.3. Гол Тохиргоо</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-appconfig>12.4. Програмын Тохиргоо</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-starting-services>12.5. Үйлчилгээнүүдийг эхлүүлэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-cron>12.6. <code>cron</code> хэрэгслийг тохируулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-rcd>12.7. FreeBSD дээр rc(8) ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#config-network-setup>12.8. Сүлжээний интерфэйс картууд суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-virtual-hosts>12.9. Виртуал Хостууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-syslog>12.10. Системийн лог хийгч syslogd-г тохируулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-configfiles>12.11. Тохиргооны Файлууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-sysctl>12.12. sysctl(8) ашиглан тааруулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-disk>12.13. Дискнүүдийг тааруулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#configtuning-kernel-limits>12.14. Цөмийн хязгаарууд тохируулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#adding-swap-space>12.15. Swap зай нэмэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#acpi-overview>12.16. Тэжээл болон Эх үүсвэрийн Удирдлага</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/config/#ACPI-debug>12.17. FreeBSD-ийн ACPI-г ашиглах нь ба дибаг хийх нь</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/boot/>Бүлэг 13. FreeBSD-ийн Ачаалах процесс</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/boot/#boot-synopsis>13.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/boot/#boot-introduction>13.2. Ачаалалтын асуудал</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/boot/#boot-blocks>13.3. Ачаалагч Менежер болон Ачаалалтын шатууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/boot/#boot-kernel>13.4. Ачаалах үе дэх цөмийн харилцан үйлдэл</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/boot/#device-hints>13.5. Төхөөрөмжийн Сануулгууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/boot/#boot-init>13.6. Init: Процесс хяналтын эхлүүлэлт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/boot/#boot-shutdown>13.7. Унтраах дараалал</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/users/>Бүлэг 14. Хэрэглэгчид ба үндсэн бүртгэл зохицуулалт</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-synopsis>14.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-introduction>14.2. Танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-superuser>14.3. Супер хэрэглэгчийн бүртгэл</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-system>14.4. Систем бүртгэл</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-user>14.5. Энгийн хэрэглэгчийн бүртгэл</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-modifying>14.6. Бүртгэлд өөрчлөлт хийх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-limiting>14.7. Хэрэглэгчдэд хязгаарлалт хийх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/users/#users-groups>14.8. Бүлэг</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/security/>Бүлэг 15. Аюулгүй байдал</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#security-synopsis>15.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#security-intro>15.2. Танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#securing-freebsd>15.3. FreeBSD-н аюулгүй байдлыг хангах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#crypt>15.4. DES, Blowfish, MD5, SHA256, SHA512 болон Crypt</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#one-time-passwords>15.5. Нэг удаагийн нууц үгүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#tcpwrappers>15.6. TCP Гүйцэтгэлийг хялбаршуулагчид</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#kerberos5>15.7. Kerberos5</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#openssl>15.8. OpenSSL</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#ipsec>15.9. IPsec дээгүүр VPN хийх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#openssh>15.10. OpenSSH</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#fs-acl>15.11. Файлын системийн хандалт хянах жагсаалтууд(ACL-үүд)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#security-portaudit>15.12. Гуравдагч талын аюулгүй байдлын асуудлуудыг монитор хийх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#security-advisories>15.13. FreeBSD-ийн аюулгүй байдлын зөвлөгөөнүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/security/#security-accounting>15.14. Процессийн бүртгэл хөтлөх</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/jails/>Бүлэг 16. Jails буюу Шоронгууд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/jails/#jails-synopsis>16.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/jails/#jails-terms>16.2. Шоронгуудтай холбоотой ойлголтууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/jails/#jails-intro>16.3. Танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/jails/#jails-build>16.4. Шоронг үүсгэж хянах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/jails/#jails-tuning>16.5. Нарийн тааруулалт болон удирдлага</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/jails/#jails-application>16.6. Шоронгийн хэрэглээ</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/mac/>Бүлэг 17. Mandatory Access Control буюу Албадмал Хандалтын хяналт</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-synopsis>17.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-inline-glossary>17.2. Энэ бүлэг дэх түлхүүр ухагдахуунууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-initial>17.3. MAC-ийн тайлбар</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-understandlabel>17.4. MAC хаяг/шошгонуудыг ойлгох нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-planning>17.5. Аюулгүй байдлын тохиргоог төлөвлөх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-modules>17.6. Модулийн тохиргоо</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-seeotheruids>17.7. MAC seeotheruids модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-bsdextended>17.8. MAC bsdextended модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-ifoff>17.9. MAC ifoff модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-portacl>17.10. MAC portacl модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-partition>17.11. MAC хуваалтын модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-mls>17.12. MAC олон түвшинт аюулгүй байдлын модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-biba>17.13. MAC Biba модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-lomac>17.14. MAC LOMAC модуль</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-implementing>17.15. MAC Шорон дахь Nagios</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-userlocked>17.16. Хэрэглэгчийг түгжих</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mac/#mac-troubleshoot>17.17. MAC Тогтолцооны алдааг олж засварлах</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/audit/>Бүлэг 18. Аюулгүй байдлын үйл явцад аудит хийх нь</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/audit/#audit-synopsis>18.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/audit/#audit-inline-glossary>18.2. Энэ бүлгийн түлхүүр ухагдахуунууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/audit/#audit-install>18.3. Аудит хийх дэмжлэг суулгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/audit/#audit-config>18.4. Аудитийн тохиргоо</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/audit/#audit-administration>18.5. Аудит дэд системийг удирдах нь</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/disks/>Бүлэг 19. Хадгалалт</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#disks-synopsis>19.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#disks-naming>19.2. Төхөөрөмжийн нэрс</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#disks-adding>19.3. Диск нэмэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#raid>19.4. RAID</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#usb-disks>19.5. USB хадгалалтын төхөөрөмжүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#creating-cds>19.6. Оптик зөөвөрлөгчийг (CD-үүд) үүсгэж ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#creating-dvds>19.7. Оптик зөөвөрлөгчийг (DVD-үүд) үүсгэж ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#floppies>19.8. Уян дискнүүдийг үүсгэж ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#backups-tapebackups>19.9. Өгөгдлийн соронзон хальснууд үүсгэж ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#backups-floppybackups>19.10. Уян диск уруу нөөцлөх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#backup-strategies>19.11. Нөөцлөх стратегууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#backup-basics>19.12. Нөөцлөлтийн үндсүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#disks-virtual>19.13. Сүлжээ, санах ой болон файл дээр тулгуурласан файлын системүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#snapshots>19.14. Файлын системийн хормын хувилбарууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#quotas>19.15. Файлын системийн ноогдлууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#disks-encrypting>19.16. Дискний хуваалтуудыг шифрлэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#swap-encrypting>19.17. Swap зайг шифрлэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/disks/#disks-hast>19.18. Highly Available Storage (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/geom/>Κεφάλαιο 20. GEOM: Διαχείριση Συστοιχιών Δίσκων</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#GEOM-synopsis>20.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#GEOM-intro>20.2. GEOM-ийн Танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#GEOM-striping>20.3. RAID0 - Судал үүсгэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#GEOM-mirror>20.4. RAID1 - Толин тусгал үүсгэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#GEOM-raid3>20.5. RAID3 - Parity бүхий байтын түвшний тусдаа судалжуулалт (Striping)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#geom-ggate>20.6. GEOM Хаалга Сүлжээний Төхөөрөмжүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#geom-glabel>20.7. Дискний төхөөрөмжүүдийг хаяглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/geom/#geom-gjournal>20.8. GEOM-ийн тусламжтай UFS тэмдэглэл</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/filesystems/>Бүлэг 21. Файлын системийн дэмжлэг</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/filesystems/#filesystems-synopsis>21.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/filesystems/#filesystems-zfs>21.2. Z Файлын Систем (ZFS)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/filesystems/#filesystems-linux>21.3. Linux® файлын системүүд</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/vinum/>Бүлэг 22. Vinum Эзлэхүүн Менежер</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-synopsis>22.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-intro>22.2. Дискнүүд хэтэрхий жижиг</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-access-bottlenecks>22.3. Хандалтын тагларалтууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-data-integrity>22.4. Өгөгдлийн бүрэн бүтэн байдал</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-objects>22.5. Vinum обьектууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-examples>22.6. Зарим жишээнүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-object-naming>22.7. Обьектийн нэрлэлт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-config>22.8. Vinum тохируулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/vinum/#vinum-root>22.9. Root файлын системийн хувьд Vinum-ийг ашиглах нь</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/virtualization/>Бүлэг 23. Виртуалчлал</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/virtualization/#virtualization-synopsis>23.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/virtualization/#virtualization-guest>23.2. FreeBSD-г зочин OS маягаар ашиглах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/virtualization/#virtualization-host>23.3. FreeBSD-г хост буюу эх маягаар ашиглах</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/l10n/>Бүлэг 24. Локалчлал - I18N/L10N-ийн хэрэглээ болон тохируулга</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/l10n/#l10n-synopsis>24.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/l10n/#l10n-basics>24.2. Үндсүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/l10n/#using-localization>24.3. Локалчлалыг ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/l10n/#l10n-compiling>24.4. I18N програмуудыг эмхэтгэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/l10n/#lang-setup>24.5. FreeBSD-г өөр хэлнүүд уруу локалчлах</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/>Бүлэг 25. FreeBSD-г шинэчилж сайжруулах нь</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#updating-upgrading-synopsis>25.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>25.2. FreeBSD-ийн шинэчлэлт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#updating-upgrading-portsnap>25.3. Portsnap: Портын цуглуулгыг шинэчлэх хэрэгсэл</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#updating-upgrading-documentation>25.4. Баримтын цуглуулгыг шинэчлэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#current-stable>25.5. Хөгжүүлэлтийн салбарыг дагах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#synching>25.6. Өөрийн эхийг хамгийн сүүлийн хэлбэрт аваачих нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#makeworld>25.7. "Ертөнц"ийг дахин бүтээх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#make-delete-old>25.8. Хуучин файлууд, хавтаснууд болон сангуудыг устгах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/cutting-edge/#small-lan>25.9. Олон машины хувьд дагах нь</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/dtrace/>Бүлэг 26. DTrace</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/dtrace/#dtrace-synopsis>26.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/dtrace/#dtrace-implementation>26.2. Шийдлийн ялгаанууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/dtrace/#dtrace-enable>26.3. DTrace дэмжлэгийг идэвхжүүлэх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/dtrace/#dtrace-using>26.4. DTrace-г ашиглах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/dtrace/#dtrace-language>26.5. D хэл</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/partiv/>хэсэг IV. Сүлжээний Холболт</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/serialcomms/>Бүлэг 27. Цуваа холбоонууд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/serialcomms/#serial-synopsis>27.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/serialcomms/#serial>27.2. Танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/serialcomms/#term>27.3. Терминалууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/serialcomms/#dialup>27.4. Dial-in буюу гаднаас залгах үйлчилгээ</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/serialcomms/#dialout>27.5. Dial-out буюу гадагш залгах үйлчилгээ</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/serialcomms/#serialconsole-setup>27.6. Цуваа консолыг тохируулах нь</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/>Бүлэг 28. PPP болон SLIP</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>28.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/#userppp>28.2. Хэрэглэгчийн PPP ашиглах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/#ppp>28.3. Цөмийн PPP-г ашиглах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/#ppp-troubleshoot>28.4. PPP холболтуудын алдааг олж засварлах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/#pppoe>28.5. Ethernet дээгүүр PPP ашиглах нь (PPPoE)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/#pppoa>28.6. ATM дээгүүр PPP (PPPoA) ашиглах</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/ppp-and-slip/#slip>28.7. SLIP ашиглах</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/mail/>Бүлэг 29. Цахим Шуудан</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-synopsis>29.1. Ерөнхий Агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-using>29.2. Цахим Захидлыг Хэрэглэх нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#sendmail>29.3. sendmail-г Тохируулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-changingmta>29.4. Өөрийн Захидал Дамжуулах Агентийг Солих нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-trouble>29.5. Гэмтэл саатлыг арилгах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-advanced>29.6. Дээд түвшний сэдвүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#SMTP-UUCP>29.7. UUCP-тэй SMTP</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#outgoing-only>29.8. Зөвхөн илгээхээр тохируулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#SMTP-dialup>29.9. Гадагш залгах холболтоор захидлыг ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#SMTP-Auth>29.10. SMTP нэвтрэлт танилт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-agents>29.11. Хэрэглэгчийн захидал дамжуулагчид</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-fetchmail>29.12. fetchmail-г ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mail/#mail-procmail>29.13. procmail-г ашиглах нь</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle checked>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/>Бүлэг 30. Сүлжээний орчны Серверүүд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-servers-synopsis>30.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-inetd>30.2. inetd"Супер-Сервер"</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-nfs>30.3. Сүлжээний Файлын Систем (NFS)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-nis>30.4. Сүлжээний Мэдээллийн Систем (NIS/YP)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-dhcp>30.5. Автомат Сүлжээний Тохиргоо (DHCP)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-dns>30.6. Домэйн Нэрийн Систем (DNS)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-apache>30.7. Apache HTTP Сервер</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-ftp>30.8. Файл Дамжуулах Протокол (FTP)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-samba>30.9. Microsoft® Windows® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-ntp>30.10. ntpd-р Цаг Тааруулах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/network-servers/#network-syslogd>30.11. <code>syslogd</code> ашиглан алсын хост руу бүртгэх нь</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/firewalls/>Бүлэг 31. Галт хана</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/firewalls/#firewalls-intro>31.1. Танилцуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/firewalls/#firewalls-concepts>31.2. Галт ханын тухай ойлголтууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/firewalls/#firewalls-apps>31.3. Галт ханын багцууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/firewalls/#firewalls-pf>31.4. OpenBSD Пакет шүүгч (PF) ба ALTQ</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/firewalls/#firewalls-ipf>31.5. IPFILTER (IPF) Галт хана</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/firewalls/#firewalls-ipfw>31.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/>Бүлэг 32. Сүлжээний нэмэлт ойлголтууд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#advanced-networking-synopsis>32.1. Ерөнхий агуулга</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-routing>32.2. Гарцууд болон Чиглүүлэлтүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-wireless>32.3. Утасгүй сүлжээ</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-bluetooth>32.4. Bluetooth</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-bridging>32.5. Гүүр</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-aggregation>32.6. Холбоос нэгтгэлт ба ослыг тойрон гарах (Link Aggregation and Failover)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-diskless>32.7. Дискгүй ажиллагаа</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-pxe-nfs>32.8. NFS root файлын систем ашиглан PXE ачаалалт хийх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-isdn>32.9. ISDN</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-natd>32.10. Network Address Translation буюу Сүлжээний Хаягийн Хөрвүүлэлт</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-ipv6>32.11. IPv6</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#network-atm>32.12. Asynchronous Transfer Mode (ATM) буюу Асинхрон Дамжуулах Горим</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/advanced-networking/#carp>32.13. Common Address Redundancy Protocol (CARP)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/partv/>хэсэг V. Хавсралтууд</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/>Хавсралт A. FreeBSD-г олж авах нь</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#mirrors-cdrom>A.1. CDROM болон DVD Нийтлэгчид</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#mirrors-ftp>A.2. FTP сайтууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#anoncvs>A.3. Нэргүй CVS(хуучирсан)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#ctm>A.4. CTM-г ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#svn>A.5. Subversion ашиглах нь</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#svn-mirrors>A.6. Subversion толин сайтууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#cvsup>A.7. CVSup-г ашиглах нь (хуучирсан)</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#cvs-tags>A.8. CVS Tags буюу хаягууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/mirrors/#mirrors-rsync>A.9. rsync сайтууд</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/>Хавсралт B. Ном зүй</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-freebsd>B.1. FreeBSD-ийн талаар тусгайлан бичсэн ном & сэтгүүлүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-userguides>B.2. Хэрэглэгчдийн гарын авлагууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-adminguides>B.3. Администраторууд зориулсан зааврууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-programmers>B.4. Програм зохиогчдод зориулсан зааврууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-osinternals>B.5. Үйлдлийн системийн дотоод бүрэлдэхүүнүүдийн талаар</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-security>B.6. Аюулгүй байдлын тухай номнууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-hardware>B.7. Тоног төхөөрөмжийн тухай номнууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-history>B.8. UNIX®-ийн түүх</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/bibliography/#bibliography-journals>B.9. Сонин, сэтгүүлүүд</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/eresources/>Хавсралт C. Интернэт дэх эх үүсвэрүүд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/eresources/#eresources-mail>C.1. Захидлын жагсаалтууд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/eresources/#eresources-news>C.2. Usenet Newsgroups буюу мэдээний бүлгүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/eresources/#eresources-web>C.3. Word Wide Web серверүүд</a></li><li><a href=https://docs.freebsd.org/mn/books/handbook/eresources/#eresources-email>C.4. Цахим захидлын хаягууд</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/mn/books/handbook/pgpkeys/>Хавсралт D. PGP түлхүүрүүд</a><ul><li><a href=https://docs.freebsd.org/mn/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Officers</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Бүлэг 30. Сүлжээний орчны Серверүүд</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#network-servers-synopsis>30.1. Ерөнхий агуулга</a></li><li><a href=#network-inetd>30.2. inetd"Супер-Сервер"</a></li><li><a href=#network-nfs>30.3. Сүлжээний Файлын Систем (NFS)</a></li><li><a href=#network-nis>30.4. Сүлжээний Мэдээллийн Систем (NIS/YP)</a></li><li><a href=#network-dhcp>30.5. Автомат Сүлжээний Тохиргоо (DHCP)</a></li><li><a href=#network-dns>30.6. Домэйн Нэрийн Систем (DNS)</a></li><li><a href=#network-apache>30.7. Apache HTTP Сервер</a></li><li><a href=#network-ftp>30.8. Файл Дамжуулах Протокол (FTP)</a></li><li><a href=#network-samba>30.9. Microsoft® Windows® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)</a></li><li><a href=#network-ntp>30.10. ntpd-р Цаг Тааруулах нь</a></li><li><a href=#network-syslogd>30.11. <code>syslogd</code> ашиглан алсын хост руу бүртгэх нь</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=network-servers-synopsis>30.1. Ерөнхий агуулга<a class=anchor href=#network-servers-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>Энэ бүлэгт UNIX® системүүдэд өргөн хэрэглэгддэг, сүлжээний орчинд ажилладаг зарим нэг үйлчилгээнүүдийн талаар авч үзнэ. Бид тэдгээр үйлчилгээнүүдийг хэрхэн суулгах, тохируулах, турших болон үйлчилгээг хариуцах талаар үзэх болно. Танд зориулж жишээ тохиргооны файлуудыг мөн оруулж өгсөн байгаа.</p></div><div class=paragraph><p>Энэ бүлгийг уншсаны дараа, та дараах зүйлсийг мэдэх болно:</p></div><div class=ulist><ul><li><p>inetd дэмоныг хэрхэн удирдах.</p></li><li><p>Сүлжээний орчны файл системийг хэрхэн зохион байгуулах.</p></li><li><p>Хэрэглэгчийн бүртгэлийг хуваалцах сүлжээний орчны мэдээллийн серверийг хэрхэн зохион байгуулах.</p></li><li><p>DHCP ашиглан автоматаар сүлжээний тохиргоог хэрхэн хийх.</p></li><li><p>Домэйн нэрийн серверийг хэрхэн зохион байгуулах.</p></li><li><p>Apache HTTP Серверийг хэрхэн зохион байгуулах.</p></li><li><p>File Transfer Protocol буюу Файл Дамжуулах Протокол(FTP) Серверийг хэрхэн зохион байгуулах.</p></li><li><p>Samba ашиглан Windows® хэрэглэгчдэд зориулсан файл болон хэвлэгч серверийг хэрхэн зохион байгуулах.</p></li><li><p>NTP протокол ашиглан цаг болон өдрийг тохируулах хийгээд цагийн серверийг хэрхэн зохион байгуулах.</p></li><li><p>How to configure the standard logging daemon, <code>syslogd</code>, to accept logs from remote hosts.</p></li></ul></div><div class=paragraph><p>Энэ бүлгийг уншихаасаа өмнө, та дараах шаардлагыг хангасан байх хэрэгтэй:</p></div><div class=ulist><ul><li><p><span class=filename>/etc/rc</span> скриптүүдийн үндсийг ойлгосон байх.</p></li><li><p>Сүлжээний үндсэн нэр томъёоллыг мэддэг байх.</p></li><li><p>Гуравдагч этгээдийн програмыг(<a href=../ports/#ports>Програм суулгах. Багцууд болон портууд</a>) хэрхэн нэмж суулгахыг мэддэг байх.</p></li></ul></div></div></div><div class=sect1><h2 id=network-inetd>30.2. inetd"Супер-Сервер"<a class=anchor href=#network-inetd></a></h2><div class=sectionbody><div class=sect2><h3 id=network-inetd-overview>30.2.1. Ерөнхий агуулга<a class=anchor href=#network-inetd-overview></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> нь олон тооны үйлчилгээний сүлжээний холболтыг удирддаг тул заримдаа түүнийг "Интернэт Супер-Сервер" гэж нэрлэх нь бий. Гаднаас үүсч буй холболтыг inetd хүлээн авч, аль програмтай холбогдохыг тодорхойлон, тухайн процессийг салаалуулж, сокетийг түүн рүү чиглүүлнэ (програмын стандарт оролт, гаралт болон алдааны дескриптороор үйлчилгээний сокетийг өгнө). Байнга ашиглагддаггүй үйлчилгээний хувьд inetd-г ажиллуулах нь бүх дэмонг дангаар бие-даах горимд ажиллуулсантай харьцуулахад системийн нийт ачааллыг бууруулж өгдөг.</p></div><div class=paragraph><p>Голчлон, inetd нь бусад дэмонуудыг салаалуулахад хэрэглэгддэг боловч chargen, auth, ба daytime гэх мэт нилээд олон ердийн протоколуудыг шууд зохицуулан ажиллуулж чадна.</p></div><div class=paragraph><p>Энэ хэсэгт inetd-н үндсэн тохиргоог тушаалын мөрний тохируулгаар, мөн <span class=filename>/etc/inetd.conf</span> тохиргооны файлаар хэрхэн хийхийг үзэх болно.</p></div></div><div class=sect2><h3 id=network-inetd-settings>30.2.2. Тохиргоо<a class=anchor href=#network-inetd-settings></a></h3><div class=paragraph><p>inetd нь <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> системээр эхлүүлэгдэнэ. <code>inetd_enable</code> тохируулгын анхдагч утга нь <code>NO</code> бөгөөд, системийг суулгах явцад хэрэглэгчийн зааж өгсний дагуу sysinstall програмын тусламжтай идэвхжүүлж болно.</p></div><div class="literalblock programlisting"><div class=content><pre>inetd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>эсвэл</p></div><div class="literalblock programlisting"><div class=content><pre>inetd_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>гэсэн мөрийг <span class=filename>/etc/rc.conf</span> файл дотор байрлуулснаар inetd-г систем ачаалахад эхэлдэг болгож болно. Доор дурдсан:</p></div><div class="literalblock programlisting"><div class=content><pre>service inetd rcvar</pre></div></div><div class=paragraph><p>тушаалыг өгөн одоо идэвхтэй байгаа тохиргоог харж болно.</p></div><div class=paragraph><p>Дээр нь, <code>inetd_flags</code> тохируулгаар дамжуулан inetd програмд тушаалын мөрнөөс өөр бусад тохируулгуудыг зааж өгч болно.</p></div></div><div class=sect2><h3 id=network-inetd-cmdline>30.2.3. Тушаалын мөрний тохируулгууд<a class=anchor href=#network-inetd-cmdline></a></h3><div class=paragraph><p>Ихэнх сервер дэмоны нэгэн адил, inetd нь түүнийг өөрчлөн тохируулахад зориулагдсан олон тооны тохируулгуудын хамт ирдэг. Сонголтуудын бүрэн жагсаалтыг <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> гарын авлагын хуудаснаас үзнэ үү.</p></div><div class=paragraph><p><span class=filename>/etc/rc.conf</span> файл доторх <code>inetd_flags</code> тохируулгыг ашиглан эдгээр тохируулгуудыг inetd-д дамжуулна. Анхдагч байдлаар, <code>inetd_flags</code> нь <code>-wW -C 60</code> гэсэн утгыг авсан байх ба энэ нь inetd-ны үйлчилгээнүүдийн хувьд TCP wrapping буюу TCP-ийн дундын хяналтыг идэвхжүүлэх ба нэг IP хаягнаас аль нэг үйлчилгээнд нэг минутанд 60-аас дээш удаа хүсэлт тавих боломжгүй болгоно.</p></div><div class=paragraph><p>Хэдийгээр бид хурдыг хэрхэн хязгаарлахыг доор үзүүлж байгаа ч, анхлан суралцагчдын хувьд эдгээр параметрүүдийг ихэвчлэн өөрчлөх шаардлагагүй байдаг. Эдгээр тохируулга нь гаднаас хэтэрхий олон тооны хандалт хийгдэж байгаа үед тустай байдаг Тохируулгуудын бүрэн жагсаалтыг <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> заавар хуудаснаас үзнэ үү.</p></div><div class=dlist><dl><dt class=hdlist1>-c maximum</dt><dd><p>Үйлчилгээг нэгэн зэрэг хамгийн ихдээ хэдэн удаа дуудаж болохыг заана; Анхдагч утга нь хязгааргүй. Үйлчилгээ тус бүрээр <code>max-child</code> параметрийн тусламжтай утгыг дарж өөрчилж болно.</p></dd><dt class=hdlist1>-C rate</dt><dd><p>Үйлчилгээг нэг IP хаягнаас нэг минутын дотор хамгийн ихдээ хэдэн удаа дуудаж болохыг заана; Анхдагч утга нь хязгааргүй. Үйлчилгээ тус бүрээр <code>max-connections-per-ip-per-minute</code> параметрийн тусламжтай утгыг дарж өөрчилж болно.</p></dd><dt class=hdlist1>-R rate</dt><dd><p>Үйлчилгээг нэг минутын дотор хамгийн ихдээ хэдэн удаа дуудаж болохыг заана; Анхдагч утга нь 256. 0-г тавьснаар хязгааргүй болгоно.</p></dd><dt class=hdlist1>-s maximum</dt><dd><p>Үйлчилгээг нэг IP хаягнаас хамгийн ихдээ хэдэн удаа дуудаж болохыг заана; Анхдагч утга нь хязгааргүй. Үйлчилгээ тус бүрээр <code>max-child-per-ip</code> параметрийн тусламжтай утгыг дарж өөрчилж болно.</p></dd></dl></div></div><div class=sect2><h3 id=network-inetd-conf>30.2.4. <span class=filename>inetd.conf</span><a class=anchor href=#network-inetd-conf></a></h3><div class=paragraph><p>inetd-г <span class=filename>/etc/inetd.conf</span> файлын тусламжтай тохируулна.</p></div><div class=paragraph><p><span class=filename>/etc/inetd.conf</span> файлд өөрчлөлт хийсний дараа, inetd-р тохиргооны файлыг дахин уншуулахдаа дараах тушаалыг өгнө:</p></div><div id=network-inetd-reread class=exampleblock><div class=title>Жишээ 1. inetd-н тохиргооны файлыг дахин ачаалах нь</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service inetd reload</span></code></pre></div></div></div></div><div class=paragraph><p>Тохиргооны файлын мөр бүр тусдаа дэмонг заана. Файл доторх тайлбарууд нь мөрийн эхэнд "#" тэмдэгтэй байна. <span class=filename>/etc/inetd.conf</span> файл доторх бичлэгүүдийн формат дараах байдалтай байна:</p></div><div class="literalblock programlisting"><div class=content><pre>service-name
socket-type
protocol
{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-ip]]]
user[:group][/login-class]
server-program
server-program-arguments</pre></div></div><div class=paragraph><p>IPv4 ашигладаг <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpd&amp;sektion=8&amp;format=html">ftpd(8)</a> дэмоны хувьд жишээ бичлэг дараах байдалтай байж болно:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp     stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -l</pre></div></div><div class=dlist><dl><dt class=hdlist1>service-name</dt><dd><p>Тухайн дэмоны үйлчилгээний нэрийг заана. Энэ нь <span class=filename>/etc/services</span> файл дотор бичигдсэн үйлчилгээнүүдийн нэг байх ёстой бөгөөд аль портон дээр сонсохыг inetd-д хэлж өгнө. Хэрэв шинэ үйлчилгээ үүсгэсэн бол түүнийг заавал <span class=filename>/etc/services</span> файл дотор нэмсэн байх ёстой.</p></dd><dt class=hdlist1>socket-type</dt><dd><p><code>stream</code>, <code>dgram</code>, <code>raw</code>, эсвэл <code>seqpacket</code> эдгээрийн нэг байна. <code>stream</code>-г холболтон дээр үндэслэсэн TCP дэмонуудын хувьд хэрэглэдэг бол, <code>dgram</code>-г UDP протоколоор ажилладаг дэмонуудын хувьд хэрэглэнэ.</p></dd><dt class=hdlist1>protocol</dt><dd><p>Доор дурдсанаас нэг нь байна:</p><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Протокол</th><th class="tableblock halign-left valign-top">Тайлбар</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp, tcp4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP IPv4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp, udp4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP IPv4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP IPv6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP IPv6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp46</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP IPv4 ба v6 хоёул</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp46</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP IPv4 ба v6 хоёул</p></td></tr></tbody></table></dd><dt class=hdlist1>{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-ip]]]</dt><dd><p><code>wait|nowait</code> нь inetd-р дуудагдсан дэмон өөрийн сокетийг удирдаж чадах эсэхийг заана. <code>dgram</code> төрлийн сокет дэмоны хувьд <code>wait</code> тохируулгыг хэрэглэх ёстой байдаг бол, ихэвчлэн олон урсгалтай байдаг <code>stream</code> сокет дэмоны хувьд <code>nowait</code> тохируулгыг хэрэглэх хэрэгтэй байдаг. <code>wait</code> нь ихэвчлэн олон сокетийг нэг дэмонд шилжүүлэн өгдөг бол, <code>nowait</code> нь шинээр үүссэн сокет тус бүрт харгалзуулан хүүхэд дэмонг салаалуулан үүсгэдэг.</p><div class=paragraph><p>inetd-ийн салаалуулан үүсгэж болох хамгийн их хүүхэд дэмоны тоог <code>max-child</code> тохируулгын тусламжтай зааж өгч болно. Хэрэв тухайн дэмоны ажиллаж болох тохиолдлыг 10-р хязгаарлах бол, <code>nowait</code>-н ард <code>/10</code> гэж бичнэ. <code>/0</code> нь хүүхдийн тоог хязгаарлахгүй гэсэн утгатай.</p></div><div class=paragraph><p><code>max-child</code>-с гадна, нэг газраас тухайн дэмонтой үүсгэж байгаа холболтын тоог хязгаарладаг өөр хоёр тохируулгыг хэрэглэж болно. <code>max-connections-per-ip-per-minute</code> нь тухайн ямар нэг IP хаягнаас нэг минутанд үүсгэж болох холболтын тоог хязгаарлана, жишээлбэл: 10 гэсэн утга нь тухайн ямар нэг IP хаягнаас нэг минутын дотор тухайн үйлчилгээнд холбогдохоор оролдох оролдлогын тоог 10-р хязгаарлана. <code>max-child-per-ip</code> нь Тухайн ямар нэг IP хаяг дээр үүсгэгдсэн хүүхдийн тоог хязгаарлана. Эдгээр тохируулгууд нь санаатай болон санамсаргүйгээр нөөцийг хэтрүүлэн хэрэглэх, мөн Үйлчилгээг Зогсоох (DoS) халдлагаас хамгаалахад хэрэгтэй байдаг.</p></div><div class=paragraph><p>Хэрэглэхдээ, <code>wait</code> ба <code>nowait</code> хоёрын аль нэгийг заавал хэрэглэх ёстой. Харин <code>max-child</code>, <code>max-connections-per-ip-per-minute</code> ба <code>max-child-per-ip</code> тохируулгуудыг сонгон хэрэглэж болно.</p></div><div class=paragraph><p>Stream төрлийн олон урсгалтай дэмоны хувьд, <code>max-child</code>, <code>max-connections-per-ip-per-minute</code> эсвэл <code>max-child-per-ip</code> хязгаарлалтуудын алийг ч хэрэглэхгүй тохиолдолд ердөө: <code>nowait</code> байна.</p></div><div class=paragraph><p>Дээрхтэй адил дэмон, 10 хүүхэд дэмоны хязгаарлалттай бол: <code>nowait/10</code> байна.</p></div><div class=paragraph><p>Мөн адил дэмон, 10 хүүхэд дэмоны хязгаарлалттай, минутанд нэг IP хаягнаас үүсгэх холболтын тоог 20-р хязгаарлах бол: <code>nowait/10/20</code> болно.</p></div><div class=paragraph><p>Эдгээр тохируулгуудыг <a href="https://man.freebsd.org/cgi/man.cgi?query=fingerd&amp;sektion=8&amp;format=html">fingerd(8)</a> дэмоны анхдагч тохиргоон дээр жишээ болгон харвал:</p></div><div class="literalblock programlisting"><div class=content><pre>finger stream  tcp     nowait/3/10 nobody /usr/libexec/fingerd fingerd -s</pre></div></div><div class=paragraph><p>Эцэст нь, 100 хүүхдийн хязгаарлалттай, нэг IP хаягнаас үүсэх холболтын тоог 5-р хязгаарласан дэмоны жишээг авбал: <code>nowait/100/0/5</code> байх юм.</p></div></dd><dt class=hdlist1>user</dt><dd><p>Энд тухайн дэмон ямар хэрэглэгчийн нэрээр ажиллахыг зааж өгнө. Ихэвчлэн дэмонууд <code>root</code> хэрэглэгчийн нэр дээр ажилладаг. Аюулгүй байдлын үүднээс, зарим серверүүд <code>daemon</code>, эсвэл хамгийн бага эрхтэй <code>nobody</code> хэрэглэгчийн нэр дээр ажиллах нь элбэг байдаг.</p></dd><dt class=hdlist1>server-program</dt><dd><p>Энд гаднаас холболт хүлээн авахад ажиллуулах дэмоны бүрэн замыг зааж өгнө. Хэрэв энэ дэмон inetd-р удирдагдсан дотоод үйлчилгээ бол <code>internal</code> тохируулгыг хэрэглэх хэрэгтэй.</p></dd><dt class=hdlist1>server-program-arguments</dt><dd><p>Үүнийг <code>server-program</code>-тай хамт, <code>argv[0]</code>-с эхлэн програмын аргументыг зааж өгөх байдлаар хэрэглэнэ. Хэрэв командын мөрөнд <code>mydaemon -d</code> гэсэн байдлаар хэрэглэдэг бол, <code>server-program-arguments</code>-н утга <code>mydaemon -d</code> байна. Дахин хэлэхэд, хэрэв тухайн дэмон дотоод үйлчилгээний нэг бол <code>internal</code>-г энд мөн хэрэглэнэ үү.</p></dd></dl></div></div><div class=sect2><h3 id=network-inetd-security>30.2.5. Аюулгүй байдал<a class=anchor href=#network-inetd-security></a></h3><div class=paragraph><p>Үйлдлийн системийг суулгах үед хийсэн сонголтуудаас хамааран inetd-н үйлчилгээнүүдийн ихэнх нь идэвхтэй болсон байдаг. Хэрэв хэрэглэх онцын шаардлага байхгүй бол тэдгээрийг идэвхгүй болгоно уу. <span class=filename>/etc/inetd.conf</span> файл дотор, идэвхгүй болгох гэж байгаа демоныхоо харгалзах мөрийн урд "#" тэмдгийг тавьж өгнө. Дараа нь <a href=#network-inetd-reread>inetd-н тохиргоог дахин ачаална</a>. fingerd зэрэг зарим дэмонууд гадны халдагчид хэрэгтэй мэдээллийг түгээж байдаг тул тэдгээр үйлчилгээг бүрмөсөн хааж болох юм.</p></div><div class=paragraph><p>Зарим дэмонууд аюулгүй байдлыг бодолцолгүйгээр бүтээгдсэн байдаг ба холболт тогтоох харьцангуй урт болзоот хугацаатай, эсвэл болзоот хугацааг огт зааж өгөөгүй байдаг. Энэ нь халдагчид тодорхой дэмон уруу холболт тогтоох хүсэлтийг олон дахин илгээж, нөөцийг дуусгах замаар системд халдах боломжийг олгодог. Хэрэв ямар нэг дэмоны хувьд үүссэн холболтын тоо хэтэрхий олон байвал <code>max-connections-per-ip-per-minute</code>, <code>max-child</code> эсвэл <code>max-child-per-ip</code> тохиргооны тусламжтайгаар хязгаарлалт хийх нь оновчтой байдаг.</p></div><div class=paragraph><p>Анхдагч байдлаар TCP-ийн дундын хяналт (гүйцэтгэл хялбаршуулалт) идэвхтэй байдаг. inetd-р дуудагдсан дэмонуудын хувьд TCP хязгаарлалтыг хэрхэн тавих талаар дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts_access&amp;sektion=5&amp;format=html">hosts_access(5)</a> заавар хуудаснаас үзнэ үү.</p></div></div><div class=sect2><h3 id=network-inetd-misc>30.2.6. Элдэв зүйлс<a class=anchor href=#network-inetd-misc></a></h3><div class=paragraph><p>daytime, time, echo, discard, chargen, ба auth бүгд inetd-н дотоод үйлчилгээнүүд юм.</p></div><div class=paragraph><p>auth үйлчилгээ нь сүлжээний орчинд, тодорхойлолт өгөх үйлчилгээ үзүүлдэг бөгөөд тодорхой түвшинд тохиргоо хийх боломжтой байдаг бол бусад үйлчилгээнүүдийг зөвхөн идэвхтэй эсвэл идэвхгүй болгох боломжтой.</p></div><div class=paragraph><p>Дээрх үйлчилгээнүүдийн талаар бүрэн дүүрэн мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> заавар хуудаснаас үзнэ үү.</p></div></div></div></div><div class=sect1><h2 id=network-nfs>30.3. Сүлжээний Файлын Систем (NFS)<a class=anchor href=#network-nfs></a></h2><div class=sectionbody><div class=paragraph><p>FreeBSD дээр дэмжигддэг олон файлын системүүдийн нэг бол Network File System буюу Сүлжээний Файлын Систем юм, мөн NFS гэж нэрлэнэ. NFS нь сүлжээний орчинд файл болон санг бусадтай хуваалцах боломжийг олгодог. NFS-г хэрэглэн, хэрэглэгчид болон програмууд алслагдсан систем рүү дотоод файл руу хандаж байгаатай адилаар хандах боломжтой.</p></div><div class=paragraph><p>NFS-н тэмдэглүүштэй давуу талуудаас дурдвал:</p></div><div class=ulist><ul><li><p>Өргөн хэрэглэгддэг өгөгдлийг нэгтгэн нэг машин дээр байрлуулж, түүнд алсаас хандах боломжтой болсноор дотоод машинууд илүү бага диск хэрэглэх болно.</p></li><li><p>Хэрэглэгчийн хувьд сүлжээнд байгаа машин бүр дээр тус тусдаа гэрийн сантай байх шаардлагагүй болно. Гэрийн санг нэг удаа NFS сервер дээр үүсгээд түүнийгээ сүлжээгээр дамжин хэрэглэх боломжтой.</p></li><li><p>Уян диск, CDROM болон Zip® төхөөрөмжүүдийг сүлжээний бусад машинууд хэрэглэх боломжтой болно. Ингэснээр сүлжээнд хэрэглэгдэх зөөвөрлөх боломжтой хадгалах төхөөрөмжүүдийн тоог багасгана.</p></li></ul></div><div class=sect2><h3 id=_nfs_хэрхэн_ажилладаг_вэ>30.3.1. NFS хэрхэн ажилладаг вэ<a class=anchor href=#_nfs_хэрхэн_ажилладаг_вэ></a></h3><div class=paragraph><p>NFS нь үндсэн хоёр хэсгээс бүрдэнэ: сервер болон нэг ба түүнээс дээш тооны харилцагч. Сервер машин дээр хадгалагдаж байгаа өгөгдөл рүү харилцагч алсаас хандана. Дээрх үйлдлийг зөв гүйцэтгэхийн тулд нилээд хэдэн процессийн тохиргоог хийж, ажиллуулсан байх ёстой.</p></div><div class=paragraph><p>Сервер дээр дараах дэмонууд ажиллаж байх ёстой:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Дэмон</th><th class="tableblock halign-left valign-top">Тайлбар</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>nfsd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NFS харилцагчдаас ирэх хүсэлтийг хүлээн авах NFS дэмон.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mountd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=nfsd&amp;sektion=8&amp;format=html">nfsd(8)</a>-с дамжиж ирсэн хүсэлтийг гүйцэтгэгч NFS холбох дэмон.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rpcbind</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Энэ дэмоны тусламжтай NFS харилцагчид NFS сервер аль портон дээр ажиллаж байгааг олж мэднэ.</p></td></tr></tbody></table><div class=paragraph><p>Харилцагч nfsiod гэсэн дэмонг мөн ажиллуулж болно. nfsiod дэмон NFS серверээс ирэх хүсэлтийг гүйцэтгэнэ. Ингэх нь системийг хэвийн, алдаагүй ажиллуулахад зайлшгүй шаардлагагүй боловч зарим үзүүлэлтүүдийг сайжруулдаг тул нэмэлт байдлаар хэрэглэж болно. Дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=nfsiod&amp;sektion=8&amp;format=html">nfsiod(8)</a> хуудаснаас үзнэ үү.</p></div></div><div class=sect2><h3 id=network-configuring-nfs>30.3.2. NFS-н тохиргоог хийх<a class=anchor href=#network-configuring-nfs></a></h3><div class=paragraph><p>NFS-н тохиргоог хийх нь харьцангуй амархан. Ажиллах ёстой процессуудыг системтэй хамт автоматаар асдаг болгохын тулд <span class=filename>/etc/rc.conf</span> файлыг бага зэрэг өөрчлөхөд хангалттай.</p></div><div class=paragraph><p>NFS сервер дээрх <span class=filename>/etc/rc.conf</span> файл дотор дараах тохируулгууд идэвхжсэн байгаа эсэхийг шалгана уу:</p></div><div class="literalblock programlisting"><div class=content><pre>rpcbind_enable=&#34;YES&#34;
nfs_server_enable=&#34;YES&#34;
mountd_flags=&#34;-r&#34;</pre></div></div><div class=paragraph><p>mountd нь NFS серверийг идэвхжүүлсэн тохиолдолд өөрөө автоматаар ажиллана.</p></div><div class=paragraph><p>Харилцагч талд, <span class=filename>/etc/rc.conf</span> файл дотор дараах тохируулга идэвхтэй байгаа эсэхийг шалгана уу:</p></div><div class="literalblock programlisting"><div class=content><pre>nfs_client_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p><span class=filename>/etc/exports</span> файл дотор NFS ямар файл системүүдийг экспорт хийхийг (заримдаа "хуваалцах" гэж мөн нэрлэнэ) зааж өгнө. <span class=filename>/etc/exports</span> файлын мөр бүр нь нэг файл системд харгалзана. Энэ файл системд хандах эрхтэй машинуудыг заахаас гадна, ямар тохируулгаар хандахыг мөн зааж өгч болно. Энэ файл дотор бичигдэж болох нилээд олон ийм тохируулгууд байгаа хэдий ч, бид тэдгээрээс зөвхөн заримыг нь энд авч үзэх болно. Та бусад тохируулгуудын талаар <a href="https://man.freebsd.org/cgi/man.cgi?query=exports&amp;sektion=5&amp;format=html">exports(5)</a> заавар хуудаснаас уншиж мэднэ үү.</p></div><div class=paragraph><p>Доор <span class=filename>/etc/exports</span> файлаас хэдэн жишээ мөрийг үзүүлэв:</p></div><div class=paragraph><p>Дараах жишээн дээрээс файл системийг хэрхэн экспортлох санааг олж авах болно. Тохируулгууд нь таны сүлжээний тохиргоо, нөхцөл байдлаас шалтгаалан өөр байхыг анхаарна уу. Жишээ нь, <span class=filename>/cdrom</span> гэсэн санг 3 машин руу экспортлохын тулд дараах байдалтай бичнэ. Жишээн дээрх 3 машин сервертэй адил домэйн нэртэй, эсвэл таны <span class=filename>/etc/hosts</span> файл дотор тодорхойлогдсон гэж үзсэн болно. <code>-ro</code> туг нь экспортлогдож буй файл системийг зөвхөн унших боломжтой болохыг заана. Энэ тугийг тавьснаар алсаас хандаж буй машин энэ файл систем дээр ямар нэг өөрчлөлт хийх боломжгүй болно.</p></div><div class="literalblock programlisting"><div class=content><pre>/cdrom -ro host1 host2 host3</pre></div></div><div class=paragraph><p>Дараах жишээн дээр <span class=filename>/home</span> санг IP хаягаар нь зааж өгсөн 3 машин руу экспортолж байна. Ингэж IP хаягаар нь зааж өгөх нь дотоод сүлжээндээ DNS сервер ажиллуулаагүй үед их хэрэгтэй байдаг. Эсвэл <span class=filename>/etc/hosts</span> файл дотор дотоод хостуудын нэрийг тохируулж болно; <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;format=html">hosts(5)</a> хэсгийг дахин үзнэ үү. <code>-alldirs</code> гэсэн туг нь дэд сангуудыг холболтын цэг байхыг зөвшөөрч өгдөг. Өөрөөр хэлбэл, дэд сангуудыг холболгүй орхиж, харилцагч зөвхөн өөрийн хэрэгцээтэй байгаа сангаа холбохыг зөвшөөрнө гэсэн үг юм.</p></div><div class="literalblock programlisting"><div class=content><pre>/home  -alldirs  10.0.0.2 10.0.0.3 10.0.0.4</pre></div></div><div class=paragraph><p>Дараах жишээн дээр <span class=filename>/a</span> санг хоёр өөр домэйноос 2 харилцагч хандаж болохоор экспортолж байна. <code>-maproot=root</code> гэсэн туг нь алслагдсан систем дээрх <code>root</code> хэрэглэгч экспортлогдсон файл систем дээр <code>root</code> эрхээр бичихийг зөвшөөрнө. Хэрэв <code>-maproot=root</code> тугийг тусгайлан зааж өгөөгүй бол, хэдий алслагдсан систем дээрх хэрэглэгч <code>root</code> эрхтэй ч экспортлогдсон файл систем дээр бичих эрхгүй болно.</p></div><div class="literalblock programlisting"><div class=content><pre>/a  -maproot=root  host.example.com box.example.org</pre></div></div><div class=paragraph><p>Харилцагч экспортлогдсон файл систем рүү хандахын тулд эрх нь байх ёстой. Тухайн харилцагч <span class=filename>/etc/exports</span> файл дотор бүртгэлтэй эсэхийг шалгаарай.</p></div><div class=paragraph><p><span class=filename>/etc/exports</span> файл дотор мөр болгон нь нэг файл системийг нэг хост руу экспортлох мэдээллийг төлөөлнө. Алслагдсан хост аль нэг файл системийн хувьд зөвхөн ганц удаа л тодорхойлогдсон байх ёстой ба үүнд харгалзах ганцхан анхдагч бичлэг байж болно. Жишээ нь, <span class=filename>/usr</span> нь нэг файл систем гэж бодъё. <span class=filename>/etc/exports</span> файл доторх дараах бичлэгүүд нь буруу юм:</p></div><div class="literalblock programlisting"><div class=content><pre># Invalid when /usr is one file system
/usr/src   client
/usr/ports client</pre></div></div><div class=paragraph><p>Учир нь <span class=filename>/usr</span> гэсэн файл системийг <code>client</code> гэсэн хост руу экспортолсон хоёр бичлэг байна. Энэ тохиолдолд дараах форматаар бичвэл зөв болно:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/src /usr/ports  client</pre></div></div><div class=paragraph><p>Нэг хост руу экспортлогдож байгаа файл системийн хувьд шинжүүдийг бүгдийг нэг мөрөнд жагсаан бичих ёстой. Харилцагчийг зааж өгөөгүй мөрүүдийг энгийн хост гэж үзнэ. Энэ нь файл системийг экспортлох боломжийг хязгаарлана, гэвч энэ нь ихэнх хүмүүст хүнд асуудал биш байдаг.</p></div><div class=paragraph><p>Дараагийн жишээн дээр <span class=filename>/usr</span> ба <span class=filename>/exports</span> гэсэн дотоод файл системийг экспортолсон байна:</p></div><div class="literalblock programlisting"><div class=content><pre># Export src and ports to client01 and client02, but only
# client01 has root privileges on it
/usr/src /usr/ports -maproot=root    client01
/usr/src /usr/ports               client02
# The client machines have root and can mount anywhere
# on /exports. Anyone in the world can mount /exports/obj read-only
/exports -alldirs -maproot=root      client01 client02
/exports/obj -ro</pre></div></div><div class=paragraph><p><span class=filename>/etc/exports</span> файл дотор гарсан өөрчлөлтүүдийг хүчинтэй болгохын тулд, өөрчлөлт орсон тухай бүрд mountd дэмонг албадан <span class=filename>/etc/exports</span>-г дахин уншуулах хэрэгтэй болдог. Үүний тулд эсвэл HUP дохиог ажиллаж байгаа дэмонд өгөх хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kill -HUP `cat /var/run/mountd.pid`</span></code></pre></div></div><div class=paragraph><p>эсвэл <code>mountd</code> <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> скриптийг зохих параметрийн хамт ажиллуулах хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service mountd onereload</span></code></pre></div></div><div class=paragraph><p>rc скриптийг хэрэглэх зааврыг <a href=../config/#configtuning-rcd>FreeBSD дээр rc(8) ашиглах нь</a> хэсгээс үзнэ үү.</p></div><div class=paragraph><p>Бас нэг боломж нь, FreeBSD-г эхнээс нь ачаалж, бүх процессийг дахин эхлүүлэх юм. Гэвч үүний тулд заавал системийг дахин ачаалах шаардлага байхгүй. <code>root</code> эрхээр дараах тушаалуудыг өгснөөр зөвхөн хэрэгтэй процессуудаа дахин эхлүүлэх боломжтой.</p></div><div class=paragraph><p>NFS сервер дээр:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rpcbind</span>
<span class=c># nfsd -u -t -n 4</span>
<span class=c># mountd -r</span></code></pre></div></div><div class=paragraph><p>NFS харилцагч дээр:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># nfsiod -n 4</span></code></pre></div></div><div class=paragraph><p>Одоо алсын файл системийг холбоход бэлэн боллоо. Доорх жишээнүүд дээр серверийн нэрийг <code>server</code>, харилцагчийн нэрийг <code>client</code> гэж авсан болно. Хэрэв та алсын файл системийг зөвхөн түр хугацаагаар холбох гэж байгаа эсвэл тохиргоогоо шалгах гэж байгаа бол, харилцагч талд <code>root</code> эрхээр дараах тушаалыг өгөхөд хангалттай:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount server:/home /mnt</span></code></pre></div></div><div class=paragraph><p>Энэ тушаалыг өгснөөр та сервер талд байгаа <span class=filename>/home</span> гэсэн санг харилцагч талд байгаа <span class=filename>/mnt</span> сантай холбох болно. Хэрэв бүх зүйл зөв тохируулагдсан бол, та харилцагч талын <span class=filename>/mnt</span> сан дотор орж сервер дээр байгаа файлуудыг харж чадах ёстой.</p></div><div class=paragraph><p>Хэрэв систем шинээр ачаалах бүрд ямар нэг алсын файл системийг холбох хүсэлтэй байгаа бол, түүнийгээ <span class=filename>/etc/fstab</span> файл дотор нэмж бичих хэрэгтэй. Жишээ нь:</p></div><div class="literalblock programlisting"><div class=content><pre>server:/home	/mnt	nfs	rw	0	0</pre></div></div><div class=paragraph><p>Боломжит бүх сонголтуудын талаар <a href="https://man.freebsd.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;format=html">fstab(5)</a> заавар хуудаснаас үзнэ үү.</p></div></div><div class=sect2><h3 id=_цоожлолт>30.3.3. Цоожлолт<a class=anchor href=#_цоожлолт></a></h3><div class=paragraph><p>Зарим програмууд (ж.н. mutt) зөв ажиллахын тулд файл цоожлолтыг шаарддаг. NFS-н хувьд, rpc.lockd-г файл цоожлолтонд хэрэглэж болно. Түүнийг идэвхжүүлэхийн тулд, сервер болон харилцагч талд хоёуланд нь <span class=filename>/etc/rc.conf</span> файл дотор дараах мөрүүдийг нэмж өгөх хэрэгтэй (NFS сервер болон харилцагч талуудыг аль хэдийн тохируулчихсан гэж үзэв):</p></div><div class="literalblock programlisting"><div class=content><pre>rpc_lockd_enable=&#34;YES&#34;
rpc_statd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Програмыг дараах байдалтай эхлүүлнэ:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service lockd start</span>
<span class=c># service statd start</span></code></pre></div></div><div class=paragraph><p>Хэрэв NFS харилцагч болон NFS сервер талуудын хооронд жинхэнэ файл цоожлолт хийгдэх шаардлагагүй бол, NFS харилцагч талд <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nfs&amp;sektion=8&amp;format=html">mount_nfs(8)</a>-д <code>-L</code> тохируулгыг өгөн дотоод цоожлолт хийлгэж болно. Дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nfs&amp;sektion=8&amp;format=html">mount_nfs(8)</a> заавар хуудаснаас үзнэ үү.</p></div></div><div class=sect2><h3 id=_практик_хэрэглээ>30.3.4. Практик хэрэглээ<a class=anchor href=#_практик_хэрэглээ></a></h3><div class=paragraph><p>NFS нь олон практик хэрэглээтэй. Хамгийн элбэг тохиолддог хэрэглээг доор жагсаав:</p></div><div class=ulist><ul><li><p>Олон машиныг нэг CDROM эсвэл төхөөрөмжийг дундаа хэрэглэдэг байхаар зохион байгуулах. Энэ нь нэг програмыг олон машин дээр суулгах хамгийн хямд, хялбар арга юм.</p></li><li><p>Том сүлжээний хувьд, бүх хэрэглэгчдийн гэрийн санг хадгалдаг төвлөрсөн NFS серверийг тохируулах. Эдгээр гэрийн сангуудыг дараа нь сүлжээний орчинд экспортолсноор хэрэглэгчид аль машин дээр ажиллаж буйгаас үл хамааран өөрийн нэг л сан дотор ажиллах боломжтой болно.</p></li><li><p>Олон машин дундаа нэг <span class=filename>/usr/ports/distfiles</span> сантай байх. Ийм замаар, нэг портыг олон машин дээр суулгах хэрэгтэй үед машин бүр дээр эх файлыг татаж авалгүйгээр хурдан суулгах боломжтой болно.</p></li></ul></div></div><div class=sect2><h3 id=network-amd>30.3.5. amd-р автоматаар холбох нь<a class=anchor href=#network-amd></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=amd&amp;sektion=8&amp;format=html">amd(8)</a> (автоматаар холбогч дэмон) нь алсын файл системийн файл эсвэл санд хэрэглэгч хандах тухай бүрт уг файл системийг автоматаар холбодог. Хэсэг хугацааны туршид идэвхгүй байгаа файл системийг amd мөн автоматаар салгана. amd-г хэрэглэснээр <span class=filename>/etc/fstab</span> дотор бичигддэг байнгын холболтоос гадна, холболт хийх боломжийг олгодог.</p></div><div class=paragraph><p>amd нь өөрийгөө, <span class=filename>/host</span> ба <span class=filename>/net</span> сангууд дээр NFS сервер байдлаар холбож ажиллах бөгөөд эдгээр сангууд доторх файлд хандах үед, amd харгалзах алсын холболтыг хайж олоод автоматаар холбох болно. <span class=filename>/net</span> нь экспортлогдсон файл системийг IP хаягаар нь холбоход, харин <span class=filename>/host</span> нь хост нэрээр нь холбоход хэрэглэгдэнэ.</p></div><div class=paragraph><p><span class=filename>/host/foobar/usr</span> сан доторх файлд хандана гэдэг нь amd-г <code>foobar</code> гэсэн хост дээр экспортлогдсон <span class=filename>/usr</span> санг холбохын зааж өгнө.</p></div><div class=exampleblock><div class=title>Жишээ 2. Экспортыг amd-р холбох</div><div class=content><div class=paragraph><p>Алсын хост дээр байгаа боломжит холболтуудын жагсаалтыг <code>showmount</code> тушаалын тусламжтай харж болно. Жишээлбэл, <code>foobar</code> нэртэй хостын экспортыг харахын тулд:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% showmount <span class=nt>-e</span> foobar
Exports list on foobar:
/usr                               10.10.10.0
/a                                 10.10.10.0
% <span class=nb>cd</span> /host/foobar/usr</code></pre></div></div></div></div><div class=paragraph><p>Жишээн дээр үзүүлснээр <code>showmount</code> нь <span class=filename>/usr</span>-г экспортлогдсон болохыг харуулж байна. <span class=filename>/host/foobar/usr</span> сан дотор ороход, amd нь <code>foobar</code> гэсэн хост нэрийг тайлахыг оролдох ба заасан санг холбоно.</p></div><div class=paragraph><p>amd-г эхлэл скриптүүдээр эхлүүлж болох ба үүний тулд <span class=filename>/etc/rc.conf</span> файл дотор дараах мөрийг нэмэх хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>amd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Мөн, amd програмд <code>amd_flags</code> тохируулгын тусламжтай тугуудыг өгч болно. <code>amd_flags</code>-н анхдагч утга нь:</p></div><div class="literalblock programlisting"><div class=content><pre>amd_flags=&#34;-a /.amd_mnt -l syslog /host /etc/amd.map /net /etc/amd.map&#34;</pre></div></div><div class=paragraph><p><span class=filename>/etc/amd.map</span> файл дотор экспортуудыг холбох анхдагч тохируулгуудыг зааж өгсөн байна. <span class=filename>/etc/amd.conf</span> файл дотор amd-н илүү дээд түвшний чанаруудыг тодорхойлж өгнө.</p></div><div class=paragraph><p>Дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=amd&amp;sektion=8&amp;format=html">amd(8)</a> ба <a href="https://man.freebsd.org/cgi/man.cgi?query=amd.conf&amp;sektion=8&amp;format=html">amd.conf(8)</a> заавар хуудаснаас үзнэ үү.</p></div></div><div class=sect2><h3 id=network-nfs-integration>30.3.6. Бусад системтэй нэгтгэхэд тохиолдох асуудлууд<a class=anchor href=#network-nfs-integration></a></h3><div class=paragraph><p>ISA PC системд зориулсан зарим Ethernet адаптерууд учир дутагдалтай байдгаас сүлжээний орчинд ажиллахад, тэр дундаа NFS-тэй ажиллахад нилээд асуудалтай байдаг. Энэ асуудал зөвхөн FreeBSD-д тохиолддоггүй боловч FreeBSD систем үүнд нилээд өртөмтгий байдаг.</p></div><div class=paragraph><p>Энэ асуудал нь (FreeBSD) PC системийг өндөр үзүүлэлттэй машинуудтай (жишээлбэл, Silicon Graphics, Inc., ба Sun Microsystems, Inc компаниудын хийсэн) сүлжээнд холбох үед бараг үргэлж тохиолддог. NFS холболт хийхэд асуудалгүй, зарим үйлдлүүдийг хийхэд амжилттай байх боловч, гаднаас ирж явж байгаа хүсэлтүүдийг боловсруулж чадаж байгаа хэдий ч сервер гэнэт харилцагчид хариу өгөхгүй болдог. Энэ асуудал мөн харилцагчийн хувьд, харилцагч FreeBSD систем эсвэл ажлын машин байхаас үл шалтгаалан тохиолдоно. Ихэнх системийн хувьд, нэгэнт ийм асуудалд орсон бол харилцагч талыг ном ёсных нь дагуу унтраах боломжгүй болдог. Ганц авдаг арга хэмжээ бол системийг хүчээр унтрааж асаах юм. Учир нь, NFS-н энэ асуудал одоо хир нь шийдэгдээгүй байна.</p></div><div class=paragraph><p>Хэдийгээр "зөв" шийдэл бол FreeBSD системд тохирох илүү өндөр үзүүлэлттэй, илүү багтаамжтай Ethernet адаптерийг олж авах боловч, боломжит ажиллагааг хангахын тулд нэг арга байна. Хэрэв FreeBSD систем нь <em>сервер</em> бол, харилцагч талаас холболт хийхдээ <code>-w=1024</code> тохируулгыг оруулж өгөх явдал юм. Хэрэв FreeBSD систем нь <em>харилцагч</em> бол, NFS файл системтэй холбогдохдоо <code>-r=1024</code> тохируулгыг хэрэглэх юм. Эдгээр тохируулгуудыг автомат холболтын хувьд <span class=filename>fstab</span> бичлэгийн дөрөв дэх талбарыг ашиглан, гар аргаар холболт хийх бол <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> тушаалын <code>-o</code> параметрыг ашиглан зааж өгч болно.</p></div><div class=paragraph><p>NFS сервер болон харилцагчид өөр өөр сүлжээнд байхад гардаг өөр нэг асуудлыг энэ асуудалтай хольж хутгах тохиолдол байдгийг энд дурдах нь зүйтэй болов уу. Хэрэв тийм бол, чиглүүлэгчид шаардлагатай UDP мэдээллийг дамжуулж чадаж байгаа эсэхийг <em>нягталж</em> үзээрэй. Үгүй бол, өөр юу ч хийлээ гээд та үр дүнд хүрч чадахгүй.</p></div><div class=paragraph><p>Дараах жишээн дээр, <code>fastws</code> нь өндөр үзүүлэлттэй ажлын машины хост (интерфэйс) нэр, <code>freebox</code> нь бага үзүүлэлттэй Ethernet адаптертай FreeBSD системийн нэр юм. Мөн, <span class=filename>/sharedfs</span> нь экспортлогдох гэж байгаа NFS файл систем (<a href="https://man.freebsd.org/cgi/man.cgi?query=exports&amp;sektion=5&amp;format=html">exports(5)</a>-г үз), ба <span class=filename>/project</span> нь харилцагч талын экспортлогдсон файл системийг холбох цэг байх болно. Аль ч тохиолдолд, <code>hard</code> эсвэл <code>soft</code> ба <code>bg</code> зэрэг нэмэлт тохируулгууд таны хувьд хэрэгтэй байж болох юм.</p></div><div class=paragraph><p>FreeBSD системийг (<code>freebox</code>) <code>freebox</code> дээр <span class=filename>/etc/fstab</span> дотор харилцагч байдлаар зааж өгөх жишээ:</p></div><div class="literalblock programlisting"><div class=content><pre>fastws:/sharedfs /project nfs rw,-r=1024 0 0</pre></div></div><div class=paragraph><p><code>freebox</code> дээр гараар холбохдоо:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -t nfs -o -r=1024 fastws:/sharedfs /project</span></code></pre></div></div><div class=paragraph><p>FreeBSD системийг (<code>freebox</code>) <code>fastws</code> дээр <span class=filename>/etc/fstab</span> дотор сервер байдлаар зааж өгөх жишээ:</p></div><div class="literalblock programlisting"><div class=content><pre>freebox:/sharedfs /project nfs rw,-w=1024 0 0</pre></div></div><div class=paragraph><p><code>fastws</code> дээр гараар холбохдоо:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -t nfs -o -w=1024 freebox:/sharedfs /project</span></code></pre></div></div><div class=paragraph><p>Бараг бүх 16-битийн Ethernet адаптерийн хувьд унших ба бичих хэмжээн дээр дээрх байдлаар хязгаарлалт хийлгүйгээр ажиллах боломжтой байдаг.</p></div><div class=paragraph><p>Сонирхсон улсуудад толилуулахад, дээрх алдаа гарахад чухам юу тохиолддог, яагаад засагдах боломжгүй болох талаар дор тайлбарлав. NFS нь голчлон 8 K (хэдийгээр илүү бага хэмжээтэй хэсэг дээр ажиллаж чадах боловч) хэмжээтэй "блок"ууд дээр ажилладаг. Хамгийн урт Ethernet пакет 1500 байт орчим байх ба, NFS "блок" нь хэд хэдэн Ethernet пакетуудад хуваагдах хэрэгтэй болдог. Дээд түвшний програмын хувьд энэ нь нэг нэгж хэвээр байх ба хүлээж аваад, нийлүүлээд, бататгал хийхэд ч мөн нэг нэгж хэвээр байдаг. Өндөр үзүүлэлттэй ажлын машинууд NFS нэгжийг бүрдүүлж байгаа тэдгээр пакетуудыг стандартад заасны дагуу аль болох ойрхон ойрхон, нэг нэгээр нь цувуулж гаргана. Жижиг, бага багтаамжтай картууд дээр, дээд түвшний програмд дамжуулахаас өмнө сүүлийн пакет нь өмнөх пакетаа дарснаар тухайн нэгжийг буцааж нийлүүлж, бататгах боломжгүй болно. Үүнээс болж, ажлын машины болзоот хугацаа дуусаж бүхэл бүтэн 8 K нэгжийг дахин дамжуулах болно. Энэ үйл ажиллагаа дахин дахин хязгааргүй давтагдах болно.</p></div><div class=paragraph><p>Нэгжийн хэмжээг Ethernet пакетийн хэмжээнээс бага байлгаснаар, бид Ethernet пакет тус бүрийг бататгаж мухардалд орохоос сэргийлж чадна.</p></div><div class=paragraph><p>Өндөр үзүүлэлттэй ажлын машинууд PC систем рүү өгөгдлийг цацсаар байх үед давхцал үүссээр байх боловч, илүү сайн карт ашигласнаар NFS "нэгж"ийн хувьд заавал тийм давхцал үүсэх албагүй болно. Давхцал үүссэн тохиолдолд, түүнд өртсөн нэгжийг дахин дамжуулах ба түүнийг хүлээн авч, нийлүүлж, бататгах боломж өндөртэй.</p></div></div></div></div><div class=sect1><h2 id=network-nis>30.4. Сүлжээний Мэдээллийн Систем (NIS/YP)<a class=anchor href=#network-nis></a></h2><div class=sectionbody><div class=sect2><h3 id=_энэ_юу_вэ>30.4.1. Энэ юу вэ?<a class=anchor href=#_энэ_юу_вэ></a></h3><div class=paragraph><p>NIS, нь Network Information Services буюу Сүлжээний Мэдээллийн Үйлчилгээнүүд гэсэн үгийн товчлол бөгөөд UNIX® (анхандаа SunOS™) системүүдийн удирдлагыг төвлөрүүлэх зорилгоор Sun Microsystems анх хөгжүүлсэн. Одоо энэ салбарын үндсэн стандарт болжээ; бүх гол UNIX® төрлийн системүүд (Solaris™, HP-UX, AIX®, Линукс, NetBSD, OpenBSD, FreeBSD, гэх мэт) NIS-г дэмждэг.</p></div><div class=paragraph><p>NIS анх Yellow Pages буюу Шар Хуудас гэсэн нэртэй байсан боловч худалдааны тэмдгийн асуудлаас болж Sun нэрийг нь сольсон. Хуучин нэр (ба yp) нь одоо хир нь хэрэглэгдсээр байдаг.</p></div><div class=paragraph><p>Энэ нь RPC дээр үндэслэсэн, нэг NIS домэйнд байгаа бүлэг машинууд дундаа адилхан тохиргооны файлтай боломжийг олгодог харилцагч/сервер систем юм. Үүний тусламжтай системийн администратор NIS харилцагч системийг зайлшгүй байх үндсэн тохиргоотойгоор үүсгэх, тохиргооны өгөгдлийг нэг дор нэмэх, хасах, өөрчлөх зэрэг үйлдлүүдийг хийх боломжтой болдог.</p></div><div class=paragraph><p>Энэ нь Windows NT®-н домэйн системтэй төстэй. Хэдийгээр тэдгээрийн дотоод ажиллагаа нь ердөө ч адилхан биш боловч үндсэн үүргийг нь адилтгаж болох юм.</p></div></div><div class=sect2><h3 id=_таны_мэдэж_байх_ёстой_нэр_томъёопроцессууд>30.4.2. Таны мэдэж байх ёстой Нэр томъёо/Процессууд<a class=anchor href=#_таны_мэдэж_байх_ёстой_нэр_томъёопроцессууд></a></h3><div class=paragraph><p>NIS сервер эсвэл NIS харилцагч байдлаар ажилладаг NIS-г FreeBSD дээр зохион байгуулахын тулд нилээд хэдэн нэр томъёо, чухал хэрэглэгчийн процессуудтай та тааралдах болно:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Нэр томъёо</th><th class="tableblock halign-left valign-top">Тайлбар</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>NIS домэйн нэр</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS мастер сервер болон түүний бүх харилцагчид (түүний зарц серверийг оруулаад) бүгд NIS домэйн нэртэй байна. Windows NT®-н домэйн нэртэй адилаар, NIS домэйн нэр DNS-тэй ямар ч хамаагүй.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rpcbind</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RPC-г (Remote Procedure Call буюу Алсын Процедур Дуудах, NIS-н ашигладаг сүлжээний протокол) идэвхтэй байлгахын тулд заавал ажиллаж байх ёстой. Хэрэв rpcbind ажиллахгүй бол, NIS сервер ажиллуулах, NIS харилцагч болох боломжгүй.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ypbind</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS харилцагчийг NIS сервертэй "холбоно". NIS домэйн нэрийг системээс авч, RPC ашиглан сервертэй холбоно. ypbind нь NIS орчны харилцагч-серверийн харилцааны цөм нь болж өгдөг; Хэрэв харилцагчийн машин дээр ypbind үхвэл, NIS сервер рүү хандах боломжгүй болно.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ypserv</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Зөвхөн NIS сервер дээр ажиллаж байх ёстой; энэ бол NIS сервер процесс өөрөө юм. Хэрэв <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> үхвэл, сервер NIS хүсэлтэд хариу өгөх боломжгүй болно (магадгүй, түүний үүргийг үргэлжлүүлэх зарц сервер байгаа байх). Зарим NIS-н хувьд (FreeBSD-гийх биш), анх холбогдож байсан сервер байхгүй болбол өөр сервертэй холбоо тогтоохыг оролддоггүй хувилбарууд байдаг. Ихэнхдээ, ийм үед ганц тус болох зүйл бол сервер процессийг дахин эхлүүлэх (эсвэл серверийг бүхлээр нь), эсвэл харилцагч талын ypbind процессийг дахин эхлүүлэх юм.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rpc.yppasswdd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Зөвхөн NIS эзэн сервер дээр ажиллаж байх ёстой өөр нэг процесс; Энэ дэмон NIS харилцагч нарыг өөрсдийн нэвтрэх үгийг солих боломжийг олгоно. Хэрэв энэ дэмон ажиллахгүй бол, хэрэглэгчид NIS эзэн сервер рүү нэвтэрч орон тэнд нэвтрэх үгээ солих хэрэгтэй болно.</p></td></tr></tbody></table></div><div class=sect2><h3 id=_хэрхэн_ажилладаг_вэ>30.4.3. Хэрхэн ажилладаг вэ?<a class=anchor href=#_хэрхэн_ажилладаг_вэ></a></h3><div class=paragraph><p>NIS орчинд гурван төрлийн хост байна: эзэн сервер, зарц сервер, ба харилцагч. Серверүүд нь хостуудын тохиргооны мэдээллийг хадгалсан агуулахын үүргийг гүйцэтгэнэ. Эзэн сервер энэ мэдээллийн бүрэн эрхтэй хуулбарыг хадгалж байдаг бол, зарц сервер нь энэ мэдээллийн хуулбарыг нөөцөнд хадгалж байдаг. Серверүүд харилцагчдыг эдгээр мэдээллээр хангана.</p></div><div class=paragraph><p>Олон файлд байгаа мэдээллийг энэ маягаар хуваалцаж хэрэглэнэ. <span class=filename>master.passwd</span>, <span class=filename>group</span>, ба <span class=filename>hosts</span> гэсэн файлуудыг ихэвчлэн NIS тусламжтай хуваалцана. Эдгээр файлд байдаг мэдээлэл харилцагч талын нэг процессод хэрэгтэй боллоо гэхэд түүнийг өөрийн дотоодоос хайхын оронд түүнд оноогдсон NIS серверээс асуулга хийнэ.</p></div><div class=sect3><h4 id=_машины_төрөл>30.4.3.1. Машины төрөл<a class=anchor href=#_машины_төрөл></a></h4><div class=ulist><ul><li><p><em>NIS эзэн сервер</em>. Энэ сервер, Windows NT®-н анхдагч домэйн сервер хянагчийн нэг адил, NIS харилцагчдын хэрэгцээний бүх файлуудыг агуулсан байна. <span class=filename>passwd</span>, <span class=filename>group</span> ба NIS харилцагчийн хэрэглэх бусад олон файлууд эзэн сервер дээр байна.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Нэг машин нэгээс олон NIS домэйны хувьд NIS эзэн сервер байж болно. Гэхдээ, энд бид бага хэмжээний NIS орчны талаар ярилцах тул энэ талаар энд үзэхгүй.</p></div></td></tr></tbody></table></div></li><li><p><em>NIS зарц сервер</em>. Windows NT®-н нөөц домэйн хянагчтай адилаар, NIS зарц сервер нь NIS эзэн серверийн өгөгдлийн файлын хуулбарыг хадгална. NIS зарц серверүүд нь нөөцөнд байдаг. Тэдгээр нь мөн эзэн серверийн ачааллыг хуваалцаж байдаг: NIS Харилцагчид нь хамгийн түрүүнд хариу өгсөн серверт холбогдох ба үүний тоонд зарц серверүүд ч бас орно.</p></li><li><p><em>NIS харилцагч</em>. NIS харилцагч нь ихэнх Windows NT® ажлын машины адилаар, NIS серверт шалгуулж (эсвэл Windows NT® ажлын машины хувьд Windows NT® домэйн хянагчид) нэвтэрнэ.</p></li></ul></div></div></div><div class=sect2><h3 id=_nisyp_г_хэрэглэх_нь>30.4.4. NIS/YP-г хэрэглэх нь<a class=anchor href=#_nisyp_г_хэрэглэх_нь></a></h3><div class=paragraph><p>Энэ хэсэгт жишээ NIS орчныг үүсгэх болно.</p></div><div class=sect3><h4 id=_төлөвлөх>30.4.4.1. Төлөвлөх<a class=anchor href=#_төлөвлөх></a></h4><div class=paragraph><p>Та өөрийгөө нэгэн их сургуулийн жижигхэн лабораторын администратор гэж бод. Энэ лаб 15 FreeBSD машинаас бүрдэх ба одоогоор төвлөрсөн удирдлага байхгүй; машин бүр өөрийн <span class=filename>/etc/passwd</span> ба <span class=filename>/etc/master.passwd</span> файлуудтай. Эдгээр файлуудыг адилхан байлгахын тулд гараараа зөөж тавьдаг; одоогийн байдлаар лабораторид шинэ хэрэглэгч нэмэхийн тулд, бүх 15 машин дээр нэг бүрчлэн <code>adduser</code> тушаалыг оруулах хэрэгтэй байгаа. Мэдээж үүнийг өөрчлөх хэрэгтэй, иймээс та лабораторидоо NIS хэрэглэхээр боллоо. Машинуудаасаа хоёрыг нь сервер болгохоор сонгож авлаа.</p></div><div class=paragraph><p>Тиймээс, лабораторын тохиргоо дараах байдалтай байна:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Машины нэр</th><th class="tableblock halign-left valign-top">IP хаяг</th><th class="tableblock halign-left valign-top">Машины үүрэг</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ellington</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS эзэн</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>coltrane</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS зарц</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>basie</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.4</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Факультетийн ажлын машин</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bird</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Харилцагч машин</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cli[1-11]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.[6-17]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Бусад харилцагч машинууд</p></td></tr></tbody></table><div class=paragraph><p>Хэрэв та NIS зураглалыг анх удаа хийж байгаа бол, хаанаас эхлэхээ эхлээд сайн бодох хэрэгтэй. Сүлжээ чинь ямар ч хэмжээтэй байж болно, гол нь хэд хэдэн сонголт хийх хэрэгтэй.</p></div><div class=sect4><h5 id=_nis_домэйн_нэрийг_сонгох_нь>30.4.4.1.1. NIS Домэйн Нэрийг сонгох нь<a class=anchor href=#_nis_домэйн_нэрийг_сонгох_нь></a></h5><div class=paragraph><p>Өөрийн тань байнга хэрэглэдэг "домэйн нэр" байж болохгүй. Залруулж хэлбэл "NIS домэйн нэр" байх ёстой. Харилцагч мэдээлэл олж авахын тулд хүсэлтээ цацах үед NIS домэйн нэрийг хэрэглэнэ. Үүгээр нэг сүлжээнд байгаа олон серверүүд хэн нь хэний асуултанд хариулах ёстойгоо мэдэж авна. NIS домэйн нэрийг хоорондоо ямар нэг байдлаар хамаатай бүлэг хостын нэр гэж ойлгож болно.</p></div><div class=paragraph><p>Зарим байгууллагууд өөрийн Интернэтийн домэйн нэрийг NIS домэйн нэрээр хэрэглэх нь байдаг. Энэ нь сүлжээний ямар нэг асуудлыг задлан шинжлэх явцад түвэг удах тул энэ аргыг зөвлөдөггүй. NIS домэйн нэр нь сүлжээний орчинд цор ганц байх ёстой бөгөөд төлөөлж байгаа бүлэг машинаа онцолсон нэр байвал дөхөм байдаг. Жишээлбэл, Acme Inc. компаний Урлагийн хэлтэс "acme-art" гэсэн NIS домэйнтой байж болох юм. Бид өөрсдийн жишээндээ <code>test-domain</code> гэсэн домэйн нэрийг авлаа.</p></div><div class=paragraph><p>Гэвч, зарим үйлдлийн системүүд (цохон дурдвал SunOS™) өөрийн NIS домэйн нэрийг Интернэт домэйн нэрээр хэрэглэдэг. Хэрэв таны сүлжээний нэг болон түүнээс дээш тооны машин ийм асуудалтай бол, та Интернэт домэйн нэрээ NIS домэйндоо хэрэглэх <em>ёстой</em>.</p></div></div><div class=sect4><h5 id=_серверт_тавигдах_шаардлагууд>30.4.4.1.2. Серверт тавигдах шаардлагууд<a class=anchor href=#_серверт_тавигдах_шаардлагууд></a></h5><div class=paragraph><p>NIS серверт зориулсан машин сонгон авахдаа анхаарах хэд хэдэн зүйлс бий. NIS-тэй холбоотой нэг учир дутагдалтай зүйл бол харилцагчдын серверээс хамаарах хамаарал юм. Хэрэв харилцагч өөрийн NIS домэйныг асуухаар сервертэй холбогдож чадахгүй бол, тэр машин ашиглагдах боломжгүй болдог. Хэрэглэгч болон бүлгийн мэдээлэл дутуугаас ихэнх системүүд түр хугацаанд зогсдог. Тиймээс, дахин дахин асааж унтраалгаад байхааргүй, эсвэл туршилтад хэрэглэгдэхээр машиныг сонгох хэрэгтэй. NIS сервер нь тусдаа, зөвхөн NIS серверт зориулагдсан машин байх ёстой. Хэрэв ачаалал багатай сүлжээнд ажиллаж байгаа бол, NIS серверийг өөр үйлчилгээ ажиллаж байгаа машин дээр тавьж болох талтай. Хамгийн гол нь NIS сервер чинь ажиллахгүй болбол, <em>бүх</em> NIS харилцагчид чинь мөн ажиллахгүй болохыг санаарай.</p></div></div></div><div class=sect3><h4 id=_nis_серверүүд>30.4.4.2. NIS Серверүүд<a class=anchor href=#_nis_серверүүд></a></h4><div class=paragraph><p>Бүх NIS мэдээлэл он цагийн дарааллаараа NIS эзэн сервер дээр хадгалагдаж байдаг. Энэ мэдээллийг хадгалж байгаа өгөгдлийн санг NIS буулгалт гэж нэрлэнэ. FreeBSD-д, эдгээр буулгалтууд <span class=filename>/var/yp/[domainname]</span> файл дотор байрлана. <span class=filename>[domainname]</span> нь NIS домэйн нэр болно. Нэг NIS сервер хэд хэдэн домэйныг зэрэг агуулж чадах тул домэйн тус бүрт зориулсан хэд хэдэн ийм сан байж болно. Домэйн бүр өөрийн гэсэн буулгалтуудтай байна.</p></div><div class=paragraph><p>NIS эзэн болон зарц серверүүд бүх NIS хүсэлтийг <code>ypserv</code> дэмоны тусламжтай удирдаж явуулна. <code>ypserv</code> нь NIS харилцагч нараас ирж буй хүсэлтийг хүлээн авч, домэйныг хөрвүүлэн, уг домэйн нэрд харгалзах өгөгдлийн файлын замыг хайж олоод, өгөгдлийг буцаан харилцагчид дамжуулах үүрэгтэй.</p></div><div class=sect4><h5 id=_nis_эзэн_серверийг_зохион_байгуулах_нь>30.4.4.2.1. NIS Эзэн Серверийг зохион байгуулах нь<a class=anchor href=#_nis_эзэн_серверийг_зохион_байгуулах_нь></a></h5><div class=paragraph><p>Эзэн NIS серверийг зохион байгуулах нь харьцангуй ойлгомжтой. FreeBSD нь бэлэн NIS суучихсан ирдэг. Зөвхөн <span class=filename>/etc/rc.conf</span> файл дотор дараах мөрүүдийг нэмэхэд л хангалттай, үлдсэнийг нь FreeBSD таны өмнөөс хийгээд өгөх болно.</p></div><div class="exampleblock procedure"><div class=content><div class="literalblock programlisting"><div class=content><pre>nisdomainname=&#34;test-domain&#34;</pre></div></div><div class="olist arabic"><ol class=arabic><li><p>Энэ мөр сүлжээ асахад (жишээ нь, систем дахин ачаалсны дараа) NIS домэйн нэрийг <code>test-domain</code> болгоно.</p><div class="literalblock programlisting"><div class=content><pre>nis_server_enable=&#34;YES&#34;</pre></div></div></li><li><p>Энэ мөр нь сүлжээ асахад NIS сервер процессуудыг асаахыг хэлж өгнө.</p><div class="literalblock programlisting"><div class=content><pre>nis_yppasswdd_enable=&#34;YES&#34;</pre></div></div></li><li><p>Энэ мөр нь <code>rpc.yppasswdd</code> дэмонг идэвхжүүлнэ. Дээр хэлсэнчлэн, энэ дэмон нь харилцагч машин дээрээс хэрэглэгч өөрийн NIS нэвтрэх үгийг солих боломжтой болгодог.</p></li></ol></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Таны NIS тохиргооноос хамааран, нэмэлт мөрүүдийг оруулах хэрэгтэй болж магадгүй. <a href=#network-nis-server-is-client>NIS сервер мөртлөө давхар NIS харилцагч серверийн тухай хэсгээс</a>, доор, дэлгэрэнгүй мэдээллийг авна уу.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Дээрхийг тохируулсны дараа супер хэрэглэгчийн эрхээр <code>/etc/netstart</code> тушаалыг ажиллуулна. Энэ нь таны <span class=filename>/etc/rc.conf</span> файл дотор тодорхойлж өгсөн утгуудыг ашиглан бүх зүйлсийг таны өмнөөс хийх болно. Хамгийн сүүлд нь NIS буулгалтуудыг эхлүүлэхээс өмнө ypserv демоныг гараар ажиллуулах хэрэгтэй.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ypserv start</span></code></pre></div></div></div><div class=sect4><h5 id=_nis_буулгалтуудыг_эхлүүлэх_нь>30.4.4.2.2. NIS Буулгалтуудыг эхлүүлэх нь<a class=anchor href=#_nis_буулгалтуудыг_эхлүүлэх_нь></a></h5><div class=paragraph><p><em>NIS буулгалтууд</em> нь өгөгдлийн сангийн файлууд бөгөөд <span class=filename>/var/yp</span> сан дотор хадгалагдана. Тэдгээрийг NIS эзэн серверийн <span class=filename>/etc</span> сан дотор байгаа <span class=filename>/etc/master.passwd</span> файлаас бусад тохиргооны файлуудаас үүсгэдэг. Энэ нь их учиртай. Мэдээж та өөрийн <code>root</code> болон удирдах эрхтэй дансуудынхаа нэвтрэх үгийг NIS домэйн дахь бүх сервер дээр тарааж тавих хүсэлгүй байгаа биз дээ. Тиймээс, NIS буулгалтуудыг эхлүүлэхийн өмнө, дараах зүйлсийг хийх хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp /etc/master.passwd /var/yp/master.passwd</span>
<span class=c># cd /var/yp</span>
<span class=c># vi master.passwd</span></code></pre></div></div><div class=paragraph><p>Системийн дансуудад хамаарах мөрүүдийг (<code>bin</code>, <code>tty</code>, <code>kmem</code>, <code>games</code>, гэх мэт), мөн NIS харилцагч дээр тарааж тавих хүсэлгүй байгаа дансуудад хамаарах мөрүүдийг (жишээлбэл <code>root</code> ба бусад UID 0 (супер хэрэглэгчийн) дансууд) бүгдийг устгах хэрэгтэй.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><span class=filename>/var/yp/master.passwd</span> файл бүлгийн болон нийтийн хувьд унших эрхгүй (600 төлөв) байгааг нягтална уу! Шаардлагатай бол <code>chmod</code> тушаалыг хэрэглээрэй.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Дээр дурдсаныг гүйцэтгэж дууссаны дараа, сая NIS буулгалтуудыг эхлүүлнэ! FreeBSD нь танд үүнийг хийж өгөх <code>ypinit</code> нэртэй скриптийг (холбогдох заавар хуудаснаас дэлгэрэнгүй мэдээллийг авна уу) агуулж байдаг. Энэ скрипт ихэнх UNIX® үйлдлийн системд байдаг боловч, заримд нь байхгүй байх тохиолдол бий. Digital UNIX/Compaq Tru64 UNIX дээр энэ скрипт <code>ypsetup</code> гэсэн нэртэй байдаг. Бид NIS эзэн серверийн хувьд буулгалтуудыг үүсгэж байгаа тул <code>ypinit</code> тушаалыг <code>-m</code> тохируулгын хамт өгнө. Дээрх алхмуудыг бүгдийг хийсний дараа, NIS буулгалтуудыг үүсгэхдээ дараах тушаалыг өгнө:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# ypinit <span class=nt>-m</span> test-domain
Server Type: MASTER Domain: test-domain
Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.
Do you want this procedure to quit on non-fatal errors? <span class=o>[</span>y/n: n] n
Ok, please remember to go back and redo manually whatever fails.
If you don<span class=s1>&#39;t, something might not work.
At this point, we have to construct a list of this domains YP servers.
rod.darktech.org is already known as master server.
Please continue to add any slave servers, one per line. When you are
done with the list, type a &lt;control D&gt;.
master server   :  ellington
next host to add:  coltrane
next host to add:  ^D
The current list of NIS servers looks like this:
ellington
coltrane
Is this correct?  [y/n: y] y

[..output from map generation..]

NIS Map update completed.
ellington has been setup as an YP master server without any errors.</span></code></pre></div></div><div class=paragraph><p><code>ypinit</code> нь <span class=filename>/var/yp/Makefile.dist</span>-с <span class=filename>/var/yp/Makefile</span>-г үүсгэсэн байх ёстой. Үүсэхдээ, энэ файл таныг ганц NIS сервертэй орчинд зөвхөн FreeBSD машинуудтай ажиллаж байна гэж үзнэ. <code>test-domain</code> нь зарц сервертэй тул, та <span class=filename>/var/yp/Makefile</span> файлыг засах хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# vi /var/yp/Makefile</code></pre></div></div><div class=paragraph><p>Доорх мөрийг далдлах хэрэгтэй</p></div><div class="literalblock programlisting"><div class=content><pre>NOPUSH = &#34;True&#34;</pre></div></div><div class=paragraph><p>(хэрэв далдлагдаагүй бол).</p></div></div><div class=sect4><h5 id=_nis_зарц_серверийг_зохион_байгуулах_нь>30.4.4.2.3. NIS Зарц Серверийг зохион байгуулах нь<a class=anchor href=#_nis_зарц_серверийг_зохион_байгуулах_нь></a></h5><div class=paragraph><p>NIS зарц серверийг зохион байгуулах нь эзэн серверийг зохион байгуулахаас ч хялбар байдаг. Зарц сервер рүү нэвтэрч ороод түрүүн хийсэн шигээ <span class=filename>/etc/rc.conf</span> файлыг засах хэрэгтэй. Ганц ялгаа нь <code>ypinit</code> тушаалыг өгөхдөө <code>-s</code> тохируулгыг өгнө. <code>-s</code> тохируулга нь NIS эзэн серверийн нэрийг хамт оруулахыг шаардах тул бидний тушаалын мөр дараах байдалтай байна:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>coltrane# ypinit <span class=nt>-s</span> ellington test-domain

Server Type: SLAVE Domain: test-domain Master: ellington

Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.

Do you want this procedure to quit on non-fatal errors? <span class=o>[</span>y/n: n]  n

Ok, please remember to go back and redo manually whatever fails.
If you don<span class=s1>&#39;t, something might not work.
There will be no further questions. The remainder of the procedure
should take a few minutes, to copy the databases from ellington.
Transferring netgroup...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byuser...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byhost...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring group.bygid...
ypxfr: Exiting: Map successfully transferred
Transferring group.byname...
ypxfr: Exiting: Map successfully transferred
Transferring services.byname...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.byname...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.byname...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring netid.byname...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring ypservers...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byname...
ypxfr: Exiting: Map successfully transferred

coltrane has been setup as an YP slave server without any errors.
Don&#39;</span>t forget to update map ypservers on ellington.</code></pre></div></div><div class=paragraph><p>Одоо <span class=filename>/var/yp/test-domain</span> нэртэй сан үүссэн байх ёстой. NIS эзэн серверийн буулгалтуудын хуулбарууд энэ сан дотор байх ёстой. Эдгээр файлууд шинэчлэгдэж байгаа эсэхийг нягтлаж байх хэрэгтэй. Таны зарц серверийн <span class=filename>/etc/crontab</span> доторх дараах мөрүүд үүнийг хийх болно:</p></div><div class="literalblock programlisting"><div class=content><pre>20      *       *       *       *       root   /usr/libexec/ypxfr passwd.byname
21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid</pre></div></div><div class=paragraph><p>Энэ хоёр мөр нь зарц сервер өөрийн буулгалтуудыг эзэн сервертэй ижилхэн байлгахыг шаарддаг. Эзэн сервер буулгалтын өөрчлөлтийг өөрийн зарц нарт автоматаар оруулж өгөхийг оролддог болохоор эдгээр мөрүүдийг заавал хэрэглэх шаардлагагүй юм. Гэхдээ зарц серверээс хамааралтай бусад клиентүүд дээрх зөв нууц үгийн мэдээллийн чухлаас хамаараад нууц үгийн буулгалтын шинэчлэлтийг давтамжтайгаар хийхийг зөвлөдөг. Буулгалтын шинэчлэлт үргэлж гүйцэд биш байж болох ачаалал их сүлжээний хувьд энэ нь илүүтэй чухал юм.</p></div><div class=paragraph><p>Одоо, зарц сервер талд мөн <code>/etc/netstart</code> тушаалыг өгч NIS серверийг ажиллуулна.</p></div></div></div><div class=sect3><h4 id=_nis_харилцагчид>30.4.4.3. NIS Харилцагчид<a class=anchor href=#_nis_харилцагчид></a></h4><div class=paragraph><p>NIS харилцагч нь <code>ypbind</code> дэмоны тусламжтай тодорхой нэг NIS сервертэй холбоо тогтооно. <code>ypbind</code> системийн анхдагч домэйныг шалгах ба (<code>domainname</code> тушаалаар өгөгдсөн), дотоод сүлжээнд RPC хүсэлтийг цацаж эхлэнэ. Эдгээр хүсэлтүүд нь <code>ypbind</code>-н холбоо тогтоох гэж байгаа домэйн нэрийг зааж өгнө. Хэрэв тухайн домэйнд үйлчлэхээр тохируулагдсан сервер дээрх хүсэлтийг хүлээн авбал, <code>ypbind</code>-д хариу өгөх ба хариуг хүлээж авсан тал серверийн хаягийг тэмдэглэж авна. Хэрэв хэд хэдэн сервер хариу өгсөн бол (нэг эзэн ба хэд хэдэн зарц), <code>ypbind</code> хамгийн түрүүнд хариу өгсөн серверийг сонгон авна. Түүнээс хойш, харилцагч өөрийн бүх NIS хүсэлтүүдээ тэр сервер рүү явуулна. <code>ypbind</code> нь хааяа сервер амьд байгаа эсэхийг нягтлахын тулд "ping" хийж үзнэ. Хэрэв хангалттай хугацааны дотор хариу хүлээж аваагүй бол, <code>ypbind</code> энэ домэйнтой холбоо тасарлаа гэж үзээд өөр сервер олохын тулд хүсэлтээ цацаж эхэлнэ.</p></div><div class=sect4><h5 id=_nis_харилцагчийг_зохион_байгуулах>30.4.4.3.1. NIS Харилцагчийг зохион байгуулах<a class=anchor href=#_nis_харилцагчийг_зохион_байгуулах></a></h5><div class=paragraph><p>FreeBSD машин дээр NIS харилцагчийг зохион байгуулах нь нилээд хялбар байдаг.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p><span class=filename>/etc/rc.conf</span> файлыг нээгээд, NIS домэйн нэрийг зааж өгөх ба сүлжээ асах үед <code>ypbind</code>-г ажиллуулдаг болгохын тулд дараах мөрүүдийг нэмж бичнэ:</p><div class="literalblock programlisting"><div class=content><pre>nisdomainname=&#34;test-domain&#34;
nis_client_enable=&#34;YES&#34;</pre></div></div></li><li><p>NIS серверээс хэрэгтэй нэвтрэх үгүүдийг импортолж авахын тулд <span class=filename>/etc/master.passwd</span> файл дотор байгаа бүх хэрэглэгчийн дансыг устгаад, файлын төгсгөлд дараах мөрийг нэмэхийн тулд <code>vipw</code> тушаалыг ашиглана:</p><div class="literalblock programlisting"><div class=content><pre>+:::::::::</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Энэ мөр нь NIS серверийн нэвтрэх үгийн буулгалтад байгаа хүчинтэй хэрэглэгчид данс олгоно. Энэ мөрийг өөрчлөх замаар NIS харилцагчийг хэд хэдэн янзаар тохируулж болно. Дэлгэрэнгүй мэдээллийг доорх <a href=#network-netgroups>netgroups section</a> хэсгээс үзнэ үү. Цааш гүнзгийрүүлэн судлах хүсэлтэй бол <code>NFS ба NIS-г удирдах нь</code> тухай O’Reilly-н номыг үзнэ үү.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Дор хаяж нэг дотоод эрхийг (өөрөөр хэлбэл NIS-с импортолж аваагүй) <span class=filename>/etc/master.passwd</span> файл дотор авч үлдэх хэрэгтэй. Энэ данс <code>wheel</code> бүлгийн гишүүн байх ёстой. Хэрэв NIS дээр ямар нэг асуудал гарлаа гэхэд энэ эрхээр алсаас нэвтрэн орж, <code>root</code> болоод асуудлыг шийдвэрлэх болно.</p></div></td></tr></tbody></table></div></li><li><p>NIS серверээс бүх бүлгүүдийг импортолж авахын тулд дараах мөрийг <span class=filename>/etc/group</span> файлд нэмнэ:</p><div class="literalblock programlisting"><div class=content><pre>+:*::</pre></div></div></li></ol></div></div></div><div class=paragraph><p>NIS клиентийг нэн даруй эхлүүлэхийн тулд дараах тушаалыг супер хэрэглэгчийн эрхээр ажиллуулах хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/netstart</span>
<span class=c># service ypbind start</span></code></pre></div></div><div class=paragraph><p>Үүний дараа, <code>ypcat passwd</code> тушаалыг өгч NIS серверийн passwd буулгалтыг харж чадаж байх ёстой.</p></div></div></div></div><div class=sect2><h3 id=_nis_н_аюулгүй_байдал>30.4.5. NIS-н Аюулгүй байдал<a class=anchor href=#_nis_н_аюулгүй_байдал></a></h3><div class=paragraph><p>Ер нь ямар ч алсын хэрэглэгчийн хувьд өөрийн чинь домэйн нэрийг мэдэж байвал RPC хүсэлтийг <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a>-д явуулж NIS буулгалтыг харах боломжтой. Ийм төрлийн зөвшөөрөгдөөгүй үйлдлээс сэргийлэхийн тулд <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> нь зөвхөн зааж өгсөн хостуудаас ирсэн хандалтыг зөвшөөрдөг "securenets" гэсэн функцыг агуулж байдаг. Систем анх ачаалахад, <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> нь securenets-н мэдээллийг <span class=filename>/var/yp/securenets</span> гэсэн файлаас ачаална.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Энэ замыг <code>-p</code> тохируулгаар зааж өгөх ба янз бүр байж болно. Энэ файлд сүлжээг сүлжээний багийн хамт зайгаар тусгаарлан оруулж өгсөн байна. "#" тэмдгээр эхэлсэн мөрүүд нь тайлбар болно. Жишээ securenets файл дараах байдалтай байна:</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre># allow connections from local host -- mandatory
127.0.0.1     255.255.255.255
# allow connections from any host
# on the 192.168.128.0 network
192.168.128.0 255.255.255.0
# allow connections from any host
# between 10.0.0.0 to 10.0.15.255
# this includes the machines in the testlab
10.0.0.0      255.255.240.0</pre></div></div><div class=paragraph><p>Хэрэв <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a>-н хүсэлт хүлээж авсан хаяг эдгээр дүрмүүдийн аль нэгэнд тохирч байвал хүсэлтийг ердийн байдлаар боловсруулна. Хэрэв энэ хаяг ямар ч дүрмэнд тохирохгүй байвал, хүсэлтийг үл анхаарах бөгөөд анхааруулах бичлэгийг бүртгэлд нэмнэ. Хэрэв <span class=filename>/var/yp/securenets</span> гэсэн файл байхгүй бол, <code>ypserv</code> нь гаднаас ирсэн бүх хүсэлтийг хүлээн авна.</p></div><div class=paragraph><p><code>ypserv</code> програм нь Wietse Venema-н TCP Wrapper багцыг дэмждэг. Энэ нь администраторуудын хувьд <span class=filename>/var/yp/securenets</span>-ны оронд TCP Wrapper-н тохиргооны файлыг хандалтыг хянахад хэрэглэх боломжтой болгодог.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Хэдийгээр эдгээр хандалтыг хянах механизмууд нь аюулгүй байдлыг адил түвшинд хангах боловч, хоёул "IP залилах" халдлагад өртөмтгий байдаг. NIS-тэй холбоотой бүх урсгалыг галт хана дээрээ хааж өгөх хэрэгтэй.</p></div><div class=paragraph><p><span class=filename>/var/yp/securenets</span> хэрэглэж байгаа серверүүд хуучин TCP/IP дээр ажиллаж байгаа зүй ёсны NIS харилцагчид үйлчилж чадахгүй байж магадгүй. Учир нь, тэдгээр нь өргөн цацалт хийхдээ хост битүүдийг бүгдийг тэглэдэг ба өргөн цацалтын хаягийг тооцоолохдоо дэд сүлжээний багийг таньж чаддаггүй болно. Хэдийгээр эдгээр асуудлуудыг харилцагчийн тохиргоог өөрчилснөөр шийдэж болох боловч, бусад асуудлууд нь харилцагчийн системийг цааш ашиглах боломжгүй эсвэл <span class=filename>/var/yp/securenets</span>-г болиулах шаардлагатай болдог.</p></div><div class=paragraph><p>Ийм хуучин TCP/IP дээр ажилладаг сервер дээр <span class=filename>/var/yp/securenets</span>-г хэрэглэх нь үнэхээр хэрэггүй бөгөөд сүлжээний ихэнх хэсэгт NIS-г ашиглах боломжгүй байдаг.</p></div><div class=paragraph><p>TCP Wrapper багцыг ашиглах нь NIS серверийн хоцролтыг ихэсгэдэг. Энэ нэмэлт саатал нь харилцагчийн програм дээр ялангуяа ачаалал ихтэй сүлжээнд, эсвэл удаан NIS сервертэй бол хүлээх хугацаа дуусахад хүргэх талтай. Хэрэв таны харилцагч систем чинь дээрх шинж тэмдгүүдийн аль нэгийг агуулж байгаа бол та энэ харилцагч системээ NIS зарц сервер болгож өөрчлөн хүчээр өөрөөсөө өөртөө холбогдохоор тохируулах хэрэгтэй.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_зарим_хэрэглэгчдийн_нэвтрэхийг_хаах>30.4.6. Зарим хэрэглэгчдийн нэвтрэхийг хаах<a class=anchor href=#_зарим_хэрэглэгчдийн_нэвтрэхийг_хаах></a></h3><div class=paragraph><p>Манай лабораторын жишээн дээр, <code>basie</code> нэртэй нэг машин байгаа. Энэ машиныг зөвхөн багш нар хэрэглэх ёстой. Бид энэ машиныг NIS домэйн дотроос гаргахыг хүсэхгүй байгаа, дээр нь эзэн NIS сервер дээр байгаа <span class=filename>passwd</span> файл нь багш нар болон оюутнуудын дансыг хоёуланг агуулж байгаа. Бид одоо яах ёстой вэ?</p></div><div class=paragraph><p>NIS өгөгдлийн сан дотор бүртгэл нь байгаа ч, зарим хэрэглэгчдийг тухайн машин руу нэвтрэхийг хаах нэг арга байна. Үүний тулд <code>-username</code> гэсэн мөрийг бусад мөрүүдийн адил форматаар харилцагч машин дээр <span class=filename>/etc/master.passwd</span> файлын төгсгөлд нэмэх хэрэгтэй. Энд <em>username</em> гэдэг нь нэвтрэхийг нь хаах гэж байгаа хэрэглэгчийн нэр юм. Хаасан хэрэглэгчийн мөр <code>+</code> гэж нээсэн NIS хэрэглэгчийн мөрөөс дээр байх ёстой. Дээрх үйлдлийг хийхдээ <code>vipw</code>-г ашиглахыг зөвлөж байна. <code>vipw</code> нь <span class=filename>/etc/master.passwd</span> файл дотор хийгдсэн өөрчлөлтийг хянах бөгөөд өөрчлөлт хийж дууссаны дараа нэвтрэх үгийн санг автоматаар дахин үүсгэж өгдөг. Жишээ нь, хэрэв бид <code>bill</code> гэсэн хэрэглэгчийг <code>basie</code> хост дээр нэвтрэхийг хаахыг хүсэж байгаа бол:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>basie# vipw
<span class=o>[</span>add <span class=nt>-bill</span>::::::::: to the end, <span class=nb>exit</span><span class=o>]</span>
vipw: rebuilding the database...
vipw: <span class=k>done

</span>basie# <span class=nb>cat</span> /etc/master.passwd

root:[password]:0:0::0:0:The super-user:/root:/bin/csh
toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh
daemon:<span class=k>*</span>:1:1::0:0:Owner of many system processes:/root:/sbin/nologin
operator:<span class=k>*</span>:2:5::0:0:System &amp;:/:/sbin/nologin
bin:<span class=k>*</span>:3:7::0:0:Binaries Commands and Source,,,:/:/sbin/nologin
<span class=nb>tty</span>:<span class=k>*</span>:4:65533::0:0:Tty Sandbox:/:/sbin/nologin
kmem:<span class=k>*</span>:5:65533::0:0:KMem Sandbox:/:/sbin/nologin
games:<span class=k>*</span>:7:13::0:0:Games pseudo-user:/usr/games:/sbin/nologin
news:<span class=k>*</span>:8:8::0:0:News Subsystem:/:/sbin/nologin
man:<span class=k>*</span>:9:9::0:0:Mister Man Pages:/usr/shared/man:/sbin/nologin
<span class=nb>bind</span>:<span class=k>*</span>:53:53::0:0:Bind Sandbox:/:/sbin/nologin
uucp:<span class=k>*</span>:66:66::0:0:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico
xten:<span class=k>*</span>:67:67::0:0:X-10 daemon:/usr/local/xten:/sbin/nologin
pop:<span class=k>*</span>:68:6::0:0:Post Office Owner:/nonexistent:/sbin/nologin
nobody:<span class=k>*</span>:65534:65534::0:0:Unprivileged user:/nonexistent:/sbin/nologin
<span class=nt>-bill</span>
+:::::::::

basie#</code></pre></div></div></div><div class=sect2><h3 id=network-netgroups>30.4.7. Netgroups-г Хэрэглэх нь<a class=anchor href=#network-netgroups></a></h3><div class=paragraph><p>Цөөхөн тооны машин эсвэл хэрэглэгчийн хувьд тусгай дүрэм хэрэгтэй үед өмнөх хэсэгт дурдсан аргыг хэрэглэх нь илүү тохиромжтой. Харин том сүлжээний хувьд зарим хэрэглэгчийн чухал машин руу нэвтрэх эрхийг хаахаа мартах, эсвэл бүх машиныг нэг бүрчлэн гараараа тохируулж өгөх, өөрөөр хэлбэл NIS-н <em>төвлөрсөн</em> удирдлага гэсэн гол санааг ашиглаж чадахгүй байх тохиолдлууд <em>гарах болно</em>.</p></div><div class=paragraph><p>NIS-г хөгжүүлэгчид энэ асуудлыг шийдэхийн тулд <em>netgroups</em> буюу сүлжээний бүлгүүд гэсэн шинэ зүйлийг бий болгожээ. Түүний зорилго болон семантикийг UNIX® файл системийн жирийн бүлэгтэй дүйцүүлж болох юм. Гол ялгаанууд нь гэвэл тоон дугаар байхгүй, мөн сүлжээний бүлгийг тодорхойлж өгөхдөө хэрэглэгч болон өөр сүлжээний бүлгийг оруулж болдог.</p></div><div class=paragraph><p>Сүлжээний бүлэг нь хэдэн зуун хэрэглэгч болон машинтай том, төвөгтэй сүлжээтэй ажиллахад зориулж бүтээгдсэн юм. Нэг талаар, хэрэв та үнэхээр тийм том сүлжээнд ажиллаж байгаа бол энэ нь Сайн Зүйл юм. Харин нөгөө талаас, энэ байдал нь жижигхэн сүлжээнд хялбар жишээн дээр сүлжээний бүлгийг тайлбарлах бараг боломжгүй болгож байна. Энэ хэсгийн үлдсэн хэсэгт хэрэглэж байгаа жишээн дээр энэ асуудлыг харуулахыг оролдлоо.</p></div><div class=paragraph><p>NIS-г лабораторидоо нэвтрүүлсэн тань танай удирдлагуудын анхаарлыг татсан гэж бодьё. Одоо оюутны хотхон дотор байгаа бусад машиныг NIS домэйнд оруулж өргөтгөх ажлыг хийхийг танд даалгажээ. Дараах хоёр хүснэгтэнд шинээр нэмэх хэрэглэгч болон машины нэрийг товч тайлбарын хамт үзүүллээ.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Хэрэглэгчийн нэр</th><th class="tableblock halign-left valign-top">Тайлбар</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>alpha</code>, <code>beta</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IT хэлтсийн ердийн ажилчид</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>charlie</code>, <code>delta</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IT хэлтсийн шинэ дагалдан</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>echo</code>, <code>foxtrott</code>, <code>golf</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>бусад ердийн ажилчид</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>able</code>, <code>baker</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>дадлагажигчид</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Машины нэр</th><th class="tableblock halign-left valign-top">Тайлбар</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>war</code>, <code>death</code>, <code>famine</code>, <code>pollution</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Таны хамгийн чухал серверүүд. Зөвхөн IT хэлтсийн ажилчид л нэвтрэх эрхтэй.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>pride</code>, <code>greed</code>, <code>envy</code>, <code>wrath</code>, <code>lust</code>, <code>sloth</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Харьцангуй чухал биш серверүүд. IT хэлтэст харъяалагддаг бүх хүмүүс нэвтрэх эрхтэй.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>one</code>, <code>two</code>, <code>three</code>, <code>four</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ердийн ажлын машинууд. Зөвхөн <em>үндсэн</em> ажилчид нэвтрэх эрхтэй.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>trashcan</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Чухал зүйл байхгүй маш хуучин машин. Дадлагажигчид хүртэл нэвтрэх эрхтэй.</p></td></tr></tbody></table><div class=paragraph><p>Хэрэв та дээрх хязгаарлалтуудыг тус бүрд нь хэрэглэгчийг хаах замаар хийх гэж оролдвол бүх машин дээр хаах хэрэглэгч тус бүрийн хувьд <code>-user</code> мөрийг <span class=filename>passwd</span> файл дотор нэмж өгөх ёстой болно. Хэрэв нэг л мөрийг нэмэхээ мартвал асуудалд орно гэсэн үг.</p></div><div class=paragraph><p>Энэ байдалд сүлжээний бүлгийг ашиглах нь нилээд олон давуу талтай. Хэрэглэгч бүрийг тус тусад нь авч үзнэ; нэг хэрэглэгчийг нэг болон түүнээс дээш тооны сүлжээний бүлэгт оноож, тухайн сүлжээний бүлгийн бүх гишүүдийн хувьд нэвтрэхийг эсвэл зөвшөөрч эсвэл хаана. Хэрэв та шинэ машин нэмбэл, зөвхөн сүлжээний бүлгүүдийн хувьд л нэвтрэх эрхийг зааж өгнө. Хэрэв шинэ хэрэглэгч нэмбэл, тухайн хэрэглэгчийг нэг болон түүнээс дээш тооны сүлжээний бүлэгт нэмэхэд л хангалттай. Эдгээр өөрчлөлтүүд нь нэг нэгнээсээ хамааралгүй: "хэрэглэгч ба машины бүх хувилбарт нэмэх…​" шаардлагагүй болно. Хэрэв та NIS-г анхнаас нь бодлоготой хийх юм бол, машинууд руу нэвтрэх эрхийг хянахдаа зөвхөн ганцхан тохиргооны файлыг өөрчлөхөд хангалттай.</p></div><div class=paragraph><p>Хамгийн эхний алхам бол NIS сүлжээний бүлгийн буулгалтыг эхлүүлэх юм. FreeBSD-н <a href="https://man.freebsd.org/cgi/man.cgi?query=ypinit&amp;sektion=8&amp;format=html">ypinit(8)</a> нь энэ буулгалтыг анхдагч байдлаар үүсгэдэггүй, гэвч хэрэв нэгэнт үүсгэчихвэл түүний NIS-тэй ажиллах хэсэг нь энэ буулгалт дээр ажиллах чадвартай. Хоосон буулгалт үүсгэхийн тулд:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# vi /var/yp/netgroup</code></pre></div></div><div class=paragraph><p>гэж бичээд дараах зүйлсийг нэмж бичнэ. Манай жишээний хувьд, бидэнд дор хаяж дөрвөн сүлжээний бүлэг хэрэгтэй: IT ажилчид, IT дагалдангууд, ердийн ажилчид болон дадлагажигчид.</p></div><div class="literalblock programlisting"><div class=content><pre>IT_EMP  (,alpha,test-domain)    (,beta,test-domain)
IT_APP  (,charlie,test-domain)  (,delta,test-domain)
USERS   (,echo,test-domain)     (,foxtrott,test-domain) \
        (,golf,test-domain)
INTERNS (,able,test-domain)     (,baker,test-domain)</pre></div></div><div class=paragraph><p><code>IT_EMP</code>, <code>IT_APP</code> гэх мэт нь сүлжээний бүлгийн нэр. Хаалтан дотор байгаа бүлэг нь хэрэглэгч нэмж байгаа нь. Бүлэг доторх гурван талбар нь:</p></div><div class="olist arabic"><ol class=arabic><li><p>Дараах зүйлүүд хүчинтэй байх хостын нэр. Хэрэв хостын нэр зааж өгөхгүй бол, бүх хостын хувьд хүчинтэй гэсэн үг. Хэрэв хостын нэр зааж өгвөл, та үл ойлгогдох, толгой эргүүлсэн хачин зүйлстэй тулгарах болно.</p></li><li><p>Энэ сүлжээний бүлэгт хамаарах дансны нэр.</p></li><li><p>Тухайн дансны NIS домэйн. Хэрэв та нэгээс олон NIS домэйнд харъяалагддаг азгүй залуусын нэг бол, өөрийн сүлжээний бүлэгт өөр NIS домэйноос данс импортолж болно.</p></li></ol></div><div class=paragraph><p>Эдгээр талбаруудын алинд ч орлуулагддаг тэмдэгт ашиглаж болно. Дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=netgroup&amp;sektion=5&amp;format=html">netgroup(5)</a> заавар хуудаснаас үзнэ үү.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Сүлжээний бүлгүүдийн нэр 8-с дээш тэмдэгт байж болохгүй, ялангуяа тухайн NIS домэйнд өөр үйлдлийн системтэй машинууд ажиллаж байгаа бол. Нэрүүд нь том жижиг үсгийн ялгаатай; сүлжээний бүлгийн нэрийг том үсгээр бичих нь хэрэглэгчийн нэр, машины нэр болон сүлжээний бүлгийн нэрийг хооронд нь ялгахад хялбар болгодог.</p></div><div class=paragraph><p>Зарим NIS харилцагчид (FreeBSD-с бусад) олон тооны гишүүдтэй сүлжээний бүлэгтэй ажиллаж чаддаггүй. Жишээлбэл, SunOS™-н зарим хуучин хувилбарууд сүлжээний бүлэг 15-с дээш тооны <em>гишүүн</em>-тэй бол асуудалтай байдаг. Энэ хязгаарыг давахын тулд 15 ба түүнээс доош тооны хэрэглэгчтэй дэд сүлжээний бүлгүүд үүсгээд, дараа нь эдгээр дэд сүлжээний бүлгүүдээс тогтсон жинхэнэ сүлжээний бүлэг үүсгэх замаар үүсгэж болно:</p></div><div class="literalblock programlisting"><div class=content><pre>BIGGRP1  (,joe1,domain)  (,joe2,domain)  (,joe3,domain) [...]
BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]
BIGGRP3  (,joe31,domain)  (,joe32,domain)
BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3</pre></div></div><div class=paragraph><p>Хэрэв танд нэг сүлжээний бүлэгт 225-с дээш хэрэглэгч хэрэгтэй бол, дээрх үйлдлийг давтах маягаар цааш үргэлжлүүлж болно.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Шинээр үүсгэсэн NIS буулгалтаа идэвхжүүлэх болон тараах нь амархан:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# <span class=nb>cd</span> /var/yp
ellington# make</code></pre></div></div><div class=paragraph><p>Ингэснээр <span class=filename>netgroup</span>, <span class=filename>netgroup.byhost</span> ба <span class=filename>netgroup.byuser</span> гэсэн гурван NIS буулгалт үүсэх болно. Дээрх шинэ буулгалтууд идэвхтэй болсон эсэхийг <a href="https://man.freebsd.org/cgi/man.cgi?query=ypcat&amp;sektion=1&amp;format=html">ypcat(1)</a> ашиглан шалгаарай:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington% ypcat <span class=nt>-k</span> netgroup
ellington% ypcat <span class=nt>-k</span> netgroup.byhost
ellington% ypcat <span class=nt>-k</span> netgroup.byuser</code></pre></div></div><div class=paragraph><p>Эхний тушаалын үр дүн <span class=filename>/var/yp/netgroup</span> файл доторхтой төстэй байх ёстой. Хэрэв та хостоор тусгайлан сүлжээний бүлэг үүсгээгүй бол хоёр дахь тушаалын үр дүнд юу ч гарах ёсгүй. Гурав дахь тушаалын тусламжтай тухайн хэрэглэгчийн сүлжээний бүлгүүдийн жагсаалтыг харахад хэрэглэгдэнэ.</p></div><div class=paragraph><p>Харилцагчийг тохируулахад нилээд хялбар. <code>war</code> нэртэй серверийг тохируулахын тулд, <a href="https://man.freebsd.org/cgi/man.cgi?query=vipw&amp;sektion=8&amp;format=html">vipw(8)</a>-г ажиллуулаад</p></div><div class="literalblock programlisting"><div class=content><pre>+:::::::::</pre></div></div><div class=paragraph><p>гэсэн мөрийг</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::</pre></div></div><div class=paragraph><p>гэсэн мөрөөр сольж бичих хэрэгтэй. Ингэснээр, зөвхөн <code>IT_EMP</code> сүлжээний бүлэгт заагдсан хэрэглэгчдийн мэдээлэл <code>war</code>-н нэвтрэх үгийн санд импортлогдож, зөвхөн эдгээр хэрэглэгчид л энэ машин руу нэвтрэх эрхтэй боллоо.</p></div><div class=paragraph><p>Харамсалтай нь, энэ хязгаарлалт нь бүрхүүлийн <code>~</code> функцад, мөн хэрэглэгчийн нэр ба тоон дугаарыг хооронд нь хөрвүүлдэг бүх дэд програмуудад хамаатай. Өөрөөр хэлбэл, <code>cd ~user</code> тушаал ажиллахгүй, <code>ls -l</code> тушаал хэрэглэгчийн нэрийн оронд түүний тоон дугаарыг харуулах ба <code>find . -user joe -print</code> тушаал <code>Тийм хэрэглэгч байхгүй</code> гэсэн алдааны мэдээлэл өгч амжилтгүй болох болно. Үүнийг засахын тулд, бүх хэрэглэгчдийн бүртгэлийг <em>сервер рүү нэвтрэх эрхгүйгээр</em> импортлох хэрэгтэй болно.</p></div><div class=paragraph><p>Үүний тулд өөр нэг мөрийг <span class=filename>/etc/master.passwd</span> файлд нэмж өгөх хэрэгтэй. Энэ мөр нь:</p></div><div class=paragraph><p><code>+:::::::::/sbin/nologin</code> гэсэн бичлэгийг агуулж байх ёстой бөгөөд, энэ нь "бүх бүртгэлийг импортол, гэхдээ импортлогдож байгаа бүртгэлүүдийн бүрхүүлийг <span class=filename>/sbin/nologin</span>-р соль" гэсэн утгатай. Үүнтэй адилаар <code>passwd</code> файлын ямар ч талбарыг <span class=filename>/etc/master.passwd</span> файл дахь анхдагч утгыг сольж бичсэнээр өөрчилж болно.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p><code>:::::::::/sbin/nologin` гэсэн мөр `@IT_EMP:::::::::</code> гэсэн мөрийн дараа бичигдсэн эсэхийг сайтар нягтлаарай. Үгүй бол, NIS-с импортлогдсон бүх хэрэглэгчдийн бүрхүүл <span class=filename>/sbin/nologin</span> болчихно шүү.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Дээрх өөрчлөлтийг хийсний дараа, хэрэв IT хэлтэст шинэ ажилчин орвол, зөвхөн ганцхан NIS буулгалтыг өөрчлөх боллоо. Чухал бус бусад серверийн хувьд ижилхэн арга хэрэглэж, тэдгээрийн өөрийн <span class=filename>/etc/master.passwd</span> файл дотор байгаа хуучин <code>+:::::::::</code> мөрийг:</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::
+@IT_APP:::::::::
+:::::::::/sbin/nologin</pre></div></div><div class=paragraph><p>гэсэн мөрөөр сольж бичих хэрэгтэй. Ердийн ажлын машины хувьд:</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::
+@USERS:::::::::
+:::::::::/sbin/nologin</pre></div></div><div class=paragraph><p>байх ёстой. Ингээд бүх зүйл асуудалгүй ажиллах болно. Гэтэл хэдэн долоо хоногийн дараа дүрэм, журманд өөрчлөлт орлоо: IT хэлтэс дадлагажигч авч эхэллээ. IT хэлтсийн дадлагажигчид ердийн ажлын машин болон чухал бус серверүүдэд нэвтрэх эрхтэй; IT дагалдангууд гол сервер рүү нэвтрэх эрхтэй болжээ. Одоо <code>IT_INTERN</code> гэсэн шинэ сүлжээний бүлэг нэмж, энэ бүлэгт шинэ IT дадлагажигчдийг нэмээд, энэ өөрчлөлтийг бүх машины тохиргоонд оруулж эхлэх хэрэгтэй…​ Бидний хэлж заншсанаар: "Төвлөрсөн төлөвлөгөөн дээрх алдаа, бүх юмыг орвонгоор нь эргүүлнэ".</p></div><div class=paragraph><p>Энэ мэт тохиолдолуудад NIS-н өөр сүлжээний бүлгээс шинэ сүлжээний бүлэг үүсгэх боломж нь тус болно. Нэг боломж нь үүрэг дээр үндэслэсэн сүлжээний бүлэг юм. Жишээ нь, чухал серверүүд рүү нэвтрэх эрхийг хянахын тулд <code>BIGSRV</code> гэсэн нэртэй сүлжээний бүлэг үүсгэж болох ба, чухал бус серверүүдийн хувьд өөр <code>SMALLSRV</code> гэсэн бүрэг үүсгэж, <code>USERBOX</code> гэсэн гурав дахь бүлгийг ердийн ажлын машинуудад зориулж үүсгэж болох юм. Эдгээр сүлжээний бүлэг тус бүр дээрх гурван төрлийн машинд нэвтрэх эрхтэй сүлжээний бүлгүүдийг агуулна. NIS сүлжээний бүлгийн буулгалт дараах байдалтай байна:</p></div><div class="literalblock programlisting"><div class=content><pre>BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP  ITINTERN
USERBOX   IT_EMP  ITINTERN USERS</pre></div></div><div class=paragraph><p>Нэвтрэх эрхийг хязгаарлах энэ арга нь ижил төрлийн хязгаарлалттай машинуудыг нэг бүлэг болговол илүү үр дүнтэй ажиллана. Харамсалтай нь, заавал тийм байх албагүй. Ихэнх тохиолдолд, машин тус бүрээр нэвтрэх эрхийг хязгаарлах боломжтой байх шаардлага зайлшгүй тулгардаг.</p></div><div class=paragraph><p>Машин дээр үндэслэсэн сүлжээний бүлэг тодорхойлох нь дээрх мэтийн дүрэм журамд өөрчлөлт ороход хэрэглэж болох хоёр дахь боломж юм. Энэ тохиолдолд, машин бүрийн <span class=filename>/etc/master.passwd</span> файл дотор "+"-р эхэлсэн хоёр мөр бичлэг байна. Эхнийх нь энэ машин руу нэвтрэх эрхтэй дансуудаас бүрдсэн сүлжээний бүлгийг нэмж өгнө, хоёр дахь нь бусад дансуудыг <span class=filename>/sbin/nologin</span> бүрхүүлтэйгээр нэмнэ. Сүлжээний бүлгийн нэрийг машины нэрийг "БҮХ ҮСГИЙГ ТОМООР" байхаар сонгож авах нь тохиромжтой. Өөрөөр хэлбэл, мөрүүд дараах байдалтай харагдах ёстой:</p></div><div class="literalblock programlisting"><div class=content><pre>+@BOXNAME:::::::::
+:::::::::/sbin/nologin</pre></div></div><div class=paragraph><p>Бүх машины хувьд дээрх үйлдлийг хийж дууссаны дараа, өөрийн <span class=filename>/etc/master.passwd</span> файлыг дахин өөрчлөх шаардлагагүй болно. Бусад бүх өөрчлөлтүүдийг NIS буулгалтыг өөрчилснөөр шийдэх болно. Дээрх асуудалд тохирох сүлжээний бүлгийн буулгалтыг зарим нэмэлт өөрчлөлтүүдийн хамт дор жишээ болгож үзүүлэв:</p></div><div class="literalblock programlisting"><div class=content><pre># Define groups of users first
IT_EMP    (,alpha,test-domain)    (,beta,test-domain)
IT_APP    (,charlie,test-domain)  (,delta,test-domain)
DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)
DEPT2     (,golf,test-domain)     (,hotel,test-domain)
DEPT3     (,india,test-domain)    (,juliet,test-domain)
ITINTERN  (,kilo,test-domain)     (,lima,test-domain)
D_INTERNS (,able,test-domain)     (,baker,test-domain)
#
# Now, define some groups based on roles
USERS     DEPT1   DEPT2     DEPT3
BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP    ITINTERN
USERBOX   IT_EMP  ITINTERN  USERS
#
# And a groups for a special tasks
# Allow echo and golf to access our anti-virus-machine
SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)
#
# machine-based netgroups
# Our main servers
WAR       BIGSRV
FAMINE    BIGSRV
# User india needs access to this server
POLLUTION  BIGSRV  (,india,test-domain)
#
# This one is really important and needs more access restrictions
DEATH     IT_EMP
#
# The anti-virus-machine mentioned above
ONE       SECURITY
#
# Restrict a machine to a single user
TWO       (,hotel,test-domain)
# [...more groups to follow]</pre></div></div><div class=paragraph><p>Хэрэв та хэрэглэгчдийнхээ дансыг удирдахын тулд ямар нэг өгөгдлийн санг ашигладаг бол, дээрх буулгалтын эхний хэсгийг өгөгдлийн сангийнхаа тайлан бэлтгэх багажуудыг ашиглах үүсгэх боломжтой. Энэ замаар, шинэ хэрэглэгчид машинуудад хандах эрхийг автоматаар олж авах болно.</p></div><div class=paragraph><p>Эцэст нь анхааруулж хэлэх нэг зүйл байна: Машин дээр үндэслэсэн сүлжээний бүлгийг хэрэглэхийг байнга зөвлөхгүй. Хэрэв оюутны лабораторид зориулсан, хэдэн арван эсвэл хэдэн зуун нэг ижил машинтай ажиллаж байгаа бол, NIS буулгалтыг тодорхой хэмжээнд барьж байхын тулд машин дээр үндэслэсэн сүлжээний бүлгийн оронд үүрэг дээр үндэслэсэн сүлжээний бүлгийг хэрэглэх хэрэгтэй.</p></div></div><div class=sect2><h3 id=_санаж_явах_чухал_зүйлс>30.4.8. Санаж явах чухал зүйлс<a class=anchor href=#_санаж_явах_чухал_зүйлс></a></h3><div class=paragraph><p>NIS орчинд ороод, өөрөөр хийх ёстой хэд хэдэн зүйлс байна.</p></div><div class=ulist><ul><li><p>Лабораторид шинэ хэрэглэгч нэмэх бүрдээ <em>зөвхөн</em> эзэн NIS серверт нэмэх ёстой, ба <em>NIS буулгалтыг заавал дахин үүсгэх ёстой</em>. Хэрэв ингэхээ мартвал, шинэ хэрэглэгч эзэн NIS серверээс өөр хаашаа ч нэвтэрч чадахгүй болно. Жишээ нь, бид <code>jsmith</code> гэсэн шинэ хэрэглэгчийг лабораторид нэмэх боллоо:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pw useradd jsmith</span>
<span class=c># cd /var/yp</span>
<span class=c># make test-domain</span></code></pre></div></div><div class=paragraph><p><code>pw useradd jsmith</code>-н оронд <code>adduser jsmith</code>-г мөн хэрэглэж болно.</p></div></li><li><p><em>Администратор эрхтэй дансуудыг NIS буулгалтад оруулах ёсгүй</em>. Администратор эрхээр орох ёсгүй хэрэглэгчдийн машин дээр администратор эрхтэй дансууд болон нэвтрэх үгүүдийг тараах хүсэлгүй байгаа биз дээ.</p></li><li><p><em>NIS эзэн болон зарц серверийн аюулгүй байдлыг хангаж, ажиллахгүй байх хугацааг багасгах хэрэгтэй</em>. Хэрэв хэн нэг нь серверт нууцаар нэвтэрч, эсвэл унтрааж орхивол хүмүүсийг лабораторын машинууд руу нэвтрэх боломжгүй болгож, саад болох болно.</p><div class=paragraph><p>Энэ нь ямар ч төвлөрсөн удирдах системийн гол сул тал юм. Хэрэв та өөрийн NIS серверийг хамгаалахгүй бол, та маш олон ууртай хэрэглэгчидтэй таарах болно шүү!</p></div></li></ul></div></div><div class=sect2><h3 id=_nis_v1_нийцтэй_байдал>30.4.9. NIS v1 нийцтэй байдал<a class=anchor href=#_nis_v1_нийцтэй_байдал></a></h3><div class=paragraph><p>FreeBSD-н ypserv нь NIS v1 харилцагчдад үйлчлэх зарим дэмжигчтэй ирдэг. FreeBSD-н NIS нь зөвхөн NIS v2 протоколыг хэрэглэдэг, гэхдээ бусад нь хуучин системүүдтэй нийцтэй ажиллахын тулд v1 протоколыг дэмждэг байхаар бүтээгдсэн байдаг. Эдгээр системтэй хамт ирсэн ypbind дэмонууд хэдийгээр үнэн хэрэг дээрээ хэзээ ч хэрэглэхгүй боловч NIS v1 сервертэй холболт үүсгэхийг оролддог (ба v2 серверээс хариу хүлээж авсан ч өргөн цацалт хийж хайлтаа үргэлжлүүлдэг талтай). Хэдийгээр ердийн харилцагчийн хүсэлтийг дэмждэг боловч, ypserv-н энэ хувилбар v1 буулгалтыг зөөх хүсэлттэй ажиллаж чадахгүй; иймээс, зөвхөн v1 протоколыг дэмждэг хуучин NIS серверүүдтэй холбоотойгоор эзэн эсвэл зарц байдлаар ажиллаж чадахгүй. Аз болоход, ийм серверийг одоо хэрэглэж байгаа газар байхгүй.</p></div></div><div class=sect2><h3 id=network-nis-server-is-client>30.4.10. NIS Сервер мөртлөө NIS Харилцагч<a class=anchor href=#network-nis-server-is-client></a></h3><div class=paragraph><p>Сервер машин нь мөн NIS харилцагч байдлаар ажилладаг олон сервертэй домэйнд ypserv-г ажиллуулахдаа анхааралтай байх хэрэгтэй. Ийм серверийг өргөн цацалт хийлгэж, өөр нэг сервертэй холбоо тогтоохыг зөвшөөрөхийн оронд өөрөө өөртэй нь хүчээр холбох нь ихэвчлэн дээр байдаг. Хэрэв нэг сервер унтарч, бусад серверүүд түүнээс хамааралтай байх юм бол хачин алдаанууд гарч болзошгүй. Эцэст нь бүх харилцагчдын хүлээх хугацаа дуусаж, бүгд өөр сервертэй холбогдохыг оролдох болно. Хэдийгээр бүх серверүүд холболтуудаа сэргээж буцаад хэвийн байдалдаа орсон ч, саатлаас болж харилцагчид холбогдож чадахгүй хэвээр байх болно.</p></div><div class=paragraph><p>Хостыг ямар нэг сервертэй холбогдохыг <code>ypbind</code> тушаалыг <code>-S</code> тугийн хамт ажиллуулж, урдаас зааж өгч болно. Хэрэв NIS серверийг дахин ачаалах тоолонд энэ тушаалыг гараар оруулах хүсэлгүй байгаа бол, дараах мөрүүдийг өөрийн <span class=filename>/etc/rc.conf</span> файл дотор нэмээрэй:</p></div><div class="literalblock programlisting"><div class=content><pre>nis_client_enable=&#34;YES&#34;	# run client stuff as well
nis_client_flags=&#34;-S NIS domain,server&#34;</pre></div></div><div class=paragraph><p>Дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=ypbind&amp;sektion=8&amp;format=html">ypbind(8)</a> заавар хуудаснаас үзнэ үү.</p></div></div><div class=sect2><h3 id=_нэвтрэх_үгийн_хэлбэр>30.4.11. Нэвтрэх үгийн хэлбэр<a class=anchor href=#_нэвтрэх_үгийн_хэлбэр></a></h3><div class=paragraph><p>NIS-г зохион байгуулах явцад ихэвчлэн тохиолддог асуудлуудын нэг бол нэвтрэх үгийн хэлбэрийн нийцгүй байдал юм. Хэрэв таны NIS сервер DES хувиргалттай нэвтрэх үгийг хэрэглэдэг бол, зөвхөн DES хэрэглэдэг харилцагчид үйлчлэх чадвартай. Жишээлбэл, хэрэв сүлжээнд чинь Solaris™ NIS харилцагчид байгаа бол, та бараг л DES хувиргалттай нэвтрэх үг хэрэглэх шаардлагатай гэсэн үг.</p></div><div class=paragraph><p>Таны сервер болон харилцагчид ямар хэлбэрийн нэвтрэх үг хэрэглэдгийг шалгахдаа <span class=filename>/etc/login.conf</span> файлыг үзээрэй. Хэрэв тухайн хост DES хувиргалттай нэвтрэх үг хэрэглэдэг бол, <code>default</code> буюу анхдагч ангилал нь дараах мөрүүдийг агуулсан байх болно:</p></div><div class="literalblock programlisting"><div class=content><pre>default:\
	:passwd_format=des:\
	:copyright=/etc/COPYRIGHT:\
	[Further entries elided]</pre></div></div><div class=paragraph><p><code>passwd_format</code> нь өөр <code>blf</code> ба <code>md5</code> гэсэн утгуудыг авч болно (Blowfish болон MD5 хувиргалттай нэвтрэх үгийн хувьд).</p></div><div class=paragraph><p>Хэрэв та <span class=filename>/etc/login.conf</span> файлд өөрчлөлт хийсэн бол, нэвтрэх чадварын санг дахин үүсгэх шаардлагатай. Үүний тулд дараах тушаалыг <code>root</code> эрхээр өгөх хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cap_mkdb /etc/login.conf</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><span class=filename>/etc/master.passwd</span> файл дотор аль хэдийн үүссэн нэвтрэх үгийн хэлбэр нь хэрэглэгч нэвтрэх чадварын сан дахин үүссэнээс хойш анх удаа нэвтрэх үгээ солих хүртэл өөрчлөгдөхгүй.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Мөн, таны сонгосон хэлбэрээр нэвтрэх үгүүдэд хувиргалт хийгддэг болгохын тулд, <span class=filename>/etc/auth.conf</span> файл доторх <code>crypt_default</code> утга таны сонгосон хэлбэрийг хамгийн түрүүнд оруулсан байгаа эсэхийг шалгах хэрэгтэй. Жишээ нь, DES хувиргалттай нэвтрэх үгийг хэрэглэх үед:</p></div><div class="literalblock programlisting"><div class=content><pre>crypt_default	=	des blf md5</pre></div></div><div class=paragraph><p>FreeBSD дээр тулгуурласан NIS сервер болон харилцагч бүр дээр дээрх үйлдлүүдийг хийснээр, нэвтрэх үгийн хэлбэр бүгд таарч байгаа гэдэгт санаа амар байж болно. Хэрэв NIS харилцагч дээр нэвтэрч ороход асуудал гарвал, асуудлыг тодруулах нэг газар байна. Хэрэв та холимог сүлжээний хувьд NIS сервер босгох гэж байгаа бол, ихэнх систем дээр зайлшгүй байх хамгийн бага стандарт тул, бүх системүүд дээрээ DES ашиглах хэрэгтэйг санаарай.</p></div></div></div></div><div class=sect1><h2 id=network-dhcp>30.5. Автомат Сүлжээний Тохиргоо (DHCP)<a class=anchor href=#network-dhcp></a></h2><div class=sectionbody><div class=sect2><h3 id=_dhcp_гэж_юу_вэ>30.5.1. DHCP гэж юу вэ?<a class=anchor href=#_dhcp_гэж_юу_вэ></a></h3><div class=paragraph><p>DHCP, Dynamic Host Configuration Protocol буюу Динамик Хостын Тохиргооны Протокол нь систем ямар байдлаар сүлжээнд холбогдох, тухайн сүлжээнд харилцаанд орохын тулд шаардагдах мэдээллийг хэрхэн олж авахыг зааж өгдөг. FreeBSD нь OpenBSD 3.7-с авсан OpenBSD-н <code>dhclient</code>-г хэрэглэдэг. Энэ бүлэгт гарах <code>dhclient</code>-р ISC ба OpenBSD DHCP харилцагчийг хоёуланг нь төлөөлүүлсэн болно. DHCP серверийн хувьд ISC тархацын серверийг авч үзэх болно.</p></div></div><div class=sect2><h3 id=_энэ_хэсэгт_авч_үзэх_зүйлс>30.5.2. Энэ хэсэгт авч үзэх зүйлс<a class=anchor href=#_энэ_хэсэгт_авч_үзэх_зүйлс></a></h3><div class=paragraph><p>Энэ хэсэгт ISC ба OpenBSD DHCP харилцагчийн харилцагч талыг бүтээж байгаа элементүүд, болон ISC DHCP системийн сервер талыг бүтээж байгаа элементүүдийг хоёуланг нь авч үзэх болно. Харилцагч талын програм, <code>dhclient</code>, нь FreeBSD-тэй нэгдмэл байдлаар ирдэг бол, сервер талын хэсэг нь <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp42-server/>net/isc-dhcp42-server</a> портоос суулгах боломжтой байдлаар ирдэг. <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5&amp;format=html">dhcp-options(5)</a>, ба <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5&amp;format=html">dhclient.conf(5)</a> заавар хуудсууд болон доор өгөгдсөн зөвлөмжүүд нь хэрэг болно.</p></div></div><div class=sect2><h3 id=_хэрхэн_ажилладаг_вэ_2>30.5.3. Хэрхэн ажилладаг вэ?<a class=anchor href=#_хэрхэн_ажилладаг_вэ_2></a></h3><div class=paragraph><p>Харилцагч машин дээр <code>dhclient</code> DHCP харилцагчийг ажиллуулахад, тохиргооны мэдээллийг хүссэн хүсэлтийг цацаж эхэлнэ. Анхдагч байдлаар, эдгээр хүсэлтүүд нь UDP 68-р портоос гарч, серверийн UDP 67 порт руу илгээгдэнэ. Сервер харилцагчид IP хаяг болон сүлжээний баг, чиглүүлэгч, DNS серверийн хаяг зэрэг хэрэгтэй мэдээллийг хариу илгээнэ. Энэ бүх мэдээллийг DHCP "түрээслэх" хэлбэрээр өгөх ба зөвхөн тодорхой хугацааны туршид хүчинтэй байна (DHCP серверийг хариуцагч тохируулж өгсөн байна). Ийм байдлаар, сүлжээнд холбогдохоо больсон харилцагчийн ашиглагдаагүй IP хаягуудыг автоматаар буцааж авах боломжтой болно.</p></div><div class=paragraph><p>DHCP харилцагч серверээс өргөн мэдээллийг авч чадна. Бүрэн жагсаалтыг <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5&amp;format=html">dhcp-options(5)</a>-с олж үзэж болно.</p></div></div><div class=sect2><h3 id=_freebsd_тэй_нэгдмэл_байдал>30.5.4. FreeBSD-тэй нэгдмэл байдал<a class=anchor href=#_freebsd_тэй_нэгдмэл_байдал></a></h3><div class=paragraph><p>FreeBSD нь OpenBSD DHCP харилцагч, <code>dhclient</code>-г өөртэйгөө бүрэн нэгтгэсэн байдаг. DHCP сервер ажиллаж байгаа сүлжээнд сүлжээний тохиргоог хийх нарийн чимхлүүр ажлаас хөнгөвчлөх үүднээс, DHCP харилцагчийг систем суулгагч болон үндсэн системийн аль алинд хамт оруулж өгсөн байдаг.</p></div><div class=paragraph><p>sysinstall нь DHCP-г дэмждэг. sysinstall-р сүлжээний интерфэйсийг тохируулахад асуудаг хоёр дахь асуулт бол: "Та энэ интерфэйсийг DHCP-р тохируулахыг хүсэж байна уу?". Зөвшөөрсөн хариулт өгсөн тохиолдолд <code>dhclient</code>-г ажиллуулах бөгөөд, хэрэв амжилттай бол сүлжээний тохиргоо автоматаар хийгдэнэ.</p></div><div class=paragraph><p>Систем ачаалах үед DHCP ашигладаг болгохын тулд, хоёр зүйлийг хийх хэрэгтэй:</p></div><div class=ulist><ul><li><p><span class=filename>bpf</span> төхөөрөмж цөмтэй хамт эмхэтгэгдсэн байх ёстой. Үүний тулд, <code>device bpf</code> мөрийг цөмийн тохиргооны файлд нэмж бичээд цөмийг дахин бүтээх хэрэгтэй. Цөмийг бүтээх талаар дэлгэрэнгүй мэдээллийг <a href=../kernelconfig/#kernelconfig>FreeBSD цөмийг тохируулах нь</a> хэсгээс авна уу.</p><div class=paragraph><p><span class=filename>bpf</span> төхөөрөмж нь FreeBSD-н <span class=filename>GENERAL</span> цөмийн нэг хэсэг бөгөөд, DHCP-г ажиллуулахын тулд тусгайлан шинээр цөм бүтээх шаардлагагүй.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Аюулгүй байдлын талаар сэтгэл зовнидог хүмүүст зөвлөхөд, <span class=filename>bpf</span> нь пакет шиншлэгчдийг зөв ажиллах боломжийг олгодог төхөөрөмж болохыг анхааралдаа авна уу (хэдийгээр тэдгээр програм ажиллахын тулд <code>root</code> эрх хэрэгтэй боловч). DHCP-г ашиглахын тулд <span class=filename>bpf</span><em>заавал</em> хэрэгтэй, гэвч хэрэв та аюулгүй байдлыг маш ихээр анхааралдаа авдаг бол, зөвхөн хэзээ нэгэн цагт DHCP-г ашиглахын тулд <span class=filename>bpf</span>-г цөмд нэмэх хэрэггүй.</p></div></td></tr></tbody></table></div></li><li><p>Анхдагчаар FreeBSD-н DHCP тохиргоо ар талд буюу асинхрон (<em>asynchronously</em>) горимд хийгддэг. DHCP дуустал бусад скриптүүд ажилладаг бөгөөд ингэснээр системийн эхлүүлэлтийг хурдасгадаг.</p><div class=paragraph><p>Ард ажиллах DHCP нь DHCP сервер хүсэлтүүдэд хурдан хариу өгч DHCP тохиргооны процесс түргэн хийгдэх үед сайн ажилладаг. Гэхдээ DHCP зарим системүүд дээр хийгдэж дуустлаа удаан ажиллаж болно. DHCP дуусахаас өмнө сүлжээний үйлчилгээнүүд ажиллахаар оролдвол амжилтгүй болно. DHCP-г синхрон (<em>synchronous</em>) горимд ашиглах нь DHCP тохиргоог дуустал эхлүүлэлтийг түр зогсоож асуудал гарахаас сэргийлдэг.</p></div><div class=paragraph><p>Бусад эхлүүлэлтүүд үргэлжилж байх үед ар талд DHCP сервер рүү холбогдохын тулд (асинхрон горим) <span class=filename>/etc/rc.conf</span> файлд “DHCP” гэсэн утгыг ашиглана:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0=&#34;DHCP&#34;</pre></div></div><div class=paragraph><p>DHCP дуустал эхлэлийг түр зогсоохын тулд синхрон горимыг “SYNCDHCP” утгатайгаар хэрэглэнэ:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0=&#34;SYNCDHCP&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><a href=../config/#config-network-setup>Сүлжээний интерфэйс картууд суулгах нь</a>-д тайлбарласан ёсоор, эдгээр жишээн дээр байгаа <code>fxp0</code>-г динамикаар тохируулах гэж байгаа интерфэйсийн нэрээр сольж бичнэ.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Хэрэв таны <code>dhclient</code> өөр газар байгаа бол, эсвэл хэрэв та <code>dhclient</code>-г нэмэлт тугуудын хамт ажиллуулах хүсэлтэй бол, дараах мөрүүдийг нэмж бичнэ үү (шаардлагатай бол засаж бичнэ үү):</p></div><div class="literalblock programlisting"><div class=content><pre>dhclient_program=&#34;/sbin/dhclient&#34;
dhclient_flags=&#34;&#34;</pre></div></div></li></ul></div><div class=paragraph><p>DHCP сервер dhcpd нь портуудын цуглуулгад байгаа <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp42-server/>net/isc-dhcp42-server</a> портын нэг хэсэг байдлаар ирдэг. Энэ порт нь ISC DHCP сервер болон түүний баримтуудыг агуулсан байдаг.</p></div></div><div class=sect2><h3 id=_файлууд>30.5.5. Файлууд<a class=anchor href=#_файлууд></a></h3><div class=ulist><ul><li><p><span class=filename>/etc/dhclient.conf</span></p><div class=paragraph><p><code>dhclient</code> нь <span class=filename>/etc/dhclient.conf</span> гэсэн тохиргооны файлыг шаарддаг. Ихэвчлэн энэ файл зөвхөн тайлбаруудаас бүрдэх ба анхдагч утгууд нь харьцангуй өөрчлөх шаардлагагүйгээр өгөгдсөн байдаг. Энэ тохиргооны файлыг <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5&amp;format=html">dhclient.conf(5)</a> заавар хуудсанд тайлбарласан байгаа.</p></div></li><li><p><span class=filename>/sbin/dhclient</span></p><div class=paragraph><p><code>dhclient</code> нь статикаар холбогдсон байх ба <span class=filename>/sbin</span> дотор байрлана. <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a> хуудаснаас <code>dhclient</code>-н талаар дэлгэрэнгүй мэдээллийг авна уу.</p></div></li><li><p><span class=filename>/sbin/dhclient-script</span></p><div class=paragraph><p><code>dhclient-script</code> нь зөвхөн FreeBSD-д байдаг, DHCP харилцагчийг тохируулах зориулалттай тусгай скрипт юм. Энэ скриптийг <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient-script&amp;sektion=8&amp;format=html">dhclient-script(8)</a> заавар хуудсанд тайлбарласан байх ба, ажиллуулахын тулд хэрэглэгч ямар нэг засвар хийх шаардлагагүй.</p></div></li><li><p><span class=filename>/var/db/dhclient.leases.interface</span></p><div class=paragraph><p>DHCP харилцагч нь түрээсэлж авсан хаягуудаа агуулсан өгөгдлийн санг энэ файлд хадгалах бөгөөд бүртгэл маягаар бичдэг. <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.leases&amp;sektion=5&amp;format=html">dhclient.leases(5)</a> хэсэгт илүү дэлгэрэнгүй тайлбар бий.</p></div></li></ul></div></div><div class=sect2><h3 id=_гүнзгийрүүлэн_унших>30.5.6. Гүнзгийрүүлэн унших<a class=anchor href=#_гүнзгийрүүлэн_унших></a></h3><div class=paragraph><p>DHCP протокол нь бүрэн хэмжээгээр <a href=http://www.freesoft.org/CIE/RFC/2131/>RFC 2131</a>-д тодорхойлогдсон байдаг. Нэмэлт эх үүсвэрүүд <a href=http://www.dhcp.org/>http://www.dhcp.org/</a>-д мөн бий.</p></div></div><div class=sect2><h3 id=network-dhcp-server>30.5.7. DHCP Серверийг Суулгах болон Тохируулах<a class=anchor href=#network-dhcp-server></a></h3><div class=sect3><h4 id=_энэ_хэсэгт_авч_үзэх_зүйлс_2>30.5.7.1. Энэ хэсэгт авч үзэх зүйлс<a class=anchor href=#_энэ_хэсэгт_авч_үзэх_зүйлс_2></a></h4><div class=paragraph><p>Энэ хэсэгт ISC (Internet Systems Consortium) DHCP серверийг ашиглан FreeBSD системийг хэрхэн DHCP сервер байдлаар ажиллуулах талаар авч үзэх болно.</p></div><div class=paragraph><p>Сервер нь FreeBSD-н нэг хэсэг байдлаар ирдэггүй бөгөөд ийм үйлчилгээ үзүүлэхийн тулд <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp42-server/>net/isc-dhcp42-server</a> портыг суулгах хэрэгтэй болдог. Портуудын цуглуулгын хэрхэн ашиглах талаар <a href=../ports/#ports>Програм суулгах. Багцууд болон портууд</a> хэсгээс дэлгэрэнгүй мэдээллийг авна уу.</p></div></div><div class=sect3><h4 id=_dhcp_серверийг_суулгах_нь>30.5.7.2. DHCP Серверийг суулгах нь<a class=anchor href=#_dhcp_серверийг_суулгах_нь></a></h4><div class=paragraph><p>FreeBSD системийг DHCP сервер байдлаар тохируулахын тулд, <a href="https://man.freebsd.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;format=html">bpf(4)</a> төхөөрөмж цөмд эмхэтгэгдсэн байх ёстой. Үүний тулд, цөмийн тохиргооны файл дотор <code>bpf төхөөрөмж</code>ийг нэмээд цөмийг дахин бүтээх хэрэгтэй. Цөмийг бүтээх талаар дэлгэрэнгүй мэдээллийг <a href=../kernelconfig/#kernelconfig>FreeBSD цөмийг тохируулах нь</a> хэсгээс үзнэ үү.</p></div><div class=paragraph><p><span class=filename>bpf</span> төхөөрөмж нь FreeBSD-н <span class=filename>GENERAL</span> цөмийн нэг хэсэг бөгөөд, DHCP-г ажиллуулахын тулд тусгайлан шинээр цөм бүтээх шаардлагагүй.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Аюулгүй байдлын талаар сэтгэл зовнидог хүмүүст зөвлөхөд, <span class=filename>bpf</span> нь пакет шиншлэгчдийг зөв ажиллах боломжийг олгодог төхөөрөмж болохыг анхааралдаа авна уу (хэдийгээр тэдгээр програм ажиллахын тулд <code>root</code> эрх хэрэгтэй боловч). DHCP-г ашиглахын тулд <span class=filename>bpf</span><em>заавал</em> хэрэгтэй, гэвч хэрэв та аюулгүй байдлыг маш ихээр анхааралдаа авдаг бол, зөвхөн хэзээ нэгэн цагт DHCP-г ашиглахын тулд <span class=filename>bpf</span>-г цөмд нэмэх хэрэггүй.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Үүний дараа <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp42-server/>net/isc-dhcp42-server</a> порттой хамт ирсэн жишээ <span class=filename>dhcpd.conf</span> файлыг засах хэрэгтэй. Анхдагч байдлаар, <span class=filename>/usr/local/etc/dhcpd.conf.sample</span> гэсэн файл байх ба өөрчлөлт хийхийнхээ өмнө энэ файлыг <span class=filename>/usr/local/etc/dhcpd.conf</span> нэртэйгээр хуулж тавих хэрэгтэй.</p></div></div><div class=sect3><h4 id=_dhcp_серверийг_тохируулах>30.5.7.3. DHCP Серверийг тохируулах<a class=anchor href=#_dhcp_серверийг_тохируулах></a></h4><div class=paragraph><p><span class=filename>dhcpd.conf</span> нь дэд сүлжээ болон хостуудтай холбоотой өгөгдөл зарлалтаас бүрдэх ба жишээн дээр тайлбарлавал илүү амархан байх болов уу:</p></div><div class="literalblock programlisting"><div class=content><pre>option domain-name &#34;example.com&#34;;<i class=conum data-value=1></i><b>(1)</b>
option domain-name-servers 192.168.4.100;<i class=conum data-value=2></i><b>(2)</b>
option subnet-mask 255.255.255.0;<i class=conum data-value=3></i><b>(3)</b>

default-lease-time 3600;<i class=conum data-value=4></i><b>(4)</b>
max-lease-time 86400;<i class=conum data-value=5></i><b>(5)</b>
ddns-update-style none;<i class=conum data-value=6></i><b>(6)</b>

subnet 192.168.4.0 netmask 255.255.255.0 {
  range 192.168.4.129 192.168.4.254;<i class=conum data-value=7></i><b>(7)</b>
  option routers 192.168.4.1;<i class=conum data-value=8></i><b>(8)</b>
}

host mailhost {
  hardware ethernet 02:03:04:05:06:07;<i class=conum data-value=9></i><b>(9)</b>
  fixed-address mailhost.example.com;<i class=conum data-value=10></i><b>(10)</b>
}</pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Энэ тохируулга нь анхдагч хайлтын домэйн байдлаар харилцагчид өгөх домэйныг заана. Энэ талаар дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=resolv.conf&amp;sektion=5&amp;format=html">resolv.conf(5)</a> хэсгээс үзнэ үү.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Энэ тохируулга нь харилцагчийн хэрэглэх ёстой DNS серверүүдийг таслалаар холбосон жагсаалт байна.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Хэрэглэгчид өгөх сүлжээний багийг заана.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Түрээслэлт (lease) хүчинтэй байх тийм тусгай хугацааг харилцагч хүсэж болох юм. Хэрэв харилцагч хүсээгүй бол сервер энд заасан дуусах хугацаагаар (секундээр) түрээс хийх болно.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Серверийн түрээслүүлэх хамгийн дээд хугацааг заана. Харилцагч үүнээс урт хугацаагаар түрээслэх хүсэлт тавибал хүсэлтийг хүлээж авах боловч зөвхөн <code>max-lease-time</code> секундын туршид хүчинтэй байна.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>Түрээслэх болон эргүүлж авахад DHCP сервер DNS-г шинэчлэхийг оролдох шаардлагатай эсэхийг зааж өгнө. ISC шийдлийн хувьд, энэ тохируулга <em>заавал</em> байх ёстой.</td></tr><tr><td><i class=conum data-value=7></i><b>7</b></td><td>Харилцагчид оноох IP хаягуудын хүрээг заана. Энэ хүрээнд багтах IP хаягуудыг харилцагчид өгөх болно.</td></tr><tr><td><i class=conum data-value=8></i><b>8</b></td><td>Харилцагчид өгөх анхдагч гарцыг заана.</td></tr><tr><td><i class=conum data-value=9></i><b>9</b></td><td>Хостын MAC хаягийг заана (ингэснээр DHCP сервер тухайн хостыг хүсэлт тавихад таньж чадна).</td></tr><tr><td><i class=conum data-value=10></i><b>10</b></td><td>Хостод тогтмол IP хаяг оноохыг заана. Энд хостын нэрийг хэрэглэж болохыг тэмдэглэх хэрэгтэй. DHCP сервер IP хаяг түрээслүүлэх хариуг өгөхөөс өмнө хост нэрийг тайлах болно.</td></tr></tbody></table></div><div class=paragraph><p><span class=filename>dhcpd.conf</span> файлыг бичиж дууссаны дараа, <span class=filename>/etc/rc.conf</span> файл дотор DHCP серверийг идэвхжүүлэх хэрэгтэй, өөрөөр хэлбэл доорх мөрүүдийг нэмж бичих хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>dhcpd_enable=&#34;YES&#34;
dhcpd_ifaces=&#34;dc0&#34;</pre></div></div><div class=paragraph><p><code>dc0</code>-г өөрийн тань DHCP сервер DHCP харилцагчдын хүсэлтийг хүлээж авах ёстой интерфэйсийн нэрээр (эсвэл интерфэйсүүдийг зайгаар тусгаарлан) сольж бичих хэрэгтэй.</p></div><div class=paragraph><p>Дараа нь, доорх тушаалыг өгөн серверийг ажиллуулах хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service isc-dhcpd start</span></code></pre></div></div><div class=paragraph><p>Серверийнхээ тохиргооны файлд өөрчлөлт оруулах бүрдээ, <code>SIGHUP</code> дохиог dhcpd-д өгөх нь бусад дэмонуудын хувьд тохиргоог дахин дууддаг шиг биш харин тохиргоог дахин ачаалах_гүй_ болохыг анхаарах хэрэгтэй. Процессийг зогсоохын тулд <code>SIGTERM</code> дохиог өгөх хэрэгтэй ба дээрх тушаалыг өгөн дахин эхлүүлэх хэрэгтэй.</p></div></div><div class=sect3><h4 id=_файлууд_2>30.5.7.4. Файлууд<a class=anchor href=#_файлууд_2></a></h4><div class=ulist><ul><li><p><span class=filename>/usr/local/sbin/dhcpd</span></p><div class=paragraph><p>dhcpd нь статикаар холбогдсон байх ба <span class=filename>/usr/local/sbin</span> дотор байрлана. Порттой хамт суусан <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd&amp;sektion=8&amp;format=html">dhcpd(8)</a> заавар хуудаснаас dhcpd-н талаар дэлгэрэнгүй мэдээллийг авна уу.</p></div></li><li><p><span class=filename>/usr/local/etc/dhcpd.conf</span></p><div class=paragraph><p>dhcpd нь <span class=filename>/usr/local/etc/dhcpd.conf</span> гэсэн тохиргооны файлыг шаарддаг. Энэ файл дотор харилцагчид өгөх бүх мэдээллээс гадна серверийн өөрийн үйл ажиллагаатай холбоотой мэдээлэл байх ёстой. Энэ тохиргооны файлыг портоос суусан <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5&amp;format=html">dhcpd.conf(5)</a> заавар хуудсанд тайлбарласан байгаа.</p></div></li><li><p><span class=filename>/var/db/dhcpd.leases</span></p><div class=paragraph><p>DHCP сервер нь түрээслүүлсэн хаягуудаа агуулсан өгөгдлийн санг энэ файлд хадгалах бөгөөд бүртгэл маягаар бичдэг. Портоос суусан <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd.leases&amp;sektion=5&amp;format=html">dhcpd.leases(5)</a> заавар хуудсанд илүү дэлгэрэнгүй тайлбар бий.</p></div></li><li><p><span class=filename>/usr/local/sbin/dhcrelay</span></p><div class=paragraph><p>dhcrelay-г нэг DHCP сервер харилцагчаас хүлээн авсан хүсэлтийг өөр сүлжээнд байгаа нөгөө DHCP сервер рүү дамжуулдаг, нарийн бүтэцтэй орчинд хэрэглэнэ. Хэрэв энэ функцыг ашиглах шаардлагатай бол, <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp42-relay/>net/isc-dhcp42-relay</a> портыг суулгаарай. Порттой хамт ирэх <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcrelay&amp;sektion=8&amp;format=html">dhcrelay(8)</a> заавар хуудаснаас дэлгэрэнгүй мэдээллийг авна уу.</p></div></li></ul></div></div></div></div></div><div class=sect1><h2 id=network-dns>30.6. Домэйн Нэрийн Систем (DNS)<a class=anchor href=#network-dns></a></h2><div class=sectionbody><div class=sect2><h3 id=_удиртгал>30.6.1. Удиртгал<a class=anchor href=#_удиртгал></a></h3><div class=paragraph><p>FreeBSD анхдагч байдлаар DNS протоколын хамгийн өргөн хэрэглэгддэг хэрэгжүүлэлт болох BIND (Berkeley Internet Name Domain)-н аль нэг хувилбарыг агуулсан байдаг. DNS нь нэрүүдийг IP хаягууд руу, мөн эсрэгээр нь буулгахад хэрэглэгддэг протокол юм. Жишээ нь, <code>www.FreeBSD.org</code>-г асуусан DNS асуулга явуулахад, хариуд нь FreeBSD Төсөлийн вэб серверийн IP хаяг ирэх бол, <code>ftp.FreeBSD.org</code>-н хувьд асуулга явуулахад, хариуд нь харгалзах FTP машины IP хаяг ирэх болно. Яг үүнтэй адилаар эсрэгээр нь хийж болно. Ямар нэг IP-р асуулга явуулахад түүний хост нэрийг олж болно. DNS хайлт хийхийн тулд тухайн системд домэйн нэрийн сервер ажиллаж байх ёстой.</p></div><div class=paragraph><p>FreeBSD нь одоо BIND9 DNS сервер програмын хамт ирдэг болсон. Бидний суулгац нь файл системийн шинэчилсэн зохион байгуулалт, автомат <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> тохиргоо зэрэг аюулгүй байдлыг дээд зэргээр хангах функцүүдтэй ирдэг.</p></div><div class=paragraph><p>DNS бол Интернэт дээр тулгуурласан, бүрэн эрхт root буюу эх сервер, Top Level Domain буюу Дээд Түвшний Домэйн (TLD) сервер, болон домэйн тус бүрийн мэдээллийг агуулж байдаг бусад жижиг нэрийн серверүүдээс бүтсэн нарийн төвөгтэй систем юм.</p></div><div class=paragraph><p>BIND одоо Internet Systems Consortium <a href=http://www.isc.org/>http://www.isc.org/</a>-н мэдэлд байдаг.</p></div></div><div class=sect2><h3 id=_нэр_томъёо>30.6.2. Нэр Томъёо<a class=anchor href=#_нэр_томъёо></a></h3><div class=paragraph><p>Энэ баримтыг ойлгохын тулд, DNS-тэй холбоотой зарим нэр томъёог ойлгосон байх шаардлагатай.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Нэр</th><th class="tableblock halign-left valign-top">Тайлбар</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Forward буюу Ердийн DNS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Хост нэрийг IP хаяг руу буулгана.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Origin буюу Үүсэл</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Тухайн бүсийн файлд хамрагдаж байгаа домэйныг заана.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>named, BIND</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FreeBSD-н BIND нэрийн серверийг нэрлэх түгээмэл нэршил.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Resolver буюу Тайлагч</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Машин, бүсийн мэдээллийн талаар нэрийн серверээс асуулга явуулахын тулд ашигладаг системийн процесс.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Reverse буюу Урвуу DNS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IP хаягийг хост нэр рүү буулгана.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Root zone буюу Эх бүс</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Интернэт бүсийн шатлалын эхлэл. Файл системийн бүх файлууд эх санд харъяалагддаг шиг, бүх бүсүүд эх бүсэд харъяалагдана.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Zone буюу Бүс</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Нэг бүрэн эрхт газраар удирдуулж байгаа домэйн, дэд домэйн, эсвэл DNS-н нэг хэсэг.</p></td></tr></tbody></table><div class=paragraph><p>Бүсүүдийн жишээ:</p></div><div class=ulist><ul><li><p><code>.</code> нь баримтад ихэвчлэн эх бүс гэж заагддаг.</p></li><li><p><code>org.</code> бол эх бүсийн доорх Top Level Domain буюу Дээд Түвшний Домэйн (TLD).</p></li><li><p><code>example.org.</code> бол <code>org.</code> TLD-н доорх бүс.</p></li><li><p><code>1.168.192.in-addr.arpa</code> бол <code>192.168.1.*</code> IP хаягийн хүрээнд багтаж байгаа бүх IP хаягуудыг агуулсан бүс.</p></li></ul></div><div class=paragraph><p>Хост нэр зүүн тал руугаа явах тусам илүү тодорхой болж байгааг та бүхэн анзаарсан байх. Жишээлбэл, <code>example.org.</code> нь <code>org.</code>-с илүү тодорхой, харин <code>org.</code> нь эх бүсээс илүү тодорхой байна. Хост нэрийн зохион байгуулалт нь файл системийнхтэй төстэй: <span class=filename>/dev</span> директор нь эх директорт харъяалагдана, гэх мэт.</p></div></div><div class=sect2><h3 id=_нэрийн_сервер_ажиллуулах_шалтгаанууд>30.6.3. Нэрийн Сервер ажиллуулах Шалтгаанууд<a class=anchor href=#_нэрийн_сервер_ажиллуулах_шалтгаанууд></a></h3><div class=paragraph><p>Нэрийн Серверүүд ерөнхийдөө хоёр янз байна: authoritative буюу бүрэн эрхт нэрийн сервер, ба caching буюу түр тогтоогч нэрийн сервер.</p></div><div class=paragraph><p>Бүрэн эрхт нэрийн сервер нь дараах тохиолдлуудад хэрэгтэй:</p></div><div class=ulist><ul><li><p>DNS мэдээллийг өөртөө агуулж, энэ мэдээллийг нийтэд зарлан, ирсэн асуулгуудад бүрэн эрхтэйгээр хариулах хүсэлтэй үед.</p></li><li><p>Бүртгэлтэй домэйны хувьд, жишээлбэл <code>example.org</code>, түүний дор орших хост нэрүүдэд IP хаяг оноож өгөх хэрэгтэй үед.</p></li><li><p>Бүлэг IP хаягуудад урвуу DNS мэдээлэл хэрэгтэй үед (IP-с хост нэр рүү).</p></li><li><p>Нөөц эсвэл хоёрдогч нэрийн сервер, зарц гэж нэрлэнэ, асуулгуудад хариулуулах шаардлагатай үед.</p></li></ul></div><div class=paragraph><p>Түр тогтоогч нэрийн сервер дараах тохиолдлуудад хэрэгтэй:</p></div><div class=ulist><ul><li><p>Дотоод DNS сервер нь асуулгын хариуг түр тогтоосноор гадаад нэрийн серверээс илүү хурдан хариу өгч байгаа үед.</p></li></ul></div><div class=paragraph><p><code>www.FreeBSD.org</code>-р асуулга явуулсан үед, тайлагч ихэвчлэн үйлчилгээ авдаг ISP-нхаа нэрийн серверээс асуугаад хариуг олж авна. Дотоод, түр тогтоогч DNS сервер ажиллуулснаар, асуулгыг гадаад интернэтээс зөвхөн ганц удаа явуулах бөгөөд, хариуг тогтоож авна. Нэмэлт асуулгуудад түр тогтоогч нэрийн сервер хариулах ба гадагшаа дахин асуулга явуулах шаардлага байхгүй.</p></div></div><div class=sect2><h3 id=_хэрхэн_ажилладаг_вэ_3>30.6.4. Хэрхэн ажилладаг вэ?<a class=anchor href=#_хэрхэн_ажилладаг_вэ_3></a></h3><div class=paragraph><p>FreeBSD-д BIND дэмонг named гэж нэрлэнэ.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Файл</th><th class="tableblock halign-left valign-top">Тайлбар</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BIND дэмон.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=rndc&amp;sektion=8&amp;format=html">rndc(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Нэрийн серверийг хянах хэрэгсэл.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/namedb</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>BIND-н бүсийн мэдээлэл хадгалагдаж байгаа сан.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/namedb/named.conf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>дэмоны тохиргооны файл.</p></td></tr></tbody></table><div class=paragraph><p>Тухайн бүс сервер дээр хэрхэн тохируулагдсанаас хамаарч энэ бүстэй хамааралтай файлууд <span class=filename>/etc/namedb</span> директорын <span class=filename>master</span>, <span class=filename>slave</span>, эсвэл <span class=filename>dynamic</span> гэсэн дэд сангуудад байрлана. Эдгээр файлуудад гадны асуулгад хариу болгон өгөх DNS мэдээллүүд байрлана.</p></div></div><div class=sect2><h3 id=_bind_г_ажиллуулах_нь>30.6.5. BIND-г ажиллуулах нь<a class=anchor href=#_bind_г_ажиллуулах_нь></a></h3><div class=paragraph><p>BIND нь анхдагч байдлаар суучихсан ирдэг тул тохируулахад хялбар байдаг.</p></div><div class=paragraph><p>named-н анхдагч тохиргоо нь <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> орчинд ажиллах, тайлагч нэрийн сервер байдлаар хийгдсэн байдаг бөгөөд локал IPv4 loopback хаяг (127.0.0.1) дээр ажиллахаар хязгаарлагдсан байдаг. Энэ тохиргоогоор серверийг ажиллуулахын тулд дараах тушаалыг өгөх хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service named onestart</span></code></pre></div></div><div class=paragraph><p>named дэмонг систем ачаалах үед ажиллуулдаг болгохын тулд <span class=filename>/etc/rc.conf</span> дотор дараах мөрүүдийг нэмэх хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>named_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Мэдээж <span class=filename>/etc/namedb/named.conf</span> файл дотор өөр олон тохируулгууд байгаа боловч энэ баримтын мэдлээс халих тул энд дурдсангүй. Хэрэв FreeBSD дээрх named-н эхлэл тохируулгуудын талаар сонирхож байгаа бол <span class=filename>/etc/defaults/rc.conf</span> дотор байгаа <code>named_*</code> тугуудыг нэг ороод үзээрэй. Мөн <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> заавар хуудаснаас тусламж авч болно. <a href=../config/#configtuning-rcd>FreeBSD дээр rc(8) ашиглах нь</a> хэсгийг уншихад илүүдэхгүй.</p></div></div><div class=sect2><h3 id=_тохиргооны_файлууд>30.6.6. Тохиргооны файлууд<a class=anchor href=#_тохиргооны_файлууд></a></h3><div class=paragraph><p>named-н тохиргооны файлууд нь <span class=filename>/etc/namedb</span> директор дотор байрлах ба хэрэв хялбар тайлагчаас өөр түвшинд ажиллах хэрэгтэй бол ажиллуулахаасаа өмнө тохиргооны файлд засвар хийх хэрэгтэй. Ихэнх тохиргоог энэ сан дотор гүйцэтгэнэ.</p></div><div class=sect3><h4 id=_etcnamedbnamed_conf>30.6.6.1. <span class=filename>/etc/namedb/named.conf</span><a class=anchor href=#_etcnamedbnamed_conf></a></h4><div class="literalblock programlisting"><div class=content><pre>// $FreeBSD$
//
// Refer to the named.conf(5) and named(8) man pages, and the documentation
// in /usr/shared/doc/bind9 for more details.
//
// If you are going to set up an authoritative server, make sure you
// understand the hairy details of how DNS works.  Even with
// simple mistakes, you can break connectivity for affected parties,
// or cause huge amounts of useless Internet traffic.

options {
	// All file and path names are relative to the chroot directory,
	// if any, and should be fully qualified.
	directory	&#34;/etc/namedb/working&#34;;
	pid-file	&#34;/var/run/named/pid&#34;;
	dump-file	&#34;/var/dump/named_dump.db&#34;;
	statistics-file	&#34;/var/stats/named.stats&#34;;

// If named is being used only as a local resolver, this is a safe default.
// For named to be accessible to the network, comment this option, specify
// the proper IP address, or delete this option.
	listen-on	{ 127.0.0.1; };

// If you have IPv6 enabled on this system, uncomment this option for
// use as a local resolver.  To give access to the network, specify
// an IPv6 address, or the keyword &#34;any&#34;.
//	listen-on-v6	{ ::1; };

// These zones are already covered by the empty zones listed below.
// If you remove the related empty zones below, comment these lines out.
	disable-empty-zone &#34;255.255.255.255.IN-ADDR.ARPA&#34;;
	disable-empty-zone &#34;0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA&#34;;
	disable-empty-zone &#34;1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA&#34;;

// If you&#39;ve got a DNS server around at your upstream provider, enter
// its IP address here, and enable the line below.  This will make you
// benefit from its cache, thus reduce overall DNS traffic in the Internet.
/*
	forwarders {
		127.0.0.1;
	};
*/

// If the &#39;forwarders&#39; clause is not empty the default is to &#39;forward first&#39;
// which will fall back to sending a query from your local server if the name
// servers in &#39;forwarders&#39; do not have the answer.  Alternatively you can
// force your name server to never initiate queries of its own by enabling the
// following line:
//	forward only;

// If you wish to have forwarding configured automatically based on
// the entries in /etc/resolv.conf, uncomment the following line and
// set named_auto_forward=yes in /etc/rc.conf.  You can also enable
// named_auto_forward_only (the effect of which is described above).
//	include &#34;/etc/namedb/auto_forward.conf&#34;;</pre></div></div><div class=paragraph><p>Тайлбар дээр хэлсэнчлэн дээд гарцын түр тогтоогчоос хүртэхийн тулд <code>forwarders</code>-г идэвхжүүлж болох юм. Энгийн үед, нэрийн сервер нь хариултыг олтлоо давталттай байдлаар хэд хэдэн нэрийн серверүүдээр дамжин асууна. Энэ тохируулгыг идэвхжүүлснээр, дээд гарцынхаа нэрийн серверээс (эсвэл зааж өгсөн нэрийн сервер) хамгийн түрүүнд асууж, энэ серверийн түр санах ойд байгаа мэдээллээс хүртэхийг эрмэлзэнэ. Хэрэв дээд гарцын нэрийн сервер нь олон асуулгад хариулдаг, хурдан үйлчилдэг сервер байвал дээрх тохируулгыг идэвхжүүлсний үр ашиг гарна.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p><code>127.0.0.1</code> энд ажиллах_гүй_. Энэ IP хаягийг өөрийн дээд гарцын нэрийн серверээр сольж бичнэ үү.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre>	/*
	   Modern versions of BIND use a random UDP port for each outgoing
	   query by default in order to dramatically reduce the possibility
	   of cache poisoning.  All users are strongly encouraged to utilize
	   this feature, and to configure their firewalls to accommodate it.

	   AS A LAST RESORT in order to get around a restrictive firewall
	   policy you can try enabling the option below.  Use of this option
	   will significantly reduce your ability to withstand cache poisoning
	   attacks, and should be avoided if at all possible.

	   Replace NNNNN in the example with a number between 49160 and 65530.
	*/
	// query-source address * port NNNNN;
};

// If you enable a local name server, don&#39;t forget to enter 127.0.0.1
// first in your /etc/resolv.conf so this server will be queried.
// Also, make sure to enable it in /etc/rc.conf.

// The traditional root hints mechanism. Use this, OR the slave zones below.
zone &#34;.&#34; { type hint; file &#34;/etc/namedb/named.root&#34;; };

/*	Slaving the following zones from the root name servers has some
	significant advantages:
	1. Faster local resolution for your users
	2. No spurious traffic will be sent from your network to the roots
	3. Greater resilience to any potential root server failure/DDoS

	On the other hand, this method requires more monitoring than the
	hints file to be sure that an unexpected failure mode has not
	incapacitated your server.  Name servers that are serving a lot
	of clients will benefit more from this approach than individual
	hosts.  Use with caution.

	To use this mechanism, uncomment the entries below, and comment
	the hint zone above.

	As documented at http://dns.icann.org/services/axfr/ these zones:
	&#34;.&#34; (the root), ARPA, IN-ADDR.ARPA, IP6.ARPA, and ROOT-SERVERS.NET
	are availble for AXFR from these servers on IPv4 and IPv6:
	xfr.lax.dns.icann.org, xfr.cjr.dns.icann.org
*/
/*
zone &#34;.&#34; {
	type slave;
	file &#34;/etc/namedb/slave/root.slave&#34;;
	masters {
		192.5.5.241;	// F.ROOT-SERVERS.NET.
	};
	notify no;
};
zone &#34;arpa&#34; {
	type slave;
	file &#34;/etc/namedb/slave/arpa.slave&#34;;
	masters {
		192.5.5.241;	// F.ROOT-SERVERS.NET.
	};
	notify no;
};
*/

/*	Serving the following zones locally will prevent any queries
	for these zones leaving your network and going to the root
	name servers.  This has two significant advantages:
	1. Faster local resolution for your users
	2. No spurious traffic will be sent from your network to the roots
*/
// RFCs 1912 and 5735 (and BCP 32 for localhost)
zone &#34;localhost&#34;	{ type master; file &#34;/etc/namedb/master/localhost-forward.db&#34;; };
zone &#34;127.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/localhost-reverse.db&#34;; };
zone &#34;255.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// RFC 1912-style zone for IPv6 localhost address
zone &#34;0.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/localhost-reverse.db&#34;; };

// &#34;This&#34; Network (RFCs 1912 and 5735)
zone &#34;0.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// Private Use Networks (RFCs 1918 and 5735)
zone &#34;10.in-addr.arpa&#34;	   { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;16.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;17.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;18.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;19.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;20.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;21.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;22.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;23.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;24.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;25.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;26.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;27.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;28.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;29.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;30.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;31.172.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;168.192.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// Link-local/APIPA (RFCs 3927 and 5735)
zone &#34;254.169.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IETF protocol assignments (RFCs 5735 and 5736)
zone &#34;0.0.192.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// TEST-NET-[1-3] for Documentation (RFCs 5735 and 5737)
zone &#34;2.0.192.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;100.51.198.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;113.0.203.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IPv6 Range for Documentation (RFC 3849)
zone &#34;8.b.d.0.1.0.0.2.ip6.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// Domain Names for Documentation and Testing (BCP 32)
zone &#34;test&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;example&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;invalid&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;example.com&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;example.net&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;example.org&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// Router Benchmark Testing (RFCs 2544 and 5735)
zone &#34;18.198.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;19.198.in-addr.arpa&#34; { type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IANA Reserved - Old Class E Space (RFC 5735)
zone &#34;240.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;241.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;242.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;243.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;244.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;245.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;246.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;247.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;248.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;249.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;250.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;251.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;252.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;253.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;254.in-addr.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IPv6 Unassigned Addresses (RFC 4291)
zone &#34;1.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;3.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;4.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;5.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;6.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;7.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;8.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;9.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;a.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;b.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;c.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;d.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;e.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;0.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;1.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;2.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;3.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;4.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;5.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;6.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;7.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;8.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;9.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;a.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;b.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;0.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;1.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;2.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;3.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;4.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;5.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;6.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;7.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IPv6 ULA (RFC 4193)
zone &#34;c.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;d.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IPv6 Link Local (RFC 4291)
zone &#34;8.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;9.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;a.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;b.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IPv6 Deprecated Site-Local Addresses (RFC 3879)
zone &#34;c.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;d.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;e.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };
zone &#34;f.e.f.ip6.arpa&#34;	{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// IP6.INT is Deprecated (RFC 4159)
zone &#34;ip6.int&#34;		{ type master; file &#34;/etc/namedb/master/empty.db&#34;; };

// NB: Do not use the IP addresses below, they are faked, and only
// serve demonstration/documentation purposes!
//
// Example slave zone config entries.  It can be convenient to become
// a slave at least for the zone your own domain is in.  Ask
// your network administrator for the IP address of the responsible
// master name server.
//
// Do not forget to include the reverse lookup zone!
// This is named after the first bytes of the IP address, in reverse
// order, with &#34;.IN-ADDR.ARPA&#34; appended, or &#34;.IP6.ARPA&#34; for IPv6.
//
// Before starting to set up a master zone, make sure you fully
// understand how DNS and BIND work.  There are sometimes
// non-obvious pitfalls.  Setting up a slave zone is usually simpler.
//
// NB: Don&#39;t blindly enable the examples below. :-)  Use actual names
// and addresses instead.

/* An example dynamic zone
key &#34;exampleorgkey&#34; {
	algorithm hmac-md5;
	secret &#34;sf87HJqjkqh8ac87a02lla==&#34;;
};
zone &#34;example.org&#34; {
	type master;
	allow-update {
		key &#34;exampleorgkey&#34;;
	};
	file &#34;/etc/namedb/dynamic/example.org&#34;;
};
*/

/* Example of a slave reverse zone
zone &#34;1.168.192.in-addr.arpa&#34; {
	type slave;
	file &#34;/etc/namedb/slave/1.168.192.in-addr.arpa&#34;;
	masters {
		192.168.1.1;
	};
};
*/</pre></div></div><div class=paragraph><p><span class=filename>named.conf</span> доторх эдгээр жишээнүүд нь ердийн болон урвуу бүсийн зарц бүртгэлүүд болно.</p></div><div class=paragraph><p>Шинэ бүс нэмэхдээ, <span class=filename>named.conf</span> файл дотор шинэ бүртгэл оруулах хэрэгтэй.</p></div><div class=paragraph><p>Жишээ нь, <code>example.org</code> домэйны хувьд хамгийн хялбар бүртгэл дараах байдалтай байна:</p></div><div class="literalblock programlisting"><div class=content><pre>zone &#34;example.org&#34; {
	type master;
	file &#34;master/example.org&#34;;
};</pre></div></div><div class=paragraph><p>Энэ бүс нь эзэн бүс болохыг <code>type</code> илэрхийллээс харж болно. Мөн бүсийн мэдээллийг <span class=filename>/etc/namedb/master/example.org</span> файл дотор агуулж байгааг <code>file</code> илэрхийллээс харж болно.</p></div><div class="literalblock programlisting"><div class=content><pre>zone &#34;example.org&#34; {
	type slave;
	file &#34;slave/example.org&#34;;
};</pre></div></div><div class=paragraph><p>Зарц бүсийн хувьд, тухайн бүсийн хувьд бүсийн мэдээлэл эзэн нэрийн серверээс зөөгдөж ирэх ба зааж өгсөн файлд хадгалагдана. Эзэн сервер унтарсан эсвэл холбоо тогтоох боломжгүй болбол, зарц нэрийн серверт бүсийн мэдээлэл байгаа тул асуулгуудад хариулах чадвартай байна.</p></div></div><div class=sect3><h4 id=_бүсийн_файлууд>30.6.6.2. Бүсийн Файлууд<a class=anchor href=#_бүсийн_файлууд></a></h4><div class=paragraph><p><code>example.org</code> домэйны хувьд жишээ эзэн бүсийн файлыг дор үзүүлэв (<span class=filename>/etc/namedb/master/example.org</span> файл):</p></div><div class="literalblock programlisting"><div class=content><pre>$TTL 3600        ; 1 hour default TTL
example.org.    IN      SOA      ns1.example.org. admin.example.org. (
                                2006051501      ; Serial
                                10800           ; Refresh
                                3600            ; Retry
                                604800          ; Expire
                                300             ; Negative Response TTL
                        )

; DNS Servers
                IN      NS      ns1.example.org.
                IN      NS      ns2.example.org.

; MX Records
                IN      MX 10   mx.example.org.
                IN      MX 20   mail.example.org.

                IN      A       192.168.1.1

; Machine Names
localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5

; Aliases
www             IN      CNAME   example.org.</pre></div></div><div class=paragraph><p>"." тэмдэгтээр төгссөн хост нэрүүд нь жинхэнэ хост нэрүүд бөгөөд "." тэмдэгтээр төгсөөгүй нэрүүдэд үүсэл залгагдахыг анхаарна уу. Жишээлбэл, <code>ns1</code> нь <code>ns1.example.org.</code>-руу хөрвүүлэгдэх болно.</p></div><div class=paragraph><p>Бүсийн файл дараах хэлбэртэй байна:</p></div><div class="literalblock programlisting"><div class=content><pre>recordname      IN recordtype   value</pre></div></div><div class=paragraph><p>Хамгийн өргөн хэрэглэгддэг DNS бичлэгүүд:</p></div><div class=dlist><dl><dt class=hdlist1>SOA</dt><dd><p>start of zone authority буюу бүсийн бүрэн эрхт мэдээллийн эхлэл</p></dd><dt class=hdlist1>NS</dt><dd><p>бүрэн эрхт нэрийн сервер</p></dd><dt class=hdlist1>A</dt><dd><p>хостын хаяг</p></dd><dt class=hdlist1>CNAME</dt><dd><p>хуурамч дүрд өгөх хүлээн зөвшөөрөгдсөн нэр</p></dd><dt class=hdlist1>MX</dt><dd><p>захидал солилцогч</p></dd><dt class=hdlist1>PTR</dt><dd><p>домэйн нэрийг заагч (урвуу DNS-д хэрэглэнэ)</p></dd></dl></div><div class="literalblock programlisting"><div class=content><pre>example.org. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh after 3 hours
                        3600            ; Retry after 1 hour
                        604800          ; Expire after 1 week
                        300 )           ; Negative Response TTL</pre></div></div><div class=dlist><dl><dt class=hdlist1><code>example.org.</code></dt><dd><p>домэйн нэр, мөн энэ бүсийн файлын хувьд үүсэл болно.</p></dd><dt class=hdlist1><code>ns1.example.org.</code></dt><dd><p>энэ бүсийн гол/бүрэн эрхт нэрийн сервер.</p></dd><dt class=hdlist1><code>admin.example.org.</code></dt><dd><p>энэ бүсийг хариуцагч хүн, "@" тэмдэгтийг нь орлуулсан цахим захидлын хаяг. (<a href=mailto:admin@example.org>admin@example.org</a> нь <code>admin.example.org</code> болно)</p></dd><dt class=hdlist1><code>2006051501</code></dt><dd><p>Файлын сериал дугаар. Бүсийн файлд өөрчлөлт оруулах болгонд энэ дугаарыг нэмэгдүүлэх шаардлагатай. Одоо цагт ихэнх админууд энэ сериал дугаарыг <code>yyyymmddrr</code> хэлбэрээр хэрэглэх болсон. <code>2006051501</code> гэдэг нь хамгийн сүүлд 05/15/2006-нд засвар хийсэн, хамгийн сүүлийн <code>01</code> гэдэг нь энэ өдөр хийгдсэн хамгийн анхны засвар гэдгийг илтгэнэ. Энэ сериал дугаар нь зарц серверүүдэд бүсийн мэдээлэл өөрчлөгдсөн талаар мэдээлэл өгдөг тул их чухал зүйл байгаа юм.</p></dd></dl></div><div class="literalblock programlisting"><div class=content><pre>       IN NS           ns1.example.org.</pre></div></div><div class=paragraph><p>Энэ бол NS бичлэг. Тухайн бүсийн хувьд бүрэн эрхт хариултыг өгч чадах сервер бүрийн хувьд энэ бичлэг байх ёстой.</p></div><div class="literalblock programlisting"><div class=content><pre>localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5</pre></div></div><div class=paragraph><p>A бичлэг нь машины нэрийг заана. Дээр үзүүлсэнчлэн, <code>ns1.example.org</code> нь <code>192.168.1.2</code>-руу буулгагдана.</p></div><div class="literalblock programlisting"><div class=content><pre>                IN      A       192.168.1.1</pre></div></div><div class=paragraph><p>Энэ мөр нь <code>192.168.1.1</code> гэсэн IP хаягийг үүсэлд оноож байна, бидний жишээн дээр <code>example.org</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>www             IN CNAME        @</pre></div></div><div class=paragraph><p>Хүлээн зөвшөөрөгдсөн нэрийн бичлэг нь машинд хуурамч дүр өгөхөд хэрэглэгдэнэ. Энэ жишээн дээр, <code>www</code> нь <code>example.org</code> (<code>192.168.1.1</code>) гэсэн домэйн нэртэй "master" машины хуурамч дүрийн нэр юм. CNAME-г тухайн хостын нэрийн хувьд өөр төрлийн бичлэгтэй хэзээ ч цуг хэрэглэж болохгүй.</p></div><div class="literalblock programlisting"><div class=content><pre>               IN MX   10      mail.example.org.</pre></div></div><div class=paragraph><p>MX бичлэг нь аль захидлын серверүүд тухайн бүсийн захидлыг хүлээж авах үүрэгтэй болохыг зааж өгнө. <code>mail.example.org</code> нь захидлын серверийн хост нэр бөгөөд 10 нь энэ захидлын серверийн зэрэглэлийг зааж байна.</p></div><div class=paragraph><p>Нэг бүсэд 10, 20 гэх мэт ялгаатай зэрэглэлтэй хэд хэдэн захидлын сервер байж болно. <code>example.org</code> домэйн руу захидал явуулах гэж байгаа сервер эхлээд хамгийн өндөр зэрэглэлтэй MX сервертэй (хамгийн бага зэрэглэлийн дугаартай), дараа нь дараагийн хамгийн өндөр зэрэглэлтэй сервертэй гэх мэтчилэн захидлыг явуулж чадтал дарааллаар нь холбоо тогтооно.</p></div><div class=paragraph><p>in-addr.arpa бүсийн файл (урвуу DNS) нь ижил хэлбэртэй байна. Ганцхан ялгаа нь A болон CNAME бичлэгийн оронд PTR бичлэгийг хэрэглэнэ.</p></div><div class="literalblock programlisting"><div class=content><pre>$TTL 3600

1.168.192.in-addr.arpa. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh
                        3600            ; Retry
                        604800          ; Expire
                        300 )           ; Negative Response TTL

        IN      NS      ns1.example.org.
        IN      NS      ns2.example.org.

1       IN      PTR     example.org.
2       IN      PTR     ns1.example.org.
3       IN      PTR     ns2.example.org.
4       IN      PTR     mx.example.org.
5       IN      PTR     mail.example.org.</pre></div></div><div class=paragraph><p>Энэ файлд дээрх домэйны IP-с хост нэр рүү буулгасан зохих шаардлагатай буулгалтуудыг үзүүлсэн байна.</p></div><div class=paragraph><p>PTR бичлэгийн баруун талын бүх нэрс төгссөн байх ёстой (өөрөөр хэлбэл "."-ээр төгссөн байна).</p></div></div></div><div class=sect2><h3 id=_түр_тогтоогч_нэрийн_сервер_caching_name_server>30.6.7. Түр тогтоогч Нэрийн Сервер (Caching Name Server)<a class=anchor href=#_түр_тогтоогч_нэрийн_сервер_caching_name_server></a></h3><div class=paragraph><p>Түр тогтоогч нэрийн сервер гэдэг нь рекурсив хүсэлтэд хариу өгөх гол үүрэгтэй нэрийн серверийг хэлнэ. Ийм төрлийн сервер нь зөвхөн асуулга явуулах бөгөөд хариултыг дараа хэрэглэхээр тогтоож авдаг.</p></div></div><div class=sect2><h3 id=_dnssec>30.6.8. DNSSEC<a class=anchor href=#_dnssec></a></h3><div class=paragraph><p>Домэйн Нэрийн Системийн Аюулгүй байдлын Өргөтгөлүүд, товчоор DNSSEC, бол нэр тайлагч серверүүдийг залилуулсан DNS бичлэг гэх мэт хуурамч DNS өгөгдлөөс хамгаалах заавруудын иж бүрдэл юм. Электрон гарын үсгийн тусламжтай нэр тайлагч нь бичлэгийн бүрэн бүтэн байдлыг магадлах боломжтой. DNSSEC нь зөвхөн Боломжит Бичлэгүүд дээр (RRs) электрон гарын үсэг зурах замаар өгөгдлийн бүрэн бүтэн байдлыг хангадаг болохыг тэмдэглэн хэлье. Нууцлалыг хангаж, эцсийн хэрэглэгчийн буруу үйлдлээс хамгаалж чадахгүй. Өөрөөр хэлбэл хүмүүсийг <code>example.com</code>-н оронд <code>example.net</code>-руу орохыг болиулж чадахгүй гэсэн үг юм. DNSSEC-н хийж чадах ганц зүйл бол өгөгдөл замдаа хувиралгүйгээр очсоныг магадлан тогтоох юм. DNS-н аюулгүй байдал бол Интернэтийн аюулгүй байдлыг хангахад чухал алхам болдог. DNSSEC хэрхэн ажилладаг талаар дэлгэрэнгүй мэдээллийг тухайн RFC-үүдээс аваарай. <a href=#dns-read>Гүнзгийрүүлэн унших</a>-д байгаа жагсаалтыг үзнэ үү.</p></div><div class=paragraph><p>Дараах бүлгүүдэд BIND 9 ажиллаж байгаа бүрэн эрхт DNS сервер болон рекурсив (эсвэл түр тогтоогч) DNS сервер дээр DNSSEC-г хэрхэн идэвхжүүлэхийг үзүүлэх болно. BIND 9-н бүх хувилбарууд DNSSEC-г дэмжих боловч, DNS асуулгуудын хүчинтэй эсэхийг шалгахад гарын үсэгтэй эх бүсийг ашиглахын тулд хамгийн багадаа 9.6.2 хувилбарыг суулгах шаардлагатай. Яагаад гэвэл өмнөх хувилбаруудад эх (root) бүсийн түлхүүрийг ашиглах шалгалтыг идэвхжүүлэхэд шаардлагатай алгоритмууд байдаггүй. Эх түлхүүрт зориулж автоматаар түлхүүрийг шинэчлэх боломж болон автоматаар бүсүүдийг гарын үсгээр баталгаажуулж гарын үсгүүдийг байнга шинэ байлгахын тулд BIND-ийн хамгийн сүүлийн хувилбар 9.7 юм уу эсвэл түүний дараагийн хувилбарыг ашиглахыг шаарддаг. 9.6.2 болон 9.7 болон түүнээс хойшхи хувилбаруудын хооронд тохиргооны зөрүү байвал харуулах болно.</p></div><div class=sect3><h4 id=_рекурсив_dns_серверийн_тохиргоо>30.6.8.1. Рекурсив DNS серверийн тохиргоо<a class=anchor href=#_рекурсив_dns_серверийн_тохиргоо></a></h4><div class=paragraph><p>Рекурсив DNS серверийн гүйцэтгэсэн хүсэлтүүдийн DNSSEC шалгалтыг идэвхжүүлэхийн тулд <span class=filename>named.conf</span> файлд цөөн өөрчлөлтийг хийх хэрэгтэй. Эдгээр өөрчлөлтүүдийг хийхээс өмнө эх бүсийн түлхүүр эсвэл итгэлцлийн анкорыг (anchor) авсан байх шаардлагатай. Одоогоор эх бүсийн түлхүүр нь BIND ойлгох файлын форматаар байдаггүй бөгөөд зөв хэлбэр рүү гараар хувиргах ёстой байдаг. Түлхүүрийг dig ашиглан эх бүсээс асууж авч болдог. Ингэхийн тулд</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% dig +multi +noall +answer DNSKEY <span class=nb>.</span> <span class=o>&gt;</span> root.dnskey</code></pre></div></div><div class=paragraph><p>гэж ажиллуулна. Түлхүүр <span class=filename>root.dnskey</span> файлд байх болно. Доторх нь иймэрхүү байдалтай харагдана:</p></div><div class="literalblock programlisting"><div class=content><pre>. 93910 IN DNSKEY 257 3 8 (
	AwEAAagAIKlVZrpC6Ia7gEzahOR+9W29euxhJhVVLOyQ
	bSEW0O8gcCjFFVQUTf6v58fLjwBd0YI0EzrAcQqBGCzh
	/RStIoO8g0NfnfL2MTJRkxoXbfDaUeVPQuYEhg37NZWA
	JQ9VnMVDxP/VHL496M/QZxkjf5/Efucp2gaDX6RS6CXp
	oY68LsvPVjR0ZSwzz1apAzvN9dlzEheX7ICJBBtuA6G3
	LQpzW5hOA2hzCTMjJPJ8LbqF6dsV6DoBQzgul0sGIcGO
	Yl7OyQdXfZ57relSQageu+ipAdTTJ25AsRTAoub8ONGc
	LmqrAmRLKBP1dfwhYB4N7knNnulqQxA+Uk1ihz0=
	) ; key id = 19036
. 93910 IN DNSKEY 256 3 8 (
	AwEAAcaGQEA+OJmOzfzVfoYN249JId7gx+OZMbxy69Hf
	UyuGBbRN0+HuTOpBxxBCkNOL+EJB9qJxt+0FEY6ZUVjE
	g58sRr4ZQ6Iu6b1xTBKgc193zUARk4mmQ/PPGxn7Cn5V
	EGJ/1h6dNaiXuRHwR+7oWh7DnzkIJChcTqlFrXDW3tjt
) ; key id = 34525</pre></div></div><div class=paragraph><p>Олж авсан түлхүүрүүд энэ жишээн дээрхээс өөр байвал сандрах хэрэггүй. Тэдгээр нь энэ зааврыг бичсэнээс хойш өөрчлөгдсөн байж болох юм. Энэ гаралт нь хоёр түлхүүрийг агуулдаг. DNSKEY бичлэгийн төрлийн дараах 257 гэсэн утга бүхий жагсаалтад байгаа эхний түлхүүр нь хэрэгтэй нь юм. Энэ утга нь Аюулгүй Орох Цэг (SEP), түлхүүрийг гарын үсгээр баталгаажуулах түлхүүр гэгддэг (KSK) гэдгийг илэрхийлдэг. 256 гэсэн хоёр дахь түлхүүр нь захирагдагч түлхүүр бөгөөд Бүсийг гарын үсгээр баталгаажуулах түлхүүр (ZSK) гэгддэг. Эдгээр өөр түлхүүрийн төрлүүдийн талаар <a href=#dns-dnssec-auth>Бүрэн эрхт DNS серверийн тохиргоо</a> хэсэгт дэлгэрэнгүй байгаа.</p></div><div class=paragraph><p>Одоо түлхүүрийг шалгаж BIND ашиглаж болох хэлбэрт оруулах ёстой. Түлхүүрийг баталгаажуулахын тулд DSRR-г үүсгэнэ. Эдгээр RR-уудыг агуулсан файлыг дараах тушаалаар үүсгэнэ</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% dnssec-dsfromkey <span class=nt>-f</span> root-dnskey <span class=nb>.</span> <span class=o>&gt;</span> root.ds</code></pre></div></div><div class=paragraph><p>Эдгээр бичлэгүүд нь SHA-1 болон SHA-256-г ашигладаг бөгөөд дараах жишээтэй төстэй харагдах ёстой. Урт нь SHA-256-г ашигладаг.</p></div><div class="literalblock programlisting"><div class=content><pre>. IN DS 19036 8 1 B256BD09DC8DD59F0E0F0D8541B8328DD986DF6E
. IN DS 19036 8 2 49AAC11D7B6F6446702E54A1607371607A1A41855200FD2CE1CDDE32F24E8FB5</pre></div></div><div class=paragraph><p>SHA-256 RR-г <a href=https://data.iana.org/root-anchors/root-anchors.xml>https://data.iana.org/root-anchors/root-anchors.xml</a> дээр байгаа дайжесттай харьцуулж болно. Түлхүүрийг XML файлын өгөгдлөөр өөрчлөгдөөгүйг жинхэнэ утгаар мэдэхийн тулд <a href=https://data.iana.org/root-anchors/root-anchors.asc>https://data.iana.org/root-anchors/root-anchors.asc</a> дахь PGP гарын үсгийг ашиглан шалгаж болно.</p></div><div class=paragraph><p>Дараа нь түлхүүрийг зөв хэлбэрт оруулсан байх ёстой. Энэ нь BIND 9.6.2 болон 9.7 түүнээс хойшхи хувилбаруудын хооронд жаахан ялгаатай байдаг. 9.7 хувилбарт түлхүүрт хийгдэх өөрчлөлтийг автоматаар хянаж шаардлагатай бол шинэчилдэг дэмжлэг нэмэгдсэн байдаг. Үүнийг доорх жишээн дээр үзүүлсэн шиг <code>managed-keys</code> ашиглан хийдэг. Хуучин хувилбар ашиглаж байгаа тохиолдолд түлхүүрийг <code>trusted-keys</code> гэдгийг ашиглан нэмдэг бөгөөд шинэчлэлтүүдийг гараар хийх ёстой байдаг. BIND 9.6.2-ийн хувьд формат доорхтой адил хэлбэрийн байна:</p></div><div class="literalblock programlisting"><div class=content><pre>trusted-keys {
	&#34;.&#34; 257 3 8
	&#34;AwEAAagAIKlVZrpC6Ia7gEzahOR+9W29euxhJhVVLOyQbSEW0O8gcCjF
	FVQUTf6v58fLjwBd0YI0EzrAcQqBGCzh/RStIoO8g0NfnfL2MTJRkxoX
	bfDaUeVPQuYEhg37NZWAJQ9VnMVDxP/VHL496M/QZxkjf5/Efucp2gaD
	X6RS6CXpoY68LsvPVjR0ZSwzz1apAzvN9dlzEheX7ICJBBtuA6G3LQpz
	W5hOA2hzCTMjJPJ8LbqF6dsV6DoBQzgul0sGIcGOYl7OyQdXfZ57relS
	Qageu+ipAdTTJ25AsRTAoub8ONGcLmqrAmRLKBP1dfwhYB4N7knNnulq
	QxA+Uk1ihz0=&#34;;
};</pre></div></div><div class=paragraph><p>For 9.7 the format will instead be:</p></div><div class="literalblock programlisting"><div class=content><pre>managed-keys {
	&#34;.&#34; initial-key 257 3 8
	&#34;AwEAAagAIKlVZrpC6Ia7gEzahOR+9W29euxhJhVVLOyQbSEW0O8gcCjF
	FVQUTf6v58fLjwBd0YI0EzrAcQqBGCzh/RStIoO8g0NfnfL2MTJRkxoX
	bfDaUeVPQuYEhg37NZWAJQ9VnMVDxP/VHL496M/QZxkjf5/Efucp2gaD
	X6RS6CXpoY68LsvPVjR0ZSwzz1apAzvN9dlzEheX7ICJBBtuA6G3LQpz
	W5hOA2hzCTMjJPJ8LbqF6dsV6DoBQzgul0sGIcGOYl7OyQdXfZ57relS
	Qageu+ipAdTTJ25AsRTAoub8ONGcLmqrAmRLKBP1dfwhYB4N7knNnulq
	QxA+Uk1ihz0=&#34;;
};</pre></div></div><div class=paragraph><p>Эх түлхүүрийг <span class=filename>named.conf</span> файл руу шууд эсвэл түлхүүр бүхий файлыг оруулан нэмж өгч болно. Эдгээр алхмуудын дараа BIND-г хүсэлтүүд дээр DNSSEC шалгалтыг хийдэг болгохын тулд <span class=filename>named.conf</span> файлыг засварлан дараах мөрийг <code>options</code> хэсэгт нэмж тохиргоог хийнэ:</p></div><div class="literalblock programlisting"><div class=content><pre>dnssec-enable yes;
dnssec-validation yes;</pre></div></div><div class=paragraph><p>Ажиллаж байгааг шалгахын тулд дөнгөж тохируулсан тайлагчийг ашиглан гарын үсгээр баталгаажсан бүсийг асуусан хүсэлтийг dig ашиглан явуулна. Амжилттай хариулт <code>AD</code> тэмдэглэгээтэй байх бөгөөд энэ нь өгөгдлийг таньж зөвшөөрсөн гэсэн үг юм. Доорх хүсэлттэй адил хүсэлтийг ажиллуулбал</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% dig @resolver +dnssec se ds</code></pre></div></div><div class=paragraph><p><code>.se</code> бүсийн хувьд DSRR-г буцаах ёстой. <code>flags:</code> хэсэг дээр <code>AD</code> флаг тохируулагдсан байх ёстой бөгөөд доорх байдлаар харагдана:</p></div><div class="literalblock programlisting"><div class=content><pre>...
;; flags: qr rd ra ad; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1
...</pre></div></div><div class=paragraph><p>Тайлагч одоо DNS хүсэлтүүдийг шалгаж таних чадвартай боллоо.</p></div></div><div class=sect3><h4 id=dns-dnssec-auth>30.6.8.2. Бүрэн эрхт DNS серверийн тохиргоо<a class=anchor href=#dns-dnssec-auth></a></h4><div class=paragraph><p>DNSSEC-р баталгаажсан бүсэд үйлчлэх бүрэн эрхт нэрийн сервертэй болохын тулд бага зэргийн зүйлс хийх шаардлагатай. Бүсийг криптограф түлхүүрүүд ашиглан баталгаажуулах ёстой бөгөөд түлхүүрүүдийг үүсгэх ёстой. Энэ зорилгоор зөвхөн нэг түлхүүр ашиглаж болно. Гэхдээ зөвлөдөг арга бол байнга өөрчлөгдөөд байдаггүй, хүчтэй, маш сайн хамгаалагдсан Түлхүүрийг гарын үсгээр баталгаажуулах Түлхүүр (KSK) болон байнга өөрчлөгддөг Бүсийг гарын үсгээр баталгаажуулах Түлхүүртэй (ZSK) байх явдал юм. Үйл ажиллагааны хувьд зөвлөсөн практикуудын талаарх мэдээллийг <a href=http://tools.ietf.org/rfc/rfc4641.txt>RFC 4641: DNSSEC үйл ажиллагааны практикууд</a> хаягаас авч болно. Эх бүсийн талаарх практикуудыг <a href=http://www.root-dnssec.org/wp-content/uploads/2010/06/icann-dps-00.txt>Эх бүсийн KSKоператорт зориулсан DNSSEC практик</a> болон <a href=http://www.root-dnssec.org/wp-content/uploads/2010/06/vrsn-dps-00.txt>Эх бүсийн ZSKоператорт зориулсан DNSSEC практик</a> хаягуудаас олж болно. KSK нь дараалсан бүрэн эрхийг шалгагдах шаардлагатай байгаа өгөгдөлд өгөхөд хэрэглэгддэг бөгөөд бас Secure Entry Point буюу Аюулгүй Орох Цэг (SEP) түлхүүр гэгддэг. Энэ түлхүүрийн зурвасын дайжестийг Delegation Signer буюу Төлөөлөн баталгаажуулагч(DS) бичлэг гэгддэг бөгөөд итгэлцлийн дарааллыг бий болгохын тулд эцэг бүсэд бичигдсэн байх ёстой. Үүнийг хэрхэн хийх нь эцэг бүсийг эзэмшигчээс хамаардаг. ZSK нь бүсийг баталгаажуулахад хэрэглэгддэг бөгөөд тэндээ бичигдсэн байх ёстой байдаг.</p></div><div class=paragraph><p>Өмнөх жишээн дээр харуулсан <code>example.com</code> бүсийн хувьд DNSSEC-г идэвхжүүлэхийн тулд эхний алхам нь KSK болон ZSK түлхүүрийн хослолыг үүсгэх dnssec-keygen-г ашиглах явдал юм. Энэ түлхүүрийн хослол нь өөр өөр криптограф алгоритмуудыг хэрэглэж болно. Түлхүүрүүдийн хувьд RSA/SHA256-г ашиглахыг зөвлөдөг бөгөөд 2048 битийн түлхүүрийн урт хангалттай. <code>example.com</code>-н хувьд KSK-г үүсгэхийн тулд дараахийг ажиллуулна</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% dnssec-keygen <span class=nt>-f</span> KSK <span class=nt>-a</span> RSASHA256 <span class=nt>-b</span> 2048 <span class=nt>-n</span> ZONE example.com</code></pre></div></div><div class=paragraph><p>ZSK-г үүсгэхийн тулд</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% dnssec-keygen <span class=nt>-a</span> RSASHA256 <span class=nt>-b</span> 2048 <span class=nt>-n</span> ZONE example.com</code></pre></div></div><div class=paragraph><p>dnssec-keygen хоёр файлыг гаргах бөгөөд нийтийн болон хувийн түлхүүрүүд нь <span class=filename>Kexample.com.+005+nnnnn.key</span> (нийтийн) болон <span class=filename>Kexample.com.+005+nnnnn.private</span> (хувийн) гэсэн файлуудтай төстэй нэртэйгээр байна. Файлын нэрийн <code>nnnnn</code> хэсэг нь таван оронтой түлхүүрийн ID юм. Аль түлхүүрийн ID аль түлхүүрт харгалзаж байгааг хянаж байх хэрэгтэй. Энэ нь ялангуяа бүсэд нэгээс илүү түлхүүр ашиглаж байгаа үед чухал юм. Түлхүүрүүдийн нэрийг бас өөрчилж болно. KSK файл бүрийн хувьд дараахийг ажиллуулна:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>mv </span>Kexample.com.+005+nnnnn.key Kexample.com.+005+nnnnn.KSK.key
% <span class=nb>mv </span>Kexample.com.+005+nnnnn.private Kexample.com.+005+nnnnn.KSK.private</code></pre></div></div><div class=paragraph><p>ZSK файлуудын хувьд <code>KSK</code>-г <code>ZSK</code>-р солиорой. Одоо файлуудыг <code>$include</code> ашиглан бүсийн файлд оруулж болно. Иймэрхүү байдалтай харагдана:</p></div><div class="literalblock programlisting"><div class=content><pre>$include Kexample.com.+005+nnnnn.KSK.key    ; KSK
$include Kexample.com.+005+nnnnn.ZSK.key    ; ZSK</pre></div></div><div class=paragraph><p>Төгсгөлд нь бүсийг баталгаажуулж BIND-д баталгаажуулсан бүсийн файлыг ашиглахыг зааж өгнө. Бүсийг баталгаажуулахын тулд dnssec-signzone-г ашиглана. <span class=filename>example.com.db</span>-д байрлах <code>example.com</code> бүсийг баталгаажуулах тушаал иймэрхүү байна</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% dnssec-signzone <span class=nt>-o</span> example.com <span class=nt>-k</span> Kexample.com.+005+nnnnn.KSK example.com.db Kexample.com.+005+nnnnn.ZSK.key</code></pre></div></div><div class=paragraph><p><code>-k</code> аргументад өгөгдсөн түлхүүр нь KSK ба нөгөө нэг түлхүүрийн файл нь ZSK бөгөөд баталгаажуулахад хэрэглэгдэх ёстой. Нэгээс илүү KSK болон ZSK өгч болох бөгөөд ингэсэн тохиолдолд бүс бүх өгөгдсөн түлхүүрээр баталгаажна. Энэ нь бүсийн өгөгдлийг нэгээс илүү алгоритмаар баталгаажуулахын тулд хэрэгтэй байж болно. dnssec-signzone-ий гаралт нь бүх RR нь баталгаажсан бүсийн файл байна. Энэ гаралт нь <span class=filename>example.com.db.signed</span> мэтийн <code>.signed</code> гэсэн өргөтгөлтэй файлд байх болно. DS бичлэгүүд нь бас тусдаа <span class=filename>dsset-example.com</span> файлд бичигддэг. Энэ баталгаажсан бүсийг ашиглахын тулд <span class=filename>named.conf</span> файлын бүсийн хэсэгт <span class=filename>example.com.db.signed</span>-г ашиглахаар болгож өөрчлөх хэрэгтэй. Анхдагчаар гарын үсгүүд нь 30 хоног хүчинтэй байдаг бөгөөд хүчингүй гарын үсгүүд бүхий бичлэгүүдийг нэр тайлагчдаар хадгалуулахгүй байлгахын тулд бүсийг ядаж ойролцоогоор 15 хоногийн дараа дахин баталгаажуулах хэрэгтэй гэсэн үг юм. Үүнийг хийхийн тулд скрипт бичээд cron-д ажиллуулахаар тохируулж болно. Дэлгэрэнгүйг холбогдох гарын авлагуудаас харна уу.</p></div><div class=paragraph><p>Бүх криптограф түлхүүрүүдийн адил хувийн түлхүүрүүдийг нууцлан хадгалахыг санаарай. Түлхүүрийг солихдоо шинэ түлхүүрийг бүсэд оруулан хуучнаар эхлээд баталгаажуулах нь зүйтэй бөгөөд дараа нь шинэ түлхүүрийг ашиглан баталгаажуулах хэрэгтэй. Эдгээр алхмуудыг хийсний дараа хуучин түлхүүрийг бүсээс арилгаж болно. Ингэж хийхгүй бол шинэ түлхүүр DNS-н шатлалаар түгээгдэн зарлагдтал DNS-н өгөгдөл нь хүртээмжгүй байх нөхцөлд хүргэж болно. Түлхүүр солих мэдээлэл болон DNSSEC-г ажиллуулахтай холбоотой асуудлуудын талаар дэлгэрэнгүйг <a href=http://www.ietf.org/rfc/rfc4641.txt>RFC 4641: DNSSEC Operational practices</a> хаягаас үзнэ үү.</p></div></div><div class=sect3><h4 id=_bind_9_7_болон_түүнээс_хойшхи_хувилбаруудыг_ашиглан_автоматжуулах>30.6.8.3. BIND 9.7 болон түүнээс хойшхи хувилбаруудыг ашиглан автоматжуулах<a class=anchor href=#_bind_9_7_болон_түүнээс_хойшхи_хувилбаруудыг_ашиглан_автоматжуулах></a></h4><div class=paragraph><p>BIND 9.7 хувилбараас эхлээд <em>Smart Signing</em> буюу ухаалгаар баталгаажуулах боломж шинээр нэмэгдсэн. Энэ боломж нь түлхүүрийг удирдах болон баталгаажуулах процессын зарим хэсгийг автоматжуулснаар хялбар болгохыг зорьдог. <em>key repository</em> санд түлхүүрүүдийг байршуулж <code>auto-dnssec</code> гэсэн шинэ тохиргоог ашиглан шаардлагатай тохиолдолд дахин баталгаажуулагддаг динамик бүсийг үүсгэх боломжтой байдаг. Энэ бүсийг шинэчлэхийн тулд nsupdate-г шинэ <code>-l</code> аргументтай хэрэглэнэ. rndc бас түлхүүр байрлах сан дахь түлхүүрүүдээр бүсүүдийг <code>sign</code> гэсэн тохиргоо ашиглан баталгаажуулах боломжтой болсон. <code>example.com</code>-н хувьд энэ автоматаар хийх баталгаажуулалт болон бүсийг шинэчлэх боломжийг BIND-д зааж өгөхийн тулд дараахийг <span class=filename>named.conf</span> файлд нэмж өгөх хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>zone example.com {
	type master;
	key-directory &#34;/etc/named/keys&#34;;
	update-policy local;
	auto-dnssec maintain;
	file &#34;/etc/named/dynamic/example.com.zone&#34;;
};</pre></div></div><div class=paragraph><p>Эдгээр өөрчлөлтүүдийг хийсний дараа <a href=#dns-dnssec-auth>Бүрэн эрхт DNS серверийн тохиргоо</a>-д тайлбарласны дагуу бүсийн хувьд түлхүүрүүдийг үүсгэж өгнө. Ингэхийн тулд тэр түлхүүрүүдийг түлхүүр байрлах санд хийж бүсийн тохиргооны <code>key-directory</code> гэдэгт уг санг өгөх бөгөөд ингэснээр бүс автоматаар баталгаажуулагдах болно. Ийм замаар тохируулсан бүсэд хийх шинэчлэлтийг nsupdate ашиглан хийх ёстой бөгөөд энэ нь бүсэд шинэ өгөгдөл нэмэн дахин баталгаажуулах ажлыг хийдэг байна. Илүү дэлгэрэнгүйг <a href=#dns-read>Гүнзгийрүүлэн унших</a> болон BIND-н баримтаас үзнэ үү.</p></div></div></div><div class=sect2><h3 id=_аюулгүй_байдал>30.6.9. Аюулгүй байдал<a class=anchor href=#_аюулгүй_байдал></a></h3><div class=paragraph><p>Хэдийгээр BIND нь хамгийн өргөн хэрэглэгддэг DNS сервер боловч, аюулгүй байдалтай холбоотой асуудлууд байнга тулгардаг. Гадны халдлагад өртөж болзошгүй аюулгүй байдлын цоорхой заримдаа олддог.</p></div><div class=paragraph><p>Хэдийгээр FreeBSD named-г автоматаар <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> орчинд оруулдаг боловч; DNS халдлагад ашиглаж болохуйц хэд хэдэн механизмууд байсаар байна.</p></div><div class=paragraph><p><a href=http://www.cert.org/>CERT</a>-с гаргадаг аюулгүй байдлын санамжуудыг уншихыг зөвлөж байна. Мөн <a href=https://lists.FreeBSD.org/subscription/freebsd-security-notifications>FreeBSD аюулгүй байдлын мэдэгдлүүд захидлын жагсаалт</a>-д бүртгүүлж, шинээр гарч байгаа Интернэт болон FreeBSD-н аюулгүй байдлын асуудлуудын талаар мэдээлэлтэй байхыг зөвлөе.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Хэрэв ямар нэгэн асуудал тулгарвал эхийг байнга шинэчилж, named-г шинээр бүтээх нь тусалж болох юм.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=dns-read>30.6.10. Гүнзгийрүүлэн унших<a class=anchor href=#dns-read></a></h3><div class=paragraph><p>BIND/named заавар хуудсууд: <a href="https://man.freebsd.org/cgi/man.cgi?query=rndc&amp;sektion=8&amp;format=html">rndc(8)</a> <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a> <a href="https://man.freebsd.org/cgi/man.cgi?query=named.conf&amp;sektion=8&amp;format=html">named.conf(8)</a><a href="https://man.freebsd.org/cgi/man.cgi?query=nsupdate&amp;sektion=8&amp;format=html">nsupdate(8)</a> <a href="https://man.freebsd.org/cgi/man.cgi?query=dnssec-signzone&amp;sektion=8&amp;format=html">dnssec-signzone(8)</a> <a href="https://man.freebsd.org/cgi/man.cgi?query=dnssec-keygen&amp;sektion=8&amp;format=html">dnssec-keygen(8)</a></p></div><div class=ulist><ul><li><p><a href=https://www.isc.org/software/bind>ISC BIND-н Албан ёсны Хуудас</a></p></li><li><p><a href=https://www.isc.org/software/guild>ISC BIND-н Албан ёсны Хэлэлцүүлэг</a></p></li><li><p><a href=http://www.root-dnssec.org/documentation/>Root DNSSEC</a></p></li><li><p><a href=http://www.oreilly.com/catalog/dns5/>O’Reilly "DNS ба BIND" 5 дахь Хэвлэлт</a></p></li><li><p><a href=http://data.iana.org/root-anchors/draft-icann-dnssec-trust-anchor.html>DNSSECЭх бүсэд зориулсан итгэмжит анкор зарлалт (Trust Anchor Publication for the Root Zone)</a></p></li><li><p><a href=http://tools.ietf.org/html/rfc1034>RFC1034 - Домэйн Нэрүүд - Зарчмууд болон Боломжууд</a></p></li><li><p><a href=http://tools.ietf.org/html/rfc1035>RFC1035 - Домэйн Нэрүүд - Хэрэгжүүлэлт болон Үзүүлэлтүүд</a></p></li><li><p><a href=http://tools.ietf.org/html/rfc4033>RFC4033 - DNS-н аюулгүй байдлын танилцуулга ба шаардлагууд</a></p></li><li><p><a href=http://tools.ietf.org/html/rfc4034>RFC4034 - DNS-н аюулгүй байдлын өргөтгөлүүдэд зориулсан Resource Records буюу Нөөцийн Бичлэгүүд</a></p></li><li><p><a href=http://tools.ietf.org/html/rfc4035>RFC4035 - DNS-н аюулгүй байдлын өргөтгөлүүдэд зориулсан протоколын өөрчлөлтүүд</a></p></li><li><p><a href=http://tools.ietf.org/html/rfc4641>RFC4641 - DNSSEC ажиллуулах практикууд</a></p></li><li><p><a href=http://tools.ietf.org/html/rfc5011>RFC 5011 - DNS-н аюулгүй байдлын автомат шинэчлэлтүүд (DNSSEC Trust Anchors</a></p></li></ul></div></div></div></div><div class=sect1><h2 id=network-apache>30.7. Apache HTTP Сервер<a class=anchor href=#network-apache></a></h2><div class=sectionbody><div class=sect2><h3 id=_удиртгал_2>30.7.1. Удиртгал<a class=anchor href=#_удиртгал_2></a></h3><div class=paragraph><p>Дэлхийн хамгийн их ачаалалтай ажилладаг зарим вэб сайтууд FreeBSD дээр ажилладаг. Интернэтэд ажиллаж байгаа вэб серверүүдийн олонхи нь Apache HTTP Серверийг ашиглаж байна. Apache програм хангамжийн багц таны FreeBSD суулгах дискэнд орсон байгаа. Хэрэв та FreeBSD-г анх суулгахдаа Apache-г хамт суулгаагүй бол <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache22/>www/apache22</a> портоос суулгаж болно.</p></div><div class=paragraph><p>Apache нэгэнт амжилттай суусан бол түүнийг тохируулах шаардлагатай.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Apache HTTP Server-н 2.2.X хувилбар нь FreeBSD-д хамгийн өргөн хэрэглэгддэг тул бид энэ хэсэгт энэ хувилбарыг үзэх болно. Apache 2.X-н талаар энэ баримтын хүрээнээс хальсан дэлгэрэнгүй мэдээллийг <a href=http://httpd.apache.org/>http://httpd.apache.org/</a> хаягаар орж үзнэ үү.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_тохиргоо>30.7.2. Тохиргоо<a class=anchor href=#_тохиргоо></a></h3><div class=paragraph><p>FreeBSD дээрх Apache HTTP Серверийн гол тохиргооны файл бол <span class=filename>/usr/local/etc/apache22/httpd.conf</span> юм. Энэ файлд, UNIX®-н текст тохиргооны файлын нэгэн адил тайлбар мөрүүдийн өмнө <code>#</code> тэмдэгтийг хэрэглэдэг. Бүх боломжит тохируулгуудын талаар дэлгэрүүлж тайлбарлах нь энэ номын хүрээнээс халих тул, хамгийн их өөрчлөлт хийгддэг директивүүдийг энд авч үзье.</p></div><div class=dlist><dl><dt class=hdlist1><code>ServerRoot "/usr/local"</code></dt><dd><p>Энэ директив Apache суулгацын анхдагч директор шатлалын эхийг зааж өгнө. Хоёртын файлууд серверийн эх директорын <span class=filename>bin</span> ба <span class=filename>sbin</span> дэд директоруудад, тохиргооны файлууд <span class=filename>etc/apache</span> дэд директорт байрлана.</p></dd><dt class=hdlist1><code>ServerAdmin you@your.address</code></dt><dd><p>Сервертэй холбоотой асуудлуудын талаар илгээх цахим захидлын хаягийг заана. Энэ хаяг алдааны хуудсууд гэх зэрэг сервер талаас автоматаар үүсгэгддэг зарим хуудсууд дээр бичигдэх болно.</p></dd><dt class=hdlist1><code>ServerName www.example.com</code></dt><dd><p><code>ServerName</code> нь хост дээр тохируулагдсан хост нэрээс өөр нэрийг сервертээ өгөх боломжийг танд олгоно (өөрөөр хэлбэл, хостын жинхэнэ хост нэрийн оронд <code>www</code>-г хэрэглэх). Энэ нэрээр таны сервер харилцагч нартай харилцах болно.</p></dd><dt class=hdlist1><code>DocumentRoot "/usr/local/www/apache22/data"</code></dt><dd><p><code>DocumentRoot</code>: Энэ директорт байгаа вэб баримтуудыг харилцагч нарт үзүүлэх болно. Анхдагч байдлаар, бүх хүсэлтүүд энэ директорт өгөгдөнө. Гэвч симбол холбоосууд болон хуурамч дүрүүдийг ашиглан өөр газар руу зааж өгч болно.</p></dd></dl></div><div class=paragraph><p>Apache-н тохиргооны файлд ямар нэг өөрчлөлт хийхээсээ өмнө нөөц хуулбарыг авч үлдэхээ мартуузай. Тохиргоо хийж дууссан бол одоо Apache-г ажиллуулах хэрэгтэй.</p></div></div><div class=sect2><h3 id=_apache_г_ажиллуулах_нь>30.7.3. Apache-г ажиллуулах нь<a class=anchor href=#_apache_г_ажиллуулах_нь></a></h3><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/apache22/>www/apache22</a> порт нь Apache-г эхлүүлэх, зогсоох болон дахин ачаалахад хэрэгтэй <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> скриптийг суулгадаг бөгөөд энэ нь <span class=filename>/usr/local/etc/rc.d/</span> санд байрладаг.</p></div><div class=paragraph><p>Систем ачаалах үед Apache-г эхлүүлэхийн тулд дараах мөрүүдийг <span class=filename>/etc/rc.conf</span> файлд нэмж бичнэ:</p></div><div class="literalblock programlisting"><div class=content><pre>apache22_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Хэрэв Apache-г анхдагч биш сонголтуудтай ажиллуулах бол дараах мөрийг <span class=filename>/etc/rc.conf</span> файлд нэмж тохируулж болно:</p></div><div class="literalblock programlisting"><div class=content><pre>apache22_flags=&#34;&#34;</pre></div></div><div class=paragraph><p>Apache-н тохиргоог <code>httpd</code> демонг анх эхлүүлэхээсээ өмнө юм уу эсвэл <code>httpd</code> ажиллаж байгаа үед дараалсан тохиргооны өөрчлөлтүүдиийг хийсний дараа алдаа байгаа эсэхийг тест хийж болно. Үүнийг <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> скриптээр шууд хийх юм уу эсвэл <a href="https://man.freebsd.org/cgi/man.cgi?query=service&amp;sektion=8&amp;format=html">service(8)</a> хэрэгслийг ашиглан дараах тушаалуудын аль нэгийг ажиллуулж хийнэ:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service apache22 configtest</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>configtest</code> нь <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a>-ий хувьд стандарт биш гэдгийг санаарай, бүх <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> эхлүүлэх скриптүүдийн хувьд ажиллахгүй байж болно.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Хэрэв Apache тохиргооны алдаа өгөөгүй бол Apache <code>httpd</code>-г адил <a href="https://man.freebsd.org/cgi/man.cgi?query=service&amp;sektion=8&amp;format=html">service(8)</a> механизмаар эхлүүлж болно:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service apache22 start</span></code></pre></div></div><div class=paragraph><p><code>httpd</code> үйлчилгээг вэб хөтөч дээр <code><a href=http://localhost class=bare>http://localhost</a></code> гэж тест хийж болно. Хэрэв энэ нь локал машин биш бол <code>httpd</code> ажиллаж байгаа машины бүрэн танигдсан домен нэрээр сольж тестлээрэй. Харуулагдах анхдаг вэб хуудас нь <span class=filename>/usr/local/www/apache22/data/index.html</span> байна.</p></div></div><div class=sect2><h3 id=_давхар_байршуулалт>30.7.4. Давхар байршуулалт<a class=anchor href=#_давхар_байршуулалт></a></h3><div class=paragraph><p>Apache нь хоёр төрлийн давхар байршуулах үйлчилгээг дэмждэг. Эхнийх нь нэр дээр үндэслэсэн давхар байршуулалт юм. Нэр дээр үндэслэсэн давхар байршуулалт дээр хост нэрийг ялгаж мэдэхдээ харилцагчийн HTTP/1.1 толгойн хэсгийг ашигладаг. Иим байдлаар олон өөр домэйнууд нэг IP хаягийг хуваан хэрэглэх боломжтой болдог.</p></div><div class=paragraph><p>Apache дээр, нэр дээр үндэслэсэн давхар байршуулалтыг хэрэглэхийн тулд доор дурдсантай төстэй бүртгэлийг <span class=filename>httpd.conf</span> файл дотор нэмж бичих хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>NameVirtualHost *</pre></div></div><div class=paragraph><p>Таны вэб серверийн нэр <code>www.domain.tld</code> бөгөөд <code>www.someotherdomain.tld</code> нэртэй домэйныг давхар байршуулах хүсэлтэй бол, та дараах бүртгэлийг <span class=filename>httpd.conf</span> файлд нэмэх хэрэгтэй болно:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>&lt;VirtualHost <span class=k>*</span><span class=o>&gt;</span>
ServerName www.domain.tld
DocumentRoot /www/domain.tld
&lt;/VirtualHost&gt;

&lt;VirtualHost <span class=k>*</span><span class=o>&gt;</span>
ServerName www.someotherdomain.tld
DocumentRoot /www/someotherdomain.tld
&lt;/VirtualHost&gt;</code></pre></div></div><div class=paragraph><p>Дээрх хаягуудын оронд хэрэгтэй хаягуудыг, замуудын оронд баримтууд байгаа зохих замуудыг сольж бичнэ үү.</p></div><div class=paragraph><p>Давхар хостуудыг зохион байгуулах талаар дэлгэрэнгүй мэдээллийг Apache-н албан ёсны баримтжуулалт: <a href=http://httpd.apache.org/docs/vhosts/>http://httpd.apache.org/docs/vhosts/</a>-с олж үзнэ үү.</p></div></div><div class=sect2><h3 id=_apache_модулиуд>30.7.5. Apache Модулиуд<a class=anchor href=#_apache_модулиуд></a></h3><div class=paragraph><p>Үндсэн серверийн үүрэг функцыг сайжруулахын тулд бүтээгдсэн Apache-н олон модулиуд байдаг. FreeBSD Портуудын Цуглуулга нь Apache-г түүний өргөн хэрэглэгддэг зарим модулиудын хамт хялбар суулгах боломжийг олгодог.</p></div><div class=sect3><h4 id=_mod_ssl>30.7.5.1. mod_ssl<a class=anchor href=#_mod_ssl></a></h4><div class=paragraph><p>mod_ssl модуль нь Secure Sockets Layer (SSL v2/v3) ба Transport Layer Security (TLS v1) протоколоор дамжуулан өндөр нууцлалыг хангахын тулд OpenSSL санг ашигладаг. Энэ модуль нь батламж олгодог итгэмжлэгдсэн байгууллагаас батламж авахын тулд шаардлагатай бүх зүйлсээр хангадаг тул та үүнийг ашиглан FreeBSD дээр аюулгүй вэб сервер ажиллуулж чадна.</p></div><div class=paragraph><p>mod_ssl модуль нь анхдагчаар бүтээгдсэн байдаг боловч бүхээх үедээ <code>-DWITH_SSL</code> сонголт ашиглан идэвхжүүлж болно.</p></div></div><div class=sect3><h4 id=_хэлний_холболтууд>30.7.5.2. Хэлний холболтууд<a class=anchor href=#_хэлний_холболтууд></a></h4><div class=paragraph><p>Ихэнх гол скрипт хэлнүүдэд зориулсан Apache-ийн модулиуд байдаг. Эдгээр модулиуд нь Apache-ийн модулиудыг бүхэлд нь скрипт хэл дээр бичих боломжийг ихэвчлэн бүрдүүлдэг. Эдгээр нь бас гадаад тайлбарлагчийг эхлүүлэх нэмэлт зардал болон димамик вэб сайтуудын хувьд байдаг эхлүүлэх хугацааны алдагдлыг тойрон гарах, серверт багтааж хийгдсэн байнгын тайлбарлагч болон дараагийн хэсэгт тайлбарлагдсан шигээр ихэвчлэн ашиглагддаг.</p></div></div></div><div class=sect2><h3 id=_динамик_вэб_сайтууд>30.7.6. Динамик вэб сайтууд<a class=anchor href=#_динамик_вэб_сайтууд></a></h3><div class=paragraph><p>Сүүлийн 10 жилд, өөрийн ашиг орлогыг нэмэгдүүлэх, хүмүүст хүрэх зорилгоор илүү олон компаниуд бизнесээ Интернэтээр явуулах болжээ. Энэ нь динамик агуулгатай вэб хуудсууд төрөн гарах хэрэгцээ шаардлагыг улам нэмэгдүүлсэн. Microsoft® гэх мэт зарим компаниуд ч өөрийн бүтээгдэхүүнүүдэд тэдгээрээс оруулах болсон хэдий ч, нээлттэй эхийн нэгдэл энэ асуудалд хариу өгсөн юм. Динамик вэб агуулгыг бий болгох орчин үеийн боломжууд бол Django, Ruby on Rails, mod_perl2 болон mod_php юм.</p></div><div class=sect3><h4 id=_django>30.7.6.1. Django<a class=anchor href=#_django></a></h4><div class=paragraph><p>Django нь өндөр ажиллагаатай, гоёмсог вэб програмыг хурдан бичих боломжийг хөгжүүлэгчдэд олгохоор хийгдсэн, BSD лицензтэй тогтолцоо юм. Энэ нь өгөгдлийн төрлүүд Python обьект хэлбэрээр хөгжүүлэгддэг байхаар болгосон обьектийн харилцааг оноогчтой бөгөөд тэдгээр обьектуудад зориулсан хөгжүүлэгчдэд SQL бичих шаардлагагүй болгож өгдөг, баялаг динамик өгөгдлийн сангийн хандалтын API-тай юм. Энэ нь бас програмын логикийг HTML үзүүлбэрээс тусгаарлах боломжийг бүрдүүлэх нэмэлт загварын системтэй байдаг.</p></div><div class=paragraph><p>Django нь mod_python, Apache, болон таны сонгосон SQL өгөгдлийн сангийн хөдөлгүүрээс хамаардаг. FreeBSD порт нь эдгээр бүх хамаарлуудыг тохирсон сонголтуудтай нь танд суулгаж өгөх болно.</p></div><div id=network-www-django-install class=exampleblock><div class=title>Жишээ 3. Django-г Apache2, mod_python3, болон PostgreSQL суулгах нь</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/www/py-django; make all install clean -DWITH_MOD_PYTHON3 -DWITH_POSTGRESQL</span></code></pre></div></div></div></div><div class=paragraph><p>Django болон бусад хамаарлууд суулгагдсаны дараа та Django төслийн санг үүсгэх хэрэгтэй бөгөөд өөрийн сайт дээрх тухайн URL дээр өөрийн програмыг дуудахын тулд суулгагдсан Python тайлбарлагчийг ашиглахаар болгож Apache-г тохируулах хэрэгтэй.</p></div><div id=network-www-django-apache-config class=exampleblock><div class=title>Жишээ 4. Django/mod_python-д зориулсан Apache-ийн тохиргоо</div><div class=content><div class=paragraph><p>Та өөрийн вэб програм руу тодорхой URL-уудад зориулсан хүсэлтүүдийг дамжуулахаар Apache-г тохируулахын тулд apache-ийн <span class=filename>httpd.conf</span> файлд мөр нэмэх шаардлагатай:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>&lt;Location <span class=s2>&#34;/&#34;</span><span class=o>&gt;</span>
    SetHandler python-program
    PythonPath <span class=s2>&#34;[&#39;/dir/to/your/django/packages/&#39;] + sys.path&#34;</span>
    PythonHandler django.core.handlers.modpython
    SetEnv DJANGO_SETTINGS_MODULE mysite.settings
    PythonAutoReload On
    PythonDebug On
&lt;/Location&gt;</code></pre></div></div></div></div></div><div class=sect3><h4 id=_ruby_on_rails>30.7.6.2. Ruby on Rails<a class=anchor href=#_ruby_on_rails></a></h4><div class=paragraph><p>Ruby on Rails нь бүрэн гүйцэд хөгжүүлэлтийн стекийн боломжийг олгодог бөгөөд вэб хөгжүүлэгчдийг хүчирхэг програмыг хурдан шуурхай, илүү үр бүтээлтэй бичдэг байхаар оновчлогдсон, нээлттэй эхийн вэб тогтолцоо юм. Үүнийг портын системээс хялбараар суулгаж болно.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/www/rubygem-rails; make all install clean</span></code></pre></div></div></div><div class=sect3><h4 id=_mod_perl2>30.7.6.3. mod_perl2<a class=anchor href=#_mod_perl2></a></h4><div class=paragraph><p>Apache/Perl нэгтгэх төсөл Perl програмчлалын хэл ба Apache HTTP Серверийн бүх хүч чадлыг нэгтгэсэн юм. mod_perl2 модулийн тусламжтай Apache модулиудыг тэр чигээр нь Perl дээр бичих боломжтой. Дээр нь, серверт суулгасан шургуу хөрвүүлэгч, гадны хөрвүүлэгч ашиглах илүү ажил болон Perl эхлүүлэх хугацааны алдагдлаас зайлсхийж чадсан юм.</p></div><div class=paragraph><p>mod_perl2 нь <a class=package href=https://cgit.freebsd.org/ports/tree/www/mod_perl2/>www/mod_perl2</a> портод байдаг.</p></div></div><div class=sect3><h4 id=_mod_php>30.7.6.4. mod_php<a class=anchor href=#_mod_php></a></h4><div class=paragraph><p>PHP буюу "PHP:Hypertext Preprocessor" бол вэб хөгжүүлэлтэд тусгайлан тохируулсан, энгийн хэрэглээний скрипт хэл юм. HTML дотор суулгах боломжтой түүний синтакс C, Java™, ба Perl-с гаралтай. Энэ нь вэб хөгжүүлэгчдэд динамикаар үүсгэгдэх вэб хуудсыг хурдан бичих боломжтой болгох үүднээс тэгсэн хэрэг.</p></div><div class=paragraph><p>Apache вэб серверийг PHP5-г дэмждэг болгохын тулд, <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a> портыг суулгаж эхлэх хэрэгтэй.</p></div><div class=paragraph><p>Хэрэв <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a> портыг анх удаа суулгаж байгаа бол, боломжит <code>ТОХИРУУЛГУУД</code> автоматаар дэлгэцэн дээр гарч ирнэ. Хэрэв цэс гарч ирэхгүй бол, өөрөөр хэлбэл <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a> портыг өмнө нь хэзээ нэгэн цагт суулгаж байсан бол, тохируулгуудын харилцах цонхыг гаргаж ирэхийн тулд дараах тушаалыг:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make config</span></code></pre></div></div><div class=paragraph><p>порт директор дотор өгөх хэрэгтэй.</p></div><div class=paragraph><p>Тохируулгуудын харилцах цонхонд, mod_php5-г Apache-н ачаалах боломжтой модуль байдлаар бүтээхийн тулд <code>APACHE</code> тохируулгыг идэвхжүүлнэ.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Олон сайтууд PHP4-г янз бүрийн шалтгааны улмаас (өөрөөр хэлбэл, нийцтэй байдал эсвэл аль хэдийн үйлчилгээнд гаргачихсан вэб програмууд) ашигласаар байна. Хэрэв mod_php4-г mod_php5-н оронд ашиглах шаардлагатай бол, <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php4/>lang/php4</a> портыг ашиглаарай. <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php4/>lang/php4</a> порт нь <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a> портод байдаг тохиргооны болон бүтээх үеийн олон тохируулгуудыг дэмждэг.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Энэ хэсэг код динамик PHP програмыг дэмждэг болгоход шаардлагатай модулиудыг суулгаж тохируулах болно. Доорх мөрүүд <span class=filename>/usr/local/etc/apache22/httpd.conf</span> файл дотор нэмэгдсэн эсэхийг шалгаарай:</p></div><div class="literalblock programlisting"><div class=content><pre>LoadModule php5_module        libexec/apache/libphp5.so</pre></div></div><div class="literalblock programlisting"><div class=content><pre>AddModule mod_php5.c
    &lt;IfModule mod_php5.c&gt;
        DirectoryIndex index.php index.html
    &lt;/IfModule&gt;
    &lt;IfModule mod_php5.c&gt;
        AddType application/x-httpd-php .php
        AddType application/x-httpd-php-source .phps
    &lt;/IfModule&gt;</pre></div></div><div class=paragraph><p>Үүний дараа, PHP модулийг ачаалахын тулд, дараах тушаалыг өгч серверийг дахин ачаалах хэрэгтэй:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># apachectl graceful</span></code></pre></div></div><div class=paragraph><p>Дараа, PHP-н хувилбарыг дээшлүүлэх үедээ, <code>make config</code> тушаалыг өгөх шаардлагагүй; идэвхжүүлсэн <code>ТОХИРУУЛГУУД</code> FreeBSD Портуудын тогтолцоонд автоматаар хадгалагдсан байгаа.</p></div><div class=paragraph><p>FreeBSD-н PHP дэмжлэг нь дээд зэргээр модульчлагдсан тул үндсэн суулгац нь маш хязгаарлагдмал байдаг. <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5-extensions/>lang/php5-extensions</a> портыг ашиглан дэмжлэг нэмэх нь үнэхээр амархан асуудал. PHP өргөтгөлийг суулгах явцад, энэ порт танд цэсээс тогтсон интерфэйсийг санал болгоно. Өөрөөр, өргөтгөлүүдийг нэг нэгээр нь харгалзах портуудаас суулгаж болно.</p></div><div class=paragraph><p>Жишээлбэл, PHP5-д MySQL өгөгдлийн сангийн серверийн дэмжлэгийг нэмэхийн тулд, <span class=filename>databases/php5-mysql</span> портыг суулгахад хангалттай.</p></div><div class=paragraph><p>Ямар нэг өргөтгөл суулгасны дараа, тохиргооны өөрчлөлтийг хүчин төгөлдөр болгохын тулд Apache серверийг дахин ачаалах шаардлагатайг анхаарна уу:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># apachectl graceful</span></code></pre></div></div></div></div></div></div><div class=sect1><h2 id=network-ftp>30.8. Файл Дамжуулах Протокол (FTP)<a class=anchor href=#network-ftp></a></h2><div class=sectionbody><div class=sect2><h3 id=_удиртгал_3>30.8.1. Удиртгал<a class=anchor href=#_удиртгал_3></a></h3><div class=paragraph><p>File Transfer Protocol буюу Файл Дамжуулах Протокол (FTP) нь хэрэглэгчдэд FTP серверээс файлыг авах болон тавих хялбар замыг бий болгодог. FreeBSD үндсэн систем дотроо FTP сервер програм ftpd-г агуулж байдаг. Энэ нь FreeBSD дээр FTP серверийг босгох, удирдах ажлыг төвөггүй болгодог.</p></div></div><div class=sect2><h3 id=_тохиргоо_2>30.8.2. Тохиргоо<a class=anchor href=#_тохиргоо_2></a></h3><div class=paragraph><p>Тохиргоо хийхийн өмнөх хамгийн чухал алхам бол ямар дансууд FTP серверт хандах эрхтэй байх вэ гэдгийг шийдэх байдаг. Ердийн FreeBSD систем нь янз бүрийн дэмонуудад хэрэглэгддэг олон тооны системийн дансуудтай байдаг ба гадны хэрэглэгчид эдгээр дансыг ашиглан нэвтрэх ёсгүй. <span class=filename>/etc/ftpusers</span> файл дотор FTP хандалт зөвшөөрөгдөөгүй хэрэглэгчдийн жагсаалтыг хадгална. Анхдагч байдлаар, дээр дурдсан системийн дансууд энэ файлд байна. FTP хандалтыг зөвшөөрөх ёсгүй өөр хэрэглэгчдийг ч мөн энэ файлд нэмж болно.</p></div><div class=paragraph><p>Зарим хэрэглэгчдийн FTP хэрэглэхийг нь бүр болиулчихалгүйгээр, зөвхөн зарим нэг эрхийг нь хязгаарлаж бас болно. Үүнийг <span class=filename>/etc/ftpchroot</span> файлын тусламжтай гүйцэтгэж болно. Энэ файл дотор FTP хандалтыг нь хязгаарлах хэрэглэгчид болон бүлгүүдийн жагсаалт байна. <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpchroot&amp;sektion=5&amp;format=html">ftpchroot(5)</a> заавар хуудсанд бүх мэдээлэл байгаа тул энд дурдсангүй.</p></div><div class=paragraph><p>Хэрэв сервертээ нийтийн FTP хандалтыг зөвшөөрөх хүсэлтэй байгаа бол, FreeBSD систем дээрээ <code>ftp</code> нэртэй хэрэглэгч нэмэх хэрэгтэй. Ингэснээр хэрэглэгчид таны FTP сервер рүү <code>ftp</code> эсвэл <code>anonymous</code> гэсэн нэрээр ямар ч нэвтрэх үг шаардагдахгүйгээр (тогтсон заншил ёсоор хэрэглэгч цахим шуудангийн хаягаа нэвтрэх үгийн оронд хэрэглэх шаардлагатай) нэвтрэн орох болно. Нийтийн хэрэглэгч системд орж ирэхэд FTP сервер түүний эрхийг зөвхөн <code>ftp</code> хэрэглэгчийн гэрийн сан дотор хязгаарлахын тулд <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a>-г дуудна.</p></div><div class=paragraph><p>FTP харилцагчдад зориулсан мэндчилгээний үгнүүдийг агуулсан хоёр текст файл байдаг. <span class=filename>/etc/ftpwelcome</span> файл дотор байгааг нэвтрэлт хүлээх мөр гарахаас өмнө хэрэглэгчдэд дэлгэцэн дээр хэвлэнэ. Амжилттай нэвтэрч орсны дараа <span class=filename>/etc/ftpmotd</span> файл дотор байгааг дэлгэцэн дээр хэвлэнэ. Энэ файлын зам нь нэвтэрч орсон орчинтой харьцангуйгаар авсан зам гэдгийг анхаарна уу, тиймээс нийтийн хэрэглэгчдийн хувьд <span class=filename>~ftp/etc/ftpmotd</span> файлыг хэвлэх болно.</p></div><div class=paragraph><p>FTP серверийн тохиргоог зохих ёсоор хийсний дараа, <span class=filename>/etc/inetd.conf</span> файл дотор идэвхжүүлэх хэрэгтэй. Үүний тулд, ftpd гэсэн мөрний өмнөх "#" тэмдэгтийг арилгахад хангалттай:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp	stream	tcp	nowait	root	/usr/libexec/ftpd	ftpd -l</pre></div></div><div class=paragraph><p><a href=#network-inetd-reread>inetd-н тохиргооны файлыг дахин ачаалах нь</a> хэсэгт тайлбарласан ёсоор энэ тохиргооны файлд өөрчлөлт оруулсны дараа inetd-г дахин ачаалах шаардлагатай. Өөрийн систем дээр inetd-г идэвхжүүлэх талаар дэлгэрэнгүйг <a href=#network-inetd-settings>Тохиргоо</a>-с үзнэ үү.</p></div><div class=paragraph><p>Мөн ftpd-ийг дангаар нь ажиллуулахаар тохируулж болно. Энэ тохиолдолд <span class=filename>/etc/rc.conf</span> файлд тохирох хувьсагчийг тохируулахад хангалттай байдаг:</p></div><div class="literalblock programlisting"><div class=content><pre>ftpd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Дээрх хувьсагчийг тохируулсны дараа сервер дараачийн ачаалалт хийхэд ажиллах боломжтой болох бөгөөд эсвэл дараах тушаалыг <code>root</code> эрхээр ажиллуулан эхлүүлж болно:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ftpd start</span></code></pre></div></div><div class=paragraph><p>Одоо та дараах тушаалыг өгөн FTP сервер рүү нэвтрэн орж болно:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ftp localhost</code></pre></div></div></div><div class=sect2><h3 id=_арчилгаа>30.8.3. Арчилгаа<a class=anchor href=#_арчилгаа></a></h3><div class=paragraph><p>ftpd дэмон бүртгэл хөтлөхдөө <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog&amp;sektion=3&amp;format=html">syslog(3)</a>-г ашигладаг. Анхдагч байдлаар, системийн бүртгэлийн дэмон FTP-тэй холбоотой зурвасуудыг <span class=filename>/var/log/xferlog</span> файлд бичнэ. FTP бүртгэлийн файлын байршлыг өөрчлөхийн тулд <span class=filename>/etc/syslog.conf</span> файл дотор, дараах мөрийг засах хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp.info      /var/log/xferlog</pre></div></div><div class=paragraph><p>Нийтийн FTP сервер ажиллуулахад тохиолдох болзошгүй асуудлуудын талаар мэдлэгтэй байгаарай. Ялангуяа, нийтийн хэрэглэгчдэд файл байршуулахыг зөвшөөрөх тухайд сайн бодох хэрэгтэй. Таны FTP сайт лицензгүй програм хангамжуудыг наймаалцдаг талбар болох, эсвэл түүнээс ч муу зүйл тохиолдохыг үгүйсгэхгүй. Хэрэв нийтийн FTP байршуулалтыг зөвшөөрөх шаардлагатай бол, файлуудыг нягталж үзэхээс нааш бусад нийтийн хэрэглэгчид тэдгээр файлыг унших эрхгүй байхаар тохируулж өгөх хэрэгтэй.</p></div></div></div></div><div class=sect1><h2 id=network-samba>30.9. Microsoft® Windows® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)<a class=anchor href=#network-samba></a></h2><div class=sectionbody><div class=sect2><h3 id=_ерөнхий_агуулга>30.9.1. Ерөнхий Агуулга<a class=anchor href=#_ерөнхий_агуулга></a></h3><div class=paragraph><p>Samba бол Microsoft® Windows® харилцагчдад файл болон хэвлэх үйлчилгээг үзүүлдэг, өргөн хэрэглэгддэг нээлттэй эхийн програм хангамжийн багц юм. Ийм төрлийн харилцагчид FreeBSD файлын орчинд холбогдож, файлуудыг өөрийн дискэн дээр байгаа юм шиг, эсвэл FreeBSD хэвлэгчийг өөрийн дотоод хэвлэгч шиг хэрэглэх боломжтой болдог.</p></div><div class=paragraph><p>Samba програм хангамжийн багцууд таны FreeBSD суулгах дискэнд орсон байгаа. Хэрэв та анх FreeBSD суулгахдаа Samba-г хамт суулгаагүй бол, <a class=package href=https://cgit.freebsd.org/ports/tree/net/samba34/>net/samba34</a> порт эсвэл багцаас суулгаж болно.</p></div></div><div class=sect2><h3 id=_тохиргоо_3>30.9.2. Тохиргоо<a class=anchor href=#_тохиргоо_3></a></h3><div class=paragraph><p>Samba-н анхдагч тохиргооны файл <span class=filename>/usr/local/shared/examples/samba34/smb.conf.default</span> гэж суугдсан байдаг. Энэ файлыг <span class=filename>/usr/local/etc/smb.conf</span> нэртэй хуулаад, Samba-г ашиглаж эхлэхээсээ өмнө өөртөө тааруулан засварлах ёстой.</p></div><div class=paragraph><p><span class=filename>smb.conf</span> файл нь Windows® харилцагчтай хуваалцах хүсэлтэй "файл системийн хэсэг" ба хэвлэгчийн тодорхойлолт гэх зэрэг Samba-н ажиллах үеийн тохиргооны мэдээллийг агуулж байдаг. Samba багц дотор <span class=filename>smb.conf</span> файл дээр ажиллах хялбар арга замыг хангасан swat нэртэй вэб дээр суурилсан хэрэгсэл хамт ирдэг.</p></div><div class=sect3><h4 id=_samba_г_вэбээр_удирдах_хэрэгсэл_swat>30.9.2.1. Samba-г Вэбээр Удирдах Хэрэгсэл (SWAT)<a class=anchor href=#_samba_г_вэбээр_удирдах_хэрэгсэл_swat></a></h4><div class=paragraph><p>Samba Web Administration Tool буюу Samba-г Вэбээр Удирдах Хэрэгсэл (SWAT) нь inetd-н дэмон хэлбэрээр ажиллана. Тиймээс <a href=#network-inetd>inetd"Супер-Сервер"</a> дээр харуулсан шиг inetd-г идэвхжүүлж Samba-г swat ашиглан тохируулахын өмнө <span class=filename>/etc/inetd.conf</span> доторх дараах мөрийг ил гаргах шаардлагатай:</p></div><div class="literalblock programlisting"><div class=content><pre>swat   stream  tcp     nowait/400      root    /usr/local/sbin/swat    swat</pre></div></div><div class=paragraph><p><a href=#network-inetd-reread>inetd-н тохиргооны файлыг дахин ачаалах нь</a> хэсэгт тайлбарласан ёсоор, энэ тохиргооны файлд өөрчлөлт оруулсны дараа inetd-ийн тохиргоог дахин ачаалах шаардлагатай.</p></div><div class=paragraph><p>swat-г <span class=filename>inetd.conf</span> дотор идэвхжүүлсний дараа, вэб хөтөч ашиглан <a href=http://localhost:901>http://localhost:901</a> хаяганд холбогдоно. Та эхлээд системийн <code>root</code> дансаар нэвтэрч орох ёстой.</p></div><div class=paragraph><p>Samba-н тохиргооны үндсэн хуудсанд амжилттай нэвтэрч орсон бол, системийн баримтуудаар аялах, эсвэл <b class=menuref>Globals</b> цэсэн дээр дарж тохиргоог хийх боломжтой болно. <b class=menuref>Globals</b> хэсэг <span class=filename>/usr/local/etc/smb.conf</span> файлын <code>[global]</code> хэсэгт байгаа хувьсагчдад харгалзана.</p></div></div><div class=sect3><h4 id=_глобал_тохиргоо>30.9.2.2. Глобал тохиргоо<a class=anchor href=#_глобал_тохиргоо></a></h4><div class=paragraph><p>swat-г хэрэглэж байгаа эсвэл <span class=filename>/usr/local/etc/smb.conf</span>-г гараараа засаж байгаа аль нь ч бай, Samba-г тохируулах явцад тааралдах хамгийн эхний директивууд бол:</p></div><div class=dlist><dl><dt class=hdlist1><code>workgroup</code></dt><dd><p>Энэ нь сервер рүү хандах компьютеруудын NT Домэйн-Нэр эсвэл Ажлын бүлгийн-Нэр.</p></dd><dt class=hdlist1><code>netbios name</code></dt><dd><p>Энэ директив Samba серверийн NetBIOS нэрийг заана. Анхдагч байдлаар, хостын DNS нэрийн эхний хэсэгтэй адил байна.</p></dd><dt class=hdlist1><code>серверийн мөр</code></dt><dd><p>Энэ директив <code>net view</code> тушаалын хариуд гарч ирэх эсвэл зарим сүлжээний хэрэгслүүд дээр энэ серверийг төлөөлж гарах мөрийг заана.</p></dd></dl></div></div><div class=sect3><h4 id=_аюулгүй_байдлын_тохиргоо>30.9.2.3. Аюулгүй байдлын Тохиргоо<a class=anchor href=#_аюулгүй_байдлын_тохиргоо></a></h4><div class=paragraph><p><span class=filename>/usr/local/etc/smb.conf</span> доторх хамгийн чухал хоёр тохиргоо бол аюулгүй байдлын загвар, болон харилцагчдын нэвтрэх үгийн арын шугамны хэлбэр юм. Дараах директивүүд эдгээр тохируулгуудыг хянана:</p></div><div class=dlist><dl><dt class=hdlist1><code>security</code></dt><dd><p>Энд хамгийн элбэг хэрэглэгддэг хоёр сонголт бол <code>security = share</code> ба <code>security = user</code> юм. Хэрэв танай харилцагч нар FreeBSD машин дээр хэрэглэдэг хэрэглэгчийн нэртэй ижил нэрийг ашигладаг бол, user түвшний аюулгүй байдлыг сонгохыг хүсэж байж магадгүй. Энэ бол аюулгүй байдлын анхдагч бодлого бөгөөд эх үүсвэрт хандахаас өмнө харилцагчийг системд нэвтэрч орохыг шаардана.</p><div class=paragraph><p>share түвшний аюулгүй байдалд, харилцагчид эх үүсвэрт хандахаас өмнө хүчин төгөлдөр хэрэглэгчийн нэр болон нэвтрэх үгээр сервер рүү нэвтрэн орох шаардлагагүй байдаг. Энэ бол Samba-н хуучин хувилбаруудын хувьд аюулгүй байдлын анхдагч загвар байсан.</p></div></dd><dt class=hdlist1><code>passdb backend</code></dt><dd><div class=paragraph><p>+
Samba-д хэд хэдэн төрлийн арын шугамны магадлах загварууд байдаг. Харилцагчдыг LDAP, NIS, SQL өгөгдлийн сан, эсвэл хувиргасан нэвтрэх үгийн файлаар магадлаж болно. Анхдагч магадлах арга бол <code>smbpasswd</code> бөгөөд бид зөвхөн энэ талаар авч үзэх болно.</p></div></dd></dl></div><div class=paragraph><p>Анхдагч <code>smbpasswd</code> арын шугамыг хэрэглэж байгаа гэж үзвэл, Samba харилцагчдыг магадлахын тулд <span class=filename>/usr/local/etc/samba/smbpasswd</span> файлыг эхлээд үүсгэх ёстой. Хэрэв UNIX® хэрэглэгчийн эрхээр Windows® харилцагчаас ханддаг байх шаардлагатай бол, дараах тушаалыг хэрэглэнэ:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># smbpasswd -a username</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Энэ үед санал болгодог арын мэдээллийн сан нь <code>tdbsam</code> бөгөөд хэрэглэгчийн бүртгэлийг нэмэхийн тулд дараах тушаалыг ашиглах ёстой:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pdbedit -a -u username</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Тохируулгуудын талаар нэмэлт мэдээллийг <a href=http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/>Албан ёсны Samba HOWTO</a>-с олж авна уу. Энд цухас дурдсан үндсэн мэдлэгтэйгээр Samba-г ажиллуулж эхлэх чадвартай байх ёстой.</p></div></div></div><div class=sect2><h3 id=_samba_г_эхлүүлэх_нь>30.9.3. Samba-г Эхлүүлэх нь<a class=anchor href=#_samba_г_эхлүүлэх_нь></a></h3><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/net/samba34/>net/samba34</a> портод Samba-г удирдахад зориулсан шинэ эхлэл скрипт орсон байгаа. Энэ скриптийг идэвхжүүлэхийн тулд, өөрөөр хэлбэл энэ скриптийг ашиглан Samba-г эхлүүлэх, зогсоох болон дахин эхлүүлдэг болохын тулд, <span class=filename>/etc/rc.conf</span> файл дотор дараах мөрийг нэмж бичих хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>samba_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Эсвэл илүү нарийнаар доор дурдсан шиг тохируулж болно:</p></div><div class="literalblock programlisting"><div class=content><pre>nmbd_enable=&#34;YES&#34;</pre></div></div><div class="literalblock programlisting"><div class=content><pre>smbd_enable=&#34;YES&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ингэснээр мөн Samba-г систем ачаалах үед автоматаар эхлүүлдэг болгоно.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Үүний дараа хүссэн үедээ Samba-г эхлүүлэхийн тулд дараах тушаалыг өгөхөд хангалттай:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service samba start</span>
Starting SAMBA: removing stale tdbs :
Starting nmbd.
Starting smbd.</code></pre></div></div><div class=paragraph><p>rc скриптийг ашиглах талаар дэлгэрэнгүй мэдээллийг <a href=../config/#configtuning-rcd>FreeBSD дээр rc(8) ашиглах нь</a> хэсгээс авна уу.</p></div><div class=paragraph><p>Samba нь үнэн хэрэгтээ гурван тусдаа дэмоноос тогтоно. nmbd ба smbd дэмонууд <span class=filename>samba</span> скриптээр эхлүүлдэг болохыг та анзаарах болно. Хэрэв <span class=filename>smb.conf</span> дотор winbind нэр тайлах үйлчилгээг идэвхжүүлсэн бол winbindd дэмон бас ажиллаж эхэлсэн болохыг харж болно.</p></div><div class=paragraph><p>Samba-г хүссэн үедээ зогсоохын тулд дараах тушаалыг өгөхөд хангалттай:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service samba stop</span></code></pre></div></div><div class=paragraph><p>Samba бол Microsoft® Windows® сүлжээтэй өргөн хүрээнд нэгдмэл ажиллах боломжийг олгодог нарийн төвөгтэй програмын цогц юм. Энд тайлбарласан үндсэн суулгацаас хальсан функцуудын талаар дэлгэрэнгүй мэдээллийг <a href=http://www.samba.org>http://www.samba.org</a> хаягаар орж авна уу.</p></div></div></div></div><div class=sect1><h2 id=network-ntp>30.10. ntpd-р Цаг Тааруулах нь<a class=anchor href=#network-ntp></a></h2><div class=sectionbody><div class=sect2><h3 id=_ерөнхий_агуулга_2>30.10.1. Ерөнхий Агуулга<a class=anchor href=#_ерөнхий_агуулга_2></a></h3><div class=paragraph><p>Цаг хугацаа өнгөрөхөд компьютерийн цаг зөрөх хандлагатай байдаг. Network Time Protocol буюу Сүлжээний Цагийн Протоколыг(NTP) цагийг зөв байлгах, зөв ажиллуулахад хэрэглэдэг.</p></div><div class=paragraph><p>Олон тооны Интернэт үйлчилгээнүүд компьютерийн цагаас хамаарч, эсвэл хүртэж ажилладаг. Жишээлбэл, вэб сервер тодорхой цагаас хойш өөрчлөлт орсон файлуудыг илгээх хүсэлт хүлээн авсан байж болох юм. Дотоод сүлжээний орчинд, нэг файл серверээр үйлчлүүлж байгаа компьютеруудын хувьд файлын цагийн тамга дүйж байхын тулд тэдгээрийн цагууд хоорондоо тохирч байх ёстой. <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> зэрэг үйлчилгээнүүд тодорхой цагт тушаалыг гүйцэтгэхийн тулд системийн цагт бүрэн найдаж ажилладаг.</p></div><div class=paragraph><p>FreeBSD <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> NTP серверийн хамт ирдэг. <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> NTP нь таны машины цагийг тааруулахын тулд бусад NTP серверүүдээс асуух эсвэл бусдад цагийн мэдээллийг түгээх үйлчилгээг үзүүлдэг.</p></div></div><div class=sect2><h3 id=_зохимжтой_ntp_серверийг_сонгох_нь>30.10.2. Зохимжтой NTP Серверийг Сонгох нь<a class=anchor href=#_зохимжтой_ntp_серверийг_сонгох_нь></a></h3><div class=paragraph><p>Цагаа тааруулахын тулд, та нэг болон түүнээс дээш тооны NTP серверийг хэрэглэх хэрэгтэй болно. Танай сүлжээний администратор эсвэл ISP үүнд зориулсан NTP сервертэй байж болох юм-тийм эсэхийг тэдний заавраас шалгана уу. <a href=http://support.ntp.org/bin/view/Servers/WebHome>нийтэд зориулсан NTP серверүүдийн онлайн жагсаалт</a>ыг ашиглан өөртөө ойрхон байгаа NTP серверийг олно уу. Сонгож авсан серверийнхээ ашиглах журмыг судлаарай. Мөн хэрэв шаардлагатай бол зөвшөөрөл аваарай.</p></div><div class=paragraph><p>Таны сонгосон сервер холбогдох боломжгүй, эсвэл цаг нь бүрэн итгэж болохооргүй үе гарах тул, хоорондоо хамааралгүй хэд хэдэн NTP серверүүдийг сонгох нь хамгийн зөв сонголт болдог. <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> бусад серверээс хүлээн авсан хариултуудыг маш ухаалгаар хэрэглэдэг-итгэж болох серверүүдийг илүү авч үздэг.</p></div></div><div class=sect2><h3 id=_өөрийн_машиныг_тохируулах_нь>30.10.3. Өөрийн Машиныг Тохируулах нь<a class=anchor href=#_өөрийн_машиныг_тохируулах_нь></a></h3><div class=sect3><h4 id=_үндсэн_тохиргоо>30.10.3.1. Үндсэн Тохиргоо<a class=anchor href=#_үндсэн_тохиргоо></a></h4><div class=paragraph><p>Хэрэв та машин асахад цагаа тааруулах хүсэлтэй байгаа бол, <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a>-г ашиглаж болно. Энэ нь олон дахин тааруулах шаардлагагүй, ойр ойрхон асааж унтраадаг ширээний компьютерийн хувьд зохимжтой байж болох юм. Гэхдээ ихэнх машины хувьд <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a>-г ажиллуулах нь зүйтэй.</p></div><div class=paragraph><p>Систем ачаалах үед <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a>-г ашиглах нь <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> ажиллаж байгаа машинуудын хувьд зөв санаа юм. Учир нь <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> програм нь цагийг алгуур өөрчилдөг байхад, <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a> машины одоогийн цаг болон зөв цагын хооронд хир их ялгаа байгааг үл хайхран цагийг тааруулдаг.</p></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a>-г систем ачаалах үед идэвхжүүлэхийн тулд, <code>ntpdate_enable="YES"</code> гэсэн мөрийг <span class=filename>/etc/rc.conf</span> файлд нэмэх хэрэгтэй. Мөн цаг авах гэж байгаа бүх серверүүд болон <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a>-д өгөх тугуудыг <code>ntpdate_flags</code>-д зааж өгөх хэрэгтэй.</p></div></div><div class=sect3><h4 id=_ерөнхий_тохиргоо>30.10.3.2. Ерөнхий Тохиргоо<a class=anchor href=#_ерөнхий_тохиргоо></a></h4><div class=paragraph><p>NTP-г <span class=filename>/etc/ntp.conf</span> файлын тусламжтай, <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a>-д заасан хэлбэрээр тохируулна. Доор хялбар жишээг үзүүлэв:</p></div><div class="literalblock programlisting"><div class=content><pre>server ntplocal.example.com prefer
server timeserver.example.org
server ntp2a.example.net

driftfile /var/db/ntp.drift</pre></div></div><div class=paragraph><p><code>server</code> тохируулгаар ямар серверүүдийг ашиглахыг заана. Нэг мөрөнд нэг серверийг бичнэ. Хэрэв аль нэг серверийг <code>prefer</code> гэсэн аргументаар онцолсон бол, <code>ntplocal.example.com</code> шиг, тэр серверийг бусдаас илүүд үзнэ. Илүүд үзсэн серверээс ирсэн хариу бусад серверүүдийн хариунаас мэдэгдэхүйцээр зөрж байгаа үед хариуг тоохгүй өнгөрөөнө. Түүнээс бусад тохиолдолд бусад серверийн хариуг үл харгалзан тэр серверийн хариуг хэрэглэх болно. <code>prefer</code> аргументийг ер нь өндөр нарийвчлалтай, тусгай цаг хянадаг тоног төхөөрөмж дээр тулгуурласан NTP серверийн хувьд хэрэглэнэ.</p></div><div class=paragraph><p><code>driftfile</code> тохируулгаар ямар файлд системийн цагийн алдах зөрүү утгыг хадгалж байгааг заана. <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> програм энэ утгыг ашиглан цагийн алдсан зөрүүг автоматаар нөхнө. Ингэснээр цагийн бүх гадаад эх үүсвэрүүдтэй холбоо тогтоох боломжгүй болсон үед, хэсэг хугацааны туршид ч гэсэн цагийг харьцангуй зөв ажиллуулах боломжийг олгоно.</p></div><div class=paragraph><p><code>driftfile</code> тохируулгаар ямар файлд таны зааж өгсөн NTP серверүүдийн өмнөх хариунуудын тухай мэдээллийг хадгалж байгааг заана. Энэ файлд NTP-н дотоод үйл ажиллагааны мэдээллийг хадгалдаг. Энэ мэдээллийг өөр ямар ч процесс өөрчлөх ёсгүй.</p></div></div><div class=sect3><h4 id=_өөрийн_сервер_рүү_хандах_хандалтыг_хянах_нь>30.10.3.3. Өөрийн Сервер рүү Хандах Хандалтыг Хянах нь<a class=anchor href=#_өөрийн_сервер_рүү_хандах_хандалтыг_хянах_нь></a></h4><div class=paragraph><p>Анхдагч байдлаар, таны NTP сервер рүү Интернэтэд байгаа бүх хост хандах боломжтой. <span class=filename>/etc/ntp.conf</span> файл дотор <code>restrict</code> тохируулгаар ямар машинууд таны сервер рүү хандаж болохыг хянаж болно.</p></div><div class=paragraph><p>Хэрэв та өөрийн NTP сервер рүү хэнийг ч хандуулахыг хүсэхгүй байгаа бол <span class=filename>/etc/ntp.conf</span> файл дотор дараах мөрийг нэмэх хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>restrict default ignore</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Энэ нь таны серверээс өөрийн чинь локал тохиргоонд жагсаагдсан аль ч сервер үрүү хандах боломжийг бас хаана. Хэрэв та өөрийн NTP серверийг гадаад NTP сервертэй синхрончлох хэрэгтэй бол ямар нэг серверийг зөвшөөрөх ёстой. Дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a> гарын авлагаас үзнэ үү.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Хэрэв та зөвхөн өөрийн сүлжээнд байгаа машинуудыг таны сервертэй цагаа тааруулахыг зөвшөөрөөд, гэхдээ таны серверийн тохиргоог өөрчлөх болон тэгш эрхтэй серверүүд шиг цагийн мэдээллийг хуваахыг зөвшөөрөхгүй бол дээр дурдсаны оронд:</p></div><div class="literalblock programlisting"><div class=content><pre>restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</pre></div></div><div class=paragraph><p>гэсэн мөрийг бичнэ үү. Энд <code>192.168.1.0</code> нь таны сүлжээний IP хаяг, <code>255.255.255.0</code> нь таны сүлжээний баг болно.</p></div><div class=paragraph><p><span class=filename>/etc/ntp.conf</span> дотор олон тооны <code>restrict</code> тохируулгууд байж болно. Илүү дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a>-н <code>Хандалтыг Удирдах Дэмжлэг</code> дэд хэсгээс үзнэ үү.</p></div></div></div><div class=sect2><h3 id=_ntp_серверийг_ажиллуулах_нь>30.10.4. NTP Серверийг Ажиллуулах нь<a class=anchor href=#_ntp_серверийг_ажиллуулах_нь></a></h3><div class=paragraph><p>NTP серверийг систем ачаалах үед эхлүүлэхийн тулд, <code>ntpd_enable="YES"</code> гэсэн мөрийг <span class=filename>/etc/rc.conf</span> файлд нэмж бичих хэрэгтэй. Хэрэв <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a>-д нэмэлт тугуудыг өгөх хүсэлтэй бол, <span class=filename>/etc/rc.conf</span> файлд байгаа <code>ntpd_flags</code> параметрийг засах хэрэгтэй.</p></div><div class=paragraph><p>Машиныг дахин ачаалалгүйгээр серверийг эхлүүлэхийн тулд, <code>ntpd</code> тушаалыг <span class=filename>/etc/rc.conf</span>-д заасан <code>ntpd_flags</code> нэмэлт параметрүүдийн хамтаар өгөх хэрэгтэй. Жишээлбэл:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ntpd -p /var/run/ntpd.pid</span></code></pre></div></div></div><div class=sect2><h3 id=_ntpd_г_түр_зуурын_интернэт_холболттой_үед_хэрэглэх_нь>30.10.5. ntpd-г Түр зуурын Интернэт Холболттой үед Хэрэглэх нь<a class=anchor href=#_ntpd_г_түр_зуурын_интернэт_холболттой_үед_хэрэглэх_нь></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> програм зөв ажиллахын тулд байнгын Интернэт холболт шаардлагагүй. Гэхдээ, хэрэгцээтэй үедээ гадагшаа залгадаг тийм төрлийн түр зуурын холболттой бол, NTP трафикийг гадагшаа залгах болон холболтыг бариад байхаас сэргийлэх нь чухал. Хэрэв та PPP хэрэглэдэг бол, <span class=filename>/etc/ppp/ppp.conf</span> файл дотор байгаа <code>filter</code> директивийг ашиглаж болно. Жишээ нь:</p></div><div class="literalblock programlisting"><div class=content><pre> set filter dial 0 deny udp src eq 123
 # Prevent NTP traffic from initiating dial out
 set filter dial 1 permit 0 0
 set filter alive 0 deny udp src eq 123
 # Prevent incoming NTP traffic from keeping the connection open
 set filter alive 1 deny udp dst eq 123
 # Prevent outgoing NTP traffic from keeping the connection open
 set filter alive 2 permit 0/0 0/0</pre></div></div><div class=paragraph><p>Дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=ppp&amp;sektion=8&amp;format=html">ppp(8)</a>-н <code>PACKET FILTERING</code> хэсгээс болон <span class=filename>/usr/shared/examples/ppp/</span>-д байгаа жишээнүүдээс авч болно.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Зарим Интернэт үйлчилгээ үзүүлэгчид бага дугаартай портуудыг хаасан байдаг бөгөөд ингэснээр хариу нь таны машинд хэзээ ч хүрэхгүй болж NTP ажиллахгүй болдог.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_цааших_мэдээлэл>30.10.6. Цааших Мэдээлэл<a class=anchor href=#_цааших_мэдээлэл></a></h3><div class=paragraph><p>NTP серверийн баримтжуулалтыг HTML хэлбэрээр <span class=filename>/usr/shared/doc/ntp/</span>-с олж үзэж болно.</p></div></div></div></div><div class=sect1><h2 id=network-syslogd>30.11. <code>syslogd</code> ашиглан алсын хост руу бүртгэх нь<a class=anchor href=#network-syslogd></a></h2><div class=sectionbody><div class=paragraph><p>Системийн бүртгэлтэй ажиллах нь аюулгүй байдлын болоод системийг удирдах ажиллагааны чухал асуудал юм. Хостууд дунд зэргийн эсвэл том сүлжээнд тархсан эсвэл тэдгээр нь төрөл бүрийн олон янзын сүлжээний хэсэг болсон байх тохиолдолд эдгээр олон хостын бүртгэлийн файлуудыг монитор хийх нь ихээхэн төвөгтэй болдог. Энэ тохиолдолд алсаас бүртгэхийг тохируулах нь бүх л процессийг илүү тухтай болгодог.</p></div><div class=paragraph><p>Тусгайлан заасан бүртгэх хост руу төвлөрүүлэн бүртгэх нь бүртгэлийн файлын удирдлагатай холбоотой зарим хүндрэлүүдийг багасгаж чаддаг. <a href="https://man.freebsd.org/cgi/man.cgi?query=syslogd&amp;sektion=8&amp;format=html">syslogd(8)</a> болон <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a> зэрэг FreeBSD-ийн эх хэрэгслүүдийг ашиглан бүртгэлийн файлын цуглуулга, нийлүүлэлт болон багасгалтыг нэг газар тохируулж болдог. Дараах жишээ тохиргоонд <code>logserv.example.com</code> гэж нэрлэгдсэн хост <code>A</code> локал сүлжээнээс бүртгэлийн мэдээллийг цуглуулах болно. <code>logclient.example.com</code> гэж нэрлэгдсэн хост <code>B</code> бүртгэлийн мэдээллийг сервер систем рүү дамжуулах болно. Жинхэнэ тохиргоонд эдгээр хостууд зохих дамжуулах болон буцах DNS эсвэл <span class=filename>/etc/hosts</span> файлд оруулгууд шаардана. Тэгэхгүй бол өгөгдлийг сервер хүлээн авахгүй татгалзах болно.</p></div><div class=sect2><h3 id=_бүртгэлийн_серверийн_тохиргоо>30.11.1. Бүртгэлийн серверийн тохиргоо<a class=anchor href=#_бүртгэлийн_серверийн_тохиргоо></a></h3><div class=paragraph><p>Бүртгэлийн серверүүд нь алсын хостуудаас бүртгэлийн мэдээллийг хүлээн авахаар тохируулагдсан машинууд юм. Ихэнх тохиолдолд энэ нь тохиргоог хялбар болгох зорилготой бөгөөд зарим тохиолдолд энэ нь удирдлагыг арай сайжруулж байгаа хэлбэр байж болох юм. Аль ч шалтгаан байсан гэсэн үргэлжлүүлэхээсээ өмнө цөөн хэдэн шаардлагыг дурдъя.</p></div><div class=paragraph><p>Зөв тохируулсан бүртгэлийн сервер дараах хамгийн бага шаардлагыг хангасан байх шаардлагатай:</p></div><div class=ulist><ul><li><p>Клиент болон сервер дээр 514-р порт руу UDP-г дамжуулах боломжийг бүрдүүлэх галт хананы дүрэм;</p></li><li><p>Клиент машинаас алсын мэдэгдлүүдийг хүлээн авахаар syslogd тохируулагдсан байх;</p></li><li><p>syslogd сервер болон бүх клиент машинууд нь дамжуулах болон буцах DNS-ийн хувьд зөв оруулгуудтай эсвэл <span class=filename>/etc/hosts</span> файлд зөв тохируулсан байх шаардлагатай.</p></li></ul></div><div class=paragraph><p>Бүртгэлийн серверийг тохируулахын тулд клиент нь <span class=filename>/etc/syslog.conf</span>-д нэмэгдсэн байх ёстой бөгөөд бүртгэх боломжийг зааж өгсөн байх шаардлагатай:</p></div><div class="literalblock programlisting"><div class=content><pre>+logclient.example.com
*.*     /var/log/logclient.log</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Төрөл бүрийн дэмжигдсэн, байгаа <em>facility</em> буюу <em>боломжуудын</em> талаарх дэлгэрэнгүй мэдээллийг <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5&amp;format=html">syslog.conf(5)</a> гарын авлагын хуудаснаас олж болно.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Нэмсэний дараа бүх <code>facility</code> мэдэгдлүүд өмнө заасан <span class=filename>/var/log/logclient.log</span> файл руу бүртгэгдэх болно.</p></div><div class=paragraph><p>Сервер машин дараах тохиргоог бас <span class=filename>/etc/rc.conf</span> файлдаа хийсэн байх шаардлагатай:</p></div><div class="literalblock programlisting"><div class=content><pre>syslogd_enable=&#34;YES&#34;
syslogd_flags=&#34;-a logclient.example.com -v -v&#34;</pre></div></div><div class=paragraph><p>Эхний тохиргоо нь <code>syslogd</code> демоныг эхлүүлэхийг заах бөгөөд хоёр дахь нь клиетийн өгөгдлийг энэ сервер дээр хүлээн авахыг зөвшөөрнө. Сүүлийн <code>-v -v</code> хэсэг нь бүртгэж байгаа мэдэгдлүүдийн гаралтыг илүү дэлгэрэнгүй болгоно. Энэ нь facility-г тохируулахад ихээхэн ашигтай байдаг. Администраторууд ямар төрлийн мэдэгдлүүд ямар facility-р бүртгэгдэж байгааг хянах боломжийг энэ нь бүрдүүлдэг.</p></div><div class=paragraph><p>Олон клиентээс бүртгэлийг хүлээн авахын тулд олон <code>-a</code> сонголтыг зааж өгч болно. IP хаягууд болон бүхэл сүлжээний блокийг бас зааж өгч болох бөгөөд боломжит сонголтуудын бүх жагсаалтыг <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog&amp;sektion=3&amp;format=html">syslog(3)</a> гарын авлагын хуудаснаас үзнэ үү.</p></div><div class=paragraph><p>Төгсгөлд нь бүртгэлийн файлыг үүсгэх хэрэгтэй. Хэрэглэгсэн арга нь хамаагүй боловч <a href="https://man.freebsd.org/cgi/man.cgi?query=touch&amp;sektion=1&amp;format=html">touch(1)</a> үүнтэй адил тохиолдлуудад сайн ажилладаг:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># touch /var/log/logclient.log</span></code></pre></div></div><div class=paragraph><p>Энэ үед <code>syslogd</code> демоныг дахин ажиллуулж шалгах ёстой:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service syslogd restart</span>
<span class=c># pgrep syslog</span></code></pre></div></div><div class=paragraph><p>Хэрэв PID буцаагдвал сервер нь амжилттай дахин эхэлсэн гэсэн үг бөгөөд клиентийн тохиргоо ажиллаж эхэлнэ. Хэрэв сервер дахин эхлээгүй бол ямар нэг зүйл болсон эсэхийг <span class=filename>/var/log/messages</span> файл дахь мэдэгдлүүдээс шалгаарай.</p></div></div><div class=sect2><h3 id=_клиентийн_бүртгэлийн_тохиргоо>30.11.2. Клиентийн бүртгэлийн тохиргоо<a class=anchor href=#_клиентийн_бүртгэлийн_тохиргоо></a></h3><div class=paragraph><p>Бүртгэл илгээгч клиент нь өөр дээрээ хуулбараа үлдээхээс гадна бас бүртгэлийн сервер рүү бүртгэлийн мэдээллийг явуулдаг машин юм.</p></div><div class=paragraph><p>Бүртгэлийн серверүүдийн нэгэн адил клиентүүд нь бас хамгийн бага шаардлагыг хангасан байх ёстой:</p></div><div class=ulist><ul><li><p><a href="https://man.freebsd.org/cgi/man.cgi?query=syslogd&amp;sektion=8&amp;format=html">syslogd(8)</a> нь бүртгэлийн сервер хүлээн авах ёстой заасан төрлийн мэдэгдлүүдийг бүртгэлийн сервер рүү илгээхээр тохируулагдсан байх ёстой;</p></li><li><p>Галт хана UDP пакетуудыг 514-р порт руу зөвшөөрөх ёстой;</p></li><li><p>Дамжуулах болон буцах DNS тохируулагдсан эсвэл <span class=filename>/etc/hosts</span> файл зохих оруулгуудтай байх шаардлагатай.</p></li></ul></div><div class=paragraph><p>Клиентийн тохиргоо нь серверийнхтэй харьцуулах юм бол арай зөөлөн байдаг. Клиент машин нь <span class=filename>/etc/rc.conf</span> файлдаа дараахийг нэмж өгсөн байх шаардлагатай байдаг:</p></div><div class="literalblock programlisting"><div class=content><pre>syslogd_enable=&#34;YES&#34;
syslogd_flags=&#34;-s -v -v&#34;</pre></div></div><div class=paragraph><p>Өмнө дурдсаны адил эдгээр тохиргоонууд нь <code>syslogd</code> демоныг ачаалж эхлэхэд эхлүүлэхийг заах бөгөөд бүртгэх мэдэгдлүүдийг дэлгэрэнгүйгээр харуулах болно. <code>-s</code> сонголт нь бусад хостуудаас бүртгэлийг энэ клиент хүлээн авахаас сэргийлдэг.</p></div><div class=paragraph><p>Facility нь мэдэгдэл үүсгэгдэж байгаа тэр системийн хэсгийг тайлбарладаг. Жишээ нь ftp болон ipfw нь хоёулаа facility юм. Эдгээр хоёр үйлчилгээний хувьд бүртгэлийн мэдэгдлүүд үүсэхэд ихэвчлэн дээрх хоёр хэрэгслийг бүртгэлийн мэдэгдэл бүртээ агуулсан байдаг. Facility нь бүртгэлийн мэдэгдэл ямар чухлыг тэмдэглэхэд хэрэглэгдэх дараалал эсвэл түвшинтэй байдаг. Хамгийн түгээмэл нь <code>warning</code> ба <code>info</code> юм. Боломжит бүх facilty болон дарааллуудын жагсаалтыг <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog&amp;sektion=3&amp;format=html">syslog(3)</a> гарын авлагын хуудаснаас үзнэ үү.</p></div><div class=paragraph><p>Бүртгэлийн серверийг клиентийн <span class=filename>/etc/syslog.conf</span> файлд заасан байх шаардлагатай. Энэ жишээн дээр алсын сервер рүү бүртгэлийн өгөгдлийг илгээхийн тулд <code>@</code> тэмдгийг ашигласан бөгөөд доор дурдсан мөртэй төстэй харагдана:</p></div><div class="literalblock programlisting"><div class=content><pre>*.*		@logserv.example.com</pre></div></div><div class=paragraph><p>Нэмсэний дараа өөрчлөлтийг хүчинтэй болгохын тулд <code>syslogd</code>-г дахин эхлүүлэх шаардлагатай:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service syslogd restart</span></code></pre></div></div><div class=paragraph><p>Сүлжээгээр бүртгэлийн мэдэгдлүүдийг илгээж байгаа эсэхийг тест хийхийн тулд клиент дээр <a href="https://man.freebsd.org/cgi/man.cgi?query=logger&amp;sektion=1&amp;format=html">logger(1)</a>-г ашиглаж мэдэгдлийг <code>syslogd</code> руу илгээнэ:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># logger &#34;Test message from logclient&#34;</span></code></pre></div></div><div class=paragraph><p>Энэ мэдэгдэл клиент дээрх <span class=filename>/var/log/messages</span> болон сервер дээрх <span class=filename>/var/log/logclient.log</span> файлд одоо орсон байх ёстой.</p></div></div><div class=sect2><h3 id=_бүртгэлийн_серверүүдийг_дибаг_хийх>30.11.3. Бүртгэлийн серверүүдийг дибаг хийх<a class=anchor href=#_бүртгэлийн_серверүүдийг_дибаг_хийх></a></h3><div class=paragraph><p>Зарим тохиолдолд хэрэв бүртгэлийн сервер дээр мэдэгдлүүд нь хүлээн авагдаагүй бол дибаг хийх шаардлагатай байж болох юм. Хэд хэдэн шалтгаанаас болж ийм байдалд хүрч болох юм. Хамгийн түгээмэл хоёр нь сүлжээний холболтын болон DNS-тэй холбоотой асуудлууд юм. Эдгээр тохиолдлуудыг тест хийхийн тулд хоёр хост хоёулаа <span class=filename>/etc/rc.conf</span> файлд заагдсан хостын нэрээрээ нэг нэгэн рүүгээ хүрч чадаж байгааг шалгах хэрэгтэй. Хэрэв энэ зөв ажиллаж байгаа бол <span class=filename>/etc/rc.conf</span> файлд <code>syslogd_flags</code> тохиргоог өөрчлөх шаардлагатай болно.</p></div><div class=paragraph><p>Дараах жишээн дээр <span class=filename>/var/log/logclient.log</span> нь хоосон бөгөөд <span class=filename>/var/log/messages</span> файл нь амжилтгүй болсон шалтгааныг харуулна. Дибаг хийж байгаа гаралтыг илүү дэлгэрэнгүй харуулахын тулд дараах жишээтэй төстэйгөөр <code>syslogd_flags</code> тохируулгыг өөрчилж дахин ачаалах хэрэгтэй:</p></div><div class="literalblock programlisting"><div class=content><pre>syslogd_flags=&#34;-d -a logclien.example.com -v -v&#34;</pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service syslogd restart</span></code></pre></div></div><div class=paragraph><p>Доор дурдсантай төстэй дибаг өгөгдөл дахин ачаалсны дараа дэлгэц дээр хурдан гарч өнгөрнө:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>logmsg: pri 56, flags 4, from logserv.example.com, msg syslogd: restart
syslogd: restarted
logmsg: pri 6, flags 4, from logserv.example.com, msg syslogd: kernel boot file is /boot/kernel/kernel
Logging to FILE /var/log/messages
syslogd: kernel boot file is /boot/kernel/kernel
cvthname<span class=o>(</span>192.168.1.10<span class=o>)</span>
validate: dgram from IP 192.168.1.10, port 514, name logclient.example.com<span class=p>;</span>
rejected <span class=k>in </span>rule 0 due to name mismatch.</code></pre></div></div><div class=paragraph><p>Мэдэгдлүүд нэр зөрснөөс болоод дамжихгүй байгааг эндээс харж болно. Тохиргоог алхам алхмаар дахин шалгасны дараа <span class=filename>/etc/rc.conf</span> дахь дараах мөр буруу бичигдсэн бөгөөд асуудалтай байгааг олж харна:</p></div><div class="literalblock programlisting"><div class=content><pre>syslogd_flags=&#34;-d -a logclien.example.com -v -v&#34;</pre></div></div><div class=paragraph><p>Энэ мөр <code>logclien</code> биш <code>logclient</code> гэдгийг агуулсан байх ёстой. Зөв болгож засан дахин ачаалсны дараа хүлээж байсан үр дүнгээ харах болно:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service syslogd restart</span>
logmsg: pri 56, flags 4, from logserv.example.com, msg syslogd: restart
syslogd: restarted
logmsg: pri 6, flags 4, from logserv.example.com, msg syslogd: kernel boot file is /boot/kernel/kernel
syslogd: kernel boot file is /boot/kernel/kernel
logmsg: pri 166, flags 17, from logserv.example.com,
msg Dec 10 20:55:02 &lt;syslog.err&gt; logserv.example.com syslogd: exiting on signal 2
cvthname<span class=o>(</span>192.168.1.10<span class=o>)</span>
validate: dgram from IP 192.168.1.10, port 514, name logclient.example.com<span class=p>;</span>
accepted <span class=k>in </span>rule 0.
logmsg: pri 15, flags 0, from logclient.example.com, msg Dec 11 02:01:28 trhodes: Test message 2
Logging to FILE /var/log/logclient.log
Logging to FILE /var/log/messages</code></pre></div></div><div class=paragraph><p>Энэ үед мэдэгдлүүдийг зөв хүлээн аван зөв файлд бичих болно.</p></div></div><div class=sect2><h3 id=_аюулгүй_байдлын_хувьд_бодолцох_зүйлс>30.11.4. Аюулгүй байдлын хувьд бодолцох зүйлс<a class=anchor href=#_аюулгүй_байдлын_хувьд_бодолцох_зүйлс></a></h3><div class=paragraph><p>Сүлжээний аль ч үйлчилгээний нэгэн адил энэ тохиргоог хийхээсээ өмнө аюулгүй байдлын шаардлагуудыг бодолцох ёстой. Заримдаа бүртгэлийн файлууд нь локал хост дээр идэвхжүүлсэн үйлчилгээнүүд, хэрэглэгчдийн бүртгэл болон тохиргооны өгөгдлийн талаарх эмзэг өгөгдлүүдийг агуулсан байж болох юм. Клиентээс сервер рүү илгээсэн сүлжээний өгөгдөл нь шифрлэгдээгүй эсвэл нууц үгээр хамгаалагдаагүй байдаг. Хэрэв шифрлэх шаардлагатай бол өгөгдлийг шифрлэсэн хоолойгоор дамжуулах <a class=package href=https://cgit.freebsd.org/ports/tree/security/stunnel/>security/stunnel</a> хэрэгслийг ашиглаж болох юм.</p></div><div class=paragraph><p>Локал аюулгүй байдал нь бас л асуудал юм. Бүртгэлийн файлууд нь хэрэглэж байхад юм уу эсвэл бүртгэлийн багасгах үед шифрлэгддэггүй. Локал хэрэглэгчид эдгээр файлуудад хандаж системийн тохиргооны талаар нэмэлт мэдээлэл олж авч болох юм. Ийм тохиолдолд эдгээр файлууд дээр зөв зөвшөөрлүүдийг тавих нь чухал юм. <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a> хэрэгсэл нь шинээр үүсгэгдсэн болон багасгагдсан бүртгэлийн файлууд дээр зөвшөөрөл тавихыг дэмждэг. Бүртгэлийн файлууд дээр <code>600</code> горимыг тавьснаар хүсээгүй локал хэрэглэгчид тэдгээрийг шиншлэх боломжийг хаах юм.</p></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 2024 оны гуравдугаар сарын 9 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/mn/books/handbook/mail class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/mn/books/handbook/firewalls class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#network-servers-synopsis>30.1. Ерөнхий агуулга</a></li><li><a href=#network-inetd>30.2. inetd"Супер-Сервер"</a></li><li><a href=#network-nfs>30.3. Сүлжээний Файлын Систем (NFS)</a></li><li><a href=#network-nis>30.4. Сүлжээний Мэдээллийн Систем (NIS/YP)</a></li><li><a href=#network-dhcp>30.5. Автомат Сүлжээний Тохиргоо (DHCP)</a></li><li><a href=#network-dns>30.6. Домэйн Нэрийн Систем (DNS)</a></li><li><a href=#network-apache>30.7. Apache HTTP Сервер</a></li><li><a href=#network-ftp>30.8. Файл Дамжуулах Протокол (FTP)</a></li><li><a href=#network-samba>30.9. Microsoft® Windows® харилцагчдад зориулсан Файл болон Хэвлэх Үйлчилгээ (Samba)</a></li><li><a href=#network-ntp>30.10. ntpd-р Цаг Тааруулах нь</a></li><li><a href=#network-syslogd>30.11. <code>syslogd</code> ашиглан алсын хост руу бүртгэх нь</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/mn/books/handbook/handbook_mn.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/mn/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/mn/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>монгол хэл mongol khel</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/mn class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/mn/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>