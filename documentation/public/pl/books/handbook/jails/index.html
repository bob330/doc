<!doctype html><html class=theme-light lang=pl><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/pl/books/handbook/jails/><title>Rozdział 15. Jails | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Rozdział 15. Jails"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="pl"><meta property="og:url" content="http://172.16.201.134:1313/pl/books/handbook/jails/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/pl\/books\/handbook\/jails\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/pl>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/pl/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/pl/books>Books</a></li><li><a href=http://172.16.201.134:1313/pl/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/pl/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=pl>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/preface/>Przedmowa</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/preface/#preface-audience>Docelowy czytelnik</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/preface/#preface-changes-from2>Zmiany od wydania drugiego</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/preface/#preface-changes>Zmiany od wydania pierwszego</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/preface/#preface-overview>Układ książki</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/preface/#preface-conv>Konwencje użyte w tej książce</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/preface/#preface-acknowledgements>Podziękowania</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/parti/>Część I. Pierwsze kroki</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/introduction/>Rozdział 1. Wprowadzenie</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/introduction/#introduction-synopsis>1.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/introduction/#nutshell>1.2. Witamy w świecie FreeBSD!</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/introduction/#history>1.3. O Projekcie FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/install/>Rozdział 2. Instalacja FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-synopsis>2.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-pre>2.2. Czynności wstępne</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-start>2.3. Rozpoczęcie instalacji</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#using-sysinstall>2.4. Wprowadzenie do sysinstall</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-steps>2.5. Przydział miejsca na dysku</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-choosing>2.6. Wybór składników instalacji</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-media>2.7. Wybór nośnika instalacji</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-final-warning>2.8. Przystąpienie do instalacji</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-post>2.9. Po instalacji</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-supported-hardware>2.10. Obsługiwany sprzęt</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-trouble>2.11. Rozwiązywanie problemów</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-advanced>2.12. Instalacja zaawansowana</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/install/#install-diff-media>2.13. Przygotowanie własnego nośnika instalacji</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/basics/>Rozdział 3. Podstawy Uniksa</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#basics-synopsis>3.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#consoles>3.2. Konsole wirtualne i terminale</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#permissions>3.3. Prawa dostępu</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#dirstructure>3.4. Struktura katalogów</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#disk-organization>3.5. Organizacja dysku</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#mount-unmount>3.6. Montowanie i odmontowywanie systemów plików</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#basics-processes>3.7. Procesy</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#basics-daemons>3.8. Demony, sygnały i unicestwianie procesów</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#shells>3.9. Powłoki</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#editors>3.10. Edytory tekstu</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#basics-devices>3.11. Urządzenia i pliki urządzeń</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#binary-formats>3.12. Formaty binarne</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/basics/#basics-more-information>3.13. Więcej informacji</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/ports/>Rozdział 4. Instalacja programów: pakiety i porty</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/ports/#ports-synopsis>4.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ports/#ports-overview>4.2. Omówienie instalacji oprogramowania</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ports/#ports-finding-applications>4.3. Odnalezienie programu dla siebie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ports/#packages-using>4.4. Korzystanie z systemu pakietów</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ports/#ports-using>4.5. Korzystanie z kolekcji portów</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ports/#ports-nextsteps>4.6. Czynności po-instalacyjne</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ports/#ports-broken>4.7. Jak radzić sobie ze źle przygotowanymi portami</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/x11/>Rozdział 5. System okien X</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/x11/#x11-synopsis>5.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/x11/#x-understanding>5.2. Zrozumieć X</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/x11/#x-install>5.3. Instalacja X11</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/x11/#x-config>5.4. Konfiguracja X11</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/x11/#x-fonts>5.5. Korzystanie z czcionek w X11</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/x11/#x-xdm>5.6. Menedżer pulpitów X</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/x11/#x11-wm>5.7. Środowiska graficzne</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/partii/>Część II. Codzienne czynności</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/>Rozdział 6. Aplikacje biurowe</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#desktop-synopsis>6.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#desktop-browsers>6.2. Przeglądarki internetowe</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#moz-flash-plugin>6.3. Firefox, Mozilla i moduł Macromedia® Flash®</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#_opera>6.4. Opera</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#_konqueror>6.5. Konqueror</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#desktop-productivity>6.6. Programy codziennego użytku</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#desktop-viewers>6.7. Przeglądarki dokumentów</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#desktop-finance>6.8. Finanse</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/desktop/#desktop-summary>6.9. Podsumowanie</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/>Rozdział 7. Multimedia</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/#multimedia-synopsis>7.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/#sound-setup>7.2. Setting Up the Sound Card</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/#sound-mp3>7.3. MP3 Audio</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/#video-playback>7.4. Video Playback</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/#tvcard>7.5. TV Cards</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/#mythtv>7.6. MythTV</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/multimedia/#scanners>7.7. Image Scanners</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/kernelconfig/>Rozdział 8. Konfiguracja jądra FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. Po co budować indywidualne jądro?</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/kernelconfig/#kernelconfig-building>8.3. Budowanie i instalowanie indywidualnego jądra</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/kernelconfig/#kernelconfig-config>8.4. Plik konfiguracyjny</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/kernelconfig/#kernelconfig-trouble>8.5. Jeśli pojawią się kłopoty</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/printing/>Rozdział 9. Printing</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/printing/#printing-quick-start>9.1. Quick Start</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/printing/#printing-connections>9.2. Printer Connections</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/printing/#printing-pdls>9.3. Common Page Description Languages</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/printing/#printing-direct>9.4. Direct Printing</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/printing/#printing-lpd>9.5. LPD (Line Printer Daemon)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/printing/#printing-other>9.6. Other Printing Systems</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/linuxemu/>Rozdział 10. Linux® Binary Compatibility</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Configuring Linux® Binary Compatibility</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/linuxemu/#linuxemu-advanced>10.3. Advanced Topics</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/partiii/>Część III. Administracja systemem</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/config/>Rozdział 11. Configuration and Tuning</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#config-synopsis>11.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-starting-services>11.2. Starting Services</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-cron>11.3. Configuring cron(8)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-rcd>11.4. Managing Services in FreeBSD</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#config-network-setup>11.5. Setting Up Network Interface Cards</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-virtual-hosts>11.6. Virtual Hosts</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-syslog>11.7. Configuring System Logging</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-configfiles>11.8. Configuration Files</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-sysctl>11.9. Tuning with sysctl(8)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-disk>11.10. Tuning Disks</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#configtuning-kernel-limits>11.11. Tuning Kernel Limits</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#adding-swap-space>11.12. Adding Swap Space</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/config/#acpi-overview>11.13. Power and Resource Management</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/boot/>Rozdział 12. The FreeBSD Booting Process</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/boot/#boot-synopsis>12.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/boot/#boot-introduction>12.2. FreeBSD Boot Process</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/boot/#boot-splash>12.3. Configuring Boot Time Splash Screens</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/boot/#device-hints>12.4. Device Hints</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/boot/#boot-shutdown>12.5. Shutdown Sequence</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/users/>Rozdział 13. Użytkownicy i podstawy zarządzania kontami</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-synopsis>13.1. Streszczenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-introduction>13.2. Wprowadzenie</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-superuser>13.3. Konto superużytkownika</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-system>13.4. Konta systemowe</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-user>13.5. Konta użytkowników</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-modifying>13.6. Modyfikacja ustawień kont</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-limiting>13.7. Ograniczanie użytkowników</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/users/#users-groups>13.8. Grupy</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/security/>Rozdział 14. Security</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#security-synopsis>14.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#security-intro>14.2. Introduction</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#one-time-passwords>14.3. One-time Passwords</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#tcpwrappers>14.4. TCP Wrapper</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#kerberos5>14.5. Kerberos</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#openssl>14.6. OpenSSL</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#ipsec>14.7. VPN over IPsec</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#openssh>14.8. OpenSSH</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#fs-acl>14.9. Access Control Lists</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#security-pkg>14.10. Monitoring Third Party Security Issues</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#security-advisories>14.11. FreeBSD Security Advisories</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#security-accounting>14.12. Process Accounting</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#security-resourcelimits>14.13. Resource Limits</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/security/#security-sudo>14.14. Shared Administration with Sudo</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle checked>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/jails/>Rozdział 15. Jails</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/jails/#jails-synopsis>15.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/jails/#jails-terms>15.2. Terms Related to Jails</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/jails/#jails-build>15.3. Creating and Controlling Jails</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/jails/#jails-tuning>15.4. Fine Tuning and Administration</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/jails/#jails-application>15.5. Updating Multiple Jails</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/jails/#jails-ezjail>15.6. Managing Jails with ezjail</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/mac/>Rozdział 16. Mandatory Access Control</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-synopsis>16.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-inline-glossary>16.2. Key Terms</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-understandlabel>16.3. Understanding MAC Labels</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-planning>16.4. Planning the Security Configuration</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-policies>16.5. Available MAC Policies</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-userlocked>16.6. User Lock Down</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-implementing>16.7. Nagios in a MAC Jail</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mac/#mac-troubleshoot>16.8. Troubleshooting the MAC Framework</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/audit/>Rozdział 17. Security Event Auditing</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/audit/#audit-synopsis>17.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/audit/#audit-inline-glossary>17.2. Key Terms</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/audit/#audit-config>17.3. Audit Configuration</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/audit/#audit-administration>17.4. Working with Audit Trails</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/disks/>Rozdział 18. Storage</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#disks-synopsis>18.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#disks-adding>18.2. Adding Disks</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#disks-growing>18.3. Resizing and Growing Disks</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#usb-disks>18.4. USB Storage Devices</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#creating-cds>18.5. Creating and Using CD Media</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#creating-dvds>18.6. Creating and Using DVD Media</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#floppies>18.7. Creating and Using Floppy Disks</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#backup-basics>18.8. Backup Basics</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#disks-virtual>18.9. Memory Disks</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#snapshots>18.10. File System Snapshots</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#quotas>18.11. Disk Quotas</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#disks-encrypting>18.12. Encrypting Disk Partitions</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#swap-encrypting>18.13. Encrypting Swap</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/disks/#disks-hast>18.14. Highly Available Storage (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/geom/>Rozdział 19. GEOM: Modular Disk Transformation Framework</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-synopsis>19.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-striping>19.2. RAID0 - Striping</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-mirror>19.3. RAID1 - Mirroring</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-raid3>19.4. RAID3 - Byte-level Striping with Dedicated Parity</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-graid>19.5. Software RAID Devices</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-ggate>19.6. GEOM Gate Network</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-glabel>19.7. Labeling Disk Devices</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/geom/#geom-gjournal>19.8. UFS Journaling Through GEOM</a></li></ul></li><li><input type=checkbox id=chapter-73e82560fcb7145b7c0e2ec47af8fc04 class=toggle>
<label class="icon cursor" for=chapter-73e82560fcb7145b7c0e2ec47af8fc04><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/>Rozdział 20. The Z File System (ZFS)</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-differences>20.1. What Makes ZFS Different</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-quickstart>20.2. Quick Start Guide</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-zpool>20.3. <code>zpool</code> Administration</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-zfs>20.4. <code>zfs</code> Administration</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-zfs-allow>20.5. Delegated Administration</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-advanced>20.6. Advanced Topics</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-links>20.7. Additional Resources</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/zfs/#zfs-term>20.8. ZFS Features and Terminology</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/filesystems/>Rozdział 21. Other File Systems</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/filesystems/#filesystems-synopsis>21.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/filesystems/#filesystems-linux>21.2. Linux® File Systems</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/>Rozdział 22. Virtualization</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-synopsis>22.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-guest-parallels>22.2. FreeBSD as a Guest on Parallels for Mac OS® X</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-guest-virtualpc>22.3. FreeBSD as a Guest on Virtual PC for Windows®</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-guest-vmware>22.4. FreeBSD as a Guest on VMware Fusion for Mac OS®</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-guest-virtualbox>22.5. FreeBSD as a Guest on VirtualBox™</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-host-virtualbox>22.6. FreeBSD as a Host with VirtualBox™</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-host-bhyve>22.7. FreeBSD as a Host with bhyve</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/virtualization/#virtualization-host-xen>22.8. FreeBSD as a Xen™-Host</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/l10n/>Rozdział 23. Localization - i18n/L10n Usage and Setup</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/l10n/#l10n-synopsis>23.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/l10n/#using-localization>23.2. Using Localization</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/l10n/#l10n-compiling>23.3. Finding i18n Applications</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/l10n/#lang-setup>23.4. Locale Configuration for Specific Languages</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/cutting-edge/>Rozdział 24. Updating and Upgrading FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/cutting-edge/#updating-upgrading-synopsis>24.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>24.2. FreeBSD Update</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/cutting-edge/#updating-upgrading-documentation>24.3. Updating the Documentation Set</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/cutting-edge/#current-stable>24.4. Tracking a Development Branch</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/cutting-edge/#makeworld>24.5. Updating FreeBSD from Source</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/cutting-edge/#small-lan>24.6. Tracking for Multiple Machines</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/dtrace/>Rozdział 25. DTrace</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/dtrace/#dtrace-synopsis>25.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/dtrace/#dtrace-implementation>25.2. Implementation Differences</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/dtrace/#dtrace-enable>25.3. Enabling DTrace Support</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/dtrace/#dtrace-using>25.4. Using DTrace</a></li></ul></li><li><input type=checkbox id=chapter-913e72bfb3d6947b2869d3e9447a6eaa class=toggle>
<label class="icon cursor" for=chapter-913e72bfb3d6947b2869d3e9447a6eaa><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/usb-device-mode/>Rozdział 26. USB Device Mode / USB OTG</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/usb-device-mode/#usb-device-mode-synopsis>26.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/usb-device-mode/#usb-device-mode-terminals>26.2. USB Virtual Serial Ports</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/usb-device-mode/#usb-device-mode-network>26.3. USB Device Mode Network Interfaces</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/usb-device-mode/#usb-device-mode-storage>26.4. USB Virtual Storage Device</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/partiv/>Część IV. Komunikacja sieciowa</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/serialcomms/>Rozdział 27. Serial Communications</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/serialcomms/#serial-synopsis>27.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/serialcomms/#serial>27.2. Serial Terminology and Hardware</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/serialcomms/#term>27.3. Terminals</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/serialcomms/#dialup>27.4. Dial-in Service</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/serialcomms/#dialout>27.5. Dial-out Service</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/serialcomms/#serialconsole-setup>27.6. Setting Up the Serial Console</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/ppp-and-slip/>Rozdział 28. PPP</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>28.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ppp-and-slip/#userppp>28.2. Configuring PPP</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ppp-and-slip/#ppp-troubleshoot>28.3. Troubleshooting PPP Connections</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ppp-and-slip/#pppoe>28.4. Using PPP over Ethernet (PPPoE)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/ppp-and-slip/#pppoa>28.5. Using PPP over ATM (PPPoA)</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/mail/>Rozdział 29. Electronic Mail</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-synopsis>29.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-using>29.2. Mail Components</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#sendmail>29.3. Sendmail Configuration Files</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-changingmta>29.4. Changing the Mail Transfer Agent</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-trouble>29.5. Troubleshooting</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-advanced>29.6. Advanced Topics</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#outgoing-only>29.7. Setting Up to Send Only</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#SMTP-dialup>29.8. Using Mail with a Dialup Connection</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#SMTP-Auth>29.9. SMTP Authentication</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-agents>29.10. Mail User Agents</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-fetchmail>29.11. Using fetchmail</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mail/#mail-procmail>29.12. Using procmail</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/>Rozdział 30. Network Servers</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-servers-synopsis>30.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-inetd>30.2. The inetd Super-Server</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-nfs>30.3. Network File System (NFS)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-nis>30.4. Network Information System (NIS)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-ldap>30.5. Lightweight Directory Access Protocol (LDAP)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-dhcp>30.6. Dynamic Host Configuration Protocol (DHCP)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-dns>30.7. Domain Name System (DNS)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-apache>30.8. Apache HTTP Server</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-ftp>30.9. File Transfer Protocol (FTP)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-samba>30.10. File and Print Services for Microsoft® Windows® Clients (Samba)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-ntp>30.11. Clock Synchronization with NTP</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/network-servers/#network-iscsi>30.12. iSCSI Initiator and Target Configuration</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/firewalls/>Rozdział 31. Firewalls</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/firewalls/#firewalls-intro>31.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/firewalls/#firewalls-concepts>31.2. Firewall Concepts</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/firewalls/#firewalls-pf>31.3. PF</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/firewalls/#firewalls-ipfw>31.4. IPFW</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/firewalls/#firewalls-ipf>31.5. IPFILTER (IPF)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/firewalls/#firewalls-blacklistd>31.6. Blacklistd</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/>Rozdział 32. Advanced Networking</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#advanced-networking-synopsis>32.1. Synopsis</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-routing>32.2. Gateways and Routes</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-wireless>32.3. Wireless Networking</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-usb-tethering>32.4. USB Tethering</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-bluetooth>32.5. Bluetooth</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-bridging>32.6. Bridging</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-aggregation>32.7. Link Aggregation and Failover</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-diskless>32.8. Diskless Operation with PXE</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-ipv6>32.9. IPv6</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#carp>32.10. Common Address Redundancy Protocol (CARP)</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/advanced-networking/#network-vlan>32.11. VLANs</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/partv/>Część V. Dodatki</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/mirrors/>Dodatek A. Obtaining FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/mirrors/#mirrors-cdrom>A.1. CD and DVD Sets</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mirrors/#mirrors-ftp>A.2. FTP Sites</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mirrors/#svn>A.3. Using Subversion</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/mirrors/#mirrors-rsync>A.4. Using rsync</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/bibliography/>Dodatek B. Bibliografia</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/bibliography/#bibliography-freebsd>B.1. Książki i czasopisma poświęcone FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/eresources/>Dodatek C. Resources on the Internet</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/eresources/#eresources-www>C.1. Websites</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/eresources/#eresources-mail>C.2. Mailing Lists</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/eresources/#eresources-news>C.3. Usenet Newsgroups</a></li><li><a href=http://172.16.201.134:1313/pl/books/handbook/eresources/#eresources-web>C.4. Official Mirrors</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=http://172.16.201.134:1313/pl/books/handbook/pgpkeys/>Dodatek D. Klucze PGP</a><ul><li><a href=http://172.16.201.134:1313/pl/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Oficerowie</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Rozdział 15. Jails</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#jails-synopsis>15.1. Synopsis</a></li><li><a href=#jails-terms>15.2. Terms Related to Jails</a></li><li><a href=#jails-build>15.3. Creating and Controlling Jails</a></li><li><a href=#jails-tuning>15.4. Fine Tuning and Administration</a></li><li><a href=#jails-application>15.5. Updating Multiple Jails</a></li><li><a href=#jails-ezjail>15.6. Managing Jails with ezjail</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=jails-synopsis>15.1. Synopsis<a class=anchor href=#jails-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>Since system administration is a difficult task, many tools have been developed to make life easier for the administrator. These tools often enhance the way systems are installed, configured, and maintained. One of the tools which can be used to enhance the security of a FreeBSD system is <em>jails</em>. Jails have been available since FreeBSD 4.X and continue to be enhanced in their usefulness, performance, reliability, and security.</p></div><div class=paragraph><p>Jails build upon the <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> concept, which is used to change the root directory of a set of processes. This creates a safe environment, separate from the rest of the system. Processes created in the chrooted environment can not access files or resources outside of it. For that reason, compromising a service running in a chrooted environment should not allow the attacker to compromise the entire system. However, a chroot has several limitations. It is suited to easy tasks which do not require much flexibility or complex, advanced features. Over time, many ways have been found to escape from a chrooted environment, making it a less than ideal solution for securing services.</p></div><div class=paragraph><p>Jails improve on the concept of the traditional chroot environment in several ways. In a traditional chroot environment, processes are only limited in the part of the file system they can access. The rest of the system resources, system users, running processes, and the networking subsystem are shared by the chrooted processes and the processes of the host system. Jails expand this model by virtualizing access to the file system, the set of users, and the networking subsystem. More fine-grained controls are available for tuning the access of a jailed environment. Jails can be considered as a type of operating system-level virtualization.</p></div><div class=paragraph><p>A jail is characterized by four elements:</p></div><div class=ulist><ul><li><p>A directory subtree: the starting point from which a jail is entered. Once inside the jail, a process is not permitted to escape outside of this subtree.</p></li><li><p>A hostname: which will be used by the jail.</p></li><li><p>An IP address: which is assigned to the jail. The IP address of a jail is often an alias address for an existing network interface.</p></li><li><p>A command: the path name of an executable to run inside the jail. The path is relative to the root directory of the jail environment.</p></li></ul></div><div class=paragraph><p>Jails have their own set of users and their own <code>root</code> account which are limited to the jail environment. The <code>root</code> account of a jail is not allowed to perform operations to the system outside of the associated jail environment.</p></div><div class=paragraph><p>This chapter provides an overview of the terminology and commands for managing FreeBSD jails. Jails are a powerful tool for both system administrators, and advanced users.</p></div><div class=paragraph><p>After reading this chapter, you will know:</p></div><div class=ulist><ul><li><p>What a jail is and what purpose it may serve in FreeBSD installations.</p></li><li><p>How to build, start, and stop a jail.</p></li><li><p>The basics of jail administration, both from inside and outside the jail.</p></li></ul></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Jails are a powerful tool, but they are not a security panacea. While it is not possible for a jailed process to break out on its own, there are several ways in which an unprivileged user outside the jail can cooperate with a privileged user inside the jail to obtain elevated privileges in the host environment.</p></div><div class=paragraph><p>Most of these attacks can be mitigated by ensuring that the jail root is not accessible to unprivileged users in the host environment. As a general rule, untrusted users with privileged access to a jail should not be given access to the host environment.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=jails-terms>15.2. Terms Related to Jails<a class=anchor href=#jails-terms></a></h2><div class=sectionbody><div class=paragraph><p>To facilitate better understanding of parts of the FreeBSD system related to jails, their internals and the way they interact with the rest of FreeBSD, the following terms are used further in this chapter:</p></div><div class=dlist><dl><dt class=hdlist1><a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> (command)</dt><dd><p>Utility, which uses <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> FreeBSD system call to change the root directory of a process and all its descendants.</p></dd><dt class=hdlist1><a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> (environment)</dt><dd><p>The environment of processes running in a "chroot". This includes resources such as the part of the file system which is visible, user and group IDs which are available, network interfaces and other IPC mechanisms, etc.</p></dd><dt class=hdlist1><a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> (command)</dt><dd><p>The system administration utility which allows launching of processes within a jail environment.</p></dd><dt class=hdlist1>host (system, process, user, etc.)</dt><dd><p>The controlling system of a jail environment. The host system has access to all the hardware resources available, and can control processes both outside of and inside a jail environment. One of the important differences of the host system from a jail is that the limitations which apply to superuser processes inside a jail are not enforced for processes of the host system.</p></dd><dt class=hdlist1>hosted (system, process, user, etc.)</dt><dd><p>A process, user or other entity, whose access to resources is restricted by a FreeBSD jail.</p></dd></dl></div></div></div><div class=sect1><h2 id=jails-build>15.3. Creating and Controlling Jails<a class=anchor href=#jails-build></a></h2><div class=sectionbody><div class=paragraph><p>Some administrators divide jails into the following two types: "complete" jails, which resemble a real FreeBSD system, and "service" jails, dedicated to one application or service, possibly running with privileges. This is only a conceptual division and the process of building a jail is not affected by it. When creating a "complete" jail there are two options for the source of the userland: use prebuilt binaries (such as those supplied on an install media) or build from source.</p></div><div class=sect2><h3 id=_installing_a_jail>15.3.1. Installing a Jail<a class=anchor href=#_installing_a_jail></a></h3><div class=sect3><h4 id=jails-install-internet>15.3.1.1. To install a Jail from the Internet<a class=anchor href=#jails-install-internet></a></h4><div class=paragraph><p>The <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdinstall&amp;sektion=8&amp;format=html">bsdinstall(8)</a> tool can be used to fetch and install the binaries needed for a jail. This will walk through the picking of a mirror, which distributions will be installed into the destination directory, and some basic configuration of the jail:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># bsdinstall jail /here/is/the/jail</span></code></pre></div></div><div class=paragraph><p>Once the command is complete, the next step is configuring the host to run the jail.</p></div></div><div class=sect3><h4 id=jails-install-iso>15.3.1.2. To install a Jail from an ISO<a class=anchor href=#jails-install-iso></a></h4><div class=paragraph><p>To install the userland from installation media, first create the root directory for the jail. This can be done by setting the <code>DESTDIR</code> variable to the proper location.</p></div><div class=paragraph><p>Start a shell and define <code>DESTDIR</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sh</span>
<span class=c># export DESTDIR=/here/is/the/jail</span></code></pre></div></div><div class=paragraph><p>Mount the install media as covered in <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> when using the install ISO:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -t cd9660 /dev/`mdconfig -f cdimage.iso` /mnt</span>
<span class=c># cd /mnt/usr/freebsd-dist/</span></code></pre></div></div><div class=paragraph><p>Extract the binaries from the tarballs on the install media into the declared destination. Minimally, only the base set needs to be extracted, but a complete install can be performed when preferred.</p></div><div class=paragraph><p>To install just the base system:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tar -xf base.txz -C $DESTDIR</span></code></pre></div></div><div class=paragraph><p>To install everything except the kernel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># for set in base ports; do tar -xf $set.txz -C $DESTDIR ; done</span></code></pre></div></div></div><div class=sect3><h4 id=jails-install-source>15.3.1.3. To build and install a Jail from source<a class=anchor href=#jails-install-source></a></h4><div class=paragraph><p>The <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> manual page explains the procedure for building a jail:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># setenv D /here/is/the/jail</span>
<span class=c># mkdir -p $D      </span><i class=conum data-value=1></i><b>(1)</b>
<span class=c># cd /usr/src</span>
<span class=c># make buildworld  </span><i class=conum data-value=2></i><b>(2)</b>
<span class=c># make installworld DESTDIR=$D  </span><i class=conum data-value=3></i><b>(3)</b>
<span class=c># make distribution DESTDIR=$D  </span><i class=conum data-value=4></i><b>(4)</b>
<span class=c># mount -t devfs devfs $D/dev   </span><i class=conum data-value=5></i><b>(5)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Selecting a location for a jail is the best starting point. This is where the jail will physically reside within the file system of the jail’s host. A good choice can be <span class=filename>/usr/jail/jailname</span>, where <em>jailname</em> is the hostname identifying the jail. Usually, <span class=filename>/usr/</span> has enough space for the jail file system, which for "complete" jails is, essentially, a replication of every file present in a default installation of the FreeBSD base system.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>If you have already rebuilt your userland using <code>make world</code> or <code>make buildworld</code>, you can skip this step and install your existing userland into the new jail.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>This command will populate the directory subtree chosen as jail’s physical location on the file system with the necessary binaries, libraries, manual pages and so on.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>The <code>distribution</code> target for make installs every needed configuration file. In simple words, it installs every installable file of <span class=filename>/usr/src/etc/</span> to the <span class=filename>/etc</span> directory of the jail environment: <span class=filename>$D/etc/</span>.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Mounting the <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a> file system inside a jail is not required. On the other hand, any, or almost any application requires access to at least one device, depending on the purpose of the given application. It is very important to control access to devices from inside a jail, as improper settings could permit an attacker to do nasty things in the jail. Control over <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a> is managed through rulesets which are described in the <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a> and <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs.conf&amp;sektion=5&amp;format=html">devfs.conf(5)</a> manual pages.</td></tr></tbody></table></div></div></div><div class=sect2><h3 id=_configuring_the_host>15.3.2. Configuring the Host<a class=anchor href=#_configuring_the_host></a></h3><div class=paragraph><p>Once a jail is installed, it can be started by using the <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> utility. The <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> utility takes four mandatory arguments which are described in the <a href=#jails-synopsis>Synopsis</a>. Other arguments may be specified too, e.g., to run the jailed process with the credentials of a specific user. The <code><em>command</em></code> argument depends on the type of the jail; for a <em>virtual system</em>, <span class=filename>/etc/rc</span> is a good choice, since it will replicate the startup sequence of a real FreeBSD system. For a <em>service</em> jail, it depends on the service or application that will run within the jail.</p></div><div class=paragraph><p>Jails are often started at boot time and the FreeBSD <span class=filename>rc</span> mechanism provides an easy way to do this.</p></div><div class="ulist procedure"><ul><li><p>Configure jail parameters in <span class=filename>jail.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>www {
    host.hostname = www.example.org;           # Hostname
    ip4.addr = 192.168.0.10;                   # IP address of the jail
    path = &#34;/usr/jail/www&#34;;                    # Path to the jail
    devfs_ruleset = &#34;www_ruleset&#34;;             # devfs ruleset
    mount.devfs;                               # Mount devfs inside the jail
    exec.start = &#34;/bin/sh /etc/rc&#34;;            # Start command
    exec.stop = &#34;/bin/sh /etc/rc.shutdown&#34;;    # Stop command
}</pre></div></div><div class=paragraph><p>Configure jails to start at boot time in <span class=filename>rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>jail_enable=&#34;YES&#34;   # Set to NO to disable starting of any jails</pre></div></div><div class=paragraph><p>The default startup of jails configured in <a href="https://man.freebsd.org/cgi/man.cgi?query=jail.conf&amp;sektion=5&amp;format=html">jail.conf(5)</a>, will run the <span class=filename>/etc/rc</span> script of the jail, which assumes the jail is a complete virtual system. For service jails, the default startup command of the jail should be changed, by setting the <code>exec.start</code> option appropriately.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>For a full list of available options, please see the <a href="https://man.freebsd.org/cgi/man.cgi?query=jail.conf&amp;sektion=5&amp;format=html">jail.conf(5)</a> manual page.</p></div></td></tr></tbody></table></div></li></ul></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=service&amp;sektion=8&amp;format=html">service(8)</a> can be used to start or stop a jail by hand, if an entry for it exists in <span class=filename>jail.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service jail start www</span>
<span class=c># service jail stop www</span></code></pre></div></div><div class=paragraph><p>Jails can be shut down with <a href="https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;sektion=8&amp;format=html">jexec(8)</a>. Use <a href="https://man.freebsd.org/cgi/man.cgi?query=jls&amp;sektion=8&amp;format=html">jls(8)</a> to identify the jail’s <code>JID</code>, then use <a href="https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;sektion=8&amp;format=html">jexec(8)</a> to run the shutdown script in that jail.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># jls</span>
   JID  IP Address      Hostname                      Path
     3  192.168.0.10    www                           /usr/jail/www
<span class=c># jexec 3 /etc/rc.shutdown</span></code></pre></div></div><div class=paragraph><p>More information about this can be found in the <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> manual page.</p></div></div></div></div><div class=sect1><h2 id=jails-tuning>15.4. Fine Tuning and Administration<a class=anchor href=#jails-tuning></a></h2><div class=sectionbody><div class=paragraph><p>There are several options which can be set for any jail, and various ways of combining a host FreeBSD system with jails, to produce higher level applications. This section presents:</p></div><div class=ulist><ul><li><p>Some of the options available for tuning the behavior and security restrictions implemented by a jail installation.</p></li><li><p>Some of the high-level applications for jail management, which are available through the FreeBSD Ports Collection, and can be used to implement overall jail-based solutions.</p></li></ul></div><div class=sect2><h3 id=jails-tuning-utilities>15.4.1. System Tools for Jail Tuning in FreeBSD<a class=anchor href=#jails-tuning-utilities></a></h3><div class=paragraph><p>Fine tuning of a jail’s configuration is mostly done by setting <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> variables. A special subtree of sysctl exists as a basis for organizing all the relevant options: the <code>security.jail.*</code> hierarchy of FreeBSD kernel options. Here is a list of the main jail-related sysctls, complete with their default value. Names should be self-explanatory, but for more information about them, please refer to the <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> and <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> manual pages.</p></div><div class=ulist><ul><li><p><code>security.jail.set_hostname_allowed: 1</code></p></li><li><p><code>security.jail.socket_unixiproute_only: 1</code></p></li><li><p><code>security.jail.sysvipc_allowed: 0</code></p></li><li><p><code>security.jail.enforce_statfs: 2</code></p></li><li><p><code>security.jail.allow_raw_sockets: 0</code></p></li><li><p><code>security.jail.chflags_allowed: 0</code></p></li><li><p><code>security.jail.jailed: 0</code></p></li></ul></div><div class=paragraph><p>These variables can be used by the system administrator of the <em>host system</em> to add or remove some of the limitations imposed by default on the <code>root</code> user. Note that there are some limitations which cannot be removed. The <code>root</code> user is not allowed to mount or unmount file systems from within a <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>. The <code>root</code> inside a jail may not load or unload <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a> rulesets, set firewall rules, or do many other administrative tasks which require modifications of in-kernel data, such as setting the <code>securelevel</code> of the kernel.</p></div><div class=paragraph><p>The base system of FreeBSD contains a basic set of tools for viewing information about the active jails, and attaching to a jail to run administrative commands. The <a href="https://man.freebsd.org/cgi/man.cgi?query=jls&amp;sektion=8&amp;format=html">jls(8)</a> and <a href="https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;sektion=8&amp;format=html">jexec(8)</a> commands are part of the base FreeBSD system, and can be used to perform the following simple tasks:</p></div><div class=ulist><ul><li><p>Print a list of active jails and their corresponding jail identifier (JID), IP address, hostname and path.</p></li><li><p>Attach to a running jail, from its host system, and run a command inside the jail or perform administrative tasks inside the jail itself. This is especially useful when the <code>root</code> user wants to cleanly shut down a jail. The <a href="https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;sektion=8&amp;format=html">jexec(8)</a> utility can also be used to start a shell in a jail to do administration in it; for example:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># jexec 1 tcsh</span></code></pre></div></div></li></ul></div></div><div class=sect2><h3 id=jails-tuning-admintools>15.4.2. High-Level Administrative Tools in the FreeBSD Ports Collection<a class=anchor href=#jails-tuning-admintools></a></h3><div class=paragraph><p>Among the many third-party utilities for jail administration, one of the most complete and useful is <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/ezjail/>sysutils/ezjail</a>. It is a set of scripts that contribute to <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> management. Please refer to <a href=#jails-ezjail>the handbook section on ezjail</a> for more information.</p></div></div><div class=sect2><h3 id=jails-updating>15.4.3. Keeping Jails Patched and up to Date<a class=anchor href=#jails-updating></a></h3><div class=paragraph><p>Jails should be kept up to date from the host operating system as attempting to patch userland from within the jail may likely fail as the default behavior in FreeBSD is to disallow the use of <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a> in a jail which prevents the replacement of some files. It is possible to change this behavior but it is recommended to use <a href="https://man.freebsd.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8&amp;format=html">freebsd-update(8)</a> to maintain jails instead. Use <code>-b</code> to specify the path of the jail to be updated.</p></div><div class=paragraph><p>To update the jail to the latest patch release of the version of FreeBSD it is already running, then execute the following commands on the host:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update -b /here/is/the/jail fetch</span>
<span class=c># freebsd-update -b /here/is/the/jail install</span></code></pre></div></div><div class=paragraph><p>To upgrade the jail to a new major or minor version, first upgrade the host system as described in <a href=../cutting-edge/#freebsdupdate-upgrade>“Performing Major and Minor Version Upgrades”</a>. Once the host has been upgraded and rebooted, the jail can then be upgraded. For example to upgrade from 12.0-RELEASE to 12.1-RELEASE, on the host run:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update -b /here/is/the/jail --currently-running 12.0-RELEASE -r 12.1-RELEASE upgrade</span>
<span class=c># freebsd-update -b /here/is/the/jail install</span>
<span class=c># service jail restart myjail</span>
<span class=c># freebsd-update -b /here/is/the/jail install</span></code></pre></div></div><div class=paragraph><p>Then, if it was a major version upgrade, reinstall all installed packages and restart the jail again. This is required because the ABI version changes when upgrading between major versions of FreeBSD. From the host:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg -j myjail upgrade -f</span>
<span class=c># service jail restart myjail</span></code></pre></div></div></div></div></div><div class=sect1><h2 id=jails-application>15.5. Updating Multiple Jails<a class=anchor href=#jails-application></a></h2><div class=sectionbody><div class=paragraph><p>The management of multiple jails can become problematic because every jail has to be rebuilt from scratch whenever it is upgraded. This can be time consuming and tedious if a lot of jails are created and manually updated.</p></div><div class=paragraph><p>This section demonstrates one method to resolve this issue by safely sharing as much as is possible between jails using read-only <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nullfs&amp;sektion=8&amp;format=html">mount_nullfs(8)</a> mounts, so that updating is simpler. This makes it more attractive to put single services, such as HTTP, DNS, and SMTP, into individual jails. Additionally, it provides a simple way to add, remove, and upgrade jails.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Simpler solutions exist, such as ezjail, which provides an easier method of administering FreeBSD jails but is less versatile than this setup. ezjail is covered in more detail in <a href=#jails-ezjail>Managing Jails with ezjail</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>The goals of the setup described in this section are:</p></div><div class=ulist><ul><li><p>Create a simple and easy to understand jail structure that does not require running a full installworld on each and every jail.</p></li><li><p>Make it easy to add new jails or remove existing ones.</p></li><li><p>Make it easy to update or upgrade existing jails.</p></li><li><p>Make it possible to run a customized FreeBSD branch.</p></li><li><p>Be paranoid about security, reducing as much as possible the possibility of compromise.</p></li><li><p>Save space and inodes, as much as possible.</p></li></ul></div><div class=paragraph><p>This design relies on a single, read-only master template which is mounted into each jail and one read-write device per jail. A device can be a separate physical disc, a partition, or a vnode backed memory device. This example uses read-write nullfs mounts.</p></div><div class=paragraph><p>The file system layout is as follows:</p></div><div class=ulist><ul><li><p>The jails are based under the <span class=filename>/home</span> partition.</p></li><li><p>Each jail will be mounted under the <span class=filename>/home/j</span> directory.</p></li><li><p>The template for each jail and the read-only partition for all of the jails is <span class=filename>/home/j/mroot</span>.</p></li><li><p>A blank directory will be created for each jail under the <span class=filename>/home/j</span> directory.</p></li><li><p>Each jail will have a <span class=filename>/s</span> directory that will be linked to the read-write portion of the system.</p></li><li><p>Each jail will have its own read-write system that is based upon <span class=filename>/home/j/skel</span>.</p></li><li><p>The read-write portion of each jail will be created in <span class=filename>/home/js</span>.</p></li></ul></div><div class=sect2><h3 id=jails-service-jails-template>15.5.1. Creating the Template<a class=anchor href=#jails-service-jails-template></a></h3><div class=paragraph><p>This section describes the steps needed to create the master template.</p></div><div class=paragraph><p>It is recommended to first update the host FreeBSD system to the latest -RELEASE branch using the instructions in <a href=../cutting-edge/#makeworld>“Updating FreeBSD from Source”</a>. Additionally, this template uses the <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cpdup/>sysutils/cpdup</a> package or port and portsnap will be used to download the FreeBSD Ports Collection.</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>First, create a directory structure for the read-only file system which will contain the FreeBSD binaries for the jails. Then, change directory to the FreeBSD source tree and install the read-only file system to the jail template:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j /home/j/mroot</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld DESTDIR=/home/j/mroot</span></code></pre></div></div></li><li><p>Next, prepare a FreeBSD Ports Collection for the jails as well as a FreeBSD source tree, which is required for mergemaster:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /home/j/mroot</span>
<span class=c># mkdir usr/ports</span>
<span class=c># portsnap -p /home/j/mroot/usr/ports fetch extract</span>
<span class=c># cpdup /usr/src /home/j/mroot/usr/src</span></code></pre></div></div></li><li><p>Create a skeleton for the read-write portion of the system:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j/skel /home/j/skel/home /home/j/skel/usr-X11R6 /home/j/skel/distfiles</span>
<span class=c># mv etc /home/j/skel</span>
<span class=c># mv usr/local /home/j/skel/usr-local</span>
<span class=c># mv tmp /home/j/skel</span>
<span class=c># mv var /home/j/skel</span>
<span class=c># mv root /home/j/skel</span></code></pre></div></div></li><li><p>Use mergemaster to install missing configuration files. Then, remove the extra directories that mergemaster creates:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mergemaster -t /home/j/skel/var/tmp/temproot -D /home/j/skel -i</span>
<span class=c># cd /home/j/skel</span>
<span class=c># rm -R bin boot lib libexec mnt proc rescue sbin sys usr dev</span></code></pre></div></div></li><li><p>Now, symlink the read-write file system to the read-only file system. Ensure that the symlinks are created in the correct <span class=filename>s/</span> locations as the creation of directories in the wrong locations will cause the installation to fail.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /home/j/mroot</span>
<span class=c># mkdir s</span>
<span class=c># ln -s s/etc etc</span>
<span class=c># ln -s s/home home</span>
<span class=c># ln -s s/root root</span>
<span class=c># ln -s ../s/usr-local usr/local</span>
<span class=c># ln -s ../s/usr-X11R6 usr/X11R6</span>
<span class=c># ln -s ../../s/distfiles usr/ports/distfiles</span>
<span class=c># ln -s s/tmp tmp</span>
<span class=c># ln -s s/var var</span></code></pre></div></div></li><li><p>As a last step, create a generic <span class=filename>/home/j/skel/etc/make.conf</span> containing this line:</p><div class="literalblock programlisting"><div class=content><pre>WRKDIRPREFIX?=  /s/portbuild</pre></div></div><div class=paragraph><p>This makes it possible to compile FreeBSD ports inside each jail. Remember that the ports directory is part of the read-only system. The custom path for <code>WRKDIRPREFIX</code> allows builds to be done in the read-write portion of every jail.</p></div></li></ol></div></div><div class=sect2><h3 id=jails-service-jails-creating>15.5.2. Creating Jails<a class=anchor href=#jails-service-jails-creating></a></h3><div class=paragraph><p>The jail template can now be used to setup and configure the jails in <span class=filename>/etc/rc.conf</span>. This example demonstrates the creation of 3 jails: <code>NS</code>, <code>MAIL</code> and <code>WWW</code>.</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>Add the following lines to <span class=filename>/etc/fstab</span>, so that the read-only template for the jails and the read-write space will be available in the respective jails:</p><div class="literalblock programlisting"><div class=content><pre>/home/j/mroot   /home/j/ns     nullfs  ro  0   0
/home/j/mroot   /home/j/mail   nullfs  ro  0   0
/home/j/mroot   /home/j/www    nullfs  ro  0   0
/home/js/ns     /home/j/ns/s   nullfs  rw  0   0
/home/js/mail   /home/j/mail/s nullfs  rw  0   0
/home/js/www    /home/j/www/s  nullfs  rw  0   0</pre></div></div><div class=paragraph><p>To prevent fsck from checking nullfs mounts during boot and dump from backing up the read-only nullfs mounts of the jails, the last two columns are both set to <code>0</code>.</p></div></li><li><p>Configure the jails in <span class=filename>/etc/rc.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>jail_enable=&#34;YES&#34;
jail_set_hostname_allow=&#34;NO&#34;
jail_list=&#34;ns mail www&#34;
jail_ns_hostname=&#34;ns.example.org&#34;
jail_ns_ip=&#34;192.168.3.17&#34;
jail_ns_rootdir=&#34;/usr/home/j/ns&#34;
jail_ns_devfs_enable=&#34;YES&#34;
jail_mail_hostname=&#34;mail.example.org&#34;
jail_mail_ip=&#34;192.168.3.18&#34;
jail_mail_rootdir=&#34;/usr/home/j/mail&#34;
jail_mail_devfs_enable=&#34;YES&#34;
jail_www_hostname=&#34;www.example.org&#34;
jail_www_ip=&#34;62.123.43.14&#34;
jail_www_rootdir=&#34;/usr/home/j/www&#34;
jail_www_devfs_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>The <code>jail<em>name</em>rootdir</code> variable is set to <span class=filename>/usr/home</span> instead of <span class=filename>/home</span> because the physical path of <span class=filename>/home</span> on a default FreeBSD installation is <span class=filename>/usr/home</span>. The <code>jail<em>name</em>rootdir</code> variable must <em>not</em> be set to a path which includes a symbolic link, otherwise the jails will refuse to start.</p></div></li><li><p>Create the required mount points for the read-only file system of each jail:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j/ns /home/j/mail /home/j/www</span></code></pre></div></div></li><li><p>Install the read-write template into each jail using <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cpdup/>sysutils/cpdup</a>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/js</span>
<span class=c># cpdup /home/j/skel /home/js/ns</span>
<span class=c># cpdup /home/j/skel /home/js/mail</span>
<span class=c># cpdup /home/j/skel /home/js/www</span></code></pre></div></div></li><li><p>In this phase, the jails are built and prepared to run. First, mount the required file systems for each jail, and then start them:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -a</span>
<span class=c># service jail start</span></code></pre></div></div></li></ol></div><div class=paragraph><p>The jails should be running now. To check if they have started correctly, use <code>jls</code>. Its output should be similar to the following:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># jls</span>
   JID  IP Address      Hostname                      Path
     3  192.168.3.17    ns.example.org                /home/j/ns
     2  192.168.3.18    mail.example.org              /home/j/mail
     1  62.123.43.14    www.example.org               /home/j/www</code></pre></div></div><div class=paragraph><p>At this point, it should be possible to log onto each jail, add new users, or configure daemons. The <code>JID</code> column indicates the jail identification number of each running jail. Use the following command to perform administrative tasks in the jail whose JID is <code>3</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># jexec 3 tcsh</span></code></pre></div></div></div><div class=sect2><h3 id=jails-service-jails-upgrading>15.5.3. Upgrading<a class=anchor href=#jails-service-jails-upgrading></a></h3><div class=paragraph><p>The design of this setup provides an easy way to upgrade existing jails while minimizing their downtime. Also, it provides a way to roll back to the older version should a problem occur.</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>The first step is to upgrade the host system. Then, create a new temporary read-only template in <span class=filename>/home/j/mroot2</span>.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j/mroot2</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld DESTDIR=/home/j/mroot2</span>
<span class=c># cd /home/j/mroot2</span>
<span class=c># cpdup /usr/src usr/src</span>
<span class=c># mkdir s</span></code></pre></div></div><div class=paragraph><p>The <code>installworld</code> creates a few unnecessary directories, which should be removed:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chflags -R 0 var</span>
<span class=c># rm -R etc var root usr/local tmp</span></code></pre></div></div></li><li><p>Recreate the read-write symlinks for the master file system:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -s s/etc etc</span>
<span class=c># ln -s s/root root</span>
<span class=c># ln -s s/home home</span>
<span class=c># ln -s ../s/usr-local usr/local</span>
<span class=c># ln -s ../s/usr-X11R6 usr/X11R6</span>
<span class=c># ln -s s/tmp tmp</span>
<span class=c># ln -s s/var var</span></code></pre></div></div></li><li><p>Next, stop the jails:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service jail stop</span></code></pre></div></div></li><li><p>Unmount the original file systems as the read-write systems are attached to the read-only system (<span class=filename>/s</span>):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># umount /home/j/ns/s</span>
<span class=c># umount /home/j/ns</span>
<span class=c># umount /home/j/mail/s</span>
<span class=c># umount /home/j/mail</span>
<span class=c># umount /home/j/www/s</span>
<span class=c># umount /home/j/www</span></code></pre></div></div></li><li><p>Move the old read-only file system and replace it with the new one. This will serve as a backup and archive of the old read-only file system should something go wrong. The naming convention used here corresponds to when a new read-only file system has been created. Move the original FreeBSD Ports Collection over to the new file system to save some space and inodes:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /home/j</span>
<span class=c># mv mroot mroot.20060601</span>
<span class=c># mv mroot2 mroot</span>
<span class=c># mv mroot.20060601/usr/ports mroot/usr</span></code></pre></div></div></li><li><p>At this point the new read-only template is ready, so the only remaining task is to remount the file systems and start the jails:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -a</span>
<span class=c># service jail start</span></code></pre></div></div></li></ol></div><div class=paragraph><p>Use <code>jls</code> to check if the jails started correctly. Run <code>mergemaster</code> in each jail to update the configuration files.</p></div></div></div></div><div class=sect1><h2 id=jails-ezjail>15.6. Managing Jails with ezjail<a class=anchor href=#jails-ezjail></a></h2><div class=sectionbody><div class=paragraph><p>Creating and managing multiple jails can quickly become tedious and error-prone. Dirk Engling’s ezjail automates and greatly simplifies many jail tasks. A <em>basejail</em> is created as a template. Additional jails use <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nullfs&amp;sektion=8&amp;format=html">mount_nullfs(8)</a> to share many of the basejail directories without using additional disk space. Each additional jail takes only a few megabytes of disk space before applications are installed. Upgrading the copy of the userland in the basejail automatically upgrades all of the other jails.</p></div><div class=paragraph><p>Additional benefits and features are described in detail on the ezjail web site, <a href=https://erdgeist.org/arts/software/ezjail/ class=bare>https://erdgeist.org/arts/software/ezjail/</a>.</p></div><div class=sect2><h3 id=jails-ezjail-install>15.6.1. Installing ezjail<a class=anchor href=#jails-ezjail-install></a></h3><div class=paragraph><p>Installing ezjail consists of adding a loopback interface for use in jails, installing the port or package, and enabling the service.</p></div><div id=jails-ezjail-install-procedure class="olist arabic procedure"><ol class=arabic><li><p>To keep jail loopback traffic off the host’s loopback network interface <code>lo0</code>, a second loopback interface is created by adding an entry to <span class=filename>/etc/rc.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>cloned_interfaces=&#34;lo1&#34;</pre></div></div><div class=paragraph><p>The second loopback interface <code>lo1</code> will be created when the system starts. It can also be created manually without a restart:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service netif cloneup</span>
Created clone interfaces: lo1.</code></pre></div></div><div class=paragraph><p>Jails can be allowed to use aliases of this secondary loopback interface without interfering with the host.</p></div><div class=paragraph><p>Inside a jail, access to the loopback address <code>127.0.0.1</code> is redirected to the first IP address assigned to the jail. To make the jail loopback correspond with the new <code>lo1</code> interface, that interface must be specified first in the list of interfaces and IP addresses given when creating a new jail.</p></div><div class=paragraph><p>Give each jail a unique loopback address in the <code>127.0.0.0/8</code> netblock.</p></div></li><li><p>Install <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/ezjail/>sysutils/ezjail</a>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/sysutils/ezjail</span>
<span class=c># make install clean</span></code></pre></div></div></li><li><p>Enable ezjail by adding this line to <span class=filename>/etc/rc.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>ezjail_enable=&#34;YES&#34;</pre></div></div></li><li><p>The service will automatically start on system boot. It can be started immediately for the current session:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ezjail start</span></code></pre></div></div></li></ol></div></div><div class=sect2><h3 id=jails-ezjail-initialsetup>15.6.2. Initial Setup<a class=anchor href=#jails-ezjail-initialsetup></a></h3><div class=paragraph><p>With ezjail installed, the basejail directory structure can be created and populated. This step is only needed once on the jail host computer.</p></div><div class=paragraph><p>In both of these examples, <code>-p</code> causes the ports tree to be retrieved with <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> into the basejail. That single copy of the ports directory will be shared by all the jails. Using a separate copy of the ports directory for jails isolates them from the host. The ezjailFAQ explains in more detail: <a href=http://erdgeist.org/arts/software/ezjail/#FAQ class=bare>http://erdgeist.org/arts/software/ezjail/#FAQ</a>.</p></div><div id=jails-ezjail-initialsetup-procedure class="olist arabic procedure"><ol class=arabic><li><p>To Populate the Jail with FreeBSD-RELEASE</p><div class=paragraph><p>For a basejail based on the FreeBSD RELEASE matching that of the host computer, use <code>install</code>. For example, on a host computer running FreeBSD 10-STABLE, the latest RELEASE version of FreeBSD -10 will be installed in the jail):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin install -p</span></code></pre></div></div></li><li><p>To Populate the Jail with <code>installworld</code></p><div class=paragraph><p>The basejail can be installed from binaries created by <code>buildworld</code> on the host with <code>ezjail-admin update</code>.</p></div><div class=paragraph><p>In this example, FreeBSD 10-STABLE has been built from source. The jail directories are created. Then <code>installworld</code> is executed, installing the host’s <span class=filename>/usr/obj</span> into the basejail.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin update -i -p</span></code></pre></div></div><div class=paragraph><p>The host’s <span class=filename>/usr/src</span> is used by default. A different source directory on the host can be specified with <code>-s</code> and a path, or set with <code>ezjail_sourcetree</code> in <span class=filename>/usr/local/etc/ezjail.conf</span>.</p></div></li></ol></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>The basejail’s ports tree is shared by other jails. However, downloaded distfiles are stored in the jail that downloaded them. By default, these files are stored in <span class=filename>/var/ports/distfiles</span> within each jail. <span class=filename>/var/ports</span> inside each jail is also used as a work directory when building ports.</p></div></td></tr></tbody></table></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>The FTP protocol is used by default to download packages for the installation of the basejail. Firewall or proxy configurations can prevent or interfere with FTP transfers. The HTTP protocol works differently and avoids these problems. It can be chosen by specifying a full URL for a particular download mirror in <span class=filename>/usr/local/etc/ezjail.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>ezjail_ftphost=http://ftp.FreeBSD.org</pre></div></div><div class=paragraph><p>See <a href=../mirrors/#mirrors-ftp>“FTP Sites”</a> for a list of sites.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=jails-ezjail-create>15.6.3. Creating and Starting a New Jail<a class=anchor href=#jails-ezjail-create></a></h3><div class=paragraph><p>New jails are created with <code>ezjail-admin create</code>. In these examples, the <code>lo1</code> loopback interface is used as described above.</p></div><div id=jails-ezjail-create-steps class="olist arabic procedure"><div class=title>Procedure: Create and Start a New Jail</div><ol class=arabic><li><p>Create the jail, specifying a name and the loopback and network interfaces to use, along with their IP addresses. In this example, the jail is named <code>dnsjail</code>.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin create dnsjail &#39;lo1|127.0.1.1,em0|192.168.1.50&#39;</span></code></pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Most network services run in jails without problems. A few network services, most notably <a href="https://man.freebsd.org/cgi/man.cgi?query=ping&amp;sektion=8&amp;format=html">ping(8)</a>, use <em>raw network sockets</em>. In jails, raw network sockets are disabled by default for security. Services that require them will not work.</p></div><div class=paragraph><p>Occasionally, a jail genuinely needs raw sockets. For example, network monitoring applications often use <a href="https://man.freebsd.org/cgi/man.cgi?query=ping&amp;sektion=8&amp;format=html">ping(8)</a> to check the availability of other computers. When raw network sockets are actually needed in a jail, they can be enabled by editing the ezjail configuration file for the individual jail, <span class=filename>/usr/local/etc/ezjail/jailname</span>. Modify the <code>parameters</code> entry:</p></div><div class="literalblock programlisting"><div class=content><pre>export jail_jailname_parameters=&#34;allow.raw_sockets=1&#34;</pre></div></div><div class=paragraph><p>Do not enable raw network sockets unless services in the jail actually require them.</p></div></td></tr></tbody></table></div></li><li><p>Start the jail:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin start dnsjail</span></code></pre></div></div></li><li><p>Use a console on the jail:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin console dnsjail</span></code></pre></div></div></li></ol></div><div class=paragraph><p>The jail is operating and additional configuration can be completed. Typical settings added at this point include:</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>Set the <code>root</code> Password</p><div class=paragraph><p>Connect to the jail and set the <code>root</code> user’s password:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin console dnsjail</span>
<span class=c># passwd</span>
Changing <span class=nb>local </span>password <span class=k>for </span>root
New Password:
Retype New Password:</code></pre></div></div></li><li><p>Time Zone Configuration</p><div class=paragraph><p>The jail’s time zone can be set with <a href="https://man.freebsd.org/cgi/man.cgi?query=tzsetup&amp;sektion=8&amp;format=html">tzsetup(8)</a>. To avoid spurious error messages, the <a href="https://man.freebsd.org/cgi/man.cgi?query=adjkerntz&amp;sektion=8&amp;format=html">adjkerntz(8)</a> entry in <span class=filename>/etc/crontab</span> can be commented or removed. This job attempts to update the computer’s hardware clock with time zone changes, but jails are not allowed to access that hardware.</p></div></li><li><p>DNS Servers</p><div class=paragraph><p>Enter domain name server lines in <span class=filename>/etc/resolv.conf</span> so DNS works in the jail.</p></div></li><li><p>Edit <span class=filename>/etc/hosts</span></p><div class=paragraph><p>Change the address and add the jail name to the <code>localhost</code> entries in <span class=filename>/etc/hosts</span>.</p></div></li><li><p>Configure <span class=filename>/etc/rc.conf</span></p><div class=paragraph><p>Enter configuration settings in <span class=filename>/etc/rc.conf</span>. This is much like configuring a full computer. The host name and IP address are not set here. Those values are already provided by the jail configuration.</p></div></li></ol></div><div class=paragraph><p>With the jail configured, the applications for which the jail was created can be installed.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Some ports must be built with special options to be used in a jail. For example, both of the network monitoring plugin packages <a class=package href=https://cgit.freebsd.org/ports/tree/net-mgmt/nagios-plugins/>net-mgmt/nagios-plugins</a> and <a class=package href=https://cgit.freebsd.org/ports/tree/net-mgmt/monitoring-plugins/>net-mgmt/monitoring-plugins</a> have a <code>JAIL</code> option which must be enabled for them to work correctly inside a jail.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=jails-ezjail-update>15.6.4. Updating Jails<a class=anchor href=#jails-ezjail-update></a></h3><div class=sect3><h4 id=jails-ezjail-update-os>15.6.4.1. Updating the Operating System<a class=anchor href=#jails-ezjail-update-os></a></h4><div class=paragraph><p>Because the basejail’s copy of the userland is shared by the other jails, updating the basejail automatically updates all of the other jails. Either source or binary updates can be used.</p></div><div class=paragraph><p>To build the world from source on the host, then install it in the basejail, use:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin update -b</span></code></pre></div></div><div class=paragraph><p>If the world has already been compiled on the host, install it in the basejail with:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin update -i</span></code></pre></div></div><div class=paragraph><p>Binary updates use <a href="https://man.freebsd.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8&amp;format=html">freebsd-update(8)</a>. These updates have the same limitations as if <a href="https://man.freebsd.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8&amp;format=html">freebsd-update(8)</a> were being run directly. The most important one is that only -RELEASE versions of FreeBSD are available with this method.</p></div><div class=paragraph><p>Update the basejail to the latest patched release of the version of FreeBSD on the host. For example, updating from RELEASE-p1 to RELEASE-p2.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin update -u</span></code></pre></div></div><div class=paragraph><p>To upgrade the basejail to a new version, first upgrade the host system as described in <a href=../cutting-edge/#freebsdupdate-upgrade>“Performing Major and Minor Version Upgrades”</a>. Once the host has been upgraded and rebooted, the basejail can then be upgraded. <a href="https://man.freebsd.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8&amp;format=html">freebsd-update(8)</a> has no way of determining which version is currently installed in the basejail, so the original version must be specified. Use <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> to determine the original version in the basejail:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># file /usr/jails/basejail/bin/sh</span>
/usr/jails/basejail/bin/sh: ELF 64-bit LSB executable, x86-64, version 1 <span class=o>(</span>FreeBSD<span class=o>)</span>, dynamically linked <span class=o>(</span>uses shared libs<span class=o>)</span>, <span class=k>for </span>FreeBSD 9.3, stripped</code></pre></div></div><div class=paragraph><p>Now use this information to perform the upgrade from <code>9.3-RELEASE</code> to the current version of the host system:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin update -U -s 9.3-RELEASE</span></code></pre></div></div><div class=paragraph><p>After updating the basejail, <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> must be run to update each jail’s configuration files.</p></div><div class=paragraph><p>How to use <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> depends on the purpose and trustworthiness of a jail. If a jail’s services or users are not trusted, then <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> should only be run from within that jail:</p></div><div id=jails-ezjail-update-mergemaster-untrusted class=exampleblock><div class=title>Przykład 1. <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> on Untrusted Jail</div><div class=content><div class=paragraph><p>Delete the link from the jail’s <span class=filename>/usr/src</span> into the basejail and create a new <span class=filename>/usr/src</span> in the jail as a mountpoint. Mount the host computer’s <span class=filename>/usr/src</span> read-only on the jail’s new <span class=filename>/usr/src</span> mountpoint:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rm /usr/jails/jailname/usr/src</span>
<span class=c># mkdir /usr/jails/jailname/usr/src</span>
<span class=c># mount -t nullfs -o ro /usr/src /usr/jails/jailname/usr/src</span></code></pre></div></div><div class=paragraph><p>Get a console in the jail:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin console jailname</span></code></pre></div></div><div class=paragraph><p>Inside the jail, run <code>mergemaster</code>. Then exit the jail console:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># mergemaster -U</span>
<span class=c># exit</span></code></pre></div></div><div class=paragraph><p>Finally, unmount the jail’s <span class=filename>/usr/src</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># umount /usr/jails/jailname/usr/src</span></code></pre></div></div></div></div><div id=jails-ezjail-update-mergemaster-trusted class=exampleblock><div class=title>Przykład 2. <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> on Trusted Jail</div><div class=content><div class=paragraph><p>If the users and services in a jail are trusted, <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> can be run from the host:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mergemaster -U -D /usr/jails/jailname</span></code></pre></div></div></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>After a major version update it is recommended by <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/ezjail/>sysutils/ezjail</a> to make sure your <code>pkg</code> is of the correct version. Therefore enter:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg-static upgrade -f pkg</span></code></pre></div></div><div class=paragraph><p>to upgrade or downgrade to the appropriate version.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=jails-ezjail-update-ports>15.6.4.2. Updating Ports<a class=anchor href=#jails-ezjail-update-ports></a></h4><div class=paragraph><p>The ports tree in the basejail is shared by the other jails. Updating that copy of the ports tree gives the other jails the updated version also.</p></div><div class=paragraph><p>The basejail ports tree is updated with <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin update -P</span></code></pre></div></div></div></div><div class=sect2><h3 id=jails-ezjail-control>15.6.5. Controlling Jails<a class=anchor href=#jails-ezjail-control></a></h3><div class=sect3><h4 id=jails-ezjail-control-stop-start>15.6.5.1. Stopping and Starting Jails<a class=anchor href=#jails-ezjail-control-stop-start></a></h4><div class=paragraph><p>ezjail automatically starts jails when the computer is started. Jails can be manually stopped and restarted with <code>stop</code> and <code>start</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin stop sambajail</span>
Stopping jails: sambajail.</code></pre></div></div><div class=paragraph><p>By default, jails are started automatically when the host computer starts. Autostarting can be disabled with <code>config</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin config -r norun seldomjail</span></code></pre></div></div><div class=paragraph><p>This takes effect the next time the host computer is started. A jail that is already running will not be stopped.</p></div><div class=paragraph><p>Enabling autostart is very similar:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin config -r run oftenjail</span></code></pre></div></div></div><div class=sect3><h4 id=jails-ezjail-control-backup>15.6.5.2. Archiving and Restoring Jails<a class=anchor href=#jails-ezjail-control-backup></a></h4><div class=paragraph><p>Use <code>archive</code> to create a <span class=filename>.tar.gz</span> archive of a jail. The file name is composed from the name of the jail and the current date. Archive files are written to the archive directory, <span class=filename>/usr/jails/ezjail_archives</span>. A different archive directory can be chosen by setting <code>ezjail_archivedir</code> in the configuration file.</p></div><div class=paragraph><p>The archive file can be copied elsewhere as a backup, or an existing jail can be restored from it with <code>restore</code>. A new jail can be created from the archive, providing a convenient way to clone existing jails.</p></div><div class=paragraph><p>Stop and archive a jail named <code>wwwserver</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin stop wwwserver</span>
Stopping jails: wwwserver.
<span class=c># ezjail-admin archive wwwserver</span>
<span class=c># ls /usr/jails/ezjail-archives/</span>
wwwserver-201407271153.13.tar.gz</code></pre></div></div><div class=paragraph><p>Create a new jail named <code>wwwserver-clone</code> from the archive created in the previous step. Use the <span class=filename>em1</span> interface and assign a new IP address to avoid conflict with the original:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin create -a /usr/jails/ezjail_archives/wwwserver-201407271153.13.tar.gz wwwserver-clone &#39;lo1|127.0.3.1,em1|192.168.1.51&#39;</span></code></pre></div></div></div></div><div class=sect2><h3 id=jails-ezjail-example-bind>15.6.6. Full Example: BIND in a Jail<a class=anchor href=#jails-ezjail-example-bind></a></h3><div class=paragraph><p>Putting the BINDDNS server in a jail improves security by isolating it. This example creates a simple caching-only name server.</p></div><div class=ulist><ul><li><p>The jail will be called <code>dns1</code>.</p></li><li><p>The jail will use IP address <code>192.168.1.240</code> on the host’s <code>re0</code> interface.</p></li><li><p>The upstream ISP’s DNS servers are at <code>10.0.0.62</code> and <code>10.0.0.61</code>.</p></li><li><p>The basejail has already been created and a ports tree installed as shown in <a href=#jails-ezjail-initialsetup>Initial Setup</a>.</p></li></ul></div><div id=jails-ezjail-example-bind-steps class=exampleblock><div class=title>Przykład 3. Running BIND in a Jail</div><div class=content><div class=paragraph><p>Create a cloned loopback interface by adding a line to <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>cloned_interfaces=&#34;lo1&#34;</pre></div></div><div class=paragraph><p>Immediately create the new loopback interface:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service netif cloneup</span>
Created clone interfaces: lo1.</code></pre></div></div><div class=paragraph><p>Create the jail:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin create dns1 &#39;lo1|127.0.2.1,re0|192.168.1.240&#39;</span></code></pre></div></div><div class=paragraph><p>Start the jail, connect to a console running on it, and perform some basic configuration:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ezjail-admin start dns1</span>
<span class=c># ezjail-admin console dns1</span>
<span class=c># passwd</span>
Changing <span class=nb>local </span>password <span class=k>for </span>root
New Password:
Retype New Password:
<span class=c># tzsetup</span>
<span class=c># sed -i .bak -e &#39;/adjkerntz/ s/^/#/&#39; /etc/crontab</span>
<span class=c># sed -i .bak -e &#39;s/127.0.0.1/127.0.2.1/g; s/localhost.my.domain/dns1.my.domain dns1/&#39; /etc/hosts</span></code></pre></div></div><div class=paragraph><p>Temporarily set the upstream DNS servers in <span class=filename>/etc/resolv.conf</span> so ports can be downloaded:</p></div><div class="literalblock programlisting"><div class=content><pre>nameserver 10.0.0.62
nameserver 10.0.0.61</pre></div></div><div class=paragraph><p>Still using the jail console, install <a class=package href=https://cgit.freebsd.org/ports/tree/dns/bind99/>dns/bind99</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -C /usr/ports/dns/bind99 install clean</span></code></pre></div></div><div class=paragraph><p>Configure the name server by editing <span class=filename>/usr/local/etc/namedb/named.conf</span>.</p></div><div class=paragraph><p>Create an Access Control List (ACL) of addresses and networks that are permitted to send DNS queries to this name server. This section is added just before the <code>options</code> section already in the file:</p></div><div class="literalblock programlisting"><div class=content><pre>...
// or cause huge amounts of useless Internet traffic.

acl &#34;trusted&#34; {
	192.168.1.0/24;
	localhost;
	localnets;
};

options {
...</pre></div></div><div class=paragraph><p>Use the jail IP address in the <code>listen-on</code> setting to accept DNS queries from other computers on the network:</p></div><div class="literalblock programlisting"><div class=content><pre>	listen-on	{ 192.168.1.240; };</pre></div></div><div class=paragraph><p>A simple caching-only DNS name server is created by changing the <code>forwarders</code> section. The original file contains:</p></div><div class="literalblock programlisting"><div class=content><pre>/*
	forwarders {
		127.0.0.1;
	};
*/</pre></div></div><div class=paragraph><p>Uncomment the section by removing the <code>/*</code> and <code>*/</code> lines. Enter the IP addresses of the upstream DNS servers. Immediately after the <code>forwarders</code> section, add references to the <code>trusted</code> ACL defined earlier:</p></div><div class="literalblock programlisting"><div class=content><pre>	forwarders {
		10.0.0.62;
		10.0.0.61;
	};

	allow-query       { any; };
	allow-recursion   { trusted; };
	allow-query-cache { trusted; };</pre></div></div><div class=paragraph><p>Enable the service in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>named_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Start and test the name server:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service named start</span>
wrote key file <span class=s2>&#34;/usr/local/etc/namedb/rndc.key&#34;</span>
Starting named.
<span class=c># /usr/local/bin/dig @192.168.1.240 freebsd.org</span></code></pre></div></div><div class=paragraph><p>A response that includes</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=p>;;</span> Got answer<span class=p>;</span></code></pre></div></div><div class=paragraph><p>shows that the new DNS server is working. A long delay followed by a response including</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=p>;;</span> connection timed out<span class=p>;</span> no servers could be reached</code></pre></div></div><div class=paragraph><p>shows a problem. Check the configuration settings and make sure any local firewalls allow the new DNS access to the upstream DNS servers.</p></div><div class=paragraph><p>The new DNS server can use itself for local name resolution, just like other local computers. Set the address of the DNS server in the client computer’s <span class=filename>/etc/resolv.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>nameserver 192.168.1.240</pre></div></div><div class=paragraph><p>A local DHCP server can be configured to provide this address for a local DNS server, providing automatic configuration on DHCP clients.</p></div></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 9 marca 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/pl/books/handbook/security class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/pl/books/handbook/mac class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#jails-synopsis>15.1. Synopsis</a></li><li><a href=#jails-terms>15.2. Terms Related to Jails</a></li><li><a href=#jails-build>15.3. Creating and Controlling Jails</a></li><li><a href=#jails-tuning>15.4. Fine Tuning and Administration</a></li><li><a href=#jails-application>15.5. Updating Multiple Jails</a></li><li><a href=#jails-ezjail>15.6. Managing Jails with ezjail</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/pl/books/handbook/handbook_pl.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/pl/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/pl/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>Polish</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/pl class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/pl/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>