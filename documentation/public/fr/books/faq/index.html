<!doctype html><html class=theme-light lang=fr><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/fr/books/faq/><title>Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="fr"><meta property="og:url" content="http://172.16.201.134:1313/fr/books/faq/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/fr\/books\/faq\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/fr>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/fr/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/fr/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/fr/books>Books</a></li><li><a href=http://172.16.201.134:1313/fr/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/fr/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=fr>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><div class=book><h1 class=title>Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=copyright>Copyright © 1995-2020 The FreeBSD Documentation Project</div><div class=legalnotice><a id=trademarks></a><details><summary>Marques déposées</summary><p>FreeBSD is a registered trademark of the FreeBSD Foundation.</p><p>IBM, AIX, OS/2, PowerPC, PS/2, S/390, and ThinkPad are trademarks of International Business Machines Corporation in the United States, other countries, or both.</p><p>IEEE, POSIX, and 802 are registered trademarks of Institute of Electrical and Electronics Engineers, Inc. in the United States.</p><p>Adobe, Acrobat, Acrobat Reader, Flash and PostScript are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries.</p><p>Intel, Celeron, Centrino, Core, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are trademarks or registered trademarks of Intel Corporation or its subsidiaries in the United States and other countries.</p><p>Linux is a registered trademark of Linus Torvalds.</p><p>Microsoft, IntelliMouse, MS-DOS, Outlook, Windows, Windows Media and Windows NT are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries.</p><p>Motif, OSF/1, and UNIX are registered trademarks and IT DialTone and The Open Group are trademarks of The Open Group in the United States and other countries.</p><p>Sun, Sun Microsystems, Java, Java Virtual Machine, JDK, JRE, JSP, JVM, Netra, OpenJDK, Solaris, StarOffice, SunOS and VirtualBox are trademarks or registered trademarks of Sun Microsystems, Inc. in the United States and other countries.</p><p>NetBSD is a registered trademark of the NetBSD Foundation.</p><p>Many of the designations used by manufacturers and sellers to distinguish their products are claimed as trademarks. Where those designations appear in this document, and the FreeBSD Project was aware of the trademark claim, the designations have been followed by the “™” or the “®” symbol.</p></details></div><div class=toc-mobile><h3>Sommaire</h3><nav id=TableOfContents><ul><li><a href=#_préface_mise_à_jour_en_cours>1. Préface. <strong>Mise à jour en cours</strong></a></li><li><a href=#_installation_mise_à_jour_en_cours>2. Installation. <strong>Mise à jour en cours</strong></a></li><li><a href=#_compatibilité_matérielle_mise_à_jour_en_cours>3. Compatibilité matérielle. <strong>Mise à jour en cours</strong></a></li><li><a href=#_résolutions_des_incidents_mise_à_jour_en_cours>4. Résolutions des incidents. <strong>Mise à jour en cours</strong></a></li><li><a href=#_applications_commerciales_mise_à_jour_en_cours>5. Applications commerciales. <strong>Mise à jour en cours</strong></a></li><li><a href=#_applications_mise_à_jour_en_cours>6. Applications. <strong>Mise à jour en cours</strong></a></li><li><a href=#_configuration_du_noyau_mise_à_jour_en_cours>7. Configuration du noyau. <strong>Mise à jour en cours</strong></a></li><li><a href=#_administration_système_mise_à_jour_en_cours>8. Administration système. <strong>Mise à jour en cours</strong></a></li><li><a href=#_le_système_x_windows_et_les_consoles_virtuelles_mise_à_jour_en_cours>9. Le système X-Windows et les consoles virtuelles. <strong>Mise à jour en cours</strong></a></li><li><a href=#_réseaux_mise_à_jour_en_cours>10. Réseaux. <strong>Mise à jour en cours</strong></a></li><li><a href=#_communications_par_port_série_mise_à_jour_en_cours>11. Communications par port série. <strong>Mise à jour en cours</strong></a></li><li><a href=#_questions_diverses_mise_à_jour_en_cours>12. Questions diverses. <strong>Mise à jour en cours</strong></a></li><li><a href=#_pour_les_passionnés_mise_à_jour_en_cours>13. Pour les passionnés. <strong>Mise à jour en cours</strong></a></li><li><a href=#_remerciements_mise_à_jour_en_cours>14. REMERCIEMENTS. <strong>Mise à jour en cours</strong></a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class="paragraph abstract-title"><p>Résumé</p></div><div class=paragraph><p>Ceci est la FAQ pour les versions de FreeBSD 2.X, 3.X et 4.X. Toutes les entrées sont relatives à FreeBSD 2.05 et les versions ultérieures. La dernière version de ce document est disponible en anglais à l’adresse suivante : <a href=http://www.fr.FreeBSD.ORG/>FreeBSD World Wide Web server</a>. Ce document est également disponible en un seul fichier <a href=.>HTML</a> sur le serveur HTTP du projet, ou en texte, PostScript, PDF, etc. sur le serveur <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/>FTP de FreeBSD</a>. Vous pouvez aussi, <a href=https://www.FreeBSD.org/search/>chercher dans cette FAQ</a>.</p></div><hr></div></div><div class=sect1><h2 id=_préface_mise_à_jour_en_cours>1. Préface. <strong>Mise à jour en cours</strong><a class=anchor href=#_préface_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_quel_est_le_but_de_cette_faq>1.1. Quel est le but de cette FAQ ?<a class=anchor href=#_quel_est_le_but_de_cette_faq></a></h3><div class=paragraph><p>Comme toutes les FAQ Usenet, ce document contient les questions les plus fréquemment posées à propos du système d’exploitation FreeBSD, ainsi que leurs réponses. Bien que destinées, à l’origine, à réduire le trafic et éviter que les mêmes questions soient posées encore et encore, les FAQ sont maintenant reconnues comme de précieuses sources d’information.</p></div><div class=paragraph><p>Tous les efforts ont été apportés pour rendre cette FAQ la plus complète possible. Si vous avez des commentaires la concernant ou si vous voulez y contribuer, envoyez un e-mail au <a href=mailto:freebsd-france@freebsd.francenet.fr>responsable de cette FAQ</a>.</p></div></div><div class=sect2><h3 id=_freebsd_cest_quoi>1.2. FreeBSD c’est quoi ?<a class=anchor href=#_freebsd_cest_quoi></a></h3><div class=paragraph><p>Pour résumer, FreeBSD 2.X est un système d’exploitation UN*X basé sur la distribution 4.4BSD-lite de l’université de Berkeley pour des plate-formes i386. Il est aussi basé indirectement sur le portage de William Jolitz de la distribution Net/2 de l’université de Berkeley, plus connu sous le nom de 386BSD, mais très peu de code de 386BSD subsiste. Une description plus complète de ce qu’est FreeBSD et à quoi il peut vous servir, peut être trouvée à <a href=http://www.fr.freebsd.org>la page d’accueil de FreeBSD</a>.</p></div><div class=paragraph><p>FreeBSD est utilisé par des sociétés commerciales, fournisseurs d’accès à l’Internet, chercheurs, professionnels de l’informatique, étudiants et particuliers à travers le monde entier pour travailler, apprendre et se divertir. Reportez-vous à la <a href=http://www.fr.freebsd.org/gallery/gallery.html>galerie FreeBSD</a> pour vous faire une idée.</p></div><div class=paragraph><p>Pour plus de détails et d’informations sur FreeBSD, référez vous au <a href=https://docs.freebsd.org/fr/books/handbook/>manuel de FreeBSD</a></p></div></div><div class=sect2><h3 id=_quels_sont_les_buts_de_freebsd>1.3. Quels sont les buts de FreeBSD ?<a class=anchor href=#_quels_sont_les_buts_de_freebsd></a></h3><div class=paragraph><p>L’objectif du projet FreeBSD est de fournir un logiciel qui puisse être utilisé à n’importe quelle fin et sans aucun restriction. Nombre d’entre nous sont impliqués de façon significative dans le code (et dans le projet) et ne refuseraient certainement pas une petite compensation financière de temps à autre, mais ce n’est certainement pas dans nos intentions d’insister là dessus. Nous croyons que notre première et principale "mission" est de fournir du code à tout le monde, pour n’importe quel projet, de façon à ce que l’il soit utilisé le plus possible et avec le maximum d’avantages. C’est, nous le pensons, l’un des objectifs les plus fondamentaux du Logiciel Libre et l’un de ceux que nous soutenons avec enthousiasme.</p></div><div class=paragraph><p>Le code de l’arborescence des sources, qui est régi par la Licence Publique GNU ("GNU Public License" - GPL) ou la Licence Publique GNU pour les Bibliothèques ("GNU Library Public License" - GLPL) impose légèrement plus de contraintes, bien que plutôt liées à une disponibilité plus grande qu’au contraire, comme c’est généralement le cas. En raison des complications supplémentaires qui peuvent résulter de l’utilisation commerciale de logiciels GPL, nous essayons, cependant de remplacer ces derniers par des logiciels soumis à la licence BSD qui est plus souple, chaque fois que c’est possible.</p></div></div><div class=sect2><h3 id=_pourquoi_le_nom_freebsd>1.4. Pourquoi le nom FreeBSD ?<a class=anchor href=#_pourquoi_le_nom_freebsd></a></h3><div class=ulist><ul><li><p>Il peut être utilisé gratuitement, même pour un usage commercial.</p></li><li><p>L’intégralité des sources est disponible gratuitement, et le moins de restrictions possible ont été placées sur son utilisation, sa distribution et son incorporation dans d’autres travaux (à des fins commerciales ou non).</p></li><li><p>N’importe quelle personne qui a une nouvelle fonctionnalité et/ou une correction de bogue peut soumettre une portion de code, qui pourra être inclus dans l’arbre de développement (moyennant une ou deux conditions évidentes).</p></li></ul></div><div class=paragraph><p>Pour ceux de nos lecteurs dont la langue maternelle n’est pas l’anglais, il est important de rappeler que le mot "free" est utilisé ici de deux manières, l’une signifiant "gratuitement" et l’autre "vous pouvez faire ce que vous voulez". Excepté une ou deux choses que vous <em>ne pouvez</em> pas faire avec le code FreeBSD, par exemple prétendre que vous l’avez développé, vous pouvez réellement faire ce que vous en voulez.</p></div></div><div class=sect2><h3 id=_quelle_est_la_dernière_version_de_freebsd>1.5. Quelle est la dernière version de FreeBSD ?<a class=anchor href=#_quelle_est_la_dernière_version_de_freebsd></a></h3><div class=paragraph><p>La <a href=ftp://ftp.freebsd.org/pub/FreeBSD/releases/i386/3.1-RELEASE>version 3.1</a> est la dernière version <em>stable</em> ; elle a été mise en circulation en février 1999. C’est aussi la dernière version <em>RELEASE</em>.</p></div><div class=paragraph><p>En quelques mots, la branche <em>-stable</em> est destinée aux fournisseurs d’accès à l’Internet et autres utilisateurs professionnels qui recherchent un système stable ainsi que des changements mineurs lors de la mise à jour de leur système en dernière version.</p></div></div><div class=sect2><h3 id=_quest_ce_que_freebsd_current>1.6. Qu’est-ce que FreeBSD-current ?<a class=anchor href=#_quest_ce_que_freebsd_current></a></h3><div class=paragraph><p><a href=https://docs.freebsd.org/fr/books/handbook/updating-upgrading#current>FreeBSD-current</a> est la version de développement du système d’exploitation, qui deviendra en temps utile la version 4.0-RELEASE. Comme telle, cette version ne peut intéresser que les développeurs du noyau ainsi que certains passionnés. Voyez <a href=https://docs.freebsd.org/fr/books/handbook/updating-upgrading#current>la section appropriée</a> du <a href=https://docs.freebsd.org/fr/books/handbook/>manuel</a> pour plus de détails sur l’utilisation de -current.</p></div><div class=paragraph><p>Si vous n’êtes pas familier avec ce système d’exploitation, ou que vous n’êtes pas capable de différencier un problème temporaire d’un problème critique, vous ne devez pas utiliser FreeBSD-current. Cette branche évolue assez rapidement et peut ne pas être compilée pendant un certain temps. Les personnes utilisant FreeBSD-current doivent être capables d’analyser n’importe quel problème et de ne rapporter que les erreurs utiles.</p></div><div class=paragraph><p>Assez souvent, une <a href=http://www.fr.freebsd.org/releases/snapshots/>version de test</a> est créée depuis la branche de développement -current et occasionnellement une distribution sur CDROM est disponible. Les buts de chaque version de test sont les suivants:</p></div><div class=ulist><ul><li><p>Tester la dernière version du programme d’installation.</p></li><li><p>Donner aux personnes voulant utiliser -current mais n’ayant pas le temps ou la bande passante pour suivre jour après jour les évolutions du système, une façon simple de faire évoluer leur système.</p></li><li><p>Garder un point de synchronisation pour les sources du système actuel, juste au cas ou nous casserions quelque chose plus tard d’une façon irrécupérable (Bien sur, CVS nous empêche normalement d’en arriver là :-).</p></li><li><p>Vérifier que toutes les nouvelles fonctionnalités nécessitant des tests ont le nombre maximum de testeurs potentiels.</p></li></ul></div><div class=paragraph><p>Aucune garantie ne peut être donnée sur le fait que les versions de test puissent être considérées comme des versions "de production". Pour des systèmes en production, vous devez attendre la version finale.</p></div><div class=paragraph><p>Les versions de test sont directement téléchargeables depuis <a href=ftp://current.freebsd.or/pub/FreeBSD>ce site</a> et sont générées en moyenne une fois par jour pour les branches 4.0-current et 3.0-stable.</p></div></div><div class=sect2><h3 id=_quel_est_le_concept_de_la_branche_freebsd_stable>1.7. Quel est le concept de la branche FreeBSD-stable ?<a class=anchor href=#_quel_est_le_concept_de_la_branche_freebsd_stable></a></h3><div class=paragraph><p>Revenons un peu en arrière, lorsque la version 2.0.5 de FreeBSD fut livrée, nous avons décidé de scinder le développement en deux branches. Une nommée <a href=http://www.freebsd-fr.org/handbook/stable.html>-stable</a>, où nous avons décidé de n’inclure que les correctifs testés et contenant quelques ajouts de fonctionnalités (pour les fournisseurs d’accès ou les sociétés à vocation commerciale où les fonctionnalités expérimentales sont plus qu’indésirables). L’autre nommée <a href=http://www.freebsd-fr.org/handbook/current.html>-current</a> qui nous emmènera jusqu’à la version 4.0-RELEASE (et audelà) depuis la livraison 2.0. Un dessin ASCII qui vous montre à quoi ressemble l’arbre de développement :</p></div><div class="literalblock programlisting"><div class=content><pre>                   2.0
                    |
                    |
                    |  [2.1-stable]
*Nouvelle BRANCHE*   2.0.5 -&gt; 2.1 -&gt; 2.1.5 -&gt; 2.1.6 -&gt; 2.1.7.1 [fin de la branche 2.1-stable]
                    |                                 (Mars 1997)
                    |
                    |
                    |  [2.2-stable]
*Nouvelle BRANCHE*   2.2.1 -&gt; 2.2.2-RELEASE -&gt; 2.2.5 -&gt; 2.2.6 -&gt; 2.2.7 -&gt; 2.2.8 [fin]
                    |(Mars 1997)   (Octobre 97) (Avril 98)  (Juillet 98)  (Décembre 1998)
                    |
                    |
                 3.0-SNAPs  (Debut 1er trimestre 1997)
                    |
                    |
                 3.0.0-RELEASE (Octobre 1998)
                    |
                    |  [3.0-stable]
*Nouvelle BRANCHE*   3.1  (Feb 1999) -&gt; ... future 3.x releases ...
                    |
                    |
                   \|/
                    +
            [4.0-current continues]</pre></div></div><div class=paragraph><div class=title>L’arbre de développement</div><p>La branche -current progresse lentement vers la version 4.0 et au-delà, la branche 2.2-stable étant terminée avec la version 2.2.8. La branche 3.0-stable l’a maintenant remplacée, la prochaine version arrivant avec la 3.1 au début 1999 . La version 4.0-current est maintenant la "branche courante" avec les premières versions 4.0 apparaissant au premier trimestre 2000.</p></div></div><div class=sect2><h3 id=_quand_sont_livrées_les_versions_de_freebsd>1.8. Quand sont livrées les versions de FreeBSD ?<a class=anchor href=#_quand_sont_livrées_les_versions_de_freebsd></a></h3><div class=paragraph><p>Les nouvelles versions de FreeBSD sont livrées quand l’équipe principale de FreeBSD décide qu’il y a suffisamment de nouveautés et/ou de correctifs pour justifier d’une version, et lorsqu’ils sont satisfaits des modifications apportées et qu’elles ne compromettent pas la stabilité de la version. Beaucoup d’utilisateurs pensent que cela fait partie des meilleures choses de FreeBSD, même si cela peut être un peu frustrant d’attendre que les derniers ajouts soient disponibles.</p></div><div class=paragraph><p>Les versions sont livrées à peu près tous les 4 mois en moyenne.</p></div><div class=paragraph><p>Pour les personnes qui ont besoin (ou veulent) d’un peu plus de risques, il y a les versions SNAP qui sont livrées un peu plus souvent (à peu près tous les mois).</p></div></div><div class=sect2><h3 id=_sur_quelles_plate_formes_autre_que_les_pc_est_disponible_freebsd>1.9. Sur quelles plate-formes, autre que les PC, est disponible FreeBSD ?<a class=anchor href=#_sur_quelles_plate_formes_autre_que_les_pc_est_disponible_freebsd></a></h3><div class=paragraph><p>Actuellement FreeBSD 3.x tourne sur une plate-forme <a href=https://www.FreeBSD.org/fr/alpha/>DEC Alpha </a>aussi bien que sur les architecture x86. Un intérêt a été exprimé pour un portage sur <a href=http://www.freebsd.org/~jseger/freebsd-sparc/>UltraSPARC</a> mais les détails de ce projet ne sont pas encore clairs.</p></div><div class=paragraph><p>Si vous disposez d’une autre architecture, nous vous conseillons d’aller voir aux URLs suivantes:</p></div><div class=ulist><ul><li><p><a href=http://www.netbsd.org>NetBSD</a></p></li><li><p><a href=http://www.openbsd.org>OpenBSD</a></p></li></ul></div></div><div class=sect2><h3 id=_qui_sont_les_responsables_de_freebsd>1.10. Qui sont les responsables de FreeBSD ?<a class=anchor href=#_qui_sont_les_responsables_de_freebsd></a></h3><div class=paragraph><p>Les décisions concernant le projet FreeBSD, comme les directions que vont prendre le projet ainsi que les personnes autorisées à ajouter du code dans le noyau, sont fixées par <a href=https://docs.freebsd.org/fr/books/handbook/>l’équipe principale</a>, composée d’environ 15 personnes. Il y a une équipe un peu plus large d’environ <a href=https://docs.freebsd.org/fr/books/handbook/>150 personnes</a> qui ont le droit d’effectuer des changements dans le code.</p></div><div class=paragraph><p>Bien sûr, la plupart des changements sont discutés au préalable dans les listes de messagerie, et il n’y a aucune restriction sur qui peut prendre part à la discussion.</p></div></div><div class=sect2><h3 id=_où_peut_on_trouver_freebsd>1.11. Où peut-on trouver FreeBSD ?<a class=anchor href=#_où_peut_on_trouver_freebsd></a></h3><div class=paragraph><p>Toutes les versions sont disponibles via un ftp anonyme sur le <a href=ftp://ftp.FreeBSD.ORG/pub/FreeBSD/>site ftp de FreeBSD</a></p></div><div class=ulist><ul><li><p>Pour la version 2.2-stable, 2.2.8R, voir le répertoire <a href=ftp://ftp.FreeBSD.ORG/pub/FreeBSD/release/2.2.8-RELEASE/>2.2.8-RELEASE</a>.</p></li><li><p>Pour la version 3.0-stable, 3.0-RELEASE, voir le répertoire <a href=ftp://current.freebsd.org/pub/FreeBSD/release/3.0-RELEASE>3.0-RELEASE</a>.</p></li><li><p>Les versions <a href=ftp://releng22.freebsd.org/pub/FreeBSD/>de tests 2.2 </a>sont compilées une fois par jour tout au long de la vie de la branche RELENG_2_2 (post 2.2.8). Sauf gros incident, la branche RELENG_2_2 est maintenue avec extrêmement d’attention (pas de changements expérimentaux, correctifs ajoutés après test dans la branche -current uniquement).</p></li><li><p>Les versions <a href=ftp://releng30.freebsd.org/pub/FreeBSD/>de test 3.0</a> sont compilées une fois par jour depuis la branche RELENG_3 (post 3.0-release)jusqu’à la 3.1-RELEASE.</p></li><li><p>Les versions <a href=ftp://current.freebsd.org/pub/FreeBSD/>de test 4.0</a> sont compilées une fois par jour depuis la branche -current, ce service étant juste là pour les personnes voulant la tester, ou les développeurs.</p></li></ul></div><div class=paragraph><p>FreeBSD est aussi disponible par CDROM chez :</p></div><div class=paragraph><p>En France</p></div><div class="literalblock programlisting"><div class=content><pre>Le Monde en Tique
6 rue du Maître Albert
75005 PARIS
FRANCE
Téléphone :01 55 42 73 73
Télécopie :01 55 42 73 74
WWW:Serveur WWW du Monde en Tique
Ouverture : Du lundi au samedi, de 9h30 à 19h30 sans interruption
Métro : Ligne 10 : Station Maubert - Mutualité
Rer B : Cluny - La Sorbonne, Sortie : Boulevard Saint-Michel - Boulevard Saint-Germain
Rer C : Saint Michel - Notre Dame, Sortie : Notre-Dame</pre></div></div><div class="literalblock programlisting"><div class=content><pre>Infothèque
32, rue de Moscou
75008 Paris
Téléphone:01 45 22 67 01
Télécopie:01 42 93 73 83
WWW: Serveur WWW de infotheque</pre></div></div><div class=paragraph><p>Aux USA</p></div><div class="literalblock programlisting"><div class=content><pre>Walnut Creek CDROM
4041 Pike Lane, Suite F
Concord, CA  94520  USA
Commandes:     +1 800 786-9907
Questions:  +1 925 674-0783
FAX:        +1 925 674-0821
email:      Commandes Walnut Creek
WWW:        Serveur WWW de Walnut Creek</pre></div></div><div class=paragraph><p>En Australie chez :</p></div><div class="literalblock programlisting"><div class=content><pre>Advanced Multimedia Distributors
Factory 1/1 Ovata Drive
Tullamarine, Melbourne
Victoria
Australia
Tel: +61 3 9338 6777

CDROM Support BBS
17 Irvine St
Peppermint Grove  WA 6011
Tel: +61 9 385-3793
Fax:   +61 9 385-2360</pre></div></div><div class=paragraph><p>En Angleterre :</p></div><div class="literalblock programlisting"><div class=content><pre>The Public Domain &amp; Shareware Library
Winscombe House, Beacon Rd
Crowborough
Sussex. TN6 1UL
Tel: +44 1892 663-298
Fax:   +44 1892 667-473</pre></div></div></div><div class=sect2><h3 id=_où_trouver_de_linformation_sur_les_listes_de_messagerie>1.12. Où trouver de l’information sur les listes de messagerie ?<a class=anchor href=#_où_trouver_de_linformation_sur_les_listes_de_messagerie></a></h3><div class=paragraph><p>Vous trouverez ces informations dans <a href=https://docs.freebsd.org/fr/books/handbook/eresources#eresources>la section sur les listes de diffusion du manuel</a></p></div></div><div class=sect2><h3 id=_quels_sont_les_forums_de_discussion_disponibles_sur_freebsd>1.13. Quels sont les forums de discussion disponibles sur FreeBSD ?<a class=anchor href=#_quels_sont_les_forums_de_discussion_disponibles_sur_freebsd></a></h3><div class=paragraph><p>Tous les forums sont listés dans la section sur <a href=https://docs.freebsd.org/fr/books/handbook/eresources#eresources>les forums de discussion</a> du manuel</p></div></div><div class=sect2><h3 id=_existe_t_il_des_canaux_ircinternet_relay_chat_sur_freebsd>1.14. Existe-t-il des canaux IRC(Internet Relay Chat) sur FreeBSD ?<a class=anchor href=#_existe_t_il_des_canaux_ircinternet_relay_chat_sur_freebsd></a></h3><div class=paragraph><p>Oui, la plupart des réseaux IRC comportent un canal FreeBSD.</p></div><div class=ulist><ul><li><p>Le canal <em>#FreeBSD</em> sur EFNET est sûrement le plus populaire et est disponible sur <em>irc.chat.org</em>.</p></li><li><p>Le canal <em>#FreeBSD</em> sur DALNET est disponible sur <em>irc.dal.net</em> pour les US et sur <em>irc.eu.dal.net</em> pour l’Europe.</p></li><li><p>Le canal <em>#FreeBSD</em> sur UNDERNET est disponible sur <em>us.undernet.org</em> pour les US et sur <em>eu.undernet.org</em> pour l’Europe.</p></li><li><p>Enfin vous pouvez rejoindre <em>#FreeBSD</em> sur BSDNET, un petit serveur de chat BSD sur <em>irc.FreeBSD.org</em></p></li></ul></div><div class=paragraph><p>Tous ces canaux sont distincts et ne sont pas interconnectés entre eux. Les discussions sur chaque canal diffèrent, donc essayez-les tous avant de trouver celui qui vous convient.</p></div></div><div class=sect2><h3 id=_quels_sont_les_livres_parlant_de_freebsd>1.15. Quels sont les livres parlant de FreeBSD ?<a class=anchor href=#_quels_sont_les_livres_parlant_de_freebsd></a></h3><div class=paragraph><p>Le livre de Greg Lehey’s "stalling and Running FreeBSD" est disponible chez Walnut Creek CDROM et comprend le CDROM de la version 2.2.8. Il y a aussi un livre plus important nommé "The Complete FreeBSD" qui est lui livré avec certaines pages de manuel et qui inclut aussi les CDROMs de la version 2.2.8. Ils devraient aussi etre disponibles dans toutes les bonnes librairies.</p></div><div class=paragraph><p>Il existe aussi un projet se nommant "FreeBSD Documentation Project", que vous pouvez contacter (ou mieux, joindre) sur la "liste de diffusion doc"<a href=mailto:freebsd-doc@FreeBSD.ORG>&lt;</a><a href=mailto:freebsd-doc@FreeBSD.ORG>freebsd-doc@FreeBSD.ORG</a>>. Cette liste a pour but de discuter sur la documentation de FreeBSD. Les questions plus générales sur FreeBSD sont à poser dans la "mailing list" <a href=mailto:freebsd-questions@FreeBSD.ORG>&lt;</a><a href=mailto:freebsd-questions@FreeBSD.ORG>freebsd-questions@FreeBSD.ORG</a>>.</p></div><div class=paragraph><p>Un <a href=https://docs.freebsd.org/fr/books/handbook/>manuel</a> sur FreeBSD est disponible. Sachez, pour information, que ce manuel est en perpétuelle évolution, et que certaines parties peuvent être incomplètes.</p></div><div class=paragraph><p>Comme FreeBSD 2.2.X est basé sur la version 4.4.BSD-lite2, la plupart des manuels relatifs à 4.4BSD peuvent s’appliquer à FreeBSD. Des versions imprimées sont disponibles chez O’Reilly:</p></div><div class="literalblock programlisting"><div class=content><pre>4.4BSD System Manager&#39;s Manual By Computer Systems Research Group, UC
Berkeley 1st Edition June 1994, 804 pages ISBN 1-56592-080-5</pre></div></div><div class="literalblock programlisting"><div class=content><pre>4.4BSD User&#39;s Reference Manual By Computer Systems Research Group, UC
Berkeley 1st Edition June 1994, 905 pages ISBN 1-56592-075-9</pre></div></div><div class="literalblock programlisting"><div class=content><pre>4.4BSD User&#39;s Supplementary Documents By Computer Systems Research
Group, UC Berkeley 1st Edition July 1994, 712 pages  ISBN 1-56592-076-7</pre></div></div><div class="literalblock programlisting"><div class=content><pre>4.4BSD Programmer&#39;s Reference Manual By Computer Systems Research
Group, UC Berkeley 1st Edition June 1994, 886 pages ISBN 1-56592-078-3</pre></div></div><div class="literalblock programlisting"><div class=content><pre>4.4BSD Programmer&#39;s Supplementary Documents By Computer Systems
Research Group, UC Berkeley 1st Edition July 1994, 596 pages ISBN 1-56592-079-1</pre></div></div><div class=paragraph><p>Une courte description de ces livres est disponible via WWW à l’adresse suivante : <a href=http://gnn.com/gnn/bus/ora/category/bsd.html>http://gnn.com/gnn/bus/ora/category/bsd.html</a>. Vu le peu de ventes, ces livres sont relativement difficiles a trouver.</p></div><div class=paragraph><p>Pour plus d’informations sur le noyau 4.4BSD vous pouvez vous reporter au livre suivant :</p></div><div class="literalblock programlisting"><div class=content><pre>McKusick, Marshall Kirk, Keith Bostic, Michael J Karels, and John Quarterman.

The Design and Implementation of the 4.4BSD Operating System.
Reading, Mass. : Addison-Wesley, 1996.
ISBN 0-201-54979-4</pre></div></div><div class=paragraph><p>Un bon livre sur l’administration système:</p></div><div class="literalblock programlisting"><div class=content><pre>Evi Nemeth, Garth Snyder, Scott Seebass &amp; Trent R. Hein,
``Unix System Administration Handbook&#39;&#39;, Prentice-Hall, 1995
ISBN 0-13-151051-7</pre></div></div><div class=paragraph><p><em>Attention à bien acheter la deuxième édition, version avec la couverture rouge, et non pas la première.</em></p></div><div class=paragraph><p>Ce livre couvre les bases de l’administration système aussi bien que TCP/IP, le DNS, NFS, SLIP/PPP, sendmail, INN/NNTP, l’impression, etc…​ Il est assez onéreux (environ 300-350 FF) mais est indispensable. Il comprend en plus un CDROM contenant énormément d’outils, dont la plupart sont inclus sur les CDROM de FreeBSD.</p></div></div><div class=sect2><h3 id=_comment_accèder_à_la_base_de_données_des_problèmes>1.16. Comment accèder à la base de données des problèmes ?<a class=anchor href=#_comment_accèder_à_la_base_de_données_des_problèmes></a></h3><div class=paragraph><p>La base de données des problèmes est accessible (pour soumission ou interrogation) en utilisant votre navigateur WWW <a href=http://www.freebsd.org/send-pr/>pour la soumission</a> ou <a href=http://www.freebsd.org/cgi/query-pr-summary.cgi>pour l’interrogation </a>. La commande <em>send-pr(1)</em> peut aussi être utilisée pour soumettre des problèmes et des modifications par courrier électronique.</p></div></div><div class=sect2><h3 id=_où_peut_on_trouver_des_versions_asciipostscript_de_cette_faq>1.17. Où peut-on trouver des versions ASCII/PostScript de cette FAQ ?<a class=anchor href=#_où_peut_on_trouver_des_versions_asciipostscript_de_cette_faq></a></h3><div class=paragraph><p>La dernière version de cette FAQ est disponible sur le serveur WWW de FreeBSD ou sur tout serveur miroir en PostScript ou texte (ASCII 7 bits et Latin1 8 bits).</p></div><div class=paragraph><p>Le PostScript (environ 370Ko) <a href=http://www.freebsd-fr.org/FAQ/FAQ.ps>http://www.freebsd-fr.org/FAQ/FAQ.ps</a></p></div><div class=paragraph><p>En format texte ISO 8859-1 (environ 220Ko): <a href=http://www.freebsd-fr.org/FAQ/FAQ.txt>http://www.freebsd-fr.org/FAQ/FAQ.txt</a></p></div></div><div class=sect2><h3 id=_où_peut_on_trouver_des_versions_asciipostscript_du_manuel>1.18. Où peut-on trouver des versions ASCII/PostScript du manuel ?<a class=anchor href=#_où_peut_on_trouver_des_versions_asciipostscript_du_manuel></a></h3><div class=paragraph><p>La dernière version du manuel est disponible sur le serveur WWW de FreeBSD ou sur tout serveur miroir en PostScript ou texte (ASCII 7 bits et Latin1 8 bits).</p></div><div class=paragraph><p>Le PostScript (environ 1.7Mo) <a href=http://www.freebsd-fr.org/handbook/handbook.ps>http://www.freebsd-fr.org/handbook/handbook.ps</a></p></div><div class=paragraph><p>En format texte ISO 8859-1 (environ : 1.1Mo) <a href=http://www.freebsd-fr.org/handbook/handbook.txt>http://www.freebsd-fr.org/handbook/handbook.txt</a></p></div></div><div class=sect2><h3 id=_la_version_ascii_du_manuel_ne_contient_pas_que_du_texte>1.19. La version ASCII du manuel ne contient pas que du texte !<a class=anchor href=#_la_version_ascii_du_manuel_ne_contient_pas_que_du_texte></a></h3><div class=paragraph><p>C’est vrai. Les versions ASCII et Latin1 de la FAQ et du manuel ne contiennent pas que du texte. Elles contiennent des soulignés et d’autres codes qui supposent que l’impression sera faite sur une imprimante matricielle. Si vous avez besoin de reformater ces fichiers sous une forme plus lisible, lancez la commande col sur le fichier :</p></div><div class="literalblock programlisting"><div class=content><pre>$ col -b &lt; fichierOrigine &gt; fichierSortie</pre></div></div></div><div class=sect2><h3 id=_je_voudrais_devenir_un_miroir_www_de_freebsd>1.20. Je voudrais devenir un miroir WWW de FreeBSD !<a class=anchor href=#_je_voudrais_devenir_un_miroir_www_de_freebsd></a></h3><div class=paragraph><p>Bien sûr ! Différents moyens permettent de synchroniser les pages WWW.</p></div><div class=ulist><ul><li><p>En utilisant CVSUP: vous pouvez retrouver les pages formatées en HTML en utilisant CVSUP depuis cvsup.freebsd.org. Ajoutez simplement cette ligne à votre fichier cvsup:</p><div class="literalblock programlisting"><div class=content><pre>www release=current hostname=/home base=/usr/local/etc/cvsup
prefix=/usr/local/www/data/www.freebsd.org delete old use-rel-suffix</pre></div></div></li><li><p>En utilisant rsync: voir la <a href=http://www.freebsd.org/internal/mirror/>page sur les miroirs</a> pour les informations.</p></li><li><p>En utilisant un miroir ftp: vous pouvez télécharger la copie sur serveur WWW se trouvant sur le serveur ftp. Les fichiers se trouvent à <a href=ftp://ftp.freebsd.org/pub/FreeBSD/FreeBSD-current/www class=bare>ftp://ftp.freebsd.org/pub/FreeBSD/FreeBSD-current/www</a> .</p></li></ul></div></div><div class=sect2><h3 id=_je_veux_traduire_la_documentation_en_javanais>1.21. Je veux traduire la documentation en Javanais<a class=anchor href=#_je_veux_traduire_la_documentation_en_javanais></a></h3><div class=paragraph><p>On ne peut pas vous payer, mais on peut s’arranger pour vous envoyer un CDROM gratuit ou un T-shirt et une entrée dans la liste des contributeurs du Handbook si vous nous soumettez une traduction de la documentation.</p></div></div><div class=sect2><h3 id=_autres_sources_dinformations>1.22. Autres sources d’informations.<a class=anchor href=#_autres_sources_dinformations></a></h3><div class=paragraph><p>Les forums de discussion suivants se rapportent à FreeBSD</p></div><div class=ulist><ul><li><p><a href=news:fr.comp.os.bsd>fr.comp.os.bsd</a> (en francais)</p></li><li><p><a href=news:comp.unix.bsd.freebsd.announce>comp.unix.bsd.freebsd.announce</a> (en anglais - modéré)</p></li><li><p><a href=news:comp.unix.bsd.freebsd.misc>comp.unix.bsd.freebsd.misc</a> (en anglais)</p></li><li><p><a href=news:comp.unix.bsd.misc>comp.unix.bsd.misc</a> (en anglais)</p></li></ul></div><div class=paragraph><p>Ressources WWW:</p></div><div class=ulist><ul><li><p>La <a href=http://www.freebsd.org/>page principale de FreeBSD</a></p></li><li><p>La <a href=http://www.freebsd-fr.org/>page principale de fr.FreeBSD</a></p></li><li><p><a id=pao></a>Si vous possédez un portable, vous devez visiter la page de <a href=http://www.jp.FreeBSD.org/PAO/>Tatsumi Hosokawa’s Mobile Computing</a> au Japon</p></li><li><p>Pour plus d’informations sur SMP (Symmetric MultiProcessing) voyez la <a href=http://www.freebsd.org/~fsmp/SMP/SMP.html>page du support SMP</a></p></li><li><p>Pour plus d’informations sur les applications multimedia FreeBSD , voyez la page <a href=http://www.freebsd.org/~faulkner/multimedia/mm.html>multimédia</a>. Si vous vous intéressez plus spécialement à la capture vidéo Bt848 suivez ce <a href=http://www.freebsd.org/~ahasty/Bt848.html>lien</a>.</p></li></ul></div><div class=paragraph><p>Le manuel de FreeBSD contient une section <a href=https://docs.freebsd.org/fr/books/handbook/bibliography/#bibliography>bibliographie</a> plus importante, si vous recherchez d’autres livres ou informations.</p></div></div></div></div><div class=sect1><h2 id=_installation_mise_à_jour_en_cours>2. Installation. <strong>Mise à jour en cours</strong><a class=anchor href=#_installation_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_quels_fichiers_télécharger_pour_installer_freebsd>2.1. Quels fichiers télécharger pour installer FreeBSD ?<a class=anchor href=#_quels_fichiers_télécharger_pour_installer_freebsd></a></h3><div class=paragraph><p>Vous n’avez généralement besoin que d’une image-disque, le fichier <span class=filename>floppies/boot.flp</span>, que vous copiez sur une disquette 1.44 Mo et qui permet de démarrer pour pouvoir télécharger le reste (l’installation prend en charge votre connexion TCP/IP, votre lecteur de bandes, CDROM, disquettes, partitions DOS, tout ce est nécessaire pour le reste de l’installation).</p></div><div class=paragraph><p>Si vous avez besoin de télécharger la distribution par vous même (pour une installation depuis une partition DOS par exemple), voici quels sont les fichiers à récupérer:</p></div><div class=ulist><ul><li><p>Tout le répertoire <span class=filename>bin</span></p></li><li><p>Tout le répertoire <span class=filename>manpages</span></p></li><li><p>Tout le répertoire <span class=filename>compat</span></p></li><li><p>Tout le répertoire <span class=filename>doc</span></p></li><li><p>Tous les fichiers <span class=filename>src/ssys.*</span></p></li></ul></div><div class=paragraph><p>Vous trouverez les instructions complètes pour cette procédure et un peu plus au sujet de l’installation en général dans la section <a href=https://docs.freebsd.org/fr/books/handbook/install#install>installation de FreeBSD</a> du manuel.</p></div></div><div class=sect2><h3 id=_a_laide_limage_disque_de_démarrage_ne_tient_pas_sur_une_seule_disquette>2.2. A l’aide ! L’image-disque de démarrage ne tient pas sur une seule disquette !<a class=anchor href=#_a_laide_limage_disque_de_démarrage_ne_tient_pas_sur_une_seule_disquette></a></h3><div class=paragraph><p>Une disquette 3,5 pouces (1.44 Mo) peut contenir jusqu’à 1474560 octets de données. La taille du fichier image est exactement 1474560 octets.</p></div><div class=paragraph><p>Les erreurs courantes concernant la création de la disquette de démarrage sont les suivantes :</p></div><div class=ulist><ul><li><p>Vous n’avez pas téléchargé l’image-disque en mode <code>binary</code> en utilisant FTP</p><div class=paragraph><p>Certains clients FTP mettent par défaut le transfert en mode <em>ASCII</em>, et essayent de changer le caractère de fin de ligne reçu pour correspondre aux conventions utilisées par le système client. Cela altère presque inévitablement le fichier image. Vérifiez la taille du fichier image téléchargé: si elle n’est pas <em>exactement</em> la même que sur le serveur, alors le processus de téléchargement est suspect.</p></div><div class=paragraph><p>Une solution simple : tapez <code>binary</code> à l’invite FTP, après la connexion sur le serveur et avant le démarrage du téléchargement de l’image.</p></div></li><li><p>Vous avez utilisé la commande DOS <code>copy</code> (ou une commande équivalente) pour transférer l’image de démarrage sur la disquette.</p><div class=paragraph><p>Les programmes comme <code>copy</code> ne fonctionnent pas correctement avec les images, car ils ne peuvent créer une disquette de démarrage. L’image est le contenu exact de la disquette, piste à piste, et ne peut être copiée sur la disquette comme un fichier normal. Vous devez la transférer sur la disquette en mode brut {raw} en utilisant les outils de bas niveau {low-level} <code>fdimage</code> ou <code>rawrite</code>. Ces outils sont décrits dans la section <a href=https://docs.freebsd.org/fr/books/handbook/install/#install>installation de FreeBSD</a> du manuel.</p></div></li></ul></div></div><div class=sect2><h3 id=_où_sont_les_instructions_pour_installer_freebsd>2.3. Où sont les instructions pour installer FreeBSD ?<a class=anchor href=#_où_sont_les_instructions_pour_installer_freebsd></a></h3><div class=paragraph><p>Les instructions d’installation de FreeBSD se trouvent dans la section <a href=https://docs.freebsd.org/fr/books/handbook/install#install>installation de FreeBSD</a> du manuel.</p></div></div><div class=sect2><h3 id=_de_quoi_ai_je_besoin_pour_faire_tourner_freebsd>2.4. De quoi ai-je besoin pour faire tourner FreeBSD ?<a class=anchor href=#_de_quoi_ai_je_besoin_pour_faire_tourner_freebsd></a></h3><div class=paragraph><p>Vous avez besoin d’un PC 386 ou mieux, avec 5Mo ou plus de mémoire vive (RAM) et au moins 60Mo de disque dur. Il suffit d’une carte graphique MDA, mais pour utiliser X11R6, une carte video VGA ou mieux est nécessaire.</p></div><div class=paragraph><p>Voir aussi la section <a href=#hardware>compatibilité matérielle</a>.</p></div></div><div class=sect2><h3 id=_je_nai_que_4mo_de_mémoire_vive_puis_je_installer_freebsd>2.5. Je n’ai que 4Mo de mémoire vive. Puis-je installer FreeBSD ?<a class=anchor href=#_je_nai_que_4mo_de_mémoire_vive_puis_je_installer_freebsd></a></h3><div class=paragraph><p>FreeBSD 2.1.7 est la dernière version de FreeBSD que l’on peut installer sur des systèmes avec 4Mo de mémoire vive. Les nouvelles versions de FreeBSD, comme la version 2.2, ont besoin d’au moins 5Mo de mémoire vive pour être installées sur un nouveau système.</p></div><div class=paragraph><p>Toutes les versions de FreeBSD, y compris la version 3.0, peuvent fonctionner avec 4Mo de mémoire vive, mais ne peuvent pas exécuter le programme d’installation en 4Mo. Vous pouvez ajouter de la mémoire vive supplémentaire pour le processus d’installation, si vous voulez, et quand le système fonctionne, revenir à 4Mo. Ou vous pouvez placer votre disque sur un système disposant de plus de 4Mo, effectuer l’installation et l’échanger à nouveau.</p></div><div class=paragraph><p>Il y a malgré tout des situations dans lesquelles FreeBSD 2.1.7 ne peut s’installer avec 4Mo. Pour être exact : cette version de n’installe pas avec 640Ko de mémoire de base et 3Mo de mémoire étendue. Si votre carte mère peut réallouer quelques blocs mémoire "perdue" hors de la région entre 640Ko et 1Mo alors vous pourrez installer FreeBSD 2.1.7</p></div><div class=paragraph><p>Regardez dans la configuration de votre BIOS si vous disposez d’un option "remap". Si oui, activez la. Vous devez aussi désactiver la copie miroir de la mémoire ROM.</p></div><div class=paragraph><p>Il est plus simple d’augmenter la mémoire vive à plus de 4Mo pour l’installation, construire un noyau contenant juste les options dont vous avez besoin, puis revenir à une configuration avec 4Mo.</p></div><div class=paragraph><p>Vous pouvez dans le pire des cas, installer la version 2.0.5 et effectuer une mise à jour de votre système en version 2.1.7 avec l’option <code>upgrade</code> du programme d’installation de la 2.1.7.</p></div><div class=paragraph><p>Après l’installation, si vous construisez un noyau sur mesure, cela tournera sans problème avc 4Mo. Certaines personnes ont même réussi a démarrer sur un système disposant de 2Mo de mémoire vive (bien sûr le système fut complétement inutilisable :-)).</p></div></div><div class=sect2><h3 id=_comment_créer_ma_propre_disquette_dinstallation>2.6. Comment créer ma propre disquette d’installation ?<a class=anchor href=#_comment_créer_ma_propre_disquette_dinstallation></a></h3><div class=paragraph><p>Actuellement il n’y a pas de solution pour créer <strong>juste</strong> une disquette d’installation personnalisée. Vous devez créer une distribution complète, qui contiendra votre disquette d’installation. Le code se trouvant dans <span class=filename>/usr/src/release/floppies/Makefile</span> peut laisser supposer que vous pouvez créer votre disquette, mais ce n’est pas le cas actuellement.</p></div><div class=paragraph><p>Pour créer votre propre version, suivez les instructions se trouvant <a href=#custrel>là</a>.</p></div></div><div class=sect2><h3 id=_puis_je_avoir_plus_dun_système_dexploitation_sur_mon_pc>2.7. Puis-je avoir plus d’un système d’exploitation sur mon PC ?<a class=anchor href=#_puis_je_avoir_plus_dun_système_dexploitation_sur_mon_pc></a></h3><div class=paragraph><p>Voyez la page du tutoriel sur la <a href=#multios>cohabitation de plusieurs systèmes d’exploitation</a>.</p></div></div><div class=sect2><h3 id=_est_ce_que_windows_95_peut_coexister_avec_freebsd>2.8. Est-ce que Windows 95 peut coexister avec FreeBSD ?<a class=anchor href=#_est_ce_que_windows_95_peut_coexister_avec_freebsd></a></h3><div class=paragraph><p>Installez en premier Windows 95, puis FreeBSD. Le gestionnaire de démarrage de FreeBSD, vous permet de démarrer indifféremment sous Windows 95 ou FreeBSD. Si vous installez Windows 95 en second, il surchargera votre gestionnaire de démarrage sans même poser une question. Si cela arrive, voir la section suivante.</p></div></div><div class=sect2><h3 id=_windows_95_a_effacé_mon_gestionnaire_de_démarrage_comment_le_récupérer>2.9. Windows 95 a effacé mon gestionnaire de démarrage ! Comment le récupérer ?<a class=anchor href=#_windows_95_a_effacé_mon_gestionnaire_de_démarrage_comment_le_récupérer></a></h3><div class=paragraph><p>Vous pouvez ré-installer le gestionnaire de démarrage de FreeBSD de deux manières :</p></div><div class=ulist><ul><li><p>Sous DOS, allez dans le répertoire <span class=filename>tools</span> de votre distribution FreeBSD et cherchez un programme <span class=filename>bootinst.exe</span>. Il vous l’exécutez ainsi:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>c:<span class=se>\t</span>ools&gt;bootinst.exe boot.bin</code></pre></div></div><div class=paragraph><p>et le gestionnaire de démarrage sera ré-installé</p></div></li><li><p>Démarrez à nouveau sous FreeBSD avec la disquette de démarrage et allez dans le menu <code>Custom installation</code>. Choisissez <code>Partition</code> Sélectionnez le disque devant contenir le gestionnaire de démarrage (probablement le premier) et quand vous arrivez dans l’éditeur de partition, la première chose à faire (c’est à dire n’effectuer aucun changement) sélectionnez <code>(W)rite</code>. Vous serez interrogé pour confirmation, répondez <code>yes</code>, et quand vous obtenez le menu de sélection du gestionnaire de démarrage, assurez vous de bien sélectionner <code>Boot manager</code>. Cela re-écrit le gestionnaire de démarrage sur le disque. Ensuite quittez le programme d’installation et redémarrez à partir du disque dur normalement.</p></li></ul></div></div><div class=sect2><h3 id=_peut_on_installer_freebsd_sur_un_disque_comportant_des_secteurs_défectueux>2.10. Peut-on installer FreeBSD sur un disque comportant des secteurs défectueux ?<a class=anchor href=#_peut_on_installer_freebsd_sur_un_disque_comportant_des_secteurs_défectueux></a></h3><div class=paragraph><p>La gestion des secteurs défectueux (voir la commande <a href=http://www.freebsd.org/cgi/man.cgi?bad144>bad144</a>) de FreeBSD n’est pas fiable à 100% ; il serait plus juste de dire que si vous disposez d’un disque IDE ou ESDI avec énormement de bad blocks, alors FreeBSD n’est pas pour vous ! En fait FreeBSD tourne sur des centaines de systèmes à base de disques IDE, il vaut mieux essayer avant de vous décourager.</p></div><div class=paragraph><p>Si vous avez un disque SCSI comportant des secteurs défectueux, voyez <a href=#awre>cette réponse</a></p></div></div><div class=sect2><h3 id=_il_se_passe_des_choses_étranges_lorsque_je_démarre_depuis_la_disquette_dinstallation>2.11. Il se passe des choses étranges lorsque je démarre depuis la disquette d’installation !<a class=anchor href=#_il_se_passe_des_choses_étranges_lorsque_je_démarre_depuis_la_disquette_dinstallation></a></h3><div class=paragraph><p>Si vous détectez des choses comme : un blocage de la machine, un redémarrage inopiné de votre système avec la disquette d’installation, posez vous les 3 questions suivantes :</p></div><div class="olist arabic"><ol class=arabic><li><p>Avez-vous utilisé une disquette neuve, sans erreurs (préférez une disquette sortie de la boîte plutôt qu’une disquette provenant du dernier magazine oublié sous votre lit depuis trois ans) ?</p></li><li><p>Avez vous téléchargé l’image en mode binaire (ne vous offusquez pas, même les meilleurs d’entre nous, ont téléchargé des fichiers en mode ASCII au moins une fois) ?</p></li><li><p>Si vous utilisez des systèmes d’exploitation récents comme Windows 95 ou Windows NT, avez vous arrété le système et redémarré en DOS simple et honnête ? Il semble que ces systèmes peuvent interférer avec des programmes qui écrivent directement sur le matériel, comme c’est le cas des programmes de création de disquette ; même en l’exécutant dans une fenêtre DOS de windows cela peut causer ces problèmes.</p></li></ol></div><div class=paragraph><p>Certaines informations mentionnant que Netscape pose des problèmes en téléchargeant l’image de la disquette de démarrage, donc utilisez un client FTP différent si vous pouvez.</p></div></div><div class=sect2><h3 id=_je_narrive_pas_à_installer_à_partir_de_la_bande>2.12. Je n’arrive pas à installer à partir de la bande<a class=anchor href=#_je_narrive_pas_à_installer_à_partir_de_la_bande></a></h3><div class=paragraph><p>Si vous installez la version 2.1.7R à partir d’une bande, vous devez créer la bande en utilisant un facteur de blocage de 10 (5120 octets). Le facteur de blocage par défaut de <span class=filename>tar</span> est 20 (10240 octets), et les bandes crées en utilisant cette valeur par défaut ne peuvent pas être utilisées pour installer la version 2.1.7R ; avec ce type de bande vous obtiendrez une erreur disant que la taille des enregistrements est trop grande.</p></div></div><div class=sect2><h3 id=_connecter_deux_systèmes_freebsd_par_les_ports_parallèle_plip>2.13. Connecter deux systèmes FreeBSD par les ports parallèle (PLIP)<a class=anchor href=#_connecter_deux_systèmes_freebsd_par_les_ports_parallèle_plip></a></h3><div class=paragraph><p>Trouvez un câble "laplink". Vérifiez que les deux ordinateurs ont un noyau avec le support de pilote <span class=filename>lpt</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>      $ dmesg | grep lp
      lpt0 at 0x378-0x37f irq 7 on isa
      lpt0: Interrupt-driven port
      lp0: TCP/IP capable interface</pre></div></div><div class=paragraph><p>Installez le câble "laplink" sur les ports parallèlle.</p></div><div class=paragraph><p>Configurez les paramètres de l’interface réseau pour lp0 des deux côtés en tant que <code>root</code>.</p></div><div class=paragraph><p>Par exemple, si vous voulez connecter l’ordinateur max avec moritz :</p></div><div class="literalblock programlisting"><div class=content><pre>                 max &lt;-----&gt; moritz
IP Address    10.0.0.1      10.0.0.2</pre></div></div><div class=paragraph><p>sur max, démarrez :</p></div><div class="literalblock programlisting"><div class=content><pre># ifconfig lp0 10.0.0.1 10.0.0.2</pre></div></div><div class=paragraph><p>sur moritz, démarrez :</p></div><div class="literalblock programlisting"><div class=content><pre># ifconfig lp0 10.0.0.2 10.0.0.1</pre></div></div><div class=paragraph><p>C’est tout ! Lisez aussi les manpages <a href="https://man.freebsd.org/cgi/man.cgi?query=lp&amp;sektion=4&amp;format=html">lp(4)</a> and <a href="https://man.freebsd.org/cgi/man.cgi?query=lpt&amp;sektion=4&amp;format=html">lpt(4)</a>.</p></div><div class=paragraph><p>Vous devez aussi ajouter les deux adresse dans <span class=filename>/etc/hosts</span> :</p></div><div class="literalblock programlisting"><div class=content><pre>     127.0.0.1               localhost.my.domain localhost
     10.0.0.1                max.my.domain max
     10.0.0.2                moritz.my.domain moritz</pre></div></div><div class=paragraph><p>Pour vérifier le bon fonctionnement faire :</p></div><div class=paragraph><p>sur max :</p></div><div class="literalblock programlisting"><div class=content><pre>$ ifconfig lp0
lp0: flags=8851&lt;UP,POINTOPOINT,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 10.0.0.1 --&gt; 10.0.0.2 netmask 0xff000000

$ netstat -r
Routing tables

Internet:
Destination        Gateway            Flags     Refs     Use     Netif Expire
moritz               max              UH          4   127592       lp0

$ ping -c 4 moritz
PING moritz (10.0.0.2): 56 data bytes
64 bytes from 10.0.0.2: icmp_seq=0 ttl=255 time=2.774 ms
64 bytes from 10.0.0.2: icmp_seq=1 ttl=255 time=2.530 ms
64 bytes from 10.0.0.2: icmp_seq=2 ttl=255 time=2.556 ms
64 bytes from 10.0.0.2: icmp_seq=3 ttl=255 time=2.714 ms

--- moritz ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev = 2.530/2.643/2.774/0.103 ms</pre></div></div></div><div class=sect2><h3 id=_peut_on_effectuer_une_installation_par_le_port_parallèle_plip>2.14. Peut-on effectuer une installation par le port parallèle (PLIP)<a class=anchor href=#_peut_on_effectuer_une_installation_par_le_port_parallèle_plip></a></h3><div class=paragraph><p>Connectez les deux ordinateurs avec un cable parallèle "Laplink"</p></div><div class=listingblock><div class=title>Cable parallèle</div><div class=content><pre class="rouge highlight"><code data-lang=bash>             +----------------------------------------+
             |A-name A-End   B-End   Descr.  Port/Bit |
             +----------------------------------------+
             |DATA0  2       15      Data    0/0x01   |
             |-ERROR 15      2               1/0x08   |
             +----------------------------------------+
             |DATA1  3       13      Data    0/0x02   |
             |+SLCT  13      3               1/0x10   |
             +----------------------------------------+
             |DATA2  4       12      Data    0/0x04   |
             |+PE    12      4               1/0x20   |
             +----------------------------------------+
             |DATA3  5       10      Strobe  0/0x08   |
             |-ACK   10      5               1/0x40   |
             +----------------------------------------+
             |DATA4  6       11      Data    0/0x10   |
             |BUSY   11      6               1/0x80   |
             +----------------------------------------+
             |GND    18-25   18-25   GND -            |
             +----------------------------------------+</code></pre></div></div><div class=paragraph><p>Voir aussi <a href=#pao>cette note</a> sur la page de FreeBSD pour les portables</p></div></div><div class=sect2><h3 id=_quelle_géométrie_dois_je_utiliser_pour_un_disque>2.15. Quelle géométrie dois-je utiliser pour un disque ?<a class=anchor href=#_quelle_géométrie_dois_je_utiliser_pour_un_disque></a></h3><div class=paragraph><p>(Par le mot "géométrie" d’un disque, nous pensons aux nombres de cylindres, têtes et secteurs par pistes sur un disque - Nous dirons par la suite C/H/S. C’est de cette façon que le BIOS des PC arrive à écrire ou lire une zone du disque).</p></div><div class=paragraph><p>Cela peut préter à confusion pour différentes raisons. Premièrement, la <em>géométrie physique</em> d’un disque SCSI ne veut rien dire, de la façon dont FreeBSD utilise les blocs disques. En fait, on ne peut parler de "la" géométrie physique, la densité des secteurs variant sur le disque -ce que les fabricants appellent la "vraie" géométrie physique, c’est la géométrie qu’ils ont détérminé, pour avoir le moins d’espace perdu. Pour les disques IDE, FreeBSD voit en terme de C/H/S, mais tous les disques récents convertissent cela en blocs eux-mêmes.</p></div><div class=paragraph><p>Tout cela est, en fait, la <em>géométrie logique</em> la réponse que le BIOS reçoit lorsqu’il demande "quelle est votre géométrie ?" et qu’il utilise pour accéder au disque. Comme FreeBSD utilise le BIOS pour démarrer, il est très important qu’elle soit juste. En particulier, si vous avez plus d’un système d’exploitation sur votre disque, ils doivent être d’accord sur la géométrie, sinon vous rencontrerez de graves problèmes au démarrage du système.</p></div><div class=paragraph><p>Pour les disques SCSI, la géométrie à utiliser dépend du support de translation étendu activé sur votre contrôleur (ou encore appelé "support pour les disques DOS >1Go" ou similaire). S’il n’est pas activé, utilisez N cylindres, 64 têtes et 32 secteurs par pistes, ou 'N' est la capacité du disque en Mo. Par exemple, pour un disque de 2Go vous devez utiliser 2048 cylindres, 64 têtes et 32 secteurs par piste.</p></div><div class=paragraph><p>Si cette option est active (c’est le cas la plupart du temps pour permettre de passer outre certaines limitations de MSDOS) et que le disque a une capacité de plus de 1Go, utilisez M cylindres, 63 têtes (et <strong>pas</strong> 64), et 255 secteurs par piste, où M correspond à la capacité en Mo divisé par 7.844238 (!). Donc, en prenant un disque de 2Go nous obtenons 261 cylindres, 63 têtes et 255 secteurs par piste.</p></div><div class=paragraph><p>Si vous n’êtes pas sûr de point, ou si FreeBSD n’arrive pas à détecter la géométrie correctement au moment de l’installation, la façon la plus simple de faire, est de créer une petite partition DOS sur le disque. La géométrie correcte sera alors détectée (et vous pourrez toujours retirer la partition DOS dans l’éditeur de partitions si vous ne voulez pas la garder ou conservez la pour la programmation de cartes réseau).</p></div><div class=paragraph><p>Une autre solution est d’utiliser un outil disponible librement distribué avec FreeBSD appelé <span class=filename>pfdisk.exe</span> (il se trouve dans le répertoire <span class=filename>tools</span> du CDROM de FreeBSD ou sur les sites ftp), qui permet de voir quelle géométrie utilisent les autres systèmes sur ce disque. Vous pourrrez ensuite entrer cette géométrie dans l’éditeur de partitions.</p></div></div><div class=sect2><h3 id=_y_a_t_il_des_restrictions_sur_la_façon_de_partitionner_le_disque>2.16. Y a-t-il des restrictions sur la façon de partitionner le disque ?<a class=anchor href=#_y_a_t_il_des_restrictions_sur_la_façon_de_partitionner_le_disque></a></h3><div class=paragraph><p>Oui. Vous devez vous assurer que la partition "<span class=filename>/</span>""<span class=filename>{root}</span>" se trouve dans les 1024 premiers cylindres, pour permettre au BIOS de trouver le noyau. (Notez que c’est une limitation dûe au BIOS des PC et non pas à FreeBSD).</p></div><div class=paragraph><p>Dans le cas d’une disque SCSI, cela implique que la partition "<span class=filename>/</span>""<span class=filename>{root}</span>" soit dans les 1024 premiers Mo (ou dans les 4096 premiers si la translation est en place - voir la question précédente). Pour un disque IDE, il faut qu’elle se trouve dans les 504 premiers Mo.</p></div></div><div class=sect2><h3 id=_a_propos_des_gestionnaires_de_disque_ou_bien_jai_un_disque_de_grande_capacité>2.17. A propos des gestionnaires de disque ? Ou bien, j’ai un disque de grande capacité !<a class=anchor href=#_a_propos_des_gestionnaires_de_disque_ou_bien_jai_un_disque_de_grande_capacité></a></h3><div class=paragraph><p>FreeBSD reconnait le gestionnaire "Ontrack Disk Manager" et le tolère. Les autres gestionnaires de disque ne sont pas supportés.</p></div><div class=paragraph><p>Si vous voulez utiliser le disque uniquement avec FreeBSD, vous n’avez pas besoin de gestionnaire de disque. Configurez simplement le disque pour utiliser le maximum de place reconnue par le BIOS (la plupart du temps 504Mo), et FreeBSD trouvera de lui même la capacité de votre disque. Si vous utilisez un vieux disque avec un controlleur MFM, vous devrez donner explicitement à FreeBSD le nombre de cylindres à utiliser.</p></div><div class=paragraph><p>Si vous voulez utiliser le disque avec FreeBSD et un autre système d’exploitation, vous n’aurez pas besoin d’un gestionnaire de disque: assurez vous que la partition de démarrage de FreeBSD et les tranches pour les autres systèmes d’exploitation se trouvent dans les 1024 premiers cylindres. Si vous êtes prudent, une partition de démarrage de 20Mo doit suffire.</p></div></div><div class=sect2><h3 id=_lors_du_démarrage_de_freebsd_jobtiens_missing_operating_system>2.18. Lors du démarrage de FreeBSD j’obtiens "Missing Operating System"<a class=anchor href=#_lors_du_démarrage_de_freebsd_jobtiens_missing_operating_system></a></h3><div class=paragraph><p>C’est le symptôme classique où FreeBSD et DOS, ou un autre système d’exploitation, sont en conflit à propos de la <a id=geometry2></a>géométrie du disque. Vous devez alors réinstaller FreeBSD, en faisant attention à toutes les informations qui vous sont présentées.</p></div></div><div class=sect2><h3 id=_je_ne_peux_pas_aller_plus_loin_que_le_message_f_du_gestionnaire_de_démarrage>2.19. Je ne peux pas aller plus loin que le message <code>F?</code> du gestionnaire de démarrage.<a class=anchor href=#_je_ne_peux_pas_aller_plus_loin_que_le_message_f_du_gestionnaire_de_démarrage></a></h3><div class=paragraph><p>Ceci est un autre symptôme du problème décrit à la question précédente. La géométrie trouvée par le BIOS et celle de FreeBSD ne sont pas les mêmes. Si votre contrôleur ou votre BIOS supporte la translation de cylindres (souvent indiquée comme "Support des disques >1Go"), essayez de changer les paramètres et réinstallez FreeBSD.</p></div></div><div class=sect2><h3 id=_je_dispose_de_plus_de_16mo_de_ram_est_ce_que_cela_peut_poser_un_problème>2.20. Je dispose de plus de 16Mo de RAM. Est-ce que cela peut poser un problème ?<a class=anchor href=#_je_dispose_de_plus_de_16mo_de_ram_est_ce_que_cela_peut_poser_un_problème></a></h3><div class=paragraph><p>Mis à part les problèmes de performances, non. FreeBSD 2.X inclus des "bounce buffers" permettant à votre bus principal d’accéder à plus de 16Mo de mémoire. (Notez que cela n’est vrai que pour les périphériques ISA, et quelques périphériques EISA ou VLB).</p></div><div class=paragraph><p>Voyez aussi la section parlant des ordinateurs <a href=#reallybigram>plus de 64Mo de RAM</a>, si vous avez autant de mémoire, ou si vous utilisez un ordinateur Compaq ou un autre BIOS qui donne de mauvaises informations sur la mémoire disponible.</p></div></div><div class=sect2><h3 id=_dois_je_installer_tous_les_sources>2.21. Dois-je installer tous les sources ?<a class=anchor href=#_dois_je_installer_tous_les_sources></a></h3><div class=paragraph><p>La plupart du temps, non. Malgré tout, nous vous conseillons fortement d’installer, au minimum, les sources de base (<span class=filename>sbase</span>) ainsi que les sources du noyau (<span class=filename>ssys</span>). Il n’y a rien dans le système qui nécessite la présence des sources, sauf si vous désirez <a href=http://www.freebsd.org/cgi/man.cgi?config>reconfigurer</a> le noyau du système. A l’exception du noyau, notre structure de compilation est faite pour vous permettre de visualiser les sources (même en lecture seule) et de construire alors de nouveaux binaires. (En raison de la restriction des sources du noyau, nous vous recommandons de monter les sources ailleurs que dans <span class=filename>/usr/src</span> en créeant les liens symboliques appropriés permettant de dupliquer la structure complète des sources).</p></div><div class=paragraph><p>En ayant les sources à votre disposition et en sachant comment l’on construit un système avec, cela permettra d’avoir une façon très simple pour mettre à jour votre système vers les prochaines versions de FreeBSD.</p></div><div class=paragraph><p>Pour n’installer qu’une partie des sources, utilisez le menu <code>Custom</code> quand vous êtes dans le menu <code>Distributions</code> du programme d’installation. Le script <span class=filename>src/install.sh</span> peut installer aussi certains éléments des sources, en fonction des arguments que vous lui passez.</p></div></div><div class=sect2><h3 id=_suis_je_obligé_de_construire_un_nouveau_noyau>2.22. Suis-je obligé de construire un nouveau noyau ?<a class=anchor href=#_suis_je_obligé_de_construire_un_nouveau_noyau></a></h3><div class=paragraph><p>Construire un nouveau noyau, était encore, il y a quelque temps, une étape à peu près obligatoire après l’installation de FreeBSD, mais les nouvelles versions ont bénéficié d’un utilitaire de configuration du noyau plus sympathique. Au démarrage de FreeBSD et après l’invite de démarrage (<code>boot:</code>) utilisez le paramètre <code>-c</code> et vous aurez alors accès au menu de configuration visuel, qui vous permet de configurer les paramètres de la plupart des cartes ISA.</p></div><div class=paragraph><p>Il est encore recommandé construire un nouveau noyau contenant juste les pilotes dont avez besoin, seulement pour économiser un peu de RAM, mais ce n’est plus une exigence stricte pour la plupart des systèmes.</p></div></div><div class=sect2><h3 id=_je_réside_en_dehors_des_etats_unis_puis_je_utiliser_le_des>2.23. Je réside en dehors des Etats-Unis. Puis-je utiliser le DES ?<a class=anchor href=#_je_réside_en_dehors_des_etats_unis_puis_je_utiliser_le_des></a></h3><div class=paragraph><p>Si la méthode de cryptage <em>DES</em> ne vous est pas absolument nécessaire, alors vous pouvez utiliser le système de cryptage fourni par défaut avec FreeBSD et qui vous apporte une bien meilleure sécurité, sans aucune restriction d’exportation. Le cryptage des mots de passe par défaut de FreeBSD 2.0 est maintenant basé sur <em>MD5</em>, qui est plus difficile à casser que <em>DES</em>, avec un outil automatisé en raison de sa forte demande en temps de calcul, et qui permet aussi d’utiliser des mots de passe plus longs. La seule raison pour laquelle vous ne pouvez pas utiliser le cryptage basé sur <em>MD5</em> est, si vous désirez utiliser la même entrée du fichier des mots de passe sur des systèmes FreeBSD et non-FreeBSD.</p></div><div class=paragraph><p>Comme l’algorithme de cryptage <em>DES</em> ne peut pas être légalement exporté en dehors des Etats-Unis, tout utilisateur non américain ne doit pas télécharger les logiciels l’incluant (se trouvant dans le répertoire <span class=filename>sec</span> des sites FTP américains)</p></div><div class=paragraph><p>Il y a cependant une librairie de remplacement disponible, libcrypt, basée sur des sources écrit en Australie par David Burren. Le code est maintenant disponible sur certains sites ftp miroirs en dehors des Etats-Unis. Les sources, ainsi que les binaires des programmes l’utilisant peuvent être téléchargés sur les sites ftp suivants:</p></div><div class=ulist><ul><li><p>Afrique du Sud:</p><div class=ulist><ul><li><p><a href=ftp://ftp.internat.freebsd.org/pub/FreeBSD class=bare>ftp://ftp.internat.freebsd.org/pub/FreeBSD</a></p></li><li><p><a href=ftp://storm.sea.uct.ac.za/pub/FreeBSD class=bare>ftp://storm.sea.uct.ac.za/pub/FreeBSD</a></p></li></ul></div></li><li><p>Brésil:</p><div class=ulist><ul><li><p><a href=ftp://ftp.iqm.unicamp.br/pub/FreeBSD class=bare>ftp://ftp.iqm.unicamp.br/pub/FreeBSD</a></p></li></ul></div></li><li><p>Finlande:</p><div class=ulist><ul><li><p><a href=ftp://nic.funet.fi/pub/unix/FreeBSD/eurocrypt class=bare>ftp://nic.funet.fi/pub/unix/FreeBSD/eurocrypt</a></p></li></ul></div></li></ul></div><div class=paragraph><p>Cette distribution non-US peut être directement utilisée à la place de la distribution américaine. Ce paquetage s’installe de la même façon que le paquetage américain (regardez les notes d’installation du paquetage pour plus de détails). Si vous désirez installer le cryptage <em>DES</em>, vous devez l’installer le plus tôt possible, avant l’installation de tout autre logiciel.</p></div><div class=paragraph><p>Les utilisateurs ne résidant pas aux Etats-Unis ne doivent télécharger aucun programme de cryptage sur un site américain. Cela pourrait entrainer, pour les responsables du site depuis lequel le logiciel est téléchargé, de graves problèmes juridiques.</p></div><div class=paragraph><p>Une distribution non-US de Kerberos est aussi en cours de développement, et les versions courantes peuvent généralement être obtenues depuis un site FTP anonyme <a href=ftp://braee.ru.ac.za>braae.ru.ac.za</a></p></div><div class=paragraph><p>Il existe aussi une liste de messagerie discutant de tous les logiciels non-US de cryptage. Pour plus d’informations, envoyez un email contenant le mot "help" dans le corps du message à <a href=mailto:majordomo@braae.ru.ac.za>&lt;</a><a href=mailto:majordomo@braae.ru.ac.za>majordomo@braae.ru.ac.za</a>></p></div></div><div class=sect2><h3 id=_la_disquette_de_démarrage_se_bloque_sur_le_message_probing_devices>2.24. La disquette de démarrage se bloque sur le message "Probing Devices…​"<a class=anchor href=#_la_disquette_de_démarrage_se_bloque_sur_le_message_probing_devices></a></h3><div class=paragraph><p>Si vous disposez d’un disque ZIP ou JAZ, retirez-le et recommencez. La disquette d’installation a des problèmes avec ce genre de disque. Une fois le système installé, vous pouvez reconnecter le disque. Si tout va bien ce problème sera fixé dans une version ultérieure.</p></div></div><div class=sect2><h3 id=_jobtiens_le_message_panic_cant_mount_root_lors_du_redémarrage_de_mon_système_après_linstallation>2.25. J’obtiens le message "panic: cant mount root" lors du redémarrage de mon système après l’installation.<a class=anchor href=#_jobtiens_le_message_panic_cant_mount_root_lors_du_redémarrage_de_mon_système_après_linstallation></a></h3><div class=paragraph><p>Cette erreur indique un conflit entre les blocs de démarrage du système et la connaissance du noyau sur les disques. Cette erreur arrive fréquemment dans le cas d’un système disposant de deux disques IDE, avec chaque disque installé en maître ou périphérique unique sur des contrôleurs séparés, avec FreeBSD installé sur le contrôleur IDE secondaire. Le programme de démarrage pense que le système est installé sur wd1 (le second disque vu par le BIOS) alors que le noyau affecte wd2 au premier disque du deuxième contrôleur. Après le test de tous les périphériques, le noyau essaye de "monter" ce que le programme de démarrage pense être le disque de démarrage, wd1, alors qu’il s’agit en fait de wd2 et échoue.</p></div><div class=paragraph><p>Pour résoudre ce problème, effectuez les opérations suivantes :</p></div><div class=ulist><ul><li><p>Au message de démarrage tapez : <code>1:wd(2,a)kernel</code> puis Entrée. Si le système démarre, lancez la commande <code>echo "1:wd(2,a)kernel" > /boot.config</code> pour affecter la bonne chaîne de démarrage.</p></li><li><p>Déplacez le disque FreeBSD sur le controleur primaire, les disques sont alors vus de façon contigus.</p></li><li><p><a href=https://docs.freebsd.org/fr/books/handbook/kernelconfig#kernelconfig>Reconstruisez un noyau</a> en modifiant les lignes de configuration wd pour avoir:</p><div class="literalblock programlisting"><div class=content><pre>controller      wdc0    at isa? port &#34;IO_WD1&#34; bio irq 14 vector wdintr
disk            wd0     at wdc0 drive 0
# disk            wd1     at wdc0 drive 1 # comment out this line

controller      wdc1    at isa? port &#34;IO_WD2&#34; bio irq 15 vector wdintr
disk            wd1     at wdc1 drive 0 # change from wd2 to wd1
disk            wd2     at wdc1 drive 1 # change from wd3 to wd2</pre></div></div></li></ul></div><div class=paragraph><p>Puis installez le nouveau noyau. Si vous avez déplacé vos disques et vous voulez restaurer la configuration précédente, placez les disques dans la configuration désirée puis redémarrez. Votre système doit démarrer correctement.</p></div></div><div class=sect2><h3 id=_quelles_sont_les_limites_mémoire>2.26. Quelles sont les limites mémoire ?<a class=anchor href=#_quelles_sont_les_limites_mémoire></a></h3><div class=paragraph><p>Pour la mémoire, la limite est (en théorie) 4Go. Un essai a été fait avec un Go ; vous ne pourrez probablement pas acheter des PC i386 pouvant supporter plus que cela.</p></div></div><div class=sect2><h3 id=_quelles_sont_les_tailles_limites_pour_les_systèmes_de_fichiers_ffs>2.27. Quelles sont les tailles limites pour les systèmes de fichiers FFS ?<a class=anchor href=#_quelles_sont_les_tailles_limites_pour_les_systèmes_de_fichiers_ffs></a></h3><div class=paragraph><p>La taille maximum théorique d’un système de fichiers FFS est de 8 téraoctets (2G blocs) ou de 16To avec la taille de bloc par défaut de 8K. Il y a en pratique une limite logicielle à 1 téraoctet mais, avec quelques modifications, il est possible d’avoir des systèmes de fichiers de 4 téraoctet (et il en existe).</p></div><div class=paragraph><p>La taille maximum d’un fichier FFS est d’environ 1G blocs (4To), quand la taille de bloc est de 4K.</p></div><div class="literalblock programlisting"><div class=content><pre>                         taille de fichier maximum
                 -----------------------------------------
                 2.2.7    3.0
taille de bloc   -stable  -current  marche  devrait marcher
--------------   -------  --------  ------  ---------------
4K               4T-1       4T-1    4T-1    4+T
8K               32+G       8T-1    32+G    16T-1
16K              128+G      16T-1   128+G   32T-1
32K              512+G      32T-1   512+G   64T-1
64K              2048+G     64T-1   2048+G  128T-1</pre></div></div><div class=paragraph><p>Quand la taille du bloc est de 4K, l’adressage du bloc par indirection triple fonctionne et la limite devrait être définie par le plus grand numéro de bloc qui peut être reprété avec une indirection triple (approximativement 1K^3 + 1K^2 + 1K), mais la limite effective est en fait donnée par une valeur (erronée) de 1G-1 pour le nombre de blocs maximum. Cette valeur devraite être de 2G-1. Il y a des bogues avec les blocs dont le numéro est voisin de 2G-1, et ces blocs ne peuvent être adressés quand la taille du bloc est de 4K.</p></div><div class=paragraph><p>Pour les tailles de blocs de 8K et plus, tout devrait être limité par la valeur de 2G-1 pour les numéros de blocs, mais l’est en fait par la valeur maximum de 1G-1, hormis sous -stable, les blocs adressés par indirection triple ne peuvent être atteints, la limite est donc donnée par le plus grand numéro de bloc qui peut être adressé par une double indirection (approximativement (taille du bloc/4)^2 + (taille du bloc/4)), et dépasser cette limite sous -current peut poser des problèmes. Utiliser la valeur correcte de 2G-1 blocs posent à coup sûr des problèmes.</p></div></div><div class=sect2><h3 id=_comment_puis_je_mettre_des_fichiers_de_1to_sur_une_disquette>2.28. Comment puis-je mettre des fichiers de 1To sur une disquette ?<a class=anchor href=#_comment_puis_je_mettre_des_fichiers_de_1to_sur_une_disquette></a></h3><div class=paragraph><p>J’en ai plusieurs - virtuels - sur disquette :-). La taille maximum d’un fichier n’a pas de lien étroit avec la dimension maximum d’un disque. Un disque peut avoir jusqu’à un 1To. Il est fonctionnellement possible d’avoir un fichier plus grand que le disque.</p></div><div class=paragraph><p>L’exemple suivant crée un fichier de 8T-1 occupant 32K d’espace disque. (3 blocs indirects et 1 bloc de données) sur une petite partition racine. Il faut pour cela une version de la commande <code>dd</code> qui fonctionne sur de gros fichiers.</p></div><div class="literalblock programlisting"><div class=content><pre>ttyv0:bde@alphplex:/tmp/q&gt; cat foo
df .
dd if=/dev/zero of=z bs=1 seek=`echo 2^43 - 2 | bc` count=1
ls -l z
du z
df .
ttyv0:bde@alphplex:/tmp/q&gt; sh foo
Filesystem  1024-blocks     Used    Avail Capacity  Mounted on
/dev/sd0a         64479    27702    31619    47%    /
1+0 records in
1+0 records out
1 bytes transferred in 0.000187 secs (5346 bytes/sec)
-rw-r--r--  1 bde  bin  8796093022207 Sep  7 16:04 z
32	z
Filesystem  1024-blocks     Used    Avail Capacity  Mounted on
/dev/sd0a         64479    27734    31587    47%    /
ttyv0:bde@alphplex:/tmp/q&gt; exit</pre></div></div><div class=paragraph><p>Bruce Evans, September 1998</p></div></div></div></div><div class=sect1><h2 id=_compatibilité_matérielle_mise_à_jour_en_cours>3. Compatibilité matérielle. <strong>Mise à jour en cours</strong><a class=anchor href=#_compatibilité_matérielle_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_quels_sont_les_types_de_disques_durs_supportés_par_freebsd>3.1. Quels sont les types de disques durs supportés par FreeBSD ?<a class=anchor href=#_quels_sont_les_types_de_disques_durs_supportés_par_freebsd></a></h3><div class=paragraph><p>FreeBSD supporte les disques EIDE et SCSI (pour les contrôleurs compatibles, voir la section suivante), ainsi que tous les disques utilisant l’interface originale "Western Digital" (MFM, RLL, ESDI et bien sûr IDE). Quelques contrôleurs ESDI utilisant des interfaces propriétaires peuvent ne pas marcher: utilisez les interfaces WD1002/3/6/7 et leurs clones.</p></div></div><div class=sect2><h3 id=_quels_sont_les_contrôleurs_scsi_supportés>3.2. Quels sont les contrôleurs SCSI supportés ?<a class=anchor href=#_quels_sont_les_contrôleurs_scsi_supportés></a></h3><div class=paragraph><p>Voir la liste complète dans le <a href=https://docs.freebsd.org/fr/books/handbook/install#install>Handbook</a>.</p></div></div><div class=sect2><h3 id=_quels_sont_les_lecteurs_cd_rom_supportés_par_freebsd>3.3. Quels sont les lecteurs CD-ROM supportés par FreeBSD ?<a class=anchor href=#_quels_sont_les_lecteurs_cd_rom_supportés_par_freebsd></a></h3><div class=paragraph><p>N’importe quel lecteur SCSI connecté à un contrôleur supporté est supporté.</p></div><div class=paragraph><p>Les interfaces CD-ROM propriétaires suivantes sont aussi supportées:</p></div><div class=ulist><ul><li><p>Mitsumi LU002 (8 bits), LU005 (16 bits) et FX001D (16 bits double vitesse).</p></li><li><p>Sony CDU 31/33A</p></li><li><p>CD-ROM Sound Blaster Non-SCSI</p></li><li><p>CD-ROM Matsushita/Panasonic</p></li><li><p>CD-ROM ATAPI compatible IDE</p></li></ul></div><div class=paragraph><p>Toutes les cartes non-SCSI sont connues pour être extrêmement lentes par rapport aux lecteurs SCSI, et certains CDROM ATAPI peuvent ne pas être pris en charge.</p></div><div class=paragraph><p>A partir de la version 2.2, le CD-ROM FreeBSD de Walnut Creek permet de démarrer directement FreeBSD depuis le CD.</p></div></div><div class=sect2><h3 id=_est_ce_que_freebsd_supporte_les_lecteurs_zip>3.4. Est-ce que FreeBSD supporte les lecteurs ZIP ?<a class=anchor href=#_est_ce_que_freebsd_supporte_les_lecteurs_zip></a></h3><div class=paragraph><p>FreeBSD supporte bien sûr les lecteurs ZIP SCSI de base - out of the box. Les lecteurs ZIP ne peuvent être réglés que pour marcher sur les cibles SCSI d’adresse 5 ou 6, mais si le BIOS de votre adaptateur SCSI hôte le permet, vous pourrez même démarrer à partir du ZIP. Je ne sais pas quel adaptateur SCSI hôte vous permet de démarrer depuis des cibles autres que 0 ou 1…​ regardez votre documentation (et dites moi si cela marche pour vous).</p></div><div class=paragraph><p>Les ZIP ATAPI (IDE) sont pris en charge par FreeBSD 2.2.6 ainsi que par les versions ultérieures.</p></div><div class=paragraph><p>FreeBSD 3.0-STABLE contient le support pour lecteur ZIP sur port parallèle, mais pour cela, vous aurez à construire un nouveau noyau avec support pour ppbus (Parallel Port Bus) afin d’utiliser le ZIP. Prendre le fichier de configuration LINT comme exemple.</p></div><div class=paragraph><p>Regarder aussi cette note traitant <a href=#jaz>des disques amovibles</a>, ainsi que celle sur <a href=#disklabel>le 'formatage'</a>.</p></div></div><div class=sect2><h3 id=_est_ce_que_freebsd_supporte_jaz_ez_et_autres_disques_amovibles>3.5. Est-ce que FreeBSD supporte JAZ, EZ et autres disques amovibles ?<a class=anchor href=#_est_ce_que_freebsd_supporte_jaz_ez_et_autres_disques_amovibles></a></h3><div class=paragraph><p>A part la version IDE du lecteur EZ, ce sont tous des périphériques SCSI, alors pour FreeBSD, ils sont considérés comme des disques SCSI, et le lecteur IDE EZ est considéré comme un lecteur IDE.</p></div><div class=paragraph><p><a id=jaz></a>Je ne suis pas sûr que FreeBSD supporte correctemement un changement de media en cours de fonctionnement. Vous devrez bien sûr démonter le lecteur avant l’échange, et vous assurer que les unités externes soient allumées pendant le démarrage du système de sorte que FreeBSD puisse les voir.</p></div></div><div class=sect2><h3 id=_quelles_sont_les_cartes_séries_multi_ports_prises_en_charge_par_freebsd>3.6. Quelles sont les cartes séries multi-ports prises en charge par FreeBSD ?<a class=anchor href=#_quelles_sont_les_cartes_séries_multi_ports_prises_en_charge_par_freebsd></a></h3><div class=paragraph><p>Une liste est disponible à la section <a href=https://docs.freebsd.org/fr/books/handbook/>périphériques divers</a> du handbook.</p></div><div class=paragraph><p>A notre connaissance, certaines cartes clone sans marque sont connues pour fonctionner, en particulier celles qui se disent être compatibles AST.</p></div><div class=paragraph><p>Regarder la page de manuel <a href=http://www.freebsd.org/cgi/man.cgi?sio>sio</a> pour plus d’informations sur la configuration de telles cartes.</p></div></div><div class=sect2><h3 id=_jai_une_souris_bus_inhabituelle_comment_la_configurer>3.7. J’ai une souris bus inhabituelle. Comment la configurer ?<a class=anchor href=#_jai_une_souris_bus_inhabituelle_comment_la_configurer></a></h3><div class=paragraph><p>FreeBSD supporte les souris bus et les souris bus InPort de constructeurs tels que Microsoft, Logitech et ATI. Le contrôleur du bus est compilé dans le noyau GENERIC par défaut. Si vous construisez un noyau personalisé avec le contrôleur de souris bus, assurez-vous d’avoir bien mis la ligne suivante dans le fichier de configuration du noyau :</p></div><div class="literalblock programlisting"><div class=content><pre>device mse0 at isa? port 0x23c tty irq5 vector mseintr</pre></div></div><div class=paragraph><p>La souris bus vient souvent avec une interface dédiée. Cela vous permet de mettre une adresse de port et un numéro d’IRQ autres que ceux donnés ci-dessus. Reportez-vous au manuel de votre souris et à la page de manuel <a href=http://www.freebsd.org/cgi/man.cgi?mse>mse</a> pour plus d’informations.</p></div></div><div class=sect2><h3 id=_comment_utiliser_ma_souris_ps2_port_souris_ou_clavier>3.8. Comment utiliser ma souris PS/2 (port souris ou clavier) ?<a class=anchor href=#_comment_utiliser_ma_souris_ps2_port_souris_ou_clavier></a></h3><div class=paragraph><p>Si vous utilisez une version de FreeBSD post-2.2.5, le pilote nécessaire, psm, est inclu et activé dans le noyau. Le noyau devrait détecter votre souris PS/2 au moment du démarrage.</p></div><div class=paragraph><p>Si vous utilisez une version précédente mais assez récente de FreeBSD (2.1.x ou mieux), alors vous pouvez simplement l’activer dans le menu de configuration du noyau à l’installation, ou plus tard avec -c à l’invite du démarrage (boot). Il est désactivé par défaut, c’est pourquoi vous aurez à l’activer explicitement.</p></div><div class=paragraph><p>Si vous utilisez une version plus ancienne du noyau, alors vous aurez à ajouter la ligne suivante dans la configuration de votre noyau, et compiler un nouveau noyau :</p></div><div class="literalblock programlisting"><div class=content><pre>device psm0 at isa? port &#34;IO_KBD&#34; conflicts tty irq 12 vector psmintr</pre></div></div><div class=paragraph><p>Voir la <a href=https://docs.freebsd.org/fr/books/handbook/kernelconfig/#kernelconfig>section du Handbook sur la configuration du noyau</a> si vous n’avez aucune expérience dans la construction d’un noyau.</p></div><div class=paragraph><p>Un fois que vous aurez un noyau détectant correctement psm0 au moment du démarrage, assurez vous qu’une entrée pour psm0 existe bien dans /dev. Vous pouvez le faire en tapant :</p></div><div class="literalblock programlisting"><div class=content><pre>cd /dev; sh MAKEDEV psm0</pre></div></div><div class=paragraph><p>une fois loggué sous root.</p></div></div><div class=sect2><h3 id=_puis_je_utiliser_ma_souris_en_dehors_de_x_window>3.9. Puis-je utiliser ma souris en dehors de X Window ?<a class=anchor href=#_puis_je_utiliser_ma_souris_en_dehors_de_x_window></a></h3><div class=paragraph><p>Si vous utilisez le pilote de console par défaut, syscons, vous pourrez utiliser un curseur souris dans les consoles texte pour couper et coller du texte. Lancer le démon (de gestion de la) souris : moused, et déclencher le curseur de souris dans la console virtuelle.</p></div><div class="literalblock programlisting"><div class=content><pre>moused -p /dev/xxxx -t yyyy
vidcontrol -m on</pre></div></div><div class=paragraph><p>Où <span class=filename>xxxx</span> est le nom du périphérique souris et <span class=filename>yyyy</span> le type de protocole pour la souris. Voir la page de manuel <a href=http://www.freebsd.org/cgi/man.cgi?moused>moused</a> pour les types de protocoles supportés.</p></div><div class=paragraph><p>Peut-être préférez-vous lancer le démon gérant la souris au moment du démarrage du système. Dans la version 2.2.1, positionnez les variables suivantes dans <span class=filename>/etc/sysconfig</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>mousedtype=&#34;yyyy&#34;
mousedport=&#34;xxxx&#34;
mousedflags=&#34;&#34;</pre></div></div><div class=paragraph><p>Dans les versions 2.2.2 et plus, positionnez les variables suivantes dans <span class=filename>/etc/rc.conf</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>moused_type=&#34;yyyy&#34;
moused_port=&#34;xxxx&#34;
moused_flags=&#34;&#34;</pre></div></div><div class=paragraph><p>A partir de la version 2.2.6 de FreeBSD, le démon souris est capable de déterminer le type de protocole approprié automatiquement à moins que votre souris série ne soit d’un modèle relativement ancien. Spécifiez <span class=filename>auto</span> comme protocole pour activer la détection automatique.</p></div><div class=paragraph><p>Quand le démon souris tourne, l’accès à la souris doit être coordonné entre le démon souris et les autres programmes comme X-Window. Se référer à <a href=#x-and-moused>une autre section</a> de ce document.</p></div></div><div class=sect2><h3 id=_comment_puis_je_couper_et_coller_du_texte_avec_ma_souris_dans_ma_console_texte>3.10. Comment puis-je couper et coller du texte avec ma souris dans ma console texte ?<a class=anchor href=#_comment_puis_je_couper_et_coller_du_texte_avec_ma_souris_dans_ma_console_texte></a></h3><div class=paragraph><p>Une fois que vous aurez réussi à lancer le démon souris (voir <a href=#moused>section précédente</a>), appuyez en le maintenant sur le bouton 1 (bouton de gauche) et déplacez la souris afin de sélectionner une partie du texte. Puis, appuyez (clicquez) sur le bouton 2 (bouton du milieu) ou bouton 3 (bouton de droite) pour le coller à l’endroit du curseur texte.</p></div><div class=paragraph><p>Dans les versions 2.2.6 et plus, un clic sur le bouton 2 collera le texte. Un clic sur le bouton droit étendra la partie de texte sélectionné. Si votre souris n’a pas de bouton du milieu, vous pouvez l’émuler ou redéfinir les boutons en utilisant les options de la souris. Se reporter à la page de référence <a href=http://www.freebsd.org/cgi/man.cgi?moused>moused</a> pour plus de détails.</p></div></div><div class=sect2><h3 id=_ma_souris_a_une_roulette_et_des_boutons_ésotériques_puis_je_les_utiliser_sous_freebsd>3.11. Ma souris a une roulette et des boutons ésotériques. Puis-je les utiliser sous FreeBSD ?<a class=anchor href=#_ma_souris_a_une_roulette_et_des_boutons_ésotériques_puis_je_les_utiliser_sous_freebsd></a></h3><div class=paragraph><p>Malheureusement, la réponse est: Cà dépend. Ces souris avec des fonctionnalités supplémentaires ont besoin de pilotes spéciaux dans la majorité des cas. Alors, à moins que le pilote de la souris ou que le programme utilisateur ait un support spécifique pour cette souris, la souris se comportera comme une souris standard 2 ou 3 boutons.</p></div></div><div class=sect2><h3 id=_comment_utiliser_la_souristrackballtouchpad_de_mon_portable>3.12. Comment utiliser la souris/trackball/touchpad de mon portable ?<a class=anchor href=#_comment_utiliser_la_souristrackballtouchpad_de_mon_portable></a></h3><div class=paragraph><p>Se référer à <a href=#ps2mouse>"la réponse à la question précédente,"</a> ainsi qu’à cette section sur <a href=#pao>les ordinateurs portables</a>.</p></div></div><div class=sect2><h3 id=_quels_types_de_lecteurs_de_bandes_sont_supportés>3.13. Quels types de lecteurs de bandes sont supportés ?<a class=anchor href=#_quels_types_de_lecteurs_de_bandes_sont_supportés></a></h3><div class=paragraph><p>FreeBSD supporte les lecteurs de bandes magnétique SCSI, QIC-36 (avec une interface QIC-02) et QIC-40/80 (basés sur l’interface Floppy). Ceci inclut les lecteurs 8-mm (connus sous le nom d’Exabyte) et lecteurs DAT. Les lecteurs QIC-40/80 sont connus pour être lents.</p></div><div class=paragraph><p>Parmi les premiers lecteurs 8-mm, quelques-uns ne sont pas tout à fait compatibles SCSI-2, et peuvent de ce fait ne pas très bien marcher avec FreeBSD.</p></div></div><div class=sect2><h3 id=_freebsd_supporte_t_il_les_changeurs_de_bandes>3.14. FreeBSD supporte-t-il les changeurs de bandes ?<a class=anchor href=#_freebsd_supporte_t_il_les_changeurs_de_bandes></a></h3><div class=paragraph><p>FreeBSD 2.2 gère les changeurs SCSI en utilisant le périphérique <a href=http://www.freebsd.org/cgi/man.cgi?ch(4)>ch</a> ainsi que la commande <a href=http://www.freebsd.org/cgi/man.cgi?chio>chio</a>. Pour avoir plus de détails sur le contrôle du changeur, lisez la page du manuel <a href=http://www.freebsd.org/cgi/man.cgi?chio>chio</a>.</p></div><div class=paragraph><p>Si vous n’utilisez pas <a href=http://www.freebsd.org/cgi/ports.cgi?amanda>AMANDA</a> ou un autre produit qui gère déjà les changeurs, souvenez-vous qu’ils ne savent que déplacer une bande d’un point à un autre. Par conséquent, vous devrez garder une trace de l’emplacement dans lequel une bande est mise, ainsi que celui où la bande courante devra revenir.</p></div></div><div class=sect2><h3 id=_quelles_sont_les_cartes_son_supportées_par_freebsd>3.15. Quelles sont les cartes son supportées par FreeBSD ?<a class=anchor href=#_quelles_sont_les_cartes_son_supportées_par_freebsd></a></h3><div class=paragraph><p>FreeBSD prend en charge les cartes son: SoundBlaster, SoundBlaster Pro, SoundBlaster 16, Pro Audio Spectrum 16, AdLib et Gravis UltraSound. Il y a aussi un support limité pour les cartes MPU-401 et compatible MIDI. Les cartes conformes aux spécifications Microsoft Sound System sont aussi supportées par l’intermédiaire du pilote pcm.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ceci n’est valable que pour les sons! Ce pilote ne supporte pas les CD-ROMs, SCSI ou joysticks sur ces cartes, excepté pour la SoundBlaster. L’interface SCSI SoundBlaster et quelques CD-ROM non-SCSI sont aussi supportés. Mais vous ne pourrez pas démarrer depuis ces périphériques.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_quels_sont_les_cartes_réseau_supportées_par_freebsd>3.16. Quels sont les cartes réseau supportées par FreeBSD ?<a class=anchor href=#_quels_sont_les_cartes_réseau_supportées_par_freebsd></a></h3><div class=paragraph><p>Regarder la section <a href=https://docs.freebsd.org/fr/books/handbook/>cartes éthernet</a> du handbook pour une liste complète.</p></div></div><div class=sect2><h3 id=_je_nai_pas_de_coprocesseur_arithmétique_est_ce_un_problème>3.17. Je n’ai pas de coprocesseur arithmétique. Est-ce un problème ?<a class=anchor href=#_je_nai_pas_de_coprocesseur_arithmétique_est_ce_un_problème></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Cela ne touche que ceux qui ont un 386/486SX/486SLC - toutes les autres machines en ont déjà un intégré dans la CPU.</p></div></td></tr></tbody></table></div><div class=paragraph><p>En règle générale, il n’y a pas d’inconvénient, mais il existe des circonstances dans lesquelles cela peut causer des problèmes aussi bien au niveau des performances qu’au niveau de la précision du code d’émulation arithmétique (voir la section <a href=#emul>sur l’émulation FP</a>). En particulier, le dessin de courbes sous X sera TRES lent. Il est hautement recommandé d’acheter un coprocesseur arithmétique : c’est quand même mieux avec !</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Certains coprocesseurs mathématiques sont meilleurs que d’autres. Cela nous peine de le dire, mais personne n’a jamais été licencié pour avoir acheté de l’Intel. A moins que d’être sûr qu’ils fonctionnent avec FreeBSD, méfiez-vous des clones !</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_quels_autres_périphériques_la_version_2_x_supporte_t_elle>3.18. Quels autres périphériques la version 2.X supporte-t-elle ?<a class=anchor href=#_quels_autres_périphériques_la_version_2_x_supporte_t_elle></a></h3><div class=paragraph><p>Lire le <a href=https://docs.freebsd.org/fr/books/handbook/>Handbook</a> pour obtenir la liste des périphériques supportés.</p></div></div><div class=sect2><h3 id=_freebsd_supporte_t_il_le_gestionnaire_dénergie_de_mon_portable>3.19. FreeBSD supporte-t-il le gestionnaire d’énergie de mon portable ?<a class=anchor href=#_freebsd_supporte_t_il_le_gestionnaire_dénergie_de_mon_portable></a></h3><div class=paragraph><p>FreeBSD supporte l’APM sur certaines machines. Regardez dans le fichier de configuration du noyau <span class=filename>LINT</span>, et cherchez le mot-clef <a href=http://www.freebsd.org/cgi/man.cgi?apm>APM</a>.</p></div></div><div class=sect2><h3 id=_solutions_de_contournement_pour_des_problèmes_matériels_particuliers>3.20. Solutions de contournement pour des problèmes matériels particuliers.<a class=anchor href=#_solutions_de_contournement_pour_des_problèmes_matériels_particuliers></a></h3><div class=paragraph><p>Cette section traite de solutions de contournement pour des problèmes rencontrés par nos utilisateurs sur certains matériels particuliers.</p></div><div class=sect3><h4 id=_les_systèmes_micron_sont_suspendus_au_moment_du_démarrage>3.20.1. Les systèmes Micron sont suspendus au moment du démarrage.<a class=anchor href=#_les_systèmes_micron_sont_suspendus_au_moment_du_démarrage></a></h4><div class=paragraph><p>Certaines cartes mères Micron ont des implémentations non-conformes de PCI BIOS, ce qui peut poser des problèmes lorsque FreeBSD démarre car les périphériques PCI ne sont pas configurés à l’adresse annoncée.</p></div><div class=paragraph><p>Désactivez l’option "Système d’exploitation Plug and Play" dans le BIOS pour contourner ce problème. Des compléments d’informations peuvent être trouvés à <a href=http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron>"http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron"</a></p></div></div></div><div class=sect2><h3 id=_jai_un_nouveau_contrôleur_adaptec_et_freebsd_ne_le_reconnait_pas>3.21. J’ai un nouveau contrôleur Adaptec, et FreeBSD ne le reconnait pas.<a class=anchor href=#_jai_un_nouveau_contrôleur_adaptec_et_freebsd_ne_le_reconnait_pas></a></h3><div class=paragraph><p>Les nouvelles puces de la série Adaptec AIC789x sont supportées dans le cadre du CAM SCSI qui démarre avec la 3.0. Des patches pour la version 2.2-STABLE sont disponibles à <a href=ftp://ftp.freebsd.org/pub/FreeBSD/cam/>ftp://ftp.freebsd.org/pub/FreeBSD/cam/ </a>Une disquette d’amorce avec CAM est disponible à <a href=http://www.freebsd.org/~abial/cam-boot/>http://www.freebsd.org/~abial/cam-boot/</a>. Dans les deux cas, lisez le fichier README avant toute chose.</p></div></div><div class=sect2><h3 id=_jai_un_modem_interne_plugn_play_et_freebsd_ne_le_reconnait_pas>3.22. J’ai un modem interne plug’n play, et FreeBSD ne le reconnait pas.<a class=anchor href=#_jai_un_modem_interne_plugn_play_et_freebsd_ne_le_reconnait_pas></a></h3><div class=paragraph><p>Vous devez ajouter l’ID PnP du modem à la liste des ID PnP dans le pilote série. Pour activer le support Plug & Play, il faut compiler un nouveau noyau avec <span class=filename>controller pnp0</span> dans le fichier de configuration, puis redémarrer le système. Le noyau affichera alors l’ID PnP de tous les périphériques qu’il trouvera. Copier alors l’ID PnP du modem dans le tableau de <span class=filename>/sys/i386/isa/sio.c</span>, vers la ligne 1200. Cherchez la chaîne de caractère "SUP1310" dans la structure "siopnp_ids[]" pour trouver le tableau. Construire à nouveau le noyau, installer, redémarrer, et votre modem devrait être reconnu.</p></div><div class=paragraph><p>Vous pouvez configurer manuellement les périphériques PnP en utilisant la commande <code>pnp</code> à la configuration au moment du démarrage, avec une commande du style :</p></div><div class="literalblock programlisting"><div class=content><pre>pnp 1 0 enable os irq0 3 drq0 0 port0 0x2f8</pre></div></div><div class=paragraph><p>pour afficher le modem.</p></div></div><div class=sect2><h3 id=_comment_puis_je_obtenir_linvite_de_commande_boot_sur_la_console_série>3.23. Comment puis-je obtenir l’invite de commande <code>boot:</code> sur la console série ?<a class=anchor href=#_comment_puis_je_obtenir_linvite_de_commande_boot_sur_la_console_série></a></h3><div class=ulist><ul><li><p>Construire un noyau avec <span class=filename>options COMCONSOLE</span>.</p></li><li><p>Créer un fichier /boot.config avec pour seul contenu <span class=filename>-P</span></p></li><li><p>Déconnecter le clavier du système.</p></li></ul></div><div class=paragraph><p>Redardez <span class=filename>/usr/src/sys/i386/boot/biosboot/README.serial</span> pour plus d’informations.</p></div></div><div class=sect2><h3 id=_pourquoi_ma_carte_réseau_3com_pci_ne_marche_pas_avec_mon_micron>3.24. Pourquoi ma carte réseau 3Com PCI ne marche pas avec mon Micron ?<a class=anchor href=#_pourquoi_ma_carte_réseau_3com_pci_ne_marche_pas_avec_mon_micron></a></h3><div class=paragraph><p>Certaines cartes mères Micron ont une implémentation non-conforme du BIOS PCI qui ne configure pas les périphériques PCI à l’adresse annoncée. Cela cause des problèmes quand FreeBSD démarre.</p></div><div class=paragraph><p>Pour contourner ce problème, désactiver l’option "Système d’exploitation Plug and Play" dans le BIOS.</p></div><div class=paragraph><p>Pour plus d’informations sur ce problème, allez voir à l’URL: <a href=http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron>http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron</a></p></div></div><div class=sect2><h3 id=_freebsd_supporte_t_il_les_multiprocesseurs_symétriques_smp>3.25. FreeBSD supporte-t-il les Multiprocesseurs Symétriques (SMP) ?<a class=anchor href=#_freebsd_supporte_t_il_les_multiprocesseurs_symétriques_smp></a></h3><div class=paragraph><p>SMP n’est supporté que dans la version 3.0-STABLE et les versions suivantes.</p></div></div></div></div><div class=sect1><h2 id=_résolutions_des_incidents_mise_à_jour_en_cours>4. Résolutions des incidents. <strong>Mise à jour en cours</strong><a class=anchor href=#_résolutions_des_incidents_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=awre>4.1. J’ai des secteurs défectueux sur mon disque dur !<a class=anchor href=#awre></a></h3><div class=paragraph><p>Pour les disques SCSI, le disque devrait être capable de réallouer ceux-ci automatiquement. Quoiqu’il en soit, beaucoup de disques sont livrés avec cette fonctionnalité désactivée, pour une raison mystérieuse…​</p></div><div class=paragraph><p>Pour l’activer, vous aurez à éditer le first device page mode, ce qui peut être fait sur FreeBSD en tapant la commande (sous root)</p></div><div class="literalblock programlisting"><div class=content><pre>scsi -f /dev/rsd0c -m 1 -e -P 3</pre></div></div><div class=paragraph><p>et en changeant la valeur de AWRE et ARRE de 0 à 1 :</p></div><div class="literalblock programlisting"><div class=content><pre>AWRE (Auto Write Reallocation Enbld):  1
ARRE (Auto Read Reallocation Enbld):  1</pre></div></div><div class=paragraph><p>Les paragraphes suivants ont été soumis par <a href=mailto:tedm@toybox.placo.com>Ted Mittelstaedt</a> :</p></div><div class=paragraph><p>Pour les disques IDE, le moindre secteur défectueux est habituellement un signe d’incident potentiel. Tous les disques IDE modernes sont livrés avec la réallocation des secteurs défectueux activée. Tous les fabriquants de disques durs IDE offrent aujourd’hui des garanties étendues et remplaceront les disques possédant des secteurs défectueux.</p></div><div class=paragraph><p>Si vous voulez toutefois essayer de récupérer un disque IDE avec des secteurs défectueux, vous pouvez essayer de télécharger le programme de diagnostic du fabriquant de disque IDE et de le faire exécuter sur le disque. Quelquefois, ces programmes peuvent être configurés pour forcer l’électronique du disque à rebalayer le disque pour les secteurs défectueux et leur inhibition.</p></div><div class=paragraph><p>Pour les disques ESDI, RLL et MFM, les secteurs défectueux font partie de la vie normale du disque et ne sont pas signes d’incidents, généralement. Avec un PC, la carte contrôleur de disque et le BIOS prennent en charge la tâche d’inhibition des secteurs défectueux. C’est bien pour les systèmes d’exploitation comme DOS qui utilisent le code du BIOS pour accéder au disque. Toutefois, le driver de disque FreeBSD ne passe pas par le BIOS, aussi un mécanisme, bad144, existe pour remplacer cette fonctionnalité. bad144 ne fonctionne qu’avec le driver <span class=filename>wd</span>, il ne peut <em>pas</em> être utilisé avec le SCSI. bad144 fonctionne en entrant tous les secteurs défectueux trouvés dans un fichier spécial.</p></div><div class=paragraph><p>Un inconvénient avec bad144 - le fichier spécial des secteurs défectueux est placé sur la dernière piste du disque. Comme ce fichier contient peut-être une liste de secteurs dont l’un serait près du début du disque, où le fichier noyau <span class=filename>/kernel</span> serait aussi localisé, il doit donc être accéssible au progamme d’amorce (bootstrap) qui utilise les appels du BIOS pour lire le fichier du noyau. Cela signifie qu’un disque géré avec bad144 ne peut dépasser 1024 cylindres, 16 têtes et 63 secteurs. Cela place une limite effective de 500Mo sur un disque qui est réalloué avec bad144.</p></div><div class=paragraph><p>Pour utiliser bad144, positionnez simplement le balayage des secteurs défectueux Bad Block à ON dans le menu <code>fdisk</code> de FreeBSD lors de l’installation initiale. Cela marche jusqu’à la version 2.2.7 de FreeBSD. Le disque doit avoir moins de 1024 cylindres. Il est généralement recommandé de laisser tourner préalablement le disque pendant plus de 4 heures avant cette opération, pour tenir compte de la dilatation thermique et des pistes errantes.</p></div><div class=paragraph><p>Si le disque a plus de 1024 cylindres (comme un gros disque ESDI), le contrôleur ESDI utilise un mode de translation spécial pour le faire fonctionner sous DOS. Le driver <span class=filename>wd</span> comprend ces modes de translation, <em>si</em> vous entrez la géométrie "translatée" avec la commande <code>set geometry</code> dans <code>fdisk</code>. De plus, vous ne devez <em>pas</em> utiliser le mode dangerously dedicated de création d’une partition FreeBSD, parce qu’il ignore la géométrie. De plus, même si <code>fdisk</code> va utiliser votre géométrie surchargée, il continue à connaître la vrai taille du disque et va tenter de créer une partition FreeBSD trop grande. Si la géométrie du disque est remplacée par la géométrie translatée, la partition <em>doit</em> être créée manuellement avec le nombre de secteurs.</p></div><div class=paragraph><p>Un truc rapide à utiliser est d’initialiser le gros disque ESDI avec le contrôleur ESDI, le démarrer avec un disque DOS et le formatter avec une partition DOS. Puis, démarrez l’installation FreeBSD et dans le menu <code>fdisk</code>, lire depuis l’écran et écrire à côté la taille et le nombre de secteurs de la partition DOS. Puis, réinitilisez la géométrie comme celle de DOS en détruisant la partition DOS et en créant une partition FreeBSD cooperative avec la taille précédemment notée. Puis positionnez la partition pour être amorçable et autorisez le balayage des secteurs défectueux. Pendant l’installation réelle, <code>bad144</code> passera en premier, avant la moindre création de systèmes de fichiers (vous pouvez le voir avec un <code>Alt-F2</code>). S’il a le moindre problème pour créer le fichier des secteurs défectueux, vous avez initialisé une géométrie de disque trop grande - redémarrez le système et recommencez tout depuis le début (y compris le repartitionnement et reformattage en DOS).</p></div><div class=paragraph><p>Si la réallocation est autorisée et que vous voyez des secteurs défectueux, envisagez un remplacement du disque. Les secteurs défectueux ne feront que s’aggaver au fil du temps.</p></div></div><div class=sect2><h3 id=_freebsd_ne_reconnait_pas_ma_carte_eisa_scsi_bustek_742a>4.2. FreeBSD ne reconnait pas ma carte EISA SCSI Bustek 742a !<a class=anchor href=#_freebsd_ne_reconnait_pas_ma_carte_eisa_scsi_bustek_742a></a></h3><div class=paragraph><p>Cette information est spécifique à la 742a, mais peut aussi couvrir les autres cartes Buslogic (Bustek = Buslogic).</p></div><div class=paragraph><p>Il y a 2 <code>versions</code> générales de la carte 742a. Ce sont les révisions matérielles A-G et H - et plus. La lettre de révision est placée après le numéro d’assemblage sur le bord de la carte. La 742a possède 2 puces ROM dessus, l’une est la puce BIOS et l’autre est la puce Firmware. Si FreeBSD ne fait pas attention à la version de la puce BIOS que vous avez, il le fait par contre pour la version de la puce Firmware. Buslogic vous enverra des ROMs de mise à jour si vous appelez leur support technique. Les puces BIOS et Firmware sont appariées. Vous devez avoir la ROM Firmware la plus en cours dans votre carte d’adaptatation pour votre révision de matériel.</p></div><div class=paragraph><p>Les cartes REV A-G ne peuvent recevoir que les versions de BIOS/Firmware 2.41/2.21. Les cartes REV H - et plus peuvent accepter les plus récente versions de BIOS/Firmware 4.70/3.37. La différence entre ces jeux de firmware est que le 3.37 supporte l’allocation tournante (<code>round robin</code>).</p></div><div class=paragraph><p>Les cartes Buslogic ont aussi un numéro de série inscrit. Si vous avez une vieille révision de carte, vous pouvez appeler le département Buslogic RMA et leur donner le numéro de série afin d’essayer d’échanger celle-ci contre une révision plus récente. Si votre carte n’est pas trop vieille, il l’échangeront.</p></div><div class=paragraph><p>FreeBSD 2.1 ne supporte que les versions firmware 2.21 et plus. Si vous avez une version Firmware plus vieille, votre carte ne sera pas reconnue comme une carte Buslogic. Elle peut malgré tout être reconnue comme une carte Adaptec 1540. La vieille carte firmware contient un mode <code>émulation</code> AHA1540. Quoiqu’il en soit, ce n’est pas une bonne chose pour une carte EISA.</p></div><div class=paragraph><p>Si vous avez une vieille révision de carte et que vous obtenez le firmware 2.21, vous aurez à vérifier la position du cavalier (jumper) W1 à B-C ; par défaut, il est positionné à A-B.</p></div><div class=paragraph><p>Les cartes EISA 742q n’ont jamais eu le problème <code>>16Mo</code> mentionné dans la section <a href=#bigram>sur les machines >16 Mo</a>. Ceci est un problème qui apparaît avec les cartes SCSI Buslogic Vesa-Local.</p></div></div><div class=sect2><h3 id=_mon_contrôleur_scsi_hp_netserver_nest_pas_détecté>4.3. Mon contrôleur SCSI HP Netserver n’est pas détecté !<a class=anchor href=#_mon_contrôleur_scsi_hp_netserver_nest_pas_détecté></a></h3><div class=paragraph><p>C’est à la base un problème connu. Le contrôleur SCSI-EISA intégré sur la carte mère des machines HP Netserver occupe le slot EISA numéro 11, aussi tous les <code>vrais</code> slots EISA se retrouvent devant lui. Malheureusement, l’espace d’adressage pour les slots EISA >= 10 se retrouve en conflit avec l’espace d’adressage assigné aux slots PCI, et l’auto-configuration de FreeBSD ne peut actuellement pas très bien gérer cette situation.</p></div><div class=paragraph><p>Donc, pour le moment, le mieux que vous ayez à faire, est de prétendre qu’il n’y a pas de conflit de plage d’adresse :-), en propulsant l’option du noyau <span class=filename>EISA_SLOTS</span> à la valeur 12. Configurez et compilez un noyau comme décrit dans <a href=https://docs.freebsd.org/fr/books/handbook/kernelconfig/#kernelconfig>le manuel de référence sur la configuration du noyau</a>.</p></div><div class=paragraph><p>Bien sûr, cela se présente comme le problème bien connu de la poule et de l’oeuf lorsque l’on installe sur une telle machine. Afin de pouvoir contourner ce problème, un hack spécial est disponible au moment de la configuration utilisateur (UserConfig). Ne pas utiliser l’interface <code>visual</code>, mais l’interface en mode texte. Tapez simplement :</p></div><div class="literalblock programlisting"><div class=content><pre>eisa 12
quit</pre></div></div><div class=paragraph><p>au prompt, et installez le système comme d’habitude. Quoiqu’il en soit, il est recommandé de compiler et d’installer un noyau adapté.</p></div><div class=paragraph><p><a href=http://www.freebsd.org/cgi/man.cgi?dset>dset</a> comprend aussi maintenant qu’il faut sauver cette valeur.</p></div><div class=paragraph><p>Heureusement, les versions futures auront une solution appropriée à ce problème.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Vous ne pouvez pas utiliser un disque <strong>dangereusement dédié</strong> (dangerously dedicated) avec un Netserver HP. Voir <a href=http://www.freebsd.org/cgi/man.cgi?dedicate>cette note </a>pour plus d’informations.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_que_se_passe_til_avec_le_contrôleur_cmd640_ide_controller>4.4. Que se passe-t’il avec le contrôleur CMD640 IDE controller?<a class=anchor href=#_que_se_passe_til_avec_le_contrôleur_cmd640_ide_controller></a></h3><div class=paragraph><p>Il ne marche pas, Il ne peut pas manipuler des commandes sur les deux canaux simultanément.</p></div><div class=paragraph><p>Il y a un détour disponible à présent, et elle s’active automatiquement si votre système utilise cette puce. Pour plus de détails, référez-vous à la page de manuel du driver de dique (man 4 wd).</p></div><div class=paragraph><p>Si vous lancez déjà FreeBSD 2.2.1 ou 2.2.2 avec un contrôleur IDE CMD640 et que vous voulez utiliser le deuxième canal, construisez un nouveau noyau avec les options <span class=filename>options "CMD640"</span> activé. Il est mis par défaut pour FreeBSD 2.2.5 et plus.</p></div></div><div class=sect2><h3 id=_je_narrête_pas_de_voir_ed1_timeout>4.5. Je n’arrête pas de voir <span class=filename>ed1: timeout</span>.<a class=anchor href=#_je_narrête_pas_de_voir_ed1_timeout></a></h3><div class=paragraph><p>Cela est généralement causé par un conflit d’interruption (par exemple , 2 cartes utilisant le même IRQ). FreeBSD avant 2.0.5R était tolérant et fonctionnait même en cas de conflit d’IRQ. Mais à partir du 2.0.5R, les conflits ne sont plus tolérés. Booter avec l’option -c et changer l’ed0/de0/…​ pour se conformer à votre carte.</p></div><div class=paragraph><p>Si vous utilisez un connecteur BNC sur votre carte réseau, vous pouvez aussi voir des timeouts sur les périphériques à cause de mauvaise terminaison. Pour le vérifier, attachez un terminateur directement au NIC (sans câble) et regardez si les messages d’erreurs disparaissent.</p></div><div class=paragraph><p>Certaines cartes compatibles NE2000 donneront une telle erreur s’il n’y a pas de liaison sur le port UTP ou si le cable est déconnecté.</p></div></div><div class=sect2><h3 id=_quand_je_monte_le_cd_rom_jobtiens_incorrect_super_block>4.6. Quand je monte le CD-ROM, j’obtiens Incorrect super block.<a class=anchor href=#_quand_je_monte_le_cd_rom_jobtiens_incorrect_super_block></a></h3><div class=paragraph><p>Vous devez spécifier à <a href=http://www.freebsd.org/cgi/man.cgi?mount>mount </a>le type de périphérique que vous voulez monter. Par défaut, <a href=http://www.freebsd.org/cgi/man.cgi?mount>mount </a>supposera que le système de fichier est de type <span class=filename>ufs</span>. Vous pouvez vouloir monter un système de fichier CDROM, et vous pouvez le faire en spécifiant l’option <span class=filename>-t cd9660</span> à <a href=http://www.freebsd.org/cgi/man.cgi?mount>mount </a>. Cela suppose évidemment que le CDROM contienne un système de fichier ISO 9660 , qui est celui qu’ont presque tous les CDROM. Comme pour le 1.1R, FreeBSD comprend automatiquement les extensions Rock Ridge (nom long).</p></div><div class=paragraph><p>Par exemple, si vous voulez monter le lecteur CDROM <span class=filename>/dev/cd0c</span>, sous le répertoire <span class=filename>/mnt</span>, vous aurez à exécuter :</p></div><div class="literalblock programlisting"><div class=content><pre>mount -t cd9660 /dev/cd0c /mnt</pre></div></div><div class=paragraph><p>Bien noter que le nom du périphérique (<span class=filename>/dev/cd0c</span> de cet exemple peut être différent suivant l’interface du CDROM. Noter que l’option <span class=filename>-t cd9660</span>'' ne fait qu’exécuter la commande <span class=filename>mount_cd9660</span>, c’est ainsi que l’exmple pourrait être simplifié en :</p></div><div class="literalblock programlisting"><div class=content><pre>mount_cd9660 /dev/cd0c /mnt</pre></div></div></div><div class=sect2><h3 id=_quand_je_monte_un_cdrom_jobtiens_device_not_configured>4.7. Quand je monte un CDROM, j’obtiens Device not configured.<a class=anchor href=#_quand_je_monte_un_cdrom_jobtiens_device_not_configured></a></h3><div class=paragraph><p>Cela veut généralement dire qu’il n’y a pas de CDROM dans le lecteur de CDROM, ou que le lecteur n’est pas visible du bus. Mettez un disque dans le lecteur, et/ou vérifiez son état maître/esclave si c’est un IDE (ATAPI). Cela peut prendre quelques secondes pour le lecteur CDROM pour s’apercevoir qu’il y a un disque, alors, soyez patient.</p></div><div class=paragraph><p>De temps en temps, un lecteur CD-ROM SCSI peut être manqué car il n’a pas eu assez de temps pour répondre à la réinitialisation du bus. Si vous avez un lecteur CDROM SCSI, essayez d’ajouter la ligne suivante dans votre fichier de configuration du noyau, et recompilez.</p></div><div class="literalblock programlisting"><div class=content><pre>options &#34;SCSI_DELAY=15&#34;</pre></div></div></div><div class=sect2><h3 id=_mon_imprimante_est_extrêmement_lente_que_puis_je_faire>4.8. Mon imprimante est extrêmement lente, que puis-je faire ?<a class=anchor href=#_mon_imprimante_est_extrêmement_lente_que_puis_je_faire></a></h3><div class=paragraph><p>Si c’est du parallèle, et que le seul problème est qu’elle est terriblement lente, essayez de positionner votre port imprimante en mode poller:</p></div><div class="literalblock programlisting"><div class=content><pre>lptcontrol -p</pre></div></div><div class=paragraph><p>Certaines nouvelles imprimantes HP sont soupçonnées de ne pas fonctionner correctement en mode interruption, apparemment, cela est dû a certains problème de timing (mais cela n’est pas encore exactement compris).</p></div></div><div class=sect2><h3 id=_mes_programmes_se_tuent_souvent_avec_lerreur_signal_11>4.9. Mes programmes se tuent souvent avec l’erreur Signal 11.<a class=anchor href=#_mes_programmes_se_tuent_souvent_avec_lerreur_signal_11></a></h3><div class=paragraph><p>Cela peut-être causé par du mauvais matériel (mémoire, carte mère…​). Essayez de lancer un programme de test de mémoire sur votre PC. Notez que même si chaque programme de test de mémoire essayeront de vous dire que tout va bien, il est possible que certaines rares zones de mémoire passent tous les tests mémoires, mais échouent pourtant durant certaines conditions d’opération (comme pendant qu’un bus maîtrise l’accès direct à la mémoire depuis un contrôleur SCSI comme l’Adaptec 1542, quand vous chargez la mémoire en compilant le noyau, ou quand le système tourne dans des conditions très critiques)</p></div><div class=paragraph><p>La FAQ sur SIG11 (listée ci-dessous) dénonce les mémoires lentes comme étant le problème le plus courant. Augmentez le nombre d’états d’attente dans votre configuration du BIOS ou récupérez de la mémoire plus rapide.</p></div><div class=paragraph><p>Pour moi, la partie incriminée a été une mauvaise mémoire cache, ou un mauvais contrôleur cache. Essayez de désactiver le cache secondaire dans la setup BIOS, et regardez si cela résoud le problème.</p></div><div class=paragraph><p>Il y a une FAQ plus détaillée sur <a href=http://www.bitwizard.nl/sig11/>la FAQ du problème SIG11</a></p></div></div><div class=sect2><h3 id=_quand_je_boote_lécran_devient_noir_et_perd_sa_synchronisation>4.10. Quand je boote, l’écran devient noir, et perd sa synchronisation<a class=anchor href=#_quand_je_boote_lécran_devient_noir_et_perd_sa_synchronisation></a></h3><div class=paragraph><p>Ceci est un problème connu avec les cartes vidéo ATI Mach 64. Le problème est que cette carte utilise l’adresse <span class=filename>2e8</span>, et que le quatrième port série aussi. Dû à un bug (une fonctionnalité ?) dans le driver <a href=http://www.freebsd.org/cgi/man.cgi?sio>sio.c </a>, cela touchera ce port même si vous n’avez pas ce quatrième port série, et <strong>même</strong> si vous désactives sio3 (le quatrième port) qui utilise normalement cette adresse.</p></div><div class=paragraph><p>Jusqu’à ce que ce bug soit fixé, vous pouvez utiliser cette astuce :</p></div><div class=ulist><ul><li><p>Entrez <span class=filename>-c</span> à l’invite. (Cela mettra le noyau en mode configuration).</p></li><li><p>Désactivez <span class=filename>sio0</span>, <span class=filename>sio1</span>, <span class=filename>sio2</span> and <span class=filename>sio3</span> (tous). De cette manière, le driver sio ne sera pas activé. et donc plus de problèmes.</p></li><li><p>Tapez exit et continuez le rebootage.</p></li></ul></div><div class=paragraph><p>Si vous voulez pouvoir utiliser les ports séries, vous aurez à construire un nouveau noyau avec les modifications suivantes : Dans <span class=filename>/usr/src/sys/i386/isa/sio.c</span> cherchez la seule occurence de la chaîne <span class=filename>0x2e8</span> et enlevez cette chaîne et la virgule précédente (gardez la virgule de liaison). Puis suivre la procédure normale de la construction d’un nouveau noyau.</p></div><div class=paragraph><p>Même après avoir appliqué toutes ces astuces, vous pouvez trouver que X Window ne marche pas correctement, Certaines nouvelles cartes vidéo ATI Mach 64 (notamment ATI Mach Xpression) ne marche pas avec la version actuelle de <span class=filename>XFree86</span>; l’écran devient noir quand vous démarrez X Window, ou alors il marche avec des problèmes étranges. Vous pouvez obtenir la version beta d’un nouveau serveur X qui marche mieux. Regardez sur <a href=http://www.xfree86.org>le site XFree86 site </a>et suivez les liens à la nouvelle beta release. Récupérez les fichiers suivants :</p></div><div class=paragraph><p><span class=filename>AccelCards, BetaReport, Cards, Devices, FILES, README.ati,README.FreeBSD, README.Mach64, RELNOTES, VGADriver.Doc,X312BMa64.tgz</span></p></div><div class=paragraph><p>Remplacez les vieux fichiers avec ceux de la nouvelle version et vérifiez que vous lancez bien : <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xfree86&amp;query=xf86config">xf86config </a>à nouveau.</p></div></div><div class=sect2><h3 id=_jai_128_mb_de_ram_mais_le_système_nen_voit_que_64_mb>4.11. J’ai 128 MB de RAM mais le système n’en voit que 64 MB.<a class=anchor href=#_jai_128_mb_de_ram_mais_le_système_nen_voit_que_64_mb></a></h3><div class=paragraph><p>Dûe à la façon dont FreeBSD récupère la taille de la mémoire depuis le BIOS, il ne peut seulement détecter qu’une taille dont la valeur est codée en kilo-octets par 16 bits (65535 Ko = 64MB) (ou moins…​ certains BIOS tronque la taille de la mémoire à 16Mo). Si vous avez plus de 64 Mo, FreeBSD tentera de le détecter, mais il se peut que cette tentative échoue.</p></div><div class=paragraph><p>Pour contourner ce problème, vous devez utiliser l’option du noyau donnée ci-dessous. Il y a une manière de récupérer les informations complète de la mémoire depuis le BIOS, mais nous n’avons pas assez de place sur les blocks de boot pour le faire. Un jour, quand le manque de place sur les blocs de boots sera résolu, nous utiliserons les fonctions du BIOS étendu pour récupérer l’information complète sur la mémoire…​ mais pour l’instant, nous utilisons cette option du noyau. <span class=filename>options "MAXMEM=&lt;n>"</span> Où <span class=filename>n</span> est votre mémoire en KiloOctet. Pour une machine à 128Mo, vous pouvez utiliser <span class=filename>131072</span>.</p></div></div><div class=sect2><h3 id=_freebsd_2_0_panique_avec_kmem_map_too_small>4.12. FreeBSD 2.0 panique avec kmem_map too small!<a class=anchor href=#_freebsd_2_0_panique_avec_kmem_map_too_small></a></h3><div class=paragraph><p><span class=filename>Note :</span> Le message peut aussi être mb_map too small!'</p></div><div class=paragraph><p>La panique indique que le système n’a plus de mémoire virtuelle pour les buffers réseau (spécialement mbuf clusters). Vous pouvez augmenter la quantité de mémoire virtuelle disponible pour les clusters mbuf en ajoutant :</p></div><div class=paragraph><p><span class=filename>options "NMBCLUSTERS=&lt;n>"</span></p></div><div class=paragraph><p>dans votre configuration du kernel, où &lt;n> est un nombre compris entre 512 et 4096, suivant le nombre de connexions concurrentes TCP que vous aurez à supporter. Je vous recommande d’utiliser 2048 - cela devrait vous débarasser complètement de cette panique. Vous pouvez contrôler le nombre de clusters mbuf alloué/en cours d’utilisation sur votre système, avec <a href=http://www.freebsd.org/cgi/man.cgi?netstat>netstat -m </a>. La valeur par défaut pour NMBCLUSTERS est <span class=filename>512 + MAXUSERS * 16/</span>.</p></div></div><div class=sect2><h3 id=_cmap_busy_panic_au_moment_dun_reboot_avec_un_nouveau_noyau>4.13. CMAP busy panic au moment d’un reboot avec un nouveau noyau.<a class=anchor href=#_cmap_busy_panic_au_moment_dun_reboot_avec_un_nouveau_noyau></a></h3><div class=paragraph><p>La logique permettant de détecter un fichier obsolète <span class=filename>/var/db/kvm_*.db</span> peut parfois échouer et utiliser un fichier non approprié peut alors conduire à cette panique.</p></div><div class=paragraph><p>Si cela arrive, rebooter en mode single-user et faites :</p></div><div class="literalblock programlisting"><div class=content><pre>rm /var/db/kvm_*.db</pre></div></div></div><div class=sect2><h3 id=_ahc0_brkadrint_illegal_host_access_at_seqaddr_0x0>4.14. ahc0: brkadrint, Illegal Host Access at seqaddr 0x0<a class=anchor href=#_ahc0_brkadrint_illegal_host_access_at_seqaddr_0x0></a></h3><div class=paragraph><p>C’est un conflit avec l’adaptateur hôte Ultrastor SCSI.</p></div><div class=paragraph><p>Durant la procédure de boot, entrez dans le menu de configuration du noyau et désactivez <a href=http://www.freebsd.org/cgi/man.cgi?uha(4)>uha0" </a>qui est à la cause de ce problème.</p></div></div><div class=sect2><h3 id=_sendmail_me_dit_mail_loops_back_to_myself>4.15. Sendmail me dit mail loops back to myself<a class=anchor href=#_sendmail_me_dit_mail_loops_back_to_myself></a></h3><div class=paragraph><p>Cela est répondu dans la FAQ sendmail de la façon suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>* Je reçois des messages &#34;Local configuration error&#34; messages, comme:

553 relay.domain.net config error: mail loops back to myself
554 &lt;user@domain.net&gt;... Local configuration error

Comment puis-je résoudre ce problème ?

Vous avez demandé que les mails adressés au domaine (par exemple domain.net)
soient dirigés vers un hôte spécifique (dans ce cas relay.domain.net) en
utilisant un enregistrement MX, mais la machine de relai ne s&#39;est pas reconnu
lui-même comme domain.net. Ajoutez domain.net à /etc/sendmail.cw
(si vous utilisez FEATURE(use_cw_file)) ou ajoutez &#34;Cw domain.net&#34; à
/etc/sendmail.cf.</pre></div></div><div class=paragraph><p>La version actuelle de <a href=ftp://rtfm.mit.edu/pub/usenet/news.answers/mail/sendmail-faq>la FAQ sendmail </a>n’est plus maintenue avec la release sendmail. Mais elle est de toute façon postée régulièrement à : <a href=news:comp.mail.sendmail>comp.mail.sendmail </a>, <a href=news:comp.mail.misc>comp.mail.misc </a>, <a href=news:comp.mail.smail>comp.mail.smail </a>, <a href=news:comp.answers>comp.answers </a>, et <a href=news:news.answers>news.answers </a>. Vous pouvez aussi en recevoir une copie par courrier électronique, en envoyant un mail à : <a href=mailto:mail-server@rtfm.mit.edu></a><a href=mailto:mail-server@rtfm.mit.edu>mail-server@rtfm.mit.edu</a> avec la commande with the command "send usenet/news.answers/mail/sendmail-faq" comme corps de message.</p></div></div><div class=sect2><h3 id=_les_applications_plein_écran_sur_des_machines_distantes_se_comportent_étrangement>4.16. Les applications plein-écran sur des machines distantes se comportent étrangement.<a class=anchor href=#_les_applications_plein_écran_sur_des_machines_distantes_se_comportent_étrangement></a></h3><div class=paragraph><p>La machine distante peut régler votre type de terminal à autre chose que le type de terminal <span class=filename>cons25</span> utilisé par la console FreeBSD.</p></div><div class=paragraph><p>Il y a un certains nombres de contournement de ce problème :</p></div><div class=ulist><ul><li><p>Après s’être loggué sur la machine distante, positionnez votre variable d’environnement TERM à soit <span class=filename>ansi</span> soit <span class=filename>sco</span>.</p></li><li><p>Utilisez localement un émulateur VT100 comme <a href=http://www.freebsd.org/cgi/ports.cgi?screen>. screen </a><span class=filename>screen</span> permet la possibilité de lancer plusieurs sessions concurentes depuis un terminal.</p></li><li><p>Installez l’entrée <span class=filename>cons25</span> du terminal dans la base de données sur la machine distante.</p></li><li><p>fire up X et login vers la machine distante depuis un <span class=filename>xterm</span>.</p></li></ul></div></div></div></div><div class=sect1><h2 id=_applications_commerciales_mise_à_jour_en_cours>5. Applications commerciales. <strong>Mise à jour en cours</strong><a class=anchor href=#_applications_commerciales_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=paragraph><p>NOTE : Cette section est encore très clairsemée, car nous espérons naturellement, que les industries y contribueront :-) L’organisation FreeBSD n’a aucun intérêt financier dans aucune des sociétés énumérées ici, mais les liste simplement comme service public (et estime que l’intérêt commercial dans FreeBSD peut avoir des effets très positifs sur la viabilité à long terme de FreeBSD). Nous encourageons les constructeurs de logiciel commerciaux à envoyer leurs références ici pour inclusion. Voir <a href=http://www.fr.freebsd.org/commercial/commercial.html>les pages des constructeurs </a>pour une liste plus complète.</p></div><div class=sect2><h3 id=_où_puis_je_obtenir_motif_pour_freebsd>5.1. Où puis je obtenir Motif pour FreeBSD ?<a class=anchor href=#_où_puis_je_obtenir_motif_pour_freebsd></a></h3><div class=paragraph><p>Contactez <a href=http://www.apps2go.com>Apps2go</a> pour une distribution ELF Motif 2.1 pour FreeBSD.</p></div><div class=paragraph><p>Cette distribution comprend :</p></div><div class=ulist><ul><li><p>OSF/Motif manager, xmbind, panner, wsm.</p></li><li><p>Les librairies ELF statiques et dynamiques (utilisables avec FreeBSD 3.0 et supérieur).</p></li><li><p>Kit de développement avec les fichiers uil, mrm, xm, xmcxx, include et Imake.</p></li><li><p>Des applications de démonstration.</p></li></ul></div><div class=paragraph><p>Soyez sûr d’indiquer que vous voulez la version de FreeBSD de Motif lors de la commande ! Des versions pour NetBSD et OpenBSD sont également vendues par <em>Apps2go</em>. Vous avez actuellement juste la possiblité de télécharger en FTP.</p></div><div class="literalblock programlisting"><div class=content><pre>        Pour plus d&#39;informations
        Serveur WWW de Apps2go

        Ou les addresse de messageries du département des ventes  ou encore
        du support

        Tél: (817) 431 8775  ou +1 817 431-8775</pre></div></div><div class=paragraph><p>Contactez <a href=http://www.metrox.com>Metro Link</a> pour une distribution a.out ou ELF Motif 2.1 pour FreeBSD.</p></div><div class=paragraph><p>Cette distribution comprend :</p></div><div class=ulist><ul><li><p>OSF/Motif manager, xmbind, panner, wsm.</p></li><li><p>Kit de développement avec les fichiers uil, mrm, xm, xmcxx, include et Imake.</p></li><li><p>Les librairies a.out et ELF statiques et dynamiques (utilisables avec FreeBSD 3.0 et supérieur pour les librairies ELF et 2.2.8 et supérieur pour les librairies a.out ).</p></li><li><p>Des applications de démonstration.</p></li><li><p>Les pages de manuel préformattées</p></li></ul></div><div class=paragraph><p>Soyez sûr d’indiquer que vous voulez la version de FreeBSD de Motif lors de la commande ! Des versions pour Linux sont également vendues par <em>Metro Link</em>. La distribution est disponible par téléchargement FTP ou sur un CDROM.</p></div><div class=paragraph><p>Contactez <a href=http://www.xig.com>Xi Graphics</a> pour une distribution a.out Motif 2.0 pour FreeBSD.</p></div><div class=paragraph><p>Cette distribution comprend :</p></div><div class=ulist><ul><li><p>OSF/Motif manager, xmbind, panner, wsm.</p></li><li><p>Les librairies a.out statiques et dynamiques (utilisables avec FreeBSD 2.2.8 et supérieur).</p></li><li><p>Kit de développement avec les fichiers uil, mrm, xm, xmcxx, include et Imake.</p></li><li><p>Des applications de démonstration.</p></li><li><p>Les pages de manuel préformattées</p></li></ul></div><div class=paragraph><p>Soyez sûr d’indiquer que vous voulez la version de FreeBSD de Motif lors de la commande ! Des versions pour BSDI et Linux sont également vendues par <em>Xi Graphics</em>. La distribution comprend actuellement 4 disquettes. Dans le futur il y aura un CD comme pour CDE.</p></div></div><div class=sect2><h3 id=_où_puis_je_avoir_cde_pour_freebsd>5.2. Où puis-je avoir CDE pour FreeBSD?<a class=anchor href=#_où_puis_je_avoir_cde_pour_freebsd></a></h3><div class=paragraph><p>Contactez <a href=http://www.xig.com>Xi Graphics</a> pour une distribution CDE 1.0.10 pour FreeBSD. Cela inclut Motif 1.2.5, et peut être utilisé avec Motif 2.0.</p></div><div class=paragraph><p>C’est une distribution CDROM uniforme pour FreeBSD et Linux.</p></div></div><div class=sect2><h3 id=_y_a_t_il_des_serveurs_x_commerciaux_haute_performance>5.3. Y a-t-il des serveurs X commerciaux haute-performance ?<a class=anchor href=#_y_a_t_il_des_serveurs_x_commerciaux_haute_performance></a></h3><div class=paragraph><p>Oui, <a href=http://www.xig.com>Xi Graphics </a>et <a href=http://www.metrolink.com>Metro Link</a> vendent leur produit Accelerated-X pour FreeBSD et autres systèmes basés sur Intel.</p></div><div class=paragraph><p>Le serveur X de Metro Link offre une configuration facile grace a l’utilisation des outils de gestion des packages de FreeBSD, supporte de multiples cartes vidéos et est distribué en forme binaire seulement, par FTP. N’oublions pas de mentionner que Metro Link offre se serveur a un prix raisonnable de 39$.</p></div><div class=paragraph><p>Metro Link vend aussi une version ELF et a.out de Motif (voir ci-dessus).</p></div><div class="literalblock programlisting"><div class=content><pre>        Pour plus d&#39;informations
        Serveur WWW de Metro Link

        Ou les addresse de messageries du département des ventes  ou encore
        du support

        Tél:  (954) 938-0283  or +1 954 938-0283</pre></div></div><div class=paragraph><p><a href=http://www.xig.com>Xi Graphics</a> offre un serveur X haute performances comportant une facilité de configuration et supportant des cartes vidéos multiples. La distribution est sous forme binaire, et est au format disquette pour FreeBSD et Linux. Xi Graphics offre aussi un serveur haute performances pour les portables.</p></div><div class=paragraph><p>Il y a une "démo de compatibilité" disponible et gratuite de la version 5.0.</p></div><div class=paragraph><p>Xi Graphics vends aussi Motif et CDE pour FreeBSD (voir ci-dessus).</p></div><div class="literalblock programlisting"><div class=content><pre>Pour plus d&#39;informations :
 Xi Graphics WWW page
ou par courrier électronique aux adresses suivantes :
 Ventes
ou
 Support
ou encore par téléphone au
(800) 946 7433  ou +1 303 298-7478.</pre></div></div></div><div class=sect2><h3 id=_y_a_t_il_un_système_de_bases_de_données_pour_freebsd>5.4. Y a-t-il un système de bases de données pour FreeBSD?<a class=anchor href=#_y_a_t_il_un_système_de_bases_de_données_pour_freebsd></a></h3><div class=paragraph><p>Oui ! Conetic Software Systems a porté leur système de bases de données C/base and C/books pour FreeBSD 2.0.5 et plus, et Sleepycat Software vend une version commerciale supportée de leur librairie de base de données DB.</p></div><div class=paragraph><p>Pour plus d’informations : <a href=http://www.conetic.com/>Conetic Software Systems </a>ou envoyez un courrier électronique à <a href=mailto:info@conetic.com>Information E-mail address </a>et <a href=http://www.sleepycat.com/>Sleepycat Software</a></p></div></div></div></div><div class=sect1><h2 id=_applications_mise_à_jour_en_cours>6. Applications. <strong>Mise à jour en cours</strong><a class=anchor href=#_applications_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_ou_puis_je_trouver_toutes_les_applications_utilisateurs>6.1. Ou puis-je trouver toutes les applications utilisateurs?<a class=anchor href=#_ou_puis_je_trouver_toutes_les_applications_utilisateurs></a></h3><div class=paragraph><p>Allez voir sur la <a href=https://docs.freebsd.org/fr/books/handbook/ports/#ports>page des ports</a> pour plus d’informations sur les packages portés sur FreeBSD. La liste complète inclut plus de 1000 ports, et grossit chaque jours, donc vérifiez souvent cette liste, ou souscrivez à la mailing liste <a href=freebsd-announce>freebsd-announce </a>pour vous tenir au courant des mises à jour.</p></div><div class=paragraph><p>La plupart des ports sont disponibles pour la branche 2.2 et 3.0, et la plupart d’entre eux sont susceptibles de fonctionner sur des systèmes 2.1.x. A chaque fois qu’une version de FreeBSD est livrée, une version des ports, au moment de la livraison de la version, est incluse dans le répertoire <span class=filename>ports</span>.</p></div><div class=paragraph><p>FreeBSD supporte aussi le concept de package, qui n’est rien de plus qu’une distribution binaire compressée avec quelques informations en plus, permettant de l’installer très simplement. Un package peut être installé et désinstallé facilement, sans avoir besoin de savoir les détails sur les fichiers qu’il inclut.</p></div><div class=paragraph><p>Il vous suffit d’utiliser le menu d’installation des package du programme <span class=filename>/stand/sysinstall</span> ou servez vous de la commande <em>pkg_add(1)</em> pour installer les packages que vous désirez. Les fichiers des packages sont très simple à identifiés de part leur suffixe <em>.tgz</em>. Les personnes disposant d’une distribution sur CDROM les trouveront dans le répertoire <span class=filename>packages/All</span>. Ils sont aussi disponibles sur ces différents serveurs ftp:</p></div><div class=ulist><ul><li><p>Pour les versions 2.1.x-release: <a href=ftp://ftp.FreeBSD.ORG/pub/FreeBSD/packages-2.1.7/>ftp://ftp.FreeBSD.ORG/pub/FreeBSD/packages-2.1.7/</a></p></li><li><p>Pour les versions 2.2.6-release/2.2.-stable: <a href=ftp://ftp.FreeBSD.ORG/pub/FreeBSD/packages-2.2.6/>ftp://ftp.FreeBSD.ORG/pub/FreeBSD/packages-2.2.6/</a></p></li><li><p>Pour la version 3.0-current: <a href=ftp://ftp.FreeBSD.ORG/pub/FreeBSD/packages-3.0/>ftp://ftp.FreeBSD.ORG/pub/FreeBSD/packages-3.0/</a> ou sur un site mirroir.</p></li></ul></div><div class=paragraph><p>Notez, que tous les ports ne sont pas obligatoirement disponibles sous forme de package. C’est une bonne idée de vérifier régulièrement la disponibilité des différents packages sur le <a href=ftp://ftp.freebsd.org/pub/FreeBSD/>site principal de FreeBSD</a></p></div></div><div class=sect2><h3 id=_ou_trouver_la_librairie_libc_so_3_0>6.2. Ou trouver la librairie libc.so.3.0?<a class=anchor href=#_ou_trouver_la_librairie_libc_so_3_0></a></h3><div class=paragraph><p>Cela veut dire que vous essayez d’utiliser un package compilé pour des versions 2.2/3.0 sur un système 2.1.x. Voyez la section précedente et retrouvez le port/package correct pour votre système.</p></div></div><div class=sect2><h3 id=emul>6.3. ghostscript m’affiche énormément d’erreurs sur mon 386/486SX.<a class=anchor href=#emul></a></h3><div class=paragraph><p>Vous n’avez pas de coprocesseur mathématique, n’est-ce pas ? Vous devez absolument compiler l’émulateur mathématique fournit dans votre noyau; il vous suffit d’ajouter la ligne suivante dans votre fichier de configuration du noyau:</p></div><div class="literalblock programlisting"><div class=content><pre> options GPL_MATH_EMULATE</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content>Vous devez retirer la ligne contenant l’option <span class=filename>MATH_EMULATE</span> si vous activez la précédente.</td></tr></tbody></table></div></div><div class=sect2><h3 id=_lorsque_je_lance_des_applications_scoibcs2_elles_plantent_sur_socksys>6.4. Lorsque je lance des applications SCO/iBCS2, elles plantent sur <span class=filename>socksys</span><a class=anchor href=#_lorsque_je_lance_des_applications_scoibcs2_elles_plantent_sur_socksys></a></h3><div class=paragraph><p>Vous devez en tout premier éditer le fichier <span class=filename>/etc/sysconfig</span> (ou <a href=http://www.freebsd.org/cgi/man.cgi?rc.conf(5)>/etc/rc.conf </a>) et positionner la variable suivante sur <em>YES</em>:</p></div><div class="literalblock programlisting"><div class=content><pre># à positionner sur YES si vous voulez que l&#39;émulation ibcs2(SCO) soit chargée au démarrage
ibcs2=NO</pre></div></div><div class=paragraph><p>Cela activera le module <a href=http://www.freebsd.org/cgi/man.cgi?ibcs2>ibcs2 </a>au démarrage.</p></div><div class=paragraph><p>Vous devrez aussi créer le répertoire <span class=filename>/compat/ibcs2/dev</span> et mettre en place ce qui suit :</p></div><div class="literalblock programlisting"><div class=content><pre>lrwxr-xr-x  1 root  wheel         9 Oct 15 22:20 X0R@ -&gt; /dev/null
lrwxr-xr-x  1 root  wheel         7 Oct 15 22:20 nfsd@ -&gt; socksys
-rw-rw-r--  1 root  wheel         0 Oct 28 12:02 null
lrwxr-xr-x  1 root  wheel         9 Oct 15 22:20 socksys@ -&gt; /dev/null
crw-rw-rw-  1 root  wheel   41,   1 Oct 15 22:14 spx</pre></div></div><div class=paragraph><p>Il suffit de faire pointer socksys vers <a href=http://www.freebsd.org/cgi/man.cgi?null(4)>/dev/null </a>pour tromper les open & close. Le code, dans la version -current, fera le reste. Si vous avez besoin du driver <span class=filename>spx</span> pour la connexion d’une socket X, définissez <span class=filename>SPX_HACK</span> lors de la compilation de votre système.</p></div></div><div class=sect2><h3 id=_comment_dois_je_configurer_inn_internet_news_pour_mon_système>6.5. Comment dois-je configurer INN (Internet News) pour mon système ?<a class=anchor href=#_comment_dois_je_configurer_inn_internet_news_pour_mon_système></a></h3><div class=paragraph><p>Après avoir installé le package ou le port de inn, la meilleur façon de commencer est de voir la page de <a href=http://www.eerie.fr/~news/>Fabien TASSIN</a> sur INN, ou vous trouverez la FAQ de INN.</p></div></div><div class=sect2><h3 id=_quelle_version_de_microsoft_frontpage_dois_je_utiliser>6.6. Quelle version de Microsoft FrontPage dois-je utiliser ?<a class=anchor href=#_quelle_version_de_microsoft_frontpage_dois_je_utiliser></a></h3><div class=paragraph><p>Utilisez les ports ! Une pré-version patchée pour Apache est disponible dans les ports</p></div></div></div></div><div class=sect1><h2 id=_configuration_du_noyau_mise_à_jour_en_cours>7. Configuration du noyau. <strong>Mise à jour en cours</strong><a class=anchor href=#_configuration_du_noyau_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_jaimerais_personnaliser_mon_noyau_est_ce_difficile>7.1. J’aimerais personnaliser mon noyau. Est-ce difficile ?<a class=anchor href=#_jaimerais_personnaliser_mon_noyau_est_ce_difficile></a></h3><div class=paragraph><p>Pas du tout ! Jetez un coup d’oeil à <a href=https://docs.freebsd.org/fr/books/handbook/kernelconfig/#kernelconfig>la section de la configuration du noyau du manuel de référence.</a></p></div><div class=paragraph><p>NOTE : Je vous recommande de faire une sauvegarde datée de votre noyau dans <span class=filename>kernel.YYMMDD</span> dès que vous arrivez à tout faire marcher. Ainsi, si jamais en jouant avec votre configuration du noyau, vous mélangez tout, vous pourrez démarrer sur ce noyau plutôt que de repartir depuis <span class=filename>kernel.GENERIC</span>. Ceci est particulièrement important si vous démarrez actuellement depuis un contrôleur qui n’est pas supporté par le noyau GENERIC (oui, c’est une expérience personelle).</p></div></div><div class=sect2><h3 id=_ma_compilation_du_noyau_échoue_car_hwfloat_manque>7.2. Ma compilation du noyau échoue car <span class=filename>&amp;hw&amp;float</span> manque.<a class=anchor href=#_ma_compilation_du_noyau_échoue_car_hwfloat_manque></a></h3><div class=paragraph><p>Laissez-moi deviner. Vous avez supprimé <a href=http://www.freebsd.org/cgi/man.cgi?npx(4)>npx0 </a>de votre fichier de configuration du noyau car vous n’avez pas de coprocesseur arithmétique, c’est ça ? Faux ! :-). Le périphérique <span class=filename>npx0</span> est <strong>OBLIGATOIRE</strong>. Même si vous n’avez pas de coprocesseur arithmétique, vous <strong>devez</strong> inclure le périphérique <span class=filename>npx0</span>.</p></div></div><div class=sect2><h3 id=_conflits_dinterruption_avec_le_code_multi_port_série>7.3. Conflits d’interruption avec le code multi-port série.<a class=anchor href=#_conflits_dinterruption_avec_le_code_multi_port_série></a></h3><div class="qlist qanda"><ol><li><p><em>Quand je compile le noyau avec du code multi-port série, cela me dit que seul le premier port est examiné et le reste est ignoré à cause des conflits d’interruption. Comment puis-je résoudre cela ?</em></p><p>Le problème ici, est que FreeBSD a du code intégré pour éviter au noyau de se planter à cause d’un conflit matériel ou logiciel. La façon de fixer ce problème est d’ignorer le réglage des IRQ sur tous les ports sauf un. Voici un exemple :</p></li></ol></div><div class="literalblock programlisting"><div class=content><pre>#
# Multiport high-speed serial line - 16550 UARTS
#
device sio2 at isa? port 0x2a0 tty irq 5 flags 0x501 vector siointr
device sio3 at isa? port 0x2a8 tty flags 0x501 vector siointr
device sio4 at isa? port 0x2b0 tty flags 0x501 vector siointr
device sio5 at isa? port 0x2b8 tty flags 0x501 vector siointr</pre></div></div></div><div class=sect2><h3 id=_comment_puis_je_activer_le_support_des_disques_qic_4080>7.4. Comment puis-je activer le support des disques QIC-40/80 ?<a class=anchor href=#_comment_puis_je_activer_le_support_des_disques_qic_4080></a></h3><div class=paragraph><p>Vous supprimez le commentaire de la ligne suivante du fichier générique de configuration (ou ajoutez la à votre fichier de configuration), ajoutez un <span class=filename>flags 0x1</span> à la ligne <a href=http://www.freebsd.org/cgi/man.cgi?fdc(4)>fdc </a>et recompilez.</p></div><div class="literalblock programlisting"><div class=content><pre>controller  fdc0  at isa? port &#34;IO_FD1&#34; bio irq 6 drq 2 flags 0x1 vector fdintr
disk        fd0   at fdc0 drive 0                       ^^^^^^^^^
disk        fd1   at fdc0 drive 1
#tape       ft0   at fdc0 drive 2
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</pre></div></div><div class=paragraph><p>Puis, vous créez un périphérique appelé <span class=filename>/dev/ft0</span> en allant dans le répertoire <span class=filename>/dev</span> et en lançant la commande suivante :</p></div><div class="literalblock programlisting"><div class=content><pre> sh ./MAKEDEV ft0</pre></div></div><div class=paragraph><p>pour le premier périphérique. <span class=filename>ft1</span> pour le second, et ainsi de suite.</p></div><div class=paragraph><p>Vous aurez un périphérique appelé <span class=filename>/dev/ft0</span>, où vous pourrez écrire par l’intermédiaire d’un programme spécial appelé <span class=filename>ft</span> - Voir la page de manuel <a href=http://www.freebsd.org/cgi/man.cgi?ft>ft </a>pour plus de détails.</p></div><div class=paragraph><p>Les versions précédentes de <span class=filename>-current</span> ont aussi quelques problèmes avec certaines cartouche ddfectueuses. Si vous avez des problèmes où <span class=filename>ft</span> semble aller et venir indéfiniment, essayez de récupérer la dernière version de <span class=filename>ft</span> depuis <span class=filename>/usr/src/sbin/ft</span> dans <span class=filename>-current</span> et essayez le.</p></div></div></div></div><div class=sect1><h2 id=_administration_système_mise_à_jour_en_cours>8. Administration système. <strong>Mise à jour en cours</strong><a class=anchor href=#_administration_système_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_où_sont_les_fichiers_de_démarrage_du_système>8.1. Où sont les fichiers de démarrage du système ?<a class=anchor href=#_où_sont_les_fichiers_de_démarrage_du_système></a></h3><div class=paragraph><p>De la version 2.0.5R à la version 2.2.1R, le fichier de configuration principal était <span class=filename>/etc/sysconfig</span>. Toutes les options sont spécifiées dans ce fichier et les autres fichiers comme <a href=http://www.freebsd.org/cgi/man.cgi?rc>/etc/rc </a>et <span class=filename>/etc/netstart</span> ne font que l’inclure.</p></div><div class=paragraph><p>Regardez dans le fichier <span class=filename>/etc/sysconfig</span> et changez les valeurs nécessaires pour configurer votre système. Ce fichier inclut des commentaires indiquant les valeurs à mettre.</p></div><div class=paragraph><p>Pour les versions 2.2.1 et suivantes, le fichier <span class=filename>/etc/sysconfig</span> a été renommé en <a href=http://www.freebsd.org/cgi/man.cgi?rc.conf(5)>rc.conf </a>et a été épuré au passage. Le fichier <span class=filename>/etc/netstart</span> a aussi été renommé en <span class=filename>rc/network</span> comme cela tous les fichiers peuvent être copiés grâce à une seule commande : <a href=http://www.freebsd.org/cgi/man.cgi?cp>cp </a><span class=filename>/usr/src/etc/rc* /etc</span>.</p></div><div class=paragraph><p>Le fichier <span class=filename>/etc/rc.local</span> existe toujours et peut être utilisé pour démarrer des services additionnels comme <a href=http://www.freebsd.org/cgi/ports.cgi?^inn>INN</a> ou pour positionner certaines valeurs.</p></div><div class=paragraph><p>Le fichier <span class=filename>/etc/rc.serial</span> permet d’initialiser les ports série (par exemple mettre en place les caractéristiques du port, etc..).</p></div><div class=paragraph><p>Le fichier <span class=filename>/etc/rc.i386</span> est spécifique aux paramètres des plateformes Intel, comme l’émulation iBCS2 ou la configuration de la console système d’un PC.</p></div><div class=paragraph><p>Avec la version 2.1.0R, vous pouvez définir des fichiers de démarrage "locaux" se trouvant dans un répertoire spécifié dans le fichier <span class=filename>/etc/sysconfig</span> (ou le fichier <span class=filename>/etc/rc.conf</span>):</p></div><div class="literalblock programlisting"><div class=content><pre># Emplacement des fichiers de démarrage locaux
local_startup=/usr/local/etc/rc.local.d</pre></div></div><div class=paragraph><p>Chaque fichier se terminant par <span class=filename>.sh</span> sera éxécuté dans l’ordre alphabétique.</p></div><div class=paragraph><p>Si vous voulez vous assurez d’un certain ordre de démarrage sans changer le nom des fichiers, vous pouvez utiliser un schéma similaire à celui qui suit, en faisant précéder chaque fichier de chiffres pour assurer l’ordre de démarrage:</p></div><div class="literalblock programlisting"><div class=content><pre>10news.sh
15httpd.sh
20ssh.sh</pre></div></div><div class=paragraph><p>Cela peut vous sembler un peu laid (ou SysV :-)) mais cela fournit une façon simple pour les packages locaux ajoutés sans être obligé d’éditer <span class=filename>/etc/rc.local</span>. La plupart des ports ou des packages assument que le répertoire <span class=filename>/usr/local/etc/rc.d</span> permet le démarrage des programmes locaux.</p></div></div><div class=sect2><h3 id=_comment_ajouter_simplement_un_utilisateur>8.2. Comment ajouter simplement un utilisateur ?<a class=anchor href=#_comment_ajouter_simplement_un_utilisateur></a></h3><div class=paragraph><p>Utilisez la commande <a href=http://www.freebsd.org/cgi/man.cgi?adduser>adduser</a></p></div><div class=paragraph><p>Il existe aussi un autre outil nommé <span class=filename>new-account</span> écrit en Perl par <a href=mailto:roberto@FreeBSD.ORG>Ollivier Robert</a>. Demandez le lui. Cet outil est actuellement en cours de développements supplémentaires</p></div><div class=paragraph><p>Pour retirer un utilisateur, utilisez la commande <a href=http://www.freebsd.org/cgi/man.cgi?rmuser>rmuser</a>.</p></div></div><div class=sect2><h3 id=_comment_ajouter_un_nouveau_disque_dur_à_mon_système_freebsd>8.3. Comment ajouter un nouveau disque dur à mon système FreeBSD ?<a class=anchor href=#_comment_ajouter_un_nouveau_disque_dur_à_mon_système_freebsd></a></h3><div class=paragraph><p>Voyez le <a href=/articles/diskformat/>tutoriel</a> sur le formatage des disques dur.</p></div></div><div class=sect2><h3 id=_comment_utiliser_mon_nouveau_disque_amovible>8.4. Comment utiliser mon nouveau disque amovible ?<a class=anchor href=#_comment_utiliser_mon_nouveau_disque_amovible></a></h3><div class=paragraph><p>Que ce soit un disque amovible de type ZIP ou EZ (ou même une disquette), ou un disque dur, une fois installé et reconnu par le système et que vous avez inséré une cartouche/disquette, la manipulation est la même pour tous les périphériques.</p></div><div class=paragraph><p><a id=disklabel></a>(Cette section est basée sur <a href=http://www.vmunix.com/mark/FreeBSD/ZIP-FAQ.html>la FAQ </a>des lecteurs ZIP de Mark Mayo)</p></div><div class=paragraph><p>Si c’est un disque ZIP ou une disquette DOS, il y a déjà un système de fichier DOS installé, vous pouvez utilisez les commandes suivantes:</p></div><div class="literalblock programlisting"><div class=content><pre>mount -t msdos /dev/fd0c /floppy</pre></div></div><div class=paragraph><p>s’il s’agit d’une disquette; ou:</p></div><div class="literalblock programlisting"><div class=content><pre>mount -r msdos /dev/sd2s4 /zip</pre></div></div><div class=paragraph><p>s’il s’agit d’un lecteur ZIP dans sa configuration d’origine.</p></div><div class=paragraph><p>Pour les autres types de disques, voyez leur partitionnement en utilisant <span class=filename>fdisk</span> ou <span class=filename>/stand/sysinstall</span>.</p></div><div class=paragraph><p>Les exemples qui suivent supposent que vous disposez d’un disque ZIP sur sd2, le troisième disque SCSI.</p></div><div class=paragraph><p>Si votre disque amovible n’est pas une disquette, ou tout autre disque amovible que vous ne désirez par partager avec d’autres personnes, il vaut mieux mettre un système de fichiers BSD dessus. Vous pourrez avoir des noms longs, une amélioration de performances et une meilleur stabilité. Pour commencer, vous devez effacer la partition ou le système de fichiers DOS. Vous pouvez utiliser l’utilitaire <a href=http://www.freebsd.org/cgi/man.cgi?fdisk>fdisk </a>ou <span class=filename>/stand/sysinstall</span>, ou pour un disque d’une petite capacité, détruire la table des partitions FAT et utiliser le partitionnement BSD standard :</p></div><div class="literalblock programlisting"><div class=content><pre>dd if=/dev/zero of=/dev/rsd2 count=2
disklabel -Brw sd2 auto</pre></div></div><div class=paragraph><p>Vous pouvez utiliser disklabel ou <span class=filename>/stand/sysinstall</span> pour créer plusieurs partitions BSD. Vous effectuerez probablement ces opérations si vous ajoutez de l’espace de "swap" sur un disque fixe, mais il est inconcevable de le faire sur un disque amovible ZIP.</p></div><div class=paragraph><p>Pour finir construisez un nouveau système de fichier, utilisant tout l’espace disponible sur votre lecteur ZIP :</p></div><div class="literalblock programlisting"><div class=content><pre>newfs /dev/rsd2c</pre></div></div><div class=paragraph><p>et montez le :</p></div><div class="literalblock programlisting"><div class=content><pre>mount /dev/sd2c /zip</pre></div></div><div class=paragraph><p>C’est surement une bonne idée d’ajouter la ligne suivante au fichier <a href=http://www.freebsd.org/cgi/man.cgi?fstab>/etc/fstab </a>, cela vous permettra de ne taper que "mount /zip" par la suite :</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/sd2c /zip ffs rw,noauto 0 0</pre></div></div></div><div class=sect2><h3 id=_comment_monter_une_partition_dos_étendue>8.5. Comment monter une partition DOS étendue ?<a class=anchor href=#_comment_monter_une_partition_dos_étendue></a></h3><div class=paragraph><p>Les partitions DOS étendues se trouvent après la fin de toutes les partitions primaires. Par exemple, si vous avez une partition "E" en tant que partition DOS étendue sur le deuxième disque SCSI, vous devez créer le fichier spécial pour la partition 5 dans /dev et monter /dev/sd1s5 :</p></div><div class="literalblock programlisting"><div class=content><pre># cd /dev
# ./MAKEDEV sd1s5
# mount -t msdos /dev/sd1s5 /dos/e</pre></div></div></div><div class=sect2><h3 id=_puis_je_monter_dautres_systèmes_de_fichiers_sous_freebsd>8.6. Puis-je monter d’autres systèmes de fichiers sous FreeBSD ?<a class=anchor href=#_puis_je_monter_dautres_systèmes_de_fichiers_sous_freebsd></a></h3><div class=paragraph><p>Les CDROM <em>Digital UNIX</em> au format UFS peuvent être montés directements sous FreeBSD. Il peut être très difficile, par contre, de monter des partitions disques de Digital UNIX, ou d’autres systèmes supportant l’UFS. Cela dépend des partitionnements effectués sur le système en question.</p></div><div class=paragraph><p><em>Linux:</em> Les version 2.2 et supérieures incluent le support des partitions <em>ext2fs</em>. Pour plus d’informations voyez la page de manuel de <a href=http://www.freebsd.org/cgi/man.cgi?mount_ext2fs>mount_ext2fs </a>.</p></div><div class=paragraph><p>Toute autre information sur le sujet est appréciée.</p></div></div><div class=sect2><h3 id=_comment_utiliser_le_programme_de_démarrage_de_nt_pour_démarrer_freebsd>8.7. Comment utiliser le programme de démarrage de NT pour démarrer FreeBSD ?<a class=anchor href=#_comment_utiliser_le_programme_de_démarrage_de_nt_pour_démarrer_freebsd></a></h3><div class=paragraph><p>Il faut pour cela copier le premier secteur de votre partition FreeBSD dans un fichier sur une partition DOS/NT. Nous supposerons qu’il s’appelle <span class=filename>c:>bootsect.bsd</span> (équivalent de <span class=filename>c:>bootsect.dos</span>). Il suffit d’éditer le fichier <span class=filename>c:>boot.ini</span> pour qu’il ressemble à ceci:</p></div><div class="literalblock programlisting"><div class=content><pre>[boot loader]
timeout=30
default=multi(0)disk(0)rdisk(0)partition(1)\WINDOWS
[operating systems]
multi(0)disk(0)rdisk(0)partition(1)\WINDOWS=&#34;Windows NT&#34;
C:\BOOTSECT.BSD=&#34;FreeBSD&#34;
C:\=&#34;DOS&#34;</pre></div></div><div class=paragraph><p>Cette procédure implique que DOS, NT ou FreeBSD soient installés sur le même disque. Dans mon cas DOS et NT sont installés respectivement sur la première partition du disque et FreeBSD sur la seconde. FreeBSD est aussi configuré pour démarrer depuis sa partition et <em>non</em> depuis le MBR du disque.</p></div><div class=paragraph><p>Monter une disquette préformatée DOS (si vous cette partition n’est pas en FAT, mais en NTFS) sous <span class=filename>/mnt</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>dd if=/dev/rsd0a of=/mnt/bootsect.bsd bs=512 count=1</pre></div></div><div class=paragraph><p>Redémarrez en mode DOS ou NT. Si vous avez une partition NTFS copiez le fichier <span class=filename>bootsect.bsd</span> de la disquette dans le répertoire C:>. Modifiez les attributs (permissions) du fichier boot.ini.</p></div><div class="literalblock programlisting"><div class=content><pre>attrib -s -r c:\boot.ini</pre></div></div><div class=paragraph><p>Ajoutez la ligne correcte au fichier boot.ini et restaurez les anciens attributs.</p></div><div class="literalblock programlisting"><div class=content><pre>attrib -s -r c:\boot.ini</pre></div></div><div class=paragraph><p>Si FreeBSD démarre depuis le MBR, restaurez-le avec la commande DOS <span class=filename>fdisk /MBR</span> après avoir reconfiguré FreeBSD pour démarrer depuis sa partition native.</p></div></div><div class=sect2><h3 id=_comment_démarrer_freebsd_et_linux_grace_à_lilo>8.8. Comment démarrer FreeBSD et Linux grace à LILO ?<a class=anchor href=#_comment_démarrer_freebsd_et_linux_grace_à_lilo></a></h3><div class=paragraph><p>Si vous avez installé FreeBSD et Linux sur le mème disque, suivez les instructions du manuel de LILO pour démarrer sur d’autres systèmes que Linux. En résumé il faut :</p></div><div class=paragraph><p>Démarrer sous Linux et ajouter les lignes suivantes au fichier <span class=filename>/etc/lilo.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>other=/dev/hda2
table=/deb/hda
label=FreeBSD</pre></div></div><div class=paragraph><p>(l’exemple précédant suppose que la partition FreeBSD est connue par linux sous le nom <span class=filename>/dev/hda2</span>. Ensuite lancez <span class=filename>lilo</span> sous root, et c’est fini.</p></div><div class=paragraph><p>Si FreeBSD se trouve sur un autre disque vous devez ajouter <span class=filename>loader=/boot/chain.b</span> au fichier de configuration de lilo :</p></div><div class="literalblock programlisting"><div class=content><pre>other=/dev/sdb4
table=/dev/sdb
loader=/boot/chain.b
label=FreeBSD</pre></div></div><div class=paragraph><p>Dans certains cas, vous devez spécifier le numéro du disque connu par le BIOS au programme de démarrage de FreeBSD pour démarrer sur le deuxième disque. Par exemple, si votre disque SCSI contenant FreeBSD est trouvé par le BIOS comme disque numéro 1, vous devez taper la ligne suivante au prompt du programme de démarrage:</p></div><div class="literalblock programlisting"><div class=content><pre>Boot: 1:sd(0,a)/kernel</pre></div></div><div class=paragraph><p>Vous pouvez configurer le <a href=http://www.freebsd.org/cgi/man.cgi?boot(8)>programme de démarrage </a>de FreeBSD version 2.2.5 ou supérieure pour prendre cette chaine par défaut.</p></div><div class=paragraph><p>Le document <a href=http://sunsite.unc.edu/LDP/HOWTO/mini/Linux+FreeBSD.html>Linux+FreeBSD mini-HOWTO</a> est une très bonne référence sur l’interopérabilité entre FreeBSD et Linux.</p></div></div><div class=sect2><h3 id=_comment_démarrer_freebsd_et_linux_depuis_booteasy>8.9. Comment démarrer FreeBSD et Linux depuis BootEasy ?<a class=anchor href=#_comment_démarrer_freebsd_et_linux_depuis_booteasy></a></h3><div class=paragraph><p>Il faut installer LILO au début de votre partition de démarrage de Linux au lieu du MBR. Vous pouvez alors démarrer LILO depuis BootEasy.</p></div><div class=paragraph><p>Si vous utilisez Linux et Windows-95, c’est la meilleur façon d’installer LILO si vous voulez continuer à démarrer Linux après avoir réinstallé Windows-95 (qui lui ne tient pas contre des autres systèmes et se croit seul sur le MBR).</p></div></div><div class=sect2><h3 id=_est_ce_dangereux_dutiliser_un_disque_dédié>8.10. Est-ce dangereux d’utiliser un disque dédié ?<a class=anchor href=#_est_ce_dangereux_dutiliser_un_disque_dédié></a></h3><div class=paragraph><p>La procédure d’installation vous permet de choisir deux façons différentes pour partitionner vos disques. Par défaut, elle permet de les rendre compatibles avec d’autres systèmes d’exploitation se trouvant sur votre ordinateur en utilisant les entrées des tables de fdisk (appelés "slices" sous FreeBSD), en faisant en sorte qu’une "slice" FreeBSD corresponde à une partition. Vous pouvez aussi installer un selecteur de démarrage pour choisir de démarrer sous un autre système d’exploitation.</p></div><div class=paragraph><p>Comme ceci correspond à la plupart des cas de personnes venant des PC, les personnes venant d’Unix et qui désirent mettre en place une machine pour y faire tourner FreeBSD et juste FreeBSD, utilisent la procédure classique d’installation d’Unix, ou Unix utilise le disque au complet, du premier secteur au dernier. Une véritable table pour fdisk n’est d’aucune utilité dans le vas d’une machine utilisant FreeBSD 24h/24, 7jours sur 7, car aucun autre système d’exploitation ne sera démarré. Donc si vous sélectionnez A)ll FreeBSD dans l’éditeur de partition du programme d’installation et répondez No à la question qui suit, vous serez dans ce cas. Notez que cela implique que le programme de démarrage BSD correspond au MBR de ce disque. N’essayez pas d’en réinstaller un sous peine de détruire le précédent.</p></div><div class=paragraph><p>Donc pourquoi est-ce donc dangereux? Un disque configuré de la sorte ne contient pas de table fdisk valides, pour la plupart des utilitaires PC. Suivant la façon dont ils ont été conçus, ils vous avertissent ou tout simplement ne disent rien et détruisent le programme de démarrage BSD sans avertissement. Certains systèmes d’exploitation très utilisés sur PC, sont connus pour agir de la sorte (bien sûr, ils agissent de la sorte sous le couvert de système "orienté-utilisateur"). Au moins un BIOS de chez Award, qui est par exemple utilisé sur les HP Netserver (mais sur d’autre systèmes aussi), est connu pour ignorer tout disque dur n’ayant pas de table fdisk valide. Lorsque votre machine démarre il ignore tout simplement de tels disques, tente de démarrer sur une disquette, et vous affiche un Read error. Très impressionnant, non ?. C’est ce que certains appellent un système "orienté-utilisateur".</p></div><div class=paragraph><p>Les avantages de ce partitionnement sont : FreeBSD utilise le disque au complet, il n’y a donc pas de besoin de garder quelques 'pistes' au début du disque qui ne servaient à rien sauf pour un modèle de partitionnement vieux et simpliste qui n’a maintenant plus aucun sens. Ces contraintes étant ce que l’on peut appeler la plus grosse prise de tête lors de l’installation des systèmes d’exploitations sur PS, et qui menaient le plus souvent à deux façon complètement redondantes de stockage des informations dans les tables fdisk. Voyez le chapitre sur <a href=#missingos>Missing Operating System</a>. Dans le cas d’un disque dangereusement dédié, le programme de démarrage BSD commence au secteur 0, qui est le seul secteur ne changeant de valeur C/H/S, pour les valeurs du disque du BIOS. Vous pouvez donc, dans ce cas, interchanger des disques entre plusieurs controleurs ou systèmes utilisant des schémas de translation différents sans vous poser de questions.</p></div><div class=paragraph><p>Pour passer d’un disque dangereusement dédié à un disque normal de PC, il y a deux solutions simples. La première est de recouvrir le MBR d’octets vides, pour permettre de faire croire que le disque est vierge. Pour pouvez le faire de la façon suivante:</p></div><div class="literalblock programlisting"><div class=content><pre>dd if=/dev/zero of=/dev/rds0 count=15</pre></div></div><div class=paragraph><p>Ou en utilisant une fonctionnnalité non-documentée de DOS :</p></div><div class="literalblock programlisting"><div class=content><pre>fdisk /mbr</pre></div></div><div class=paragraph><p>qui installe aussi un nouveau MBR, en recouvrant le programme de démarrage BSD.</p></div></div><div class=sect2><h3 id=_comme_faire_pour_ajouter_plus_de_swap>8.11. Comme faire pour ajouter plus de "swap" ?<a class=anchor href=#_comme_faire_pour_ajouter_plus_de_swap></a></h3><div class=paragraph><p>La meilleur façon de faire, est d’augmenter la taille de votre partition de swap, ou de prendre cette excuse pour ajouter un autre disque.</p></div><div class=paragraph><p>Ajouter du "swap" sur un autre disque permet plus d’augmenter la rapidité que d’en ajouter sur le même disque. Par exemple, si vous compilez des fichiers qui se trouvent sur un disque et que le "swap" se trouve sur un autre disque, cela va beaucoup plus vite d’avoir le "swap" et les sources sur le même disque. Ceci est spécialement vrai pour les disques SCSI.</p></div><div class=paragraph><p>Les disques IDE ne permettent pas l’accès à deux disques sur le même canal au même moment (FreeBSD ne supporte pas le mode 4, donc toutes les entrées/sorties disques sont programmées). Je vous suggère de mettre le "swap" sur un autre disque aussi. Les disques durs sont si peu couteux, que cela ne vaut pas le coup de tout mettre sur un.</p></div><div class=paragraph><p>C’est une très mauvaise idée de mettre le fichier de "swap" sur une partition NFS, sauf si vous disposez d’un environnement réseau extrèmement rapide, et d’un très bon serveur NFS.</p></div><div class=paragraph><p>Voici un exemple pour ajouter 64Mo de swap en utilisant un fichier se nommant <span class=filename>/usr/swap0</span>.</p></div><div class=paragraph><p>Assurez vous que votre noyau est compilé avec la ligne</p></div><div class="literalblock programlisting"><div class=content><pre>pseudo-device vn 1 # #Vnode driver (turns a file into a device)</pre></div></div><div class=paragraph><p>Le noyau GENERIC la contient par défaut.</p></div><div class=ulist><ul><li><p>Créez un vn-device :</p><div class="literalblock programlisting"><div class=content><pre>cd /dev
sh./MAKEDEV vn0</pre></div></div></li><li><p>Créez le fichier de "swap" (<span class=filename>/usr/swap0</span>).</p><div class="literalblock programlisting"><div class=content><pre> dd if=/dev/zero of=/usr/swap0 bs=1024k count=64</pre></div></div></li><li><p>Activez le fichier de "swap" dans le fichier <span class=filename>/etc/rc.conf</span></p><div class="literalblock programlisting"><div class=content><pre>swapfile=&#34;/usr/swap0&#34; # Set to name of swapfile if aux swapfile desired.</pre></div></div></li><li><p>Rebootez la machine</p></li></ul></div><div class=paragraph><p>Pour activer le fichier de "swap" immédiatement, tapez</p></div><div class="literalblock programlisting"><div class=content><pre>vnconfig -ce /dev/vn0c /usr/swap0 swap</pre></div></div></div><div class=sect2><h3 id=_jai_des_problèmes_pour_installer_mon_imprimante>8.12. J’ai des problèmes pour installer mon imprimante.<a class=anchor href=#_jai_des_problèmes_pour_installer_mon_imprimante></a></h3><div class=paragraph><p>Référez-vous à la section sur les <a href=https://docs.freebsd.org/fr/books/handbook/printing/#printing>imprimantes du Handbook</a>. Elle couvre l’essentiel des problèmes que l’on peut rencontrer.</p></div></div><div class=sect2><h3 id=_le_clavier_est_mal_configuré_sur_mon_ordinateur>8.13. Le clavier est mal configuré sur mon ordinateur.<a class=anchor href=#_le_clavier_est_mal_configuré_sur_mon_ordinateur></a></h3><div class=paragraph><p>Le programme <span class=filename>kbdcontrol</span> comporte une option permettant de charger une configuration clavier différente. Vous trouverez dans <span class=filename>/usr/shared/syscons/keymaps</span> différents fichiers de configuration. Choisissez celle voulue et chargez la :</p></div><div class="literalblock programlisting"><div class=content><pre> kbdcontrol -l fr.iso</pre></div></div><div class=paragraph><p>Dans tous les cas le programme <a href=http://www.freebsd.org/cgi/man.cgi?kbdcontrol>kbdcontrol</a> recherche dans <span class=filename>/usr/shared/syscons/keymaps</span> un fichier se terminant par <span class=filename>.kbd</span>.</p></div><div class=paragraph><p>Vous pouvez le configurer dans le fichier <span class=filename>/etc/sysconfig</span> (ou <a href=http://www.freebsd.org/cgi/man.cgi?rc.conf(5)>rc.conf</a>). Regardez les commentaires apropriés dans ce fichier.</p></div><div class=paragraph><p>Pour les versions 2.0.5 et suivantes, tout ce qui est relatif aux fontes du texte, à la configuration du clavier se trouve dans <span class=filename>/usr/shared/syscons</span>.</p></div><div class=paragraph><p>Actuellement les configurations de claviers suivantes sont supportées :</p></div><div class=ulist><ul><li><p>Belgian ISO-8859-1</p></li><li><p>Brazilian 275 keyboard Codepage 850</p></li><li><p>Brazilian 275 keyboard ISO-8859-1</p></li><li><p>Danish Codepage 865</p></li><li><p>Danish ISO-8859-1</p></li><li><p>French ISO-8859-1</p></li><li><p>German Codepage 850</p></li><li><p>German ISO-8859-1</p></li><li><p>Italian ISO-8859-1</p></li><li><p>Japanese 106</p></li><li><p>Japanese 106x</p></li><li><p>Latin American</p></li><li><p>Norwegian ISO-8859-1</p></li><li><p>Polish ISO-8859-2 (programmer’s)</p></li><li><p>Russian Codepage 866 (alternative)</p></li><li><p>Russian utf-8 (shift)</p></li><li><p>Russian utf-8</p></li><li><p>Spanish ISO-8859-1</p></li><li><p>Swedish Codepage 850</p></li><li><p>Swedish ISO-8859-1</p></li><li><p>Swiss-German ISO-8859-1</p></li><li><p>United Kingdom Codepage 850</p></li><li><p>United Kingdom ISO-8859-1</p></li><li><p>United States of America ISO-8859-1</p></li><li><p>United States of America dvorak</p></li><li><p>United States of America dvorakx</p></li></ul></div></div><div class=sect2><h3 id=_comment_faire_en_sorte_que_les_quotas_utilisateurs_fonctionnent_correctement>8.14. Comment faire en sorte que les quotas utilisateurs fonctionnent correctement ?<a class=anchor href=#_comment_faire_en_sorte_que_les_quotas_utilisateurs_fonctionnent_correctement></a></h3><div class=ulist><ul><li><p>Ne mettez pas de quotas sur '/',</p></li><li><p>Mettez le fichier des quotas sur le système de fichiers qui en dispose, par ex :</p><div class="literalblock programlisting"><div class=content><pre>Système de fichier	Emplacement du fichier des quotas
/usr				/usr/admin/quotas
/home				/home/admin/quotas
...</pre></div></div></li></ul></div></div><div class=sect2><h3 id=_quest_ce_qui_ne_va_pas_avec_ma_configuration_de_ccd>8.15. Qu’est-ce qui ne va pas avec ma configuration de ccd ?<a class=anchor href=#_quest_ce_qui_ne_va_pas_avec_ma_configuration_de_ccd></a></h3><div class=paragraph><p>Le symptome est le suivant :</p></div><div class="literalblock programlisting"><div class=content><pre># ccdconfig -C
ccdconfig: ioctl (CCDIOCSET): /dev/ccd0c: Inappropriate file type or format
#</pre></div></div><div class=paragraph><p>Ceci apparait la plupart du temps lorsque vous essayez de concaténer les partitions <code>c</code>, qui par défaut ont comme type <code>unused</code>. Le gestionnaire de disque ccd nécessite que le type de la partition soit de type FS_BSDFFS. Dans ce cas, éditez le label des disques à concaténer et changez le type des partitions en type 4.2BSD.</p></div></div><div class=sect2><h3 id=_pourquoi_je_ne_peux_pas_éditer_le_label_de_mes_disques_concaténés>8.16. Pourquoi je ne peux pas éditer le label de mes disques concaténés ?<a class=anchor href=#_pourquoi_je_ne_peux_pas_éditer_le_label_de_mes_disques_concaténés></a></h3><div class=paragraph><p>Le symptome est le suivant :</p></div><div class="literalblock programlisting"><div class=content><pre># disklabel ccd0
(ça affiche quelque chose de particulier ici, donc essayons de l&#39;éditer)
# disklabel -e ccd0
(édition, sauvegarde, sortie)
disklabel: ioctl DIOCWDINFO: No disk label on disk;
use &#34;disklabel -r&#34; to install initial label
#</pre></div></div><div class=paragraph><p>Cela apparait souvent lorsque le label retourné par le gestionnaire de disques concaténé est un faux, un qui n’est pas véritablement sur le disque. Pour résoudre ce problème il faut écrire explicitement sur le disque, comme ceci :</p></div><div class="literalblock programlisting"><div class=content><pre># disklabel ccd0 &gt; /tmp/disklabel.tmp
# disklabel -Rr ccd0 /tmp/disklabel.tmp
# disklabel -e ccd0
(maintenant cela doit fonctionner correctement)</pre></div></div></div><div class=sect2><h3 id=_est_ce_que_freebsd_supporte_les_communications_inter_processus_de_type_système_v_ipc>8.17. Est-ce que FreeBSD supporte les communications inter-processus de type Système V (IPC) ?<a class=anchor href=#_est_ce_que_freebsd_supporte_les_communications_inter_processus_de_type_système_v_ipc></a></h3><div class=paragraph><p>Oui, FreeBSD supporte les communications inter-processus de type Système V, IPC. Cela inclue la mémoire partagée, les files de messages et les sémaphores. Vous devez ajouter les lignes suivantes à votre fichier de configuration du noyau pour les activer :</p></div><div class="literalblock programlisting"><div class=content><pre>options    SYSVSHM
options    &#34;SHMMAXPGS=64&#34;   # 256Ko de mémoire partagée
options    SYSVSEM          # activation des sémaphores
options    SYSVMSG          # activation des files de messages</pre></div></div><div class=paragraph><p>Recompilez le noyau et installez le.</p></div><div class=paragraph><p><em>Note :</em> Vous aurez sûrement besoin d’augmenter SHMMAXPGS à un nombre plus élevé, comme 4096 (16M!) si vous avez besoin d’utiliser GIMP. 256Ko est largement suffisant pour la mémoire partagée dont à besoin X11R6.</p></div></div><div class=sect2><h3 id=_comment_configurer_sendmail_pour_fonctionner_avec_uucp>8.18. Comment configurer sendmail pour fonctionner avec UUCP ?<a class=anchor href=#_comment_configurer_sendmail_pour_fonctionner_avec_uucp></a></h3><div class=paragraph><p>La configuration de sendmail fournie avec FreeBSD, correspond à un site directement connecté à l’Internet. Les sites qui utilisent UUCP pour échanger du courrier électronique doivent installer un autre fichier de configuration pour sendmail.</p></div><div class=paragraph><p>Modifier directement le fichier <span class=filename>/etc/sendmail.cf</span> est réservé la plupart du temps aux gourous. La version 8 de sendmail dispose d’une interface <a href=http://www.freebsd.org/cgi/man.cgi?m4>m4</a> de génération du fichier de configuration, qui encapsule le fichier de configuration dans un format abstrait de haut niveau. Vous devez trouvez les différents fichiers de configuration dans le répertoire <span class=filename>usr/src/usr.sbin/sendmail/cf</span>.</p></div><div class=paragraph><p>Si vous n’avez pas installé tous les sources du système, vous pouvez trouver les différents fichiers de configuration de sendmail dans un fichier séparé des autres sources sur le CD-ROM. Si vous avez monté le CD-ROM exécutez les commandes suivantes :</p></div><div class="literalblock programlisting"><div class=content><pre>cd /usr/src
tar -xvzf /cdrom/dists/src/ssmailcf.aa</pre></div></div><div class=paragraph><p>Cela correspond juste à une centaine de kilo-octets. Le fichier <span class=filename>README</span> dans le répertoire <span class=filename>cf</span> vous explique rapidement comment fonctionnne m4.</p></div><div class=paragraph><p>Pour utiliser UUCP, vous devez utiliser la fonctionnnalité <em>mailertable</em>. Elle permet à sendmail de constituer une base de données pour lui permettre de router le courrier correctement.</p></div><div class=paragraph><p>Pour commencer, vous devez créer une fichier de configuration <span class=filename>.mc</span>. Tous ces types de fichiers se trouvent dans le répertoire <span class=filename>/usr/src/usr.sbin/sendmail/cf/cf</span>. Il y a quelques fichiers d’exemples dans ce répertoire pouvant vous aider. En supposant que vous avez appelé ce fichier <span class=filename>foo.mc</span>, tout ce que vous devez faire pour le convertir en un fichier valide de configuration de sendmail, <span class=filename>sendmail.cf</span> est :</p></div><div class="literalblock programlisting"><div class=content><pre>cd /usr/src/usr.sbin/sendmail/cf/cf
make foo.cf
cp foo.cf /etc/sendmail.cf</pre></div></div><div class=paragraph><p>Un fichier classique ressemble à ceci:</p></div><div class="literalblock programlisting"><div class=content><pre>include(`../m4/cf.m4&#39;)
VERSIONID(`Votre numéro de version)
OSTYPE(bsd4.4)
FEATURE(nodns)
FEATURE(nocanonify)
FEATURE(mailertable)

define(`UUCP_RELAY&#39;, nom.du.relai.uucp)
define(`UUCP_MAX_SIZE&#39;, 200000)

MAILER(local)
MAILER(smtp)
MAILER(uucp)

Cw    alias.de.votre.nom.de.machine
Cw    votrenomdenoeuduucp.UUCP</pre></div></div><div class=paragraph><p>Les directives <em>nodns_et_nocanonify</em> forcent sendmail à ne pas utiliser le DNS lors de l’envoi du courrier. La directive <em>UUCP_RELAY</em> est utilisée pour des raisons assez bizarres; ne posez pas de questions et utilisez-la. Mettez juste un nom de machine capable de recevoir du courrier en UUCP. La plupart du temps il faut mettre le nom du serveur de messagerie de votre fournisseur d’accès.</p></div><div class=paragraph><p>Après avoir défini tout ceci, vous avez besoin d’un fichier <span class=filename>/etc/mailertable</span>. Voici un exemple de ce type de fichier :</p></div><div class="literalblock programlisting"><div class=content><pre>#
# makemap hash /etc/mailertable.db &lt; /etc/mailertable
#
horus.interface-business.de   uucp-dom:horus
.interface-business.de        uucp-dom:if-bus
interface-business.de         uucp-dom:if-bus
.heep.sax.de                  smtp8:%1
horus.UUCP                    uucp-dom:horus
if-bus.UUCP                   uucp-dom:if-bus
.			      uucp-dom:sax</pre></div></div><div class=paragraph><p>Les trois premières lignes font en sorte d’envoyer le courrier à des serveurs UUCP voisins et non pas au serveur par défaut, pour permettre de racourcir le temps d’envoi des messages. La ligne suivante permet d’envoyer le courrier sur le domaine local en protocole SMTP. Et pour finir, les voisins UUCP sont mentionner dans la la notation de domaine .UUCP, permettant au format de mail voisin-uucp!destinataire d’écraser les règles par défaut. La dernière ligne doit toujours être un <code>.</code>, qui représente toutes les destinations, qui doit correspondre à un serveur de messagerie UUCP voisin, et qui sert de passerelle de courrier éléctronique vers le reste du monde. Tous les noms de noeuds se trouvant après le mot clé <span class=filename>uucp-dom:</span> doivent être des noms valides de voisins UUCP, que vous pouvez vérifier en utilisant la commande <span class=filename>uuname</span></p></div><div class=paragraph><p>Pour vous rappeler que ce fichier doit être converti en fichier DBM pour pouvoir être utilisé, la ligne de commande nécessaire à sa création est rappelée dans les commentaires du fichier mailertable. Vous devez lancer cette commande à chaque fois que vous changez quelque chose dans ce fichier.</p></div><div class=paragraph><p>Pour finir : si vous n’etes pas certain de votre configuration d’envoi de messages électroniques, rappellez-vous l’option <span class=filename>-bt</span> de sendmail. Cela lance sendmail en <em>mode test</em> ; entrez simplement <code>0</code> suivi de l’adresse que vous voulez tester. La dernière ligne vous indiquera alors le type d’agent utilisé pour l’envoi, la machine auquelle l’agent enverra le courrier, et l’adresse à laquelle il l’enverra. Pour quitter ce mode tapez Control-D.</p></div><div class="literalblock programlisting"><div class=content><pre>j@uriah 191% sendmail -bt
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &lt;ruleset&gt; &lt;address&gt;
&gt; 0 foo@interface-business.de
rewrite: ruleset  0   input: foo @ interface-business . de
...
rewrite: ruleset  0 returns: $# uucp-dom $@ if-bus $: foo \
&lt; @ interface-business . de &gt;
&gt; ^D
j@uriah 192%</pre></div></div></div><div class=sect2><h3 id=_comment_mettre_en_oeuvre_le_courrier_électronique_avec_une_connexion_temporaire_à_un_réseau>8.19. Comment mettre en oeuvre le courrier électronique avec une connexion temporaire à un réseau ?<a class=anchor href=#_comment_mettre_en_oeuvre_le_courrier_électronique_avec_une_connexion_temporaire_à_un_réseau></a></h3><div class=paragraph><p>Si vous disposez d’un adresse IP statique, vous ne devez rien changer. Definissez juste votre nom de machine pour qu’il corresponde à votre nom de machine internet et sendmail s’occupera du reste.</p></div><div class=paragraph><p>Dans le cas ou vous disposez d’une adresse IP dynamiquement assignée et que vous utilisez une connexion ppp pour accèder à l’internet, vous diposez probablement d’une boite aux lettres chez votre fournisseur d’accès. Prenons comme exemple que le domaine de votre fournisseur soit <span class=filename>monISP.com</span>, que votre nom d’utilisateur soit <span class=filename>monlogin</span>, que votre nom de machine soit <span class=filename>bsd.perso</span> et que votre fournisseur vous aie indiqué la machine <span class=filename>relai.monISP.com</span> comme serveur relai de messagerie électronique.</p></div><div class=paragraph><p>Pour pouvoir recevoir votre courrier depuis votre boite à lettres, vous devez installer un agent de rapatriement de mail.<em>Fetchmail</em> est un bon choix, car il supporte la plupart des protocoles de messagerie. La plupart du temps, votre fournisseur offre l’accès à travers le protocole POP3. Si vous avez décidé d’utiliser la partie utilisateur de ppp, vous pouvez automatiquement rapatrier votre courrier lorsque la connexion vers le réseau est établie en ajoutant la ligne suivante au fichier <span class=filename>/etc/ppp/ppp.linkup</span> :</p></div><div class="literalblock programlisting"><div class=content><pre>MYADDR:
!bg su monlogin -c fetchmail</pre></div></div><div class=paragraph><p>Ici nous assumons que vous disposez d’un compte nommé <span class=filename>monlogin</span> sur la machine <span class=filename>bsd.perso</span>. Vous devez alors créer un fichier <span class=filename>.fetchmailrc</span> dans votre répertoire principal contenant :</p></div><div class="literalblock programlisting"><div class=content><pre>poll monISP.com protocol pop3 fetchall pass monPasswd:</pre></div></div><div class=paragraph><p>Naturellement, ce fichier ne doit être lisible que par l’utilisateur <span class=filename>monlogin</span> car il contient le mot de passe <span class=filename>monPasswd</span>.</p></div><div class=paragraph><p>Pour permettre d’envoyer du courrier avec l’entête <em>from:</em> correcte, vous devez configurer sendmail pour utiliser l’adresse <span class=filename>monlogin@monISP.com</span> plutôt que <span class=filename>monlogin@bsd.perso</span>. Vous devez aussi dire à votre sendmail d’envoyer tout le courrier via le serveur <span class=filename>relai.monISP.com</span>, permettant au courrier d’être envoyé plus rapidement.</p></div><div class=paragraph><p>Le fichier de configuration <span class=filename>.mc</span> suivant doit convenir :</p></div><div class="literalblock programlisting"><div class=content><pre>VERSIONID(`bsd.perso.mc version 1.0&#39;)
OSTYPE(bsd4.4)dnl
FEATURE(nouucp)dnl
MAILER(local)dnl
MAILER(smtp)dnl
Cwlocalhost
Cwbsd.perso
MASQUERADE_AS(`monISP.com&#39;)dnl
FEATURE(allmasquerade)dnl
FEATURE(masquerade_envelope)dnl
FEATURE(nocanonify)dnl
FEATURE(nodns)dnl
define(SMART_HOST, `relai.monISP.com&#39;)
Dmbsd.perso
define(`confDOMAIN_NAME&#39;,`bsd.perso&#39;)dnl
define(`confDELIVERY_MODE&#39;,`deferred&#39;)dnl</pre></div></div><div class=paragraph><p>Reférez-vous à la section précédente pour l’explication détaillée de conversion du fichier <span class=filename>.mc</span> en fichier <span class=filename>sendmail.cf</span>. N’oubliez pas non plus de redémarrer sendmail après avoir modifié le fichier <span class=filename>/etc/sendmail.cf</span></p></div></div><div class=sect2><h3 id=_horreur_jai_perdu_le_mot_de_passe_de_root>8.20. Horreur !! J’ai perdu le mot de passe de root !!<a class=anchor href=#_horreur_jai_perdu_le_mot_de_passe_de_root></a></h3><div class=paragraph><p>Ne paniquez pas! Redémarrez tout simplement le système en tapant -s au "prompt" Boot: pour passer en mode mono-utilisateur. A la question sur le shell à utiliser, appuyez sur ENTREE. Vous obtiendrez alors un prompt "#". Tapez la commande <span class=filename>mount -u</span> pour remonter votre partition primaire en lecture/écriture et lancez la commande <span class=filename>mount -a</span> pour remonter tous les systèmes de fichiers. Tapez <span class=filename>passwd root</span> pour changer le mot de passe root puis tapez <span class=filename>exit</span> pour continuer le processus de démarrage du système.</p></div></div><div class=sect2><h3 id=_comment_empècher_le_redémarrage_du_système_en_appuyant_sur_les_touches_control_alt_delete>8.21. Comment empècher le redémarrage du système en appuyant sur les touches Control-Alt-Delete ?<a class=anchor href=#_comment_empècher_le_redémarrage_du_système_en_appuyant_sur_les_touches_control_alt_delete></a></h3><div class=paragraph><p>Editez le fichier de configuration du clavier que vous utilisez pour la console et remplacez le mot clé <span class=filename>boot</span> par <span class=filename>nop</span>. Le fichier de configuration du clavier utilisé par défaut est <span class=filename>/usr/shared/syscons/keymaps/us.iso.kbd</span>. Vous pouvez changer la configuration en éditant le fichier <span class=filename>/etc/rc.conf</span>. Bien sur si vous utilisez une autre configuration, il faut éditer le fichier de configuration la décrivant.</p></div></div><div class=sect2><h3 id=_comment_transformer_les_fichiers_textes_au_format_dos_en_fichiers_unix>8.22. Comment transformer les fichiers textes au format DOS en fichiers UNIX ?<a class=anchor href=#_comment_transformer_les_fichiers_textes_au_format_dos_en_fichiers_unix></a></h3><div class=paragraph><p>Utilisez tout simplement la commande perl suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>perl -i.bak -pe &#39;s/\r\n/\n/g&#39; fichier.dos ...</pre></div></div><div class=paragraph><p>fichier.dos étant le fichier à modifier. Cette commande remplace dans le fichier et sauvegarde l’ancien sous le nom <span class=filename>fichier.dos.bak</span>.</p></div></div><div class=sect2><h3 id=_comment_tuer_un_processus_par_son_nom>8.23. Comment tuer un processus par son nom ?<a class=anchor href=#_comment_tuer_un_processus_par_son_nom></a></h3><div class=paragraph><p>Utilisez <a href=/cgi/cvsweb.cgi/man.cgi?killall>killall(1)</a></p></div></div><div class=sect2><h3 id=_pourquoi_la_commande_su_me_dit_sans_arrêt_que_je_ne_suis_pas_dans_les_acl_de_root>8.24. Pourquoi la commande <span class=filename>su</span> me dit sans arrêt que je ne suis pas dans les ACL de root ?<a class=anchor href=#_pourquoi_la_commande_su_me_dit_sans_arrêt_que_je_ne_suis_pas_dans_les_acl_de_root></a></h3><div class=paragraph><p>Cette erreur vient du système d’authentification distribué Kerberos. Ceci n’est pas un problème très grave. Un palliatif consiste à utiliser l’option "-k" de su ou de désinstaller Kerberos comme expliqué à la section suivante.</p></div></div><div class=sect2><h3 id=_comment_désinstaller_kerberos>8.25. Comment désinstaller Kerberos ?<a class=anchor href=#_comment_désinstaller_kerberos></a></h3><div class=paragraph><p>Pour désinstaller Kerberos de votre système, vous devez réinstaller la distribution <span class=filename>bin</span> depuis votre version de FreeBSD. Si vous disposez d’un CDROM, vous devez monter le cd (la plupart du temps dans /cdrom) et lancer :</p></div><div class="literalblock programlisting"><div class=content><pre>cd /cdrom/bin
./install.sh</pre></div></div></div><div class=sect2><h3 id=_comment_ajouter_des_pseudo_terminaux_au_système>8.26. Comment ajouter des pseudo-terminaux au système ?<a class=anchor href=#_comment_ajouter_des_pseudo_terminaux_au_système></a></h3><div class=paragraph><p>Si vous avez un grand nombre de telnet, ssh, X, or screen users, vous risquez probablement de manquer de pseudo-terminaux. Voici comment en ajouter plusieurs :</p></div><div class="olist arabic"><ol class=arabic><li><p>Créer et installer un nouveau noyau avec la ligne</p><div class="literalblock programlisting"><div class=content><pre>       pseudo-device pty 256</pre></div></div><div class=paragraph><p>dans le fichier de configuration.</p></div></li><li><p>Exécuter la commande :</p><div class="literalblock programlisting"><div class=content><pre>     # cd /dev
     # ./MAKEDEV pty{1,2,3,4,5,6,7}</pre></div></div><div class=paragraph><p>pour créer 256 device nodes pour les nouveaux terminaux.</p></div></li><li><p>Editer <span class=filename>/etc/ttys</span> et jouter une ligne pour chacun des 256 terminaux. Elles doivent correspondre à la forme des entrées existantes. c’est à dire ressembler à :</p><div class="literalblock programlisting"><div class=content><pre>       ttyqc none network</pre></div></div><div class=paragraph><p>L’ordre des lettres de désignation est <span class=filename>tty[pqrsPQRS][0-9a-v]</span>, en utilisant une expression régulière.</p></div></li><li><p>Démarrez le système avec le nouveau noyau et vous êtes prêts à travailler.</p></li></ol></div></div></div></div><div class=sect1><h2 id=_le_système_x_windows_et_les_consoles_virtuelles_mise_à_jour_en_cours>9. Le système X-Windows et les consoles virtuelles. <strong>Mise à jour en cours</strong><a class=anchor href=#_le_système_x_windows_et_les_consoles_virtuelles_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_je_veux_lancer_x_comment_dois_je_faire>9.1. Je veux lancer X, comment dois-je faire ?<a class=anchor href=#_je_veux_lancer_x_comment_dois_je_faire></a></h3><div class=paragraph><p>La manière la plus simple est de spécifier au moment de l’installation que l’on veut utiliser X.</p></div><div class=paragraph><p>Puis, lire la documentation suivante sur l’outil <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xfree86&amp;query=xf86config">xf86config </a>, qui vous aidera dans la configuration de XFree86(tm) pour vos cartes graphiques, souris etc…​</p></div><div class=paragraph><p>Vous pouvez aussi regarder du côté du serveur Xaccel qui est disponible pour un prix très raisonnable/ Voir la section sur <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xig">Xi Graphics </a>pour plus de détails.</p></div></div><div class=sect2><h3 id=x-and-moused>9.2. Pourquoi ma souris ne marche pas sous X ?<a class=anchor href=#x-and-moused></a></h3><div class=paragraph><p>Si vous utilisez syscons (le driver par défaut de la console), vous pouvez configurer FreeBSD de telle sorte qu’il puisse supporter un pointeur de souris sur chacun des écrans virtuels. Afin d’éviter des conflits avec X, les supports syscons un périphérique virtuel nommé <span class=filename>/dev/sysmouse</span>. Tous les évènement liés à la souris sont écrit vers le périphérique sysmouse, en utilsant le protocole MouseSystems. Si vous voulez utiliser votre souris sur une console virtuelle ou plus, <em>et</em> utiliser X, la configuration suivante est recommandée.</p></div><div class="literalblock programlisting"><div class=content><pre>/etc/rc.conf:
moused_type=ps/2          # or whatever your actual type is
moused_port=/dev/psm0     # or whatever your real port is
moused_flags=

/etc/XF86Config
Section Pointer
Protocol &#34;MouseSystems&#34;
Device   &#34;/dev/sysmouse&#34;
.....</pre></div></div><div class=paragraph><p>Certaines personnes préfèrent utiliser <code><span class=filename>/dev/mouse</span>'' sous X. Ppour le faire marcher, </code><span class=filename>/dev/mouse</span>'' devrait être un lien symbolique pour <a href=http://www.freebsd.org/cgi/man.cgi?sysmouse>/dev/sysmouse</a></p></div><div class="literalblock programlisting"><div class=content><pre> cd /dev
 rm -f mouse
 ln -s sysmouse mouse</pre></div></div></div><div class=sect2><h3 id=_les_menus_x_window_et_les_boîtes_de_dialogue_ne_marchent_pas_bien>9.3. les menus X Window et les boîtes de dialogue ne marchent pas bien!<a class=anchor href=#_les_menus_x_window_et_les_boîtes_de_dialogue_ne_marchent_pas_bien></a></h3><div class=paragraph><p>Essayez de désactiver la touche Num Lock.</p></div><div class=paragraph><p>Si votre touche Num Lock est activée par défaut au moment du boot, vous pouvez ajouter la ligne suivante dans la section <em>Keyboard</em> q du fichier <span class=filename>XF86config</span>.</p></div><div class="literalblock programlisting"><div class=content><pre> Let the server do the NumLock processing.  This should only be
 required when using pre-R6 clients
ServerNumLock</pre></div></div></div><div class=sect2><h3 id=_quest_ce_quune_console_virtuelle_et_comment_puis_je_en_avoir_plus>9.4. Qu’est ce qu’une console virtuelle, et comment puis-je en avoir plus ?<a class=anchor href=#_quest_ce_quune_console_virtuelle_et_comment_puis_je_en_avoir_plus></a></h3><div class=paragraph><p>En gros, les consoles virtuelles vous permettent d’avoir plusieurs sessions simultanées sur la même machine sans faire de trucs compliqués du genre monter un réseau, ou lancer X.</p></div><div class=paragraph><p>Quand le système démarre, il vous affichera une invite de login sur le moniteur juste après avoir affiché les messages du boot. Vous pouvez taper votre login et votre mot de passe et commencer à travailler (ou à jouer !) sur la première console virtuelle.</p></div><div class=paragraph><p>A un moment, vous voudrez probablement ouvrir une autre session, par exemple pour lire la documentation d’un programme que vous êtes en train d’exécuter, ou alors lire le courrier en attendant qu’un transfert FTP se termine. Fais juste Alt-F2 (Appuyez en maintenant la touche Alt puis, pressez F2), et vous trouverez une invite de login vous attendant sur la seconde console virtuelle! Quand vous voudrez revenir à la session de départ, faites Alt-F1.</p></div><div class=paragraph><p>L’installation par défaut de FreeBSD a 3 consoles virtuelles activées, et Alt-F1, Alt-F2, et d Alt-F3 vous permettra de basculer entre ces consoles virtuelles. Pour en activer plus, éditez <a href=http://www.freebsd.org/cgi/man.cgi?ttys>/etc/ttys</a> et ajoutez les entrées pour <span class=filename>ttyv4</span> à <em>ttyvc</em> après les commentaires sur les terminaux virtuels:</p></div><div class="literalblock programlisting"><div class=content><pre> Edit the existing entry for ttyv3 in /etc/ttys and change
 &#34;off&#34; to &#34;on&#34;.
ttyv3   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyv4   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyv5   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyv6   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyv7   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyv8   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyv9   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyva   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure
ttyvb   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure</pre></div></div><div class=paragraph><p>Utilisez en autant que vous voulez/ Mais plus vous avez de terminaux virtuels, plus vous utilisez de ressources; cela peut-être important si vous avez 8Mo de RAM ou moins. Vous pouvez aussi changer <span class=filename>secure</span> to <span class=filename>insecure</span>.</p></div><div class=paragraph><p><em>NOTE IMPORTANTE</em> si vous voulez lancer un serveur X, vous <em>DEVEZ</em> avoir au moins un terminal virtuel non utilisé (ou désactivé)afin qu’il puisse l’utiliser. Tout cela pour dire que si vous voulez une invite de prompt pour les tous les 12 de vos touches Alt-fonctions, pas de chance, vous pourrez le faire que pour 11 d’entre eux si vous voulez aussi lancer un serveur X sur cette machine.</p></div><div class=paragraph><p>La meilleure façon de désactiver une console est de la déselectionner. Par exemple, si vous avez alloué tous les 12 terminaux mentionné ci-dessus, et que vous voulez lancer X, vous aurez à changer le réglage pour le terminal virtuel 12 de :</p></div><div class="literalblock programlisting"><div class=content><pre>ttyvb   &#34;/usr/libexec/getty Pc&#34;         cons25  on secure</pre></div></div><div class=paragraph><p>à:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyvb   &#34;/usr/libexec/getty Pc&#34;         cons25  off secure</pre></div></div><div class=paragraph><p>Si votre clavier n’a que 10 touches de fonctions, vous pouvez terminer par :</p></div><div class="literalblock programlisting"><div class=content><pre>ttyv9   &#34;/usr/libexec/getty Pc&#34;         cons25  off secure
ttyva   &#34;/usr/libexec/getty Pc&#34;         cons25  off secure
ttyvb   &#34;/usr/libexec/getty Pc&#34;         cons25  off secure</pre></div></div><div class=paragraph><p>(Vous pouvez aussi juste effacer ces lignes)</p></div><div class=paragraph><p>Une fois que vous avez édité <a href=http://www.freebsd.org/cgi/man.cgi?ttys>/etc/ttys" </a>, l’étape suivante est de s’assurer que vous avez assez de périphériques de terminaux virtuels. La plus simple manière de procéder est :</p></div><div class="literalblock programlisting"><div class=content><pre> cd /dev
 ./MAKEDEV vty12                 # For 12 devices</pre></div></div><div class=paragraph><p>Ensuite, la plus simple (et plus propre) manière d’activer la console virtuelle est de rebooter. Malgrè tout, si vous voulez vraiment ne pas avoir è rebooter, vous pouvez juste arrêter le système X Window et exécuter <em>root</em>.</p></div><div class="literalblock programlisting"><div class=content><pre>kill -HUP 1</pre></div></div><div class=paragraph><p>Il est impératif d’arrêter complètement X Window s’il est en train de marcher, avant de lancer cette commande. Si vous ne le faite pas, votre système, se trouvera probablement suspendu/bloqué après le lancement de la commande kill.</p></div></div><div class=sect2><h3 id=_comment_accéder_à_mes_consoles_virtuelles_depuis_x>9.5. Comment accéder à mes consoles virtuelles depuis X ?<a class=anchor href=#_comment_accéder_à_mes_consoles_virtuelles_depuis_x></a></h3><div class=paragraph><p>Si la console est actuellement en train d’afficher X Window, vous pouvez utiliser Ctrl-Alt-F1, etc. pour passer d’une console à une autre. Notez cependantm qu’une fois que vous avez basculé depuis X Window vers un terminal virtuel, vous ne pouvez utiliser seulement les touches de fonctions Alt- pour passer à un autre terminal virtuel ou revenir è X Window. Vous n’avez pas à maintenir enfoncé la touche Ctrl. Si vous utilisez la touche contrôle pour revenir a X sur certaines vieilles versions, vous pouvez retrouver votre console texte bloquée en mode control-lock Taper la touche contrôle à nouveau pour le débloquer.</p></div></div><div class=sect2><h3 id=_comment_démarrer_xdm_au_boot>9.6. Comment démarrer XDM au boot ?<a class=anchor href=#_comment_démarrer_xdm_au_boot></a></h3><div class=paragraph><p>Il y a deux écoles de pensée à propos du démarrage de <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xfree86&amp;query=xdm">xdm</a> Une école démarre xdm epuis <a href=http://www.freebsd.org/cgi/man.cgi?ttys>/etc/ttys</a> en utilisant l’exemple fourni. tandis que l’autre lance simplement xdm depuis <a href=http://www.freebsd.org/cgi/man.cgi?rc>rc.local</a> depuis un script <em>X.sh</em> dans <span class=filename>/usr/local/etc/rc.d</span>. Les deux approches sont valides, et suivant les situations, une méthode peut marcher et pas l’autre. Dans les deux cas, le résultat est le même : X fera apparaître une incite de login graphique.</p></div><div class=paragraph><p>La méthode du ttys a l’avantage de documenter quel vty X va démarrer et en passant la responsabilité de redémarrer le serveur X au logout pour s’initialiser. La méthode rc.local rend la destruction par un kill de xdm très facile si jamais un problème de démarrage du serveur X était rencontré.</p></div><div class=paragraph><p>Si <em>xdm</em> est chargé depuis /etc/rc.local, il peut-être démarré avec n’importe quel argument (i.e comme un démon).</p></div><div class=paragraph><p>Une version précédente de la FAQ disait d’ajouter les <em>vt</em> que vous vouliez que X utilise dans le fichier <span class=filename>/usr/X11R6/lib/X11/xdm/Xservers</span>. Cela n’est pas nécessaire, et X utilisera le premier <em>vt</em> qu’il trouvera.</p></div></div><div class=sect2><h3 id=_quand_je_lance_xconsole_jobtiens_couldnt_open_console>9.7. Quand je lance xconsole, j’obtiens Couldn’t open console<a class=anchor href=#_quand_je_lance_xconsole_jobtiens_couldnt_open_console></a></h3><div class=paragraph><p>Si vous démarrez <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xfree86&amp;query=X">X</a> avec <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xfree86&amp;query=startx">startx</a>, les permissions sur /dev/console ne seront <em>pas</em> changé, ce qui entraînera que <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xfree86&amp;query=xterm">xterm -C</a> et <a href="http://www.freebsd.org/cgi/man.cgi?manpath=xfree86&amp;query=xconsole">xconsole</a> ne marcheront pas.</p></div><div class=paragraph><p>Cela est dû à la manière dont les droits sur la consoles sont fixés par défaut. Sur un système multi-utilisateur, on ne veut pas nécessairement que n’importe quel utilisateur ait la possibilité d’écrire sur la console système. Pour les utilisateurs qui se logguent directement sur la machine avec un VTY, le fichier <a href=http://www.freebsd.org/cgi/man.cgi?fbtab>fbtab</a> est là pour résoudre ce problème.</p></div><div class=paragraph><p>En pratique, assurez vous d’avoir une ligne décommenté de la forme :</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/ttyv0 0600 /dev/console</pre></div></div><div class=paragraph><p>dans <a href=http://www.freebsd.org/cgi/man.cgi?fbtab(5)>/etc/fbtab</a> et cela assurera que quiconque se logguera sur <span class=filename>/dev/ttyv0</span> obtiendra les droits sur la console.</p></div></div><div class=sect2><h3 id=_ma_souris_ps2_ne_se_comporte_pas_bien_sous_x>9.8. Ma souris PS/2 ne se comporte pas bien sous X.<a class=anchor href=#_ma_souris_ps2_ne_se_comporte_pas_bien_sous_x></a></h3><div class=paragraph><p>Votre souris et votre pilote de souris ont dû se désynchroniser</p></div><div class=paragraph><p>Dans les versions 2.2.5 et avant, passer de X à un termical virtuel et revenir à X ensuite , peuvent les re-synchroniser. Si le problème apparaît souvent, vous pouvez ajouter l’option suivante dans votre fichier de configuration du noyau, et recompiler.</p></div><div class="literalblock programlisting"><div class=content><pre>options PSM_CHECKSYNC</pre></div></div><div class=paragraph><p>voir la section sur <a href="http://www.freebsd.org/cgi/man.cgi?=make-kernel">la construction du noyau</a> si vous n’avez aucune expérience dans la recompilation de noyau.</p></div><div class=paragraph><p>Avec cette option, vous aurez moins de chance d’avoir de problème de synchronisation entre la souris et le pilote. Si, malgrès tout, vous aviez ce problème, cliquez sur un bouton quelconque de la souris en maintenant la souris jusqu’à resynchroniser la souris et le pilote.</p></div><div class=paragraph><p>Notez que malheureusement cette option peut ne pas marcher avec tous les systèmes et vide la fonctionnalité TAP du périphérique ALPS GlidePoint attaché auport souris PS/2</p></div><div class=paragraph><p>Dans les versions 2.2.6 et plus, la vérification de la synchronisation est un peu mieux faite et est standard avec les pilotes souris PS/2. Cela devrait même marcher avec GlidePoint. (comme le code de vérification est devenu une fonctionnalité standard, l’option PSM_CHECKSYNC n’est pas disponible dans ces versions). Malgrès il y a des rares cas où le pilote peut de façon erronée repporter des problèmes de synchronisation, et vous pourrez alors voir le message :</p></div><div class="literalblock programlisting"><div class=content><pre>psmintr: out of sync (xxxx != yyyy)</pre></div></div><div class=paragraph><p>et voir que votre souris ne marche pas correctement.</p></div><div class=paragraph><p>Si cela arrive, désactiver le mode de vérification de la synchronization en positionnant le drapeau pour les pilotes de souris PS/2 à 0x100. Entrez dans <em>UserConfig</em> en tapant <span class=filename>-c</span> option à l’invite du boot.</p></div><div class="literalblock programlisting"><div class=content><pre>boot: -c</pre></div></div><div class=paragraph><p>Puis en ligne de comande de <em>UserConfig</em>, tapez :</p></div><div class="literalblock programlisting"><div class=content><pre>UserConfig&gt;flags psm0 0x100
UserConfig&gt;quit</pre></div></div></div><div class=sect2><h3 id=_ma_souris_ps2_mouse_de_mousesystems_ne_marche_pas>9.9. Ma souris PS/2 mouse de MouseSystems ne marche pas<a class=anchor href=#_ma_souris_ps2_mouse_de_mousesystems_ne_marche_pas></a></h3><div class=paragraph><p>Certains ont rapportés que certains modèles de souris PS/2 de MouseSystem ne marchaient que lorsqu’ils étaient mis en mode haute résolution. D’un autre côté, le curseur de souris peut sauter d’une extrémité de l’écran à l’autre très souvent.</p></div><div class=paragraph><p>Malheureusement, il n’y a pas de solution pour les versions 2.0.X et 2.1.X. Dans les versions 2.2 à 2.2.5, ajouter le patch suivant à <span class=filename>/sys/i386/isa/psm.c</span> et reconstruisez le noyau. Voir la section sur <a href=http://www.freebsd.org/cgi/man.cgi?make-kernel>la construction d’un noyau</a>si vous n’avez aucune expérience dans la construction des noyaux,</p></div><div class="literalblock programlisting"><div class=content><pre>diff -u psm.c.orig psm.c
@@ -766,6 +766,8 @@
if (verbose &gt;= 2)
log(LOG_DEBUG, &#34;psm%d: SET_DEFAULTS return code:%04x\n&#34;,
unit, i);
+    set_mouse_resolution(sc-&gt;kbdc, PSMD_RES_HIGH);
+
if 0
set_mouse_scaling(sc-&gt;kbdc); 	/* 1:1 scaling */
set_mouse_mode(sc-&gt;kbdc);		/* stream mode */</pre></div></div><div class=paragraph><p>Dans les versions 2.2.6 et plus, spécifier le drqpeau 0x04 au pilote de souris PS/2 afin de mettre la souris en mode haute résolution. Entrez dans<em>UserConfig</em> en spécifiant l’option <span class=filename>-c</span> à l’invite du boot.</p></div><div class="literalblock programlisting"><div class=content><pre>boot: -c</pre></div></div><div class=paragraph><p>puis, dans la ligne de commande de<em>UserConfig</em> tapez :</p></div><div class="literalblock programlisting"><div class=content><pre>UserConfig&gt;flags psm0 0x04
UserConfig&gt;quit</pre></div></div><div class=paragraph><p>Voir les sections précédentes pour les autres causes possibles de problèmes avec la souris.</p></div></div><div class=sect2><h3 id=_lorsque_je_construis_une_application_x_imake_dit_quil_ne_trouve_pas_imake_tmpl_où_est_t_il>9.10. Lorsque je construis une application X, <em>imake</em> dit qu’il ne trouve pas <em>Imake.tmpl</em>. Où est-t-il ?<a class=anchor href=#_lorsque_je_construis_une_application_x_imake_dit_quil_ne_trouve_pas_imake_tmpl_où_est_t_il></a></h3><div class=paragraph><p>Imake.tmpl est une partie du paquetage Imake, un outil de développement standart sous X. Imake.tmpl,tout comme plusieurs fichiers d’en-tête qui sont requis lors de la construction d’applications X est contenu dans la distribution de programmes X. Vous pouvez l’installer depuis sysinstall ou manuellement à partir des fichiers de distributions X.</p></div></div><div class=sect2><h3 id=_comment_puis_je_inverser_les_boutons_de_la_souris>9.11. Comment puis-je inverser les boutons de la souris ?<a class=anchor href=#_comment_puis_je_inverser_les_boutons_de_la_souris></a></h3><div class=paragraph><p>Lancez la commande <em>xmodmap -e "pointer = 3 2 1"</em> depuis votre .xinitrc ou .xsession.</p></div></div></div></div><div class=sect1><h2 id=_réseaux_mise_à_jour_en_cours>10. Réseaux. <strong>Mise à jour en cours</strong><a class=anchor href=#_réseaux_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_où_puis_je_trouver_des_informations_sur_le_boot_sans_disque>10.1. Où puis-je trouver des informations sur le boot sans disque?<a class=anchor href=#_où_puis_je_trouver_des_informations_sur_le_boot_sans_disque></a></h3><div class=paragraph><p>Le boot sans disque veut dire que la machine sous FreeBSD est bootée depuis le réseau, et lit les fichiers nécessaires depuis un serveur et non depuis son disque dur. Pour plus de détails, lisez <a href=https://docs.freebsd.org/fr/books/handbook/>la section du Handbook sur le Diskless booting</a></p></div></div><div class=sect2><h3 id=_une_machine_sous_freebsd_peut_elle_être_utilisée_comme_routeur_dédié>10.2. Une machine sous FreeBSD peut-elle être utilisée comme routeur dédié ?<a class=anchor href=#_une_machine_sous_freebsd_peut_elle_être_utilisée_comme_routeur_dédié></a></h3><div class=paragraph><p>Les standards de l’Internet et de bonnes pratiques techniques nous interdisent de faire par défaut du routage de paquets avec FreeBSD. Mais vous pouvez néamoins activer cette fonctionnalité en changeant la variable suivante à <em>YES</em> dans <a href=http://www.freebsd.org/cgi/man.cgi?rc.conf>rc.conf</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>gateway_enable=YES  # L&#39;hote agira comme routeur s&#39;il est positionne a YES</pre></div></div><div class=paragraph><p>Cette option mettra la variable <a href=http://www.freebsd.org/cgi/man.cgi?sysctl>sysctl</a><em>net.inet.ip.forwarding</em> à <em>1</em>.</p></div><div class=paragraph><p>Dans la plupart des cas, vous aurez aussi à lancer un processus de routage afin de renseigner les autres systèmes sur votre routeur. FreeBSD est fourni avec le démon de routage standard BSD <a href=http://www.freebsd.org/cgi/man.cgi?routed>routed</a>, ou pour des situations plus complexes, vous pouvez essayer <em>GaTeD</em> (disponible par FTP depuis _ftp.gated.Merit.EDU) _ qui supporte FreeBSD depuis 3_5Alpha7.</p></div><div class=paragraph><p>Nous nous devons de vous prévenir que lorsque FreeBSD est configuré de cette manière, il ne correspond pas tout à fait aux requis standards de l’Internet sur les routeurs. Néamoins, il s’en rapproche assez pour un usage ordinaire.</p></div></div><div class=sect2><h3 id=_puis_je_connecter_ma_machine_sous_win95_à_linternet_via_freebsd>10.3. Puis-je connecter ma machine sous Win95 à l’Internet via FreeBSD ?<a class=anchor href=#_puis_je_connecter_ma_machine_sous_win95_à_linternet_via_freebsd></a></h3><div class=paragraph><p>Typiquement, les gens qui posent cette questions sont ceux qui ont 2 PC à la maison, un avec FreeBSD et un avec Win95. L’idée est d’utiliser la machine sous FreeBSD pour se connecter à l’Internet et puis pouvoir ensuite accéder à l’Internet depuis la machine sous Windows 95 via la machine sous FreeBSD. Ce n’est en réalité qu’un cas particulier de la question précédente.</p></div><div class=paragraph><p>Il y a un document très pratique qui explique comment configurer FreeBSD comme <a href=http://www.ssimicro.com/~jeremyc/ppp.html>routeur par connexion PPP</a></p></div><div class=paragraph><p><em>NOTE:</em> Cela requiert que vous ayez au moins deux adresses IP fixes, et probablement 3 ou plus, cela dépend du travail que vous voulez effectuer pour pouvoir mettre en place la machine sous Windows. Comme alternative, si vous n’avez pas d’adresse IP fixe, vous pouvez utiliser une des adresses IP privés et installer des <em>proxies</em> comme <a href=http://squid.nlanr.net/Squid/>SQUID</a> et <a href=http://www.tis.com/>le TIS firewall toolkit</a> sur la machine sous FreeBSD.</p></div><div class=paragraph><p>Voir aussi la section sur <a href=http://www.freebsd.org/cgi/man.cgi?natd>natd </a>.</p></div></div><div class=sect2><h3 id=_pourquoi_la_recompilation_du_dernier_bind_de_isc_échoue_t_elle>10.4. Pourquoi la recompilation du dernier BIND de ISC échoue-t-elle ?<a class=anchor href=#_pourquoi_la_recompilation_du_dernier_bind_de_isc_échoue_t_elle></a></h3><div class=paragraph><p>Il y a un conflit entre le fichier <em>cdefs.h</em> de la distribution et celui fourni par FreeBSD. Vous n’avez qu’à enlever <em>compat/include/sys/cdefs.h</em>.</p></div></div><div class=sect2><h3 id=_freebsd_supporte_t_il_slip_et_ppp>10.5. FreeBSD supporte-t-il SLIP et PPP?<a class=anchor href=#_freebsd_supporte_t_il_slip_et_ppp></a></h3><div class=paragraph><p>Oui, regardez les pages de manuel <a href=http://www.freebsd.org/cgi/man.cgi?slattach>slattach</a>, <a href=http://www.freebsd.org/cgi/man.cgi?sliplogin>sliplogin</a>, <a href=http://www.freebsd.org/cgi/man.cgi?pppd>pppd</a> et <a href=http://www.freebsd.org/cgi/man.cgi?ppp>ppp</a>. <em>pppd</em> et <em>ppp</em> permettent les connexions entrantes et sortantes <a href=http://www.freebsd.org/cgi/man.cgi?sliplogin>Sliplogin</a> ne peut s’utiliser qu’avec des connexions entrantes et <a href=http://www.freebsd.org/cgi/man.cgi?slattach>slattach</a> qu’avec des connexions sortantes.</p></div><div class=paragraph><p>Ces programmes sont décrits dans les sections suivantes du <a href=https://docs.freebsd.org/fr/books/handbook/>handbook</a>:</p></div><div class=ulist><ul><li><p><a href=https://docs.freebsd.org/fr/books/handbook/ppp-and-slip#slips>référence du handbook sur SLIP (côté serveur)</a></p></li><li><p><a href=https://docs.freebsd.org/fr/books/handbook/ppp-and-slip#slipc>référence du handbook sur SLIP (côté client)</a></p></li><li><p><a href=https://docs.freebsd.org/fr/books/handbook/ppp-and-slip#ppp>référence du handbook sur PPP (mode noyau)</a></p></li><li><p><a href=https://docs.freebsd.org/fr/books/handbook/ppp-and-slip#userppp>référence du handbook sur PPP (mode utilisateur)</a></p></li></ul></div><div class=paragraph><p>Si vous avez accès à l’Internet à travers un "compte shell" vous pouvez jeter un coup d’oeil au paquetage <a href=http://www.freebsd.org/cgi/ports.cgi?^slirp>slirp</a>. Il peut vous fournir un accès (limité) aux services tels que ftp et http directement depuis votre machine locale.</p></div></div><div class=sect2><h3 id=_est_ce_que_freebsd_supporte_nat_ou_le_masquerading>10.6. Est-ce que FreeBSD supporte NAT ou le Masquerading ?<a class=anchor href=#_est_ce_que_freebsd_supporte_nat_ou_le_masquerading></a></h3><div class=paragraph><p>Si vous avez un sous-réseau local (une ou plusieur machines), mais qu’une seule adresse IP vous a été allouée (même si ce n’est qu’une adresse IP dynamique), vous pouvez regarder le programme <a href=http://www.freebsd.org/cgi/man.cgi?natd>natd</a> . <em>Natd</em> vous permet de connecter un sous-réseau entier à l’Internet en n’utilisant qu’une seule adresse IP.</p></div><div class=paragraph><p>Le programme <a href=http://www.freebsd.org/cgi/man.cgi?ppp>ppp</a> a des fonctionnalités similaires construit par l’intermédiaire de l’option <em>-alias</em> switch. La <a href=http://www.freebsd.org/cgi/man.cgi?libalias>bibliothèque alias</a> est utilisée dans les deux cas.</p></div></div><div class=sect2><h3 id=_je_narrive_pas_à_faire_marcher_ppp_où_me_suis_je_trompé>10.7. Je n’arrive pas à faire marcher ppp. Où me suis-je trompé ?<a class=anchor href=#_je_narrive_pas_à_faire_marcher_ppp_où_me_suis_je_trompé></a></h3><div class=paragraph><p>Vous devriez tout d’abord lire la page de manuel <a href=http://www.freebsd.org/cgi/man.cgi?ppp>ppp</a> et <a href=https://docs.freebsd.org/fr/books/handbook/ppp-and-slip#userppp>la section du handbook sur ppp</a>. Activer le logging avec la commande</p></div><div class="literalblock programlisting"><div class=content><pre>set log Phase Chat Connect Carrier lcp ipcp ccp command</pre></div></div><div class=paragraph><p>Cette commande peut-être tapée à l’invite de commande de <em>ppp</em> ou peut-être entrée dans le fichier de configuration <em>/etc/ppp/ppp.conf</em>. (le début de la section par défaut <em>default</em> est l’endroit idéal pour le mettre). Assurez vous que le fichier <a href=http://www.freebsd.org/cgi/man.cgi?syslog.conf>/etc/syslog.conf</a> contienne les lignes</p></div><div class="literalblock programlisting"><div class=content><pre>!ppp
*.*              /var/log/ppp.log</pre></div></div><div class=paragraph><p>et que le fichier <em>/var/log/ppp.log</em> existe. Vous pouvez aussi tirer pas mal de renseignements sur ce qui se passe en lisant les fichiers log. Ne vous inquiétez pas même si cela vous semble dénué de sens, si vous obtenez de l’aide de quelqu’un, pour lui, cela aura un sens.</p></div><div class=paragraph><p>Si votre version de ppp ne comprend pas la commande "set log" vous devriez charger la <a href=http://www.freebsd.org/~brian>dernière version</a>. Il pourrra se construire sur FreeBSD version 2.1.5 et plus.</p></div><div class=sect3><h4 id=_ppp_se_bloque_quand_je_le_lance>10.7.1. Ppp se bloque quand je le lance<a class=anchor href=#_ppp_se_bloque_quand_je_le_lance></a></h4><div class=paragraph><p>Cela est usuellement dû au fait que votre nom d’hôte ne peut être résolu. La meilleure solution pour résoudre ce problème est de s’assurer que votre <em>/etc/hosts</em> est consulté en premier par votre résolveur en éditant <em>/etc/host.conf</em> et en mettant la ligne <em>hosts</em> en premier. Puis, ajoutez simplement une entrée pour votre machine locale dans <em>/etc/hosts</em>. Si vous n’avez pas de réseau local, changez simplement votre ligne <em>localhost</em> :</p></div><div class="literalblock programlisting"><div class=content><pre>127.0.0.1	foo.bar.com	foo	localhost</pre></div></div><div class=paragraph><p>Sinon, ajoutez simplement une autre entrée pour votre hôte. Consultez les pages de manuels appropriées pour plus de détails. Vous devrez être alors capable de réussir à faire un <em>ping -c1 <code>hostname</code></em> quand vous aurez fini.</p></div></div><div class=sect3><h4 id=_ppp_ne_veut_pas_communiquer_en_mode_auto>10.7.2. Ppp ne veut pas communiquer en mode -auto<a class=anchor href=#_ppp_ne_veut_pas_communiquer_en_mode_auto></a></h4><div class=paragraph><p>Tout d’abord, vérifiez que vous avez bien un routage par défaut en lançant <a href=http://www.freebsd.org/cgi/man.cgi?netstat>netstat -rn</a>, vous devriez voir deux entrées comme suivent :</p></div><div class="literalblock programlisting"><div class=content><pre>Destination        Gateway            Flags     Refs     Use     Netif Expire
default            10.0.0.2           UGSc        0        0      tun0
10.0.0.2           10.0.0.1           UH          0        0      tun0</pre></div></div><div class=paragraph><p>ici, on supposera que vous avez utilisé les adresses données en exemple dans le handbook, les pages man ou depuis le fichier ppp.conf.sample. Si vous n’avez pas de routage par défaut, c’est peut-être parce que vous utilisez une vieille version de <a href=http://www.freebsd.org/cgi/man.cgi?ppp>ppp</a> qui ne comprend pas le mot <em>HISADDR</em> dans le fichier ppp.conf. Si votre version de <em>ppp</em> est antérieure à FreeBSD 2.2.5, changer la ligne</p></div><div class="literalblock programlisting"><div class=content><pre>add 0 0 HISADDR</pre></div></div><div class=paragraph><p>par celle-ci :</p></div><div class="literalblock programlisting"><div class=content><pre>add 0 0 10.0.0.2</pre></div></div><div class=paragraph><p>Une autre raison au fait que la ligne du routage par défaut soit manquante est que vous avez pu régler un routage par défaut erroné dans le fichier <a href=http://www.freebsd.org/cgi/man.cgi?rc.conf>/etc/rc.conf</a> (ce fichier est appelé <em>/etc/sysconfig</em> avant la release 2.2.2), et que vous avez oublié la ligne suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>delete ALL</pre></div></div><div class=paragraph><p>from <em>ppp.conf</em>. Si cela est le cas, revenez à la section du handbook sur <a href=https://docs.freebsd.org/fr/books/handbook/ppp-and-slip#ppp-and-slip>la configuration finale du système</a> section of the handbook.</p></div></div><div class=sect3><h4 id=_que_veut_dire_no_route_to_host>10.7.3. Que veut dire "No route to host" ?<a class=anchor href=#_que_veut_dire_no_route_to_host></a></h4><div class=paragraph><p>Cette erreur est usuellement dûe à une omission de la section</p></div><div class="literalblock programlisting"><div class=content><pre>MYADDR:
delete ALL
add 0 0 HISADDR</pre></div></div><div class=paragraph><p>dans votre fichier <em>/etc/ppp/ppp.linkup</em>. Cela est seulement nécessaire si vous avez une adresse IP dynamique ou que vous ne savez pas l’adresse de votre routeur. Si vous utilisez le mode interactif, vous pouvez taper les lignes suivantes après être entré en <em>mode paquet</em> (le mode paquet est indiqué par le <em>PPP</em> en majuscule à l’invite):</p></div><div class="literalblock programlisting"><div class=content><pre>delete ALL
add 0 0 HISADDR</pre></div></div><div class=paragraph><p>Se référer à la section du handbook sur <a href=https://docs.freebsd.org/fr/books/handbook/ppp-and-slip#ppp-and-slip>PPP et les adresses IP dynamiques</a> pour plus de détails.</p></div></div></div><div class=sect2><h3 id=_ma_connexion_se_termine_au_bout_de_3_minutes>10.8. Ma connexion se termine au bout de 3 minutes<a class=anchor href=#_ma_connexion_se_termine_au_bout_de_3_minutes></a></h3><div class=paragraph><p>La limite de temps (timeout) par défaut de ppp est de 3 minutes. Cela peut-être ajusté avec les lignes :</p></div><div class="literalblock programlisting"><div class=content><pre>set timeout NNN</pre></div></div><div class=paragraph><p>où <em>NNN</em> est le nombre de secondes d’inactivité avant que la connexion ne soit fermée. Si <em>NNN</em> est égal à zero, la connexion ne sera jamais fermée pour cause de limite de temps écoulée. Il est possible de mettre cette commande dans le fichier <em>ppp.conf</em>, ou de la taper à l’invite en mode interactif. Il est également possible de l’ajuster au vol alors que la ligne est active, en se connectant à la socket du serveur <em>ppp</em> en utilisant <a href=http://www.freebsd.org/cgi/man.cgi?telnet>telnet</a> ou <a href=http://www.freebsd.org/cgi/man.cgi?pppctl>pppctl</a>. Se réferer à la page de manuel de <a href=http://www.freebsd.org/cgi/man.cgi?ppp>ppp</a> pour plus de détails.</p></div><div class=sect3><h4 id=_ma_connexion_se_termine_lors_de_gros_chargements>10.8.1. Ma connexion se termine lors de gros chargements.<a class=anchor href=#_ma_connexion_se_termine_lors_de_gros_chargements></a></h4><div class=paragraph><p>Si vous avez activé le report de la qualité de connexion (Link Quality Reporting (LQR)), il est possible ce soit parce que que trop de paquets LQR sont perdus entre la machine et son interlocuteur. PPP en déduit que la ligne doit être trop mauvaise, et se déconnecte. Avant la version 2.2.5 de FreeBSD, LQR était activé par défaut. Il est maintenant désactivé par défaut. LQR peut-être désactivé avec la ligne suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>disable lqr</pre></div></div></div><div class=sect3><h4 id=_ma_connexion_se_termine_après_un_certain_temps_aléatoire>10.8.2. Ma connexion se termine après un certain temps aléatoire.<a class=anchor href=#_ma_connexion_se_termine_après_un_certain_temps_aléatoire></a></h4><div class=paragraph><p>Parfois, sur une ligne de téléphone avec des parasites, ou même sur une ligne avec des attentes d’appels activées, le modem peut se suspendre parce qu’il pense (de manière erronée) qu’il y a une perte du support de connexion (lost carrier)</p></div><div class=paragraph><p>Il y a un réglage sur la plupart des modems qui déterminent le degré de tolérance sur la perte temporaire de la ligne porteuse. Sur un USR Sportster par exemple, cela est mesuré par le registre S10 en dixième de secondes. Pour rendre votre modem plus tolérant, vous pouvez ajouter la séquence envoi-attente suivante à votre chaîne de connexion :</p></div><div class="literalblock programlisting"><div class=content><pre>set dial &#34;...... ATS10=10 OK ......&#34;</pre></div></div><div class=paragraph><p>Se référer au manuel de votre modem pour plus de détails.</p></div></div><div class=sect3><h4 id=_rien_ne_se_passe_après_le_message_login_ok>10.8.3. Rien ne se passe après le message Login Ok!<a class=anchor href=#_rien_ne_se_passe_après_le_message_login_ok></a></h4><div class=paragraph><p>Avant la version 2.2.5 de FreeBSD, une fois la ligne établie, <a href=http://www.freebsd.org/cgi/man.cgi?ppp>ppp</a> devait attendre que ce soit l’autre parti (peer) qui initialise le protocole de contrôle de ligne (Line Control Protocol (LCP). Or, plusieurs ISPs ne débuteront pas la négociation et attendront du client qu’il le fasse. Pour forcer <em>ppp</em> à initialiser le LCP, utiliser la ligne suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>set openmode active</pre></div></div><div class=paragraph><p><em>Note</em>: Cela ne fait pas de dégats si chacun des deux parties initialisent tous les deux la connexion, c’est pourquoi openmode est à présent activé par défaut. Quoiqu’il en soit, la prochaine section expliquera quand est-ce ce que cela peut gêner.</p></div></div><div class=sect3><h4 id=_je_narrête_pas_de_voir_des_erreurs_à_propos_de_magic_being_the_same>10.8.4. Je n’arrête pas de voir des erreurs à propos de magic being the same<a class=anchor href=#_je_narrête_pas_de_voir_des_erreurs_à_propos_de_magic_being_the_same></a></h4><div class=paragraph><p>De temps en temps, juste après la connexion, vous pouvez voir des messages dans le log qui dit "magic is the same". Parfois ces messages sont sans conséquences, et parfois l’un ou l’autre des partis quitte. La plupart des implémentations ppp ne peuvent survivre à ce problème, et même si la ligne semble venir, vous verrez régulièrement des demandes de configuration et des accusés de réception de configuration dans le fichier log à moins que ppp abandonne et ne ferme la connexion.</p></div><div class=paragraph><p>Cela apparaît normallement sur les machines serveurs avec des disques lents qui diffusent un getty sur le port, et qui exécute ppp depuis un script ou programme de login après le login. J’ai aussi eu vent de cela arrivant lorsqu’on utilise slirp. La raison est qu’entre le temps où getty quitte et que ppp commence, le ppp côté-client commence par envoyer des paquets Line Control Protocol (LCP). Parce que l’ECHO est toujours actif sur les ports du côté serveur, le client ppp verra ces paquets qui lui seront "reflèté".</p></div><div class=paragraph><p>Une partie de la négociation LCP est d’établir un nombre magique (magic number) de chaque côté de la ligne, ceci afin que les "réflexions" soient détectées. Le protocole dit que lorsque l’autre parti essaye de négocier le même nombre magique, un NAK devrait être envoyé et un nouveau nombre magique choisi. Durand la période où le serveur où le port serveur a l’ECHO activé, le client ppp envoie des paquets LCP, voit le même nombre magique dans les paquets reflètés et il le "NAK". Il voit aussi les reflexions de NAK (qui veut aussi dire que ppp devrait changer son nombre magique). Cela produit potentiellement un énorme nombre de nombre magiques à changer, chacun d’entre eux tous s’empilant joyeusement dans le buffer stty du serveur. Aussitôt que ppp démarre sur le serveur, il est innondé par des changement de nombre magique et souvent décide qu’il a assez essayé de négociation LCP et abandonne. Pendant ce temps, le client qui ne voit alors plus de réflexions, se réjouit juste le temps de voir que le serveur l’a déconnecté.</p></div><div class=paragraph><p>Cela peut-être évité en autorisant l’autre parti à démarrer la négociation avec la ligne suivante dans le fichier ppp.conf</p></div><div class="literalblock programlisting"><div class=content><pre>set openmode passive</pre></div></div><div class=paragraph><p>Cela dit à ppp d’attendre que le serveur débute la négociation LCP. Certains serveurs toutefois peuvent ne jamais initier la négociation. Si cela est le cas, vous pouvez faire quelque chose du genre :</p></div><div class="literalblock programlisting"><div class=content><pre>set openmode active 3</pre></div></div><div class=paragraph><p>Cela dit à ppp de rester passif pendant 3 secondes, et puis commencer à envoyer les requêtes LCP/ Si l’autre parti commence à envoyer des requêtes durant cette période, ppp répondra immédiatement plutôt qu’en attendant que la période des 3 secondes se termine.</p></div></div><div class=sect3><h4 id=_les_négociations_lcp_continuent_jusquà_ce_que_la_connexion_soit_fermée>10.8.5. Les négociations LCP continuent jusqu’à ce que la connexion soit fermée.<a class=anchor href=#_les_négociations_lcp_continuent_jusquà_ce_que_la_connexion_soit_fermée></a></h4><div class=paragraph><p>Cela est pour l’instant un défaut d’implémentation dans <em>ppp</em> où il n’associe pas les réponses LCP, CCP & IPCP avec leur requête originale. Comme conséquence, si l’une des implémentations <em>ppp</em> est 6 secondes plus lente que l’autre côté, l’autre côté enverra 2 requêtes de configuration LCP supplémentaire. Cela est fatal. Soient 2 implémentations, <em>A</em> et <em>B</em>. <em>A</em> commence à envoyer des requêtes LCP immédiatement après s’être connecté et <em>B</em> met 7 secondes à démarer. Quand <em>B</em> démarre, <em>A</em> a envoyé 3 requêtes LCP. Nous supposons que la ligne a désactivée l’ECHO, car dans le cas contraire nous verrions des problèmes de nombres magiques comme décrit dans la section précédente. <em>B</em> envoi un REQ, puis un ACK au premier REQ de <em>A</em>. Le résultat est que <em>A</em> entre dans l’état <em>OPENED</em> et envoie un ACK (le premier) en retour à <em>B</em>. Pendant ce temps, <em>B</em> renvoi 2 ACK de plus en réponse au 2 REQ supplémentaires envoyés par <em>A</em> avant <em>B</em> que B n’ait commencé. <em>B</em> reçoit alors le premier ACK de <em>A</em> et entre dans l’état <em>OPENED</em>. <em>A</em> reçoit le deuxième ACK de <em>B</em> et revient à l’état <em>REQ-SENT</em>, et envoie un autre (quatrième) REQ comme décrit dans la RFC. Il envoie alors un troisième ACK et entre dans l’état <em>OPENED</em>. Durant ce moment, <em>B</em> reçoit le quatrième REQ de <em>A</em>, par conséquent, revient dans l’état <em>ACK-SENT</em> et envoie un autre (second) REQ et (quatrième) ACK as per the RFC. <em>A</em> reçoit le REQ, va dans l’état <em>REQ-SENT</em> et envoie un autre REQ. Il reçoit alors immédiatement le ACK suivant et entre dans l’état <em>OPENED</em>.</p></div><div class=paragraph><p>Cela continue tant qu’un des partis ne s’aperçoive qu’ils n’iront nulle part comme cela et abandonne.</p></div><div class=paragraph><p>La meilleure façon d’éviter cela est de configurer un côté comme étant <em>passif</em> - cela fait, faire de telle sorte qu’un des côtés attende que l’autre commence la négociation. Cela peut-être fait par la commande :</p></div><div class="literalblock programlisting"><div class=content><pre>set openmode passive</pre></div></div><div class=paragraph><p>Faire attention avec cette option, vous devriez aussi utiliser la commande</p></div><div class="literalblock programlisting"><div class=content><pre>set stopped N</pre></div></div><div class=paragraph><p>afin de limiter la durée avant que <em>ppp</em> attende de l’autre parti de commencer la négociation. D’une autre façon, la commande</p></div><div class="literalblock programlisting"><div class=content><pre>set openmode active N</pre></div></div><div class=paragraph><p>(où <em>N</em> est le nombre de secondes qu’il faut attendre avant que le démarrage de la négociation ne soit faite). Regardez les pages de manuels pour plus de détails.</p></div></div><div class=sect3><h4 id=_ppp_se_verrouille_peu_après_la_connexion>10.8.6. Ppp se verrouille peu après la connexion.<a class=anchor href=#_ppp_se_verrouille_peu_après_la_connexion></a></h4><div class=paragraph><p>Avant la version 2.2.5 de FreeBSD, il était possible que votre ligne soit désactivée peu après la connexion, dûe à une mauvaise négociation de compression Predictor1 de <em>ppp</em> Cela ne devrait arriver que si deux côtés essayent de négocier des protocoles de contrôle de compression ( Compression Control Protocols (CCP) différents. Ce problème est à présent résolu, mais si vous utilisez toujours une vieille version de <em>ppp</em>, le problème peut-être sauté avec la ligne</p></div><div class="literalblock programlisting"><div class=content><pre>disable pred1</pre></div></div></div><div class=sect3><h4 id=_ppp_se_verrouille_quand_je_shell_pour_le_tester>10.8.7. Ppp se verrouille quand je "shell" pour le tester.<a class=anchor href=#_ppp_se_verrouille_quand_je_shell_pour_le_tester></a></h4><div class=paragraph><p>Quand vous exécutez le <em>shell</em> ou la commande <em>!</em>, <em>ppp</em> exécute un shell (ou si vous avez passé des arguments, <em>ppp</em> exécutera ces arguments). Ppp attendra que la commande se termine avant de continuer. Si vous avez l’intention d’utiliser la connexion ppp pendant que vous lancez la commande, la connexion apparaîtra alors comme ayant été gelée. Cela parce que <em>ppp</em> attend que la commande se termine.</p></div><div class=paragraph><p>Si vous voulez exécuter des commandes comme cela, utilisez plutôt la commande <em>!bg</em>. Cela exécutera la commande en arrière plan, et ppp pourra continuer de servir la connexion.</p></div></div><div class=sect3><h4 id=_ppp_sur_un_null_modem_ne_quitte_jamais>10.8.8. Ppp sur un null-modem ne quitte jamais.<a class=anchor href=#_ppp_sur_un_null_modem_ne_quitte_jamais></a></h4><div class=paragraph><p>Il n’y a aucune manière pour que <em>ppp</em> détermine automatiquement qu’une connexion directe s’est achevée. Cela est dû aux lignes utilisées dans un câble série null-modem. Quand on utilise cette sorte de connexion, LQR devrait être toujours activé avec la ligne :</p></div><div class="literalblock programlisting"><div class=content><pre>enable lqr</pre></div></div><div class=paragraph><p>LQR est accepté pas défaut si négocié par l’autre parti.</p></div></div></div><div class=sect2><h3 id=_pourquoi_ppp_tente_de_se_connecter_sans_raison_em_mode_auto>10.9. Pourquoi ppp tente de se connecter sans raison em mode -auto ?<a class=anchor href=#_pourquoi_ppp_tente_de_se_connecter_sans_raison_em_mode_auto></a></h3><div class=paragraph><p>Si <em>ppp</em> tente de se comnnecter sans raison aucune, vous devez en déterminer la cause et mettre en place des filtrages d’appels (dfilters) pour prévenir de tels appels.</p></div><div class=paragraph><p>Afin d’en déterminer la cause, utilisez la ligne suivant :</p></div><div class="literalblock programlisting"><div class=content><pre>set log +tcp/ip</pre></div></div><div class=paragraph><p>Cela tracera tous le trafic à travers une connexion. La prochaine fois que la connexion se mettra en place de manière inattendue, vous verrez la raison tracé avec le moment où cela s’est produit à côté.</p></div><div class=paragraph><p>Vous pouvez à présent désactiver les appels sous ces circonstances. D’habitude, ces sortes de problèmes arrivent à cause des DNS lookup. Pour empêcher le DNS lookup d’établir une connexion (cela n’empêchera <em>pas__ppp</em> de passer les paquets à travers une connexion établie), utilisez les lignes suivantes :</p></div><div class="literalblock programlisting"><div class=content><pre>set dfilter 1 deny udp src eq 53
set dfilter 2 deny udp dst eq 53
set dfilter 3 permit 0/0 0/0</pre></div></div><div class=paragraph><p>Cela ne convient pas toujours puisqu’il enlèvera effectivement vos fonctionnalités de demandes d’appels - la plupart des programmes auront besoin du DNS lookup avant de faire quelque chose ayant un rapport avec le réseau.</p></div><div class=paragraph><p>Dans le cas DNS, vous pouvez essayer de déterminer qui est-ce qui essaye actuellement de résoudre le nom de l’hôte. La plupart du temps, c’est <a href=http://www.freebsd.org/cgi/man.cgi?sendmail>sendmail</a> le coupable. Vous devez vous assurer que vous avez dit à sendmail de ne faire aucun DNS lookup dans ses fichiers de configuration, regardez la section sur <a href=ispmail>la configuration du mail</a> pour les détails de comment créer son propre fichier de comfiguration, et qu’est ce qu’on doit mettre dedans. Vous pouvez aussi vouloir ajouter les lignes suivantes dans votre fichier <em>.mc</em> :</p></div><div class="literalblock programlisting"><div class=content><pre>define(`confDELIVERY_MODE&#39;, `d&#39;)dnl</pre></div></div><div class=paragraph><p>Cela fera que sendmail mettra tout en file d’attente jusqu’à ce que la file soit lancée (habituellement, sendmail est invoqué avec -bd -q30m, lui disant de lancer la file d’attente toutes les 30 minutes) ou jusqu’à ce que un sendmail -q soit effectué (peut-être dans votre fichier ppp.linkup).</p></div><div class=sect3><h4 id=_que_veulent_dire_ces_erreurs_ccp>10.9.1. Que veulent dire ces erreurs CCP ?<a class=anchor href=#_que_veulent_dire_ces_erreurs_ccp></a></h4><div class=paragraph><p>Je n’arrête pas de voir les erreurs suivantes dans mon fichier log :</p></div><div class="literalblock programlisting"><div class=content><pre>CCP: CcpSendConfigReq
CCP: Received Terminate Ack (1) state = Req-Sent (6)</pre></div></div><div class=paragraph><p>Ceci est obtenu parce que ppp est en train de négocier la compression Predictor1 et que l’autre parti ne veut pas du tout négocier de compression. Ces messages sont sans conséquences aucune, mais si vous voulez les enleverm vous pouvez désactiver la compression Predictor1 aussi en local.</p></div><div class="literalblock programlisting"><div class=content><pre>disable pred1</pre></div></div></div></div><div class=sect2><h3 id=_ppp_se_bloque_durant_les_transferts_de_fichiers_avec_une_erreur_io>10.10. Ppp se bloque durant les transferts de fichiers avec une erreur IO.<a class=anchor href=#_ppp_se_bloque_durant_les_transferts_de_fichiers_avec_une_erreur_io></a></h3><div class=paragraph><p>Sous FreeBSD 2.2.2 et avant, il y avait un bug dans le driver tun qui stoppait tous les paquets entrants d’une taille plus grande que la taille MTU de l’interace tun. La réception de paquets plus grands que la taille du MTU résultait en une erreur IO qui était alors tracé avec syslogd,</p></div><div class=paragraph><p>Les spécifications ppp disent qu’un MTU de 1500 devrait <em>toujours</em> être accepté comme un minimum, ceci quelque soit la négociation LCP. Il est toutefois possible que vous diminuez le MTU à moins de 1500, votre ISP vous transmettra des paquets de 1500 sans s’en préoccuper, et cela vous bloquera, gelant ainsi la ligne.</p></div><div class=paragraph><p>Ce problème peut être contourné en ne réglant jamais un MTU en dessous de 1500 sous FreeBSD 2.2.2 et avant.</p></div><div class=sect3><h4 id=_pourquoi_ppp_ne_trace_t_il_pas_ma_vitesse_de_connexion>10.10.1. Pourquoi ppp ne trace-t-il pas ma vitesse de connexion ?<a class=anchor href=#_pourquoi_ppp_ne_trace_t_il_pas_ma_vitesse_de_connexion></a></h4><div class=paragraph><p>La façon de tracer toutes les lignes de la conversation de votre modem est d’activer :</p></div><div class="literalblock programlisting"><div class=content><pre>set log +connect</pre></div></div><div class=paragraph><p>Cela permettra à <a href=http://www.freebsd.org/cgi/man.cgi?ppp>ppp</a> de tout tracer jusqu’à la dernière chaîne de requête d'"attente"</p></div><div class=paragraph><p>Si vous voulez voir votre vitesse de connexion et que vous utilisez PAP ou CHAP (et donc ne rien avoir avec "chat" après le CONNECT dans le script dial - pas de script "set login"), vous devez vous assurer que vous prévenez ppp de s’attendre tout la ligne CONNECT, quelque chose comme :</p></div><div class="literalblock programlisting"><div class=content><pre>set dial &#34;ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 4 \&#34;\&#34; ATZ OK-ATZ-OK ATDT\\T TIMEOUT 60 CONNECT \\c \\n&#34;</pre></div></div><div class=paragraph><p>Ici, nous avons notre CONNECT, ne rien envoyer, et puis attendre un saut de ligne, forçant <em>ppp</em> à lire toute la réponse CONNECT.</p></div></div><div class=sect3><h4 id=_ppp_ignore_le_caractère_dans_mon_script_chat>10.10.2. Ppp ignore le caractère \ dans mon script chat<a class=anchor href=#_ppp_ignore_le_caractère_dans_mon_script_chat></a></h4><div class=paragraph><p>Ppp parse chacune des lignes de votre fichier de configuration, de telle sorte qu’il puisse interprêter des chaines comme <em>set phone "123 456 789"</em> correctement (et réaliser qu’il n’y a que <em>un</em> seul argument. Pour pouvoir spécifier un caractère `, vous devez l’échapper avec un backslash (\).</p></div><div class=paragraph><p>Quand l’interprêteur chat parse chaque argument, il re-interprête l’argument de telle sorte à trouver des séquences de caractères d’échappement comme \P ou \T (voir les pages de manuel). En conséquence de ce double-parsing, vous devez vous souvenir d’utiliser le nombre correct d’échappement.</p></div><div class=paragraph><p>Si vous voulez envoyer un caractère <code>\</code> à votre modem, vous aurez besoin de faire quelque chose comme :</p></div><div class="literalblock programlisting"><div class=content><pre>set dial &#34;\&#34;\&#34; ATZ OK-ATZ-OK AT\\\\X OK&#34;</pre></div></div><div class=paragraph><p>qui se résultera en la séquence suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>ATZ
OK
AT\X
OK</pre></div></div><div class=paragraph><p>ou encore</p></div><div class="literalblock programlisting"><div class=content><pre>set phone 1234567
set dial &#34;\&#34;\&#34; ATZ OK ATDT\\T&#34;</pre></div></div><div class=paragraph><p>résultera en la séquence suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>ATZ
OK
ATDT1234567</pre></div></div></div><div class=sect3><h4 id=_ppp_reçoit_une_erreur_de_segmentation_mais_je_ne_trouve_pas_de_fichier_ppp_core>10.10.3. Ppp reçoit une erreur de segmentation, mais je ne trouve pas de fichier <em>ppp.core</em><a class=anchor href=#_ppp_reçoit_une_erreur_de_segmentation_mais_je_ne_trouve_pas_de_fichier_ppp_core></a></h4><div class=paragraph><p>Ppp (ou n’importe quel programme dans le même cas) ne devrait jamais faire de coredump. Parce que ppp tourne avec une identité d’utilisateur effectif de 0, le système d’exploitation n’écrira pas d’image du core sur le disque avant de l’avoir terminé. Si, malgrè tout, ppp se <em>termine</em> actuellement à cause d’une violation de segmentation, ou n’importe quel autre signal qui cause normalement un core dump, <em>et</em> que vous êtes sûr que vous utilisez la dernière version (voir le début de cette section), alors vous devriez faire la chose suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>$ tar xfz ppp-*.src.tar.gz
$ cd ppp*/ppp
$ echo STRIP= &gt;&gt;Makefile
$ echo CFLAGS+=-g &gt;&gt;Makefile
$ make clean all
$ su
make install
chmod 555 /usr/sbin/ppp</pre></div></div><div class=paragraph><p>Vous aurez alors une version déboguable de ppp installé. Vous aurez à être root pour lancer ppp puisque tous ses privilèges auront été révoqués. Quand vous démarrez ppp, retenez soigneusement le répertoire courant dans lequel vous étiez.</p></div><div class=paragraph><p>A présent, si et quand ppp recevra une violation de segmentation, cela crééra un fichier core nommé ppp.core. Vous aurez alors à faire la chose suivante :</p></div><div class="literalblock programlisting"><div class=content><pre>$ su
gdb /usr/sbin/ppp ppp.core
(gdb) bt
.....
(gdb) f 0
.....
(gdb) i args
.....
(gdb) l
.....</pre></div></div><div class=paragraph><p>Toutes ces informations devront être données suivant votre question, rendant ainsi possible le diagnostique de votre problème.</p></div><div class=paragraph><p>Si vous êtes familier avec gdb, vous pouvez vouloir trouver d’autres techniques pour trouver ce qui a causé le dump, et les adresses et valeurs des variables concernées.</p></div></div><div class=sect3><h4 id=_le_processus_qui_force_un_appel_en_mode_auto_ne_se_connecte_jamais>10.10.4. Le processus qui force un appel en mode auto ne se connecte jamais.<a class=anchor href=#_le_processus_qui_force_un_appel_en_mode_auto_ne_se_connecte_jamais></a></h4><div class=paragraph><p>Cela est un problème connu quand <em>ppp</em> est réglé de telle sorte à négocier une adresse IP dynamique avec son homologue. Quand ce programme initial appelle <a href=http://www.freebsd.org/cgi/man.cgi?connect>connect(2) </a>, l’adresse IP de l’interface tun est assignée à l’extrêmité de la socket. Le noyau crée le premier paquet sortant et l’écrit sur le périphérique tun. <em>Ppp</em> lit alors le paquet et établit alors la connexion. Si, comme résultat de l’assignation dynamique de <em>ppp</em>, l’adresse de l’interface est changée, l’extrêmité originale de la socket sera invalide. Tout paquet envoyé à l’autre parti sera alors en principe perdu. Et même s’il ne l’était pas, toute réponse ne pourrait pas être renvoyée à la machine originelle puisque l’adresse IP ne serait plus possèdée par cette machine.</p></div><div class=paragraph><p>Théoriquement, il y a plusieurs manières d’aborder ce problème. Le mieux serait que l’homologue re-assigne la même adresse IP si possible <em>:-)</em></p></div><div class=paragraph><p>La meilleure méthode de notre côté, serait de ne jamais changer l’adresse IP de l’interface tun, mais à la place, changer tous les paquets sortant de telle sorte que les adresses IP de la source soient changées de l’interface Ip à l’IP négocié au vol. C’est essentiellement ce que <a href=http://www.freebsd.org/cgi/man.cgi?libalias>libalias(3) </a>(et l’option <em>-alias</em> de ppp) font actuellement.</p></div><div class=paragraph><p>Une autre alternative (et probablement la plus sûre); est d’implémenter un appel système qui change tous les sockets reliées depuis une adresse IP à une autre. <em>Ppp</em> utiliserait cet appel pour modifier la socket de tous les programmes existant lorsqu’une nouvelle adresse IP est négociée.</p></div><div class=paragraph><p>Une troisième possibilité est d’autoriser à une interface de s’activer sans adresse IP. Les paquets sortant auront une adresse IP de 255.255.255.255 jusqu’à ce que le premier SIOCAIFADDR ioctl soit fait. Cela reviendrait à lier entièrement la socket, et ça serait à <em>ppp</em> de changer l’adresse IP source, mais seulement si il est à 255.255.255.255, et seulement si le numéro IP et le checksum IP doivent être changés. Quoiqu’il en soit, c’est de la bidouille puisque le noyau enverra des paquets invalides à une interface mal configurée, en supposant que d’autres mécanismes seront capables de réparer les choses retrospectivement.</p></div><div class=paragraph><p>Aucune de ces solutions n’a (encore) été implémentée.</p></div></div><div class=sect3><h4 id=_pourquoi_la_plupart_des_jeux_ne_marchent_pas_avec_loption_alias>10.10.5. Pourquoi la plupart des jeux ne marchent pas avec l’option -alias ?<a class=anchor href=#_pourquoi_la_plupart_des_jeux_ne_marchent_pas_avec_loption_alias></a></h4><div class=paragraph><p>La raison pour laquelle les jeux et assimilés ne marchent pas avec libalias est que la machine extérieure essaye d’ouvrir une connexion ou envoyer des paquets UDP (non sollicités) à la machine interne. Le logiciel packet alias ne sait alors pas qu’il faut envoyer ces paquets à une machine interne.</p></div><div class=paragraph><p>Pour que ça marche, assurez vous que la seule chose qui tourne est le logiciel avec lequel vous avez des problèmes, puis alors, soit vous lancez tcpdump sur votre interface tun de votre routeur, soit vous activez le login ppp tcp/ip (<code>set log +tcp/ip</code>) sur votre routeur.</p></div><div class=paragraph><p>Quand vous démarrez le logiciel incriminé, vous devriez voir les paquets passer à travers la machine routeur. Quand quelque chose revient depuis l’extérieur, il sera retiré (c’est ça le problème). Noter le numéro de port de ces paquets, puis arrêtez le logiciel incriminé. Faite ceci quelques fois pour voir si les numéro de ports sont consistants. Si ils le sont, alors la ligne suivante dans la section appropriée de /etc/ppp/ppp.conf rendra le logiciel fonctionnel.</p></div><div class="literalblock programlisting"><div class=content><pre>alias port proto internalmachine:port port</pre></div></div><div class=paragraph><p>où proto est soit tcp ou udp, internalmachine est la machine à laquelle vous voulez que les paquets soient envoyés et port le numéro de port de destination des paquets.</p></div><div class=paragraph><p>Vous ne pourrez pas utiliser le logiciel sur d’autres machines sans changer la commande du dessus, et lancer le logiciel sur 2 machines internes en même temps est hors de question - après tout, le monde extérieur voit tout votre réseau entier comme une seule machine.</p></div><div class=paragraph><p>Si les numéros de ports ne sont pas consistants, il y a 3 autres options :</p></div><div class=paragraph><p><em>1)</em> Soumettre le support dans libalias. Des exemples de cas spéciaux peuvent être trouvés dans /usr/src/lib/libalias/alias_*.c (alias_ftp.c iest un bon prototype). Cela implique habituellement la lecture de certains paquets sortant reconnus, identification des instructions qui dit à la machine extérieure d’initialiser la connexion en retour vers machine interne sur un port (aléatoire) spécifique, et mettre en place une route dans la table d’alias de telle sorte que les paquets concernés sachent où aller.</p></div><div class=paragraph><p>C’est la solution la plus difficile, mais c’est la meilleure et permettra au logiciel de marcher sur plusieurs machines</p></div><div class=paragraph><p><em>2)</em> Utiliser un proxy. L’application peut pouvoir supporter socks5 par exemple, ou (comme dans le cas de cvsup) peut avoir une option passive qui évite d’avoir à toujours demander que l’autre parti ouvre une connexion en retour sur la machine locale.</p></div><div class=paragraph><p><em>3)</em> Tout rediriger vers une machine interne utilisant alias addr. C’est l’approche "bourrin".</p></div></div><div class=sect3><h4 id=_rien_de_cela_ne_marche_je_suis_désespéré>10.10.6. Rien de cela ne marche - je suis désespéré !<a class=anchor href=#_rien_de_cela_ne_marche_je_suis_désespéré></a></h4><div class=paragraph><p>Si tout le reste échoue, envoyer autant d’informations que vous pouvez, y compris vos fichiers de configuration, comment vous avez démarré <em>ppp</em>, les parties pertinentes de votre fichier log, et la sortie de la commande <a href=http://www.freebsd.org/cgi/man.cgi?netstat>netstat -rn </a>(avant et après connexion) à la liste de diffusion <a href=mailto:freebsd-questions@FreeBSD.org></a><a href=mailto:freebsd-questions@FreeBSD.org>freebsd-questions@FreeBSD.org</a> ou au newsgroup <a href=news:comp.unix.bsd.freebsd.misc>comp.unix.bsd.freebsd.misc, </a>et quelqu’un devrait vous orienter dans la bonne direction.</p></div></div></div><div class=sect2><h3 id=_je_ne_peux_pas_créer_un_périphérique_deved0>10.11. Je ne peux pas créer un périphérique <em>/dev/ed0</em> !<a class=anchor href=#_je_ne_peux_pas_créer_un_périphérique_deved0></a></h3><div class=paragraph><p>Dans le cadre des réseaux Berkeley, les interfaces réseaux sont seulement directement accessibles par le code du noyau. Regarder le fichier <em>/etc/rc.network</em> et les pages de manuels pour les différents programmes réseaux mentionnés ici pour plus d’informations. Si cela vous est complètement confus, vous devriez prendre un livre décrivant l’administration réseaux sur un autre système d’exploitation relatif à BSD; à quelques exceptions mineures, administrer un réseau sous FreeBSD est basiquement la même chose que sur un SunOS 4.0 ou un Ultrix.</p></div></div><div class=sect2><h3 id=_comment_puis_je_régler_les_alias_éthernet>10.12. Comment puis-je régler les alias éthernet ?<a class=anchor href=#_comment_puis_je_régler_les_alias_éthernet></a></h3><div class=paragraph><p>Ajouter <em>netmask 0xffffffff</em> à votre ligne de commande <a href=http://www.freebsd.org/cgi/man.cgi?ifconfig>ifconfig</a> comme ci-dessous :</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig ed0 alias 204.141.95.2 netmask 0xffffffff</pre></div></div></div><div class=sect2><h3 id=_comment_puis_je_faire_pour_que_mon_3c503_utilise_lautre_port_réseau>10.13. Comment puis-je faire pour que mon 3C503 utilise l’autre port réseau ?<a class=anchor href=#_comment_puis_je_faire_pour_que_mon_3c503_utilise_lautre_port_réseau></a></h3><div class=paragraph><p>Si vous voulez utiliser les autres ports, vous avez à spécifier un paramêtre supplémentaire dans la ligne de commande <a href=http://www.freebsd.org/cgi/man.cgi?ifconfig>ifconfig</a>. Le port par défaut est <em>link0</em>. Pour utiliser le port AUI à la place du BNC,utiliser <em>link2</em>. Ces paramêtres devraient être spécifiés en utilisant les variables de ifconfig_* variables dans <a href=http://www.freebsd.org/cgi/man.cgi?rc.conf>/etc/rc.conf</a>.</p></div></div><div class=sect2><h3 id=_jai_des_problèmes_avec_nfs_depuisvers_freebsd>10.14. J’ai des problèmes avec NFS depuis/vers FreeBSD.<a class=anchor href=#_jai_des_problèmes_avec_nfs_depuisvers_freebsd></a></h3><div class=paragraph><p>Certaines cartes réseaux sont meilleures que d’autres et peuvent causer quelquefois des problèmes lors d’applications réseaux intensives comme NFS.</p></div><div class=paragraph><p>Regarder <a href=https://docs.freebsd.org/fr/books/handbook/>la partie du Handbook sur NFS</a> pour plus d’informations à ce sujet.</p></div></div><div class=sect2><h3 id=_pourquoi_ne_puis_je_pas_monter_par_nfs_depuis_une_machine_sous_linux>10.15. Pourquoi ne puis-je pas monter par NFS depuis une machine sous Linux ?<a class=anchor href=#_pourquoi_ne_puis_je_pas_monter_par_nfs_depuis_une_machine_sous_linux></a></h3><div class=paragraph><p>Certaines versions du code NFS de Linux ne peuvent accepter des requêtes de montages que depuis un port privilègié; essayez</p></div><div class="literalblock programlisting"><div class=content><pre>mount -o -P linuxbox:/blah /mnt</pre></div></div></div><div class=sect2><h3 id=_pourquoi_ne_puis_je_pas_monter_un_nfs_depuis_une_machine_sun>10.16. Pourquoi ne puis-je pas monter un NFS depuis une machine Sun ?<a class=anchor href=#_pourquoi_ne_puis_je_pas_monter_un_nfs_depuis_une_machine_sun></a></h3><div class=paragraph><p>Les stations de travail Sun sous SunOS 4.X n’acceptent seulement des requêtes de montage que depuis un port privilègié; essayez</p></div><div class="literalblock programlisting"><div class=content><pre>mount -o -P sunbox:/blah /mnt</pre></div></div></div><div class=sect2><h3 id=_jai_des_problème_pour_parler_ppp_à_des_machines_nextstep>10.17. J’ai des problème pour parler PPP à des machines NeXTStep.<a class=anchor href=#_jai_des_problème_pour_parler_ppp_à_des_machines_nextstep></a></h3><div class=paragraph><p>Essayer de désactiver l’extension TCP dans <a href=http://www.freebsd.org/cgi/man.cgi?rc.conf>/etc/rc.conf</a> en changeant la variable à NO :</p></div><div class="literalblock programlisting"><div class=content><pre>tcp_extensions=NO</pre></div></div><div class=paragraph><p>les machines Xylogic’s Annex ne marchent pas non plus dans ce contexte, et vous devez changer de même que ci-dessus pour pouvoir vous connecter au travers d’elles.</p></div></div><div class=sect2><h3 id=_comment_activer_le_support_multicast_ip>10.18. Comment activer le support multicast IP ?<a class=anchor href=#_comment_activer_le_support_multicast_ip></a></h3><div class=paragraph><p>Les opérations multicast sont entièrement supportées par FreeBSD 2.0 et plus par défaut. Si vous voulez que votre machine marche comme un routeur multicast, vous devez recompiler votre noyau avec l’option <em>MROUTING</em> et lancer <em>mrouted</em>. FreeBSD 2.2 et plus démarrera <em>mrouted</em> au moment du boot si l’option <em>mrouted_enable</em> est mis à "YES" dans <em>/etc/rc.conf</em>.</p></div><div class=paragraph><p>Les outils MBONE tools sont disponibles dans leur propre catégorie de ports, mbone. Si vous cherchez les outils de conférence <em>vic</em> et <em>vat</em>, c’est là qu’il faut voir !</p></div><div class=paragraph><p>Pour plus d’informations, regarder <a href=http://www.mbone.com/>le web d’information Mbone</a>.</p></div></div><div class=sect2><h3 id=_quelles_cartes_réseaux_sont_basées_sur_le_chipset_dec_pci>10.19. Quelles cartes réseaux sont basées sur le chipset DEC PCI ?<a class=anchor href=#_quelles_cartes_réseaux_sont_basées_sur_le_chipset_dec_pci></a></h3><div class=paragraph><p>Voici une liste compilée par <a href=mailto:gfoster@driver.nsta.org>Glen Foster</a>, avec quelques ajouts récents :</p></div><div class="literalblock programlisting"><div class=content><pre>Vendor          Model
----------------------------------------------
ASUS            PCI-L101-TB
Accton          ENI1203
Cogent          EM960PCI
Compex          ENET32-PCI
D-Link          DE-530
Dayna           DP1203, DP2100
DEC             DE435
Danpex          EN-9400P3
JCIS            Condor JC1260
Linksys         EtherPCI
Mylex           LNP101
SMC             EtherPower 10/100 (Model 9332)
SMC             EtherPower (Model 8432)
TopWare         TE-3500P
Zynx            ZX342</pre></div></div></div><div class=sect2><h3 id=_pourquoi_dois_je_utiliser_le_fqdn_pour_les_hôtes_de_mon_site>10.20. Pourquoi dois-je utiliser le FQDN pour les hôtes de mon site ?<a class=anchor href=#_pourquoi_dois_je_utiliser_le_fqdn_pour_les_hôtes_de_mon_site></a></h3><div class=paragraph><p>Vous verrez probablement que l’hôte est actuellement dans un domaine différent; par exemple, si vous êtes dans foo.bar.edu et que vous voulez atteindre un hôte nommé mumble dans le domaine bar.edu domain, vous aurez à vous y référer par son nom de domaine entièrement qualifié, mumble.bar.edu, à la place de juste mumble.</p></div><div class=paragraph><p>Traditionellement, cela était autorisés par les résolveurs BSD BIND. Malgrè tout, la version courante de <a href=http://www.freebsd.org/cgi/man.cgi?named>bind</a> qui est fournie avec FreeBSD ne fournit plus d’abbréviation par défaut pour un domaine non entièrement qualifié; autre que le domaine dans lequel vous êtes. Ainsi, un hôte non-qualifié <em>mumble</em> doit soit être trouvé comme <em>mumble.foo.bar.edu</em>, ou alors il sera cherché dans le domaine racine.</p></div><div class=paragraph><p>Cela est différent du comportement décrit auparavant, où la recherche continuait à travers <em>mumble.bar.edu</em>, et <em>mumble.edu</em>. Jetez un coup d’oeil à la RFC 1535 pour savoir pourquoi cela est considéré comme une mauvaise pratique, ou encore même un trou de sécurité.</p></div><div class=paragraph><p>Comme détour, vous pouvez placer la ligne :</p></div><div class="literalblock programlisting"><div class=content><pre>search foo.bar.edu bar.edu</pre></div></div><div class=paragraph><p>à la place de la précédente :</p></div><div class="literalblock programlisting"><div class=content><pre>domain foo.bar.edu</pre></div></div><div class=paragraph><p>dans votre fichier <a href=http://www.freebsd.org/cgi/man.cgi?resolv.conf>/etc/resolv.conf </a>. Quoiqu’il en soit, assurez vous que l’ordre de recherche ne vas pas en dehors des limites entre l’administration locale et publique, comme appelée dans la RFC 1535.</p></div></div><div class=sect2><h3 id=_permission_denied_pour_toutes_les_opérations_réseaux>10.21. Permission denied pour toutes les opérations réseaux.<a class=anchor href=#_permission_denied_pour_toutes_les_opérations_réseaux></a></h3><div class=paragraph><p>Si vous avez compilé votre noyau avc l’option <em>IPFIREWALL</em>, vous devez être prévenu, que la politique par défaut depuis le 2.1.7R (cela a changé durant le développement du 2.1-STABLE) est de refuser tous les paquets qui ne sont pas explicitement autorisés.</p></div><div class=paragraph><p>Si vous avez inintentionnellement mal configuré votre système pour le firewall, vous pouvez rétablir les fonctionnalité réseaux en tapant la commande suivante sous root :</p></div><div class="literalblock programlisting"><div class=content><pre>ipfw add 65534 allow all from any to any</pre></div></div><div class=paragraph><p>Vous pouvez aussi régler "firewall_type='open'" dans <em>/etc/rc.conf</em>.</p></div><div class=paragraph><p>Pour plus d’informations sur la configuration d’un firewall FreeBSD, voir la <a href=https://docs.freebsd.org/fr/books/handbook/firewalls#firewalls>section correspondante du handbook</a>.</p></div></div><div class=sect2><h3 id=_combien_doverhead_ipfw_implique_t_il>10.22. Combien d’overhead, IPFW implique-t-il ?<a class=anchor href=#_combien_doverhead_ipfw_implique_t_il></a></h3><div class=paragraph><p>La réponse à ceci dépend pour la plupart à votre ensemble de règle et à votre vitesse de processeur. Pour la plupart des applications utilisant ethernet et de petits ensembles de règles, la réponse est : négligeable. Pour tous ceux d’entre vous qui veulent des mesures actuelles pour satisfaire leur curiosité, continuez à lire :</p></div><div class=paragraph><p>Les mesures suivantes ont été réalisées en utilisant 2.2.5-STABLE sur un 486-66. IPFW a été modifié pour mesurer le temps écoulé par l’intermédiaire de la routine <em>ip_fw_chk</em> en affichant les résultats sur la console tous les 1000 paquets.</p></div><div class=paragraph><p>2 ensembles de règles, chacun avec 1000 règles ont été testés. Le premier ensemble a été conçu pour démontrer le scénario du pire des cas en répétant la règle :</p></div><div class="literalblock programlisting"><div class=content><pre>ipfw add deny tcp from any to any 55555</pre></div></div><div class=paragraph><p>Cela démontre le pire des cas en faisant que chaque paquet IPFW entraine l’exécution de la routine de vérification qui finallement décide que le paquet ne correspond pas aux règles (en vertu du numéro de port)? Apès la 999eme itération de cette règle, il y avait un <em>allow ip from any to any</em>.</p></div><div class=paragraph><p>Le second ensemble de règles a été conçu pour annuler la vérification de règle très rapidement :</p></div><div class="literalblock programlisting"><div class=content><pre>ipfw add deny ip from 1.2.3.4 to 1.2.3.4</pre></div></div><div class=paragraph><p>Les adresses IP des sources non correspondantes aux règles énoncées ci-dessus font que ces règles sont sautées très rapidement. Comme auparavant, la 1000eme règle était un <em>allow ip from any to any</em>.</p></div><div class=paragraph><p>L’étude par paquet dans le premier cas a été approximativement de 2.703ms/paquet, soit en gros 2.7 microseconds par règle . Ainsi, la limite théorique d’étude de paquet avec ces règles est de 370 paquets par secondes. En supposant un éthernet 10Mbps et des paquets d’environ 1500 bytes, nous ne pourrons être capable que d’obtenir une utilisation de la bande passante de 55.5%</p></div><div class=paragraph><p>Pour le dernier cas, chaque paquet a été étudié en approximativement 1.172ms, soit en gros 1.2 microseconds par règle. La limite théorique de l’étude des paquets ici, serait d’environ de 853 paquets par secondes, ce qui pourrait consommer une bande passante d’un éthernet 10Mbps.</p></div><div class=paragraph><p>Le nombre excessif de règle testés, et la nature de ces règles ne fournissent pas un scénario du monde réel — ils ont été utilisés que pour générer les informations de temps présentés ici.Voici certaines choses à garder à l’esprit pour construire un ensemble de règles efficaces :</p></div><div class=ulist><ul><li><p>Placer une règle d’établissement très tôt afin de pouvoir gérer la majorité du trafic TCP. Ne mettre aucun <em>allow tcp</em> avant cette règle.</p></li><li><p>Placer les règles souvent sollicitées le plus au début de l’ensemble des règles plutôt que celles rarement utilisées (<em>sans changer la permissivité du firewall _, bien sûr). Vous pourrez voir quels sont les règles les plus souvent utilisées en examinant les statistiques des comptages des paquets avec _ipfw -a l</em>.</p></li></ul></div></div><div class=sect2><h3 id=_comment_puis_je_rediriger_les_requêtes_de_services_dune_machine_vers_une_autre>10.23. Comment puis-je rediriger les requêtes de services d’une machine vers une autre ?<a class=anchor href=#_comment_puis_je_rediriger_les_requêtes_de_services_dune_machine_vers_une_autre></a></h3><div class=paragraph><p>Vous pouvez rediriger des requêtes FTP (et autre services) avec le paquetage 'socket', disponible dans l’arbre des ports dans la catégorie 'sysutils'. Remplacer simplement la ligne de commande de service pour appeler socket à la place, ainsi:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp stream tcp nowait nobody /usr/local/bin/socket socket ftp.foo.com ftp</pre></div></div><div class=paragraph><p>où 'ftp.foo.com' et 'ftp' sont les hôtes et les ports où se diriger respectivement.</p></div></div></div></div><div class=sect1><h2 id=_communications_par_port_série_mise_à_jour_en_cours>11. Communications par port série. <strong>Mise à jour en cours</strong><a class=anchor href=#_communications_par_port_série_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=paragraph><p>Cette section comporte les réponses aux différentes questions sur la communication par port série sur FreeBSD. Les protocoles PPP et SLIP sont couverts dans la section Réseaux.</p></div><div class=sect2><h3 id=_comment_savoir_si_freebsd_a_trouvé_mes_ports_séries>11.1. Comment savoir si FreeBSD a trouvé mes ports séries ?<a class=anchor href=#_comment_savoir_si_freebsd_a_trouvé_mes_ports_séries></a></h3><div class=paragraph><p>Lorsque FreeBSD démarre, il recherche les ports série sur votre machine qui sont configurés dans le noyau. Vous pouvez voir ces ports en regardant avec attention au moment du démarrage les messages affichés, ou en lançant la commande suivante:</p></div><div class="literalblock programlisting"><div class=content><pre>dmesg | grep sio</pre></div></div><div class=paragraph><p>Lorsque votre système a démarré. Voici quelques exemples de l’affichage de la commande précédente.</p></div><div class="literalblock programlisting"><div class=content><pre>sio0 at 0x3f8-0x3ff irq 4 on isa
sio0: type 16550A
sio1 at 0x2f8-0x2ff irq 3 on isa
sio1: type 16550A</pre></div></div><div class=paragraph><p>Vous voyez alors apparaitre deux ports série. Le premier se trouve à l’adresse <span class=filename>0x3f8</span> sur l’IRQ 4 et est composé d’une puce de type 16550A. Le second est de meme type que le premier, mais se trouve lui à l’adresse <span class=filename>0x2f8</span> sur l’IRQ 3. Les cartes modems internes sont traités comme des ports série — sauf qu’ils ont toujours un modem sur le port.</p></div><div class=paragraph><p>Le noyau <em>GENERIC</em> comprends le support pour deux ports série dont les adresses et les IRQ sont les memes que celles ci-dessus. Si ces valeurs ne vous conviennent pas, ou si vous avez des cartes modems additionnelles ou des cartes série, reconfigurez un noyau. Voyez la section sur la reconstruction d’un noyau pour plus de détails.</p></div></div><div class=sect2><h3 id=_comment_savoir_si_freebsd_a_trouvé_mes_cartes_modems>11.2. Comment savoir si FreeBSD a trouvé mes cartes modems<a class=anchor href=#_comment_savoir_si_freebsd_a_trouvé_mes_cartes_modems></a></h3><div class=paragraph><p>Référez vous à la section précédente</p></div></div><div class=sect2><h3 id=_je_viens_de_mettre_à_jour_ma_machine_en_2_0_5_et_mes_tty0x_ont_diparus>11.3. Je viens de mettre à jour ma machine en 2.0.5 et mes <em>tty0x</em> ont diparus !<a class=anchor href=#_je_viens_de_mettre_à_jour_ma_machine_en_2_0_5_et_mes_tty0x_ont_diparus></a></h3><div class=paragraph><p>Ne vous inquitez pas, ils sont été remplacés par les devices <em>ttydX</em>. Vous devrez donc changer toutes vos anciennes configurations pour utiliser ces devices.</p></div></div><div class=sect2><h3 id=_comment_accéder_aux_ports_série_sous_freebsd>11.4. Comment accéder aux ports série sous FreeBSD ?<a class=anchor href=#_comment_accéder_aux_ports_série_sous_freebsd></a></h3><div class=paragraph><p>Le troisième port série <a href=http://www.freebsd.org/cgi/man.cgi?sio>sio2 </a>(aussi appelé COM3 sous DOS), s’appelle _ /dev/cuaa2_ en sortie, et _ /dev/ttyd2 _ en entrée. Quelle est la différence entre ces deux classes de devices ?</p></div><div class=paragraph><p>Vous devez utiliser _ ttydX _ pour des appels sortants. Lorsque vous ouvrez _ /dev/ttydX _ en mode bloquant, un processus attend, sur le device _ cuaaX _ correspondant, qu’il soit inactif, et attends alors de détecter la porteuse sur la ligne. Lorsque vous ouvrez le port _ cuaaX _, un processus vérifie déjà que le port _ ttydX _ correspondant est disponible. Si le port est disponible, alors il se l’approprie depuis le port _ ttydX _. Le port _ cuaaXX _ ne tient pas compte de la détection de porteuse. Graçe a cette fonctionnalité et un modem, vous pouvez avoir des utilisateurs se logguant sur votre machine tout en vous laissant appeller via le meme modem, c’est le système qui se préocupera de gérer les conflits.</p></div></div><div class=sect2><h3 id=_comment_activer_le_support_pour_les_cartes_séries_multiports>11.5. Comment activer le support pour les cartes séries multiports<a class=anchor href=#_comment_activer_le_support_pour_les_cartes_séries_multiports></a></h3><div class=paragraph><p>Encore une fois, reportez vous à la section sur la configuration du noyau. Pour une carte série multiports placez une ligne <a href=http://www.freebsd.org/cgi/man.cgi?sio>sio</a> pour chaque port série de la carte dans le fichier de configuration du noyau. Ne mettez pour une valeur l’irq et le vecteur d’adresse de la carte. Tous les ports de la cartes doivent partager la même irq. Pour des raisons de cohérence, spécifiez l’irq pour le dernier port. N’oubliez pas d’ajouter l’option _ COM_MULTIPORT _.</p></div><div class=paragraph><p>L’example suivant correspond à une carte série 4ports AST sur l’irq 7</p></div><div class="literalblock programlisting"><div class=content><pre>options &#34;COM_MULTIPORT&#34;
device sio4 at isa? port 0x2a0 tty flags 0x781
device sio5 at isa? port 0x2a8 tty flags 0x781
device sio6 at isa? port 0x2b0 tty flags 0x781
device sio7 at isa? port 0x2b8 tty flags 0x781 irq 7 vector siointr</pre></div></div><div class=paragraph><p>Les drapeaux (flags) indiquent que le port maitre à un nombre mineur de 7 (<em>0x700</em>), que nous désirons afficher les diagnostics (<em>0x080</em>) et que tous les ports partagent la même irq (<em>0x001</em>).</p></div></div><div class=sect2><h3 id=_est_ce_que_freebsd_sait_gérer_les_cartes_séries_multiports_en_partageant_les_irq>11.6. Est-ce que FreeBSD sait gérer les cartes séries multiports en partageant les IRQ ?<a class=anchor href=#_est_ce_que_freebsd_sait_gérer_les_cartes_séries_multiports_en_partageant_les_irq></a></h3><div class=paragraph><p>Pas pour le moment. Vous devez utiliser une IRQ différente pour chaque carte.</p></div></div><div class=sect2><h3 id=_puis_je_définir_les_paramètres_par_défaut_de_la_liaison_série_pour_un_port>11.7. Puis-je définir les paramètres par défaut de la liaison série pour un port?<a class=anchor href=#_puis_je_définir_les_paramètres_par_défaut_de_la_liaison_série_pour_un_port></a></h3><div class=paragraph><p>Les périphériques _ ttydX _ (ou <em>cuaaX</em>) sont des périphériques normaux que vous pouvez ouvrir dans vos applications. Lorsqu’un processus ouvre le périphérique, il utilise les paramètres par défaut d’entrées sorties de terminal. Vous pouvez voir ces paramètres en utilisant la commande:</p></div><div class="literalblock programlisting"><div class=content><pre>stty -a -f /dev/ttyd1</pre></div></div><div class=paragraph><p>Lorsque vous changez les paramètres du périphérique, ces paramètres sont effectifs jusqu’au moment ou vous arreterez de vous servir de ce périphérique. S’il est ouvert de nouveau, il reprendra les paramètres par défaut. Pour changer les paramètres par défaut , vous devez ouvrir le périphérique et changer les paramètres de l’état initial du périphérique. Par exemple pour définit un mode <em>LOCAL</em>, 8 bits et un controle de flux _ XON/XOFF _ par défaut sur le ttyd5, voud devez :</p></div><div class="literalblock programlisting"><div class=content><pre>stty -f /dev/ttyd5 clocal cs8 ixon ixoff</pre></div></div><div class=paragraph><p>Le mailleur endroit pour effectuer ceci est le fichier de démarrage <span class=filename>/etc/rc.serial</span>. Maintenant lorsqu’une application ovrira _ ttyd5_ elle obtiendra les valeurs ci-dessus.</p></div><div class=paragraph><p>Vous pouvez empecher certaines valeurs d’etre modifiées en utilisant le fonction de lock du périphérique. Par exemple pour forcer la vitesse à 57600bauds sur _ ttyd5 _:</p></div><div class="literalblock programlisting"><div class=content><pre>stty -f /dev/ttyd5 57600</pre></div></div><div class=paragraph><p>Maintenant lorsqu’un programme ouvrira <em>ttyd5</em> et tentera de changer la vitesse du port, il obtiendra toujours 57600 bauds.</p></div><div class=paragraph><p>Bien sur, vous devez laisser la possibilité de changer les états initiaux et de lock que pour l’utilisateur root. Le script <a href=http://www.freebsd.org/cgi/man.cgi?MAKEDEV>MAKEDEV </a>_ ne le fait pas _ par défaut lorsqu’il crée les noeuds.</p></div></div><div class=sect2><h3 id=_comment_mettre_en_place_un_login_dialup_sur_mon_modem>11.8. Comment mettre en place un login dialup sur mon modem?<a class=anchor href=#_comment_mettre_en_place_un_login_dialup_sur_mon_modem></a></h3><div class=paragraph><p>Vous voulez devenir fournisseur d’accès à l’Internet ? Pour commencer vous devez disposer de plus d’un modem pouvant répondre automatiquement. Votre modem doit pouvoir detecter une émission de porteuse lorsque qu’elle se présente et ne doit pas en détecter constemment. Il doit aussi etre capable de racrocher la ligne lorsqu’il détecte le passage de 1 à 0 du signal <em>DTR</em>. Il doit aussi utiliser un controle de flux de type _ RTS/CTS _ ou aucun controle de flus. Enfin, il doit etre capable de négocier la vitesse de transmission entre lui-même et le modem distant tout en gardant une vitesse constante vis à vis de l’ordinateur.</p></div><div class=paragraph><p>Pour la plupart des modems comprennant les commande Hayes, cette commande met en place les bonnes valeurs et les enregistre en mémoire morte:</p></div><div class="literalblock programlisting"><div class=content><pre>AT &amp;C1 &amp;D3 &amp;K3 &amp;Q6 S0=1 &amp;W</pre></div></div><div class=paragraph><p>Voyez la section sur l’envoi direct de commandes AT, pour savoir comment les mettre en place sans avoir besoin de lancer un émulateur de terminal sous MS-DOS.</p></div><div class=paragraph><p>Ensuite créez une entrée dans <a href=http://www.freebsd.org/cgi/man.cgi?ttys>/etc/ttys </a>pour le modem. Ce fichier comporte tous les ports sur lesquels le système d’exploitation attend des commandes de login. Ajoutez une ligne ressemblant à celle ci:</p></div><div class="literalblock programlisting"><div class=content><pre> ttyd1 &#34;/usr/libexec/getty std.57600&#34; dialup on insecure</pre></div></div><div class=paragraph><p>Cette ligne indique que sur le deuxième port série (<em>/dev/ttyd1</em>) est attaché un modem dialoguant à 57600 bauds sans parité (<em>std.57600</em>) se trouvant dans le fichier <a href=http://www.freebsd.org/cgi/man.cgi?gettytab>/etc/gettytab </a>). Le type de terminal est dialup. Le port est on et insecure — ce qui veut dire que les logins sous root ne sont pas autorisés sur ce port. Pour utiliser d’autres ports en entrée, utilisez les autres entrées _ ttydX _.</p></div><div class=paragraph><p>Il est d’usage courant d’utiliser dialup comme type de terminal. Beaucoup d’utilisateurs affichent un prompt dans leur .profile ou .login si le type de terminal est dialup. L’exemple ci-dessus affecte au port le mode insecure. Pour passer root, vous devez donc vous logguer en temps qu’utilisateur ordinaire et utiliser la commande <a href=http://www.freebsd.org/cgi/man.cgi?su>su </a>pour devenir <em>root</em>. Si vous définissez le port en tant que secure, alors vous pourrez vous logguer sous _root _ directement.</p></div><div class=paragraph><p>Après avoir effectué les modifications au fichier <a href=http://www.freebsd.org/cgi/man.cgi?ttys>/etc/ttys </a>, vous devez envoyer un signal _ HUP _ au processus <a href=http://www.freebsd.org/cgi/man.cgi?init>init</a></p></div><div class="literalblock programlisting"><div class=content><pre> kill -HUP 1</pre></div></div><div class=paragraph><p>Cela force le processus init à relire le fichier <a href=http://www.freebsd.org/cgi/man.cgi?ttys>/etc/ttys</a>. Le processus init démarrera donc des processus getty sur tous les ports marqués comme "on". Vous pouvez alors vérifiez que le login est possible sur le port en tapant :</p></div><div class="literalblock programlisting"><div class=content><pre>ps -ax | grep &#39;[t]tyd1&#39;</pre></div></div><div class=paragraph><p>Et vous devez voir apparaitre quelque chose comme ceci:</p></div><div class="literalblock programlisting"><div class=content><pre>747 ??  I      0:00.04 /usr/libexec/getty std.57600 ttyd1</pre></div></div></div><div class=sect2><h3 id=_comment_connecter_un_terminal_sur_mon_système_freebsd>11.9. Comment connecter un terminal sur mon système FreeBSD?<a class=anchor href=#_comment_connecter_un_terminal_sur_mon_système_freebsd></a></h3><div class=paragraph><p>Si vous utilisez un autre ordinateur en tant que terminal, vous devez vous procurer un cable null modem pour relier les deux ports série. Si vous utilisez un vrai terminal (de type WYSE-50), suivez les instructions du manuel</p></div><div class=paragraph><p>Ensuite, modifez <a href=http://www.freebsd.org/cgi/man.cgi?ttys>/etc/ttys</a> comme expliqué à la section précedente. Par exemple, pour un terminal WYSE-50 connecté sur le 5ème port série, utilisez une entrée ressemblant à la suivante:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyd4 &#34;/usr/libexec/getty std.38400&#34; wyse50 on secure</pre></div></div><div class=paragraph><p>Cet exemple assume que le port <span class=filename>/dev/ttyd4</span> est connecté sur un terminal wyse50 à la vitesse de 38400 bauds sans parité (<em>std.38400</em> se trouvant dans le fichier <a href=http://www.freebsd.org/cgi/man.cgi?gettytab>/etc/gettytab</a>) et les logins root sont permis (mot clé secure)</p></div></div><div class=sect2><h3 id=_pourquoi_ne_puis_je_pas_executer_tip_ou_cu>11.10. Pourquoi ne puis-je pas executer <span class=filename>tip</span> ou <span class=filename>cu</span>?<a class=anchor href=#_pourquoi_ne_puis_je_pas_executer_tip_ou_cu></a></h3><div class=paragraph><p>Sur votre système, les programmes <a href=http://www.freebsd.org/cgi/man.cgi?tip>tip</a> et <a href=http://www.freebsd.org/cgi/man.cgi?cu>cu</a> ne sont probablement executable que par l’utilisateur <a href=http://www.freebsd.org/cgi/man.cgi?uucp>uucp</a> et par le groupe <span class=filename>dialer</span>. Le groupe <span class=filename>dialer</span> vous permet de controler qui a accès à votre modem ainsi qu’aux systèmes distants. Ajoutez vous dans ce groupe pour pouvoir utiliser ces commandes.</p></div><div class=paragraph><p>Sinon, vous pouvez autoriser tous les utilisateurs de votre système à utiliser les programmes <span class=filename>tip</span> et <span class=filename>cu</span> en tapant:</p></div><div class="literalblock programlisting"><div class=content><pre># chmod 4511 /usr/bin/cu
# chmod 4511 /usr/bin/tip</pre></div></div></div><div class=sect2><h3 id=_mon_modem_hayes_nest_pas_supporté_que_dois_je_faire>11.11. Mon modem Hayes n’est pas supporté; que dois-je faire ?<a class=anchor href=#_mon_modem_hayes_nest_pas_supporté_que_dois_je_faire></a></h3><div class=paragraph><p>Pour l’instant la page de manuel de <a href=http://www.freebsd.org/cgi/man.cgi?tip>tip</a> n’est pas à jour. Il existe un support générique des commandes Hayes intégré dans le programme. Il suffit de mettre la ligne suivante <span class=filename>ar=hayes</span> dans votre fichier <a href=http://www.freebsd.org/cgi/man.cgi?remote>/etc/remote</a></p></div><div class=paragraph><p>Le gestionnaire Hayes ne sait pas reconnaitre les fonctions avancées des nouveaux modems. Des messages comme <span class=filename>BUSY, NO DIALTONE, CONNECT 115200</span> ne sont pas reconnus. Vous devez absolument désactiver ces messages lorsque vous utilisez <a href=http://www.freebsd.org/cgi/man.cgi?tip>tip</a> (en tapant <span class=filename>ATX0&amp;W</span>).</p></div><div class=paragraph><p>De plus le timeout de <span class=filename>tip</span> est de 60 secondes. Votre modem doit absolument utiliser une valeur plus faible, sinon <span class=filename>tip</span> pensera qu’il y a un problème de communication. Essayez la commande <span class=filename>ATS7=45&amp;W</span></p></div><div class=paragraph><p>Le version de <span class=filename>tip</span> livrée ne comporte pas toutes ces fonctionnalités. La solution est d’éditer le fichier <span class=filename>tipconf.h</span> se trouvant dans le répertoire <span class=filename>/usr/src/usr.bin/tip/tip</span>. Bien sur cela nécessite que vous ayez installé les sources.</p></div><div class=paragraph><p>Remplacez alors la ligne <span class=filename>define HAYES0</span> par <span class=filename>define HAYES 1</span>. Puis tapez <span class=filename>make</span> et <span class=filename>make install</span>. Tout doit marcher correctement après cela.</p></div></div><div class=sect2><h3 id=_comment_faire_pour_entrer_certaines_commandes_at>11.12. Comment faire pour entrer certaines commandes AT ?<a class=anchor href=#_comment_faire_pour_entrer_certaines_commandes_at></a></h3><div class=paragraph><p>Créez une entrée de type <span class=filename>direct</span> dans votre fichier <a href=http://www.freebsd.org/cgi/man.cgi?remote>/etc/remote</a>. Par exemple, si votre modem est attaché sur le premier port série, <span class=filename>/dev/cuaa0</span>, ajoutez la ligne suivante:</p></div><div class="literalblock programlisting"><div class=content><pre>cuaa0:dv=/dev/cuaa0:br#19200:pa=none</pre></div></div><div class=paragraph><p>Utilisez le taux maximum, de transfert de votre modem, pour la fonctionnalitée br. Ensuite tapez <a href=http://www.freebsd.org/cgi/man.cgi?tip>tip cuaa0</a> et vous serez alors connecté sur votre modem.</p></div><div class=paragraph><p>S’il n’existe pas de fichier <span class=filename>/dev/cuaa0</span> sur votre système, executez la commande suivante:</p></div><div class="literalblock programlisting"><div class=content><pre># cd /dev
# ./MAKEDEV cuaa0</pre></div></div><div class=paragraph><p>Sinon utilisez la commande <span class=filename>cu</span> sous root de la façon suivante.</p></div><div class="literalblock programlisting"><div class=content><pre># cu -l``port&#39;&#39; -s``vitesse&#39;&#39;</pre></div></div><div class=paragraph><p>Avec "port" le nom du port série(ex: <span class=filename>/dev/cuaa0</span>) et "vitesse"(la vitesse maximum de votre modem)(ex: <span class=filename>57600</span>). Lorsque vous avez entrer les commandes AT apropriées, tapez <span class=filename>~.</span> pour quitter</p></div></div><div class=sect2><h3 id=_le_symbole_pour_la_fonctionnalité_pn_ne_marche_pas>11.13. Le symbole <span class=filename>@</span> pour la fonctionnalité pn ne marche pas!<a class=anchor href=#_le_symbole_pour_la_fonctionnalité_pn_ne_marche_pas></a></h3><div class=paragraph><p>Le symbole <span class=filename>@</span> dans le numéro de téléphone demande à <span class=filename>tip</span> de regarder dans le fichier <a href=http://www.freebsd.org/cgi/man.cgi?phones(5)>/etc/phones </a>pour trouver le numéro aproprié. Mais le symbole <span class=filename>@</span> est aussi un caractère spécial pour le fichier <a href=http://www.freebsd.org/cgi/man.cgi?remote>/etc/remote</a>. Mettez un backslash devant pour qu’il soit correctement interprété.</p></div><div class="literalblock programlisting"><div class=content><pre>pn=\@</pre></div></div></div><div class=sect2><h3 id=_comment_composer_un_numéro_de_téléphone_depuis_la_ligne_de_commande>11.14. Comment composer un numéro de téléphone depuis la ligne de commande?<a class=anchor href=#_comment_composer_un_numéro_de_téléphone_depuis_la_ligne_de_commande></a></h3><div class=paragraph><p>Mettez une ligne "<span class=filename>generic</span>" dans le fichier <a href=http://www.freebsd.org/cgi/man.cgi?remote>/etc/remote</a>. Par exemple:</p></div><div class="literalblock programlisting"><div class=content><pre>tip115200|Dial any phone number at 115200 bps:\
  :dv=/dev/cuaa0:br#115200:at=hayes:pa=none:du:
tip57600|Dial any phone number at 57600 bps:\
  :dv=/dev/cuaa0:br#57600:at=hayes:pa=none:du:</pre></div></div><div class=paragraph><p>Vous pourrez alors utilisez la commande suivante "<span class=filename>tip -115200 5551234</span>". Si vous préferez <a href=http://www.freebsd.org/cgi/man.cgi?cu>cu</a> à <a href=http://www.freebsd.org/cgi/man.cgi?tip>tip</a>, utilisez une ligne générique pour cu:</p></div><div class="literalblock programlisting"><div class=content><pre>cu115200|Use cu to dial any number at 115200bps:\
  :dv=/dev/cuaa1:br#57600:at=hayes:pa=none:du:</pre></div></div><div class=paragraph><p>et utilisez la commande "<span class=filename>cu 5551234 -s 115200</span>".</p></div></div><div class=sect2><h3 id=_dois_je_spécifier_la_vitesse_en_bauds_à_chaque_connexion>11.15. Dois-je spécifier la vitesse en bauds à chaque connexion<a class=anchor href=#_dois_je_spécifier_la_vitesse_en_bauds_à_chaque_connexion></a></h3><div class=paragraph><p>Mettez une ligne <span class=filename>tip1200</span> ou <span class=filename>cu1200</span>, mais mettez la vitesse que vous voulez pour la fonctionnalité br.http://www.freebsd.org/cgi/man.cgi?tip[tip] pense que la vitesse par défaut est de 1200 bauds, donc il cherche une entrée "<span class=filename>tip1200</span>". Bien sur, vous n’etes pas obligez d’utiliser cette vitesse.</p></div></div><div class=sect2><h3 id=_jai_accès_à_plusieurs_machines_depuis_mon_serveur_de_terminal>11.16. J’ai accès à plusieurs machines depuis mon serveur de terminal<a class=anchor href=#_jai_accès_à_plusieurs_machines_depuis_mon_serveur_de_terminal></a></h3><div class=paragraph><p>Plutot que d’attendre d’etre connecté et de taper la commande <span class=filename>CONNECT &lt;host></span> chaque fois, utilisez la fonctionnalité <span class=filename>cm</span> de tip. Voyez, par exemple, les entrèes suivantes du fichier <a href=http://www.freebsd.org/cgi/man.cgi?remote>/etc/remote</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>pain|pain.deep13.com|Forrester&#39;s machine:\
  :cm=CONNECT pain\n:tc=deep13:
muffin|muffin.deep13.com|Frank&#39;s machine:\
  :cm=CONNECT muffin\n:tc=deep13:
deep13:Gizmonics Institute terminal server:\
  :dv=/dev/cua02:br#38400:at=hayes:du:pa=none:pn=5551234:</pre></div></div><div class=paragraph><p>Cela vous permet de taper directement <span class=filename>tip
pain</span> ou <span class=filename>tip muffin</span> pour vous connectez sur les machines pain ou muffin, et <span class=filename>tip deep13</span> pour accéder au serveur de terminaux.</p></div></div><div class=sect2><h3 id=_est_ce_que_tip_peut_utiliser_plusieurs_numéros_de_téléphones_pour_se_connecter_à_un_site>11.17. Est-ce que tip peut utiliser plusieurs numéros de téléphones pour se connecter à un site?<a class=anchor href=#_est_ce_que_tip_peut_utiliser_plusieurs_numéros_de_téléphones_pour_se_connecter_à_un_site></a></h3><div class=paragraph><p>C’est un problème courant lorsqu’une université a plusieurs lignes pour les modems et plusieurs milliers d’étudiants qui les utilisent.</p></div><div class=paragraph><p>Créez une ligne pour votre université dans le fichier <a href=http://www.freebsd.org/cgi/man.cgi?remote>/etc/remote</a> et utilisez <span class=filename>\@</span> comme valeur pour la fonctionnalité <span class=filename>pn</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>big-university:\
  :pn=\@:tc=dialout
dialout:\
  :dv=/dev/cuaa3:br#9600:at=courier:du:pa=none:</pre></div></div><div class=paragraph><p>Ensuite listez tous les numéros de téléphones de l’université dans le fichier <a href=http://www.freebsd.org/cgi/man.cgi?phones>/etc/phones</a></p></div><div class="literalblock programlisting"><div class=content><pre>big-university 5551111
big-university 5551112
big-university 5551113
big-university 5551114</pre></div></div><div class=paragraph><p><a href=http://www.freebsd.org/cgi/man.cgi?tip>tip</a> essaiera alors tous les numéros de téléphones dans l’ordre de la liste puis s’arretera. Si vous voulez qu’il réessaye à l’infini, lancez <span class=filename>tip</span> dans une boucle sans fin</p></div></div><div class=sect2><h3 id=_pourquoi_dois_je_appuyer_deux_fois_sur_ctrlp_pour_envoyer_un_crtlp>11.18. Pourquoi dois-je appuyer deux fois sur CTRL+P pour envoyer un CRTL+P?<a class=anchor href=#_pourquoi_dois_je_appuyer_deux_fois_sur_ctrlp_pour_envoyer_un_crtlp></a></h3><div class=paragraph><p>CTRL+P est le caractère par défaut pour <a href=http://www.freebsd.org/cgi/man.cgi?tip>tip</a>, pour lui dire que le caractère suivant est une donnée brute. Vous pouvez changez ce caractère en n’importe quel autre en utilisant la séquence d’échappement <span class=filename>~s</span>, qui équivaut à "set a variable".</p></div><div class=paragraph><p>Tapez "<span class=filename>~sforce=&lt;single-char></span>" suivit d’un saut de ligne. <span class=filename>&lt;single-char></span> correspondant à un simple caractère.Si vous laissez <span class=filename>&lt;single-char></span> vide, alors le caractère de force est le caractère nul, que vous pouvez obtenir par CTRL+2 ou CTRL+SPACE. La meilleur valeur pour ce caractère est SHIFT+CTRL+6, que je n’ai vu que utilisé que sur peu de terminaux.</p></div><div class=paragraph><p>Vous pouvez affecter la valeur que vous voulez pour ce caractère en le spécifiant dans le fichier <span class=filename>$HOME/.tiprc</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>force=&lt;single-char&gt;</pre></div></div></div><div class=sect2><h3 id=_tout_dun_coup_tout_ce_que_je_tape_est_en_majuscule>11.19. Tout d’un coup, tout ce que je tape est en majuscule?<a class=anchor href=#_tout_dun_coup_tout_ce_que_je_tape_est_en_majuscule></a></h3><div class=paragraph><p>Vous devez avoir pressé CTRL+A, le caractère raise de <a href=http://www.freebsd.org/cgi/man.cgi?tip>tip</a>, spécialement concus pour les gens n’ayant pas de caps-lock. Utilisez comme auparavant, <span class=filename>~s</span>, et fixez la variable "raisechar" a une valeur plus raisonnable. En fait, vous pouvez le mettre à la meme valeur que le caractère de force, si vous ne désirez jamais utiliser ces fonctionnalités.</p></div><div class=paragraph><p>Voici un exemple de fichier <span class=filename>.tiprc</span> pour les utilisateurs d’Emacs qui utilisent beaucoup CTRL+2 et CTRL+A:</p></div><div class="literalblock programlisting"><div class=content><pre>force=^^
raisechar=^^</pre></div></div><div class=paragraph><p>Le caractère <span class=filename>^^</span> correspond à SHIFT+CTRL+6.</p></div></div><div class=sect2><h3 id=_comment_effectuer_des_transferts_de_fichiers_en_utilisant_tip>11.20. Comment effectuer des transferts de fichiers en utilisant <span class=filename>tip</span>?<a class=anchor href=#_comment_effectuer_des_transferts_de_fichiers_en_utilisant_tip></a></h3><div class=paragraph><p>Si vous dialoguez avec un autre système UNIX, vous pouvez envoyer et recevoir des fichiers en utilisant la commande <span class=filename>~p</span>(put) et <span class=filename>~t</span>(take). Ces commandes utilisent les commandes <a href=http://www.freebsd.org/cgi/man.cgi?cat>cat</a> et <a href=http://www.freebsd.org/cgi/man.cgi?echo>echo</a> sur le système distant pour recevoir et envoyer les fichiers. La syntaxe de ces commandes est:</p></div><div class="literalblock programlisting"><div class=content><pre>~p &lt;fichier-local&gt; [&lt;fichier-distant&gt;]
~t &lt;fichier-distant&gt; [&lt;fichier-local&gt;]</pre></div></div><div class=paragraph><p>Il n’y a aucun controle d’erreur, donc il vaut mieux utiliser un autre protocol comme zmodem.</p></div></div><div class=sect2><h3 id=_comment_dialoguer_en_zmodem_avec_tip>11.21. Comment dialoguer en zmodem avec <span class=filename>tip</span>?<a class=anchor href=#_comment_dialoguer_en_zmodem_avec_tip></a></h3><div class=paragraph><p>Il faut, pour commencer, installer un des programmes zmodem depuis les ports(un de ceux de la catégorie comms <a href=http://www.freebsd.org/cgi/ports.cgi?^lrzsz>lrzsz</a> ou <a href=http://www.freebsd.org/cgi/ports.cgi?^rzsz>rzsz</a>).</p></div><div class=paragraph><p>Pour recevoir un fichier, démarrez le programme d’envoi des données sur le système distant. Ensuite pressez entrée puis tapez "<span class=filename>~C rz</span>" (ou "<span class=filename>~C lrz</span>" si vous avez installé lrzsz) pour recevoir le fichier.</p></div><div class=paragraph><p>Pour envoyer des fichiers, démarrez le programme de réception sur le système distant. Ensuite tapez entrée et tapez "<span class=filename>~C sz &lt;files></span>"(ou "<span class=filename>~C lsz &lt;files></span>") pour envoyer le fichier.</p></div></div><div class=sect2><h3 id=_freebsd_ne_trouve_pas_mes_ports_séries_même_avec_les_bonnes_valeurs_de_configuration>11.22. FreeBSD ne trouve pas mes ports séries, même avec les bonnes valeurs de configuration .<a class=anchor href=#_freebsd_ne_trouve_pas_mes_ports_séries_même_avec_les_bonnes_valeurs_de_configuration></a></h3><div class=paragraph><p>Certaines cartes mères et les cartes comportant des Composants UART Acer, ne sont pas reconnues correctement par le programme de détection de FreeBSD. Un patch est disponible à <a href=http://www.lemis.com/serial-port-patch.html>www.lemis.com </a>pour résoudre votre problème.</p></div></div></div></div><div class=sect1><h2 id=_questions_diverses_mise_à_jour_en_cours>12. Questions diverses. <strong>Mise à jour en cours</strong><a class=anchor href=#_questions_diverses_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_freebsd_utilise_beaucoup_plus_despace_swap_que_linux_pourquoi>12.1. FreeBSD utilise beaucoup plus d’espace swap que Linux. pourquoi ?<a class=anchor href=#_freebsd_utilise_beaucoup_plus_despace_swap_que_linux_pourquoi></a></h3><div class=paragraph><p>Non. Vous voulez peut-être dire "pourquoi mon swap semble être plein ?". Si cela est vraiment ce que vous voulez dire, c’est en fait parce que mettre les choses dans le swap plutôt que les mettre de côté rend toujours plus facile sa récupération que si le pager devait aller chercher à travers tout le système de fichier afin de récupérer des blocs propres (non modifié) d’un exécutable.</p></div><div class=paragraph><p>La quantité actuelle de pages "sales" que vous pouvez avoir dans le noyau en même temps n’est pas réduit, les pages propres sont déplacées si nécessaires.</p></div></div><div class=sect2><h3 id=_pourquoi_utiliser_quest_ce_a_out_et_les_formats_exécutables_elf>12.2. Pourquoi utiliser (qu’est-ce) a.out et les formats exécutables ELF ?<a class=anchor href=#_pourquoi_utiliser_quest_ce_a_out_et_les_formats_exécutables_elf></a></h3><div class=paragraph><p>Afin de comprendre pourquoi FreeBSD utilise le format <em>a.out</em>, vous devez d’abord savoir quelques trucs sur les 3 formats exécutables courant "dominants" pour UNIX :</p></div><div class=ulist><ul><li><p><a href=http://www.freebsd.org/cgi/man.cgi?a.out(5)>a.out </a>Le vieux et classique format des objets unix. Il utilise un court et compact en-tête avec un nombre magique au début, qui est souvent utilisé pour caractériser le format (voir <a href=http://www.freebsd.org/cgi/man.cgi?a.out(5)>a.out(5)</a> pour plus de détails). Il contient trois segments chargés : .text, .data, et .bss plus une table de symboles et une table de chaînes.</p></li><li><p><em>COFF</em> Le formats des objets SVR3. L’en-tête comprend une table de section, de telle sorte que vous avez plus de sections que juste .text, .data, et .bss.</p></li><li><p><em>ELF</em> Le successeur de <em>COFF</em>, qui permet des sections multiples et des valeurs possibles de 32 bits et 64 bits. Un inconvénient majeur : <em>ELF</em> a aussi été conçu en supposant le fait qu’il y qu’un seul ABI par architecture système. Cette hypothèse est assez incorrecte, et même dans le monde SYSV (qui a au moins 2 ABIs : SVR4, Solaris, SCO) cela ne se vérifie pas.</p><div class=paragraph><p>FreeBSD essaye de contourner ce problème en fournissant un utilitaire pour <em>marquer</em> un exécutable connu <em>ELF</em> avec des informations sur l’ABI qui va avec. Regardez la page de manuel pour <a href=http://www.freebsd.org/cgi/man.cgi?brandelf>brandelf</a> pour plus d’informations.</p></div></li></ul></div><div class=paragraph><p>FreeBSD vient du camp "classique" et utilise traditionnellement le format <a href=http://www.freebsd.org/cgi/man.cgi?a.out(5)>a.out</a>, une technologie esssayée et éprouvée à travers des générations de releases BSD. Bien qu’il a aussi été quelques fois possible de construire et de lancer des binaires natifs <em>ELF</em> (et noyau) sur un système FreeBSD, FreeBSD a initiallement résisté à la "pression" de passer à <em>ELF</em> comme format par défaut. Pourquoi ? Bien, quand le camp Linux ont fait leur difficile transition vers <em>ELF</em>, il ne suffisait pas de fuir le format exécutable <em>a.out</em>. mais leur mécanisme de librairies partagées basé sur des table de sauts inflexible ce qui rendait la construction de librairies partagées difficiles pour les vendeurs et développeurs. Depuis comme les outils <em>ELF</em> offrent une solution au problème des librairies partagées et semblent en général perçus comme "la voie du progrès" de toute façon, le coût de migration a été entendu comme nécessaire, et la transition a été réalisée.</p></div><div class=paragraph><p>Dans le cas FreeBSD, notre mécanisme de librairie partagée se rapproche plus des style de mécanisme de librairie partagée des <em>SunOS</em> de Sun, et de la sorte, est très simple à utiliser. Quoiqu’il en soit, à partir de 3.0, FreeBSD supportera officiellement les binaires <em>ELF</em> comme format par défaut. Même si les formats exécutables <em>a.out</em> nous ont beaucoup servis, les gens du GNU auteurs des outils de compilation que nous utilisons ont arrêté leur supports pour le format <em>a.out</em>. Cela nous a forcé à maintenir des versions divergentes du compilateur et de l’éditeur de liens, et nous a empêché de bénéficier des derniers efforts du développement GNU. Et puis, les demandes de ISO-C++, notemment pour les constructeurs et les destructeurs, nous ont aussi conduit à supporter de l' <em>ELF</em> natif pour les futures release de FreeBSD.</p></div></div><div class=sect2><h3 id=_pourquoi_chmod_ne_veulent_pas_changer_les_permissions_sur_les_liens_symboliques>12.3. Pourquoi chmod ne veulent pas changer les permissions sur les liens symboliques ?<a class=anchor href=#_pourquoi_chmod_ne_veulent_pas_changer_les_permissions_sur_les_liens_symboliques></a></h3><div class=paragraph><p>Vous devez utiliser soit <em>-H</em> ou <em>-L</em> ensemble avec l’option <em>-R</em> pour que cela marche. Regardez les pages de manuels de <a href=http://www.freebsd.org/cgi/man.cgi?chmod>chmod</a> et <a href=http://www.freebsd.org/cgi/man.cgi?symlink>symlink</a>.</p></div><div class=paragraph><p><em>ATTENTION</em> l’option <em>-R</em> fait un chmod <em>RECURSIF__chmod</em>. Faites attention en spécifiant le répertoire ou les liens symboliques vers les repertoires où vous lancerez <em>chmod</em>. Si vous voulez changer les permissions d’un répertoire référencé par un symlink, utiliser <a href=http://www.freebsd.org/cgi/man.cgi?chmod>chmod</a> sans aucune option et suivre le lien symbolique avec un slash final (<em>/</em>). Par exemple, si <em>foo</em> est un lien symbolique vers le répertoire <em>bar</em>, et que vous voulez changer les permissions de <em>foo</em> (actuellement <em>bar</em>), vous devrez sans doute faire quelque chose comme :</p></div><div class="literalblock programlisting"><div class=content><pre>chmod 555 foo/</pre></div></div><div class=paragraph><p>Avec un slash final, <a href=http://www.freebsd.org/cgi/man.cgi?chmod>chmod</a> suivra le lien symbolique, <em>foo</em>, pour changer les droits sur le répertoire <em>bar</em>.</p></div></div><div class=sect2><h3 id=_pourquoi_les_noms_de_logins_sont_encore_restreints_à_8_caractères>12.4. Pourquoi les noms de logins sont <em>encore</em> restreints à 8 caractères ?<a class=anchor href=#_pourquoi_les_noms_de_logins_sont_encore_restreints_à_8_caractères></a></h3><div class=paragraph><p>Vous pouvez penser qu’il est assez simple de changer <em>UT_NAMESIZE</em> et de reconstruire tout le monde, et que tout marcherait. Malheureusement, il y a souvent une escouade d’applications et d’utilitaires (y compris les outils systèmes) qui ont codé en dur les petits nombres (pas toujours "8" ou "9", mais d’autres plus étranges comme "15" ou "20") dans les structures et les buffers. Non seulement cela vous donnera des fichiers logs qui seront altérés (à cause des longueurs des variables enregistrés là où des enregistrement de taille fixées sont attendus), mais cela peut planter les clients NIS de Sun, et potentiellement causer d’autres problèmes lors de l’interaction avec d’autres systèmes UNIX.</p></div><div class=paragraph><p>Dans FreeBSD 3.0 et plus, la longueur maximale des noms a été augmentée à 16 caractères et tous ces divers utilitaires avec des tailles de noms codés en dur ont été trouvés et corrigés. Le fait que cela touche tant de domaines du système explique en fait pourquoi le changement n’a pas été fait avant la 3.0.</p></div><div class=paragraph><p>Si vous êtes absolument confiant dans votre habileté à trouver et à corriger ces sortes de problèmes par vous-même quand ils arrivent, vous pouvez augmenter la taille des noms de login dans les releases précédentes en éditant /usr/include/utmp.h et en changeant en fonction de la taille que vous voulez donner, la variable UT_NAMESIZE. Vous devez aussi mettre à jour la variable MAXLOGNAME dans /usr/include/sys/param.h pour correspondre au changement de UT_NAMESIZE. Au final, si vous construisez depuis les sources, n’oubliez pas que /usr/include est mis à jour à chaque fois ! Changer les fichiers appropriés dans /usr/src/…​ à la place.</p></div></div><div class=sect2><h3 id=_puis_je_lancer_des_binaires_dos_sous_freebsd>12.5. Puis-je lancer des binaires DOS sous FreeBSD?<a class=anchor href=#_puis_je_lancer_des_binaires_dos_sous_freebsd></a></h3><div class=paragraph><p>Oui, à partir de la version 3.0, vous pouvez utiliser <em>rundos</em> l’émulateur DOS de BSDI, qui a été intégré et perfectionné. Envoyez un courrier électronique à <a href=mailto:freebsd-emulation@freebsd.org>la liste de discussion sur les émulations de FreeBSD</a> si cela vous interesse de vous joindre à cet effort en progression.</p></div><div class=paragraph><p>Pour les systèmes pre-3.0, il y a un bel utiltaire appelé <a href=http://www.freebsd.org/cgi/ports.cgi?^pcemu>pcemu</a> dans la collection de pports, qui émule un 8088 et assez de services BIOS pour pouvoir lancer des applications DOS en mode texte. Cela requiert le système X Windows (fourni comme XFree86).</p></div></div><div class=sect2><h3 id=_quest_ce_sup_et_comment_lutilise_je>12.6. Qu’est ce <em>sup</em>, et comment l’utilise je ?<a class=anchor href=#_quest_ce_sup_et_comment_lutilise_je></a></h3><div class=paragraph><p><a href=http://www.freebsd.org/cgi/ports.cgi?^sup>SUP</a> veut dire Software Update Protocol, et a été développé par CMU pour pouvoir synchroniser leurs arbres de développement. Nous l’utilisons pour garder les sites distants en synchronisation avec nos sources centraux de développement</p></div><div class=paragraph><p>SUP n’est pas très ami avec la bande passante et a été retiré. La méthode actuelle recommandé pour pouvoir garder vos sources à jour est <a href=https://docs.freebsd.org/fr/books/handbook/updating-upgrading#synching>Handbook entry on CVSup</a></p></div></div><div class=sect2><h3 id=_jusquà_quel_point_freebsd_est_il_cool>12.7. Jusqu’à quel point FreeBSD est-il cool ?<a class=anchor href=#_jusquà_quel_point_freebsd_est_il_cool></a></h3><div class="qlist qanda"><ol><li><p><em>Quelqu’un a-t-il déjà fait des tests de température de FreeBSD ? Je sais que Linux tourne moins chaudement que DOS, mais je n’ai jamais vu aucune mention sur FreeBSD. Ca semble tourner vraiment très chaudement</em></p><p>Non, mais nous avons effectué de nombreux tests gustatifs sur des volontaires ayant les yeux bandés et aussi 250 microgrammes de LSD-25 administré préalablement. 35%des volontaires ont dit que FreeBSD avait un goût d’orange, alors que Linux avait un goût de purple haze. Aucun des groupes n’a mentionné une variance de température particulière (si je me souviens bien). Nous avons de toute façon dû jeter tous les résultats quand nous nous sommes aperçu que de nombreux volontaires s’étaient promené en dehors de la salle durant les tests, faussant ainsi les résultats. Je pense que la plupart des volontaires sont à présent chez Apple, travaillant pour leur nouveau GUI 'scratch and sniff'. C’est un drôle de monde dans lequel nous vivons !</p></li></ol></div><div class=paragraph><p>Sérieusement, FreeBSD et Linux utilisent tous les deux l’instruction <em>HLT</em> (halt) quand le système est idle de telle sorte à baisser leur consommation d’énergie et donc la chaleur que cela génère. Et aussi, si vous avez APM (automatic power management) configuré, alors FreeBSD peut aussi mettre le CPU dans un mode basse énergie.</p></div></div><div class=sect2><h3 id=_qui_est_ce_qui_fait_grésiller_mes_banques_mémoires>12.8. Qui est-ce qui fait grésiller mes banques mémoires ?<a class=anchor href=#_qui_est_ce_qui_fait_grésiller_mes_banques_mémoires></a></h3><div class="qlist qanda"><ol><li><p><em>Y a t il quelque chose d'"étrange" que fait FreeBSD quand il compile le noyau qui pourrait faire que la mémoire fasse un grésillement ? Quand ça compile (et pour un bref moment après avoir reconnu le lecteur de disquette au démarrage), un étrange grésillement émane depuis ce qui semble être les banques mémoire</em></p><p>Oui! Vous verrez des fréquentes références aux "démons" dans la documentation BSD, et ce que les gens ne savent pas, c’est que cela se réfère aux entités non-corporelle qui possède à présent votre ordinateur. Le grésillement venant de la mémoire est en fait le murmure échangé entre les démons lorsqu’ils débattent sur les différentes tâches de l’administration système.</p></li></ol></div><div class=paragraph><p>Si le bruit vous parvient, un bon <em>fdisk /mbr</em> depuis le DOS vous en débarassera, mais ne soyez pas surpris s’il réagissent et qu’ils essayent de vous contrer. De plus, si jamais à un moment de l’opération, vous entendez la voix satanique de Bill Gates vous parvenant du haut-parleur interne, continuez, et ne regardez jamais en arrière ! Délivré de l’influence contre-balançante des démons BSD, les démons jumeaux de DOS et Windows pourront alors prendre le contrôle totale de votre machine jusqu’à la damnation éternelle de votre âme. S’il fallait choisir, je pense que je préfèrerais m’habituer au grésillement !</p></div></div><div class=sect2><h3 id=_que_veut_dire_mfc>12.9. Que veut dire 'MFC' ?<a class=anchor href=#_que_veut_dire_mfc></a></h3><div class=paragraph><p>MFC est un acronyme pour 'Merged From -CURRENT.' C’est utilisés dans les logs CVS pour noter quand un changement a migré depuis un CURRENT vers une branche STABLE</p></div></div></div></div><div class=sect1><h2 id=_pour_les_passionnés_mise_à_jour_en_cours>13. Pour les passionnés. <strong>Mise à jour en cours</strong><a class=anchor href=#_pour_les_passionnés_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=sect2><h3 id=_que_sont_les_snap_et_release>13.1. Que sont les SNAP et RELEASE<a class=anchor href=#_que_sont_les_snap_et_release></a></h3><div class=paragraph><p>Il y a actuellement 3 branches actives/semi-actives dans <a href=http://www.freebsd.org/cgi/cvsweb.cgi>l’entrepot CVS</a> des sources de FreeBSD:</p></div><div class=ulist><ul><li><p>RELENG_2_1_0 encore appelée 2.1-stable ou branche 2.1</p></li><li><p>RELENG_2_2 encore appelée 2.2-stable ou branche 2.2</p></li><li><p>HEAD encore appelée -current ou 3.0-current</p></li></ul></div><div class=paragraph><p>HEAD n’est pas vraiment une branche, comparée aux deux autres, c’est juste une valeur symbolique constante pour désigner le répertoire de la version courante(ou version de développement), auquel nous nous référerons sous le nom de -current.</p></div><div class=paragraph><p>Actuellement -current est la branche de développement de la version 3.0 résultant de la séparation de la branche 2.2-stable(RELENG_2_2) en Novembre 1996.</p></div><div class=paragraph><p>La branche 2.1-stable, RELENG_2_1_0, s’étant séparée de -current en Septembre 1994.</p></div></div><div class=sect2><h3 id=_comment_créer_ma_propre_version>13.2. Comment créer ma propre version<a class=anchor href=#_comment_créer_ma_propre_version></a></h3><div class=paragraph><p>Pour créer votre propre version, vous devez effectuer trois choses. Premièrement, vous devez avoir un noyau contenant le gestionnaire <a href=http://www.freebsd.org/cgi/man.cgi?vn>vn</a>. Ajoutez la ligne suivante au fichier de configuration du noyau, puis reconstruisez le.</p></div><div class="literalblock programlisting"><div class=content><pre> pseudo-device vn         #Vnode driver (turns a file into a device)</pre></div></div><div class=paragraph><p>Ensuite, vous devez disposer de l’arbre CVS au complet. Pour l’obtenir, vous pouvez utiliser <a href=https://docs.freebsd.org/fr/books/handbook/updating-upgrading#synching>CVSUP</a> et remplissez votre fichier de configuration de cvsup de la façon suivante:</p></div><div class="literalblock programlisting"><div class=content><pre>*default prefix=/home/ncvs
*default base=/a
*default host=cvsup.FreeBSD.org
*default release=cvs
*default delete compress use-rel-suffix

## Main Source Tree
src-all
src-eBones
src-secure

# Other stuff
ports-all
www
doc-all</pre></div></div><div class=paragraph><p>Ensuite lancez la commande <span class=filename>cvsup -g
fichier_de_configuration_de_cvsup</span> pour rapatrier tous les sources sur votre machine</p></div><div class=paragraph><p>Pour finir, vous devez disposez de beaucoup de place sur vos disque pour compiler le tout. Disons que cela se trouve dans le répertoire <span class=filename>/tres/gros/systeme/de/fichiers</span> et que l’arbre CVS se trouve dans <span class=filename>/home/ncvs</span></p></div><div class="literalblock programlisting"><div class=content><pre>setenv CVSROOT /home/ncvs   # ou export CVSROOT=/hom/ncvs (pour du sh)
cd /usr/src/release
make release
BUILDNAME=3.0-MY-SNAP CHROOTDIR=/tres/gros/systeme/de/fichiers</pre></div></div><div class=paragraph><p>Une distribution complète sera alors crée dans le répertoire <span class=filename>/tres/gros/systeme/de/fichiers</span> et vous disposerez d’un programme d’installation ftp utilisant ce répertoire par défaut. Vous pouvez aussi décider de compiler autre chose que la version -current en donnant au paramètre <span class=filename>RELEASETAG</span> une autre valeur. Par exemple pour compiler une version 2.2, il suffit de passer la valeur <span class=filename>RELEASETAG=RELENG_2_2</span> à la ligne de commande de make.</p></div></div><div class=sect2><h3 id=_comment_créer_une_disquette_dinstallation_personnalisée>13.3. Comment créer une disquette d’installation personnalisée?<a class=anchor href=#_comment_créer_une_disquette_dinstallation_personnalisée></a></h3><div class=paragraph><p>Le processus de création, des disquettes d’installation ainsi que des archives binaires, est automatisé par différentes cibles dans le fichier <span class=filename>/usr/src/release/Makefile</span>. Ce fichier doit etre votre point de départ pour plus d’informations. Bien sur, cela veut dire que vous devrez faire un "make world" et que cela demande beaucoup d’espace disque et de temps.</p></div></div><div class=sect2><h3 id=_make_world_remplace_t_il_tous_les_binaires_déja_installés>13.4. "make world" remplace-t-il tous les binaires déja installés?<a class=anchor href=#_make_world_remplace_t_il_tous_les_binaires_déja_installés></a></h3><div class=paragraph><p>Oui.Comme son nom le suggère,"make world" recompile tout le système depuis les sources, donc vous pouvez etre sur d’avoir un système sain et cohérent à la fin (cela peut prendre énormément de temps pour y arriver).</p></div><div class=paragraph><p>Si la variable <span class=filename>DESTDIR</span> est définie lorsque vous éxecutez "make world" ou "make install", les binaires seront installés dans la même arborescence que votre système sauf que la racine du nouveau système sera <span class=filename>${DESTDIR}</span>. Différentes combinations dans la modification des librairies partagées et dans les programmes, peut entrainer une erreur du "make world".</p></div></div><div class=sect2><h3 id=_lorsque_le_système_démarre_il_affiche_bus_speed_defaulted>13.5. Lorsque le système démarre, il affiche "(bus speed defaulted)"<a class=anchor href=#_lorsque_le_système_démarre_il_affiche_bus_speed_defaulted></a></h3><div class=paragraph><p>Les cartes SCSI Adaptec 1542 permettent d’accéder à la configuration de la vitesse du bus par logiciel. Les anciennes versions du gestionnaire de périphérique 1542 essayaient de déterminer la vitesse maximale utiliable et de configurer la carte à cette valeur. Nous avons trouvé que cela pouvait casser certains systèmes, donc vous devez définir l’option <span class=filename>TUNE_1542</span> dans le fichier de configuration du noyau, pour que cela soit actif. En l’utilisant sur des systèmes ou la carte le supporte, cela vous permettra d’avoir une meilleur vitesse pour vos disques, mais sur des système ne le supportant pas vous obtiendrez des données corrompues.</p></div></div><div class=sect2><h3 id=_puis_je_me_tenir_à_jour_par_rapport_à_current_si_jai_un_accès_limité_à_linternet>13.6. Puis-je me tenir à jour par rapport à -current si j’ai un accès limité à l’Internet?<a class=anchor href=#_puis_je_me_tenir_à_jour_par_rapport_à_current_si_jai_un_accès_limité_à_linternet></a></h3><div class=paragraph><p>Oui, vous pouvez le faire sans télécharger l’arbre complet des sources en utilisant la fonctionnalitée <a href=https://docs.freebsd.org/fr/books/handbook/updating-upgrading#synching>CTM</a></p></div></div><div class=sect2><h3 id=_comment_faire_pour_couper_la_distribution_en_fichiers_de_240ko>13.7. Comment faire pour couper la distribution en fichiers de 240Ko?<a class=anchor href=#_comment_faire_pour_couper_la_distribution_en_fichiers_de_240ko></a></h3><div class=paragraph><p>Les systèmes BSD récents diposent d’une option "<span class=filename>-b</span>" pour vous permettre de découper les fichiers binaires en plusieurs parties</p></div><div class=paragraph><p>Voici un exemple, tiré de <span class=filename>/usr/src/Makefile</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>bin-tarball:
	(cd ${DISTDIR}; \
        tar cf - . \
        gzip --no-name -9 -c | \
        split -b 240640 - \
        ${RELEASEDIR}/tarballs/bindist/bin_tgz.)</pre></div></div></div><div class=sect2><h3 id=_jai_écrit_une_extension_pour_le_noyau_comment_lincorporer>13.8. J’ai écrit une extension pour le noyau, comment l’incorporer?<a class=anchor href=#_jai_écrit_une_extension_pour_le_noyau_comment_lincorporer></a></h3><div class=paragraph><p>Regardez la partie du handbook sur la façon de <a href=https://docs.freebsd.org/fr/books/handbook/>soumettre du code</a></p></div><div class=paragraph><p>Et encore merci pour tout.</p></div></div><div class=sect2><h3 id=_comment_sont_détectées_les_cartes_plugs_and_play_isa>13.9. Comment sont détectées les cartes plugs and play ISA?<a class=anchor href=#_comment_sont_détectées_les_cartes_plugs_and_play_isa></a></h3><div class=paragraph><p>Contribution de <a href=mailto:uhclem@nemesis.lonestar.org>Frank Durda IV</a></p></div><div class=paragraph><p>Il y a un certains nombres de ports d’entrées/sorties sur lesquels la plupart des cartes PnP répondent lorsqu’une machine interroge le bus ISA. Donc, lorsque la routine de détection PnP s’execute, elle interroge les cartes PnP sur ces ports pour savoir lesquelles sont présentes. Dans ce cas toutes les cartes répondent en indiquant leur modèle et la routine de détection reçoit alors une valeur qui est soit "oui" soit rien. Au minimum un bit est mis à 1 lors de la réponse. Alors le code de détection peut essayer de dialoguer avec les cartes, graçe aux numéros de modèle de cartes (définis par Microsoft/Intel), inférieurs à X pour leur dire de s’arréter. Il vérifie alors qu’aucune autre carte ne répond à la question précedente. Si la réponse est <em>0</em> alors il considère qu’aucune carte n’a d’ID au dessus de X. Ensuite il interroge le bus pour obtenir la liste des cartes sous "X". S’il en trouve alors il interroge le bus pour avoir la liste des celles ayant un ID supérieur à X-(limit/4). Et répète ainsi de suite l’algorithme, qui consiste à diviser l’intervalle de recherche par deux. Avec cet algorithme, les cartes seront découvertes avec un maximum d’itération de 2^64.</p></div><div class=paragraph><p>Les Identifiants de cartes sont codés sur 32 bits + 8 bit de checksum. Les 32 premiers bits représentent le code de la carte pour le constructeur de cette carte. Il arrive de trouver plusieurs cartes du meme constructeur ayant différents code de carte. L’idée de coder sur 32 bits le nom du constructeur serait un peu excessif.</p></div><div class=paragraph><p>Les 32 bits de poids faibles sont le numéro de série de la carte; l’adresse ethernet , ou quelque chose rendant la carte unique par ce numéro. Le constructeur ne doit jamais produire une deuxième carte ayant ce meme numéro tout en ayant le meme nombre représenté sur les 32 premiers bits. Vous pouvez dons avoir plusieurs cartes du meme type dans votre ordinateur , et l’ensemble des 64 bits permet de rendre chacune unique.</p></div><div class=paragraph><p>Les groupes de 32 bits ne peuvent en aucun cas etre tous à zéro. Cela permet d’effectuer le "OU" pour afficher les bits non nuls lors de la première recherche dicotomique.</p></div><div class=paragraph><p>Lorsque le système à détecter toutes les cartes présentes, ils les réactivent une à une, et recherche les ressources dont elles ont besoin, quels sont les choix possibles pour les interruptions, etc. Un "scan" de toutes les cartes est effectué pour collecter toutes ces informations.</p></div><div class=paragraph><p>Cette information est combinée avec l’information recueillie des fichiers ECU se trouvant sur le disque dur ou dans le BIOS. Le support ECU et BIOS du plug-and-play pour le matériel est très simple, et les périphérique n’ont pas besoin d’etre vraiment PnP. Mais en examinant les informations du BIOS et des fichiers ECU, les routines d’interrogations peuvent permettre aux périphériques PnP "to avoid those devices the probe code cannot relocate. "</p></div><div class=paragraph><p>Alors les périphériques PnP sont encore interrogés, et renvoient leur IRQ, adresse mémoire, ports d’entrée/sorties et DMA. Les périphériques sont alors activés, en prenant en compte ces valeurs, et le reste jusqu’au prochaine redémarrage du système. Bien sur rien de vous empeche de les retirer, si le matériel le permet :-).</p></div><div class=paragraph><p>Ceci n’explique pas toute la complexité de détection, mais c’est une explication simple du processus de détection.</p></div></div><div class=sect2><h3 id=_est_ce_que_freebsd_va_supporter_dautres_architectures_matérielles>13.10. Est-ce que FreeBSD va supporter d’autres architectures matérielles?<a class=anchor href=#_est_ce_que_freebsd_va_supporter_dautres_architectures_matérielles></a></h3><div class=paragraph><p>Différentes personnes sont interressées sur un support multi-architecture pour FreeBSD, et certaines personnes sont en train de porter FreeBSD sur la plateforme ALPHA, en coopération avec DEC. Pour plus d’informations sur les nouvelles architectures utilisez la mailling liste <a href=mailto:freebsd-platforms@FreeBSD.ORG>&lt;</a><a href=mailto:freebsd-platforms@FreeBSD.ORG>freebsd-platforms@FreeBSD.ORG</a>></p></div></div><div class=sect2><h3 id=_jai_besoin_dun_major_number_pour_un_gestionnaire_de_périphérique_que_je_viens_décrire>13.11. J’ai besoin d’un "major number" pour un gestionnaire de périphérique que je viens d’écrire<a class=anchor href=#_jai_besoin_dun_major_number_pour_un_gestionnaire_de_périphérique_que_je_viens_décrire></a></h3><div class=paragraph><p>Ceci dépend du fait que vous vouliez ou non rendre public ce gestionnaire. Si vous le désirez, envoyez nous une copie code source du gestionnaire et les modifications nécessaires à apporter au fichier <span class=filename>files.i386</span>, un fichier de configuration et le code du fichier <a href=http://www.freebsd.org/cgi/man.cgi?MAKEDEV>MAKEDEV</a>nécessaire pour créer les fichiers spéciaux dont le gestionnaire à besoin. Si vous ne désirez pas rendre plublic le code, ou si vous ne pouvez pas à cause de certaines restrictions de votre license, alors utilisez le "major number" 32 (pour les gestionnaires de type caractère) et le "major number" 8 (pour les gestionnaires de type blocs), qui sont réservés à ce type de chose. Dans les deux cas nous sommes interessés par votre gestionnaire, discutez à son propos sur la mailling liste <a href=mailto:freebsd-hackers@FreeBSD.ORG>&lt;</a><a href=mailto:freebsd-hackers@FreeBSD.ORG>freebsd-hackers@FreeBSD.ORG</a>>.</p></div></div></div></div><div class=sect1><h2 id=_remerciements_mise_à_jour_en_cours>14. REMERCIEMENTS. <strong>Mise à jour en cours</strong><a class=anchor href=#_remerciements_mise_à_jour_en_cours></a></h2><div class=sectionbody><div class=paragraph><p><em>Si vous voyez un problème avec cette FAQ, ou que vous voulez rajouter une entrée, mailez nous à &lt;<a href=mailto:FAQ@FreeBSD.ORG>FAQ@FreeBSD.ORG</a>> Nous apprécions tout commentaire, et seul votre aide nous permettra d’améliorer cette FAQ !</em></p></div><div class="literalblock programlisting"><div class=content><pre>                             FreeBSD Core Team</pre></div></div><div class="literalblock programlisting"><div class=content><pre>          Version originale</pre></div></div><div class=ulist><ul><li><p>Jordan Hubbard : Ocasionnellement des mises à jour et des corrections de la FAQ</p></li><li><p>Doug White : Les services ci-dessus et plus qu’il n’en faut sur freebsd-questions</p></li><li><p>Joerg Wunsch : Les services ci-dessus et plus qu’il n’en faut sur Usenet</p></li><li><p>Garrett Wollman : Réseaux et format</p></li><li><p>Jim Lowe : Informations Multicast</p></li><li><p>Peter da Silva : Tapage de la FAQ FreeBSD.</p></li><li><p>The FreeBSD Team : Soumission d’information…​</p></li></ul></div><div class="literalblock programlisting"><div class=content><pre>           L&#39;équipe de traduction Francaise:</pre></div></div><div class=ulist><ul><li><p><a href=mailto:renaudbreard@telegroupe.fr>Renaud BREARD</a></p></li><li><p><a href=mailto:brive@mail.dotcom.fr>Robert Brive</a></p></li><li><p><a href=mailto:gioria@francenet.fr>Sébastien GIORIA</a></p></li><li><p><a href=mailto:fhaby@club-internet.fr>Frédéric Haby</a></p></li><li><p><a href=mailto:Stephane.Legrand@bigfoot.com>Stéphane LEGRAND</a></p></li><li><p><a href=mailto:nolin@mail.dotcom.fr>Philippe Nolin</a></p></li><li><p><a href=mailto:regnauld@deepo.prosa.dk>Philippe REGNAULD</a></p></li><li><p><a href=mailto:ritsch_p@epita.fr>Pierre Yves RITSCHARD</a></p></li><li><p><a href=mailto:dntt@prism.uvsq.fr>Tuyêt Trâm DANG NGOC</a></p></li></ul></div><div class=paragraph><p>Et pour tous les autres que nous avons oubliés, mille excuses, et merci de tout coeur !</p></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 3 novembre 2021 by <a href="https://cgit.freebsd.org/doc/commit/?id=64acd169b8" target=_blank>Sergio Carlavilla Delgado</a></p></div><div class=buttons><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Sommaire</h3><nav id=TableOfContents><ul><li><a href=#_préface_mise_à_jour_en_cours>1. Préface. <strong>Mise à jour en cours</strong></a></li><li><a href=#_installation_mise_à_jour_en_cours>2. Installation. <strong>Mise à jour en cours</strong></a></li><li><a href=#_compatibilité_matérielle_mise_à_jour_en_cours>3. Compatibilité matérielle. <strong>Mise à jour en cours</strong></a></li><li><a href=#_résolutions_des_incidents_mise_à_jour_en_cours>4. Résolutions des incidents. <strong>Mise à jour en cours</strong></a></li><li><a href=#_applications_commerciales_mise_à_jour_en_cours>5. Applications commerciales. <strong>Mise à jour en cours</strong></a></li><li><a href=#_applications_mise_à_jour_en_cours>6. Applications. <strong>Mise à jour en cours</strong></a></li><li><a href=#_configuration_du_noyau_mise_à_jour_en_cours>7. Configuration du noyau. <strong>Mise à jour en cours</strong></a></li><li><a href=#_administration_système_mise_à_jour_en_cours>8. Administration système. <strong>Mise à jour en cours</strong></a></li><li><a href=#_le_système_x_windows_et_les_consoles_virtuelles_mise_à_jour_en_cours>9. Le système X-Windows et les consoles virtuelles. <strong>Mise à jour en cours</strong></a></li><li><a href=#_réseaux_mise_à_jour_en_cours>10. Réseaux. <strong>Mise à jour en cours</strong></a></li><li><a href=#_communications_par_port_série_mise_à_jour_en_cours>11. Communications par port série. <strong>Mise à jour en cours</strong></a></li><li><a href=#_questions_diverses_mise_à_jour_en_cours>12. Questions diverses. <strong>Mise à jour en cours</strong></a></li><li><a href=#_pour_les_passionnés_mise_à_jour_en_cours>13. Pour les passionnés. <strong>Mise à jour en cours</strong></a></li><li><a href=#_remerciements_mise_à_jour_en_cours>14. REMERCIEMENTS. <strong>Mise à jour en cours</strong></a></li></ul></nav><hr><div class=resources><h3>Ressources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Téléchargement en PDF"></i><a href=https://download.freebsd.org/doc/fr/books/faq/faq_fr.pdf>Téléchargement en PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Éditer cette page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/fr/_index target=_blank>Éditer cette page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/fr/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>French</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Clair</option><option value=theme-dark>Sombre</option><option value=theme-high-contrast>Contraste élevé</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/fr class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/fr/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>