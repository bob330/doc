<!doctype html><html class=theme-light lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="La guía todo en uno para crear réplicas de FreeBSD para el sitio web, los servidores FTP y más"><meta name=keywords content="Mirroring,FreeBSD,Hub"><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/es/articles/hubs/><title>Crear réplicas de FreeBSD | Portal de documentación de FreeBSD</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Crear réplicas de FreeBSD"><meta property="og:description" content="La guía todo en uno para crear réplicas de FreeBSD para el sitio web, los servidores FTP y más"><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="es"><meta property="og:url" content="https://docs.freebsd.org/es/articles/hubs/"><meta property="og:site_name" content="Portal de documentación de FreeBSD"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/es\/articles\/hubs\/","name":"Portal de documentación de FreeBSD","headline":"Portal de documentación de FreeBSD","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/es>Documentation portal</a></li><li><a href=https://docs.freebsd.org/es/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/es/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/es/books>Books</a></li><li><a href=https://docs.freebsd.org/es/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/es/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=es>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><main class=main-wrapper-article><div class=article><h1 class=title>Crear réplicas de FreeBSD</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=legalnotice><a id=trademarks></a><details><summary>Marcas registradas</summary><p>FreeBSD es una marca registrada de la Fundación FreeBSD</p><p>Muchos de los nombres usados por los fabricantes y vendedores para diferenciar sus productos son designados como marcas comerciales. Allí donde estos nombres aparezcan en este documento y el Proyecto FreeBSD fuera consciente de la alegación de marca comercial, los nombres tienen a continuación el símbolo “™” o “®”.</p></details></div><div class=toc-mobile><h3>Tabla de contenidos</h3><nav id=TableOfContents><ul><li><a href=#mirror-contact>1. Información de contacto</a></li><li><a href=#mirror-requirements>2. Requisitos para las réplicas de FreeBSD</a></li><li><a href=#mirror-howto>3. Cómo replicar FreeBSD</a></li><li><a href=#mirror-where>4. De donde replicar</a></li><li><a href=#mirror-official>5. Replicas oficiales</a></li><li><a href=#mirror-statpages>6. Algunas estadísticas de las réplicas</a></li></ul></nav></div><div id=preamble><div class=sectionbody><div class="paragraph abstract-title"><p>Resumen</p></div><div class=paragraph><p>Un artículo en progreso sobre cómo crear una replica de FreeBSD, destinado a los administradores de hub.</p></div><hr><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>No aceptamos nuevas réplicas en este momento.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=mirror-contact>1. Información de contacto<a class=anchor href=#mirror-contact></a></h2><div class=sectionbody><div class=paragraph><p>Se puede contactar con los Coordinadores del Sistema de Réplicas en el email <a href=mailto:mirror-admin@FreeBSD.org>mirror-admin@FreeBSD.org</a>. También existe <a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>Lista de correo de las réplicas de FreeBSD</a>.</p></div></div></div><div class=sect1><h2 id=mirror-requirements>2. Requisitos para las réplicas de FreeBSD<a class=anchor href=#mirror-requirements></a></h2><div class=sectionbody><div class=sect2><h3 id=mirror-diskspace>2.1. Espacio en disco<a class=anchor href=#mirror-diskspace></a></h3><div class=paragraph><p>El espacio en disco es uno de los requisitos más importantes. Dependiendo del conjunto de releases, arquitecturas y cómo de completas quieres que sean tus réplicas, se podría consumir una enorme cantidad de espacio en disco. Ten en cuenta también que para las réplicas <em>oficiales</em> se podría requerir que fueran completos. Las páginas web se tienen que duplicar en la réplica de forma completa. También ten en cuenta que los números utilizados aquí reflejan el estado actual (en 12.0-RELEASE/11.3-RELEASE). Desarrollos posteriores y releases sólo pueden incrementar las cantidades requeridas. Asegúrate también de tener algo (un 10-20%) de espacio extra para estar seguro. Aquí hay algunos números aproximados:</p></div><div class=ulist><ul><li><p>Distribución FTP completa: 1.4 TB</p></li><li><p>Deltas de CTM: 10GB</p></li><li><p>Páginas web: 1GB</p></li></ul></div><div class=paragraph><p>El uso de disco actual de la Distribución FTP se puede encontrar en <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/dir.sizes>ftp://ftp.FreeBSD.org/pub/FreeBSD/dir.sizes</a>.</p></div></div><div class=sect2><h3 id=mirror-bandwidth>2.2. Conexión de red/ancho de banda<a class=anchor href=#mirror-bandwidth></a></h3><div class=paragraph><p>Por supuesto, necesitas estar conectado a internet. El ancho de banda requerido depende del uso previsto para la replica. Si solo deseas replicar algunas partes de FreeBSD para uso local en tu sitio/intranet, la demanda puede ser mucho menor que si quieres que los archivos estén disponibles públicamente. Si pretendes convertirte en una replica oficial, el ancho de banda requerido será aún mayor. Aquí solo podemos dar estimaciones aproximadas:</p></div><div class=ulist><ul><li><p>Sitio local, sin acceso público: básicamente, no hay un mínimo, pero con &lt; 2 Mbps puede que la sincronización sea muy lenta.</p></li><li><p>Sitio público no oficial: 34 Mbps es probablemente un buen comienzo.</p></li><li><p>Sitio oficial: se recomiendan > 100 Mbps, y tu host debe estar conectado lo más cerca posible de tu border router.</p></li></ul></div></div><div class=sect2><h3 id=mirror-system>2.3. Requisitos del sistema, CPU, RAM<a class=anchor href=#mirror-system></a></h3><div class=paragraph><p>Esto depende mucho del número de clientes esperado, que está determinado por la política del servidor. El tamaño también se ve afectado por el tipo de servicios que quieres ofrecer. Los servicios FTP o HTTP simples pueden no necesitar una gran cantidad de recursos. Ten cuidado si proporcionas rsync. Esto puede tener un gran impacto en los requisitos de CPU y memoria, ya que este servicio consume una gran cantidad de memoria. Los ejemplos siguientes tienen como objetivo darte una idea bastante aproximada.</p></div><div class=paragraph><p>Para un sitio que ofrece rsync y que sea visitado con frecuencia moderada, podrías considerar una CPU con unos 800MHz - 1 GHz y al menos 512 MB RAM. Este es probablemente el mínimo que quieres para un sitio <em>oficial</em>.</p></div><div class=paragraph><p>Si es un sitio con un número de visitas alto, definitivamente, necesita más RAM (2GB es un buen comienzo) y posiblemente más CPU, esto también significa la necesidad de ir hacia un sistema que disponga de SMP.</p></div><div class=paragraph><p>También deberías de considerar un sistema rápido de discos. Las operaciones en el repositorio SVN requieren de un sistema de discos que sea rápido (se recomienda RAID). Un controlador SCSI que disponga de una caché propia también puede acelerar las cosas, ya que la mayoría de estos servicios realizan una gran cantidad de pequeñas modificaciones en el disco.</p></div></div><div class=sect2><h3 id=mirror-services>2.4. Servicios a ofrecer<a class=anchor href=#mirror-services></a></h3><div class=paragraph><p>Se require que cada replica tenga un conjunto de servicios centrales disponibles. Además de estos servicios que son requeridos, hay una serie de servicios opcionales que los administradores del servidor pueden escoger ofrecerlos o no. Esta sección explica qué servicios puedes proporcionar y cómo implementarlos.</p></div><div class=sect3><h4 id=mirror-serv-ftp>2.4.1. FTP (requerido para el conjunto de archivos FTP)<a class=anchor href=#mirror-serv-ftp></a></h4><div class=paragraph><p>Este es uno de los servicios más básicos, y es requerido en cada réplica que ofrezca distribuciones FTP públicas. El acceso a FTP debe ser anónimo, y no se permite ningún control sobre las tasas de subida/descarga (de todas formas, es ridículo). La subida de archivos no es necesaria (y <em>nunca</em> debe permitirse en el área donde se guardan los archivos de FreeBSD). Además, los archivos de FreeBSD deben estar disponibles en la ruta <span class=filename>/pub/FreeBSD</span>.</p></div><div class=paragraph><p>Existe una gran cantidad de software disponible que se puede configurar para permitir FTP anónimo (en orden alfabético).</p></div><div class=ulist><ul><li><p><code>/usr/libexec/ftpd</code>: Se puede usar el propio ftpd de FreeBSD. Asegúrate de leer <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpd&amp;sektion=8&amp;format=html">ftpd(8)</a>.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/ncftpd/>ftp/ncftpd</a>: Un paquete comercial, gratis para uso educativo.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/oftpd/>ftp/oftpd</a>: Un ftpd diseñado con la seguridad como principal objetivo.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/proftpd/>ftp/proftpd</a>: Un ftpd modular y muy flexible.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/pure-ftpd/>ftp/pure-ftpd</a>: Otro ftpd desarrollado con la seguridad como principal objetivo.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/twoftpd/>ftp/twoftpd</a>: Lo mismo que el anterior.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/ftp/vsftpd/>ftp/vsftpd</a>: El ftpd "muy seguro" ("very secure").</p></li></ul></div><div class=paragraph><p><code>ftpd</code> de FreeBSD, <code>proftpd</code> y quizás <code>ncftpd</code> están entre los FTPds más usados. Los otros no tienen una base de usuarios tan grande entre los sitios de réplicas. Algo a considerar es que podrías necesitar flexibilidad para limitar el número de conexiones simultáneas que se permiten, limitando por tanto cuánto ancho de banda y recursos de sistema se consumen.</p></div></div><div class=sect3><h4 id=mirror-serv-rsync>2.4.2. Rsync (opcional para el conjunto de archivos FTP)<a class=anchor href=#mirror-serv-rsync></a></h4><div class=paragraph><p>A menudo, se ofrece rsync para acceder a los contenidos del área FTP de FreeBSD, de esta forma, otras réplicas pueden usar tu sistema como su fuente. El protocolo es diferente de FTP en muchos aspectos. Es mucho más amigable con el ancho de banda, ya que solo se transfieren las diferencias entre los archivos en lugar del archivo completo. rsync requiere una cantidad significativa de memoria para cada instancia. El tamaño depende del tamaño del módulo que se vaya a sincronizar, en términos de cantidad de directorios y archivos. rsync puede usar <code>rsh</code> y <code>ssh</code> (por defecto) como transporte, o usar su propio protocolo para el acceso independiente (este es el método preferido para los servidores de rsync públicos). Se pueden aplicar autenticación, límites de conexión y otras restricciones. Solo hay un paquete de software disponible:</p></div><div class=ulist><ul><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/net/rsync/>net/rsync</a></p></li></ul></div></div><div class=sect3><h4 id=mirror-serv-http>2.4.3. HTTP (requerido para las páginas web, opcional para el conjunto de archivos FTP)<a class=anchor href=#mirror-serv-http></a></h4><div class=paragraph><p>Si quieres ofrecer las páginas web de FreeBSD, necesitarás instalar un servidor web. Opcionalmente, puedes ofrecer el conjunto de archivos FTP a través de HTTP. La elección del software del servidor web se deja en manos del administrador de la réplica. Algunas de las opciones más populares son:</p></div><div class=ulist><ul><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/apache24/>www/apache24</a>: es todavía uno de los servidores web con más despliegues en Internet. Se usa de forma extensiva en el Proyecto FreeBSD.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/boa/>www/boa</a>: Boa es un servidor HTTP single-task. A diferencia de los servidores web tradicionales, su proceso no se divide por cada conexión entrante, ni crea varias copias de sí mismo para manejar múltiples conexiones. Aún así, debería proporcionar un rendimiento considerablemente grande para contenido puramente estático.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/cherokee/>www/cherokee</a>: Cherokee es un servidor web muy rápido, flexible y fácil de configurar. Es compatible con las tecnologías más extendidas en la actualidad: FastCGI, SCGI, PHP, CGI, conexiones cifradas SSL/TLS, vhosts, autenticación de usuarios, codificación on the fly y balanceo de carga. También genera archivos logs compatibles con Apache.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/lighttpd/>www/lighttpd</a>: es un servidor web seguro, rápido, estándar y muy flexible que ha sido optimizado para entornos de alto rendimiento. Tiene unos requisitos de memoria muy bajos comparados con otros servidores web y se preocupa por la carga de la CPU.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/nginx/>www/nginx</a>: nginx es un servidor web de alto rendimiento con bajo consumo de memoria y características clave para crear una infraestructura web moderna y eficiente. Las características incluyen, un servidor HTTP, proxy inverso de HTTP y correo electrónico, almacenamiento en caché, balanceo de carga, compresión, limitación de solicitudes, multiplexación y reutilización de conexiones, descarga de SSL y streaming de medios por HTTP.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/www/thttpd/>www/thttpd</a>: Si vas a ofrecer una gran cantidad de contenido estático, es posible que el uso de una aplicación como thttpd sea más eficiente que otras. También está optimizado para tener un rendimiento excelente en FreeBSD.</p></li></ul></div></div></div></div></div><div class=sect1><h2 id=mirror-howto>3. Cómo replicar FreeBSD<a class=anchor href=#mirror-howto></a></h2><div class=sectionbody><div class=paragraph><p>Ok, ahora ya conoces los requisitos y cómo ofrecer los servicios, pero no cómo obtenerlos. :-) Esta sección explica cómo replicar las distintas partes de FreeBSD, qué herramientas usar y de dónde replicar.</p></div><div class=sect2><h3 id=mirror-ftp-rsync>3.1. Replicar el sitio FTP<a class=anchor href=#mirror-ftp-rsync></a></h3><div class=paragraph><p>El área FTP tiene la mayor cantidad de datos que deben ser replicados. Incluye los <em>conjuntos de la distribución</em> (distribution sets) necesarios para la instalación en red, las <em>ramas</em> (branches) que son snapshots de los árboles del código fuente, las <em>imagenes ISO</em> para grabar CD-ROMs con la distribución de instalación, un sistema de archivos live y un snapshot del árbol de ports. Y claro, todo esto para las diversas versiones y arquitecturas de FreeBSD.</p></div><div class=paragraph><p>La mejor forma de replicar el área de FTP es con rsync. Puedes instalar el port <a class=package href=https://cgit.freebsd.org/ports/tree/net/rsync/>net/rsync</a> y después utilizar rsync para sincronizar con el servidor origen. rsync ya se menciona en <a href=#mirror-serv-rsync>Rsync (opcional para el conjunto de archivos FTP)</a>. Puesto que el acceso por rsync no es un requisito el sitio desde el que réplicas podrías no permitirlo. Podrías necesitar buscar un poco para encontrar un sitio que te permita acceso por rsync.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Dado que el número de clientes de rsync tendrá un impacto significativo en el rendimiento del servidor, la mayoría de los administradores imponen limitaciones en sus servidores. Para una réplica, debes preguntar al mantenedor del sitio con el que se está sincronizando sobre su política, y tal vez, pedir una excepción para tu host (ya que tú eres una réplica).</p></div></td></tr></tbody></table></div><div class=paragraph><p>Un ejemplo en la línea de comandos para replicar FreeBSD podría ser de la siguiente forma:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% rsync <span class=nt>-vaHz</span> <span class=nt>--delete</span> rsync://ftp4.de.FreeBSD.org/FreeBSD/ /pub/FreeBSD/</code></pre></div></div><div class=paragraph><p>Consulta la documentación de rsync, que también está disponible en <a href=http://rsync.samba.org/>http://rsync.samba.org/</a>, para conocer las distintas opciones que se pueden utilizar. Si sincronizas un módulo completo (a diferencia de subdirectorios), ten en cuenta que el directorio del módulo (aquí "FreeBSD") no se creará, por lo que no puedes omitir el directorio de destino. También podrías querer tener un script que llame a esos comandos via <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>.</p></div></div><div class=sect2><h3 id=mirror-www>3.2. Replicando las páginas WWW<a class=anchor href=#mirror-www></a></h3><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Desde la migración de documentos a Hugo/Asciidoctor en 2021-01-25, la replicación del sitio web mediante rsync ya no funciona.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Hay estudios en curso para implementar una réplica del sitio web con la <a href=https://docs.freebsd.org/es/books/handbook/mirrors/>infraestructura oficial</a>.</p></div><div class=paragraph><p>Para las réplicas antiguas del sitio web, una forma de conseguir la replicación del sitio web a día de hoy es construir el sitio de forma local con la correspondiente dirección que lo albergará.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd </span>website <span class=o>&amp;&amp;</span> <span class=nb>env </span><span class=nv>HUGO_baseURL</span><span class=o>=</span><span class=s2>&#34;https://www.XX.freebsd.org/&#34;</span> make</code></pre></div></div><div class=paragraph><p>Visita el libro <a href=https://docs.freebsd.org/en/books/fdp-primer/overview/#overview-quick-start>FreeBSD Documentation Project Primer for New Contributors</a> para más detalles acerca de las herramientas de construcción.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ten en cuenta que el sitio web se ha dividido en www.FreeBSD.org y docs.FreeBSD.org y que hay enlaces entre ellos; además, en este momento la variable <code>HUGO_baseURL</code> no cubre todos los enlaces, desaconsejando por lo tanto la replicación del sitio web de esta forma.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=mirror-pkgs>3.3. Replicando los paquetes<a class=anchor href=#mirror-pkgs></a></h3><div class=paragraph><p>El Proyecto FreeBSD ha decidido no permitir la replicación pública de paquetes debido a los altos requisitos de ancho de banda, almacenamiento y administración. Para sitios con muchas máquinas, podría ser una ventaja tener un proxy HTTP para el proceso de <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a>. De forma alternativa, se pueden descargar paquetes específicos junto con sus dependencias ejecutando algo como lo siguiente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg fetch <span class=nt>-d</span> <span class=nt>-o</span> /usr/local/mirror vim</code></pre></div></div><div class=paragraph><p>Cuando estos paquetes se descarguen, los metadatos del repositorio se deben generar ejecutando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pkg repo /usr/local/mirror</code></pre></div></div><div class=paragraph><p>Una vez que los paquetes se han descargado y que se ha generado la metadata del repositorio, puedes servir los paquetes hasta las máquinas cliente mediante HTTP. Para obtener información adicional, lee las páginas de manual para <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a>, en concreto la página <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg-repo&amp;sektion=8&amp;format=html">pkg-repo(8)</a>.</p></div></div><div class=sect2><h3 id=mirror-how-often>3.4. ¿Con qué frecuencia debo actualizar el contenido de mi replica?<a class=anchor href=#mirror-how-often></a></h3><div class=paragraph><p>Cada réplica se debería actualizar como mínimo una vez al día. Seguramente para ejecutar un script desde <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> el script necesite bloqueos para evitar varias instancias ejecutándose al mismo tiempo. Puesto que prácticamente cada administrador hace esto de una forma distinta, no se pueden proporcionar instrucciones específicas. Podría funcionar algo como esto:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Escribe el comando para ejecutar su réplica en un script. Se recomienda el uso de un script simple de <code>/bin/sh</code>.</p></li><li><p>Agrega algunas redirecciones de salida para que los mensajes de diagnóstico se registren en un archivo.</p></li><li><p>Comprueba si el script funciona. Comprueba los logs.</p></li><li><p>Usa <a href="https://man.freebsd.org/cgi/man.cgi?query=crontab&amp;sektion=1&amp;format=html">crontab(1)</a> para añadir el script al <a href="https://man.freebsd.org/cgi/man.cgi?query=crontab&amp;sektion=5&amp;format=html">crontab(5)</a> del usuario correspondiente. Este debería ser un usuario diferente del que utiliza tu demonio de FTP de forma que si los permisos de los ficheros dentro de tu área de FTP no son legibles para todo el mundo esos ficheros no pueden ser accedidos mediante un FTP anónimo. Esto es lo que se usa para "preparar" las releases - asegurarse de que todas las réplicas oficiales tienen todos los ficheros de release el día de la liberación de la misma.</p></li></ol></div></div></div><div class=paragraph><p>Aquí hay algunas programaciones recomendadas:</p></div><div class=ulist><ul><li><p>Conjunto de archivos FTP: diario</p></li><li><p>Páginas WWW: diario</p></li></ul></div></div></div></div><div class=sect1><h2 id=mirror-where>4. De donde replicar<a class=anchor href=#mirror-where></a></h2><div class=sectionbody><div class=paragraph><p>Este es un punto importante. Así que en esta sección vamos a esforzarnos un poco para explicar los antecedentes. Lo diremos varias veces: bajo ninguna circunstancia deberías replicar desde <code>ftp.FreeBSD.org</code>.</p></div><div class=sect2><h3 id=mirror-where-organization>4.1. Algunas palabras sobre la organización<a class=anchor href=#mirror-where-organization></a></h3><div class=paragraph><p>Las réplicas se organizan por país. Todas las réplicas oficiales tienen una entrada DNS de la forma <code>ftpN.CC.FreeBSD.org</code>. <em>CC</em> (es decir, código de país o country code) es el <em>top level domain</em> (TLD) del país donde se encuentra la réplica. <em>N</em> es un número que indica que el host debería ser la réplica número <em>N</em> en ese país. (Lo mismo se aplica a <code>wwwN.CC.FreeBSD.org</code>, etc.) Hay réplicas sin la parte <em>CC</em>. Estas son las réplicas que están bien conectadas y que soportan un gran número concurrente de usuarios. <code>ftp.FreeBSD.org</code> son en realidad dos máquinas, una situada actualmente en Dinamarca y la otra en los Estados Unidos. <em>NO</em> es un sitio maestro y no debería utilizarse para replicar desde él. Muchos documentos online guían a los usuarios "interactivos" a <code>ftp.FreeBSD.org</code> por lo que lo sistemas automáticos de replicado deberían encontrar una máquina diferente desde la que replicar.</p></div><div class=paragraph><p>Existe además una jerarquía de réplicas que se describe en base a niveles (<em>tiers</em>). Los sitios maestros no están referenciados pero se pueden describir como <em>Tier-0</em>. Los mirrors que replican de estos sitios se consideran <em>Tier-1</em>, réplicas de los <em>Tier-1</em> son <em>Tier-2</em>, etc. Se recomienda que los sitios oficiales estén en un <em>tier</em> bajo, pero cuanto más bajo el tier mayores son los requisitos en los términos descritos en <a href=#mirror-requirements>Requisitos para las réplicas de FreeBSD</a>. Además el acceso a las réplicas de tier bajos podría estar restringido y seguro que el acceso a los sitios maestros está restringido. La jerarquía basada en niveles no tiene relación con DNS y en general no está documentada excepto para los sitios maestros. Sin embargo, las réplicas oficiales con números bajos como 1-4 son normalmente <em>Tier-1</em> (esto es sólo una aproximación, no hay una regla).</p></div></div><div class=sect2><h3 id=mirror-where-where>4.2. Ok, pero, ¿de dónde debo descargar los archivos?<a class=anchor href=#mirror-where-where></a></h3><div class=paragraph><p>Bajo ninguna circunstancia deberías replicar desde <code>ftp.FreeBSD.org</code>. La respuesta corta es: desde el sitio que está más próximo a ti en términos de Internet, o el que te proporciona el acceso más rápido.</p></div><div class=sect3><h4 id=mirror-where-simple>4.2.1. ¡Solo quiero crear una réplica de algún sitio!<a class=anchor href=#mirror-where-simple></a></h4><div class=paragraph><p>Si no tienes ninguna intención o requisito especial, se aplica lo que se dice en <a href=#mirror-where-where>Ok, pero, ¿de dónde debo descargar los archivos?</a>. Esto significa:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Comprueba aquellos que proporcionan un acceso rápido (número de saltos, tiempos de ida y vuelta) y que ofrecen servicios que tienes pensado usar (como rsync).</p></li><li><p>Ponte en contacto con los administradores del sitio elegido, indicando tu solicitud y preguntando acerca de sus términos y políticas.</p></li><li><p>Configura tu replica como se describe anteriormente.</p></li></ol></div></div></div></div><div class=sect3><h4 id=mirror-where-official>4.2.2. Soy una replica oficial, ¿cuál es el sitio correcto para mí?<a class=anchor href=#mirror-where-official></a></h4><div class=paragraph><p>En general la descripción en <a href=#mirror-where-simple>¡Solo quiero crear una réplica de algún sitio!</a> todavía es válida. Por supuesto que podrías darle importancia al hecho de que el servidor desde el que réplicas debería ser de un tier bajo. Hay otras consideraciones acerca de las réplicas <em>oficiales</em> que se describen en <a href=#mirror-official>Replicas oficiales</a>.</p></div></div><div class=sect3><h4 id=mirror-where-master>4.2.3. ¡Quiero acceder a los sitios maestros!<a class=anchor href=#mirror-where-master></a></h4><div class=paragraph><p>Si tienes buenos motivos y prerequisitos podrías necesitar acceso a alguno de los sitios maestros. El acceso a estos sitios está restringido por lo general y hay ciertas políticas de acceso especiales. Si ya eres una réplica <em>oficial</em> eso facilita que obtengas acceso. En cualquier otro caso asegúrate de que tu país realmente necesita otra réplica. Si ya tiene tres o más pregunta primero al "administrador de zona" (<a href=mailto:hostmaster@CC.FreeBSD.org>hostmaster@CC.FreeBSD.org</a>) o <a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>Lista de correo de las réplicas de FreeBSD</a>.</p></div><div class=paragraph><p>Quienquiera que te haya ayudado a convertirte en una replica, un <em>oficial</em> (official) debería de haberte ayudado a obtener acceso a un host upstream adecuado, ya sea uno de los sitios maestros o a un Tier-1 adecuado. De lo contrario, puedes enviar un correo electrónico solicitando ayuda a <a href=mailto:mirror-admin@FreeBSD.org>mirror-admin@FreeBSD.org</a>.</p></div><div class=paragraph><p>Hay un sitio maestro para el conjunto de archivos FTP.</p></div><div class=sect4><h5 id=mirror-where-master-ftp>4.2.3.1. ftp-master.FreeBSD.org<a class=anchor href=#mirror-where-master-ftp></a></h5><div class=paragraph><p>Este es el sitio maestro para el conjunto de archivos FTP.</p></div><div class=paragraph><p><code>ftp-master.FreeBSD.org</code> proporciona acceso rsync, además de por FTP. Lee <a href=#mirror-ftp-rsync>Replicar el sitio FTP</a>.</p></div><div class=paragraph><p>Se alienta a las réplicas a ofrecer acceso rsync para el contenido de FTP puesto que son réplicas <em>Tier-1</em>.</p></div></div></div></div></div></div><div class=sect1><h2 id=mirror-official>5. Replicas oficiales<a class=anchor href=#mirror-official></a></h2><div class=sectionbody><div class=paragraph><p>Las réplicas oficiales, son réplicas que</p></div><div class=ulist><ul><li><p>a) tienen una entrada DNS tipo <code>FreeBSD.org</code> (normalmente un CNAME).</p></li><li><p>b) son listados como una replica oficial en la documentación de FreeBSD (como el handbook).</p></li></ul></div><div class=paragraph><p>Hasta aquí cómo se distinguen las réplicas oficiales. Las réplicas oficiales no son necesariamente <em>Tier-1</em>. Sin embargo probablemente no encuentres una réplica <em>Tier-1</em> que no sea también oficial.</p></div><div class=sect2><h3 id=mirror-official-requirements>5.1. Requisitos específicos para las réplicas oficiales (tier-1)<a class=anchor href=#mirror-official-requirements></a></h3><div class=paragraph><p>No es tan sencillo establecer los requisitos para todas las réplicas oficiales, ya que el proyecto es bastante tolerante al respecto. Es más sencillo decir qué se requiere de una <em>replica oficial tier-1</em>. El resto de réplicas oficiales deberían de considerar esto como algo que se <em>debe de cumplir</em>.</p></div><div class=paragraph><p>Las réplicas tier-1 están obligadas a:</p></div><div class=ulist><ul><li><p>disponer del conjunto de archivos completo</p></li><li><p>permitir el acceso a otras réplicas</p></li><li><p>proporcionar acceso FTP y rsync</p></li></ul></div><div class=paragraph><p>Es más, los administradores deberían suscribirse a <a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>Lista de correo de las réplicas de FreeBSD</a>. Visita See <a href=https://docs.freebsd.org/es/books/handbook/#eresources-mail>este enlace</a> para los detalles sobre cómo suscribirse.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Para un administrador de hub, especialmente de hubs Tier-1, es <em>muy</em> importante comprobar la <a href=https://www.FreeBSD.org/releng/>release schedule</a> para la siguiente release. Es importante porque te dirá cuándo está planificada para salir la nueva versión y por lo tanto te da tiempo para prepararte para el pico de tráfico que le sigue.</p></div><div class=paragraph><p>También es importante que los administradores de las réplicas intenten mantenerlas lo más actualizas posible (esto es crucial para las réplicas Tier-1). Si el Mirror1 no se actualiza durante un tiempo, las réplicas de tiers menores comenzarán a replicar los datos antiguos del Mirror1 y, por lo tanto, empezará una espiral descencente…​ ¡Mantén tus réplicas actualizadas!</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=mirror-official-become>5.2. ¿Entonces, cómo convertirse en una replica oficial?<a class=anchor href=#mirror-official-become></a></h3><div class=paragraph><p>No estamos aceptando nuevas réplicas en este momento.</p></div></div></div></div><div class=sect1><h2 id=mirror-statpages>6. Algunas estadísticas de las réplicas<a class=anchor href=#mirror-statpages></a></h2><div class=sectionbody><div class=paragraph><p>Aquí dispone de enlaces a las páginas de estadísticas de sus réplicas favoritas (también conocidas como las únicas que desean proporcionarlas).</p></div><div class=sect2><h3 id=mirror-statpagesftp>6.1. Estadísticas de los sitios FTP<a class=anchor href=#mirror-statpagesftp></a></h3><div class=ulist><ul><li><p>ftp.is.FreeBSD.org - <a href=mailto:hostmaster@is.FreeBSD.org>hostmaster@is.FreeBSD.org</a> - <a href=http://www.rhnet.is/status/draupnir/draupnir.html>(Bandwidth)</a> <a href=http://www.rhnet.is/status/ftp/ftp-notendur.html>(FTP processes)</a> <a href=http://www.rhnet.is/status/ftp/http-notendur.html>(HTTP processes)</a></p></li><li><p>ftp2.ru.FreeBSD.org - <a href=mailto:mirror@macomnet.ru>mirror@macomnet.ru</a> - <a href=http://mirror.macomnet.net/mrtg/mirror.macomnet.net_195.128.64.25.html>(Bandwidth)</a> <a href=http://mirror.macomnet.net/mrtg/mirror.macomnet.net_proc.html>(HTTP and FTP users)</a></p></li></ul></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 5 de agosto de 2022 by <a href="https://cgit.freebsd.org/doc/commit/?id=b6bdc12e37" target=_blank>Fernando Apesteguía</a></p></div></div><aside class=toc><div class=toc-content><h3>Tabla de contenidos</h3><nav id=TableOfContents><ul><li><a href=#mirror-contact>1. Información de contacto</a></li><li><a href=#mirror-requirements>2. Requisitos para las réplicas de FreeBSD</a></li><li><a href=#mirror-howto>3. Cómo replicar FreeBSD</a></li><li><a href=#mirror-where>4. De donde replicar</a></li><li><a href=#mirror-official>5. Replicas oficiales</a></li><li><a href=#mirror-statpages>6. Algunas estadísticas de las réplicas</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Descargar PDF"></i><a href=https://download.freebsd.org/doc/es/articles/hubs/hubs_es.pdf>Descargar PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Editar esta página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/es/_index target=_blank>Editar esta página</a></li></ul></div></div></aside></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/es/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Elegir idioma">
<span>Spanish</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Claro</option><option value=theme-dark>Oscuro</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/es class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/es/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>