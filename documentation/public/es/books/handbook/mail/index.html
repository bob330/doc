<!doctype html><html class=theme-light lang=es><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/es/books/handbook/mail/><title>Capítulo 27. Correo Electrónico | Portal de documentación de FreeBSD</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Capítulo 27. Correo Electrónico"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="es"><meta property="og:url" content="http://172.16.201.134:1313/es/books/handbook/mail/"><meta property="og:site_name" content="Portal de documentación de FreeBSD"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/es\/books\/handbook\/mail\/","name":"Portal de documentación de FreeBSD","headline":"Portal de documentación de FreeBSD","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/es>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/es/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/es/books>Books</a></li><li><a href=http://172.16.201.134:1313/es/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/es/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=es>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/preface/>Prefacio</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/preface/#preface-audience>A quién va dirigido este texto</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/preface/#preface-changes-from2>Cambios desde la segunda edición</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/preface/#preface-changes>Cambios desde la primera edición</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/preface/#preface-overview>Cómo se organiza este libro</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/preface/#preface-conv>Convenciones usadas en este libro</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/preface/#preface-acknowledgements>Agradecimientos</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/parti/>Parte I. Primeros pasos</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/introduction/>Capítulo 1. Introducción</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/introduction/#introcution-synopsis>1.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/introduction/#nutshell>1.2. Bienvenido a FreeBSD</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/introduction/#history>1.3. Acerca del Proyecto FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/install/>Capítulo 2. Instalación de FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-synopsis>2.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-hardware>2.2. Requisitos de hardware</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-pre>2.3. Tareas anteriores a la instalación</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-start>2.4. Inicio de la instalación</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#using-sysinstall>2.5. ¿Qué es sysinstall?</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-steps>2.6. Asignación de espacio en disco</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-choosing>2.7. Elección de qué instalar</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-media>2.8. Elección del medio de instalación</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-final-warning>2.9. El punto sin retorno</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-post>2.10. Después de la instalación</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-trouble>2.11. Solución de problemas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-advanced>2.12. Guía avanzada de instalación</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/install/#install-diff-media>2.13. Cómo preparar su propio medio de instalación</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/basics/>Capítulo 3. Conceptos básicos de Unix</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#basics-synopsis>3.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#consoles>3.2. Consolas virtuales y terminales</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#permissions>3.3. Permisos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#dirstructure>3.4. Estructura de directorios</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#disk-organization>3.5. Organización de disco</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#mount-unmount>3.6. Montaje y desmontaje de sistemas de ficheros</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#basics-processes>3.7. Procesos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#basics-daemons>3.8. Dæmons, señales y cómo matar procesos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#shells>3.9. Shells</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#editors>3.10. Editores de texto</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#basics-devices>3.11. Dispositivos y nodos de dispositivos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#binary-formats>3.12. Formatos binarios</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/basics/#basics-more-information>3.13. Más información</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/ports/>Capítulo 4. Instalación de aplicaciones: packages y ports</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/ports/#ports-synopsis>4.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ports/#ports-overview>4.2. Aproximación a la instalación de software</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ports/#ports-finding-applications>4.3. Cómo encontrar aplicaciones</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ports/#packages-using>4.4. Uso del sistema de packages</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ports/#ports-using>4.5. Uso de la colección de ports</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ports/#ports-nextsteps>4.6. Después de instalar un port</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ports/#ports-broken>4.7. Ports que no funcionan</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/x11/>Capítulo 5. El sistema X Window</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/x11/#x11-synopsis>5.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/x11/#x-understanding>5.2. Entender X</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/x11/#x-install>5.3. Instalar X11</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/x11/#x-config>5.4. Configuración de X11</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/x11/#x-fonts>5.5. Uso de tipos en X11</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/x11/#x-xdm>5.6. El gestor de pantalla X</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/x11/#x11-wm>5.7. Entornos de escritorio</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/partii/>Parte II. Tareas comunes</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/desktop/>Capítulo 6. Aplicaciones de escritorio</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/desktop/#desktop-synopsis>6.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/desktop/#desktop-browsers>6.2. Navegadores</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/desktop/#desktop-productivity>6.3. Productividad</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/desktop/#desktop-viewers>6.4. Visores de documentos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/desktop/#desktop-finance>6.5. Finanzas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/desktop/#desktop-summary>6.6. Resumen</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/multimedia/>Capítulo 7. Multimedia</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/multimedia/#_sinopsis>7.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/multimedia/#sound-setup>7.2. Configuración de la tarjeta de sonido</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/multimedia/#sound-mp3>7.3. Sonido MP3</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/multimedia/#video-playback>7.4. Reproducción de vídeo</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/multimedia/#tvcard>7.5. Configuración de tarjetas de TV</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/multimedia/#scanners>7.6. Escáneres de imágenes</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/>Capítulo 8. Configuración del kernel de FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/#_sinopsis>8.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/#_qué_razones_hay_para_compilar_un_kernel_personalizado>8.2. ¿Qué razones hay para compilar un kernel personalizado?</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/#kernelconfig-devices>8.3. Inventario de hardware del sistema</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/#kernelconfig-modules>8.4. Controladores del kernel, subsistemas y módulos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/#kernelconfig-building>8.5. Compilación e instalación de un kernel personalizado</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/#kernelconfig-config>8.6. El fichero de configuración</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/kernelconfig/#kernelconfig-trouble>8.7. Qué hacer si algo va mal</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/printing/>Capítulo 9. Imprimir</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/printing/#_sinopsis>9.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/printing/#printing-intro-spooler>9.2. Introducción</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/printing/#printing-intro-setup>9.3. Configuración básica</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/printing/#printing-advanced>9.4. Configuración avanzada de impresoras</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/printing/#printing-using>9.5. Cómo utilizar impresoras</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/printing/#printing-lpd-alternatives>9.6. Alternativas a LPD</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/printing/#printing-troubleshooting>9.7. Solución de problemas</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/>Capítulo 10. Compatibilidad binaria con Linux</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Instalación</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#linuxemu-mathematica>10.3. Instalación de Mathematica®</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#linuxemu-maple>10.4. Instalación de Maple™</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#linuxemu-matlab>10.5. Instalación de MATLAB®</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#linuxemu-oracle>10.6. Instalación de Oracle®</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#sapr3>10.7. Instalación de SAP® R/3®</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/linuxemu/#linuxemu-advanced>10.8. Temas avanzados</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/partiii/>Parte III. Administración del sistema</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/config/>Capítulo 11. Configuración y Adaptación del Sistema</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/config/#config-network-setup>11.1. Configuración de Tarjetas de Red</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/config/#configtuning-starting-services>11.2. "Arrancar servicios"</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/config/#soft-updates>11.3. "Soft Updates"</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/config/#adding-swap-space>11.4. Añadir espacio swap</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/boot/>Capítulo 12. El proceso de arranque en FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/boot/#boot-synopsis>12.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/boot/#boot-introduction>12.2. El problema que representa arrancar el sistema</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/boot/#boot-blocks>12.3. El RMA y las etapas de arranque uno, dos y tres</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/boot/#boot-kernel>12.4. Interacción con el kernel durante el arranque</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/boot/#device-hints>12.5. Device Hints</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/boot/#boot-init>12.6. Init: inicialización del proceso de control</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/boot/#boot-shutdown>12.7. Secuencia de apagado</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/users/>Capítulo 13. Usuarios y administración básica de cuentas</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-synopsis>13.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-introduction>13.2. Introducción</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-superuser>13.3. La cuenta superusuario</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-system>13.4. Cuentas de sistema</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-user>13.5. Cuentas de usuario</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-modifying>13.6. Modificación de cuentas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-limiting>13.7. Limitar a los usuarios</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-personalizing>13.8. Personalizar a los usuarios</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/users/#users-groups>13.9. Grupos</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/security/>Capítulo 14. Seguridad</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#security-synopsis>14.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#security-intro>14.2. Introducción</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#securing-freebsd>14.3. Asegurar FreeBSD</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#crypt>14.4. DES, MD5 y Crypt</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#one-time-passwords>14.5. Contraseñas de un solo uso</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#tcpwrappers>14.6. TCP Wrappers</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#kerberosIV>14.7. KerberosIV</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#kerberos5>14.8. Kerberos5</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#openssl>14.9. OpenSSL</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#ipsec>14.10. VPN sobre IPsec</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#openssh>14.11. OpenSSH</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#fs-acl>14.12. Listas de control de acceso a sistemas de ficheros</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#security-portaudit>14.13. Monitorización de fallos de seguridad de aplicaciones</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#security-advisories>14.14. FreeBSD Security Advisories</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/security/#security-accounting>14.15. Contabilidad de procesos</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/jails/>Capítulo 15. Jaulas</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/jails/#jails-synopsis>15.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/jails/#jails-terms>15.2. Términos relacionados con las jaulas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/jails/#jails-intro>15.3. Introducción</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/jails/#jails-build>15.4. Creación y gestión de jaulas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/jails/#jails-tuning>15.5. Administración y personalización a fondo</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/jails/#jails-application>15.6. Uso de las jaulas</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/mac/>Capítulo 16. Mandatory Access Control</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-synopsis>16.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-inline-glossary>16.2. Términos clave en este capí­tulo</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-initial>16.3. Explicación de MAC</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-understandlabel>16.4. Las etiquetas MAC</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-modules>16.5. Configuración de módulos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-ifoff>16.6. El módulo MAC ifoff</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-portacl>16.7. El módulo MAC portacl</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-labelingpolicies>16.8. Polí­ticas de etiquetas MAC</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-partition>16.9. El módulo MAC partition</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-mls>16.10. El módulo de seguridad multinivel MAC</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-biba>16.11. El módulo MAC Biba</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-lomac>16.12. El módulo MAC LOMAC</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-implementing>16.13. Implementación de un entorno seguro con MAC</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#MAC-examplehttpd>16.14. Otro ejemplo: Uso de MAC para restringir un servidor web</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mac/#mac-troubleshoot>16.15. Depuración de errores en MAC</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/audit/>Capítulo 17. Auditoría de eventos de seguridad</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/audit/#audit-synopsis>17.1. *</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/disks/>Capítulo 18. Almacenamiento</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#disks-synopsis>18.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#disks-naming>18.2. Nombres de dispositivo</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#disks-adding>18.3. Añadir discos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#raid>18.4. RAID</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#usb-disks>18.5. Dispositivos de almacenamiento USB</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#creating-cds>18.6. Creación y uso de medios ópticos (CD)</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#creating-dvds>18.7. Crear y utilizar medios ópticos (DVDs)</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#floppies>18.8. Creación y uso de disquetes (floppies)</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#backups-tapebackups>18.9. Creación y uso de cintas de datos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#backups-floppybackups>18.10. Respaldos en disquetes</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#backup-basics>18.11. Bases para respaldos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#disks-virtual>18.12. Sistemas de ficheros en red, memoria y respaldados en fichero</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#snapshots>18.13. Instantáneas ("snapshots") de sistemas de ficheros</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#quotas>18.14. Cuotas en sistemas de ficheros</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/disks/#disks-encrypting>18.15. Cifrado de particiones de disco</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/geom/>Capítulo 19. GEOM. Marco de trabajo modular de transformación de discos</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/geom/#GEOM-synopsis>19.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/geom/#GEOM-intro>19.2. Introducción a GEOM</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/geom/#GEOM-striping>19.3. RAID0 - Distribución por bandas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/geom/#GEOM-mirror>19.4. RAID1 - Replicación</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/vinum/>Capítulo 20. El Gestor de Volúmenes Vinum</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-synopsis>20.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-intro>20.2. Los Discos son Demasiado Pequeños</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-access-bottlenecks>20.3. Cuellos de Botella en el Acceso</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-data-integrity>20.4. Integridad de Datos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-objects>20.5. Objetos Vinum</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-examples>20.6. Ejemplos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-object-naming>20.7. Esquema de Nombres de los Objetos</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-config>20.8. Configuración de Vinum</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/vinum/#vinum-root>20.9. Uso de Vinum en el Sistema de Ficheros Raíz</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/virtualization/>Capítulo 21. Virtualización</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/virtualization/#virtualization-synopsis>21.1. *</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/l10n/>Capítulo 22. Localización - Uso y configuración de I18N/L10N</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/l10n/#l10n-synopsis>22.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/l10n/#l10n-basics>22.2. Lo básico</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/l10n/#using-localization>22.3. Uso de la localización</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/l10n/#l10n-compiling>22.4. Compilación de programas con soporte para I18N</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/l10n/#lang-setup>22.5. Localización de FreeBSD a idiomas específicos</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/cutting-edge/>Capítulo 23. Lo último de lo último</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/cutting-edge/#_sinopsis>23.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/cutting-edge/#current-stable>23.2. FreeBSD-CURRENT vs. FreeBSD-STABLE</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/cutting-edge/#synching>23.3. Sincronización de su código fuente</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/cutting-edge/#makeworld>23.4. Uso de <code>make world</code></a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/cutting-edge/#small-lans>23.5. Redes pequeñas</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/partiv/>Parte IV. Comunicaciones en red</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/serialcomms/>Capítulo 24. Comunicaciones serie</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/serialcomms/#serial-synopsis>24.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/serialcomms/#serial>24.2. Introducción</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/serialcomms/#term>24.3. Terminales</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/serialcomms/#dialup>24.4. Servicio dial-in</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/serialcomms/#dialout>24.5. Servicio dial-out</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/serialcomms/#serialconsole-setup>24.6. Configurando la consola serie</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/ppp-and-slip/>Capítulo 25. PPP y SLIP</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/ppp-and-slip/#_sinopsis>25.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ppp-and-slip/#userppp>25.2. Uso de User PPP</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ppp-and-slip/#ppp>25.3. Uso de Kernel PPP</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ppp-and-slip/#pppoe>25.4. Uso de PPP sobre Ethernet (PPPoE)</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ppp-and-slip/#pppoa>25.5. Uso de PPP sobre ATM (PPPoA)</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/ppp-and-slip/#slip>25.6. Uso de SLIP</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/firewalls/>Capítulo 26. Cortafuegos</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/firewalls/#firewalls-intro>26.1. *</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle checked>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/mail/>Capítulo 27. Correo Electrónico</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-synopsis>27.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-using>27.2. Utilización del correo electrónico</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#sendmail>27.3. Configuración de sendmail</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-changingmta>27.4. Sustitución del Agente de Transferencia de Correo</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-trouble>27.5. Depuración de Problemas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-advanced>27.6. Conceptos Avanzados</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#SMTP-UUCP>27.7. SMTP con UUCP</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#outgoing-only>27.8. Configuración para sólamente enviar correo</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#SMTP-dialup>27.9. Utilización del correo con una conexión mediante módem analógico (dial-up)</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#SMTP-Auth>27.10. Autentificación utilizando SMTP</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-agents>27.11. Agente de Correo de Usuario</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-fetchmail>27.12. Manejo de fetchmail</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mail/#mail-procmail>27.13. Uso de procmail</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/network-servers/>Capítulo 28. Servidores de red</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/network-servers/#network-servers-synopsis>28.1. *</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/partv/>Parte V. Apéndices</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/mirrors/>Apéndice A. Cómo obtener FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/mirrors/#mirrors-ftp>A.1. Servidores FTP</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/mirrors/#cvsup>A.2. Uso de CVSup</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/>Apéndice B. Bibliografía</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_libros_y_revistas_específicas_sobre_freebsd>B.1. Libros y revistas específicas sobre FreeBSD</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_guías_de_usuario>B.2. Guías de usuario</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_guías_de_administrador>B.3. Guías de administrador</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_guías_de_programadores>B.4. Guías de programadores</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_el_sistema_operativo_por_dentro>B.5. El sistema operativo por dentro</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_referencia_de_seguridad>B.6. Referencia de seguridad</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_referencia_de_hardware>B.7. Referencia de hardware</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_historia_de_unix>B.8. Historia de UNIX</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/bibliography/#_diarios_y_revistas>B.9. Diarios y revistas</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/eresources/>Apéndices C. Recursos en Internet</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/eresources/#eresources-mail>C.1. Listas de correo</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/eresources/#eresources-news>C.2. Grupos de noticias de Usenet</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/eresources/#eresources-web>C.3. Servidores WWW</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/eresources/#eresources-email>C.4. Direcciones de correo electrónico</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/eresources/#eresources-shell>C.5. Cuentas shell</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/pgpkeys/>Apéndice D. PGP keys</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Responsables</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/>Capítulo 34. Redes Avanzadas</a><ul><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#advanced-networking-synopsis>34.1. Sinopsis</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-routing>34.2. Gateways y Rutas</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#configtuning-virtual-hosts>34.3. Hosts Virtuales</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-advanced-wireless>34.4. Autenticación Inalámbrica Avanzada</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#wireless-ad-hoc-mode>34.5. Modo Ad-hoc Inalámbrico</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-usb-tethering>34.6. Tethering USB</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-bluetooth>34.7. Bluetooth</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-bridging>34.8. Bridging</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-aggregation>34.9. Agregación de Enlaces y Conmutación</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-diskless>34.10. Operación sin Disco con PXE</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#carp>34.11. Common Address Redundancy Protocol (CARP)</a></li><li><a href=http://172.16.201.134:1313/es/books/handbook/advanced-networking/#network-vlan>34.12. VLANs</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Menú del libro"></i>
Menú del libro</span></label></div><h1 class=title>Capítulo 27. Correo Electrónico</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Tabla de contenidos</h3><nav id=TableOfContents><ul><li><a href=#mail-synopsis>27.1. Sinopsis</a></li><li><a href=#mail-using>27.2. Utilización del correo electrónico</a></li><li><a href=#sendmail>27.3. Configuración de sendmail</a></li><li><a href=#mail-changingmta>27.4. Sustitución del Agente de Transferencia de Correo</a></li><li><a href=#mail-trouble>27.5. Depuración de Problemas</a></li><li><a href=#mail-advanced>27.6. Conceptos Avanzados</a></li><li><a href=#SMTP-UUCP>27.7. SMTP con UUCP</a></li><li><a href=#outgoing-only>27.8. Configuración para sólamente enviar correo</a></li><li><a href=#SMTP-dialup>27.9. Utilización del correo con una conexión mediante módem analógico (dial-up)</a></li><li><a href=#SMTP-Auth>27.10. Autentificación utilizando SMTP</a></li><li><a href=#mail-agents>27.11. Agente de Correo de Usuario</a></li><li><a href=#mail-fetchmail>27.12. Manejo de fetchmail</a></li><li><a href=#mail-procmail>27.13. Uso de procmail</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=mail-synopsis>27.1. Sinopsis<a class=anchor href=#mail-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>El "Correo Electrónico", o "email", es una de las formas de comunicación más usadas hoy en dia. Este capítulo es una introducción básica de cómo poner en marcha un servidor de correo en FreeBSD, aunque no es una guía completa y se han omitido muchos conceptos importantes. Si se necesita información exhaustiva sobre el tema puede recurrirse a los libros listados en <a href=../bibliography/#bibliography>Bibliografía</a>.</p></div><div class=paragraph><p>Después de leer este capítulo usted sabrá:</p></div><div class=ulist><ul><li><p>Qué software está involucrado en el envío y recepción de correo electrónico.</p></li><li><p>Dónde se encuentran en FreeBSD los ficheros básicos de configuración de sendmail.</p></li><li><p>Cómo bloquear a los "spammers" y evitar el uso no autorizado de su servidor de correo.</p></li><li><p>Cómo instalar y configurar agentes de transferencia de correo (MTA) en su sistema, para reemplazar sendmail.</p></li><li><p>Cómo resolver problemas comunes en servidores de correo.</p></li><li><p>Cómo usar SMTP con UUCP.</p></li><li><p>Cómo usar correo con una conexión dialup.</p></li><li><p>Cómo configurar SMTP con autentificación para más seguridad.</p></li></ul></div><div class=paragraph><p>Antes de leer este capítulo debería usted:</p></div><div class=ulist><ul><li><p>Configurar apropiadamente su conexión de red (<a href=../advanced-networking/#advanced-networking>Networking avanzado</a>).</p></li><li><p>Configurar apropiadamente la información de DNS de su servidor de correo (<a href=../advanced-networking/#advanced-networking>Networking avanzado</a>).</p></li><li><p>Saber como instalar software adicional (<a href=../ports/#ports>Instalación de aplicaciones: «packages» y ports</a>).</p></li></ul></div></div></div><div class=sect1><h2 id=mail-using>27.2. Utilización del correo electrónico<a class=anchor href=#mail-using></a></h2><div class=sectionbody><div class=paragraph><p>Existen varios elementos relacionados con el intercambio de correo electrónico. A saber: <a href=#mail-mua>El agente de usuario (Mail User Agent o MUA)</a>, <a href=#mail-mta>El agente de transporte de correo (Mail Transport Agent o MTA)</a>, <a href=#mail-dns>El DNS</a>, <a href=#mail-receive>Las carpetas de correo (Mailboxes)</a>, y por supuesto, <a href=#mail-host>la máquina servidora de correo (mail host)</a>.</p></div><div class=sect2><h3 id=mail-mua>27.2.1. El Agente de Usuario<a class=anchor href=#mail-mua></a></h3><div class=paragraph><p>Entre las opciones más conocidas tenemos: mutt, pine, elm, y <code>mail</code>, junto con programas con interfaz gráfica del estilo de balsa o xfmail por nombrar unos pocos. También existen lectores de correo basados en navegadores web. Los programas de correo basados en navegadores web actúan de pasarela para las transacciones de correo electrónico, entregando dichas transacciones al <a href=#mail-host>"servidor de correo"</a> local, llamando a uno de los <a href=#mail-mta>agentes de transporte de correo</a> disponibles en la máquina local, o entregando dichas transacciones a un agente de transporte remoto utilizando el protocolo TCP.</p></div></div><div class=sect2><h3 id=mail-mta>27.2.2. Agente de Transporte de Correo<a class=anchor href=#mail-mta></a></h3><div class=paragraph><p>FreeBSD viene con sendmail por defecto, pero también se soportan otros dæmones, entre los cuales se encuentran:</p></div><div class=ulist><ul><li><p>exim;</p></li><li><p>postfix;</p></li><li><p>qmail.</p></li></ul></div><div class=paragraph><p>El agente de transporte de correo normalmente posee dos funcionalidades, por un lado se responsabiliza de la recepción y por otro se encarga de entregar el correo de salida. <em>No</em> es responsable de la recolección automática de correo mediante la utilización de protocolos como POP o IMAP, ni se utiliza para que el usuario pueda acceder a las carpetas de correo locales. Para realizar estas otras tareas, se necesitan <a href=#mail-receive>dæmons</a> adicionales.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Versiones antiguas de sendmail poseen varios problemas de seguridad que pueden facilitar a un atacante el acceso local o remoto a la máquina que ejecuta sendmail. Para evitar dichos problemas de seguridad se recomienda utilizar una versión actualizada de sendmail. Tiene más opciones a la hora de elegir MTA en los <a href=../ports/#ports>Ports de FreeBSD</a>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=mail-dns>27.2.3. Correo electrónico y DNS<a class=anchor href=#mail-dns></a></h3><div class=paragraph><p>El Sistema de Nombres de Dominio (en inglés DNS) y su correspondiente dæmon (llamado <code>named</code>) constituyen una parte fundamental del procedimiento de entrega de correo electrónico. Para entregar el correo electrónico al destinatario adecuado el dæmon servidor de correo busca el sitio remoto dentro del sistema de DNS.</p></div><div class=paragraph><p>El DNS es la entidad responsable de asociar nombres con direcciones IP, pero además se encarga de almacenar información específica relacionada con la entrega de correo mediante registros de tipo MX. Los registros MX (Mail eXchanger) especifican qué máquina o máquinas están encargadas de recibir correo electrónico para un determinado nombre de dominio. En caso de no existir ningún registro MX para el dominio del destinatario, se busca información almacenada en registros de tipo A para enviar el correo al destino final.</p></div><div class=paragraph><p>Se pueden consultar los registros MX para cualquier dominio utilizando el comando <a href="https://man.freebsd.org/cgi/man.cgi?query=host&amp;sektion=1&amp;format=html">host(1)</a>, como se puede observar en el siguiente ejemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% host <span class=nt>-t</span> mx FreeBSD.org
        FreeBSD.org mail is handled <span class=o>(</span><span class=nv>pri</span><span class=o>=</span>10<span class=o>)</span> by mx1.FreeBSD.org</code></pre></div></div></div><div class=sect2><h3 id=mail-receive>27.2.4. Recepción de correo<a class=anchor href=#mail-receive></a></h3><div class=paragraph><p>La recepción de correo electrónico para su dominio se realiza mediante lo que se conoce como la máquina de correo (mail host). Ésta máquina recoge todo el correo dirigido a su dominio y lo almacena en <span class=filename>mbox</span> (el método por defecto para el almacenamiento de correo) o en formato Maildir, dependiendo de la configuración de la máquina. Una vez que el correo ha sido almacenado con éxito se puede leer en local utilizando aplicaciones como <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> o como mutt, o de forma remota mediante un conjunto de protocolos tales como POP o IMAP. Esto significa que si usted va a leer el correo de forma local no necesita instalar ningún servidor de POP o IMAP.</p></div><div class=sect3><h4 id=pop-and-imap>27.2.4.1. Acceso a carpetas de correo remotas mediante POP e IMAP<a class=anchor href=#pop-and-imap></a></h4><div class=paragraph><p>Para poder acceder a carpetas de correo de forma remota se necesita tener acceso a un servidor de POP o IMAP. Éstos protocolos permiten a los usuarios conectarse a sus carpetas de correo desde ubicaciones remotas de una forma sencilla. Aunque ambos, POP y IMAP, permiten este acceso remoto IMAP ofrece algunas ventajas añadidas, algunas de las cuales son:</p></div><div class=ulist><ul><li><p>El acceso mediante IMAP permite almacenar los correos en el servidor remoto sin necesidad de extraerlos y tener que almacenarlos en local.</p></li><li><p>IMAP soporta actualizaciones concurrentes.</p></li><li><p>IMAP resulta ser extremadamente útil bajo enlaces de baja velocidad puesto que permite a los usuarios recuperar la estructura de los mensajes sin necesidad de bajarse todo el contenido. Además puede realizar tareas tales como búsquedas directas en el servidor con el fin de minimizar la utilización de la red.</p></li></ul></div><div class=paragraph><p>Para instalar un servidor de POP o de IMAP se deben dar los siguientes pasos:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Seleccionar el servidor IMAP o POP que mejor cumpla a sus necesidades. Los siguientes servidores POP e IMAP son bien conocidos y son firmes candidatos para ello:</p><div class=ulist><ul><li><p>qpopper;</p></li><li><p>teapop;</p></li><li><p>imap-uw;</p></li><li><p>courier-imap;</p></li></ul></div></li><li><p>Instalar el dæmon POP o IMAP de su elección desde el árbol de "ports".</p></li><li><p>Modifique donde sea necesario <span class=filename>/etc/inetd.conf</span> para que el servidor POP o IMAP se ejecute automáticamente.</p></li></ol></div></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Tenga en cuenta que tanto POP como IMAP transmiten información, en especial el usuario y la contraseña, en texto plano. Eso significa que si se desea seguridad en la transmisión de la información a través de la red se deben considerar mecanismos adicionales como por ejemplo el encapsulado de la sesión mediante <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>. El encapsulado de sesiones se explica en <a href=../security/#security-ssh-tunneling>Túneles SSH</a>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=local>27.2.4.2. Acceso a carpetas de correo locales<a class=anchor href=#local></a></h4><div class=paragraph><p>Las carpetas de correo pueden abrirse de forma local utilizando un agente de correo de usuario (MUA) en el servidor donde reside la carpeta. Se suelen usar los programas mutt or <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a>.</p></div></div></div><div class=sect2><h3 id=mail-host>27.2.5. El Servidor de Correo (Mail Host)<a class=anchor href=#mail-host></a></h3><div class=paragraph><p>El servidor de correo es el nombre que se usa para identificar a la máquina responsable de la entrega y recepción de correo electrónico dentro de una organización. Ésta máquina puede recibir correo de varios usuarios dentro de su dominio.</p></div></div></div></div><div class=sect1><h2 id=sendmail>27.3. Configuración de sendmail<a class=anchor href=#sendmail></a></h2><div class=sectionbody><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> es el agente de transporte de correo (MTA) por defecto de FreeBSD. La responsabilidad de sendmail consiste en aceptar correo de agentes de correo de usuario (MUA) y en entregar dichos correos al agente de transporte de correo apropiado, según se especifique en su archivo de configuración. Sendmail también acepta conexiones de red provinientes de otros agentes de transporte y puede depositar el correo recibido en carpetas locales o o entregarlo a otros programas.</p></div><div class=paragraph><p>sendmail utiliza los siguientes ficheros de configuración:</p></div><table class="tableblock frame-all grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Filename</th><th class="tableblock halign-left valign-top">Function</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/access</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Base de datos de accesos de sendmail</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/aliases</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Carpeta de alias</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/local-host-names</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Listados de máquinas para las que sendmailacepta correo</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/mailer.conf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Configuración del programa de correo</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/mailertable</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tabla de entregas de correo</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/sendmail.cf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Archivo de configuración principal de sendmail</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/virtusertable</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Usuarios virtuales y tablas de dominio</p></td></tr></tbody></table><div class=sect2><h3 id=_etcmailaccess>27.3.1. <span class=filename>/etc/mail/access</span><a class=anchor href=#_etcmailaccess></a></h3><div class=paragraph><p>La base de datos de accesos define qué máquinas o direcciones IP pueden acceder al servidor de correo y quée clase de acceso tienen permitido. Las máquinas se listan junto con las opciones <code>OK</code>, <code>REJECT</code>, <code>RELAY</code> o simplemente junto con un mensaje de error que se entrega a la rutina de gestión de excepciones de sendmail. Las máquinas que se listan junto con la opción <code>OK</code>, que es el valor por defecto, tienen permiso para enviar correo a la máquina servidora siempre y cuando la dirección de correo de destino sea la máquina servidora de correo. Las máquinas listadas junto con la opción <code>REJECT</code> tienen el acceso prohibido a conexiones de correo electrónico con el servidor. Por último las máquinas que poseen la etiqueta <code>RELAY</code> para sus nombres tienen permitido enviar correo para cualquier destino a través de la máquina servidora de correo.</p></div><div class=exampleblock><div class=title>Ejemplo 1. Configuración de la base de datos de acceso de sendmail</div><div class=content><div class="literalblock programlisting"><div class=content><pre>cyberspammer.com                550 We don&#39;t accept mail from spammers
FUENTE.DE.CORREO.INDISCRIMINADO@ 550 We don&#39;t accept mail from spammers
otra.fuente.de.spam             REJECT
okay.cyberspammer.com           OK
128.32                          RELAY</pre></div></div></div></div><div class=paragraph><p>En el ejemplo se pueden observar cinco entradas. Los generadores de correo que coinciden con la parte izquierda de la tabla se ven afectados por la parte acción especificada en la parte derecha. Los primeros dos ejemplos emiten un código de error para la rutina de excepciones de sendmail. El mensaje de error se transmite a la máquina remota cuando se recibe un correo que coincide con la parte izquierda de la tabla. La siguiente entrada rechaza correo de una determinada máquina de internet, <code>otra.fuente.de.spam</code>. La siguiente entrada acepta conexiones de correo de la máquina <code>okay.cyberspammer.com</code>, lo cual es más exacto que la línea de arriba de <code>cyberspammer.com</code>. Las coincidencias más completas tienen precedencia sobre las menos específicas. La última entrada permite actuar como "relay" o pasarela de correo electrónico para aquellas máquinas que posean una dirección IP que comience por <code>128.32</code>. Éstas máquinas podrían enviar correo destinado a otros servidores de correo utilizando el nuestro.</p></div><div class=paragraph><p>Cuando se actualiza este fichero se debe ejecutar <code>make</code> dentro de <span class=filename>/etc/mail/</span> para que se actualice la base de datos.</p></div></div><div class=sect2><h3 id=_etcmailaliases>27.3.2. <span class=filename>/etc/mail/aliases</span><a class=anchor href=#_etcmailaliases></a></h3><div class=paragraph><p>La base de datos de alias contiene una lista de directorios virtuales que son traducidas a otros usuarios, ficheros, programas o incluso otros alias. A continuación se muestran unos pocos ejemplos de la sintáxis que se puede utilizar dentro del fichero <span class=filename>/etc/mail/aliases</span>:</p></div><div class=exampleblock><div class=title>Ejemplo 2. Mail Aliases</div><div class=content><div class="literalblock programlisting"><div class=content><pre>root: usuariolocal
ftp-bugs: joe,eric,paul
bit.bucket:  /dev/null
procmail: &#34;|/usr/local/bin/procmail&#34;</pre></div></div></div></div><div class=paragraph><p>El formato del fichero es sencillo; el nombre de la carpeta de correo que aparece a la izquierda de los dos puntos se traduce al/los destinos de la derecha. El primer ejemplo simplemente traduce la carpeta <code>root</code> a la carpeta <code>usuariolocal</code>, la cual se examina de nuevo utilizando la misma base de datos de alias, y si no existe ninguna otra coincidencia el mensaje se entrega al usuario local <code>usuariolocal</code>. En el ejemplo siguiente se muestra una lista de correo. Todo correo que se envía a la carpeta <code>ftp-bugs</code> se traduce en un envío para tres carpetas locales diferentes: <code>joe</code>, <code>eric</code> y <code>paul</code>. Es importante señalar que también se pueden especificar carpetas remotas mediante la forma <code>usuario@ejemplo.com</code>. El siguiente ejemplo muestra la escritura del correo a un fichero, en este caso en <span class=filename>/dev/null</span>. El último ejemplo muestra el envió de correo a un programa; en este caso el mensaje de correo se escribe en la entrada estándar del programa <span class=filename>/usr/local/bin/procmail</span> utilizando una tubería (o " pipe") de UNIX®.</p></div><div class=paragraph><p>Cuando se actualiza este fichero se debe ejecutar <code>make</code> dentro de <span class=filename>/etc/mail/</span> para actualizar la base de datos.</p></div></div><div class=sect2><h3 id=_etcmaillocal_host_names>27.3.3. <span class=filename>/etc/mail/local-host-names</span><a class=anchor href=#_etcmaillocal_host_names></a></h3><div class=paragraph><p>Este archivo es una lista de nombres de máquinas que <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> acepta como nombres locales. Se suele utilizar para escribir aquellos dominios o máquinas de los cuales sendmail va a recibir correo. Por ejemplo, si nuestro servidor de correo va a aceptar correo proveniente del dominio <code>ejemplo.com</code> y también de la máquina <code>mail.ejemplo.com</code> nuestro <span class=filename>local-host-names</span> debería ser algo así:</p></div><div class="literalblock programlisting"><div class=content><pre>ejemplo.com
mail.ejemplo.com</pre></div></div><div class=paragraph><p>Cuando se actualiza este fichero <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> necesita ser reiniciado para que tenga en cuenta los cambios.</p></div></div><div class=sect2><h3 id=_etcmailsendmail_cf>27.3.4. <span class=filename>/etc/mail/sendmail.cf</span><a class=anchor href=#_etcmailsendmail_cf></a></h3><div class=paragraph><p>Archivo de configuración principal de sendmail, controla el comportamiento global de sendmail, incluyendo cualquier tarea desde la reescritura de direcciones de correo electrónico hasta la devolución de mensajes de error a los servidores de correo remotos. Es evidente que con un abanico tan diverso el fichero de configuración acaba por ser bastante complejo y sus detalles quedan fuera de los objetivos de esta sección. Afortunadamente este fichero raras veces necesita ser modificado, al menos en lo que respecta a servidores de correo estándar.</p></div><div class=paragraph><p>El fichero de configuración principal de sendmail se puede construir a partir de <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a>, es decir, macros que se utilizan para definir características y comportamientos específicos de sendmail. Se ruega al lector consultar <span class=filename>/usr/src/contrib/sendmail/cf/README</span> para obtener más detalles acerca de las distintas macros que se pueden utilizar.</p></div><div class=paragraph><p>Cuando se realizan cambios a este fichero sendmail debe ser reiniciado para que los cambios surtan efecto.</p></div></div><div class=sect2><h3 id=_etcmailvirtusertable>27.3.5. <span class=filename>/etc/mail/virtusertable</span><a class=anchor href=#_etcmailvirtusertable></a></h3><div class=paragraph><p>El fichero <span class=filename>virtusertable</span> asocia direcciones de correo pertenecientes a dominios y carpetas virtuales con carpetas reales. Estas carpetas pueden ser locales, remotas, alias definidos en <span class=filename>/etc/mail/aliases</span> o incluso ficheros.</p></div><div class=exampleblock><div class=title>Ejemplo 3. Ejemplo de asociación de correo de dominio virtual</div><div class=content><div class="literalblock programlisting"><div class=content><pre>root@ejemplo.com                root
postmaster@ejemplo.com          postmaster@noc.ejemplo.net
@ejemplo.com                    joe</pre></div></div></div></div><div class=paragraph><p>En el ejemplo superior se observa una asociación para el dominio <code>ejemplo.com</code>. Este fichero se procesa de arriba a abajo buscando la primera coincidencia. La primera entrada asocia <code>root@ejemplo.com</code> con la carpeta de correo local denominada <code>root</code>. La siguiente entrada asocia <code>postmaster@ejemplo.com</code> con la carpeta <code>postmaster</code> situada en la máquina <code>noc.ejemplo.net</code>. Por último, si no se ha encontrado ninguna coincidencia para <code>ejemplo.com</code> se le asigna la última asociación, la cual asocia cualquier mensaje de correo proveniente de <code>ejemplo.com</code> con la carpeta de correo local denominada <code>joe</code>.</p></div></div></div></div><div class=sect1><h2 id=mail-changingmta>27.4. Sustitución del Agente de Transferencia de Correo<a class=anchor href=#mail-changingmta></a></h2><div class=sectionbody><div class=paragraph><p>Como ya se ha comentado FreeBSD viene con sendmail ya instalado como agente de transferencia de correo por defecto. De esta forma sendmail se encarga de gestionar el correo entrante y saliente.</p></div><div class=paragraph><p>No obstante, debido a distintas razones algunos administradores de sistemas prefieren utilizar otro MTA. Estas razones varían desde simplemente querer probar otros programas de transferencia de correo, hasta la necesidad de utilizar un determinado programa que hace uso de una función específica de un agente determinado. Por suerte cualesquiera que sean estas razones FreeBSD posee un sencillo procedimiento para sustituir a sendmail.</p></div><div class=sect2><h3 id=_instalación_de_un_nuevo_mta>27.4.1. Instalación de un nuevo MTA<a class=anchor href=#_instalación_de_un_nuevo_mta></a></h3><div class=paragraph><p>Existen una amplia gama de MTA alternativos a sendmail. Un buen punto de partida es el <a href=../ports/#ports>Sistema de Ports de FreeBSD</a>, donde se pueden localizar varios. Por supuesto el usuario tiene libertad para utilizar cualquier MTA, siempre y cuando se pueda ejecutar en FreeBSD sin problemas.</p></div><div class=paragraph><p>Lo primero es instalar el nuevo MTA. Una vez que está instalado normalmente se tiene la oportunidad para decidir si realmente cubre las necesidades y también se tiene la oportunidad de configurar el nuevo software antes de sustituir a sendmail. El usuario debe tener en cuenta que el nuevo MTA puede sobreescribir algunos binarios del sistema como por ejemplo <span class=filename>/usr/bin/sendmail</span>. En cualquier caso el nuevo software de correo suele entrar en funcionamiento con una configuración por defecto.</p></div><div class=paragraph><p>Por favor, recuerde que se recomienda leer la documentación del MTA seleccionado para obtener más información.</p></div></div><div class=sect2><h3 id=_desactivación_de_la_aplicación_sendmail>27.4.2. Desactivación de la aplicación sendmail<a class=anchor href=#_desactivación_de_la_aplicación_sendmail></a></h3><div class=paragraph><p>El procedimiento utilizado para ejecutar sendmail cambió significativamente entre las releases 4.5-RELEASE y 4.6-RELEASE. De esta forma el procedimiento utilizado para la desactivación hoy en día es sutílmente distinto al utilizado en dichas distribuciones.</p></div><div class=sect3><h4 id=_freebsd_4_5_stable_antes_de_200244_y_anteriores_incluyendo_4_5_release_y_anteriores>27.4.2.1. FreeBSD 4.5-STABLE antes de 2002/4/4 y anteriores (Incluyendo 4.5-RELEASE y anteriores)<a class=anchor href=#_freebsd_4_5_stable_antes_de_200244_y_anteriores_incluyendo_4_5_release_y_anteriores></a></h4><div class=paragraph><p>Introducir:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>dentro de <span class=filename>/etc/rc.conf</span>. Esta variable desactiva el servicio de recepción de correo de sendmail, pero salvo que se modifique (ver más adelante) el fichero <span class=filename>/etc/mail/mailer.conf</span> sendmail todavía será la aplicación elegida para enviar correo electrónico.</p></div></div><div class=sect3><h4 id=_freebsd_4_5_stable_desde_de_200244_incluyendo_4_6_release_y_posteriores>27.4.2.2. FreeBSD 4.5-STABLE desde de 2002/4/4 (Incluyendo 4.6-RELEASE y posteriores)<a class=anchor href=#_freebsd_4_5_stable_desde_de_200244_incluyendo_4_6_release_y_posteriores></a></h4><div class=paragraph><p>Para poder desactivar completamente sendmail haga lo siguiente:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NONE&#34;</pre></div></div><div class=paragraph><p>dentro del fichero <span class=filename>/etc/rc.conf.</span></p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Se desactiva el servicio de correo de salida de sendmail. Es importanque que se reemplace con un sistema de entrega de correo alternativo que sea totalmente funcional. En caso contrario funciones del sistema FreeBSD tales como <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a> no podrán entregar sus resultados por correo eletrónico tal y como normalmente hacen. Varias partes del sistema FreeBSD esperan disponer de un sistema de correo funcional compatible con sendmail. Si las aplicaciones continúan utilizando los binarios de sendmail para realizar envíos de correo después de su desactivación el correo podría ser almacenado en una cola inactiva de sendmail, en cuyo caso nunca se entregaría.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Si sólo se quiere desactivar el servicio de correo de entrada de sendmail, basta con establecer la variable:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>dentro de <span class=filename>/etc/rc.conf</span>. En <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.sendmail&amp;sektion=8&amp;format=html">rc.sendmail(8)</a> tiene más información sobre las opciones de arranque de sendmail.</p></div></div></div><div class=sect2><h3 id=_ejecución_del_nuevo_mta_en_el_arranque>27.4.3. Ejecución del nuevo MTA en el arranque<a class=anchor href=#_ejecución_del_nuevo_mta_en_el_arranque></a></h3><div class=paragraph><p>Existen dos métodos alternativos para ejecutar el nuevo MTA en el arranque, dependiendo de la versión de FreeBSD que se esté ejecutando.</p></div><div class=sect3><h4 id=_freebsd_4_5_stable_antes_de_2002411_incluyendo_4_5_release_y_anteriores>27.4.3.1. FreeBSD 4.5-STABLE antes de 2002/4/11 (Incluyendo 4.5-RELEASE y anteriores)<a class=anchor href=#_freebsd_4_5_stable_antes_de_2002411_incluyendo_4_5_release_y_anteriores></a></h4><div class=paragraph><p>Se debe añadir un script en <span class=filename>/usr/local/etc/rc.d/</span> cuyo nombre termine en <span class=filename>.sh</span> y que sea ejecutable por <code>root</code>. El script debe aceptar los parámetros <code>start</code> y <code>stop</code>. Cuando el sistema FreeBSD se está inicializando, los scripts de arranque ejecutarán el siguiente comando:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/local/etc/rc.d/supermailer.sh start</pre></div></div><div class=paragraph><p>La misma orden se puede utilizar también para ejecutar el servidor de forma manual. Cuando el sistema se está reiniciando los scripts del sistema ejecutan los ficheros ubicados en <span class=filename>/usr/local/etc/rc.d/</span> utilizando la opción <code>stop</code>, en nuestro caso:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/local/etc/rc.d/supermailer.sh stop</pre></div></div><div class=paragraph><p>Dicho comando tambíen se puede utilizar para detener el servidor de correo de forma manual cuando el sistema FreeBSD se ejecuta con normalidad.</p></div></div><div class=sect3><h4 id=_freebsd_4_5_stable_después_de_2002411_incluyendo_4_6_release_y_posteriores>27.4.3.2. FreeBSD 4.5-STABLE después de 2002/4/11 (Incluyendo 4.6-RELEASE y posteriores)<a class=anchor href=#_freebsd_4_5_stable_después_de_2002411_incluyendo_4_6_release_y_posteriores></a></h4><div class=paragraph><p>Con las últimas versiones de FreeBSD se puede utilizar el método anterior pero también se puede especificar</p></div><div class="literalblock programlisting"><div class=content><pre>mta_start_script=&#34;nombre_de_fichero&#34;</pre></div></div><div class=paragraph><p>dentro de <span class=filename>/etc/rc.conf</span>, donde <em>nombre_de_fichero</em> es el nombre de algún script que se ejecuta en tiempo de arranque para inicializar el nuevo MTA.</p></div></div></div><div class=sect2><h3 id=_sustitución_de_sendmail_como_el_agente_de_transporte_de_correo_predeterminado>27.4.4. Sustitución de sendmail como el agente de transporte de correo predeterminado.<a class=anchor href=#_sustitución_de_sendmail_como_el_agente_de_transporte_de_correo_predeterminado></a></h3><div class=paragraph><p>El programa sendmail es tan imprescindible y es utilizado por tal multitud de programas en los sistemas UNIX® que algunos programas simplemente asumen que sendmail se encuentra instalado y configurado dentro del sistema. Por esta razón varios MTAs alternativos proporcionan su propia implementación de la interfaz de línea de comandos que posée sendmail; esto facilita que se puedan utilizar como sustitutos de sendmail sin mayores dificultades.</p></div><div class=paragraph><p>Por lo tanto si desea utilizar un agente de transporte de correo alternativo debe asegurarse de que todo software que intente ejecutar binario de sendmail estándar, <span class=filename>/usr/bin/sendmail</span>, realmente ejecute el nuevo MTA en su lugar. Por fortuna FreeBSD proporciona un sistema llamado <a href="https://man.freebsd.org/cgi/man.cgi?query=mailwrapper&amp;sektion=8&amp;format=html">mailwrapper(8)</a> que realiza precisamente esta tarea.</p></div><div class=paragraph><p>Cuando sendmail está funcionando se debe localizar algo como lo siguiente dentro del fichero <span class=filename>/etc/mail/mailer.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail	 /usr/libexec/sendmail/sendmail
send-mail	/usr/libexec/sendmail/sendmail
mailq		/usr/libexec/sendmail/sendmail
newaliases	/usr/libexec/sendmail/sendmail
hoststat	/usr/libexec/sendmail/sendmail
purgestat	/usr/libexec/sendmail/sendmail</pre></div></div><div class=paragraph><p>Esto significa que cuando cualquiera de estos comandos (por ejemplo <span class=filename>sendmail</span> mísmamente) se ejecutan el sistema ejecutará en su lugar una copia del el sistema ejecuta en su lugar una copia del " mailwrapper" denominada <span class=filename>sendmail</span> que chequea el fichero <span class=filename>mailer.conf</span> y ejecuta <span class=filename>/usr/libexec/sendmail/sendmail</span>. Este sistema permite cambiar de una forma sencilla los binarios que se ejecutan realmente cuando se invocan las funciones de <span class=filename>sendmail</span>.</p></div><div class=paragraph><p>Si se quiere que ejecutar <span class=filename>/usr/local/supermailer/bin/sendmail-compat</span> en lugar de sendmail se puede cambiar el fichero <span class=filename>/etc/mail/mailer.conf</span> para que contenga lo siguiente:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail	 /usr/local/supermailer/bin/sendmail-compat
send-mail	/usr/local/supermailer/bin/sendmail-compat
mailq		/usr/local/supermailer/bin/mailq-compat
newaliases	/usr/local/supermailer/bin/newaliases-compat
hoststat	/usr/local/supermailer/bin/hoststat-compat
purgestat	/usr/local/supermailer/bin/purgestat-compat</pre></div></div></div><div class=sect2><h3 id=_últimos_pasos>27.4.5. Últimos Pasos<a class=anchor href=#_últimos_pasos></a></h3><div class=paragraph><p>Una vez que todo estáconfigurado a su gusto hay que matar los procesos de sendmail que ya no se necesitan y ejecutar los procesos pertenecientes al nuevo software de MTA, o utilizar la opción más sencilla: reiniciar la máquina. Reinicar la máquina nos brinda la oportunidad de comprobar que se ha configurado correctamente el arranque del sistema para que ejecute de forma automática el nuevo MTA.</p></div></div></div></div><div class=sect1><h2 id=mail-trouble>27.5. Depuración de Problemas<a class=anchor href=#mail-trouble></a></h2><div class=sectionbody><div class=sect2><h3 id=_por_qué_tengo_que_utilizar_el_fqdn_para_las_máquinas_de_mi_organización>27.5.1. ?Por qué tengo que utilizar el FQDN para las máquinas de mi organización?<a class=anchor href=#_por_qué_tengo_que_utilizar_el_fqdn_para_las_máquinas_de_mi_organización></a></h3><div class=paragraph><p>Probablemente se deba a que la máquina de correo se encuentra en un dominio diferente; si por ejemplo la máquina de correo se encuentra en <code>foo.bar.edu</code> y se desea alcanzar una máquina llamada <code>mumble</code> en el dominio <code>bar.edu</code> se tiene que referir a ella mediante un nombre de dominio completo ("fully-quailified domain name" o FQDN), en éste caso <code>mumble.bar.edu</code> en lugar de referirse a ella simplemente como <code>mumble</code>.</p></div><div class=paragraph><p>Tradicionalmente, la referencia incompleta era posible utilizando "resolvers" de BSD BIND. No obstante la versión de BIND que en la actualidad se ofrece con FreeBSD ya no permite por defecto el uso de dichas abreviaturas salvo para aquellas máquinas que pertenecen al dominio al que su sistema pertenezca. Una máquina como <code>mumble</code> será buscada como <code>mumble.foo.bar.edu</code> o la búsqueda será redireccionada al servidor de dominio raíz del DNS.</p></div><div class=paragraph><p>Esto es distinto a lo que ocurría en versiones anteriores de BIND, donde la búsqueda se producía a través de <code>mumble.bar.edu</code> y de <code>mumble.edu</code>. Se recomienda consultar a la RFC 1535 para conocer el motivo que se considerara una práctica errónea o incluso un agujero de seguridad.</p></div><div class=paragraph><p>Una buena solución a este problema puede ser incluír la siguiente línea</p></div><div class="literalblock programlisting"><div class=content><pre>search foo.bar.edu bar.edu</pre></div></div><div class=paragraph><p>en lugar de</p></div><div class="literalblock programlisting"><div class=content><pre>domain foo.bar.edu</pre></div></div><div class=paragraph><p>dentro del fichero <span class=filename>/etc/resolv.conf</span>. No obstante se debe asegurar de que el orden de búsqueda no se expande más allá del "límite entre la administración local y la administración pública", tal y como se le denomina en la RFC 1535.</p></div></div><div class=sect2><h3 id=_sendmail_dice_mail_loops_back_to_myself_el_correo_vuelve_a_mis_manos>27.5.2. sendmail dice mail loops back to myself (el correo vuelve a mis manos)<a class=anchor href=#_sendmail_dice_mail_loops_back_to_myself_el_correo_vuelve_a_mis_manos></a></h3><div class=paragraph><p>Esta pregunta se responde en las FAQ de sendmail de la siguiente forma:</p></div><div class="literalblock programlisting"><div class=content><pre>Estoy obteniendo los siguientes mensajes de error:

553 MX list for domain.net points back to relay.domain.net
554 &lt;user@domain.net&gt;... Local configuration error

¿Cómo puedo solucionar esto?

Usted ha especificado que el correo para el dominio (por ejemplo,
para el dominio dominio.net) sea reenviado a una máquina determinada
(en este caso relay.dominio.net), para lo que se utiliza un registro
de DNS de tipo MXMX record,
pero la máquina que actúa de relay no se
reconoce a sí misma como perteneciente al dominio dominio.net.
Se debe añadir dominio.net al fichero /etc/mail/local-host-names,
que recibe el nombre de /etc/sendmail.cw en versiones de sendmail previas
a la 8.10.  Se puede utilizar la macro FEATURE(use_cw_file) para indicar
dónde se encuentra el fichero local-host-names; también se
puede añadir Cw dominio.net directamente
al fichero /etc/mail/sendmail.cf</pre></div></div><div class=paragraph><p>Las FAQ de sendmail se pueden encontrar en <a href=http://www.sendmail.org/faq/>http://www.sendmail.org/faq/</a> y son de lectura obligada si se quiere depurar el comportamiento y la configuración de sendmail.</p></div></div><div class=sect2><h3 id=_cómo_puedo_ejecutar_un_servidor_de_correo_utilizando_una_máquina_que_se_conecta_a_internet_mediante_modem_analógico_dial_up>27.5.3. ?Cómo puedo ejecutar un servidor de correo utilizando una máquina que se conecta a internet mediante modem analógico (dial-up) ?<a class=anchor href=#_cómo_puedo_ejecutar_un_servidor_de_correo_utilizando_una_máquina_que_se_conecta_a_internet_mediante_modem_analógico_dial_up></a></h3><div class=paragraph><p>Se quiere conectar una máquina FreeBSD dentro de una LAN a Internet. La máquina FreeBSD será una pasarela de correo para dicha LAN. La conexión mediante PPP no es dedicada.</p></div><div class=paragraph><p>Existen al menos dos formas distintas de hacerlo. Una de ellas consiste en utilizar UUCP.</p></div><div class=paragraph><p>Otra forma consiste en hacerse con un servidor de internet a tiempo completo para proporcionar servicios de agente de transporte secundario para nuestro dominio. Si por ejemplo el dominio de nuestra compañía es <code>ejemplo.com</code>, nuestro proveedor de acceso a internet puede instalar lo siguiente en el DNS:</p></div><div class="literalblock programlisting"><div class=content><pre>ejemplo.com.          MX        10      ejemplo.com.
                      MX        20      ejemplo.net.</pre></div></div><div class=paragraph><p>Nótese que el agente de correo primario es nuestro dominio, ejemplo.com, y además se encuentra configurado un agente de transporte secundario en la máquina ejemplo.net. En este caso sólamente se debe especificar una máquina como receptor final de correo (añadiendo <code>Cw ejemplo.com</code>) al fichero <span class=filename>/etc/mail/sendmail.cf</span> de la máquina <code>example.com</code>)</p></div><div class=paragraph><p>Cuando el <code>sendmail</code> que está enviando el correo trata de entregar dicho correo primero intentará conectarse con nosotros (<code>ejemplo.com</code>) utilizando el enlace de modem. Lo más probable es que la operación termine después de un tiempo de espera debido a que el enlace modem esté caído. La aplicación sendmail automáticamente entregará el correo al servidor especificado como agente de transporte de correo secundario (segundo registro MX), es decir, entregará el correo a nuestro proveedor de servicios de internet (<code>ejemplo.net</code>). El sitio MX secundario tratará de conectarse con nuestra máquina de una forma periódica con el objeto de entregar el correo a la máquina que actúa como agente servidor de correo primario (<code>ejemplo.com</code>).</p></div><div class=paragraph><p>Puede ser de mucha utilidad un script de "login" como el que se muestra a continuación:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
# Ponme en /usr/local/bin/pppmiconexion
( sleep 60 ; /usr/sbin/sendmail -q ) &amp;
/usr/sbin/ppp -direct pppmiconexion</pre></div></div><div class=paragraph><p>Si vamos a crear un script de "login" separado para un usuario determinado se puede utilizar <code>sendmail -qRejemplo.com</code> en lugar del script anterior. Esto obliga a que se procesen de forma inmediata todos los correos que se encuentren en la cola de <code>ejemplo.com</code>.</p></div><div class=paragraph><p>Vamos a dar una vuelta más de tuerca a la situación:</p></div><div class=paragraph><p>Mensaje robado a la <a href=https://lists.FreeBSD.org/subscription/freebsd-isp>Lista de correo de Proveedores de Servicios de Internet en FreeBSD</a>.</p></div><div class="literalblock programlisting"><div class=content><pre>&gt; Nosotros proporcionamos servicio de MX secundario a un cliente nuestro.
&gt; El cliente se conecta a nuestro servidor varias veces al día
&gt; de  forma automática para recoger sus correos para almacenarlos en
&gt; su servidor MX primario (nosotros no llamamos a su organización
&gt; justo cuando nos llega un correo suyo).
&gt; Nuestro sendmail envía la cola de correos cada 30 minutos. En
&gt; estos momentos nuestro cliente tiene que estar al menos 30 minutos
&gt; conectado para asegurarnos de que todo su correo ha sido enviado al
&gt; servidor MX primario.
&gt;
&gt; ?Existe algún comando que permita indicar a sendmail que
&gt; envíe todos los correos de la cola cuando quiera el cliente?
&gt; El cliente no tiene permisos de superusuario en la máquina que
&gt; alberga nuestro agente de transporte, por supuesto.

En la sección de privacy flags del fichero sendmail.cf
existe una definición como ésta:
Opgoaway,restrictqrun

Basta con eliminar restrictqrun para permitir que usuarios sin permisos de
superusuario arranquen el procesamiento de la cola.
Sería conveniente además que reordenaran los registros MX.
Nosotros somos el primer MX para nuestros clientes.
Además de esto hay que especificar:

# Si somos el mejor MX para una determinada máquina, intenta
# utilizarnos directamente en vez de generar un error de
# configuración local.
OwTrue

en el archivo de configuración de sendmail.
Mediante la configuración anterior,
una organización remota entregará sus correos directamente a
usted, sin necesidad de intentar conectarse primero a través de
la conexión del cliente.  La etiqueta &#34;OwTrue&#34; se necesita para evitar
que sendmail genere un mensaje de error.
A continuación ustedes se encargan de entregar el
correo a su(s) respectivo(s) cliente(s) tal como vienen haciendo.

Esta configuración sólo funciona para
máquinas individuales,
de tal forma que se necesita que el cliente especifique su servidor de correo
mediante entradas de tipo A en el DNS.  En concreto se necesita una entrada de
tipo A en el DNS para el dominio del cliente (cliente.com).</pre></div></div></div><div class=sect2><h3 id=_por_qué_me_siguen_saliendo_mensajes_de_error_del_tipo_relaying_denied_cuando_se_trata_de_enviar_correo_proveniente_de_otras_máquinas>27.5.4. ?Por qué me siguen saliendo mensajes de error del tipo Relaying Denied cuando se trata de enviar correo proveniente de otras máquinas?<a class=anchor href=#_por_qué_me_siguen_saliendo_mensajes_de_error_del_tipo_relaying_denied_cuando_se_trata_de_enviar_correo_proveniente_de_otras_máquinas></a></h3><div class=paragraph><p>En las instalaciones del sistema FreeBSD por defecto sendmail se configura para enviar correo sólamente desde la máquina en la cual se está ejecutando. Por ejemplo si un servidor POP está disponible los usuarios serán capaces de consultar su correo desde la universidad, el trabajo u otras localizaciones remotas, pero dichos usuarios podrán enviar correo desde dichas ubicaciones. Es habitual que unos instantes después del envío del correo dichos usuarios reciban un mensaje proveniente del MAILER-DAEMON con un error como <code>5.7 Relaying Denied</code>.</p></div><div class=paragraph><p>Existen varias formas de solventar este problema. La más sencilla consiste en escribir la dirección IP de su proveedor de servicios dentro del fichero <span class=filename>/etc/mail/relay-domains</span>. Una forma rápida de hacerlo sería:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#34;un.isp.ficticio.com&#34; &gt; /etc/mail/relay-domains</span></code></pre></div></div><div class=paragraph><p>Después de crear o editar dicho fichero se debe reiniciar sendmail. Esto funciona perfectamente si usted es el administrador del servidor y no desea enviar correo localmente o si prefiere utilizar un cliente de correo o cualquier otro sistema en otra máquina distinta a la que alberga el servidor de correo. Es muy útil sobre todo cuando sólamente se tienen una o dos direcciones de correo eletrónico. Si hay en liza un gran número de direcciones de correo, edite el fichero anterior con su editor de texto favorito y añada uno a uno los correspondientes dominios.</p></div><div class="literalblock programlisting"><div class=content><pre>un.isp.ficticio.com
otro.isp.ficticio.net
y.otro.isp.ficticio.org
www.ejemplo.org</pre></div></div><div class=paragraph><p>Ahora, cualquier correo enviado a través de su sistema por cualquier máquina que se encuentre en este fichero (siempre y cuando el usuario tenga una cuenta en nuestro sistema) podrá ser enviado con éxito. Es una manera elegante de permitir a los usuarios enviar correo eletrónico desde nuestro servidor de correo sin permitir al resto del mundo que haga lo mismo (lo que se conoce como SPAM).</p></div></div></div></div><div class=sect1><h2 id=mail-advanced>27.6. Conceptos Avanzados<a class=anchor href=#mail-advanced></a></h2><div class=sectionbody><div class=paragraph><p>La siguiente sección trata conceptos más específicos relacionados con la configuración del correo y la implantación del servicio de correo en una organización.</p></div><div class=sect2><h3 id=mail-config>27.6.1. Configuración Básica<a class=anchor href=#mail-config></a></h3><div class=paragraph><p>Por defecto debemos ser capaces de enviar correo a máquinas externas, siempre y cuando tengamos nuestro <span class=filename>/etc/resolv.conf</span> bien configurado o ejecutemos nuestro propio servidor de nombres. Si queremos que el correo para nuestra máquina se nos entregue en nuestra propia máquina, es decir, a nuestro propio sendmail, en lugar de tener que ir a recogerlo al servidor de correo de nuestra organización, podemos usar dos métodos:</p></div><div class=ulist><ul><li><p>Ejecutar nuestro propio servidor de nombres y comprar nuestro propio dominio. Por ejemplo <code>FreeBSD.org</code></p></li><li><p>Conseguir la entrega de correo directa hacia nuestra máquina. Esto se logra entregando el correo a la dirección IP que se asocia al nombre de DNS de nuestra máquina. Por ejemplo <code>ejemplo.FreeBSD.org</code>.</p></li></ul></div><div class=paragraph><p>Independientemente de la opción elegida para tener entrega directa en nuestra máquina debemos poseer una dirección IP estática (a diferencia de las direcciones dinámicas, que son utilizadas en configuraciones donde se utiliza el protocolo PPP). Si nos encontramos detrás de un cortafuegos se debe permitir el tráfico SMTP (puerto 25) hacia nuestra máquina. Si además queremos recibir correo directamente en nuestra máquina se deben cumplir los siguientes requisitos:</p></div><div class=ulist><ul><li><p>Asegurar que el registro MX de menor numeración de nuestro DNS apunta a la dirección IP de nuestra máquina.</p></li><li><p>Asegurar que no existe ninguna entrada MX en nuestro DNS para nuestra máquina. Es decir, mientras que el registro MX del punto anterior hace referencia al dominio administrativo que gestionamos con nuestro servidor de nombres, en este apartado se quiere destacar que no debe existir ningún registro MX específico para el nombre concreto de nuestra máquina.</p></li></ul></div><div class=paragraph><p>Cumpliendo las dos puntualizaciones anteriores podemos recibir correo electrónico mediante entrega directa en nuestra máquina.</p></div><div class=paragraph><p>Por ejemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># hostname</span>
ejemplo.FreeBSD.org
<span class=c># host ejemplo.FreeBSD.org</span>
ejemplo.FreeBSD.org has address 204.216.27.XX</code></pre></div></div><div class=paragraph><p>Si se observa esta configuración la entrega directa de correo para <a href=mailto:su_login@ejemplo.FreeBSD.org>su_login@ejemplo.FreeBSD.org</a> debería funcionar sin problemas (suponiendo que sendmail se está ejecutando correctamente en <code>ejemplo.FreeBSD.org</code>).</p></div><div class=paragraph><p>Si en lugar de lo anterior ve algo como esto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># host ejemplo.FreeBSD.org</span>
ejemplo.FreeBSD.org has address 204.216.27.XX
ejemplo.FreeBSD.org mail is handled <span class=o>(</span><span class=nv>pri</span><span class=o>=</span>10<span class=o>)</span> by hub.FreeBSD.org</code></pre></div></div><div class=paragraph><p>Todos los correos enviados a nuestro host (<code>ejemplo.FreeBSD.org</code>) serán recogidos por <code>hub</code> bajo el mismo nombre de usuario en lugar de ser enviados directamente a nuestra máquina.</p></div><div class=paragraph><p>La información anterior se gestiona utilizando el servidor de DNS. El registro de DNS que transporta la información de encaminamiento de correo eletrónico es el registro <em>M</em>ail e<em>X</em>change. Si no existe ningún registro MX el correo se entregará a la dirección IP que se obtenga de resolver el nombre de dominio que se encuentre a continuación del nombre de usuario en la dirección de correo de destino (esto es, (después de la @).</p></div><div class=paragraph><p>En un cierto momento la entrada MX para <code>freefall.FreeBSD.org</code> tenía este aspecto:</p></div><div class="literalblock programlisting"><div class=content><pre>freefall		MX	30	mail.crl.net
freefall		MX	40	agora.rdrop.com
freefall		MX	10	freefall.FreeBSD.org
freefall		MX	20	who.cdrom.com</pre></div></div><div class=paragraph><p>Como se puede observar, <code>freefall</code> tenía varias entradas MX. El número de MX más bajo es la máquina que recibe correo directamente si se encuentra disponible; si dicha máquina no está accesible por algún motivo las otras máquinas (llamadas también "MXs de backup") aceptarán los mensajes temporalmente, y los transmitirán de nuevo cuando alguna máquina perteneciente a alguna entrada MX de numeración más baja se encuentre disponible y el proceso se repetirá hasta que se alcance la máquina que tenga el registro MX más bajo.</p></div><div class=paragraph><p>Las organizaciones donde residen los servidores (MX) de backup deberían poseer acceso a internet de una forma independiente para minimizar el riesgo de pérdida de conectividad. Nuestro ISP o cualquier otra organización independiente debería poder proporcionarnos este servicio sin problemas.</p></div></div><div class=sect2><h3 id=mail-domain>27.6.2. Correo para Nuestro Dominio<a class=anchor href=#mail-domain></a></h3><div class=paragraph><p>Para establecer un "mailhost" (servidor de correo) en nuestra organización debemos ser capaces de redirigir el correo destinado a cualquier máquina de nuestra organización hacia nuestro servidor de correo. Básicamente queremos "reclamar" como nuestro cualquier correo destinado a cualquier máquina de nuestro dominio (en este caso <code>*.FreeBSD.org</code>) y desviarlo a nuestro servidor de tal forma que los usuario lean su correo utilizando nuestra máquina servidora.</p></div><div class=paragraph><p>Para hacer las cosas lo más sencillas posible se debe crear una cuenta de usuario (con el mismo <em>nombre de usuario</em>) tanto en el servidor de correo como en la máquina del usuario o destinatario final del correo. <a href="https://man.freebsd.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;format=html">adduser(8)</a> puede usarse para ello.</p></div><div class=paragraph><p>El servidor de correo debe funcionar como el agente de transporte predeterminado para todas las máquinas de nuestra organización. Esto se realiza mediante la siguiente configuración del DNS:</p></div><div class="literalblock programlisting"><div class=content><pre>ejemplo.FreeBSD.org	A	204.216.27.XX		; Workstation
			MX	10 hub.FreeBSD.org	; Mailhost</pre></div></div><div class=paragraph><p>Esta configuración redirigirá el correo para cualquier estación de trabajo hacia nuestro servidor de correo sin que tengan importancia las direcciones IP asignadas mediante el registro de tipo A. Recordemos que el correo siempre se encamina utilizando primero los registros de tipo MX.</p></div><div class=paragraph><p>Normalmente no podremos realizar esta configuración salvo que estemos ejecutando nuestro propio servidor de DNS para nuestro dominio. Si no es el caso y no es posible ejecutar nuestro propio servidor de DNS debemos comunicarnos con nuestro proveedor de servicios o con quien pueda proporcionarnos servicio de DNS y solicitarle una modificación como la anterior.</p></div><div class=paragraph><p>Si además ofrecemos servicios de alojamiento virtual de correo la siguiente información puede resultar útil. Asumiremos que tenemos un cliente con su propio dominio, por ejemplo <code>cliente1.org</code> y queremos que todo el correo enviado a <code>cliente1.org</code> sea redirigido hasta nuestro servidor de correo, <code>mail.nuestroservidor.com</code>. La entrada necesaria en el DNS debería ser la siguiente:</p></div><div class="literalblock programlisting"><div class=content><pre>cliente1.org		MX	10	mail.nuestroservidor.com</pre></div></div><div class=paragraph><p>No necesitamos <em>ningún</em> registro de tipo A para <code>cliente1.org</code> si sólamente queremos gestionar el correo para ese dominio.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Tenga en cuenta que un ping a <code>cliente1.org</code> no funcionará a menos que exista un registro de tipo A para dicha máquina.</p></div></td></tr></tbody></table></div><div class=paragraph><p>La última cosa que debemos realizar en nuestro servidor de correo es comunicar a sendmail para qué dominios y/o máquinas debe aceptar correo. Existen varias formas en las que se puede realizar esta tarea. Cualquiera de las siguiente funcionará:</p></div><div class=ulist><ul><li><p>Añadir las máquinas deseadas al fichero <span class=filename>/etc/mail/local-host-names</span> si se está utlizando la macro <code>FEATURE(use_cw_file)</code>. Si se está utilizando una versión de sendmail anterior a la 8.10 el fichero que se debe utilizar es <span class=filename>/etc/sendmail.cw</span>.</p></li><li><p>Añadir la línea <code>Cwsu.servidor.com</code> al fichero <span class=filename>/etc/sendmail.cf</span> o <span class=filename>/etc/mail/sendmail.cf</span> si se está utilizando una versión de sendmail posterior a la versión 8.10.</p></li></ul></div></div></div></div><div class=sect1><h2 id=SMTP-UUCP>27.7. SMTP con UUCP<a class=anchor href=#SMTP-UUCP></a></h2><div class=sectionbody><div class=paragraph><p>La configuración de sendmail que se proporciona con la distribución de FreeBSD está diseñada para organizaciones que se conectan directamente a internet. Las organizaciones que deseén enviar y recibir sus correos utilizando UUCP deben instalar otro fichero de configuración para sendmail.</p></div><div class=paragraph><p>El ajuste de forma manual del archivo <span class=filename>/etc/mail/sendmail.cf</span> es un tema para expertos. La versión 8 de sendmail genera ficheros de configuración mediante el preprocesador <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a>, gracias al que las opciones de configuración se pueden escribir utilizando un nivel de abstracción mayor. Los archivos de configuración de <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a> se pueden encontrar en <span class=filename>/usr/src/usr.sbin/sendmail/cf</span>.</p></div><div class=paragraph><p>Si no se instaló el sistema base con todas las fuentes el conjunto de ficheros de configuración de sendmail se puede obtener a partir de un paquete de fuentes determinado. Suponiendo que tengamos el CDROM con el código fuente de FreeBSD montado se puede ejecutar:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /cdrom/src</span>
<span class=c># cat scontrib.?? | tar xzf - -C /usr/src/contrib/sendmail</span></code></pre></div></div><div class=paragraph><p>Este comando extrae sólamente unos pocos cientos de kilobytes. El fichero <span class=filename>README</span> que hay en el directorio <span class=filename>cf</span> puede servirle como una introducción básica a la configuración mediante <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a>.</p></div><div class=paragraph><p>La mejor forma de soportar la entrega de correo mediante UUCP es utilizando la característica <code>mailertable</code>. Esta característica crea una base de datos que sendmail utiliza para tomar decisiones de encaminamiento.</p></div><div class=paragraph><p>En primer lugar creamon el fichero <span class=filename>.mc</span>. El directorio <span class=filename>/usr/src/usr.sbin/sendmail/cf/cf</span> alberga varios ejemplos del mismo. Suponiendo que nuestro fichero configuración se llama <span class=filename>foo.mc</span> para convertir dicho archivo en un fichero <span class=filename>sendmail.cf</span> válido basta con ejecutar lo siguiente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/usr.sbin/sendmail/cf/cf</span>
<span class=c># make foo.cf</span>
<span class=c># cp foo.cf /etc/mail/sendmail.cf</span></code></pre></div></div><div class=paragraph><p>Un fichero <span class=filename>.mc</span> suele tener este aspecto:</p></div><div class="literalblock programlisting"><div class=content><pre>VERSIONID(`Su número de versión&#39;) OSTYPE(bsd4.4)

FEATURE(accept_unresolvable_domains)
FEATURE(nocanonify)
FEATURE(mailertable, `hash -o /etc/mail/mailertable&#39;)

define(`UUCP_RELAY&#39;, su.relay.uucp)
define(`UUCP_MAX_SIZE&#39;, 200000)
define(`confDONT_PROBE_INTERFACES&#39;)

MAILER(local)
MAILER(smtp)
MAILER(uucp)

Cw    alias.de.su.servidor
Cw    nombredesunodouucp.UUCP</pre></div></div><div class=paragraph><p>Las líneas que contienen <code>accept_unresolvable_domains</code>, <code>nocanonify</code>, y <code>confDONT_PROBE_INTERFACES</code> prohíben la utilización del DNS durante la entrega de correo. La cláusula <code>UUCP_RELAY</code> es necesaria para soportar entrega mediante UUCP. Lo único que hay que hacer es escribir un nombre de máquina en ese punto. Dicha máquina debe ser capaz de gestionar las direcciones del pseudo-dominio .UUCP; en la mayoría de los casos se escribe en este punto el nombre de la máquina perteneciente al proveedor de servicios que hace de relay.</p></div><div class=paragraph><p>Una vez que tenemos esto configurado se necesita un fichero <span class=filename>/etc/mail/mailertable</span>. Si solamente tenemos un enlace con el exterior, que usamos para todos nuestro correos, basta una configuración como la que se muestra a continuación:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
.                             uucp-dom:su.relay.uucp</pre></div></div><div class=paragraph><p>Un ejemplo más complejo puede parecerse al siguiente:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
#
horus.interface-business.de   uucp-dom:horus
.interface-business.de        uucp-dom:if-bus
interface-business.de         uucp-dom:if-bus
.heep.sax.de                  smtp8:%1
horus.UUCP                    uucp-dom:horus
if-bus.UUCP                   uucp-dom:if-bus
.                             uucp-dom:</pre></div></div><div class=paragraph><p>Las primeras tres líneas se encargan de manejar casos especiales en los que el correo dirigido directamente al dominio no se envía a la ruta por defecto sino a algún vecino UUCP para acortar el número de saltos involucrados en la entrega de dichos correos. La siguiente línea gestiona el correo para el dominio ethernet local, el cual puede ser entregado utilizando SMTP. Finalmente los vecinos UUCP se mencionan en la notación de pseudo-dominio .UUCP para permitir que un <code>vecino UUCP receptor</code> de correo pueda sobreescribir las reglas por defecto. La última línea siempre es un punto; se asocia con cualquier otra cosa que no ha sido tratada en reglas anteriores y donde se realiza entrega UUCP a un vecino UUCP que sirve como pasarela de correo universal para todo el mundo. Todos los nombres de máquinas bajo la clave <code>uucp-dom:</code> deben ser vecinos UUCP válidos, lo cual se puede verificar utilizando el comando <code>uuname</code>.</p></div><div class=paragraph><p>Recuerde que este fichero debe convertirse en una base de datos DBM antes de que usarse. El comando que se utiliza para realizar esta tarea se suele especificar como un comentario al principio del fichero <span class=filename>mailertable</span>. Cada vez que se modifique el fichero <span class=filename>mailertable</span> se debe ejecutar dicho comando.</p></div><div class=paragraph><p>Un consejo final: si dudamos sobre una determinada ruta de encaminamiento de correo se puede ejecutar sendmail con el parámetro <code>-bt</code>. Este parámetro ejecuta sendmail en <em>modo prueba de direcciones</em>; simplemente basta con escribir <code>3,0</code> seguido por la dirección de correo de la que queremos comprobar su correcto encaminamiento. La última línea nos dice el agente de correo interno que se utiliza, la máquina de destino con que el agente será invocado y la dirección (posiblemente traducida) de correo. Se puede abandonar este modo de funcionamiento escribiendo <span class=keyseq><kbd>Ctrl</kbd>+<kbd>D</kbd></span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sendmail <span class=nt>-bt</span>
ADDRESS TEST MODE <span class=o>(</span>ruleset 3 NOT automatically invoked<span class=o>)</span>
Enter &lt;ruleset&gt; &lt;address&gt;
<span class=o>&gt;</span> 3,0 prueba@ejemplo.com
canonify           input: foo @ example <span class=nb>.</span> com
...
parse            returns: <span class=nv>$# </span>uucp-dom <span class=nv>$@</span> su.relay.uucp <span class=nv>$:</span> prueba &lt; @ ejemplo <span class=nb>.</span> com <span class=nb>.</span> <span class=o>&gt;</span>
<span class=o>&gt;</span> ^D</code></pre></div></div></div></div><div class=sect1><h2 id=outgoing-only>27.8. Configuración para sólamente enviar correo<a class=anchor href=#outgoing-only></a></h2><div class=sectionbody><div class=paragraph><p>Existen multitud de casos en los que puede bastarnos con enviar nuestro correo a través de una pasarela o relay. He aquí algunos de ellos:</p></div><div class=ulist><ul><li><p>Nuestra computadora es una máquina de escritorio, pero queremos ser capaces de utilizar programas como <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a>. Para ello se debería utilizar el relay de nuestro ISP.</p></li><li><p>Nuestra computadora es un servidor que no gestiona correo de forma local, si no que necesita pasar todos los correos recibidos una pasarela que se encarga de su procesamiento y entrega final.</p></li></ul></div><div class=paragraph><p>Casi cualquier MTA es capaz de actuar como pasarela o relay. Por desgracia configurar un MTA para que sólo gestione correo saliente puede ser muy complicado. Programas del estilo de sendmail y postfix son demasiado pesados para realizar sólamente esta tarea.</p></div><div class=paragraph><p>Si además estamos utilizando un servicio de acceso a internet típico nuestro contrato puede prohibir explícitamente la ejecución de un servidor de correo (o los puertos pueden estar filtrados).</p></div><div class=paragraph><p>La forma más sencilla de utilizar un servicio de pasarela es mediante la instalación del port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/ssmtp/>mail/ssmtp</a>. Basta con ejecutar el siguiente comando como <code>root</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/mail/ssmtp</span>
<span class=c># make install replace clean</span></code></pre></div></div><div class=paragraph><p>Una vez que ha sido instalado <a class=package href=https://cgit.freebsd.org/ports/tree/mail/ssmtp/>mail/ssmtp</a> podemos configurarlo mediante un fichero de sólo cuatro líneas ubicado en <span class=filename>/usr/local/etc/ssmtp/ssmtp.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>root=sudireccionrealdecorreo@ejemplo.com
mailhub=mail.ejemplo.com
rewriteDomain=ejemplo.com
hostname=_HOSTNAME_</pre></div></div><div class=paragraph><p>Debemos asegurarnos de que se utiliza una dirección de correo real para <code>root</code>. Se debe introducir nuestra pasarela de correo en lugar de <code>mail.ejemplo.com</code> (algunos ISP llaman a la pasarela "servidor de correo saliente" o simplemente "servidor SMTP").</p></div><div class=paragraph><p>Debemos asegurarnos de que se desactiva sendmail mediante <code>sendmail_enable="NONE"</code> en <span class=filename>/etc/rc.conf</span>.</p></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/mail/ssmtp/>mail/ssmtp</a> acepta algunas otras opciones. Consulte el fichero de ejemplo que encontrará en <span class=filename>/usr/local/etc/ssmtp</span>; consulte también la página de manual de ssmtp, en la que hay más ejemplos e información al respecto.</p></div><div class=paragraph><p>Ejecutar ssmtp de esta forma permite que cualquier software de nuestra computadora que necesite enviar correo funcione sin problemas y a la vez poder cumplir con las normas estipuladas en el contrato con nuestro ISP. Al mismo tiempo evitamos el uso de nuestro servidor de correo por parte de " spammers".</p></div></div></div><div class=sect1><h2 id=SMTP-dialup>27.9. Utilización del correo con una conexión mediante módem analógico (dial-up)<a class=anchor href=#SMTP-dialup></a></h2><div class=sectionbody><div class=paragraph><p>Si se dispone de una dirección IP privada no es necesario realizar ningún ajuste a partir de la configuración por defecto. Basta con asignar como nombre de nuestra máquina el nombre que tenemos registrado en el DNS y sendmail se encargará del resto.</p></div><div class=paragraph><p>Por otra parte si utilizamos una conexión temporal a internet mediante PPP y se nos asigna una dirección IP de forma dinámica, lo más normal es tener nuestras carpetas de correo alojadas en el servidor de correo de nuestro proveedor de servicios. Supongamos que el dominio de nuestro ISP es <code>ejemplo.net</code> y que nuestro nombre de usuario es <code>usuario</code>; además hemos llamado a nuestra <code>user</code>, además, hemos llamado a nuestra máquina <code>bsd.home</code>, y nuestro ISP nos ha comunicado que debemos utilizar como pasarela la máquina <code>relay.ejemplo.net</code>.</p></div><div class=paragraph><p>Para recuperar correo de nuestra carpeta de correo se debe instalar un agente de recuperación automática de correo. fetchmail es una buena elección puesto que permite utilizar varios protocolos. Este programa está disponible como un paquete y también desde la colección de ports (<a class=package href=https://cgit.freebsd.org/ports/tree/mail/fetchmail/>mail/fetchmail</a>). Normalmente nuestro ISP proporciona POPPOP. Si utilizamos ppp a nivel de usuario se puede recuperar automáticamente el correo cuando se establece la conexión ppp utilizando el fichero <span class=filename>/etc/ppp/ppp.linkup</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>MYADDR:
!bg su user -c fetchmail</pre></div></div><div class=paragraph><p>Si utilizamos sendmail (como se muestra más adelante) para entregar correo a cuentas remotas probablemente queramos que sendmail procese nuestras colas de correo tan pronto como nuestra conexión de internet se establezca. Para ello escriba el siguiente comando tras el comando de <code>fetchmail</code> que hemos escrito antes en el fichero <span class=filename>/etc/ppp/ppp.linkup</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>  !bg su user -c &#34;sendmail -q&#34;</pre></div></div><div class=paragraph><p>Asumiendo que tenemos una cuenta para el usuario <code>usuario</code> en <code>bsd.home</code>. En el directorio "home" del usuario <code>usuario</code> en la máquina <code>bsd.home</code> debemos crear un fichero <span class=filename>.fetchmailrc</span> con el siguiente contenido:</p></div><div class="literalblock programlisting"><div class=content><pre>poll ejemplo.net protocol pop3 fetchall pass Secr3To</pre></div></div><div class=paragraph><p>Este fichero debe tener permisos de lectura sólo para el propio dueño ya que contiene la contraseña de acceso a nuestra cuenta de POP en nuestro ISP (<code>Secr3To</code>).</p></div><div class=paragraph><p>Para poder enviar correo con la cabecera <code>from:</code> correcta, debemos decir a sendmail que utilice <code>usuario@ejemplo.net</code> en vez de <code>usuario@bsd.home</code>. Siguiendo con nuestro ejemplo es necesario decirle a sendmail que envíe todo el correo a través de la pasarela <code>relay.ejemplo.net</code>.</p></div><div class=paragraph><p>El siguiente fichero de configuración <span class=filename>.mc</span> debe ser suficiente para cumplir con las anteriores tareas:</p></div><div class="literalblock programlisting"><div class=content><pre>VERSIONID(`bsd.home.mc version 1.0&#39;)
OSTYPE(bsd4.4)dnl
FEATURE(nouucp)dnl
MAILER(local)dnl
MAILER(smtp)dnl
Cwlocalhost
Cwbsd.home
MASQUERADE_AS(`ejemplo.net&#39;)dnl
FEATURE(allmasquerade)dnl
FEATURE(masquerade_envelope)dnl
FEATURE(nocanonify)dnl
FEATURE(nodns)dnl
define(`SMART_HOST&#39;, `relay.ejemplo.net&#39;)
Dmbsd.home
define(`confDOMAIN_NAME&#39;,`bsd.home&#39;)dnl
define(`confDELIVERY_MODE&#39;,`deferred&#39;)dnl</pre></div></div><div class=paragraph><p>En la sección anterior se explica cómo convertir este fichero <span class=filename>.mc</span> en un fichero de configuración para sendmail, <span class=filename>sendmail.cf</span>. No debemos olvidar reiniciar sendmail después de mofidificar el fichero <span class=filename>sendmail.cf</span>.</p></div></div></div><div class=sect1><h2 id=SMTP-Auth>27.10. Autentificación utilizando SMTP<a class=anchor href=#SMTP-Auth></a></h2><div class=sectionbody><div class=paragraph><p>La autentificación mediante SMTP puede proporcionarnos diversas ventajas. Añade una capa adicional de seguridad a a sendmail y además proporciona a los usuarios móviles (usuarios que cambian de máquina) la posibilidad de mantener el mismo servidor de correo sin necesidad de reconfigurar sus agentes de usuario de correo cada vez que se trasladan.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Instalar <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl/>security/cyrus-sasl</a> desde los ports. Se puede encontrar dicho port en <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl/>security/cyrus-sasl</a>. <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl/>security/cyrus-sasl</a> posée varias opciones en tiempo de compilación pero para el método en particular que se va a explicar en esta sección basta con asegurarse de seleccionar la opción <code>pwcheck</code>.</p></li><li><p>Después de instalar <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl/>security/cyrus-sasl</a>, edite <span class=filename>/usr/local/lib/sasl/Sendmail.conf</span> (o créelo si no existe) y añada la siguiente línea:</p><div class="literalblock programlisting"><div class=content><pre>pwcheck_method: passwd</pre></div></div><div class=paragraph><p>Este método activa la autentificación de sendmail contra nuestra base de datos de FreeBSD, <span class=filename>passwd</span>. Esto nos evita el problema de tener que crear un nuevo conjunto de usuarios y contraseñas para cada usuario que necesite validarse mediante SMTP y además nos permite mantener el mismo "login" y contraseña que los usuarios utilizan para acceder a sus cuentas para el acceso al correo electrónico.</p></div></li><li><p>Editar <span class=filename>/etc/make.conf</span> y añadir las siguientes líneas:</p><div class="literalblock programlisting"><div class=content><pre>SENDMAIL_CFLAGS=-I/usr/local/include/sasl1 -DSASL
SENDMAIL_LDFLAGS=-L/usr/local/lib
SENDMAIL_LDADD=-lsasl</pre></div></div><div class=paragraph><p>Estas líneas proporcionan a sendmail las opciones de configuración necesarias para enlazar con <a class=package href=https://cgit.freebsd.org/ports/tree/cyrus-sasl/>cyrus-sasl</a> en tiempo de compilación. Debemos asegurarnos de que <a class=package href=https://cgit.freebsd.org/ports/tree/cyrus-sasl/>cyrus-sasl</a> ha sido instalado correctamente recompilar sendmail.</p></div></li><li><p>Recompile sendmail utilizando el siguiente comando:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/usr.sbin/sendmail</span>
<span class=c># make cleandir</span>
<span class=c># make obj</span>
<span class=c># make</span>
<span class=c># make install</span></code></pre></div></div><div class=paragraph><p>La compilación de sendmail no debería dar problemas siempre y cuando <span class=filename>/usr/src</span> no haya cambiado sustancialmente y siempre y cuando las bibliotecas compartidas necesarias se encuentren disponibles.</p></div></li><li><p>Una vez que sendmail se ha compilado y reinstalado con correctamente debemos editar el fichero <span class=filename>/etc/mail/freebsd.mc</span> (o el fichero que se utilice como <span class=filename>.mc</span> de referencia. Hay administradores que escogen utilizar la salida de <a href="https://man.freebsd.org/cgi/man.cgi?query=hostname&amp;sektion=1&amp;format=html">hostname(1)</a> como el nombre del fichero <span class=filename>.mc</span> que se utiliza para la configuración de sendmail por motivos de uniformidad ). Añada las siguientes líneas a dicho fichero:</p><div class="literalblock programlisting"><div class=content><pre>dnl set SASL options
TRUST_AUTH_MECH(`GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN&#39;)dnl
define(`confAUTH_MECHANISMS&#39;, `GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN&#39;)dnl
define(`confDEF_AUTH_INFO&#39;, `/etc/mail/auth-info&#39;)dnl</pre></div></div><div class=paragraph><p>Estas opciones configuran los distintos métodos de que dispone sendmail para validar a los usuarios de correo. Si se desea utilizar otro método distinto a pwcheck por favor consulte la documentación.</p></div></li><li><p>Para terminar ejecutamos <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> mientras nos encontramos dentro de <span class=filename>/etc/mail</span>. Este comando trata el fichero <span class=filename>.mc</span> y crea el fichero <span class=filename>.cf</span> correspondiente (con el mismo nombre que el anterior pero terminado en .cf). A continuación se utiliza el comando <code>make install restart</code>, el cual copia el fichero .cf recién generado al fichero <span class=filename>sendmail.cf</span> y a continuación reinicia sendmail. Para más información sobre este proceso puede consultarse el contenido de <span class=filename>/etc/mail/Makefile</span>.</p></li></ol></div></div></div><div class=paragraph><p>Si todo lo anteriormente comentado ha funcionado correctamente deberíamos ser capaces de introducir la información de nuestro "login" en nuestro cliente de correo y enviar un mensaje de prueba. Para investigar más a fondo estos temas se puede habilitar la opción <code>LogLevel</code> de sendmail al valor 13 y observar detenidamente el archivo <span class=filename>/var/log/maillog</span> en busca de posibles mensajes de error.</p></div><div class=paragraph><p>Puede ser necesario añadir las siguientes líneas al fichero <span class=filename>/etc/rc.conf</span> de modo que el servicio explicado en esta sección se encuentre disponible automáticamente desde el arranque:</p></div><div class="literalblock programlisting"><div class=content><pre>sasl_pwcheck_enable=&#34;YES&#34;
sasl_pwcheck_program=&#34;/usr/local/sbin/pwcheck&#34;</pre></div></div><div class=paragraph><p>Esto permite que la inicialización de SMTP_AUTH se produzca durante el arranque del sistema.</p></div><div class=paragraph><p>Para más información por favor visite la página <a href=http://www.sendmail.org/~ca/email/auth.html>autentificación SMTP</a> de sendmail·</p></div></div></div><div class=sect1><h2 id=mail-agents>27.11. Agente de Correo de Usuario<a class=anchor href=#mail-agents></a></h2><div class=sectionbody><div class=paragraph><p>Un agente de correo de usuario (MUA en inglés Mail User Agent) es una aplicación que se utiliza para enviar y recibir correo. Coomo el correo electrónico está en constante evolución y cada vez se vuelve más complejo y con más opciones, los MUAs son cada vez más complejos y potentes. Esto permite a los usuarios disponer de mayor flexibilidad y funcionalidad. FreeBSD admite para muchísimos agentes de correo de usuario, todos los cuales pueden instalarse desde los <a href=../ports/#ports>Ports</a>. Los usuarios pueden elegir entre lientes de correo con interfaz gráfica como evolution o balsa o entre clientes basados en consola como mutt, pine o <code>mail</code>, e incluso utilizar interfaces web.</p></div><div class=sect2><h3 id=mail-command>27.11.1. mail<a class=anchor href=#mail-command></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> es el agente de correo de usuario (MUA) que viene por defecto con FreeBSD. Es un MUA de consola que ofrece toda la funcionalidad básica necesaria para enviar y recibir correos, aunque resulta limitado limitado en su capacidad para manejar adjuntos y sólamente soporta carpetas de correo locales.</p></div><div class=paragraph><p>Aunque <code>mail</code> no soporta de forma nativa la interacción con servidores de correo mediante POP o IMAP estas carpetas de correo remotas pueden descargarse a un fichero <span class=filename>mbox</span> local utilizando una aplicación de descarga como fetchmail, que se describe en este mismo capítulo en (<a href=#mail-fetchmail>Manejo de fetchmail</a>).</p></div><div class=paragraph><p>Para enviar y recibir correo eletrónico basta con ejecutar el comando <code>mail</code>. Veamos un ejemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mail</code></pre></div></div><div class=paragraph><p>El contenido de la carpeta de usuario en el directorio <span class=filename>/var/mail</span> se leen automáticamente. Si la carpeta se encuentra vacía la aplicación termina su ejecución con un mensaje que indica que no ha podido encontrar correo. Una vez que la carpeta ha sido leída la interfaz de la aplicación entra en funcionamiento y se muestra por pantalla un listado de los mensajes recuperados. Los mensajes se numeran automáticamente y pueden leerse como se observa en el siguiente ejemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Mail version 8.1 6/6/93.  Type ? <span class=k>for </span>help.
<span class=s2>&#34;/var/mail/marcs&#34;</span>: 3 messages 3 new
<span class=o>&gt;</span>N  1 root@localhost        Mon Mar  8 14:05  14/510   <span class=s2>&#34;test&#34;</span>
 N  2 root@localhost        Mon Mar  8 14:05  14/509   <span class=s2>&#34;user account&#34;</span>
 N  3 root@localhost        Mon Mar  8 14:05  14/509   <span class=s2>&#34;sample&#34;</span></code></pre></div></div><div class=paragraph><p>Los mensajes se pueden leer utilizando el comando <kbd>t</kbd> de <code>mail</code> escribiendo a continuación el número del mensaje que queremos leer. En este ejemplo vamos a leer el primer correo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% t 1
Message 1:
From root@localhost  Mon Mar  8 14:05:52 2004
X-Original-To: marcs@localhost
Delivered-To: marcs@localhost
To: marcs@localhost
Subject: <span class=nb>test
</span>Date: Mon,  8 Mar 2004 14:05:52 +0200 <span class=o>(</span>SAST<span class=o>)</span>
From: root@localhost <span class=o>(</span>Charlie Root<span class=o>)</span>

This is a <span class=nb>test </span>message, please reply <span class=k>if </span>you receive it.</code></pre></div></div><div class=paragraph><p>Como podemos observar en el ejemplo anterior el comando <kbd>t</kbd> muestra el contenido del correo eletrónico con todas sus cabeceras. Para mostrar el listado con todos los correos de nuevo, se debe utilizar la tecla <kbd>h</kbd>.</p></div><div class=paragraph><p>Si el correo eletrónico requiere una contestación se puede utilizar la aplicación <code>mail</code> para responder utilizando la tecla <kbd>R</kbd> o <kbd>r</kbd>. La tecla <kbd>R</kbd> indica a <code>mail</code> que conteste sólo al origen (remitente) del correo, mientras que la tecla <kbd>r</kbd> tanto al remitente a los otros usuarios receptores del mensaje original. Además ambos comandos se pueden ejecutar escribiendo a continuación el número que identifica al mensaje que se quiere responder. Tras esto la respuesta puede redactarse , y se debe indicar el final del mensaje mediante un punto (<kbd>.</kbd>) a continuación de un salto de línea. Veamos un ejemplo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% R 1
To: root@localhost
Subject: Re: <span class=nb>test

</span>Thank you, I did get your email.
<span class=nb>.</span>
EOT</code></pre></div></div><div class=paragraph><p>Para enviar nuevos correos eletrónicos se debe utilizar la tecla <kbd>m</kbd> seguida de la dirección de de correo del destinatario. Se pueden especificar varios destinatarios de correo separando cada dirección de correo con una coma ( <kbd>,</kbd> ). El asunto del mensaje de correo se puede escribir a continuación seguido por el cuerpo del mensaje. El final del mensaje se especifica como en el caso anterior, utilizando un <kbd>.</kbd> tras un saldo de línea y pulsando la tecla "enter".</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mail root@localhost
Subject: I mastered mail

Now I can send and receive email using mail ... :<span class=o>)</span>
<span class=nb>.</span>
EOT</code></pre></div></div><div class=paragraph><p>Mientras nos encontremos dentro de la <code>mail</code> el comando <kbd>?</kbd> puede utilizarse para mostrar la ayuda en línea aunque la principal fuente de información detallda sobre esta aplicación es la página man <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Tal y como se ha dicho ya la aplicación <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> no fue diseñada originalmente para gestionar adjuntos, por lo que su forma de gestionarlos resulta ser extremadamente mala. MUA más modernos como mutt gestionan los adjuntos de correo de una forma mucho más inteligente. Si se desea utilizar el comando <code>mail</code> el port <a class=package href=https://cgit.freebsd.org/ports/tree/converters/mpack/>converters/mpack</a> le puede resultar bastante útil.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=mutt-command>27.11.2. mutt<a class=anchor href=#mutt-command></a></h3><div class=paragraph><p>mutt es un agente de correo de usuario pequeño pero muy potente, funcional y con excelentes características; veamos algunas:</p></div><div class=ulist><ul><li><p>La habilidad de agrupar mensajes en hilos.</p></li><li><p>Soporte de PGP para cifradon y firma digital de correos eletrónicos.</p></li><li><p>Soporte de tipos MIME.</p></li><li><p>Soporte de gestión de correo en formato Maildir.</p></li><li><p>Altamente configurable por el usuario.</p></li></ul></div><div class=paragraph><p>Toda estas características hacen de mutt uno de los agentes de correo más avanzados del momento. Consulte <a href=http://www.mutt.org>http://www.mutt.org</a> para más información sobre mutt.</p></div><div class=paragraph><p>La versión estable de mutt se puede instalar usando el port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/mutt/>mail/mutt</a> mientras que la versión de desarrollo está en <a class=package href=https://cgit.freebsd.org/ports/tree/mail/mutt-devel/>mail/mutt-devel</a>. Una vez que se ha instalado el port, mutt puede ejecutarse mediante el siguiente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mutt</code></pre></div></div><div class=paragraph><p>mutt lee automáticamente el contenido de la carpeta de correo del usuario dentro del directorio <span class=filename>/var/mail</span> y muestra por pantalla su contenido. Si el directorio está vacío mutt quedará a la espera de los comandos que pueda pasarle el usuario. En el ejemplo que se muestra a continuación puede verse cómo mutt facilita la lista de mensajes al usuario:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/mutt1.png alt=mutt1></div></div><div class=paragraph><p>Para leer un correo basta con seleccionarlo usando las teclas de cursor, y presionando la tecla <kbd>Enter</kbd>. Veamos cómo muestra mutt un correo electrónico:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/mutt2.png alt=mutt2></div></div><div class=paragraph><p>Al igual que ocurre con <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> mutt permite que los usuarios contesten al remitente de cualquier mensaje así como a los demás receptores. Para responder sólo al remitente se puede utilizar la tecla <kbd>r</kbd>. Para responder a un grupo, es decir a todos los receptores y al remitente del correo eletrónico pulse <kbd>g</kbd>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>mutt tiene <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> como editor por defecto para crear y responder a los mensajes de correo eletrónico. Si prefiere emplear otro editor modifique el valor de la variable <code>editor</code> en <span class=filename>.muttrc</span>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Para escribir un mensaje de correo presione la tecla <kbd>m</kbd>. Después de escribir el asunto mutt ejecuta <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> y el cuerpo del mensaje puede escribirse. Una vez escrito el correo salga de <code>vi</code> y mutt se ejecutará de nuevo mostrando por pantalla un resumen del correo que está a punto de ser enviado. Para enviar ese correo hay que pulsar <kbd>y</kbd>. Este es un ejemplo de uno de esos resúmenes:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/mutt3.png alt=mutt3></div></div><div class=paragraph><p>mutt también contiene una amplia ayuda a la que se accede desde la mayoría de los menús pulsando la tecla <kbd>?</kbd>. La primera lína de la pantalla también muestra las teclas de método abreviado cuando es posible utilizarlas.</p></div></div><div class=sect2><h3 id=pine-command>27.11.3. pine<a class=anchor href=#pine-command></a></h3><div class=paragraph><p>pine es una aplicación de correo enfocada a los usuarios principiantes o inexpertos pero también incluye algunas características avanzadas.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Se han descubierto en pine varias vulnerabilidades que pueden explotarse de forma remota. Esas vulnerabilidades permiten que atacantes remotos puedan ejecutar código como si fueran usuarios locales del sistema mediante el envío de correos con un formato determinado. Todos los problemas <em>conocidos</em> se han resuelto pero el código de pine está escrito de una forma insegura y el "Security Officer" de FreeBSD opina que es probable que existan todavía vulnerabilidades sin descubrir. Si decide instalar pine debe asumir los riesgos que ello puede implicar.</p></div></td></tr></tbody></table></div><div class=paragraph><p>La versión actual de pine se puede instalar utilizando el port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/pine4/>mail/pine4</a>. Una vez que se ha instalado pine se puede ejecutar mediante el siguiente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pine</code></pre></div></div><div class=paragraph><p>La primera vez que se ejecuta pine se muestra un mensaje de bienvenida con una pequeña introducción a la herramienta junto con una petición del equipo de desarrollo de pine en la que se solicita que se envíe un correo de forma anónima un correo de forma anónima para que puedan hacerse una idea s de cuántos usuarios están utilizando la herramienta. Para enviar dicho correo hay que presionar la tecla <kbd>Enter</kbd>, o bien puede pulsar la tecla <kbd>E</kbd> para salir de la ventana de bienvenida sin enviar dicho correo. A continuación se muestra un ejemplo de la página de bienvenida:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine1.png alt=pine1></div></div><div class=paragraph><p>Los usuarios disponen de un menú principal, que puede navegarse utilizando las flechas. Este menú proporciona atajos para la composición de nuevos correos, para navegar a través de las carpetas de correo, e incluso para la administración de la libreta de direcciones. Justo debajo del menú principal, se muestran las teclas de método abreviado (atajos) que pueden utilizarse en cada momento.</p></div><div class=paragraph><p>El directorio por defecto que pine intenta abrir es <span class=filename>inbox</span>. Para ver el índice de todos los mensajes recibidos pulse la tecla <kbd>I</kbd> o seleccione la opción de menú denominada <span class=guimenuitem>MESSAGE INDEX</span> como se muestra a continuación:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine2.png alt=pine2></div></div><div class=paragraph><p>El índice muestra los mensajes en el directorio actual y puede navegarse en él utilizando las teclas del cursor. El mensaje seleccionado se puede leer presionando la tecla <kbd>Enter</kbd>.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine3.png alt=pine3></div></div><div class=paragraph><p>En la captura de pantalla que se muestra a continuación se muestra un mensaje de ejemplo. Las teclas de atajo se muestran como referencia en la parte baja de la pantalla. Un ejemplo de dichas teclas de método abreviado es la tecla <kbd>r</kbd> que permite responder al mensaje que se muestra en dicho momento.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine4.png alt=pine4></div></div><div class=paragraph><p>La contestación a un mensaje de correo eletrónico en pine se realiza mediante el editor pico, que se instala por defecto junto con pine. pico permite navegar de forma sencilla por los distintos mensajes de correo y es ligeramente más sencilla de manejar que <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a>, sobre todo para los usuarios noveles. Una vez que se ha escrito la réplica al correo se envía pulsando la tecla <span class=keyseq><kbd>Ctrl</kbd>+<kbd>X</kbd></span>. pine pedirá confirmación antes de enviarlo.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine5.png alt=pine5></div></div><div class=paragraph><p>pine puede configurarse utilizando la entrada <span class=guimenuitem>SETUP</span> del menú principal. Se ruega consultar <a href=http://www.washington.edu/pine/>http://www.washington.edu/pine/</a> para obtener más información.</p></div></div></div></div><div class=sect1><h2 id=mail-fetchmail>27.12. Manejo de fetchmail<a class=anchor href=#mail-fetchmail></a></h2><div class=sectionbody><div class=paragraph><p>fetchmail es un cliente de IMAP y POP que permite a los usuarios descargar automáticamente el correo de cuentas remotas en servidores IMAP y POP y almacenarlos en carpetas de correo locales; una vez en local, se puede acceder a los correos de una forma más sencilla y utilizando multitud de programas cliente. fetchmail se puede instalar a partir del port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/fetchmail/>mail/fetchmail</a>. Veamos algunas de sus características más útiles:</p></div><div class=ulist><ul><li><p>Suporte de POP3, APOP, KPOP, IMAP, ETRN y ODMR.</p></li><li><p>Puede reenviar correo utilizando SMTP lo que permite que las reglas de filtrado, reenvío y "aliasing" funcionen correctamente.</p></li><li><p>Se puede ejecutar en modo dæmon comprobar periódicamente el correo entrante.</p></li><li><p>Puede recuperar correo de múltiples carpetas y reenviarlos, en función de la configuración establecida, a varios usuarios locales.</p></li></ul></div><div class=paragraph><p>Queda fuera del objetivo de este documento explicar todas las características de fetchmail pero algunas de ellas se exponen a ontinuación. fetchmail usa un fichero de configuración denominado <span class=filename>.fetchmailrc</span>. Este fichero incluye información sobre el servidor de correo remoto y los datos necesarios para poder hacer login en él. Debido a la naturaleza sensible de la información que se almacena en dicho fichero se recomienda modificar los permisos para que sea de sólo sea legible por su propietario. Lo conseguirá mediante el siguiente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>chmod </span>600 .fetchmailrc</code></pre></div></div><div class=paragraph><p>El siguiente ejemplo muestra un fichero de configuración <span class=filename>.fetchmailrc</span>. Este ejemplo sirve para automatizar la descarga del correo de un determinado usuario mediante POP. El fichero de configuración hace que fetchmail se conecte a <code>ejemplo.com</code> utilizando como nombre de usuario <code>joesoap</code> y como contraseña <code>XXX</code>. En el ejemplo se asume que el usuario <code>joesoap</code> también es un usuario válido en el sistema local.</p></div><div class="literalblock programlisting"><div class=content><pre>poll ejemplo.com protocol pop3 username &#34;joesoap&#34; password &#34;XXX&#34;</pre></div></div><div class=paragraph><p>El siguiente ejemplo permite a fetchmail conectarse a múltiples servidores POP e IMAP y redirige los correos a diferentes usuarios locales en función de la configuración establecida:</p></div><div class="literalblock programlisting"><div class=content><pre>poll ejemplo.com proto pop3:
user &#34;joesoap&#34;, with password &#34;XXX&#34;, is &#34;jsoap&#34; here;
user &#34;andrea&#34;, with password &#34;XXXX&#34;;
poll ejemplo.net proto imap:
user &#34;john&#34;, with password &#34;XXXXX&#34;, is &#34;myth&#34; here;</pre></div></div><div class=paragraph><p>fetchmail se puede ejecutar en modo dæmon mediante el parámetro <code>-d</code> seguido seguido por un intervalo de tiempo (expresado en segundos) que indica cada cuánto tiempo debe fetchmail interrogar a los distintos servidores listados en <span class=filename>.fetchmailrc</span>. El siguiente ejemplo hace que fetchmail interroge cada 60 segundos:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% fetchmail <span class=nt>-d</span> 60</code></pre></div></div><div class=paragraph><p>Se puede encontrar más información sobre fetchmail en <a href=http://www.catb.org/~esr/fetchmail/>http://www.catb.org/~esr/fetchmail/</a>.</p></div></div></div><div class=sect1><h2 id=mail-procmail>27.13. Uso de procmail<a class=anchor href=#mail-procmail></a></h2><div class=sectionbody><div class=paragraph><p>procmail es una aplicación increíblemente potente que se utiliza para filtrar el correo de entrada. Permite a los usuarios definir "reglas" que se asocian con correos entrantes y que realizan funciones concretas, como reencaminar el correo a carpetas o direciones alternativas. procmail se puede instalar utilizando el port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/procmail/>mail/procmail</a>. Una vez instalado, se puede integrar directamente en la mayoría de los MTAs; por favor, consulte la documentación del MTA que utilice para saber más sobre la integración entre ambos. Por otro lado procmail se puede integrar con el MTA que prefiera de una forma sencilla añadiendo la siguiente línea al fichero <span class=filename>.forward</span> dentro del directorio home del usuario que desée usar procmail:</p></div><div class="literalblock programlisting"><div class=content><pre>&#34;|exec /usr/local/bin/procmail || exit 75&#34;</pre></div></div><div class=paragraph><p>La siguiente sección muestra algunas reglas básicas de procmail, junto con una breve descripción de las acciones que realizan. Estas reglas, y muchas otras se deben insertar dentro del fichero <span class=filename>.procmailrc</span> ubicado en el directorio home del usuario.</p></div><div class=paragraph><p>En la página man de "procmailex" se explica la mayoría de estas reglas.</p></div><div class=paragraph><p>Reenvío de todo el correo proveniente de <code>usuario@ejemplo.com</code> hacia la dirección externa <code>correodefiar@ejemplo.com</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* ^From.*usuario@ejemplo.com
! correodefiar@ejemplo.com</pre></div></div><div class=paragraph><p>Reenvío de todos los correos que ocupen menos de 1000 bytes a la dirección <code>corredefiar@ejemplo2.com</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* &lt; 1000
! correodefiar@ejemplo2.com</pre></div></div><div class=paragraph><p>Envío de todos los correos dirigidos a <code>opcional@ejemplo.com</code> hacia una carpeta de correo llamada <span class=filename>opcional</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* ^TOopcional@ejemplo.com
opcional</pre></div></div><div class=paragraph><p>Envío de todos los correos con un asunto que contenga la palabra "Spam" al dispositivo <span class=filename>/dev/null</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
^Subject:.*Spam
/dev/null</pre></div></div><div class=paragraph><p>Una útil receta para examinar mensajes de correo provenientes de listas de distribución de <code>FreeBSD.org</code> y poner cada mensaje en el directorio apropiado en función del origen del mensaje:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* ^Sender:.owner-freebsd-\/[^@]+@FreeBSD.ORG
{
	LISTNAME=${MATCH}
	:0
	* LISTNAME??^\/[^@]+
	FreeBSD-${MATCH}
}</pre></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 9 de marzo de 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Anterior></i><div class=container><a href=http://172.16.201.134:1313/es/books/handbook/firewalls class=direction>Anterior</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Inicio></i><div class=container><a href=../ class=direction>Inicio</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/es/books/handbook/network-servers class=direction>Siguiente</a></div><i class="fa fa-angle-right" aria-hidden=true title=Siguiente></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Tabla de contenidos</h3><nav id=TableOfContents><ul><li><a href=#mail-synopsis>27.1. Sinopsis</a></li><li><a href=#mail-using>27.2. Utilización del correo electrónico</a></li><li><a href=#sendmail>27.3. Configuración de sendmail</a></li><li><a href=#mail-changingmta>27.4. Sustitución del Agente de Transferencia de Correo</a></li><li><a href=#mail-trouble>27.5. Depuración de Problemas</a></li><li><a href=#mail-advanced>27.6. Conceptos Avanzados</a></li><li><a href=#SMTP-UUCP>27.7. SMTP con UUCP</a></li><li><a href=#outgoing-only>27.8. Configuración para sólamente enviar correo</a></li><li><a href=#SMTP-dialup>27.9. Utilización del correo con una conexión mediante módem analógico (dial-up)</a></li><li><a href=#SMTP-Auth>27.10. Autentificación utilizando SMTP</a></li><li><a href=#mail-agents>27.11. Agente de Correo de Usuario</a></li><li><a href=#mail-fetchmail>27.12. Manejo de fetchmail</a></li><li><a href=#mail-procmail>27.13. Uso de procmail</a></li></ul></nav><hr><div class=resources><h3>Recursos</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Descargar PDF"></i><a href=https://download.freebsd.org/doc/es/books/handbook/handbook_es.pdf>Descargar PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Editar esta página"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/es/_index target=_blank>Editar esta página</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/es/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Elegir idioma">
<span>Spanish</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Claro</option><option value=theme-dark>Oscuro</option><option value=theme-high-contrast>Alto contraste</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/es class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/es/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>