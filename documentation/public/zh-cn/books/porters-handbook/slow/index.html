<!doctype html><html class=theme-light lang=zh-cn><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/><title>第 4 章 复杂的 Porting | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="第 4 章 复杂的 Porting"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="zh-cn"><meta property="og:url" content="http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/zh-cn\/books\/porters-handbook\/slow\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/zh-cn>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books>Books</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=zh-cn>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-89897b13690206c8d016b08d866ebe49 class=toggle>
<label for=chapter-89897b13690206c8d016b08d866ebe49><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/why-port/>第 1 章 介绍</a></li><li><input type=checkbox id=chapter-6619d34d40746c4cdcc07a792381c027 class=toggle>
<label for=chapter-6619d34d40746c4cdcc07a792381c027><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/own-port/>第 2 章 自行制作新 port</a></li><li><input type=checkbox id=chapter-c0d52b9121b517084e01f59cefa725e1 class=toggle>
<label class="icon cursor" for=chapter-c0d52b9121b517084e01f59cefa725e1><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting/>第 3 章 简单的 port</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting/#porting-makefile>3.1. 编写 <span class=filename>Makefile</span></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting/#porting-desc>3.2. 创建描述文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting/#porting-checksum>3.3. 创建校验和文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting/#porting-testing>3.4. 测试 port</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting/#porting-portlint>3.5. 用 <code>portlint</code> 来检查 port</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting/#porting-submitting>3.6. 提交新 port</a></li></ul></li><li><input type=checkbox id=chapter-78c64b7f0aa40d4648859dde83f4ee13 class=toggle checked>
<label class="icon cursor" for=chapter-78c64b7f0aa40d4648859dde83f4ee13><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/>第 4 章 复杂的 Porting</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/#slow-work>4.1. 整个系统是如何运转的?</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/#slow-sources>4.2. 获取源代码</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/#slow-modifying>4.3. 修改 port</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/#slow-patch>4.4. 打补丁</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/#slow-configure>4.5. 配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/slow/#slow-user-input>4.6. 处理用户输入</a></li></ul></li><li><input type=checkbox id=chapter-869403c3f74bf6ec89e800963596e31a class=toggle>
<label class="icon cursor" for=chapter-869403c3f74bf6ec89e800963596e31a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/>第 5 章 配置 Makefile</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-source>5.1. 作者发布的代码</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-naming>5.2. 命名</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-categories>5.3. 分类</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-distfiles>5.4. 源码包文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-maintainer>5.5. <code>MAINTAINER</code> (监护人)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-comment>5.6. <code>COMMENT</code> (一句话说明)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-depend>5.7. 依赖关系</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-masterdir>5.8. <code>MASTERDIR</code> (主 port 所在的目录)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-manpages>5.9. 联机手册</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-info>5.10. Info 文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-options>5.11. Makefile 选项</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#makefile-wrkdir>5.12. 指定工作临时目录</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#conflicts>5.13. 处理冲突</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile/#install>5.14. 安装文件</a></li></ul></li><li><input type=checkbox id=chapter-19e3150e00beb84341d8ac1a73936ef0 class=toggle>
<label class="icon cursor" for=chapter-19e3150e00beb84341d8ac1a73936ef0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/>第 6 章 特殊情况</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#porting-shlibs>6.1. 共享库</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#porting-restrictions>6.2. Ports 的发行限制</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#building>6.3. 联编机制</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-autotools>6.4. 利用 GNU autotools</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-gettext>6.5. 使用 GNU <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-perl>6.6. 使用 <code>perl</code></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-x11>6.7. 使用 X11</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-gnome>6.8. 使用 GNOME</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-qt>6.9. 使用 Qt</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-kde>6.10. 使用 KDE</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-java>6.11. 使用 Java</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-php>6.12. Web 应用， Apache 和 PHP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-python>6.13. 使用 Python</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-tcl>6.14. 使用 Tcl/Tk</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-emacs>6.15. 使用 Emacs</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-ruby>6.16. 使用 Ruby</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-sdl>6.17. 使用 SDL</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-wx>6.18. 使用 wxWidgets</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-lua>6.19. 使用 Lua</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-xfce>6.20. 使用 Xfce</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-mozilla>6.21. 使用 Mozilla</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#using-databases>6.22. 使用数据库</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#rc-scripts>6.23. 启动和停止服务 (rc 脚本)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#users-and-groups>6.24. 添加用户和用户组</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/special/#_依赖内核源代码的_ports>6.25. 依赖内核源代码的 Ports</a></li></ul></li><li><input type=checkbox id=chapter-154554011c772e1e6cc0108eef5e0b2b class=toggle>
<label class="icon cursor" for=chapter-154554011c772e1e6cc0108eef5e0b2b><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/plist/>第 7 章 高级 pkg-plist 用法</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/plist/#plist-sub>7.1. 根据 make 变量对 <span class=filename>pkg-plist</span> 进行修改</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/plist/#plist-cleaning>7.2. 空目录</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/plist/#plist-config>7.3. 配置文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/plist/#plist-dynamic>7.4. 动态装箱单与静态装箱单的对比</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/plist/#plist-autoplist>7.5. 装箱单 (package list) 的自动化制作</a></li></ul></li><li><input type=checkbox id=chapter-5955b0791ccd51005b5bc5bebeec91e5 class=toggle>
<label class="icon cursor" for=chapter-5955b0791ccd51005b5bc5bebeec91e5><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/pkg-files/>第 8 章 pkg-* 文件</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/pkg-files/#porting-message>8.1. <span class=filename>pkg-message</span> (安装预编译包时显示的消息文件)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/pkg-files/#pkg-install>8.2. <span class=filename>pkg-install</span> (安装预编译包时执行的脚本文件)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/pkg-files/#pkg-deinstall>8.3. <span class=filename>pkg-deinstall</span> (卸载时执行的脚本文件)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/pkg-files/#pkg-req>8.4. <span class=filename>pkg-req</span> (安装预编译包时检测是否应执行操作的脚本文件)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/pkg-files/#pkg-names>8.5. 改变 <span class=filename>pkg-*</span> 文件的名字</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/pkg-files/#using-sub-files>8.6. 使用 <code>SUB_FILES</code> 和 <code>SUB_LIST</code></a></li></ul></li><li><input type=checkbox id=chapter-ee86a11caedb6395ed82b94ec7a9c6cd class=toggle>
<label class="icon cursor" for=chapter-ee86a11caedb6395ed82b94ec7a9c6cd><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/testing/>第 9 章 测试您的 port</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/testing/#make-describe>9.1. 运行 <code>make describe</code></a></li></ul></li><li><input type=checkbox id=chapter-24703a9f2b5ab277e796cbfa6f5fd1e4 class=toggle>
<label class="icon cursor" for=chapter-24703a9f2b5ab277e796cbfa6f5fd1e4><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/port-upgrading/>第 10 章 升级一个 port</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/port-upgrading/#cvs-diff>10.1. 使用 CVS 制作补丁</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/port-upgrading/#moved-and-updating-files>10.2. UPDATING 和 MOVED 文件</a></li></ul></li><li><input type=checkbox id=chapter-1023911bc0041506653280b832dea3b2 class=toggle>
<label class="icon cursor" for=chapter-1023911bc0041506653280b832dea3b2><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/security/>第 11 章 Ports 的安全</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/security/#security-intro>11.1. 安全为何如此重要</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/security/#security-fix>11.2. 修复安全漏洞</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/security/#security-notify>11.3. 通知整个用户群体</a></li></ul></li><li><input type=checkbox id=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7 class=toggle>
<label class="icon cursor" for=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/>第 12 章 该做什么和不该做什么</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-intro>12.1. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#porting-wrkdir>12.2. <code>WRKDIR</code> (联编时使用的临时目录)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#porting-wrkdirprefix>12.3. <code>WRKDIRPREFIX</code> (用于联编的临时目录的父目录名)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#porting-versions>12.4. 区分不同的操作系统， 以及 OS 的版本</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#freebsd-versions>12.5. __FreeBSD_version 值</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-after-port-mk>12.6. 在 <span class=filename>bsd.port.mk</span> 之后写一些内容</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-sh-exec>12.7. 在 wrapper 脚本中使用 <code>exec</code> 语句</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-rational>12.8. 理性行事</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-cc>12.9. 遵循 <code>CC</code> 和 <code>CXX</code> 设置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-cflags>12.10. 遵循 <code>CFLAGS</code></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-pthread>12.11. 线程库</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-freedback>12.12. 反馈</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-readme>12.13. <span class=filename>README.html</span></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-noinstall>12.14. 使用 <code>BROKEN</code>、 <code>FORBIDDEN</code> 或 <code>IGNORE</code> 阻止用户安装 port</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-deprecated>12.15. 使用 <code>DEPRECATED</code> 或 <code>EXPIRATION_DATE</code> 表示某个 port 将被删除</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-dot-error>12.16. 避免使用 <code>.error</code> 结构</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-sysctl>12.17. 对于 <span class=filename>sysctl</span> 的使用</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-rerolling-distfiles>12.18. 重新发布的 distfiles</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-dads/#dads-misc>12.19. 杂记</a></li></ul></li><li><input type=checkbox id=chapter-5ef4c4c471a3f55c74fb71881f9d8713 class=toggle>
<label for=chapter-5ef4c4c471a3f55c74fb71881f9d8713><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/porting-samplem/>第 13 章 示范的 Makefile</a></li><li><input type=checkbox id=chapter-70f5a4755700a24529175d26e65871bf class=toggle>
<label class="icon cursor" for=chapter-70f5a4755700a24529175d26e65871bf><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/keeping-up/>第 14 章 保持同步</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/keeping-up/#freshports>14.1. FreshPorts</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/keeping-up/#cvsweb>14.2. 代码库的 Web 访问界面</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/keeping-up/#ports-mailling-list>14.3. FreeBSD Ports 邮件列表</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/keeping-up/#build-cluster>14.4. 位于 <code>pointyhat.FreeBSD.org</code> 的 FreeBSD Port 联编集群</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/keeping-up/#distfile-survey>14.5. FreeBSD 的 Ports Distfile 扫描器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/keeping-up/#portsmon>14.6. FreeBSD 的 Ports 追踪系统</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>第 4 章 复杂的 Porting</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#slow-work>4.1. 整个系统是如何运转的?</a></li><li><a href=#slow-sources>4.2. 获取源代码</a></li><li><a href=#slow-modifying>4.3. 修改 port</a></li><li><a href=#slow-patch>4.4. 打补丁</a></li><li><a href=#slow-configure>4.5. 配置</a></li><li><a href=#slow-user-input>4.6. 处理用户输入</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class=paragraph><p>好了， 也许工作没那么简单， port 需要做些修改才能够在 FreeBSD 上跑起来。 在这一章里， 我们将会一步步举例来介绍应该如何修改来使您的 port 能在 FreeBSD 上面运行。</p></div></div></div><div class=sect1><h2 id=slow-work>4.1. 整个系统是如何运转的?<a class=anchor href=#slow-work></a></h2><div class=sectionbody><div class=paragraph><p>首先， 这一系列的动作是由用户在您的 port 目录里敲入 <code>make</code> 后发生的。 您也许会发现在另外的一个窗口里阅读一下 <span class=filename>bsd.port.mk</span> 将会有助于您的理解。</p></div><div class=paragraph><p>要是您不是非常明白 <span class=filename>bsd.port.mk</span> 是做什么的话， 也不用太担心， 很多人都不知道的…​ <em>:→</em></p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p><code>fetch</code> 会首先被执行。 <code>fetch</code> 将检查在本地的 <code>DISTDIR</code> 目录里是否存在 tar 包。 如果 <code>fetch</code> 没有找到就会查找 Makefile 中定义的 <code>MASTER_SITES</code> URL， 还有我们的主 FTP 站点 <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/>ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/</a>， 在那里我们备份了所有被认可的 distfile。 假设那个 <code>MASTER_SITES</code> 站点是直接连在 Internet 上的， 就会试着用 <code>FETCH</code> 指定的程序取回 distfile。 如果成功的话， 文件会被保存在<code>DISTDIR</code> 所指定的目录以备稍后使用。</p></li><li><p>接下来会执行 <code>extract</code>。 它会在 <code>DISTDIR</code> 中寻找您的 tar 包 (通常是用 gzip 压缩的 tar 包)，然后解压缩到由 <code>WRKDIR</code> 所指定的临时目录里 (默认为<span class=filename>work</span>目录)。</p></li><li><p>下一步是执行 <code>patch</code>。 首先任何在 <code>PATCHFILES</code> 中定义的补丁都会被打上。 然后， 在由 <code>PATCHDIR</code> 指定的目录 (默认为 <span class=filename>files</span>目录) 中发现的<span class=filename>patch-*</span>， 它们将会以文件名的字母顺序被先后打上。</p></li><li><p><code>configure</code>会被执行。 这一步骤可能会有以下几种情形。</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>如果存在 <span class=filename>scripts/configure</span>， 就会执行它</p></li><li><p>如果定义了 <code>HAS_CONFIGURE</code> 或者 <code>GNU_CONFIGURE</code>， 就会执行 <span class=filename>WRKSRC/configure</span>。</p></li><li><p>如果定义了<code>USE_IMAGE</code>， 就会执行 <code>XMKMF</code> (默认为: <code>xmkmf -a</code>)。</p></li></ol></div></li><li><p><code>build</code>会被执行。 这一步将会进入ports的工作目录 (<code>WRKSRC</code>) 然后进行编译。如果定义了<code>USE_GMAKE</code>， 就会使用 GNU <code>make</code>， 反之， 则会使用系统默认的 <code>make</code>。</p></li></ol></div></div></div><div class=paragraph><p>以上都是系统默认的步骤。 您也可以定义 <code>pre-<em>something</em></code> 或者 <code>post-<em>something</em></code>， 或者把以此命名的脚本放到 <span class=filename>scripts</span> 目录， 它们会在默认的动作之前或之后被执行。</p></div><div class=paragraph><p>举个例子， 如果您在您的 <span class=filename>Makefile</span> 里定义了<code>post-extract</code>， 并在 <span class=filename>script</span> 目录里放了一个 <span class=filename>pre-build</span> 脚本， 那么在 tar 包解开之后 <code>post-extract</code> 将被调用， <span class=filename>pre-build</span> 脚本会在默认的编译之前被执行。 我们推荐您在 <span class=filename>Makefile</span> 定义所有的动作， 如果不是十分复杂的话， 这样， 别人能更容易明白您的 port 需要执行哪些非默认的动作。</p></div><div class=paragraph><p>默认的行为都是由 <span class=filename>bsd.port.mk</span> 定义的 <code>do-<em>something</em></code> 来表示的。 例如， port 中用来解压缩的命令是由 <code>do-extract</code> 来定义的。 如果您对默认的设置不满意， 可以通过在 <span class=filename>Makefile</span> 重新定义 <code>do-<em>someting</em></code> 来做些改变。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>"主" 动作 (例如 <code>extract</code>、 <code>configure</code>， 等等) 仅仅是用来确定所有相应的阶段都完成了， 以及调用真实的动作或脚本， 它们不应被修改。 如果您想要修改解压缩这个动作， 可以修改 <code>do-extract</code>， 但永远都不要改变 <code>extract</code> 的操作！</p></div></td></tr></tbody></table></div><div class=paragraph><p>我们已经介绍了在用户敲入 <code>make</code> 之后会发生哪些事情了。 接下来我们将进行进一步的学习， 来看一看如何创建一个理想的 port。</p></div></div></div><div class=sect1><h2 id=slow-sources>4.2. 获取源代码<a class=anchor href=#slow-sources></a></h2><div class=sectionbody><div class=paragraph><p>获取源代码的 tar 包 (通常是 <span class=filename>foo.tar.gz</span> 或者 <span class=filename>foo.tar.Z</span>) 并把它们放进 <code>DISTDIR</code>。 最好使用 <em>主流</em> 的版本。</p></div><div class=paragraph><p>您需要设置变量 <code>MASTER_SITES</code> 来指向原始 tar 包的获取位置。 您可以在 <span class=filename>bsd.sites.mk</span> 里找到一些速度较快的主流站点。 请使用这些站点 - 和相关的定义 - 如果可能的话， 应尽量避免在同一个源代码树里出现大量重复的信息。 这些站点会随着时间而变化， 如果每个人都随意加入的话会使维护变得非常困难。</p></div><div class=paragraph><p>如果您找不到一个有很好网络连接的 FTP/HTTP 站点， 或者它们使用了非标准的格式， 您也许就会想在您自己的 FTP 或 HTTP 服务器上放上一份副本。</p></div><div class=paragraph><p>如果您找不到可靠的地方放置 distfiles， 我们也可以提供给您一些空间来保存它。 我们自己的 <code>ftp.FreeBSD.org</code>； 然而这只是一个折衷的办法。 distfile 必须放进某人在 <code>freefall</code> 上的 <span class=filename>~/public_distfiles/</span> 目录中。 可以要求帮助您 commit port 的人来放这个 distfile， 而这个人也需要把 <code>MASTER_SITES</code>、 <code>MASTER_SITE_LOCAL</code> 以及 <code>MASTER_SITE_SUBDIR</code> 的设置， 改为在 <code>freefall</code> 上的用户名。</p></div><div class=paragraph><p>如果您的 port 的 distfile 一直在变化， 而作者拒绝改变其版本号， 您可以考虑把 distfiles 放在自己的主页， 并在 <code>MASTER_SITES</code> 里把原作者的列为首选位置。 如果可能， 试着与 port 的作者沟通一下让他不要这么做， 这将有助于建立对源代码的控制。 在您的主页上放置您自己的 distfile 会避免用户得到 <code>checksum mismatch</code> 的错误， 而且能减轻我们 FTP 站点维护人员的工作量。 如果您的port只有一个主站点的话， 我们建议您在自己的网站上做一份备份， 并他列为 <code>MASTER_SITES</code>的第2项。</p></div><div class=paragraph><p>如果您的 port 需要来自网络上的一些补丁， 请把它们放到 <code>DISTDIR</code>里。 不用担心它们跟源代码不是来自同一站点。 我们有办法处理 (参阅下面的 <a href=#porting-patchfiles>补丁文件</a>)。</p></div></div></div><div class=sect1><h2 id=slow-modifying>4.3. 修改 port<a class=anchor href=#slow-modifying></a></h2><div class=sectionbody><div class=paragraph><p>解开 tar 包， 对源代码做出合理的修改使得这个 port 能在最新版本的 FreeBSD 上面运行。 一定要 <em>仔细记录</em> 您所做的每处改动， 包括删除、添加、修改的文件等等， 这些修改以后会在您的 port 中以脚本或补丁的方式出现， 并且能通过运行它们来自动完成您对 port 的改动要求。</p></div><div class=paragraph><p>如果您的 port 要求用与用户交互/配置来完成编译或安装的话， 您可以看一下 Larry Wall 的经典的 Configure 脚本， 适当地模仿一下。 Port collection 的目的， 就是使每个 port 占用最少的空间， 并做到软件的 "即插即用"。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>除非明确地声明， 否则您提交给 FreeBSD ports collection 的补丁， 脚本和其它的文件都将以标准的 BSD 版权发布。</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=slow-patch>4.4. 打补丁<a class=anchor href=#slow-patch></a></h2><div class=sectionbody><div class=paragraph><p>在您准备制作 port 的过程中， 增加或修改的文件， 都可以通过 <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> 来做成补丁。 希望应用到源代码上的每个补丁， 都应保存为单独的文件， 并命名为 <span class=filename>patch-*</span>， 其中 <em>*</em> 表示将要修改的文件的完整路径名， 例如 <span class=filename>patch-Imakefile</span> 或 <span class=filename>patch-src-config.h</span>。 这些文件， 都应保存在 <code>PATCHDIR</code> (通常是 <span class=filename>files/</span>)， 这里的补丁都会自动应用到源代码上。 所有的补丁必须是相对于 <code>WRKSRC</code> 的 (一般而言， 您的 port 会将其 tarball 解压缩在那里， 并完成余下的工作)。 为了让修正和升级更容易， 您应避免使用多个 patch 去修改同一个文件 (例如， <span class=filename>patch-file</span> 以及 <span class=filename>patch-file2</span> 都修改 <span class=filename>WRKSRC/foobar.c</span>) 这种情况。 需要注意的是， 如果修改的文件的路径中包含下划线 (<code>_</code>) 字符， 则在补丁文件名中应使用两个下划线来代替。 例如， 如果需要修改名为 <span class=filename>src/freeglut_joystick.c</span> 的文件， 补丁文件的名字应为 <span class=filename>patch-src-freeglut__joystick.c</span>。</p></div><div class=paragraph><p>只有 <code>[-+._a-zA-Z0-9]</code> 这些字符， 可以出现在补丁的文件名中， 请务必不要使用除这些字符以外的其它字符。 不要把您的补丁命名成 <span class=filename>patch-aa</span> 或 <span class=filename>patch-ab</span> 等这样的名字， 最好能在补丁名中提到路径和文件名。</p></div><div class=paragraph><p>不要把 RCS 字符串放进补丁。 我们把文件放进 ports 树的时候， CVS 会损坏它们， 当我们再 check out 出来的时候， 它们就会和原来的不一样， 从而导致打补丁失败。 RCS 字符串 是由美元符号 (<code>$</code>) 围绕的， 通常由 <code>$Id</code> 或 <code>$RCS</code> 开头。</p></div><div class=paragraph><p>使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> 的递归选项(<code>-r</code>) 很好， 但是请检查一下最后输出的 patch， 确保没有任何的垃圾信息。 特别地， 有 2 种文件不需要 diff， 并且应该删除： 一种是 <span class=filename>Makefile</span>， 当您的port使用了<code>Imake</code>， 或者 GNU <code>configure</code> 等等的话。 如果您不得不编辑<span class=filename>configure.in</span> 以使 <code>autoconf</code> 去生成 <code>configure</code>， 不要使用 <code>configure</code> 来做 diff (这常常会有好几千行长!)； 请定义 <code>USE_AUTOTOOLS=autoconf:261</code> 并对应 <span class=filename>configure.in</span> 来制作 diff。</p></div><div class=paragraph><p>另外， 您还应尽量减少补丁中非功能性的空格及空白变动。 在开源世界中， 遵循不同的编码规范的项目共享大量代码是很常见的事情。 如果您从某个项目中提取一部分功能用来修正另一个程序中的问题时， 请务必小心： 补丁中很可能到处都是非功能性的变动行。 这不仅会导致 CVS 库的膨胀， 而且也会让导致问题的故障点， 以及您到底修改了什么变得不甚清晰。</p></div><div class=paragraph><p>假如需要删除文件， 则应在 <code>post-extract</code> target， 而不是作为补丁的一部分来完成。</p></div><div class=paragraph><p>除此之外， port 的 <span class=filename>Makefile</span> 还可以通过 in-place 模式的 <a href="https://man.freebsd.org/cgi/man.cgi?query=sed&amp;sektion=1&amp;format=html">sed(1)</a> 来直接进行简单的替换操作。 如果补丁需要使用变量值， 这就非常有用了。 例如：</p></div><div class="literalblock programlisting"><div class=content><pre>post-patch:
	@${REINPLACE_CMD} -e &#39;s|for Linux|for FreeBSD|g&#39; ${WRKSRC}/README
	@${REINPLACE_CMD} -e &#39;s|-pthread|${PTHREAD_LIBS}|&#39; ${WRKSRC}/configure</pre></div></div><div class=paragraph><p>往往在移植某些软件的时候会遇到这样一种情况， 特别是这个软件是在 Windows® 上开发的时候， 大多数的源代码都需要进行CR/LF的转换。 这很可能会给以后打补丁带来问题， 还可能触发编译警告， 并给脚本的执行带来麻烦 (<code>/bin/sh^M</code> not found)， 等等。 要迅速将所有文件中的 CR/LF 改为只用 LF， 可以在 port 的 <span class=filename>Makefile</span> 中加入 <code>USE_DOS2UNIX=yes</code>。 除此之外， 还可以指定一个需要执行这种转换操作的文件列表：</p></div><div class="literalblock programlisting"><div class=content><pre>USE_DOS2UNIX=    util.c util.h</pre></div></div><div class=paragraph><p>如果希望转换一系列目录中的一组文件， 也可以使用 <code>DOS2UNIX_REGEX</code>。 它的参数是与 <code>find</code> 兼容的正则表达式。 关于这种格式的说明， 请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=re_format&amp;sektion=7&amp;format=html">re_format(7)</a>。 这个选项对转换所有指定扩展名的文件， 例如只转换源代码文件这样的应用非常有用：</p></div><div class="literalblock programlisting"><div class=content><pre>USE_DOS2UNIX=    yes
DOS2UNIX_REGEX=  .*\.(c|cpp|h)</pre></div></div><div class=paragraph><p>如果您希望基于现存的文件创建补丁， 可以把文件复制为带 <span class=filename>.orig</span> 扩展名的名字， 然后修改原文件。 然后使用 <code>makepatch</code> 目标根据修改在 port 的 <span class=filename>files</span> 目录中生成补丁文件。</p></div></div></div><div class=sect1><h2 id=slow-configure>4.5. 配置<a class=anchor href=#slow-configure></a></h2><div class=sectionbody><div class=paragraph><p>把任何附加的配置命令加进您的 <span class=filename>configure</span> 脚本并把它保存到 <span class=filename>scripts</span> 子目录。 如前面提到的那样， 您也能在 <span class=filename>Makefile</span> 和/或 使用 <span class=filename>pre-configure</span> 或 <span class=filename>post-configure</span> 的脚本来做同样的事情。</p></div></div></div><div class=sect1><h2 id=slow-user-input>4.6. 处理用户输入<a class=anchor href=#slow-user-input></a></h2><div class=sectionbody><div class=paragraph><p>如果您的 port 要求用户的输入以便配置编译、 或安装配置过程， 就必须在 <span class=filename>Makefile</span> 里设置 <code>IS_INTERACTIVE</code> 变量。 如果用户设置了 <code>BATCH</code> 的话， 这将让用户能跳过您的 port 来完成 "通宵编译" (如果用户设置了 <code>INTERACTIVE</code>的话， 那么 <em>只有</em> 那些要求互动的 port 才会被编译) 这将给那些不停编译 ports 的机器省下很多时间。</p></div><div class=paragraph><p>通常我们还建议， 如果对于那些问题能有合理的缺省答案的话， 应检查一下 <code>PACKAGE_BUILDING</code> 变量， 并根据其设置决定是否执行关闭交互脚本。 这将允许我们为 CDROM 和 FTP 来编译 package。</p></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: March 9, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/quick-porting class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook/makefile class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#slow-work>4.1. 整个系统是如何运转的?</a></li><li><a href=#slow-sources>4.2. 获取源代码</a></li><li><a href=#slow-modifying>4.3. 修改 port</a></li><li><a href=#slow-patch>4.4. 打补丁</a></li><li><a href=#slow-configure>4.5. 配置</a></li><li><a href=#slow-user-input>4.6. 处理用户输入</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/zh-cn/books/porters-handbook/porters-handbook_zh-cn.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/zh-cn/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/zh-cn/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>简体中文</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/zh-cn class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>