<!doctype html><html class=theme-light lang=zh-cn><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/><title>第 6 章 X Window 系统 | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="第 6 章 X Window 系统"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="zh-cn"><meta property="og:url" content="http://172.16.201.134:1313/zh-cn/books/handbook/x11/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/zh-cn\/books\/handbook\/x11\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/zh-cn>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books>Books</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=zh-cn>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/>前言</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-audience>预期的读者</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes-from3>相对于第三版的改动</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes-from2>相对于第二版的改动 (2004)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes>相对于第一版的改变 (2001)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-overview>本手册的组织</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-conv>本书中使用的一些约定</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-acknowledgements>致谢</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/parti/>部分 I. 起步</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/>第 1 章 介绍</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#introduction-synopsis>1.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#nutshell>1.2. 欢迎来到 FreeBSD 的世界!</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#history>1.3. 关于 FreeBSD 项目</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/>第 2 章 安装 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-synopsis>2.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-hardware>2.2. 硬件需求</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-pre>2.3. 安装前的准备工作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-start>2.4. 开始安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#using-sysinstall>2.5. 介绍 Sysinstall</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-steps>2.6. 分配磁盘空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-choosing>2.7. 选择要安装的软件包</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-media>2.8. 选择您要使用的安装介质</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-final-warning>2.9. 安装确认</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-post>2.10. 安装后的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-trouble>2.11. 常见问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-advanced>2.12. 高级安装指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-diff-media>2.13. 准备您自己的安装介质</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/>第 3 章 安装 FreeBSD（适用于 9.x 及以后版本）</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-synopsis>3.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-hardware>3.2. 硬件需求</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-pre>3.3. 安装前的准备工作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-start>3.4. 开始安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#using-bsdinstall>3.5. 介绍 bsdinstall</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-netinstall>3.6. 通过网络安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-partitioning>3.7. 分配磁盘空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-final-warning>3.8. 安装确认</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-post>3.9. 安装后的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-install-trouble>3.10. 故障排除</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/>第 4 章 UNIX 基础</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-synopsis>4.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#consoles>4.2. 虚拟控制台和终端</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#permissions>4.3. 权限</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#dirstructure>4.4. 目录架构</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#disk-organization>4.5. 磁盘组织</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#mount-unmount>4.6. 文件系统的挂接和卸下</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-processes>4.7. 进程</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-daemons>4.8. 守护进程，信号和杀死进程</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#shells>4.9. Shells</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#editors>4.10. 文本编辑器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-devices>4.11. 设备和设备节点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#binary-formats>4.12. 二进制文件格式</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-more-information>4.13. 取得更多的资讯</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/>第 5 章 安装应用程序: Packages 和 Ports</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-synopsis>5.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-overview>5.2. 软件安装预览</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-finding-applications>5.3. 寻找您要的应用程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#packages-using>5.4. 使用 Package 系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-using>5.5. 使用Ports Collection</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-nextsteps>5.6. 安装之后还要做点什么？</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-broken>5.7. 如何处理坏掉的 Ports</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle checked>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/>第 6 章 X Window 系统</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x11-synopsis>6.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-understanding>6.2. 理解 X</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-install>6.3. 安装 X11</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-config>6.4. 配置 X11</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-fonts>6.5. 在 X11 中使用字体</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-xdm>6.6. X 显示管理器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x11-wm>6.7. 桌面环境</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partii/>部分 II. 常见的任务</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/>第 7 章 桌面应用</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-synopsis>7.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-browsers>7.2. 浏览器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-productivity>7.3. 办公、图象处理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-viewers>7.4. 文档查看器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-finance>7.5. 财务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-summary>7.6. 总结</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/>第 8 章 多媒体</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#multimedia-synopsis>8.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#sound-setup>8.2. 安装声卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#sound-mp3>8.3. MP3音频</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#video-playback>8.4. 视频回放</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#tvcard>8.5. 安装电视卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#scanners>8.6. 图象扫描仪</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/>第 9 章 配置FreeBSD的内核</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-synopsis>9.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-custom-kernel>9.2. 为什么需要建立定制的内核?</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-devices>9.3. 发现系统硬件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-modules>9.4. 内核驱动，子系统和模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-building>9.5. 建立并安装一个定制的内核</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-config>9.6. 配置文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-trouble>9.7. 如果出现问题怎么办</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/>第 10 章 打印</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-synopsis>10.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-intro-spooler>10.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-intro-setup>10.3. 基本设置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-advanced>10.4. 高级设置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-using>10.5. 使用打印机</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-lpd-alternatives>10.6. 替换标准后台打印</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-troubleshooting>10.7. 疑难问题</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/>第 11 章 Linux® 二进制兼容模式</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-synopsis>11.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-lbc-install>11.2. 配置 Linux® 二进制兼容模式</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-advanced>11.3. 高级主题</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partiii/>部分 III. 系统管理</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/>第 12 章 设置和调整</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#config-synopsis>12.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-initial>12.2. 初步配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-core-configuration>12.3. 核心配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-appconfig>12.4. 应用程序配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-starting-services>12.5. 启动服务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-cron>12.6. 配置 <code>cron</code></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-rcd>12.7. 在 FreeBSD 中使用 rc</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#config-network-setup>12.8. 设置网卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-virtual-hosts>12.9. 虚拟主机</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-configfiles>12.10. 配置文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-sysctl>12.11. 用 sysctl 进行调整</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-disk>12.12. 调整磁盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-kernel-limits>12.13. 调整内核限制</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#adding-swap-space>12.14. 添加交换空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#acpi-overview>12.15. 电源和资源管理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#ACPI-debug>12.16. 使用和调试 FreeBSD ACPI</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/>第 13 章 FreeBSD 引导过程</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-synopsis>13.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-introduction>13.2. 引导问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-blocks>13.3. 引导管理器和各引导阶段</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-kernel>13.4. 内核在引导时的交互</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#device-hints>13.5. Device Hints</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-init>13.6. Init：进程控制及初始化</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-shutdown>13.7. 关机 (shutdown) 过程</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/>第 14 章 用户和基本的帐户管理</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-synopsis>14.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-introduction>14.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-superuser>14.3. 超级用户帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-system>14.4. 系统帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-user>14.5. 用户帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-modifying>14.6. 修改帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-limiting>14.7. 限制用户使用系统资源</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-groups>14.8. 组</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/>第 15 章 安全</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-synopsis>15.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-intro>15.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#securing-freebsd>15.3. 确保 FreeBSD 的安全</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#crypt>15.4. DES、 Blowfish、 MD5， 以及 Crypt</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#one-time-passwords>15.5. 一次性口令</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#tcpwrappers>15.6. TCP Wrappers</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#kerberos5>15.7. Kerberos5</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#openssl>15.8. OpenSSL</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#ipsec>15.9. IPsec 上的 VPN</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#openssh>15.10. OpenSSH</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#fs-acl>15.11. 文件系统访问控制表</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-portaudit>15.12. 监视第三方安全问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-advisories>15.13. FreeBSD 安全公告</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-accounting>15.14. 进程记帐</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/>第 16 章 Jails</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-synopsis>16.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-terms>16.2. 与 Jail 相关的一些术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-intro>16.3. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-build>16.4. 建立和控制 jail</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-tuning>16.5. 微调和管理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-application>16.6. Jail 的应用</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/>第 17 章 强制访问控制</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-synopsis>17.1. 概要</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-inline-glossary>17.2. 本章出现的重要术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-initial>17.3. 关于 MAC 的说明</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-understandlabel>17.4. 理解 MAC 标签</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-planning>17.5. 规划安全配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-modules>17.6. 模块配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-seeotheruids>17.7. MAC seeotheruids 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-bsdextended>17.8. MAC bsdextended 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-ifoff>17.9. MAC ifoff 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-portacl>17.10. MAC portacl 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-partition>17.11. MAC partition (分区) 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-mls>17.12. MAC 多级 (Multi-Level) 安全模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-biba>17.13. MAC Biba 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-lomac>17.14. MAC LOMAC 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-implementing>17.15. MAC Jail 中的 Nagios</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-userlocked>17.16. User Lock Down</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-troubleshoot>17.17. MAC 框架的故障排除</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/>第 18 章 安全事件审计</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-synopsis>18.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-inline-glossary>18.2. 本章中的一些关键术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-install>18.3. 安装审计支持</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-config>18.4. 对审计进行配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-administration>18.5. 管理审计子系统</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/>第 19 章 存储</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-synopsis>19.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-naming>19.2. 设备命名</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-adding>19.3. 添加磁盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#raid>19.4. RAID</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#usb-disks>19.5. USB 存储设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#creating-cds>19.6. 创建和使用光学介质(CD)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#creating-dvds>19.7. 创建和使用光学介质(DVD)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#floppies>19.8. 创建和使用软盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backups-tapebackups>19.9. 用磁带机备份</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backups-floppybackups>19.10. 用软盘备份</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backup-strategies>19.11. 备份策略</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backup-basics>19.12. 备份程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-virtual>19.13. 网络、内存和 和以及映像文件为介质的虚拟文件系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#snapshots>19.14. 文件系统快照</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#quotas>19.15. 文件系统配额</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-encrypting>19.16. 加密磁盘分区</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#swap-encrypting>19.17. 对交换区进行加密</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-hast>19.18. 高可用性存储 (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/>第 20 章 GEOM: 模块化磁盘变换框架</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-synopsis>20.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-intro>20.2. GEOM 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-striping>20.3. RAID0 - 条带</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-mirror>20.4. RAID1 - 镜像</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-raid3>20.5. RAID3 - 使用专用校验设备的字节级条带</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-ggate>20.6. GEOM Gate 网络设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-glabel>20.7. 为磁盘设备添加卷标</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-gjournal>20.8. 通过 GEOM 实现 UFS 日志</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/>第 21 章 文件系统 Support</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/#filesystems-synopsis>21.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/#filesystems-zfs>21.2. Z 文件系统 (ZFS)</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/>第 22 章 Vinum 卷管理程序</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-synopsis>22.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-intro>22.2. 磁盘容量太小</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-access-bottlenecks>22.3. 访问瓶颈</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-data-integrity>22.4. 数据的完整性</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-objects>22.5. Vinum 目标</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-examples>22.6. 一些例子</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-object-naming>22.7. 对象命名</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-config>22.8. 配置 Vinum</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-root>22.9. 使用 Vinum 作为根文件系统</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/>第 23 章 虚拟化</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-synopsis>23.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-guest>23.2. 作为客户 OS 的 FreeBSD</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-host>23.3. 作为宿主 OS 的 FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/>第 24 章 本地化－I18N/L10N使用和设置</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-synopsis>24.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-basics>24.2. 基础知识</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#using-localization>24.3. 使用本地化语言</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-compiling>24.4. 编译I18N程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#lang-setup>24.5. 本地化FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/>第 25 章 更新与升级 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-synopsis>25.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>25.2. FreeBSD 更新</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-portsnap>25.3. Portsnap： 一个 Ports Collection 更新工具</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-documentation>25.4. 更新系统附带的文档</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#current-stable>25.5. 追踪开发分支</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#synching>25.6. 同步您的源码</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#makeworld>25.7. 重新编译 "world"</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#make-delete-old>25.8. 删除过时的文件、 目录和函数库</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#small-lan>25.9. 跟踪多台机器</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/>第 26 章 DTrace</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-synopsis>26.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-implementation>26.2. 实现上的差异</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-enable>26.3. 启用 DTrace 支持</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-using>26.4. 使用 DTrace</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-language>26.5. D 语言</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partiv/>部分 IV. 网络通讯</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/>第 27 章 串口通讯</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serial-synopsis>27.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serial>27.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#term>27.3. 终端</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#dialup>27.4. 拨入服务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#dialout>27.5. 拨出设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serialconsole-setup>27.6. 设置串口控制台</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/>第 28 章 PPP 和 SLIP</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>28.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#userppp>28.2. 使用用户级 PPP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp>28.3. 使用内核级PPP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp-troubleshoot>28.4. PPP 连接故障排除</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#pppoe>28.5. 使用基于以太网的PPP(PPPoE)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#pppoa>28.6. 使用 ATM 上的 PPP (PPPoA)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#slip>28.7. 使用SLIP</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/>第 29 章 电子邮件</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-synopsis>29.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-using>29.2. 使用电子邮件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#sendmail>29.3. sendmail 配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-changingmta>29.4. 改变您的邮件传输代理程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-trouble>29.5. 疑难解答</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-advanced>29.6. 高级主题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-UUCP>29.7. SMTP 与 UUCP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#outgoing-only>29.8. 只发送邮件的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-dialup>29.9. 拨号连接时使用邮件传送</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-Auth>29.10. SMTP 验证</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-agents>29.11. 邮件用户代理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-fetchmail>29.12. 使用 fetchmail</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-procmail>29.13. 使用 procmail</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/>第 30 章 网络服务器</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-servers-synopsis>30.1. 概要</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-inetd>30.2. inetd"超级服务器"</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-nfs>30.3. 网络文件系统（NFS）</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-nis>30.4. 网络信息服务 (NIS/YP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-dhcp>30.5. 网络自动配置 (DHCP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-dns>30.6. 域名系统 (DNS)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-apache>30.7. Apache HTTP 服务器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-ftp>30.8. 文件传输协议 (FTP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-samba>30.9. 为 Microsoft® Windows® 客户机提供文件和打印服务 (Samba)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-ntp>30.10. 通过 NTP 进行时钟同步</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-syslogd>30.11. 使用 <code>syslogd</code> 记录远程主机的日志</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/>第 31 章 防火墙</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-intro>31.1. 入门</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-concepts>31.2. 防火墙的概念</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-apps>31.3. 防火墙软件包</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-pf>31.4. OpenBSD Packet Filter (PF) 和 ALTQ</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-ipf>31.5. IPFILTER (IPF) 防火墙</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-ipfw>31.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/>第 32 章 高级网络</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#advanced-networking-synopsis>32.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-routing>32.2. 网关和路由</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-wireless>32.3. 无线网络</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-bluetooth>32.4. 蓝牙</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-bridging>32.5. 桥接</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-aggregation>32.6. 链路聚合与故障转移</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-diskless>32.7. 无盘操作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-pxe-nfs>32.8. 从 PXE 启动一个 NFS 根文件系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-isdn>32.9. ISDN</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-natd>32.10. 网络地址转换</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-plip>32.11. 并口电缆 IP (PLIP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-ipv6>32.12. IPv6</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-atm>32.13. 异步传输模式 (ATM)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#carp>32.14. Common Address Redundancy Protocol (CARP， 共用地址冗余协议)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partv/>部分 V. 附录</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/>附录 A. 获取 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-cdrom>A.1. CDROM 和 DVD 发行商</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-ftp>A.2. FTP 站点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#anoncvs>A.3. 匿名 CVS</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#ctm>A.4. 使用 CTM</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#cvsup>A.5. 使用 CVSup</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#cvs-tags>A.6. CVS 标签</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-afs>A.7. AFS 站点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-rsync>A.8. rsync 站点</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/>附录 B. 参考文献</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-freebsd>B.1. 关于 FreeBSD 的专业书籍与杂志</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-userguides>B.2. 用户指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-adminguides>B.3. 管理员指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-programmers>B.4. 开发指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-osinternals>B.5. 操作系统原理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-security>B.6. 安全方面的参考文献</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-hardware>B.7. 硬件参考</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-history>B.8. UNIX® 历史</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-journals>B.9. 各种期刊</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/>附录 C. Internet上的资源</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-mail>C.1. 邮件列表</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-news>C.2. Usenet新闻组</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-web>C.3. World Wide Web服务器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-email>C.4. Email地址</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/pgpkeys/>附录 D. PGP公钥</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Officers</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>第 6 章 X Window 系统</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#x11-synopsis>6.1. 概述</a></li><li><a href=#x-understanding>6.2. 理解 X</a></li><li><a href=#x-install>6.3. 安装 X11</a></li><li><a href=#x-config>6.4. 配置 X11</a></li><li><a href=#x-fonts>6.5. 在 X11 中使用字体</a></li><li><a href=#x-xdm>6.6. X 显示管理器</a></li><li><a href=#x11-wm>6.7. 桌面环境</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=x11-synopsis>6.1. 概述<a class=anchor href=#x11-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>FreeBSD 使用 X11 来为用户提供功能强大的图形用户界面。 X11 是一种可以免费使用的 X 视窗系统， 其实现包括 Xorg FreeBSD 中默认使用并受官方支持的 X11 实现即是 Xorg， 它是由 X.Org 基金会开发的 X11 服务， 采用与 FreeBSD 类似的授权。 此外， 也有一些用于 FreeBSD 的商业 X 服务器。</p></div><div class=paragraph><p>欲了解 X11 所支持的显示卡等硬件， 请访问 <a href=http://www.x.org/>Xorg</a> 网站。</p></div><div class=paragraph><p>在阅读完这一章后，您将会了解：</p></div><div class=ulist><ul><li><p>X 视窗系统的不同组件，它们是如何协同工作的。</p></li><li><p>如何安装和配置 X11。</p></li><li><p>如何安装和使用不同的窗口管理器。</p></li><li><p>如何在 X11 中使用 TrueType® 字体。</p></li><li><p>如何为您的系统设置图形登录 (XDM)。</p></li></ul></div><div class=paragraph><p>在阅读这一章之前，您应该：</p></div><div class=ulist><ul><li><p>知道如何安装额外的第三方应用程序(<a href=../ports/#ports>安装应用程序: Packages 和 Ports</a>)。</p></li></ul></div></div></div><div class=sect1><h2 id=x-understanding>6.2. 理解 X<a class=anchor href=#x-understanding></a></h2><div class=sectionbody><div class=paragraph><p>对于那些熟悉其他图形环境，比如 Microsoft® Windows® 或者 Mac OS® 的用户来说，第一次使用 X 可能会感觉很惊讶。</p></div><div class=paragraph><p>通常您并不需要深入了解各种 X 组件的作用以及它们之间的相互影响， 不过， 了解一些关于它们的基础知识， 有助于更好地利用 X 的强大功能。</p></div><div class=sect2><h3 id=_为什么要使用_x>6.2.1. 为什么要使用 X?<a class=anchor href=#_为什么要使用_x></a></h3><div class=paragraph><p>X 不是第一个为 UNIX® 而开发的视窗系统， 但它是最流行的。 X 的原始开发团队在开发 X 之前就已经在另外一个视窗系统上工作了。 那个系统的名字叫做 "W" (就是 "Window")。X 只是罗马字母中 W 后面 的一个。</p></div><div class=paragraph><p>X 可以被叫做 "X", "X Window 系统", "X11", 等等。把 X11 称做 "X Windows" 可能会冒犯某些人； 查看 <a href="https://man.freebsd.org/cgi/man.cgi?query=X&amp;sektion=7&amp;format=html">X(7)</a> 可以了解更多的信息。</p></div></div><div class=sect2><h3 id=_x_客户机服务器模型>6.2.2. X 客户机/服务器模型<a class=anchor href=#_x_客户机服务器模型></a></h3><div class=paragraph><p>X 一开始就是针对网络而设计的，所以 采用了 "client-server" 模型。在 X 模型中， "X server" 运行在有键盘，显示器，鼠标的计算机上。 服务器用来管理显示信息，处理来自键盘和鼠标的输入信息， 并与其他输入输出设备交互 (比如作为输入设备的 "tablet"， 或者作为输出设备的投影仪)。 每一个 X 应用程序 (比如 XTerm, 或者 <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a>) 就是一个 "客户程序 (client)"。 客户程序给服务器发送信息，如 "请在这些坐标上画一个窗口"， 而服务器则返回处理信息， 如 "用户刚刚点击了 OK 按钮"。</p></div><div class=paragraph><p>如果您家或办公环境中只有一台使用 FreeBSD 的计算机， 就只能在同一台计算机上运行 X server 和 X client 了。 然而， 如果您有很多运行 FreeBSD 的机器， 您可以在您的桌面计算机上运行 X server， 而在比较高档的服务器上运行 X 应用程序。 在这样的环境中， X server 和 X client 之间的通信就可以通过网络来进行。</p></div><div class=paragraph><p>这可能会让一些人感到困惑， 因为 X 的术语和他们料想的有些不同。 他们以为 "X server" 是运行在功能强大的大型机上的，而 "X client" 是运行在他们桌面上的计算机上的。</p></div><div class=paragraph><p>记住，X server 是有键盘和显示器的那台计算机，而 X client 是那些显示窗口的程序。</p></div><div class=paragraph><p>Client 和 server 不一定都要运行在同一种操作系统上， 它们甚至无需在同一种类型的计算机上运行。 在 Microsoft® Windows® 或 Apple 公司的 Mac OS® 上运行 X server 也是可以的， 在它们上面也有很多免费的和商业化的应用程序。</p></div></div><div class=sect2><h3 id=_窗口管理器>6.2.3. 窗口管理器<a class=anchor href=#_窗口管理器></a></h3><div class=paragraph><p>X 的设计哲学很像 UNIX® 的设计哲学， "tools, not policy"。这就意味着 X 不会试图去规定任务应该如何 去完成，而是，只给用户提供一些工具，至于决定如何使用这些工具是用户自己的 事情。</p></div><div class=paragraph><p>这套哲学扩展了 X，它不会规定窗口在屏幕上应该是什么样子，要如何移动鼠标， 应该用什么键来切换窗体 (比如， <span class=keyseq><kbd>Alt</kbd>+<kbd>Tab</kbd></span>按键，在 Microsoft® Windows® 环境中的作用), 每个窗口的工具条应该 看起来像什么，他们是否应该有关闭按钮等等。</p></div><div class=paragraph><p>实际上，X 行使了一种叫做 "窗口管理器"的应用程序的职责。有很多这样的程序可用： AfterStep, Blackbox, ctwm, Enlightenment, fvwm, Sawfish, twm, Window Maker，等等。每一个窗口管理器 都提供了不同的界面和观感；其中一些还支持 "虚拟桌面"；有一些允许您可以定制一些键来管理您的桌面； 一些有"开始" 按钮，或者其他类似的设计；一些是 "可定制主题的(themeable)"， 通过安装新的主题， 可以完全改变外观。 这些以及很多其他的窗口管理器， 都可以在 Ports Collection 的 <span class=filename>x11-wm</span> 分类目录里找到。</p></div><div class=paragraph><p>另外，KDE 和 GNOME 桌面环境都有他们自己的窗口管理器 与桌面集成。</p></div><div class=paragraph><p>每个窗口管理器也有不同的配置机制；有些需要手工来写配置文件， 而另外一些则可以使用 GUI 工具来完成大部分的配置任务， 举例而言， (Sawfish) 就使用 Lisp 语言书写配置文件。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=title>焦点策略</div><div class=paragraph><p>窗口管理器的另一个特性是鼠标的 "focus policy"。 每个窗口系统都需要有一个选择窗口的方法来接受键盘的输入信息，以及当前 哪个窗口处于可用状态。</p></div><div class=paragraph><p>您通常比较熟悉的是一个叫做 "click-to-focus" 的焦点策略。 这是 Microsoft® Windows® 使用的典型焦点策略，也就是您在一个窗口上点击 一下鼠标，这个窗口就处于当前可用的状态。</p></div><div class=paragraph><p>X 不支持一些特殊的焦点策略。确切地说，窗口管理器控制着在什么时候哪个窗口 拥有焦点。不同的窗口管理器支持不同的焦点方案。它们都支持点击即获得焦点， 而且它们中的大多数都支持好几种方案。</p></div><div class=paragraph><p>最流行的焦点策略：</p></div><div class=dlist><dl><dt class=hdlist1>focus-follows-mouse</dt><dd><p>鼠标指示器下面的窗口就是获得焦点的窗口。 这个窗口不一定位于其他所有窗口之上。 通过将鼠标移到另一个窗口就可以改变焦点， 而不需要在它上面点击。</p></dd><dt class=hdlist1>sloppy-focus</dt><dd><p>这种方式是对 focus-follows-mouse 策略的一个小小扩展。对于 focus-follows-mouse， 如果您把鼠标移到了根窗口（或桌面背景）上， 则所有的其它窗口都会失去焦点， 而相关的全部键盘输入也会丢失。 如果选择了 sloppy-focus， 则只有当指针进入新窗口时， 窗口焦点才会发生变化， 而当退出当前窗口时是不会变化的。</p></dd><dt class=hdlist1>click-to-focus</dt><dd><p>当前窗口由鼠标点击来选择。窗口被"突出显示" ， 出现在所有其他窗口的前面。即使指针被移向了另一个窗口，所有的键盘输入 仍会被这个窗口接收。</p></dd></dl></div><div class=paragraph><p>许多窗口管理器支持其他的策略，与这些相比又有些变化。您可以看具体 窗口管理器的文档。</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_窗口部件>6.2.4. 窗口部件<a class=anchor href=#_窗口部件></a></h3><div class=paragraph><p>提供工具而非策略的 X 方法使得在每个应用程序屏幕上看到的窗口部件得到了 大大的扩展。</p></div><div class=paragraph><p>"Widget" 只是针对用户接口中所有列举项目的一个术语，它 可以用某种方法来点击或操作；如按钮，复选框，单选按钮，图标，列表框等等。 Microsoft® Windows® 把这些叫做"控件"。</p></div><div class=paragraph><p>Microsoft® Windows® 和苹果公司的 Mac OS® 都有一个严格的窗口部件策略。 应用程序开发者被建议确保他们的应用程序共享一个普通的所见即所得的用户界面。 对于 X，它并不要求一个特殊的图形风格或一套相结合的窗口部件集。</p></div><div class=paragraph><p>这样的结果是您不能期望 X 应用程序只拥有一个普通的所见即所得的界面。 有很多的流行的窗口部件集设置，包括来自于 MIT 的 Athena， Motif® (模仿 Microsoft® Windows® 的窗口风格， 所有部件都具有斜边和3种灰色度)， OpenLook， 等等。</p></div><div class=paragraph><p>如今， 绝大多数比较新的 X 应用程序采用一组新式的窗口设计， 这包括 KDE 所使用的 Qt， 以及 GNOME 所使用的 GTK+。 在这样一种窗口系统下，UNIX® 桌面的一些所见即所得特性作了一些收敛， 以使初学者感到更容易一些。</p></div></div></div></div><div class=sect1><h2 id=x-install>6.3. 安装 X11<a class=anchor href=#x-install></a></h2><div class=sectionbody><div class=paragraph><p>Xorg 是 FreeBSD 上的默认 X11 实现。 Xorg 是由 X.Org 基金会发行的开放源代码 X Window 系统实现中的 X 服务。 Xorg 基于 XFree86™ 4.4RC2 和 X11R6.6 的代码。 从 FreeBSD Ports 套件可以安装 Xorg 的 7.7 版本。</p></div><div class=paragraph><p>如果需要从 Ports Collection 编译和安装 Xorg：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11/xorg</span>
<span class=c># make install clean</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>要完整地编译 Xorg 则需要至少 4 GB 的剩余磁盘空间。</p></div></td></tr></tbody></table></div><div class=paragraph><p>另外 X11 也可以直接从 package 来安装。 我们提供了可以与 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 工具配合使用的 X11 安装包。 如果从远程下载和安装， 在使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 时请不要指定版本号。 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 会自动地下载最新版本的安装包。</p></div><div class=paragraph><p>想要从 package 安装 Xorg， 简单地输入下面的命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r xorg</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>上面的例子介绍了如何安装完整的 X11 软件包， 包括服务器端，客户端，字体等等。 此外， 也有一些单独的 X11 的 ports 和 packages.</p></div><div class=paragraph><p>另外， 如果需要最小化的 X11 软件， 您也可以安装 <a class=package href=https://cgit.freebsd.org/ports/tree/x11/xorg-minimal/>x11/xorg-minimal</a>。</p></div></td></tr></tbody></table></div><div class=paragraph><p>这一章余下的部分将会讲解如何配置 X11, 以及如何设置一个高效的桌面环境。</p></div></div></div><div class=sect1><h2 id=x-config>6.4. 配置 X11<a class=anchor href=#x-config></a></h2><div class=sectionbody><div class=sect2><h3 id=_开始之前>6.4.1. 开始之前<a class=anchor href=#_开始之前></a></h3><div class=paragraph><p>在配置 X11 之前， 您需要了解所安装的系统的下列信息：</p></div><div class=ulist><ul><li><p>显示器规格</p></li><li><p>显示卡的芯片类型</p></li><li><p>显示卡的显存容量</p></li></ul></div><div class=paragraph><p>显示器的规格被 X11 用来决定显示的分辨率和刷新率。 这些规格通常可以从显示器所带的文档中， 以及制造商的网站找到。 需要知道两个数字范围： 垂直刷新率和水平刷新率。</p></div><div class=paragraph><p>显示卡的芯片类型将决定 X11 使用什么模块来驱动图形硬件。 尽管系统能自动检测出绝大多数的硬件， 但事先了解在自动检测出错的时候还是很有用处的。</p></div><div class=paragraph><p>显示卡的显存大小决定了系统支持的分辨率和颜色深度。 了解这些限制非常重要。</p></div></div><div class=sect2><h3 id=_配置_x11>6.4.2. 配置 X11<a class=anchor href=#_配置_x11></a></h3><div class=paragraph><p>对于 Xorg 7.3 这个版本， 可以不需要任何的配置文件就能运行，在提示符下键如下命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% startx</code></pre></div></div><div class=paragraph><p>从 Xorg 7.4 开始， 可以使用 HAL 自动检测键盘和鼠标。Ports <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/hal/>sysutils/hal</a> 和 <a class=package href=https://cgit.freebsd.org/ports/tree/devel/dbus/>devel/dbus</a> 将被作为 <a class=package href=https://cgit.freebsd.org/ports/tree/x11/xorg/>x11/xorg</a> 所依赖的包安装进系统。 并且需要在 <span class=filename>/etc/rc.conf</span> 文件中启用：</p></div><div class="literalblock programlisting"><div class=content><pre>hald_enable=&#34;YES&#34;
dbus_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>在更深入的配置 Xorg 以前， 需要运行这些服务 (手工启动或者重启机器)。</p></div><div class=paragraph><p>自动配置对于某些硬件可能不起作用或者无法做到期望的配置。 在这种情况下就有必要做一些手工配置。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>诸如 GNOME， KDE 或 Xfce 之类的桌面环境， 大多都提供了一些允许用户非常易用的工具， 来设置像分辨率这样的显示参数。 所以如果你觉得默认的配置并不适合， 而且你打算安装一个这样的桌面环境， 那么就请继续完成桌面环境的安装， 并使用适合的显示设置工具。</p></div></td></tr></tbody></table></div><div class=paragraph><p>配置 X11 需要一些步骤。 第一步是以超级用户的身份建立初始的配置文件：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># Xorg -configure</span></code></pre></div></div><div class=paragraph><p>这会在 <span class=filename>/root</span> 中生成一个叫做 <span class=filename>xorg.conf.new</span> 的配置文件 (无论您使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> 或直接登录， 都会改变默认的 <code>$HOME</code> 目录变量)。 X11 程序将尝试探测系统中的图形硬件，并将探测到的硬件信息写入配置文件， 以便加载正确的驱动程序。</p></div><div class=paragraph><p>下一步是测试现存的配置文件， 以确认 Xorg 能够同系统上的图形设备正常工作。 对于 Xorg 7.3 或者之前的版本， 键入：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># Xorg -config xorg.conf.new</span></code></pre></div></div><div class=paragraph><p>从 Xorg 7.4 和更高的版本开始， 这个测试将显示出一个黑色的屏幕，对于判断 X11 是否能正常工作会造成一些困扰。 可以通过 <code>retro</code> 选项使用旧的模式：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># Xorg -config xorg.conf.new -retro</span></code></pre></div></div><div class=paragraph><p>如果看到黑灰的格子以及 X 型鼠标指针， 就表示配置成功了。 要退出测试， 需要同时按下 <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Fn</kbd></span> 来切换到用于启动 X 的虚拟控制台 (<kbd>F1</kbd> 表示第一个虚拟控制台) 之后按 <span class=keyseq><kbd>Ctrl</kbd>+<kbd>C</kbd></span>。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>在Xorg 7.3 以及更早期的版本中， 应使用 <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Backspace</kbd></span> 组合键来强制退出 Xorg。 如果需要在 7.4 和之后的版本中启用这个组合键， 可以在任意 X 终端模拟器中输入下面的命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% setxkbmap <span class=nt>-option</span> terminate:ctrl_alt_bksp</code></pre></div></div><div class=paragraph><p>或者为 hald 创建一个叫作 <span class=filename>x11-input.fdi</span> 的键盘配置文件并保存至 <span class=filename>/usr/local/etc/hal/fdi/policy</span> 目录。 这个文件需包含以下这些：</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;deviceinfo version=&#34;0.2&#34;&gt;
  &lt;device&gt;
    &lt;match key=&#34;info.capabilities&#34; contains=&#34;input.keyboard&#34;&gt;
	  &lt;merge key=&#34;input.x11_options.XkbOptions&#34; type=&#34;string&#34;&gt;terminate:ctrl_alt_bksp&lt;/merge&gt;
    &lt;/match&gt;
  &lt;/device&gt;
&lt;/deviceinfo&gt;</pre></div></div><div class=paragraph><p>你可能需要重启你的机器来使得 hald 重新读取这个文件。</p></div><div class=paragraph><p>此外， 还需要在 <span class=filename>xorg.conf.new</span> 中的 <code>ServerLayout</code> 或 <code>ServerFlags</code> 小节中添加：</p></div><div class="literalblock programlisting"><div class=content><pre>Option	&#34;DontZap&#34;	&#34;off&#34;</pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>如果鼠标无法正常工作， 在继续深入之前需要先配置它。 参阅 FreeBSD 安装一章中的 <a href=../install/#mouse>配置鼠标</a>。 另外， 从 7.4 版本开始， <span class=filename>xorg.conf</span> 中的 <code>InputDevice</code> 部分将被忽略， 这有助于自动检测硬件设备。 可以在这个文件中的 <code>ServerLayout</code> 或者 <code>ServerFlags</code> 加入以下选项使用旧的模式：</p></div><div class="literalblock programlisting"><div class=content><pre>Option &#34;AutoAddDevices&#34; &#34;false&#34;</pre></div></div><div class=paragraph><p>输入设备连同其他需要的选项 (比如， 键盘布局切换) 就可以像在之前的版本中的那样配置了。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>正如前面所提到的， 自版本 7.4 开始 hald 守护进程默认自动检测你的键盘。 可能检测出你的键盘布局或型号有差异， 在桌面环境中， 比如 GNOME， KDE 或者 Xfce 提供了工具来配置键盘。 另一方面， 也可在 <a href="https://man.freebsd.org/cgi/man.cgi?query=setxkbmap&amp;sektion=1&amp;format=html">setxkbmap(1)</a> 工具的帮助下或者通过 hald 的配置文件来直接设置键盘的属性。</p></div><div class=paragraph><p>举例来说， 如果某人想要使用一个 PC 102 键法语布局的键盘， 我们就需要为 hald 创建一个配置文件， 叫作 <span class=filename>x11-input.fdi</span> 并保存入 <span class=filename>/usr/local/etc/hal/fdi/policy</span> 目录。 这个文件需要包含如下这些：</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;deviceinfo version=&#34;0.2&#34;&gt;
  &lt;device&gt;
    &lt;match key=&#34;info.capabilities&#34; contains=&#34;input.keyboard&#34;&gt;
	  &lt;merge key=&#34;input.x11_options.XkbModel&#34; type=&#34;string&#34;&gt;pc102&lt;/merge&gt;
	  &lt;merge key=&#34;input.x11_options.XkbLayout&#34; type=&#34;string&#34;&gt;fr&lt;/merge&gt;
    &lt;/match&gt;
  &lt;/device&gt;
&lt;/deviceinfo&gt;</pre></div></div><div class=paragraph><p>如果这个文件已经存在， 只要把键盘配置相关的部分拷贝加入即可。</p></div><div class=paragraph><p>你需要重启你的机器使 hald 读入此文件。</p></div><div class=paragraph><p>也可以在 X 模拟终端或一个脚本中使用以下的命令达到相同的效果:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% setxkbmap <span class=nt>-model</span> pc102 <span class=nt>-layout</span> fr</code></pre></div></div><div class=paragraph><p><span class=filename>/usr/local/shared/X11/xkb/rules/base.lst</span> 列出了各种不同的键盘， 布局和可用的选项。</p></div></td></tr></tbody></table></div><div class=paragraph><p>接下来是调整 <span class=filename>xorg.conf.new</span> 配置文件并作测试。 用文本编辑器如 <a href="https://man.freebsd.org/cgi/man.cgi?query=emacs&amp;sektion=1&amp;format=html">emacs(1)</a> 或 <a href="https://man.freebsd.org/cgi/man.cgi?query=ee&amp;sektion=1&amp;format=html">ee(1)</a> 打开这个文件。 要做的第一件事是为当前系统的显示器设置刷新率。 这些值包括垂直和水平的同步频率。 把它们加到 <span class=filename>xorg.conf.new</span> 的 <code>"Monitor"</code> 小节中：</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Monitor&#34;
        Identifier   &#34;Monitor0&#34;
        VendorName   &#34;Monitor Vendor&#34;
        ModelName    &#34;Monitor Model&#34;
        HorizSync    30-107
        VertRefresh  48-120
EndSection</pre></div></div><div class=paragraph><p>在配置文件中也有可能没有 <code>HorizSync</code> 和 <code>VertRefresh</code>。 如果是这样的话， 就只能手动添加， 并在 <code>HorizSync</code> 和 <code>VertRefresh</code> 后面设置合适的数值了。 在上面的例子中， 给出了相应的显示器的参数。</p></div><div class=paragraph><p>X 能够使用显示器所支持的 DPMS (能源之星) 功能。 <a href="https://man.freebsd.org/cgi/man.cgi?query=xset&amp;sektion=1&amp;format=html">xset(1)</a> 程序可以控制超时时间， 并强制待机、挂起或关机。 如果希望启用显示器的 DPMS 功能， 则需要把下面的设置添加到 monitor 节中：</p></div><div class="literalblock programlisting"><div class=content><pre>        Option       &#34;DPMS&#34;</pre></div></div><div class=paragraph><p>关闭 <span class=filename>xorg.conf.new</span> 之前还应该选择默认的分辨率和色深。 这是在 <code>"Screen"</code> 小节中定义的：</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Screen&#34;
        Identifier &#34;Screen0&#34;
        Device     &#34;Card0&#34;
        Monitor    &#34;Monitor0&#34;
        DefaultDepth 24
        SubSection &#34;Display&#34;
                Viewport  0 0
                Depth     24
                Modes     &#34;1024x768&#34;
        EndSubSection
EndSection</pre></div></div><div class=paragraph><p><code>DefaultDepth</code> 关键字描述了要运行的默认色深。 这可以通过 <a href="https://man.freebsd.org/cgi/man.cgi?query=Xorg&amp;sektion=1&amp;format=html">Xorg(1)</a> 的 <code>-depth</code> 命令行开关来替代配置文件中的设置。 <code>Modes</code> 关键字描述了给定颜色深度下屏幕的分辨率。 需要说明的是， 目标系统的图形硬件只支持由 VESA 定义的标准模式。 前面的例子中， 默认色深是使用 24位色。 在采用这个色深时， 允许的分辨率是 1024x768。</p></div><div class=paragraph><p>最后就是将配置文件存盘， 并使用前面介绍的测试模式测试一下。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>在发现并解决问题的过程中， 包含了与 X11 服务器相关的各个设备的信息的 X11 日志文件会为您发现和排除问题有所帮助。 Xorg 日志的文件名是 <span class=filename>/var/log/Xorg.0.log</span> 这样的格式。 实际的日志文件名可能是 <span class=filename>Xorg.0.log</span> 到 <span class=filename>Xorg.8.log</span> 等等。</p></div></td></tr></tbody></table></div><div class=paragraph><p>如果一切准备妥当， 就可以把配置文件放到公共的目录中了。 您可以在 <a href="https://man.freebsd.org/cgi/man.cgi?query=Xorg&amp;sektion=1&amp;format=html">Xorg(1)</a> 里面找到具体位置。 这个位置通常是 <span class=filename>/etc/X11/xorg.conf</span> 或 <span class=filename>/usr/local/etc/X11/xorg.conf</span>。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp xorg.conf.new /etc/X11/xorg.conf</span></code></pre></div></div><div class=paragraph><p>现在已经完成了 X11 的配置全过程。 Xorg 可以通过 <a href="https://man.freebsd.org/cgi/man.cgi?query=startx&amp;sektion=1&amp;format=html">startx(1)</a> 工具来启动。 除此之外， X11 服务器也可以用 <a href="https://man.freebsd.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;format=html">xdm(1)</a> 来启动。</p></div></div><div class=sect2><h3 id=_高级配置主题>6.4.3. 高级配置主题<a class=anchor href=#_高级配置主题></a></h3><div class=sect3><h4 id=_配置_intel_i810_显示芯片组>6.4.3.1. 配置 Intel® i810 显示芯片组<a class=anchor href=#_配置_intel_i810_显示芯片组></a></h4><div class=paragraph><p>配置Intel i810芯片组的显示卡需要有针对 X11 的能够用来驱动显示卡的 <span class=filename>agpgart</span> AGP程序接口。 请参见 <a href="https://man.freebsd.org/cgi/man.cgi?query=agp&amp;sektion=4&amp;format=html">agp(4)</a> 驱动程序的联机手册了解更多细节。</p></div><div class=paragraph><p>这也适用于其他的图形卡硬件配置。 注意如果系统没有将 <a href="https://man.freebsd.org/cgi/man.cgi?query=agp&amp;sektion=4&amp;format=html">agp(4)</a> 驱动程序编译进内核，尝试用 <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> 加载模块是无效的。 这个驱动程序必须编译进内核或者使用 <span class=filename>/boot/loader.conf</span> 在启动时加载进入内核。</p></div></div><div class=sect3><h4 id=_添加宽屏平板显示器>6.4.3.2. 添加宽屏平板显示器<a class=anchor href=#_添加宽屏平板显示器></a></h4><div class=paragraph><p>这一节假定您了解一些关于高级配置的知识。 如果使用前面的标准配置工具不能产生可用的配置， 则在日志文件中提供的信息应该足以修正配置使其正确工作。 如果需要的话， 您应使用一个文本编辑器来完成这项工作。</p></div><div class=paragraph><p>目前的宽屏 (WSXGA、 WSXGA+、 WUXGA、 WXGA、 WXGA+， 等等) 支持 16:10 和 10:9 或一些支持不大好的显示比例。 常见的一些 16:10 比例的分辨率包括：</p></div><div class=ulist><ul><li><p>2560x1600</p></li><li><p>1920x1200</p></li><li><p>1680x1050</p></li><li><p>1440x900</p></li><li><p>1280x800</p></li></ul></div><div class=paragraph><p>有时， 也可以简单地把这些分辨率作为 <code>Section "Screen"</code> 中的 <code>Mode</code> 来进行配置， 类似下面这样：</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Screen&#34;
Identifier &#34;Screen0&#34;
Device     &#34;Card0&#34;
Monitor    &#34;Monitor0&#34;
DefaultDepth 24
SubSection &#34;Display&#34;
	Viewport  0 0
	Depth     24
	Modes     &#34;1680x1050&#34;
EndSubSection
EndSection</pre></div></div><div class=paragraph><p>Xorg 能够自动地通过 I2C/DDC 信息来自动获取宽屏显示器的分辨率信息， 并处理显示器支持的频率和分辨率。</p></div><div class=paragraph><p>如果驱动程序没有对应的 <code>ModeLines</code>， 就需要给 Xorg 一些提示了。 使用 <span class=filename>/var/log/Xorg.0.log</span> 能够提取足够的信息， 就可以写一个可用的 <code>ModeLine</code> 了。 这类信息如下所示：</p></div><div class="literalblock programlisting"><div class=content><pre>(II) MGA(0): Supported additional Video Mode:
(II) MGA(0): clock: 146.2 MHz   Image Size:  433 x 271 mm
(II) MGA(0): h_active: 1680  h_sync: 1784  h_sync_end 1960 h_blank_end 2240 h_border: 0
(II) MGA(0): v_active: 1050  v_sync: 1053  v_sync_end 1059 v_blanking: 1089 v_border: 0
(II) MGA(0): Ranges: V min: 48  V max: 85 Hz, H min: 30  H max: 94 kHz, PixClock max 170 MHz</pre></div></div><div class=paragraph><p>这些信息称做 EDID 信息。 从中建立 <code>ModeLine</code> 只是把这些数据重新排列顺序而已：</p></div><div class="literalblock programlisting"><div class=content><pre>ModeLine &lt;name&gt; &lt;clock&gt; &lt;4 horiz. timings&gt; &lt;4 vert. timings&gt;</pre></div></div><div class=paragraph><p>如此， 本例中的 <code>Section "Monitor"</code> 中的 <code>ModeLine</code> 应类似下面的形式：</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Monitor&#34;
Identifier      &#34;Monitor1&#34;
VendorName      &#34;Bigname&#34;
ModelName       &#34;BestModel&#34;
ModeLine        &#34;1680x1050&#34; 146.2 1680 1784 1960 2240 1050 1053 1059 1089
Option          &#34;DPMS&#34;
EndSection</pre></div></div><div class=paragraph><p>经过简单的编辑步骤之后， X 就可以在您的宽屏显示器上启动了。</p></div></div></div></div></div><div class=sect1><h2 id=x-fonts>6.5. 在 X11 中使用字体<a class=anchor href=#x-fonts></a></h2><div class=sectionbody><div class=sect2><h3 id=type1>6.5.1. Type1 字体<a class=anchor href=#type1></a></h3><div class=paragraph><p>X11 使用的默认字体不是很理想。 大型的字体显得参差不齐，看起来很不专业， 并且， 在 <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a> 中， 小字体简直无法看清。 有好几种免费、 高质量的字体可以很方便地用在 X11 中。 例如，URW字体集合 (<a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/urwfonts/>x11-fonts/urwfonts</a>) 就包括了高质量的 标准 type1 字体 (Times Roman™, Helvetica™、 Palatino™ 和其他一些)。 在 Freefont 集合中 (<a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/freefonts/>x11-fonts/freefonts</a>) 也包括更多的字体， 但它们中的绝大部分使用在图形软件中，如 Gimp，在屏幕字体中使用并不完美。另外， 只要花很少的功夫，可以将 XFree86™ 配置成能使用 TrueType® 字体：请参见后面的 <a href=#truetype>TrueType® 字体一节</a>。</p></div><div class=paragraph><p>如果希望使用 Ports Collection 来安装上面的 Type1 字体， 只需运行下面的命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11-fonts/urwfonts</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>freefont 或其他的字库和上面所说的大体类似。 为了让 X 服务器能够检测到这些字体， 需要在 X 服务器的配置文件 (<span class=filename>/etc/X11/xorg.conf</span>) 中增加下面的配置：</p></div><div class="literalblock programlisting"><div class=content><pre>FontPath &#34;/usr/local/lib/X11/fonts/URW/&#34;</pre></div></div><div class=paragraph><p>或者，也可以在命令行运行：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% xset fp+ /usr/local/lib/X11/fonts/URW
% xset fp rehash</code></pre></div></div><div class=paragraph><p>这样会起作用，但是当 X 会话结束后就会丢失， 除非它被添加到启动文件 (<span class=filename>~/.xinitrc</span> 中， 针对一个寻常的 <code>startx</code> 会话，或者当您通过一个类似 XDM 的图形登录管理器登录时添加到 <span class=filename>~/.xsession</span> 中)。 第三种方法是使用新的 <span class=filename>/usr/local/etc/fonts/local.conf</span> 文件： 查看 <a href=#antialias>anti-aliasing</a> 章节。</p></div></div><div class=sect2><h3 id=truetype>6.5.2. TrueType® 字体<a class=anchor href=#truetype></a></h3><div class=paragraph><p>Xorg 已经内建了对 TrueType® 字体的支持。有两个不同的模块能够启用这个功能。 在这个例子中使用 freetype 这个模块，因为它与其他的字体描绘后端 是兼容的。要启用 freetype 模块，只需要将下面这行添加到 <span class=filename>/etc/X11/xorg.conf</span> 文件的 <code>"Module"</code> 部分。</p></div><div class="literalblock programlisting"><div class=content><pre>Load &#34;freetype&#34;</pre></div></div><div class=paragraph><p>现在，为 TrueType® 字体创建一个目录 (比如， <span class=filename>/usr/local/lib/X11/fonts/TrueType</span>) 然后把所有的 TrueType® 字体复制到这个目录。记住您不能直接从 Macintosh® 计算机中提取 TrueType® 字体； 能被 X11 使用的必须是 UNIX®/MS-DOS®/Windows® 格式的。 一旦您已经将这些文件复制到了这个目录， 就可以用 ttmkfdir 来创建 <span class=filename>fonts.dir</span> 文件， 以便让X字体引擎知道您已经安装了这些新文件。 <code>ttmkfdir</code> 可以在 FreeBSD Ports 套件中的 <a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/ttmkfdir/>x11-fonts/ttmkfdir</a> 中找到。</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/local/lib/X11/fonts/TrueType</span>
<span class=c># ttmkfdir -o fonts.dir</span></code></pre></div></div><div class=paragraph><p>现在把 TrueType® 字体目录添加到字体路径中。 这和上面 <a href=#type1>Type1</a> 字体的步骤是一样的， 那就是，使用</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% xset fp+ /usr/local/lib/X11/fonts/TrueType
% xset fp rehash</code></pre></div></div><div class=paragraph><p>或者把 <code>FontPath</code> 这行加到 <span class=filename>xorg.conf</span> 文件中。</p></div><div class=paragraph><p>就是这样。现在 <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a>, Gimp, StarOffice™ 和其他所有的 X 应用程序 应该可以认出安装的 TrueType® 字体。一些很小的字体(如在 Web 页面上高分辨率显示的文本) 和一些很大的字体(在 StarOffice™ 下) 现在看起来已经很好了。</p></div></div><div class=sect2><h3 id=antialias>6.5.3. Anti-Aliased 字体<a class=anchor href=#antialias></a></h3><div class=paragraph><p>对于所有支持 Xft 的应用程序， 所有放到 X11 <span class=filename>/usr/local/lib/X11/fonts/</span> 和 <span class=filename>~/.fonts/</span> 中的字体都自动地被加入反走样支持。 绝大多数较新的程序都提供了 Xft 支持， 包括 KDE、 GNOME 以及 Firefox。</p></div><div class=paragraph><p>要控制哪些字体是 anti-aliased，或者配置 anti-aliased 特性， 创建(或者编辑，如果文件已经存在的话)文件 <span class=filename>/usr/local/etc/fonts/local.conf</span>。Xft 字体系统的几个 高级特性都可以使用这个文件来调节； 这一部分只描述几种最简单的情况。要了解更多的细节，请查看 <a href="https://man.freebsd.org/cgi/man.cgi?query=fonts-conf&amp;sektion=5&amp;format=html">fonts-conf(5)</a>.</p></div><div class=paragraph><p>这个文件一定是 XML 格式的。注意确保所有的标签都完全的关闭掉。 这个文件以一个很普通的 XML 头开始， 后跟一个 DOCTYPE 定义， 接下来是 <code>&lt;fontconfig></code> 标签：</p></div><div class="literalblock programlisting"><div class=content><pre>      &lt;?xml version=&#34;1.0&#34;?&gt;
      &lt;!DOCTYPE fontconfig SYSTEM &#34;fonts.dtd&#34;&gt;
      &lt;fontconfig&gt;</pre></div></div><div class=paragraph><p>像前面所做的那样，在 <span class=filename>/usr/local/lib/X11/fonts/</span> 和 <span class=filename>~/.fonts/</span> 目录下的所有字体已经可以被支持 Xft 的 应用程序使用了。如果您想添加这两个目录以外的其他路径， 简单的添加下面这行到 <span class=filename>/usr/local/etc/fonts/local.conf</span>文件中：</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;dir&gt;/path/to/my/fonts&lt;/dir&gt;</pre></div></div><div class=paragraph><p>添加了新的字体，尤其是添加了新的字体目录后， 您应该运行下面的命令重建字体缓存：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fc-cache -f</span></code></pre></div></div><div class=paragraph><p>Anti-aliasing 会让字体边缘有些模糊，这样增加了非常小的文本的可读性， 并从大文本字体中删除 "锯齿"。 但如果使用普通的文本， 则可能引起眼疲劳。 要禁止 14磅 以下字体的反走样， 需要增加如下配置：</p></div><div class="literalblock programlisting"><div class=content><pre>        &lt;match target=&#34;font&#34;&gt;
            &lt;test name=&#34;size&#34; compare=&#34;less&#34;&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit name=&#34;antialias&#34; mode=&#34;assign&#34;&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target=&#34;font&#34;&gt;
            &lt;test name=&#34;pixelsize&#34; compare=&#34;less&#34; qual=&#34;any&#34;&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit mode=&#34;assign&#34; name=&#34;antialias&#34;&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre></div></div><div class=paragraph><p>用 anti-aliasing 来间隔一些等宽字体也是不适当的。 这似乎是 KDE 的一个问题。 要修复这个问题需要确保每个字体之间的间距保持在100。 加入下面这些行：</p></div><div class="literalblock programlisting"><div class=content><pre>       &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
           &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
               &lt;string&gt;fixed&lt;/string&gt;
           &lt;/test&gt;
           &lt;edit name=&#34;family&#34; mode=&#34;assign&#34;&gt;
               &lt;string&gt;mono&lt;/string&gt;
           &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
            &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
                &lt;string&gt;console&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name=&#34;family&#34; mode=&#34;assign&#34;&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre></div></div><div class=paragraph><p>(这里把其他普通的修复的字体作为 <code>"mono"</code>)，然后加入：</p></div><div class="literalblock programlisting"><div class=content><pre>         &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
             &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
                 &lt;string&gt;mono&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name=&#34;spacing&#34; mode=&#34;assign&#34;&gt;
                 &lt;int&gt;100&lt;/int&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</pre></div></div><div class=paragraph><p>某些字体，比如 Helvetica，当 anti-aliased 的时候可能存在问题。 通常的表现为字体本身似乎被垂直的切成两半。 糟糕的时候，还可能导致应用程序崩溃。 为了避免这样的现象，考虑添加下面几行到 <span class=filename>local.conf</span>文件里面：</p></div><div class="literalblock programlisting"><div class=content><pre>         &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
             &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
                 &lt;string&gt;Helvetica&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name=&#34;family&#34; mode=&#34;assign&#34;&gt;
                 &lt;string&gt;sans-serif&lt;/string&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</pre></div></div><div class=paragraph><p>一旦您完成对 <span class=filename>local.conf</span> 文件的编辑，确保您使用了 <code>&lt;/fontconfig></code> 标签来结束文件。 不这样做将会导致您的更改被忽略。</p></div><div class=paragraph><p>最后，用户可以通过他们个人的 <span class=filename>.fonts.conf</span> 文件来添加自己的设定。 要完成此项工作， 用户只需简单地创建 <span class=filename>~/.fonts.conf</span> 并添加相关配置。 此文件也必须是 XML 格式的。</p></div><div class=paragraph><p>最后：对于LCD屏幕， 可能希望使用子像素的取样。 简单而言， 这是通过分别控制 (水平方向分开的) 红、绿、蓝 像素， 来改善水平分辨率； 这样做的效果一般会非常明显。 要启用它， 只需在 <span class=filename>local.conf</span> 文件的某个地方加入：</p></div><div class="literalblock programlisting"><div class=content><pre>         &lt;match target=&#34;font&#34;&gt;
             &lt;test qual=&#34;all&#34; name=&#34;rgba&#34;&gt;
                 &lt;const&gt;unknown&lt;/const&gt;
             &lt;/test&gt;
             &lt;edit name=&#34;rgba&#34; mode=&#34;assign&#34;&gt;
                 &lt;const&gt;rgb&lt;/const&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>随您显示器的种类不同， 可能需要把 <code>rgb</code> 改为 <code>bgr</code>、 <code>vrgb</code> 或 <code>vbgr</code>： 试验一下看看那个更好。</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=x-xdm>6.6. X 显示管理器<a class=anchor href=#x-xdm></a></h2><div class=sectionbody><div class=sect2><h3 id=_概要>6.6.1. 概要<a class=anchor href=#_概要></a></h3><div class=paragraph><p>X 显示管理器(XDM) 是一个X视窗系统用于进行登录会话管理的可选项。 这个可以应用于多种情况下，包括小 "X Terminals"， 桌面，大网络显示服务器。既然 X 视窗系统不受网络和协议的限制， 那对于通过网络连接起来的运行 X 客户端和服务器端的不同机器， 就会有很多的可配置项。 XDM 提供了一个选择要连接到哪个显示服务器的图形接口， 只要键入如登录用户名和密码这样的验证信息。</p></div><div class=paragraph><p>您也可以把 XDM 想象成与 <a href="https://man.freebsd.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;format=html">getty(8)</a> 工具一样(see <a href=../serialcomms/#term-config>配置</a> for details)。为用户提供了同样功能。它可以完成系统的登录任务， 然后为用户运行一个会话管理器 (通常是一个 X 视窗管理器)。接下来 XDM 就等待这个程序退出，发出信号用户已经登录完成，应当退出屏幕。 这时， XDM 就可以为下一个登录用户显示登录和可选择屏幕。</p></div></div><div class=sect2><h3 id=_使用_xdm>6.6.2. 使用 XDM<a class=anchor href=#_使用_xdm></a></h3><div class=paragraph><p>如果希望使用 XDM 来启动， 首先需要安装 <a class=package href=https://cgit.freebsd.org/ports/tree/x11/xdm/>x11/xdm</a> port (在较新版本的 Xorg 中它并不是默认安装的)。 XDM 服务程序位于 <span class=filename>/usr/local/bin/xdm</span>。 任何时候都可以 <code>root</code> 用户的身份来运行它， 以令其管理本地系统的 X 显示。 如果希望让 XDM 在系统每次启动过程中自动运行， 比较方便的做法是把它写到 <span class=filename>/etc/ttys</span> 的配置中。 有关这个文件的具体格式和使用方法请参阅 <a href=../serialcomms/#term-etcttys>添加一个记录到/etc/ttys</a>。 在默认的 <span class=filename>/etc/ttys</span> 文件中已经包含了在虚拟终端上运行 XDM 服务的示范配置：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ttyv8   <span class=s2>&#34;/usr/local/bin/xdm -nodaemon&#34;</span>  xterm   off secure</code></pre></div></div><div class=paragraph><p>默认情况下，这个记录是关闭的，要启用它， 您需要把第5部分的 <code>off</code> 改为 <code>on</code> 然后按照 <a href=../serialcomms/#term-hup>重新读取/etc/ttys来强制init</a> 的指导 重新启动 <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a>。第一部分，这个程序将管理的终端名称是 <code>ttyv8</code>。这意味着 XDM 将运行在第9个虚拟终端上。</p></div></div><div class=sect2><h3 id=_配置_xdm>6.6.3. 配置 XDM<a class=anchor href=#_配置_xdm></a></h3><div class=paragraph><p>XDM 的配置目录是在 <span class=filename>/usr/local/lib/X11/xdm</span>中。在这个目录中， 您会看到几个用来改变 XDM 行为和外观的文件。您会找到这些文件：</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">文件</th><th class="tableblock halign-left valign-top">描述</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xaccess</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>客户端授权规则。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xresources</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>默认的X资源值。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xservers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>远程和本地显示管理列表。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xsession</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>用于登录的默认的会话脚本。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xsetup_</span>*</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>登录之前用于加载应用程序的脚本。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xdm-config</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>运行在这台机器上的所有显示的全局配置。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xdm-errors</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>服务器程序产生的错误。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xdm-pid</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>当前运行的 XDM 的进程 ID。</p></td></tr></tbody></table><div class=paragraph><p>当 XDM 运行时， 在这个目录中有几个脚本和程序可以用来设置桌面。 这些文件中的每一个的用法都将被简要地描述。 这些文件的更详细的语法和用法在 <a href="https://man.freebsd.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;format=html">xdm(1)</a> 中将有详细描述。</p></div><div class=paragraph><p>默认的配置是一个矩形的登录窗口，上面有机器的名称， "Login:" 和 "Password:"。如果您想设计您自己个性化的 XDM 屏幕，这是一个很好的起点。</p></div><div class=sect3><h4 id=_xaccess>6.6.3.1. Xaccess<a class=anchor href=#_xaccess></a></h4><div class=paragraph><p>用以连接由 XDM 所控制的显示设备的协议， 叫做 X 显示管理器连接协议 (XDMCP)。 这个文件是一组用以控制来自远程计算机的 XDMCP 连接的规则。 除非您修改 <span class=filename>xdm-config</span> 使其接受远程连接， 否则其内容将被忽略。 默认情况下， 它不允许来自任何客户端的连接。</p></div></div><div class=sect3><h4 id=_xresources>6.6.3.2. Xresources<a class=anchor href=#_xresources></a></h4><div class=paragraph><p>这是一个默认的用来显示选项和登录屏幕的应用程序文件。 您可以在这个文件中对登录程序的外观进行定制。 其格式与 X11 文档中描述的默认应用程序文件是一样的。</p></div></div><div class=sect3><h4 id=_xservers>6.6.3.3. Xservers<a class=anchor href=#_xservers></a></h4><div class=paragraph><p>这是一个选择者应当提供的作为可选的远程显示列表。</p></div></div><div class=sect3><h4 id=_xsession>6.6.3.4. Xsession<a class=anchor href=#_xsession></a></h4><div class=paragraph><p>这是一个用户登录后针对 XDM 的默认会话脚本。通常，在 <span class=filename>~/.xsession</span> 中每个用户将有一个可定制的会话脚本。</p></div></div><div class=sect3><h4 id=_xsetup>6.6.3.5. Xsetup_*<a class=anchor href=#_xsetup></a></h4><div class=paragraph><p>在显示选择者或登录接口之前，这些将被自动运行。 这是一个每个显示都要用到的脚本，叫做 <span class=filename>Xsetup_</span>， 后面会跟一个本地显示的数字(比如 <span class=filename>Xsetup_0</span>)。典型的，这些脚本将在后台 (如 <code>xconsole</code>)运行一个或两个程序。</p></div></div><div class=sect3><h4 id=_xdm_config>6.6.3.6. xdm-config<a class=anchor href=#_xdm_config></a></h4><div class=paragraph><p>此文件以应用程序默认值的形式， 提供了在安装时所使用的普适的显示设置。</p></div></div><div class=sect3><h4 id=_xdm_errors>6.6.3.7. xdm-errors<a class=anchor href=#_xdm_errors></a></h4><div class=paragraph><p>这个文件包含了 XDM 正设法运行的的 X 服务器 的输出。 如果 XDM 正设法运行的显示由于某种原因被挂起， 那这是一个寻找错误信息的好地方。 这些信息会在每一个会话的基础上被写到用户的 <span class=filename>~/.xsession-errors</span> 文件中。</p></div></div></div><div class=sect2><h3 id=_运行一个网络显示服务器>6.6.4. 运行一个网络显示服务器<a class=anchor href=#_运行一个网络显示服务器></a></h3><div class=paragraph><p>对于其他客户端来说， 如果希望它们能连接到显示服务器，您就必须编辑访问控制规则， 并启用连接侦听。 默认情况下， 这些都预设为比较保守的值。 要让 XDM 能侦听连接， 首先要在 <span class=filename>xdm-config</span> 文件中注释掉一行：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>!</span> SECURITY: <span class=k>do </span>not listen <span class=k>for </span>XDMCP or Chooser requests <span class=o>!</span> Comment out this line <span class=k>if </span>you want to manage X terminals with xdm
DisplayManager.requestPort:     0</code></pre></div></div><div class=paragraph><p>然后重新启动XDM。 记住默认应用程序文件的注释以"!" 字母开始，不是"\#"。 您需要设置严格的访问控制 - 看看在 <span class=filename>Xaccess</span> 文件中的实例， 并参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;format=html">xdm(1)</a> 的联机手册， 以了解进一步的细节。</p></div></div><div class=sect2><h3 id=_替换_xdm>6.6.5. 替换 XDM<a class=anchor href=#_替换_xdm></a></h3><div class=paragraph><p>有几个替换默认 XDM程序的方案。 其中之一是 上一节已经描述过的kdm (与 KDE捆绑在一起)。 kdm 提供了许多视觉上的改进和局部的修饰， 同样能让用户在启动时能选择他们喜欢的窗口管理器。</p></div></div></div></div><div class=sect1><h2 id=x11-wm>6.7. 桌面环境<a class=anchor href=#x11-wm></a></h2><div class=sectionbody><div class=paragraph><p>这节描述了 FreeBSD 上用于 X 的不同桌面环境。 "桌面环境" 可能仅仅是一个简单的窗口管理器， 也可能是一个像 KDE 或者 GNOME这样的完整桌面应用程序套件。</p></div><div class=sect2><h3 id=x11-wm-gnome>6.7.1. GNOME<a class=anchor href=#x11-wm-gnome></a></h3><div class=sect3><h4 id=x11-wm-gnome-about>6.7.1.1. 有关 GNOME<a class=anchor href=#x11-wm-gnome-about></a></h4><div class=paragraph><p>GNOME 是一个用户界面友好的桌面环境， 能够使用户很容易地使用和配置他们的计算机。 GNOME 包括一个面板(用来启动应用程序和显示状态)， 一个桌面(存放数据和应用程序的地方)， 一套标准的桌面工具和应用程序， 和一套与其他人相互协同工作的协议集。 其他操作系统的用户在使用 GNOME提供的强大的图形驱动环境时会觉得很好。 更多的关于 FreeBSD 上 GNOME 的信息 可以在 <a href=http://www.FreeBSD.org/gnome>FreeBSD GNOME Project</a> 的网站上找到。 此外， 这个网站也提供了相当详尽的关于安装、 配置和管理 GNOME 的常见问题解答 (FAQ)。</p></div></div><div class=sect3><h4 id=x11-wm-gnome-install>6.7.1.2. 安装 GNOME<a class=anchor href=#x11-wm-gnome-install></a></h4><div class=paragraph><p>这个软件可以很容易地通过预编译包或 Ports 套件来安装：</p></div><div class=paragraph><p>要从网络安装GNOME， 只要键入：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r gnome2</span></code></pre></div></div><div class=paragraph><p>从源代码编译GNOME，可以使用 ports树：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11/gnome2</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>GNOME 需要挂载 <span class=filename>/proc</span> 文件系统才能正常运作。添加如下</p></div><div class="literalblock programlisting"><div class=content><pre>proc           /proc       procfs  rw  0   0</pre></div></div><div class=paragraph><p>到 <span class=filename>/etc/fstab</span> 以便在系统启动时自动挂载 <a href="https://man.freebsd.org/cgi/man.cgi?query=procfs&amp;sektion=5&amp;format=html">procfs(5)</a>。</p></div><div class=paragraph><p>一旦装好了 GNOME， 就必须告诉 X server 启动 GNOME 而不是默认的窗口管理器。</p></div><div class=paragraph><p>最简单的启动 GNOME 的方法是使用 GDM， GNOME 显示管理器。 随 GNOME 桌面一同安装的 GDM 尽管默认是禁用的。 可以在 <span class=filename>/etc/rc.conf</span> 中加入以下这行启用：</p></div><div class="literalblock programlisting"><div class=content><pre>gdm_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>这样在你重启机器的时候， GDM 将自动运行。</p></div><div class=paragraph><p>通常我们希望在 GDM 启动时， 同时启用所有的 GNOME 服务， 可以将如下这行加入 <span class=filename>/etc/rc.conf</span>：</p></div><div class="literalblock programlisting"><div class=content><pre>gnome_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>GNOME 也可以通过适当地配置名为 <span class=filename>.xinitrc</span> 的文件来启动。 如果已经有了自定义的 <span class=filename>.xinitrc</span>， 将启动当前窗口管理器的那一行改为启动 /usr/local/bin/gnome-session 就可以了。 如果还没有， 那么只需简单地：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;/usr/local/bin/gnome-session&#34;</span> <span class=o>&gt;</span> ~/.xinitrc</code></pre></div></div><div class=paragraph><p>接下来输入 <code>startx</code>， GNOME 桌面环境就启动了。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>如果之前使用了一些旧式的显示管理器， 例如 XDM， 则这样做是没用的。 此时应建立一个可执行的 <span class=filename>.xsession</span> 文件， 其中包含同样的命令。 要完成这项工作， 需要用 /usr/local/bin/gnome-session 取代现有的窗口管理器：</p></div></td></tr></tbody></table></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;#!/bin/sh&#34;</span> <span class=o>&gt;</span> ~/.xsession
% <span class=nb>echo</span> <span class=s2>&#34;/usr/local/bin/gnome-session&#34;</span> <span class=o>&gt;&gt;</span> ~/.xsession
% <span class=nb>chmod</span> +x ~/.xsession</code></pre></div></div><div class=paragraph><p>还有一种做法， 是配置显示管理器， 以便在登录时提示您选择窗口管理器； 在 <a href=#x11-wm-kde-details>KDE 细节</a> 环节中介绍了关于如何为 kdm （KDE 的显示管理器）进行这样的配置。</p></div></div></div><div class=sect2><h3 id=x11-wm-kde>6.7.2. KDE<a class=anchor href=#x11-wm-kde></a></h3><div class=sect3><h4 id=x11-wm-kde-about>6.7.2.1. 有关 KDE<a class=anchor href=#x11-wm-kde-about></a></h4><div class=paragraph><p>KDE 是一个容易使用的现代桌面环境。 KDE 有很多很好的特性：</p></div><div class=ulist><ul><li><p>一个美丽的现代的桌面。</p></li><li><p>一个集合了完美网络环境的桌面。</p></li><li><p>一个集成的帮助系统，能够方便、高效地帮助您使用 KDE 桌面和它的应用程序。</p></li><li><p>所有的KDE应用程序具有一致的所见即所得界面。</p></li><li><p>标准的菜单和工具栏，键盘布局，颜色配置等。</p></li><li><p>国际化：KDE 可以使用超过40种语言。</p></li><li><p>集中化、 统一的对话框驱动的桌面配置</p></li><li><p>许多有用的 KDE应用程序。</p></li></ul></div><div class=paragraph><p>KDE 附带了一个名为 Konqueror 的 web 浏览器， 它是其他运行于 UNIX® 系统上的 web 浏览器的一个强大的竞争对手。 要了解关于 KDE 的更多详情， 可以访问 <a href=http://www.kde.org/>KDE 网站</a>。 与 FreeBSD 相关的 KDE 信息和资源， 可以在 <a href=http://freebsd.kde.org/>FreeBSD 上的 KDE 团队</a> 的网站找到。</p></div><div class=paragraph><p>FreeBSD 上提供了两种版本的 KDE。 版本 3 已经推出了很长时间， 十分成熟。 而版本 4， 也就是下一代版本， 也可以通过 Ports 套件来安装。 这两种版本甚至能够并存。</p></div></div><div class=sect3><h4 id=x11-wm-kde-install>6.7.2.2. 安装 KDE<a class=anchor href=#x11-wm-kde-install></a></h4><div class=paragraph><p>与 GNOME 和其他桌面环境类似， 这个软件可以很容易地通过预编译包或 Ports 套件来安装：</p></div><div class=paragraph><p>要从网络安装 KDE3 只需要：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r kde</span></code></pre></div></div><div class=paragraph><p>要从网络安装 KDE4 则需要：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r kde4</span></code></pre></div></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> 就会自动的下载最新版本的应用程序。</p></div><div class=paragraph><p>要从源代码编译 KDE3， 可以使用 ports 树：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11/kde3</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>而从 ports 提供的源代码编译 KDE4， 对应的操作则是：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11/kde4</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>安装好 KDE 之后， 还需要告诉X server 启动这个应用程序来代替默认的窗口管理器。 这可以通过编辑 <span class=filename>.xinitrc</span> 文件来完成：</p></div><div class=paragraph><p>对于 KDE3：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;exec startkde&#34;</span> <span class=o>&gt;</span> ~/.xinitrc</code></pre></div></div><div class=paragraph><p>对于 KDE4：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;exec /usr/local/kde4/bin/startkde&#34;</span> <span class=o>&gt;</span> ~/.xinitrc</code></pre></div></div><div class=paragraph><p>现在，无论您什么时候用 <code>startx</code>进入 X 视窗系统， KDE 就将成为您的桌面环境。</p></div><div class=paragraph><p>如果使用一个像 XDM这样的显示管理器， 那配置文件可能有点不同。需要编辑一个 <span class=filename>.xsession</span> 文件，有关 kdm 的用法会在这章的后面介绍。</p></div></div></div><div class=sect2><h3 id=x11-wm-kde-details>6.7.3. 有关 KDE 的更多细节<a class=anchor href=#x11-wm-kde-details></a></h3><div class=paragraph><p>现在 KDE 已经被安装在系统中了。 通过帮助页面或点击多个菜单可以发现很多东西。 Windows® 或 Mac® 用户会有回到家的感觉。</p></div><div class=paragraph><p>有关 KDE 的最好的参考资料是 它的在线文档。KDE 拥有它自己的 web 浏览器 Konqueror， 还有很多其他的应用程序和丰富文档。 这节的余下部分将讨论一些很难用走马观花的方法来学习的技术项目。</p></div><div class=sect3><h4 id=x11-wm-kde-kdm>6.7.3.1. KDE 显示管理器<a class=anchor href=#x11-wm-kde-kdm></a></h4><div class=paragraph><p>如果在同一系统上有多个用户， 则管理员通常会希望使用图形化的登录界面。 前面已经提到， 使用 <a href=#x-xdm>XDM</a> 可以完成这项工作。 不过， KDE 本身也提供了另一个选择， 即 kdm， 它的外观更富吸引力， 而且提供了更多的登录选项。 值得一提的是， 用户还能通过菜单很容易地选择希望使用的桌面环境 (KDE、 GNOME 或其它)。</p></div><div class=paragraph><p>要启用 kdm， 需要根据 KDE 的版本修改不同的配置文件。</p></div><div class=paragraph><p>对于 KDE3， <span class=filename>/etc/ttys</span> 中的 <code>ttyv8</code> 项需被改写成如下的形式：</p></div><div class="literalblock programlisting"><div class=content><pre>ttyv8 &#34;/usr/local/bin/kdm -nodaemon&#34; xterm on secure</pre></div></div><div class=paragraph><p>对于 KDE4， 你需要将如下这行加入 <span class=filename>/etc/rc.conf</span>：</p></div><div class="literalblock programlisting"><div class=content><pre>local_startup=&#34;${local_startup} /usr/local/kde4/etc/rc.d&#34;
kdm4_enable=&#34;YES&#34;</pre></div></div></div></div><div class=sect2><h3 id=x11-wm-xfce>6.7.4. Xfce<a class=anchor href=#x11-wm-xfce></a></h3><div class=sect3><h4 id=x11-wm-xfce-about>6.7.4.1. 有关Xfce<a class=anchor href=#x11-wm-xfce-about></a></h4><div class=paragraph><p>Xfce是以被GNOME 使用的 GTK+ 工具包为基础的桌面环境， 但是更加轻巧，适合于那些需要一个易于使用和配置并且简单而高效的桌面的人。 看起来，它非常像使用在商业UNIX®系统上的 CDE环境。 Xfce的主要特性有下面这些：</p></div><div class=ulist><ul><li><p>一个简单，易于使用的桌面。</p></li><li><p>完全通过鼠标的拖动和按键来控制等。</p></li><li><p>与CDE 相似的主面板，菜单，applets和应用launchers。</p></li><li><p>集成的窗口管理器，文件管理器，声音管理器， GNOME 应用模块等等。</p></li><li><p>可配置界面的主题。(因为它使用GTK+)</p></li><li><p>快速，轻便，高效：对于比较老的/旧的机器或带有很少内存的机器仍然很理想。</p></li></ul></div><div class=paragraph><p>更多有关Xfce 的信息可以参考<a href=http://www.xfce.org/>Xfce 网站</a>。</p></div></div><div class=sect3><h4 id=x11-wm-xfce-install>6.7.4.2. 安装Xfce<a class=anchor href=#x11-wm-xfce-install></a></h4><div class=paragraph><p>有一个二进制的Xfce 软件包存在(在写作的时候)。要安装的话，执行下面的命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r xfce4</span></code></pre></div></div><div class=paragraph><p>另外， 也可以使用 Ports Collection 从源代码联编：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11-wm/xfce4</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>现在，要告诉X服务器在下次X启动时执行 Xfce。 只要执行下面的命令：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;/usr/local/bin/startxfce4&#34;</span> <span class=o>&gt;</span> ~/.xinitrc</code></pre></div></div><div class=paragraph><p>接下来就是启动 X， Xfce将成为您的桌面。 与以前一样，如果使用像 <span class=filename>XDM</span> 这样的显示管理器，需要创建一个 <span class=filename>.xsession</span>文件，就像有关 <a href=#x11-wm-gnome>GNOME</a> 的那节描述的， 使用<span class=filename>/usr/local/bin/startxfce4</span> 命令，或者，配置显示管理器允许在启动时选择一个桌面， 就像有关<a href=#x11-wm-kde-kdm>kdm</a>的那节描述的。</p></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: March 9, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partii class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#x11-synopsis>6.1. 概述</a></li><li><a href=#x-understanding>6.2. 理解 X</a></li><li><a href=#x-install>6.3. 安装 X11</a></li><li><a href=#x-config>6.4. 配置 X11</a></li><li><a href=#x-fonts>6.5. 在 X11 中使用字体</a></li><li><a href=#x-xdm>6.6. X 显示管理器</a></li><li><a href=#x11-wm>6.7. 桌面环境</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/zh-cn/books/handbook/handbook_zh-cn.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/zh-cn/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/zh-cn/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>简体中文</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/zh-cn class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>