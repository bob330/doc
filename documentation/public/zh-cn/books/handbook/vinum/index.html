<!doctype html><html class=theme-light lang=zh-cn><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/><title>第 22 章 Vinum 卷管理程序 | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="第 22 章 Vinum 卷管理程序"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="zh-cn"><meta property="og:url" content="http://172.16.201.134:1313/zh-cn/books/handbook/vinum/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/zh-cn\/books\/handbook\/vinum\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/zh-cn>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books>Books</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=zh-cn>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/>前言</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-audience>预期的读者</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes-from3>相对于第三版的改动</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes-from2>相对于第二版的改动 (2004)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-changes>相对于第一版的改变 (2001)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-overview>本手册的组织</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-conv>本书中使用的一些约定</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/preface/#preface-acknowledgements>致谢</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/parti/>部分 I. 起步</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/>第 1 章 介绍</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#introduction-synopsis>1.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#nutshell>1.2. 欢迎来到 FreeBSD 的世界!</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/introduction/#history>1.3. 关于 FreeBSD 项目</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/>第 2 章 安装 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-synopsis>2.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-hardware>2.2. 硬件需求</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-pre>2.3. 安装前的准备工作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-start>2.4. 开始安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#using-sysinstall>2.5. 介绍 Sysinstall</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-steps>2.6. 分配磁盘空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-choosing>2.7. 选择要安装的软件包</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-media>2.8. 选择您要使用的安装介质</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-final-warning>2.9. 安装确认</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-post>2.10. 安装后的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-trouble>2.11. 常见问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-advanced>2.12. 高级安装指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/install/#install-diff-media>2.13. 准备您自己的安装介质</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/>第 3 章 安装 FreeBSD（适用于 9.x 及以后版本）</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-synopsis>3.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-hardware>3.2. 硬件需求</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-pre>3.3. 安装前的准备工作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-start>3.4. 开始安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#using-bsdinstall>3.5. 介绍 bsdinstall</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-netinstall>3.6. 通过网络安装</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-partitioning>3.7. 分配磁盘空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-final-warning>3.8. 安装确认</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-post>3.9. 安装后的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bsdinstall/#bsdinstall-install-trouble>3.10. 故障排除</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/>第 4 章 UNIX 基础</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-synopsis>4.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#consoles>4.2. 虚拟控制台和终端</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#permissions>4.3. 权限</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#dirstructure>4.4. 目录架构</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#disk-organization>4.5. 磁盘组织</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#mount-unmount>4.6. 文件系统的挂接和卸下</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-processes>4.7. 进程</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-daemons>4.8. 守护进程，信号和杀死进程</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#shells>4.9. Shells</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#editors>4.10. 文本编辑器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-devices>4.11. 设备和设备节点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#binary-formats>4.12. 二进制文件格式</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/basics/#basics-more-information>4.13. 取得更多的资讯</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/>第 5 章 安装应用程序: Packages 和 Ports</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-synopsis>5.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-overview>5.2. 软件安装预览</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-finding-applications>5.3. 寻找您要的应用程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#packages-using>5.4. 使用 Package 系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-using>5.5. 使用Ports Collection</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-nextsteps>5.6. 安装之后还要做点什么？</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ports/#ports-broken>5.7. 如何处理坏掉的 Ports</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/>第 6 章 X Window 系统</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x11-synopsis>6.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-understanding>6.2. 理解 X</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-install>6.3. 安装 X11</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-config>6.4. 配置 X11</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-fonts>6.5. 在 X11 中使用字体</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x-xdm>6.6. X 显示管理器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/x11/#x11-wm>6.7. 桌面环境</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partii/>部分 II. 常见的任务</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/>第 7 章 桌面应用</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-synopsis>7.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-browsers>7.2. 浏览器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-productivity>7.3. 办公、图象处理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-viewers>7.4. 文档查看器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-finance>7.5. 财务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/desktop/#desktop-summary>7.6. 总结</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/>第 8 章 多媒体</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#multimedia-synopsis>8.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#sound-setup>8.2. 安装声卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#sound-mp3>8.3. MP3音频</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#video-playback>8.4. 视频回放</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#tvcard>8.5. 安装电视卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/multimedia/#scanners>8.6. 图象扫描仪</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/>第 9 章 配置FreeBSD的内核</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-synopsis>9.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-custom-kernel>9.2. 为什么需要建立定制的内核?</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-devices>9.3. 发现系统硬件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-modules>9.4. 内核驱动，子系统和模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-building>9.5. 建立并安装一个定制的内核</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-config>9.6. 配置文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/kernelconfig/#kernelconfig-trouble>9.7. 如果出现问题怎么办</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/>第 10 章 打印</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-synopsis>10.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-intro-spooler>10.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-intro-setup>10.3. 基本设置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-advanced>10.4. 高级设置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-using>10.5. 使用打印机</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-lpd-alternatives>10.6. 替换标准后台打印</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/printing/#printing-troubleshooting>10.7. 疑难问题</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/>第 11 章 Linux® 二进制兼容模式</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-synopsis>11.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-lbc-install>11.2. 配置 Linux® 二进制兼容模式</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/linuxemu/#linuxemu-advanced>11.3. 高级主题</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partiii/>部分 III. 系统管理</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/>第 12 章 设置和调整</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#config-synopsis>12.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-initial>12.2. 初步配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-core-configuration>12.3. 核心配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-appconfig>12.4. 应用程序配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-starting-services>12.5. 启动服务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-cron>12.6. 配置 <code>cron</code></a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-rcd>12.7. 在 FreeBSD 中使用 rc</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#config-network-setup>12.8. 设置网卡</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-virtual-hosts>12.9. 虚拟主机</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-configfiles>12.10. 配置文件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-sysctl>12.11. 用 sysctl 进行调整</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-disk>12.12. 调整磁盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#configtuning-kernel-limits>12.13. 调整内核限制</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#adding-swap-space>12.14. 添加交换空间</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#acpi-overview>12.15. 电源和资源管理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/config/#ACPI-debug>12.16. 使用和调试 FreeBSD ACPI</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/>第 13 章 FreeBSD 引导过程</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-synopsis>13.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-introduction>13.2. 引导问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-blocks>13.3. 引导管理器和各引导阶段</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-kernel>13.4. 内核在引导时的交互</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#device-hints>13.5. Device Hints</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-init>13.6. Init：进程控制及初始化</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/boot/#boot-shutdown>13.7. 关机 (shutdown) 过程</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/>第 14 章 用户和基本的帐户管理</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-synopsis>14.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-introduction>14.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-superuser>14.3. 超级用户帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-system>14.4. 系统帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-user>14.5. 用户帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-modifying>14.6. 修改帐户</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-limiting>14.7. 限制用户使用系统资源</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/users/#users-groups>14.8. 组</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/>第 15 章 安全</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-synopsis>15.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-intro>15.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#securing-freebsd>15.3. 确保 FreeBSD 的安全</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#crypt>15.4. DES、 Blowfish、 MD5， 以及 Crypt</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#one-time-passwords>15.5. 一次性口令</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#tcpwrappers>15.6. TCP Wrappers</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#kerberos5>15.7. Kerberos5</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#openssl>15.8. OpenSSL</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#ipsec>15.9. IPsec 上的 VPN</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#openssh>15.10. OpenSSH</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#fs-acl>15.11. 文件系统访问控制表</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-portaudit>15.12. 监视第三方安全问题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-advisories>15.13. FreeBSD 安全公告</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/security/#security-accounting>15.14. 进程记帐</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/>第 16 章 Jails</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-synopsis>16.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-terms>16.2. 与 Jail 相关的一些术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-intro>16.3. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-build>16.4. 建立和控制 jail</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-tuning>16.5. 微调和管理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/jails/#jails-application>16.6. Jail 的应用</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/>第 17 章 强制访问控制</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-synopsis>17.1. 概要</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-inline-glossary>17.2. 本章出现的重要术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-initial>17.3. 关于 MAC 的说明</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-understandlabel>17.4. 理解 MAC 标签</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-planning>17.5. 规划安全配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-modules>17.6. 模块配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-seeotheruids>17.7. MAC seeotheruids 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-bsdextended>17.8. MAC bsdextended 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-ifoff>17.9. MAC ifoff 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-portacl>17.10. MAC portacl 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-partition>17.11. MAC partition (分区) 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-mls>17.12. MAC 多级 (Multi-Level) 安全模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-biba>17.13. MAC Biba 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-lomac>17.14. MAC LOMAC 模块</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-implementing>17.15. MAC Jail 中的 Nagios</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-userlocked>17.16. User Lock Down</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mac/#mac-troubleshoot>17.17. MAC 框架的故障排除</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/>第 18 章 安全事件审计</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-synopsis>18.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-inline-glossary>18.2. 本章中的一些关键术语</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-install>18.3. 安装审计支持</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-config>18.4. 对审计进行配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/audit/#audit-administration>18.5. 管理审计子系统</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/>第 19 章 存储</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-synopsis>19.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-naming>19.2. 设备命名</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-adding>19.3. 添加磁盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#raid>19.4. RAID</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#usb-disks>19.5. USB 存储设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#creating-cds>19.6. 创建和使用光学介质(CD)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#creating-dvds>19.7. 创建和使用光学介质(DVD)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#floppies>19.8. 创建和使用软盘</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backups-tapebackups>19.9. 用磁带机备份</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backups-floppybackups>19.10. 用软盘备份</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backup-strategies>19.11. 备份策略</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#backup-basics>19.12. 备份程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-virtual>19.13. 网络、内存和 和以及映像文件为介质的虚拟文件系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#snapshots>19.14. 文件系统快照</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#quotas>19.15. 文件系统配额</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-encrypting>19.16. 加密磁盘分区</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#swap-encrypting>19.17. 对交换区进行加密</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/disks/#disks-hast>19.18. 高可用性存储 (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/>第 20 章 GEOM: 模块化磁盘变换框架</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-synopsis>20.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-intro>20.2. GEOM 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-striping>20.3. RAID0 - 条带</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-mirror>20.4. RAID1 - 镜像</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#GEOM-raid3>20.5. RAID3 - 使用专用校验设备的字节级条带</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-ggate>20.6. GEOM Gate 网络设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-glabel>20.7. 为磁盘设备添加卷标</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/geom/#geom-gjournal>20.8. 通过 GEOM 实现 UFS 日志</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/>第 21 章 文件系统 Support</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/#filesystems-synopsis>21.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems/#filesystems-zfs>21.2. Z 文件系统 (ZFS)</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle checked>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/>第 22 章 Vinum 卷管理程序</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-synopsis>22.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-intro>22.2. 磁盘容量太小</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-access-bottlenecks>22.3. 访问瓶颈</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-data-integrity>22.4. 数据的完整性</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-objects>22.5. Vinum 目标</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-examples>22.6. 一些例子</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-object-naming>22.7. 对象命名</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-config>22.8. 配置 Vinum</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/vinum/#vinum-root>22.9. 使用 Vinum 作为根文件系统</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/>第 23 章 虚拟化</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-synopsis>23.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-guest>23.2. 作为客户 OS 的 FreeBSD</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization/#virtualization-host>23.3. 作为宿主 OS 的 FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/>第 24 章 本地化－I18N/L10N使用和设置</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-synopsis>24.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-basics>24.2. 基础知识</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#using-localization>24.3. 使用本地化语言</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#l10n-compiling>24.4. 编译I18N程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/l10n/#lang-setup>24.5. 本地化FreeBSD</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/>第 25 章 更新与升级 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-synopsis>25.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>25.2. FreeBSD 更新</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-portsnap>25.3. Portsnap： 一个 Ports Collection 更新工具</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#updating-upgrading-documentation>25.4. 更新系统附带的文档</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#current-stable>25.5. 追踪开发分支</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#synching>25.6. 同步您的源码</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#makeworld>25.7. 重新编译 "world"</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#make-delete-old>25.8. 删除过时的文件、 目录和函数库</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/cutting-edge/#small-lan>25.9. 跟踪多台机器</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/>第 26 章 DTrace</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-synopsis>26.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-implementation>26.2. 实现上的差异</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-enable>26.3. 启用 DTrace 支持</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-using>26.4. 使用 DTrace</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/dtrace/#dtrace-language>26.5. D 语言</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partiv/>部分 IV. 网络通讯</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/>第 27 章 串口通讯</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serial-synopsis>27.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serial>27.2. 介绍</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#term>27.3. 终端</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#dialup>27.4. 拨入服务</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#dialout>27.5. 拨出设备</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/serialcomms/#serialconsole-setup>27.6. 设置串口控制台</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/>第 28 章 PPP 和 SLIP</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>28.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#userppp>28.2. 使用用户级 PPP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp>28.3. 使用内核级PPP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#ppp-troubleshoot>28.4. PPP 连接故障排除</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#pppoe>28.5. 使用基于以太网的PPP(PPPoE)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#pppoa>28.6. 使用 ATM 上的 PPP (PPPoA)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/ppp-and-slip/#slip>28.7. 使用SLIP</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/>第 29 章 电子邮件</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-synopsis>29.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-using>29.2. 使用电子邮件</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#sendmail>29.3. sendmail 配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-changingmta>29.4. 改变您的邮件传输代理程序</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-trouble>29.5. 疑难解答</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-advanced>29.6. 高级主题</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-UUCP>29.7. SMTP 与 UUCP</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#outgoing-only>29.8. 只发送邮件的配置</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-dialup>29.9. 拨号连接时使用邮件传送</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#SMTP-Auth>29.10. SMTP 验证</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-agents>29.11. 邮件用户代理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-fetchmail>29.12. 使用 fetchmail</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mail/#mail-procmail>29.13. 使用 procmail</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/>第 30 章 网络服务器</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-servers-synopsis>30.1. 概要</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-inetd>30.2. inetd"超级服务器"</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-nfs>30.3. 网络文件系统（NFS）</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-nis>30.4. 网络信息服务 (NIS/YP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-dhcp>30.5. 网络自动配置 (DHCP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-dns>30.6. 域名系统 (DNS)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-apache>30.7. Apache HTTP 服务器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-ftp>30.8. 文件传输协议 (FTP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-samba>30.9. 为 Microsoft® Windows® 客户机提供文件和打印服务 (Samba)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-ntp>30.10. 通过 NTP 进行时钟同步</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/network-servers/#network-syslogd>30.11. 使用 <code>syslogd</code> 记录远程主机的日志</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/>第 31 章 防火墙</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-intro>31.1. 入门</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-concepts>31.2. 防火墙的概念</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-apps>31.3. 防火墙软件包</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-pf>31.4. OpenBSD Packet Filter (PF) 和 ALTQ</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-ipf>31.5. IPFILTER (IPF) 防火墙</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/firewalls/#firewalls-ipfw>31.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/>第 32 章 高级网络</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#advanced-networking-synopsis>32.1. 概述</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-routing>32.2. 网关和路由</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-wireless>32.3. 无线网络</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-bluetooth>32.4. 蓝牙</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-bridging>32.5. 桥接</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-aggregation>32.6. 链路聚合与故障转移</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-diskless>32.7. 无盘操作</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-pxe-nfs>32.8. 从 PXE 启动一个 NFS 根文件系统</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-isdn>32.9. ISDN</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-natd>32.10. 网络地址转换</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-plip>32.11. 并口电缆 IP (PLIP)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-ipv6>32.12. IPv6</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#network-atm>32.13. 异步传输模式 (ATM)</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/advanced-networking/#carp>32.14. Common Address Redundancy Protocol (CARP， 共用地址冗余协议)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/partv/>部分 V. 附录</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/>附录 A. 获取 FreeBSD</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-cdrom>A.1. CDROM 和 DVD 发行商</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-ftp>A.2. FTP 站点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#anoncvs>A.3. 匿名 CVS</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#ctm>A.4. 使用 CTM</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#cvsup>A.5. 使用 CVSup</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#cvs-tags>A.6. CVS 标签</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-afs>A.7. AFS 站点</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/mirrors/#mirrors-rsync>A.8. rsync 站点</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/>附录 B. 参考文献</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-freebsd>B.1. 关于 FreeBSD 的专业书籍与杂志</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-userguides>B.2. 用户指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-adminguides>B.3. 管理员指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-programmers>B.4. 开发指南</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-osinternals>B.5. 操作系统原理</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-security>B.6. 安全方面的参考文献</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-hardware>B.7. 硬件参考</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-history>B.8. UNIX® 历史</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/bibliography/#bibliography-journals>B.9. 各种期刊</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/>附录 C. Internet上的资源</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-mail>C.1. 邮件列表</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-news>C.2. Usenet新闻组</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-web>C.3. World Wide Web服务器</a></li><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/eresources/#eresources-email>C.4. Email地址</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=http://172.16.201.134:1313/zh-cn/books/handbook/pgpkeys/>附录 D. PGP公钥</a><ul><li><a href=http://172.16.201.134:1313/zh-cn/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Officers</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>第 22 章 Vinum 卷管理程序</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#vinum-synopsis>22.1. 概述</a></li><li><a href=#vinum-intro>22.2. 磁盘容量太小</a></li><li><a href=#vinum-access-bottlenecks>22.3. 访问瓶颈</a></li><li><a href=#vinum-data-integrity>22.4. 数据的完整性</a></li><li><a href=#vinum-objects>22.5. Vinum 目标</a></li><li><a href=#vinum-examples>22.6. 一些例子</a></li><li><a href=#vinum-object-naming>22.7. 对象命名</a></li><li><a href=#vinum-config>22.8. 配置 Vinum</a></li><li><a href=#vinum-root>22.9. 使用 Vinum 作为根文件系统</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=vinum-synopsis>22.1. 概述<a class=anchor href=#vinum-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>无论您有什么样的磁盘，总会有一些潜在问题：</p></div><div class=ulist><ul><li><p>它们可能容量太小。</p></li><li><p>它们可能速度太慢。</p></li><li><p>它们可能也太不可靠。</p></li></ul></div><div class=paragraph><p>针对这些问题， 人们提出并实现了许多不同的解决方案。 为了应对这些问题， 一些用户采用了多个， 有时甚至是冗余的磁盘这类方法。 除了支持许多种不同的硬件 RAID 控制器之外， FreeBSD 的基本系统中包括了 Vinum 卷管理器， 它是一个用以实现虚拟磁盘驱动器的块设备。 <em>Vinum</em> 是一种称为 <em>卷管理器</em>， 或者说用于解决前面这三种问题的虚拟磁盘驱动程序。 Vinum 能够提供比传统磁盘系统更好的灵活性、 性能和可靠性， 并实现了能够单独或配合使用 RAID-0、 RAID-1 和 RAID-5 模型。</p></div><div class=paragraph><p>这一章对传统磁盘存储的潜在问题进行了简要说明，并介绍了 Vinum 卷管理器。</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>从 FreeBSD 5 开始， 对 Vinum 进行了重写， 以便使其符合 GEOM 架构 (<a href=../geom/#GEOM>GEOM. 模块化磁盘变换框架</a>)， 同时保留其原有的设计创意、 术语， 以及保存在磁盘上的元数据格式。 这一重写的版本称为 <em>gvinum</em> (表示 <em>GEOM vinum</em>)。 接下来的文字中 <em>Vinum</em> 是一个抽象的名字， 通常并不具体指某一特定的实现。 新版本中所有的指令都应通过 <code>gvinum</code> 命令来操作， 而对应的内核模块的名字， 也由 <span class=filename>vinum.ko</span> 改为了 <span class=filename>geom_vinum.ko</span>， 而在 <span class=filename>/dev/vinum</span> 中的所有设备节点， 也改为放到了 <span class=filename>/dev/gvinum</span>。 从 FreeBSD 6 开始， 旧版的 Vinum 实现已不再提供。</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=vinum-intro>22.2. 磁盘容量太小<a class=anchor href=#vinum-intro></a></h2><div class=sectionbody><div class=paragraph><p>磁盘越大，存储的数据也就越多。您经常会发现您需要 一个比您可使用的磁盘大得多的文件系统。 无可否认，这个问题 已经没有十年前那样严峻了，但它仍然存在。通过创建一个在许多 磁盘上存储数据的抽象设备，一些系统可以解决这个问题。</p></div></div></div><div class=sect1><h2 id=vinum-access-bottlenecks>22.3. 访问瓶颈<a class=anchor href=#vinum-access-bottlenecks></a></h2><div class=sectionbody><div class=paragraph><p>现代系统经常需要用一个高度并发的方式来访问数据。 例如，巨大的FTP 或HTTP 服务器可以支持数以千计的并发会话， 可以有多个连到外部世界的100 Mbit/s , 这远远地超过了绝大多数磁盘的数据传输速率。</p></div><div class=paragraph><p>当前的磁盘驱动器最高可以以70 MB/s的速度传输数据, 但这个值在一个有许多不受约束的进程访问一个驱动器的环境中变得并不重要， 它们可能只完成了这些值的一小部分。这样一种情况下，从磁盘子 系统的角度来看问题就更加有趣：重要的参数是在子系统上的负 荷，换句话说是传输占用了驱动器多少时间。</p></div><div class=paragraph><p>在任何磁盘传输中, 驱动器必须先寻道, 等待磁头访问第一个扇区, 然后执行传输. 这些动作看起来可能很细小: 我们不会感有任何中断。</p></div><div class=paragraph><p><a id=vinum-latency></a>假设传输10 kB数据， : 现在的高性能磁盘平均寻道时间是3.5ms。 最快的驱动器可以旋转在15,000 rpm，, 所以平均寻址时间为2ms. 在70 MB/s的速度传输时, 数据的传输时间大约150 μs, 几乎无法和寻址时间相比. 在这样一种情况下, 高效的传输也会降低到 1 MB/s 显然传输的快慢依赖与所传输数据的大小。</p></div><div class=paragraph><p>对于这个瓶颈的一般和明显的解决方法是采用 "多个磁盘":而不是只使用一个大磁盘, 它使用几个比较小的磁盘联合起来形成一个大的磁盘. 每个磁盘都可以独立地进行传输数据，所以通过使用多个磁盘 大大提高了数据吞吐量。</p></div><div class=paragraph><p>当然，所要求的吞吐量的提高要比磁盘的数量小得多。 尽管每个驱动器并行传输数据，但没有办法确保请求能够平均 分配到每个驱动器上。不可避免一个驱动器的负载可能比另一个要高得多。</p></div><div class=paragraph><p>磁盘的负载平衡很大程度依赖于驱动器上数据的共享方式. 在下面的讨论中, 将磁盘存储想象成一个巨大的数据扇区，像一本书的页 那样用编号来设定地址. 最明显的方法是把虚拟磁盘分成许多连续的扇区组， 每个扇区大小就是独立的磁盘大小，用这种方法来存储数据， 就像把一本厚厚的书分成很多小的章节。 这个方法叫做 <em>串联</em> 它有一个优点就是磁盘不需要有任何特定的大小关系。 当访问到的虚拟磁盘根据它的地址空间来分布的时候， 它能工作得很好。 当访问集中在一个比较小的区域的时候，性能的提高没有显著的改进。 <a href=#vinum-concat>串联组织</a> 举例说明了用串联组织的方式来分配存储单元的顺序。</p></div><div id=vinum-concat class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-concat.png alt="vinum concat"></div><div class=title>图 1. 串联组织</div></div><div class=paragraph><p>另外一种影射方法是把地址空间分布在比较小的容量相同的磁盘上， 从而能够在不同的设备上存储它们。例如，前256 个扇区可能存储在第一 个磁盘上，接着的256 个扇区存储在另一个磁盘上等等。 写满最后一个磁 盘后，进程会重复以前的工作，直到所有的磁盘被写满。这个影射叫做 <em>分段(striping)</em> 或者 RAID-0. 分段要求很精确地寻址，通过多个磁盘进行数据传输的时候，它 可能会引起额外的I/O 负载，但它也可能提供更多的连续负载。 <a href=#vinum-striped>分段组织</a> 显示了用分段形式分配的存储单元的顺序。</p></div><div id=vinum-striped class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-striped.png alt="vinum striped"></div><div class=title>图 2. 分段组织</div></div></div></div><div class=sect1><h2 id=vinum-data-integrity>22.4. 数据的完整性<a class=anchor href=#vinum-data-integrity></a></h2><div class=sectionbody><div class=paragraph><p>现时磁盘的最后一个问题是它们不太可靠。 虽然磁盘驱动器的可靠性在过去几年有了很大的提高， 但它们仍然是服务器中最容易损坏的核心组件。 当它们发生故障的时候， 结果可能是灾难性的： 替换坏的磁盘驱动器并恢复数据可能要花费几天时间。</p></div><div class=paragraph><p>解决这个问题的传统方法是建立 <em>镜象</em>， 在不同的物理硬件上对数据做两个副本。 根据 RAID 级别出现的时间顺序， 这个技术也被叫做 RAID 级别1 或者 RAID-1。 任何写到卷的数据也会被写到镜象上， 所以可以从任何一个副本读取数据， 如果其中有一个出现故障， 数据也还可以从其他驱动器上访问到。</p></div><div class=paragraph><p>镜象有两个问题：</p></div><div class=ulist><ul><li><p>价格. 它需要两倍的存储容量。</p></li><li><p>性能影响。 写入操作必须在两个驱动器上执行，所以它们 花费两倍的带宽。读取数据并不会影响性能： 它们甚至看起来会更快。</p></li></ul></div><div class=paragraph><p>一个可选的方案采用 <em>奇偶校验</em> 的方式， 用以实现 RAID 2、 3、 4 和 5。 这其中， RAID-5 是我们最感兴趣的。 在 Vinum 的实现中， 这是一个条带组织结构的变体， 其中， 每一个条带中都以一个专用的块， 来保存其它块的奇偶校验值。 这样， RAID-5 plex 除了在每个块中都包含了一个奇偶校验块之外， 实现 RAID-5 时也就和普通的条带 plex 一样了。 作为 RAID-5 的一项要求， 奇偶校验块在每一个条带中的顺序都是不同的。 数据块的编号， 决定了它的相对块号。</p></div><div id=vinum-raid5-org class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-raid5-org.png alt="vinum raid5 org"></div><div class=title>图 3. RAID-5 的组织</div></div><div class=paragraph><p>与镜像相比， RAID-5 最显著的优势在于只需使用少得多的存储空间。 读取类似于条带式存储的组织， 但写入会慢得多， 大约仅相当于读性能的 25%。 如果一个驱动器失效， 则阵列仍然可以在降级的模式运行： 读取来自正常的驱动器数据的操作照常进行， 但读取失效的驱动器的数据， 则来自于余下驱动器上相关的计算结果。</p></div></div></div><div class=sect1><h2 id=vinum-objects>22.5. Vinum 目标<a class=anchor href=#vinum-objects></a></h2><div class=sectionbody><div class=paragraph><p>为了解决这些问题，Vinum 提出了一个四层的目标结构：</p></div><div class=ulist><ul><li><p>最显著的目标是虚拟磁盘, 叫做 <em>卷(volume)</em>. 卷本质上与一个UNIX 磁盘 驱动器有同样的属性，虽然它们是有些不太一样。它们没有大小的限制。</p></li><li><p>卷下面是 <em>plexes</em>, 每一个表示卷的所有地址空间。在层次结构中的这个水平能够提供 冗余功能。可以把plex 想象成用一个镜象排列的方式组织起来的 独立磁盘，每个都包含同样的数据。</p></li><li><p>由于Vinum 存在于UNIX 磁盘存储框架中,所以它也可能 使用UNIX 分区作为多个磁盘plex 的组成部分, 但事实上这并不可靠:UNIX 磁盘只能有有限数量的分区。 取而代之，Vinum 把一个简单的UNIX 分区 (the <em>drive</em>) 分解成叫做<em>subdisks</em>的相邻区域, 它可以使用这个 来为plex 建立块。</p></li><li><p>Subdisks 位于 Vinum <em>驱动器上</em>, 当前的UNIX 分区。Vinum 驱动器可以包含很多的subdisks。 除了驱动器开始的一小块区域用来存储配置和描述信息以外，整个 驱动器都可以用于存储数据。</p></li></ul></div><div class=paragraph><p>下面的章节描述了这些目标提供了Vinum 所要求的功能的方法。</p></div><div class=sect2><h3 id=_卷的大小要求>22.5.1. 卷的大小要求<a class=anchor href=#_卷的大小要求></a></h3><div class=paragraph><p>在Vinum的配置中，Plex可以把多个subdisk 分布在所有的驱动上。 结果, 每个独立的驱动器的大小都不会限制plex 的大小，从而不会限制卷的大小</p></div></div><div class=sect2><h3 id=_多余的数据存储>22.5.2. 多余的数据存储<a class=anchor href=#_多余的数据存储></a></h3><div class=paragraph><p>Vinum 通过给一个卷连上多个plex 来完成镜象的功能。 每个plex 是一个在一个卷中的数据的描述。一个卷可以包含一个 到八个plex。</p></div><div class=paragraph><p>虽然一个plex 描述了一个卷的所有数据，, 但可能描述的部分被物理地丢失了。可能是设计的问题 （没有为plex 部分定义一个subdisk）也可能是意外的故障 （由于驱动器的故障导致）。只要至少有一个plex 能够为 卷的完全地址范围提供数据，卷就能够正常工作。</p></div></div><div class=sect2><h3 id=_性能问题>22.5.3. 性能问题<a class=anchor href=#_性能问题></a></h3><div class=paragraph><p>Vinum 在plex 水平既执行串联也执行分段：</p></div><div class=ulist><ul><li><p>一个<em>串连的plex</em>轮流使用 每个subdisk 的地址空间。</p></li><li><p>一个 <em>分段的plex</em> 在每个subdisk 上 划分数据. Subdisk 必须是大小一样的，为了从一个连接的plex 中 区分开它，必须至少有两个subdisk。</p></li></ul></div></div><div class=sect2><h3 id=_哪种plex_组织更有效>22.5.4. 哪种plex 组织更有效？<a class=anchor href=#_哪种plex_组织更有效></a></h3><div class=paragraph><p>FreeBSD 12.0提供的Vinum 版本能实现两种plex:</p></div><div class=ulist><ul><li><p>串联的plex 更加灵活：它们可以包含任何数量的subdisk， subdisk 也可能有不同的长度。Plex 可以通过添加额外的subdisk 来得到扩展。 与分段 plex 不同， 它们需要的 CPU 时钟更少， 尽管 CPU 上的负载差异是不可测量的。 另一方面，它们的负载可能不平衡，一个磁盘可能负载很重， 而其他的可能很空闲。</p></li><li><p>分段(RAID-0) plexes 的最大优点是 它们减少了负载不平衡的情况: 通过选择一个最合适大小的分段 (大约是256 kB), 您甚至可以在各个组成的驱动器上降低负载 . 这种方法的缺点是在subdisk 上受到非常复杂的编码限制 : 它们必须是同样大小, 通过添加新的subdisk 来扩展一个plex 是非常复杂的,以至Vinum 当前没有实现它. Vinum 利用一个额外 的，代价不高的限制：一个分段的plex 必须有至少两个subdisk， 否则， 它就无法区分连接的 plex 了。</p></li></ul></div><div class=paragraph><p><a href=#vinum-comparison>Vinum Plex组织图</a> 总结一下每个plex 组织 的优点和缺点.</p></div><table id=vinum-comparison class="tableblock frame-none grid-all stretch"><caption class=title>表 1. Vinum Plex组织图</caption><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><thead><tr><th class="tableblock halign-left valign-top">Plex 类型</th><th class="tableblock halign-left valign-top">最少subdisks</th><th class="tableblock halign-left valign-top">可否添加subdisks</th><th class="tableblock halign-left valign-top">尺寸相同</th><th class="tableblock halign-left valign-top">应用</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>串联</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>可以</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>不必须</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>带有很大弹性和适中性能的大数据量存储。</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>分段</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>不可以</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>必须</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>大量并发访问时,具有较高性能。</p></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=vinum-examples>22.6. 一些例子<a class=anchor href=#vinum-examples></a></h2><div class=sectionbody><div class=paragraph><p>Vinum 维护着一个描述本系统中对象的 <em>配置数据库</em>。 开始时， 用户可以在 <a href="https://man.freebsd.org/cgi/man.cgi?query=gvinum&amp;sektion=8&amp;format=html">gvinum(8)</a> 工具来从若干配置文件生成配置数据库。 Vinum 在其控制的每个磁盘分区 (在 Vinum 中称为 <em>device</em>) 上都保存配置数据库的副本。 这一数据库在每次状态变化时均会更新， 因而重启每个 Vinum 对象时， 都能够恢复其状态。</p></div><div class=sect2><h3 id=_配置文件>22.6.1. 配置文件<a class=anchor href=#_配置文件></a></h3><div class=paragraph><p>配置文件描述了独立的 Vinum.一个简单卷的定义可能是这样的:</p></div><div class="literalblock programlisting"><div class=content><pre>    drive a device /dev/da3h
    volume myvol
      plex org concat
        sd length 512m drive a</pre></div></div><div class=paragraph><p>这个文件描述了四个Vinum 目标:</p></div><div class=ulist><ul><li><p><em>drive</em> 行描述了一个磁盘分区（驱动器） 和与下面的硬件相关的它的位置。它给出了一个符号名 <em>a</em>. 这个与设备名称分开的符号名允许 磁盘从一个位置移动到另一个位置而不会搞混。</p></li><li><p><em>volume</em> 行描述了一个卷。 唯一的必须属性是名称，在这个例子中是 <em>myvol</em>.</p></li><li><p><em>plex</em> 行定义了一个plex。 唯一需要的参数是组织,在这个例子中是 <em>concat</em>. 没有名称是必然的: 系统自动通过添加suffix <em>.px</em> 来从卷名称产生一个名字,这里的<em>x</em> 是在卷中的plex 的编号。而这个plex 将被 叫做<em>myvol.p0</em>。</p></li><li><p><em>sd</em> 行描述了一个subdisk。 最小的说明是存储subdisk 的驱动器名称，和subdisk 的长度。 对于plex，没有名称也是必然的：系统自动通过添加 suffix <em>.sx</em> 来分配源自plex 的名称，这里 <em>x</em>是plex 中subdisk 的编号。 Vinum 给这个subdisk 命名为<em>myvol.p0.s0</em>。</p></li></ul></div><div class=paragraph><p>处理完这个文件后， <a href="https://man.freebsd.org/cgi/man.cgi?query=gvinum&amp;sektion=8&amp;format=html">gvinum(8)</a> 会产生下面的输出：</p></div><div class="literalblock programlisting"><div class=content><pre>      #  gvinum -&gt; create config1
      Configuration summary
      Drives:         1 (4 configured)
      Volumes:        1 (4 configured)
      Plexes:         1 (8 configured)
      Subdisks:       1 (16 configured)

	D a                     State: up       Device /dev/da3h        Avail: 2061/2573 MB (80%)

	V myvol                 State: up       Plexes:       1 Size:        512 MB

	P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB

	S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB</pre></div></div><div class=paragraph><p>这些输出内容展示了 <a href="https://man.freebsd.org/cgi/man.cgi?query=gvinum&amp;sektion=8&amp;format=html">gvinum(8)</a> 的简要列表格式。 在 <a href=#vinum-simple-vol>一个简单的Vinum 卷</a> 中用图形展示了这个配置。</p></div><div id=vinum-simple-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-simple-vol.png alt="vinum simple vol"></div><div class=title>图 4. 一个简单的Vinum 卷</div></div><div class=paragraph><p>下面这个图显示了一个由按顺序排列的subdisk 组成的plex。 在这个小小的例子中，卷包含一个plex，plex 包含一个subdisk。</p></div><div class=paragraph><p>这个卷本身和普通的磁盘分区相比并没有什么特别的优越性， 它包含了一个 plex， 因此不是冗余的。 这个 plex 中包括了一个子磁盘， 因此这和从磁盘分区分配存储没什么两样。 接下来的几节， 将介绍一些更有用的配置方法。</p></div></div><div class=sect2><h3 id=_提高容错性_镜像>22.6.2. 提高容错性： 镜像<a class=anchor href=#_提高容错性_镜像></a></h3><div class=paragraph><p>卷的容错性可以通过镜像来提高。 在配置镜像卷时， 确保 plex 分布在不同的驱动器上十分重要， 这样一个驱动器坏掉时， 就不会同时影响两个 plex。 下面的配置将映射卷：</p></div><div class="literalblock programlisting"><div class=content><pre>	drive b device /dev/da4h
	volume mirror
      plex org concat
        sd length 512m drive a
	  plex org concat
	    sd length 512m drive b</pre></div></div><div class=paragraph><p>上面的例子中， 并不需要再次指定驱动器 <em>a</em>， 因为 Vinum 监控所有其配置数据库的对象。 完成定义之后， 配置如下所示：</p></div><div class="literalblock programlisting"><div class=content><pre>	Drives:         2 (4 configured)
	Volumes:        2 (4 configured)
	Plexes:         3 (8 configured)
	Subdisks:       3 (16 configured)

	D a                     State: up       Device /dev/da3h        Avail: 1549/2573 MB (60%)
	D b                     State: up       Device /dev/da4h        Avail: 2061/2573 MB (80%)

    V myvol                 State: up       Plexes:       1 Size:        512 MB
    V mirror                State: up       Plexes:       2 Size:        512 MB

    P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p0           C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p1           C State: initializing     Subdisks:     1 Size:        512 MB

    S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB
	S mirror.p0.s0          State: up       PO:        0  B Size:        512 MB
	S mirror.p1.s0          State: empty    PO:        0  B Size:        512 MB</pre></div></div><div class=paragraph><p><a href=#vinum-mirrored-vol>镜像 Vinum 卷</a> 以图形方式展示了其结构。</p></div><div id=vinum-mirrored-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-mirrored-vol.png alt="vinum mirrored vol"></div><div class=title>图 5. 镜像 Vinum 卷</div></div><div class=paragraph><p>这个例子中， 每一个 plex 包含了完整的 512 MB 地址空间。 在前面的例子中， plex 则只包括一个子盘。</p></div></div><div class=sect2><h3 id=_优化性能>22.6.3. 优化性能<a class=anchor href=#_优化性能></a></h3><div class=paragraph><p>前面例子中的镜像卷要比没有镜像的卷具有更好的容灾能力， 但它的性能要差一些： 每一次写入卷时， 需要同时写到两个驱动器上， 因而也就需要更大的磁盘访问带宽。 如果希望非常好的性能， 则需要另外一种方式： 不做镜像， 而将数据分成条带放到尽可能多的、不同的磁盘上。 下面给出了一个跨越四个磁盘驱动器的 plex 卷：</p></div><div class="literalblock programlisting"><div class=content><pre>	drive c device /dev/da5h
	drive d device /dev/da6h
	volume stripe
	plex org striped 512k
	  sd length 128m drive a
	  sd length 128m drive b
	  sd length 128m drive c
	  sd length 128m drive d</pre></div></div><div class=paragraph><p>和之前类似， 并不需要定义 Vinum 已经知道的驱动器。 在完成定义之后， 将得到如下配置：</p></div><div class="literalblock programlisting"><div class=content><pre>	Drives:         4 (4 configured)
	Volumes:        3 (4 configured)
	Plexes:         4 (8 configured)
	Subdisks:       7 (16 configured)

    D a                     State: up       Device /dev/da3h        Avail: 1421/2573 MB (55%)
    D b                     State: up       Device /dev/da4h        Avail: 1933/2573 MB (75%)
    D c                     State: up       Device /dev/da5h        Avail: 2445/2573 MB (95%)
    D d                     State: up       Device /dev/da6h        Avail: 2445/2573 MB (95%)

    V myvol                 State: up       Plexes:       1 Size:        512 MB
    V mirror                State: up       Plexes:       2 Size:        512 MB
    V striped               State: up       Plexes:       1 Size:        512 MB

    P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p0           C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p1           C State: initializing     Subdisks:     1 Size:        512 MB
    P striped.p1            State: up       Subdisks:     1 Size:        512 MB

    S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB
    S mirror.p0.s0          State: up       PO:        0  B Size:        512 MB
    S mirror.p1.s0          State: empty    PO:        0  B Size:        512 MB
    S striped.p0.s0         State: up       PO:        0  B Size:        128 MB
    S striped.p0.s1         State: up       PO:      512 kB Size:        128 MB
    S striped.p0.s2         State: up       PO:     1024 kB Size:        128 MB
    S striped.p0.s3         State: up       PO:     1536 kB Size:        128 MB</pre></div></div><div id=vinum-striped-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-striped-vol.png alt="vinum striped vol"></div><div class=title>图 6. 条带化的 Vinum 卷</div></div><div class=paragraph><p>这个卷在 <a href=#vinum-striped-vol>条带化的 Vinum 卷</a> 中给出。 条带的阴影部分， 表示在 plex 地址空间中的位置： 颜色最浅的在最前面， 而最深的在最后。</p></div></div><div class=sect2><h3 id=_高性能容在>22.6.4. 高性能容在<a class=anchor href=#_高性能容在></a></h3><div class=paragraph><p><a id=vinum-resilience></a>如果硬件足够多， 也能够构建比标准 UNIX® 分区同时提高了容灾性和性能的卷。 典型的配置文件类似：</p></div><div class="literalblock programlisting"><div class=content><pre>	volume raid10
      plex org striped 512k
        sd length 102480k drive a
        sd length 102480k drive b
        sd length 102480k drive c
        sd length 102480k drive d
        sd length 102480k drive e
      plex org striped 512k
        sd length 102480k drive c
        sd length 102480k drive d
        sd length 102480k drive e
        sd length 102480k drive a
        sd length 102480k drive b</pre></div></div><div class=paragraph><p>第二个 plex 中的子盘和第一个 plex 中的错开了两个驱动器： 这能够帮助确保即使同时访问两个驱动器， 写操作也不会同时发生在同一个盘上。</p></div><div class=paragraph><p><a href=#vinum-raid10-vol>镜像并条带化的 Vinum 卷</a> 给出了该卷的结构。</p></div><div id=vinum-raid10-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-raid10-vol.png alt="vinum raid10 vol"></div><div class=title>图 7. 镜像并条带化的 Vinum 卷</div></div></div></div></div><div class=sect1><h2 id=vinum-object-naming>22.7. 对象命名<a class=anchor href=#vinum-object-naming></a></h2><div class=sectionbody><div class=paragraph><p>如前面所描述的那样， Vinum 会给 plex 和子盘指定默认的名字， 而这些名字也是可以定制的。 不推荐修改默认的名字： 使用允许给对象任意命名的 VERITAS 卷管理器的经验证明， 这一灵活性并没有带来太多的好处， 相反， 它很容易导致对象的混淆。</p></div><div class=paragraph><p>名字中可以包括任何非空白的字符， 但一般来说， 建议只使用字母、 数字和下划线。 卷、 plex， 以及子盘的名字， 可以包含最多 64 个字符， 而驱动器的名字， 则最长可以使用 32 个字符。</p></div><div class=paragraph><p>Vinum 对象会在 <span class=filename>/dev/gvinum</span> 之下生成设备节点。 前述的配置将使 Vinum 创建以下设备节点：</p></div><div class=ulist><ul><li><p>每个卷对应的设备项。 这些是 Vinum 使用的主要设备。 因此， 前述配置包括下列设备： <span class=filename>/dev/gvinum/myvol</span>、 <span class=filename>/dev/gvinum/mirror</span>、 <span class=filename>/dev/gvinum/striped</span>、 <span class=filename>/dev/gvinum/raid5</span> 以及 <span class=filename>/dev/gvinum/raid10</span>。</p></li><li><p>所有卷的直接项都存放在 <span class=filename>/dev/gvinum/</span> 中。</p></li><li><p>目录 <span class=filename>/dev/gvinum/plex</span>， 以及 <span class=filename>/dev/gvinum/sd</span> 中相应地存放了每个 plex 以及子盘的设备节点。</p></li></ul></div><div class=paragraph><p>例如， 考虑下面的配置文件：</p></div><div class="literalblock programlisting"><div class=content><pre>	drive drive1 device /dev/sd1h
	drive drive2 device /dev/sd2h
	drive drive3 device /dev/sd3h
	drive drive4 device /dev/sd4h
    volume s64 setupstate
      plex org striped 64k
        sd length 100m drive drive1
        sd length 100m drive drive2
        sd length 100m drive drive3
        sd length 100m drive drive4</pre></div></div><div class=paragraph><p>处理这个文件之后， <a href="https://man.freebsd.org/cgi/man.cgi?query=gvinum&amp;sektion=8&amp;format=html">gvinum(8)</a> 将在 <span class=filename>/dev/gvinum</span> 中建立下面的结构：</p></div><div class="literalblock programlisting"><div class=content><pre>	drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 plex
	crwxr-xr--  1 root  wheel   91,   2 Apr 13 16:46 s64
	drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 sd

    /dev/vinum/plex:
    total 0
    crwxr-xr--  1 root  wheel   25, 0x10000002 Apr 13 16:46 s64.p0

    /dev/vinum/sd:
    total 0
    crwxr-xr--  1 root  wheel   91, 0x20000002 Apr 13 16:46 s64.p0.s0
    crwxr-xr--  1 root  wheel   91, 0x20100002 Apr 13 16:46 s64.p0.s1
    crwxr-xr--  1 root  wheel   91, 0x20200002 Apr 13 16:46 s64.p0.s2
    crwxr-xr--  1 root  wheel   91, 0x20300002 Apr 13 16:46 s64.p0.s3</pre></div></div><div class=paragraph><p>虽然 plex 和子盘一般并不推荐指定名字， 但还是必须给 Vinum 驱动器命名。 这样， 当把驱动器转移到不同的地方时， 它仍然能够被自动地识别出来。 驱动器名最长可以包含 32 个字符。</p></div><div class=sect2><h3 id=_创建文件系统>22.7.1. 创建文件系统<a class=anchor href=#_创建文件系统></a></h3><div class=paragraph><p>对于系统而言， 卷和磁盘是一样的。 唯一的例外是， 与 UNIX® 驱动器不同， Vinum 并不对卷进行分区， 因而它也就不包含分区表。 这要求修改某些磁盘工具， 特别是 <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a>， 它会试图将 Vinum 卷名当作分区标识。 例如， 磁盘驱动器的名字可能是 <span class=filename>/dev/ad0a</span> 或 <span class=filename>/dev/da2h</span>。 这些名字分别表达在第一个 (0) IDE (<span class=filename>ad</span>) 磁盘上的第一个分区 (<span class=filename>a</span>)， 以及第三个 (2) SCSI 磁盘 (<span class=filename>da</span>) 上的第八个分区 (<span class=filename>h</span>)。 而相比而言， Vinum 卷可能叫做 <span class=filename>/dev/gvinum/concat</span>， 这个名字和分区名没有什么关系。</p></div><div class=paragraph><p>要在这个卷上创建文件系统， 则需要使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a>：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs /dev/gvinum/concat</span></code></pre></div></div></div></div></div><div class=sect1><h2 id=vinum-config>22.8. 配置 Vinum<a class=anchor href=#vinum-config></a></h2><div class=sectionbody><div class=paragraph><p>在 <span class=filename>GENERIC</span> 内核中， 并不包含 Vinum。 可以编译一个定制的包含 Vinum 的内核， 然而并不推荐这样做。 启动 Vinum 的标准方法， 是使用内核模块 (kld)。 甚至不需要使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> 来启动 Vinum： 在启动 <a href="https://man.freebsd.org/cgi/man.cgi?query=gvinum&amp;sektion=8&amp;format=html">gvinum(8)</a> 时， 它会检查这一模块是否已经加载， 如果没有， 则会自动地加载它。</p></div><div class=sect2><h3 id=_启动>22.8.1. 启动<a class=anchor href=#_启动></a></h3><div class=paragraph><p>Vinum 将配置信息， 采用与配置文件一样的形式来存放到磁盘分区上。 当从配置数据库中读取时， Vinum 会识别一系列在配置文件中不可用的关键字。 例如， 磁盘配置文件可能包含下面的文字：</p></div><div class="literalblock programlisting"><div class=content><pre>volume myvol state up
volume bigraid state down
plex name myvol.p0 state up org concat vol myvol
plex name myvol.p1 state up org concat vol myvol
plex name myvol.p2 state init org striped 512b vol myvol
plex name bigraid.p0 state initializing org raid5 512b vol bigraid
sd name myvol.p0.s0 drive a plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p0.s1 drive b plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p1.s0 drive c plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p1.s1 drive d plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p2.s0 drive a plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 0b
sd name myvol.p2.s1 drive b plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 524288b
sd name myvol.p2.s2 drive c plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1048576b
sd name myvol.p2.s3 drive d plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1572864b
sd name bigraid.p0.s0 drive a plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 0b
sd name bigraid.p0.s1 drive b plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 4194304b
sd name bigraid.p0.s2 drive c plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 8388608b
sd name bigraid.p0.s3 drive d plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 12582912b
sd name bigraid.p0.s4 drive e plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 16777216b</pre></div></div><div class=paragraph><p>这里最明显的区别是， 指定了配置的位置信息、名称 (这些在配置文件中还是可用的， 但不鼓励用户自行指定) 以及状态信息 (这是用户不能指定的)。 Vinum 并不在配置信息中保存关于驱动器的信息： 它会扫描已经配置的磁盘驱动器上包含 Vinum 标识的分区。 这使得 Vinum 能够在 UNIX® 驱动器被指定了不同的 ID 时也能够正确识别它们。</p></div><div class=sect3><h4 id=vinum-rc-startup>22.8.1.1. 自动启动<a class=anchor href=#vinum-rc-startup></a></h4><div class=paragraph><p><em>Gvinum</em> 在通过 <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a> 加载了内核模块之后就能自动启动。 在启动时加载 <em>Gvinum</em> 模块， 需在 <span class=filename>/boot/loader.conf</span> 中加入 <code>geom_vinum_load="YES"</code>。</p></div><div class=paragraph><p>当使用 <code>gvinum start</code> 命令来启动 Vinum 时， Vinum 会从某一个 Vinum 驱动器中读取配置数据库。 正常情况下， 每个驱动器上都包含了同样的配置数据库副本， 因此从哪个驱动器上读取是无所谓的。 但是， 在系统崩溃之后， Vinum 就必须检测哪一个驱动器上的配置数据库是最新的， 并从上面读取配置。 如果需要， 它会更新其它驱动器上的配置。</p></div></div></div></div></div><div class=sect1><h2 id=vinum-root>22.9. 使用 Vinum 作为根文件系统<a class=anchor href=#vinum-root></a></h2><div class=sectionbody><div class=paragraph><p>如果文件系统使用完全镜像的 Vinum 配置， 有时也会希望根文件系统也作了镜像。 这种配置要比镜像其它文件系统麻烦一些， 因为：</p></div><div class=ulist><ul><li><p>根文件系统在引导过程中很早的时候就必须处于可用状态， 因此 Vinum 的基础设施在这一时刻就应该可用了。</p></li><li><p>包含根文件系统的卷， 同时也保存了系统的引导程序和内核， 因此它们必须能够被宿主系统的内建工具 (例如 PC 机的 BIOS) 识别， 而通常是没办法让它们了解 Vinum 的细节的。</p></li></ul></div><div class=paragraph><p>下面几节中， 术语 "根卷" 标识包含根文件系统的 Vinum 卷。 把这个卷命名为 <code>"root"</code> 可能是个不错的主意， 不过从技术上说， 并不严格地要求这样做。 不过， 接下来的命令例子都使用这个名字。</p></div><div class=sect2><h3 id=_及早启动_vinum_以适应对根文件系统的要求>22.9.1. 及早启动 Vinum 以适应对根文件系统的要求<a class=anchor href=#_及早启动_vinum_以适应对根文件系统的要求></a></h3><div class=paragraph><p>有许多关于它的尺度：</p></div><div class=ulist><ul><li><p>Vinum 必须在启动时可以被内核使用。 因此， 在 <a href=#vinum-rc-startup>自动启动</a> 中所介绍的方法， 也就无法适应这一任务的需要了。 在接下来的配置中， 也 <em>不能</em> 设置 <code>start_vinum</code> 参数。 第一种方法是通过将 Vinum 静态联编到内核中来实现， 这样， 它就在任何时候都可用了， 虽然一般并不需要这样。 另一种方法是通过 <span class=filename>/boot/loader</span> (<a href=../boot/#boot-loader>第三阶段，/boot/loader</a>) 来尽早加载 vinum 内核模块， 这一操作发生在内核加载之前。 这可以通过将下面的配置：</p><div class="literalblock programlisting"><div class=content><pre>geom_vinum_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>加入到 <span class=filename>/boot/loader.conf</span> 文件中来实现。</p></div></li><li><p>对 <em>Gvinum</em> 而言， 所有的启动过程都是在内核模块加载时自动进行的， 因此上面的操作， 也就是所要进行的全部工作了。</p></li></ul></div></div><div class=sect2><h3 id=_让基于_vinum_的卷在引导时可以访问>22.9.2. 让基于 Vinum 的卷在引导时可以访问<a class=anchor href=#_让基于_vinum_的卷在引导时可以访问></a></h3><div class=paragraph><p>因为目前的 FreeBSD 引导程序只有 7.5 KB 的代码， 并且已经承担了从 UFS 文件系统中读取文件 (例如 <span class=filename>/boot/loader</span>) 的重任， 因此完全没有办法再让它去分析 Vinum 配置数据中的 Vinum 结构， 并找到引导卷本身的信息。 因此， 需要一些技巧来为引导代码提供标准的 <code>"a"</code> 分区， 而它则包含了根文件系统。</p></div><div class=paragraph><p>要让这些得以实现， 根卷需要满足下面的条件：</p></div><div class=ulist><ul><li><p>根卷不能是条带卷或 RAID-5 卷。</p></li><li><p>根卷 plex 不能包含连接的子盘。</p></li></ul></div><div class=paragraph><p>需要说明的是， 使用多个 plex， 每个 plex 都复制一份根文件系统的副本， 是需要而且是可行的。 然而， 引导过程只能使用这些副本中的一个来引导系统， 直到内核最终自行挂接根文件系统为止。 这些 plex 中的每个子盘， 在这之后会有它们自己的 <code>"a"</code> 分区， 以表达每一个可以引导的设备。 每一个 <code>"a"</code> 分区， 尽管并不需要和其它包含根卷的 plex 处于各自驱动器的同一位置。 但是， 这样创建 Vinum 卷使得镜像卷相互对称， 从而能够避免了混淆。</p></div><div class=paragraph><p>为了创建每一个根卷的 <code>"a"</code> 分区， 需要完成下面的操作：</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>使用下面的命令来了解根卷成员子盘的位置 (从设备开始的偏移量) 和尺寸：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gvinum l -rv root</span></code></pre></div></div><div class=paragraph><p>需要注意的是， Vinum 偏移量和尺寸的单位是字节。 它们必须是 512 的整数倍， 才能得到 <code>bsdlabel</code> 命令所需的块号。</p></div></li><li><p>在每一个根卷成员设备上， 执行命令：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># bsdlabel -e devname</span></code></pre></div></div><div class=paragraph><p>这其中， 对于没有 slice (也就是 fdisk) 表的磁盘， <em>devname</em> 必须是磁盘的名字 (例如 <span class=filename>da0</span>)， 或者是 slice 的名字 (例如 <span class=filename>ad0s1</span>)。</p></div><div class=paragraph><p>如果设备上已经有了 <code>"a"</code> 分区 (比如说， 包含 Vinum 之前的根文件系统)， 则应改为其它的名字， 以便继续访问 (如果需要的话)， 但它并不会继续用于启动系统。 注意， 活动的分区 (类似正挂接的根文件系统) 不能被改名， 因此， 要完成这项工作， 必须从 "Fixit" 盘启动， 或者分两步操作， 并 (在镜像情形中) 首先操作那些非引导盘。</p></div><div class=paragraph><p>然后， 设备上 Vinum 分区的偏移 (如果有的话) 必须加到这个设备上根卷对应的子盘上。 其结果值， 将成为新的 <code>"a"</code> 分区的 <code>"offset"</code> 值。 这个分区的 <code>"size"</code> 值， 可以根据前面的配置计算得出。 <code>"fstype"</code> 应该是 <code>4.2BSD</code>。 <code>"fsize"</code>、 <code>"bsize"</code>， 以及 <code>"cpg"</code> 值， 则应与文件系统的实际情况匹配， 尽管在配置 Vinum 时并不重要。</p></div><div class=paragraph><p>这样， 新的 <code>"a"</code> 分区， 将创建并覆盖这一设备上的 Vinum 分区的范围。 注意， <code>bsdlabel</code> 只有在 Vinum 分区的 fstype 被标记为 <code>"vinum"</code> 时， 才允许这样做。</p></div></li><li><p>这就成了！ 所有的 <code>"a"</code> 分区现在都已存在， 而且是根卷的一份副本。 强烈建议您再次验证其结果， 方法是：</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fsck -n /dev/devnamea</span></code></pre></div></div></li></ol></div></div></div><div class=paragraph><p>务必注意， 所有包含控制信息的文件， 都必须放到 Vinum 卷上的根文件系统。 在启动新的 Vinum 根卷时， 它们可能和实际在用的根文件系统不匹配。 因此， <span class=filename>/etc/fstab</span> 和 <span class=filename>/boot/loader.conf</span> 这两个文件需要特别地注意。</p></div><div class=paragraph><p>在下次重启时， 引导程序需要从新的基于 Vinum 的根文件系统中获取适当的控制信息， 并据此工作。 在内核初始化过程的结尾部分， 在所有的设备都被宣示之后， 如果显示了下面的信息， 则表示配置成功：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Mounting root from ufs:/dev/gvinum/root</code></pre></div></div></div><div class=sect2><h3 id=_基于_vinum_的根文件系统的配置范例>22.9.3. 基于 Vinum 的根文件系统的配置范例<a class=anchor href=#_基于_vinum_的根文件系统的配置范例></a></h3><div class=paragraph><p>在 Vinum 根卷配置好之后， <code>gvinum l -rv root</code> 的输出可能类似下面的样子：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>...
Subdisk root.p0.s0:
		Size:        125829120 bytes <span class=o>(</span>120 MB<span class=o>)</span>
		State: up
		Plex root.p0 at offset 0 <span class=o>(</span>0  B<span class=o>)</span>
		Drive disk0 <span class=o>(</span>/dev/da0h<span class=o>)</span> at offset 135680 <span class=o>(</span>132 kB<span class=o>)</span>

Subdisk root.p1.s0:
		Size:        125829120 bytes <span class=o>(</span>120 MB<span class=o>)</span>
		State: up
		Plex root.p1 at offset 0 <span class=o>(</span>0  B<span class=o>)</span>
		Drive disk1 <span class=o>(</span>/dev/da1h<span class=o>)</span> at offset 135680 <span class=o>(</span>132 kB<span class=o>)</span></code></pre></div></div><div class=paragraph><p>需要注意的值是 <code>135680</code>， 也就是偏移量 (相对于 <span class=filename>/dev/da0h</span> 分区)。 这相当于 <code>bsdlabel</code> 记法中的 265 个 512-字节的磁盘块。 类似地， 根卷的尺寸是 245760 个 512-字节的磁盘块。 <span class=filename>/dev/da1h</span> 中， 包含了根卷的第二个副本， 采用了同样的配置。</p></div><div class=paragraph><p>这些设备的 bsdlabel 类似下面的样子：</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>...
8 partitions:
<span class=c>#        size   offset    fstype   [fsize bsize bps/cpg]</span>
  a:   245760      281    4.2BSD     2048 16384     0   <span class=c># (Cyl.    0*- 15*)</span>
  c: 71771688        0    unused        0     0         <span class=c># (Cyl.    0 - 4467*)</span>
  h: 71771672       16     vinum                        <span class=c># (Cyl.    0*- 4467*)</span></code></pre></div></div><div class=paragraph><p>可以看到， 伪装的 <code>"a"</code> 分区的 <code>"size"</code> 参数和前面的一样， 而 <code>"offset"</code> 参数则是 Vinum 分区 <code>"h"</code>， 以及设备中这一分区 (或 slice) 的偏移量之和。 这是一种典型的配置， 它能够避免在 <a href=#vinum-root-panic>无法启动， 引导程序发生 panic</a> 中介绍的问题。 此外， 我们也看到整个 <code>"a"</code> 分区完全处于设备上包含了 Vinum 数据的 <code>"h"</code> 分区之中。</p></div><div class=paragraph><p>注意， 在上面的配置中， 整个设备都是 Vinum 专用的， 而且没有留下 Vinum 之前的根分区， 因为它永久性地成为了新建的 Vinum 配置中的一个子盘。</p></div></div><div class=sect2><h3 id=_故障排除>22.9.4. 故障排除<a class=anchor href=#_故障排除></a></h3><div class=paragraph><p>如果遇到了问题， 则需要从中恢复的办法。 下面列出了一些常见的缺陷， 及其解决方法。</p></div><div class=sect3><h4 id=_系统的引导程序加载了_但无法启动>22.9.4.1. 系统的引导程序加载了， 但无法启动<a class=anchor href=#_系统的引导程序加载了_但无法启动></a></h4><div class=paragraph><p>如果由于某种原因系统不再继续启动， 引导程序可以在 10-秒 倒计时的时候， 按 <kbd>space</kbd> 键来停止。 加载器变量 (例如 <code>vinum.autostart</code>) 可以通过使用 <code>show</code> 命令来查看， 并使用 <code>set</code> 和 <code>unset</code> 命令来设置。</p></div><div class=paragraph><p>如果遇到的问题是由于 Vinum 的内核模块没有列入预加载的列表， 而没有正确加载， 则简单使用 <code>load geom_vinum</code> 会有所帮助。</p></div><div class=paragraph><p>此后， 可以使用 <code>boot -as</code> 来继续启动过程。 选项 <code>-as</code> 会要求内核询问所挂接的根文件系统 (<code>-a</code>)， 并使引导过程在单用户模式停止 (<code>-s</code>)， 此时根文件系统是以只读方式挂接的。 这样， 即使只挂接了多 plex 卷中的一个 plex， 也不会引致 plex 之间数据不一致的问题。</p></div><div class=paragraph><p>当提示输入要挂接的根文件系统时， 可以输入任何一个包含根文件系统的设备。 如果正确地配置了 <span class=filename>/etc/fstab</span>， 则默认的应该是类似 <code>ufs:/dev/gvinum/root</code>。 一般可以使用类似 <code>ufs:da0d</code> 这样的设备来代替它， 因为它通常包括了 Vinum 之前的根文件系统。 需要注意的是， 如果在这里输入了 <code>"a"</code> 分区， 则它可能表达的实际上是 Vinum 根设备的一个子盘， 而在镜像式配置中， 这只会挂接镜像的根设备中的一个。 如果之后将这个文件系统以读写方式挂接， 则需要从 Vinum 根卷中删去其他的 plex， 否则这些卷中可能会包含不一致的数据。</p></div></div><div class=sect3><h4 id=_只加载了主引导程序>22.9.4.2. 只加载了主引导程序<a class=anchor href=#_只加载了主引导程序></a></h4><div class=paragraph><p>如果 <span class=filename>/boot/loader</span> 加载失败， 而主引导程序加载正常 (在启动时， 屏幕最左边一列有一个旋转的线)， 则可以尝试在此时中断主引导程序的过程， 方法是按 <kbd>space</kbd> 键。 这将在引导的第二阶段暂停， 具体可以参见 <a href=../boot/#boot-boot1>第一阶段，/boot/boot1，和第二阶段， /boot/boot2</a>。 此时， 可以尝试从另一个分区， 例如原先包含根文件系统， 并不再叫作 <code>"a"</code> 的那个分区， 启动。</p></div></div><div class=sect3><h4 id=vinum-root-panic>22.9.4.3. 无法启动， 引导程序发生 panic<a class=anchor href=#vinum-root-panic></a></h4><div class=paragraph><p>这种情况一般是由于 Vinum 安装过程中破坏了引导程序造成的。 不幸的是， Vinum 目前只在分区开始的地方保留了 4 KB 的空间， 之后就开始写 Vinum 头信息了。 然而， 目前第一阶段和第二阶段的引导程序， 加上 bsdlabel 嵌入的内容则需要 8 KB。 因此， 如果 Vinum 分区从偏移量 0 开始， 而这个 slice 或磁盘能够启动， 则 Vinum 的安装将毁掉引导程序。</p></div><div class=paragraph><p>类似地， 如果从上述情形中恢复， 例如， 从 "Fixit" 盘启动， 并通过 <code>bsdlabel -B</code> 按照 <a href=../boot/#boot-boot1>第一阶段，/boot/boot1，和第二阶段， /boot/boot2</a> 中介绍的方法来恢复引导程序， 则引导程序会覆盖掉 Vinum 头， 这样 Vinum 也就找不到它的磁盘了。 尽管这并不会真的毁掉 Vinum 的配置数据， 或者 Vinum 卷上的数据， 并且可以通过输入一模一样的 Vinum 配置数据来恢复， 但从这种状况中完全恢复是非常困难的。 要真正解决问题， 必须将整个 Vinum 分区向后移动至少 4 KB， 以便使 Vinum 头和系统的引导程序不再冲突。</p></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: March 9, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/handbook/filesystems class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/zh-cn/books/handbook/virtualization class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#vinum-synopsis>22.1. 概述</a></li><li><a href=#vinum-intro>22.2. 磁盘容量太小</a></li><li><a href=#vinum-access-bottlenecks>22.3. 访问瓶颈</a></li><li><a href=#vinum-data-integrity>22.4. 数据的完整性</a></li><li><a href=#vinum-objects>22.5. Vinum 目标</a></li><li><a href=#vinum-examples>22.6. 一些例子</a></li><li><a href=#vinum-object-naming>22.7. 对象命名</a></li><li><a href=#vinum-config>22.8. 配置 Vinum</a></li><li><a href=#vinum-root>22.9. 使用 Vinum 作为根文件系统</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/zh-cn/books/handbook/handbook_zh-cn.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/zh-cn/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/zh-cn/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>简体中文</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/zh-cn class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/zh-cn/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>