<!doctype html><html class=theme-light lang=hu><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/><title>24. Fejezet - A FreeBSD frissítése és frissen tartása | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="24. Fejezet - A FreeBSD frissítése és frissen tartása"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="hu"><meta property="og:url" content="https://docs.freebsd.org/hu/books/handbook/cutting-edge/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/hu\/books\/handbook\/cutting-edge\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/hu>Documentation portal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/hu/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/hu/books>Books</a></li><li><a href=https://docs.freebsd.org/hu/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/hu/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=hu>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/preface/>Előszó</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-audience>Kiknek szánjuk ezt a könyvet</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from3>Változtatások a harmadik kiadás óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from2>Változtatások a második kiadás (2004) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes>Változtatások az elsõ kiadás (2001) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-overview>A könyv felépítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-conv>A könyvben alkalmazott konvenciók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-acknowledgements>Köszönetnyilvánítás</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/parti/>I. Rész Bevezetés</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/introduction/>1. Fejezet - Bemutatkozás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#introduction-synopsis>1.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#nutshell>1.2. Üdvözöljük a FreeBSD-ben!</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#history>1.3. A FreeBSD Projektrõl</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/install/>2. Fejezet - A FreeBSD telepítése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-synopsis>2.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-hardware>2.2. Hardverkövetelmények</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-pre>2.3. A telepítés elõtt elvégzendõ feladatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-start>2.4. A telepítés megkezdése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#using-sysinstall>2.5. A sysinstall bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-steps>2.6. Lemezterület lefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-choosing>2.7. A telepítendõ összetevõk kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-media>2.8. A telepítés eszközének kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-final-warning>2.9. A telepítés véglegesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-post>2.10. A telepítés után</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-trouble>2.11. Hibakeresés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-advanced>2.12. Telepítési útmutató haladóknak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-diff-media>2.13. Saját telepítõeszköz elkészítése</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/basics/>3. Fejezet - A UNIX alapjai</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-synopsis>3.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#consoles>3.2. Virtuális konzolok és terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#permissions>3.3. Engedélyek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#dirstructure>3.4. A könyvtárak elrendezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#disk-organization>3.5. A lemezek szervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#mount-unmount>3.6. Állományrendszerek csatlakoztatása és leválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-processes>3.7. Folyamatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-daemons>3.8. Démonok, jelzések és a futó programok leállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#shells>3.9. Parancsértelmezõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#editors>3.10. Szövegszerkesztõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-devices>3.11. Eszközök és eszközleírók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#binary-formats>3.12. Bináris formátumok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-more-information>3.13. Bõvebben olvashatunk…​</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ports/>4. Fejezet - Alkalmazások telepítése: csomagok és portok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-synopsis>4.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-overview>4.2. Az alkalmazások telepítésének összefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-finding-applications>4.3. A számunkra szükséges alkalmazások felkutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#packages-using>4.4. A csomagrendszer használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-using>4.5. A Portgyûjtemény használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-nextsteps>4.6. Telepítés utáni teendõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-broken>4.7. Teendõ a sérült portokkal</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/x11/>5. Fejezet - Az X Window System</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-synopsis>5.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-understanding>5.2. Az X áttekintése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-install>5.3. Az X11 telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-config>5.4. Az X11 beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-fonts>5.5. Betûtípusok használata az X11-ben</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-xdm>5.6. Az X bejelentkeztetõ képernyõje</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-wm>5.7. Munkakörnyezetek</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partii/>II. Rész Gyakori feladatok</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/desktop/>6. Fejezet - Asztali alkalmazások</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-synopsis>6.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-browsers>6.2. Böngészõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-productivity>6.3. Irodai eszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-viewers>6.4. Dokumentum-megjelenítõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-finance>6.5. Pénzügyi szoftverek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-summary>6.6. Összefoglalás</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/>7. Fejezet - Multimédia</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#multimedia-synopsis>7.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-setup>7.2. A hangkártya beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-mp3>7.3. MP3</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#video-playback>7.4. Videók lejátszása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#tvcard>7.5. TV kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#scanners>7.6. Lapolvasók</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/>8. Fejezet - A FreeBSD rendszermag testreszabása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. Miért készítsünk saját rendszermagot?</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-devices>8.3. A rendszerünkben levõ hardverek összeszedése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-modules>8.4. Meghajtók, alrendszerek és modulok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-building>8.5. Saját rendszermag készítése és telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-config>8.6. A konfigurációs állomány</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-trouble>8.7. Ha valamilyen hiba történne</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/printing/>9. Fejezet - Nyomtatás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-synopsis>9.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-spooler>9.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-setup>9.3. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-advanced>9.4. Magasszintû nyomtatóbeállítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-using>9.5. A nyomtatók használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-lpd-alternatives>9.6. Más nyomtatási rendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-troubleshooting>9.7. Hibakeresés</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/>10. fejezet - Bináris Linux kompatibilitás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Telepítés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-mathematica>10.3. A Mathematica® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-maple>10.4. A Maple™ telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-matlab>10.5. A MATLAB® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-oracle>10.6. Az Oracle® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#sapr3>10.7. Az SAP® R/3® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-advanced>10.8. Témák haladóknak</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiii/>III. Rész Rendszeradminisztráció</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/config/>11. Fejezet - Beállítás és finomhangolás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-synopsis>11.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-initial>11.2. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-core-configuration>11.3. A mag beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-appconfig>11.4. Az alkalmazások beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-starting-services>11.5. Szolgáltatások indítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-cron>11.6. A <code>cron</code> segédprogram beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-rcd>11.7. Az rc használata FreeBSD alatt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-network-setup>11.8. A hálózati kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-virtual-hosts>11.9. Virtuális címek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-configfiles>11.10. Konfigurációs állományok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-sysctl>11.11. Finomhangolás a sysctl használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-disk>11.12. A lemezek finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-kernel-limits>11.13. A rendszermag korlátainak finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#adding-swap-space>11.14. A lapozóterület bõvítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#acpi-overview>11.15. Energia- és erõforrásgazdálkodás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#ACPI-debug>11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/boot/>12. Fejezet - A FreeBSD rendszerindítási folyamata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-synopsis>12.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-introduction>12.2. A rendszerindítás problémája</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-blocks>12.3. A boot manager és az indulás fokozatai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-kernel>12.4. Kapcsolat a rendszermaggal a rendszerindítás folyamán</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#device-hints>12.5. Eszköz útmutatók (device.hints)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-init>12.6. Init: A folyamatirányítás elindítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-shutdown>12.7. A leállítási folyamat</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/users/>13. Fejezet - Felhasználók és hozzáférések alapvető kezelése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-synopsis>13.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-introduction>13.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-superuser>13.3. Az adminisztrátori hozzáférés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-system>13.4. Rendszerhozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-user>13.5. Felhasználói hozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-modifying>13.6. A hozzáférések módosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-limiting>13.7. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-groups>13.8. Csoportok</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/security/>14. Fejezet - Biztonság</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-synopsis>14.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-intro>14.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#securing-freebsd>14.3. A FreeBSD védelme</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#crypt>14.4. DES, Blowfish, MD5 és a Crypt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#one-time-passwords>14.5. Egyszeri jelszavak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#tcpwrappers>14.6. A TCP kapcsolatok burkolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberosIV>14.7. KerberosIV</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberos5>14.8. Kerberos5</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssl>14.9. OpenSSL</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#ipsec>14.10. VPN IPsec felett</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssh>14.11. OpenSSH</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#fs-acl>14.12. Az állományrendszerek hozzáféréseit vezérlõ listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-portaudit>14.13. A külsõ programok biztonsági problémáinak figyelése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-advisories>14.14. A FreeBSD biztonsági figyelmeztetései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-accounting>14.15. A futó programok nyilvántartása</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/jails/>15. Fejezet - A jail alrendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-synopsis>15.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-terms>15.2. A jail alrendszerhez kapcsolódó fogalmak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-intro>15.3. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-build>15.4. A jailek létrehozása és vezérlése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-tuning>15.5. Finomhangolás és karbantartás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-application>15.6. A jailek alkalmazása</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mac/>16. Fejezet - Kötelező hozzáférés-vezérlés (MAC)</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-synopsis>16.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-inline-glossary>16.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-initial>16.3. A MAC ismertetése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-understandlabel>16.4. Bõvebben a MAC címkéirõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-planning>16.5. A védelem megtervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-modules>16.6. A modulok beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-seeotheruids>16.7. A seeotheruids MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-bsdextended>16.8. A bsdextended MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-ifoff>16.9. Az ifoff MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-portacl>16.10. A portacl MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-partition>16.11. A partition MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-mls>16.12. A többszintû biztonsági MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-biba>16.13. A Biba MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-lomac>16.14. A LOMAC MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-implementing>16.15. A Nagios elzárása a MAC rendszerrel</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-userlocked>16.16. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-troubleshoot>16.17. A hibák elhárítása a MAC rendszerben</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/audit/>17. Fejezet - Biztonsági események vizsgálata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-synopsis>17.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-inline-glossary>17.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-install>17.3. A vizsgálat támogatásának telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-config>17.4. A vizsgálat beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-administration>17.5. A vizsgálati alrendszer használata</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/disks/>18. Fejezet - Háttértárak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-synopsis>18.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-naming>18.2. Az eszközök elnevezései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-adding>18.3. Lemezek hozzáadása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#raid>18.4. RAID</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#usb-disks>18.5. USB tárolóeszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-cds>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-dvds>18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#floppies>18.8. Hajlékonylemezek létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-tapebackups>18.9. Szalagok létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-floppybackups>18.10. Biztonsági mentés hajlékonylemezekre</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-strategies>18.11. Mentési stratégiák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-basics>18.12. Alapvetõ tudnivalók a biztonsági mentésrõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-virtual>18.13. Hálózat, memória és állomány alapú állományrendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#snapshots>18.14. Az állományrendszerek pillanatképei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#quotas>18.15. Az állományrendszerek kvótái</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-encrypting>18.16. A lemezpartíciók titkosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#swap-encrypting>18.17. A lapozóterület titkosítása</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/geom/>19. Fejezet - GEOM: A moduláris lemezszervező rendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-synopsis>19.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-intro>19.2. A GEOM bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-striping>19.3. RAID0 - Csíkozás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-mirror>19.4. RAID1 - Tükrözés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-ggate>19.5. Eszközök hálózati illesztése a GEOM-ban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-glabel>19.6. A lemezes eszközök címkézése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-gjournal>19.7. Naplózó UFS GEOM-on keresztül</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/>20. Fejezet - Támogatott állományrendszerek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-synopsis>20.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-zfs>20.2. A Z állományrendszer (ZFS)</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/vinum/>21. Fejezet - A Vinum kötetkezelő</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-synopsis>21.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-intro>21.2. Kicsik a lemezeink</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-access-bottlenecks>21.3. A hozzáférési idõk szûk keresztmetszetei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-data-integrity>21.4. Adatintegritás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-objects>21.5. A Vinum objektumai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-examples>21.6. Példák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-object-naming>21.7. Az objektumok elnevezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-config>21.8. A Vinum beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-root>21.9. Rendszerindítás Vinum-kötetrõl</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/>22. Fejezet - Virtualizáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-synopsis>22.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-guest>22.2. A FreeBSD mint vendég</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-host>22.3. A FreeBSD mint gazda</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/l10n/>23. Fejezet - Honosítás - Az I18N/L10N használata és beállítása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-synopsis>23.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-basics>23.2. Az alapok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#using-localization>23.3. A honosítás használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-compiling>23.4. I18N programok fordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#lang-setup>23.5. A FreeBSD honosítása adott nyelvekre</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle checked>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/>24. Fejezet - A FreeBSD frissítése és frissen tartása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-synopsis>24.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>24.2. A FreeBSD frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-portsnap>24.3. A Portgyûjtemény frissítése a Portsnap használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-documentation>24.4. A dokumentáció frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#current-stable>24.5. A fejlesztõi ág követése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#synching>24.6. A forrás szinkronizálása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#makeworld>24.7. Az alaprendszer újrafordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#small-lan>24.8. A források követése több géppel</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/>25. Fejezet - DTrace</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-synopsis>25.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-implementation>25.2. Eltérések az implementációban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-enable>25.3. A DTrace támogatásának engedélyezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-using>25.4. A DTrace használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-language>25.5. A D nyelv</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiv/>IV. Rész Hálózati kommunikáció</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/>26. Fejezet - Soros vonali kommunikáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial-synopsis>26.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial>26.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#term>26.3. Terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialup>26.4. Betárcsázós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialout>26.5. A betárcsázós szolgáltatások használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serialconsole-setup>26.6. A soros vonali konzol beállítása</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/>27. Fejezet - A PPP és a SLIP</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#userppp>27.2. A felhasználói PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp>27.3. A rendszerszintû PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.4. PPP kapcsolatok hibaelhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoe>27.5. A PPP használata Ethernet felett (PPPoE)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoa>27.6. PPP ATM felett (PPPoA)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#slip>27.7. A SLIP használata</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mail/>28. Fejezet - Elektronikus levelezés</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-synopsis>28.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-using>28.2. Az elektronikus levelezés használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#sendmail>28.3. A sendmail beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-changingmta>28.4. A levéltovábbító ügynök megváltoztatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-trouble>28.5. A hibák elhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-advanced>28.6. Komolyabb témák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-UUCP>28.7. SMTP és az UUCP</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#outgoing-only>28.8. Csak küldés beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-dialup>28.9. Levelezés betárcsázós kapcsolattal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-Auth>28.10. Az SMTP hitelesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-agents>28.11. Levelezõ kliensek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-fetchmail>28.12. A fetchmail használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-procmail>28.13. A procmail használata</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/>29. Fejezet - Hálózati szerverek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-servers-synopsis>29.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-inetd>29.2. Az inetd"szuperszerver"</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nfs>29.3. A hálózati állományrendszer (NFS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nis>29.4. Hálózati információs rendszer (NIS/YP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dhcp>29.5. A hálózat automatikus beállítása (DHCP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dns>29.6. Névfeloldás (DNS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-apache>29.7. Az Apache webszerver</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ftp>29.8. Állományok átvitele (FTP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-samba>29.9. Állomány- és nyomtatási szolgáltatások Microsoft® Windows® kliensek számára (Samba)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ntp>29.10. Az órák egyeztetése az NTP használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-syslogd>29.11. Távoli gépek naplózása <code>syslogd</code> használatával</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/>30. Fejezet - Tűzfalak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-intro>30.1. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-concepts>30.2. Röviden a tûzfalakról</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-apps>30.3. Tûzfalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-pf>30.4. Az OpenBSD csomagszûrõje (PF) és az ALTQ</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipf>30.5. Az IPFILTER (IPF) tûzfal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipfw>30.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/>31. Fejezet - Egyéb haladó hálózati témák</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-routing>31.2. Átjárók és az útválasztás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-wireless>31.3. Vezeték nélküli hálózatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bluetooth>31.4. Bluetooth</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bridging>31.5. Hálózati hidak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-aggregation>31.6. Linkek összefûzése és hibatûrése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-diskless>31.7. Lemez nélküli mûködés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-isdn>31.8. ISDN</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-natd>31.9. Hálózati címfordítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-plip>31.10. Párhuzamos vonali IP (PLIP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-ipv6>31.11. Az IPv6</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-atm>31.12. Az Aszinkron adatátviteli mód (ATM)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#carp>31.13. A Közös cím redundancia protokoll (CARP)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partv/>V. Rész Függelék</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/>A. Függelék - A FreeBSD beszerzése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-cdrom>A.1. CD és DVD kiadók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-ftp>A.2. FTP oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#anoncvs>A.3. Anonim CVS</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#ctm>A.4. A CTM használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvsup>A.5. A CVSup használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvs-tags>A.6. CVS címkék</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-afs>A.7. AFS oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-rsync>A.8. Rsync oldalak</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/>B. függelék - Irodalomjegyzék</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-freebsd>B.1. A FreeBSD-rõl szóló könyvek és folyóiratok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-userguides>B.2. Felhasználói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-adminguides>B.3. Rendszeradminisztrátori kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-programmers>B.4. Programozói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-osinternals>B.5. Az operációs rendszerek belsõ mûködésérõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-security>B.6. Biztonságról szóló írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-hardware>B.7. Hardverrel foglalkozó írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-history>B.8. UNIX® történelem</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-journals>B.9. Magazinok és folyóiratok</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/eresources/>C. Függelék - Források az interneten</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-mail>C.1. Levelezési listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-news>C.2. Usenet hírcsoportok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-web>C.3. Világhálós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-email>C.4. E-mail címek</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/>D. Függelék - PGP-kulcsok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Tisztségviselők</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>24. Fejezet - A FreeBSD frissítése és frissen tartása</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#updating-upgrading-synopsis>24.1. Áttekintés</a></li><li><a href=#updating-upgrading-freebsdupdate>24.2. A FreeBSD frissítése</a></li><li><a href=#updating-upgrading-portsnap>24.3. A Portgyûjtemény frissítése a Portsnap használatával</a></li><li><a href=#updating-upgrading-documentation>24.4. A dokumentáció frissítése</a></li><li><a href=#current-stable>24.5. A fejlesztõi ág követése</a></li><li><a href=#synching>24.6. A forrás szinkronizálása</a></li><li><a href=#makeworld>24.7. Az alaprendszer újrafordítása</a></li><li><a href=#small-lan>24.8. A források követése több géppel</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=updating-upgrading-synopsis>24.1. Áttekintés<a class=anchor href=#updating-upgrading-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD a kiadások közt is állandó fejlõdésben van. Vannak felhasználók, akik a hivatalosan kiadott változatokat használják, és vannak, akik szeretik folyamatosan nyomonkövetni a fejlesztéseket. Emellett viszont a hivatalos kiadások esetében szükség lehet bizonyos biztonsági frissítések és kritikus javítások alkalmazására. Függetlenül a pillanatnyilag használt változattól, a FreeBSD alaprendszerében megtalálható minden olyan eszköz, amellyel könnyedén frissíteni tudunk a különbözõ verziók között. Ebben a fejezetben segítünk dönteni a fejlesztõi változat és a kiadások használata között. Továbbá megismerhetjük a rendszer frissítéséhez használható alapvetõ eszközöket.</p></div><div class=paragraph><p>A fejezet elolvasása során megismerjük:</p></div><div class=ulist><ul><li><p>milyen segédprogramokkal tudjuk frissíteni az alaprendszert és a Portgyûjteményt;</p></li><li><p>hogyan tartsuk naprakészen rendszerünket a freebsd-update, CVSup, CVS vagy CTM használatával;</p></li><li><p>hogyan vessük össze a telepített rendszerünk aktuális állapotát egy ismert eredeti változattal;</p></li><li><p>hogyan frissítsük a dokumentációt CVSup vagy dokumentációs portok segítségével.</p></li><li><p>a két fejlesztõi ág, a FreeBSD-STABLE és a FreeBSD-CURRENT közti különbséget;</p></li><li><p>a <code>make buildworld</code> (stb.) segítségével hogyan fordítsuk és telepítsük újra az egész alaprendszert.</p></li></ul></div><div class=paragraph><p>A fejezet elolvasásához ajánlott:</p></div><div class=ulist><ul><li><p>a hálózati kapcsolatunk helyes beállítása (<a href=../advanced-networking/#advanced-networking>Egyéb haladó hálózati témák</a>);</p></li><li><p>a külsõ szoftverek telepítésének ismerete (<a href=../ports/#ports>Alkalmazások telepítése. csomagok és portok</a>).</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A fejezetben a FreeBSD forrásainak frissítését a <code>cvsup</code> parancs segítségével fogjuk elvégezni. Ehhez telepítsük a <a class=package href=https://cgit.freebsd.org/ports/tree/net/cvsup/>net/cvsup</a> portot vagy csomagot (ha a <code>cvsup</code> parancsot nem akarjuk grafikus felületen keresztül használni, akkor elegendõ csak a <span class=filename>net/cvsup-without-gui</span> portot). Ha a FreeBSD 6.2-RELEASE vagy késõbbi változatával rendelkezünk, akkor elegendõ csak az alaprendszer részeként elérhetõ <a href="https://man.freebsd.org/cgi/man.cgi?query=csup&amp;sektion=1&amp;format=html">csup(1)</a> programot használnunk.</p></div></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=updating-upgrading-freebsdupdate>24.2. A FreeBSD frissítése<a class=anchor href=#updating-upgrading-freebsdupdate></a></h2><div class=sectionbody><div class=paragraph><p>A biztonsági javítások telepítése minden számítógépes szoftver, különösen az operációs rendszerek számára lényeges mozzanat. Nagyon hosszú ideig ez a FreeBSD esetében nem volt könnyen megoldható: a javításokat közvetlenül a forráskódon kellett elvégezni, ezekbõl újrafordítani a rendszert, majd telepíteni.</p></div><div class=paragraph><p>Ez a nehézség mostanra viszont már elhárult, mivel a FreeBSD legfrissebb verziói már tartalmaznak egy <code>freebsd-update</code> nevû segédprogramot, amellyel mindez leegyszerûsödik. Ez a program két külön funkciót lát el. Elõször is, lehetõvé teszi, hogy a FreeBSD alaprendszer újrafordítása és -telepítése nélkül javítsunk biztonsági és egyéb apró hibákat, valamint másodsorban támogatja a kisebb és nagyobb verziójú kiadások közti váltást.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ezek a bináris frissítések azonban csak a FreeBSD biztonsági csapata által is felügyelt architektúrák és kiadások esetén érhetõek el. Emellett bizonyos lehetõségek használatához, például a FreeBSD verziói közti átállás támogatásához a <a href="https://man.freebsd.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8&amp;format=html">freebsd-update(8)</a> legújabb változata szükségeltetik. Ezért ne felejtsük el alaposan átolvasni a legújabb kiadásokról szóló bejelentéseket mielõtt frissítenénk rájuk, mivel ezzel kapcsolatban fontos információkat tartalmazhatnak. Az említett bejelentések a <a href=http://www.FreeBSD.org/releases/>http://www.FreeBSD.org/releases/</a> címen érhetõek el.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ha a <code>crontab</code> már hivatkozik a <code>freebsd-update</code> programra, akkor a most következõ mûvelet elkezdése elõtt tiltsuk le.</p></div><div class=sect2><h3 id=freebsdupdate-config-file>24.2.1. A konfigurációs állományok<a class=anchor href=#freebsdupdate-config-file></a></h3><div class=paragraph><p>Ha változtatnénk szeretnénk a frissítési folyamaton, ekkor a programhoz tartozó, <span class=filename>/etc/freebsd-update.conf</span> nevû konfigurációs állományt kell módosítanunk. Az opciók részletes ismertetéssel rendelkeznek, habár némelyiknél még további magyarázat kellhet:</p></div><div class="literalblock programlisting"><div class=content><pre># Az alaprendszerben frissíteni kívánt komponensek
Components src world kernel</pre></div></div><div class=paragraph><p>Ezzel a paraméterrel határozhatjuk meg, hogy a FreeBSD mely részei kerüljenek frissítésre. Alapértelmezés szerint a program frissíti a forrásokat, a teljes alaprendszert és a rendszermagot. Komponensként a telepítésnél választható elemeket adhatjuk meg, például "world/games" hozzáadásakor a games kategória elemei is folyamatosan frissülni fognak. Az "src/bin" megadásakor pedig az <span class=filename>src/bin</span> könyvtár tartalma frissül.</p></div><div class=paragraph><p>Ezt a beállítást a legjobb meghagyni az alapértelmezett értéken, mivel a további elemek megadásánál egyenként fel kell sorolni a frissítendõ komponenseket. Ha itt viszont kifelejtünk valamit, akkor könnyen megeshet, hogy a források és a binárisok verziója elcsúszik egymástól.</p></div><div class="literalblock programlisting"><div class=content><pre># Az IgnorePaths beállítás után megadott szövegre illeszkedõ összes
# bejegyzés frissítése kimarad
IgnorePaths</pre></div></div><div class=paragraph><p>Ennél a beállításnál azokat a könyvtárakat kell megadnunk, amelyeket (és tartalmukat) ki szeretnénk hagyni a frissítés során. Ezek lehetnek például a <span class=filename>/bin</span> vagy az <span class=filename>/sbin</span>. Így meg tudjuk akadályozni, hogy <code>freebsd-update</code> esetleg felülírjon valamilyen helyi változtatást a rendszerünkben.</p></div><div class="literalblock programlisting"><div class=content><pre># Az UpdateIfUnmodified beállítás után megadott elérési útvonalakon csak
# a felhasználó által még nem módosított állományok fognak frissülni
# (hacsak a módosításokat össze nem fésüljük, lásd lentebb)
UpdateIfUnmodified /etc/ /var/ /root/ /.cshrc /.profile</pre></div></div><div class=paragraph><p>A megadott könyvtárakban csak azokat a konfigurációs állományokat fogja frissíteni, amelyeket nem változtattuk meg. Amennyiben bármelyikük eltér az eredetileg frissítendõ változattól, azt a program nem módosítja. Létezik egy másik hasonló beállítás, a <code>KeepModifiedMetadata</code>, amely hatására a <code>freebsd-update</code> az összefésülés során elmenti a változtatásokat.</p></div><div class="literalblock programlisting"><div class=content><pre># A MergeChanges beállításnál szereplõ állományok helyi módosításait
# automatikusan összefésüljük a FreeBSD újabb verziójára frissítése közben
MergeChanges /etc/ /var/named/etc/</pre></div></div><div class=paragraph><p>Itt azokat a könyvtárakat adhatjuk meg, amelyekben a <code>freebsd-update</code> számára engedélyezzük a konfigurációs állományok új verziójának összefésülését a jelenlegi állapottal. Az összefésülés lényegében a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> használatánál már megszokott módon, <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> formátumban érkezõ módosítások sorozata alapján történik. Ekkor egy szövegszerkesztõ segítségével felügyelhetjük az összefésülés menetét vagy megállíthatjuk a <code>freebsd-update</code> futását. Ha kétségeink adódnak, akkor egyszerûen mentsük le az <span class=filename>/etc</span> könyvtárat és fogadjuk el mindegyik összefésülés eredményét. A <code>mergemaster</code> mûködésérõl a <a href=#mergemaster>A <code>mergemaster</code></a> ad részletesebb tájékoztatást.</p></div><div class="literalblock programlisting"><div class=content><pre># A FreeBSD frissítésekor ezt a könyvtárat fogja a program használni a
# letöltött módosítások és az egyéb ideiglenes állományok tárolására
# WorkDir /var/db/freebsd-update</pre></div></div><div class=paragraph><p>Az itt megadott könyvtárba fognak kerülni az elvégzendõ módosítások és az egyéb ideiglenesen keletkezõ állományok. A verziók közti váltás során ebben a könyvtárban ajánlott legalább 1 GB szabad tárterületnek lennie.</p></div><div class="literalblock programlisting"><div class=content><pre># A kiadások közti váltás során a Components beállításnál megadott
# elemek kerüljenek csak frissítésre (StrictComponents yes), vagy a
# program próbálja meg magától kitalálni, hogy milyen komponesek
# *lehetnek* fenn a rendszeren és azokat frissítse (StrictComponents
# no)?
# StrictComponents no</pre></div></div><div class=paragraph><p>Ha ennél a beállításnál a <code>yes</code> értéket adjuk meg, akkor a <code>freebsd-update</code> feltételezni fogja, hogy a <code>Components</code> opciónál felsoroltunk minden frissítendõ komponenst és nem próbál meg mást is megváltoztatni. Ilyenkor tehát a <code>freebsd-update</code> tulajdonképpen egyedül csak a <code>Components</code> által meghatározott elemekhez tartozó állományokat fogja frissíteni.</p></div></div><div class=sect2><h3 id=freebsdupdate-security-patches>24.2.2. Biztonsági javítások<a class=anchor href=#freebsdupdate-security-patches></a></h3><div class=paragraph><p>A biztonsági javítások mindig egy távoli gépen tárolódnak, a következõ parancsok használatával tölthetõek le és telepíthetõek:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update fetch</span>
<span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>Amennyiben a rendszermagot is érintik javítások, úgy a rendszert a mûvelet befejezõdésével újra kell indítanunk. Ha minden a megfelelõ módon történt, akkor a rendszerünk már tartalmazni fogja a korábban letöltött és telepített javításokat, és a <code>freebsd-update</code> akár beállítható egy naponta végrehajtandó <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> feladatnak. Ehhez mindössze a következõ bejegyzést kell elhelyeznünk az <span class=filename>/etc/crontab</span> állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>@daily                                  root    freebsd-update cron</pre></div></div><div class=paragraph><p>A bejegyzés szerint naponta egyszer le fog futni a <code>freebsd-update</code>. Ilyenkor, vagyis a <code>cron</code> paraméter megadásakor a <code>freebsd-update</code> csak ellenõrzi, hogy vannak-e telepítendõ frissítések. Ha talál, akkor automatikusan letölti ezeket a lemezre, de nem telepíti. Helyette levélben értesíti a <code>root</code> felhasználót, aki ezután bármikor manuálisan kérheti a telepítést.</p></div><div class=paragraph><p>Probléma esetén az alábbi paranccsal megkérhetjük a <code>freebsd-update</code> programot a legutóbb telepített módosítások visszavonására:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update rollback</span></code></pre></div></div><div class=paragraph><p>Ha ez a visszavonás a rendszermagra vagy annak moduljaira is vonatkozott, akkor a rendszert újra kell indítanunk a parancs futásának befejezõdésével. A FreeBSD csak ilyenkor képes betölteni az új binárisokat betölteni a memóriába.</p></div><div class=paragraph><p>A <code>freebsd-update</code> önmagától csak a <code>GENERIC</code> típusú rendszermagokat képes frissíteni. Ha saját rendszermagot használunk, akkor azt a rendszer többi komponensének frissítését követõen újra kell fordítanunk és telepítenünk. A <code>freebsd-update</code> azonban még akkor is érzekelni és frissíteni fogja a <code>GENERIC</code> rendszermagot (amennyiben az létezik), ha az éppen nem az aktuális(an futó) rendszermag.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Mindig érdemes tartani egy másolatot a <code>GENERIC</code> rendszermagról a <span class=filename>/boot/GENERIC</span> könyvtárban. Rengeteg különbözõ probléma felderítésében tud segíteni, illetve ez a <a href=#freebsdupdate-upgrade>Váltás kisebb és nagyobb verziók között</a> szakaszban leírt <code>freebsd-update</code> programmal végzett frissítéseknél is hasznos lehet.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Hacsak nem változtatjuk meg az <span class=filename>/etc/freebsd-update.conf</span> állományt, a <code>freebsd-update</code> a rendszermag forrásait is frissíti a többivel együtt. A saját rendszermag újrafordítása és telepítése ezután a már a megszokott módon elvégezhetõ.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A <code>freebsd-update</code> által terjesztett frissítések nem mindig érintik a rendszermagot. Ha a rendszermag forrásai nem változnak egy <code>freebsd-update install</code> parancs kiadása során, akkor nem kötelezõ újrafordítani a saját rendszermagot. A <code>freebsd-update</code> viszont mindig módosítani fogja a <span class=filename>/usr/src/sys/conf/newvers.sh</span> állományt. Itt az aktuális hibajavítás sorszáma szerepel (amelyet a <code>-p</code> (mint "patch level" elõtaggal kapcsolnak a rendszer verziójához, és a <code>uname -r</code> paranccsal lehet lekérdezni). Ennek megfelelõen tehát a saját rendszermag újrafordítása után, még ha semmi más nem is változott, a <a href="https://man.freebsd.org/cgi/man.cgi?query=uname&amp;sektion=1&amp;format=html">uname(1)</a> képes pontosan jelezni a rendszerhez készült hibajavítás sorszámát. Ez különösen fontos több rendszer karbantartása során, mivel így könnyen és gyorsan tájékozódhatunk azok naprakészségérõl.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=freebsdupdate-upgrade>24.2.3. Váltás kisebb és nagyobb verziók között<a class=anchor href=#freebsdupdate-upgrade></a></h3><div class=paragraph><p>Verziók közti váltás során a külsõ alkalmazások mûkõdését akadályozó régi tárgykódok és függvénykönyvtárak törlõdni fognak. Ezért javasoljuk, hogy vagy töröljük le az összes portot és telepítsük újra, vagy az alaprendszer frissítése után hozzuk ezeket is naprakész állapotba a <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> segédprogram segítségével. Elõször minden bizonnyal szeretnék kipróbálni a frissítést, ezt a következõ paranccsal tehetjük meg:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -af</span></code></pre></div></div><div class=paragraph><p>Ezzel gondoskodunk róla, hogy a minden a megfelelõen telepítõdjön újra. Ha a <code>BATCH</code> környezeti változót a <code>yes</code> értékre állítjuk, akkor a folyamat során megjelenõ összes kérdésre automatikusan a <code>yes</code> választ adjuk, ezáltal önállósítani tudjuk.</p></div><div class=paragraph><p>Ha saját rendszermagot használunk, akkor ennél valamivel azért több feladatunk van. Szükségünk lesz a <code>GENERIC</code> rendszermagot egy példányára, amelyet másoljunk a <span class=filename>/boot/GENERIC</span> könyvtárba. Amennyiben nincs <code>GENERIC</code> típusú rendszermag a rendszerünkön, a következõ módok valamelyikén keresztül tudunk szerezni:</p></div><div class=ulist><ul><li><p>Ha a saját rendszermagot még csak egyszer fordítottuk, akkor a <span class=filename>/boot/kernel.old</span> könyvtárban még megtalálható a <code>GENERIC</code>. Ezt nevezzük át egyszerûen <span class=filename>/boot/GENERIC</span> könyvtárra.</p></li><li><p>Ha fizikailag hozzá tudunk férni az érintett géphez, akkor a <code>GENERIC</code> egy példányát akár CD-rõl is átmásolhatjuk. Helyezzük be a telepítõlemezt és adjuk ki a következõ parancsokat:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /cdrom</span>
<span class=c># cd /cdrom/X.Y-RELEASE/kernels</span>
<span class=c># ./install.sh GENERIC</span></code></pre></div></div><div class=paragraph><p>Itt a <span class=filename>X.Y-RELEASE</span> könyvtár nevében értelemszerûen helyettesítsük be az általunk használt változatot. A <code>GENERIC</code> rendszermag ekkor alapértelmezés szerint a <span class=filename>/boot/GENERIC</span> könyvtárba kerül.</p></div></li><li><p>Ha az elõbbiek közül egyik sem lehetséges, akkor a <code>GENERIC</code> rendszermagot közvetlenül akár forrásból is lefordíthatjuk és telepíthetjük:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># env DESTDIR=/boot/GENERIC make kernel</span>
<span class=c># mv /boot/GENERIC/boot/kernel/* /boot/GENERIC</span>
<span class=c># rm -rf /boot/GENERIC/boot</span></code></pre></div></div><div class=paragraph><p>A <code>freebsd-update</code> akkor fogja ezt <code>GENERIC</code> rendszermagként felismerni, ha a hozzá tartozó konfigurációs állományt nem módosítjuk. Továbbá javasoljuk, hogy semmilyen speciális beállítást ne alkalmazzunk a fordítás során (érdemes üresen hagyni ehhez az <span class=filename>/etc/make.conf</span> állományt).</p></div></li></ul></div><div class=paragraph><p>Nem kötelezõ újraindítani a rendszert a <code>GENERIC</code> rendszermaggal.</p></div><div class=paragraph><p>A <code>freebsd-update</code> képes frissíteni rendszerünket egy adott kiadásra. Például a következõ paraméterek megadásával válthatunk a FreeBSD 6.4 használatára:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update -r 6.4-RELEASE upgrade</span></code></pre></div></div><div class=paragraph><p>A parancs elindulása után nem sokkal, a váltáshoz szükséges információk összegyûjtéséhez a <code>freebsd-update</code> elemzi a konfigurációs állományában megadott beállításokat és a rendszer jelenleg használt verzióját. A képernyõn ekkor sorban megjelennek a program részérõl érzékelt és nem érzékelt komponensek. Mint például ahogy itt látható:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Looking up update.FreeBSD.org mirrors... 1 mirrors found.
Fetching metadata signature <span class=k>for </span>6.3-RELEASE from update1.FreeBSD.org... <span class=k>done</span><span class=nb>.</span>
Fetching metadata index... <span class=k>done</span><span class=nb>.</span>
Inspecting system... <span class=k>done</span><span class=nb>.</span>

The following components of FreeBSD seem to be installed:
kernel/smp src/base src/bin src/contrib src/crypto src/etc src/games
src/gnu src/include src/krb5 src/lib src/libexec src/release src/rescue
src/sbin src/secure src/share src/sys src/tools src/ubin src/usbin
world/base world/info world/lib32 world/manpages

The following components of FreeBSD <span class=k>do </span>not seem to be installed:
kernel/generic world/catpages world/dict world/doc world/games
world/proflibs

Does this look reasonable <span class=o>(</span>y/n<span class=o>)</span>? y</code></pre></div></div><div class=paragraph><p>Ekkor a <code>freebsd-update</code> megpróbálja letölteni a verziók közti váltáshoz szükséges összes állományt. Bizonyos esetekben kérdésekkel fordul a felhasználó felé arra vonatkozóan, hogy miket telepítsen fel vagy mit csináljon.</p></div><div class=paragraph><p>A saját rendszermag használatakor az iménti lépés valamilyen ehhez hasonló figyelmeztetést fog adni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>WARNING: This system is running a <span class=s2>&#34;SAJÁT RENDSZERMAG&#34;</span> kernel, which is not a
kernel configuration distributed as part of FreeBSD 6.3-RELEASE.
This kernel will not be updated: you MUST update the kernel manually
before running <span class=s2>&#34;/usr/sbin/freebsd-update install&#34;</span></code></pre></div></div><div class=paragraph><p>Ez a figyelmeztetés most nyugodtan figyelmen kívül hagyható. A folyamat során a frissített <code>GENERIC</code> rendszermagot fogjuk használni.</p></div><div class=paragraph><p>A javítások letöltését követõen megkezdõdik a telepítésük. A váltás ezen lépése az adott gép aktuális terhelésétõl és sebességétõl függõen változó hosszúságú lehet. Ezután a konfigurációs állományok összefésülése zajlik le - itt általában a emberi felügyeletre is szükség van az állományok összefésülésének irányításához, amelynek folyamatosan láthatóak az eredményei. A meghiúsult vagy kihagyott összefésülések a teljes frissítési folyamat leállását vonják maguk után. Az <span class=filename>/etc</span> könyvtárban tárolt fontosabb állományokról, mint például a <span class=filename>master.passwd</span> vagy <span class=filename>group</span> javasolt elõzetesen biztonsági mentést készíteni és késõbb kézzel hozzájuk adni a változtatásaikat.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A rendszerben ekkor még nem lesz jelen semmilyen konkrét változás, az összes említett javítás és összefésülés egy külön könyvtárban történik. A telepített javításokat és az összefésült konfigurációs állományokat a folyamat végén magának a felhasználónak kell véglegesíteni.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A frissítési eljárás végén a következõ parancs kiadásával tudjuk ténylegesen érvényesíteni az eddig elvégzett módosításokat:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>Elõször mindig a rendszermag és a hozzá tartozó modulok cserélõdnek le. Ahogy ez végrehajtódott, újra kell indítanunk a rendszert. Ha saját rendszermagot használunk, akkor a <a href="https://man.freebsd.org/cgi/man.cgi?query=nextboot&amp;sektion=8&amp;format=html">nextboot(8)</a> parancs segítségével állítsuk be a következõ rendszerindítás során betöltendõ rendszermagot a <span class=filename>/boot/GENERIC</span> könyvtárban levõre (ezt frissítettük):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># nextboot -k GENERIC</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Mielõtt újraindítanánk a gépünket a <code>GENERIC</code> rendszermaggal, gyõzõdjünk meg róla, hogy szerepel benne minden olyan meghajtó, amely elengedhetetlen a rendszer hiánytalan indításához (és képes lesz újra csatlakozni a hálózathoz, ha éppen távolról adminisztráljuk). Ez különösen olyan esetben fontos, amikor a saját rendszermagunkban beépítetten szerepeltek bizonyos modulok. Ilyenkor a <code>GENERIC</code> rendszermag használatakor ezeket a <span class=filename>/boot/loader.conf</span> állományon keresztül töltethetjük be ideiglenesen. A frissítés befejezéséig érdemes viszont minden nem létfontosságú szolgáltatást leállítani, leválasztani lemezeket és hálózati megosztásokat stb.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A rendszerünk most már újraindítható a frissített rendszermaggal:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown -r now</span></code></pre></div></div><div class=paragraph><p>A rendszer sikeres újraindulása után ismét el kell indítanunk a <code>freebsd-update</code> programot, amely korábban már elmentette a frissítés állapotát, emiatt a legutóbbi pontról fog folytatódni, illetve törli az osztott könyvtárak és tárgykódok régebbi változatait. Innen az alábbi paranccsal léphetünk tovább:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A függvénykönyvtárak verziói közti eltérések mértékétõl függõen elképzelhetõ, hogy a telepítés az említett három fázis helyett kettõben történik.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Most pedig újra kell fordítanunk vagy telepítenünk az összes általunk korábban használt külsõ alkalmazást. Erre azért van szükségünk, mert bizonyos alkalmazások a verziók közti váltás során törölt programkönyvtáraktól függtek. Ennek automatizálásában a <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> lesz segítségünkre. Az alkalmazások frissítésének elindításához a következõ parancsokat használjuk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -f ruby</span>
<span class=c># rm /var/db/pkg/pkgdb.db</span>
<span class=c># portupgrade -f ruby18-bdb</span>
<span class=c># rm /var/db/pkg/pkgdb.db /usr/ports/INDEX-*.db</span>
<span class=c># portupgrade -af</span></code></pre></div></div><div class=paragraph><p>A parancsok lefutását követõen a <code>freebsd-update</code> utolsó hívásával zárjuk le a frissítést. Ezzel a paranccsal tudunk tehát pontot tenni a frissítési procedúra végére:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update install</span></code></pre></div></div><div class=paragraph><p>Ha a <code>GENERIC</code> rendszermagot csak átmenetileg használtuk, akkor most már a megszokott módon fordíthatunk és telepíthetünk magunk egy saját rendszermagot.</p></div><div class=paragraph><p>Indítsuk újra a rendszert a FreeBSD frissített változatával. A folyamat ezzel véget ért.</p></div></div><div class=sect2><h3 id=freebsdupdate-system-comparison>24.2.4. Rendszerek állapotainak összehasonlítása<a class=anchor href=#freebsdupdate-system-comparison></a></h3><div class=paragraph><p>A <code>freebsd-update</code> ragyogóan felhasználható a FreeBSD egy telepített változatának és egy általunk garantáltan megbízható példányának összevetésére. Ilyenkor a rendszerhez tartozó segédprogramokat, programkönyvtárakat és konfigurációs állományokat ellenõriztethetjük le. Az összehasonlítást ezzel a paranccsal kezdhetjük meg:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># freebsd-update IDS &gt;&gt; eredmeny.idk</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Habár a parancs neve IDS (intrusion detection system), nem helyettesít semmilyen olyan behatolásjelzõ megoldást, mint amilyen például a <a class=package href=https://cgit.freebsd.org/ports/tree/security/snort/>security/snort</a>. Mivel a <code>freebsd-update</code> adatokat tárol a lemezen, teljesen kézenfekvõ a hamisítás lehetõsége. Míg ennek eshetõsége adott mértékben visszaszorítható a <code>kern.securelevel</code> csökkentésével és a <code>freebsd-update</code> által használt adatok írásvédett állományrendszerre helyezésével, erre a problémára az ideális megoldást mégis egy teljes biztonságban tudható referencia rendszer jelentheti. Ennek tárolására alkalmas lehet például egy DVD vagy egy külsõ USB-egység.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A parancs kiadása után megkezdõdik a rendszer vizsgálata, és az ellenõrzés során folyamatosan jelennek meg az átvizsgált állományok a hozzájuk tartozó ismert és kiszámított <a href="https://man.freebsd.org/cgi/man.cgi?query=sha256&amp;sektion=1&amp;format=html">sha256(1)</a>-kódjukkal együtt. Mivel a képernyõn túlságosan gyorsan elúsznának az eredmények, ezért ezeket egy <span class=filename>eredmeny.idk</span> nevû állományba mentjük a késõbbi elemzésekhez.</p></div><div class=paragraph><p>Az így keletkezõ állomány sorai ugyan meglehetõsen hosszúak, de szerencsére viszonylag könnyen értelmezhetõek. Például az adott kiadásban szereplõ állományoktól eltérõeket ezzel a paranccsal kérdezhetjük le:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat eredmeny.idk | awk &#39;{ print $1 }&#39; | more</span>
/etc/master.passwd
/etc/motd
/etc/passwd
/etc/pf.conf</code></pre></div></div><div class=paragraph><p>A példában most csak az elsõ néhány állományt hagytuk meg, gyakran tapasztalhatunk viszont ennél többet. Ezek közül bizonyos állományok értelemszerûen eltérnek, mint itt például az <span class=filename>/etc/passwd</span>, mert idõközben új felhasználókat adtunk a rendszerhez. Máskor egyéb állományok, például modulok nevei is felbukkanhatnak, mert tegyük fel, hogy a <code>freebsd-update</code> már frissítette ezeket. Ha ki szeretnénk zárni valamilyen állományokat vagy könyvtárakat az ellenõrzésbõl, egyszerûen csak soroljuk fel ezeket az <span class=filename>/etc/freebsd-update.conf</span> állományban megjelenõ <code>IDSIgnorePaths</code> beállításnál.</p></div><div class=paragraph><p>A korábban tárgyaltaktól függetlenül ez a rendszer alkalmas bonyolultabb frissítési folyamatok kisegítésére is.</p></div></div></div></div><div class=sect1><h2 id=updating-upgrading-portsnap>24.3. A Portgyûjtemény frissítése a Portsnap használatával<a class=anchor href=#updating-upgrading-portsnap></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD alaprendszer a Portgyûjtemény frissítéséhez is tartalmaz egy <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> elnevezésû segédprogramot. Ez a program elindítása után csatlakozik egy távoli géphez, ellenõrzi a biztonsági kulcsát és letölti a portok legfrissebb változatait. A biztonsági kulcs feladata a frissítés közben letöltött állományok sértetlenségének szavatolása, ezzel gondoskodik róla, hogy az adatok átvitelük közben nem változtak meg. A Portgyûjtemény legújabb változatát így érhetjük el:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch</span>
Looking up portsnap.FreeBSD.org mirrors... 3 mirrors found.
Fetching snapshot tag from portsnap1.FreeBSD.org... <span class=k>done</span><span class=nb>.</span>
Fetching snapshot metadata... <span class=k>done</span><span class=nb>.</span>
Updating from Wed Aug  6 18:00:22 EDT 2008 to Sat Aug 30 20:24:11 EDT 2008.
Fetching 3 metadata patches.. <span class=k>done</span><span class=nb>.</span>
Applying metadata patches... <span class=k>done</span><span class=nb>.</span>
Fetching 3 metadata files... <span class=k>done</span><span class=nb>.</span>
Fetching 90 patches.....10....20....30....40....50....60....70....80....90. <span class=k>done</span><span class=nb>.</span>
Applying patches... <span class=k>done</span><span class=nb>.</span>
Fetching 133 new ports or files... <span class=k>done</span>.</code></pre></div></div><div class=paragraph><p>A példában látható, hogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> eltéréseket talált a helyi és a távoli rendszerekben fellelhetõ portok között, majd azokat ellenõrizte. Emellett az is megfigyelhetõ, hogy korábban már futtatuk a programot, mivel ha most indítottuk volna az elsõ alkalommal, akkor egyszerûen letöltötte volna a teljes Portgyûjteményt.</p></div><div class=paragraph><p>Ahogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> sikeresen befejezi az imént kiadott <code>fetch</code> mûvelet végrehajtását, a helyi rendszeren már telepítésre készen fognak várakozni a Portgyûjtemény és az hozzá tartozó ellenõrzött módosítások. A <code>portsnap</code> elsõ használatakor az <code>extract</code> parancs segítségével telepíthetjük a frissített állományokat:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap extract</span>
/usr/ports/.cvsignore
/usr/ports/CHANGES
/usr/ports/COPYRIGHT
/usr/ports/GIDs
/usr/ports/KNOBS
/usr/ports/LEGAL
/usr/ports/MOVED
/usr/ports/Makefile
/usr/ports/Mk/bsd.apache.mk
/usr/ports/Mk/bsd.autotools.mk
/usr/ports/Mk/bsd.cmake.mk
...</code></pre></div></div><div class=paragraph><p>Egy korábban már telepített Portgyûjteményt a <code>portsnap update</code> paranccsal tudunk frissíteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap update</span></code></pre></div></div><div class=paragraph><p>Ezzel lezárult a portok frissítése, innentõl már az aktualizált Portgyûjtemény felhasználásával tetszõlegesen telepíthetõek vagy frissíthetõek az alkalmazások.</p></div><div class=paragraph><p>A <code>fetch</code>, <code>extract</code> vagy <code>update</code> mûveletek egyetlen parancsba is összefûzhetõek, ahogy ezt az alábbi példában is láthatjuk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch update</span></code></pre></div></div><div class=paragraph><p>Ez a parancs letölti a Portgyûjtemény legfrissebb változatát, majd kitömöríti azt a helyi <span class=filename>/usr/ports</span> könyvtárba.</p></div></div></div><div class=sect1><h2 id=updating-upgrading-documentation>24.4. A dokumentáció frissítése<a class=anchor href=#updating-upgrading-documentation></a></h2><div class=sectionbody><div class=paragraph><p>Az alaprendszer és a Portgyûjtemény mellett a dokumentáció is a FreeBSD operációs rendszer szerves részét képezi. Noha a FreeBSD dokumentációjának legfrissebb változata folyamatosan elérhetõ a <a href=http://www.freebsd.org/doc>FreeBSD honlapjáról</a>, egyes felhasználók ezt csak lassan vagy nem képesek folyamatosan elérni. Szerencsére egy helyi másolat megfelelõ karbantartásával az egyes kiadásokhoz tartozó dokumentáció is frissíthetõ.</p></div><div class=sect2><h3 id=csup-doc>24.4.1. A dokumentáció frissítése CVSup használatával<a class=anchor href=#csup-doc></a></h3><div class=paragraph><p>A FreeBSD telepített dokumentációjának forrásai az alaprendszeréhez hasonlóan (lásd <a href=#makeworld>Az alaprendszer újrafordítása</a>) a CVSup segítségével frissíthetõek. Ebben a szakaszban megismerhetjük:</p></div><div class=ulist><ul><li><p>hogyan telepítsük a dokumentáció elõállításához szükséges eszközöket, amelyekkel a forrásokból újra tudjuk generálni a FreeBSD dokumentációját;</p></li><li><p>hogyan töltsük le a dokumentáció forrását CVSup segítségével a <span class=filename>/usr/doc</span> könyvtárba;</p></li><li><p>a dokumentáció elõállításához alkalmazott rendszer milyen beállításokkal rendelkezik, vagyis hogyan korlátozzuk a generálást bizonyos nyelvekre vagy formátumokra.</p></li></ul></div></div><div class=sect2><h3 id=installing-documentation-toolchain>24.4.2. A CVSup és a dokumentációs eszközök telepítése<a class=anchor href=#installing-documentation-toolchain></a></h3><div class=paragraph><p>Viszonylag sokféle eszközre lesz szükségünk, ha a FreeBSD dokumentációját a forrásokból akarjuk elõállítani. Ezek az segédprogramok nem részei a FreeBSD alaprendszerének, mivel alapvetõen nagyon sok helyet foglalnak el, és leginkább olyan FreeBSD felhasználók számára fontosak, akik folyamatosan a dokumentációval dolgoznak vagy gyakran frissítik azt forrásból.</p></div><div class=paragraph><p>A feladathoz szükséges összes eszköz elérhetõ a Portgyûjteménybõl. Ebben a FreeBSD Dokumentációs Projekt összeállított egy <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/docproj/>textproc/docproj</a> nevû portot, amellyel az említett programok telepítését és frissítését igyekezték megkönnyíteni.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha nem tartunk igényt a dokumentáció PostScript® vagy PDF változatára, akkor ehelyett inkább érdemes megfontolnunk a <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/docproj-nojadetex/>textproc/docproj-nojadetex</a> port telepítését. Ebben a változatban a teTeX betûszedõ rendszer kivételével az összes segédprogram megtalálható. Mivel a teTeX önmagában nagyon sok segédeszköz telepítését jelenti, ezért amennyiben a PDF változat ténylegesen nem szükséges, érdemes eltekinteni a telepítésétõl.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A CVSup telepítésével kapcsolatban pedig részletesebb információkat a <a href=../mirrors/#cvsup>CVSup használatával</a> foglalkozó szakaszban olvashatunk.</p></div></div><div class=sect2><h3 id=updating-documentation-sources>24.4.3. A dokumentáció forrásának frissítése<a class=anchor href=#updating-documentation-sources></a></h3><div class=paragraph><p>A <span class=filename>/usr/shared/examples/cvsup/doc-supfile</span> konfigurációs állomány segítségével a CVSup képes letölteni a dokumentáció forrásállományainak legfrissebb példányait. Itt a frissítést alapértelmezés szerint egy nem létezõ géptõl fogjuk kérni (mivel ezt kötelezõ kitölteni), azonban a <a href="https://man.freebsd.org/cgi/man.cgi?query=cvsup&amp;sektion=1&amp;format=html">cvsup(1)</a> programnak egy parancssori paraméter segítségével megadhatjuk melyik CVSup szerverrõl töltse le a forrásokat:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cvsup -h cvsup.FreeBSD.org -g -L 2 /usr/shared/examples/cvsup/doc-supfile</span></code></pre></div></div><div class=paragraph><p>Ne felejtsük el a <em>cvsup.FreeBSD.org</em> helyére beírni a hozzánk földrajzilag legközelebb elhelyezkedõ CVSup szervert. Ezek teljes listáját a <a href=../mirrors/#cvsup-mirrors>CVSup oldalak</a> tartalmazza.</p></div><div class=paragraph><p>Egy ideig eltarthat, amíg elõször letöltjük a forrásokat. Várjuk meg türelmesen, amíg befejezõdik a mûvelet.</p></div><div class=paragraph><p>Késõbb a forrásokat ugyanezzel a paranccsal tudjuk frissíteni. A CVSup ugyanis mindig csak a legutóbbi futtatása óta történt változásokat tölti le, ezért késõbb már ez a lépés jelentõsen felgyorsulhat.</p></div><div class=paragraph><p>A források letöltése után a dokumentációt például az ekkor keletkezett <span class=filename>/usr/doc</span> könyvtárban található <span class=filename>Makefile</span> használatával állíthatjuk elõ. Tehát miután az <span class=filename>/etc/make.conf</span> állományban beállítottuk a <code>SUP_UPDATE</code>, <code>SUPHOST</code> és <code>DOCSUPFILE</code> változókat, le tudjuk futtatni a következõ parancsot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make update</span></code></pre></div></div><div class=paragraph><p>Az elõbb említett <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> változók jellemzõ értékei:</p></div><div class="literalblock programlisting"><div class=content><pre>SUP_UPDATE= yes
SUPHOST?= cvsup.freebsd.org
DOCSUPFILE?= /usr/shared/examples/cvsup/doc-supfile</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Mivel a <code>SUPHOST</code> és a <code>DOCSUPFILE</code> változók értékét a <code>?=</code> szimbólummal állítottuk be, lehetõségünk van a parancssorból ezeknek más értékeket adni. Az <span class=filename>/etc/make.conf</span> állományba általában így érdemes felvenni a változókat, így nem kell minden alkalommal módosítani, amikor valamilyen új beállítást akarunk kipróbálni.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=updating-documentation-options>24.4.4. A dokumentáció különbözõ beállításai<a class=anchor href=#updating-documentation-options></a></h3><div class=paragraph><p>A FreeBSD dokumentációjához tartozó, frissítést és elõállítást végzõ rendszernek van néhány olyan beállítása, amelyekkel kérhetjük kizárólag csak a dokumentáció egyes részeinek frissítését vagy bizonyos kimeneti formátumok használatát. Ezek vagy globálisan az <span class=filename>/etc/make.conf</span> állományban, vagy pedig a parancssorból, a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> program paramétereként adhatóak meg.</p></div><div class=paragraph><p>Ízelítõül néhány közülük:</p></div><div class=dlist><dl><dt class=hdlist1><code>DOC_LANG</code></dt><dd><p>Az elõállítandó és telepítendõ nyelvû dokumentáció felsorolása, tehát például csak az angol dokumentáció esetén ez <code>en_US.ISO8859-1</code>.</p></dd><dt class=hdlist1><code>FORMATS</code></dt><dd><p>Az elõállítandó dokumentáció kimeneti formátumainak felsorolása. Itt pillanatnyilag értékként a <code>html</code>, <code>html-split</code>, <code>txt</code>, <code>ps</code>, <code>pdf</code> és <code>rtf</code> jelenhet meg.</p></dd><dt class=hdlist1><code>SUPHOST</code></dt><dd><p>A frissítéshez használt CVSup szerver hálózati neve.</p></dd><dt class=hdlist1><code>DOCDIR</code></dt><dd><p>Az elkészült dokumentáció telepítésének helye. Ez alapértelmezés szerint a <span class=filename>/usr/shared/doc</span>.</p></dd></dl></div><div class=paragraph><p>A folyamathoz kapcsolódóan további rendszerszintû <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> változókról a <a href="https://man.freebsd.org/cgi/man.cgi?query=make.conf&amp;sektion=5&amp;format=html">make.conf(5)</a> man oldalon olvashatunk.</p></div><div class=paragraph><p>A FreeBSD dokumentációjának elõállításáért felelõs rendszerben használható <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> további változók bemutatásával kapcsolatban pedig olvassuk el az <a href=https://docs.freebsd.org/en/books/fdp-primer/>A FreeBSD Dokumentációs Projekt irányelvei kezdõknek</a> címû könyvet.</p></div></div><div class=sect2><h3 id=updating-installed-documentation>24.4.5. A FreeBSD dokumentációjának telepítése forrásból<a class=anchor href=#updating-installed-documentation></a></h3><div class=paragraph><p>Miután sikerült letöltenünk a <span class=filename>/usr/doc</span> könyvtárba a dokumentáció legfrissebb forrásait, készen állunk a rendszerünkön telepített példány frissítésére.</p></div><div class=paragraph><p>A <code>DOCLANG</code> értékeként megadott nyelven készült dokumentációkat a következõ paranccsal tudjuk frissíteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Ha a <span class=filename>make.conf</span> állományban korábban már megadtuk a <code>DOCSUPFILE</code>, <code>SUPHOST</code> és <code>SUP_UPDATE</code> változók értékeit, akkor a telepítés fázisa könnyedén össze is vonatható a források frissítésével:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make update install clean</span></code></pre></div></div><div class=paragraph><p>Ha pedig csak bizonyos nyelvekhez tartozó dokumentációt szeretnénk frissíteni, akkor a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> akár a <span class=filename>/usr/doc</span> könyvtáron belül az egyes nyelvekhez tartozó alkönyvtárakon belül is meghívható, például:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc/en_US.ISO8859-1</span>
<span class=c># make update install clean</span></code></pre></div></div><div class=paragraph><p>A dokumentáció formátumát a <code>FORMATS</code> változó felhasználásával tudjuk meghatározni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/doc</span>
<span class=c># make FORMATS=&#39;html html-split&#39; install clean</span></code></pre></div></div></div><div class=sect2><h3 id=doc-ports>24.4.6. A dokumentációs portok használata<a class=anchor href=#doc-ports></a></h3><div class=paragraph><p>Ez elõzõ szakaszban megmutattuk hogyan lehet a FreeBSD dokumentációját a források felhasználásával frissíteni. A források használatával végzett frissítés azonban nem minden FreeBSD rendszer esetében lehetséges vagy hatékony. Ha ugyanis a dokumentációs forrásból akarjuk elõállítani, viszonylag sok eszköz és segédprogram, az ún. <em>dokumentációs eszközök</em> használatával kell tisztában lennünk, valamint bizonyos mértékig ismernünk kell a CVS használatát, tudunk kell kikérni a legfrissebb változatot és elõállítatattnunk belõle a végleges változatot. Ezért ebben a szakaszban most szót ejtünk egy olyan módszerrõl, ahol a FreeBSD dokumentációját a Portgyûjteményen keresztül tudjuk frissíteni, ezáltal:</p></div><div class=ulist><ul><li><p>anélkül le tudjuk tölteni és telepíteni a dokumentáció adott pillanatban generált változatát, hogy a rendszerünkön bármi további teendõre szükség lenne (ennek köszönhetõen nem kell telepítenünk a dokumentációs eszközöket);</p></li><li><p>letölthetjük a dokumentáció forrását és a Portgyûjtemény eszközeivel elõállíthatjuk belõle a megfelelõ változatot (ez a források beszerzésében és feldolgozásában segít valamelyest).</p></li></ul></div><div class=paragraph><p>A FreeBSD dokumentáció frissítésének fentebb említett módjait támogatják tehát a <em>dokumentációs portok</em>, amelyeket a Documentation Engineering Team &lt;<a href=mailto:doceng@FreeBSD.org>doceng@FreeBSD.org</a>> havi rendszerességgel tart karban. Ezek a portok a FreeBSD Portgyûjteményén belül a <a href=http://www.freshports.org/docs/>docs</a> nevû virtuális kategóriában találhatóak meg.</p></div><div class=sect3><h4 id=doc-ports-install-make>24.4.6.1. A dokumentációs portok fordítása és telepítése<a class=anchor href=#doc-ports-install-make></a></h4><div class=paragraph><p>A dokumentáció könnyebb elõállításához a dokumentációs portok a Portgyûjtemény lehetõségeit veszik igénybe. Segítségükkel automatikussá teszik a dokumentáció forrásának letöltését, a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> parancs meghívását a megfelelõ környezetben, beállításokkal és parancssori paraméterekkel. Rajtuk keresztül a dokumentáció eltávolítása ugyanolyan egyszerûen megtehetõ, mint akármelyik másik FreeBSD port vagy csomag esetében.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Továbbá, amikor a dokumentációs portokat a saját rendszerünkön fordítjuk, a <em>dokumentációs eszközök</em> függõségként automatikusan települni fognak.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A dokumentációs portok a következõ módon szervezõdnek:</p></div><div class=ulist><ul><li><p>Létezik egy ún. "fõport", a <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-en/>misc/freebsd-doc-en</a>, ahol az összes fontosabb állomány megtalálható. Ez lényegében a dokumentációs portok közös õse. Alapértelmezés szerint kizárólag csak az angol nyelvû dokumentációt állítja elõ.</p></li><li><p>Létezik egy "mindenes port", a <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-all/>misc/freebsd-doc-all</a>, amely az összes elérhetõ nyelven és formátumban elõállítja a dokumentációt.</p></li><li><p>Végezetül minden nyelvhez létezik egy-egy "alport", ilyen például a magyar dokumentáció esetén a <a class=package href=https://cgit.freebsd.org/ports/tree/misc/freebsd-doc-hu/>misc/freebsd-doc-hu</a> port. Mindegyikük a fõporttól függ és az adott nyelvû dokumentációt telepítik.</p></li></ul></div><div class=paragraph><p>Az eddigi összefoglaltaknak megfelelõen a dokumentációs portokat forrásból a következõ paranccsal lehet telepíteni (<code>root</code> felhasználóként):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/misc/freebsd-doc-en</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Ennek hatására elõáll és telepítõdik a <span class=filename>/usr/local/shared/doc/freebsd</span> könyvtárba az angol nyelvû dokumentáció állományokra bontott HTML formátumban (hasonlóan a <a href=http://www.FreeBSD.org>http://www.FreeBSD.org</a> tartalmához).</p></div><div class=sect4><h5 id=doc-ports-options>24.4.6.1.1. Gyakori beállítások<a class=anchor href=#doc-ports-options></a></h5><div class=paragraph><p>A dokumentációs portok alapértelmezett viselkedése több különbözõ opció segítségével is befolyásolható. Ezek közül most összefoglalunk néhányat:</p></div><div class=dlist><dl><dt class=hdlist1><code>WITH_HTML</code></dt><dd><p>Minden dokumentum egyetlen HTML állományba kerüljön. A végeredmény ekkor az adott dokumentum típusának megfelelõen <span class=filename>article.html</span> (cikk) vagy <span class=filename>book.html</span> (könyv) néven keletkezik (képekkel együtt).</p></dd><dt class=hdlist1><code>WITH_PDF</code></dt><dd><p>Minden dokumentum Adobe® Portable Document Format típusú állományban jön létre. Ezek az állományok a Ghostscript vagy más egyéb PDF nézegetõkkel nyithatóak meg. Ekkor a dokumentáció konkrét típusától függõen az állományok <span class=filename>article.pdf</span> (cikk) vagy <span class=filename>book.pdf</span> (könyv) néven állítódnak elõ.</p></dd><dt class=hdlist1><code>DOCBASE</code></dt><dd><p>A dokumentáció telepítésének helye. Alapértelmezés szerint ez a <span class=filename>/usr/local/shared/doc/freebsd</span> könyvtár.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ügyeljünk arra, hogy a telepítés alapértelmezett célkönyvtára eltér a CVSup módszerétõl. Ugyanis mivel ilyenkor egy portot telepítünk, a tartalma alapértelmezés szerint a <span class=filename>/usr/local</span> könyvtáron belülre kerül. Ez azonban a <code>PREFIX</code> változó átállításával tetszõleges megváltoztatható.</p></div></td></tr></tbody></table></div></dd></dl></div><div class=paragraph><p>Az elõbbieket most egy rövid példán keresztül összefoglaljuk. A következõ paranccsal tudjuk tehát a magyar nyelvû dokumentáció Portable Document Format változatát telepíteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/misc/freebsd-doc-hu</span>
<span class=c># make -DWITH_PDF DOCBASE=share/doc/freebsd/hu install clean</span></code></pre></div></div></div></div><div class=sect3><h4 id=doc-ports-install-package>24.4.6.2. A dokumentációs csomagok használata<a class=anchor href=#doc-ports-install-package></a></h4><div class=paragraph><p>A dokumentációs portok elõzõ szakaszban bemutatott forrásból telepítésével kapcsolatban már említettük, hogy szükséges hozzá a dokumentációs eszközök telepítése, valamint némi szabad tárterület. Ha a dokumentációs eszközök telepítéséhez nem elengedõek a rendelkezésre álló erõforrásaink vagy a források feldolgozása túlságosan sokat foglalna a rendszerünkön, akkor lehetõségünk van a dokumentációs portok elõre lefordított, csomagolt változatát használni.</p></div><div class=paragraph><p>A Documentation Engineering Team &lt;<a href=mailto:doceng@FreeBSD.org>doceng@FreeBSD.org</a>> minden hónapban elõkészíti a FreeBSD dokumentációs csomagok legfrissebb változatát. Az így karbantartott bináris csomagok azután tetszõlegesen használhatóak a szabványos csomagkezelõ eszközökkel, mint amilyen például a <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> és így tovább.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A bináris csomagok használata esetén a FreeBSD dokumentációja az adott nyelvhez az <em>összes</em> elérhetõ formátumban telepítésre kerül.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Például az alábbi paranccsal a magyar nyelvû dokumentációhoz tartozó legfrissebb bináris csomagot tudjuk telepíteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r hu-freebsd-doc</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A csomagok elnevezése eltér a hozzá tartozó port nevétõl. Alakja a következõ: <code>nyelv-freebsd-doc</code>, ahol a <em>nyelv</em> az adott nyelv rövid kódja, vagyis a magyar esetén a <code>hu</code>, illetve az egyszerûsített kínai esetén a <code>zh_ch</code>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=doc-ports-update>24.4.6.3. A dokumentációs portok frissítése<a class=anchor href=#doc-ports-update></a></h4><div class=paragraph><p>Az elõzetesen telepített dokumentációs portok bármilyen portok frissítésére alkalmas eszközzel frissíthetõek. Például a telepített magyar nyelvû dokumentáció a <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portupgrade/>ports-mgmt/portupgrade</a> eszközön keresztül így frissíthetõ csomagok használatával:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portupgrade -PP hu-freebsd-doc</span></code></pre></div></div></div></div></div></div><div class=sect1><h2 id=current-stable>24.5. A fejlesztõi ág követése<a class=anchor href=#current-stable></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD-nek két fejlesztési ága van: a FreeBSD.current és a FreeBSD-STABLE. Ebben a szakaszban mindegyikükrõl monduk pár szót, és megmutatjuk, miként lehet az adott ághoz igazítani a rendszerünk frissítését. Elõször a FreeBSD-CURRENT, majd a FreeBSD-STABLE változata kerül tárgyalásra.</p></div><div class=sect2><h3 id=current>24.5.1. A FreeBSD friss változatának használata<a class=anchor href=#current></a></h3><div class=paragraph><p>Ahogy arról már az imént is szó esett, nem szabad elfelejtenünk, hogy a FreeBSD-CURRENT a FreeBSD fejlesztésének "frontvonala". Emiatt a FreeBSD-CURRENT használóinak szakmailag jólképzetteknek kell lenniük, és sosem szabad visszariadniuk a használat közben felmerülõ rendszerszintû problémák önálló megoldásától. Ha korábban még nem foglalkoztunk FreeBSD-vel, kétszer is gondoljuk meg a telepítését!</p></div><div class=sect3><h4 id=_mi_a_freebsd_current>24.5.1.1. Mi a FreeBSD-CURRENT?<a class=anchor href=#_mi_a_freebsd_current></a></h4><div class=paragraph><p>A FreeBSD-CURRENT a FreeBSD mögött álló legfrissebb forráskódot képviseli. Itt találkozhatunk különféle olyan fejlesztés alatt álló részekkel, kísérletezésekkel és átmeneti megoldásokkal, amelyek nem feltétlenül kerülnek bele a szoftver következõ hivatalos kiadásába. Noha a FreeBSD fejlesztõi a FreeBSD-CURRENT forráskódját naponta fordítják, adódhatnak olyan idõszakok, amikor a források mégsem használhatóak maradéktalanul. Az ilyen gondokat általában a lehetõ leggyorsabban igyekeznek megoldani, azonban attól függõen, hogy éppen a forráskód melyik verzióját sikerült kifogni, a FreeBSD-CURRENT használata kész katasztrófa vagy akár a fejlõdésben igazi továbblépés is lehet.</p></div></div><div class=sect3><h4 id=_kinek_van_szüksége_a_freebsd_current_re>24.5.1.2. Kinek van szüksége a FreeBSD-CURRENT-re?<a class=anchor href=#_kinek_van_szüksége_a_freebsd_current_re></a></h4><div class=paragraph><p>A FreeBSD-CURRENT használata elsõsorban az alábbi 3 csoportot érinti:</p></div><div class="olist arabic"><ol class=arabic><li><p>A FreeBSD közösség azon tagjait, akik aktívan dolgoznak a forrásfa valamelyik részén, és mindazokat, akik számára a "legfrissebb" verzió használata feltétlen elvárás.</p></li><li><p>A FreeBSD közösség azon tagjait, akik aktívan tesztelnek, és a FreeBSD-CURRENT kordában tartásához hajlandóak idõt áldozni a menet közben felbukkanó problémák megoldására. Vannak olyanok is, akik a FreeBSD változásaival és fejlesztési irányával kapcsolatban kívánnak javaslatokat tenni, melyeket javítások és módosítások formájában tesznek közzé.</p></li><li><p>Mindazokat, akik pusztán kíváncsiak a fejlesztésben zajló eseményekre, vagy hivatkozási szándékkal töltik le a legfrissebb forrásokat (például csak <em>nézegetik</em>, de nem futtatják). Az ilyen emberek esetenként megjegyzéseket fûznek a fejlesztéshez vagy kódot küldenek be.</p></li></ol></div></div><div class=sect3><h4 id=_mi_nem_a_freebsd_current>24.5.1.3. Mi <em>nem</em> a FreeBSD-CURRENT?<a class=anchor href=#_mi_nem_a_freebsd_current></a></h4><div class="olist arabic"><ol class=arabic><li><p>Az olyan kiadás elõtt álló funkciók kipróbálásának egyszerû módja, amelyekrõl hallottunk, hogy milyen remek újdonságokat hoznak és mi akarunk lenni az elsõk, akik ezt használni is fogják. Ne feledjük azonban, hogy amikor mindenki elõtt kezdünk el használni egy újítást, mi leszünk egyben az elsõk is, akik szembesülnek a benne rejlõ hibákkal.</p></li><li><p>A gyors hibajavítások eszköze. A FreeBSD-CURRENT szinte bármelyik változata pontosan ugyanakkora valószínûséggel hoz magával új hibákat, mint ahogy eltünteti a régieket.</p></li><li><p>Akármilyen értelemben is "hivatalosan támogatott". Képességeinktõl függõen õszintén igyekszünk a lehetõ legtöbbet megtenni a 3 "törvényes" FreeBSD-CURRENT csoportba tartozó emberekért, azonban egyszerûen <em>nincs idõnk</em> komolyabb segítségnyújtást adni. Ez viszont nem azt jelenti, hogy komisz és fukar emberek vagyunk, akik utálnak segíteni a másiknak (de máskülönben nem tudna fejlõdni a FreeBSD). Csupán a FreeBSD fejlesztése <em>közben</em> fizikailag képtelenek vagyunk a naponta érkezõ ezernyi üzenetet rendre megválaszolni! A FreeBSD elõremozdítása és a kísérleti stádiumban álló kóddal kapcsolatos kérdések megválaszolása közül a fejlesztõk általában az elsõt részesítik elõnyben.</p></li></ol></div></div><div class=sect3><h4 id=_a_freebsd_current_használata>24.5.1.4. A FreeBSD-CURRENT használata<a class=anchor href=#_a_freebsd_current_használata></a></h4><div class="olist arabic"><ol class=arabic><li><p>Iratkozzunk fel az <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT levelezési lista</a> és <a href=https://lists.FreeBSD.org/subscription/svn-src-head>Az src fa head/-current ágának SVN commit üzenetei</a> listákra. Ez nem egyszerûen hasznos, hanem <em>elengedhetetlen</em>. Ha nem vagyunk a <em><a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT levelezési lista</a></em> listán, akkor nem fogjuk látni a rendszer aktuális állapotára vonatkozó megjegyzéseket, és így esetleg feleslegesen öljük az idõnket olyan problémák megoldásába, amelyeket mások már korábban megoldottak. Ami viszont ennél is fontosabb, hogy így elszalasztjuk a rendszerünk folyamatos életbentartására vonatkozó létfontosságú bejelentéseket.</p><div class=paragraph><p>Az <a href=https://lists.FreeBSD.org/subscription/svn-src-head>Az src fa head/-current ágának SVN commit üzenetei</a> listán láthatjuk az a forráskód egyes változtatásaihoz tartozó naplóbejegyzéseket, a hozzájuk tartozó esetleges mellékhatások ismertetésével együtt.</p></div><div class=paragraph><p>A listákra vagy a <a href=https://lists.freebsd.org class=bare>https://lists.freebsd.org</a> oldalon található többi lista valamelyikére úgy tudunk feliratkozni, ha rákattintunk a nevére. A további lépésekrõl ezt követõen itt kapunk értesítést. Amennyiben a teljes forrásfa változásai érdekelnek minket, javasoljuk az <a href=https://lists.FreeBSD.org/subscription/svn-src-all>A teljes src fa SVN commit üzenetei (kivéve "user" és "projects")</a> lista olvasását.</p></div></li><li><p>A <a href=../mirrors/#mirrors>tükrözések</a> egyikérõl töltsük le a FreeBSD forrását. Erre két mód is kínálkozik:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Használjuk a <a href=../mirrors/#cvsup>cvsup</a> programot a <span class=filename>/usr/shared/examples/cvsup</span> könyvtárban található <span class=filename>standard-supfile</span> állománnyal. Ez a leginkább ajánlott módszer, hiszen így csak egyszer kell letölteni az egész gyûjteményt, majd ezután már csak a változásokat. Sokan a <code>cvsup</code> parancsot a <code>cron</code> parancson keresztül adják ki, és ezzel mindig automatikusan frissítik a forrásaikat. A <a href=../mirrors/#cvsup>cvsup</a> mûködését a fentebb említett minta <span class=filename>supfile</span> állomány megfelelõ módosításával tudjuk a saját környezetünkhöz igazítani.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Az említett <span class=filename>standard-supfile</span> állomány eredetileg nem a FreeBSD-CURRENT, hanem inkább a FreeBSD biztonsági problémáit érintõ javítások követésére használatos. A FreeBSD-CURRENT forrásainak eléréséhez a következõ sort kell kicserélnünk ebben az állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>*default release=cvs tag=RELENG_X_Y</pre></div></div><div class=paragraph><p>Erre:</p></div><div class="literalblock programlisting"><div class=content><pre>*default release=cvs tag=.</pre></div></div><div class=paragraph><p>A <code>tag</code> paramétereként megadható egyéb címkékrõl a kézikönyv <a href=../mirrors/#cvs-tags>CVS címkék</a> szakaszában olvashatunk.</p></div></td></tr></tbody></table></div></li><li><p>Használjuk a CTM alkalmazás nyújtotta lehetõségeket. Amennyiben nagyon rossz netkapcsolattal rendelkezünk (drága vagy csak levelezésre használható) a CTM megoldást jelenthet számunkra. Legyünk azonban tekintettel arra, hogy helyenként zûrös lehet a használata és néha hibás állományokat gyárt. Emiatt viszont csak ritkán használják, így elõfordulhat, hogy hosszabb ideig nem is mûködik. A 9600 bps vagy annál nagyobb sebességû kapcsolatok esetén ezért inkább a CVSup használatát javasoljuk.</p></li></ol></div></li><li><p>Ha nem csak böngészésre, hanem fordításra is szedjük a forrásokat, mindig töltsük le a FreeBSD-CURRENT <em>egészét</em>, ne csak egyes részeit. Ez azzal magyarázandó, hogy a forráskód bizonyos részei más helyeken található részektõl is függenek, és ezért az önálló fordításuk szinte garantáltan gondot fog okozni.</p><div class=paragraph><p>A FreeBSD-CURRENT lefordítása elõtt figyelmesen olvassuk át a <span class=filename>/usr/src</span> könyvtárban található <span class=filename>Makefile</span> állományt. A frissítési folyamat részeként elõször mindenképpen érdemes <a href=#makeworld>telepíteni egy új rendszermagot és újrafordítani az alaprendszert</a>. Olvassuk el a <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT levelezési lista</a> üzeneteit és a <span class=filename>/usr/src/UPDATING</span> állományt, ahol megtalálhatjuk az ezzel kapcsolatos legújabb információkat, melyek egy-egy újabb kiadás közeledtével egyre fontosabbá válnak.</p></div></li><li><p>Foglalkozzunk vele! Ha már a FreeBSD-CURRENT változatát használjuk, ne legyünk restek véleményt formálni róla, különösen abban az esetben, ha továbbfejlesztésekrõl vagy hibákra van szó. Leginkább a forráskóddal együtt érkezõ javaslatoknak szoktak örülni a fejlesztõk!</p></li></ol></div></div></div><div class=sect2><h3 id=stable>24.5.2. A FreeBSD stabil változatának használata<a class=anchor href=#stable></a></h3><div class=sect3><h4 id=_mi_a_freebsd_stable>24.5.2.1. Mi a FreeBSD-STABLE?<a class=anchor href=#_mi_a_freebsd_stable></a></h4><div class=paragraph><p>A FreeBSD-STABLE az a fejlesztési ág, ahonnan az egyes kiadások származnak. Ebbe az ágba már más ütemben kerülnek a változások, mivel általánosan elfogadott, hogy ide a korábban már kipróbált módosítások vándorolnak át a FreeBSD-CURRENT ágból. Ez azonban <em>még mindig</em> csak egy fejlesztési ág, ami arra utal, hogy a FreeBSD-STABLE által adott pillanatban képviselt források nem feltétlenül felelnek meg bizonyos célokra. Ez csupán egy újabb fejlesztési nyomvonal, nem pedig a végfelhasználók kenyere.</p></div></div><div class=sect3><h4 id=_kinek_van_szüksége_a_freebsd_stable_re>24.5.2.2. Kinek van szüksége a FreeBSD-STABLE-re?<a class=anchor href=#_kinek_van_szüksége_a_freebsd_stable_re></a></h4><div class=paragraph><p>Ha szeretnénk figyelemmel kísérni vagy valamilyen módon kiegészíteni a FreeBSD fejlesztési folyamatát, különösen a FreeBSD következõ "nagyobb" kiadását illetõen, akkor érdemes követnünk a FreeBSD-STABLE forrásait.</p></div><div class=paragraph><p>Habár a FreeBSD-STABLE ágba is bekerülnek a biztonsági jellegû javítások, ettõl még nem kell feltétlenül ezt követnünk. A FreeBSD-hez kiadott biztonsági figyelmeztetések mindig leírják, hogyan kell javítani a hibát az érintett kiadásokban , azonban az egész fejlesztési ágat felesleges csak biztonsági okból kifolyólag követni, mivel így olyan változások is kerülhetnek a rendszerbe, amire nincs szükségünk.</p></div><div class=paragraph><p>Habár igyekszünk gondoskodni a FreeBSD-STABLE ágban található források lefordíthatóságáról és mûködõképességérõl, nem minden esetben szavatolható. Ráadásul mivel a FreeBSD-STABLE ágba kerülõ kódokat elõször a FreeBSD-CURRENT ágban fejlesztik ki, és mivel a FreeBSD-STABLE felhasználói többen vannak a FreeBSD-CURRENT változaténál, ezért szinte elkerülhetetlen, hogy ilyenkor a FreeBSD-STABLE változatban bizonyos hibák és szélsõséges esetek be ne következzenek, amelyek a FreeBSD-CURRENT használata során még nem buktak ki.</p></div><div class=paragraph><p>Ezért a FreeBSD-STABLE ág vakon követését senkinek <em>sem</em> ajánljuk, és különösen fontos, hogy éles szervereken elõzetes kimerítõ tesztelések nélkül ne futassunk FreeBSD-STABLE rendszert.</p></div><div class=paragraph><p>Ha ehhez nem rendelkezünk elegendõ erõforrással, akkor egyszerûen használjuk a FreeBSD legfrissebb kiadását, és az egyes kiadások között pedig bináris frissítéssel közlekedjünk.</p></div></div><div class=sect3><h4 id=_a_freebsd_stable_használata>24.5.2.3. A FreeBSD-STABLE használata<a class=anchor href=#_a_freebsd_stable_használata></a></h4><div class="olist arabic"><ol class=arabic><li><p>Iratkozzunk fel a <a href=https://lists.FreeBSD.org/subscription/freebsd-stable>FreeBSD-STABLE; levelezési lista</a> listára. Ezen keresztül értesülhetünk a FreeBSD-STABLE használata során felmerülõ fordítási függõségekrõl vagy más, külön figyelmet igénylõ problémákról. Gyakran ezen a levelezési listán elmélkednek a fejlesztõk a vitatott javításokról vagy frissítésekrõl, amibe a felhasználók is beleszólhatnak, ha a szóbanforgó változtatással kapcsolatban bármilyen problémájuk vagy ötletünk van.</p><div class=paragraph><p>Iratkozzunk fel a követni kívánt ághoz tartozó SVN levelezési listára. Például ha a 7-STABLE ág változásait követjük, akkor az <a href=https://lists.FreeBSD.org/subscription/svn-src-stable-7>svn-src-stable-7</a> listára érdemes feliratkoznunk. Ennek segítségével elolvashatjuk az egyes változtatásokhoz tartozó naplóbejegyzéseket, a rájuk vonatkozó esetleges mellékhatások ismertetésével együtt.</p></div><div class=paragraph><p>Ezekre, valamint a <a href=https://lists.freebsd.org class=bare>https://lists.freebsd.org</a> címen elérhetõ listák valamelyikére úgy tudunk feliratkozni, ha a nevükre kattintunk. A további teendõk ezután itt jelennek meg.</p></div></li><li><p>Amennyiben egy új rendszert akarunk telepíteni és a FreeBSD-STABLE havonta készült pillanatképeit akarjuk rajta futtatni, akkor errõl bõvebb felvilágosítást a <a href=https://www.FreeBSD.org/snapshots/>Pillanatképek</a> honlapján találhatunk (angolul). Emellett a legfrissebb FreeBSD-STABLE kiadást telepíthetjük a <a href=../mirrors/#mirrors>tükrözések</a> valamelyikérõl is, majd innen a lentebb található utasítások szerint tudunk hozzáférni a FreeBSD-STABLE forráskódjának legfrissebb változatához.</p><div class=paragraph><p>Ha már fut a gépünkön a FreeBSD egy korábbi kiadása, és ezt akarjuk forráson keresztül frissíteni, akkor ezt a FreeBSD <a href=../mirrors/#mirrors>tükrözéseivel</a> könnyedén megtehetjük. Két módon is:
.. Használjuk a <a href=../mirrors/#cvsup>cvsup</a> programot a <span class=filename>/usr/shared/examples/cvsup</span> könyvtárból származó <span class=filename>stable-supfile</span> állománnyal. Ez a leginkább ajánlott módszer, mivel így csak egyszer kell letölteni a teljes gyûjteményt, utána már csak a hozzá tartozó változtatásokra van szükségünk. A <code>cvsup</code> parancsot sokan a <code>cron</code> segítségével futtatják, és ezzel automatikusan frissülnek a forrásainak. A <a href=../mirrors/#cvsup>cvsup</a> mûködését környezetünkhöz az elõbb említett minta <span class=filename>supfile</span> megfelelõ módosításával tudjuk behangolni.
.. Használjuk a CTM programot. Ha nincs olcsó vagy gyors internetkapcsolatunk, akkor érdemes ezt a módszert választani.</p></div></li><li><p>Alapvetõen azonban ha gyorsan szeretnénk hozzájutni a forrásokhoz és a sávszélesség nem meghatározó tényezõ, akkor helyette válasszuk a <code>cvsup</code> vagy az <code>ftp</code> használatát, és csak minden más esetben CTM-et.</p></li><li><p>Mielõtt lefordítanánk a FreeBSD-STABLE változatát, figyelmesen olvassuk át a <span class=filename>/usr/src</span> könyvtárban levõ <span class=filename>Makefile</span> állományt. Az átállási folyamat részeként elõször minden bizonnyal <a href=#makeworld>telepítenünk kell egy új rendszermagot és újra kell fordítanunk az alaprendszert</a>. A <a href=https://lists.FreeBSD.org/subscription/freebsd-stable>FreeBSD-STABLE; levelezési lista</a> valamint a <span class=filename>/usr/src/UPDATING</span> elolvasásából értesülhetünk azokról az egyéb, gyakran nagyon fontos változásokról, melyek elengedhetetlenek lesznek a következõ kiadás használatához.</p></li></ol></div></div></div></div></div><div class=sect1><h2 id=synching>24.6. A forrás szinkronizálása<a class=anchor href=#synching></a></h2><div class=sectionbody><div class=paragraph><p>Az internet (vagy elektronikus levelek) használatán keresztül számos mód kínálkozik az FreeBSD Projekthez tartozó források frissen tartásához egy adott, vagy éppen az összes területen attól függõen, hogy mik érdekelnek minket. Ehhez elsõsorban az <a href=../mirrors/#anoncvs>Anonim CVS</a>, <a href=../mirrors/#cvsup>CVSup</a> és <a href=../mirrors/#ctm>CTM</a> szolgáltatásokat ajánljuk fel.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Habár lehetséges csupán a forrásfa egyes részeit letölteni, a támogatott frissítési eljárás során azonban szükségünk lesz az egész fa szinkronizálására és a rendszerhez tartozó felhasználói programok (vagyis minden olyan program, amely a felhasználói térben fut, ilyeneket találhatunk többek közt a <span class=filename>/bin</span> és <span class=filename>/sbin</span> könyvtárakban) valamint rendszermag újrafordítására is. Ha csak a felhasználói programok forrásait, vagy csak a rendszermagot, esetleg csupán a forrásfa egyes részeit frissítjük, akkor az gondokat okozhat. Az itt elõforduló problémák fordítási hibáktól kezdve rendszerösszeomlásokon keresztül akár adatvesztésbe is torkollhatnak.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Az Anonim CVS és a CVSup alkalmazások ún. <em>lehúzással</em> frissítik a forrásokat. A CVSup használatakor a felhasználó (vagy a <code>cron</code> szkript) meghívja a <code>cvsup</code> programot, amely az állományok aktualizálásához felveszi a kapcsolatot egy máshol megtalálható <code>cvsupd</code> szerverrel. Az így nyert frissítések az adott pillanatig visszemenõleg érkeznek meg, de csak akkor, ha igényeljük ezeket. A frissítést könnyedén le tudjuk szabályozni a számunkra érdekes egyes állományokra és könyvtárakra. A frissítéseket a szerver hozza létre menet közben annak megfelelõen, hogy milyen verziókkal rendelkezünk, és mihez akarunk szinkronizálni. Az Anonim CVS a CVSupnál valamivel egyszerûbb abban a tekintetben, hogy ez a CVS-nek egy olyan kiterjesztése, amely lehetõvé teszi a változtatások közvetlen lehúzását egy távoli CVS tárházból. Miközben a CVSup mindezt sokkal hatékonnyabb valósítja meg, addig az Anonim CVS jóval könnyebben használható.</p></div><div class=paragraph><p>Velük szemben a CTM nem hasonlítja össze interaktívan a saját és a központi szerveren tárolt forrásokat és nem is húzza át ezeket. Ehelyett egy olyan szkriptõl van szó, amely naponta többször megvizsgálja a központi CTM szerveren tárolt állományok a legutóbbi futtatás óta keletkezett változtatásait, majd az észlelt módosulásokat betömöríti, felcímkézi egy sorozatszámmal és (nyomtatható ASCII formátumban) elõkészíti ezeket az e-mailen keresztüli küldésre. Az így létrehozott "CTM delták" megérkezésük után a <a href="https://man.freebsd.org/cgi/man.cgi?query=ctm_rmail&amp;sektion=1&amp;format=html">ctm_rmail(1)</a> segédprogrammal kerülnek feldolgozásra, amely magától visszaalakítja, ellenõrzi és alkalmazza a változtatásokat a forrásfa felhasználó birtokában levõ másolatára. Ez a megoldás hatékonyabb a CVSup használatánál, mert kisebb terhelést jelent a szerverek számára, hiszen a frissítéshez nem a <em>lehúzást</em>, hanem a <em>küldést</em> alkalmazzák.</p></div><div class=paragraph><p>Természetesen minden említett eljárásnak megvannak a maga kompromisszumai. Ha véletlenül kitöröljük a forrásfánk egyes részeit, a CVSup képes ezt észrevenni és helyreállítani a sérült részeket. A CTM ezzel szemben ezt nem végzi el, szóval ha (biztonsági mentés nélkül) letöröljük a forrásainkat, akkor az egész szinkronizálást az elejérõl kell kezdenünk (pontosabban a legfrissebb CVS-es "alapdeltától") és a CTM-mel újraépíteni az egészet, esetleg a Anonim CVS-sel letörölni a hibás adatokat és újraszinkronizálni.</p></div></div></div><div class=sect1><h2 id=makeworld>24.7. Az alaprendszer újrafordítása<a class=anchor href=#makeworld></a></h2><div class=sectionbody><div class=paragraph><p>Miután sikerült a helyi forrásfánkat a FreeBSD egy nekünk szimpatikus (FreeBSD-STABLE, FreeBSD-CURRENT és így tovább) változatához igazítanunk, elérkezett az idõ, hogy a segítségével újrafordítsuk az egész rendszert.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Készítsünk biztonsági mentést</div><div class=paragraph><p>Nem tudjuk eléggé nyomatékosítani, hogy <em>mielõtt</em> nekikezdenénk, készítsünk egy biztonsági mentést a rendszerünkrõl. Míg az alaprendszer újrafordítása nem túlságosan bonyolult feladat (egészen addig, amíg a megadott utasításokat követjük), saját magunk vagy mások hibájából fakadóan kialakulhatnak olyan helyzetek, amikor a rendszer nem lesz képes elindulni.</p></div><div class=paragraph><p>Mindenképpen gyõzödjünk meg róla, hogy tisztességesen elvégeztük a mentést és akad a kezünk ügyében egy javításra felhasználható rendszerindító floppy vagy CD. Valószínûleg soha nem lesz ténylegesen szükségünk rájuk, azonban jobb félni, mint megijedni!</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Iratkozzunk fel a megfelelõ levelezési listákra</div><div class=paragraph><p>A FreeBSD-STABLE és FreeBSD-CURRENT ágak természetüknél fogva <em>fejlesztés alatt állnak</em>. A FreeBSD fejlesztését is emberek végzik, ezért elõfordulhatnak benne tévedések.</p></div><div class=paragraph><p>Ezek a tévedések gyakran csak ártalmatlan apróságok, amelyek hatására kapunk például egy ismeretlen diagnosztikai hibát. De ezzel szemben létrejöhetnek pusztító erejû hibák is, amelyek hatására a rendszerünk nem lesz képes elindulni, károsodnak az állományrendszerek (vagy még rosszabb).</p></div><div class=paragraph><p>Ha ilyen történik, akkor egy "felszólítást" (egy "heads up" témájú üzenetet) küldenek az érintett változatokhoz tartozó listákra, amelyben igyekeznek kifejteni a probléma természetét és a rendszerre mért hatását. Miután "minden rendbejött", a probléma megoldásáról is küldenek egy értesítést.</p></div><div class=paragraph><p>Ha a <a href=https://lists.FreeBSD.org/subscription/freebsd-stable>FreeBSD-STABLE; levelezési lista</a> vagy a <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT levelezési lista</a> olvasása nélkül próbáljuk meg használni a FreeBSD-STABLE és FreeBSD-CURRENT verziókat, akkor csak magunknak keressük a bajt.</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Ne használjuk a <code>make world</code> parancsot</div><div class=paragraph><p>Rengeteg régebben készült dokumentáció erre a feladatra a <code>make world</code> parancs kiadását javasolja. Ennek használatával azonban átlépünk olyan fontos lépéseket, amelyek valójában csak akkor lennének kihagyhatóak, ha pontosan tudjuk mit csinálunk. Ezért az esetek döntõ többségében nem a <code>make world</code> használatára van szükségünk, hanem a most bemutatandó eljárásra.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=canonical-build>24.7.1. A rendszer frissítése dióhéjban<a class=anchor href=#canonical-build></a></h3><div class=paragraph><p>A frissítés megkezdése elõtt érdemes elolvasnunk a <span class=filename>/usr/src/UPDATING</span> állományt, ahol a letöltött források használatához elvégzendõ elõzetes intézkedésekrõl kaphatunk hírt. Ezután kövessük az alábbiakban körvonalazott módszer egyes lépéseit.</p></div><div class=paragraph><p>Ezek a lépések feltételezik, hogy egy korábbi FreeBSD verziót használunk, tehát a fordító, a rendszermag, az alaprendszer és a konfigurációs állományok valamelyik régebbi változatát. Alaprendszer alatt, amelyet sokszor csak a "world" néven hivatkozunk, a rendszer számára alapvetõ fontosságú binárisokat, programkönyvtárakat és programfejlesztéshez szükséges egyéb állományokat értjük. Maga a fordítóprogram is része ennek, azonban tartalmaz néhány speciális megszorítást.</p></div><div class=paragraph><p>Mindezek mellett továbbá feltételezzük, hogy elõzetesen már valamilyen módon letöltöttük a friss forrásokat. Ha rendszerünkön ezt még nem tettük volna meg, akkor a <a href=#synching>A forrás szinkronizálása</a> segítségével tájékozódhatunk részletesen arról, hogyan tölthetjük le a legfrissebb verziót.</p></div><div class=paragraph><p>A rendszer forráskódon keresztüli frissítése egy kicsivel körülményesebb, mint amennyire elsõre látszik. A FreeBSD fejlesztõk az évek során fontosnak találták, hogy a folyamatosan felszínre bukkanó, elkerülhetetlen függõségek tükrében meglehetõsen drámai módon megváltoztassák az erre javasolt módszert. Ezért a szakasz további részében a pillanatnyilag javasolt frissítési megoldás nyomán fogunk haladni.</p></div><div class=paragraph><p>A sikeres frissítések során az alábbi akadályokkal kell mindenképpen szembenéznünk:</p></div><div class=ulist><ul><li><p>A fordító régebbi változata nem feltétlenül lesz képes lefordítani az új rendszermagot. (Illetve a régebbi fordítóprogramok tartalmazhatnak hibákat.) Ezért az új rendszermagot már a fordító új változatával kell elõállítanunk. Ebbõl következik, hogy az új rendszermag elkészítéséhez elõször a fordítóprogram újabb változatát kell lefordítanunk. Ez viszont nem feltétlenül jelenti azt, hogy az új rendszermag fordítása elõtt az új fordítóprogramot <em>telepítenünk</em> is kellene.</p></li><li><p>Az új alaprendszer esetenként bizonyos új funkciókat igényelhet a rendszermagtól. Ezért a frissebb alaprendszer telepítése elõtt telepítenünk kell a frissebb rendszermagot.</p></li><li><p>Ez az elõbb említett két akadály képzi az okát a következõ bekezdésekben bemutatott <code>buildworld</code>, <code>buildkernel</code>, <code>installkernel</code>, <code>installworld</code> sorozatnak. Természetesen léteznek további egyéb indokok is, amiért még érdemes az itt leírtak szerint frissíteni a rendszerünket. Ezek közül most vegyünk néhány kevésbé nyilvánvalóbbat:</p><div class=ulist><ul><li><p>A régebbi alaprendszer nem minden esetben fog problémamentesen együttmûködni az új rendszermaggal, ezért az alaprendszer újabb változatát szinte azonnal az új rendszermagot követõen kell telepítenünk.</p></li><li><p>Vannak olyan konfigurációs változtatások, amelyeket még az új alaprendszer telepítése elõtt el kell végeznünk, a többi viszont veszélyes lehet a korábbi alaprendszerre. Ezért a konfigurációs állományokat általában két külön lépésben kell frissíteni.</p></li><li><p>A frissítés során nagyrészt csak állományok cserélõdnek el és újabbak érkeznek, a korábbiak nem törlõdnek. Ez bizonyos esetekben azonban gondokat okozhat. Ennek eredményeképpen a frissítés során idõnként elõfordulhat, hogy magunknak kell manuálisan némely megadott állományokat törölnünk. Elképzelhetõ, hogy ezt a jövõben még majd automatizálni fogják.</p></li></ul></div><div class=paragraph><p>Ezek a megfontolások vezettek tehát az ismertetendõ eljárás kialakításához. Ettõl függetlenül adódhatnak olyan helyzetek, amikor további lépéseket is be kell iktatnunk, viszont az itt bemutatott folyamat egy ideje már viszonylag elfogadottnak tekinthetõ:</p></div><div class="olist loweralpha"><ol class=loweralpha type=a><li><p><code>make buildworld</code></p><div class=paragraph><p>Elõször lefordítja az új fordítóprogramot és néhány hozzá tartozó eszközt, majd ennek felhasználásával elkészíti az alaprendszer többi részét. Az eredmény a <span class=filename>/usr/obj</span> könyvtárban keletkezik.</p></div></li><li><p><code>make buildkernel</code></p><div class=paragraph><p>Eltérõen a <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> programok korábban javasolt alkalmazásától, ezzel a paranccsal már a <span class=filename>/usr/obj</span> könyvtárban létrehozott <em>új</em> fordítót használjuk. Ez védelmet nyújt a fordító és rendszermag változatai közti eltérésekbõl fakadó problémák ellen.</p></div></li><li><p><code>make installkernel</code></p><div class=paragraph><p>Telepíti a lemezre az új rendszermagot és a hozzá tartozó modulokat, ezáltal lehetõvé válik a frissített rendszermag betöltése.</p></div></li><li><p>Átváltás egyfelhasználós módba.</p><div class=paragraph><p>Egyfelhasználós módban a minimálisra csökkenthetjük a futó szoftverek frissítésébõl adódó bonyodalmakat. Ezzel együtt minimálissá válik a régi alaprendszer és az új rendszermag eltéréseibõl eredõ problémák elõfordulása is.</p></div></li><li><p><code>mergemaster -p</code></p><div class=paragraph><p>Az új alaprendszer telepítéséhez elvégzi a konfigurációs állományok részérõl szükséges frissítéseket. Például felvesz még nem létezõ csoportokat vagy felhasználókat. Ez gyakran elengedhetetlennek bizonyulhat, mivel ha a rendszer legutóbbi frissítése óta újabb csoportok vagy felhasználók kerültek be az alaprendszerbe, a <code>installworld</code> csak akkor tud hibamentesen lefutni, ha ezek már a futásakor is elérhetõek.</p></div></li><li><p><code>make installworld</code></p><div class=paragraph><p>Átmásolja a <span class=filename>/usr/obj</span> könyvtárból a korábban elkészített új alaprendszert. Lefutása után már mind az új rendszermag és az új alaprendszer a megfelelõ helyén található.</p></div></li><li><p><code>mergemaster</code></p><div class=paragraph><p>Feldolgozzuk a korábbi fázisból fennmaradó konfigurációs állományok frissítését, mivel most már elérhetõ az új alaprendszer.</p></div></li><li><p>A rendszer újraindítása.</p><div class=paragraph><p>Az új rendszermag és az új konfigurációs állományokkal futó alaprendszer használatához teljesen újra kell indítanunk a számítógépünket.</p></div><div class=paragraph><p>Ha a FreeBSD ugyanazon fejlesztési ágán belül frissítjük a rendszerünket, például a 7.0 kiadásról a 7.1 kiadásra, akkor értelemszerûen nem kell az iménti eljárás minden lépését szorosan követni, hiszen nagyon valószínûtlen, hogy komoly eltérések lennének a fordítóprogram, a rendszermag, az alaprendszer és a konfigurációs állományok között. Ilyenkor akár nyugodtan kiadhatjuk a <code>make world</code> parancsot, majd kérhetjük a rendszermag fordítását és telepítését.</p></div><div class=paragraph><p>A fejlesztési ágak közti váltás során azonban könnyen érhetnek minket meglepetések, ha nem a megadottak szerint járunk el.</p></div><div class=paragraph><p>Egyes váltásokhoz (például 4.<em>X</em> és 5.0 között) további lépések megtétele is szükséges lehet (például adott állományok törlése vagy átnevezése még az <code>installworld</code> elõtt). Ilyenkor mindig figyelmesen olvassuk át a <span class=filename>/usr/src/UPDATING</span> állományt, különös tekintettel a végére, mivel gyakran ott adják meg a konkrét verzióváltáshoz szükséges teendõket.</p></div><div class=paragraph><p>A szakaszban összefoglalt lépések egyfajta evolúciós folyamat eredményei, melynek során a fejlesztõk felismerték, hogy nem tökéletesen kivédeni az összes frissítéssel járó problémát. A javasolt eljárás remélhetõleg viszont még sokáig érvényes marad.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A FreeBSD 3.<em>X</em> vagy annál is korábbi változatok frissítése még ennél is több ügyességet kíván. Ha ilyen verziót akarunk frissíteni, akkor feltétlenül olvassuk el az <span class=filename>UPDATING</span> állományt!</p></div></td></tr></tbody></table></div><div class=paragraph><p>Röviden tehát a FreeBSD forráskódon keresztüli frissítését így foglalhatjuk össze:</p></div></li></ol></div></li></ul></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make buildworld</span>
<span class=c># make buildkernel</span>
<span class=c># make installkernel</span>
<span class=c># shutdown -r now</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Néhány ritka esetben a <code>buildworld</code> lépés elõtt szükségünk lehet a <code>mergemaster -p</code> parancs lefuttatására is. Errõl az <span class=filename>UPDATING</span> állományból tudakozódhatunk. Általában azonban nyugodt szívvel kihagyhatjuk ezt a lépést, kivéve, ha nem egy vagy több fõbb FreeBSD változatot átívelõ frissítést végzünk.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Miután az <code>installkernel</code> sikeresen befejezte a munkáját, indítsuk újra a számítógépet egyfelhasználós módban (a betöltõ parancssorában adjuk ki <code>boot -s</code> parancsot). Itt futtassuk a következõket:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># adjkerntz -i</span>
<span class=c># mount -a -t ufs</span>
<span class=c># mergemaster -p</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld</span>
<span class=c># mergemaster</span>
<span class=c># reboot</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Olvassuk el a magyarázatokat</div><div class=paragraph><p>Az iménti leírt folyamat csupán rövid összefoglalás, amivel némi gyorstalpalást igyekeztünk adni. Az egyes lépések megértéséhez azonban javasolt átolvasni a most következõ szakaszokat is, különösen abban az esetben, ha saját rendszermagot akarunk használni.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=src-updating>24.7.2. Nézzük meg a <span class=filename>/usr/src/UPDATING</span> állományt<a class=anchor href=#src-updating></a></h3><div class=paragraph><p>Mielõtt bármihez is nekifognánk, keressük meg a <span class=filename>/usr/src/UPDATING</span> (vagy hasonló, a forráskód másolatunk tényleges helyétõl függõ) állományt. Ebben adják hírül az esetlegesen felmerülõ problémákra vonatkozó fontosabb információkat, vagy határozzák meg az egyes lefuttatandó parancsok pontos sorrendjét. Amennyiben az <span class=filename>UPDATING</span> ellentmondana az itt olvasottaknak, az <span class=filename>UPDATING</span> tartalma a mérvadó.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>A korábban tárgyaltak szerint az <span class=filename>UPDATING</span> elolvasása nem helyettesíti a megfelelõ levelezési listák figyelemmel kísérését. Ez a két elvárás nem kizárja, hanem kiegészíti egymást.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=make-conf>24.7.3. Ellenõrizzük az <span class=filename>/etc/make.conf</span> állományt<a class=anchor href=#make-conf></a></h3><div class=paragraph><p>Vizsgáljuk át a <span class=filename>/usr/shared/examples/etc/make.conf</span> és az <span class=filename>/etc/make.conf</span> állományokat. Az elõbbi tartalmaz néhány alapértelmezett beállítást - ezek javarészét megjegyzésbe rakták. Ha használni akarjuk a rendszer lefordítása során, tegyük bele ezeket az <span class=filename>/etc/make.conf</span> állományba. Ne felejtsük el azonban, hogy minden, amit megadunk az <span class=filename>/etc/make.conf</span> állományba, a <code>make</code> minden egyes elindításakor felhasználásra kerül. Éppen ezért olyanokat érdemes itt beállítani, amik az egész rendszerünket érintik.</p></div><div class=paragraph><p>A legtöbb felhasználó számára az <span class=filename>/etc/make.conf</span> állományhoz a <span class=filename>/usr/shared/examples/etc/make.conf</span> állományban található <code>CFLAGS</code> és <code>NO_PROFILE</code> sorokra lesz szüksége, melyeket kivehetünk a megjegyzésbõl.</p></div><div class=paragraph><p>A többi definíció (<code>COPTFLAGS</code>, <code>NOPORTDOCS</code> és így tovább) használatáról már mindenki maga dönt.</p></div></div><div class=sect2><h3 id=updating-etc>24.7.4. Frissítsük az <span class=filename>/etc</span> tartalmát<a class=anchor href=#updating-etc></a></h3><div class=paragraph><p>Az <span class=filename>/etc</span> könyvtár tartalmazza a rendszer beállításaival kapcsolatos információk jelentõs részét, valamint a rendszer indítása során lefutó szkripteket. Egyes szkriptek a FreeBSD verzióiról verzióira változnak.</p></div><div class=paragraph><p>Némely konfigurációs állományok a rendszer hétköznapi mûködésében is szerepet játszanak. Ilyen például az <span class=filename>/etc/group</span>.</p></div><div class=paragraph><p>Alkalmanként a <code>make installworld</code> parancs futása során igényt tart adott nevû felhasználókra és csoportokra. A frissítéskor azonban ezek a felhasználók vagy csoportok nem feltétlenül állnak rendelkezésre, ami gondokat okozhat. Ezért bizonyos esetekben a <code>make buildworld</code> elõzetesen ellenõrzi az igényelt felhasználók és csoportok meglétét.</p></div><div class=paragraph><p>Erre például szolgálhat a <code>smmsp</code> felhasználó esete. Nélküle a felhasználók nem tudták telepíteni az új rendszert, mert hiányában az <a href="https://man.freebsd.org/cgi/man.cgi?query=mtree&amp;sektion=8&amp;format=html">mtree(8)</a> nem volt képes létrehozni a <span class=filename>/var/spool/clientmqueue</span> könyvtárat.</p></div><div class=paragraph><p>Ezt úgy lehetett megoldani, hogy még az alaprendszer lefordítása (a <code>buildworld</code>) elõtt meg kellett hívni a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> parancsot a <code>-p</code> paraméterrel. Így csak azokat az állományokat fogja összehasonlítani, amelyek feltétlenül szükségesek a <code>buildworld</code> vagy az <code>installworld</code> sikeres mûködéséhez. Amennyiben a <code>mergemaster</code> egy olyan verziójával rendelkezünk, amely nem ismeri a <code>-p</code> paramétert, akkor az elsõ indításakor használjuk a forrásfában található újabb verzióját:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/usr.sbin/mergemaster</span>
<span class=c># ./mergemaster.sh -p</span></code></pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Ha különösen paranoiásak vagyunk, akkor a csoport törlése vagy átnevezése elõtt az alábbi paranccsal ellenõrizni tudjuk az általa birtokolt állományokat:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># find / -group GID -print</span></code></pre></div></div><div class=paragraph><p>Ez megmutatja <em>GID</em> (mely megadható numerikus vagy név formájában is) jelzésû csoporthoz tartozó összes állományt a rendszerünkben.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=makeworld-singleuser>24.7.5. Váltsunk egyfelhasználós módba<a class=anchor href=#makeworld-singleuser></a></h3><div class=paragraph><p>A rendszert egyfelhasználós módban érdemes lefordítani. A nyilvánvalóan érezhetõ gyorsaság elõnyei mellett azért is jobban járunk, mert az új rendszer telepítése során számos rendszerszintû állomány is módosításra kerül, beleértve a szabványos rendszerszintû binárisokat, függvénykönyvtárakat, include állományokat és így tovább. Ha üzemelõ rendszeren végezzük el mindezen változtatásokat (különösen amikor rajtunk kívül még további felhasználók is tartózkodnak a rendszerben), az csak a bajt hozza ránk.</p></div><div class=paragraph><p>Másik lehetõség gyanánt a rendszert magát lefordíthatjuk többfelhasználós módban is, majd ezután csak a telepítést hajtjuk végre egyfelhasználós üzemmódban. Ha eszerint cselekszünk, egyszerûen várjunk addig, amíg az összes fordítás be nem fejezõdik, és az egyfelhasználósra váltást halasszuk a <code>installkernel</code> vagy <code>installworld</code> idejére.</p></div><div class=paragraph><p>Egy mûködõ rendszerben rendszeradminisztrátorként az alábbi parancs kiadásával válthatunk át egyfelhasználós módba:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown now</span></code></pre></div></div><div class=paragraph><p>Ezt elérhetjük úgy is, ha újraindítjuk a rendszert és a rendszer indításakor a "single user" pontot választjuk a menübõl. Ekkor a rendszer egyfelhasználós módban indul el. Miután ez megtörtént, adjuk ki a következõ parancsokat:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fsck -p</span>
<span class=c># mount -u /</span>
<span class=c># mount -a -t ufs</span>
<span class=c># swapon -a</span></code></pre></div></div><div class=paragraph><p>Ezekkel a parancsokkal elõször ellenõrizzük az állományrendszereket, ezután újracsatlakoztatjuk a <span class=filename>/</span> állományrendszert írható módban, csatlakoztatjuk az <span class=filename>/etc/fstab</span> állományban megadott összes többi UFS típusú állományrendszert, majd bekapcsoljuk a lapozóállomány használatát.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha a gépünk óráját nem a greenwich-i, hanem a helyi idõ szerint állítottuk be (ez akkor áll fenn, ha a <a href="https://man.freebsd.org/cgi/man.cgi?query=date&amp;sektion=1&amp;format=html">date(1)</a> parancs nem a helyes idõt és idõzónát jelzi ki), akkor még erre is szükségünk lehet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># adjkerntz -i</span></code></pre></div></div><div class=paragraph><p>Ezzel a helyi idõzóna beállításait tudjuk jól beállítani - nélküle késõbb még gondjaink akadhatnak.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=cleaning-usr-obj>24.7.6. Töröljük a <span class=filename>/usr/obj</span> könyvtárat<a class=anchor href=#cleaning-usr-obj></a></h3><div class=paragraph><p>A rendszer egyes részei fordításuk során a <span class=filename>/usr/obj</span> könyvtáron belülre kerülnek (alapértelmezés szerint). Az itt található könyvtárak a <span class=filename>/usr/src</span> könyvtárszerkezetét követik.</p></div><div class=paragraph><p>Ha mindenestõl töröljük ezt a könyvtárat, akkor növeli tudjuk a <code>make buildworld</code> folyamat sebességét és megmenekülünk néhány függõségekkel kapcsolatos fejfájástól is.</p></div><div class=paragraph><p>Egyes <span class=filename>/usr/obj</span> könyvtáron belüli állományoknál szerepelhet a "megváltoztathatatlan" (immutable) állományjelzõ (lásd <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a>), amelyet a mûvelet elvégzéséhez elõször el kell távolítanunk.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/obj</span>
<span class=c># chflags -R noschg *</span>
<span class=c># rm -rf *</span></code></pre></div></div></div><div class=sect2><h3 id=updating-upgrading-compilebase>24.7.7. Fordítsuk újra az alaprendszert<a class=anchor href=#updating-upgrading-compilebase></a></h3><div class=sect3><h4 id=_a_kimenet_elmentése>24.7.7.1. A kimenet elmentése<a class=anchor href=#_a_kimenet_elmentése></a></h4><div class=paragraph><p>Jól járunk azzal, ha a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> futásának kimenetét elmentjük egy állományba, mivel így a hibák esetén lesz egy másolatunk a hibaüzenetrõl. Ha konkrétan nekünk nem is feltétlenül segít megtalálni a hiba tényleges okát, mások viszont többet tudnak róla mondani, ha beküldjük ezt a FreeBSD egyik levelezési listájára.</p></div><div class=paragraph><p>Ezt egyébként a legegyszerûbben a <a href="https://man.freebsd.org/cgi/man.cgi?query=script&amp;sektion=1&amp;format=html">script(1)</a> parancs segítségével oldhatjuk meg, amelynek paraméteréül azt az állományt kell megadni, ahova menteni akarjuk a kimenetet. Ezt közvetlenül a rendszer újrafordítása elõtt kell kiadnunk, majd miután megállt, a <code>exit</code> paranccsal kiléphetünk belõle.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># script /var/tmp/mw.out</span>
Script started, output file is /var/tmp/mw.out
<span class=c># make TARGET</span>
... fordít, fordít, fordít ...
<span class=c># exit</span>
Script <span class=k>done</span>, ...</code></pre></div></div><div class=paragraph><p>Ilyenkor <em>soha ne</em> a <span class=filename>/tmp</span> könyvtárba mentsük a kimenetet, mert ennek a tartalma a következõ indítás során magától törlõdik. Sokkal jobban tesszük, ha a <span class=filename>/var/tmp</span> könyvtárba (ahogy tettük azt az elõbbi példában is) vagy a <code>root</code> felhasználó könyvtárába mentünk.</p></div></div><div class=sect3><h4 id=make-buildworld>24.7.7.2. Az alaprendszer fordítása<a class=anchor href=#make-buildworld></a></h4><div class=paragraph><p>A <span class=filename>/usr/src</span> könyvtárban kell állnunk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span></code></pre></div></div><div class=paragraph><p>(kivéve természetesen, ha máshol van a forráskód, akkor abba a könyvtárba menjünk).</p></div><div class=paragraph><p>Az alaprendszert a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> paranccsal fordíthatjuk újra. Ez a <span class=filename>Makefile</span> nevû állományból olvassa be a FreeBSD programjainak újrafordítását leíró utasításokat, a fordításuk sorrendjét és így tovább.</p></div><div class=paragraph><p>A begépelendõ paranccsor általános alakja tehát a következõképpen néz ki:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -x -DVÁLTOZÓ target</span></code></pre></div></div><div class=paragraph><p>A fenti példában a <code>-<em>x</em></code> egy olyan a paraméter, amelyet a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> programnak adunk át. A <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> man oldalán megtalálhatjuk az összes neki átadható ilyen beállítást.</p></div><div class=paragraph><p>A <code>-D_VÁLTOZÓ_</code> alakú paraméterek közvetlenül a <span class=filename>Makefile</span> állománynak adnak át olyan változókat, amelyek segítségével vezérelhetõ a viselkedése. Ezek ugyanazok a változók, mint amelyek az <span class=filename>/etc/make.conf</span> állományban is szerepelnek, és itt a beállításuk egy másik módját kapjuk. Így a</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -DNO_PROFILE target</span></code></pre></div></div><div class=paragraph><p>paranccsal is megadhatjuk, hogy ne profilozott függkönyvtárak jöjjenek létre, ami pontosan megfelel a</p></div><div class="literalblock programlisting"><div class=content><pre>NO_PROFILE=    true 	#    Avoid compiling profiled libraries</pre></div></div><div class=paragraph><p>sornak az <span class=filename>/etc/make.conf</span> állományban.</p></div><div class=paragraph><p>A <em>target</em> árulja el a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> programnak, hogy mi a teendõje. Minden egyes <span class=filename>Makefile</span> különbözõ "targeteket" definiál, és a kiválasztott target mondja meg, pontosan mi is fog történni.</p></div><div class=paragraph><p>Egyes targetek ugyan megjelennek a <span class=filename>Makefile</span> állományban, azonban nem feltétlenül hivatkozhatunk rájuk közvetlenül. Ehelyett csupán arra valók, hogy a fordítás folyamatának lépéseit felbontsák még kisebb allépésekre.</p></div><div class=paragraph><p>A legtöbb esetben azonban semmilyen paramétert nem kell átadnunk a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> parancsnak, ezért a teljes formája így fog kinézni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make target</span></code></pre></div></div><div class=paragraph><p>ahol a <em>target</em> az egyik fordítási lehetõséget képviseli. Az elsõ ilyen targetnek mindig a <code>buildworld</code>-nek kell lennie.</p></div><div class=paragraph><p>Ahogy a neve is mutatja, a <code>buildworld</code> lefordítja az összes forrást a <span class=filename>/usr/obj</span> könyvtárba, majd a <code>installworld</code> mint másik target, telepíti az így létrehozott elemeket a számítógépre.</p></div><div class=paragraph><p>A targetek szétválasztása két okból is elõnyös. Elõször is lehetõvé teszi, hogy az új rendszert biztonságban lefordíthassuk, miközben az a jelenleg futó rendszert nem zavarja. A rendszer tehát képes "saját magát újrafordítani". Emiatt a <code>buildworld</code> target akár többfelhasználós módban is mindenféle nem kívánatos hatás nélkül használható. Ennek ellenére azonban továbbra is azt javasoljuk, hogy a <code>installworld</code> részt egyfelhasználós módban futtassuk le.</p></div><div class=paragraph><p>Másodrészt ezzel lehetõségünk nyílik NFS állományrendszer alkalmazásával több számítógépre is telepíteni hálózaton keresztül. Ha például három frissítendõ számítógépünk van, az <code>A</code>, <code>B</code> és <code>C</code>, akkor az <code>A</code> gépen elõször adjuk ki a <code>make buildworld</code>, majd a <code>make installworld</code> parancsot. A <code>B</code> és <code>C</code> gépek ezután NFS segítségével csatlakoztatják az <code>A</code><span class=filename>/usr/src</span> és <span class=filename>/usr/obj</span> könyvtárait, amelyet követõen a <code>make installworld</code> paranccsal telepíteni tudjuk a fordítás eredményét a <code>B</code> és <code>C</code> gépekre.</p></div><div class=paragraph><p>Noha a <code>world</code> mint target még mindig létezik, használata határozottan ellenjavalt.</p></div><div class=paragraph><p>A</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make buildworld</span></code></pre></div></div><div class=paragraph><p>parancs kiadásakor a <code>make</code> parancsnak megadható egy <code>-j</code> paraméter is, amellyel párhuzamosíthatjuk a folyamat egyes részeit. Ez általában többprocesszoros számítógépeken nyer értelmet, azonban mivel a fordítás folyamatának haladását inkább az állománymûveletek mintsem a processzor sebessége korlátozza, ezért alkalmazható akár egyprocesszoros gépeken is.</p></div><div class=paragraph><p>Tehát egy átlagos egyprocesszoros gépen így adható ki a parancs:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -j4 buildworld</span></code></pre></div></div><div class=paragraph><p>Ennek hatására <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> egyszerre 4 szálon igyekszik mûködni. A levelezési listákra beküldött tapasztalati jellegû bizonyítékok azt igazolják, hogy általában ez a beállítás adja a legjobb teljesítményt.</p></div><div class=paragraph><p>Ha többprocesszoros géppel rendelkezünk és rajta SMP támogatású rendszermagot indítottunk el, akkor érdemes 6 és 10 közötti értékekkel kísérleteznünk.</p></div></div><div class=sect3><h4 id=_idõigény>24.7.7.3. Idõigény<a class=anchor href=#_idõigény></a></h4><div class=paragraph><p>Számos tényezõ befolyásolja a fordítás tényleges idõbeli hosszát, de a FreeBSD-STABLE fa lefordítása mindenféle trükkök és rövidítések nélkül a legtöbb számítógépen olyan egy vagy két órára taksálható. A FreeBSD-CURRENT fához ennél valamivel több idõre lesz szükségünk.</p></div></div></div><div class=sect2><h3 id=new-kernel>24.7.8. Fordítsunk és telepítsünk egy új rendszermagot<a class=anchor href=#new-kernel></a></h3><div class=paragraph><p>Az újdonsült rendszerünket csak akkor tudjuk igazán kihasználni, ha egy új rendszermagot is készítünk hozzá. Ez gyakorlati szinten tulajdonképpen elvárás, mivel könnyen elõfordulhat, hogy bizonyos memóriabeli adatszerkezetek felépítése megváltozott, ezért némely programok, mint például a <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a>, egészen addig nem lesznek képesek normálisan mûködni, amíg a rendszer és a rendszermag forráskódja nem illeszkedik egymáshoz.</p></div><div class=paragraph><p>Ennek legegyszerûbb és egyben legbiztonságosabb módja, ha a <span class=filename>GENERIC</span> beállításai alapján gyártunk és telepítünk egy rendszermagot. Még ha a <span class=filename>GENERIC</span> beállításai nem is tartalmazzák a rendszerünkben fellelhetõ összes eszközt, minden megtalálható bennük ahhoz, hogy a rendszert sikeresen elindíthassuk legalább egyfelhasználós módban. Ez mellesleg remek próbája az új rendszer életképességének. Miután elindítottuk a rendszert a <span class=filename>GENERIC</span> típusú rendszermaggal és meggyõzõdtünk róla, hogy a rendszer tényleg mûködõképes, a megszokott rendszermagunk konfigurációs állománya alapján nyugodtan elkészíthetjük ezután azt is.</p></div><div class=paragraph><p>FreeBSD alatt egy új rendszermag építése elõtt fontos <a href=#make-buildworld>újrafordítani az alaprendszert</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha saját beállításaink szerint akarunk rendszermagot létrehozni és már van is ehhez egy konfigurációs állományunk, akkor erre használhatjuk a <code>KERNCONF=SAJÁTMAG</code> paramétert is, valahogy így:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make buildkernel KERNCONF=SAJÁTMAG</span>
<span class=c># make installkernel KERNCONF=SAJÁTMAG</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Hozzátennénk, hogy ha a <code>kern.securelevel</code> rendszerváltozó értékét 1 felé állítottuk <em>és</em> a rendszermag állományának beállítottunk <code>noschg</code> vagy hozzá hasonló állományjelzõt, akkor az <code>installkernel</code> lefuttatásához mindenképpen egyfelhasználós módba kell váltanunk. Minden más esetben további bonyodalmak nélkül ki tudjuk adni az említett parancsokat. A <code>kern.securelevel</code> részleteirõl az <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> oldalán, a különbözõ állományjelzõkrõl pedig a <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a> oldalán olvashatunk.</p></div></div><div class=sect2><h3 id=new-kernel-singleuser>24.7.9. Indítsuk újra a rendszert egyfelhasználós módban<a class=anchor href=#new-kernel-singleuser></a></h3><div class=paragraph><p>Az új rendszermag mûködésének leteszteléséhez indítsuk újra a rendszert egyfelhasználós módban. Ennek pontos részleteit lásd <a href=#makeworld-singleuser>Váltsunk egyfelhasználós módba</a>.</p></div></div><div class=sect2><h3 id=make-installworld>24.7.10. Telepítsük az új rendszer binárisait<a class=anchor href=#make-installworld></a></h3><div class=paragraph><p>Ha a FreeBSD friss változatát nemrég fordítottuk le a <code>make buildworld</code> paranccsal, akkor utána az <code>installworld</code> segítségével tudjuk telepíteni a keletkezett programokat.</p></div><div class=paragraph><p>Tehát írjuk be ezeket:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span>
<span class=c># make installworld</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Amennyiben a paranccsorban a <code>make buildworld</code> használata során adtunk meg változókat, akkor ne felejtsük el ugyanazokat megadni a <code>make installworld</code> kiadása során sem. Ez viszont a többi paraméterre már nem feltétlenül érvényes. Például a <code>-j</code> beállítást szigorúan tilos az <code>installworld</code> targettel együtt használni.</p></div><div class=paragraph><p>Ennek megfelelõen tehát ha korábban ezt írtuk be:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -DNO_PROFILE buildworld</span></code></pre></div></div><div class=paragraph><p>akkor így telepítsünk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make -DNO_PROFILE installworld</span></code></pre></div></div><div class=paragraph><p>Máskülönben azokat a profilozott függvénykönyvtárakat próbáljuk meg telepíteni, amelyek a <code>make buildworld</code> futása során nem jöttek létre.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=post-installworld-updates>24.7.11. Frissítsük a <code>make installworld</code> által kihagyott állományokat<a class=anchor href=#post-installworld-updates></a></h3><div class=paragraph><p>Az alaprendszer újrafordítása nem regisztrálja az új vagy megváltozott állományokat bizonyos könyvtárakban (különösen értendõ ez az <span class=filename>/etc</span>, <span class=filename>/var</span> és <span class=filename>/usr</span> esetén).</p></div><div class=paragraph><p>Az ilyen állományokat a legegyszerûbben a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> használatával tarthatjuk karban, de igény szerint akár kézzel is elvégezhetjük a szükséges aktualizálásokat. Függetlenül attól, hogy mit is választunk, mindenképpen készítsünk biztonsági mentést az <span class=filename>/etc</span> könyvtárról arra az esetre, ha bármilyen szörnyûség történne.</p></div><div class=sect3><h4 id=mergemaster>24.7.11.1. A <code>mergemaster</code><a class=anchor href=#mergemaster></a></h4><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> segédprogram valójában egy Bourne szkript, amely segít az <span class=filename>/etc</span> könyvtárunkban és a forrásfában levõ <span class=filename>/usr/src/etc</span> könyvtárban elhelyezkedõ konfigurációs állományok közti eltérések megállapításában. Ezt a módszert ajánljuk arra, hogy összevessük a konfigurációs állományainkat a forrásfában található változataikkal.</p></div><div class=paragraph><p>A használatának megkezdéséhez egyszerûen írjuk be, hogy <code>mergemaster</code>, majd várjunk egy kicsit, amíg a <code>mergemaster</code> létrehoz magának egy átmeneti környezetet a <span class=filename>/</span> könyvtárból elindulva és megtölti azt a különbözõ rendszerszintû beállításokat tartalmazó állományokkal. Ezeket az állományokat aztán összehasonlítja a jelenleg érvényben levõ változataikkal. Ilyenkor a köztük talált eltéréseket a <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> formátumának megfelelõen módon mutatja meg, ahol a <code>+</code> jelöli a hozzáadott vagy módosított sorokat, a <code>-</code> pedig a teljesen eltávolítandó vagy cserélendõ sorokat. Errõl a formátumról bõvebben a <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> man oldalán találhatunk felvilágosítást.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> ezt követõen megmutatja az összes olyan állományt, ahol eltérést tapasztalt, és ezen a ponton van lehetõségünk letörölni (delete) az új állományokat (amelyekre itt most ideiglenes állományként hivatkozik), telepíteni (install) a módosítatlan ideiglenes (új) állományt, valamint összefésülni (merge) az ideiglenes (új) és a jelenlegi állományokat, vagy ismét átnézni (view) a <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> által jelzett különbségeket.</p></div><div class=paragraph><p>Ha az ideiglenes állomány törlését választjuk, akkor a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> ezt úgy értelmezi, hogy változatlanul meg akarjuk tartani a jelenlegi változatot és törölni az újat. Ezt alapvetõen nem javasoljuk, hacsak tényleg nem látunk valamilyen okot erre. A <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> parancssorában a <kbd>?</kbd> begépelésével bármikor kérhetünk segítséget. Ha az állomány kihagyását (skip) választjuk, akkor majd ismét felajánlja, amikor végeztünk az összes többivel.</p></div><div class=paragraph><p>A módosítatlan ideiglenes állomány telepítésének választásával lecseréljük a jelenleg verziót az újra. Ha az aktuális verziót sem változtattuk meg, akkor számunkra ez a legjobb megoldás.</p></div><div class=paragraph><p>Az állományok összefésülésének kiválasztásakor kapunk egy szövegszerkesztõt, benne a két állomány tartalmával. Ilyenkor tudjuk a képernyõn soronként egyeztetni a két állományt, majd a belõlük a megfelelõ részek összeválogatásával kialakítani az eredményt. Ebben a feldolgozási módban az <kbd>l</kbd> (mint left, vagyis bal) billentyû lenyomására a bal oldalon látható részt, az <kbd>r</kbd> (mint right, vagyis jobb) lenyomására pedig a jobb oldalon látható részt választjuk ki. Az így keletkezõ eredményt ezután egy állományba kerül, amelyet telepíteni tudunk. Ez a megoldás olyan állományok esetében használható, amikor a felhasználó módosított az alapértelmezett beállításokat.</p></div><div class=paragraph><p>Ha a <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> szerinti alakban akarjuk átnézni a különbségeket, akkor a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> ugyanúgy megmutatja ezeket, mint a paranccsor megjelenítése elõtt.</p></div><div class=paragraph><p>Miután a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> végigment a rendszerszintû állományokon, további opciókat mutat. Megkérdezheti, hogy újra létre akarjuk-e hozni a jelszavakat tároló állományt (rebuild), illetve a folyamat végén a megmaradt ideiglenes állományok törlésére (remove) vár választ.</p></div></div><div class=sect3><h4 id=_az_állományok_aktualizálása_kézzel>24.7.11.2. Az állományok aktualizálása kézzel<a class=anchor href=#_az_állományok_aktualizálása_kézzel></a></h4><div class=paragraph><p>Ha inkább manuálisan szeretnénk frissíteni, akkor nem másolhatjuk csak egyszerûen át az állományokat a <span class=filename>/usr/src/etc</span> könyvtárból a <span class=filename>/etc</span> könyvtárba és nem hagyhatjuk ezeket sorsukra. Egyes állományokat elõször "telepíteni" kell. Ez azért van így, mert a <span class=filename>/usr/src/etc</span> könyvtár <em>nem pusztán</em> az <span class=filename>/etc</span> könyvtár egyszerû másolata. Ráadásul az <span class=filename>/etc</span> könyvtárban vannak olyan állományok, amelyek a <span class=filename>/usr/src/etc</span> könyvtárban nem is találhatóak meg.</p></div><div class=paragraph><p>Ha (az ajánlottak szerint) a <a href="https://man.freebsd.org/cgi/man.cgi?query=mergemaster&amp;sektion=8&amp;format=html">mergemaster(8)</a> segítségével dolgozunk, nyugodtan átléphetünk a <a href=#updating-upgrading-rebooting>következõ szakaszra</a>.</p></div><div class=paragraph><p>Saját magunk a legegyszerûbben ezt úgy tudjuk megoldani, ha telepítjük az állományokat egy új könyvtárba és ezután nekiállunk változásokat keresni.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Az <span class=filename>/etc</span> meglevõ tartalmának mentése</div><div class=paragraph><p>Habár elméletileg magától semmi sem fogja bántani ezt a könyvtárat, azért ettõl függetlenül mindig érdemes biztosra menni. Ezért másoljuk az <span class=filename>/etc</span> könyvtár tartalmát egy megbízható helyre. Például:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp -Rp /etc /etc.old</span></code></pre></div></div><div class=paragraph><p>Az <code>-R</code> itt a rekurzív másolást jelenti, a <code>-p</code> pedig a dátumok, az állományok és egyebek tulajdoni viszonyainak megõrzését.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Az <span class=filename>/etc</span> új változatának telepítéséhez szükségünk lesz még további könyvtárakra is. Erre a feladatra a <span class=filename>/var/tmp/root</span> tökéletesen megfelel, ahol még létre kell hoznunk néhány alkönyvtárat.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/root</span>
<span class=c># cd /usr/src/etc</span>
<span class=c># make DESTDIR=/var/tmp/root distrib-dirs distribution</span></code></pre></div></div><div class=paragraph><p>Ezzel létrejön a szükséges könyvtárszerkezet és települnek az állományok. Sok üres alkönyvtár is keletkezik a <span class=filename>/var/tmp/root</span> könyvtáron belül, ezeket töröljük. Ezt a legkönnyebben így tehetjük meg:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /var/tmp/root</span>
<span class=c># find -d . -type d | xargs rmdir 2/dev/null</span></code></pre></div></div><div class=paragraph><p>Ezzel törlõdnek az üres könyvtárak. (A szabvány hibakimenetet átirányítottuk a <span class=filename>/dev/null</span> eszközre, és ezzel elnyomtuk a nem üres könyvtárak esetén keletkezõ hibaüzeneteket.)</p></div><div class=paragraph><p>A <span class=filename>/var/tmp/root</span> most már tartalmazza az összes olyan állományt, amelyek normális esetben a <span class=filename>/</span> könyvtáron belül foglalnak helyet. Ezt követõen nincs más dolgunk, csak végigmenni az itt található állományokon és megállapítani, miben térnek a meglévõektõl.</p></div><div class=paragraph><p>Vegyük észre, hogy a <span class=filename>/var/tmp/root</span> könyvtárba telepített állományok némelyikének neve "."-tal kezdõdik. Az írás pillanatában ezek csak a <span class=filename>/var/tmp/root/</span> és <span class=filename>/var/tmp/root/root/</span> könyvtárakban található parancsértelmezõhöz tartozó indító állományok lehetnek, habár adódhatnak még ilyenek (attól függõen, mikor olvassuk ezt). Ezért a feldolgozásukhoz ne felejtsük el a <code>ls -a</code> parancsot használni.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> alkalmazásával legegyszerûbben így tudunk összehasonlítani két állományt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># diff /etc/shells /var/tmp/root/etc/shells</span></code></pre></div></div><div class=paragraph><p>Ennek hatására megjelennek az <span class=filename>/etc/shells</span> és az új <span class=filename>/var/tmp/root/etc/shells</span> állományok közti különbségek. A segítségével gyorsan el tudjuk dönteni, hogy összefésüljük-e a két állományt, vagy csak egyszerûen írjuk felül a régebbi verziót az újjal.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=title>Az új könyvtár (<span class=filename>/var/tmp/root</span>) nevébe írjuk bele a dátumot is, így könnyedén össze tudunk hasonlítani több verziót is</div><div class=paragraph><p>A rendszer gyakori újrafordítása az <span class=filename>/etc</span> szintén gyakori aktualizálását is maga után vonja, ami viszont fárasztó lehet.</p></div><div class=paragraph><p>Az iménti folyamatot fel tudjuk gyorsítani, hogy ha az <span class=filename>/etc</span> legutoljára összefésült változatát megtartjuk. A most következõ eljárás ennek mikéntjét vázolja fel.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>A megszokottak szerint fordítsuk le a rendszert. Majd amikor az <span class=filename>/etc</span> könyvtárat és a többit is frissíteni akarjuk, a célként megadott könyvtár nevében adjuk meg a dátumot. Ha tehát például 1998. február 14. van, akkor írjuk ezt:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/root-19980214</span>
<span class=c># cd /usr/src/etc</span>
<span class=c># make DESTDIR=/var/tmp/root-19980214 \</span>
    distrib-dirs distribution</code></pre></div></div></li><li><p>Fésüljük össze a könyvtárban található az állományokat a fentiekben körvonalazottak szerint.</p><div class=paragraph><p>Befejezés után <em>õrizzük meg</em> a <span class=filename>/var/tmp/root-19980214</span> könyvtárat.</p></div></li><li><p>Mikor újra letöltjük a legfrissebb forrásokat és megismételjük az elõbbi lépéseket, haladjunk megint az elsõ lépés szerint. Ekkor tehát létrejön egy újabb könyvtár, amelynek a neve ezúttal már <span class=filename>/var/tmp/root-19980221</span> lesz (ha például hetente frissítünk).</p></li><li><p>Most már meg tudjuk vizsgálni a közbeesõ héten született eltéréseket, ha a két könyvtárra kiadunk egy rekurzív <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> hívást:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /var/tmp</span>
<span class=c># diff -r root-19980214 root-19980221</span></code></pre></div></div><div class=paragraph><p>Általában így kevesebb eltérést kapunk, mint amennyi például a <span class=filename>/var/tmp/root-19980221/etc/</span> és az <span class=filename>/etc</span> összehasonlítása során elkerült volna. Mivel kisebb a keletkezett különbségek száma, ezért könnyebb lesz átvinnünk az <span class=filename>/etc</span> könyvtárunkba is a módosításokat.</p></div></li><li><p>Ezután törölhetjük a régebbi <span class=filename>/var/tmp/root-*</span> könyvtárat:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rm -rf /var/tmp/root-19980214</span></code></pre></div></div></li><li><p>Az <span class=filename>/etc</span> összefésülésekor mindig ismételjük meg ezeket a lépéseket.</p></li></ol></div></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=date&amp;sektion=1&amp;format=html">date(1)</a> meghívásával akár automatikussá is tehetjük a könyvtárak névadását:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/root-`date &#34;+%Y%m%d&#34;`</span></code></pre></div></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=updating-upgrading-rebooting>24.7.12. Újraindítás<a class=anchor href=#updating-upgrading-rebooting></a></h3><div class=paragraph><p>Ezzel készen is vagyunk. Miután ellenõriztük, hogy minden a megfelelõ helyére került, indítsuk újra a rendszert. Ehhez egy egyszerû <a href="https://man.freebsd.org/cgi/man.cgi?query=shutdown&amp;sektion=8&amp;format=html">shutdown(8)</a> is elegendõ:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown -r now</span></code></pre></div></div></div><div class=sect2><h3 id=_befejeztük>24.7.13. Befejeztük!<a class=anchor href=#_befejeztük></a></h3><div class=paragraph><p>Gratulálunk, sikerült frissítenünk a FreeBSD rendszerünket.</p></div><div class=paragraph><p>Ha mégis valami balul ütne ki, könnyen újra tudjuk fordítani a rendszer egyes részeit. Például, ha véletlenül letöröltük az <span class=filename>/etc/magic</span> állományt az <span class=filename>/etc</span> frissítése vagy összefésülése során, a <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> parancs nem fog tudni rendesen mûködni. Ilyenkor a következõket kell tennünk a hiba kijavításához:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/usr.bin/file</span>
<span class=c># make all install</span></code></pre></div></div></div><div class=sect2><h3 id=updating-questions>24.7.14. Kérdések<a class=anchor href=#updating-questions></a></h3><div class=sect3><h4 id=_minden_egyes_változtatásnál_újra_kell_fordítani_a_rendszert>24.7.14.1. Minden egyes változtatásnál újra kell fordítani a rendszert?<a class=anchor href=#_minden_egyes_változtatásnál_újra_kell_fordítani_a_rendszert></a></h4><div class=paragraph><p>Nem könnyû választ adni erre a kérdésre, mivel ez alapvetõen a változtatás jellegétõl függ. Például, ha elindítjuk a CVSup programot és csak az alábbi állományok frissülnek:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>src/games/cribbage/instr.c
src/games/sail/pl_main.c
src/release/sysinstall/config.c
src/release/sysinstall/media.c
src/shared/mk/bsd.port.mk</code></pre></div></div><div class=paragraph><p>Ekkor valószínûleg nem éri meg újrafordítani a teljes rendszert. Elegendõ csupán belépni az érintett állományokat tartalmazó alkönyvtárakba és ott rendre kiadni a <code>make all install</code> parancsot. Ha viszont már valami komolyabb, például az <span class=filename>src/lib/libc/stdlib</span> változott meg, akkor vagy az egész rendszert, vagy legalább azon részeit fordítsuk újra, amely statikusan linkeltek (és minden más idõközben még hozzáadott statikusan linkelt dolgot).</p></div><div class=paragraph><p>Hogy melyik megoldást választjuk, teljesen rajtunk áll. Újrafordíthatjuk az egész rendszert kéthetente, mondván, hadd gyüljenek fel szépen a módosítások, vagy a függõségek pontos kielemzésével csak azokat az elemeket fordítjuk újra, amelyek tényleg meg is változtak.</p></div><div class=paragraph><p>Természetesen az egész attól függ, hogy milyen gyakran és melyik rendszert, a FreeBSD-STABLE-t vagy a FreeBSD-CURRENT-et frissítjük.</p></div></div><div class=sect3><h4 id=_a_fordító_rengeteg_11_es_jelzést_signal_11signal_11_vagy_másfajta_jelzéseket_dob_hibával_mi_történhetett>24.7.14.2. A fordító rengeteg 11-es jelzést (signal 11)signal 11 (vagy másfajta jelzéseket) dob hibával. Mi történhetett?<a class=anchor href=#_a_fordító_rengeteg_11_es_jelzést_signal_11signal_11_vagy_másfajta_jelzéseket_dob_hibával_mi_történhetett></a></h4><div class=paragraph><p>Ez általában hardveres meghibásodásra utal. A rendszer újrafordítása alapjaiban véve egy remek módszer számítógépünk alkatrészeinek terhelésére, ezért gyakorta elõhozza a memória már meglevõ hibáit. Ezek többnyire abban fogalmazódnak meg, hogy a fordító rejtélyes módon leáll mindenféle furcsa jelzések hatására.</p></div><div class=paragraph><p>Errõl biztosan úgy tudunk meggyõzõdni, ha újraindítjuk a make programot és az a folyamat egy teljesen másik pontján vérzik el.</p></div><div class=paragraph><p>Ilyenkor nem tudunk mást tenni, mint egymás után kicserélgetjük, kivesszük az alkatrészeket és így próbáljuk megállapítani, pontosan melyikük is okozza a gondokat.</p></div></div><div class=sect3><h4 id=_a_fordítása_befejezése_után_törölhetem_a_usrobj_könyvtárat>24.7.14.3. A fordítása befejezése után törölhetem a /usr/obj könyvtárat?<a class=anchor href=#_a_fordítása_befejezése_után_törölhetem_a_usrobj_könyvtárat></a></h4><div class=paragraph><p>Röviden: Igen.</p></div><div class=paragraph><p>A <span class=filename>/usr/obj</span> tartalmazza a fordítás folyamata során keletkezõ összes tárgykódot. Ennek törlése általában a <code>make buildworld</code> elsõ lépései között szerepel. Ezért tulajdonképpen a <span class=filename>/usr/obj</span> megtartásának nincs túlságosan sok értelme, viszont elég sok (jelenleg úgy kb. 340 MB) helyet fel tudunk így szabadítani.</p></div><div class=paragraph><p>Ha azonban értjük a dolgunkat, akkor megadhatjuk a <code>make buildworld</code> parancsnak, hogy hagyja ki ezt a lépést. Ennek hatására a fordítás sokkal hamarabb véget ér, mivel a legtöbb forrást így nem kell újrafordítani. Üröm az örömben, hogy ha netalán aprócska függõségi problémák merülnének fel, akkor az egész fordítás megfeneklik mindenfelé különös módokon. Emiatt gyakran írnak feleslegesen leveleket a FreeBSD levelezési listáira, melyek a rendszer sikertelen újrafordításáról panaszkodnak, miközben kiderül, hogy az maguk az érintettek akarták lerövidíteni a folyamatot.</p></div></div><div class=sect3><h4 id=_lehetséges_a_megszakadt_fordítás_folytatása>24.7.14.4. Lehetséges a megszakadt fordítás folytatása?<a class=anchor href=#_lehetséges_a_megszakadt_fordítás_folytatása></a></h4><div class=paragraph><p>Ez attól függ, hogy a probléma bekövetkezése elõtt mennyire sikerült eljutni a fordításban.</p></div><div class=paragraph><p><em>Általában</em> (tehát nem feltétlenül minden esetben) a <code>make buildworld</code> lefordítja a fordításhoz szükséges eszközök (például a <a href="https://man.freebsd.org/cgi/man.cgi?query=gcc&amp;sektion=1&amp;format=html">gcc(1)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>) újabb változatait és a rendszer függvénykönyvtárait, majd ezeket telepíti. Ezután ezekkel az új eszközökkel lefordítattja saját magukat és ismét telepíti. Ezt követõen fordítja újra az új rendszerállományokkal az egész rendszert (így ezúttal már az olyan szokásos felhasználói programokat is, mint például az <a href="https://man.freebsd.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;format=html">ls(1)</a> és a <a href="https://man.freebsd.org/cgi/man.cgi?query=grep&amp;sektion=1&amp;format=html">grep(1)</a>).</p></div><div class=paragraph><p>Ha tudjuk, hogy az utolsó fázisban álltunk le (mivel megnéztük a fordításhoz tartozó kimenetet), akkor (minden további nélkül) elég ennyi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>kijavítjuk a hibát ...
<span class=c># cd /usr/src</span>
<span class=c># make -DNO_CLEAN all</span></code></pre></div></div><div class=paragraph><p>Ezzel megmarad a korábbi <code>make buildworld</code> munkájának eredménye.</p></div><div class=paragraph><p>Ha ezt az üzenetet látjuk a <code>make buildworld</code> kimenetében:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=nt>--------------------------------------------------------------</span>
Building everything..
<span class=nt>--------------------------------------------------------------</span></code></pre></div></div><div class=paragraph><p>akkor különösebb gond nélkül megcsinálhatjuk.</p></div><div class=paragraph><p>Amennyiben viszont nem látunk ilyen üzenetet, vagy nem vagyunk benne biztosak, akkor még mindig jobb elõvigyázatosnak lenni, ezért kénytelenek leszünk teljesen elölrõl kezdeni a fordítást.</p></div></div><div class=sect3><h4 id=_hogyan_tudjuk_felgyorsítani_a_fordítást>24.7.14.5. Hogyan tudjuk felgyorsítani a fordítást?<a class=anchor href=#_hogyan_tudjuk_felgyorsítani_a_fordítást></a></h4><div class=ulist><ul><li><p>Futtassuk egyfelhasználós módban.</p></li><li><p>Tegyük a <span class=filename>/usr/src</span> és <span class=filename>/usr/obj</span> könyvtárakat külön állományrendszerekre, külön lemezekre. Sõt, ha lehetséges, akkor ezeket a lemezeket tegyük külön lemezvezérlõkre.</p></li><li><p>Még mindig jobb, ha ezeket az állományrendszereket a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> (lemezek összefûzését vezérlõ meghajtó) segítségével kiterjesztjük több lemezes eszközre.</p></li><li><p>Kapcsoljuk ki a profilozást (az <span class=filename>/etc/make.conf</span> állományban a "NO_PROFILE=true" megadásával). Többnyire úgy sem lesz rá szükségünk.</p></li><li><p>Az <span class=filename>/etc/make.conf</span> állományban a <code>CFLAGS</code> változót állítsuk az <code>-O -pipe</code> értékre. Az <code>-O2</code> gyakran sokkal lassabb, az <code>-O</code> és <code>-O2</code> alig tér el az optimalizálás mértékében. A <code>-pipe</code> paraméter hatására pedig a fordítóprogram átmeneti állományok helyett csöveket használ a kommunikációra, és így megtakarít némi lemezhasználatot (a memóriahasználat terhére).</p></li><li><p>Ha a <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> parancsnak átadjuk a <code>-j_n_</code> paramétert, akkor képes több mindent párhuzamosan futtatni. Ez sok esetben segít attól függetlenül, hogy egy- vagy többprocesszoros gépünk van.</p></li><li><p>A <span class=filename>/usr/src</span> könyvtárat tartalmazó állományrendszert csatlakoztathatjuk (vagy újracsatlakoztathatjuk) a <code>noatime</code> beállítással. Ilyenkor az állományrendszer nem rögzíti a hozzáférés idejét. Erre az információra sincs igazából szükségünk.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -u -o noatime /usr/src</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>A fenti példa azt feltételezi, hogy a <span class=filename>/usr/src</span> könyvtárnak saját állományrendszere van. Ha ez nem így lenne (tehát például a <span class=filename>/usr</span> része), akkor itt azt kell megadnunk, nem pedig a <span class=filename>/usr/src</span> nevét.</p></div></td></tr></tbody></table></div></li><li><p>A <span class=filename>/usr/obj</span> könyvtárat tartalmazó állományrendszert csatlakoztathatjuk (vagy újracsatlakoztathatjuk) az <code>async</code> beállítással. Ennek hatására a lemez írása aszinkron módon történik. Magyarul az írási mûveletek azonnal befejezõdnek, miközben az adat ténylegesen csak pár másodperccel késõbb kerül ki a lemezre. Ezzel az írási kérelmek gyönyörûen összegyûjthetõek, ami nagymértékû növekedést eredményez a teljesítményben.</p><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Ne felejtsük el azonban, hogy ezzel együtt az állományrendszerünk is sérülékenyebbé válik. Ezen beállítás használatával megnõ annak az esélye, hogy egy áramkimaradást követõ indításnál az állományrendszer helyreállíthatatlan állapotba kerül.</p></div><div class=paragraph><p>Ha egyedül csak a <span class=filename>/usr/obj</span> található ezen az állományrendszeren, akkor ez nem jelent akkora veszélyt. Amikor viszont rajta kívül még értékes adat is található az állományrendszeren, a beállítás érvényesítése elõtt mindenképpen készítsünk róla friss mentéseket.</p></div></td></tr></tbody></table></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -u -o async /usr/obj</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Ahogy arról az elõbb is szó esett, ha a <span class=filename>/usr/obj</span> nem egy különálló állományrendszeren található, akkor a példában szereplõ csatlakozási pontot cseréljük ki a megfelelõre.</p></div></td></tr></tbody></table></div></li></ul></div></div><div class=sect3><h4 id=_mi_tegyünk_ha_valami_nem_megy_rendesen>24.7.14.6. Mi tegyünk, ha valami nem megy rendesen?<a class=anchor href=#_mi_tegyünk_ha_valami_nem_megy_rendesen></a></h4><div class=paragraph><p>Egyértelmûen bizonyosodjunk meg róla, hogy a korábbi fordításokból nem maradtak vissza semmiféle kóbor állományok. Ennyi sokszor pontosan elég.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chflags -R noschg /usr/obj/usr</span>
<span class=c># rm -rf /usr/obj/usr</span>
<span class=c># cd /usr/src</span>
<span class=c># make cleandir</span>
<span class=c># make cleandir</span></code></pre></div></div><div class=paragraph><p>Igen, a <code>make cleandir</code> parancsot tényleg kétszer kell kiadni.</p></div><div class=paragraph><p>Ezután a <code>make buildworld</code> parancstól indulva kezdjük újra a fordítást.</p></div><div class=paragraph><p>Ha még ezek után is fennáll a probléma, küldjük el a hibát tartalmazó kimenetet és a <code>uname -a</code> parancs eredményét a <a href=https://lists.FreeBSD.org/subscription/freebsd-questions>FreeBSD general questions levelezési lista</a> címére. Ne lepõdjünk meg, ha a beállításainkra vonatkozóan még kapunk további kérdéseket is!</p></div></div></div></div></div><div class=sect1><h2 id=small-lan>24.8. A források követése több géppel<a class=anchor href=#small-lan></a></h2><div class=sectionbody><div class=paragraph><p>Ha egyszerre több számítógéppel is szeretnénk követni ugyanannak a forrásfának a változásait és ezért mindegyikre letöltjük a forrásokat majd újrafordítjuk ezeket, akkor sok erõforrást, de leginkább lemezterületet, hálózati sávszélességet és processzoridõt, feleslegesen használunk. Ezekkel úgy tudunk spórolni, ha valójában csak egyetlen géppel végeztetjük el a munka legtöbb részét, miközben a többi NFS használatával dolgozik. Ez a szakasz ezt a módszert foglalja össze.</p></div><div class=sect2><h3 id=small-lan-preliminaries>24.8.1. Elõkészületek<a class=anchor href=#small-lan-preliminaries></a></h3><div class=paragraph><p>Elõször is szedjük össze az egyezõ binárisokat futtató gépeket, melyekre a továbbiakban csak <em>fordítási csoport</em> néven hivatkozunk. Minden gépnek lehet saját rendszermagja, viszont a felhasználói programok mindegyikõjük esetében ugyanazok. Ebbõl a csoportból válasszuk ki egy <em>fordító gépet</em>. Ez lesz az a gép, amelyen a rendszer és a rendszermag lefordításra kerül. Ideális esetben ez a leggyorsabb gép, amelynek elegendõ a processzorkapacitása arra, hogy lefuttassa a <code>make buildworld</code> és <code>make buildkernel</code> parancsokat. Érdemes még rajta kívül kiválasztanunk egy <em>tesztelõ gépet</em> is, ahol a véglegesítés elõtt kipróbálhatjuk a szoftverfrissítéseket. Ennek egy olyan gépnek <em>kell</em> lennie, amely akár hosszabb ideig is nélkülözhetõ a csoportból. Lehet akár maga a fordítást végzõ gép is, de nem elvárás.</p></div><div class=paragraph><p>A fordítási csoportban levõ összes gépnek ugyanarról a géprõl és ugyanarra a pontra kell csatlakoztatnia a <span class=filename>/usr/obj</span> és <span class=filename>/usr/src</span> könyvtárakat. Ezek optimális esetben a fordítással foglalkozó gép két külön lemezmeghajtóján vannak, melyek egyaránt elérhetõek NFS-en keresztül. Ha több fordítási csoportunk is van, akkor az <span class=filename>/usr/src</span> könyvtárnak elegendõ csak egyetlen fordító gépen meglennie, a többi pedig csatlakoztassa NFS-en keresztül.</p></div><div class=paragraph><p>Végül gyõzödjünk meg róla, hogy az <span class=filename>/etc/make.conf</span> és a <span class=filename>/etc/src.conf</span> állományok tartalma a fordítási csoport mindegyik gépénél megegyezik a fordító gépével. Ez azt jelenti, hogy a fordító gépnek az alaprendszer ugyanazon részeit és ugyanúgy kell létrehozni, mint amelyet a fordítási csoport akármelyik gépére telepíteni is akarunk. Ezenkívül még a fordítási csoportban levõ minden egyes gép <span class=filename>/etc/make.conf</span> állományában a <code>KERNCONF</code> értékének a saját rendszermagjára vonatkozó konfigurációt kell megadni, illetve a fordítással foglakozó gép <code>KERNCONF</code> változójánál pedig az együtt összeset, a sajátjával kezdve. Ennek megfelelõen a fordító gépnek a rendszermagok lefordításához rendelkeznie kell az egyes gépek <span class=filename>/usr/src/sys/arch/conf</span> könyvtárában meglevõ állományaival.</p></div></div><div class=sect2><h3 id=small-lan-base-system>24.8.2. Az alaprendszer<a class=anchor href=#small-lan-base-system></a></h3><div class=paragraph><p>Most, miután mindent megfelelõen elõkészítettünk, készen állunk a munkára. A <a href=#make-buildworld>Az alaprendszer fordítása</a>ban leírtak szerint fordítsuk le a rendszermagokat és az alaprendszert a fordító gépen, de utána még nem telepítsünk semmit se. Ha befejezõdött a fordítás, lépjünk be a tesztelõ gépre és telepítsük a frissen fordított rendszermagot. Ha ez a gép NFS-en keresztül éri a <span class=filename>/usr/src</span> és <span class=filename>/usr/obj</span> könyvtárakat, akkor az egyfelhasználós módban aktiválni kell a hálózatot, majd csatlakoztatni ezeket. Ezt legkönnyebben úgy tudjuk megcsinálni, ha a gépet elõször elindítjuk többfelhasználós módban, majd a <code>shutdown now</code> paranccsal egyfelhasználós módba váltunk. Ha eljuttunk ide, telepítsünk az új rendszermagot és rendszert, illetve a megszokott módon futtassuk a <code>mergemaster</code> parancsot. Amikor ezt befejeztük, ezen a gépen térjünk vissza a hétköznapi többfelhasználós mûködési módba.</p></div><div class=paragraph><p>Miután a tesztelésre szánt gépen ellenõriztük, hogy minden a megfelelõ módon mûködik, az elõbb tárgyalt eljárással telepítsük fel a fordítási csoportban levõ összes többi gépre is az új szoftvereket.</p></div></div><div class=sect2><h3 id=small-lan-ports>24.8.3. Portok<a class=anchor href=#small-lan-ports></a></h3><div class=paragraph><p>Ugyanezt a gondolatmenet alkalmazható a portfa esetében is. Az elsõ és egyben legfontosabb lépés a <span class=filename>/usr/ports</span> csatlakoztatása ugyanarról a géprõl a fordítási csoport minden gépére. Az <span class=filename>/etc/make.conf</span> megfelelõ beállításával még a terjesztési állományokat is meg tudjuk osztani. A <code>DISTDIR</code> értékét egy olyan közösen használt könyvtárra állítsuk, amely írható az NFS-en keresztül megosztott állományrendszerünkben a <code>root</code> felhasználóként tevékenykedõk számára. A <code>WRKDIRPREFIX</code> változót minden gépen egy helyi fordítási könyvtárra állítsuk. Zárásképpen még hozzátesszük, hogy ha csomagokat akarunk készíteni és mások számára is elérhetõvé tenni, akkor ne felejtsük el a <code>PACKAGES</code> változót a <code>DISTDIR</code> változóhoz hasonlóan beállítani.</p></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 2024. március 9. by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/l10n class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/dtrace class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#updating-upgrading-synopsis>24.1. Áttekintés</a></li><li><a href=#updating-upgrading-freebsdupdate>24.2. A FreeBSD frissítése</a></li><li><a href=#updating-upgrading-portsnap>24.3. A Portgyûjtemény frissítése a Portsnap használatával</a></li><li><a href=#updating-upgrading-documentation>24.4. A dokumentáció frissítése</a></li><li><a href=#current-stable>24.5. A fejlesztõi ág követése</a></li><li><a href=#synching>24.6. A forrás szinkronizálása</a></li><li><a href=#makeworld>24.7. Az alaprendszer újrafordítása</a></li><li><a href=#small-lan>24.8. A források követése több géppel</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/hu/books/handbook/handbook_hu.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/hu/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/hu/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>Hungarian</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/hu class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/hu/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>