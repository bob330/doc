<!doctype html><html class=theme-light lang=hu><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/hu/books/handbook/config/><title>11. Fejezet - Beállítás és finomhangolás | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="11. Fejezet - Beállítás és finomhangolás"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="hu"><meta property="og:url" content="https://docs.freebsd.org/hu/books/handbook/config/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/hu\/books\/handbook\/config\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/hu>Documentation portal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/hu/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/hu/books>Books</a></li><li><a href=https://docs.freebsd.org/hu/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/hu/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=hu>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/preface/>Előszó</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-audience>Kiknek szánjuk ezt a könyvet</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from3>Változtatások a harmadik kiadás óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from2>Változtatások a második kiadás (2004) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes>Változtatások az elsõ kiadás (2001) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-overview>A könyv felépítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-conv>A könyvben alkalmazott konvenciók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-acknowledgements>Köszönetnyilvánítás</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/parti/>I. Rész Bevezetés</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/introduction/>1. Fejezet - Bemutatkozás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#introduction-synopsis>1.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#nutshell>1.2. Üdvözöljük a FreeBSD-ben!</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#history>1.3. A FreeBSD Projektrõl</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/install/>2. Fejezet - A FreeBSD telepítése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-synopsis>2.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-hardware>2.2. Hardverkövetelmények</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-pre>2.3. A telepítés elõtt elvégzendõ feladatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-start>2.4. A telepítés megkezdése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#using-sysinstall>2.5. A sysinstall bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-steps>2.6. Lemezterület lefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-choosing>2.7. A telepítendõ összetevõk kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-media>2.8. A telepítés eszközének kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-final-warning>2.9. A telepítés véglegesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-post>2.10. A telepítés után</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-trouble>2.11. Hibakeresés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-advanced>2.12. Telepítési útmutató haladóknak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-diff-media>2.13. Saját telepítõeszköz elkészítése</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/basics/>3. Fejezet - A UNIX alapjai</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-synopsis>3.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#consoles>3.2. Virtuális konzolok és terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#permissions>3.3. Engedélyek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#dirstructure>3.4. A könyvtárak elrendezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#disk-organization>3.5. A lemezek szervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#mount-unmount>3.6. Állományrendszerek csatlakoztatása és leválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-processes>3.7. Folyamatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-daemons>3.8. Démonok, jelzések és a futó programok leállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#shells>3.9. Parancsértelmezõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#editors>3.10. Szövegszerkesztõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-devices>3.11. Eszközök és eszközleírók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#binary-formats>3.12. Bináris formátumok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-more-information>3.13. Bõvebben olvashatunk…​</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ports/>4. Fejezet - Alkalmazások telepítése: csomagok és portok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-synopsis>4.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-overview>4.2. Az alkalmazások telepítésének összefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-finding-applications>4.3. A számunkra szükséges alkalmazások felkutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#packages-using>4.4. A csomagrendszer használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-using>4.5. A Portgyûjtemény használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-nextsteps>4.6. Telepítés utáni teendõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-broken>4.7. Teendõ a sérült portokkal</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/x11/>5. Fejezet - Az X Window System</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-synopsis>5.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-understanding>5.2. Az X áttekintése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-install>5.3. Az X11 telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-config>5.4. Az X11 beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-fonts>5.5. Betûtípusok használata az X11-ben</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-xdm>5.6. Az X bejelentkeztetõ képernyõje</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-wm>5.7. Munkakörnyezetek</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partii/>II. Rész Gyakori feladatok</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/desktop/>6. Fejezet - Asztali alkalmazások</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-synopsis>6.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-browsers>6.2. Böngészõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-productivity>6.3. Irodai eszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-viewers>6.4. Dokumentum-megjelenítõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-finance>6.5. Pénzügyi szoftverek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-summary>6.6. Összefoglalás</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/>7. Fejezet - Multimédia</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#multimedia-synopsis>7.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-setup>7.2. A hangkártya beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-mp3>7.3. MP3</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#video-playback>7.4. Videók lejátszása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#tvcard>7.5. TV kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#scanners>7.6. Lapolvasók</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/>8. Fejezet - A FreeBSD rendszermag testreszabása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. Miért készítsünk saját rendszermagot?</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-devices>8.3. A rendszerünkben levõ hardverek összeszedése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-modules>8.4. Meghajtók, alrendszerek és modulok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-building>8.5. Saját rendszermag készítése és telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-config>8.6. A konfigurációs állomány</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-trouble>8.7. Ha valamilyen hiba történne</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/printing/>9. Fejezet - Nyomtatás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-synopsis>9.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-spooler>9.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-setup>9.3. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-advanced>9.4. Magasszintû nyomtatóbeállítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-using>9.5. A nyomtatók használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-lpd-alternatives>9.6. Más nyomtatási rendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-troubleshooting>9.7. Hibakeresés</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/>10. fejezet - Bináris Linux kompatibilitás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Telepítés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-mathematica>10.3. A Mathematica® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-maple>10.4. A Maple™ telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-matlab>10.5. A MATLAB® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-oracle>10.6. Az Oracle® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#sapr3>10.7. Az SAP® R/3® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-advanced>10.8. Témák haladóknak</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiii/>III. Rész Rendszeradminisztráció</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle checked>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/config/>11. Fejezet - Beállítás és finomhangolás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-synopsis>11.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-initial>11.2. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-core-configuration>11.3. A mag beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-appconfig>11.4. Az alkalmazások beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-starting-services>11.5. Szolgáltatások indítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-cron>11.6. A <code>cron</code> segédprogram beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-rcd>11.7. Az rc használata FreeBSD alatt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-network-setup>11.8. A hálózati kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-virtual-hosts>11.9. Virtuális címek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-configfiles>11.10. Konfigurációs állományok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-sysctl>11.11. Finomhangolás a sysctl használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-disk>11.12. A lemezek finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-kernel-limits>11.13. A rendszermag korlátainak finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#adding-swap-space>11.14. A lapozóterület bõvítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#acpi-overview>11.15. Energia- és erõforrásgazdálkodás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#ACPI-debug>11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/boot/>12. Fejezet - A FreeBSD rendszerindítási folyamata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-synopsis>12.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-introduction>12.2. A rendszerindítás problémája</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-blocks>12.3. A boot manager és az indulás fokozatai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-kernel>12.4. Kapcsolat a rendszermaggal a rendszerindítás folyamán</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#device-hints>12.5. Eszköz útmutatók (device.hints)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-init>12.6. Init: A folyamatirányítás elindítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-shutdown>12.7. A leállítási folyamat</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/users/>13. Fejezet - Felhasználók és hozzáférések alapvető kezelése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-synopsis>13.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-introduction>13.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-superuser>13.3. Az adminisztrátori hozzáférés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-system>13.4. Rendszerhozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-user>13.5. Felhasználói hozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-modifying>13.6. A hozzáférések módosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-limiting>13.7. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-groups>13.8. Csoportok</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/security/>14. Fejezet - Biztonság</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-synopsis>14.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-intro>14.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#securing-freebsd>14.3. A FreeBSD védelme</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#crypt>14.4. DES, Blowfish, MD5 és a Crypt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#one-time-passwords>14.5. Egyszeri jelszavak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#tcpwrappers>14.6. A TCP kapcsolatok burkolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberosIV>14.7. KerberosIV</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberos5>14.8. Kerberos5</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssl>14.9. OpenSSL</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#ipsec>14.10. VPN IPsec felett</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssh>14.11. OpenSSH</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#fs-acl>14.12. Az állományrendszerek hozzáféréseit vezérlõ listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-portaudit>14.13. A külsõ programok biztonsági problémáinak figyelése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-advisories>14.14. A FreeBSD biztonsági figyelmeztetései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-accounting>14.15. A futó programok nyilvántartása</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/jails/>15. Fejezet - A jail alrendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-synopsis>15.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-terms>15.2. A jail alrendszerhez kapcsolódó fogalmak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-intro>15.3. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-build>15.4. A jailek létrehozása és vezérlése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-tuning>15.5. Finomhangolás és karbantartás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-application>15.6. A jailek alkalmazása</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mac/>16. Fejezet - Kötelező hozzáférés-vezérlés (MAC)</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-synopsis>16.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-inline-glossary>16.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-initial>16.3. A MAC ismertetése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-understandlabel>16.4. Bõvebben a MAC címkéirõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-planning>16.5. A védelem megtervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-modules>16.6. A modulok beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-seeotheruids>16.7. A seeotheruids MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-bsdextended>16.8. A bsdextended MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-ifoff>16.9. Az ifoff MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-portacl>16.10. A portacl MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-partition>16.11. A partition MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-mls>16.12. A többszintû biztonsági MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-biba>16.13. A Biba MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-lomac>16.14. A LOMAC MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-implementing>16.15. A Nagios elzárása a MAC rendszerrel</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-userlocked>16.16. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-troubleshoot>16.17. A hibák elhárítása a MAC rendszerben</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/audit/>17. Fejezet - Biztonsági események vizsgálata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-synopsis>17.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-inline-glossary>17.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-install>17.3. A vizsgálat támogatásának telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-config>17.4. A vizsgálat beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-administration>17.5. A vizsgálati alrendszer használata</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/disks/>18. Fejezet - Háttértárak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-synopsis>18.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-naming>18.2. Az eszközök elnevezései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-adding>18.3. Lemezek hozzáadása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#raid>18.4. RAID</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#usb-disks>18.5. USB tárolóeszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-cds>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-dvds>18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#floppies>18.8. Hajlékonylemezek létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-tapebackups>18.9. Szalagok létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-floppybackups>18.10. Biztonsági mentés hajlékonylemezekre</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-strategies>18.11. Mentési stratégiák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-basics>18.12. Alapvetõ tudnivalók a biztonsági mentésrõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-virtual>18.13. Hálózat, memória és állomány alapú állományrendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#snapshots>18.14. Az állományrendszerek pillanatképei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#quotas>18.15. Az állományrendszerek kvótái</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-encrypting>18.16. A lemezpartíciók titkosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#swap-encrypting>18.17. A lapozóterület titkosítása</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/geom/>19. Fejezet - GEOM: A moduláris lemezszervező rendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-synopsis>19.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-intro>19.2. A GEOM bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-striping>19.3. RAID0 - Csíkozás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-mirror>19.4. RAID1 - Tükrözés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-ggate>19.5. Eszközök hálózati illesztése a GEOM-ban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-glabel>19.6. A lemezes eszközök címkézése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-gjournal>19.7. Naplózó UFS GEOM-on keresztül</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/>20. Fejezet - Támogatott állományrendszerek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-synopsis>20.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-zfs>20.2. A Z állományrendszer (ZFS)</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/vinum/>21. Fejezet - A Vinum kötetkezelő</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-synopsis>21.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-intro>21.2. Kicsik a lemezeink</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-access-bottlenecks>21.3. A hozzáférési idõk szûk keresztmetszetei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-data-integrity>21.4. Adatintegritás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-objects>21.5. A Vinum objektumai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-examples>21.6. Példák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-object-naming>21.7. Az objektumok elnevezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-config>21.8. A Vinum beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-root>21.9. Rendszerindítás Vinum-kötetrõl</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/>22. Fejezet - Virtualizáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-synopsis>22.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-guest>22.2. A FreeBSD mint vendég</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-host>22.3. A FreeBSD mint gazda</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/l10n/>23. Fejezet - Honosítás - Az I18N/L10N használata és beállítása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-synopsis>23.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-basics>23.2. Az alapok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#using-localization>23.3. A honosítás használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-compiling>23.4. I18N programok fordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#lang-setup>23.5. A FreeBSD honosítása adott nyelvekre</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/>24. Fejezet - A FreeBSD frissítése és frissen tartása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-synopsis>24.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>24.2. A FreeBSD frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-portsnap>24.3. A Portgyûjtemény frissítése a Portsnap használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-documentation>24.4. A dokumentáció frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#current-stable>24.5. A fejlesztõi ág követése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#synching>24.6. A forrás szinkronizálása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#makeworld>24.7. Az alaprendszer újrafordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#small-lan>24.8. A források követése több géppel</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/>25. Fejezet - DTrace</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-synopsis>25.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-implementation>25.2. Eltérések az implementációban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-enable>25.3. A DTrace támogatásának engedélyezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-using>25.4. A DTrace használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-language>25.5. A D nyelv</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiv/>IV. Rész Hálózati kommunikáció</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/>26. Fejezet - Soros vonali kommunikáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial-synopsis>26.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial>26.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#term>26.3. Terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialup>26.4. Betárcsázós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialout>26.5. A betárcsázós szolgáltatások használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serialconsole-setup>26.6. A soros vonali konzol beállítása</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/>27. Fejezet - A PPP és a SLIP</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#userppp>27.2. A felhasználói PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp>27.3. A rendszerszintû PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.4. PPP kapcsolatok hibaelhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoe>27.5. A PPP használata Ethernet felett (PPPoE)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoa>27.6. PPP ATM felett (PPPoA)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#slip>27.7. A SLIP használata</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mail/>28. Fejezet - Elektronikus levelezés</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-synopsis>28.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-using>28.2. Az elektronikus levelezés használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#sendmail>28.3. A sendmail beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-changingmta>28.4. A levéltovábbító ügynök megváltoztatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-trouble>28.5. A hibák elhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-advanced>28.6. Komolyabb témák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-UUCP>28.7. SMTP és az UUCP</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#outgoing-only>28.8. Csak küldés beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-dialup>28.9. Levelezés betárcsázós kapcsolattal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-Auth>28.10. Az SMTP hitelesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-agents>28.11. Levelezõ kliensek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-fetchmail>28.12. A fetchmail használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-procmail>28.13. A procmail használata</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/>29. Fejezet - Hálózati szerverek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-servers-synopsis>29.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-inetd>29.2. Az inetd"szuperszerver"</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nfs>29.3. A hálózati állományrendszer (NFS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nis>29.4. Hálózati információs rendszer (NIS/YP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dhcp>29.5. A hálózat automatikus beállítása (DHCP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dns>29.6. Névfeloldás (DNS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-apache>29.7. Az Apache webszerver</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ftp>29.8. Állományok átvitele (FTP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-samba>29.9. Állomány- és nyomtatási szolgáltatások Microsoft® Windows® kliensek számára (Samba)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ntp>29.10. Az órák egyeztetése az NTP használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-syslogd>29.11. Távoli gépek naplózása <code>syslogd</code> használatával</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/>30. Fejezet - Tűzfalak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-intro>30.1. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-concepts>30.2. Röviden a tûzfalakról</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-apps>30.3. Tûzfalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-pf>30.4. Az OpenBSD csomagszûrõje (PF) és az ALTQ</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipf>30.5. Az IPFILTER (IPF) tûzfal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipfw>30.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/>31. Fejezet - Egyéb haladó hálózati témák</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-routing>31.2. Átjárók és az útválasztás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-wireless>31.3. Vezeték nélküli hálózatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bluetooth>31.4. Bluetooth</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bridging>31.5. Hálózati hidak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-aggregation>31.6. Linkek összefûzése és hibatûrése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-diskless>31.7. Lemez nélküli mûködés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-isdn>31.8. ISDN</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-natd>31.9. Hálózati címfordítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-plip>31.10. Párhuzamos vonali IP (PLIP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-ipv6>31.11. Az IPv6</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-atm>31.12. Az Aszinkron adatátviteli mód (ATM)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#carp>31.13. A Közös cím redundancia protokoll (CARP)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partv/>V. Rész Függelék</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/>A. Függelék - A FreeBSD beszerzése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-cdrom>A.1. CD és DVD kiadók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-ftp>A.2. FTP oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#anoncvs>A.3. Anonim CVS</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#ctm>A.4. A CTM használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvsup>A.5. A CVSup használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvs-tags>A.6. CVS címkék</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-afs>A.7. AFS oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-rsync>A.8. Rsync oldalak</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/>B. függelék - Irodalomjegyzék</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-freebsd>B.1. A FreeBSD-rõl szóló könyvek és folyóiratok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-userguides>B.2. Felhasználói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-adminguides>B.3. Rendszeradminisztrátori kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-programmers>B.4. Programozói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-osinternals>B.5. Az operációs rendszerek belsõ mûködésérõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-security>B.6. Biztonságról szóló írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-hardware>B.7. Hardverrel foglalkozó írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-history>B.8. UNIX® történelem</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-journals>B.9. Magazinok és folyóiratok</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/eresources/>C. Függelék - Források az interneten</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-mail>C.1. Levelezési listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-news>C.2. Usenet hírcsoportok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-web>C.3. Világhálós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-email>C.4. E-mail címek</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/>D. Függelék - PGP-kulcsok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Tisztségviselők</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>11. Fejezet - Beállítás és finomhangolás</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#config-synopsis>11.1. Áttekintés</a></li><li><a href=#configtuning-initial>11.2. Kezdeti beállítások</a></li><li><a href=#configtuning-core-configuration>11.3. A mag beállítása</a></li><li><a href=#configtuning-appconfig>11.4. Az alkalmazások beállítása</a></li><li><a href=#configtuning-starting-services>11.5. Szolgáltatások indítása</a></li><li><a href=#configtuning-cron>11.6. A <code>cron</code> segédprogram beállítása</a></li><li><a href=#configtuning-rcd>11.7. Az rc használata FreeBSD alatt</a></li><li><a href=#config-network-setup>11.8. A hálózati kártyák beállítása</a></li><li><a href=#configtuning-virtual-hosts>11.9. Virtuális címek</a></li><li><a href=#configtuning-configfiles>11.10. Konfigurációs állományok</a></li><li><a href=#configtuning-sysctl>11.11. Finomhangolás a sysctl használatával</a></li><li><a href=#configtuning-disk>11.12. A lemezek finomhangolása</a></li><li><a href=#configtuning-kernel-limits>11.13. A rendszermag korlátainak finomhangolása</a></li><li><a href=#adding-swap-space>11.14. A lapozóterület bõvítése</a></li><li><a href=#acpi-overview>11.15. Energia- és erõforrásgazdálkodás</a></li><li><a href=#ACPI-debug>11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=config-synopsis>11.1. Áttekintés<a class=anchor href=#config-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD egyik fontos szempontja a rendszer megfelelõ beállítása, aminek segítségével elkerülhetjük a késõbbi frissítések során keletkezõ kellemetlenségeket. Ez a fejezet a FreeBSD beállítási folyamatából kíván minél többet bemutatni, köztük a FreeBSD rendszerek finomhangolására szánt paramétereket.</p></div><div class=paragraph><p>A fejezet elolvasása során megismerjük:</p></div><div class=ulist><ul><li><p>hogyan dolgozzunk hatékonyan az állományrendszerekkel és a lapozóállományokkal;</p></li><li><p>az <span class=filename>rc.conf</span> beállításának alapjait és a <span class=filename>/usr/local/etc/rc.d</span> könyvtárban található indítási rendszert;</p></li><li><p>hogyan állítsunk be és próbáljunk ki egy hálózati kártyát;</p></li><li><p>hogyan állítsunk be virtuális címeket a hálózati eszközeinken;</p></li><li><p>hogyan használjuk az <span class=filename>/etc</span> könyvtárban megtalálható különféle konfigurációs állományokat;</p></li><li><p>hogyan hangoljuk a FreeBSD mûködését a <code>sysctl</code> változóinak segítségével;</p></li><li><p>hogyan hangoljuk a lemezek teljesítményét és módosítsuk a rendszermag korlátozásait.</p></li></ul></div><div class=paragraph><p>A fejezet elolvasásához ajánlott:</p></div><div class=ulist><ul><li><p>a UNIX® és a FreeBSD alapjainak megértése (<a href=../basics/#basics>A UNIX alapjai</a>);</p></li><li><p>a rendszermag beállításához és fordításához kötõdõ alapok ismerete (<a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a>).</p></li></ul></div></div></div><div class=sect1><h2 id=configtuning-initial>11.2. Kezdeti beállítások<a class=anchor href=#configtuning-initial></a></h2><div class=sectionbody><div class=sect2><h3 id=_a_partíciók_kiosztása>11.2.1. A partíciók kiosztása<a class=anchor href=#_a_partíciók_kiosztása></a></h3><div class=sect3><h4 id=_alappartíciók>11.2.1.1. Alappartíciók<a class=anchor href=#_alappartíciók></a></h4><div class=paragraph><p>Amikor a <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> vagy a <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> segítségével állományrendszereket telepítünk, nem szabad figyelmen kívül hagynunk a tényt, hogy a merevlemezes egységekben a külsõ sávokból gyorsabban lehet hozzáférni az adatokhoz, mint a belsõkbõl. Emiatt a kisebb és gyakrabban elérni kívánt állományrendszereket a meghajtó lemezének külsejéhez közel kell létrehozni, míg például a <span class=filename>/usr</span> partícióhoz hasonló nagyobb partíciókat annak belsõ része felé. A partíciókat a következõ sorrendben érdemes kialakítani: gyökér (rendszerindító), lapozóállomány, <span class=filename>/var</span> és <span class=filename>/usr</span>.</p></div><div class=paragraph><p>A <span class=filename>/var</span> méretének tükröznie kell a számítógép szándékolt használatát. A <span class=filename>/var</span> partíción foglalnak helyet a felhasználók postaládái, a naplóállományok és a nyomtatási sorok. A postaládák és a naplóállományok egészen váratlan mértékben is képesek megnövekedni attól függõen, hogy mennyi felhasználónk van a rendszerben és hogy mekkora naplókat tartunk meg. Itt a legtöbb felhasználónak soha nem lesz szüksége egy gigabyte-nál több helyre.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Bizonyos esetekben a <span class=filename>/var/tmp</span> könyvtárban azért ennél több tárterület szükségeltetik. Amikor a <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> segítségével egy friss szoftvert telepítünk a rendszerünkre, akkor a program a <span class=filename>/var/tmp</span> könyvtárba tömöríti ki a hozzá tartozó csomag tartalmát. Ezért a nagyobb szoftvercsomagok, mint például a Firefox vagy az OpenOffice esetén gondok merülhetnek fel, ha nem rendelkezünk elegendõ szabad területtel a <span class=filename>/var/tmp</span> könyvtárban.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A <span class=filename>/usr</span> partíció tartalmaz számos, a rendszer mûködéséhez elengedhetetlenül fontos állományt, többek közt a portok gyûjteményét (ajánlott, lásd <a href="https://man.freebsd.org/cgi/man.cgi?query=ports&amp;sektion=7&amp;format=html">ports(7)</a>) és a forráskódot (választható). A portok és az alaprendszer forrásai telepítés során választhatóak, de telepítésük esetén akkor ezen a partíción legalább két gigabyte-nyi hely ajánlott.</p></div><div class=paragraph><p>Vegyük figyelembe a tárbeli igényeket, amikor megválasztjuk a partíciók méretét. Igen kellemetlen lehet, amikor úgy futunk ki az egyik partíción a szabad helybõl, hogy a másikat alig használjuk.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Egyes felhasználók szerint elõfordulhat, hogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> <code>Auto-defaults</code> opciója a <span class=filename>/var</span> és <span class=filename>/</span> partíciók méretét túl kicsire választja. Particionáljunk okosan és nagylelkûen!</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=swap-design>11.2.1.2. A lapozóállomány partíciója<a class=anchor href=#swap-design></a></h4><div class=paragraph><p>Általános szabály, hogy a lapozóállományt tároló partíció mérete legyen a rendszer fizikai memóriájának (RAM) kétszerese. Például, ha a számítógépünk 128 megabyte memóriával rendelkezik, akkor a lapozóállomány méretének 256 megabyte-nak kell lennie. Az ennél kevesebb memóriát maguknak tudó rendszerek több lapozóállománnyal jobban teljesítenek. 256 megabyte-nál kevesebb lapozóállományt semmiképpen sem ajánlunk, és inkább a fizikai memóriát érdemes bõvítenünk. A rendszermag virtuális memóriát kezelõ lapozási algoritmusait úgy állították be, hogy abban az esetben teljesítsenek a legjobban, ha a lapozóállomány mérete legalább kétszerese a központi memória mennyiségének. A túl kicsi lapozóállomány beállítása rontja a virtuális memória lapkeresésési rutinjának hatékonyságát és a memória bõvítése esetén még további gondokat is okozhat.</p></div><div class=paragraph><p>A több SCSI-lemezzel (vagy a különbözõ vezérlõkre csatlakoztatott több IDE-lemezzel) bíró nagyobb rendszerek esetében érdemes minden egyes (de legfeljebb négy) meghajtóra beállítani lapozóállományt. A lapozóállományoknak közel azonos méretûnek kell lenniük. A rendszermag tetszõleges méretûeket képes kezelni, azonban a belsejében alkalmazott adatszerkezetek a legnagyobb lapozóállomány méretének négyszereséig képesek növekedni. Ha a lapozóállományokat nagyjából ugyanazon a méreten tartjuk, akkor a rendszermag képes lesz a lapozáshoz felhasznált területet optimálisan elosztani a lemezek között. A nagyobb lapozóállományok használata még akkor is jól jön, ha nem is használjuk annyira. Segítségével sokkal könnyebben talpra tudunk állni egy elszabadult program tombolásából, és nem kell rögtön újraindítanunk a rendszert.</p></div></div><div class=sect3><h4 id=_miért_particionáljunk>11.2.1.3. Miért particionáljunk?<a class=anchor href=#_miért_particionáljunk></a></h4><div class=paragraph><p>Egyes felhasználók úgy gondolják, hogy egyetlen nagyobb méretû partíció mindenre megfelel, ám ez a gondolat több okból is helytelennek tekinthetõ. Elõször is, minden egyes partíciónak eltér a mûködési jellemzõje, és különválasztásukkal lehetõvé válik az állományrendszerek megfelelõ behangolása. Például a rendszerindításhoz használt és a <span class=filename>/usr</span> partíciókat többségében csak olvasásra használják, és nem sokat írnak rájuk. Eközben a <span class=filename>/var</span> és <span class=filename>/var/tmp</span> könyvtárakban zajlik az írások és olvasások túlnyomó része.</p></div><div class=paragraph><p>A rendszer megfelelõ felosztásával a kisebb, intenzívebben írt partíciókon megjelenõ töredezettség nem szivárog át a többségében csak olvasásra használt partíciókra. Ha a sokat írt partíciókat közel tartjuk a lemez széléhez, akkor azokon a partíciókon növekszik az I/O teljesítménye, ahol az a leggyakrabban megjelenik. Mivel mostanság az I/O teljesítményére inkább a nagyobb partíciók esetén van szükség, azzal nem érünk el ebben különösebb mértékû növekedést, ha a <span class=filename>/var</span> partíciót a lemez szélére toljuk. Befejezésképpen hozzátesszük, hogy ennek vannak biztonsági megfontolásai is. Egy kisebb és takarosabb rendszerindító partíció, ami többnyire írásvédett, nagyobb eséllyel él túl egy csúfos rendszerösszeomlást.</p></div></div></div></div></div><div class=sect1><h2 id=configtuning-core-configuration>11.3. A mag beállítása<a class=anchor href=#configtuning-core-configuration></a></h2><div class=sectionbody><div class=paragraph><p>A rendszer beállításaira vonatkozó információk központi lelõhelye az <span class=filename>/etc/rc.conf</span> állomány. Ez az állomány tartalmazza a beállításokra vonatkozó adatok széles körét, amelyet elsõsorban a rendszer indulása során a rendszer beállítására használnak. Erre a neve is utal: ez az <span class=filename>rc*</span> állományok konfigurációs állománya.</p></div><div class=paragraph><p>A rendszergazda az <span class=filename>rc.conf</span> állományban tudja felülbírálni az <span class=filename>/etc/defaults/rc.conf</span> állományban szereplõ alapértelmezett beállításokat. Az alapértelmezéseket tartalmazó állományt nem szabad közvetlenül átmásolni az <span class=filename>/etc</span> könyvtárba, hiszen alapértelmezett értékeket tartalmaz, nem pedig mintákat. Minden rendszerfüggõ beállítást magában az <span class=filename>rc.conf</span> állományban kell elvégezni.</p></div><div class=paragraph><p>Számos stratégia létezik a tömegesen adminisztrált számítógépeknél a közös és rendszerfüggõ beállítások különválasztására, ezáltal a karbantartási költségek csökkentésére. A közös beállításokat ajánlott egy másik helyre, például az <span class=filename>/etc/rc.conf.site</span> állományba rakni, majd hivatkozni erre a kizárólag csak rendszerfüggõ információkat tartalmazó <span class=filename>/etc/rc.conf</span> állományból.</p></div><div class=paragraph><p>Mivel az <span class=filename>rc.conf</span> állományt az <a href="https://man.freebsd.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;format=html">sh(1)</a> dolgozza fel, ezt elég könnyen el tudjuk érni. Például:</p></div><div class=ulist><ul><li><p>rc.conf:</p><div class="literalblock programlisting"><div class=content><pre>	. /etc/rc.conf.site
	hostname=&#34;node15.example.com&#34;
	network_interfaces=&#34;fxp0 lo0&#34;
	ifconfig_fxp0=&#34;inet 10.1.1.1&#34;</pre></div></div></li><li><p>rc.conf.site:</p><div class="literalblock programlisting"><div class=content><pre>	defaultrouter=&#34;10.1.1.254&#34;
	saver=&#34;daemon&#34;
	blanktime=&#34;100&#34;</pre></div></div></li></ul></div><div class=paragraph><p>Az <span class=filename>rc.conf.site</span> állomány ezt követõen az <code>rsync</code> parancs használatával már szétszórható a rendszerben, miközben az <span class=filename>rc.conf</span> állomány mindenkinél egyedi marad.</p></div><div class=paragraph><p>Ha a rendszert a <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> vagy a <code>make world</code> használatával frissítjük, akkor az <span class=filename>rc.conf</span> tartalma nem íródik felül, így a rendszer beállításairól szóló adatok nem vesznek el.</p></div></div></div><div class=sect1><h2 id=configtuning-appconfig>11.4. Az alkalmazások beállítása<a class=anchor href=#configtuning-appconfig></a></h2><div class=sectionbody><div class=paragraph><p>A telepített alkalmazások általában saját konfigurációs állományokkal, azok pedig saját formátummal stb. rendelkeznek. Fontos, hogy ezeket az állományokat az alaprendszertõl elkülönítve tároljuk, ezáltal a csomagkezelõ eszközök könnyen rájuk tudjanak találni és dolgozni velük.</p></div><div class=paragraph><p>Ezeket az állományokat általában a <span class=filename>/usr/local/etc</span> könyvtárban találjuk meg. Amennyiben egy alkalmazáshoz több konfigurációs állomány is tartozik, akkor ahhoz ezen belül egy külön alkönyvtár jön létre.</p></div><div class=paragraph><p>Normális esetben, amikor egy portot vagy csomagot telepítünk, minta konfigurációs állományokat is kapunk. Ezek nevében többnyire a <span class=filename>.default</span> utótag szerepel. Ha még nincs konfigurációs állomány az adott alkalmazáshoz, akkor a <span class=filename>.default</span> jelzésû állományokból ez létrehozható.</p></div><div class=paragraph><p>Példaképpen most tekintsük a <span class=filename>/usr/local/etc/apache</span> könyvtár tartalmát:</p></div><div class=literalblock><div class=content><pre>-rw-r--r--  1 root  wheel   2184 May 20  1998 access.conf
-rw-r--r--  1 root  wheel   2184 May 20  1998 access.conf.default
-rw-r--r--  1 root  wheel   9555 May 20  1998 httpd.conf
-rw-r--r--  1 root  wheel   9555 May 20  1998 httpd.conf.default
-rw-r--r--  1 root  wheel  12205 May 20  1998 magic
-rw-r--r--  1 root  wheel  12205 May 20  1998 magic.default
-rw-r--r--  1 root  wheel   2700 May 20  1998 mime.types
-rw-r--r--  1 root  wheel   2700 May 20  1998 mime.types.default
-rw-r--r--  1 root  wheel   7980 May 20  1998 srm.conf
-rw-r--r--  1 root  wheel   7933 May 20  1998 srm.conf.default</pre></div></div><div class=paragraph><p>Az állományok mérete jól mutatja, hogy csak az <span class=filename>srm.conf</span> változott meg. Az Apache késõbbi frissítései ezt az állományt nem fogják felülírni.</p></div></div></div><div class=sect1><h2 id=configtuning-starting-services>11.5. Szolgáltatások indítása<a class=anchor href=#configtuning-starting-services></a></h2><div class=sectionbody><div class=paragraph><p>A felhasználók közül sokan választják a FreeBSD Portgyûjteményében található külsõ szoftverek telepítését. A telepített szoftvert ilyenkor gyakran úgy kell beállítani, hogy a rendszer indulásával együtt induljon. Az olyan szolgáltatások, mint például a <a class=package href=https://cgit.freebsd.org/ports/tree/mail/postfix/>mail/postfix</a> vagy a <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache13/>www/apache13</a> csupán két olyan szoftvercsomag, amelyet a rendszerrel együtt kell elindítani. Ebben a szakaszban a külsõ szoftverek indítására használatos eljárásokkal foglalkozunk.</p></div><div class=paragraph><p>A FreeBSD-ben megjelenõ legtöbb szolgáltatás, mint például a <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>, a rendszerindító szkripteken keresztül kel életre. Habár ezek a szkriptek a FreeBSD egyes verziói vagy az egyes gyártók esetén különbözhetnek, azonban az mindegyikükben közös, hogy az elindításukra vonatkozó beállítások egyszerû indítószkriptekkel adhatóak meg.</p></div><div class=sect2><h3 id=_az_alkalmazások_részletesebb_beállítása>11.5.1. Az alkalmazások részletesebb beállítása<a class=anchor href=#_az_alkalmazások_részletesebb_beállítása></a></h3><div class=paragraph><p>Most miután a FreeBSD rendelkezik egy <span class=filename>rc.d</span> könyvtárral, az alkalmazások indításának beállítása is könnyebbé és ügyesebbé vált. Az <a href=#configtuning-rcd>rc.d</a> mûködésérõl szóló szakaszban megismert kulcsszavak segítségével az alkalmazások mostantól kezdve a többi szolgáltatás, például a DNS után indulnak el, és az <span class=filename>rc.conf</span> állományon keresztül a szkriptekbe huzalozottak helyett most már tetszõleges paramétereket is átadhatunk stb. Egy egyszerû szkript ehhez hasonlóan néz ki:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
#
# PROVIDE: utility
# REQUIRE: DAEMON
# KEYWORD: shutdown

. /etc/rc.subr

name=utility
rcvar=utility_enable

command=&#34;/usr/local/sbin/utility&#34;

load_rc_config $name

#
# NE VÁLTOZTASSUK MEG AZ ITT LÉVõ ALAPÉRTELMEZÉSEKET,
# INKÁBB AZ /etc/rc.conf ÁLLOMÁNYBAN ÁLLÍTSUK BE EZEKET
#
utility_enable=${utility_enable-&#34;NO&#34;}
pidfile=${utility_pidfile-&#34;/var/run/utility.pid&#34;}

run_rc_command &#34;$1&#34;</pre></div></div><div class=paragraph><p>Ez a szkript gondoskodik arról, hogy a utility nevû alkalmazás a <code>DAEMON</code> szolgáltatás után induljon el. Emellett még felkínál egy módszert a PID avagy futó programok azonosítójának beállítására és nyomonkövetésére is.</p></div><div class=paragraph><p>Ezt követõen az <span class=filename>/etc/rc.conf</span> állományból az alkalmazás elindítható az alábbi sor hozzáadásával:</p></div><div class="literalblock programlisting"><div class=content><pre>utility_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Ez a módszer megkönnyíti a parancssorban átadott paraméterek módosítását, az <span class=filename>/etc/rc.subr</span> állományban szereplõ alapértelmezett függvények használatát, az <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> segédprogrammal szembeni kompatibilitást és az <span class=filename>rc.conf</span> állomány könnyebb beállítását.</p></div></div><div class=sect2><h3 id=_szolgáltatások_indítása_szolgáltatásokkal>11.5.2. Szolgáltatások indítása szolgáltatásokkal<a class=anchor href=#_szolgáltatások_indítása_szolgáltatásokkal></a></h3><div class=paragraph><p>Más szolgáltatások, mint például a POP3 vagy IMAP szerverek démonai stb. az <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> segítségével indíthatóak el. Ez a Portgyûjteménybõl telepített szolgáltatások esetén magával vonja az adott segédprogram felvételét vagy a hozzá tartozó sor engedélyezését az <span class=filename>/etc/inetd.conf</span> állományban. Az inetd mûködésével és annak beállításával mélyrehatóbban az <a href=../network-servers/#network-inetd>inetd</a> szakasza foglalkozik.</p></div><div class=paragraph><p>A legtöbb esetben a <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> démon használata kézenfekvõ a rendszerszintû szolgáltatások elindításában. Ez a megközelítés számos elõnyt tartogat, mivel a <code>cron</code> ezeket a programokat a felhasználó <span class=filename>crontab</span> állománya alapján futtatja. Ezzel a mezei felhasználók számára is lehetõvé válik, hogy elindítsanak és karbantartsanak alkalmazásokat.</p></div><div class=paragraph><p>A <code>cron</code> segédprogramnak van egy olyan speciális lehetõsége, hogy az idõ helyett a <code>@reboot</code> értéket adhatjuk meg. Ennek hatására a feladat a <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> indításával együtt fut le, tehát megszokott esetben a rendszer indítása során.</p></div></div></div></div><div class=sect1><h2 id=configtuning-cron>11.6. A <code>cron</code> segédprogram beállítása<a class=anchor href=#configtuning-cron></a></h2><div class=sectionbody><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> a FreeBSD egyik leghasznosabb segédprogramja. A <code>cron</code> segédprogram a háttérben fut és folyamatosan figyeli az <span class=filename>/etc/crontab</span> állományt. Emellett a <code>cron</code> új <span class=filename>crontab</span> állományok után kutatva folyamatosan ellenõrzi a <span class=filename>/var/cron/tabs</span> könyvtárat. Ezek a <span class=filename>crontab</span> állományok olyan feladatokról tárolnak adatokat, amelyeket a <code>cron</code> programnak egy adott pillanatban el kell végeznie.</p></div><div class=paragraph><p>A <code>cron</code> a konfigurációs állományok két külön fajtáját, a rendszer- és felhasználói crontabokat használja. A két típus között levõ egyetlen különbség a hatodik mezõben található. A rendszerszintû crontabok esetében a hatodik mezõ annak a felhasználónak a nevét tartalmazza, amivel a program fut. Ezzel a rendszer szintjén mûködõ crontaboknak megadatott az a képesség, hogy tetszõleges felhasználó nevében futtassanak programokat. A felhasználók crontabjaiban a hatodik mezõ a futtatandó parancsot tartalmazza, és ilyenkor az összes parancs a crontabot létrehozó felhasználó nevében hajtódik végre. Ez utóbbi egy fontos biztonsági jellemzõ.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A felhasználói crontabok lehetõvé teszik az egyes felhasználók számára, hogy a <code>root</code> felhasználó jogosultságai nélkül képesek legyenek feladatokat ütemezni, ugyanis a felhasználóhoz tartozó crontabban szereplõ parancsok mindegyike a tulajdonosának engedélyeivel fut.</p></div><div class=paragraph><p>Az átlagos felhasználókhoz hasonlóan a <code>root</code> felhasználónak is lehet crontabja, ami nem ugyanaz, mint az <span class=filename>/etc/crontab</span> (a rendszer saját crontab állománya). De mivel a rendszernek külön crontabja van, ezért a <code>root</code> felhasználónak nem kell külön crontabot létrehozni.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Vessünk egy pillanatást az <span class=filename>/etc/crontab</span> (a rendszer crontabjának) tartalmára:</p></div><div class="literalblock programlisting"><div class=content><pre># /etc/crontab - a root crontabja FreeBSD alatt
#
# $FreeBSD: src/etc/crontab,v 1.32 2002/11/22 16:13:39 tom Exp $
#<i class=conum data-value=1></i><b>(1)</b>
#
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin <i class=conum data-value=2></i><b>(2)</b>
HOME=/var/log
#
#
#minute	hour	day	month	wday	who	command <i class=conum data-value=3></i><b>(3)</b>
#
#
*/5	*	*	*	*	root	/usr/libexec/atrun <i class=conum data-value=4></i><b>(4)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>A FreeBSD legtöbb konfigurációs állományához hasonlóan itt is a <code>#</code> jelöli a megjegyzéseket. Az ilyen megjegyzések remekül használhatóak annak feljegyzésére, hogy mit és miért akarunk futtatni. A megjegyzések azonban nem szerepelhetnek a paranccsal egy sorban, mivel máskülönben a parancs részeként kerülnek értelmezésre. Tehát mindig új sorba kell raknunk ezeket. Az üres sorokat a program nem veszi figyelembe.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Elõször is meg kell adnunk egy környezetet. Az egyenlõség (<code>=</code>) karakter használatos a környezeti beállítások meghatározására, ahogy mindezt az itteni példában is tapasztalhatjuk a <code>SHELL</code>, <code>PATH</code> és <code>HOME</code> értékek esetében. Ha nem adunk meg mást, akkor a <code>cron</code> az alapértelmezés szerinti <code>sh</code> parancsértelmezõt használja. Ha nem adjuk meg a <code>PATH</code> változó értékét, akkor minden állományra abszolút elérési úttal kell hivatkoznunk, mivel ennek nincs alapértelmezett értéke. Ha nem definiáljuk a <code>HOME</code> változó értékét, akkor a <code>cron</code> a parancshoz tartozó felhasználó könyvtárából fog dolgozni.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Ez a sor írja le a megadható hét mezõt. Az itt szereplõ értékek a <code>minute</code> (perc), <code>hour</code> (óra), <code>mday</code> (a hónap napja), <code>month</code> (hónap), <code>wday</code> (a hét napja), <code>who</code> (ki) és <code>command</code> (mit). A mezõk szinte maguktól értetõdnek. A <code>minute</code> egy órán belül adja meg azokat a perceket, amikor az adott parancsot le kell futtatni. A <code>hour</code> hasonló a <code>minute</code> beállításhoz, csak az itt szereplõ értékét órákban kell értelmezni. Az <code>mday</code> a hónap napjaiban számol. A <code>month</code> hasonló a <code>minute</code> és <code>hour</code> opciókhoz, de ez hónapot jelöl. A <code>wday</code> a hét egy napját jelzi. Ezeknek a mezõknek numerikus, valamint a huszonnégy órás idõformátumnak megfelelõ értékeket kell tartalmazniuk. A <code>who</code> mezõ, a többiektõl eltérõ módon, csak az <span class=filename>/etc/crontab</span> állományban jelenik meg. Ez a mezõ adja meg, hogy a parancsot milyen felhasználóval kell futtatni. Ez az opció nem jelenik meg a felhasználók saját <span class=filename>crontab</span> állományainak telepítésekor. A sor végén láthatjuk még a <code>command</code> oszlopot is. Ez az utolsó mezõ, és ide kerül a végrehajtandó parancs.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Ez az utolsó sor a fentebb tárgyalt értékeket határozza meg. Észrevehetjük, hogy a sor egy <code><strong>/5</strong></code><strong> alakú felírással kezdõdik, amelyet további <code></code></strong> karakterek követnek. A <code>*</code> karakterek jelentése "elsõ-utolsó", ami arra utal, hogy <em>mindig</em>. Ennek megfelelõen úgy értelmezhetjük ezt a sort, hogy a <code>root</code> felhasználóval le kell futtatni az <code>atrun</code> parancsot minden ötödik percben, függetlenül attól, hogy milyen nap vagy hónap van. Az <code>atrun</code> parancsról részletesebban az <a href="https://man.freebsd.org/cgi/man.cgi?query=atrun&amp;sektion=8&amp;format=html">atrun(8)</a> man oldalán kapunk felvilágosítást.Az itt szereplõ parancsoknak tetszõleges mennyiségû paraméter adható át, azonban a több soron keresztül átívelõ parancsok tördelését a sor végén a "\" karakterrel kell jelezni.</td></tr></tbody></table></div><div class=paragraph><p>Ez mindegyik <span class=filename>crontab</span> állomány alapbeállítása, habár ettõl általában egy dologban eltérnek. A hatodik mezõ, ahol a felhasználót adtuk meg, csak a rendszer <span class=filename>/etc/crontab</span> állományában jelenik meg. Ez a mezõ a felhasználók <span class=filename>crontab</span> állományaiból kimarad.</p></div><div class=sect2><h3 id=configtuning-installcrontab>11.6.1. Egy crontab telepítése<a class=anchor href=#configtuning-installcrontab></a></h3><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Nem kötelezõ az itt ismertetésre kerülõ módon szerkeszteni vagy telepíteni a rendszer crontabját. Egyszerûen nyissuk meg a kedvenc szövegszerkesztõnkkel, és a <code>cron</code> segédprogram majd észreveszi, hogy az állomány megváltozott, majd ennek megfelelõen neki is lát a módosított változat használatának. Errõl <a href=https://docs.freebsd.org/hu/books/faq/#ROOT-NOT-FOUND-CRON-ERRORS>a GYIK-ban (angolul)</a> többet is megtudhatunk.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Egy frissen készített felhasználói <span class=filename>crontab</span> telepítéséhez elõször a kedvenc szövegszerkesztõnk segítségével létre kell hoznunk a megfelelõ formátumú állományt, majd használnunk a <code>crontab</code> segédprogramot. Ennek általános alakja:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% crontab crontab_állomány</code></pre></div></div><div class=paragraph><p>Ebben a példában a <span class=filename>crontab_állomány</span> a korábban létrehozott <span class=filename>crontab</span> neve lesz.</p></div><div class=paragraph><p>Lehetõségünk van lekérdezni a telepített <span class=filename>crontab</span> állományokat: egyszerûen adjuk át a <code>-l</code> kapcsolót a <code>crontab</code> parancsnak, és nézzük meg, mit ad vissza.</p></div><div class=paragraph><p>A <code>crontab -e</code> használata olyan felhasználók számára ajánlott, akik sablon alkalmazása nélkül szeretnének teljesen maguktól megírni egy crontab állományt. Ennek hatására a kiválasztott szövegszerkesztõ egy üres állományt kap. Miután ezt az állományt elmentettük, a <code>crontab</code> programmal magától telepítésre kerül.</p></div><div class=paragraph><p>Ha a késõbbiekben törölni akarjuk a felhasználónkhoz tartozó <span class=filename>crontab</span> állományt, akkor erre a célra használjuk a <code>crontab -r</code> kapcsolóját.</p></div></div></div></div><div class=sect1><h2 id=configtuning-rcd>11.7. Az rc használata FreeBSD alatt<a class=anchor href=#configtuning-rcd></a></h2><div class=sectionbody><div class=paragraph><p>A rendszer indítására a FreeBSD 2002-ben átvette a NetBSD <span class=filename>rc.d</span> rendszerét. Ezt a felhasználók könnyen felismerhetik az <span class=filename>/etc/rc.d</span> könyvtárban található állományokról. A legtöbbjük olyan alapvetõ szolgáltatás, amelyet a <code>start</code>, <code>stop</code> és <code>restart</code> paraméterekkel lehet vezérelni. Például az <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a> az alábbi paranccsal indítható újra:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd restart</span></code></pre></div></div><div class=paragraph><p>Ez az eljárás hasonló a többi szolgáltatás esetén is. Természetesen ezek a szolgáltatások általában maguktól indulnak el a rendszer indítása során az <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> állományban megadottak szerint. Például ha a rendszerünk indulásakor szeretnénk aktiválni a hálózati címfordítással foglalatoskodó démont, akkor csak adjuk hozzá az <span class=filename>/etc/rc.conf</span> állományhoz a következõ sort:</p></div><div class="literalblock programlisting"><div class=content><pre>natd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Amennyiben a <code>natd_enable="NO"</code> sor már szerepel benne, akkor egyszerûen írjuk át a <code>NO</code> értéket <code>YES</code>-re. Ezután az rc szkriptek a rendszer következõ indításakor a lentieknek megfelelõen automatikusan elindítják a hozzá tartozó szolgáltatásokat is.</p></div><div class=paragraph><p>Mivel az <span class=filename>rc.d</span> rendszert elsõsorban arra használják, hogy szolgáltatásokat indítsanak el vagy állítsanak le az operációs rendszerrel együtt, a szabványos <code>start</code>, <code>stop</code> és <code>restart</code> paraméterek csak abban az esetben látják el a feladatukat, ha a nekik megfelelõ változókat beállítottuk az <span class=filename>/etc/rc.conf</span> állományban. Tehát például az <code>sshd restart</code> csak abban az esetben fog bármit is csinálni, ha az <span class=filename>/etc/rc.conf</span> állományban az <code>sshd_enable</code> változót a <code>YES</code> értékre állítottuk. Ha az <span class=filename>/etc/rc.conf</span> beállításaitól függetlenül kívánunk egy szolgáltatásnak <code>start</code>, <code>stop</code> vagy <code>restart</code> parancsot adni, akkor elé kell tennünk egy "one" szót. Például ha az <code>sshd</code> szolgáltatás újraindításához az <span class=filename>/etc/rc.conf</span> tartalmát figyelmen kívül akarjuk hagyni, akkor ezt a parancsot kell kiadnunk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd onerestart</span></code></pre></div></div><div class=paragraph><p>Könnyen ellenõrizni tudjuk, hogy az adott szolgáltatás az <span class=filename>/etc/rc.conf</span> részérõl engedélyezett-e, ha a neki megfelelõ <span class=filename>rc.d</span> szkriptnek megadjuk az <code>rcvar</code> paramétert. Ennek segítségével például a rendszergazda így képes ellenõrizni, hogy az <code>sshd</code> szolgáltatást engedélyezi-e az <span class=filename>/etc/rc.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd rcvar</span>
<span class=c># sshd</span>
<span class=nv>$sshd_enable</span><span class=o>=</span>YES</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A második sor (<code># sshd</code>) az <code>sshd</code> parancs kimenete, nem pedig a <code>root</code> parancssora.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A <code>status</code> paraméterrel kideríthetjük, hogy egy szolgáltatás aktív-e. Ezzel például így tudjuk ellenõrizni az <code>sshd</code> szolgáltatás mûködését:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd status</span>
sshd is running as pid 433.</code></pre></div></div><div class=paragraph><p>Az üzenet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Az sshd a 433-as azonosítóval fut.</code></pre></div></div><div class=paragraph><p>Bizonyos esetekben a <code>reload</code> paraméter használatával lehetõségünk van a szolgáltatások újraindítására is. Ilyenkor a rendszer megpróbál egy olyan jelzést küldeni a szolgáltatásnak, amivel a konfigurációs állományainak újraolvasását kéri. A legtöbbször lényegében ez a <code>SIGHUP</code> jelzés kiküldését rejti magában. Ez a lehetõség azonban nem mindegyik szolgáltatás esetén érhetõ el.</p></div><div class=paragraph><p>Az <span class=filename>rc.d</span> rendszer nem csupán hálózati szolgáltatások esetén használatos, hanem nagyrészben hozzájárul a rendszer indításához is. Erre vegyük példának a <span class=filename>bgfsck</span> állományt. Amikor ez a szkript lefut, a következõ üzenetet jeleníti meg:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Starting background file system checks <span class=k>in </span>60 seconds.</code></pre></div></div><div class=paragraph><p>Az üzenet fordítása:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>A háttérben 60 másodperc múlva megkezdõdik az állományrendszerek ellenõrzése.</code></pre></div></div><div class=paragraph><p>Ennek megfelelõen tehát ezt az állományt az állományrendszerek háttérben folyó ellenõrzésére használják, ami pedig a rendszer indítása során fut le.</p></div><div class=paragraph><p>Számos rendszerszolgáltatás igényel a mûködéséhez további szolgáltatásokat. Például a NIS és más egyéb távoli eljáráshíváson alapú szolgáltatások egészen addig nem képesek elindulni, amíg az <code>rpcbind</code> (portmapper) szolgáltatást el nem indítjuk. Az ilyen jellegû gondok feloldására az indítószkriptek elején levõ megjegyzésekben található egy kevés metainformáció a szkript mûködéséhez szükséges elemekre (függõségeire) vonatkozóan. A rendszer indítása közben az <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> nevû program képes a megjegyzések közt ezeket az információkat feldolgozni és ebbõl megállapítani, hogy a függõségi viszonyok betartásával milyen sorrendben kell elindítani a rendszer által felkínált szolgáltatásokat.</p></div><div class=paragraph><p>Ehhez a következõ kulcsszavakat kell megadni az egyes indító szkriptek elején (az <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.subr&amp;sektion=8&amp;format=html">rc.subr(8)</a> így tudja "engedélyezni" az indító szkriptet):</p></div><div class=ulist><ul><li><p><code>PROVIDE</code>: segítségével megmondjuk, hogy ez az állomány milyen szolgáltatásokat nyújt.</p></li></ul></div><div class=paragraph><p>A következõ kulcsszavak az egyes indítóállományok elején szerepelhetnek. Nem kell feltétlenül használnunk ezeket, de velük az <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> munkáját segíthetjük:</p></div><div class=ulist><ul><li><p><code>REQUIRE</code>: felsoroljuk azokat a szolgáltatásokat, amelyek a futásához kellenek. Az állomány tehát az itt megadott szolgáltatások <em>után</em> fog lefutni.</p></li><li><p><code>BEFORE</code>: felsoroljuk azokat a szolgáltatásokat, amelyek <em>elõtt</em> futtatni kell ezt az állományt.</p></li></ul></div><div class=paragraph><p>Az indító szkriptekben a kulcsszavak ügyes megválasztásával a rendszergazda nagyon finoman képes az indításkor végrehajtódó szkriptek sorrendjét szabályozni és a többi UNIX® alapú operációs rendszerbõl ismert "futtatási szintek" használata nélkül vezérelni a rendszerben megjelenõ szolgáltatásokat.</p></div><div class=paragraph><p>Az <span class=filename>rc.d</span> rendszerrõl bõvebben az <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.subr&amp;sektion=8&amp;format=html">rc.subr(8)</a> man oldalakon olvashatunk. Ha szeretnénk saját <span class=filename>rc.d</span> szkripteket írni vagy javítani a már meglévõkön, akkor ez <a href=https://docs.freebsd.org/en/articles/rc-scripting/>a cikk</a> (angolul) segítségünkre lehet.</p></div></div></div><div class=sect1><h2 id=config-network-setup>11.8. A hálózati kártyák beállítása<a class=anchor href=#config-network-setup></a></h2><div class=sectionbody><div class=paragraph><p>Manapság már el sem tudunk képzelni számítógépet hálózati csatlakozás nélkül. A hálózati csatolókártyák hozzáadása és beállítása egy FreeBSD rendszergazda mindennapos feladata.</p></div><div class=sect2><h3 id=_a_megfelelõ_meghajtóprogram_felderítése>11.8.1. A megfelelõ meghajtóprogram felderítése<a class=anchor href=#_a_megfelelõ_meghajtóprogram_felderítése></a></h3><div class=paragraph><p>Mielõtt bárminek is nekikezdenénk, érdemes tisztában lennünk azzal, hogy a rendelkezésünkre álló kártya milyen típusú, milyen chipet használ és hogy PCI vagy ISA buszon csatlakozik-e. A FreeBSD a PCI és ISA csatolós kártyák széles spektrumát ismeri. Az egyes kiadásokhoz mellékelt "Hardware Compatibility List" (Hardverkompatibilitási lista) dokumentumokban tudjuk ellenõrizni, hogy a kártyákat ismeri a rendszer.</p></div><div class=paragraph><p>Miután meggyõzõdtünk róla, hogy a kártyánkat ismeri a rendszer, meg kell keresnünk a hozzá tartozó meghajtót. A <span class=filename>/usr/src/sys/conf/NOTES</span> és a <span class=filename>/usr/src/sys/arch/conf/NOTES</span> állományok tartalmazzák a hálózati kártyák meghajtóinak rövid leírását, benne a támogatott chipsetek és kártyák típusaival. Ha ez alapján nem tudjuk teljes biztosággal eldönteni, hogy melyik a számunkra megfelelõ meghajtó, nézzük meg a saját man oldalát. Ezen a man oldalon megtaláljuk az általa ismert összes eszközt és a velük kapcsolatban elõforduló jellemzõ problémákat.</p></div><div class=paragraph><p>Ha egy elterjedt típust sikerült beszereznünk, akkor nem kell különösebben sokáig keresnünk a neki megfelelõ meghajtót. Az ismertebb hálózati kártyák meghajtói ugyanis alapból benne vannak a <span class=filename>GENERIC</span> rendszermagban, ezért a rendszer indítása során ehhez hasonlóan meg is jelennek a kártyák:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>dc0: &lt;82c169 PNIC 10/100BaseTX&gt; port 0xa000-0xa0ff mem 0xd3800000-0xd38
000ff irq 15 at device 11.0 on pci0
miibus0: &lt;MII bus&gt; on dc0
bmtphy0: &lt;BCM5201 10/100baseTX PHY&gt; PHY 1 on miibus0
bmtphy0:  10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
dc0: Ethernet address: 00:a0:cc:da:da:da
dc0: <span class=o>[</span>ITHREAD]
dc1: &lt;82c169 PNIC 10/100BaseTX&gt; port 0x9800-0x98ff mem 0xd3000000-0xd30
000ff irq 11 at device 12.0 on pci0
miibus1: &lt;MII bus&gt; on dc1
bmtphy1: &lt;BCM5201 10/100baseTX PHY&gt; PHY 1 on miibus1
bmtphy1:  10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
dc1: Ethernet address: 00:a0:cc:da:da:db
dc1: <span class=o>[</span>ITHREAD]</code></pre></div></div><div class=paragraph><p>Ebben a példában láthatunk is két olyan kártyát, amelyek a <a href="https://man.freebsd.org/cgi/man.cgi?query=dc&amp;sektion=4&amp;format=html">dc(4)</a> meghajtót használják.</p></div><div class=paragraph><p>Ha a hálózati kártyánk meghajtója nem szerepel a <span class=filename>GENERIC</span> konfigurációban, akkor a mûködéséhez be kell tölteni a megfelelõ meghajtót. Ezt alapvetõen kétféleképpen érhetjük el:</p></div><div class=ulist><ul><li><p>Ennek legegyszerûbb módja, ha a <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> használatával alkalmanként vagy a <span class=filename>/boot/loader.conf</span> állományban a megfelelõ sor hozzáadásával a rendszer indításával együtt betöltjük a hálózati kártya meghajtójához tartozó modult. Nem mindegyik hálózati kártya meghajtója érhetõ el modul formájában. Erre konkrét például szolgálnak az ISA kártyákhoz tartozó modulok.</p></li><li><p>Másik lehetõségünk, ha statikusan beépítjük a kártyánk támogatását a rendszermagba. A <span class=filename>/usr/src/sys/conf/NOTES</span> és az <span class=filename>/usr/src/sys/arch/conf/NOTES</span> állományok, valamint a meghajtóhoz tartozó man oldal elolvasásából megtudhatjuk a rendszermag beállításait tartalmazó állományban megadandó paramétereket. A rendszermag újrafordítását lásd <a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a>. Ha a rendszermag (<span class=filename>GENERIC</span>) az indulás során észlelte a kártyánkat, nem kell újat készítenünk.</p></li></ul></div><div class=sect3><h4 id=config-network-ndis>11.8.1.1. A Windows® NDIS meghajtóinak használata<a class=anchor href=#config-network-ndis></a></h4><div class=paragraph><p>Sajnos még mindig sok olyan gyártó akad, akik a nyílt forrású közösség számára nem adják ki a meghajtóik mûködésének alapjait, mivel az ilyen adatokat szakmai titoknak tekintik. Ebbõl következik, hogy a FreeBSD és más operációs rendszerek fejlesztõi számára két választás marad: vagy a gyári meghajtók visszafejtésének hosszú és fájdalmas útján haladva fejlesztik ki a saját meghajtójukat, vagy pedig a Microsoft® Windows® platformra kiadott meghajtók binárisait hasznosítják. A legtöbb fejlesztõ, köztük a FreeBSD fejlesztõi is, ez utóbbi megközelítést választották.</p></div><div class=paragraph><p>Bill Paul (wpaul) jóvoltából a FreeBSD 5.3-RELEASE változatában megjelent a "Network Driver Interface Specification" (NDIS, avagy hálózati meghajtók szabványos felülete) "natív" támogatása. A FreeBSD NDISulator (másnéven Project Evil, a Gonosz terve) nevû komponense fog egy Windows®-os meghajtót és elhiteti vele, hogy a Windows® operációs rendszerrel kommunikál. Mivel az <a href="https://man.freebsd.org/cgi/man.cgi?query=ndis&amp;sektion=4&amp;format=html">ndis(4)</a> meghajtó Windows® binárisokat használ fel, ezért csak i386 és amd64 rendszerek esetén érhetõ el.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=ndis&amp;sektion=4&amp;format=html">ndis(4)</a> meghajtó leginkább a PCI, CardBus és PCMCIA csatolójú eszközök támogatására lett kitalálva, az USB eszközöket még nem ismeri.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Az NDISulator használatához három tényezõre van szükségünk:</p></div><div class="olist arabic"><ol class=arabic><li><p>A rendszermag forrása</p></li><li><p>a Windows® XP meghajtó binárisa (<span class=filename>.SYS</span> a kiterjesztése)</p></li><li><p>a Windows® XP meghajtó konfigurációs állománya (<span class=filename>.INF</span> a kiterjesztése)</p></li></ol></div><div class=paragraph><p>Keressük meg az említett állományokat az adott kártyához. Ezeket általában a mellékelt CD-n vagy a gyártó honlapján találjuk meg. A most következõ példákban a <span class=filename>W32DRIVER.SYS</span> és a <span class=filename>W32DRIVER.INF</span> neveket fogjuk használni.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A Windows® i386 architektúrájú verziójához készült meghajtóprogramokat nem tudjuk a FreeBSD/amd64 verziójával használni. A mûködéshez amd64-re készült Windows®-os meghajtókra van szükség.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A következõ lépés a meghajtó binárisainak betölthetõ modulba fordítása. Ennek eléréséhez használjuk az <a href="https://man.freebsd.org/cgi/man.cgi?query=ndisgen&amp;sektion=8&amp;format=html">ndisgen(8)</a> parancsot a <code>root</code> felhasználóval:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ndisgen /windowsos/meghajtó/W32DRIVER.INF /windowsos/meghajtó/W32DRIVER.SYS</span></code></pre></div></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=ndisgen&amp;sektion=8&amp;format=html">ndisgen(8)</a> egy interaktív segédprogram, amely mûködése közben még rákérdez néhány szükséges információra. Az aktuális könyvtárban létrehoz egy rendszermagmodult, amelyet az alábbi módon tudunk betölteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload ./W32DRIVER_SYS.ko</span></code></pre></div></div><div class=paragraph><p>Az elõállított modul mellé be kell töltenünk még az <span class=filename>ndis.ko</span> és az <span class=filename>if_ndis.ko</span> modulokat is. Ez általában minden olyan modul esetén megtörténik magától, amely függ az <a href="https://man.freebsd.org/cgi/man.cgi?query=ndis&amp;sektion=4&amp;format=html">ndis(4)</a> használatától. Kézileg a következõ parancsokkal tudjuk ezeket betölteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload ndis</span>
<span class=c># kldload if_ndis</span></code></pre></div></div><div class=paragraph><p>Itt az elsõ parancs betölti az NDIS miniport meghajtó burkolására szánt kódot, valamint a második a tényleges hálózati csatolófelületet.</p></div><div class=paragraph><p>Most pedig a <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> kimenetében ellenõrizzük, hogy történt-e valamilyen hiba a betöltés során. Ha minden jól ment, akkor az alábbiakhoz hasonló kimenetet produkált:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ndis0: &lt;Wireless-G PCI Adapter&gt; mem 0xf4100000-0xf4101fff irq 3 at device 8.0 on pci1
ndis0: NDIS API version: 5.0
ndis0: Ethernet address: 0a:b1:2c:d3:4e:f5
ndis0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
ndis0: 11g rates: 6Mbps 9Mbps 12Mbps 18Mbps 36Mbps 48Mbps 54Mbps</code></pre></div></div><div class=paragraph><p>Innentõl kezdve az <span class=filename>ndis0</span> nevû eszközt úgy tudjuk használni, mint bármelyik más hálózati felületet (például <span class=filename>dc0</span>).</p></div><div class=paragraph><p>A többi modulhoz hasonló módon be tudjuk állítani, hogy a rendszer indulásával együtt betöltõdjenek az NDIS modulok. Ehhez elõször másoljuk az imént létrehozott modult, az <span class=filename>W32DRIVER_SYS.ko</span> állományt a <span class=filename>/boot/modules</span> könyvtárba. Ezután adjuk hozzá a következõ sort a <span class=filename>/boot/loader.conf</span> állomány tartalmához:</p></div><div class="literalblock programlisting"><div class=content><pre>W32DRIVER_SYS_load=&#34;YES&#34;</pre></div></div></div></div><div class=sect2><h3 id=_a_hálózati_kártya_beállítása>11.8.2. A hálózati kártya beállítása<a class=anchor href=#_a_hálózati_kártya_beállítása></a></h3><div class=paragraph><p>Ahogy betöltõdött a megfelelõ meghajtó a hálózati kártyánkhoz, be is kell állítanunk a kártyát. A hálózati kártyák sok más dologgal együtt beállíthatóak a telepítés során a sysinstall segítségével.</p></div><div class=paragraph><p>A rendszerünkben beállított hálózati csatolófelületek megjelenítéséhez gépeljük be a következõ parancsot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ifconfig
dc0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        <span class=nv>options</span><span class=o>=</span>80008&lt;VLAN_MTU,LINKSTATE&gt;
        ether 00:a0:cc:da:da:da
        inet 192.168.1.3 netmask 0xffffff00 broadcast 192.168.1.255
        media: Ethernet autoselect <span class=o>(</span>100baseTX &lt;full-duplex&gt;<span class=o>)</span>
        status: active
dc1: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        <span class=nv>options</span><span class=o>=</span>80008&lt;VLAN_MTU,LINKSTATE&gt;
        ether 00:a0:cc:da:da:db
        inet 10.0.0.1 netmask 0xffffff00 broadcast 10.0.0.255
        media: Ethernet 10baseT/UTP
        status: no carrier
plip0: <span class=nv>flags</span><span class=o>=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
lo0: <span class=nv>flags</span><span class=o>=</span>8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; metric 0 mtu 16384
        <span class=nv>options</span><span class=o>=</span>3&lt;RXCSUM,TXCSUM&gt;
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x4
        inet6 ::1 prefixlen 128
        inet 127.0.0.1 netmask 0xff000000
        nd6 <span class=nv>options</span><span class=o>=</span>8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1500</code></pre></div></div><div class=paragraph><p>Az elõbbi parancs kimenetében a következõ eszközök jelentek meg:</p></div><div class=ulist><ul><li><p><span class=filename>dc0</span>: az elsõ Ethernet felület</p></li><li><p><span class=filename>dc1</span>: a második Ethernet felület</p></li><li><p><span class=filename>plilp0</span>: a párhuzamos port felülete (amennyiben található párhuzamos port a számítógépben)</p></li><li><p><span class=filename>lo0</span>: a loopback eszköz</p></li></ul></div><div class=paragraph><p>A FreeBSD a kártyához tartozó meghajtó nevével és egy sorszámmal azonosítja a rendszermag indulása során talált eszközöket. Például az <span class=filename>sis2</span> a rendszerben található harmadik olyan eszköz, amely a <a href="https://man.freebsd.org/cgi/man.cgi?query=sis&amp;sektion=4&amp;format=html">sis(4)</a> meghajtót használja.</p></div><div class=paragraph><p>A példában a <span class=filename>dc0</span> eszköz aktív és mûködõképes. Ennek legfontosabb jelei:</p></div><div class="olist arabic"><ol class=arabic><li><p>Az <code>UP</code> szó mutatja, hogy a kártyát sikerült beállítani és készen áll a használatra.</p></li><li><p>A kártya internet (<code>inet</code>) címe (jelen esetünkben ez <code>192.168.1.3</code>).</p></li><li><p>Érvényes hálózati maszkkal rendelkezik (<code>netmask</code>, ahol a <code>0xffffff00</code> a <code>255.255.255.0</code> címnek felel meg).</p></li><li><p>Érvényes broadcast (üzenetszóró) címmel rendelkezik (ami itt most <code>192.168.1.255</code>).</p></li><li><p>A kártya MAC-címe (<code>ether</code>) <code>00:a0:cc:da:da:da</code>.</p></li><li><p>A hozzá tartozó fizikai eszköz kiválasztása automatikus (<code>media: Ethernet autoselect (100baseTX &lt;full-duplex>)</code>). Láthatjuk, hogy a <span class=filename>dc1</span> eszközt egy <code>10baseT/UTP</code> típusú fizikai eszközhöz állítottuk be. Az egyes meghajtókhoz tartozó fizikai módokról a nekik megfelelõ man oldalakon olvashatunk.</p></li><li><p>A kapcsolat állapota (<code>status</code>) <code>active</code> értékû, tehát van vonal. A <span class=filename>dc1</span> esetén láthatjuk, hogy a <code>status: no carrier</code> (nincs vonal). Ez teljesen normálisnak tekinthetõ minden olyan esetben, amikor a kártyába még nem dugtunk Ethernet-kábelt.</p></li></ol></div><div class=paragraph><p>Amennyiben az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> kimenete valami ilyesmi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>dc0: <span class=nv>flags</span><span class=o>=</span>8843&lt;BROADCAST,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	        <span class=nv>options</span><span class=o>=</span>80008&lt;VLAN_MTU,LINKSTATE&gt;
	        ether 00:a0:cc:da:da:da
	        media: Ethernet autoselect <span class=o>(</span>100baseTX &lt;full-duplex&gt;<span class=o>)</span>
	        status: active</code></pre></div></div><div class=paragraph><p>akkor az arra utal, hogy a kártyát nem állítottuk be.</p></div><div class=paragraph><p>A kártya beállításához a <code>root</code> felhasználó jogosultságaira van szükségünk. A hálózati kártyák beállítása az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> segítségével elvégezhetõ parancssorból is, de a gép újraindításakor az így megadott értékek elvesznek. Ezért az <span class=filename>/etc/rc.conf</span> állományba kell felvennünk a hálózati kártyák érvényes beállításait.</p></div><div class=paragraph><p>A kedvenc szövegszerkesztõnkben nyissuk meg az <span class=filename>/etc/rc.conf</span> állományt. Minden egyes hálózati csatolóhoz fel kell vennünk benne egy sort, ennek megfelelõen most a példához tartozó módon az alábbiakat:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_dc0=&#34;inet 192.168.1.3 netmask 255.255.255.0&#34;
ifconfig_dc1=&#34;inet 10.0.0.1 netmask 255.255.255.0 media 10baseT/UTP&#34;</pre></div></div><div class=paragraph><p>A <span class=filename>dc0</span> és <span class=filename>dc1</span> neveket kell a rendszerünkben ténylegesen megtalálható eszközök neveire kicserélni, valamint megadni a nekik megfelelõ címeket. A kártya meghajtójának és az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> man oldalának elolvasásával kideríthetjük az itt megadható további beállításokat, valamint az <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> man oldalán részletesebben megismerhetjük az <span class=filename>/etc/rc.conf</span> formai követelményeit.</p></div><div class=paragraph><p>Ha a telepítés során beállítottuk volna a hálózati kapcsolatokat, akkor tapasztalhatjuk, hogy egyes hálózati kártyák sorai itt már szerepelnek. Ellenõrizzük az <span class=filename>/etc/rc.conf</span> tartalmát, mielõtt bõvítenénk!</p></div><div class=paragraph><p>Mindezek mellett az <span class=filename>/etc/hosts</span> állományba is be kell írnunk a helyi hálózatunkon található különféle gépek neveit és IP-címeit, ha még nem szerepelnének ott. Errõl további részleteket a <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;format=html">hosts(5)</a> man oldalról és az <span class=filename>/usr/shared/examples/etc/hosts</span> állományból tudhatunk meg.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha a géppel szeretnénk majd csatlakozni az internetre, akkor ne felejtsük el manuálisan beállítani az alapértelmezett átjárót és a névfeloldáshoz szükséges kiszolgálót:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#39;defaultrouter=&#34;alapertelmezett_atjaro&#34;&#39; &gt;&gt; /etc/rc.conf</span>
<span class=c># echo &#39;nameserver DNS_kiszolgalo&#39; &gt;&gt; /etc/resolv.conf</span></code></pre></div></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_tesztelés_és_hibaelhárítás>11.8.3. Tesztelés és hibaelhárítás<a class=anchor href=#_tesztelés_és_hibaelhárítás></a></h3><div class=paragraph><p>Miután az <span class=filename>/etc/rc.conf</span> állományban elvégeztük a szükséges változtatásokat, érdemes újraindítanunk a rendszerünket. Ennek révén érvényesítjük a csatolófelületekkel kapcsolatos változtatásainkat és ellenõrizzük, hogy így a rendszer mindenféle hibaüzenet nélkül képes elindulni. A másik lehetõség, ha csak magát a hálózati alrendszer konfigurációját indítjuk el újra:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/netif restart</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha az <span class=filename>/etc/rc.conf</span> állományban már beállítottuk az alapértelmezett átjárót, akkor elegendõ csupán ez a parancs:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/routing restart</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Ahogy újrakonfiguráltuk a hálózati alrendszert, ki is tudjuk próbálni a hálózati felületeket.</p></div><div class=sect3><h4 id=_az_ethernet_kártyák_tesztelése>11.8.3.1. Az Ethernet kártyák tesztelése<a class=anchor href=#_az_ethernet_kártyák_tesztelése></a></h4><div class=paragraph><p>Az Ethernet kártyák helyes beállításának vizsgálatához két dolgot kell kipróbálnunk. Elõször is pingeljük magát a felületet, majd ezután pingeljünk meg a helyi hálózaton egy másik számítógépet.</p></div><div class=paragraph><p>Elsõként tehát próbáljuk meg a helyi felületet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ping <span class=nt>-c5</span> 192.168.1.3
PING 192.168.1.3 <span class=o>(</span>192.168.1.3<span class=o>)</span>: 56 data bytes
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>0 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.082 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>1 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.074 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>2 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.076 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>3 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.108 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>4 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.076 ms

<span class=nt>---</span> 192.168.1.3 ping statistics <span class=nt>---</span>
5 packets transmitted, 5 packets received, 0% packet loss
round-trip min/avg/max/stddev <span class=o>=</span> 0.074/0.083/0.108/0.013 ms</code></pre></div></div><div class=paragraph><p>Most pedig pingeljünk meg egy másik számítógépet a helyi hálózaton:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ping <span class=nt>-c5</span> 192.168.1.2
PING 192.168.1.2 <span class=o>(</span>192.168.1.2<span class=o>)</span>: 56 data bytes
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>0 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.726 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>1 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.766 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>2 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.700 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>3 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.747 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>4 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.704 ms

<span class=nt>---</span> 192.168.1.2 ping statistics <span class=nt>---</span>
5 packets transmitted, 5 packets received, 0% packet loss
round-trip min/avg/max/stddev <span class=o>=</span> 0.700/0.729/0.766/0.025 ms</code></pre></div></div><div class=paragraph><p>Ha beállítottuk az <span class=filename>/etc/hosts</span> állományt, akkor a <code>192.168.1.2</code> helyett a gép nevét is megadhatjuk.</p></div></div><div class=sect3><h4 id=_a_hibák_elhárítása>11.8.3.2. A hibák elhárítása<a class=anchor href=#_a_hibák_elhárítása></a></h4><div class=paragraph><p>A hardverek és szoftverek beállításaiban mindig is valódi kín megtalálni a hibákat, és ezeket a kínokat többnyire úgy tudjuk enyhíteni, ha elõször az egyszerû hibaforrásokat szûrjük ki. Csatlakoztattuk a hálózati kábelt? Tisztességesen beállítottuk a hálózati szolgáltatásokat? Jól állítottuk be a tûzfalat? A FreeBSD képes kezelni a kártyát? A hibajelentések elküldése elõtt mindig bújjuk át a támogatott hardvereszközök listáját. A FreeBSD verziókat frissítsük a legújabb STABLE változatra. Olvassuk át a levelezési listák archívumait vagy legalább keressünk rá a témára az interneten.</p></div><div class=paragraph><p>Ha a kártya mûködik, de a teljesítménye nem kielégítõ, érdemes ennek utánanézni a <a href="https://man.freebsd.org/cgi/man.cgi?query=tuning&amp;sektion=7&amp;format=html">tuning(7)</a> man oldalon. Ilyenkor érdemes ellenõrizni a hálózati beállításainkat is, mivel a helytelen beállítások gyakran okoznak teljesítményvesztést.</p></div><div class=paragraph><p>Bizonyos esetekben láthatunk egy vagy két <code>device timeout</code> típusú hibát is, ami a kártyák egyes fajtáinál elfogadható. Ha azonban folyamatosan megjelennek vagy zavaróvá válnak, érdemes utánanéznünk, hogy az eszköz nem ütközik-e valamelyik másikkal. Mindenképpen gyõzõdjünk meg a kábelek épségérõl és csatlakoztatásáról. Még az is elképzelhetõ, hogy egyszerûen csak egy másik hálózati kártyára van szükségünk.</p></div><div class=paragraph><p>Néha felbukkanak <code>watchdog timeout</code> jellegû hibák is. Ilyenkor elsõként mindig a hálózati kábelt ellenõrizzük. Egyes kártyáknak olyan PCI foglalatra van szükségük, ami támogatja a Bus Mastering opciót. Néhány régebbi alaplapon csak ilyen PCI bõvítõhely található (ami általában a 0. foglalat). Olvassunk utána a hálózati kártya és az alaplap dokumentációjában, hátha ezek okozzák a problémát.</p></div><div class=paragraph><p>A <code>No route to host</code> üzenet akkor jelenik meg, ha a rendszer képtelen megállapítani, milyen úton juttassa el a csomagokat a megadott célhoz. Ez többnyire olyankor történik meg, amikor nem adtunk meg alapértelmezett kézbesítési irányt (default route) vagy nem dugtuk be a hálózati kábelt. A <code>netstat -rn</code> kimenetébõl meg tudjuk állapítani, hogy létezik-e érvényes út az elérni kívánt cél felé. Ha nincs, akkor haladjunk tovább a <a href=../advanced-networking/#advanced-networking>Egyéb haladó hálózati témák</a>re.</p></div><div class=paragraph><p>A <code>ping: sendto: Permission denied</code> jellegû üzeneteket többségében egy helytelenül beállított tûzfal okozza. Ha az <code>ipfw</code> mûködését engedélyeztük a rendszermagban, de nem adtunk meg hozzá szabályokat, akkor az alapértelmezett házirend szerint minden forgalmat blokkolni fog, tehát még a pingeket is! Ezzel kapcsolatban a <a href=../firewalls/#firewalls>Tűzfalak</a> elolvasását ajánljuk.</p></div><div class=paragraph><p>Elõfordulhat, hogy a kártya teljesítménye igen gyenge vagy az átlagos alatt van. Ilyenkor a fizikai eszköz <code>autoselect</code> (automatikus) típusú kiválasztása helyett érdemes megadnunk a konkrét eszköznek megfelelõ típust. Habár ez a legtöbb hardver esetén beválik, nem mindenki számára jelent megoldást. Ismételten csak annyit tudunk ehhez hozzátenni, hogy ellenõrizzük a hálózati beállításainkat és olvassuk el a <a href="https://man.freebsd.org/cgi/man.cgi?query=tuning&amp;sektion=7&amp;format=html">tuning(7)</a> man oldalt.</p></div></div></div></div></div><div class=sect1><h2 id=configtuning-virtual-hosts>11.9. Virtuális címek<a class=anchor href=#configtuning-virtual-hosts></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD alkalmazása során igen gyakori a virtuális címek használata, aminek segítségével egyetlen szerver több szerverként képes látszódni a hálózaton. Ezt úgy érik el, hogy egyetlen felülethez több hálózati címet rendelnek hozzá.</p></div><div class=paragraph><p>Az adott hálózati csatolófelületnek van egy "valódi címe" és tetszõleges számú "álcíme". Ezeket az álcímeket általában az <span class=filename>/etc/rc.conf</span> állományban kell feltüntetni.</p></div><div class=paragraph><p>Az <span class=filename>fxp0</span> felület esetén az álcímek megadása valahogy így néz ki:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0_alias0=&#34;inet xxx.xxx.xxx.xxx netmask xxx.xxx.xxx.xxx&#34;</pre></div></div><div class=paragraph><p>Figyeljük meg, hogy az álcímekhez tartozó bejegyzések az <code>alias0</code> névvel kezdõdnek és szám szerint növekvõleg következnek egymás után (például, <code>_alias1</code>, <code>_alias2</code> és így tovább). A beállítás a sorozat elsõ kimaradó tagjánál megszakad.</p></div><div class=paragraph><p>Az álcímek hálózati maszkjának pontos meghatározása nagyon fontos, de szerencsére nem különösebben bonyolult. Minden felület esetén lennie kell egy olyan címnek, amely helyesen reprezentálja a hálózat hálózati maszkját. Minden egyéb olyan címnek, ami ugyanabba az alhálózatba esik, végig <code>1</code>-esekbõl álló hálózati maszkkal kell rendelkezniük (ami felírható <code>255.255.255.255</code> vagy <code>0xffffffff</code> formájában is).</p></div><div class=paragraph><p>Például vegyük azt, hogy az <span class=filename>fxp0</span> felületen keresztül két hálózathoz csatlakozunk, melyek közül az egyik a <code>10.1.1.0</code>, amelynek hálózati maszkja <code>255.255.255.0</code>, és a <code>202.0.75.16</code>, amelynek hálózati maszkja <code>255.255.255.240</code>. Azt szeretnénk elérni, hogy a rendszerünk a <code>10.1.1.1</code> címtõl a <code>10.1.1.5</code> címig, valamint a <code>202.0.75.17</code> címtõl a <code>202.0.75.20</code> címig jelenjen meg a nekik megfelelõ hálózatokon. Ahogy arra már fentebb is utaltunk, az adott hálózati tartományban csak az elsõ címnek (ebben az esetben ez a <code>10.0.1.1</code> és a <code>202.0.75.17</code>) kell valódi hálózati maszkkal rendelkeznie. Minden további címnek (a <code>10.1.1.2</code> és <code>10.1.1.5</code> között, valamint a <code>202.0.75.18</code> és <code>202.0.75.20</code> között) legyen <code>255.255.255.255</code> a hálózati maszkja.</p></div><div class=paragraph><p>Az alábbi <span class=filename>/etc/rc.conf</span> bejegyzések ennek az elrendezésnek megfelelõen állítják be a kártyát:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0=&#34;inet 10.1.1.1 netmask 255.255.255.0&#34;
ifconfig_fxp0_alias0=&#34;inet 10.1.1.2 netmask 255.255.255.255&#34;
ifconfig_fxp0_alias1=&#34;inet 10.1.1.3 netmask 255.255.255.255&#34;
ifconfig_fxp0_alias2=&#34;inet 10.1.1.4 netmask 255.255.255.255&#34;
ifconfig_fxp0_alias3=&#34;inet 10.1.1.5 netmask 255.255.255.255&#34;
ifconfig_fxp0_alias4=&#34;inet 202.0.75.17 netmask 255.255.255.240&#34;
ifconfig_fxp0_alias5=&#34;inet 202.0.75.18 netmask 255.255.255.255&#34;
ifconfig_fxp0_alias6=&#34;inet 202.0.75.19 netmask 255.255.255.255&#34;
ifconfig_fxp0_alias7=&#34;inet 202.0.75.20 netmask 255.255.255.255&#34;</pre></div></div></div></div><div class=sect1><h2 id=configtuning-configfiles>11.10. Konfigurációs állományok<a class=anchor href=#configtuning-configfiles></a></h2><div class=sectionbody><div class=sect2><h3 id=_az_etc_felépítése>11.10.1. Az <span class=filename>/etc</span> felépítése<a class=anchor href=#_az_etc_felépítése></a></h3><div class=paragraph><p>A beállításokkal kapcsolatos információk számos könyvtárban tárolódnak. Többek közt:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Általános rendszerszintû beállítások. Az itt levõ adatok a rendszer egészére vonatkoznak.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/defaults</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A rendszer konfigurációs állományainak alapértelmezett változatai.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> beállításához tartozó további állományok, egyéb levélküldéshez használt adatok.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/ppp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A felhasználói és rendszermag szintû ppp programok beállításai.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/namedb</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a> mûködéséhez szükséges adatok alapértelmezett helye. Általában a <span class=filename>named.conf</span> és a zónák leírását tároló állományok kerülnek ide.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/local/etc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A telepített alkalmazások konfigurációs állományai. Néha alkalmazásonként külön könyvtárakba kerülnek a benne található állományok.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/local/etc/rc.d</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A telepített alkalmazások indításával és leállításával kapcsolatos szkriptek.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/db</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Automatikusan generált rendszerszintû adatbázisok a csomagokkal, a programok helyével stb. kapcsolatosan.</p></td></tr></tbody></table></div><div class=sect2><h3 id=_hálózati_nevek>11.10.2. Hálózati nevek<a class=anchor href=#_hálózati_nevek></a></h3><div class=sect3><h4 id=_etcresolv_conf>11.10.2.1. <span class=filename>/etc/resolv.conf</span><a class=anchor href=#_etcresolv_conf></a></h4><div class=paragraph><p>Az <span class=filename>/etc/resolv.conf</span> határozza meg, hogy a FreeBSD névfeloldója miként fér hozzá az internet tartománynév rendszeréhez (a DNS-hez).</p></div><div class=paragraph><p>Az <span class=filename>resolv.conf</span> állományban leggyakrabban a következõ bejegyzések fordulnak elõ:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>nameserver</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Annak a névszernek az IP-címe, ahova a névfeloldó küldi a kéréseit. A névszervereket a felírás sorrendjében kérdezi meg, maximum hármat.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>search</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A hálózati nevek keresõlistája. Ezt általában a helyi hálózati nevek tartománya határozza meg.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>domain</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A helyi tartomány neve.</p></td></tr></tbody></table><div class=paragraph><p>Egy átlagos <span class=filename>resolv.conf</span> tartalma:</p></div><div class="literalblock programlisting"><div class=content><pre>search example.com
nameserver 147.11.1.11
nameserver 147.11.100.30</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Csak egy <code>search</code> és <code>domain</code> opciót szabad megadni.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A DHCP használatakor a <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a> felül szokta írni a <span class=filename>resolv.conf</span> tartalmát a DHCP szervertõl kapott információkkal.</p></div></div><div class=sect3><h4 id=_etchosts>11.10.2.2. <span class=filename>/etc/hosts</span><a class=anchor href=#_etchosts></a></h4><div class=paragraph><p>Az <span class=filename>/etc/hosts</span> az internet kezdeti napjaira emlékeztetõ egyszerû szöveges adatbázis. A nevek és IP-címek közti leképzéseket a DNS és NIS rendszerekkel karöltve oldja fel. Ide a helyi hálózaton csatlakozó számítógépek neveit lehet beírni ahelyett, hogy erre a célra beállítanánk egy külön <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a> szervert. Ezenkívül még az <span class=filename>/etc/hosts</span> állományba internetes nevek rekordját is felvehetjük, amivel így csökkenthetjük a gyakran használt nevek feloldására irányuló külsõ kéréseket.</p></div><div class="literalblock programlisting"><div class=content><pre># $FreeBSD$
#
#
# A hálózati nevek adatbázisa
#
# Ebbe az állományba rakjuk a helyi hálózaton található címeket és
# a hozzájuk tartozó hálózati neveket, ahol szinte ugyanez az
# adatbázis megtalálható.  A &#39;my.domain&#39; helyére a saját gépünk
# nevét írjuk be.
#
# A DNS vagy NIS alkalmazása esetén ez az állomány nem feltétlenül kerül
# felhasználásra. A névfeloldás sorrendjét az /etc/nsswitch.conf
# állományban adhatjuk meg.
#
::1                     localhost localhost.my.domain
127.0.0.1               localhost localhost.my.domain

#
# Egy képzeletbeli hálózat.
#10.0.0.2               myname.my.domain myname
#10.0.0.3               myfriend.my.domain myfriend
#
# Az RFC 1918-nak megfelelõen a következõ IP-címekkel rendelkezõ
# alhálózatok sosem csatlakozhatnak közvetlenül az internetre:
#
#       10.0.0.0        -   10.255.255.255
#       172.16.0.0      -   172.31.255.255
#       192.168.0.0     -   192.168.255.255
#
# Amikor csatlakozunk az internethez, egy valódi, hivatalosan
# kiosztott számra lesz szükségünk.  Ne találjunk ki magunknak
# hálózati címeket, hanem használjuk az internetszolgáltatótól
# kapott címet (amennyiben rendelkezünk # ilyennel) vagy az
# regionális internetes nyilvántartásban szereplõ címek közül
# valamelyiket (ARIN, APNIC, LACNIC, RIPE NCC vagy AfriNIC).</pre></div></div><div class=paragraph><p>Az <span class=filename>/etc/hosts</span> formai felépítése igen egyszerû:</p></div><div class="literalblock programlisting"><div class=content><pre>[internetes cím] [hivatalos hálózati név] [álnév1] [álnév2] ...</pre></div></div><div class=paragraph><p>Tehát például:</p></div><div class="literalblock programlisting"><div class=content><pre>10.0.0.1 azEnValodiNevem.aHalozaton.hu azEnValodiNevem izemize1 izemize2</pre></div></div><div class=paragraph><p>A részletekért keressük fel a <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;format=html">hosts(5)</a> man oldalt.</p></div></div></div><div class=sect2><h3 id=_a_naplóállományok_beállítása>11.10.3. A naplóállományok beállítása<a class=anchor href=#_a_naplóállományok_beállítása></a></h3><div class=sect3><h4 id=_syslog_conf>11.10.3.1. <span class=filename>syslog.conf</span><a class=anchor href=#_syslog_conf></a></h4><div class=paragraph><p>A <span class=filename>syslog.conf</span> állomány a <a href="https://man.freebsd.org/cgi/man.cgi?query=syslogd&amp;sektion=8&amp;format=html">syslogd(8)</a> program beállításait tartalmazza. Segítségével megadhatjuk, hogy a <code>syslog</code> által generált üzenetek egyes típusait milyen naplóállományokba mentsük.</p></div><div class="literalblock programlisting"><div class=content><pre># $FreeBSD$
#
# Ebben az állományban HASZNÁLHATÓAK szóközök a mezõk elválasztására,
# habár a többi *nix-típusú rendszer inkább tabulátorokat használ
# erre a célra. Ha több rendszeren is használni akarjuk ezt az
# állományt, akkor ne használjunk szóközöket.
#
# A többit lásd a syslog.conf(5) man oldalon.
#
.err;kern.debug;auth.notice;mail.crit           /dev/console
*.notice;kern.debug;lpr.info;mail.crit;news.err /var/log/messages
security.*                                      /var/log/security
mail.info                                       /var/log/maillog
lpr.info                                        /var/log/lpd-errs
cron.*                                          /var/log/cron
*.err                                           root
*.notice;news.err                               root
*.alert                                         root
*.emerg                                         *
# Tegyük vissza ezt a sort, ha a /dev/console eszközre kiírt
# üzeneteket át akarjuk irányítani az /var/log/console.log állományba.
#console.info                                   /var/log/console.log
# Ha az összes üzenetet a /var/log/all.log állományba akarjuk menteni,
# akkor tegyük vissza ezt a sort.
#*.*                                            /var/log/all.log
# Ha egy &#34;loghost&#34; nevû gépre szeretnénk naplózni, akkor tegyük vissza
# ezt a sort.
#*.*                                            @loghost
# Az inn használatakor tegyük vissza ezeket a sorokat.
# news.crit                                     /var/log/news/news.crit
# news.err                                      /var/log/news/news.err
# news.notice                                   /var/log/news/news.notice
!startslip
*.*                                             /var/log/slip.log
!ppp
*.*                                             /var/log/ppp.log</pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5&amp;format=html">syslog.conf(5)</a> man oldalának elolvasásával tudhatunk meg többet ezekrõl.</p></div></div><div class=sect3><h4 id=_newsyslog_conf>11.10.3.2. <span class=filename>newsyslog.conf</span><a class=anchor href=#_newsyslog_conf></a></h4><div class=paragraph><p>A <span class=filename>newsyslog.conf</span> a <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a> beállításait tároló állomány. Ez egy olyan program, amelyet általában a <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> futtat le. A <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a> dönti el, hogy mikor van szükség a naplók archiválására és átrendezésére. Ennek során a <span class=filename>logfile</span> állományból <span class=filename>logfile.0</span> lesz, a <span class=filename>logfile.0</span> állományból pedig <span class=filename>logfile.1</span> és így tovább. Beállíthatjuk úgy is, hogy a naplóállományokat archiválja <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a> formátumban, aminek megfelelõen ezek <span class=filename>logfile.0.gz</span>, <span class=filename>logfile.1.gz</span> és ehhez hasonló névvel jönnek létre.</p></div><div class=paragraph><p>A <span class=filename>newsyslog.conf</span> megadja, hogy melyik naplóállományokat kell felügyelni, mennyi példányt tartsunk meg belõlük és mikor kell velük foglalkozni. A naplóállományok átrendezhetõek és/vagy archiválhatóak egy adott méret elérésekor vagy egy adott idõ eltelte után.</p></div><div class="literalblock programlisting"><div class=content><pre># A newsyslog konfigurációs állománya
# $FreeBSD$
#
# állománynév     [tulajdonos:csoport]  mód  darab méret mikor [ZB] [/pid_állomány] [jelzés]
/var/log/cron                           600  3     100  *     Z
/var/log/amd.log                        644  7     100  *     Z
/var/log/kerberos.log                   644  7     100  *     Z
/var/log/lpd-errs                       644  7     100  *     Z
/var/log/maillog                        644  7     *    @T00  Z
/var/log/sendmail.st                    644  10    *    168   B
/var/log/messages                       644  5     100  *     Z
/var/log/all.log                        600  7     *    @T00  Z
/var/log/slip.log                       600  3     100  *     Z
/var/log/ppp.log                        600  3     100  *     Z
/var/log/security                       600  10    100  *     Z
/var/log/wtmp                           644  3     *    @01T05 B
/var/log/daily.log                      640  7     *    @T00  Z
/var/log/weekly.log                     640  5     1    $W6D0 Z
/var/log/monthly.log                    640  12    *    $M1D0 Z
/var/log/console.log                    640  5     100  *     Z</pre></div></div><div class=paragraph><p>További információkat a <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a> man oldaláról nyerhetünk.</p></div></div></div><div class=sect2><h3 id=configtuning-sysctlconf>11.10.4. <span class=filename>sysctl.conf</span><a class=anchor href=#configtuning-sysctlconf></a></h3><div class=paragraph><p>A <span class=filename>sysctl.conf</span> állomány leginkább az <span class=filename>rc.conf</span> állományhoz hasonlít, benne az értékeket <code>változó=érték</code> párokban adhatjuk meg. Az itt definiált értékek akkor kerülnek ténylegesen beállításra, amikor a rendszer többfelhasználós módba vált. Ezen a módon nem mindegyik változó értékét tudjuk átállítani.</p></div><div class=paragraph><p>A <span class=filename>sysctl.conf</span> állományban az alábbi érték beállításával tudjuk beállítani, hogy a rendszer ne naplózza, amikor a programok végzetes jelzéssel fejezõdnek be, valamint azt, hogy a felhasználók láthassák egymás futó programjait:</p></div><div class="literalblock programlisting"><div class=content><pre># Ne naplózzuk a végzetes jelzésekhez (például sig 11) tartozó kilépéseket.
kern.logsigexit=0

# Ne engedjük a felhasználóknak, hogy lássák egy másik felhasználó
# azonosítójával futó programokat.
security.bsd.see_other_uids=0</pre></div></div></div></div></div><div class=sect1><h2 id=configtuning-sysctl>11.11. Finomhangolás a sysctl használatával<a class=anchor href=#configtuning-sysctl></a></h2><div class=sectionbody><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> egy olyan felület, amely lehetõséget biztosít egy mûködõ FreeBSD rendszer megváltoztatására. Segítségével többek közt hozzáférhetünk a TCP/IP protokollkészlet és a virtuális memóriát kezelõ alrendszer rengeteg apró opciójához, melyek megfelelõ beállításával egy tapasztalt rendszergazda kezében drasztikusan növelhetõ a rendszer teljesítménye. A <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> alkalmazásával több mint ötszáz rendszerszintû változó kérdezhetõ le és állítható be.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> két funkciót rejt magában: a rendszer beállításainak lekérdezését és módosítását.</p></div><div class=paragraph><p>Így nézhetjük meg az összes lekérdezhetó változót:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sysctl <span class=nt>-a</span></code></pre></div></div><div class=paragraph><p>Így kérhetjük egy konkrét változó, például a <code>kern.maxproc</code> értékét:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sysctl kern.maxproc
kern.maxproc: 1044</code></pre></div></div><div class=paragraph><p>Egy adott változó értékének módosításához pedig használjuk a <em>változó</em>=<em>érték</em> felírást:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl kern.maxfiles=5000</span>
kern.maxfiles: 2088 -&gt; 5000</code></pre></div></div><div class=paragraph><p>A sysctl változók értékei lehetnek karakterláncok, számok és logikai értékek (ahol az <code>1</code> az igennek, a <code>0</code> a nemnek felel meg).</p></div><div class=paragraph><p>Ha a számítógép indításakor automatikusan be akarunk állítani bizonyos változókat, akkor vegyük fel ezeket az <span class=filename>/etc/sysctl.conf</span> állományba. Ennek pontosabb részleteit a <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl.conf&amp;sektion=5&amp;format=html">sysctl.conf(5)</a> man oldalon és a <a href=#configtuning-sysctlconf><span class=filename>sysctl.conf</span></a>ban találhatjuk meg.</p></div><div class=sect2><h3 id=sysctl-readonly>11.11.1. A <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> írásvédett értékei<a class=anchor href=#sysctl-readonly></a></h3><div class=paragraph><p>Egyes esetekben szükséges lehet a <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> írásvédett változóinak módosítása. Habár gyakran elengedhetetlen, ezt kizárólag csak a rendszer (újra)indításakor tudjuk megtenni.</p></div><div class=paragraph><p>Például egyes laptopoknál a <a href="https://man.freebsd.org/cgi/man.cgi?query=cardbus&amp;sektion=4&amp;format=html">cardbus(4)</a> eszköz nem próbálkozik több memóriaterület használatával, ezért egy ehhez hasonló hibával leáll:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>cbb0: Could not map register memory
device_probe_and_attach: cbb0 attach returned 12</code></pre></div></div><div class=paragraph><p>Az ilyen és ehhez hasonló esetekben gyakran olyan <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> változók alapértelmezett értékeit kellene megváltoztatnunk, amelyek írásvédettek. Ilyenkor tegyük az érintett <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> változó "objektumazonosítóját" (OID) és a hozzá tartozó értéket a <span class=filename>/boot/loader.conf</span> állományunkba. Az alapértelmezéseket a <span class=filename>/boot/defaults/loader.conf</span> állományban találjuk meg.</p></div><div class=paragraph><p>A fentebb tárgyalt probléma megoldásához a felhasználónak a <code>hw.pci.allow_unsupported_io_range=1</code> értéket kell beállítania az elõbb említett állományban. Ezután már a <a href="https://man.freebsd.org/cgi/man.cgi?query=cardbus&amp;sektion=4&amp;format=html">cardbus(4)</a> megfelelõen fog mûködni.</p></div></div></div></div><div class=sect1><h2 id=configtuning-disk>11.12. A lemezek finomhangolása<a class=anchor href=#configtuning-disk></a></h2><div class=sectionbody><div class=sect2><h3 id=_sysctl_változók>11.12.1. Sysctl változók<a class=anchor href=#_sysctl_változók></a></h3><div class=sect3><h4 id=_vfs_vmiodirenable>11.12.1.1. <code>vfs.vmiodirenable</code><a class=anchor href=#_vfs_vmiodirenable></a></h4><div class=paragraph><p>A <code>vfs.vmiodirenable</code> sysctl változó értéke lehet 0 (ki) vagy 1 (be, és ez az alapértelmezés is). Ez a változó vezérli a könyvtárak gyorsítótárazását a rendszerben. A könyvtárak többsége kis méretû, így az állományrendszerbõl csak egyetlen (általában 1 KB méretû) darabkát használnak és még ennél is kevesebbet (általában 512 byte-ot) a pufferben. A változó kikapcsolt (avagy 0) értéke mellett a puffer csak rögzített számú könyvtárat táraz be még abban az esetben is, amikor temérdek mennyiségû memória áll a rendelkezésére. Ha viszont (az 1 értékkel) engedélyezzük, akkor a rendszer a könyvtárak tárazására felhasználja a virtuális memóriában pufferelt lapokat is, amivel lényegében az összes elérhetõ memóriát a könyvtárak tárazására fordítja. Ilyenkor azonban az egyes könyvtárak tárazására használt legkisebb memóriaterület a fizikai lapmérettel egyezik meg (ami általában 4 KB) és nem 512 byte. Abban az esetben javasoljuk ennek a beállításnak a használatát, ha olyan szolgáltatásokkal dolgozunk, amelyek nagy számú állománnyal dolgoznak egyszerre. Ilyen szolgáltatások többek közt a webes gyorsítótárak, nagyobb levelezõrendszerek és hírrendszerek. Az opció engedélyezése alapvetõen nem veti vissza a rendszer teljesítményét még akkor sem, ha ezzel memóriát pazarlunk el, de ezt igazából érdemes kikísérletezni.</p></div></div><div class=sect3><h4 id=_vfs_write_behind>11.12.1.2. <code>vfs.write_behind</code><a class=anchor href=#_vfs_write_behind></a></h4><div class=paragraph><p>A <code>vfs.write_behind</code> sysctl változó alapértelmezett értéke <code>1</code> (bekapcsolt). Ez arra utasítja az állományrendszert, hogy csak akkor küldje ki az adatokat az eszközre, ha belõlük teljes fürtök gyûltek össze. Ez jellemzõ módon nagyobb szekvenciális állományok írása esetén kedvezõ. Arra szolgál, hogy segítségével el lehessen kerülni az I/O túlságosan gyakori módosítások okozta terhelését. Bizonyos körülmények közt ez azonban lassíthatja a futó programok mûködését, ezért ilyenkor érdemes megfontolni a kikapcsolását.</p></div></div><div class=sect3><h4 id=_vfs_hirunningspace>11.12.1.3. <code>vfs.hirunningspace</code><a class=anchor href=#_vfs_hirunningspace></a></h4><div class=paragraph><p>A <code>vfs.hirunningspace</code> sysctl változó értéke azt adja meg, hogy tetszõleges számú példánynál rendszerszinten mekkora mértékû írási mûvelet irányítható át a lemezvezérlõk soraiba. Az alapértelmezés többnyire elegendõ, de olyan gépeken, ahol sok lemez dolgozik egyszerre, ez az érték négy vagy öt <em>megabyte-ra</em> is felszökhet! Hozzátennénk, hogy ha ezt az értéket túlságosan nagyra állítjuk (és így túllépjük a puffer írási küszöbértékét), akkor ezzel hihetetlenül gyenge fürtözési teljesítményt nyerünk. Semmiképp se állítsuk túlzottan nagy értékre! A nagyobb írási értékek a velük párhuzamos olvasások számára késleltetést is jelentenek.</p></div><div class=paragraph><p>Találhatunk még más egyéb pufferelési és gyorsítótárazási sysctl változókat, azonban ezek megváltoztatását egyáltalán nem javasoljuk, mivel a virtuális memória alrendszer kiválóan tudja önállóan állítani ezeket a paramétereit.</p></div></div><div class=sect3><h4 id=_vm_swap_idle_enabled>11.12.1.4. <code>vm.swap_idle_enabled</code><a class=anchor href=#_vm_swap_idle_enabled></a></h4><div class=paragraph><p>A <code>vm.swap_idle_enabled</code> sysctl változó módosítása olyan nagyobb többfelhasználós rendszerekben bizonyulhat hasznosnak, ahol sok felhasználó lép be és lép ki a rendszerbe és sok az üresjáratban futó program. Az ilyen jellegû rendszerek hajlamosak nagy mennyiségû folyamatos terhelést mérni a tartalékolt szabad memóriára. A beállítás engedélyezésével, valamint a <code>vm.swap_idle_threshold1</code> és a <code>vm.swap_idle_threshold2</code> változókon keresztül a kilapozás "reakcióidejének" alkalmas behangolásával a megszokottnál gyorsabban lenyomhatjuk az üresjáratban dolgozó programokhoz tartozó memórialapok prioritását, amivel a kilapozásokat vezérlõ démon kezére játszunk. Azonban tényleg csak akkor engedélyezzük ezt a lehetõséget, ha valóban szükségünk van rá, mivel így a memóriát jóval elõbb lapozzuk ki és ezzel több lapozóállományt és lemezteljesítményt emésztünk fel. Kisebb rendszerekben jól behatárolható a hatása, azonban a nagyobb rendszerekben, ahol már eleve visszafogott mértékû lapozás történik, ez a beállítás lehetõvé teszi a virtuális memóriát kezelõ alrendszer számára, hogy könnyedén ki- és be rakosgasson komplett futó programokat a memóriába.</p></div></div><div class=sect3><h4 id=_hw_ata_wc>11.12.1.5. <code>hw.ata.wc</code><a class=anchor href=#_hw_ata_wc></a></h4><div class=paragraph><p>A FreeBSD 4.3 egyszer már kacérkodott az IDE-lemezek írási pufferének kikapcsolásával. Ez ugyan csökkentette az IDE-lemezek írási sávszélességét, azonban bizonyos merevlemezgyártók gondatlanságából eredõ súlyos adatvesztések miatt szükséges volt a használata. A gond ezzel kapcsolatban ott van, hogy egyes IDE-meghajtók hazudnak az írások teljesítésérõl. A lemezek írási gyorsítótárazásának bekapcsolásával az IDE-meghajtók nem csak az írások sorrendjét rendezik át, hanem nagyobb terhelés esetén egyes blokkokat jóval késõbb is rögzítenek. Ezért a rendszer esetleges összeomlása vagy egy áramkimaradás súlyos károkat okozhat az állományrendszerben. A FreeBSD úgy döntött, hogy a megbízhatóságot választja. Sajnos ez olyan nagyságú teljesítményvesztést okozott, hogy a következõ kiadásban már kénytelenek voltunk alapértelmezés szerint is visszakapcsolni ezt a lehetõséget. A <code>hw.ata.wc</code> nevû sysctl változó vizsgálatával ellenõrizhetjük a rendszerünkön érvényes alapértelmezett beállítást. Amennyiben az IDE írások gyorsítótárazása nem engedélyezett, akkor ezt a változó értékének 1-re állításával állíthatjuk vissza. Ezt a rendszer indításakor a rendszerbetöltõben tehetjük meg. A rendszermag indítása után ennek már nincs hatása.</p></div><div class=paragraph><p>A részleteket a <a href="https://man.freebsd.org/cgi/man.cgi?query=ata&amp;sektion=4&amp;format=html">ata(4)</a> man oldalon tudhatjuk meg.</p></div></div><div class=sect3><h4 id=_scsi_delay_kern_cam_scsi_delay>11.12.1.6. <code>SCSI_DELAY</code> (<code>kern.cam.scsi_delay</code>)<a class=anchor href=#_scsi_delay_kern_cam_scsi_delay></a></h4><div class=paragraph><p>A rendszermag <code>SCSI_DELAY</code> nevû beállítása a rendszer indulásának idejét hivatott mérsékelni. Az alapértelmezett értéke viszonylag magas, innen származik a rendszer indítása során keletkezõ <code>15</code> másodperces csúszás. Általában az is megfelelõ, ha ezt visszavesszük az <code>5</code> értékre (fõleg a modernebb meghajtók számára). A FreeBSD újabb (5.0 vagy késõbbi) változataiban ez az érték már a <code>kern.cam.scsi_delay</code> sysctl változó értékével is megadható a rendszer indításakor. Azonban ügyeljünk rá, hogy mind a finomhangoláshoz használt változó, mind pedig rendszermag beállítása <em>ezredmásodpercben</em> és <em>nemmásodpercben</em> értelmezi ezt az értéket.</p></div></div></div><div class=sect2><h3 id=soft-updates>11.12.2. Soft Updates<a class=anchor href=#soft-updates></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=tunefs&amp;sektion=8&amp;format=html">tunefs(8)</a> nevû program használható az állományrendszerek finomhangolására. Nagyon sok opciót találhatunk benne, de itt most csak a "Soft Updates" ki- és bekapcsolásával foglalkozunk, amit a következõ módon tehetünk meg:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tunefs -n enable /allomanyrendszer</span>
<span class=c># tunefs -n disable /allomanyrendszer</span></code></pre></div></div><div class=paragraph><p>Amíg egy állományrendszer csatlakoztatott állapotban van, addig nem módosítható a <a href="https://man.freebsd.org/cgi/man.cgi?query=tunefs&amp;sektion=8&amp;format=html">tunefs(8)</a> paranccsal. A Soft Updates bekapcsolására ezért az a legalkalmasabb idõpont, amikor egyfelhasználós módban vagyunk és még egyetlen partíciót sem csatlakoztattunk.</p></div><div class=paragraph><p>A Soft Updates beállítás engedélyezése a memóriában pufferelt gyorsítótáron keresztül jelentõs mértékben fokozza a metaadatok teljesítményét, elsõsorban az állományok létrehozását és törlését. A Soft Updates használatát ezért minden állományrendszer esetén ajánljuk. A Soft Updates alkalmazásának két rossz oldalára kell tekintettel lennünk. Elõször is a Soft Updates a rendszer összeomlása esetén ugyan garantálja az állományrendszer konzisztenciáját, de könnyen elképzelhetõ, hogy több másodperccel (vagy akár egy egész perccel!) hátrébb jár a fizikai lemez frissítésében. Másodszor a Soft Updates késlelteti az állományrendszer blokkjainak felszabadítását. Ha van egy olyan állományrendszerünk (mint például a rendszer indításához használt gyökér partíció), ami már majdnem betelt, akkor egy nagyobb frissítés, például a <code>make installworld</code> parancs kiadása, során az állományrendszer egyszerûen kifogy a helybõl és így a frissítés meghiúsul.</p></div><div class=sect3><h4 id=_bõvebben_a_soft_updates_mûködésérõl>11.12.2.1. Bõvebben a Soft Updates mûködésérõl<a class=anchor href=#_bõvebben_a_soft_updates_mûködésérõl></a></h4><div class=paragraph><p>Két hagyományos megközelítés létezik az állományrendszerek metaadatainak visszaírására. (A metaadatok módosításakor olyan nem adatot tartalmazó blokkok változnak meg, mint például az állományokra vonatkozó információk vagy a könyvtárak.)</p></div><div class=paragraph><p>Eredetileg alapértelmezés szerint a metaadatok változásait szinkron módon írták ki. Amikor egy könyvtár megváltozott, a rendszer egészen addig várt, amíg ez a változás a lemezre nem íródott. Ugyanekkor az állományok adatait tartalmazó pufferek (az állományok tartalma) átkerültek a pufferelt gyorsítótárba, hogy majd késõbb, aszinkron módon kerüljenek kiírásra. Ennek az implementációnak a biztonságos mûködés volt az elõnye, mivel így a metaadatok még akkor is konzisztens állapotban maradtak, amikor valamilyen hiba következett be. Tehát egy állomány vagy teljesen létrejött vagy egyáltalán nem. Ha az állományhoz tartozó blokkok már nem tudtak kijutni a gyorsítótárból az összeomlás ideje elõtt, akkor az <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> felismerte ezt a helyzetet és az állományrendszer ilyen jellegû hibáját úgy orvosolta, hogy az adott állomány méretét nullára állította. Ezenkívül még az implementációs részletek is tiszták és egyszerûek maradtak. Ennek viszont hátránya, hogy a metaadatok kezelése lassú. Ha például kiadunk egy <code>rm -r</code> parancsot, akkor az a könyvtárban levõ állományokat szekvenciálisan dolgozza fel, de minden egyes változtatást (az állományok törlését) csak szinkron módon rögzíti a lemezre. Ezek a frissítések érintik magát a könyvtárat, az állományokkal kapcsolatos információkat tároló táblázatot (az ún. inode táblát) és minden valószínûség szerint az állományok által lefoglalt blokkokat is közvetve. Hasonló megfontolások élnek a nagyobb könyvtárszerkezetek kibontása esetén is (<code>tar -x</code>).</p></div><div class=paragraph><p>A második lehetõség a metaadatok aszinkron frissítése. Ez az alapértelmezés a Linux ext2fs és BSD-k <code>mount -o async</code> opcióval csatlakoztatott UFS állományrendszerei esetén. Ilyenkor minden metaadattal kapcsolatos aktualizálás egyszerûen bekerült a pufferelt gyorsítótárba, tehát az állományok adatai és ezek a típusú frissítések keverednek. Ennek a megvalósításnak az az elõnye, hogy nem kell megvárni, amíg a metaadatok is kiíródnak a lemezre, ezért a metaadatok óriási mennyiségû változásával járó mûveletek sokkal gyorsabban hajtódnak végre, mint a szinkron esetben. Sõt, maga az implementáció is tiszta és egyszerû marad, ezért a kódban megjelenõ hibák beszivárgásának kockázata alacsony. A módszer hátránya, hogy egyáltalán semmilyen garanciát nem kapunk az állományrendszer konzisztenciájára. Ha tehát egy rengeteg metaadat megváltozásával együttjáró mûvelet közben történik valamilyen probléma (áramkimaradás, vagy valaki egyszerûen megnyomja a reset gombot), akkor az állományrendszer elõre kiszámíthatatlan állapotba kerül. A rendszer újbóli indításakor ezért nincs lehetõségünk megvizsgálni az állományrendszer állapotát. Elképzelhetõ, hogy az állományokhoz tartozó adatok már kikerültek a lemezre, miközben a rá vonatkozó inode- vagy könyvtári bejegyzések még nem. Így lényegében lehetetlen olyan <code>fsck</code> implementációt készíteni, ami képes lenne eltüntetni ezt a káoszt (hiszen az ehhez szükséges adatok nem állnak rendelkezésre). Ha az állományrendszer helyrehozhatatlanul károsodott, akkor csak a <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> és a biztonsági mentés visszaállítása segíthet rajta.</p></div><div class=paragraph><p>Ezt általában úgy küszöbölik ki, hogy az egészhez hozzáteszik még a <em>módosított területek feljegyzését</em>, amit gyakran csak <em>naplózásnak</em> (journaling) neveznek, habár ezt az elnevezést nem mindenhol ilyen értelemben használják, ezért a tranzakciók naplózásának más formáira is utalhat. A metaadatok frissítése ebben az esetben is csak szinkron módon történik, de csak a lemez egy kisebb területére. Késõbb ez a megfelelõ helyére kerül. Mivel a lemez naplózásra fordított része egy viszonylag kis méretû, folytonos terület, a lemez fejének még a megterhelõbb mûveletek esetén sem kell sokat mozognia, ezért valójában ez a megoldás gyorsabb, mint a mezei szinkron frissítések. Az implementáció bonyolultsága továbbra is jól behatárolható, a velejáró hibalehetõségek kockázata alacsony. Hátránya, hogy minden metaadat kétszer íródik ki (egyszer a naplózási területre, aztán a megfelelõ helyre), ezért a hétköznapi használat során "visszaesés" tapasztalható a teljesítményben. Másrészrõl azonban egy összeomlás esetén a naplózási terület segítségével minden függõben levõ metaadattal kapcsolatos mûvelet könnyen visszafordítható vagy lezárható a rendszer következõ indításakor, így ezzel egy gyors helyreállítást nyerünk.</p></div><div class=paragraph><p>Kirk McKusick, a Berkeley FFS fejlesztõje ezt a problémát a Soft Updates segítségével hidalta át: a metaadatokkal kapcsolatos minden függõben levõ frissítést a memóriában tart, majd ezeket rendezett sorrendben írja ki a lemezre ("a metaadatok rendezett frissítése"). Ennek következményeképpen a metaadatok komolyabb frissítése során a késõbb érkezõ módosításoknak lehetõségük van "elkapni" a memóriában levõ korábbi változataikat, ha azok még nem kerültek ki a lemezre. Így az összes, például könyvtárakon végzett, mûvelet a lemezre írás elõtt általában elõször a memóriában játszódik le (az adatblokkok a pozíciójuknak megfelelõen kerülnek rendezésre, ezért a rájuk vonatkozó metaadatok elõtt nem jutnak ki a lemezre). Ha eközben a rendszer összeomlik, akkor így implicit módon a "napló visszalapozását" eredményezi: minden olyan mûvelet, ami már nem tudott kijutni a lemezre, meg nem történtnek számít. Ezen a módon az állományrendszernek egy 30 és 60 másodperc közti korábbi állapota marad fenn. Az algoritmus garantálja, hogy az összes használt erõforrás a nekik megfelelõ bittérképekben helyesen jelölõdik, a blokkokban és az inode-okban. Az összeomlás után az erõforrások kiosztásával kapcsolatban csak egyetlen hiba léphet fel: amikor olyan erõforrások jelölõdnek "használtnak", amelyek igazából "szabadok". Az <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> azonban képes felismerni ezeket a helyzeteket és felszabadítani a nem használt erõforrásokat. A <code>mount -f</code> parancs kiadásával minden további következmény nélkül figyelmen kívül hagyhatjuk az állományrendszer félkész állapotát és csatlakoztathatjuk az állományrendszereket. A használatban már nem levõ erõforrások felszabadításához az <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> parancsot késõbb kell futtatni. Ez az alapötlet húzódik meg a <em>háttérben végzett lemezellenõrzés</em> mögött. A rendszer indításakor az állományrendszernek csupán egy <em>pillanatképét</em> rögzítjük, és az <code>fsck</code> tényleges lefuttatását késõbbre toljuk. Mivel mindegyik állományrendszer csatlakoztatható "félkész" állapotban, ezért a rendszer képes elindulni többfelhasználós módban. Eközben a háttérben az <code>fsck</code> beütemezhetõ minden olyan állományrendszer számára, ahol arra szükség van, hogy szabadítsa fel az esetlegesen már nem használt erõforrásokat. (Így a Soft Updates opciót nem alkalmazó állományrendszerek esetén továbbra is szükség van az elõtérben elvégzett <code>fsck</code> parancsra.)</p></div><div class=paragraph><p>A módszer elõnye, hogy így a metaadatokkal kapcsolatos mûveletek közel olyan gyorsak, mint az aszinkron módon végzett frissítések (tehát gyorsabb, mintha <em>naplóznánk</em>, ami ugye minden metaadatot kétszer ír ki). A hátránya a bonyolultabb kód (ami miatt növekszik az olyan hibák lehetõsége, amelyek érzékenyen befolyásolhatják a felhasználói adatok elvesztését) és a nagyobb memóriaigény. Ezenkívül még van néhány olyan egyéni jellemzõje, amelyet meg kell szokni. A rendszer összeomlása után az állományrendszer valamivel "régebbi" lesz. Amikor pedig megszokott szinkron megközelítés szerint az <code>fsck</code> lefutása után nulla méretû állományok jönnének létre, ezek az állományok a Soft Updates esetén egyáltalán meg sem jelennek, mivel sem a rájuk vonatkozó metaadatok, sem pedig a tartalmuk nem került ki a lemezre. Egy <code>rm</code> lefuttatása után a lemezterület addig nem kerül felszabadításra, amíg a frissítések teljesen rá nem kerülnek a lemezre. Ez nagyobb mennyiségû adat telepítésekor gondokat okozhat egy olyan állományrendszeren, ahol nincs elegendõ hely az állományok kétszeri tárolására.</p></div></div></div></div></div><div class=sect1><h2 id=configtuning-kernel-limits>11.13. A rendszermag korlátainak finomhangolása<a class=anchor href=#configtuning-kernel-limits></a></h2><div class=sectionbody><div class=sect2><h3 id=file-process-limits>11.13.1. Az állományok és a futó programok korlátozásai<a class=anchor href=#file-process-limits></a></h3><div class=sect3><h4 id=kern-maxfiles>11.13.1.1. <code>kern.maxfiles</code><a class=anchor href=#kern-maxfiles></a></h4><div class=paragraph><p>A <code>kern.maxfiles</code> értéke a rendszerünk igényeinek megfelelõen növelhetõ vagy csökkenthetõ. Ez a változó adja meg a rendszerünkben levõ állományleírók maximális számát. Amikor az állományleírókat tároló táblázat megtelik, a rendszer üzenetpufferében egy <code>file: table is full</code> üzenet jelenik meg, amit a <code>dmesg</code> paranccsal tudunk megnézni.</p></div><div class=paragraph><p>Minden megnyitott állomány, csatlakozás vagy FIFO elhasznál egy állományleírót. Egy nagyméretû szerver könnyen felemészthet több ezernyi állományleírót attól függõen, hogy milyen és mennyi szolgáltatást futtat egymás mellett.</p></div><div class=paragraph><p>A FreeBSD korábbi kiadásaiban a <code>kern.maxfiles</code> a rendszermag beállításait tartalmazó állomány <code>maxusers</code> (a rendszerben egyszerre jelenlevõ felhasználók maximumának) értékébõl származott, tehát a <code>kern.maxfiles</code> a <code>maxusers</code> értékével arányosan növekszik. Amikor készítünk egy saját rendszermagot, mindig érdemes a rendszerünk használatának megfelelõen beállítani ezt az értéket, mivel a rendszermag ebbõl a számból határozza meg a legtöbb elõre meghatározott korlátait. Mivel még egy komoly szerveren sem jelentkeznek be egyszerre 256 felhasználónál többen, nagyjából ugyanannyi erõforrásra van szüksége, mint egy nagyobb webszervernek.</p></div><div class=paragraph><p>A <code>kern.maxusers</code> értéke a rendelkezésre álló memóriának megfelelõen magától méretezõdik a rendszer indításakor, és amit futás közben csak a <code>kern.maxusers</code> sysctl változó írásvédett értékének lekérdezésébõl tudhatunk meg. Egyes oldalak üzemeltetése a <code>kern.maxusers</code> így megállapított értékétõl nagyobbat vagy éppen kisebbet igényel, ezért a betöltéskor minden gond nélkül át lehet állítani 64, 128 vagy 256 értékûre. Senkinek sem ajánljuk, hogy 256 felé menjen, hacsak tényleg nincs szüksége ekkora mennyiségû állományleíróra. A <code>kern.maxusers</code> függvényében beállított alapértelmezett értékek tetszõleges módon átállíthatóak a rendszer indításakor vagy futás közben a <span class=filename>/boot/loader.conf</span> módosításával (az ide kapcsolódó javaslatokról bõvebben lásd a <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a> man oldalt vagy a <span class=filename>/boot/defaults/loader.conf</span> állományt) illetve a leírás más részén megadott módok szerint.</p></div><div class=paragraph><p>A korábbi kiadásokban úgy lehet önszabályozóra állítani a <code>maxusers</code> beállítást, ha explicit módon <code>0</code> értéket adtunk meg neki . A <code>maxusers</code> paraméter beállításakor érdemes legalább 4-et megadni, különösen akkor, ha használjuk az X Window Systemet vagy szoftvereket fordítunk le. Azért van erre szükség, mert a <code>maxusers</code> értéke által szabályozott legfontosabb mennyiség az egyszerre futtatható programok táblázatának maximális mérete, amelyet így számolunk ki: <code>20 + 16 * maxusers</code>. Tehát ha a <code>maxusers</code> értékét 1-re állítjuk be, akkor az elõbbi képlet értelmében csak 36 programunk futhat egymással párhuzamosan, beleértve mindazt a kb. 18 programot, amelyek a rendszerrel együtt indulnak, illetve még azt a további 15 programot, amelyeket az X Window System használatával indítunk el. Még egy olyan egyszerû dolog is, mint például egy man oldal megnézése, legalább kilenc programot indít el a szûréshez, kitömörítéshez és megnézéshez. Azonban ha a <code>maxusers</code> értékét 64-re állítjuk, akkor egyszerre akár már 1044 programot futtathatunk, ami szinte mindenre elegendõ. Ha persze egy új program indításakor kapunk egy típusú üzenetet vagy nagy számú konkurens felhasználóval futtatunk szervert (ilyen például az <code>ftp.FreeBSD.org</code>), akkor érdemes növelni ezt a számot és újrafordítani a rendszermagot.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A <code>maxusers</code> <em>nem</em> korlátozza a számítógépre egyszerre bejelentkezni képes felhasználók számát. Egyszerûen csak beállítja néhány táblázat méretét és az egyszerre futtatható programok mennyiségét a rendszert egyidejûleg használni kívánó felhasználók maximális számának figyelembevételével.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_kern_ipc_somaxconn>11.13.1.2. <code>kern.ipc.somaxconn</code><a class=anchor href=#_kern_ipc_somaxconn></a></h4><div class=paragraph><p>Az <code>kern.ipc.somaxconn</code> sysctl változó a beérkezõ TCP kapcsolatokat fogadó sor hosszát határozza meg. Ennek az alapértelmezett értéke <code>128</code>, ami az új kapcsolatok megbízható kezeléséhez általában kevés egy erõsen leterhelt webszerver számára. Ilyen helyzetekben ezt az értéket javasolt <code>1024</code>-re vagy még annál is nagyobbra állítani. Az egyes szolgáltatások démonai ugyan szintén korlátozni szokták a fogadósoruk méretét (például a <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> vagy az Apache), de gyakran találunk a beállításai között olyat, amivel ennek a sornak a mérete növelhetõ. A nagyobb fogadósorok mellesleg jó szolgálatot tesznek a Denial of Service () típusú támadásokkal szemben is.</p></div></div></div><div class=sect2><h3 id=nmbclusters>11.13.2. Hálózati korlátozások<a class=anchor href=#nmbclusters></a></h3><div class=paragraph><p>A rendszermag <code>NMBCLUSTERS</code> nevû beállítása szab határt a rendszer részére elérhetõ memóriapufferek mennyiségének. Egy nagyobb forgalmú szerver esetén a pufferek alacsony száma gátat szabhat a FreeBSD képességeinek. Minden klaszter nagyjából 2 KB memóriát takar, így az 1024-es érték azt jelenti, hogy a rendszermag memóriájából 2 megabyte-ot fordítunk a hálózati pufferelésre. Egyszerûen kiszámítható, mennyire is van szükségünk: ha van egy webszerverünk, amely egyszerre legfeljebb 1000 párhuzamos kapcsolatot fogad, és minden kapcsolat lefoglal 16 KB-ot a fogadó-, valamint újabb 16 KB-ot a küldõpuffer számára, akkor megközelítõleg 32 MB-nyi hálózati pufferre lesz szükségünk a webszerver hatékony mûködéséhez. Ezt az értéket gyakran még érdemes megszorozni kettõvel, így 2 x 32 MB / 2 KB = 64 MB / 2 KB = 32768. Több memóriával rendelkezõ számítógépek esetén egy 4096 és 32768 közti értéket javaslunk. Semmilyen körülmények között ne adjunk meg ennél nagyobb értéket, mert ezzel a rendszer már az indítása során összeomolhat. A <a href="https://man.freebsd.org/cgi/man.cgi?query=netstat&amp;sektion=1&amp;format=html">netstat(1)</a> <code>-m</code> beállításával ellenõrizhetjük a hálózati klaszterek kihasználtságát.</p></div><div class=paragraph><p>A <code>kern.ipc.nmbclusters</code> változó értékét a rendszer indításakor érdemes megváltoztatni. A FreeBSD korábbi változataiban ehhez a rendszermag <code>NMBCLUSTERS</code> nevû <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a> paraméterének módosítására van szükségünk.</p></div><div class=paragraph><p>Az olyan forgalmasabb szervereken, ahol sokat használják a <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> rendszerhívást, szükségünk lehet a <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> által használt pufferek számának növelésére a rendszermag <code>NFSBUFS</code> nevû konfigurációs paraméterén vagy a <span class=filename>/boot/loader.conf</span> állományon keresztül (lásd <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a>). Amikor a futó programok közül sokan vannak <code>sfbufa</code> állapotban, akkor az egyértelmûen annak a jele, hogy ezen a paraméteren állítanunk kell. A <code>kern.ipc.nsfbufs</code> egy írásvédett változót, amelyet a rendszermag állít be. Ez a paraméter névlegesen a <code>kern.maxusers</code> változó értékének megfelelõen változik, de bizonyos esetekben ettõl függetlenül önállóan kell behangolni.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Annak ellenére, hogy egy socketet blokkolásmentesnek jelöltünk meg, a <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> meghívása egy blokkolásmentes socketre blokkolódást eredményezhet egészen addig, amíg a használatához elegendõ <code>struct sf_buf</code> struktúra össze nem gyûlik.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=_net_inet_ip_portrange>11.13.2.1. <code>net.inet.ip.portrange.*</code><a class=anchor href=#_net_inet_ip_portrange></a></h4><div class=paragraph><p>A <code>net.inet.ip.portrange.*</code> sysctl változók vezérlik a TCP és UDP csatlakozásokhoz automatikusan hozzárendelt portszámok tartományát. Három ilyen tartomány létezik: az alsó, az alapértelmezett és a felsõ tartomány. A legtöbb hálózati program a <code>net.inet.ip.portrange.first</code> és <code>net.inet.ip.portrange.last</code> változók által rendre az 1024-tõl 5000-ig kijelölt alapértelmezett tartományt használja. A kimenõ kapcsolatok is rögzített porttartományokat követnek, és adott körülmények mellett be lehet állítani úgy a rendszerünket, hogy ezen kívül osszon ki portokat. Ez a legtöbbször akkor fordul elõ, amikor egy erõsen leterhelt webproxyt mûködtetünk. A porttartományok nem okoznak gondot olyan szervereknél, ahol általában bejövõ kapcsolatokra lehet számítani, tehát például webszerverek esetén, vagy ahol korlátozott a kimenõ kapcsolatok száma, mint például a levelek továbbításánál. Ha olyan helyzetbe keverednénk, ahol már kifutunk a felhasználható portokból, a <code>net.inet.ip.portrange.last</code> mérsékelt növelésével javasolt kitörni. Ilyenkor a <code>10000</code>, <code>20000</code> vagy <code>30000</code> értékek elfogadhatóak. Amikor megváltoztatjuk a porttartományok határait, elõtte mindig gondoljuk át, milyen hatással lehet ez a tûzfalra. Egyes tûzfalak blokkolhatnak bizonyos tartományokat (általában az alacsonyabbakat) és arra számítanak, hogy a rendszerek a kimenõ kapcsolatokhoz a nagyobb számú portokat használják - ebbõl kifolyólag nem ajánlott csökkenteni a <code>net.inet.ip.portrange.first</code> értékét.</p></div></div><div class=sect3><h4 id=_a_tcp_sávszélesség_késletetés_szorzat>11.13.2.2. A TCP sávszélesség-késletetés szorzat<a class=anchor href=#_a_tcp_sávszélesség_késletetés_szorzat></a></h4><div class=paragraph><p>A TCP sávszélesség-késleltetés szorzat korlátozása hasonlít a NetBSD-ben megtalálható TCP/Vegas implementációhoz. A <code>net.inet.tcp.inflight.enable</code> sysctl változó <code>1</code>-re állításával lehet engedélyezni. A rendszer ilyenkor minden egyes kapcsolathoz megpróbálja kiszámítani a sávszélesség-késleltetés szorzatot és az optimális átviteli sebesség fenntartásához illeszkedõen korlátozni a hálózat felé küldött adatok sorának hosszát.</p></div><div class=paragraph><p>Ez a lehetõség még olyankor bizonyulhat hasznosnak, amikor modemen, Gigabit Etherneten vagy nagysebességû WAN (vagy bármilyen más nagy sávszélesség-késleltetés szorzattal bíró) összeköttetéseken keresztül küldünk át adatokat, különösen abban az esetben, amikor ablakméretezést is használnunk vagy nagy küldési ablakot állítottunk be. Az engedélyezésekor ne felejtsük el <code>net.inet.tcp.infligt.debug</code> változót sem beállítani <code>0</code>-ra (amivel így kikapcsoljuk a nyomkövetést),éles használat esetén pedig elõnyös lehet a <code>net.inet.cp.inflight.min</code> változót legalább <code>6144</code>-re állítani. Azonban hozzátesszük, hogy összeköttetéstõl függõen a nagy minimum értékek tulajdonképpen kikapcsolják a sávszélességkorlátozást. Ez a korlátozási lehetõség csökkenti a közbensõ út adatainak és csomagváltásokhoz tartozó soroknak a méretét, miközben csökkenti a helyi számítógép felületén felépülõ sorok méretét is. Ha kevesebb csomagot rakunk be a sorba, akkor az interaktív kapcsolatok, különösen a lassabb modemek esetében, kisebb <em>körbejárási idõvel</em> (Round Trip Time) mûködnek. Továbbá megemlítenénk, hogy ez a lehetõség csak az adatok küldésére (feltöltésére, szerveroldalra) van hatással. Semmilyen befolyása nincs az adatok fogadására (letöltésére).</p></div><div class=paragraph><p>A <code>net.inet.tcp.inflight.stab</code> állítgatása <em>nem</em> ajánlott. A paraméter értéke alapértelmezés szerint 20, ami legfeljebb 2 csomag hozzáadását jelenti a sávszélesség-késleltetés szorzat ablakának kiszámításakor. Erre a kiegészítõ ablakra azért van szükség, hogy stabilizálni tudjuk vele az algoritmust és javítani tudjuk a változó feltételekre adott reakciót, de lassabb összeköttetések esetében nagyobb ping idõket is eredményezhet (habár ezek még így kisebbek, mint ha nem használnánk az algoritmust). Ilyen esetekben megpróbálhatjuk 15-re, 10-re vagy esetleg 5-re visszavenni a paraméter értékét, de ekkor a kívánt hatás eléréséhez minden bizonnyal a <code>net.inet.tcp.inflight.min</code> értékét is redukálunk kell majd (például 3500-ra). Ezen paraméterek megváltoztatását csak végsõ esetben ajánljuk!</p></div></div></div><div class=sect2><h3 id=_virtuális_memória>11.13.3. Virtuális memória<a class=anchor href=#_virtuális_memória></a></h3><div class=sect3><h4 id=_kern_maxvnodes>11.13.3.1. <code>kern.maxvnodes</code><a class=anchor href=#_kern_maxvnodes></a></h4><div class=paragraph><p>A vnode egy állomány vagy könyvtár belsõ ábrázolása. Ennek megfelelõen a vnode-ok számának növelésével az operációs rendszer spórolni tud a lemezmûveletekkel. Ezt általában maga az operációs rendszer szabályozza, és nincs szükség a finomhangolására. Néhány esetben, amikor a lemezmûveletek jelentik a rendszerben a szûk keresztmetszetet és kezdenek elfogyni a vnode-ok, szükség lehet ennek a számnak a növelésére. Ehhez az inaktív és szabad fizikai memória mennyiségét kell számításba vennünk.</p></div><div class=paragraph><p>Így kérhetjük le a pillanatnyilag használatban levõ vnode-ok mennyiségét:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl vfs.numvnodes</span>
vfs.numvnodes: 91349</code></pre></div></div><div class=paragraph><p>Így tudhatjuk meg a vnode-ok maximális számát:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl kern.maxvnodes</span>
kern.maxvnodes: 100000</code></pre></div></div><div class=paragraph><p>Ha a vnode-ok aktuális kihasználtsága megközelíti a csúcsértéket, nagyjából ezerrel javasolt megnövelni a <code>kern.maxvnodes</code> értékét. Ezután figyeljük továbbra is a <code>vfs.numvnodes</code> változását. Ha ismét felkúszik a maximális értékre, akkor növeljük megint egy keveset a <code>kern.maxvnodes</code> értékén. Eközben a <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a> használatával figyelhetjük a memória kihasználtságának növekedését is, ilyenkor tehát több memóriának kell használatban lennie.</p></div></div></div></div></div><div class=sect1><h2 id=adding-swap-space>11.14. A lapozóterület bõvítése<a class=anchor href=#adding-swap-space></a></h2><div class=sectionbody><div class=paragraph><p>Nem számít, mennyire tervezünk jól elõre, mindig elõfordulhat, hogy a rendszerünk mégsem teljesíti a kitûzött elvárásokat. Amennyiben további lapozóterület hozzáadására lenne szükségünk, azt igen könnyen megtehetjük. Háromféleképpen növelhetjük a lapozásra szánt területet: hozzáadunk a rendszerhez egy újabb merevlemezes meghajtót, NFS-en keresztül lapozunk, vagy egy már meglevõ partíción hozunk létre lapozóállományt.</p></div><div class=paragraph><p>A lapozóterület titkosításával, valamint annak lehetõségeivel és okaival kapcsolatban lapozzuk fel a kézikönyv <a href=../disks/#swap-encrypting>A lapozóterület titkosítása</a>át.</p></div><div class=sect2><h3 id=new-drive-swap>11.14.1. Lapozás egy új merevlemezre<a class=anchor href=#new-drive-swap></a></h3><div class=paragraph><p>A lapozóterület bõvítésének legjobb módja természetesen remek indok egy új merevlemez beszerzésére is. Elvégre egy merevlemezt mindig fel tudunk ilyen célra használni. Ha ezt a megoldást választjuk, elõtte ajánlott (újra) elolvasni a kézikönyv <a href=#configtuning-initial>Kezdeti beállítások</a>ában a lapozóterületek elrendezésére vonatkozó javaslatokat.</p></div></div><div class=sect2><h3 id=nfs-swap>11.14.2. Lapozás NFS-en keresztül<a class=anchor href=#nfs-swap></a></h3><div class=paragraph><p>NFS-en keresztül csak akkor lapozzunk, ha ezt helyi lemezek segítségével nem tudjuk megtenni. Az NFS alapú lapozás hatékonyságát erõsen behatárolja a rendelkezésre álló hálózati sávszélesség és további terheket ró az NFS szerverünkre is.</p></div></div><div class=sect2><h3 id=create-swapfile>11.14.3. Lapozóállományok<a class=anchor href=#create-swapfile></a></h3><div class=paragraph><p>Lapozóállománynak egy adott méretû állományt hozzunk létre. Ebben a példában erre egy <span class=filename>/usr/swap0</span> nevû, 64 MB méretû állományt fogunk használni. Természetesen bármilyen más nevet is választhatunk.</p></div><div class=exampleblock><div class=title>Példa 1. Lapozóállomány létrehozása FreeBSD-ben</div><div class=content><div class="olist arabic"><ol class=arabic><li><p>Gyõzõdjünk meg róla, hogy a rendszermagunk beállításai között megtalálható a memórialemez meghajtójának (<a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a>) használata. Ez a <span class=filename>GENERIC</span> rendszermag alapból tartalmazza.</p><div class="literalblock programlisting"><div class=content><pre>device   md   # Memória &#34;lemezek&#34;</pre></div></div></li><li><p>Hozzunk létre egy lapozóállományt (<span class=filename>/usr/swap0</span>):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=/usr/swap0 bs=1024k count=64</span></code></pre></div></div></li><li><p>Állítsuk be rá a megfelelõ engedélyeket (<span class=filename>/usr/swap0</span>):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chmod 0600 /usr/swap0</span></code></pre></div></div></li><li><p>Adjuk meg a lapozóállományt az <span class=filename>/etc/rc.conf</span> állományban:</p><div class="literalblock programlisting"><div class=content><pre>swapfile=&#34;/usr/swap0&#34;   # Állítsuk be swapfile értékét, ha külsõ lapozóállományra van szükségünk.</pre></div></div></li><li><p>Indítsuk újra a számítógépünket, vagy a lapozóállomány azonnali használtba vételéhez írjuk be:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdconfig -a -t vnode -f /usr/swap0 -u 0 &amp;&amp; swapon /dev/md0</span></code></pre></div></div></li></ol></div></div></div></div></div></div><div class=sect1><h2 id=acpi-overview>11.15. Energia- és erõforrásgazdálkodás<a class=anchor href=#acpi-overview></a></h2><div class=sectionbody><div class=paragraph><p>Fontos a hardveres erõforrásaink hatékony kihasználása. Az ACPI megjelenése elõtt az operációs rendszerek csak nehézkesen és rugalmatlanul tudták kezelni a rendszer energiafelhasználási és hõszabályzási lehetõségeit. A hardvert a BIOS kezelte, ezért a felhasználó kevesebbet tudott látni és irányítani az energiagazdálkodási beállításokból. Az <em>Fejlett energiagazdálkodás (Advanced Power Management, APM)</em> ehhez nyújtott egy erõsen korlátozott felületet. Napjaink operációs rendszereiben az energia- és erõforráskezelés az egyik legfontosabb alkotóelem. Például, ha az operációs rendszerrel folyamatosan figyelni akarjuk a rendszer hõmérsékletének váratlan növekedését (és errõl figyelmeztetést kérni).</p></div><div class=paragraph><p>A FreeBSD kézikönyvének ezen szakaszában az ACPI-rõl adunk egy átfogó áttekintést, a végén pedig összefoglaljuk a témához tartozó irodalmat.</p></div><div class=sect2><h3 id=acpi-intro>11.15.1. Mi az ACPI?<a class=anchor href=#acpi-intro></a></h3><div class=paragraph><p>A speciális energia- és konfigurációs illesztõ felület (Advanced Configuration and Power Interface, avagy ACPI) gyártók egy csoportja által létrehozott szabvány, amely a hardveres erõforrások és az energiagazdálkodás egységes felületét rögzíti (innen a neve). Döntõ szerepet játszik a <em>Beállítások és az energiagazdálkodás operációs rendszerek áltai vezérlésében</em>, vagyis segítségével az operációs rendszer még nagyobb mértékben és rugalmassággal tudja irányítani ezeket a lehetõségeket. A modern operációs rendszerek az ACPI felbukkanásával "kitolták" a jelenleg meglevõ Plug and Play felületek korlátait. Az ACPI az APM közvetlen leszármazottja.</p></div></div><div class=sect2><h3 id=acpi-old-spec>11.15.2. A Fejlett energiagazdálkodás (APM) hiányosságai<a class=anchor href=#acpi-old-spec></a></h3><div class=paragraph><p>A <em>Fejlett energiagazdálkodás (APM)</em> a rendszer által felhasznált energiát annak elfoglaltsága alapján vezérli. Az APM-et támogató BIOS-t a (rendszert) gyártó állítja elõ és az adott hardverplatformra jellemzõ. Az APM operációs rendszerben levõ meghajtója hozzáférést biztosít az <em>APM szoftveres felületéhez</em>, amivel lehetõség nyílik az energiaszintek kezelésére. Az APM-et 2000 elõtt és körül még mindig használták egyes rendszerek gyártásánál.</p></div><div class=paragraph><p>Az APM használata négy nagyobb gondot rejt magában. Elõször is, az energiagazdálkodást a (gyártófüggõ) BIOS végzi el, és az operációs rendszernek errõl semmilyen ismerete nincsen. Ennek egyik példája az, amikor a felhasználó az APM-et ismerõ BIOS-ban beállítja a merevlemezek automatikus kikapcsolásának idejét, majd amikor ez letelik, a BIOS az operációs rendszer tudta nélkül egyszerûen leállítja a lemezt. Másodszor: az APM mûködését a BIOS-ban programozták le, és teljesen az operációs rendszer hatáskörén túl tevékenykedik. Ez azt jelenti, hogy a felhasználó csak úgy tudja korrigálni az APM-es BIOS-ok problémáit, ha frissíti az alaplapi ROM-ot. Ez viszont egy nagyon kockázatos folyamat, amelynek hibája révén a rendszerünk helyrehozhatatlan állapotba kerülhet. Harmadszor: az APM alapvetõen egy gyártófüggõ megoldás, ami azt vonja maga után, hogy sok az átfedés (ugyanazt valósítják meg több módon), és ha az egyik gyártó BIOS-ában hibát találnak, akkor a másikéban az nem feltétlenül javítható. Végül, de nem utolsósorban, az APM alapú BIOS-okban nincs elég hely az igazán kifinomult energiagazdálkodási sémák vagy bármi más kialakítására, amivel a felhasználók képesek lennének az igényeikhez alakítani a számítógépet.</p></div><div class=paragraph><p>A <em>Plug and Play BIOS (PNPBIOS)</em> sok szempontból megbízhatatlannak bizonyult. A PNPBIOS ráadásul egy 16 bites megoldás, ezért az operációs rendszereknek 16 bites emulációt kell használniuk a PNPBIOS eszközeinek "eléréséhez".</p></div><div class=paragraph><p>A FreeBSD APM meghajtójának dokumentációját az <a href="https://man.freebsd.org/cgi/man.cgi?query=apm&amp;sektion=4&amp;format=html">apm(4)</a> man oldalon találjuk.</p></div></div><div class=sect2><h3 id=acpi-config>11.15.3. Az ACPI beállítása<a class=anchor href=#acpi-config></a></h3><div class=paragraph><p>Az <span class=filename>acpi.ko</span> meghajtó alapértelmezés szerint a <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> segítségével töltõdik be, és <em>ne</em> is fordítsuk bele a rendszermagba. Ezt azzal tudnánk magyarázni, hogy modulokkal könnyebb dolgozni, például ha a rendszermag újrafordítása nélkül egy másik <span class=filename>acpi.ko</span> modult akarunk használni. Ezzel a lényegében a tesztelés is egyszerûbbé válik. Másik magyarázat, hogy a rendszer ACPI támogatása nem minden esetben mûködik rendesen. Ha a rendszer indítása során valamilyen problémát tapasztalunk, akkor próbálkozzunk meg az ACPI kikapcsolásával. Ezt a meghajtót nem lehet és nem is szabad kidobni a memóriából, mivel a hardverrel a rendszerbuszon keresztül tartja a kapcsolatot. Az ACPI a <code>hint.acpi.0.disabled="1"</code> sor megadásával kapcsolható a <span class=filename>/boot/loader.conf</span> állományban vagy a <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> parancssorában.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Az ACPI és az APM nem használató egyszerre. Közülük a késõbb betöltött magától kilép, ha észreveszi, hogy a másikuk már mûködésbe lépett.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Az ACPI és az <a href="https://man.freebsd.org/cgi/man.cgi?query=acpiconf&amp;sektion=8&amp;format=html">acpiconf(8)</a> használatával a rendszerünk készenléti módba helyezhetõ az <code>-s</code> valamint az <code>1-5</code> paraméterek megadásával. Ezek közül is a legtöbb felhasználó számára csak az <code>1</code> vagy a <code>3</code> (állapot mentése a fizikai memóriába) érdekes. Az <code>5</code> opció egy szoftveres kikapcsolást eredményez, ehhez hasonlóan:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># halt -p</span></code></pre></div></div><div class=paragraph><p>A további opciók a <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> man oldaláról érhetõek el. Ezen kívül még olvassuk el az <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=acpiconf&amp;sektion=8&amp;format=html">acpiconf(8)</a> man oldalakat is.</p></div></div></div></div><div class=sect1><h2 id=ACPI-debug>11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése<a class=anchor href=#ACPI-debug></a></h2><div class=sectionbody><div class=paragraph><p>Az ACPI az eszközök felderítésének, energiagazdálkodásának és a korábban a BIOS által kezelt hardverek szabványosított hozzáférésének alapjaiban új módja. Az ACPI folyamatosan fejlõdik, de útját az egyes alaplapok <em>ACPI Machine Language</em> (AML) bytekód implementációjában megjelenõ hibák, a FreeBSD rendszermag alrendszereinek befejezetlensége és az Intel® ACPI-CA értelmezõjében levõ hibák lassítják.</p></div><div class=paragraph><p>Ez a leírás azzal a szándékkal készült, hogy segítsünk a felhasználóknak megtalálni az általuk tapasztalt problémák gyökerét és ezzel segíteni az ACPI fejlesztõket a nyomonkövetésében és kijavításában. A fejlesztõk köszönik, hogy ezt elolvassuk és segédkezünk a rendszerünkkel kapcsolatban felmerülõ problémák orvosolásában!</p></div><div class=sect2><h3 id=ACPI-submitdebug>11.16.1. A nyomkövetési információk beküldése<a class=anchor href=#ACPI-submitdebug></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Mielõtt beküldenénk bármilyen problémát is, gondoskodjunk róla, hogy a BIOS-unk, és ha lehetséges, akkor a beágyazott vezérlõk, legfrissebb verzióját használjuk.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Megkérnénk azokat, akik hibát akarnak bejelenteni, hogy a következõ információkat küldjék a <a href=mailto:freebsd-acpi@FreeBSD.org></a><a href=mailto:freebsd-acpi@FreeBSD.org>freebsd-acpi@FreeBSD.org</a> címre:</p></div><div class=ulist><ul><li><p>A hibás mûködés leírása, beleértve a rendszer típusát és gyártmányát, illetve minden olyat, aminek köze lehet a hibához. Ha eddig még nem tapasztaltuk, igyekezzünk minél pontosabban leírni a hiba keletkezésének folyamatát.</p></li><li><p>A <code>boot -v</code> paranccsal indított rendszer <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> kimenetét, beleértve a vizsgálni kívánt hiba által okozott összes hibaüzenetet.</p></li><li><p>A <code>boot -v</code> paranccsal és az ACPI használata nélkül indított rendszer <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> kimenete abban az esetben, ha ez segít megoldani a problémát.</p></li><li><p>A <code>sysctl hw.acpi</code> parancs kimenete. Ezzel egyébként kitûnõen kideríthetõ, milyen lehetõségeket is kínál fel a rendszerünk.</p></li><li><p>Az általunk használt <em>ACPI forrásnyelvének</em> (ACPI Source Language, ASL) elérhetõsége az interneten. Mivel ezek akár igen nagyok is lehetnek, ezért a listára közvetlenül ne küldjünk ASL kódokat! Az ASL másolatát az alábbi parancs kiadásával hozhatjuk létre:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># acpidump -dt &gt; név-rendszer.asl</span></code></pre></div></div><div class=paragraph><p>(Adjuk meg a <em>név</em> helyett a bejelentkezéshez használt nevünket, a <em>rendszer</em> helyett pedig a gyártót/típust. Például: <span class=filename>njl-FooCo6000.asl</span>)</p></div></li></ul></div><div class=paragraph><p>Habár a legtöbb fejlesztõ a <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT levelezési lista</a>t figyeli, a problémáink leírását mindenképpen a <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>FreeBSD ACPI levelezési lista</a> listára küldjük, hogy biztosan észrevegyék. A fejlesztõk azt kérik, hogy legyünk türelmesek, hiszen emellett mindannyian teljes állásban is dolgoznak. Ha az általunk felfedezett hiba nem teljesen egyértelmû, akkor a fejlesztõk valószínûleg meg fognak kérni arra, hogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> használatával hozzunk róla létre egy hivatalos hibajelentést. A hibajelentés készítésekor lehetõleg a fentebb megadott információkat ugyanúgy adjuk meg. Ez segít a probléma szemmel tartásában és elhárításában. Az <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>FreeBSD ACPI levelezési lista</a> lista kihagyása nélkül közvetlenül ne küldjünk hibajelentést, mivel a hibabejelentõ rendszert elsõsorban emlékeztetõnek használjuk, nem pedig a hibák tényleges bejelentésére. Gyakran elõfordul, hogy valaki korábban már találkozott az adott problémával.</p></div></div><div class=sect2><h3 id=ACPI-background>11.16.2. Háttér<a class=anchor href=#ACPI-background></a></h3><div class=paragraph><p>Az ACPI minden olyan modern számítógépben megtalálható, mely megfelel az ia32 (x86), ia64 (Itanium) vagy amd64 (AMD) architektúrának. A teljes szabvány rengeteg lehetõséget biztosít, többek közt a processzor teljesítményének kezelését, az energiaszintek vezérlését, hõzónákat, különféle akkumulátor rendszereket, beágyazott vezérlõk és a buszok felsorolását. A legtöbb rendszer általában nem a teljes szabványt valósítja meg. Például egy asztali rendszer általában csak a buszok felsorolásával kapcsolatos részeket tartalmazza, miközben egy laptop felajánlhatja a hûtés és az akkumulátor kezelését is. A laptopokban gyakorta találunk készenléti üzemmódot a maguk elbonyolított formájában.</p></div><div class=paragraph><p>Egy ACPI-nak megfelelõ rendszert számos összetevõ alkot. A BIOS-ok és chipkészletek gyártói a memóriában egy elõre rögzített ponton elhelyeznek bizonyos táblázatokat (például FADT), amelyekkel megadják például az APIC összerendeléseit (ezt az SMP rendszerek használják), a konfigurációs regisztereket és az egyszerûbb konfigurációs értékeket. Itt ezenkívül még bytekódok egy táblázata (amit <em>Differenciált rendszerleírtó táblának</em>, Differentiated System Description Table, DSDT nevezünk) is megtalálható, ahol az eszközök és módszerek nevei szerepelnek faszerû elrendezésben.</p></div><div class=paragraph><p>Az ACPI-hoz tartozó meghajtónak képesnek kell lennie értelmezni ezeket a rögzített táblázatokat, implementálni egy bytekód-értelmezõt, módosítani az eszközmeghajtókat és a rendszermagot az ACPI alrendszerbõl érkezõ információk befogadásához. A Linuxszal és a NetBSD-vel közösen a FreeBSD kapott egy ilyen értelmezõt az Intel®tõl (ACPI-CA). Az ACPI-CA forráskódja a rendszer forrásai között, a <span class=filename>src/sys/dev/acpica</span> könyvtárban található. A <span class=filename>src/sys/dev/acpica/0sd</span> könyvtárban található források pedig lehetõvé teszik, hogy az ACPI-CA mûködhessen FreeBSD-n. Végezetül, az ACPI eszközöket megvalósító meghajtók a <span class=filename>src/sys/dev/acpica</span> könyvtárban találhatóak.</p></div></div><div class=sect2><h3 id=ACPI-comprob>11.16.3. Gyakori problémák<a class=anchor href=#ACPI-comprob></a></h3><div class=paragraph><p>Az ACPI megfelelõ mûködéséhez minden alkotórésznek helyesen kell mûködnie. A most következendõkben elõfordulásuk gyakorisága szerint felsorolunk néhány ismert problémát, valamint a hozzájuk tartozó javításokat vagy elkerülésük módszerét.</p></div><div class=sect3><h4 id=_gondok_az_egérrel>11.16.3.1. Gondok az egérrel<a class=anchor href=#_gondok_az_egérrel></a></h4><div class=paragraph><p>Egyes esetekben felfüggesztett állapotból visszatérve az egerünk nem hajlandó mûködni. Ezt úgy lehet elkerülni, ha <span class=filename>/boot/loader.conf</span> állományba beírjuk a <code>hint.psm.0.flags="0x3000"</code> sort. Ha ez nem segít, akkor a fentieknek megfelelõen küldjünk be egy hibajelentést.</p></div></div><div class=sect3><h4 id=_felfüggesztésfolytatás>11.16.3.2. Felfüggesztés/Folytatás<a class=anchor href=#_felfüggesztésfolytatás></a></h4><div class=paragraph><p>Az ACPI három (STR) állapotban képes a fizikai memória segítségével készenléti módba váltani, ezek az <code>S1</code>-<code>S3</code>, és egy állapotban használja a lemezt (<code>STD</code>), amelyet <code>S4</code>-nek hívnak. Az <code>S5</code> neve a "szoftveres kikapcsolás", ami egy olyan állapotot takar, amikor a rendszerünk áram alatt van, de még nem üzemel. Az <code>S4</code>BIOS állapot a BIOS segítségével a lemezre menti a rendszert, az <code>S4</code>OS állapotot pedig teljes egészében az operációs rendszer valósítja meg.</p></div><div class=paragraph><p>A rendszerünk által ismert készenléti módokat a <code>sysctl hw.acpi</code> paranccsal ellenõrizhetjük. Íme mindez egy Thinkpad esetén:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>hw.acpi.supported_sleep_state: S3 S4 S5
hw.acpi.s4bios: 0</code></pre></div></div><div class=paragraph><p>Ez azt jelenti, hogy az <code>acpiconf -s</code> parancs kiadásával kipróbálhatjuk az <code>S3</code>, <code>S4</code>OS, és <code>S5</code> állapotokat. Ha az <code>s4bios</code> értéke egy (<code>1</code>), akkor az <code>S4</code>BIOS támogatása helyett az <code>S4</code>OS állapotot kapjuk.</p></div><div class=paragraph><p>A felfüggesztés és folytatás kipróbálása során kezdjük az <code>S1</code> állapottal, már amennyiben az támogatott a rendszerünkön. Ez az állapot többnyire használható, mivel nem igényel túlságosan sok támogatást a meghajtó részérõl. Eddig még senki sem implementálta az <code>S2</code> állapotot, de ha ezt is tudja a rendszerünk, akkor az <code>S1</code>-hez hasonlót nyerünk vele. A következõ próba az <code>S3</code> állapoté. Ez a legmélyebb STR állapot, és a hardver megfelelõ újraélesztéséhez rengeteg támogatás szükségeltetik a meghajtó részérõl. Ha gondjaink lennének a rendszerünk felébresztésével, nyugodtan írjunk egy levelet a <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>FreeBSD ACPI levelezési lista</a> listára, ám a probléma gyors megoldódásában ne reménykedjünk, hiszen ehhez még temérdek meghajtón és hardveren kell tesztelni és kell dolgozni.</p></div><div class=paragraph><p>Felfüggesztés és folytatás esetén gyakori probléma, hogy sok eszközmeghajtó nem menti el, nem állítja vissza vagy éppen nem hozza újra rendesen mûködésbe az adott eszközön található firmware-t, a regisztereket vagy memóriát. Az okok felderítéséhez elõször érdemes a következõket kipróbálni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl debug.bootverbose=1</span>
<span class=c># sysctl debug.acpi.suspend_bounce=1</span>
<span class=c># acpiconf -s 3</span></code></pre></div></div><div class=paragraph><p>Ezzel a módszerrel tesztelni tudjuk az összes meghajtó felfüggesztési és folytatási rutinjait anélkül, hogy ténylegesen <code>S3</code> állapotba helyeznénk az eszközt. Bizonyos esetekben ezzel könnyen elcsíphetõ a hiba (például a firmware állapotának elvesztése, watchdog time out, megállás nélküli újrapróbálkozások). A rendszer ilyenkor nem vált <code>S3</code> állapotra, vagyis az eszköz nem kerül energiatakarékos állapotba, és eltérõen a valós <code>S3</code> állapottól továbbra is mûködik még abban az esetben is, amikor a szükséges felfüggesztési és folytatási rutinok teljesen hiányoznak.</p></div><div class=paragraph><p>Komolyabb esetben további segédeszközökre lesz szükségünk, vagyis soros portra és kábelre a soros vonali nyomkövetéshez, vagy Firewire portra és kábelre a <a href="https://man.freebsd.org/cgi/man.cgi?query=dcons&amp;sektion=4&amp;format=html">dcons(4)</a> használatához, valamint némi tapasztalatra a rendszermagon belüli hibakeresésben.</p></div><div class=paragraph><p>A problémát nagy mértékben segíti különválasztani, ha igyekszünk minél több meghajtót kivenni a rendszermagból. Ha így javul a helyzet, akkor már könnyen le lehet szûkíteni arra a meghajtóra a kört, aminek betöltésével esetleg gondok akadhatnak. Általában ilyenek a bináris meghajtók, mint például az <span class=filename>nvidia.ko</span>, az X11 megjelenítésért felelõs és az USB eszközök meghajtói, miközben az Ethernet eszközök remekül szoktak mûködni. Ha különösebb gond nélkül képesek vagyunk betölteni és eltávolítani ezeket a meghajtókat, akkor ezt a folyamatot önállósítani is tudjuk úgy, hogy az <span class=filename>/etc/rc.suspend</span> és <span class=filename>/etc/rc.resume</span> szkriptekbe beillesztjük az ehhez szükséges parancsokat. Ezekben egyébként találunk is egy megjegyzésbe rakott példát a meghajtók betöltésérõl és eltávolításáról. Ha az ébresztés után elszemetelõdik a képernyõ tartalma, akkor állítsuk át a <code>hw.acpi.reset_video</code> változó értékét nullára (<code>0</code>). Sokat segíthet meg az is, ha a <code>hw.acpi.sleep_delay</code> értékét csökkentjük vagy növeljük.</p></div><div class=paragraph><p>Megpróbálhatjuk azt is, hogy elindítunk egy frissebb Linux disztribúciót ACPI támogatással és ugyanazon a hardveren kipróbáljuk az általa felkínált felfüggesztési és folytatási lehetõséget. Ha Linux alatt ez megbízhatóan mûködik, akkor nagy a valószínûsége, hogy ez FreeBSD alatt az egyik meghajtó hibájából fakadóan nem használható. Így fokozatosan le is tudjuk szûkíteni, hogy pontosan melyikkel lehet a gond, és ezzel a fejlesztõk munkáját segítjük. Megjegyeznénk, hogy az ACPI-t karbantartó fejlesztõk általában nem foglalkoznak más meghajtókkal (például hangkártya vagy ATA stb.), ezért az adott meghajtóval kapcsolatos hibáról javasolt értesíteni a <a href=https://lists.FreeBSD.org/subscription/freebsd-current>FreeBSD-CURRENT levelezési lista</a> listát és a meghajtóért felelõs fejlesztõt is. Ha van egy kis kedvünk és idõnk, mi magunk is belebiggyeszthetünk a meghajtóba néhány <a href="https://man.freebsd.org/cgi/man.cgi?query=printf&amp;sektion=3&amp;format=html">printf(3)</a> függvényt annak kiderítésére, pontosan hol is fagy le a folytatási funkció.</p></div><div class=paragraph><p>Végül megpróbálkozhatunk az ACPI kikapcsolásával is, és áttérhetünk helyette az APM használatára. Ha az APM-mel mûködnek a készenléti állapotok, akkor érdemes inkább azzal dolgozni, különösen a régebbi (2000 elõtti) hardverek esetében. A gyártóknak eltartott egy ideig, amíg rendes ACPI támogatást voltak képesek adni, ezért a régebbi hardvereknél inkább a BIOS-nak akadnak gondjai az ACPI-val.</p></div></div><div class=sect3><h4 id=_a_rendszer_lemerevedik_ideiglenesen_vagy_teljesen>11.16.3.3. A rendszer lemerevedik (ideiglenesen vagy teljesen)<a class=anchor href=#_a_rendszer_lemerevedik_ideiglenesen_vagy_teljesen></a></h4><div class=paragraph><p>A legtöbb rendszer olyankor akad meg, amikor sok megszakítás elveszik, vagy amikor éppen sok megszakítás érkezik egyszerre. A chipkészleteknek számos baja származik abból, hogy a BIOS milyen módon állítja be a rendszer indítása elõtt a megszakításokat, mennyire helyes az APIC (MADT) táblázata és hogyan vezérli a <em>Rendszervezérlõ megszakítást</em> (System Control Interrupt, SCI).</p></div><div class=paragraph><p>A megszakítás-viharok a <code>vmstat -i</code> parancs kimenetében szereplõ elveszett megszakításokból azonosíthatók be, ahol keressünk rá az <code>acpi0</code> sorra. Ha ez a számláló másodpercenként kettõnél többel növekszik, akkor a megszakításaink viharba keveredtek. Ha a rendszer látszólag lefagyott, próbáljuk meg elõhívni a DDB-t (konzolban a <span class=keyseq><kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>ESC</kbd></span>) és gépeljük be, hogy <code>show interrupts</code>.</p></div><div class=paragraph><p>A megszakítási problémákkal kapcsolatban egyetlen reményünk az APIC támogatás kikapcsolása lehet a <span class=filename>loader.conf</span> állományban a <code>hint.apic.0.disabled="1"</code> sor hozzáadásával.</p></div></div><div class=sect3><h4 id=_végzetes_hibák>11.16.3.4. Végzetes hibák<a class=anchor href=#_végzetes_hibák></a></h4><div class=paragraph><p>Az ACPI-vel kapcsolatos végzetes hibák viszonylag ritkák, és javításuk a legfontosabb. Ilyenkor az elsõ teendõnk elkülöníteni a hiba reprodukálásának egyes lépéseit és (ha lehetséges) lekérni a hívási láncot. Kövessük az <code>options DDB</code> és a soros vonali konzol beállításához adott tanácsokat (lásd <a href=../serialcomms/#serialconsole-ddb>A DDB elérése a soros vonalról</a>) vagy hozzunk létre egy <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> partíciót. A DDB-ben a hívási láncot a <code>tr</code> parancs segítségével kérhetjük le. Ha kézzel írjuk le láncot, akkor legalább az alsó öt (5) és a felsõ öt (5) sorát mindenképpen jegyezzük fel!</p></div><div class=paragraph><p>Ezután próbáljuk meg úgy szûkíteni a probléma lehetõségét, hogy az ACPI használata nélkül indítjuk a rendszert. Ha ezzel nincs semmi gond, akkor a <code>debug.acpi.disable</code> változó értékének megfelelõ beállításával egyenként meg tudjuk figyelni az ACPI alrendszer egyes részeit. Ehhez példákat az <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a> man oldalon találunk.</p></div></div><div class=sect3><h4 id=_felfüggesztés_vagy_leállítás_után_elindul_a_rendszer>11.16.3.5. Felfüggesztés vagy leállítás után elindul a rendszer<a class=anchor href=#_felfüggesztés_vagy_leállítás_után_elindul_a_rendszer></a></h4><div class=paragraph><p>Elõször is próbáljuk meg a <code>hw.acpi.disable_on_poweroff</code> változó értékét <code>0</code>-ra állítani a <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a> állományban. Ezzel távoltartjuk az ACPI alrendszert a rendszer leállítási folyamatától. Egyes rendszereknek valamilyen okból kifolyólag szükségük van itt az <code>1</code> (az alapértelmezett) értékre. Ez többnyire megoldja a problémát, amikor a rendszer váratlanul elindul a készenléti mód aktiválásákor vagy kikapcsoláskor.</p></div></div><div class=sect3><h4 id=_egyéb_problémák>11.16.3.6. Egyéb problémák<a class=anchor href=#_egyéb_problémák></a></h4><div class=paragraph><p>Ha más gondjaink lennének az ACPI-val (dokkoló állomásunk van, egyes eszközöket nem vesz észre stb.), akkor természetesen errõl is küldjünk egy leírást a levelezési listára. Azonban vegyük figyelembe, hogy egyes problémák a ACPI alrendszer eddig még nem implementált, befejezetlen részeihez kötõdnek, ezért azok megoldása még várat magára. Kérünk mindenkit, hogy legyen türelemmel és álljon készen a kiküldött javítások tesztelésére!</p></div></div></div><div class=sect2><h3 id=ACPI-aslanddump>11.16.4. ASL, <code>acpidump</code> és IASL<a class=anchor href=#ACPI-aslanddump></a></h3><div class=paragraph><p>A problémák leggyakoribb forrása, hogy a BIOS-gyártók rossz (vagy kifejezetten hibás!) bytekódokat adnak. Ez általában a következõhöz hasonló rendszerüzenetbõl derül ki:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ACPI-1287: <span class=k>***</span> Error: Method execution failed <span class=o>[</span><span class=se>\\</span>_SB_.PCI0.LPC0.FIGD._STA] <span class=se>\\</span>
<span class=o>(</span>Node 0xc3f6d160<span class=o>)</span>, AE_NOT_FOUND</code></pre></div></div><div class=paragraph><p>Az ilyen jellegû hibákat gyakran úgy lehet orvosolni, ha a BIOS-unkat frissítjük a legújabb verzióra. A legtöbb ilyen üzenet teljesen ártalmatlan, de ha vannak más problémáink is, például az akkumulátor állapota nem olvasható le, akkor elõször az AML környékén érdemes kutakodnunk. A bytekód, más néven AML, az ASL elnevezésû forrásnyelvbõl származik. Az AML egy DSDT néven ismert táblázatban található meg. Az ASL másolatát az <a href="https://man.freebsd.org/cgi/man.cgi?query=acpidump&amp;sektion=8&amp;format=html">acpidump(8)</a> paranccsal készíthetjük el. Paraméterként egyaránt adjuk meg a <code>-t</code> (megmutatja a rögzített táblák tartalmát) és <code>-d</code> (visszafejti az AML kódokat az ASL nyelvére) kapcsolókat. A felírás pontos formátumát a <a href=#ACPI-submitdebug>A nyomkövetési információk beküldése</a> címû szakaszban olvashatjuk.</p></div><div class=paragraph><p>Elsõként próbáljuk meg újrafordítani az így nyert ASL programot és keressünk benne hibákat. A figyelmeztetések általában nyugodtan figyelmen kívül hagyhatóak, azonban a hibák olyan implementációs hibákra utalnak, amelyek akadályozzák az ACPI helyes mûködését. Az ASL újrafordítását az alábbi paranccsal tudjuk elvégezni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iasl saját.asl</span></code></pre></div></div></div><div class=sect2><h3 id=ACPI-fixasl>11.16.5. Az ASL kijavítása<a class=anchor href=#ACPI-fixasl></a></h3><div class=paragraph><p>Végeredményben az a célunk, hogy az ACPI megfelelõ mûködéséhez senkinek se kelljen hozzányúlnia semmihez. Azonban még mindig szükség van BIOS-gyártók által elkövetett gyakori hibák elkerülésének kifejlesztésére. A Microsoft® értelmezõje (<span class=filename>acpi.sys</span> és <span class=filename>acpiec.sys</span>) nem ellenõrzi szigorúan a szabvány szerinti megfelelést, ezért számos olyan BIOS-gyártó, akik csak Windows® alatt tesztelik az ACPI implementációjukat, soha nem fogják kijavítani a ASL kódjukban ejtett hibáikat. Reménykedünk, hogy folyamatosan sikerül felderíteni és dokumentálni a Microsoft® értelmezõje által eltûrt szabványon kívüli viselkedést és leutánozni FreeBSD alatt is, hogy így ne kelljen a felhasználóknak kézzel a saját ASL forrásaikat javítgatni. Az ebbõl fakadó hibákat úgy tudjuk elkerülni és segíteni a fejlesztõknek azonosítani a hozzá társuló viselkedést, hogy magunk javítjuk az ASL-ben felfedezett hibákat. Ha ez beválik, akkor küldjük el a régi és új ASL közti <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>-et a fejlesztõknek, akik így majd az ACPI-CA-ban ki tudnak dolgozni egy megoldást a hibás viselkedésre, ezzel a javításunk szükségtelenné válik.</p></div><div class=paragraph><p>Most pedig következzenek a legismertebb hibaüzenetek, az okaik és javításuk:</p></div><div class=sect3><h4 id=_operációs_rendszeri_függõségek>11.16.5.1. Operációs rendszeri függõségek<a class=anchor href=#_operációs_rendszeri_függõségek></a></h4><div class=paragraph><p>Néhány AML úgy gondolja, hogy a világ csak a különbözõ Windows® verziókból áll. A FreeBSD-nek megadható, hogy másik operációs rendszernek adja ki magát, és ezzel talán meg is szüntethetõ pár hiba. Ezt a legegyszerûbb úgy tudjuk megtenni, ha a <span class=filename>/boot/loader.conf</span> állományhoz hozzáfûzzük a <code>hw.acpi.osname="Windows 2001"</code> sort, vagy itt egy olyan karakterláncot adunk meg, amit az ASL forrásban láttunk.</p></div></div><div class=sect3><h4 id=_hiányzó_visszatérési_érték>11.16.5.2. Hiányzó visszatérési érték<a class=anchor href=#_hiányzó_visszatérési_érték></a></h4><div class=paragraph><p>Bizonyos módszerek a szabvány szerint elvártaktól eltérõen nem adnak vissza explicit módon értéket. Mivel az ACPI-CA ezt nem kezeli le, ezért a FreeBSD részérõl tartalmaz egy olyan módosítást, amivel implicit módon is vissza lehet adni értéket. Ha biztosak akarunk lenni a visszaadni kívánt értékben, akkor helyezzünk el a megfelelõ helyekre explicit Return utasításokat. Az <code>iasl</code> a <code>-f</code> paraméterrel kényszeríthetõ az ilyen ASL források lefordítására.</p></div></div><div class=sect3><h4 id=_az_alapértelmezett_aml_felülbírálása>11.16.5.3. Az alapértelmezett AML felülbírálása<a class=anchor href=#_az_alapértelmezett_aml_felülbírálása></a></h4><div class=paragraph><p>Miután módosítottuk a <span class=filename>saját.asl</span> állományunkat, így tudjuk lefordítani:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iasl saját.asl</span></code></pre></div></div><div class=paragraph><p>Az <code>-f</code> kapcsoló megadásával kikényszeríthetjük az AML létrehozását még abban az esetben is, amikor hibákat tartalmaz. Ügyeljünk rá, hogy bizonyos hibákat (például a hiányzó visszatérési értékeket) a fordító magától kikerül.</p></div><div class=paragraph><p>Az <code>iasl</code> alapértelmezett kimenete a <span class=filename>DSDT.aml</span> állomány. A <span class=filename>/boot/loader.conf</span> átírásával így tudjuk ezzel helyettesíteni a BIOS-unk hibás változatát (ami még mindig megtalálható a flash memóriában):</p></div><div class="literalblock programlisting"><div class=content><pre>acpi_dsdt_load=&#34;YES&#34;
acpi_dsdt_name=&#34;/boot/DSDT.aml&#34;</pre></div></div><div class=paragraph><p>Ehhez ne felejtsük el a saját <span class=filename>DSDT.aml</span> állományunkat bemásolni a <span class=filename>/boot</span> könyvtárba.</p></div></div></div><div class=sect2><h3 id=ACPI-debugoutput>11.16.6. Nyomkövetési információk kinyerése az ACPI-bõl<a class=anchor href=#ACPI-debugoutput></a></h3><div class=paragraph><p>Az ACPI meghajtója nagyon rugalmas nyomkövetési lehetõségekkel rendelkezik. Ennek révén ugyanúgy megadhatjuk a nyomonkövetni kívánt alrendszert, mint ahogy annak mélységét is. A nyomkövetni kívánt alrendszereket "rétegekként" adjuk meg, valamint ezek ACPI-CA komponensekre (ACPI_ALL_COMPONENTS) és ACPI hardvertámogatásra (ACPI_ALL_DRIVERS) bomlanak le. A nyomkövetéskor keletkezõ kimenet részletességét a "szintként" adjuk meg, ami az ACPI_LV_ERROR-tól (csak a hibák) ACPI_LV_VERBOSE-ig (minden) terjedhet. A "szint" itt egy bitmaszk, ezért szóközzel elválasztva egyszerre több beállítás megadható. Ha túlságosan sok üzenet érkezik a konzol üzenetpufferébe, akkor szükségünk lehet a soros konzol keresztüli nyomkövetésre is. Az összes szint és réteg az <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a> man oldalon található meg.</p></div><div class=paragraph><p>A nyomkövetés alapértelmezés szerint nem engedélyezett. Az engedélyezéséhez hozzá kell adnunk az <code>options ACPI_DEBUG</code> sort a rendszermagunk beállításait tartalmazó állományhoz, amennyiben a rendszermagba fordítjuk az ACPI támogatást. Ha az <span class=filename>/etc/make.conf</span> állományba írjuk bele az <code>ACPI_DEBUG=1</code> sort, akkor azt globálisan engedélyezhetjük. Ha modulként használjuk, elegendõ csak a következõ módon újrafordítani az <span class=filename>acpi.ko</span> modult:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /sys/modules/acpi/acpi</span>
<span class=o>&amp;&amp;</span> make clean <span class=o>&amp;&amp;</span>
make <span class=nv>ACPI_DEBUG</span><span class=o>=</span>1</code></pre></div></div><div class=paragraph><p>Telepítsük fel a <span class=filename>acpi.ko</span> modult a <span class=filename>/boot/kernel</span> könyvtárba és állítsuk be a számunkra megfelelõ szintet és réteget a <span class=filename>loader.conf</span> állományban. Az alábbi példában engedélyezzük az összes ACPI-CA komponens és az összes ACPI hardvermeghajtó (processzor, LID stb.) nyomkövetését. Csak a hibaüzeneteket írja ki részletesen.</p></div><div class="literalblock programlisting"><div class=content><pre>debug.acpi.layer=&#34;ACPI_ALL_COMPONENTS ACPI_ALL_DRIVERS&#34;
debug.acpi.level=&#34;ACPI_LV_ERROR&#34;</pre></div></div><div class=paragraph><p>Ha az általunk keresett információt egy adott esemény váltja ki (például egy felfüggesztés vagy egy ébresztés), akkor nem is fontos átírnunk hozzá a <span class=filename>loader.conf</span> állományt, hanem helyette a rendszer indítása után használjuk a <code>sysctl</code> parancsot a réteg és a szint megadására akkor, amikor a rendszert felkészítjük az eseményre. A <code>sysctl</code> változókat ugyanúgy nevezték el, mint a <span class=filename>loader.conf</span> állományban található beállításokat.</p></div></div><div class=sect2><h3 id=ACPI-References>11.16.7. Hivatkozások<a class=anchor href=#ACPI-References></a></h3><div class=paragraph><p>Az ACPI-rõl az alábbi helyeken találunk részletesebb információkat:</p></div><div class=ulist><ul><li><p>A <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>FreeBSD ACPI levelezési lista</a></p></li><li><p>Az ACPI levelezési lista archívuma: <a href=http://lists.freebsd.org/pipermail/freebsd-acpi/>http://lists.freebsd.org/pipermail/freebsd-acpi/</a></p></li><li><p>A korábbi ACPI levelezési lista archívuma: <a href=http://home.jp.FreeBSD.org/mail-list/acpi-jp/>http://home.jp.FreeBSD.org/mail-list/acpi-jp/</a></p></li><li><p>Az <a href=https://uefi.org/specifications#ACPI>ACPI specifikációja</a></p></li><li><p>A FreeBSD következõ man oldalai: <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi_thermal&amp;sektion=4&amp;format=html">acpi_thermal(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=acpidump&amp;sektion=8&amp;format=html">acpidump(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=iasl&amp;sektion=8&amp;format=html">iasl(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=acpidb&amp;sektion=8&amp;format=html">acpidb(8)</a></p></li><li><p><a href=http://www.cpqlinux.com/acpi-howto.html#fix_broken_dsdt>A DSDT nyomkövetése (angolul)</a>. (Példának a Compaqot hozza fel, de általánosságban véve hasznos.)</p></li></ul></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 2024. március 9. by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/partiii class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/boot class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#config-synopsis>11.1. Áttekintés</a></li><li><a href=#configtuning-initial>11.2. Kezdeti beállítások</a></li><li><a href=#configtuning-core-configuration>11.3. A mag beállítása</a></li><li><a href=#configtuning-appconfig>11.4. Az alkalmazások beállítása</a></li><li><a href=#configtuning-starting-services>11.5. Szolgáltatások indítása</a></li><li><a href=#configtuning-cron>11.6. A <code>cron</code> segédprogram beállítása</a></li><li><a href=#configtuning-rcd>11.7. Az rc használata FreeBSD alatt</a></li><li><a href=#config-network-setup>11.8. A hálózati kártyák beállítása</a></li><li><a href=#configtuning-virtual-hosts>11.9. Virtuális címek</a></li><li><a href=#configtuning-configfiles>11.10. Konfigurációs állományok</a></li><li><a href=#configtuning-sysctl>11.11. Finomhangolás a sysctl használatával</a></li><li><a href=#configtuning-disk>11.12. A lemezek finomhangolása</a></li><li><a href=#configtuning-kernel-limits>11.13. A rendszermag korlátainak finomhangolása</a></li><li><a href=#adding-swap-space>11.14. A lapozóterület bõvítése</a></li><li><a href=#acpi-overview>11.15. Energia- és erõforrásgazdálkodás</a></li><li><a href=#ACPI-debug>11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/hu/books/handbook/handbook_hu.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/hu/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/hu/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>Hungarian</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/hu class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/hu/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>