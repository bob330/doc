<!doctype html><html class=theme-light lang=hu><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/hu/books/handbook/disks/><title>18. Fejezet - Háttértárak | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="18. Fejezet - Háttértárak"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="hu"><meta property="og:url" content="https://docs.freebsd.org/hu/books/handbook/disks/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/hu\/books\/handbook\/disks\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/hu>Documentation portal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/hu/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/hu/books>Books</a></li><li><a href=https://docs.freebsd.org/hu/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/hu/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=hu>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/preface/>Előszó</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-audience>Kiknek szánjuk ezt a könyvet</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from3>Változtatások a harmadik kiadás óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from2>Változtatások a második kiadás (2004) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes>Változtatások az elsõ kiadás (2001) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-overview>A könyv felépítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-conv>A könyvben alkalmazott konvenciók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-acknowledgements>Köszönetnyilvánítás</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/parti/>I. Rész Bevezetés</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/introduction/>1. Fejezet - Bemutatkozás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#introduction-synopsis>1.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#nutshell>1.2. Üdvözöljük a FreeBSD-ben!</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#history>1.3. A FreeBSD Projektrõl</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/install/>2. Fejezet - A FreeBSD telepítése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-synopsis>2.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-hardware>2.2. Hardverkövetelmények</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-pre>2.3. A telepítés elõtt elvégzendõ feladatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-start>2.4. A telepítés megkezdése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#using-sysinstall>2.5. A sysinstall bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-steps>2.6. Lemezterület lefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-choosing>2.7. A telepítendõ összetevõk kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-media>2.8. A telepítés eszközének kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-final-warning>2.9. A telepítés véglegesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-post>2.10. A telepítés után</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-trouble>2.11. Hibakeresés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-advanced>2.12. Telepítési útmutató haladóknak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-diff-media>2.13. Saját telepítõeszköz elkészítése</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/basics/>3. Fejezet - A UNIX alapjai</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-synopsis>3.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#consoles>3.2. Virtuális konzolok és terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#permissions>3.3. Engedélyek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#dirstructure>3.4. A könyvtárak elrendezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#disk-organization>3.5. A lemezek szervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#mount-unmount>3.6. Állományrendszerek csatlakoztatása és leválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-processes>3.7. Folyamatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-daemons>3.8. Démonok, jelzések és a futó programok leállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#shells>3.9. Parancsértelmezõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#editors>3.10. Szövegszerkesztõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-devices>3.11. Eszközök és eszközleírók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#binary-formats>3.12. Bináris formátumok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-more-information>3.13. Bõvebben olvashatunk…​</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ports/>4. Fejezet - Alkalmazások telepítése: csomagok és portok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-synopsis>4.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-overview>4.2. Az alkalmazások telepítésének összefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-finding-applications>4.3. A számunkra szükséges alkalmazások felkutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#packages-using>4.4. A csomagrendszer használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-using>4.5. A Portgyûjtemény használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-nextsteps>4.6. Telepítés utáni teendõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-broken>4.7. Teendõ a sérült portokkal</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/x11/>5. Fejezet - Az X Window System</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-synopsis>5.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-understanding>5.2. Az X áttekintése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-install>5.3. Az X11 telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-config>5.4. Az X11 beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-fonts>5.5. Betûtípusok használata az X11-ben</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-xdm>5.6. Az X bejelentkeztetõ képernyõje</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-wm>5.7. Munkakörnyezetek</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partii/>II. Rész Gyakori feladatok</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/desktop/>6. Fejezet - Asztali alkalmazások</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-synopsis>6.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-browsers>6.2. Böngészõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-productivity>6.3. Irodai eszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-viewers>6.4. Dokumentum-megjelenítõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-finance>6.5. Pénzügyi szoftverek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-summary>6.6. Összefoglalás</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/>7. Fejezet - Multimédia</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#multimedia-synopsis>7.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-setup>7.2. A hangkártya beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-mp3>7.3. MP3</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#video-playback>7.4. Videók lejátszása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#tvcard>7.5. TV kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#scanners>7.6. Lapolvasók</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/>8. Fejezet - A FreeBSD rendszermag testreszabása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. Miért készítsünk saját rendszermagot?</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-devices>8.3. A rendszerünkben levõ hardverek összeszedése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-modules>8.4. Meghajtók, alrendszerek és modulok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-building>8.5. Saját rendszermag készítése és telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-config>8.6. A konfigurációs állomány</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-trouble>8.7. Ha valamilyen hiba történne</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/printing/>9. Fejezet - Nyomtatás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-synopsis>9.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-spooler>9.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-setup>9.3. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-advanced>9.4. Magasszintû nyomtatóbeállítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-using>9.5. A nyomtatók használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-lpd-alternatives>9.6. Más nyomtatási rendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-troubleshooting>9.7. Hibakeresés</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/>10. fejezet - Bináris Linux kompatibilitás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Telepítés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-mathematica>10.3. A Mathematica® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-maple>10.4. A Maple™ telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-matlab>10.5. A MATLAB® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-oracle>10.6. Az Oracle® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#sapr3>10.7. Az SAP® R/3® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-advanced>10.8. Témák haladóknak</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiii/>III. Rész Rendszeradminisztráció</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/config/>11. Fejezet - Beállítás és finomhangolás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-synopsis>11.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-initial>11.2. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-core-configuration>11.3. A mag beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-appconfig>11.4. Az alkalmazások beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-starting-services>11.5. Szolgáltatások indítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-cron>11.6. A <code>cron</code> segédprogram beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-rcd>11.7. Az rc használata FreeBSD alatt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-network-setup>11.8. A hálózati kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-virtual-hosts>11.9. Virtuális címek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-configfiles>11.10. Konfigurációs állományok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-sysctl>11.11. Finomhangolás a sysctl használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-disk>11.12. A lemezek finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-kernel-limits>11.13. A rendszermag korlátainak finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#adding-swap-space>11.14. A lapozóterület bõvítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#acpi-overview>11.15. Energia- és erõforrásgazdálkodás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#ACPI-debug>11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/boot/>12. Fejezet - A FreeBSD rendszerindítási folyamata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-synopsis>12.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-introduction>12.2. A rendszerindítás problémája</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-blocks>12.3. A boot manager és az indulás fokozatai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-kernel>12.4. Kapcsolat a rendszermaggal a rendszerindítás folyamán</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#device-hints>12.5. Eszköz útmutatók (device.hints)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-init>12.6. Init: A folyamatirányítás elindítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-shutdown>12.7. A leállítási folyamat</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/users/>13. Fejezet - Felhasználók és hozzáférések alapvető kezelése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-synopsis>13.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-introduction>13.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-superuser>13.3. Az adminisztrátori hozzáférés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-system>13.4. Rendszerhozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-user>13.5. Felhasználói hozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-modifying>13.6. A hozzáférések módosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-limiting>13.7. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-groups>13.8. Csoportok</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/security/>14. Fejezet - Biztonság</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-synopsis>14.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-intro>14.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#securing-freebsd>14.3. A FreeBSD védelme</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#crypt>14.4. DES, Blowfish, MD5 és a Crypt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#one-time-passwords>14.5. Egyszeri jelszavak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#tcpwrappers>14.6. A TCP kapcsolatok burkolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberosIV>14.7. KerberosIV</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberos5>14.8. Kerberos5</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssl>14.9. OpenSSL</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#ipsec>14.10. VPN IPsec felett</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssh>14.11. OpenSSH</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#fs-acl>14.12. Az állományrendszerek hozzáféréseit vezérlõ listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-portaudit>14.13. A külsõ programok biztonsági problémáinak figyelése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-advisories>14.14. A FreeBSD biztonsági figyelmeztetései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-accounting>14.15. A futó programok nyilvántartása</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/jails/>15. Fejezet - A jail alrendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-synopsis>15.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-terms>15.2. A jail alrendszerhez kapcsolódó fogalmak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-intro>15.3. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-build>15.4. A jailek létrehozása és vezérlése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-tuning>15.5. Finomhangolás és karbantartás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-application>15.6. A jailek alkalmazása</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mac/>16. Fejezet - Kötelező hozzáférés-vezérlés (MAC)</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-synopsis>16.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-inline-glossary>16.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-initial>16.3. A MAC ismertetése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-understandlabel>16.4. Bõvebben a MAC címkéirõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-planning>16.5. A védelem megtervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-modules>16.6. A modulok beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-seeotheruids>16.7. A seeotheruids MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-bsdextended>16.8. A bsdextended MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-ifoff>16.9. Az ifoff MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-portacl>16.10. A portacl MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-partition>16.11. A partition MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-mls>16.12. A többszintû biztonsági MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-biba>16.13. A Biba MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-lomac>16.14. A LOMAC MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-implementing>16.15. A Nagios elzárása a MAC rendszerrel</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-userlocked>16.16. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-troubleshoot>16.17. A hibák elhárítása a MAC rendszerben</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/audit/>17. Fejezet - Biztonsági események vizsgálata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-synopsis>17.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-inline-glossary>17.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-install>17.3. A vizsgálat támogatásának telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-config>17.4. A vizsgálat beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-administration>17.5. A vizsgálati alrendszer használata</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle checked>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/disks/>18. Fejezet - Háttértárak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-synopsis>18.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-naming>18.2. Az eszközök elnevezései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-adding>18.3. Lemezek hozzáadása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#raid>18.4. RAID</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#usb-disks>18.5. USB tárolóeszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-cds>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-dvds>18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#floppies>18.8. Hajlékonylemezek létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-tapebackups>18.9. Szalagok létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-floppybackups>18.10. Biztonsági mentés hajlékonylemezekre</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-strategies>18.11. Mentési stratégiák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-basics>18.12. Alapvetõ tudnivalók a biztonsági mentésrõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-virtual>18.13. Hálózat, memória és állomány alapú állományrendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#snapshots>18.14. Az állományrendszerek pillanatképei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#quotas>18.15. Az állományrendszerek kvótái</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-encrypting>18.16. A lemezpartíciók titkosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#swap-encrypting>18.17. A lapozóterület titkosítása</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/geom/>19. Fejezet - GEOM: A moduláris lemezszervező rendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-synopsis>19.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-intro>19.2. A GEOM bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-striping>19.3. RAID0 - Csíkozás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-mirror>19.4. RAID1 - Tükrözés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-ggate>19.5. Eszközök hálózati illesztése a GEOM-ban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-glabel>19.6. A lemezes eszközök címkézése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-gjournal>19.7. Naplózó UFS GEOM-on keresztül</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/>20. Fejezet - Támogatott állományrendszerek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-synopsis>20.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-zfs>20.2. A Z állományrendszer (ZFS)</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/vinum/>21. Fejezet - A Vinum kötetkezelő</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-synopsis>21.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-intro>21.2. Kicsik a lemezeink</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-access-bottlenecks>21.3. A hozzáférési idõk szûk keresztmetszetei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-data-integrity>21.4. Adatintegritás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-objects>21.5. A Vinum objektumai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-examples>21.6. Példák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-object-naming>21.7. Az objektumok elnevezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-config>21.8. A Vinum beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-root>21.9. Rendszerindítás Vinum-kötetrõl</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/>22. Fejezet - Virtualizáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-synopsis>22.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-guest>22.2. A FreeBSD mint vendég</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-host>22.3. A FreeBSD mint gazda</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/l10n/>23. Fejezet - Honosítás - Az I18N/L10N használata és beállítása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-synopsis>23.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-basics>23.2. Az alapok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#using-localization>23.3. A honosítás használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-compiling>23.4. I18N programok fordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#lang-setup>23.5. A FreeBSD honosítása adott nyelvekre</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/>24. Fejezet - A FreeBSD frissítése és frissen tartása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-synopsis>24.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>24.2. A FreeBSD frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-portsnap>24.3. A Portgyûjtemény frissítése a Portsnap használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-documentation>24.4. A dokumentáció frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#current-stable>24.5. A fejlesztõi ág követése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#synching>24.6. A forrás szinkronizálása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#makeworld>24.7. Az alaprendszer újrafordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#small-lan>24.8. A források követése több géppel</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/>25. Fejezet - DTrace</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-synopsis>25.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-implementation>25.2. Eltérések az implementációban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-enable>25.3. A DTrace támogatásának engedélyezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-using>25.4. A DTrace használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-language>25.5. A D nyelv</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiv/>IV. Rész Hálózati kommunikáció</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/>26. Fejezet - Soros vonali kommunikáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial-synopsis>26.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial>26.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#term>26.3. Terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialup>26.4. Betárcsázós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialout>26.5. A betárcsázós szolgáltatások használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serialconsole-setup>26.6. A soros vonali konzol beállítása</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/>27. Fejezet - A PPP és a SLIP</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#userppp>27.2. A felhasználói PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp>27.3. A rendszerszintû PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.4. PPP kapcsolatok hibaelhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoe>27.5. A PPP használata Ethernet felett (PPPoE)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoa>27.6. PPP ATM felett (PPPoA)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#slip>27.7. A SLIP használata</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mail/>28. Fejezet - Elektronikus levelezés</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-synopsis>28.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-using>28.2. Az elektronikus levelezés használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#sendmail>28.3. A sendmail beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-changingmta>28.4. A levéltovábbító ügynök megváltoztatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-trouble>28.5. A hibák elhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-advanced>28.6. Komolyabb témák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-UUCP>28.7. SMTP és az UUCP</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#outgoing-only>28.8. Csak küldés beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-dialup>28.9. Levelezés betárcsázós kapcsolattal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-Auth>28.10. Az SMTP hitelesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-agents>28.11. Levelezõ kliensek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-fetchmail>28.12. A fetchmail használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-procmail>28.13. A procmail használata</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/>29. Fejezet - Hálózati szerverek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-servers-synopsis>29.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-inetd>29.2. Az inetd"szuperszerver"</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nfs>29.3. A hálózati állományrendszer (NFS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nis>29.4. Hálózati információs rendszer (NIS/YP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dhcp>29.5. A hálózat automatikus beállítása (DHCP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dns>29.6. Névfeloldás (DNS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-apache>29.7. Az Apache webszerver</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ftp>29.8. Állományok átvitele (FTP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-samba>29.9. Állomány- és nyomtatási szolgáltatások Microsoft® Windows® kliensek számára (Samba)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ntp>29.10. Az órák egyeztetése az NTP használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-syslogd>29.11. Távoli gépek naplózása <code>syslogd</code> használatával</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/>30. Fejezet - Tűzfalak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-intro>30.1. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-concepts>30.2. Röviden a tûzfalakról</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-apps>30.3. Tûzfalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-pf>30.4. Az OpenBSD csomagszûrõje (PF) és az ALTQ</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipf>30.5. Az IPFILTER (IPF) tûzfal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipfw>30.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/>31. Fejezet - Egyéb haladó hálózati témák</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-routing>31.2. Átjárók és az útválasztás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-wireless>31.3. Vezeték nélküli hálózatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bluetooth>31.4. Bluetooth</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bridging>31.5. Hálózati hidak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-aggregation>31.6. Linkek összefûzése és hibatûrése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-diskless>31.7. Lemez nélküli mûködés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-isdn>31.8. ISDN</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-natd>31.9. Hálózati címfordítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-plip>31.10. Párhuzamos vonali IP (PLIP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-ipv6>31.11. Az IPv6</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-atm>31.12. Az Aszinkron adatátviteli mód (ATM)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#carp>31.13. A Közös cím redundancia protokoll (CARP)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partv/>V. Rész Függelék</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/>A. Függelék - A FreeBSD beszerzése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-cdrom>A.1. CD és DVD kiadók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-ftp>A.2. FTP oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#anoncvs>A.3. Anonim CVS</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#ctm>A.4. A CTM használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvsup>A.5. A CVSup használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvs-tags>A.6. CVS címkék</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-afs>A.7. AFS oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-rsync>A.8. Rsync oldalak</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/>B. függelék - Irodalomjegyzék</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-freebsd>B.1. A FreeBSD-rõl szóló könyvek és folyóiratok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-userguides>B.2. Felhasználói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-adminguides>B.3. Rendszeradminisztrátori kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-programmers>B.4. Programozói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-osinternals>B.5. Az operációs rendszerek belsõ mûködésérõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-security>B.6. Biztonságról szóló írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-hardware>B.7. Hardverrel foglalkozó írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-history>B.8. UNIX® történelem</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-journals>B.9. Magazinok és folyóiratok</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/eresources/>C. Függelék - Források az interneten</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-mail>C.1. Levelezési listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-news>C.2. Usenet hírcsoportok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-web>C.3. Világhálós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-email>C.4. E-mail címek</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/>D. Függelék - PGP-kulcsok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Tisztségviselők</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>18. Fejezet - Háttértárak</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#disks-synopsis>18.1. Áttekintés</a></li><li><a href=#disks-naming>18.2. Az eszközök elnevezései</a></li><li><a href=#disks-adding>18.3. Lemezek hozzáadása</a></li><li><a href=#raid>18.4. RAID</a></li><li><a href=#usb-disks>18.5. USB tárolóeszközök</a></li><li><a href=#creating-cds>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata</a></li><li><a href=#creating-dvds>18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata</a></li><li><a href=#floppies>18.8. Hajlékonylemezek létrehozása és használata</a></li><li><a href=#backups-tapebackups>18.9. Szalagok létrehozása és használata</a></li><li><a href=#backups-floppybackups>18.10. Biztonsági mentés hajlékonylemezekre</a></li><li><a href=#backup-strategies>18.11. Mentési stratégiák</a></li><li><a href=#backup-basics>18.12. Alapvetõ tudnivalók a biztonsági mentésrõl</a></li><li><a href=#disks-virtual>18.13. Hálózat, memória és állomány alapú állományrendszerek</a></li><li><a href=#snapshots>18.14. Az állományrendszerek pillanatképei</a></li><li><a href=#quotas>18.15. Az állományrendszerek kvótái</a></li><li><a href=#disks-encrypting>18.16. A lemezpartíciók titkosítása</a></li><li><a href=#swap-encrypting>18.17. A lapozóterület titkosítása</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=disks-synopsis>18.1. Áttekintés<a class=anchor href=#disks-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>Ez a fejezet arról szól, hogy miként használjuk a lemezeinket a FreeBSD-vel. Itt többek közt szó esik a memória (alapú) lemezekrõl, a hálózaton keresztül csatlakoztatott meghajtókról, a szabványos SCSI/IDE tárolóeszközökrõl és az USB felületet használó eszközökrõl.</p></div><div class=paragraph><p>A fejezet elolvasása során megismerjük:</p></div><div class=ulist><ul><li><p>a FreeBSD által alkalmazott terminológiát, amivel a fizikai lemezeken elhelyezkedõ adatokat írja le (partíciók és slice-ok);</p></li><li><p>hogyan bõvítsük rendszerünket további merevlemezekkel;</p></li><li><p>hogyan állítsuk be a FreeBSD-t USB tárolóeszközök használatára;</p></li><li><p>hogyan állítsunk be virtuális állományrendszereket, például memórialemezeket;</p></li><li><p>hogyan használjuk a kvótákat a lemezterület használatának korlátozására;</p></li><li><p>hogyan védjüket meg lemezeinket titkosítással az illetéktelenektõl;</p></li><li><p>FreeBSD alatt hogyan készítsünk és írjuk CD-ket, DVD-ket;</p></li><li><p>a biztonsági mentések készítésének különbözõ lehetõségeit;</p></li><li><p>hogyan használjuk a FreeBSD alatt rendelkezésünkre álló, biztonsági mentést készítõ programokat;</p></li><li><p>hogyan mentsünk floppy lemezekre;</p></li><li><p>mik az állományrendszerek pillanatképei és hogyan kell ezeket hatékonyan használni.</p></li></ul></div><div class=paragraph><p>A fejezet elolvasásához ajánlott:</p></div><div class=ulist><ul><li><p>a FreeBSD rendszermag beállításának és telepítésének ismerete (<a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a>)</p></li></ul></div></div></div><div class=sect1><h2 id=disks-naming>18.2. Az eszközök elnevezései<a class=anchor href=#disks-naming></a></h2><div class=sectionbody><div class=paragraph><p>A most következõ listában felsoroljuk a FreeBSD által ismert fizikai tárolóeszközöket és a hozzájuk tartozó elnevezéseket.</p></div><table id=disk-naming-physical-table class="tableblock frame-none grid-all stretch"><caption class=title>Táblázat 1. A fizikai lemezek elnevezésének szabályai</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">A meghajtó típusa</th><th class="tableblock halign-left valign-top">A meghajtóeszköz neve</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>IDE merevlemezek</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>ad</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>IDE CD-meghajtók</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>acd</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>SCSI merevlemezek és USB tárolóeszközök</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>da</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>SCSI CD-meghajtók</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cd</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Különbözõ nem szabványos CD-meghajtók</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>mcd</code> (Mitsumi CD-ROM) és <code>scd</code> (Sony CD-ROM)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Floppy meghajtók</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>fd</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>SCSI szalagos meghajtók</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>sa</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>IDE szalagos meghajtók</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>ast</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Flash meghajtó</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>fla</code> (DiskOnChip® Flash eszköz)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RAID meghajtók</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>aacd</code> (Adaptec® AdvancedRAID), <code>mlxd</code> és <code>mlyd</code> (Mylex®), <code>amrd</code> (AMI MegaRAID®), <code>idad</code> (Compaq Smart RAID), <code>twed</code> (3ware® RAID).</p></td></tr></tbody></table></div></div><div class=sect1><h2 id=disks-adding>18.3. Lemezek hozzáadása<a class=anchor href=#disks-adding></a></h2><div class=sectionbody><div class=paragraph><p>Ebben a szakaszban arról lesz szó, hogy a jelenleg egyetlen meghajtót tartalmazó rendszerünket hogyan tudjuk bõvíteni egy új SCSI-lemez hozzáadásával. Ehhez elsõként kapcsoljuk ki a számítógépünket és szereljük be a helyére az új meghajtót a számítógép, a lemezvezérlõ és a meghajtó gyártójának utasításai alapján. Mivel ezt a mûveletet rengeteg módon lehet elvégezni, ezért ennek pontos részleteivel ez a leírás most nem foglalkozik.</p></div><div class=paragraph><p>Jelentkezzünk be <code>root</code> felhasználóként. Miután beszereltük a meghajtót, a <span class=filename>/var/run/dmesg.boot</span> állomány végignézésével bizonyosodjuk meg róla, hogy a rendszer valóban megtalálta a lemezt. A példánk szerint ez a meghajtó tehát a <span class=filename>da1</span> nevet fogja viselni, amelyet a <span class=filename>/1</span> könyvtárba akarunk csatlakoztatni (ha IDE-meghajtót telepítünk, akkor a hozzá tartozó eszköz neve <span class=filename>ad1</span> lesz).</p></div><div class=paragraph><p>Mivel a FreeBSD IBM PC kompatibilis számítógépeken fut, ezért nem szabad figyelmen kívül hagynunk a PC BIOS partícióit is. Ezek eltérnek a hagyományos BSD partícióktól. Egy PC-s lemeznek négy BIOS-os partícióbejegyzése lehet. Ha egy lemezt tényleg csak a FreeBSD-nek szánunk, akkor használhatjuk az ún. <em>dedikált</em> módot. Minden más esetben a FreeBSD-nek egy PC BIOS partícióban kell elhelyezkednie. A FreeBSD a PC BIOS partícióit <em>slice</em>-nak nevezi, ezzel különbözteti ezeket a hagyományos BSD partícióktól. Dedikált esetekben is használhatjuk, de elsõsorban akkor kap fontosabb szerepet, amikor a FreeBSD-nek más operációs rendszerekkel kell megosztani a helyet. Ezzel el tudjuk kerülni, hogy a más operációs rendszerekben megtalálható, nem FreeBSD alapú <code>fdisk</code> parancs megzavarodjon.</p></div><div class=paragraph><p>A slice-ok használatakor a meghajtó <span class=filename>/dev/da1s1e</span> néven kerül hozzáadásra. Így kell olvasni: egyes SCSI lemezes egység (második SCSI lemez), elsõ slice (elsõ PC BIOS partíció) és <span class=filename>e</span> BSD partíció. A dedikált esetben a meghajtó neve viszont egyszerûen csak <span class=filename>/dev/da1e</span>.</p></div><div class=paragraph><p>Mivel a <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> 32 bites egész számokat használ a szektorok számának tárolására, ezért lemezenként csak 2^32-1 szektort tud ábrázolni, ami az esetek többségében 2 TB méretû címezhetõ területet jelent. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=fdisk&amp;sektion=8&amp;format=html">fdisk(8)</a> formátuma szerint sem a kezdõszektor, sem a hossz nem lehet 2^32-1-nél több, amivel így a partíciókat 2 TB, a lemezeket pedig 4 TB méretûre korlátozza. A <a href="https://man.freebsd.org/cgi/man.cgi?query=sunlabel&amp;sektion=8&amp;format=html">sunlabel(8)</a> formátuma partíciónként 2^32-1 szektort enged meg és összesen 8 partíciót, amely ezáltal 16 TB terület lefedését teszi lehetõvé. Nagyobb lemezekhez <a href="https://man.freebsd.org/cgi/man.cgi?query=gpt&amp;sektion=8&amp;format=html">gpt(8)</a> partíciók használatosak.</p></div><div class=sect2><h3 id=_a_sysinstall8_használatával>18.3.1. A <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> használatával<a class=anchor href=#_a_sysinstall8_használatával></a></h3><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Közlekedés a sysinstall programban</p><div class=paragraph><p>A <code>sysinstall</code> könnyen használható menüinek segítségével az új lemezen pillanatok alatt létre tudunk hozni partíciókat és megcímkézni ezeket. Ehhez vagy <code>root</code> felhasználóként jelentkezzünk be a rendszerbe, vagy adjuk ki a <code>su</code> parancsot. A <code>sysinstall</code> parancs kiadása után lépjünk be a <code>Configure</code> (Beállítások) menübe. A <code>FreeBSD Configuration Menu</code> menüben ezután keressük meg és válasszuk ki az <code>Fdisk</code> menüpontot.</p></div></li><li><p>Az fdisk partíciószerkesztõ</p><div class=paragraph><p>Miután eljutottunk az fdisk alkalmazáshoz, az <kbd>A</kbd> lenyomásával felajánlhatjuk az egész lemezt a FreeBSD számára. Amikor elõkerül a kérdés, hogy "remain cooperative with any future possible operating systems" ("mûködõképes maradjon-e a késõbbiekben telepítendõ operációs rendszerekkel"), akkor válaszoljuk rá <code>YES</code>-szel (tehát igen). A <kbd>W</kbd> gomb lenyomásával írjuk a lemezre a most elvégzett változtatásokat. Ezután már a <kbd>Q</kbd> használatával ki is léphetünk az FDISK szerkesztõbõl. A következõ lépésben a "Master Boot Record"-ról fognak minket megkérdezni. Mivel most egy már mûködõ rendszert bõvítünk, ezért a válaszunk erre <code>None</code> lesz.</p></div></li><li><p>A lemezcímkék szerkesztése</p><div class=paragraph><p>Most lépjünk ki a sysinstall alkalmazásból és indítsuk el újra. Kövessük az iménti útmutatásokat, de ezúttal a <code>Label</code> menüpontot válasszuk ki. Ezzel a <code>Disk Label Editor</code>-ba vagyis a lemezcímkék szerkesztõjéhez jutunk. Itt fogjuk létrehozni a hagyományos BSD partíciókat. Egy lemezen nyolc ilyen partíció lehet, <code>a</code>-tól <code>h</code>-ig. Közülük néhány partíció címkéjét megkülönböztetjük. Az <code>a</code> partíció jelöli a rendszer indításához használt partíciót, a gyökérpartíciót (<span class=filename>/</span>). Tehát <code>a</code> partíció csak a rendszerlemezünkön szerepelhet (tehát ahonnan indul a rendszer). A <code>b</code> partíció a lapozáshoz használt partíciókat jelöli és több lemezen is szerepelhet. A <code>c</code> partíción keresztül lehet elérni az egészt lemezt dedikált módban vagy az egész FreeBSD slice-ot slice módban. A többi partíció tetszõlegesen felhasználható.</p></div><div class=paragraph><p>A sysinstall címkeszerkesztõje az <code>e</code> betûvel szereti megjelölni a sem nem rendszerindító, sem nem lapozó partíciókat. A címkeszerkesztõben egyetlen állományrendszert a <kbd>C</kbd> lenyomásával lehet készíteni. Amikor erre válaszul megkérdezi a típusát (FS (állományrendszer) vagy swap (lapozóterület) legyen), akkor válasszuk az <code>FS</code> beállítást és adjuk meg a csatlakozási pontját (például <span class=filename>/mnt</span>). Amikor a lemezt telepítés után (post-install) adjuk hozzá, akkor a sysinstall valójában nem hoz létre hozzá bejegyzéseket az <span class=filename>/etc/fstab</span> állományban, ezért a csatlakozási pont megadása nem is feltétlenül fontos.</p></div><div class=paragraph><p>Most már készen állunk arra, hogy rögzítsük az új címkét a lemezre és létrehozzunk vele egy állományrendszert. Ehhez nyomjuk le a <kbd>W</kbd> gombot. Ne foglalkozzunk vele, ha a sysinstall nem képes csatlakoztatni az új partíciót. Ha ezzel megvagyunk, akkor lépjünk ki a címkeszerkesztõbõl és a sysinstallból is.</p></div></li><li><p>Befejezés</p><div class=paragraph><p>Most már csak annyi teendõnk maradt, hogy felvegyük az <span class=filename>/etc/fstab</span> állományba az új lemezhez tartozó bejegyzést.</p></div></li></ol></div></div></div></div><div class=sect2><h3 id=_parancssoros_eszközök_használatával>18.3.2. Parancssoros eszközök használatával<a class=anchor href=#_parancssoros_eszközök_használatával></a></h3><div class=sect3><h4 id=_slice_módban>18.3.2.1. Slice módban<a class=anchor href=#_slice_módban></a></h4><div class=paragraph><p>Ezzel a beállítással a lemezünkre késõbb más operációs rendszereket is telepíthetünk, és nem okoz gondot a saját <code>fdisk</code> segédprogramjaik mûködésében. Az új lemezek telepítésénél ezt a módszer ajánlatos követni. A dedikált módot viszont csak abban az esetben használjuk, ha erre nyomós okunk van!</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=/dev/da1 bs=1k count=1</span>
<span class=c># fdisk -BI da1 # inicializáljuk az új lemezt</span>
<span class=c># bsdlabel -B -w da1s1 auto # címkézzük meg</span>
<span class=c># bsdlabel -e da1s1 # szerkeszzük át a frissen létrehozott címkét és vegyünk fel egy új partíciót</span>
<span class=c># mkdir -p /1</span>
<span class=c># newfs /dev/da1s1e # ismételjük meg minden létrehozott partícióhoz</span>
<span class=c># mount /dev/da1s1e /1 # csatlakoztassuk a partíció(ka)t</span>
<span class=c># vi /etc/fstab # vegyük fel a megfelelő bejegyzés(eke)t az /etc/fstab állományba</span></code></pre></div></div><div class=paragraph><p>IDE-lemezek esetén az<span class=filename>ad</span> eszközt a <span class=filename>da</span> eszközzel helyettesítsük.</p></div></div><div class=sect3><h4 id=_dedikált_módban>18.3.2.2. Dedikált módban<a class=anchor href=#_dedikált_módban></a></h4><div class=paragraph><p>Amennyiben az új meghajtót nem akarjuk megosztani egyetlen más operációs rendszerrel sem, használhatjuk a <code>dedicated</code> (dedikált) módot. Ne felejtsük el azonban, hogy ez képes összezavarni a Microsoft operációs rendszereit, habár ebbõl semmilyen kárunk nem fog származni. Az IBM OS/2® operációs rendszere azonban "kisajátít" minden olyan partíciót, amelyet nem tud olvasni.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=/dev/da1 bs=1k count=1</span>
<span class=c># bsdlabel -Bw da1 auto</span>
<span class=c># bsdlabel -e da1				# létrehozzuk az `e&#39; partíciót</span>
<span class=c># newfs /dev/da1e</span>
<span class=c># mkdir -p /1</span>
<span class=c># vi /etc/fstab				# felvesszük a /dev/da1e partíciót</span>
<span class=c># mount /1</span></code></pre></div></div><div class=paragraph><p>Egy másik megoldás:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=/dev/da1 count=2</span>
<span class=c># bsdlabel /dev/da1 | bsdlabel -BR da1 /dev/stdin</span>
<span class=c># newfs /dev/da1e</span>
<span class=c># mkdir -p /1</span>
<span class=c># vi /etc/fstab					# felvesszük a /dev/da1e partíciót</span>
<span class=c># mount /1</span></code></pre></div></div></div></div></div></div><div class=sect1><h2 id=raid>18.4. RAID<a class=anchor href=#raid></a></h2><div class=sectionbody><div class=sect2><h3 id=raid-soft>18.4.1. Szoftveres RAID<a class=anchor href=#raid-soft></a></h3><div class=sect3><h4 id=ccd>18.4.1.1. Összefûzött lemezek beállítása<a class=anchor href=#ccd></a></h4><div class=paragraph><p>A nagyobb méretû háttértárolók kiválasztásánál a legfontosabb tényezõk a sebesség, megbízhatóság és a költség. Nagyon ritkán lehet csak ezt a hármat egyensúlyba hozni: általában a gyors és megbízható tárolóeszközök sok pénzbe kerülnek, valamint a költségek megtakarításához vagy a sebességet vagy pedig a megbízhatóságot kell feláldoznunk.</p></div><div class=paragraph><p>A továbbiakban egy olyan rendszert mutatunk be, ahol a elsõsorban a költségek, majd csak ezután a sebesség és megbízhatóság kerültek elõtérben. A rendszer adatátviteli sebességét a hálózat korlátozza. Habár emellett a megbízhatóság is nagyon fontos, a tárgyalt összefûzött meghajtó (Concenated Disk, CCD) csak adatokat szolgáltat és a teljes tartalma bármikor visszaállítható, mivel rendelkezésre áll CD-n.</p></div><div class=paragraph><p>A feladat elvégzésére alkalmas háttértároló kiválasztásában elsõként a saját elvárásainkat kell tudnunk megfogalmazni. Ha nekünk jobban számít az árnál a sebesség vagy a megbízhatóság, akkor a mostaniaktól némileg eltérõ konfigurációt kell majd építenünk.</p></div><div class=sect4><h5 id=ccd-installhw>18.4.1.1.1. A hardver telepítése<a class=anchor href=#ccd-installhw></a></h5><div class=paragraph><p>A rendszert tartalmazó IDE-lemez mellett három darab, egyenként 30 GB-os 5400-as percenkénti fordulatszámú Western Digital gyártmányú merevlemez alkotja majd a létrehozni kívánt, kb. 90 GB összméretû összefûzött lemezt. Ideális esetben minden IDE-lemez saját külön vezérlõn és kábelen van, de a költségek csökkentése miatt nem használtunk további IDE-vezérlõket. Ehelyett inkább jumperekkel úgy állítottuk be a lemezeket, hogy minden vezérlõre egy mester (master) és egy szolga (slave) módú merevlemez kapcsolódjon.</p></div><div class=paragraph><p>A beszerelés után beállítottuk a rendszer BIOS-át, hogy automatikusan felismerje a csatlakoztatott lemezeket. De ami még fontosabb, hogy a FreeBSD is észlelte ezeket az indítás során:</p></div><div class="literalblock programlisting"><div class=content><pre>ad0: 19574MB &lt;WDC WD205BA&gt; [39770/16/63] at ata0-master UDMA33
ad1: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata0-slave UDMA33
ad2: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata1-master UDMA33
ad3: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata1-slave UDMA33</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha a FreeBSD nem látná az összes lemezt, akkor ellenõrizzük a jumperek helyes beállítását. Napjainkban a legtöbb IDE-meghajtón találunk egy "Cable Select" jumpert is. Ezzel <em>nem</em> a mester/szolga módot állítjuk be! A megfelelõ jumper beazonosításához olvassuk el a meghajtóhoz tartozó dokumentációt.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A következõ lépésben azt vesszük nagyító alá, hogyan lehet ezeket az állományrendszer részévé tenni. Ezzel kapcsolatban a <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a> (<a href=../vinum/#vinum-vinum>A Vinum kötetkezelő</a>) és a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> elolvasása ajánlatos. Erre a célra itt most a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> használatát választottuk.</p></div></div><div class=sect4><h5 id=ccd-setup>18.4.1.1.2. A CCD beállítása<a class=anchor href=#ccd-setup></a></h5><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> meghajtó segítségével több ugyanolyan lemezt tudunk összefûzni egyetlen logikai állományrendszerré. A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> használatához arra is szükségünk van, hogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> támogatása jelen legyen a rendszermagban. A következõ sor tegyük bele a rendszermag konfigurációs állományába, fordítsuk újra és telepítsük a rendszermagot:</p></div><div class="literalblock programlisting"><div class=content><pre>device   ccd</pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> támogatása modulként is betölthetõ.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> beállításához elõször a <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> programmal meg fel kell címkéznünk a lemezeket:</p></div><div class="literalblock programlisting"><div class=content><pre>bsdlabel -w ad1 auto
bsdlabel -w ad2 auto
bsdlabel -w ad3 auto</pre></div></div><div class=paragraph><p>Így létrejön egy-egy BSD típusú címke a <span class=filename>ad1c</span>, <span class=filename>ad2c</span> és <span class=filename>ad3c</span> eszközökre, amely így lefedi a lemez egész területét.</p></div><div class=paragraph><p>Most pedig változtassuk meg a lemezcímke típusát. Ehhez használjuk ismét a <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> programot:</p></div><div class="literalblock programlisting"><div class=content><pre>bsdlabel -e ad1
bsdlabel -e ad2
bsdlabel -e ad3</pre></div></div><div class=paragraph><p>Az <code>EDITOR</code> környezeti változóban megadott szövegszerkesztõvel (ez általában a <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a>) megnyílik minden egyes lemezhez a jelenlegi lemezcímke.</p></div><div class=paragraph><p>Egy módosítatlan lemezcímke valahogy így néz ki:</p></div><div class="literalblock programlisting"><div class=content><pre>8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  c: 60074784        0    unused        0     0     0   # (Cyl.    0 - 59597)</pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> számára hozzunk létre egy új <code>e</code> partíciót. Ezt lényegében a <code>c</code> partíció lemásolásával keletkezik, de nála az <code>fstype</code> (az állományrendszer típusa) oszlopban mindenképpen <code>4.2BSD</code> szerepeljen! A lemezcímke most már valahogy így fog kinézni:</p></div><div class="literalblock programlisting"><div class=content><pre>8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  c: 60074784        0    unused        0     0     0   # (Cyl.    0 - 59597)
  e: 60074784        0    4.2BSD        0     0     0   # (Cyl.    0 - 59597)</pre></div></div></div><div class=sect4><h5 id=ccd-buildingfs>18.4.1.1.3. Az állományrendszer kiépítése<a class=anchor href=#ccd-buildingfs></a></h5><div class=paragraph><p>Most, miután felcímkéztük az összes lemezünket, lássunk neki a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> kiépítésének. Ezt a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8&amp;format=html">ccdconfig(8)</a> meghívásával és az alábbihoz hasonló paraméterek átadásával tehetjük meg:</p></div><div class="literalblock programlisting"><div class=content><pre>ccdconfig ccd0 32 0 /dev/ad1e /dev/ad2e /dev/ad3e</pre></div></div><div class=paragraph><p>A paraméterek rövid leírása és használata:
* Az elsõ paraméter a létrehozandó eszköz, ami jelen esetünkben a <span class=filename>/dev/ccd0c</span>. A <span class=filename>/dev/</span> részt nem kötelezõ megadni.
* A kihagyás nagysága az állományrendszerben. A kihagyás határozza meg a lemezblokkban alkalmazott csíkozás (striping) vastagságát, ami általában 512 byte. Ennek megfelelõen a 32-es kihagyás 16 384 byte-os csíkokat ad meg.
* A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8&amp;format=html">ccdconfig(8)</a> beállításai. Ha engedélyezni akarjuk a lemezek tükrözését, akkor itt megadhatjuk. Mivel ez a konfiguráció most nem nyújt tükrözést a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> számára, ezért állítsuk nullára (0).
* A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8&amp;format=html">ccdconfig(8)</a> parancsnak utolsóként azokat az eszközöket kell felsorolni, amelyeket tömbbe akarunk fûzni. Minden eszközt teljes elérési úttal adjuk meg.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccdconfig&amp;sektion=8&amp;format=html">ccdconfig(8)</a> futtatása után a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> beállítódik. Most már állományrendszert is rakhatunk rá. A <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> man oldalról szedjük össze a szükséges paraméterezést, vagy egyszerûen csak gépeljünk be ennyit:</p></div><div class="literalblock programlisting"><div class=content><pre>newfs /dev/ccd0c</pre></div></div></div><div class=sect4><h5 id=ccd-auto>18.4.1.1.4. Az egész önmûködõvé tétele<a class=anchor href=#ccd-auto></a></h5><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> eszközt általában minden egyes indítás után használni akarjuk. Ennek eléréséhez elõször ezt be kell állítanunk. Az alábbi parancs kiadásával írassuk be a jelenlegi beállítasainkat tükrözõ <span class=filename>/etc/ccd.conf</span> állományt:</p></div><div class="literalblock programlisting"><div class=content><pre>ccdconfig -g &gt; /etc/ccd.conf</pre></div></div><div class=paragraph><p>Az újraindítás során az <code>/etc/rc</code> parancs futtatja le a <code>ccdconfig -C</code> parancsot, ha az <span class=filename>/etc/ccd.conf</span> állomány létezik. Ez automatikusan beállítja a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> eszközöket, így ilyenkor tudjuk csatlakoztatni is ezeket.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha egyfelhasználós módban indítjuk a rendszert, mielõtt még a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> paranccsal csatlakoztatni tudnánk a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> eszközt, a tömb beállításához meg kell hívnunk a következõ parancsot:</p></div><div class="literalblock programlisting"><div class=content><pre>ccdconfig -C</pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Ha a rendszerindításkor automatikusan csatlakoztatni akarjuk a <a href="https://man.freebsd.org/cgi/man.cgi?query=ccd&amp;sektion=4&amp;format=html">ccd(4)</a> eszközt, akkor az <span class=filename>/etc/fstab</span> állományba helyezzünk el egy hozzá tartozó bejegyzést:</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/ccd0c              /media       ufs     rw      2       2</pre></div></div></div></div><div class=sect3><h4 id=vinum>18.4.1.2. A Vinum kötetkezelõ<a class=anchor href=#vinum></a></h4><div class=paragraph><p>A Vinum kötetkezelõ egy blokkos eszközmeghajtó, ami virtuális lemezes meghajtókat valósít meg. Elkülöníti a lemezes hardvereszközöket a blokkos eszközmeghajtók felületétõl és a kettõ között úgy képezi le az adatokat, hogy a hagyományos lemezes tárolással szemben megnövekedett rugalmasságot, teljesítményt és megbízhatóságot kapunk. A <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a> ismeri a RAID-0, RAID-1 és RAID-5 modelleket egyaránt, melyeket önmagukban és együttesen kombinálva is használhatunk.</p></div><div class=paragraph><p>A <a href=../vinum/#vinum-vinum>A Vinum kötetkezelő</a> bõvebben ismerteti a <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a> rendszerét.</p></div></div></div><div class=sect2><h3 id=raid-hard>18.4.2. Hardveres RAID<a class=anchor href=#raid-hard></a></h3><div class=paragraph><p>A FreeBSD rengeteg különbözõ típusú hardveres RAID-vezérlõt ismer. Ezek az eszközök a FreeBSD külön erre a célra szánt támogatása nélkül képesek vezérelni a RAID-alrendszert.</p></div><div class=paragraph><p>A rajta levõ BIOS segítségével a kártya a legtöbb lemezmûveletet egyedül kezeli. A következõkben egy Promise IDERAID vezérlõt alkalmazó rendszert fogunk beállítani. Miután telepítettük a kártyát és indítjuk a rendszert, bekéri a szükséges információkat. Kövessük az utasításokat és lépjünk be a kártya beállító képernyõjére. Itt tudjuk kombinálni az összes csatlakoztatott meghajtónkat. Amikor ezzel a végeztünk, a lemezek egyetlen lemezként fognak a FreeBSD számára viselkedni. A többi RAID-szint is ehhez hasonlóan állítható be.</p></div></div><div class=sect2><h3 id=_az_ata_raid_1_tömbök_újraszervezése>18.4.3. Az ATA RAID-1 tömbök újraszervezése<a class=anchor href=#_az_ata_raid_1_tömbök_újraszervezése></a></h3><div class=paragraph><p>A FreeBSD lehetõséget a tömbben levõ meghibásodott eszközök menet közben elvégezhetõ cseréjére. Ehhez arra van szükségünk, hogy még újraindítás elõtt elcsípjük a hibát.</p></div><div class=paragraph><p>Hiba esetén valami hasonlót fogunk látni a <span class=filename>/var/log/messages</span> állományban vagy a <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> kimenetében:</p></div><div class="literalblock programlisting"><div class=content><pre>ad6 on monster1 suffered a hard error.
ad6: READ command timeout tag=0 serv=0 - resetting
ad6: trying fallback to PIO mode
ata3: resetting devices .. done
ad6: hard error reading fsbn 1116119 of 0-7 (ad6 bn 1116119; cn 1107 tn 4 sn 11)\\
status=59 error=40
ar0: WARNING - mirror lost</pre></div></div><div class=paragraph><p>További információkat az <a href="https://man.freebsd.org/cgi/man.cgi?query=atacontrol&amp;sektion=8&amp;format=html">atacontrol(8)</a> programtól szerezhetünk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># atacontrol list</span>
ATA channel 0:
	Master:      no device present
	Slave:   acd0 &lt;HL-DT-ST CD-ROM GCR-8520B/1.00&gt; ATA/ATAPI rev 0

ATA channel 1:
	Master:      no device present
	Slave:       no device present

ATA channel 2:
	Master:  ad4 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
	Slave:       no device present

ATA channel 3:
	Master:  ad6 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
	Slave:       no device present

<span class=c># atacontrol status ar0</span>
ar0: ATA RAID1 subdisks: ad4 ad6 status: DEGRADED</code></pre></div></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>A lemez biztonságos eltávolításához elõször válasszuk le (detach) a meghibásodott lemezhez tartozó csatornát:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># atacontrol detach ata3</span></code></pre></div></div></li><li><p>Cseréljük ki a lemezt.</p></li><li><p>Csatlakoztassuk újra (attach) az ATA csatornát:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># atacontrol attach ata3</span>
Master:  ad6 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
Slave:   no device present</code></pre></div></div></li><li><p>Tartalékként (spare) adjuk hozzá az új lemezt a tömbhöz:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># atacontrol addspare ar0 ad6</span></code></pre></div></div></li><li><p>Szervezzük újra (rebuild) a tömböt:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># atacontrol rebuild ar0</span></code></pre></div></div></li><li><p>A folyamat elõrehaladását a következõ parancs begépelésével tudjuk figyelni:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dmesg | tail -10</span>
<span class=o>[</span>a kimenet többi része]
ad6: removed from configuration
ad6: deleted from ar0 disk1
ad6: inserted into ar0 disk1 as spare

<span class=c># atacontrol status ar0</span>
ar0: ATA RAID1 subdisks: ad4 ad6 status: REBUILDING 0% completed</code></pre></div></div></li><li><p>Várjunk a mûvelet befejezõdéséig.</p></li></ol></div></div></div></div></div></div><div class=sect1><h2 id=usb-disks>18.5. USB tárolóeszközök<a class=anchor href=#usb-disks></a></h2><div class=sectionbody><div class=paragraph><p>Manapság már számos külsõ tárolóeszköz az USB (Universal Serial Bus) közvetítésével csatlakozik a számítógéphez: merevlemezek, pen drive-ok, CD-írók stb. A FreeBSD ezeket az eszközöket is ismeri.</p></div><div class=sect2><h3 id=_beállítás>18.5.1. Beállítás<a class=anchor href=#_beállítás></a></h3><div class=paragraph><p>A USB tárolóeszközöket kezelõ meghajtó, az <a href="https://man.freebsd.org/cgi/man.cgi?query=umass&amp;sektion=4&amp;format=html">umass(4)</a> felelõs az USB alapú tárolóeszközök támogatásáért. Ha a <span class=filename>GENERIC</span> rendszermagot használjuk, akkor semmit sem kell változtatnunk. Ha saját rendszermagunk van, akkor gondoskodjunk róla, hogy a következõ sorokat beraktuk a rendszermag beállításait tartalmazó állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>device scbus
device da
device pass
device uhci
device ehci
device usb
device umass</pre></div></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=umass&amp;sektion=4&amp;format=html">umass(4)</a> meghajtó a SCSI alrendszeren keresztül éri el az USB tárolóeszközöket, tehát az USB eszközeinket a rendszer SCSI eszközként látja. Az alaplapon található USB chipkészlet típusától függõen vagy csak a <code>device uhci</code>, vagy USB 1.<em>X</em> esetén pedig a <code>device ohci</code> bejegyzésre lesz szükségünk. De abból sem származik kárunk, ha mind a kettõt meghagyjuk. Az USB 2.0 szabványú vezérlõket a <a href="https://man.freebsd.org/cgi/man.cgi?query=ehci&amp;sektion=4&amp;format=html">ehci(4)</a> meghajtó (<code>device ehci</code>) támogatja. Ha módosítani kellett a konfigurációs állományt, akkor ne felejtsük el újrafordítani és telepíteni sem a rendszermagot.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha az USB eszközünk egy CD- vagy DVD-író, akkor a következõ sorral a SCSI CD-meghajtók meghajtóját, a <a href="https://man.freebsd.org/cgi/man.cgi?query=cd&amp;sektion=4&amp;format=html">cd(4)</a> eszközt kell beépítenünk a rendszermagba:</p></div><div class="literalblock programlisting"><div class=content><pre>device cd</pre></div></div><div class=paragraph><p>Mivel az író is SCSI eszközként látszik, ezért az <a href="https://man.freebsd.org/cgi/man.cgi?query=atapicam&amp;sektion=4&amp;format=html">atapicam(4)</a> nem szerepelhet a rendszermag beállításai között.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_a_beállítások_kipróbálása>18.5.2. A beállítások kipróbálása<a class=anchor href=#_a_beállítások_kipróbálása></a></h3><div class=paragraph><p>A beállításaink készen állnak a kipróbálásra: csatlakoztassuk a számítógéphez az USB eszközünket és a rendszerüzeneteket tároló pufferben (<a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a>) hamarosan meg is jelenik a hozzá tartozó meghajtó:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>umass0: USB Solid state disk, rev 1.10/1.00, addr 2
GEOM: create disk da0 <span class=nv>dp</span><span class=o>=</span>0xc2d74850
da0 at umass-sim0 bus 0 target 0 lun 0
da0: &lt;Generic Traveling Disk 1.11&gt; Removable Direct Access SCSI-2 device
da0: 1.000MB/s transfers
da0: 126MB <span class=o>(</span>258048 512 byte sectors: 64H 32S/T 126C<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Természetesen a gyártóra, márkára, az eszköz leírójára (<span class=filename>da0</span>) és egyebekre vonatkozó részletek eltérhetnek.</p></div><div class=paragraph><p>Mivel az USB eszköz SCSI eszközként látszik, ezért a <code>camcontrol</code> parancs használható a rendszerhez csatlakoztatott USB tárolóeszközök listázásához:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># camcontrol devlist</span>
&lt;Generic Traveling Disk 1.11&gt;      at scbus0 target 0 lun 0 <span class=o>(</span>da0,pass0<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Ha a meghajtón állományrendszer is található, akkor képesek vagyunk csatlakoztatni. A <a href=#disks-adding>Lemezek hozzáadása</a> elolvasása segíthet az USB meghajtón partíciókat kialakítani és formázni, amennyiben szükséges.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>A rendszer biztonsága szempontjából nem tekinthetõ megbízhatónak, ha olyan felhasználók számára is engedélyezzük tetszõleges meghajtók csatlakoztatását (például a <code>vfs.usermount</code> engedelyézesével), amelyekben nem bízunk meg. A FreeBSD által támogatott állományrendszerek döntõ többsége nem nyújt védelmet a káros szándékkal telepített eszközök ellen.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ha az eszközt normál felhasználókkal is csatlakoztathatóvá akarjuk tenni, akkor további lépések megtételére is szükségünk lesz. Elõször is a felhasználóknak valahogy el kell tudniuk érniük az USB tárolóeszköz csatlakoztatásakor keletkezõ eszközöket. Ezt úgy tudjuk megoldani, ha az érintett felhasználókat felvesszük az <code>operator</code> csoportba. Ebben a <a href="https://man.freebsd.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;format=html">pw(8)</a> lehet a segítségünkre. Másodsorban amikor ezek az eszközök létrejönnek, az <code>operator</code> csoportnak tudniuk kell ezeket olvasniuk és írniuk. Ezt úgy tudjuk megvalósítani, ha felvesszük a következõ sorokat az <span class=filename>/etc/devfs.rules</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>[localrules=5]
add path &#39;da*&#39; mode 0660 group operator</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha viszont vannak SCSI lemezeink is rendszerben, akkor a helyzet egy kicsit megváltozik. Tehát például a rendszerben már eleve vannak <span class=filename>da0</span>, <span class=filename>da1</span> és <span class=filename>da2</span> néven lemezek, akkor a második sort ennek megfelelõen változtassuk meg:</p></div><div class="literalblock programlisting"><div class=content><pre>add path &#39;da[3-9]*&#39; mode 0660 group operator</pre></div></div><div class=paragraph><p>Ezzel kizárunk minden, korábban már létezõ lemezt az <code>operator</code> csoportból.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Emellett még az <span class=filename>/etc/rc.conf</span> állományban engedélyeznünk kell a saját <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs.rules&amp;sektion=5&amp;format=html">devfs.rules(5)</a> szabályrendszerünket is:</p></div><div class="literalblock programlisting"><div class=content><pre>devfs_system_ruleset=&#34;usb_rules&#34;</pre></div></div><div class=paragraph><p>Ezt követõen be kell állítanunk a rendszermagban, hogy a hagyományos felhasználók képesek legyenek állományrendszereket csatlakoztatni. Ezt a legkönnyebb úgy tudjuk megtenni, ha az <span class=filename>/etc/sysctl.conf</span> állományba felvesszük a következõ sort:</p></div><div class="literalblock programlisting"><div class=content><pre>vfs.usermount=1</pre></div></div><div class=paragraph><p>Azonban ne felejtsük el, hogy ez csak a rendszer következõ indításától él. De a <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> parancs használatával is beállíthatjuk ezt az értéket.</p></div><div class=paragraph><p>Az utolsó lépésben hozzunk létre egy könyvtárat az állományrendszer csatlakoztatásához. Ezt a könyvtárat az a felhasználó fogja birtokolni, aki az állományrendszert csatlakoztatnia akarja. Ez például <code>root</code> felhasználóként úgy tudjuk megtenni, ha a felhasználónak létrehozunk egy könyvtárat <span class=filename>/mnt/felhasználó</span> néven (ahol a <em>felhasználó</em> nevet cseréljük a tényleges felhasználó nevére, a <em>csoport</em> nevet pedig a felhasználóhoz tartozó elsõdleges csoport nevére):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /mnt/felhasználó</span>
<span class=c># chown felhasználó:csoport /mnt/felhasználó</span></code></pre></div></div><div class=paragraph><p>Most tegyük fel, hogy csatlakoztatnuk egy USB pen drive-ot és ennek megfelelõen megjelenik a <span class=filename>/dev/da0s1</span> eszköz. Mivel az ilyen eszközökre általában gyárilag FAT állományrendszert tesznek, ezért így kell ezeket csatlakoztatni a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> paranccsal:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mount <span class=nt>-t</span> msdosfs <span class=nt>-o</span> <span class=nt>-m</span><span class=o>=</span>644,-M<span class=o>=</span>755 /dev/da0s1 /mnt/felhasználó</code></pre></div></div><div class=paragraph><p>Ha leválasztjuk az eszközt (miután kiadtuk a <a href="https://man.freebsd.org/cgi/man.cgi?query=umount&amp;sektion=8&amp;format=html">umount(8)</a> parancsot), akkor a rendszerüzenetek között valami ilyesmit fogunk látni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>umass0: at uhub0 port 1 <span class=o>(</span>addr 2<span class=o>)</span> disconnected
<span class=o>(</span>da0:umass-sim0:0:0:0<span class=o>)</span>: lost device
<span class=o>(</span>da0:umass-sim0:0:0:0<span class=o>)</span>: removing device entry
GEOM: destroy disk da0 <span class=nv>dp</span><span class=o>=</span>0xc2d74850
umass0: detached</code></pre></div></div></div><div class=sect2><h3 id=_a_témáról_bõvebben>18.5.3. A témáról bõvebben<a class=anchor href=#_a_témáról_bõvebben></a></h3><div class=paragraph><p>A <a href=#disks-adding>Lemezek hozzáadása</a> és az <a href=../basics/#mount-unmount>Állományrendszerek csatlakoztatása és leválasztása</a> címû szakaszok elolvasása mellett a következõ man oldalakat is ajánljuk: <a href="https://man.freebsd.org/cgi/man.cgi?query=umass&amp;sektion=4&amp;format=html">umass(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=camcontrol&amp;sektion=8&amp;format=html">camcontrol(8)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=usbconfig&amp;sektion=8&amp;format=html">usbconfig(8)</a> FreeBSD 8.<em>X</em> esetében, vagy <a href="https://man.freebsd.org/cgi/man.cgi?query=usbdevs&amp;sektion=8&amp;format=html">usbdevs(8)</a> a FreeBSD korábbi változatainál.</p></div></div></div></div><div class=sect1><h2 id=creating-cds>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata<a class=anchor href=#creating-cds></a></h2><div class=sectionbody><div class=sect2><h3 id=_bevezetés>18.6.1. Bevezetés<a class=anchor href=#_bevezetés></a></h3><div class=paragraph><p>A CD-k számos lehetõségünkben eltérnek a hagyományos lemezektõl. Kezdetben a felhasználók nem is voltak képesek írni ezeket. Olyannak tervezték, hogy a fejek sávok közti mozgásából fakadó késleltetés nélkül lehessen folyamatosan olvasni. A szállítása a maga idejében sokkal könnyebb volt minden vele egyforma méretû eszköznél.</p></div><div class=paragraph><p>A CD-ken is találhatunk sávokat, azonban ez csak a folyamatosan olvasható adat egy szakaszát jelenti, nem pedig a lemez fizikai tulajdonságát. Ha FreeBSD-n akarunk CD-t készíteni, akkor ehhez elõször össze kell állítanunk a CD egyes sávjaira kerülõ adatokat és ezután rögzíteni ezeket a sávokat a CD-n.</p></div><div class=paragraph><p>Az ISO 9660 állományrendszert úgy tervezték, hogy megbirkózzon ezekkel az eltérésekkel. Sajnos ezzel együtt kõbe vésték az állományrendszerek akkoriban érvényes korlátozásait is. Szerencsére lehetõséget ad bõvítésre, ezáltal a helyesen megírt CD-k képesek úgy átlépni ezeket a határokat, hogy közben az általuk alkalmazott kiterjesztéseket nem ismerõ rendszerekkel is együtt tudnak mûködni.</p></div><div class=paragraph><p>A <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a> port tartalmaz egy <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> nevû programot, amellyel létre tudunk hozni ISO 9660 típusú állományrendszert tartalmazó adatállományt. Többféle kiterjesztést is ismer, amit majd a lentebb ismertett opciókkal érhetünk el.</p></div><div class=paragraph><p>A CD írásához használt konkrét segédeszköz attól függ, hogy ATAPI vagy esetleg másmilyen írónk van. Az ATAPI CD-írók az alaprendszer részeként elérhetõ <code>burncd</code> programon keresztül használhatóak. A SCSI és USB CD-írók esetén pedig a <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a> portban megtalálható <code>cdrecord</code> programot használhatjuk. Az <a href=#atapicam>ATAPI/CAM modul</a> segítségével a <code>cdrecord</code> és más SCSI-írókra készült programokat is tudunk használni ATAPI hardvereken.</p></div><div class=paragraph><p>Ha a CD-író szoftverünket grafikus felhasználói felületen keresztül szeretnénk használni, akkor az X-CD-Roast vagy a K3b alkalmazásokat érdemes szemügyre vennünk. Ezek az eszközök elérhetõek csomagként vagy a <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/xcdroast/>sysutils/xcdroast</a> és <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/k3b/>sysutils/k3b</a> portokból. ATAPI hardver esetén az X-CD-Roast és a K3b alkalmazások használatához szükségünk lesz az <a href=#atapicam>ATAPI/CAM modul</a>ra.</p></div></div><div class=sect2><h3 id=mkisofs>18.6.2. mkisofs<a class=anchor href=#mkisofs></a></h3><div class=paragraph><p>A <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a> port részeként elérhetõ <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> program képes a UNIX® típusú állományrendszer könyvtárszerkezete alapján egy ISO 9660 típusú állományrendszert tartalmazó image-et készíteni. Legegyszerûbb módon így használhatjuk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkisofs -o image.iso /az/elérési/út</span></code></pre></div></div><div class=paragraph><p>Ezzel a paranccsal egy olyan <em>image.iso</em> nevû állományt hozunk létre, amely <em>/az/elérési/út</em> által megadott helyen található könyvtárszerkezetet mintázza ISO 9660 állományrendszer formájában. A folyamat során minden olyan állományt leképez szabványos ISO 9660 állományrendszerbeli névre, amely megfelel a szabvány elvárásainak, és kihagy minden olyan állományt, amely nem jellemzõ az ISO állományrendszerekre.</p></div><div class=paragraph><p>Számos opció lehet segítségünkre az ilyenkor felbukkanó akadályok leküzdésében. Ezek közül különösen fontos az <code>-R</code>, amely a UNIX® rendszerek számára megszokott Rock Ridge kiterjesztéseket, valamint a <code>-J</code>, amely a Microsoft rendszerekben használt Joliet kiterjesztéseit, és végül a <code>-hfs</code>, amely a Mac OS® alatt létrehozott HFS állományrendszerek kiterjesztéseit engedélyezi.</p></div><div class=paragraph><p>A kizárólag csak FreeBSD rendszereken használt CD-k esetében a <code>-U</code> megadásával kapcsolhatjuk ki az állománynevek mindenféle korlátozását. Az <code>-R</code> beállítás használatával olyan állományrendszer képét hozzuk létre, amely teljesen megegyezik a parancsban megadott könyvtárból induló fa tartalmával, habár több módon is sérti az ISO 9660 szabvány elõírásait.</p></div><div class=paragraph><p>Az utolsó általános jelleggel használható beállítás a <code>-b</code>. Ezzel lehet megadni az "El Torito" szabványnak megfelelõ rendszerindító CD készítéséhez szükséges rendszerindító image elérését. Ennél a beállításnál tehát meg kell adni a rendszerindításhoz használt lemez image-ét, amely a CD tartalmát magában foglaló könyvtárszerkezetben található valahol. A <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> alapértelmezés szerint egy ún. "floppy emulációs" módban hozza létre az ISO image-et, ezért a rendszerindításhoz használatos lemez image-ének pontosan 1200, 1440 vagy 2880 KB méretûnek kell lennie. Egyes rendszerbetöltõk, mint amilyen például a FreeBSD terjesztéséhez használt lemezeken található, nem használják ezt az emulációt. Ilyen helyzetekben a <code>-no-emul-boot</code> kapcsolót kell megadni. Tehát ha a <span class=filename>/tmp/sajátboot</span> könyvtárban van egy indítható FreeBSD rendszerünk, amelyben a <span class=filename>/tmp/sajátboot/boot/cdboot</span> a rendszerindító lemez image-e, akkor egy <span class=filename>/tmp/indítható.iso</span> nevû ISO 9660 formátumú állományrendszert tartalmazó image-et például így tudunk elkészíteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkisofs -R -no-emul-boot -b boot/cdboot -o /tmp/indítható.iso /tmp/sajátboot</span></code></pre></div></div><div class=paragraph><p>Miután ezt megtettük, és a rendszermagunkban benne van az <span class=filename>md</span> eszköz támogatása, csatlakoztathatjuk is az állományrendszert:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdconfig -a -t vnode -f /tmp/indítható.iso -u 0</span>
<span class=c># mount -t cd9660 /dev/md0 /mnt</span></code></pre></div></div><div class=paragraph><p>Ezután már össze tudjuk vetni az <span class=filename>/mnt</span> és <span class=filename>/tmp/sajátboot</span> könyvtárak egyezõségét.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> viselkedését több más opcióval tudjuk finomhangolni, mint például az ISO 9660 kiosztás módosítása vagy a Joliet és HFS lemezek készítése. A <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> man oldalon mindezekrõl bõvebben olvashatunk.</p></div></div><div class=sect2><h3 id=burncd>18.6.3. burncd<a class=anchor href=#burncd></a></h3><div class=paragraph><p>Ha ATAPI CD-írónk van, akkor a <code>burncd</code> paranccsal írhatjuk az ISO image-et a lemezre. A <code>burncd</code> az alaprendszer része, és <span class=filename>/usr/sbin/burncd</span> néven érhetõ el. A használata igen egyszerû, csupán pár paramétere van:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># burncd -f eszköz data image.iso fixate</span></code></pre></div></div><div class=paragraph><p>Ezzel a paranccsal rámásoljuk az <em>image.iso</em> állományt az <em>eszköz</em> eszközre. Az alapértelmezett eszköz a <span class=filename>/dev/acd0</span>. A <a href="https://man.freebsd.org/cgi/man.cgi?query=burncd&amp;sektion=8&amp;format=html">burncd(8)</a> man oldalán találjuk meg az írási sebességgel, a CD írás utáni kiadásával és az audio lemezek írásával kapcsolatos beállításokat.</p></div></div><div class=sect2><h3 id=cdrecord>18.6.4. cdrecord<a class=anchor href=#cdrecord></a></h3><div class=paragraph><p>Ha nincs ATAPI CD-írónk, akkor az íráshoz a <code>cdrecord</code> parancsot kell használnunk. A <code>cdrecord</code> nem az alaprendszer része: vagy a <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a> portból vagy a neki megfelelõ csomagból kell telepítenünk. Az alaprendszerben végbemenõ változások miatt a program bináris változatai hibázhatnak, aminek következtében csak "poháralátéteket" fogunk tudni gyártani. Ezért a rendszerrel együtt érdemes frissíteni ezt a portot is. Vagy ha a <a href=../cutting-edge/#stable>-STABLE verziót használjuk</a>, akkor mindig érdemes a port elérhetõ legújabb verziójára frissíteni.</p></div><div class=paragraph><p>Miközben a <code>cdrecord</code> számos paraméterrel rendelkezik, az alapvetõ használata mégis egyszerûbb a <code>burncd</code> parancsénál. Egy ISO 9660 formátumú image-et ugyanis a következõ módon tudunk felírni lemezre:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cdrecord dev=eszköz image.iso</span></code></pre></div></div><div class=paragraph><p>A <code>cdrecord</code> használatának trükkös része a megfelelõ eszköz megtalálása, tehát a <code>dev</code> beállítás helyes megadása. Ehhez használjuk a <code>cdrecord-scanbus</code> paraméterét, amely az alábbihoz hasonló eredményt fog produkálni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cdrecord -scanbus</span>
Cdrecord-Clone 2.01 <span class=o>(</span>i386-unknown-freebsd7.0<span class=o>)</span> Copyright <span class=o>(</span>C<span class=o>)</span> 1995-2004 Jörg Schilling
Using libscg version <span class=s1>&#39;schily-0.1&#39;</span>
scsibus0:
        0,0,0     0<span class=o>)</span> <span class=s1>&#39;SEAGATE &#39;</span> <span class=s1>&#39;ST39236LW       &#39;</span> <span class=s1>&#39;0004&#39;</span> Disk
        0,1,0     1<span class=o>)</span> <span class=s1>&#39;SEAGATE &#39;</span> <span class=s1>&#39;ST39173W        &#39;</span> <span class=s1>&#39;5958&#39;</span> Disk
        0,2,0     2<span class=o>)</span> <span class=k>*</span>
        0,3,0     3<span class=o>)</span> <span class=s1>&#39;iomega  &#39;</span> <span class=s1>&#39;jaz 1GB         &#39;</span> <span class=s1>&#39;J.86&#39;</span> Removable Disk
        0,4,0     4<span class=o>)</span> <span class=s1>&#39;NEC     &#39;</span> <span class=s1>&#39;CD-ROM DRIVE:466&#39;</span> <span class=s1>&#39;1.26&#39;</span> Removable CD-ROM
        0,5,0     5<span class=o>)</span> <span class=k>*</span>
        0,6,0     6<span class=o>)</span> <span class=k>*</span>
        0,7,0     7<span class=o>)</span> <span class=k>*</span>
scsibus1:
        1,0,0   100<span class=o>)</span> <span class=k>*</span>
        1,1,0   101<span class=o>)</span> <span class=k>*</span>
        1,2,0   102<span class=o>)</span> <span class=k>*</span>
        1,3,0   103<span class=o>)</span> <span class=k>*</span>
        1,4,0   104<span class=o>)</span> <span class=k>*</span>
        1,5,0   105<span class=o>)</span> <span class=s1>&#39;YAMAHA  &#39;</span> <span class=s1>&#39;CRW4260         &#39;</span> <span class=s1>&#39;1.0q&#39;</span> Removable CD-ROM
        1,6,0   106<span class=o>)</span> <span class=s1>&#39;ARTEC   &#39;</span> <span class=s1>&#39;AM12S           &#39;</span> <span class=s1>&#39;1.06&#39;</span> Scanner
        1,7,0   107<span class=o>)</span> <span class=k>*</span></code></pre></div></div><div class=paragraph><p>Itt felsorolásra kerülnek a <code>dev</code> beállítás értékeként felhasználható eszközök. Keressük meg köztük a CD írónkat és a <code>dev</code> értékének a három vesszõvel elválasztott számot adjuk meg. Ebben az esetben a CD-író eszköz most az 1,5,0 lesz, tehát itt a helyes paraméterezés <code>dev=1,5,0</code>. Ezt az értékét könnyebben is meg lehet adni. Ennek részleteirõl a <a href="https://man.freebsd.org/cgi/man.cgi?query=cdrecord&amp;sektion=1&amp;format=html">cdrecord(1)</a> man oldalán olvashatunk. Abban az esetben is érdemes fellapoznunk, ha az audio sávok írásáról, az írási sebesség korlátozásáról vagy más hasonló dolgokról akarunk olvasni.</p></div></div><div class=sect2><h3 id=duplicating-audiocds>18.6.5. Audio CD-k másolása<a class=anchor href=#duplicating-audiocds></a></h3><div class=paragraph><p>Audio CD-t úgy tudunk másolni, ha elõször állományok sorozatába mentjük a lemez tartalmát, majd ezeket az állományokat egy üres CD-re írjuk. Ennek konkrét folyamata azonban némileg eltér az ATAPI- és SCSI-meghajtók használata során.</p></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: SCSI-meghajtók esetén</strong></p></div><div class="olist arabic"><ol class=arabic><li><p>A <code>cdda2wav</code> programmal mentsük le a lemez tartalmát.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% cdda2wav <span class=nt>-vall</span> <span class=nt>-D2</span>,0 <span class=nt>-B</span> <span class=nt>-Owav</span></code></pre></div></div></li><li><p>A <code>cdrecord</code> paranccsal írjuk fel a <span class=filename>.wav</span> kiterjesztésû állományokat.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% cdrecord <span class=nt>-v</span> <span class=nv>dev</span><span class=o>=</span>2,0 <span class=nt>-dao</span> <span class=nt>-useinfo</span>  <span class=k>*</span>.wav</code></pre></div></div><div class=paragraph><p>Gondoskodjunk róla, hogy a <em>2,0</em> értéket a <a href=#cdrecord>cdrecord</a>nak megfelelõen helyesen állítottuk be.</p></div></li></ol></div></div></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: ATAPI-meghajtók esetén</strong></p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Az <a href=#atapicam>ATAPI/CAM modul</a> segítségével a <code>cdda2wav</code> parancs ATAPI meghajtókkal is használható. Ez a megoldás általában kedvezõbb (a hibák és bytesorrend ügyesebb kezelése, stb.) a legtöbb felhasználó számára, mint az itt ismertetett.</p></div></td></tr></tbody></table></div><div class="olist arabic"><ol class=arabic><li><p>Az ATAPI CD meghajtója az egyes sávokat <span class=filename>/dev/acddtnn</span> néven teszi elérhetõvé, ahol a <em>d</em> a meghajtó sorszáma, a <em>nn</em> a sáv két számjeggyel kiírt sorszáma, amelyet szükség szerint balról nullával egészítenek ki. Így tehát az elsõ meghajtó elsõ sávja a <span class=filename>/dev/acd0t01</span>, a második a <span class=filename>/dev/acd0t02</span>, a harmadik a <span class=filename>/dev/acd0t03</span> és így tovább.</p><div class=paragraph><p>Ellenõrizzük, hogy ezek az eszközök jelen vannak a <span class=filename>/dev</span> könyvtárban. Amennyiben hiányoznának, kényszerítsük ki a lemez újbóli beolvasását:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/acd0 of=/dev/null count=1</span></code></pre></div></div></li><li><p>Szedjük le az egyes sávokat a <a href="https://man.freebsd.org/cgi/man.cgi?query=dd&amp;sektion=1&amp;format=html">dd(1)</a> használatával. A parancs kiadásakor meg kell adnunk egy blokkméretet is:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/acd0t01 of=track1.cdr bs=2352</span>
<span class=c># dd if=/dev/acd0t02 of=track2.cdr bs=2352</span>
...</code></pre></div></div></li><li><p>A <code>burncd</code> használatával írjuk fel a lemezre az imént lementett állományokat. Meg kell adnunk, hogy ezek audio állományok, és hogy a <code>burncd</code> a munka befejeztével zárja le (fixate) a lemezt.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># burncd -f /dev/acd0 audio track1.cdr track2.cdr ... fixate</span></code></pre></div></div></li></ol></div></div></div></div><div class=sect2><h3 id=imaging-cd>18.6.6. Adat CD-k másolása<a class=anchor href=#imaging-cd></a></h3><div class=paragraph><p>Az adatot tartalmazó CD-ket le tudjuk másolni egy olyan image-be, amely funkcionálisan megegyezik egy <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> által létrehozott image-dzsel és amivel le tudunk másolni bármilyen adat CD-t. Az itt megadott példa azt feltételezi, hogy a CD-meghajtónk neve <span class=filename>acd0</span>. Helyére a saját CD-meghajtónk nevét kell behelyettesíteni.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/acd0 of=állomány.iso bs=2048</span></code></pre></div></div><div class=paragraph><p>Most miután lementettük az image-et, írjuk fel CD-re a fentiek szerint.</p></div></div><div class=sect2><h3 id=mounting-cd>18.6.7. Adat CD-k használata<a class=anchor href=#mounting-cd></a></h3><div class=paragraph><p>Most, hogy már készítettünk egy szabványos adat CD-t, valószínûleg szeretnénk is valamilyen csatlakoztatni és elérni a rajta levõ adatokat. Alapértelmezés szerint a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> mindig azt feltételezi, hogy az állományrendszerek <code>ufs</code> típusúak. Ezért ha valami ilyesmivel próbálkozunk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/cd0 /mnt</span></code></pre></div></div><div class=paragraph><p>akkor egy <code>Incorrect super block</code> szövegû hibaüzenetet lesz a jutalmunk, és természetesen nem tudjuk csatlakoztatni a CD-t. Mivel a CD nem <code>UFS</code> állományrendszert tartalmaz, ezért az ilyen jellegû kísérleteink mind kudarcba fognak fulladni. Valahogy fel kell világosítanunk a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> parancsot arról, hogy itt most egy <code>ISO9660</code> típusú állományrendszert akarunk csatlakoztatni, és akkor minden a helyére kerül. Ezt úgy tudjuk megtenni, ha a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> parancsnak megadjuk a <code>-t cd9660</code> paramétert. Például, ha a <span class=filename>/dev/acd0</span> néven elérhetõ CD-meghajtóban levõ lemezt akarjuk a <span class=filename>/mnt</span> könyvtárba csatlakoztatni, akkor ezt kell begépelnünk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -t cd9660 /dev/cd0 /mnt</span></code></pre></div></div><div class=paragraph><p>Vegyük észre, hogy az eszköz neve (ez ebben a példában most <span class=filename>/dev/cd0</span>) lehet más is attól függõen, hogy milyen csatolófelületet használ a CD-meghajtónk. Sõt, a <code>-t cd9660</code> valójában csak a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8&amp;format=html">mount_cd9660(8)</a> parancsot indítja el. Ennek tükrében tehát az elõbbi példát így rövidíthetjük le:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount_cd9660 /dev/cd0 /mnt</span></code></pre></div></div><div class=paragraph><p>Ezen a módon bármilyen gyártmányú adat CD-t képesek vagyunk csatlakoztatni. Egyes ISO 9660 kiterjesztéseket használó lemezek azonban esetleg furcsán mûködhetnek. Például Joliet lemezek az összes állomány nevét kétbyte-os Unicode karakterben tárolják. A FreeBSD rendszermagja ugyan nem beszéli a Unicode-ot, de a FreeBSD CD9660 meghajtója képes menetközben átkonvertálni a Unicode karaktereket. Ha bizonyos nem angol karakterek kérdõjelekként jelennének meg, akkor a <code>-C</code> beállítás használatával még egy helyi kódlapot is meg kell adnunk. Ezzel kapcsolatban bõvebb tájékoztatásért forduljunk a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8&amp;format=html">mount_cd9660(8)</a> man oldalhoz.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A <code>-C</code> beállítás segítségével csak akkor lesz képes a rendszermag elvégezni ezt az átalakítást, ha elõtte betöltjük a <span class=filename>cd9660_iconv.ko</span> modult. Ezt megtehetjük úgy, hogy ha felvesszük a következõ sort a <span class=filename>loader.conf</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>cd9660_iconv_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Indítsuk újra a számítógépünket, vagy közvetlenül töltsük be a modult a <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> használatával.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Estenként elõfordulhat, hogy kapunk egy <code>Device not configured</code> hibaüzenetet a CD-k csatlakoztatásakor. Ez általában arra utal, hogy a CD-meghajtó nem érzékeli a berakott lemezt, vagy éppen a meghajtó nem látható a buszon. A CD-meghajtók esetében pár másodpercig eltarthat, amíg felismeri a berakott lemezt, ilyenkor mindig legyünk türelemmel.</p></div><div class=paragraph><p>Néha a SCSI CD-meghajtó nem látható, mert nem volt elég ideje válaszolni busz újraindítása elõtt. Ha SCSI CD-meghajtónk van, akkor a következõ beállítást tegyük hozzá a rendszermagunk konfigurációjához és <a href=../kernelconfig/#kernelconfig-building>fordítsuk újra a rendszermagukat</a>.</p></div><div class="literalblock programlisting"><div class=content><pre>options SCSI_DELAY=15000</pre></div></div><div class=paragraph><p>Ezzel utasítjuk a SCSI buszunkat egy 15 másodperces várakozásra a rendszer indítása során, és így ezzel elég esélyt adunk arra, hogy a CD-meghajtó válaszolni tudjon a busz újraindítása elõtt.</p></div></div><div class=sect2><h3 id=rawdata-cd>18.6.8. Nyers adat CD-k írása<a class=anchor href=#rawdata-cd></a></h3><div class=paragraph><p>Írhatunk közvetlenül is állományokat a CD-re, ISO 9660 formátumú állományrendszer használata nélkül. Sokan így oldják meg a mentést. Ezt sokkal gyorsabban lebonyolítható egy szabványos CD esetében:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># burncd -f /dev/acd1 -s 12 data archive.tar.gz fixate</span></code></pre></div></div><div class=paragraph><p>Az ezen a módon megírt CD-ket szintén nyers módon kell olvasnunk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tar xzvf /dev/acd1</span></code></pre></div></div><div class=paragraph><p>Az ilyen lemezeket nem tudjuk a normális CD-khez hasonlóan csatlakoztatni. Sõt, az ilyen CD-ket csak FreeBSD alatt tudjuk olvasni. Ha csatlakoztathatóvá akarjuk tenni a lemezt, vagy más operációs rendszerek alól is szeretnénk olvasni, akkor erre a célra a fentebb bemutatott <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> parancsot kell használnunk.</p></div></div><div class=sect2><h3 id=atapicam>18.6.9. Az ATAPI/CAM meghajtó használata<a class=anchor href=#atapicam></a></h3><div class=paragraph><p>Ez a meghajtó lehetõvé teszi az ATAPI eszközök (CD-ROM, CD-RW, DVD meghajtók stb…​) számára, hogy a SCSI alrendszeren keresztül legyenek elérhetõek, így esetünkben is használhatóvá válnak olyan alkalmazások, mint például <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrdao/>sysutils/cdrdao</a> vagy a <a href="https://man.freebsd.org/cgi/man.cgi?query=cdrecord&amp;sektion=1&amp;format=html">cdrecord(1)</a>.</p></div><div class=paragraph><p>A meghajtó használatához a következõ sort kell a <span class=filename>/boot/loader.conf</span> állományba illeszteni:</p></div><div class="literalblock programlisting"><div class=content><pre>atapicam_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Indítsuk újra a számítógépet.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Amennyiben a rendszermagban az <a href="https://man.freebsd.org/cgi/man.cgi?query=atapicam&amp;sektion=4&amp;format=html">atapicam(4)</a> statikus támogatását szeretnénk használni, úgy a következõ sort kell a rendszermag konfigurációs állományába felvenni:</p></div><div class="literalblock programlisting"><div class=content><pre>device atapicam</pre></div></div><div class=paragraph><p>Továbbá a következõ sorokra lesz még szükségünk:</p></div><div class="literalblock programlisting"><div class=content><pre>device ata
device scbus
device cd
device pass</pre></div></div><div class=paragraph><p>Ezeknek már eleve ott kell szerepelnie. Ezután fordítsuk újra és telepítsük a rendszermagot, majd indítsuk újra a számítógépet.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A rendszer indulásakor az írónak ehhez hasonló módon kell megjelennie:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>acd0: CD-RW &lt;MATSHITA CD-RW/DVD-ROM UJDA740&gt; at ata1-master PIO4
cd0 at ata1 bus 0 target 0 lun 0
cd0: &lt;MATSHITA CDRW/DVD UJDA740 1.00&gt; Removable CD-ROM SCSI-0 device
cd0: 16.000MB/s transfers
cd0: Attempt to query device size failed: NOT READY, Medium not present - tray closed</code></pre></div></div><div class=paragraph><p>A meghajtó most már elérhetõ a <span class=filename>/dev/cd0</span> eszközön keresztül, és például ennyi begépelésével csatlakoztatni tudunk róla egy CD-t a <span class=filename>/mnt</span> könyvtárba:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -t cd9660 /dev/cd0 /mnt</span></code></pre></div></div><div class=paragraph><p><code>root</code> felhasználóként a következõ paranccsal tudjuk lekérdezi az író SCSI címét:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># camcontrol devlist</span>
&lt;MATSHITA CDRW/DVD UJDA740 1.00&gt;   at scbus1 target 0 lun 0 <span class=o>(</span>pass0,cd0<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Eszerint a <code>1,0,0</code> lesz az eszköz SCSI címe, amelyet a <a href="https://man.freebsd.org/cgi/man.cgi?query=cdrecord&amp;sektion=1&amp;format=html">cdrecord(1)</a> és más SCSI alkalmazások esetén adunk meg.</p></div><div class=paragraph><p>Az ATAPI/CAM és SCSI rendszerek tekintetében olvassuk el az <a href="https://man.freebsd.org/cgi/man.cgi?query=atapicam&amp;sektion=4&amp;format=html">atapicam(4)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=cam&amp;sektion=4&amp;format=html">cam(4)</a> man oldalakat.</p></div></div></div></div><div class=sect1><h2 id=creating-dvds>18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata<a class=anchor href=#creating-dvds></a></h2><div class=sectionbody><div class=sect2><h3 id=_bevezetés_2>18.7.1. Bevezetés<a class=anchor href=#_bevezetés_2></a></h3><div class=paragraph><p>A DVD a CD-hez képest a lézeres tárolóeszközök technológiájának újabb generációját képviseli. A DVD bármelyik CD-nél több adatot képes tárolni és napjaink ez a videók kiadásának szabványa.</p></div><div class=paragraph><p>Öt fizikailag írható formátummal határozhatjuk meg az írható DVD fogalmát:</p></div><div class=ulist><ul><li><p>DVD-R: Ez volt az elsõ elérhetõ írható DVD formátum. A DVD-R szabványát a <a href=http://www.dvdforum.com/forum.shtml>DVD Fórum</a> fektette le. Ez a formátum csak egyszer írható.</p></li><li><p>DVD-RW: Ez a DVD-R szabvány újraírható változata. A DVD-RW körülbelül 1000 alkalommal írható újra.</p></li><li><p>DVD-RAM: Ez is a DVD Fórum által támogatott újraírható formátum. A DVD-RAM cserélhetõ merevlemeznek látzsik. Azonban ez típusú adathordozó nem kompatibilis legtöbb DVD-ROM hajtóval és DVD-Video lejátszóval. Csupán csak néhány DVD-író ismeri a DVD-RAM formátumot. A DVD-RAM használatáról a <a href=#creating-dvd-ram>A DVD-RAM használata</a>ban találunk bõvebben információkat.</p></li><li><p>DVD+RW: Ezt az újraírható formátumot a <a href=http://www.dvdrw.com/>DVD+RW szövetség</a> alkotta meg. A DVD+RW lemezek nagyjából 1000 alkalommal írhatóak újra.</p></li><li><p>DVD+R: Ez a formátum a DVD+RW formátum egyszer írható változata.</p></li></ul></div><div class=paragraph><p>Az egyrétegû írható DVD-k összesen 4 700 000 000 byte-ot képesek rögzíteni, ami 4,38 GB vagy 4 485 MB (1 kilobyte itt 1024 byte).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Meg kell különböztetnünk fizikai tárolóeszközt és az alkalmazást. Például a DVD-Video állományok olyan jellegû elrendezését írja elõ, ami bármelyik írható fizikai DVD eszközön megjelenhet: DVD-R, DVD+R, DVD-RW stb. Mielõtt kiválasztanánk az eszköz típusát, biztosnak kell lennünk benne, hogy az író és a DVD-Video lejátszó (ez lehet egy önálló lejátszó vagy egy számítógép DVD-ROM meghajtója) kompatibilis a szóbanforgó lemezzel.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_beállítás_2>18.7.2. Beállítás<a class=anchor href=#_beállítás_2></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> programot fogjuk a DVD rögzítésére használni. Ez a program a dvd+rw-tools segédprogramok (<a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/dvd+rw-tools/>sysutils/dvd+rw-tools</a>) gyûjteményének része. A dvd+rw-tools az összes DVD médium típusát ismeri.</p></div><div class=paragraph><p>Ezek a segédprogramok a SCSI alrendszeren keresztül érik az eszközöket, ezért a használhatukhoz a rendszermagban szükségünk lesz az <a href=#atapicam>ATAPI/CAM támogatásra</a>. Ha az írónk USB felületen csatlakozik, akkor mindez szükségtelen, és ehelyett a <a href=#usb-disks>USB tárolóeszközök</a>t kell elolvasnunk az USB eszközök beállításához.</p></div><div class=paragraph><p>Engedélyeznünk kell az ATAPI eszközök DMA hozzáférését is, amit a <span class=filename>/boot/loader.conf</span> állományban a következõ sor hozzáadásával tudunk megtenni:</p></div><div class="literalblock programlisting"><div class=content><pre>hw.ata.atapi_dma=&#34;1&#34;</pre></div></div><div class=paragraph><p>A dvd+rw-tools használatának megkezdése elõtt a DVD-írónkkal kapcsolatban érdemes átolvasnunk a <a href=http://fy.chalmers.se/~appro/linux/DVD+RW/hcn.html>dvd+rw-tools hardverkompatibilitási jegyzeteit (angolul)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha grafikus felületet szeretnénk használni, akkor érdemes egy pillanatást vetnünk a K3bre (<a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/k3b/>sysutils/k3b</a>), amely egy felhasználóbarát felületet ad a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> és sok más íróprogram felé.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_adat_dvd_k_írása>18.7.3. Adat DVD-k írása<a class=anchor href=#_adat_dvd_k_írása></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> a <a href=#mkisofs>mkisofs</a> parancs elõlapja, tehát az állományrendszer létrehozásához a <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> programot fogja meghívni és ezt írja fel a DVD-re. Ez azt jelenti, hogy az írási folyamat megkezdése elõtt nem kell semmilyen image-et létrehoznunk.</p></div><div class=paragraph><p>A <span class=filename>/az/elérési/út</span> könyvtárból a következõ paranccsal tudjuk kiírni az adatokat DVD+R vagy DVD-R lemezre:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -dvd-compat -Z /dev/cd0 -J -R /az/elérési/út</span></code></pre></div></div><div class=paragraph><p>A <code>-J -R</code> beállítások a <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> programhoz kerülnek át az állományrendszer létrehozásakor (itt most egy ISO 9660 állományrendszert hozunk létre, Joliet és Rock Ridge kiterjesztésekkel), használatának részleteit lásd <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a>.</p></div><div class=paragraph><p>A <code>-Z</code> beállítást a kezdõmenetek létrehozásakor használjuk: több menetben akarjuk írni a lemezt vagy sem. A DVD eszközt, amely itt most a <em>/dev/cd0</em>, a saját konfigurációnknak megfelelõen kell megadni. A <code>-dvd-compat</code> paraméterrel lezárjuk a lemezt, így ezután további írás már nem lehetséges. Ezért cserébe jobb kompatibilitást kapunk a DVD-ROM meghajtókkal.</p></div><div class=paragraph><p>Elõre legyártott image-dzsel is dolgozhatunk, tehát például, ha az <em>image.iso</em> állományt akarjuk kiírni, akkor ezt kell lefuttatnunk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -dvd-compat -Z /dev/cd0=image.iso</span></code></pre></div></div><div class=paragraph><p>Az írási sebességet magától beállítja a lemez és meghajtó képességeinek megfelelõen. Az írási sebesség felülbírálásához használjuk a <code>-speed=</code> paramétert. A paraméterek lehetõségeirõl a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> man oldaláról tudhatunk meg többet.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>4,38 GB-nál több adat írásához egy hibrid UDF/ISO-9660 típusú állományrendszert kell létrehoznunk. Ezt úgy tudjuk elérni, ha <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> és a többi hasonló program (például <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a>) hívásakor még hozzátesszük az <code>-udf -iso-level 3</code> paramétereket. Ezekre csak lemezképek készítésekor vagy az állományok közvetlen lemezre írásakor van szükségünk. Az így létrehozott lemezeket a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_udf&amp;sektion=8&amp;format=html">mount_udf(8)</a> segédprogram segítségével UDF állományrendszerként tudjuk csatlakoztatni. Ezért csak olyan operációs rendszereken használható, amelyek ismerik ezt a formátumot, ellenkezõ esetben csak hibás állományokat fogunk látni a lemezen.</p></div><div class=paragraph><p>Példa ilyen lemezkép létrehozására:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -dvd-compat -udf -iso-level 3 -Z /dev/cd0 -J -R /az/új/adat/helye</span></code></pre></div></div><div class=paragraph><p>Ha a lemezkép már eleve nagyobb méretû állományokat tartalmaz, a lemez írásakor a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> programnak már nem kell további paramétereket átadnunk.</p></div><div class=paragraph><p>Lehetõleg mindig a <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a> legfrissebb verzióját használjuk (amely a <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> programot is tartalmazza), mivel a régebbi verziók nem támogatják a nagyobb méretû állományokat. Ha problémák adódnak a programok használata során, akkor próbálkozzunk a fejlesztõi változattal (<a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools-devel/>sysutils/cdrtools-devel</a>) és olvassuk el a <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> man oldalát.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_dvd_video_írása>18.7.4. DVD-Video írása<a class=anchor href=#_dvd_video_írása></a></h3><div class=paragraph><p>A DVD-Video az állományok speciális szervezésére utal, amely az ISO 9660 és az mikró UDF (M-UDF) specifikációkon alapszik. A DVD-Video emellett egy adott adatszerkezeti hierarchiát is takar, ezért kell egy külön programmal, például a <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/dvdauthor/>multimedia/dvdauthor</a> segítségével összeállítani egy DVD-t.</p></div><div class=paragraph><p>Ha már a birtokunkban van egy DVD-Video állományrendszer képe, akkor az eddigiek szerint egyszerûen csak írjuk fel egy lemezre, ahogy azt az elõzõ szakaszban is láthattuk. Ha összeállítottuk a DVD anyagát és például a <span class=filename>/a/videó/elérési/útja</span> könyvtárba raktuk, akkor a következõ paranccsal írathatjuk ki a DVD-Video formátumú lemezt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -Z /dev/cd0 -dvd-video /a/videó/elérési/útja</span></code></pre></div></div><div class=paragraph><p>A <code>-dvd-video</code> paramétert kell átadni a <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> programnak, amelynek hatására létrehoz egy DVD-Video formátumú állományrendszert. Emellett a <code>-dvd-video</code> beállítás maga után vonja a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> <code>-dvd-compat</code> beállítását is.</p></div></div><div class=sect2><h3 id=_a_dvdrw_használata>18.7.5. A DVD+RW használata<a class=anchor href=#_a_dvdrw_használata></a></h3><div class=paragraph><p>Eltérõen a CD-RW-tõl, egy érintetlen DVD+RW-t az elsõ használat elõtt meg kell formázni. A <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> program errõl az elsõ adandó alkalommal gondoskodik, és ez az <em>ajánlott</em>. Azonban a DVD+RW formázására használhatjuk a <code>dvd+rw-format</code> parancsot is:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dvd+rw-format /dev/cd0</span></code></pre></div></div><div class=paragraph><p>Ezt a mûveletet csak egyszer kell elvégezni, hiszen ne feledjük, hogy csak a szûz DVD+RW lemezeket kell megformázni. Ezután a DVD+RW-t a korábbi szakaszoknak megfelelõen tudjuk írni.</p></div><div class=paragraph><p>Ha a DVD+RW-re új adatot akarunk írni (egy teljesen új állományrendszert, nem pedig adatokat hozzáfûzni), akkor nem kell üressé tenni a lemezt, egyszerûen csak elegendõ felülírni az elõzõeket (egy új kezdõmenet létrehozásával) valahogy így:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -Z /dev/cd0 -J -R /az/új/adat/helye</span></code></pre></div></div><div class=paragraph><p>A DVD+RW formátum felajánlja annak lehetõségét is, hogy könnyedén hozzá lehessen fûzni adatokat az elõzõ íráshoz. A mûvelet során az új menetet összefûzi a meglévõvel, tehát ez nem egy többmenetes írás, hanem a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> <em>megnöveli</em> a lemezen található ISO 9660 állományrendszert.</p></div><div class=paragraph><p>Például, ha egy korábban megírt DVD+RW lemezen levõ adatokhoz akarunk hozzáírni, akkor a következõ parancsot kell kiadnunk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -M /dev/cd0 -J -R /az/új/adat/helye</span></code></pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=mkisofs&amp;sektion=8&amp;format=html">mkisofs(8)</a> beállításainál a kezõmenetnél megadottakat érdemes ismét megadni.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha kompatibilisek akarunk maradni a többi DVD-meghajtóval, akkor adjuk meg <code>-dvd-compat</code> paramétert. Ez a DVD+RW esetében annyit jelent, hogy nem tudunk további adatokat hozzáfûzni.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ha valamilyen okból mégis üressé szeretnénk tenni a lemez, akkor ír járhatunk el:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -Z /dev/cd0=/dev/zero</span></code></pre></div></div></div><div class=sect2><h3 id=_a_dvd_rw_használata>18.7.6. A DVD-RW használata<a class=anchor href=#_a_dvd_rw_használata></a></h3><div class=paragraph><p>A DVD-RW két lemezformátumot fogad el: a inkrementális soros hozzáférést és a korlátozott felülírást. Alapértelmezés szerint a DVD-RW lemezek soros elérésûek.</p></div><div class=paragraph><p>A még fel nem használt DVD-RW lemezek közvetlenül írhatóak külön formázás nélkül, habár a korábban már soros formátumban használt DVD-RW lemezeket egy új kezdõmenet létrehozása elõtt üressé kell tenni.</p></div><div class=paragraph><p>Soros módban így kell letörölni egy DVD-RW lemezt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dvd+rw-format -blank=full /dev/cd0</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A teljes törlés (<code>-blank=full</code>) egy 1x média esetén körülbelül egy órát vesz igénybe. A <code>-blank</code> beállítással egy gyorsított törlés zajlik le, amennyiben a DVD-RW lemezt Disk-At-Once (DAO) módban írjuk. A DVD-RW lemezeket az alábbi paranccsal tudjuk DAO módban írni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -use-the-force-luke=dao -Z /dev/cd0=image.iso</span></code></pre></div></div><div class=paragraph><p>A <code>-use-the-force-luke=dao</code> beállítást nem kötelezõ megadni, mivel a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> igyekszik a lehetõ leggyorsabban törölni a lemezt és megkezdeni a DAO módú írást.</p></div><div class=paragraph><p>A DVD-RW esetében valójában a korlátozott felülírást lenne érdemes használnunk, mivel ez a formátum sokkal rugalmasabb az alapértelmezés szerint felkínált inkrementális soros elérésnél.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A soros DVD-RW lemezekre ugyanúgy tudunk adatokat rögzíteni, mint az összes többi formátum esetében:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -Z /dev/cd0 -J -R /az/adat/helye</span></code></pre></div></div><div class=paragraph><p>Ha az elõzõ íráshoz akarunk még hozzáfûzni adatokat, akkor ehhez a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> <code>-M</code> beállítását kell használnunk. Azonban ha a DVD-RW lemezhet inkrementális soros módban adunk hozzá adatot, akkor ezzel egy új menetet hozunk létre a lemezen és így egy többmenetes lemezt kapunk.</p></div><div class=paragraph><p>A korlátozott felülírású DVD-RW formátum használata esetén nem kell mindegyik kezdõmenet elõtt törölni a lemezt, egyszerûen csak felül kell írni a <code>-Z</code> beállítással, hasonlóan a DVD+RW esetéhez. A DVD+RW <code>-M</code> beállításához hasonlóan lehetõségünk van a lemezen található ISO 9660 formátumú állományrendszer növelésére. Ennek az eredménye egy egymenetes DVD.</p></div><div class=paragraph><p>A következõ paranccsal tudjuk a DVD-RW lemezt korlátozott felülírású módba tenni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dvd+rw-format /dev/cd0</span></code></pre></div></div><div class=paragraph><p>Így tudunk visszaváltani a soros formátum használatára:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dvd+rw-format -blank=full /dev/cd0</span></code></pre></div></div></div><div class=sect2><h3 id=_több_menet_használata>18.7.7. Több menet használata<a class=anchor href=#_több_menet_használata></a></h3><div class=paragraph><p>Nagyon kevés DVD-ROM meghajtó ismeri a többmenetes DVD-ket, és legtöbbször is csak általában az elsõ menetet olvassák. A DVD+R, DVD-R és DVD-RW formátumok soros formátumban képesek több mentetet is befogadni, viszont a DVD+RW és DVD-RW korlátozott felülírású formátuma esetén nem létezik több menet.</p></div><div class=paragraph><p>Az alábbi parancs egy újabb menetet ad hozzá egy megkezdett (le nem zárt) DVD+R, DVD-R vagy DVD-RW soros formátumú lemezhez:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># growisofs -M /dev/cd0 -J -R /az/új/adat/helye</span></code></pre></div></div><div class=paragraph><p>Ha ezt a parancsot egy korlátozott felülírású DVD+RW vagy DVD-RW lemez esetén adjuk ki, akkor az új adatokat úgy fûzi hozzá, hogy egy új menetet összefésüli a meglévõvel. Ezzel egy egymenetes lemez keletkezik. Ilyenkor így bõvítik a megkezdett lemezeket.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A menetek kezdése és befejezése általában felhasznál valamennyi helyet a lemezen. Ezért úgy tudjuk optimalizálni a lemez helykihasználtságát, hogy kevés menetben sok adatot viszünk fel rá. A DVD+R esetén 154, a DVD-R-nél körülbelül 2000, és a dupla rétegû DVD+R lemezeknél 127 menetet tudunk létrehozni.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_további_olvasnivalók>18.7.8. További olvasnivalók<a class=anchor href=#_további_olvasnivalók></a></h3><div class=paragraph><p>A DVD lemezrõl részletesebb információkat a <code>dvd+rw-mediainfo /dev/cd0</code> parancs kiadásával tudunk lekérdezni.</p></div><div class=paragraph><p>A dvd+rw-tools használatáról a <a href="https://man.freebsd.org/cgi/man.cgi?query=growisofs&amp;sektion=1&amp;format=html">growisofs(1)</a> man oldalon találunk információt, valamint a <a href=http://fy.chalmers.se/~appro/linux/DVD+RW/>dvd+rw-tools honlapján (angolul)</a> és a <a href=http://lists.debian.org/cdwrite/>cdwrite levelezési lista</a> archívumaiban (angolul).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Futassuk <code>dvd+rw-mediainfo</code> parancsot minden olyan esetben, amikor gondunk akad valamilyen lemez írásával. A kimenete nélkül szinte lehetetlen segítenünk bárkinek is.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=creating-dvd-ram>18.7.9. A DVD-RAM használata<a class=anchor href=#creating-dvd-ram></a></h3><div class=sect3><h4 id=_beállítás_3>18.7.9.1. Beállítás<a class=anchor href=#_beállítás_3></a></h4><div class=paragraph><p>A DVD-RAM írók SCSI vagy ATAPI csatolófelülettel rendelkeznek. Az ATAPI eszközök esetén engedélyezni kell a DMA elérését, amit a <span class=filename>/boot/loader.conf</span> állományban az alábbi sor hozzáadásával tudunk megtenni:</p></div><div class="literalblock programlisting"><div class=content><pre>hw.ata.atapi_dma=&#34;1&#34;</pre></div></div></div><div class=sect3><h4 id=_a_lemez_elõkészítése>18.7.9.2. A lemez elõkészítése<a class=anchor href=#_a_lemez_elõkészítése></a></h4><div class=paragraph><p>Ahogy arra már korábban utaltunk a fejezet bevezetésében, a DVD-RAM úgy látható, mint egy cserélhetõ merevlemez. A hagyományos merevlemezekhez hasonlóan a DVD-RAM-ot is "elõ kell készíteni" az elsõ használatához. Ebben a példában a lemez teljes területét egy szabványos UFS2 állományrendszerrel töltjük fel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=/dev/acd0 bs=2k count=1</span>
<span class=c># bsdlabel -Bw acd0</span>
<span class=c># newfs /dev/acd0</span></code></pre></div></div><div class=paragraph><p>A DVD eszköz nevét, vagyis az <span class=filename>acd0</span> eszközt a saját rendszerünknek megfelelõen kell módosítani.</p></div></div><div class=sect3><h4 id=_a_lemez_használata>18.7.9.3. A lemez használata<a class=anchor href=#_a_lemez_használata></a></h4><div class=paragraph><p>Miután az elõbbi mûveletet elvégeztük a DVD-RAM lemezen, már tudjuk is normális merevlemezként csatlakoztatni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/acd0 /mnt</span></code></pre></div></div><div class=paragraph><p>Ezt követõen a DVD-RAM egyaránt olvasható és írható.</p></div></div></div></div></div><div class=sect1><h2 id=floppies>18.8. Hajlékonylemezek létrehozása és használata<a class=anchor href=#floppies></a></h2><div class=sectionbody><div class=paragraph><p>Néha hasznos lehet, ha az adatokat floppy lemezeken tároljuk, például olyankor, amikor más cserélhetõ tárolóeszköz már nem jöhet számításba, vagy amikor kis mennyiségû adatot kell átvinnünk az egyik számítógéprõl a másikra.</p></div><div class=paragraph><p>Ebben a szakaszban bemutatjuk hogyan kell FreeBSD alatt floppy lemezeket használni. Elsõsorban a 3,5 colos DOS lemezek formázásával és használatával foglalkozik, de ezek fogalmak a többi hajlékonylemezes formátum esetében is hasonlóak.</p></div><div class=sect2><h3 id=_a_hajlékonylemezek_formázása>18.8.1. A hajlékonylemezek formázása<a class=anchor href=#_a_hajlékonylemezek_formázása></a></h3><div class=sect3><h4 id=_az_eszköz>18.8.1.1. Az eszköz<a class=anchor href=#_az_eszköz></a></h4><div class=paragraph><p>A floppy lemezek a többi eszközhöz hasonlóan a <span class=filename>/dev</span> könyvtárban érhetõek el. A nyers floppy lemezek eléréséhez egyszerûen csak használjuk a <span class=filename>/dev/fdN</span> hivatkozást.</p></div></div><div class=sect3><h4 id=_a_formázás>18.8.1.2. A formázás<a class=anchor href=#_a_formázás></a></h4><div class=paragraph><p>Használat elõtt a floppy lemezeket alacsony szinten meg kell formázni. Ezt általában maga a gyártó végzi el, de a formázás gyakran hasznos lehet a lemez sértetlenségének ellenõrzésére. A legtöbb floppy lemez hivatalos kapacitása 1440 KB, de használhatjuk nagyobb (és kisebb) méretekben is.</p></div><div class=paragraph><p>A floppy lemezek alacsony szintû formázására az <a href="https://man.freebsd.org/cgi/man.cgi?query=fdformat&amp;sektion=1&amp;format=html">fdformat(1)</a> parancsot használhatjuk. Ez a segédprogram paraméterként az eszköz nevét várja.</p></div><div class=paragraph><p>Figyeljünk a menetközben megjelenõ hibaüzenetekre, mivel ezek segítik eldönteni, hogy a lemez használható vagy sem.</p></div><div class=sect4><h5 id=_a_hajlékonylemezek_formázása_2>18.8.1.2.1. A hajlékonylemezek formázása<a class=anchor href=#_a_hajlékonylemezek_formázása_2></a></h5><div class=paragraph><p>A <span class=filename>/dev/fdN</span> eszközök segítségével tudunk megformázni egy floppy lemezt. Tegyünk be egy 3,5 colos floppy lemezt a meghajtóba, majd adjuk ki a következõ parancsot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/sbin/fdformat -f 1440 /dev/fd0</span></code></pre></div></div></div></div></div><div class=sect2><h3 id=_a_lemez_címkézése>18.8.2. A lemez címkézése<a class=anchor href=#_a_lemez_címkézése></a></h3><div class=paragraph><p>Miután alacsony szinten formáztuk a lemezt, tennünk kell rá egy lemezcímkét is. Ez a lemezcímke késõbb meg fog semmisülni, de a rendszernek szüksége van rá, hogy pontosan meg tudja állapítani a lemez méretét és geometriáját.</p></div><div class=paragraph><p>Az új lemezcímke lefedi az egész lemezt, és tartalmazni fogja az összes információt a floppy geometriájáról. A lemezcímkék geometriaértékeit az <span class=filename>/etc/disktab</span> állományban találjuk meg felsorolva.</p></div><div class=paragraph><p>Most már futtathatjuk is a <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> parancsot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /sbin/bsdlabel -B -w /dev/fd0 fd1440</span></code></pre></div></div></div><div class=sect2><h3 id=_az_állományrendszer>18.8.3. Az állományrendszer<a class=anchor href=#_az_állományrendszer></a></h3><div class=paragraph><p>A hajlékonylemez most már készen áll a magas szintû formázásra. Ennek során egy új állományrendszert teszünk rá, amelyet a FreeBSD képes írni és olvasni. Miután létrejött ez az új állományrendszer, a lemezcímke megsemmisül, így tehát ha újra meg akarjuk formázni a lemezt, akkor újra létre kell majd hoznunk a lemezcímkét.</p></div><div class=paragraph><p>A floppy állományrendszere lehet UFS vagy FAT. A FAT általánosságban véve jobb választás a floppy lemezek számára.</p></div><div class=paragraph><p>Az alábbi módon tudunk új állományrendszert tenni a floppyra:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /sbin/newfs_msdos /dev/fd0</span></code></pre></div></div><div class=paragraph><p>A lemez most már készen áll a használatra.</p></div></div><div class=sect2><h3 id=_a_hajlékonylemezek_használata>18.8.4. A hajlékonylemezek használata<a class=anchor href=#_a_hajlékonylemezek_használata></a></h3><div class=paragraph><p>A floppy lemezt használatához a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8&amp;format=html">mount_msdosfs(8)</a> paranccsal kell csatlakoztatnunk. Ugyanerre a célra használhatjuk a Portgyûjteménybõl elérhetõ <a class=package href=https://cgit.freebsd.org/ports/tree/emulators/mtools/>emulators/mtools</a> portot is.</p></div></div></div></div><div class=sect1><h2 id=backups-tapebackups>18.9. Szalagok létrehozása és használata<a class=anchor href=#backups-tapebackups></a></h2><div class=sectionbody><div class=paragraph><p>A legfontosabb szalagos adathordozók a 4 mm-es, 8 mm-es, QIC, a minikazettás és a DLT.</p></div><div class=sect2><h3 id=backups-tapebackups-4mm>18.9.1. 4 mm-es (Digitális adattároló, avagy DDS: Digital Data Storage)<a class=anchor href=#backups-tapebackups-4mm></a></h3><div class=paragraph><p>A 4 mm-es szalagok a QIC-szalagokat váltják fel a munkaállomások biztonsági mentésének eszközeként. Ez a tendencia csak tovább növekedett, ahogy a Conner felvásárolta az Archive-ot, a QIC típusú meghajtók legnagyobb gyártóját, majd leállított a QIC-meghajtók gyártását. A 4 mm-es meghajtók mérete kicsi és csendben is dolgoznak, de a megbízhatóság terén nem tudhatják maguknak mindazt a sikert, amit a 8 mm-es társaiknál könyvelhettünk el. A kazetták is sokkal olcsóbbak és kisebbek (3 x 2 x 0,5 col, ami 76 x 51 x 12 mm) a 8 mm-es kiadásénál. A 4 mm-es feje, hasonlóan a 8 mm-eséhez, valamilyen okból szintén viszonylag rövid ideig bírja, és mind a kettõ spirális pásztázást használ.</p></div><div class=paragraph><p>Ezeknél a meghajtóknál az adatátvitel nagyjából 150 KB/mp-nél kezdõdik és 500 KB/mp-nél végzõdik. Az adattárolási képességük 1,3 GB-tól indul és 2,0 GB-ig tart. A hardveres tömörítés, ami a legtöbb ilyen típusú meghajtónál elérhetõ, közel megduplázza a kapacitást. A többmeghajtós szalagos könyvtár egységek egyetlen szekrényben 6 meghajtót képes befogadni, a szalagok automatikus cserélgetésével. Az ilyen könyvtárak kapacitása a 240 GB-ot is elérheti.</p></div><div class=paragraph><p>A DDS-3 szabvány most már akár 12 GB (vagy tömörítve 24 GB) kapacitást is elérhetõvé tesz.</p></div><div class=paragraph><p>A 4 mm-es meghajtók, hasonlóan a 8 mm-es meghajtókhoz, spirális pásztázást alkalmaznak. A spirális pásztázás összes elõnye és hátránya ezért egyaránt él a 4 mm-es és 8 mm-es meghajtók esetén.</p></div><div class=paragraph><p>A szalagok 2 000 menet vagy 100 teljes mentes után kopnak el.</p></div></div><div class=sect2><h3 id=backups-tapebackups-8mm>18.9.2. 8 mm-es (Exabyte)<a class=anchor href=#backups-tapebackups-8mm></a></h3><div class=paragraph><p>A 8 mm-es szalagok a legelterjedtebb szalagos SCSI-meghajtók. A szalagok használatára ez a legjobb választás. Szinte mindegyik rendszerben egy 2 GB-os 8 mm-es Exabyte szalagos meghajtót használnak. A 8 mm-es meghajtók megbízhatóak, kényelmesek és csendesek. A kazetták olcsók és kicsik (4,8 x 3,3 x 0,6 col, azaz 122 x 84 x 15 mm). A 8 mm-es szalagok feje viszonylag csak rövid ideig bírja a szalag nagy mértékû oda-vissza mozgása miatt.</p></div><div class=paragraph><p>Az adatátvitel sebessége 250 KB/mp-tõl 500 KB/mp-ig terjed, valamint a 300 MB-tól egészen 7 GB-os méretig találkozhatunk velük. A meghajtókban elérhetõ hardveres tömörítés képes közel megduplázni a kapacitást. Ezek a meghajtók önálló egységként is beszerezhetõek vagy egy 6 egységbõl álló és 120 szalagos szalagos könyvtár részeként. Ezek az egységek önállóan váltják a szalagokat. Az ilyen könyvtárak kapacitása eléri a közel 840 GB-ot.</p></div><div class=paragraph><p>Az Exabyte "Mammoth" modellje szalagonként 12 GB (tömörítéssel pedig 24 GB) adatot képes tárolni, viszont a hagyományos szalagos meghajtóknál nagyjából kétszer többe kerül.</p></div><div class=paragraph><p>Az adatok spirális pásztázással kerülnek a szalagra, és a fejek adott (nagyjából 6 fokos) szögben állnak a szalag felett. A szalag a fejeket tartó orsó köré tekeredik, körülbelül 270 fokban. Ennek eredményképpen nagyobb adatsûrûség és szorosan zárt sávok jönnek létre, ahogy ebben a szögben a fej eljut a szalag egyik élérõl a másikra.</p></div></div><div class=sect2><h3 id=backups-tapebackups-qic>18.9.3. QIC<a class=anchor href=#backups-tapebackups-qic></a></h3><div class=paragraph><p>A QIC-150 meghajtók és szalagok talán a legelterjedtebb szalagos egységek és adathordozók. A QIC szalagos meghajtók a legolcsóbb "komolynak tekinthetõ" biztonsági mentésre alkalmas meghajtók. Az olcsóság azonban megköveteli a maga árát. A QIC-szalagok a 4 és 8 mm-es szalagokkal szemben akár ötször is drágábbak lehetnek gigabyte-onként. De ha megelégszünk csupán féltucat szalaggal is, akkor a QIC jó vásárnak tûnhet. A QIC a <em>leginkább</em> elterjedtebb szalagos meghajtó. Minden rendszerben biztonsan találunk valamilyen minõségben QIC-meghajtót. A QIC fizikailag hasonló (és gyakran azonos) felépítésû szalagokat gyárt rengeteg különbözõ adatsûrûséggel. Az ilyenkor keletkezõ súrlódások miatt a QIC-meghajtók egyáltalán nem nevezhetõek csendesnek. Az ilyen típusú meghajtók az adatok rögzítése elõtt külön hangjelenség kíséretében keresik meg a megfelelõ pozíciót és tisztán hallható, ahogy olvasnak, írnak és keresnek. A QIC-szalagok mérete 6 x 4 x 0,7 col (avagy 152 x 102 x 17 mm).</p></div><div class=paragraph><p>Az adatátviteli sebesség nagyjából 150 KB/mp-tõl 500 KB/mp-ig terjedhet. A kapacitás szalagonként 40 MB és 15 GB között változhat. A legtöbb újabb QIC-meghajtó támogatja a hardveres tömörítést. QIC-meghajtókat azonban egyre kevésbé találhatunk, helyüket szépen lassan mindenhol átveszik a DAT-meghajtók.</p></div><div class=paragraph><p>A szalagokra sávokban rögzítik az adatokat. Ezek a sávok szalag felületének hosszanti tengelyén futnak az egyik végétõl a másikig. A sávok száma valamint a sávok vastagsága a szalagok kapacitásától függõen változnak. Ha nem is összes legújabb, de a legtöbb meghajtó legalább olvasás szintjén kompatibilis a régebbi típusokkal (de gyakran írásban is). A QIC híresen megbízható az adatbiztonság tekintetében (a mechanikája sokkal egyszerûbb és strapabíróbb a spirális pásztázással mûködõ meghajtókénál).</p></div><div class=paragraph><p>A szalagokat 5000 mentés után érdemes lecserélni.</p></div></div><div class=sect2><h3 id=backups-tapebackups-dlt>18.9.4. DLT<a class=anchor href=#backups-tapebackups-dlt></a></h3><div class=paragraph><p>A DLT rendelkezik a legnagyobb adatátviteli sebességgel az itt összefoglalt mezõnyben. A 1/2 colos (12,5 mm-es) szalag egy egyorsós tokban foglal helyet (mérete 4 x 4 x 1 col, azaz 100 x 100 x 25 mm). A tok egyik oldalán végig egy csúszó kapu található. A meghajtó ezt a kaput nyitja ki és ezen keresztül húzza be a szalagot. A szalag elején található egy ovális lyuk, amibe a meghajtó "bele tud akaszkodni". A feszítõ orsó a szalagos meghajtóban foglal helyet. Az összes többi szalag esetén (kivéve egyedül a 9 sávos szalagokat) mind a segéd- és feszítõ orsók magában a kazettában találhatóak.</p></div><div class=paragraph><p>Az adatátviteli sebessége megközelítõleg 1,5 MB/mp, tehát háromszor nagyobb bármelyik 4 mm-es, 8 mm-es vagy QIC-szalagos egységénél. Az adattároló képessége kazettánként 10 GB-tól 20 GB-ig terjedhet. A meghajtók egyaránt elérhetõek többkazettás, cserélgetõs és többkazettás, többmeghajtós könyvtárakban is, melyek 5 kazettától egészen 900 kazettáig, illetve 1 meghajtótól 20 meghajtóig képesek befogadni, így teljes tárterületük 50 GB-tól 9 TB-ig terjed.</p></div><div class=paragraph><p>A DLT Type V formátum tömörítéssel közel 70 GB-os kapacitást képes elérni.</p></div><div class=paragraph><p>A szalagra az adatok a haladási iránnyal párhuzamosan kerülnek fel (akárcsak a QIC-szalagok esetében). Egyszerre két sávot rögzít. A író/olvasó fejek élettartama viszonylag nagy. Ahogy a szalag megáll, a fej és a szalag között nincs szükség további relatív mozgásra.</p></div></div><div class=sect2><h3 id=_ait>18.9.5. AIT<a class=anchor href=#_ait></a></h3><div class=paragraph><p>Az AIT a Sony új formátuma, ami egészen 50 GB mennyiségû adatot képes tárolni (tömörítéssel) egyetlen szalagon. A szalagokat memóriachipekkel látják el, melyek a szalag tartalmát indexelik. Az indexek felhasználásával aztán a szalagos meghajtó villámgyorsan képes meghatározni a szalagon található állományok helyét, szemben az ilyenkor megszokott többperces mûvelettel. A SAMS:Alexandria és a hozzá hasonló szoftverek negyven vagy több AIT-szalagos könyvtárral is képesek egyszerre dolgozni, és közvetlenül a szalagok memóriájával veszik fel a kapcsolatot a tartalmuk megjelenítéséhez, a mentett állományok rendszerezéséhez, a helyes szalag megkereséséhez, betöltéséhez és visszatöltéséhez.</p></div><div class=paragraph><p>Az ilyen könyvtárak a 20 000 dolláros (kb. 3,5 millió forintos) árkategóriába tartoznak, ami miatt csak egy kicsivel csúsznak ki a hobbi kategóriából.</p></div></div><div class=sect2><h3 id=_az_új_szalagok_elsõ_használata>18.9.6. Az új szalagok elsõ használata<a class=anchor href=#_az_új_szalagok_elsõ_használata></a></h3><div class=paragraph><p>Amikor az elsõ alkalommal akarunk beolvasni vagy írni egy új, teljesen üres szalagot, hibára fogunk futni. Egy ehhez hasonló konzolüzenet fog megjelenni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>sa0<span class=o>(</span>ncr1:4:0<span class=o>)</span>: NOT READY asc:4,1
sa0<span class=o>(</span>ncr1:4:0<span class=o>)</span>:  Logical unit is <span class=k>in </span>process of becoming ready</code></pre></div></div><div class=paragraph><p>A szalag nem tartalmaz azonosító blokkot (Identifier Block) a nulladik blokkban. A QIC-525 szabvány átvétele óta mindegyik QIC szalagos meghajtó létrehozza ezt az azonosító blokkot. Tehát két megoldás létezik:</p></div><div class=ulist><ul><li><p>Az <code>mt fsf 1</code> paranccsal felírunk egy ilyen azonosító blokkot a szalagra.</p></li><li><p>A meghajtó elõlapján található gomb segítségével dobassuk ki a szalagot.</p><div class=paragraph><p>Rakjuk vissza a szalagot és hajtsunk végre rajta egy <code>dump</code> parancsot.</p></div><div class=paragraph><p>A <code>dump</code> parancs erre egy <code>DUMP: End of tape detected</code> ("szalag vége") hibaüzenetet ad, majd a következõ jelenik meg a konzolon: <code>HARDWARE FAILURE info:280 asc:80,96</code>.</p></div><div class=paragraph><p>Tekertessük vissza a szalagot az <code>mt rewind</code> paranccsal.</p></div><div class=paragraph><p>A szalag következõ mûvelete most már sikeres lesz.</p></div></li></ul></div></div></div></div><div class=sect1><h2 id=backups-floppybackups>18.10. Biztonsági mentés hajlékonylemezekre<a class=anchor href=#backups-floppybackups></a></h2><div class=sectionbody><div class=sect2><h3 id=floppies-using>18.10.1. Hajlékonylemezre is lehet biztonsági mentést készíteni?<a class=anchor href=#floppies-using></a></h3><div class=paragraph><p>A floppy lemezek nem igazán felelnek meg biztonsági mentés készítésére, mivel:</p></div><div class=ulist><ul><li><p>Nem megbízható adathordozók, különösen hosszabb idõre.</p></li><li><p>Esetükben a mentés és visszaállítás nagyon lassú.</p></li><li><p>Kapacitásuk erõsen korlátozott (annak már régen elmúlt az ideje, amikor egész merevlemezeket tudtunk lementeni egy tucat floppyra).</p></li></ul></div><div class=paragraph><p>Habár ha máshogy nem tudunk biztonsági mentést készíteni, akkor a floppy lemezekkel még mindig jobban járunk, mint nélkülük.</p></div><div class=paragraph><p>Ha már mindenképpen floppy lemezeket kell használnunk, akkor igyekezzünk minél jobb minõségûeket beszerezni. Tehát az olyan floppyk, amik már évek óta kavarognak az irodában, erre a célra nem éppen bizonyulnak a legjobb választásnak. Ideális esetben egy megbízható gyártótól származó új floppykat használunk.</p></div></div><div class=sect2><h3 id=floppies-creating>18.10.2. Tehát akkor hogyan mentsük az adatokat hajlékonylemezre?<a class=anchor href=#floppies-creating></a></h3><div class=paragraph><p>Legegyszerûbban a <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> <code>-M</code> (többkötetes) opciójával tudunk floppy lemezre menteni, aminek használatával több floppyra kiterjedõ mentéseket is készíthetünk.</p></div><div class=paragraph><p>Az aktuális könyvtár és a benne levõ alkönyvtárak tartalmát (<code>root</code>) felhasználóként a következõ paranccsal tudjuk lementeni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tar Mcvf /dev/fd0 *</span></code></pre></div></div><div class=paragraph><p>Amikor az elsõ floppy megtelik, a <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> kérni fogja a következõ kötetet (volume) (mivel a <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> adathordozótól független módon hivatkozik a kötetekre, tehát ebben a környezetben a kötet egy floppy lemezt jelent):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Prepare volume <span class=c>#2 for /dev/fd0 and hit return:</span></code></pre></div></div><div class=paragraph><p>Az üzenet fordítása:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Készítse elő a 2. kötetet a /dev/fd0 eszközön és nyomja le a
<span class=k>return </span>billentyűt</code></pre></div></div><div class=paragraph><p>A folyamat egészen addig ismétlõdik (a kötetek számának növekedésével), amíg az összes állomány lementésre nem kerül.</p></div></div><div class=sect2><h3 id=floppies-compress>18.10.3. Lehet tömöríteni a mentéseket?<a class=anchor href=#floppies-compress></a></h3><div class=paragraph><p>Sajnos a <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> többkötetes mentések esetén nem engedi a <code>-z</code> beállítás használatát. Természetesen ettõl függetlenül a <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a> segítségével még be tudjuk tömöríteni az összes állományt, a <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> paranccsal floppyra menteni ezeket, majd a <a href="https://man.freebsd.org/cgi/man.cgi?query=gunzip&amp;sektion=1&amp;format=html">gunzip(1)</a> paranccsal kitömöríteni.</p></div></div><div class=sect2><h3 id=floppies-restoring>18.10.4. Hogyan állítsuk vissza a biztonsági mentéseket?<a class=anchor href=#floppies-restoring></a></h3><div class=paragraph><p>Az egész mentés visszaállításához adjuk ki a következõ parancsot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tar Mxvf /dev/fd0</span></code></pre></div></div><div class=paragraph><p>Két módon tudunk csak bizonyos állományokat visszaállítani. Elõször is, tegyük be a mentés elsõ lemezét és adjuk ki a következõ parancsot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tar Mxvf /dev/fd0 állomány</span></code></pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> segédprogram ezután sorban kérni fogja a többi lemezt egészen addig, amíg meg nem találja a keresett állományt.</p></div><div class=paragraph><p>Vagy ha pontosan tudjuk, hogy melyik lemezen található a keresett állomány, akkor az iménti parancs használatát azzal a lemezzel kezdjük. Vigyázzunk, mert ha a lemezen található elsõ állomány az elõzõ lemezen kezdõdik, akkor a <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> figyelmeztetni fog minket, hogy nem állítja vissza még akkor sem, ha erre nem is kértük!</p></div></div></div></div><div class=sect1><h2 id=backup-strategies>18.11. Mentési stratégiák<a class=anchor href=#backup-strategies></a></h2><div class=sectionbody><div class=paragraph><p>Egy biztonsági mentés kidolgozása során az elsõ követelmény gondoskodnunk az alábbi problémákról:</p></div><div class=ulist><ul><li><p>Lemezhiba</p></li><li><p>Az állományok véletlen törlése</p></li><li><p>Az állományok véletlenszerû károsodása</p></li><li><p>Számítógépek teljes megsemmisülése (például tûz által), belértve a közelében tárolt összes biztonsági mentést</p></li></ul></div><div class=paragraph><p>Tökéletesen megoldható, hogy egyes rendszerek a fentebb felsorolt problémák mindegyikét teljesen eltérõ technikával oldják meg. A nagyon személyes rendszerektõl és a nagyon értéktelen adatoktól eltekintve szinte egyértelmûen kizárt, hogy egyetlen technika képes lefedni az összes problémát.</p></div><div class=paragraph><p>Kelléktárunk néhány alapvetõ eszköze:</p></div><div class=ulist><ul><li><p>Az egész rendszer mentése, amit egy megbízható helyre elzárt, tartós adattárolóra készítünk. Ez tulajdonképpen védelmet biztosít a fentebb megemlített összes probléma esetében, de lassú és kényelmetlen róla visszaállítani az adatokat. A közelben és/vagy neten is tarthatunk errõl másolatokat, de még így is kényelmetlen az állományok visszaállítása, különösen az egyszerû felhasználók számára.</p></li><li><p>Pillanatképek készítése az állományrendszerrõl. Ez valójában csak olyan esetekben lehet a segítségünkre, amikor véletlenül töröltünk állományokat, ám ilyenkor <em>határozottan</em> jól jön, mivel igen gyorsan és könnyen lehet vele dolgozni.</p></li><li><p>Az egész állományrendszer és/vagy az összes lemez másolata (például az <a href="https://man.freebsd.org/cgi/man.cgi?query=rsync&amp;sektion=1&amp;format=html">rsync(1)</a> idõszakos alkalmazása a komplett gépre). Az általában az egyedi igényekkel bíró hálózatok esetében eshet a kezünkre. A lemezhiba ellen védelemben ez a megoldás általában a RAID alatt áll. A véletlenül törölt állományok visszaállításának tekintetében az UFS pillanatképeivel mérhetõ össze, de ez leginkább a saját igényeinktõl függ.</p></li><li><p>RAID alkalmazása. A lemezek meghibásodása esetén segíti minimalizálni vagy elkerülni a kiesést, ugyan gyakori lemezhibák árán (mivel ilyenkor több lemezt használunk) de kisebb sürgõsséggel.</p></li><li><p>Az állományok ujjlenyomatának ellenõrzése. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=mtree&amp;sektion=8&amp;format=html">mtree(8)</a> segédprogram nagyon hasznos tud lenni ebben az esetben. Habár ez nem egy mentési technika, mégis segít megállapítani, hogy mikor kell nyugdíjba küldenünk a biztonsági mentéseinket. Ez különösen az aktív nem használt mentésekre vonatkozik, ezeket bizonyos idõ elteltével mindig érdemes ellenõrizni.</p></li></ul></div><div class=paragraph><p>Nagyon könnyû lenne további technikákat is felsorolni, melyek legtöbbje az iméntiek valamilyen kombinációja lenne. A speciális igények általában speciális technikákat eredményeznek (például egy éles adatbázis biztonsági mentése általában az adott adatbáziskezelõ rendszer közremûködését is elvárja). Mindig fontos tudni, hogy milyen veszélyek ellen védekezünk és hogyan kezeljük le ezeket.</p></div></div></div><div class=sect1><h2 id=backup-basics>18.12. Alapvetõ tudnivalók a biztonsági mentésrõl<a class=anchor href=#backup-basics></a></h2><div class=sectionbody><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=cpio&amp;sektion=1&amp;format=html">cpio(1)</a> a három legfontosabb biztonsági mentésekkel kapcsolatos program.</p></div><div class=sect2><h3 id=_mentés_és_helyreállítás>18.12.1. Mentés és helyreállítás<a class=anchor href=#_mentés_és_helyreállítás></a></h3><div class=paragraph><p>A UNIX® típusú rendszerekben a biztonsági mentést hagyományosan a <code>dump</code> és <code>restore</code> programok végzik. A meghajtókat lemezblokkok összeségeként kezelik, az állományrendszerek által létrehozott állományok, linkek és könyvtárak szintje alatt. Eltérõen más, biztonsági mentést végzõ szoftverektõl, a <code>dump</code> az adott eszközön egy egész állományrendszert képes lementeni. Nem képes csak az állományrendszer vagy egy több állományrendszerre kiterjedõ könyvtárszerkezet egy részét lementeni. A <code>dump</code> nem állományokat és könyvtárakat ír a szalagra, hanem nyers adatblokkokat, amelyek állományokat és könyvtárakat formáznak. A <code>restore</code> parancs az adatokat alapértelmezés szerint a <span class=filename>/tmp</span> könyvtárba tömöríti ki. Ha nem lenne elegendõ helyünk a <span class=filename>/tmp</span> könyvtárban, akkor a <code>TMPDIR</code> környezeti változó átállításával ehelyett megadhatunk egy olyat, ahol már kellõ mennyiségû terület áll rendelkezésre a <code>restore</code> akadálytalan lefutásához.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha a <code>dump</code> parancsot a gyökér könyvtárban adjuk ki, akkor nem fogja lementeni a <span class=filename>/home</span> vagy <span class=filename>/usr</span> vagy bármilyen más könyvtárat, mivel ezek jellemzõ módon más állományrendszerek csatlakozási pontja vagy más állományrendszerekre mutató szimbolikus linkek.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A <code>dump</code> parancsnak vannak olyan rigolyái, amelyek még az AT&amp;T UNIX 6. verziójából (1975 környékérõl) maradtak vissza. Az alapértelmezett paraméterezése 9 sávos szalagokat feltételezi (6250 bpi), nem pedig a napjainkban elterjedt nagy írássûrûsségû (egészen 62 182 ftpi-s) adathordozókat. Ezek az alapértelmezések természetesen paranccsorból felülbírálhatóak, és így a manapság alkalmazott szalagos meghajtók teljes kapacitása is kihasználható vele.</p></div><div class=paragraph><p>Emellett az <code>rdump</code> és <code>rrestore</code> programok segítségével hálózaton keresztül is le tudjuk menteni az adatainkat egy másik számítógépre csatlakoztatott szalagos egységre. Mind a két program az <a href="https://man.freebsd.org/cgi/man.cgi?query=rcmd&amp;sektion=3&amp;format=html">rcmd(3)</a> és a <a href="https://man.freebsd.org/cgi/man.cgi?query=ruserok&amp;sektion=3&amp;format=html">ruserok(3)</a> parancsokat használja a távoli szalagos meghajtó eléréséhez. Az <code>rdump</code> és <code>rrestore</code> paramétereinek a távoli számítógép használatához kell illeszkedniük. Amikor egy FreeBSD rendszerû számítógépet az <code>rdump</code> paranccsal egy Sun rendszerû, <code>komodo</code> nevû számítógépre mentünk, amelyhez egy Exabyte szalagos meghajtó csatlakozik, akkor ezt a írjuk be:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /sbin/rdump 0dsbfu 54000 13000 126 komodo:/dev/nsa8 /dev/da0a 2&gt;&amp;1</span></code></pre></div></div><div class=paragraph><p>Figyelem: az <span class=filename>.rhosts</span> állományon keresztül hitelesítésnek megvannak a maga biztonsági kockázatai. Ne felejtsük el felmérni ezt a saját környezetünkben sem.</p></div><div class=paragraph><p>A <code>dump</code> és <code>restore</code> parancsokat az <code>ssh</code> használatával még biztonságosabbá tehetjük.</p></div><div class=exampleblock><div class=title>Példa 1. A <code>dump</code> használata az ssh alkalmazással</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /sbin/dump -0uan -f - /usr | gzip -2 | ssh -c blowfish \</span>
          célfelhasználó@cél.gép.hu <span class=nb>dd </span><span class=nv>of</span><span class=o>=</span>/nagyállományok/dump-usr-l0.gz</code></pre></div></div></div></div><div class=paragraph><p>Vagy az <code>RSH</code> környezeti változó megfelelõ beállításával használhatjuk a <code>dump</code> beépített módszerét:</p></div><div class=exampleblock><div class=title>Példa 2. A <code>dump</code> használata az ssh alkalmazással, az <code>RSH</code> környezeti változó beállításával</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># RSH=/usr/bin/ssh /sbin/dump -0uan -f célfelhasználó@cél.gép.hu:/dev/sa0 /usr</span></code></pre></div></div></div></div></div><div class=sect2><h3 id=_tar>18.12.2. <code>tar</code><a class=anchor href=#_tar></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> is az AT&amp;T UNIX 6. verziójáig nyúlik vissza (tehát nagyjából 1975-ig). A <code>tar</code> az állományrendszerrel szoros együttmûködésben dolgozik, állományokat és könyvtárakat ír a szalagra. A <code>tar</code> ugyan nem ismeri a <a href="https://man.freebsd.org/cgi/man.cgi?query=cpio&amp;sektion=1&amp;format=html">cpio(1)</a> által felkínált összes lehetõséget, de nincs is szüksége olyan szokatlan paranccsoros összekapcsolásokra, mint a <code>cpio</code> parancsnak.</p></div><div class=paragraph><p>A FreeBSD 5.3 vagy késõbbi változataiban a GNU <code>tar</code> és az alapértelmezés szerinti <code>bsdtar</code> egyaránt elérhetõ. A GNU változat a <code>gtar</code> paranccsal hívható meg. Az <code>rdump</code> parancshoz hasonló felírásban képes kezelni a távoli eszközöket. Tehát így tudjuk használni a <code>tar</code> parancsot a <code>komodo</code> nevû Sun számítógép Exabíte szalagos meghajtójának elérésére:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/bin/gtar cf komodo:/dev/nsa8 . 2&gt;&amp;1</span></code></pre></div></div><div class=paragraph><p>Ugyanez eltérhetõ a <code>bsdtar</code> használatával is, amikor az <code>rsh</code> programmal összekapcsolva küldünk át a távoli szalagos egységre.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tar cf - . | rsh hálózati-név dd of=szalagos-eszköz obs=20b</span></code></pre></div></div><div class=paragraph><p>Ha a hálózaton keresztül mentés során fontos számunkra a biztonság, akkor az <code>rsh</code> parancs helyett az <code>ssh</code> parancsot használjuk.</p></div></div><div class=sect2><h3 id=_cpio>18.12.3. <code>cpio</code><a class=anchor href=#_cpio></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=cpio&amp;sektion=1&amp;format=html">cpio(1)</a> eredetileg a UNIX® szalagos programjai és szalagos egységei között közvetített. A <code>cpio</code> parancs (többek közt) képes a byte-ok sorrendjének felcserélésére, több különbözõ archívum formátuma szerint írni és adatokat közvetíteni más programok felé. Ez utóbbi lehetõsége miatt a <code>cpio</code> kíválóan alkalmas a telepítõeszközök számára. A <code>cpio</code> nem képes bejárni a könyvtárszerkezetet, és az állományok listáját a szabványos bemeneten keresztül kell megadni neki.</p></div><div class=paragraph><p>A <code>cpio</code> nem támogatja a biztonsági mentés átküldését a hálózaton. Programok összekapcsolásával és az <code>rsh</code> használatával tudunk adatokat küldeni távoli szalagos meghajtókra.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># for f in könyvtár_lista; do</span>
find <span class=nv>$f</span> <span class=o>&gt;&gt;</span> mentési.lista
<span class=k>done</span>
<span class=c># cpio -v -o --format=newc &lt; backup.list | ssh felhasználó@gép &#34;cat &gt; mentőeszköz&#34;</span></code></pre></div></div><div class=paragraph><p>Ahol a <em>könyvtár_lista</em> a menteni kívánt könyvtárak listája, a <em>felhasználó</em>@<em>gép</em> a mentést végzõ gép felhasználójának és hálózati nevének együttese, valamint a <em>mentõeszköz</em>, ahova a mentés kerül (például <span class=filename>/dev/nsa0</span>).</p></div></div><div class=sect2><h3 id=_pax>18.12.4. <code>pax</code><a class=anchor href=#_pax></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=pax&amp;sektion=1&amp;format=html">pax(1)</a> az IEEE/POSIX® válasza a <code>tar</code> és <code>cpio</code> programokra. Az évek során a <code>tar</code> és a <code>cpio</code> különbözõ változatai egy kissé inkompatibilissé váltak. Ezért a szabványosításuk kiharcolása helyett inkább a POSIX® létrehozott egy új archiváló segédprogramot. A <code>pax</code> megpróbálja írni és olvasni a <code>cpio</code> és <code>tar</code> formátumok legtöbb változatát, valamint emellett további saját formátumokat is kezel. A parancskészlete inkább a <code>cpio</code> parancséra emlékeztet, mintsem a <code>tar</code> parancséra.</p></div></div><div class=sect2><h3 id=backups-programs-amanda>18.12.5. Amanda<a class=anchor href=#backups-programs-amanda></a></h3><div class=paragraph><p>Az Amanda (Advanced Maryland Network Disk Archiver) egy kliens-szerver alapú mentési rendszer, nem pedig egy önálló program. Az Amanda szerver menti tetszõleges számú számítógép adatát egyetlen szalagra, melyek az Amanda klienst futtatják és hálózaton keresztül hozzá csatlakoznak. A nagy mennyiségû és nagy kapacitású lemezekkel rendelkezõ rendszerekben közvetlenül a mentéshez szükséges idõ nem áll rendelkezésre a feladat elvégzéséhez. Az Amanda viszont képes megoldani ezt a problémát. Az Amanda képes egy "saját lemez" használatával egyszerre több állományrendszerrõl is biztonsági mentést készíteni. Az Amanda"archívumkészleteket" hoz létre: az Amanda konfigurációs állományában megadott állományrendszerekrõl készít teljes mentést egy adott idõ alatt egy adott mennyiségû szalagra. Az "archívumkészlet" ezenkívül még tartalmaz egy napi inkrementális (vagy különbözeti) mentést is minden egyes állományrendszerrõl. A sérült állományrendszerek visszaállításához mindig a legújabb teljes biztonsági mentésre és a hozzá tartozó inkrementális mentésekre van szükségünk.</p></div><div class=paragraph><p>A konfigurációs állomány segítségével precíz irányítást gyakorolhatunk a létrehozott mentések és az Amanda által keltett hálózati forgalom felett. Az Amanda a fentiek közül bármelyik programmal képes az adatokat szalagra rögzíteni. Az Amanda portként vagy csomagként is elérhetõ, alapértelmezés szerint nem települ.</p></div></div><div class=sect2><h3 id=_ne_csináljunk_semmit>18.12.6. Ne csináljunk semmit<a class=anchor href=#_ne_csináljunk_semmit></a></h3><div class=paragraph><p>A "Ne csináljunk semmit" nem egy újabb számítógépes program, hanem egy igen gyakran alkalmazott mentési stratégia. Nem kell beruházni. Nem kell semmilyen biztonsági mentési rendet követni. Egyszerûen semmit se csinálunk. Ha véletlenül valami történne az adatainkkal, akkor csak mosolyogjunk és törõdjünk bele!</p></div><div class=paragraph><p>Amennyiben az idõnk és adataink keveset vagy éppen semmit se érnek, akkor a "Ne csináljunk semmit" az elérhetõ legjobb biztonsági mentési megoldás számítógépünk számára. De legyünk óvatosak, mert a UNIX® egy igen hasznos eszköz, és fél éven belül könnyen úgy találhatjuk magunkat, hogy mégis csak vannak értékes adataink.</p></div><div class=paragraph><p>A "Ne csináljunk semmit" tökéletesen megfelelõ mentési módszer a <span class=filename>/usr/obj</span> és a hozzá hasonló módon a számítógépen automatikusan generált könyvtárak és állományok esetében. Ugyanilyen példa lehetne a kézikönyv HTML vagy PostScript® változata. Ezek a formátumok ugyanis az SGML források alapján keletkeznek, így a HTML vagy PostScript® állományok mentése nem életbevágó. Az SGML állományokat viszont már annál inkább mentsük!</p></div></div><div class=sect2><h3 id=_melyik_a_legjobb>18.12.7. Melyik a legjobb?<a class=anchor href=#_melyik_a_legjobb></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> <em>Pont.</em> Elizabeth D. Zwicky komolyan letesztelte az itt felsorolt összes programot. A UNIX® állományrendszerek jellegzetességeinek és rajtuk az összes adatunk megõrzésének egyértelmûen a <code>dump</code> felel meg a legjobban. Elizabeth a minden egyes program tesztjéhez olyan állományrendszereket hozott létre, amelyek rengeteg különféle szokatlan helyzetet tartalmaztak (valamint néhány nem annyira szokatlant). Az érintett jellegzetességek: lyukas állományok, lyukas állományok és egy halom nulla, állományok érdekes karakterekkel a nevükben, olvashatatlan és írhatatlan állományok, eszközök, a mentés közben méretüket változtató állományok, a mentés közben keletkezõ és megszûnõ állományok és még sok minden más. Az eredményeit a LISA V-ben jelentette meg 1991 októberében. Lásd <a href=http://www.coredumps.de/doc/dump/zwicky/testdump.doc.html>A biztonsági mentéshez és archiváláshoz használt programok tesztje (angolul)</a>.</p></div></div><div class=sect2><h3 id=_az_adatok_helyreállítása_vészhelyzetben>18.12.8. Az adatok helyreállítása vészhelyzetben<a class=anchor href=#_az_adatok_helyreállítása_vészhelyzetben></a></h3><div class=sect3><h4 id=_a_katasztrófa_elõtt>18.12.8.1. A katasztrófa elõtt<a class=anchor href=#_a_katasztrófa_elõtt></a></h4><div class=paragraph><p>Csupán négy lépést kell megtennünk az esetleges katasztrófák bekövetkezésének esetére.</p></div><div class=paragraph><p>Elõször is két példányban nyomtassuk ki az egyes lemezek lemezcímkéjét (például a <code>bsdlabel da0 | lpr</code> paranccsal) valamint az állományrendszerek táblázatát (az <span class=filename>/etc/fstab</span> állományt) és az összes rendszerindításkor megjelenõ üzenetet.</p></div><div class=paragraph><p>A második lépésben készítenünk kell egy "élõ" rendszerrel rendelkezõ CD-lemezt. Ezen a lemezen megtalálható minden, ami el tudunk indítani egy helyreállításhoz elegendõ rendszert. Ekkor a felhasználó futtatni tudja például a <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=restore&amp;sektion=8&amp;format=html">restore(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=fdisk&amp;sektion=8&amp;format=html">fdisk(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> és a többi segédprogramot. Ez az image a FreeBSD/i386 12.0-RELEASE kiadáshoz az <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/12.0/FreeBSD-12.0-RELEASE-i386-livefs.iso>ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/12.0/FreeBSD-12.0-RELEASE-i386-livefs.iso</a> címrõl tölthetõ le.</p></div><div class=paragraph><p>A harmadik lépésben igyekezzünk minél gyakrabban szalagra menteni. Mindig gondoljuk arra, hogy a legutolsó mentés óta létrehozott változatásaink teljesen el fognak veszni. A mentéseket tartalmazó szalagokat tegyük írásvédetté.</p></div><div class=paragraph><p>A negyedik lépésben ellenõrizzük a a második lépésben készített helyreállító lemezünket és a biztonsági mentéseket tartalmazó szalagokat. Jegyezzük le az eljárást. Ezeket a jegyzeteket is rakjuk el rendszerindító lemezzel, a kinyomtatott adatokkal és a mentéseket tartalmazó szalagokkal együtt. Ezek a jegyzetek megvédenek minket attól, hogy a helyreállítás közbeni kétségbeesésünkben nehogy véletlenül tönkretegyük a biztonsági mentéseinket. (Hogy miként is? Például ha a <code>tar xvf /dev/sa0</code> parancs helyett izgalmunkban a <code>tar cvf /dev/sa0</code> parancsot gépeljük be, akkor azzal felülírjuk a biztonsági mentéseinket).</p></div><div class=paragraph><p>A fokozott biztonság kedvéért minden alkalommal készítsünk rendszerindító lemezt és legalább két mentést. Az egyiket valamilyen távoli helyen tároljuk. Ez a távoli hely NE ugyanannak az épületnek az alagsora legyen! Számos cég alaposan megtanulta ezt a szabályt a Világkereskedelmi központ tragédiája kapcsán. Ez a távoli hely számítógépeinkbõl és merevlemezes meghajtóinkól is fizikailag jól elkülöníthetõ, jelentõs távolságban legyen.</p></div></div><div class=sect3><h4 id=_a_katasztrófa_után>18.12.8.2. A katasztrófa után<a class=anchor href=#_a_katasztrófa_után></a></h4><div class=paragraph><p>Az alapvetõ kérdés: a hardver túlélte? Ha rendszeresen készítettünk biztonsági mentéseket, akkor a szoftverek miatt egyáltalán nem kell aggódnunk.</p></div><div class=paragraph><p>Ha a hardver megsérült, akkor a számítógép használatának újból megkezdése elõtt javasolt cserélni a meghibásodott alkatrészeket.</p></div><div class=paragraph><p>Ha a hardverrel minden rendben találtunk, akkor helyzezzük be a helyreállításhoz használatos "élõ" rendszert tartalmazó lemezt a CD-meghajtóba, és indítsuk el vele a számítógépet. Ezután nemsokára a telepítési menü jelenik meg. Itt a megfelelõ ország után a <span class=guimenuitem>Fixit — Repair mode with CDROM/DVD/floppy or start a shell</span> ("Helyreállítás CD/DVD/floppy használatával, vagy parancssor indítása"), majd a <span class=guimenuitem>CDROM/DVD — Use the live filesystem CDROM/DVD</span> ("A CD/DVD-n található élõ rendszer használata") menüpontokat válasszuk. A <code>restore</code> és a többi segédprogram a <span class=filename>/mnt2/rescue</span> könyvtárban lesznek elérhetõek.</p></div><div class=paragraph><p>Egyenként állítsuk vissza az egyes állományrendszereket.</p></div><div class=paragraph><p>A <code>mount</code> paranccsal próbáljuk meg csatlakoztatni az elsõ lemezünk rendszerindító partícióját (például <code>mount /dev/da0a /mt</code>). Ha a lemezcímke megsérült, akkor <code>bsdlabel</code> alkalmazásával partícionáljuk újra a lemezt és címkézzük meg a korábban kinyomtatott címke adatainak megfelelõen. A <code>newfs</code> segítségével újra hozzuk létre az állományrendszereket. Írható-olvasható módban csatlakoztassuk újra a lemez rendszerinító partícióját (<code>mount -u -o rw /mnt</code>). A biztonság mentést végzõ program és a biztonsági mentést tartalmazó szalagok használatával állítsuk helyre az állományrendszer tartalmát (például <code>restore vrf /dev/sa0</code>). Válasszuk le az állományrendszert (például <code>umount /mnt</code>). Mindegyik sérült állományrendszerre ismételjük a folyamatot.</p></div><div class=paragraph><p>Ahogy mûködõképessé vált a rendszerünk, mentsük az adatainkat új szalagokra. Akármi is okozta a rendszer összeomlását vagy az adatvesztést, ismét lecsaphat. Ha most áldozunk erre még egy órát, akkor azzal a késõbbiekben számos kellemetlenségtõl óvhatjuk meg magunkat.</p></div></div></div></div></div><div class=sect1><h2 id=disks-virtual>18.13. Hálózat, memória és állomány alapú állományrendszerek<a class=anchor href=#disks-virtual></a></h2><div class=sectionbody><div class=paragraph><p>A számítógépünkben létezõ fizikai lemezek, például floppyk, CD-k, merevlemezek és egyebek mellett a lemezek egy másik formáját is képes megérteni a FreeBSD - a <em>virtuális lemezeket</em>.</p></div><div class=paragraph><p>A virtuális lemeznek tekinthetõek többek közt az olyan hálózati állományrendszerek, mint például a <a href=../network-servers/#network-nfs>Hálózati állományrendszer</a> (Network File System, NFS) és a Coda, valamint a memóriában és állományokban létrehozott állományrendszerek.</p></div><div class=paragraph><p>Attól függõen, hogy a FreeBSD melyik változatát használjuk, az állomány és memória alapú állományrendszerek létrehozásához, illetve használatához különbözõ segédprogramokra lesz szükségünk.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;format=html">devfs(5)</a> a felhasználó számára láthatatlan módon hozza létre az eszközök leíróit.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=disks-mdconfig>18.13.1. Állomány alapú állományrendszerek<a class=anchor href=#disks-mdconfig></a></h3><div class=paragraph><p>FreeBSD alatt az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> segédprogram segítségével tudunk memórialemezeket (<a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a>) beállítani és engedélyezni. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> használatához be kell töltenünk az <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a> modult vagy hozzá kell tennünk a rendszermagunk beállításait tartalmazó állományhoz:</p></div><div class="literalblock programlisting"><div class=content><pre>device md</pre></div></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> parancs háromféle memória alapú virtuális lemezt ismer: a <a href="https://man.freebsd.org/cgi/man.cgi?query=malloc&amp;sektion=9&amp;format=html">malloc(9)</a>, állományok vagy lapozóterület használatával létrehozott memórialemezeket. Így lehet például csatlakoztatni a floppyk vagy CD-k állományokban tárolt image-eit.</p></div><div class=paragraph><p>Egy meglevõ állományrendszer image-ének csatlakoztatása:</p></div><div class=exampleblock><div class=title>Példa 3. Egy meglevõ állományrendszer image-ének csatlakoztatása az <code>mdconfig</code> paranccsal</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdconfig -a -t vnode -f image -u 0</span>
<span class=c># mount /dev/md0 /mnt</span></code></pre></div></div></div></div><div class=paragraph><p>Új állományrendszer létrehozása az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> használatával:</p></div><div class=exampleblock><div class=title>Példa 4. Új állomány alapú lemez létrehozása az <code>mdconfig</code> paranccsal</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=új-image bs=1k count=5k</span>
5120+0 records <span class=k>in
</span>5120+0 records out
<span class=c># mdconfig -a -t vnode -f új-image -u 0</span>
<span class=c># bsdlabel -w md0 auto</span>
<span class=c># newfs md0a</span>
/dev/md0a: 5.0MB <span class=o>(</span>10224 sectors<span class=o>)</span> block size 16384, fragment size 2048
        using 4 cylinder <span class=nb>groups </span>of 1.25MB, 80 blks, 192 inodes.
super-block backups <span class=o>(</span><span class=k>for </span>fsck <span class=nt>-b</span> <span class=c>#) at:</span>
 160, 2720, 5280, 7840
<span class=c># mount /dev/md0a /mnt</span>
<span class=c># df /mnt</span>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md0a       4710    4  4330     0%    /mnt</code></pre></div></div></div></div><div class=paragraph><p>Ha az <code>-u</code> beállítással nem adjuk meg az egység számát, akkor az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> az <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a> automatikus kiosztásán keresztül fog egy használatban még nem levõ eszközt kiválasztani. Az így kiosztott egység neve az <span class=filename>md4</span> névhez hasonlóan jelenik meg a szabványos kimeneten. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> használatának részleteirõl olvassuk el a hozzá tartozó man oldalt.</p></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> egy nagyon sokoldalú segédeszköz, habár használatakor viszonylag sok parancsot kell kiadni egy állomány alapú állományrendszer létrehozásához. A FreeBSD azonban alapból tartalmaz még egy <a href="https://man.freebsd.org/cgi/man.cgi?query=mdmfs&amp;sektion=8&amp;format=html">mdmfs(8)</a> nevû segédprogramot is, ami az <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a> lemezeket az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> segítségével állítja be, létrehoz rajtuk egy UFS típusú állományrendszert a <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> segítségével és csatlakoztatja a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> paranccsal. Így például, ha az iménti állományrendszert akarjuk létrehozni és csatlakoztatni, akkor egyszerûen csak gépeljünk be ennyit:</p></div><div class=exampleblock><div class=title>Példa 5. Állomány alapú lemezek beállítása és csatlakoztatása az <code>mdmfs</code> paranccsal</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=új-image bs=1k count=5k</span>
5120+0 records <span class=k>in
</span>5120+0 records out
<span class=c># mdmfs -F új-image -s 5m md0 /mnt</span>
<span class=c># df /mnt</span>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md0        4718    4  4338     0%    /mnt</code></pre></div></div></div></div><div class=paragraph><p>Ha az <code>md</code> paramétert az egység száma nélkül adjuk meg, akkor <a href="https://man.freebsd.org/cgi/man.cgi?query=mdmfs&amp;sektion=8&amp;format=html">mdmfs(8)</a> az <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a> automatikus kiosztására támaszkodva fog egy addig még nem használt eszközt kiválasztani. A <a href="https://man.freebsd.org/cgi/man.cgi?query=mdmfs&amp;sektion=8&amp;format=html">mdmfs(8)</a> használatának pontos részleteivel kapcsolatban lásd a hozzá tartozó man oldalt.</p></div></div><div class=sect2><h3 id=disks-md-freebsd5>18.13.2. Memória alapú állományrendszerek<a class=anchor href=#disks-md-freebsd5></a></h3><div class=paragraph><p>A memória alapú állományrendszerek esetében általában a "lapozóállomány alapú" megközelítést alkalmazzák. A lapozóállomány alapúság nem arra utal, hogy a memórialemezt alapból kilapozzák lemezre, hanem inkább arra, hogy a memórialemez olyan területen jön létre, amelyet szükség esetén lemezre lehet lapozni. Memória alapú lemezeket a (rendszermag szintû) <a href="https://man.freebsd.org/cgi/man.cgi?query=malloc&amp;sektion=9&amp;format=html">malloc(9)</a> használatával is létre lehet hozni, de a malloc alapú memórialemezeknél, különösen a nagyon nagyok esetében, a rendszer könnyen össze tud omlani, ha kifut a rendelkezésére álló memóriából.</p></div><div class=exampleblock><div class=title>Példa 6. Új memória alapú lemez létrehozása az <code>mdconfig</code> paranccsal</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdconfig -a -t swap -s 5m -u 1</span>
<span class=c># newfs -U md1</span>
/dev/md1: 5.0MB <span class=o>(</span>10240 sectors<span class=o>)</span> block size 16384, fragment size 2048
        using 4 cylinder <span class=nb>groups </span>of 1.27MB, 81 blks, 192 inodes.
        with soft updates
super-block backups <span class=o>(</span><span class=k>for </span>fsck <span class=nt>-b</span> <span class=c>#) at:</span>
 160, 2752, 5344, 7936
<span class=c># mount /dev/md1 /mnt</span>
<span class=c># df /mnt</span>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md1        4718    4  4338     0%    /mnt</code></pre></div></div></div></div><div class=exampleblock><div class=title>Példa 7. Új memória alapú lemez létrehozása az <code>mdmfs</code> paranccsal</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdmfs -s 5m md2 /mnt</span>
<span class=c># df /mnt</span>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md2        4846    2  4458     0%    /mnt</code></pre></div></div></div></div></div><div class=sect2><h3 id=_memórialemezek_leválasztása_a_rendszerrõl>18.13.3. Memórialemezek leválasztása a rendszerrõl<a class=anchor href=#_memórialemezek_leválasztása_a_rendszerrõl></a></h3><div class=paragraph><p>Amikor már nem akarunk tovább használni egy memória vagy állomány alapú állományrendszert, érdemes visszaadnunk az általuk felhasznált erõforrásokat a rendszernek. Elsõként válasszuk le magát az állományrendszert, majd az <a href="https://man.freebsd.org/cgi/man.cgi?query=mdconfig&amp;sektion=8&amp;format=html">mdconfig(8)</a> segítségével kapcsoljuk le a lemezt a rendszerrõl és szabadítsuk fel az általa felhasznált erõforrásokat.</p></div><div class=paragraph><p>Például az <span class=filename>/dev/md4</span> eszközt így lehet lekapcsolni és felszabadítani:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdconfig -d -u 4</span></code></pre></div></div><div class=paragraph><p>A beállított <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a> eszközökkel kapcsolatos többi információt az <code>mdconfig -l</code> paranccsal tudjuk lekérdezni.</p></div></div></div></div><div class=sect1><h2 id=snapshots>18.14. Az állományrendszerek pillanatképei<a class=anchor href=#snapshots></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD a <a href=../config/#soft-updates>Soft Updates</a> mellett felkínál egy másik lehetõséget: az állományrendszerekrõl készíthetõ pillanatfelvételeket.</p></div><div class=paragraph><p>Ezek a pillanatképek lehetõvé teszik a felhasználók számára, hogy adott állományrendszerekrõl képeket hozzanak létre és azt állományként kezeljék. A pillanatképeket az adott állományrendszerben kell létrehozni, és a felhasználók állományrendszerenként húsznál többet nem hozhatnak belõlük létre. Az aktív pillanatképek a szuperblokkban kerülnek rögzítésre, ezért az állományrendszerek leválasztása és újracsatlakoztatása esetén is megmaradnak, még újraindítás után is. Amikor egy pillanatképre már nincs tovább szükségünk, egy szimpla <a href="https://man.freebsd.org/cgi/man.cgi?query=rm&amp;sektion=1&amp;format=html">rm(1)</a> paranccsal eltávolítható. A pillanatképek tetszõleges sorrendben eltávolíthatóak, habár ilyenkor az összes általuk lefoglalt hely nem szabadul fel, mivel más pillanatképeknek még szüksége lehet bizonyos blokkjaira.</p></div><div class=paragraph><p>Miután az <a href="https://man.freebsd.org/cgi/man.cgi?query=mksnap_ffs&amp;sektion=8&amp;format=html">mksnap_ffs(8)</a> paranccsal létrehoztunk egy pillanatképet tartalmazó állományt, beállítódik rá a módosíthatatlanságot jelentõ <code>snapshot</code> állományjelzõ. Egyedül az <a href="https://man.freebsd.org/cgi/man.cgi?query=unlink&amp;sektion=1&amp;format=html">unlink(1)</a> parancs képez ez alól kivételt, mivel segítségével a pillanatképek eltávolíthatóak.</p></div><div class=paragraph><p>A pillanatképek a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> paranccsal hozhatóak létre. A következõ módon tudjuk a <span class=filename>/var</span> egy pillanatképét elkészíteni a <span class=filename>/var/snapshot/snap</span> állományban:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -u -o snapshot /var/snapshot/snap /var</span></code></pre></div></div><div class=paragraph><p>Vagy a <a href="https://man.freebsd.org/cgi/man.cgi?query=mksnap_ffs&amp;sektion=8&amp;format=html">mksnap_ffs(8)</a> meghívásával is készíthetünk pillanatképeket:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mksnap_ffs /var /var/snapshot/snap</span></code></pre></div></div><div class=paragraph><p>Az állományrendszeren (például <span class=filename>/var</span>) a pillanatképeket tartalmazó állományokat a <a href="https://man.freebsd.org/cgi/man.cgi?query=find&amp;sektion=1&amp;format=html">find(1)</a> paranccsal kereshetjük meg:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># find /var -flags snapshot</span></code></pre></div></div><div class=paragraph><p>Ahogy elkészítettünk egy pillanatképet, több mindenre is felhasználhatjuk:</p></div><div class=ulist><ul><li><p>Egyes rendszergazdák a pillanatképeket biztonsági mentésekhez használják, mivel ezek gond nélkül áttehetõek CD-re vagy szalagra.</p></li><li><p>Az állományrendszerek sértetlenségét ellenõrzõ program, az <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> is lefuttatható egy ilyen pillanatképen. Feltéve, hogy az állományrendszer csatlakoztatásakor tiszta volt, mindig egy tiszta (és változásokat nem tartalmazó) eredményt kell kapnunk. Ennek megléte elengedhetetlen a háttérben futtatható <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> mûködéséhez.</p></li><li><p>Futassuk le a <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> segédprogramot a pillanatképen. Az így létrehozott mentés megegyezik az állományrendszer adott pillanatban felvett állapotával. Az <code>-L</code> beállítás megadásával maga a <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> is képes egyetlen parancsban pillanatfelvételt készíteni, ebbõl létrehozni a mentést, majd eltávolítani.</p></li><li><p>A pillanatképet képesek vagyunk a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> paranccsal az állományrendszer befagyasztott változataként csatlakoztatni:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdconfig -a -t vnode -f /var/snapshot/snap -u 4</span>
<span class=c># mount -r /dev/md4 /mnt</span></code></pre></div></div></li></ul></div><div class=paragraph><p>Így már a <span class=filename>/mnt</span> könyvtárba csatlakoztatva be tudjuk járni a befagyasztott <span class=filename>/var</span> állományrendszert. Minden a pillanatfelvétel készítésének idõpontjának megfelelõ állapotban fog maradni. Az egyetlen kivétel talán annyi, hogy korábbi pillanatképek nulla méretû állományként fognak megjelenni. Mikor befejeztük a pillanatképek használatát, a <a href="https://man.freebsd.org/cgi/man.cgi?query=umount&amp;sektion=8&amp;format=html">umount(8)</a> paranccsal le tudjuk választani:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># umount /mnt</span>
<span class=c># mdconfig -d -u 4</span></code></pre></div></div><div class=paragraph><p>A <code>softupdates</code> és az állományrendszerek pillanatképeinek használatával, illetve mûszaki leírásukkal kapcsolatban látogassuk meg Marshall Kirk McKusick honlapját a <a href=http://www.mckusick.com/>http://www.mckusick.com/</a> címen (angolul).</p></div></div></div><div class=sect1><h2 id=quotas>18.15. Az állományrendszerek kvótái<a class=anchor href=#quotas></a></h2><div class=sectionbody><div class=paragraph><p>A kvóták használata az operációs rendszerben egy olyan választható lehetõség, aminek segítségével állományrendszerenként korlátozni tudjuk az egyes felhasználók vagy csoporttagok által elhasznált lemezterület és/vagy állományok mennyiségét. Ezt leggyakrabban olyan idõosztásos rendszerekben használják ki, ahol szükség lehet az egyes felhasználókra vagy csoportokra esõ erõforrások mennyiségének szabályozására. Ezzel tudjuk megakadályozni, hogy a felhasználók vagy csoportok elfogyasszák az összes rendelkezésre álló lemezterületet.</p></div><div class=sect2><h3 id=_a_kvóták_használatának_beállítása>18.15.1. A kvóták használatának beállítása<a class=anchor href=#_a_kvóták_használatának_beállítása></a></h3><div class=paragraph><p>Mielõtt nekilátnánk a kvóták használatának, meg kell gyõzõdnünk róla, hogy a rendszermagunkban megvan hozzá a szükséges támogatás. A kvótákat a következõ sorral lehet engedélyezni a rendszermag beállításait tartalmazó állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>options QUOTA</pre></div></div><div class=paragraph><p>A gyári <span class=filename>GENERIC</span> rendszermag ezt alapból nem engedélyezi, ezért ehhez mindenképpen be kell állítani, le kell fordítani és telepíteni egy kell saját rendszermagot. A saját rendszermag létrehozásához kövessük a <a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a> utasításait.</p></div><div class=paragraph><p>Ha ezzel megvagyunk, akkor a következõ sorral bõvítsük ki az <span class=filename>/etc/rc.conf</span> állományt:</p></div><div class="literalblock programlisting"><div class=content><pre>enable_quotas=&#34;YES&#34;</pre></div></div><div class=paragraph><p>A kvótákat kezelõ rendszer indításának finomabb szabályozására létezik még egy további beállítási lehetõség is. A rendszer indítása során általában az egyes állományrendszerek kvótáját a <a href="https://man.freebsd.org/cgi/man.cgi?query=quotacheck&amp;sektion=8&amp;format=html">quotacheck(8)</a> program ellenõrzi. A <a href="https://man.freebsd.org/cgi/man.cgi?query=quotacheck&amp;sektion=8&amp;format=html">quotacheck(8)</a> gondoskodik róla, hogy a kvótákat tároló adatbázis ténylegesen az állományrendszeren található adatokat tükrözi. Ez egy nagyon idõigényes folyamat, ami rányomja bélyegét a rendszer elindulásához szükséges idõ mennyiségére is. Amennyiben szeretnénk megtakarítani ezt a lépést, tegyük bele az <span class=filename>/etc/rc.conf</span> állományba a direkt erre a célra kialakított beállítást:</p></div><div class="literalblock programlisting"><div class=content><pre>check_quotas=&#34;NO&#34;</pre></div></div><div class=paragraph><p>Végezetül az állományrendszereken az <span class=filename>/etc/fstab</span> megfelelõ módosításával tudjuk egyenként engedélyezni a lemezkvóták használatát. Itt lehet bekapcsolni az állományrendszerek felhasználókra vagy csoportokra, esetleg mind a kettõjükre vonatkozó kvótáikat.</p></div><div class=paragraph><p>Ha felhasználói szintû kvótákat akarunk engedélyezni egy állományrendszeren, akkor az <span class=filename>/etc/fstab</span> állományban az állományrendszer beállításai közé vegyük fel a <code>userquota</code> opciót. Például így:</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/da1s2g   /home    ufs rw,userquota 1 2</pre></div></div><div class=paragraph><p>Ehhez hasonlóan tudjuk engedélyezni a <code>userquota</code> helyett a <code>groupquota</code> opció használatával a csoportszintû kvótákat is. A felhasználói- és csoportszintû kvóták együttes engedélyezéséhez így kell átírni az állományrendszer bejegyzését:</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/da1s2g    /home    ufs rw,userquota,groupquota 1 2</pre></div></div><div class=paragraph><p>Alapértelmezés szerint az állományrendszerekhez tartozó kvóták a gyökerükben található <span class=filename>quota.user</span> valamint <span class=filename>quota.group</span> állományokban tárolódnak. Errõl részletesebben az <a href="https://man.freebsd.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;format=html">fstab(5)</a> man oldalon olvashatunk. Noha még az <a href="https://man.freebsd.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;format=html">fstab(5)</a> man oldala szerint is megadható más elérési út a kvótákat tároló állományokhoz, semmiképpen sem javasoljuk ezt, mert úgy tûnik, hogy a kvótákat kezelõ különbözõ segédprogramok ezzel nem képesek rendesen megbirkózni.</p></div><div class=paragraph><p>Most kell újraindítani a rendszerünket az új rendszermaggal. Az <span class=filename>/etc/rc</span> magától le fogja futtatni a kezdeti kvótaállományok létrehozásához szükséges parancsokat az <span class=filename>/etc/fstab</span> állományban megadott állományrendszereken. Ennek megfelelõen tehát nem nekünk kell kézzel létrehoznunk ezeket az állományokat.</p></div><div class=paragraph><p>Hétköznapi esetben egyáltalán nem kell manuális futtatnunk a <a href="https://man.freebsd.org/cgi/man.cgi?query=quotacheck&amp;sektion=8&amp;format=html">quotacheck(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=quotaon&amp;sektion=8&amp;format=html">quotaon(8)</a> vagy <a href="https://man.freebsd.org/cgi/man.cgi?query=quotaoff&amp;sektion=8&amp;format=html">quotaoff(8)</a> parancsokat. Habár ha tisztában szeretnénk lenni a pontos mûködésükkel, akkor mindenképpen lapozzuk fel a hozzájuk tartozó man oldalakat.</p></div></div><div class=sect2><h3 id=_a_kvóták_beállítása>18.15.2. A kvóták beállítása<a class=anchor href=#_a_kvóták_beállítása></a></h3><div class=paragraph><p>Ahogy sikerült beállítani a kvóták használatát, egybõl ellenõrizzük is a mûködõképességüket. Ezt legegyszerûbben a következõ paranccsal tehetjük meg:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># quota -v</span></code></pre></div></div><div class=paragraph><p>Itt egy sorban összefoglalva láthatjuk a jelenlegi lemezhasználatot és az egyes állományrendszereken engedélyezett kvóták korlátait.</p></div><div class=paragraph><p>Most már készenállunk arra, hogy az <a href="https://man.freebsd.org/cgi/man.cgi?query=edquota&amp;sektion=8&amp;format=html">edquota(8)</a> paranccsal végre korlátokat is beállítsunk a kvótákhoz.</p></div><div class=paragraph><p>Számos beállítás áll rendelkezésünkre a felhasználók vagy csoportok által lefoglalható lemezterület vagy a létrehozható állományok számának korlátozását illetõen. A helyfoglalást szabályozhatjuk lemezterület alapján (blokk kvóta) vagy az állományok száma szerint (állományleíró kvóta), esetleg a kettõ kombinációjával. A korlátok további két kategóriára bonthatóak: erõsre és gyengére.</p></div><div class=paragraph><p>Az erõs korlátot (hard limit) nem lehet túllépni. Ahogy a felhasználó eléri a számára kiszabott erõs korlátot, semmilyen további területet nem használhat fel a kérdéses állományrendszeren. Például, ha a felhasználónak az állományrendszeren 500 kilobyte-os erõs korlátot állítottunk be, és éppen 490 kilobyte-nál tart, akkor a felhasználó innen már csak 10 kilobyte-nyi helyet foglalhat le. 11 kilobyte lefoglalása már nem fog sikerrel járni.</p></div><div class=paragraph><p>Ezzel szemben a gyenge korlátok (soft limit) egy adott ideig átléphetõek. Ezt az idõt türelmi idõnek (grace period) nevezik, ami alapértelmezés szerint egy hét. Ha a felhasználó a gyenge korláton felül marad a türelmi idõ után is, akkor ezt a gyenge korlát erõssé válik és semmilyen további helyfoglalásra nem lesz lehetõsége. Amikor a felhasználók újra a gyenge korlát alá kerül, a türelmi idõ is visszaáll a beállított értékére.</p></div><div class=paragraph><p>A most következõ példában az <a href="https://man.freebsd.org/cgi/man.cgi?query=edquota&amp;sektion=8&amp;format=html">edquota(8)</a> parancsot mutatjuk be. Amikor meghívjuk az <a href="https://man.freebsd.org/cgi/man.cgi?query=edquota&amp;sektion=8&amp;format=html">edquota(8)</a> parancsot, akkor elindul az <code>EDITOR</code> környezeti változónak megfelelõ szövegszerkesztõ, illetve ennek hiányában a vi, és lehetõségünk nyílik a kvóta korlátainak módosítására.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># edquota -u teszt</span></code></pre></div></div><div class="literalblock programlisting"><div class=content><pre>Quotas for user teszt:
/usr: kbytes in use: 65, limits (soft = 50, hard = 75)
        inodes in use: 7, limits (soft = 50, hard = 60)
/usr/var: kbytes in use: 0, limits (soft = 50, hard = 75)
        inodes in use: 0, limits (soft = 50, hard = 60)</pre></div></div><div class=paragraph><p>Normális esetben minden kvótával rendelkezõ állományrendszerhez két sort kapunk. Közülük az egyik sorban szerepelnek a blokkok korlátai, a másikban az állományleírók korlátai. Ha valamelyiküket meg akarjuk változtatni, akkor egyszerûen csak át kell írnunk az adott korlát értékét. Például növeljük meg a felhasználók 50-es gyenge és 75-ös erõs blokk korlátját 500-as gyenge és 600-as erõs korlátra. Ehhez szerkesszük át a</p></div><div class="literalblock programlisting"><div class=content><pre>/usr: kbytes in use: 65, limits (soft = 50, hard = 75)</pre></div></div><div class=paragraph><p>sort erre:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr: kbytes in use: 65, limits (soft = 500, hard = 600)</pre></div></div><div class=paragraph><p>Az új korlátok akkor fognak érvénybe lépni, miután kiléptünk a szövegszerkesztõbõl.</p></div><div class=paragraph><p>Néha hasznos lehet a korlátokat adott felhasználói azonosítókhoz beállítani. Ezt az <a href="https://man.freebsd.org/cgi/man.cgi?query=edquota&amp;sektion=8&amp;format=html">edquota(8)</a> parancs <code>-p</code> paraméterével tudjuk elvégezni. Elõször is állítsuk be egy felhasználónak a beállítani kívánt korlátokat, majd futtassuk le az <code>edquota -p teszt kezdõuid-véguid</code> parancsot. Például ha a <code>teszt</code> nevû felhasználónak állítottuk be a számunkra megfelelõ korlátokat, akkor a következõ paranccsal lehet a rá vonatkozó korlátokat kiterjeszteni a 10 000 és 19 999 közötti azonosítójú felhasználókra:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># edquota -p teszt 10000-19999</span></code></pre></div></div><div class=paragraph><p>Errõl bõvebben az <a href="https://man.freebsd.org/cgi/man.cgi?query=edquota&amp;sektion=8&amp;format=html">edquota(8)</a> man oldalán kaphatunk felvilágosítást.</p></div></div><div class=sect2><h3 id=_a_kvóták_korlátainak_és_a_lemezhasználat_ellenõrzése>18.15.3. A kvóták korlátainak és a lemezhasználat ellenõrzése<a class=anchor href=#_a_kvóták_korlátainak_és_a_lemezhasználat_ellenõrzése></a></h3><div class=paragraph><p>A kvóták korlátait és a lemez jelenlegi kihasználtságát a <a href="https://man.freebsd.org/cgi/man.cgi?query=quota&amp;sektion=1&amp;format=html">quota(1)</a> vagy <a href="https://man.freebsd.org/cgi/man.cgi?query=repquota&amp;sektion=8&amp;format=html">repquota(8)</a> parancsokkal is ellenõrizhetjük. A <a href="https://man.freebsd.org/cgi/man.cgi?query=quota&amp;sektion=1&amp;format=html">quota(1)</a> parancs segítségével ellenõrizhetõ az egyes felhasználók vagy csoportok kvótája és lemezhasználata. A felhasználók csak a saját adataikhoz férhetnek hozzá, illetve mindazon csoportokéhoz, aminek tagjai. Egyedül a rendszeradminisztrátor képes látni az összes felhasználó és csoport kvótáját. A <a href="https://man.freebsd.org/cgi/man.cgi?query=repquota&amp;sektion=8&amp;format=html">repquota(8)</a> paranccsal kérdezhetõ le az összes kvóta és lemezhasználat rövid kimutatása minden olyan állományrendszeren, ahol azok engedélyezettek.</p></div><div class=paragraph><p>A következõ kimenet a <code>quota -v</code> parancstól származik, ahol a felhasználónak két állományrendszeren is vannak kvótái:</p></div><div class="literalblock programlisting"><div class=content><pre>Disk quotas for user teszt (uid 1002):
     Filesystem  usage    quota   limit   grace   files   quota   limit   grace
           /usr      65*     50      75   5days       7      50      60
       /usr/var       0      50      75               0      50      60</pre></div></div><div class=paragraph><p>A fenti példában látható, hogy a felhasználó a <span class=filename>/usr</span> állományrendszeren pillanatnyilag 15 kilobyte-tal van az 50 kilobyte-os gyenge korlátja felett és 5 napja van hátra a türelmi idõbõl. Vegyük észre a szám mellett levõ csillagot (<code>*</code>), amivel a rendszer jelzi, hogy a felhasználó túllépte a korlátját.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=quota&amp;sektion=1&amp;format=html">quota(1)</a> parancs kimenetében általában nem jelennek meg azok az állományrendszerek, amelyeken a felhasználónak ugyan vannak kvótái, de nem foglal rajtuk lemezterületet. A <code>-v</code> beállítás megadásával ezek az állományrendszerek is láthatóvá válnak, mint ahogy azt a fenti példában is megfigyelhettük a <span class=filename>/usr/var</span> esetében.</p></div></div><div class=sect2><h3 id=_kvóták_nfs_en_keresztül>18.15.4. Kvóták NFS-en keresztül<a class=anchor href=#_kvóták_nfs_en_keresztül></a></h3><div class=paragraph><p>A kvóták az NFS szerver kvótákért felelõs alrendszerében is engedélyezhetõek. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=rpc.rquotad&amp;sektion=8&amp;format=html">rpc.rquotad(8)</a> démon teszi az NFS klienseken futtatott <a href="https://man.freebsd.org/cgi/man.cgi?query=quota&amp;sektion=1&amp;format=html">quota(1)</a> parancsok számára elérhetõvé a kvótákkal kapcsolatos információkat, aminek köszönhetõen a felhasználók távolról is képesek lekérdezni a kvótáikat.</p></div><div class=paragraph><p>Az <code>rpc.rquotad</code> aktivilásához a következõt kell beállítani az <span class=filename>/etc/inetd.conf</span> állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>rquotad/1      dgram rpc/udp wait root /usr/libexec/rpc.rquotad rpc.rquotad</pre></div></div><div class=paragraph><p>Majd ne felejtsük el újraindítani az <code>inetd</code> démont sem:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/inetd restart</span></code></pre></div></div></div></div></div><div class=sect1><h2 id=disks-encrypting>18.16. A lemezpartíciók titkosítása<a class=anchor href=#disks-encrypting></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD kitûnõ futásközbeni védelmet ajánl fel az adatok illetéktelen hozzáférése ellen. Az állományok engedélyei és a kötelezõ hozzáférés-vezérlés (Mandatory Access Control, MAC, lásd <a href=../mac/#mac>Kötelező hozzáférés-vezérlés (MAC)</a>) segítenek megvédeni érzékeny adatainkat az illéktelenek ellen az operációs rendszer futása és a számítógép mûködése során. Azonban az operációs rendszerben kezelt engedélyek teljesen hatástalanok abban az esetben, ha a támadó fizikailag is képes hozzáférni a számítógépünkhöz, eltávolítani a merevlemezt és egy másik operációs rendszer segítségével kielemezni a rajta található fontos adatainkat.</p></div><div class=paragraph><p>Függetlenül attól, hogy a támadó valójában miként is férkõzött hozzá a merevlemezünkhöz, vagy miként kapcsolta le a számítógépünket, a FreeBSD megtalálható GEOM alapú lemeztitkosítás (gbde) és a <code>geli</code> titkosítási alrendszer egyaránt képes védelmet nyújtani a számítógépen található állományrendszerek számára az értékes adatok után kutató igen motivált betörõk ellen. A csupán egyes állományokra kiterjedõ körmönfont titkosítási módszerekkel szemben a <code>gbde</code> és a <code>geli</code> az egész állományrendszert észrevétlen módon titkosítja. Titkosítatlan adat nem is kerül a merevlemezre.</p></div><div class=sect2><h3 id=_a_lemez_titkosítása_a_gbde_használatával>18.16.1. A lemez titkosítása a gbde használatával<a class=anchor href=#_a_lemez_titkosítása_a_gbde_használatával></a></h3><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Váljunk <code>root</code> felhasználóvá</p><div class=paragraph><p>A gbde beállításához rendszeradminisztrátori jogosultságokra lesz szükségünk.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% su -
Password:</code></pre></div></div></li><li><p>Adjuk hozzá a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=4&amp;format=html">gbde(4)</a> támogatását a rendszermag konfigurációs állományához</p><div class=paragraph><p>Tegyük a következõ sort a rendszermag beállításait tartalmazó állományba:</p></div><div class=paragraph><p><code>options GEOM_BDE</code></p></div><div class=paragraph><p>Fordítsuk újra a rendszermagot a <a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a>ben leírtak szerint.</p></div><div class=paragraph><p>Indítsuk el a számítógépet az új rendszermaggal.</p></div></li><li><p>A rendszermag újrafordítása helyett a <code>kldload</code> paranccsal is betölthetjük a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=4&amp;format=html">gbde(4)</a> modulját:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload geom_bde</span></code></pre></div></div></li></ol></div></div></div><div class=sect3><h4 id=_a_titkosított_merevlemez_elõkészítése>18.16.1.1. A titkosított merevlemez elõkészítése<a class=anchor href=#_a_titkosított_merevlemez_elõkészítése></a></h4><div class=paragraph><p>A következõ példa azt feltételezi, hogy a rendszerünkhöz egy új merevlemezt adunk hozzá, amin egyetlen titkosított partíció foglal helyet. Ezt a partíciót a <span class=filename>/private</span> könyvtárba fogjuk csatlakoztatni. A gbde használható a <span class=filename>/home</span> és a <span class=filename>/var/mail</span> titkosítására is, de ennek megvalósítása olyan bonyolult utasításokat igényel, amelyek meghaladják ennek a bevezetésnek a kereteit.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Az új merevlemez hozzáadása</p><div class=paragraph><p>A <a href=#disks-adding>Lemezek hozzáadása</a>ban bemutatottak szerint adjuk hozzá a rendszerünkhöz az új merevlemezt. A példában az új lemez partícióját a <span class=filename>/dev/ad4s1c</span> néven fogjuk tudni elérni. A <span class=filename>/dev/ad0s1*</span> eszközök a példában szereplõ FreeBSD rendszer szabványos partícióit jelölik.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ls /dev/ad*</span>
/dev/ad0        /dev/ad0s1b     /dev/ad0s1e     /dev/ad4s1
/dev/ad0s1      /dev/ad0s1c     /dev/ad0s1f     /dev/ad4s1c
/dev/ad0s1a     /dev/ad0s1d     /dev/ad4</code></pre></div></div></li><li><p>Hozzunk létre egy könyvtárat a gbde zárolásainak tárolásához</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /etc/gbde</span></code></pre></div></div><div class=paragraph><p>A gbdenek azért van szüksége a zárolásokat rögzítõ állományokra, hogy hozzá tudjon férni a titkosított partíciókhoz. Amennyiben ezt nem tudja megtenni, a gbde anélkül nem lesz képes visszafejteni a titkosított partíciókon tárolt adatokat, hogy az ezeket elérni akaró szoftvereknek ne kelljen jelentõsebb mértékben manuálisan beavatkoznia. Mindegyik titkosított partíció külön zároló állományt használ.</p></div></li><li><p>A gbde partíció inicializálása</p><div class=paragraph><p>A gbde által használt partíciókat használatuk elõtt inicializálni kell. Ezt a mûveletet azonban csak egyszer kell elvégezni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gbde init /dev/ad4s1c -i -L /etc/gbde/ad4s1c.lock</span></code></pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> ekkor elindít egy szövegszerkesztõt és benne egy sablon segítségével be tudjuk állítani a különbözõ konfigurációs értékeket. Az UFS1 vagy UFS2 használata esetén állítsuk a szektorméretet 2048-ra:</p></div><div class="literalblock programlisting"><div class=content><pre>$FreeBSD: src/sbin/gbde/template.txt,v 1.1 2002/10/20 11:16:13 phk Exp $
#
# Sector size is the smallest unit of data which can be read or written.
# Making it too small decreases performance and decreases available space.
# Making it too large may prevent filesystems from working.  512 is the
# minimum and always safe.  For UFS, use the fragment size
#
sector_size     =       2048
[...]</pre></div></div><div class=paragraph><p>A megjegyzés fordítása:</p></div><div class="literalblock programlisting"><div class=content><pre>A szektorméret az adatok írásának és olvasásának legkisebb egysége.  Ha
túlságosan kicsire választjuk meg, akkor csökken a teljesítmény és csökken a
rendelkezésre álló hely.  Ha viszont túlságosan nagyra hagyjuk, akkor azzal
akadályozzuk az állományrendszerek munkáját.  512 a legkisebb érték, amely mindig
megbízható.  Az UFS esetén használjuk a fragmensek méretét.</pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> kétszer is rá fog kérdeni az adatok titkosítására használt jelmondatra. A jelmondatnak természetesen mind a kétszer ugyanannak kell lennie. A gbde védelmének hatékonysága teljesen mértékben az általunk választott jelmondat minõségétõl függ .</p></div><div class=paragraph><p>A <code>gbde init</code> parancs létrehoz egy zároló állományt a gbde partícióhoz, amely ebben a példában az <span class=filename>/etc/gbde/ad4s1c.lock</span> néven keletkezett. A gbde zároló állományainak ".lock" névre kell végzõdniük, mivel az <span class=filename>/etc/rc.d/gbde</span> indítószkript csak ebben az esetben észleli rendesen.</p></div><div class="admonitionblock caution"><table><tbody><tr><td class=icon><i class="fa icon-caution" title=Caution></i></td><td class=content><div class=paragraph><p>A gbde zároló állományait a titkosított partíciók tartalmával együtt <em>kell</em> lementeni. Miközben a zároló állomány törlése nem tudja megakadályozni, hogy az elszánt támadó visszafejtse a gbde által titkosított partíciót, addig a zároló állomány nélkül a jogos tulajdonos órási mennyiségû munka befektetése nélkül képtelen lesz hozzáférni a rajta levõ adatokhoz. Ez utóbbitól egyébként a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> és a rendszer tervezõje is totálisan elhatárolja magát.</p></div></td></tr></tbody></table></div></li><li><p>A titkosított partíció illesztése a rendszermaghoz</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gbde attach /dev/ad4s1c -l /etc/gbde/ad4s1c.lock</span></code></pre></div></div><div class=paragraph><p>Ekkor a titkosított partíció illesztéséhez a rendszer kérni fogja az inicializálás során választott jelmondatot. Ezután az új titkosított eszköz megjelenik a <span class=filename>/dev</span> könyvtárban <span class=filename>/dev/eszköznév.bde</span> néven:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ls /dev/ad*</span>
/dev/ad0        /dev/ad0s1b     /dev/ad0s1e     /dev/ad4s1
/dev/ad0s1      /dev/ad0s1c     /dev/ad0s1f     /dev/ad4s1c
/dev/ad0s1a     /dev/ad0s1d     /dev/ad4        /dev/ad4s1c.bde</code></pre></div></div></li><li><p>Állományrendszer kialakítása egy titkosított eszközön</p><div class=paragraph><p>Ahogy sikerült a titkosított eszközt illeszteni a rendszermaghoz, létre is tudunk hozni egy állományrendszert rajta. Erre a célra a <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> remekül használható. Mivel egy új UFS2 állományrendszerek inicializálása sokkal gyorsabb a régi UFS1 állományrendszerek inicializálásánál, ezért a <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> használata esetén az <code>-O2</code> beállítás megadása ajánlott.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -U -O2 /dev/ad4s1c.bde</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> parancsot egy illesztett gbde partíción kell végrehajtani, amit onnan ismerhetünk meg, hogy az eszköz nevében szerepel a <span class=filename>*.bde</span> kiterjesztés.</p></div></td></tr></tbody></table></div></li><li><p>A titkosított partíció csatlakoztatása</p><div class=paragraph><p>Hozzunk létre egy csatlakozási pontot a titkosított állományrendszer számára.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /privát</span></code></pre></div></div><div class=paragraph><p>Csatlakoztassuk a titkosított állományrendszert.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/ad4s1c.bde /privát</span></code></pre></div></div></li><li><p>Ellenõrizzük a titkosított állományrendszer mûködõképességét</p><div class=paragraph><p>A titkosított állományrendszert most már látja a <a href="https://man.freebsd.org/cgi/man.cgi?query=df&amp;sektion=1&amp;format=html">df(1)</a> program és készen áll a használatra.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>df</span> <span class=nt>-H</span>
Filesystem        Size   Used  Avail Capacity  Mounted on
/dev/ad0s1a      1037M    72M   883M     8%    /
/devfs            1.0K   1.0K     0B   100%    /dev
/dev/ad0s1f       8.1G    55K   7.5G     0%    /home
/dev/ad0s1e      1037M   1.1M   953M     0%    /tmp
/dev/ad0s1d       6.1G   1.9G   3.7G    35%    /usr
/dev/ad4s1c.bde   150G   4.1K   138G     0%    /private</code></pre></div></div></li></ol></div></div></div></div><div class=sect3><h4 id=_létezõ_titkosított_állományrendszerek_csatlakoztatása>18.16.1.2. Létezõ titkosított állományrendszerek csatlakoztatása<a class=anchor href=#_létezõ_titkosított_állományrendszerek_csatlakoztatása></a></h4><div class=paragraph><p>A rendszer minden egyes indítása után az összes titkosított állományrendszert tényleges használata elõtt újra illeszteni kell a rendszermaghoz, ellenõrizni az épségét és csatlakoztatni. Az ehhez szükséges parancsokat <code>root</code> felhasználóként kell kiadni.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>A gbde partíció illesztése a rendszermaghoz</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gbde attach /dev/ad4s1c -l /etc/gbde/ad4s1c.lock</span></code></pre></div></div><div class=paragraph><p>A gbde partíció inicializálása során megadott jelmondatot kell megadnunk a mûvelet elvégzéséhez.</p></div></li><li><p>Az állományrendszer épségének ellenõrzése</p><div class=paragraph><p>Mivel a titkosított állományrendszerek az automatikus csatlakoztatáshoz még nem szerepeltethetõek az <span class=filename>/etc/fstab</span> állományban, ezért az ilyen állományrendszereket csatlakoztatásuk elõtt manuálisan ellenõriztetni kell a <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> lefuttatásával.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fsck -p -t ffs /dev/ad4s1c.bde</span></code></pre></div></div></li><li><p>A titkosított állományrendszer csatlakoztatása</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/ad4s1c.bde /privát</span></code></pre></div></div><div class=paragraph><p>A titkosított állományrendszer most már készen áll a használatra.</p></div></li></ol></div></div></div><div class=sect4><h5 id=_a_titkosított_partíciók_önálló_csatlakoztatása>18.16.1.2.1. A titkosított partíciók önálló csatlakoztatása<a class=anchor href=#_a_titkosított_partíciók_önálló_csatlakoztatása></a></h5><div class=paragraph><p>Lehet írni olyan szkriptet, amely a titkosított partíciókat magától illeszti, ellenõrzi és csatlakoztatja, de biztonsági megfontolásokból semmi esetben sem szabad tartalmaznia a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> jelszavát. Ehelyett azt javasoljuk, hogy az ilyen szkripteknek külön meg kelljen adni a jelszót konzolon vagy az <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> használatán keresztül.</p></div><div class=paragraph><p>De használhatjuk a mellékelt <span class=filename>rc.d</span> szkriptet is. A szkript paramétereit az <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> állományon keresztül adhatjuk meg, például:</p></div><div class="literalblock programlisting"><div class=content><pre>gbde_autoattach_all=&#34;YES&#34;
gbde_devices=&#34;ad4s1c&#34;
gbde_lockdir=&#34;/etc/gbde&#34;</pre></div></div><div class=paragraph><p>Ilyenkor a gbde által használt jelmondatot a rendszer indításakor kell megadni. Miután begépeltük a megfelelõ jelmondatot, a titkosított gbde partíció magától csatlakoztatásra kerül. Ez akkor lehet hasznos, ha a gbde megoldását hordozható számítógépeken alkalmazzuk.</p></div></div></div><div class=sect3><h4 id=_a_gbde_által_alkalmazott_titkosítási_módszerek>18.16.1.3. A gbde által alkalmazott titkosítási módszerek<a class=anchor href=#_a_gbde_által_alkalmazott_titkosítási_módszerek></a></h4><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> a szektorok tartalmát 128 bites AES használatával CBC módban titkosítja. A lemezen található minden egyes szektort eltérõ AES kulccsal kódolja. A gbde kriptográfiai felépítését, valamint mindazt, hogy az egyes szektorok kulcsai miként származtathatóak a felhasználó által megadott jelmondatból, a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=4&amp;format=html">gbde(4)</a> man oldalán olvashatjuk.</p></div></div><div class=sect3><h4 id=_kompatibilitási_problémák>18.16.1.4. Kompatibilitási problémák<a class=anchor href=#_kompatibilitási_problémák></a></h4><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> nem kompatibilis a gbde által titkosított eszközökkel. A <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> indítása elõtt minden <span class=filename>*.bde</span> eszközt ki kell iktatni a rendszermagból, különben az eszközök keresése során össze fog omlani. A példánkban használt titkosított eszközt a következõ paranccsal kell lekapcsolni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gbde detach /dev/ad4s1c</span></code></pre></div></div><div class=paragraph><p>Továbbá megjegyezzük azt is, hogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=4&amp;format=html">vinum(4)</a> nem használja a <a href="https://man.freebsd.org/cgi/man.cgi?query=geom&amp;sektion=4&amp;format=html">geom(4)</a> alrendszert, ezért a gbde alkalmazása során nem használhatunk Vinum-köteteket.</p></div></div></div><div class=sect2><h3 id=_a_lemezek_titkosítása_a_geli_használatával>18.16.2. A lemezek titkosítása a <code>geli</code> használatával<a class=anchor href=#_a_lemezek_titkosítása_a_geli_használatával></a></h3><div class=paragraph><p>A FreeBSD 6.0 változatától kezdve egy új kriptográfiai GEOM osztály is a rendelkezésünkre áll, melyet pillanatnyilag Paweł Jakub Dawidek &lt;<a href=mailto:pjd@FreeBSD.org>pjd@FreeBSD.org</a>> fejleszt. A <code>geli</code> segédprogram némileg különbözõ a <code>gbde</code> megoldásától - más lehetõségeket kínál fel és a titkosítást is egy eltérõ séma mentén valósítja meg.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> legfontosabb jellemzõi a következõk:</p></div><div class=ulist><ul><li><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=crypto&amp;sektion=9&amp;format=html">crypto(9)</a> keretrendszerét használja - tehát ha rendelkezünk kriptográfiai hardverrel, akkor a <code>geli</code> automatikusan használni fogja.</p></li><li><p>Több kriptográfiai algoritmust is ismer (melyek jelenleg az AES, Blowfish és a 3DES).</p></li><li><p>Segítségével a rendszerindításhoz használt (gyökér) partíció is titkosítható. Ilyenkor a szükséges jelmondatot a rendszer indításakor kell megadni.</p></li><li><p>Két független kulcsot (például egy "kulcsot" és egy "céges kulcsot") is használhatunk vele.</p></li><li><p>A <code>geli</code> gyors - egyszerûen csak szektorról szektorra titkosít.</p></li><li><p>Lehetõvé teszi a mesterkulcsok mentését is visszaállítását. Ha a felhasználó véletlenül megsemmisítené a kulcsát, akkor a biztonsági mentésbõl helyreállított kulcsok segítségével vissza tudjuk szerezni az adatainkat is.</p></li><li><p>Segítségével a lemezeket véletlenszerû, egyszeri jelszavakkal is illeszthetjük - ez különösen fontos lapozóterületek és ideiglenes állományrendszerek esetében.</p></li></ul></div><div class=paragraph><p>A <code>geli</code> által felkínált lehetõségekrõl a <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> man oldalán találhatunk többet.</p></div><div class=paragraph><p>A következõ lépések bemutatják, hogyan lehet a FreeBSD rendszermagjában engedélyezni a <code>geli</code> támogatását, és hogyan lehet létrehozni és használni egy <code>geli</code> titkosítással rendelkezõ adathordozót.</p></div><div class=paragraph><p>A <code>geli</code> alkalmazásához legalább a FreeBSD 6.0-RELEASE vagy késõbbi változatára van szükségünk. Mivel a rendszermagot is módosítanunk kell, ezért rendszeradminisztrátori jogosultságok kellenek a mûveletek elvégzéséhez.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>A <code>geli</code> támogatásának hozzáadása a rendszermaghoz</p><div class=paragraph><p>Vegyük hozzá a következõ sorokat a rendszermag beállításait tartalmazó állományhoz:</p></div><div class="literalblock programlisting"><div class=content><pre>options GEOM_ELI
device crypto</pre></div></div><div class=paragraph><p>Fordítsuk újra a rendszermagot a <a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a>ben leírtak szerint.</p></div><div class=paragraph><p>Betölthetjük a <code>geli</code> modulját is a rendszer indításakor. Ehhez a következõ sort kell betenni a <span class=filename>/boot/loader.conf</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>geom_eli_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> most már használható a rendszermagban.</p></div></li><li><p>A mesterkulcs legenerálása</p><div class=paragraph><p>A most következõ példában egy kulcsot tartalmazó állomány létrehozását illusztráljuk, amit a <span class=filename>/privát</span> könyvtárba csatlakoztatott titkosított adathordozó mesterkulcsához fogunk használni. A kulcs állomány a mesterkulcs titkosításához felhasznált véletlenszerû adatot fogja tartalmazni, valamint rajta kívül még a mesterkulcsot egy jelmondattal is védjük. Az adathordozó szektormérete 4 kilobyte-os lesz. Emellett még bemutatjuk, hogyan kell illeszteni egy <code>geli</code>-adathordozót, állományrendszert létrehozni rajta, csatlakoztatni, dolgozni vele és lekapcsolni.</p></div><div class=paragraph><p>A nagyobb teljesítmény érdekében javasolt nagyobb szektorméretet választani (mint például 4 kilobyte).</p></div><div class=paragraph><p>A mesterkulcsot egy jelmondattal fogjuk védeni és a kulcsok készítéséhez használt adatforrás a <span class=filename>/dev/random</span> lesz. A <span class=filename>/dev/da2.eli</span>, amelyet mit csak adathordozónak fogunk csak hívni, szektorainak mérete 4 kilobyte lesz.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/random of=/root/da2.key bs=64 count=1</span>
<span class=c># geli init -s 4096 -K /root/da2.key /dev/da2</span>
Enter new passphrase:
Reenter new passphrase:</code></pre></div></div><div class=paragraph><p>Nem kötelezõ egyszerre használni a jelmondatot és a kulcs állományt. A mesterkulcs elzárásának bebiztosítására bármelyik módszer alkalmas.</p></div><div class=paragraph><p>Ha a kulcs állomány a "-" paraméterrel adjuk meg, akkor a szabványos bemenetrõl olvassa be a program. Ez a példa több kulcs használatát mutatja be.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat kulcs1 kulcs2 kulcs3 | geli init -K - /dev/da2</span></code></pre></div></div></li><li><p>Az adathordozó illesztése a generált kulccsal</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># geli attach -k /root/da2.key /dev/da2</span>
Enter passphrase:</code></pre></div></div><div class=paragraph><p>Az új titkosítatlan eszköz neve <span class=filename>/dev/da2.eli</span> lesz.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ls /dev/da2*</span>
/dev/da2  /dev/da2.eli</code></pre></div></div></li><li><p>Az új állományrendszer kialakítása</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/random of=/dev/da2.eli bs=1m</span>
<span class=c># newfs /dev/da2.eli</span>
<span class=c># mount /dev/da2.eli /privát</span></code></pre></div></div><div class=paragraph><p>A titkosított állományrendszer most már <a href="https://man.freebsd.org/cgi/man.cgi?query=df&amp;sektion=1&amp;format=html">df(1)</a> számára is látszik és használható:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># df -H</span>
Filesystem     Size   Used  Avail Capacity  Mounted on
/dev/ad0s1a    248M    89M   139M    38%    /
/devfs         1.0K   1.0K     0B   100%    /dev
/dev/ad0s1f    7.7G   2.3G   4.9G    32%    /usr
/dev/ad0s1d    989M   1.5M   909M     0%    /tmp
/dev/ad0s1e    3.9G   1.3G   2.3G    35%    /var
/dev/da2.eli   150G   4.1K   138G     0%    /private</code></pre></div></div></li><li><p>Az adathordozó leválasztása és lekapcsolása</p><div class=paragraph><p>Miután befejeztük a munkát a titkosított partíción, és a <span class=filename>/privát</span> partícióra már nincs tovább szükségünk, érdemes leválasztanunk és kiiktatnunk a <code>geli</code> titkosítású partíciót a rendszermagból.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># umount /privát</span>
<span class=c># geli detach da2.eli</span></code></pre></div></div></li></ol></div></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> használatáról bõvebben a saját man oldalán tájékozódhatunk.</p></div><div class=sect3><h4 id=_a_geli_rc_d_szkriptjének_használata>18.16.2.1. A <span class=filename>geli</span> <span class=filename>rc.d</span> szkriptjének használata<a class=anchor href=#_a_geli_rc_d_szkriptjének_használata></a></h4><div class=paragraph><p>A <code>geli</code> mellett találhatunk egy saját <span class=filename>rc.d</span> szkriptet, amely jelentõsen leegyszerûsíti a <code>geli</code> használatát. A <code>geli</code> például így paraméterezhetõ az <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> állományon keresztül:</p></div><div class="literalblock programlisting"><div class=content><pre>geli_devices=&#34;da2&#34;
geli_da2_flags=&#34;-p -k /root/da2.key&#34;</pre></div></div><div class=paragraph><p>Ennek segítségével a <span class=filename>/dev/da2</span> eszközt <code>geli</code> adathordozóként állítjuk be a <span class=filename>/root/da2.key</span> állományban található mesterkulcs felhasználásával, de az illesztéskor a <code>geli</code> nem kér jelmondatot (ezt csak akkor fogja tenni, ha a <code>geli init</code> parancs kiadásához hozzátesszük a <code>-P</code> beállítást). A rendszer leállítása elõtt pedig a <code>geli</code> adathordozó így automatikusan leválasztásra kerül.</p></div><div class=paragraph><p>Az <span class=filename>rc.d</span> beállításával kapcsolatos tudnivalókat a kézikönyv <a href=../config/#configtuning-rcd>rc.d</a> szkriptekrõl szóló szakaszában ismerhetjük meg.</p></div></div></div></div></div><div class=sect1><h2 id=swap-encrypting>18.17. A lapozóterület titkosítása<a class=anchor href=#swap-encrypting></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD-ben a lapozóterület titkosítása nagyon könnyen beállítható és már a FreeBSD 5.3-RELEASE változata óta elérhetõ. Attól függõen, hogy konkrétan a FreeBSD melyik verzióját használjuk, a konfigurációhoz kapcsolódó beállítások némileg eltérhetnek. A FreeBSD 6.0-RELEASE változatától kezdõdõen a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> és a <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> alrendszerek is használhatóak a lapozóterület titkosítására. A korábbi verziókban egyedül csak a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> érhetõ el. Mind a két rendszer az <span class=filename>encswap</span> <a href=../config/#configtuning-rcd>rc.d</a> szkriptet használja.</p></div><div class=paragraph><p>Az elõzõ szakaszban, vagyis a <a href=#disks-encrypting>A lemezpartíciók titkosításá</a>ban már röviden összefoglaltuk a különbözõ titkosítással foglalkozó alrendszereket.</p></div><div class=sect2><h3 id=_miért_kellene_titkosítanunk_a_lapozóterületet>18.17.1. Miért kellene titkosítanunk a lapozóterületet?<a class=anchor href=#_miért_kellene_titkosítanunk_a_lapozóterületet></a></h3><div class=paragraph><p>Hasonlóan a lemezpartíciók titkosításához, a lapozóterület titkosításának is az a célja, hogy védjük az érzékeny információkat. Képzeljük el, hogy egy olyan alkalmazással dolgozunk, amely jelszavakat kezel. Amíg ezek a jelszavak a memóriában maradnak, addig minden a legnagyobb rendben van. Azonban amikor az operációs rendszer nekilát a fizikai memória felszabadításához kilapozni ezeket az adatokat, a jelszavak titkosítatlanul kerülnek a lemez felületére és egy támadó számára könnyû prédává válnak. Ilyen helyzetekben csak lapozóterület titkosítása jelenthet megoldást.</p></div></div><div class=sect2><h3 id=_elõkészületek>18.17.2. Elõkészületek<a class=anchor href=#_elõkészületek></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A szakasz további részében a <span class=filename>ad0s1b</span> lesz a lapozásra használt partíció.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Egészen mostanáig nem titkosítottuk a lapozóterületet. Így elképzelhetõ, hogy a lemezre már titkosítatlanul kikerültek jelszavak vagy bármilyen más érzékeny adatok. A csorba kiköszörülésére a lapozóterületen található összes adatot írjuk felül véletlenszerûen generált szeméttel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/random of=/dev/ad0s1b bs=1m</span></code></pre></div></div></div><div class=sect2><h3 id=_a_lapozóterület_titkosítása_a_gbde8_használatával>18.17.3. A lapozóterület titkosítása a <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> használatával<a class=anchor href=#_a_lapozóterület_titkosítása_a_gbde8_használatával></a></h3><div class=paragraph><p>Ha a FreeBSD 6.0-RELEASE vagy újabb változatát használjuk, akkor az <span class=filename>/etc/fstab</span> állományban tegyük hozzá a <code>.bde</code> utótagot az a lapozóterülethez tartozó eszköz nevéhez.</p></div><div class="literalblock programlisting"><div class=content><pre># Device                Mountpoint      FStype  Options         Dump    Pass#
/dev/ad0s1b.bde         none            swap    sw              0       0</pre></div></div><div class=paragraph><p>A FreeBSD 6.0-RELEASE elõtti kiadások esetében a következõ sort is hozzá kell tennünk az <span class=filename>/etc/rc.conf</span> állományhoz:</p></div><div class="literalblock programlisting"><div class=content><pre>gbde_swap_enable=&#34;YES&#34;</pre></div></div></div><div class=sect2><h3 id=_a_lapozóterület_titkosítása_a_geli8_használatával>18.17.4. A lapozóterület titkosítása a <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> használatával<a class=anchor href=#_a_lapozóterület_titkosítása_a_geli8_használatával></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> használatához hasonlóan a <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> által felajánlott titkosítást is alkalmazhatjuk a lapozóterület védelmére. Ilyenkor az <span class=filename>/etc/fstab</span> állományban az <code>.eli</code> utótagot kell hozzátenni a lapozóterülethez tartozó eszköz névhez.</p></div><div class="literalblock programlisting"><div class=content><pre># Device                Mountpoint      FStype  Options         Dump    Pass#
/dev/ad0s1b.eli         none            swap    sw              0       0</pre></div></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> az AES algoritmust alapértelmezés szerint 256 bites kulccsal használja.</p></div><div class=paragraph><p>Ezek az alapértelmezések megváltoztathatóak az <span class=filename>/etc/rc.conf</span> állományban a <code>geli_swap_flags</code> beállítás használatával. A következõ sor arra utasítja az <span class=filename>encswap</span> rc.d szkriptet, hogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> és a Blowfish algoritmus használatával hozzon létre egy lapozópartíciót 128 bites kulccsal, 4 kilobyte-os szektormérettel és a "detach on last close" ("lekapcsolás használat után") beállítással:</p></div><div class="literalblock programlisting"><div class=content><pre>geli_swap_flags=&#34;-e blowfish -l 128 -s 4096 -d&#34;</pre></div></div><div class=paragraph><p>A FreeBSD 6.2-RELEASE verzió elõtti rendszerekben a következõ sort kell használni:</p></div><div class="literalblock programlisting"><div class=content><pre>geli_swap_flags=&#34;-a blowfish -l 128 -s 4096 -d&#34;</pre></div></div><div class=paragraph><p>A többi beállításhoz a <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> man oldalán a <code>onetime</code> parancs leírását érdemes áttanulmányozni.</p></div></div><div class=sect2><h3 id=_ellenõrizzük_a_mûködését>18.17.5. Ellenõrizzük a mûködését<a class=anchor href=#_ellenõrizzük_a_mûködését></a></h3><div class=paragraph><p>Miután újraindítottuk a rendszert, a titkosított lapozóterület helyes mûködését a <code>swapinfo</code> paranccsal ellenõrizhetjük le.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;format=html">gbde(8)</a> esetében:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% swapinfo
Device          1K-blocks     Used    Avail Capacity
/dev/ad0s1b.bde    542720        0   542720     0%</code></pre></div></div><div class=paragraph><p>Valamint a <a href="https://man.freebsd.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;format=html">geli(8)</a> esetében:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% swapinfo
Device          1K-blocks     Used    Avail Capacity
/dev/ad0s1b.eli    542720        0   542720     0%</code></pre></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 2024. március 9. by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/audit class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/geom class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#disks-synopsis>18.1. Áttekintés</a></li><li><a href=#disks-naming>18.2. Az eszközök elnevezései</a></li><li><a href=#disks-adding>18.3. Lemezek hozzáadása</a></li><li><a href=#raid>18.4. RAID</a></li><li><a href=#usb-disks>18.5. USB tárolóeszközök</a></li><li><a href=#creating-cds>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata</a></li><li><a href=#creating-dvds>18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata</a></li><li><a href=#floppies>18.8. Hajlékonylemezek létrehozása és használata</a></li><li><a href=#backups-tapebackups>18.9. Szalagok létrehozása és használata</a></li><li><a href=#backups-floppybackups>18.10. Biztonsági mentés hajlékonylemezekre</a></li><li><a href=#backup-strategies>18.11. Mentési stratégiák</a></li><li><a href=#backup-basics>18.12. Alapvetõ tudnivalók a biztonsági mentésrõl</a></li><li><a href=#disks-virtual>18.13. Hálózat, memória és állomány alapú állományrendszerek</a></li><li><a href=#snapshots>18.14. Az állományrendszerek pillanatképei</a></li><li><a href=#quotas>18.15. Az állományrendszerek kvótái</a></li><li><a href=#disks-encrypting>18.16. A lemezpartíciók titkosítása</a></li><li><a href=#swap-encrypting>18.17. A lapozóterület titkosítása</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/hu/books/handbook/handbook_hu.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/hu/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/hu/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>Hungarian</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/hu class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/hu/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>