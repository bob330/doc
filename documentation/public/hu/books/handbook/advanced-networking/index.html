<!doctype html><html class=theme-light lang=hu><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/><title>31. Fejezet - Egyéb haladó hálózati témák | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="31. Fejezet - Egyéb haladó hálózati témák"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="hu"><meta property="og:url" content="https://docs.freebsd.org/hu/books/handbook/advanced-networking/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/hu\/books\/handbook\/advanced-networking\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/hu>Documentation portal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/hu/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/hu/books>Books</a></li><li><a href=https://docs.freebsd.org/hu/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/hu/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=hu>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/preface/>Előszó</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-audience>Kiknek szánjuk ezt a könyvet</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from3>Változtatások a harmadik kiadás óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes-from2>Változtatások a második kiadás (2004) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-changes>Változtatások az elsõ kiadás (2001) óta</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-overview>A könyv felépítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-conv>A könyvben alkalmazott konvenciók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/preface/#preface-acknowledgements>Köszönetnyilvánítás</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/parti/>I. Rész Bevezetés</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/introduction/>1. Fejezet - Bemutatkozás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#introduction-synopsis>1.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#nutshell>1.2. Üdvözöljük a FreeBSD-ben!</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/introduction/#history>1.3. A FreeBSD Projektrõl</a></li></ul></li><li><input type=checkbox id=chapter-6aaec170775233b7c45f6cdcfb70d466 class=toggle>
<label class="icon cursor" for=chapter-6aaec170775233b7c45f6cdcfb70d466><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/install/>2. Fejezet - A FreeBSD telepítése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-synopsis>2.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-hardware>2.2. Hardverkövetelmények</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-pre>2.3. A telepítés elõtt elvégzendõ feladatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-start>2.4. A telepítés megkezdése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#using-sysinstall>2.5. A sysinstall bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-steps>2.6. Lemezterület lefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-choosing>2.7. A telepítendõ összetevõk kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-media>2.8. A telepítés eszközének kiválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-final-warning>2.9. A telepítés véglegesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-post>2.10. A telepítés után</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-trouble>2.11. Hibakeresés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-advanced>2.12. Telepítési útmutató haladóknak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/install/#install-diff-media>2.13. Saját telepítõeszköz elkészítése</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/basics/>3. Fejezet - A UNIX alapjai</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-synopsis>3.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#consoles>3.2. Virtuális konzolok és terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#permissions>3.3. Engedélyek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#dirstructure>3.4. A könyvtárak elrendezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#disk-organization>3.5. A lemezek szervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#mount-unmount>3.6. Állományrendszerek csatlakoztatása és leválasztása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-processes>3.7. Folyamatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-daemons>3.8. Démonok, jelzések és a futó programok leállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#shells>3.9. Parancsértelmezõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#editors>3.10. Szövegszerkesztõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-devices>3.11. Eszközök és eszközleírók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#binary-formats>3.12. Bináris formátumok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/basics/#basics-more-information>3.13. Bõvebben olvashatunk…​</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ports/>4. Fejezet - Alkalmazások telepítése: csomagok és portok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-synopsis>4.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-overview>4.2. Az alkalmazások telepítésének összefoglalása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-finding-applications>4.3. A számunkra szükséges alkalmazások felkutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#packages-using>4.4. A csomagrendszer használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-using>4.5. A Portgyûjtemény használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-nextsteps>4.6. Telepítés utáni teendõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ports/#ports-broken>4.7. Teendõ a sérült portokkal</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/x11/>5. Fejezet - Az X Window System</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-synopsis>5.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-understanding>5.2. Az X áttekintése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-install>5.3. Az X11 telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-config>5.4. Az X11 beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-fonts>5.5. Betûtípusok használata az X11-ben</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x-xdm>5.6. Az X bejelentkeztetõ képernyõje</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/x11/#x11-wm>5.7. Munkakörnyezetek</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partii/>II. Rész Gyakori feladatok</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/desktop/>6. Fejezet - Asztali alkalmazások</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-synopsis>6.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-browsers>6.2. Böngészõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-productivity>6.3. Irodai eszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-viewers>6.4. Dokumentum-megjelenítõk</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-finance>6.5. Pénzügyi szoftverek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/desktop/#desktop-summary>6.6. Összefoglalás</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/>7. Fejezet - Multimédia</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#multimedia-synopsis>7.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-setup>7.2. A hangkártya beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#sound-mp3>7.3. MP3</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#video-playback>7.4. Videók lejátszása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#tvcard>7.5. TV kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/multimedia/#scanners>7.6. Lapolvasók</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/>8. Fejezet - A FreeBSD rendszermag testreszabása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. Miért készítsünk saját rendszermagot?</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-devices>8.3. A rendszerünkben levõ hardverek összeszedése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-modules>8.4. Meghajtók, alrendszerek és modulok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-building>8.5. Saját rendszermag készítése és telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-config>8.6. A konfigurációs állomány</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/kernelconfig/#kernelconfig-trouble>8.7. Ha valamilyen hiba történne</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/printing/>9. Fejezet - Nyomtatás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-synopsis>9.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-spooler>9.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-intro-setup>9.3. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-advanced>9.4. Magasszintû nyomtatóbeállítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-using>9.5. A nyomtatók használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-lpd-alternatives>9.6. Más nyomtatási rendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/printing/#printing-troubleshooting>9.7. Hibakeresés</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/>10. fejezet - Bináris Linux kompatibilitás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Telepítés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-mathematica>10.3. A Mathematica® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-maple>10.4. A Maple™ telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-matlab>10.5. A MATLAB® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-oracle>10.6. Az Oracle® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#sapr3>10.7. Az SAP® R/3® telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/linuxemu/#linuxemu-advanced>10.8. Témák haladóknak</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiii/>III. Rész Rendszeradminisztráció</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/config/>11. Fejezet - Beállítás és finomhangolás</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-synopsis>11.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-initial>11.2. Kezdeti beállítások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-core-configuration>11.3. A mag beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-appconfig>11.4. Az alkalmazások beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-starting-services>11.5. Szolgáltatások indítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-cron>11.6. A <code>cron</code> segédprogram beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-rcd>11.7. Az rc használata FreeBSD alatt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#config-network-setup>11.8. A hálózati kártyák beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-virtual-hosts>11.9. Virtuális címek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-configfiles>11.10. Konfigurációs állományok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-sysctl>11.11. Finomhangolás a sysctl használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-disk>11.12. A lemezek finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#configtuning-kernel-limits>11.13. A rendszermag korlátainak finomhangolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#adding-swap-space>11.14. A lapozóterület bõvítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#acpi-overview>11.15. Energia- és erõforrásgazdálkodás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/config/#ACPI-debug>11.16. A FreeBSD ACPI támogatásának használata és nyomonkövetése</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/boot/>12. Fejezet - A FreeBSD rendszerindítási folyamata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-synopsis>12.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-introduction>12.2. A rendszerindítás problémája</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-blocks>12.3. A boot manager és az indulás fokozatai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-kernel>12.4. Kapcsolat a rendszermaggal a rendszerindítás folyamán</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#device-hints>12.5. Eszköz útmutatók (device.hints)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-init>12.6. Init: A folyamatirányítás elindítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/boot/#boot-shutdown>12.7. A leállítási folyamat</a></li></ul></li><li><input type=checkbox id=chapter-d251c21b963b5ab783e5aec225e02b5a class=toggle>
<label class="icon cursor" for=chapter-d251c21b963b5ab783e5aec225e02b5a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/users/>13. Fejezet - Felhasználók és hozzáférések alapvető kezelése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-synopsis>13.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-introduction>13.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-superuser>13.3. Az adminisztrátori hozzáférés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-system>13.4. Rendszerhozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-user>13.5. Felhasználói hozzáférések</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-modifying>13.6. A hozzáférések módosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-limiting>13.7. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/users/#users-groups>13.8. Csoportok</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/security/>14. Fejezet - Biztonság</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-synopsis>14.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-intro>14.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#securing-freebsd>14.3. A FreeBSD védelme</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#crypt>14.4. DES, Blowfish, MD5 és a Crypt</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#one-time-passwords>14.5. Egyszeri jelszavak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#tcpwrappers>14.6. A TCP kapcsolatok burkolása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberosIV>14.7. KerberosIV</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#kerberos5>14.8. Kerberos5</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssl>14.9. OpenSSL</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#ipsec>14.10. VPN IPsec felett</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#openssh>14.11. OpenSSH</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#fs-acl>14.12. Az állományrendszerek hozzáféréseit vezérlõ listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-portaudit>14.13. A külsõ programok biztonsági problémáinak figyelése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-advisories>14.14. A FreeBSD biztonsági figyelmeztetései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/security/#security-accounting>14.15. A futó programok nyilvántartása</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/jails/>15. Fejezet - A jail alrendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-synopsis>15.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-terms>15.2. A jail alrendszerhez kapcsolódó fogalmak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-intro>15.3. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-build>15.4. A jailek létrehozása és vezérlése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-tuning>15.5. Finomhangolás és karbantartás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/jails/#jails-application>15.6. A jailek alkalmazása</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mac/>16. Fejezet - Kötelező hozzáférés-vezérlés (MAC)</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-synopsis>16.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-inline-glossary>16.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-initial>16.3. A MAC ismertetése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-understandlabel>16.4. Bõvebben a MAC címkéirõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-planning>16.5. A védelem megtervezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-modules>16.6. A modulok beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-seeotheruids>16.7. A seeotheruids MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-bsdextended>16.8. A bsdextended MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-ifoff>16.9. Az ifoff MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-portacl>16.10. A portacl MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-partition>16.11. A partition MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-mls>16.12. A többszintû biztonsági MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-biba>16.13. A Biba MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-lomac>16.14. A LOMAC MAC-modul</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-implementing>16.15. A Nagios elzárása a MAC rendszerrel</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-userlocked>16.16. A felhasználók korlátozása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mac/#mac-troubleshoot>16.17. A hibák elhárítása a MAC rendszerben</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/audit/>17. Fejezet - Biztonsági események vizsgálata</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-synopsis>17.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-inline-glossary>17.2. A fejezet fontosabb fogalmai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-install>17.3. A vizsgálat támogatásának telepítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-config>17.4. A vizsgálat beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/audit/#audit-administration>17.5. A vizsgálati alrendszer használata</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/disks/>18. Fejezet - Háttértárak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-synopsis>18.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-naming>18.2. Az eszközök elnevezései</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-adding>18.3. Lemezek hozzáadása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#raid>18.4. RAID</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#usb-disks>18.5. USB tárolóeszközök</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-cds>18.6. Lézeres tárolóeszközök (CD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#creating-dvds>18.7. Lézeres tárolóeszközök (DVD-k) létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#floppies>18.8. Hajlékonylemezek létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-tapebackups>18.9. Szalagok létrehozása és használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backups-floppybackups>18.10. Biztonsági mentés hajlékonylemezekre</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-strategies>18.11. Mentési stratégiák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#backup-basics>18.12. Alapvetõ tudnivalók a biztonsági mentésrõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-virtual>18.13. Hálózat, memória és állomány alapú állományrendszerek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#snapshots>18.14. Az állományrendszerek pillanatképei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#quotas>18.15. Az állományrendszerek kvótái</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#disks-encrypting>18.16. A lemezpartíciók titkosítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/disks/#swap-encrypting>18.17. A lapozóterület titkosítása</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/geom/>19. Fejezet - GEOM: A moduláris lemezszervező rendszer</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-synopsis>19.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-intro>19.2. A GEOM bemutatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-striping>19.3. RAID0 - Csíkozás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#GEOM-mirror>19.4. RAID1 - Tükrözés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-ggate>19.5. Eszközök hálózati illesztése a GEOM-ban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-glabel>19.6. A lemezes eszközök címkézése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/geom/#geom-gjournal>19.7. Naplózó UFS GEOM-on keresztül</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/>20. Fejezet - Támogatott állományrendszerek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-synopsis>20.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/filesystems/#filesystems-zfs>20.2. A Z állományrendszer (ZFS)</a></li></ul></li><li><input type=checkbox id=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e class=toggle>
<label class="icon cursor" for=chapter-dcd5a59a66ab6bff19287ccc6a33fd7e><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/vinum/>21. Fejezet - A Vinum kötetkezelő</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-synopsis>21.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-intro>21.2. Kicsik a lemezeink</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-access-bottlenecks>21.3. A hozzáférési idõk szûk keresztmetszetei</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-data-integrity>21.4. Adatintegritás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-objects>21.5. A Vinum objektumai</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-examples>21.6. Példák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-object-naming>21.7. Az objektumok elnevezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-config>21.8. A Vinum beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/vinum/#vinum-root>21.9. Rendszerindítás Vinum-kötetrõl</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/>22. Fejezet - Virtualizáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-synopsis>22.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-guest>22.2. A FreeBSD mint vendég</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/virtualization/#virtualization-host>22.3. A FreeBSD mint gazda</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/l10n/>23. Fejezet - Honosítás - Az I18N/L10N használata és beállítása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-synopsis>23.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-basics>23.2. Az alapok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#using-localization>23.3. A honosítás használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#l10n-compiling>23.4. I18N programok fordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/l10n/#lang-setup>23.5. A FreeBSD honosítása adott nyelvekre</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/>24. Fejezet - A FreeBSD frissítése és frissen tartása</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-synopsis>24.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>24.2. A FreeBSD frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-portsnap>24.3. A Portgyûjtemény frissítése a Portsnap használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#updating-upgrading-documentation>24.4. A dokumentáció frissítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#current-stable>24.5. A fejlesztõi ág követése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#synching>24.6. A forrás szinkronizálása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#makeworld>24.7. Az alaprendszer újrafordítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/cutting-edge/#small-lan>24.8. A források követése több géppel</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/>25. Fejezet - DTrace</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-synopsis>25.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-implementation>25.2. Eltérések az implementációban</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-enable>25.3. A DTrace támogatásának engedélyezése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-using>25.4. A DTrace használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/dtrace/#dtrace-language>25.5. A D nyelv</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partiv/>IV. Rész Hálózati kommunikáció</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/>26. Fejezet - Soros vonali kommunikáció</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial-synopsis>26.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serial>26.2. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#term>26.3. Terminálok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialup>26.4. Betárcsázós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#dialout>26.5. A betárcsázós szolgáltatások használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/serialcomms/#serialconsole-setup>26.6. A soros vonali konzol beállítása</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/>27. Fejezet - A PPP és a SLIP</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#userppp>27.2. A felhasználói PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp>27.3. A rendszerszintû PPP alkalmazása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.4. PPP kapcsolatok hibaelhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoe>27.5. A PPP használata Ethernet felett (PPPoE)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#pppoa>27.6. PPP ATM felett (PPPoA)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/ppp-and-slip/#slip>27.7. A SLIP használata</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mail/>28. Fejezet - Elektronikus levelezés</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-synopsis>28.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-using>28.2. Az elektronikus levelezés használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#sendmail>28.3. A sendmail beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-changingmta>28.4. A levéltovábbító ügynök megváltoztatása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-trouble>28.5. A hibák elhárítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-advanced>28.6. Komolyabb témák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-UUCP>28.7. SMTP és az UUCP</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#outgoing-only>28.8. Csak küldés beállítása</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-dialup>28.9. Levelezés betárcsázós kapcsolattal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#SMTP-Auth>28.10. Az SMTP hitelesítése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-agents>28.11. Levelezõ kliensek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-fetchmail>28.12. A fetchmail használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mail/#mail-procmail>28.13. A procmail használata</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/>29. Fejezet - Hálózati szerverek</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-servers-synopsis>29.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-inetd>29.2. Az inetd"szuperszerver"</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nfs>29.3. A hálózati állományrendszer (NFS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-nis>29.4. Hálózati információs rendszer (NIS/YP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dhcp>29.5. A hálózat automatikus beállítása (DHCP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-dns>29.6. Névfeloldás (DNS)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-apache>29.7. Az Apache webszerver</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ftp>29.8. Állományok átvitele (FTP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-samba>29.9. Állomány- és nyomtatási szolgáltatások Microsoft® Windows® kliensek számára (Samba)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-ntp>29.10. Az órák egyeztetése az NTP használatával</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/network-servers/#network-syslogd>29.11. Távoli gépek naplózása <code>syslogd</code> használatával</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/>30. Fejezet - Tűzfalak</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-intro>30.1. Bevezetés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-concepts>30.2. Röviden a tûzfalakról</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-apps>30.3. Tûzfalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-pf>30.4. Az OpenBSD csomagszûrõje (PF) és az ALTQ</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipf>30.5. Az IPFILTER (IPF) tûzfal</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/firewalls/#firewalls-ipfw>30.6. IPFW</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle checked>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/>31. Fejezet - Egyéb haladó hálózati témák</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Áttekintés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-routing>31.2. Átjárók és az útválasztás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-wireless>31.3. Vezeték nélküli hálózatok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bluetooth>31.4. Bluetooth</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-bridging>31.5. Hálózati hidak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-aggregation>31.6. Linkek összefûzése és hibatûrése</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-diskless>31.7. Lemez nélküli mûködés</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-isdn>31.8. ISDN</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-natd>31.9. Hálózati címfordítás</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-plip>31.10. Párhuzamos vonali IP (PLIP)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-ipv6>31.11. Az IPv6</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#network-atm>31.12. Az Aszinkron adatátviteli mód (ATM)</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/advanced-networking/#carp>31.13. A Közös cím redundancia protokoll (CARP)</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/partv/>V. Rész Függelék</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/>A. Függelék - A FreeBSD beszerzése</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-cdrom>A.1. CD és DVD kiadók</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-ftp>A.2. FTP oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#anoncvs>A.3. Anonim CVS</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#ctm>A.4. A CTM használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvsup>A.5. A CVSup használata</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#cvs-tags>A.6. CVS címkék</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-afs>A.7. AFS oldalak</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/mirrors/#mirrors-rsync>A.8. Rsync oldalak</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/>B. függelék - Irodalomjegyzék</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-freebsd>B.1. A FreeBSD-rõl szóló könyvek és folyóiratok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-userguides>B.2. Felhasználói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-adminguides>B.3. Rendszeradminisztrátori kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-programmers>B.4. Programozói kézikönyvek</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-osinternals>B.5. Az operációs rendszerek belsõ mûködésérõl</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-security>B.6. Biztonságról szóló írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-hardware>B.7. Hardverrel foglalkozó írások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-history>B.8. UNIX® történelem</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/bibliography/#bibliography-journals>B.9. Magazinok és folyóiratok</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/eresources/>C. Függelék - Források az interneten</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-mail>C.1. Levelezési listák</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-news>C.2. Usenet hírcsoportok</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-web>C.3. Világhálós szolgáltatások</a></li><li><a href=https://docs.freebsd.org/hu/books/handbook/eresources/#eresources-email>C.4. E-mail címek</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/>D. Függelék - PGP-kulcsok</a><ul><li><a href=https://docs.freebsd.org/hu/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Tisztségviselők</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>31. Fejezet - Egyéb haladó hálózati témák</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#advanced-networking-synopsis>31.1. Áttekintés</a></li><li><a href=#network-routing>31.2. Átjárók és az útválasztás</a></li><li><a href=#network-wireless>31.3. Vezeték nélküli hálózatok</a></li><li><a href=#network-bluetooth>31.4. Bluetooth</a></li><li><a href=#network-bridging>31.5. Hálózati hidak</a></li><li><a href=#network-aggregation>31.6. Linkek összefûzése és hibatûrése</a></li><li><a href=#network-diskless>31.7. Lemez nélküli mûködés</a></li><li><a href=#network-isdn>31.8. ISDN</a></li><li><a href=#network-natd>31.9. Hálózati címfordítás</a></li><li><a href=#network-plip>31.10. Párhuzamos vonali IP (PLIP)</a></li><li><a href=#network-ipv6>31.11. Az IPv6</a></li><li><a href=#network-atm>31.12. Az Aszinkron adatátviteli mód (ATM)</a></li><li><a href=#carp>31.13. A Közös cím redundancia protokoll (CARP)</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=advanced-networking-synopsis>31.1. Áttekintés<a class=anchor href=#advanced-networking-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>Ebben a fejezetben számos komolyabb hálózati témát fogunk tárgyalni.</p></div><div class=paragraph><p>A fejezet elolvasása során megismerjük:</p></div><div class=ulist><ul><li><p>az átjárók és az útválasztás alapjait;</p></li><li><p>hogyan állítsunk be IEEE® 802.11 és Bluetooth® eszközöket;</p></li><li><p>a FreeBSD segítségével hogyan tudunk két hálózatot összekötni hálózati hidakon keresztül;</p></li><li><p>hogyan indítsuk hálózatról egy lemez nélküli gépet;</p></li><li><p>hogyan állítsunk be hálózati címfordítást;</p></li><li><p>hogyan kapcsoljunk össze két számítógépet PLIP használatával;</p></li><li><p>hogyan állítsuk be az IPv6 használatát egy FreeBSD-s gépen</p></li><li><p>hogyan állítsuk be az ATM használatát;</p></li><li><p>hogyan engedélyezzük és használjuk a Közös címredundancia protokollt FreeBSD-ben.</p></li></ul></div><div class=paragraph><p>A fejezet elolvasásához ajánlott:</p></div><div class=ulist><ul><li><p>az <span class=filename>/etc/rc</span> könyvtárban található szkriptek mûködésének ismerete;</p></li><li><p>az alapvetõ hálózati fogalmak ismerete;</p></li><li><p>egy új FreeBSD rendszermag beállításának és telepítésének ismerete (<a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a>);</p></li><li><p>a külsõ szoftverek telepítésének ismerete (<a href=../ports/#ports>Alkalmazások telepítése. csomagok és portok</a>).</p></li></ul></div></div></div><div class=sect1><h2 id=network-routing>31.2. Átjárók és az útválasztás<a class=anchor href=#network-routing></a></h2><div class=sectionbody><div class=paragraph><p>Egy gép egy másikat úgy tud megtalálni a hálózaton, ha erre létezik egy olyan mechanizmus, amely leírja, hogyan tudunk eljutni az egyiktõl a másikig. Ezt hívjuk <em>útválasztásnak</em> (routing). Az "útvonal" (route) címek egy párjaként adható meg, egy "céllal" (destination) és egy "átjáróval" (gateway). Ez a páros mondja meg, hogy ha el akarjuk érni ezt a <em>célt</em>, akkor ezen az <em>átjárón</em> keresztül kell továbbhaladnunk. A céloknak három típusa lehet: egyéni gépek, alhálózatok és az "alapértelmezett". Az "alapértelmezett útvonalat" (default route) abban az esetben alkalmazzuk, ha semelyik más útvonal nem megfelelõ. Az alapértelmezett útvonalakról a késõbbiekben még beszélni fogunk. Három típusa van az átjáróknak: egyéni gépek, felületek (avagy "linkek") és a hardveres Ethernet címek (MAC-címek).</p></div><div class=sect2><h3 id=_példa>31.2.1. Példa<a class=anchor href=#_példa></a></h3><div class=paragraph><p>Az útválasztás különbözõ területeit a következõ <code>netstat</code> parancs alapján fogjuk bemutatni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% netstat <span class=nt>-r</span>
Routing tables

Destination      Gateway            Flags     Refs     Use     Netif Expire

default          outside-gw         UGSc       37      418      ppp0
localhost        localhost          UH          0      181       lo0
test0            0:e0:b5:36:cf:4f   UHLW        5    63288       ed0     77
10.20.30.255     <span class=nb>link</span><span class=c>#1             UHLW        1     2421</span>
example.com      <span class=nb>link</span><span class=c>#1             UC          0        0</span>
host1            0:e0:a8:37:8:1e    UHLW        3     4601       lo0
host2            0:e0:a8:37:8:1e    UHLW        0        5       lo0 <span class=o>=&gt;</span>
host2.example.com <span class=nb>link</span><span class=c>#1             UC          0        0</span>
224              <span class=nb>link</span><span class=c>#1             UC          0        0</span></code></pre></div></div><div class=paragraph><p>Az elsõ két sorban az alapértelmezett útvonalat (melyrõl részleteiben majd a <a href=#network-routing-default>következõ szakaszban</a> fogunk szólni) és a <code>localhost</code> útvonalát láthatjuk.</p></div><div class=paragraph><p>A <code>localhost</code> címhez az útválasztási táblázatban a <span class=filename>lo0</span> eszköz tartozik (a <code>Netif</code> oszlopban), amelyet loopback eszköznek is neveznek. Ez arra utasítja a rendszert, hogy az ide küldött csomagokat ne a helyi hálózaton küldje keresztül, hanem csak ezen a belsõ felületen, mivel úgyis oda jutnának vissza, ahonnan indultak.</p></div><div class=paragraph><p>A táblázatban a következõ sor egy <code>0:e0</code> kezdetû címet tartalmaz. Ez egy hardveres Ethernet cím, más néven MAC-cím. A FreeBSD magától képes beazonosítani tetszõleges gépet (ebben a példában a <code>test0</code> gépet) a helyi Ethernetes hálózaton és felvenni hozzá egy útvonalat, közvetlenül az <span class=filename>ed0</span> Ethernetes csatolófelületen keresztül. Ehhez a típusú útvonalhoz tartozik még egy lejárati idõ is (a <code>Expire</code> oszlop), amely akkor kap szerepet, ha ennyi idõ elteltével nem kapunk semmilyen hírt a géprõl. Amikor ilyen történik, az géphez eddig nyilvántartott útvonal automatikusan törlõdik. Ezek a gépek a RIP (útvonal-információs protokoll, Routing Information Protocol) nevû mechanizmuson keresztül azonosítódnak, mely a legrövidebb út kiszámítása alapján határozza meg a helyi gépekhez vezetõ útvonalat.</p></div><div class=paragraph><p>A FreeBSD a helyi alhálózat (<code>10.20.30.255</code> és <code>example.com</code>, az alhálózathoz tartozó név) esetében is felvesz útvonalakat. A <code>link#1</code> megnevezés a gépben található elsõ Ethernet-kártyát jelöli. Megfigyelhetjük, hogy rajta kívül nincs is több felülete.</p></div><div class=paragraph><p>Mindegyik csoport (a helyi hálózati gépek és a helyi alhálózatokatok) útvonalait a routed nevû démon tartja automatikusan karban. Ha ez nem fut, akkor csak a statikusan definiált (vagyis az elõre megadott) útvonalak fognak létezni.</p></div><div class=paragraph><p>A <code>host1</code> sor a saját gépünkre vonatkozik, amelyet az Ethernet címe szerint ismerünk. Mivel mi vagyunk küldõ gép, a FreeBSD tudni fogja, hogy ilyenkor az Ethernetes felület helyett a loopback eszközt (<span class=filename>lo0</span>) kell használnia.</p></div><div class=paragraph><p>A két <code>host2</code> sor arra mutat példát, amikor az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> paranccsal álneveket hozunk létre (ennek konkrét okait lásd az Ethernetrõl szóló részben). A <span class=filename>lo0</span> felület neve után szereplõ <code>⇒</code> szimbólum azt jelzi, hogy ez nem csak egy loopback felület (mivel a címe szintén a helyi gépre mutat), hanem a felület egy másik neve. Ilyen útvonalak csak az álneveket ismerõ gépeknél jelennek meg. A helyi hálózaton minden más gépnél egyszerûen csak a <code>link#1</code> jelenik meg az ilyen útvonalak esetében.</p></div><div class=paragraph><p>Az utolsó sor (a <code>224</code> céllal rendelkezõ alhálózat) a multicastre (többesküldésre) szolgál, amellyel majd egy másik szakaszban foglalkozunk.</p></div><div class=paragraph><p>Végezetül az útvonalakhoz tartozó különféle tulajdonságok a <code>Flags</code> oszlopban láthatóak. Az alábbi rövid táblázatban összefoglaltunk közülük néhányat:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>U</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Up: az útvonal aktív</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>H</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Host: az útvonal egyetlen gépre mutat</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>G</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gateway: az adott cél felé ezen a gépen keresztül küldjünk, amely majd kitalálja, hogy merre küldje tovább</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>S</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Static: ez az útvonal statikus, nem a rendszer hozta létre automatikusan</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>C</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Clone: ebbõl az útvonalból származtatunk új útvonalat azokhoz a gépekhez, amelyekhez csatlakozunk. Ilyen útvonalakat általában a helyi hálózatokban találhatunk</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>W</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>WasCloned: azt jelzi, hogy ezt az útvonalat egy helyi hálózatra mutató (klón, avagy Clone típusú) útvonal alapján hoztuk létre automatikusan</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>L</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Link: az útvonal Ethernetes hardverhez kapcsolódik</p></td></tr></tbody></table></div><div class=sect2><h3 id=network-routing-default>31.2.2. Alapértelmezett útvonalak<a class=anchor href=#network-routing-default></a></h3><div class=paragraph><p>Amikor a helyi rendszernek fel kell vennie a kapcsolatot egy távoli géppel, ellenõrzi az útválasztási táblázatban, hogy létezik-e már hozzá valamilyen útvonal. Ha a távoli gép egy olyan alhálózatba esik, amelyet már el tudunk érni (klónozott útvonalak), akkor a rendszer megnézi, hogy a hozzá tartozó felületen képes-e kapcsolatot létesíteni.</p></div><div class=paragraph><p>Ha minden ismert útvonal csõdöt mond, akkor a rendszerünknek marad még egy utolsó esélye: az "alapértelmezett" útvonal használata. Ez az útvonal egy speciális átjáró útvonal (ebbõl általában csak egyetlen egy létezik a rendszerben) és tulajdonságai között mindig szerepel a <code>c</code>. A helyi hálózat gépei közül ez az átjáró az legyen, amelyik közvetlenül kapcsolódik a külsõ világhoz (PPP összeköttetéssel, DSL, kábelmodem, T1 vagy bármilyen más hálózati felületen keresztül).</p></div><div class=paragraph><p>Amikor pedig magát a külsõ világ felé átjáróként szolgáló gépet állítjuk be, az alapértelmezett útvonal az internet-szolgáltatónk által megadott gép címe lesz.</p></div><div class=paragraph><p>Vegyünk egy példát az alapértelmezett útvonalakra. Egy tipikus konfiguráció:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/advanced-networking/net-routing.png alt="net routing"></div></div><div class=paragraph><p>A <code>Helyi1</code> és <code>Helyi2</code> gépek a hálózatunk tagjai. A <code>Helyi1</code> az internet-szolgáltatót éri el egy betárcsázós PPP kapcsolaton keresztül. A PPP szerver a külsõ felületén keresztül a helyi hálózaton pedig egy másik átjáróhoz csatlakozik.</p></div><div class=paragraph><p>Az egyes gépek alapértelmezett útvonalai így alakulnak:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Gép</th><th class="tableblock halign-left valign-top">Alapértelmezett átjáró</th><th class="tableblock halign-left valign-top">Felület</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Helyi2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Helyi1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ethernet</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Helyi1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>T1-ÁJ</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PPP</p></td></tr></tbody></table><div class=paragraph><p>Gyakran felmerül a kérdés, hogy "Miért (és hogy-hogy) a <code>T1-ÁJ</code> a <code>Helyi1</code> gép számára az alapértelmezett átjáró és nem a szolgáltató azon szervere, amelyhez csatlakozott?"</p></div><div class=paragraph><p>Ne felejtsük el, hogy a PPP felület a szolgáltató helyi hálózatában a mi részünkre kap címet, és a itt az összes többi géphez tartozó útvonal automatikusan létrejön. Emiatt már eleve el tudjuk érni a <code>T1-ÁJ</code> gépet, ezért amikor a szolgáltatón keresztül küldünk, nincs szükségünk egy további lépcsõre.</p></div><div class=paragraph><p>Általában a <code>X.X.X.1</code> címet szokták a helyi hálózat átjárójának kiosztani. Ezért (az elõbbi példát újrahasznosítva) ha a helyi hálózatunkon a C osztályú <code>10.20.30</code> címtartományt használjuk, és a szolgáltatónkhoz a <code>10.9.9</code> címtartomány tartozik, akkor az alapértelmezett útvonalak a következõk lesznek:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Gép</th><th class="tableblock halign-left valign-top">Alapértelmezett útvonal</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Helyi2 (10.20.30.2)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Helyi1 (10.20.30.1)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Helyi1 (10.20.30.1, 10.9.9.30)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>T1-ÁJ (10.9.9.1)</p></td></tr></tbody></table><div class=paragraph><p>Az <span class=filename>/etc/rc.conf</span> állományon keresztül könnyen meg tudjuk adni az alapértelmezett útvonalat. A példánkban a <code>Helyi2</code> gép <span class=filename>/etc/rc.conf</span> állományába kell felvennünk a következõ sort:</p></div><div class="literalblock programlisting"><div class=content><pre>defaultrouter=&#34;10.20.30.1&#34;</pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=route&amp;sektion=8&amp;format=html">route(8)</a> parancs használatával viszont akár közvetlenül is megtehetjük mindezt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># route add default 10.20.30.1</span></code></pre></div></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=route&amp;sektion=8&amp;format=html">route(8)</a> man oldalon olvashatunk arról bõvebben, hogy a hálózati útválasztási táblázatokat kézzel hogyan tudjuk módosítani.</p></div></div><div class=sect2><h3 id=network-dual-homed-hosts>31.2.3. Kettõs hálózatú gépek<a class=anchor href=#network-dual-homed-hosts></a></h3><div class=paragraph><p>Egy másik típusú konfigurációról is szót kell ejtenünk, ahol a gép egyszerre két hálózatnak is tagja. Gyakorlatilag az átjáróként üzemelõ számítógépek (mint például az, amelyik a fenti példában PPP kapcsolattal csatlakozott) ilyen kettõs hálózatú gépnek tekinthetõek. Ez a kifejezés azonban igazából csak azokra az esetekre illik, ahol a gép egyszerre két helyi hálózatban is megjelenik.</p></div><div class=paragraph><p>Az egyik esetben a gépben két Ethernet kártya található, melyek mindegyike birtokol egy-egy hálózati címet az egyes alhálózatokon. De elõfordulhat az is, hogy a gépünkben csupán egyetlen Ethernet kártya van és az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> segítségével álneveket hoztunk létre hozzá. Az elõbbi általában két fizikailag elkülönölõ Ethernet alapú hálózat esetében történik, míg az utóbbinál csak egyetlen fizikai hálózati szegmensrõl van szó, amely viszont logikailag két külön alhálózatot tartalmaz.</p></div><div class=paragraph><p>Akármelyiket is vesszük, az útválasztási táblázatok úgy jönnek létre, hogy bennük a gép a másik alhálózat felé átjáróként (bejövõ útvonalként) lesz nyilvántartva. Ebben a konfigurációban a gép a két alhálózat között útválasztóként fog tevékenykedni, és gyakran valamelyik vagy éppen mind a két irányba be kell állítanunk valamilyen csomagszûrést vagy tûzfalazást.</p></div><div class=paragraph><p>Ha azt szeretnénk, hogy ez a gép a két felület között továbbítson csomagokat, akkor a FreeBSD-ben külön engedélyezni kell ezt a lehetõséget. A következõ szakaszban ennek részleteit tárjuk fel.</p></div></div><div class=sect2><h3 id=network-dedicated-router>31.2.4. Az útválasztók beállítása<a class=anchor href=#network-dedicated-router></a></h3><div class=paragraph><p>A hálózati útválasztó nem csinál mást, csak továbbküldi az egyik felületén beérkezõ csomagokat egy másik felületére. Az internetes szabványok és a sokéves mérnöki tapasztalat azonban nem engedik, hogy a FreeBSD Projekt alapértelmezés szerint is elérhetõvé tegye ezt a FreeBSD rendszerekben. Ezt a lehetõséget az alábbi változó <code>YES</code> értékûre állításával lehet engedélyezni az <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>gateway_enable=&#34;YES&#34;          # Ez legyen YES, ha átjáróként akarunk üzemelni</pre></div></div><div class=paragraph><p>Ezzel lényegében a <code>net.inet.ip.forwarding</code> <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> változó értékét állítjuk <code>1</code>-re. Ha valamiért egy idõre szüneteltetni akarjuk a csomagok továbbküldését, akkor állítsuk a változó értékét <code>0</code>-ra.</p></div><div class=paragraph><p>Az új útválasztónak nem árt arról sem tudnia, hogy merre továbbítsa a forgalmat. Ha elég egyszerû a hálózatunk, akkor akár statikus útvonalakat is használhatunk. A FreeBSD alapból tartalmazza a BSD-k esetén szabványos <a href="https://man.freebsd.org/cgi/man.cgi?query=routed&amp;sektion=8&amp;format=html">routed(8)</a> útválasztó démont, amely a RIP (v1 és v2) valamint az IRDP megoldásokat ismeri. A BGP v4, OSPF v2 és a többi fejlettebb útválasztási protokoll a <a class=package href=https://cgit.freebsd.org/ports/tree/net/zebra/>net/zebra</a> csomagban érhetõ el. Az ettõl bonyolultabb hálózati útválasztási feladatokhoz olyan kereskedelmi termékek is elérhetõek, mint például a GateD®.</p></div></div><div class=sect2><h3 id=network-static-routes>31.2.5. Statikus útvonalak beállítása<a class=anchor href=#network-static-routes></a></h3><div class=sect3><h4 id=_manuális_konfiguráció>31.2.5.1. Manuális konfiguráció<a class=anchor href=#_manuális_konfiguráció></a></h4><div class=paragraph><p>Tegyük fel, hogy hálózatunk a következõ:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/advanced-networking/static-routes.png alt="static routes"></div></div><div class=paragraph><p>Ebben a forgatókönyvben az <code>A-utvalaszto</code> a mi FreeBSD-s gépünk, amely az internet felé vezetõ útválasztó szerepét játssza. Számára az alapértelmezett útvonal a <code>10.0.0.1</code>, amelyen keresztül a külsõ világot tudja elérni. Feltételezzük, hogy a <code>B-utvalaszto</code> nevû gépet már eleve jól állítottuk be, ezért tudja merre kell mennie. (A kép alapján egyszerû: csak vegyünk fel egy alapértelmezett útvonalat a <code>B-utvalaszto</code> géphez, ahol így a <code>192.168.1.1</code> lesz az átjáró.)</p></div><div class=paragraph><p>Ha megnézzük most az <code>A-utvalaszto</code> útválasztási táblázatát, akkor nagyjából a következõket fogjuk látni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% netstat <span class=nt>-nr</span>
Routing tables

Internet:
Destination        Gateway            Flags    Refs      Use  Netif  Expire
default            10.0.0.1           UGS         0    49378    xl0
127.0.0.1          127.0.0.1          UH          0        6    lo0
10.0.0/24          <span class=nb>link</span><span class=c>#1             UC          0        0    xl0</span>
192.168.1/24       <span class=nb>link</span><span class=c>#2             UC          0        0    xl1</span></code></pre></div></div><div class=paragraph><p>Az <code>A-utvalaszto</code> útválasztási táblázata alapján jelen helyzetben nem lehet elérni a 2. belsõ hálózatot. Nincs ugyanis olyan útvonal, amely a <code>192.168.2.0/24</code> alhálózat felé vezetne. Ezt például úgy tudjuk megoldani, ha manuálisan felvesszük ezt az útvonalat. Az alábbi paranccsal hozzáadjuk a 2. belsõ hálózat elérését az <code>A-utvalaszto</code> útválasztási táblázatához, ahol a <code>192.168.1.2</code> lesz a következõ ugrási pont (next hop):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># route add -net 192.168.2.0/24 192.168.1.2</span></code></pre></div></div><div class=paragraph><p>Most már az <code>A-utvalaszto</code> bármelyik gépet képes elérni a <code>192.168.2.0/24</code> hálózaton.</p></div></div><div class=sect3><h4 id=_rögzített_konfiguráció>31.2.5.2. Rögzített konfiguráció<a class=anchor href=#_rögzített_konfiguráció></a></h4><div class=paragraph><p>A fenti példa tökéletesen szemlélti a statikus útvonalak felvételét egy mûködõ rendszeren. Azonban ezzel az a gond, hogy az így megadott útválasztási információ nem marad meg a gép újraindítása után. Ezért az elõbbihez hasonló statikus útvonalakat inkább az <span class=filename>/etc/rc.conf</span> állományban rögzítsük:</p></div><div class="literalblock programlisting"><div class=content><pre># A 2. belsõ hálózat elérését felvesszük statikus útvonalként
static_routes=&#34;belsohalo2&#34;
route_belsohalo2=&#34;-net 192.168.2.0/24 192.168.1.2&#34;</pre></div></div><div class=paragraph><p>A <code>static_routes</code> konfigurációs változó karakterláncok szóközzel tagolt felsorolását tartalmazza. Mindegyik karakterlánc egy útvonal neve. Az iménti példában csak egyetlen ilyen név szerepelt a <code>static_routes</code> értékében, amely a <em>belsohalo2</em> volt. Utána beírtunk még egy konfigurációs változót is, amelynek a neve <code>route_belsohalo2</code>. Ide helyeztük a <a href="https://man.freebsd.org/cgi/man.cgi?query=route&amp;sektion=8&amp;format=html">route(8)</a> parancsnak átadandó beállítás összes paraméterét. Ez pontosan olyan, mintha a következõ parancsot adtuk volna ki:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># route add -net 192.168.2.0/24 192.168.1.2</span></code></pre></div></div><div class=paragraph><p>Ezért kellett a <code>"-net 192.168.2.0/24 192.168.1.2"</code>.</p></div><div class=paragraph><p>Ahogy már korábban is említettük, a <code>static_routes</code> értékében több karakterláncot is megadhatunk, aminek segítségével egyszerre több statikus útvonalat is létrehozhatunk. A következõ sorok arra mutatnak példát, hogy a <code>192.168.0.0/24</code> és <code>192.168.1.0/24</code> hálózatok számára miként állítsunk be statikus útvonalakat a képzeletbeli útválasztónkon:</p></div><div class="literalblock programlisting"><div class=content><pre>static_routes=&#34;net1 net2&#34;
route_net1=&#34;-net 192.168.0.0/24 192.168.0.1&#34;
route_net2=&#34;-net 192.168.1.0/24 192.168.1.1&#34;</pre></div></div></div></div><div class=sect2><h3 id=network-routing-propagation>31.2.6. Az útvonalak terjedése<a class=anchor href=#network-routing-propagation></a></h3><div class=paragraph><p>Azt már tudjuk, hogyan adjuk meg a külvilág felé vezetõ útvonalakat, azonban arról még nem beszéltünk, hogy kívülrõl miként találnak meg bennünket.</p></div><div class=paragraph><p>Annyit már megismertünk, hogy az útválasztási táblázatokban megadhatjuk a hálózaton azt a gépet, amelyen keresztül az adott címtartomány (a példában egy C osztályú alhálózat) felé küldhetünk, amely pedig továbbküldi a hozzá érkezõ csomagokat.</p></div><div class=paragraph><p>Amikor a csatlakozunk az internet-szolgáltatónkhoz, a nála levõ útválasztási táblázatok úgy állítódnak be, hogy az alhálózatunk felé igyekvõ adatok a korábban létrejött PPP összeköttetésen keresztül jutnak el hozzánk. A világ többi részén levõ rendszerek viszont honnan fogják tudni, hogy a mi internet-szolgáltatónknak küldjenek?</p></div><div class=paragraph><p>Van egy rendszer (ez leginkább a névszerverek elosztott információs adatbázisához hasonlít), ami nyilvántartja a pillanatnyilag kiosztott címtartományokat és megadja a csatlakozási pontjukat az internet gerinchálózatán. Ez a "gerinc" tulajdonképpen olyan fõvonalakból áll, amelyen keresztül a világban az országok között mozog az internet forgalma. A gerinchálózat mindegyik gépe tárolja a központi útválasztási táblázatok egy másolatát, ami a forgalmat egy adott hálózatról a megadott gerincbeli hordozóra irányítja át, végig az internet-szolgáltatók láncán egészen addig, amíg az el nem éri a hálózatunkat.</p></div><div class=paragraph><p>A szolgáltatónk feladata, hogy a gépünk felé leágazásként (és így a felénk vezetõ útként) beregisztálja magát a gerinchálózat gépein. Ezt nevezik az útvonal terjedésének.</p></div></div><div class=sect2><h3 id=network-routing-troubleshooting>31.2.7. Hibaelhárítás<a class=anchor href=#network-routing-troubleshooting></a></h3><div class=paragraph><p>Néha gondok lehetnek az útvonal terjedésével, és egyes gépek nem képesek elérni minket. A <a href="https://man.freebsd.org/cgi/man.cgi?query=traceroute&amp;sektion=8&amp;format=html">traceroute(8)</a> parancs mind közül talán az egyik leghasznosabb ilyen helyzetekben, mivel ezzel fel tudjuk deríteni, hogy az útválasztás hol akad meg. Ugyanilyen jól hasznosítható azokban az esetekben, amikor látszólag nem tudunk elérni egy távoli gépet (tehát a <a href="https://man.freebsd.org/cgi/man.cgi?query=ping&amp;sektion=8&amp;format=html">ping(8)</a> csõdöt mond).</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=traceroute&amp;sektion=8&amp;format=html">traceroute(8)</a> parancsnak annak a távoli gépnek a nevét kell megadnunk, amelyhez csatlakozni akarunk. Futása közben megjeleníti azokat az átjárókat, amelyeken keresztül csatlakozni próbál, akár sikerült elérni a célgépet, akár a kapcsolat hiánya miatt kudarcot vall.</p></div><div class=paragraph><p>A parancs használatáról és mûködésérõl részletesebb információkat a <a href="https://man.freebsd.org/cgi/man.cgi?query=traceroute&amp;sektion=8&amp;format=html">traceroute(8)</a> man oldalán találunk.</p></div></div><div class=sect2><h3 id=network-routing-multicast>31.2.8. Útválasztás multicast esetén<a class=anchor href=#network-routing-multicast></a></h3><div class=paragraph><p>A FreeBSD alapból támogatja mind a multicastet használó alkalmazásokat, mind pedig a multicasthez tartozó útválasztást. Multicast esetében semmilyen speciális beállítás nem szükségeltetik, az ilyen alkalmazások egybõl el tudják érni ezt a lehetõséget. A multicast kérések útválasztásához azonban be kell építenünk némi támogatást a rendszermagba:</p></div><div class="literalblock programlisting"><div class=content><pre>options MROUTING</pre></div></div><div class=paragraph><p>Emellett még el kell indítanunk az <a href="https://man.freebsd.org/cgi/man.cgi?query=mrouted&amp;sektion=8&amp;format=html">mrouted(8)</a> démont is, amelyhez az <span class=filename>/etc/mrouted.conf</span> állományban még be kell állítanunk tunneleket és a DVMRP használatát. A multicasthez tartozó további beállításokat az <a href="https://man.freebsd.org/cgi/man.cgi?query=mrouted&amp;sektion=8&amp;format=html">mrouted(8)</a> man oldalán találhatjuk.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A FreeBSD 7.0 megjelenésével a <a href="https://man.freebsd.org/cgi/man.cgi?query=mrouted&amp;sektion=8&amp;format=html">mrouted(8)</a> démont kivették az alaprendszerbõl. Azt a DVMRP többesküldési protokollt valósítja meg, amelyet a legtöbb alkalmazásban mostanság már a <a href="https://man.freebsd.org/cgi/man.cgi?query=pim&amp;sektion=4&amp;format=html">pim(4)</a> segítségével oldanak meg. Ennek megfelelõen a hozzá tartozó multicast protokollt valósítja meg, amelyet a legtöbb alkalmazásban mostanság már a <a href="https://man.freebsd.org/cgi/man.cgi?query=pim&amp;sektion=4&amp;format=html">pim(4)</a> segítségével oldanak meg. Ennek megfelelõen a hozzá tartozó <a href="https://man.freebsd.org/cgi/man.cgi?query=map-mbone&amp;sektion=8&amp;format=html">map-mbone(8)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=mrinfo&amp;sektion=8&amp;format=html">mrinfo(8)</a> segédprogramok is eltávolításra kerültek. Ezek a programok attól a kiadástól kezdõdõen a Portgyûjtemény részeként érhetõek el a <a class=package href=https://cgit.freebsd.org/ports/tree/net/mrouted/>net/mrouted</a> portban.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=network-wireless>31.3. Vezeték nélküli hálózatok<a class=anchor href=#network-wireless></a></h2><div class=sectionbody><div class=sect2><h3 id=_a_vezeték_nélküli_hálózatok_alapjai>31.3.1. A vezeték nélküli hálózatok alapjai<a class=anchor href=#_a_vezeték_nélküli_hálózatok_alapjai></a></h3><div class=paragraph><p>A legtöbb vezeték nélküli hálózat az IEEE® 802.11 szabványon nyugszik. Az alapvetõ vezeték nélküli hálózatokban több olyan állomást találhatunk, amelyek egymással rádiójelek szórásával kommunikálnak a 2,4 GHz vagy 5 GHz frekvenciatartományban (noha ez a helyi viszonyoknak megfelelõen változhat, és a 2,3 GHz, illetve a 4,9 GHz tartományokban is lehetséges a kommunikáció).</p></div><div class=paragraph><p>A 802.11 szabványú hálózatok kétféleképpen szervezõdnek. Elõször is <em>infrastrukturálisan</em>, (infrastructural mode) ahol az egyik állomást kinevezzük a központnak és a többi pedig ehhez fog tartozni. Az ilyen hálózatokat BSS-nek nevezzük és az imént említett központ neve hozzáférési pont (Access Point, AP) lesz. A BSS-ben az összes kommunikáció a hozzáférési pontokon keresztül halad még abban az esetben is, amikor az egyik állomás egy másik vezeték nélküli állomással akarja felvenni a kapcsolatot. Az ilyen jellegû hálózatok másik típusú szervezõdési módjában nincsenek kijelölt központok és a kommunikáció az állomások között közvetlenül zajlik. A hálózat ezen formáját IBBS-nek nevezzük, vagy ismeretebb nevén <em>ad-hoc hálózatnak</em> (ad-hoc network).</p></div><div class=paragraph><p>A 802.11 alapú hálózatok elsõként a 2,4 GHz-es sávot hódították meg, és az IEEE® 802.11 valamint 802.11b szabványokban rögzített protokollokat használták. Ezekben a specifikációkban megtalálhatjuk a mûködési frekvenciát, a közeghozzáférési réteg jellemzõinek leírását, beleértve a keretezést és az átviteli sebességeket (a kommunikáció ugyanis eltérõ sebességekkel is történhet). A késõbb kiadott 802.11a szabvány azt specifikálja, hogy az 5 GHz-es tartományban miként mûködjenek, ahol többek közt megtalálhatjuk a különféle jelkezelési mechanizmusokat és a nagyobb átviteli sebességek használatát. Ezt még a 802.11g szabvány követte, ami a 802.11b hálózatokkal kompatibilis módon lehetõvé tette a 802.11a jelkezelésének és átviteli módszereinek használatát a 2,4 GHz-es sávban.</p></div><div class=paragraph><p>A 802.11 alapú hálózatok mindenféle átviteli technikáitól eltekintve többféle biztonsági megoldással találkozhatunk. Az korai 802.11 dokumentumok egy nagyon egyszerû biztonsági protokollt, a WEP-et említenek. Ez a protokoll a hálózaton mozgó adatokat egy rögzített és ismert osztott kulccsal kódolja le az RC4 titkosítással. A kommunikációhoz az összes állomásnak elõre meg kell egyeznie ebben a kulcsban. Errõl a sémáról idõközben kiderült, hogy könnyen feltörhetõ és manapság már csak nagyon ritkán alkalmazzák, kivéve talán csak a kóbor felhasználók elijesztésére. A jelenleg érvényes biztonsági elõírásokat az IEEE® 802.11i specifikáció adja meg, amely új kriptográfiai titkosításokat definiál valamint egy további protokollt az állomások azonosítására és a kulcsok cseréjére. Emellett a titkosításhoz használt kulcsok idõszakosan frissülnek és külön eszközök állnak rendelkezésre a betörési kísérletek észlelésére (és azok elhárítására). A vezeték nélküli hálózatok esetében másik elterjedt titkosítási protokoll a WPA. Ez igazából 802.11i elõdjének tekinthetõ, amelyet egy ipari csoport definiált, amíg a 802.11i minõsítés alatt állt. A WPA ennek megfelelõen teljesíti a 802.11i szabvány elvárásainak egy részét és kifejezetten a régi hardverek számára készült. A WPA mûködéséhez egyedül a TKIP titkosításra van szükségünk, amely az eredeti WEP titkosításból származik. A 802.11i engedi a TKIP használatát, de az adatok kódolására egy erõsebb titkosítás, az AES-CCM ismeretét is igényli. (Az AES a WPA esetében nem kell, mivel a régi eszközök esetében túlságosan költségesnek ítélték meg a használatát.)</p></div><div class=paragraph><p>A fenti szabványokon kívül a 802.11e a másik fontos szabvány, amire tekintettel kell lennünk. Ez írja le a 802.11 hálózatokon a multimédiás alkalmazások közvetítéséhez, mint például a videók valós idejû lejátszásához vagy a VoIP (voice over IP) megvalósításához tartozó protokollokat. A 802.11i szabványhoz hasonlóan a 802.11e is magában foglal egy elõzetes specifikációt, amelyet WME (késõbb pedig már WMM)-nek neveznek. Ezt szintén egy ipari csoport definiálta a 802.11e részeként, amivel a 802.11e végsõ elfogadásáig tudják a multimédiás igényeket kiszolgálni. Amit a 802.11e és WME/WMM megoldásaival kapcsolatban érdemes tudnunk: a QoS (Quality of Service) protokoll és más egyéb fejlett közeghozzáférési protokollok segítségével a vezeték nélküli hálózatokban lehetõvé teszik a forgalom prioritás szerinti ütemezését. Ezen protokollok megfelelõ implementációjának segítségével tehát a fontosabb adatok nagy sebességû küldését és áramoltatását vagyunk képesek elérni.</p></div><div class=paragraph><p>A FreeBSD a 6.0 verzió óta ismeri a 802.11a, 802.11b és 802.11g szabványokon alapján mûködõ hálózatokat. A WPA és 802.11i biztonsági protokollok (a 11a, 11b és 11g szabványok bármelyike esetén) hasonlóképpen támogatottak, valamint a WME/WMM protokollok mûködéséhez szükséges QoS csak bizonyos vezeték nélküli eszközök esetében.</p></div></div><div class=sect2><h3 id=network-wireless-basic>31.3.2. Kezdeti beállítások<a class=anchor href=#network-wireless-basic></a></h3><div class=sect3><h4 id=_a_rendszermag_beállítása>31.3.2.1. A rendszermag beállítása<a class=anchor href=#_a_rendszermag_beállítása></a></h4><div class=paragraph><p>A vezeték nélküli hálózatok használatához egy vezeték nélküli hálózati kártyára lesz szükségünk, valamint a rendszermagban is be kell állítani ehhez a megfelelõ támogatást. Ez utóbbit több különbözõ modulra szedték szét, és ezek közül csak azokat kell beállítani, amelyeket tényleg használni is fogunk.</p></div><div class=paragraph><p>Elõször is tehát kell egy vezeték nélküli eszköz. Az elterjedtebb típusaik általában az Atheos által gyártott alkatrészeket tartalmazzák. Az ilyen fajtájú eszközöket az <a href="https://man.freebsd.org/cgi/man.cgi?query=ath&amp;sektion=4&amp;format=html">ath(4)</a> meghajtó kezeli, melyet úgy tudunk a rendszer indításakor betölteni, ha a <span class=filename>/boot/loader.conf</span> állományba felvesszük a következõ sort:</p></div><div class="literalblock programlisting"><div class=content><pre>if_ath_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Az Atheos meghajtója három különálló részre oszlik: maga a meghajtó (<a href="https://man.freebsd.org/cgi/man.cgi?query=ath&amp;sektion=4&amp;format=html">ath(4)</a>), a hardveres réteg, ami a chipfüggõ funkciókat kezeli (<a href="https://man.freebsd.org/cgi/man.cgi?query=ath_hal&amp;sektion=4&amp;format=html">ath_hal(4)</a>) és a keretek küldésével kapcsolatban az átviteli sebesség megválasztását lehetõvé tevõ algoritmus (ez itt most az ath_rate_sample). Amikor ezt a támogatást modulként töltjük be, ezek a függõségek automatikusan feloldódnak. Ha az Atheos eszközök helyett valamelyik másikhoz tartozó modult szeretnénk használni, akkor például az Intersil Prism esetében a <a href="https://man.freebsd.org/cgi/man.cgi?query=wi&amp;sektion=4&amp;format=html">wi(4)</a> meghajtót kell megadnunk:</p></div><div class="literalblock programlisting"><div class=content><pre>if_wi_load=&#34;YES&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A leírás további részeiben az <a href="https://man.freebsd.org/cgi/man.cgi?query=ath&amp;sektion=4&amp;format=html">ath(4)</a> eszközt fogjuk használni, minden más esetben ennek a nevét kell csak lecserélünk a példákban. A rendszerben elérhetõ vezeték nélküli meghajtók és az általuk támogatott kártyák listája a FreeBSD Hardverjegyzetekben található. Ezek a jegyzetek a különbözõ architektúrákra és kiadásokhoz a FreeBSD holnapjáról, a <a href=http://www.FreeBSD.org/releases/>Kiadási jegyzetek</a> oldalról érhetõek el. Ha a vezeték nélküli eszközünkhöz nem létezik natív FreeBSD-s meghajtó, akkor az <a href=../config/#config-network-ndis>NDIS</a> meghajtó segítségével akár közvetlenül a Windows®-os meghajtóját is használhatjuk.</p></div></td></tr></tbody></table></div><div class=paragraph><p>FreeBSD 7.<em>X</em> esetén az eszközmeghajtó beállításával együtt a 802.11 hálózatok támogatását is be kell töltenünk a rendszermagba. Ez az <a href="https://man.freebsd.org/cgi/man.cgi?query=ath&amp;sektion=4&amp;format=html">ath(4)</a> meghajtó esetében a legalább a <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan&amp;sektion=4&amp;format=html">wlan(4)</a>, <code>wlan_scan_ap</code> és <code>wlan_scan_sta</code> modulok betöltését jelenti. A <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan&amp;sektion=4&amp;format=html">wlan(4)</a> modul a vezetéknélküli eszköz meghajtóprogramjával együtt töltõdik be, míg a többi modult a <span class=filename>/boot/loader.conf</span> állomány használatával kell a rendszerindítás során betöltenünk:</p></div><div class="literalblock programlisting"><div class=content><pre>wlan_scan_ap_load=&#34;YES&#34;
wlan_scan_sta_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>A FreeBSD 8.0 kiadástól kezdõdõen ezek a modulok részei a <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan&amp;sektion=4&amp;format=html">wlan(4)</a> meghajtónak, amely a hálózati kártya meghajtójával együtt mindig automatikusan betöltõdik.</p></div><div class=paragraph><p>Emellett még azokra a modulokra is szükségünk van, amelyek a használni kívánt biztonsági protokollokhoz nyújtanak kriptográfiai támogatást. Ezek hivatalosan a <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan&amp;sektion=4&amp;format=html">wlan(4)</a> modul kérésére automatikusan betöltõdnek, azonban itt most manuálisan állítjuk be. Erre a célra a következõ modulokat találjuk: <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan_wep&amp;sektion=4&amp;format=html">wlan_wep(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan_ccmp&amp;sektion=4&amp;format=html">wlan_ccmp(4)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan_tkip&amp;sektion=4&amp;format=html">wlan_tkip(4)</a>. A <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan_ccmp&amp;sektion=4&amp;format=html">wlan_ccmp(4)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan_tkip&amp;sektion=4&amp;format=html">wlan_tkip(4)</a> meghajtók csak akkor fognak kelleni, ha a WPA és/vagy a 802.11i biztonsági protokollokat használjuk. Amennyiben a hálózatunkon nincs titkosítás, akkor még a <a href="https://man.freebsd.org/cgi/man.cgi?query=wlan_wep&amp;sektion=4&amp;format=html">wlan_wep(4)</a> támogatás sem kell. Ezeket a modulok úgy lehet betölteni a rendszerindításnál, ha felvesszük a következõ sorokat a <span class=filename>/boot/loader.conf</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>wlan_wep_load=&#34;YES&#34;
wlan_ccmp_load=&#34;YES&#34;
wlan_tkip_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Miután ezt megcsináltuk, egyszerûen csak indítsuk újra a gépünket. Ha még nem akarjuk újraindítani a gépet, akkor a <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> parancs segítségével akár kézzel is betölthetjük az elõbb felsorolt modulokat.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha nem akarunk modulokat használni, a mûködéshez szükséges meghajtókat a rendszermagba is be tudjuk építeni a következõ sorok megadásával a rendszermag beállításait tartalmazó állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>device wlan                # a 802.11 támogatása
device wlan_wep            # 802.11 WEP  támogatás
device wlan_ccmp           # 802.11 CCMP támogatás
device wlan_tkip           # 802.11 TKIP támogatás
device wlan_amrr           # AMRR forgalomvezérlési algoritmus
device ath                 # Atheros IEEE 802.11 vezeték nélküli hálózati meghajtó
device ath_hal             # az Atheros meghajtó hardveres rétege
options AH_SUPPORT_AR5416  # az AR5416 tx/rx leírók engedélyezése
device ath_rate_sample     # SampleRate forgalomvezérlési algoritmus</pre></div></div><div class=paragraph><p>Hozzátesszük, hogy az alábbi sorok hozzáadása a FreeBSD 7.<em>X</em> változatában kötelezõ, más verzióknál viszont nem:</p></div><div class="literalblock programlisting"><div class=content><pre>device wlan_scan_ap        # a 802.11 AP módú keresés
device wlan_scan_sta       # a 802.11 STA módú keresés</pre></div></div><div class=paragraph><p>Az elõbbiek megadásával fordítsuk újra és telepítsük a rendszermagot, majd indítsuk újra a számítógépünket.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Miután a rendszerünk újra elindult, a rendszer indítás során generált üzenetei között találnunk kell valamennyi információt a felismert vezeték nélküli eszközökrõl. Például:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ath0: &lt;Atheros 5212&gt; mem 0x88000000-0x8800ffff irq 11 at device 0.0 on cardbus1
ath0: <span class=o>[</span>ITHREAD]
ath0: AR2413 mac 7.9 RF2413 phy 4.5</code></pre></div></div></div></div><div class=sect2><h3 id=_az_infrastrukturális_mûködési_mód>31.3.3. Az infrastrukturális mûködési mód<a class=anchor href=#_az_infrastrukturális_mûködési_mód></a></h3><div class=paragraph><p>Általában az infrastrukturális avagy a BBS mód használata a gyakori. Ebben a mûködési módban adott számú vezeték nélküli hozzáférési pont csatlakozik a hagyományos hálózatra. Mindegyik vezeték nélküli hálózatnak saját neve van, amit a hálózat SSID-jének hívunk. A vezeték nélküli kliensek ezekhez a vezeték nélküli hozzáférési pontokhoz kapcsolódnak.</p></div><div class=sect3><h4 id=_a_freebsd_s_kliensek_használata>31.3.3.1. A FreeBSD-s kliensek használata<a class=anchor href=#_a_freebsd_s_kliensek_használata></a></h4><div class=sect4><h5 id=_hogyan_keressünk_hozzáférési_pontokat>31.3.3.1.1. Hogyan keressünk hozzáférési pontokat<a class=anchor href=#_hogyan_keressünk_hozzáférési_pontokat></a></h5><div class=paragraph><p>A hálózatok kereséséhez az <code>ifconfig</code> paranccsal tudunk nekifogni. Egy ilyen kérés kiszolgálása eltarthat néhány pillanatig, mivel ekkor a rendszernek végig kell bóklásznia az összes elérhetõ frekvenciát és azokon hozzáférési pontok után kutatni. Egyedül a rendszeradminisztrátor kezdeményezheti ezeket a kereséseket:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0</span>
<span class=c># ifconfig wlan0 up scan</span>
SSID/MESH ID    BSSID              CHAN RATE  S:N     INT CAPS
dlinkap         00:13:46:49:41:76   11   54M <span class=nt>-90</span>:96   100 EPS  WPA WME
freebsdap       00:11:95:c3:0d:ac    1   54M <span class=nt>-83</span>:96   100 EPS  WPA</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Csak <code>up</code> jelzésû felületen tudunk hálózatokat keresni. További keresésekre már nincs szükség a felület <code>up</code> állapotban tartásához.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>FreeBSD 7.<em>X</em> esetén a <span class=filename>wlan0</span> eszköz helyett közvetlenül az adott eszköz nevét kell megadnunk, például <span class=filename>ath0</span>. Az iménti sorokat ennek megfelelõen tehát ebben az esetben így kell értelmezni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig ath0 up scan</span></code></pre></div></div><div class=paragraph><p>A leírás további részében a FreeBSD 7.<em>X</em> felhasználóknak ezen séma alapján kell használniuk a parancsokat és a konfigurációs beállításokat.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A keresés során keletkezõ listában láthatjuk megtalált BBS vagy IBBS fajtájú hálózatokat. A hálózatok neve és <code>SSID</code>-ja mellett még megjelenik egy <code>BSSID</code> oszlop is, ahol a hozzáférési pontok MAC-címe szerepel. A <code>CAPS</code> oszlop az egyes állomások tulajdonságait adja meg:</p></div><div class=dlist><dl><dt class=hdlist1><code>E</code></dt><dd><p>Extended Service Set (ESS): az állomás egy infrastrukturális vagyis BBS hálózat része.</p></dd><dt class=hdlist1><code>I</code></dt><dd><p>IBSS/ad-hoc hálózat: az állomás egy ad-hoc hálózat része.</p></dd><dt class=hdlist1><code>P</code></dt><dd><p>Privacy: a BBS-en belül minden keretet titkosítani kell. Tehát a BSS arra kötelezi az állomást, hogy WEP, TKIP vagy AES-CCMP titkosítás használatával kódolja a hálózat tagjai között közlekedõ kereteket.</p></dd><dt class=hdlist1><code>S</code></dt><dd><p>Short Preamble: a hálózatban rövid bevezetõjeleket használnak (a 802.11b High Rate/DSSS PHY elõírásai szerint), ahol a szokványos 128 bites szinkronizációs mezõ hossza csak 56 bit.</p></dd><dt class=hdlist1><code>s</code></dt><dd><p>Short Slot Time: a 802.11g hálózat rövid slotidõt használ, mivel nem találhatóak benne régi (802.11b szabványú) állomások.</p></dd></dl></div><div class=paragraph><p>A jelenleg ismert hálózatok listáját így tudjuk lekérdezni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 list scan</span></code></pre></div></div><div class=paragraph><p>Ezt az információt maga az adapter automatikusan, vagy a felhasználó tudja frissíteni a <code>scan</code> kérés kiadásával. Az elavult adatok maguktól törlõdnek a gyorsítótárból, így idõvel a lista zsugorodni fog, hacsak nem keresünk folyamatosan hálózatokat.</p></div></div><div class=sect4><h5 id=_alapvetõ_beállítások>31.3.3.1.2. Alapvetõ beállítások<a class=anchor href=#_alapvetõ_beállítások></a></h5><div class=paragraph><p>Ebben a szakaszban arra mutatunk példákat, hogy miként tudunk FreeBSD alatt titkosítás nélkül használni egy vezeték nélküli hálózati kártyát. Miután elsajátítottuk az itt szereplõ ismereteket, határozottan javasoljuk, hogy a vezeték nélküli hálózatunkat <a href=#network-wireless-wpa>WPA</a> használatával állítsuk be.</p></div><div class=paragraph><p>A vezeték nélküli hálózatok beállítása három elemi lépésbõl épül fel: a hozzáférési pont kiválasztása, az állomásunk hitelesítése és az IP-cím beállítása. A következõkben ezeket a lépéseket vitatjuk meg.</p></div><div class=sect5><h6 id=_a_hozzáférési_pont_kiválasztása>31.3.3.1.2.1. A hozzáférési pont kiválasztása<a class=anchor href=#_a_hozzáférési_pont_kiválasztása></a></h6><div class=paragraph><p>A legtöbb esetben hagyjuk, hogy a rendszer válassza ki magának a különbözõ heurisztikák alapján a leginkább megfelelõ hozzáférési pontot. Ez az alapértelmezett tevékenység, amikor aktiváljuk a felületet vagy valamilyen más módon, például az<span class=filename>/etc/rc.conf</span> állományból hivatkozunk rá:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;DHCP&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A korábban említettek szerint a FreeBSD 7.<em>X</em> felhasználóknak csak a kártyát kell beállítani:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_ath0=&#34;DHCP&#34;</pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Ha viszont több hozzáférési pont közül mi magunk akarunk kiválasztani egyet, akkor ezt az SSID megadásával tehetjük meg:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;ssid saját_ssid DHCP&#34;</pre></div></div><div class=paragraph><p>Amikor olyan környezetben vagyunk, ahol több hozzáférési pontnak is megegyezik az SSID-ja (gyakran így próbálják egyszerûsíteni azt, hogy automatikusan váltani lehessen köztük), akkor szükségünk lehet ezt egy adott eszközhöz hozzárendelni. Ebben az esetben a hozzáférési pont BSSID-ját is definiálni kell (és az SSID-t akár el is hagyhatjuk):</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;ssid saját_ssid bssid xx:xx:xx:xx:xx:xx DHCP&#34;</pre></div></div><div class=paragraph><p>Más módokon is képesek vagyunk szabályozni a hozzáférési pontok megválasztását, például a rendszerünk által vizsgált frekvenciasávok megadásával. Ez olyankor tud hasznos lenni, ha többsávos vezeték nélküli kártyánk van, és az összes tartomány végigpásztázása túlságosan sok idõt venne el. Ezt a mûvelet a <code>mode</code> paraméter megadásával lehet egy konkrét sávra leszûkíteni, például a</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;mode 11g ssid saját_ssid DHCP&#34;</pre></div></div><div class=paragraph><p>beállítás hatására a kártya 802.11g módban fog üzemelni, ami kizárólag csak 2,4 GHz-es frekvenciákon használható, így az 5 GHz-es csatornákat egyszerûen figyelmen kívül hagyjuk. Ugyanezt a <code>channel</code> paraméterrel is meg tudjuk oldani, mivel így a mûködést egy adott frekvenciára korlátozzuk, valamint a <code>chanlist</code> paraméterrel, ahol a pásztázandó csatornákat sorolhatjuk fel. Ezekrõl a paraméterekrõl részletesebb leírást az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> man oldalon találhatunk.</p></div></div><div class=sect5><h6 id=_hitelesítés>31.3.3.1.2.2. Hitelesítés<a class=anchor href=#_hitelesítés></a></h6><div class=paragraph><p>Miután sikeresen kiválasztottuk a számunkra megfelelõ hozzáférési pontot, az adatok küldéséhez az állomásunknak valamilyen módon hitelesítenie kell magát. A hitelesítés több módon történhet. Erre a leggyakrabban alkalmazott sémát nyílt hitelesítésnek (open authentication) nevezik, ahol a hálózathoz tetszõleges állomás csatlakozhat és kommunikálhat vele. Ezt a típusú hitelesítést akkor érdemes használni, amikor a vezeték nélküli hálózatunkat teszteljük. Más sémákban az adatfolyam megindításához egy titkosítási kézfogás szükséges, vagy elõre megosztott kulcsok esetleg jelszavak segítségével, vagy bonyolultabb sémák esetében itt még olyan különbözõ háttérszolgáltatások is megjelennek, mint például a RADIUS. A legtöbb felhasználó a nyílt hitelesítést használja, ami egyben az alapértelmezés is. A másik legelterjedtebb beállítás a WPA-PSK, avagy WPA Personal, amelyrõl <a href=#network-wireless-wpa-wpa-psk>lentebb</a> még szólni fogunk.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha Apple® AirPort® Extreme Base Station típusú hozzáférési pontunk van, akkor az osztott kulcsú hitelesítés mellett egy WEP kulcsot is be állítanunk. Ezt az <span class=filename>/etc/rc.conf</span> állományban vagy a <a href="https://man.freebsd.org/cgi/man.cgi?query=wpa_supplicant&amp;sektion=8&amp;format=html">wpa_supplicant(8)</a> programban tehetjük meg. Ha egyetlen AirPort® bázisállomásunk van, akkor az elérést valahogy így tudjuk beállítani:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;authmode shared wepmode on weptxkey 1 wepkey 01234567 DHCP&#34;</pre></div></div><div class=paragraph><p>Általánosságban véve elmondhatjuk, hogy az osztott kulcsú hitelesítést inkább kerüljük el, mivel WEP kulcsok használatára alapszik és ráadásul olyan módon, hogy nagyon könnyû feltörni. Ha már mindenképpen a WEP mellett kell döntenünk (például a régebbi eszközökkel így tudunk csak kompatibilisek maradni), akkor jobban járunk, ha a <code>nyílt</code> hitelesítéshez alkalmazzuk. A WEP használatát érintõ további információkat a <a href=#network-wireless-wep>WEP</a>ban találjuk.</p></div></td></tr></tbody></table></div></div><div class=sect5><h6 id=_ip_cím_szerzése_dhcp_használatával>31.3.3.1.2.3. IP-cím szerzése DHCP használatával<a class=anchor href=#_ip_cím_szerzése_dhcp_használatával></a></h6><div class=paragraph><p>Miután kiválasztottunk egy hozzáférési pontot és beállítottuk a hitelesítés paramétereit, egy IP-cím is kelleni fog a kommunikációhoz. Az esetek túlnyomó részében DHCP-n keresztül kapunk IP-címet a vezeték nélküli kapcsolatunkhoz. Ezt úgy érhetjük el, ha egyszerûen megnyitjuk az <span class=filename>/etc/rc.conf</span> állományt és az alábbihoz hasonló módon felvesszük a <code>DHCP</code> paramétert az eszközünk beállításaihoz:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;DHCP&#34;
ifconfig_wlan0=&#34;DHCP&#34;</pre></div></div><div class=paragraph><p>Így már készen is állunk a vezeték nélküli felület használatára:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/netif start</span></code></pre></div></div><div class=paragraph><p>Ahogy a felület mûködõképessé válik, az <code>ifconfig</code> parancs segítségével ellenõrizni is tudjuk az <span class=filename>ath0</span> felület állapotát:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0</span>
wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        ether 00:11:95:d5:43:62
        inet 192.168.1.100 netmask 0xffffff00 broadcast 192.168.1.255
        media: IEEE 802.11 Wireless Ethernet OFDM/54Mbps mode 11g
        status: associated
        ssid dlinkap channel 11 <span class=o>(</span>2462 Mhz 11g<span class=o>)</span> bssid 00:13:46:49:41:76
        country US ecm authmode OPEN privacy OFF txpower 21.5 bmiss 7
        scanvalid 60 bgscan bgscanintvl 300 bgscanidle 250 roam:rssi 7
        roam:rate 5 protmode CTS wme burst</code></pre></div></div><div class=paragraph><p>A <code>status: associated</code> azt jelenti, hogy sikeresen csatlakoztunk egy vezeték nélküli hálózathoz (jelen esetben ez a <code>dlinkap</code>). A <code>bssid 00:13:46:49:41:76</code> rész a hozzáférési pont MAC-címét tartalmazza. Az <code>authmode OPEN</code> pedig arról számol be, hogy a kommunikáció nem titkosított.</p></div></div><div class=sect5><h6 id=_statikus_ip_cím>31.3.3.1.2.4. Statikus IP-cím<a class=anchor href=#_statikus_ip_cím></a></h6><div class=paragraph><p>Ha valami okból nem tudjuk az IP-címünket DHCP szerveren keresztül lekérni, beállíthatunk rögzített IP-címet is. Ehhez nem kell mást tennünk, mint a korábban bemutatott <code>DHCP</code> kulcsszót kicserélni egy konkrét címmel. A hozzáférési ponthoz megadott többi paramétert azonban feltétlenül hagyjuk meg:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;inet 192.168.1.100 netmask 255.255.255.0ssid saját_ssidi&#34;</pre></div></div></div></div><div class=sect4><h5 id=network-wireless-wpa>31.3.3.1.3. WPA<a class=anchor href=#network-wireless-wpa></a></h5><div class=paragraph><p>A WPA (Wi-Fi Protected Access, vagyis védett wi-fi hozzáférés) a 802.11 szabványokban használatos biztonsági protokoll, amelyet a <a href=#network-wireless-wep>WEP</a> gyengeségeinek és megfelelõ hitelesítésének ellensúlyozására dolgoztak ki. A WPA a 802.1X hitelesítési protokolljait erõsíti és az adat sértetlenségének megõrzésére a WEP helyett több titkosítási algoritmust is felhasznál. A WPA által igényelt egyetlen titkosítás a TKIP (Temporary Key Integrity Protocol, vagyis az ideiglenes kulcs integritási protokoll), amely a WEP által az integritás ellenõrzésére és a bejutások észlelésére és azok reagálására szánt alap RC4 titkosítást bõvíti ki. A TKIP a régebbi hardvereken csupán szoftveres módosítással mûködõképessé tehetõ. Ez a kompromisszum a védelmet ugyan növeli, de még mindig kevés a támadások megfelelõ elhárításához. A WPA a TKIP mellett tartalmazza még az AES-CCMP titkosítást is, és ennek a használata javasolt. Ezt a specifikációt gyakran WPA2 (vagy RSN) néven emlegetik.</p></div><div class=paragraph><p>A WPA definiál hitelesítési és titkosítási protokollokat. A hitelesítés általában a következõ két technika egyike alapján történik: vagy 802.1X és egy háttérszolgáltatás, például a RADIUS segítségével, vagy egy elõre megosztott kulcsot alkalmazó minimális kézfogással az állomás és a hozzáférési pont között. Az elõbbit gyakran WPA Enterprise-nak, míg az utóbbit WPA Personalnak hívják. Mivel a legtöbben nem állítanak be egy komplett RADIUS alapú szervert a vezeték nélküli hálózatukhoz, ezért a WPA-PSK a WPA leginkább elterjedten használt változata.</p></div><div class=paragraph><p>A vezeték nélküli kapcsolat és a hitelesítés (kulcs alapján vagy szerverrel) vezérlését a <a href="https://man.freebsd.org/cgi/man.cgi?query=wpa_supplicant&amp;sektion=8&amp;format=html">wpa_supplicant(8)</a> segédprogram végzi. Ennek a programnak mûködéséhez egy konfigurációs állományra van szüksége, amely az <span class=filename>/etc/wpa_supplicant.conf</span> néven érhetõ el. Errõl az állományról bõvebb információt a <a href="https://man.freebsd.org/cgi/man.cgi?query=wpa_supplicant.conf&amp;sektion=5&amp;format=html">wpa_supplicant.conf(5)</a> man oldalán lelhetünk.</p></div><div class=sect5><h6 id=network-wireless-wpa-wpa-psk>31.3.3.1.3.1. WPA-PSK<a class=anchor href=#network-wireless-wpa-wpa-psk></a></h6><div class=paragraph><p>A WPA-PSK, más néven WPA-Personal, egy adott jelszó alapján generált elõre megosztott kulcssal (pre-shared key, PSK) mûködik, amit a vezeték nélküli hálózatokban mesterkulcsént használnak. Ez azt jelenti, hogy minden egyes vezeték nélküli felhasználó ugyanazon a kulcson osztozik. A WPA-PSK olyan kis méretû hálózatok esetében megfelelõ, ahol a hitelesítést elvégzõ szerver használata nem lehetséges vagy nem oldható meg.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Mindig igyekezzünk erõs jelszavakat használni, melyek kellõen hosszúak és sokféle karaktert tartalmaznak, és így nehezebben fejthetõek meg vagy törhetõek fel.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Elõször az <span class=filename>/etc/wpa_supplicant.conf</span> állományban állítsuk be az SSID-t és a hálózatunkhoz tartozó elõre megosztott kulcsot:</p></div><div class="literalblock programlisting"><div class=content><pre>network={
  ssid=&#34;freebsdap&#34;
  psk=&#34;freebsdmall&#34;
}</pre></div></div><div class=paragraph><p>Ezután az <span class=filename>/etc/rc.conf</span> állományban jelezzük, hogy a vezeték nélküli eszközt a WPA segítségével állítjuk be és az IP-címet a DHCP szervertõl kérjük el:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_ath0=&#34;WPA DHCP&#34;</pre></div></div><div class=paragraph><p>Innentõl már fel is tudjuk éleszteni a felületet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/netif start</span>
Starting wpa_supplicant.
DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 5
DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 6
DHCPOFFER from 192.168.0.1
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.1
bound to 192.168.0.254 <span class=nt>--</span> renewal <span class=k>in </span>300 seconds.
wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet autoselect OFDM/36Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz 11g<span class=o>)</span> bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</code></pre></div></div><div class=paragraph><p>Kézzel is megpróbálhatjuk elindítani az <a href=#network-wireless-wpa-wpa-psk>elõbb</a> elkészített <span class=filename>/etc/wpa_supplicant.conf</span> állomány használatával:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># wpa_supplicant -i wlan0 -c /etc/wpa_supplicant.conf</span>
Trying to associate with 00:11:95:c3:0d:ac <span class=o>(</span><span class=nv>SSID</span><span class=o>=</span><span class=s1>&#39;freebsdap&#39;</span> <span class=nv>freq</span><span class=o>=</span>2412 MHz<span class=o>)</span>
Associated with 00:11:95:c3:0d:ac
WPA: Key negotiation completed with 00:11:95:c3:0d:ac <span class=o>[</span><span class=nv>PTK</span><span class=o>=</span>CCMP <span class=nv>GTK</span><span class=o>=</span>CCMP]
CTRL-EVENT-CONNECTED - Connection to 00:11:95:c3:0d:ac completed <span class=o>(</span>auth<span class=o>)</span> <span class=o>[</span><span class=nb>id</span><span class=o>=</span>0 <span class=nv>id_str</span><span class=o>=]</span></code></pre></div></div><div class=paragraph><p>A következõ parancs a <code>dhclient</code> indítása legyen, amivel megszerezzük a DHCP szervertõl az IP-címünket:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dhclient wlan0</span>
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.1
bound to 192.168.0.254 <span class=nt>--</span> renewal <span class=k>in </span>300 seconds.
<span class=c># ifconfig wlan0</span>
ath0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet OFDM/36Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz 11g<span class=o>)</span> bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha az <span class=filename>/etc/rc.conf</span> állományban szerepel a <code>ifconfig_wlan0="DHCP"</code> sor, akkor egyáltalán nem szükséges a <code>dhclient</code> parancs manuális kiadása, mivel a <code>dhclient</code> magától el fog indulni, miután a <code>wpa_supplicant</code> egyeztette a kulcsokat.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Amikor a DHCP nem használható, megadhatunk a statikus IP-címet is, miután a <code>wpa_supplicant</code> sikeresen lebonyolította a hitelesítést:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 inet 192.168.0.100 netmask 255.255.255.0</span>
<span class=c># ifconfig wlan0</span>
ath0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.100 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet OFDM/36Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz 11g<span class=o>)</span> bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</code></pre></div></div><div class=paragraph><p>Ha egyáltalán nem használunk DHCP szervert, akkor nekünk kell beállítani az alapértelmezett átjárót és a névszervert is:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># route add default alapértelmezett_átjáró</span>
<span class=c># echo &#34;nameserver névszerver&#34; &gt;&gt; /etc/resolv.conf</span></code></pre></div></div></div><div class=sect5><h6 id=network-wireless-wpa-eap-tls>31.3.3.1.3.2. WPA és EAP-TLS<a class=anchor href=#network-wireless-wpa-eap-tls></a></h6><div class=paragraph><p>A másik mód, ahogy a WPA használható, az a 802.1X hitelesítési szerveren keresztül történik, és ebben az esetben a WPA neve WPA-Enterprise. Ez sokkal biztonságosabb a WPA-Personal elõre kiosztott kulcsaival szemben. A WPA-Enterprise az EAP (Extensible Authentication Protocol, azaz Bõvíthetõ hitelesítési protokoll) használatán alapszik.</p></div><div class=paragraph><p>Az EAP önmaga nem végez titkosítást, mivel úgy alakították ki, hogy magát az EAP protokollt kell egy titkosított járaton keresztül bújtatni. Az EAP hitelesítési módszereinek több típusát is kidolgozták, melyek közül a legismertebbek az EAP-TLS, EAP-TTLS valamint a EAP-PEAP.</p></div><div class=paragraph><p>Az EAP-TLS (EAP szállítási rétegbeli védelemmel) a vezeték nélküli világban egy nagyon jól támogatott hitelesítési protokoll, mivel ez volt az elsõ EAP módszer, amit a <a href=http://www.wi-fi.org/>Wi-fi szövetség</a> jóváhagyott. Az EAP-TLS mûködéséhez három tanúsítvány kell: egy hitelesítõ hatóságtól (Certificate Authority, CA), egy a hitelesítést végzõ szervertõl és egy a klienstõl. Ezzel az EAP módszerrel mind a hitelesítõ szerver, mind a vezeték nélküli kliens külön képviselik a saját tanúsítványaikat, és ezeket a szervezetünket hitelesítõ hatóság aláírása alapján ellenõrzik.</p></div><div class=paragraph><p>A korábbiaknak megfelelõen a beállításokat szintén az <span class=filename>/etc/wpa_supplicant.conf</span> állományon keresztül végezzük el:</p></div><div class="literalblock programlisting"><div class=content><pre>network={
  ssid=&#34;freebsdap&#34; <i class=conum data-value=1></i><b>(1)</b>
  proto=RSN  <i class=conum data-value=2></i><b>(2)</b>
  key_mgmt=WPA-EAP <i class=conum data-value=3></i><b>(3)</b>
  eap=TLS <i class=conum data-value=4></i><b>(4)</b>
  identity=&#34;loader&#34; <i class=conum data-value=5></i><b>(5)</b>
  ca_cert=&#34;/etc/certs/cacert.pem&#34; <i class=conum data-value=6></i><b>(6)</b>
  client_cert=&#34;/etc/certs/clientcert.pem&#34; <i class=conum data-value=7></i><b>(7)</b>
  private_key=&#34;/etc/certs/clientkey.pem&#34; <i class=conum data-value=8></i><b>(8)</b>
  private_key_passwd=&#34;freebsdmallclient&#34; <i class=conum data-value=9></i><b>(9)</b>
}</pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Ez a mezõ adja meg a hálózat nevét (SSID).</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Itt az RSN (IEEE® 802.11i), vagyis a WPA2 protokollt használjuk.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>A <code>key_mgmt</code> sor a kulcskezelési protokollt adja meg. A mi esetünkben ez a WPA lesz, EAP hitelesítéssel: <code>WPA-EAP</code>.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Ebben a mezõben az EAP módszert nevezzük meg a kapcsolathoz.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Az <code>identity</code> mezõ az EAP esetén használt azonosítót tartalmazza.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>A <code>ca_cert</code> mezõ a hitelesítõ hatóság tanúsítványát tároló állomány elérési útvonalát adja meg. Ezt a szerver tanúsítványának hitelesítéséhez használjuk.</td></tr><tr><td><i class=conum data-value=7></i><b>7</b></td><td>A <code>client_cert</code> sor a kliens tanúsítványát tartalmazó állomány elérési útvonalát adja meg. Ennek a vezeték nélküli hálózat minden egyes kliense esetében egyedinek kell lennie.</td></tr><tr><td><i class=conum data-value=8></i><b>8</b></td><td>A <code>private_key</code> mezõ a kliens tanúsítvánáynak privát kulcsát tároló állomány elérési útját adja meg.</td></tr><tr><td><i class=conum data-value=9></i><b>9</b></td><td>A <code>private_key_passwd</code> mezõ a privát kulcshoz tartozó jelmondatot rögzíti.</td></tr></tbody></table></div><div class=paragraph><p>Az <span class=filename>/etc/rc.conf</span> állományba vegyük fel a következõ sorokat:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;WPA DHCP&#34;</pre></div></div><div class=paragraph><p>A következõ lépés a felület felébresztése lesz az <span class=filename>rc.d</span> eszköz segítségével:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/netif start</span>
Starting wpa_supplicant.
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.20
bound to 192.168.0.254 <span class=nt>--</span> renewal <span class=k>in </span>300 seconds.
wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet DS/11Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz 11g<span class=o>)</span> bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</code></pre></div></div><div class=paragraph><p>Természetesen, ahogy azt már az elõbbiekben is megmutattuk, mindezt manuálisan is el tudjuk végezni a <code>wpa_supplicant</code> és az <code>ifconfig</code> parancsok segítségével.</p></div></div><div class=sect5><h6 id=network-wireless-wpa-eap-ttls>31.3.3.1.3.3. WPA és EAP-TTLS<a class=anchor href=#network-wireless-wpa-eap-ttls></a></h6><div class=paragraph><p>Az EAP-TLS használatakor mind a hitelesítést végzõ szervernek és kliensnek is kell tanúsítvány, azonban az EAP-TTLS ( szállítási rétegbeli védelem EAP tunnelen keresztül) esetében a kliensnél ez elhagyható. Ez a módszer nagyjából olyan, mint amit a webes oldalak csinálnak, ahol a webszerverek egy védett SSL tunnelt képeznek még akkor is, amikor a látogatók nem rendelkeznek kliens oldali tanúsítvánnyal. Az EAP-TTLS egy titkosított TLS tunnelen keresztül védi le a hitelesítési adatok forgalmát.</p></div><div class=paragraph><p>Ezt ismét az <span class=filename>/etc/wpa_supplicant.conf</span> állományon keresztül tudjuk beállítani:</p></div><div class="literalblock programlisting"><div class=content><pre>network={
  ssid=&#34;freebsdap&#34;
  proto=RSN
  key_mgmt=WPA-EAP
  eap=TTLS <i class=conum data-value=1></i><b>(1)</b>
  identity=&#34;test&#34; <i class=conum data-value=2></i><b>(2)</b>
  password=&#34;test&#34; <i class=conum data-value=3></i><b>(3)</b>
  ca_cert=&#34;/etc/certs/cacert.pem&#34; <i class=conum data-value=4></i><b>(4)</b>
  phase2=&#34;auth=MD5&#34; <i class=conum data-value=5></i><b>(5)</b>
}</pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Ebben a mezõben az EAP módszert állítjuk be a kapcsolathoz.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Az <code>identity</code> mezõ a titkosított TLS tunnelen keresztül az EAP hitelesítésnél felhasznált azonosítót adja meg.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>A <code>password</code> tartalmazza az EAP hitelesítésnél használt jelmondatot.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>A <code>ca_cert</code> mezõ hivatkozik a hitelesítõ hatóság tanúsítványát tartalmazó állományra. Ez az állomány kell a szerver tanúsítványának ellenõrzéséhez.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Ebben a mezõben a titkosított TLS tunnelben használt hitelesítési módszer nevezzük meg. Jelen esetünkben ez az EAP MD5-Challenge használatával. A "belsõ hitelesítés" fázisát gyakran csak "phase2"-nak (2. fázisnak) hívják.</td></tr></tbody></table></div><div class=paragraph><p>Mindezek mellett még a következõ sorokat is vegyük fel az <span class=filename>/etc/rc.conf</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;WPA DHCP&#34;</pre></div></div><div class=paragraph><p>Ezután hozzuk mûködésbe a felületet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/netif start</span>
Starting wpa_supplicant.
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.20
bound to 192.168.0.254 <span class=nt>--</span> renewal <span class=k>in </span>300 seconds.
wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet DS/11Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz 11g<span class=o>)</span> bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</code></pre></div></div></div><div class=sect5><h6 id=network-wireless-wpa-eap-peap>31.3.3.1.3.4. WPA és EAP-PEAP<a class=anchor href=#network-wireless-wpa-eap-peap></a></h6><div class=paragraph><p>A PEAP (Védett EAP) az EAP-TTLS egyik alternatívájaként jött létre. A PEAP módszernek két változata van, melyek közül a leggyakoribb a PEAPv0/EAP-MSCHAPv2. A leírás további részében a PEAP elnevezéssel erre az EAP módszerre fogunk hivatkozni. A PEAP az EAP-TLS után a leginkább alkalmazott szabvány, más szóval, ha a hálózatunkban többféle operációs rendszer is megtalálható, akkor az EAP-TLS után valószínûleg a PEAP lesz a másik, amit mindegyik ismerni fog.</p></div><div class=paragraph><p>A PEAP hasonló az EAP-TTLS-hez: szerver oldali tanúsítványokkal hitelesíti a klienseket és titkosított TLS tunnelt hoz létre a kliens és a hitelesítést végzõ szerver között, amivel segíti megóvni a hitelesítési információkat. Biztonság szempontjából az EAP-TTLS és a PEAP között az a különbség, hogy a PEAP hitelesítés a felhasználói nevet titkosítatlanul küldi és csak a jelszó megy át a titkosított TLS tunnelen. Az EAP-TTLS egyaránt a TLS tunnelt használja mind a felhasználói név, mind a jelszó esetében.</p></div><div class=paragraph><p>Az EAP-PEAP beállításait az <span class=filename>/etc/wpa_supplicant.conf</span> állományba kell felvenni:</p></div><div class="literalblock programlisting"><div class=content><pre>network={
  ssid=&#34;freebsdap&#34;
  proto=RSN
  key_mgmt=WPA-EAP
  eap=PEAP <i class=conum data-value=1></i><b>(1)</b>
  identity=&#34;test&#34; <i class=conum data-value=2></i><b>(2)</b>
  password=&#34;test&#34; <i class=conum data-value=3></i><b>(3)</b>
  ca_cert=&#34;/etc/certs/cacert.pem&#34; <i class=conum data-value=4></i><b>(4)</b>
  phase1=&#34;peaplabel=0&#34; <i class=conum data-value=5></i><b>(5)</b>
  phase2=&#34;auth=MSCHAPV2&#34; <i class=conum data-value=6></i><b>(6)</b>
}</pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Ebben a mezõben megadjuk, az EAP módszert használjuk a kapcsolathoz.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Az <code>identity</code> mezõ az EAP hitelesítés során a titkosított TLS tunnelben átküldött azonosítót tartalmazza.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>A <code>password</code> mezõ az EAP hitelesítés során használt jelmondatot definiálja.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>A <code>ca_cert</code> mezõ a hitelesítõ hatóság tanúsítványát tartalmazó állomány elérési útját adja meg. Ez az állomány kell a szerver tanúsítványának ellenõrzéséhez.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Ez a mezõ a hitelesítés elsõ fázisának (vagyis a TLS tunnel) paramétereit tartalmazza. A hitelesítést végzõ szervertõl függõen a hitelesítéshez meg kell adnunk bizonyos címkéket. A legtöbb esetben a címke a "kliens oldali EAP titkosítás" lesz, amit a <code>peaplabel=0</code> használatával állítunk be. A részleteket a <a href="https://man.freebsd.org/cgi/man.cgi?query=wpa_supplicant.conf&amp;sektion=5&amp;format=html">wpa_supplicant.conf(5)</a> man oldalon olvashatjuk.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>Ebben a mezõben a titkosított TLS tunnelben alkalmazott hitelesítést protokollt nevezzük meg. A PEAP esetében ez az <code>auth=MSCHAPV2</code> lesz.</td></tr></tbody></table></div><div class=paragraph><p>A következõket kell még hozzátennünk az <span class=filename>/etc/rc.conf</span> állományhoz:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;WPA DHCP&#34;</pre></div></div><div class=paragraph><p>Ezután már mûködésbe is hozhatjuk a felületet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/netif start</span>
Starting wpa_supplicant.
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPREQUEST on wlan0 to 255.255.255.255 port 67
DHCPACK from 192.168.0.20
bound to 192.168.0.254 <span class=nt>--</span> renewal <span class=k>in </span>300 seconds.
wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
      ether 00:11:95:d5:43:62
      inet 192.168.0.254 netmask 0xffffff00 broadcast 192.168.0.255
      media: IEEE 802.11 Wireless Ethernet DS/11Mbps mode 11g
      status: associated
      ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz 11g<span class=o>)</span> bssid 00:11:95:c3:0d:ac
      country US ecm authmode WPA2/802.11i privacy ON deftxkey UNDEF
      AES-CCM 3:128-bit txpower 21.5 bmiss 7 scanvalid 450 bgscan
      bgscanintvl 300 bgscanidle 250 roam:rssi 7 roam:rate 5 protmode CTS
      wme burst roaming MANUAL</code></pre></div></div></div></div><div class=sect4><h5 id=network-wireless-wep>31.3.3.1.4. WEP<a class=anchor href=#network-wireless-wep></a></h5><div class=paragraph><p>A WEP (Wired Equivalent Privacy, azaz kábellel egyenértékû titkosság) az eredeti 802.11 szabvány része. Nincs külön hitelesítési mechanizmusa, csupán a hozzáférés-vezérlés egy gyenge formájával találkozhatunk benne, amit azonban könnyen fel lehet törni.</p></div><div class=paragraph><p>A WEP <code>ifconfig</code> parancs használatán keresztül állítható be:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0</span>
<span class=c># ifconfig wlan0 inet 192.168.1.100 netmask 255.255.255.0 \</span>
	  ssid saját_hálózat wepmode on weptxkey 3 wepkey 3:0x3456789012</code></pre></div></div><div class=ulist><ul><li><p>A <code>weptxkey</code> utal arra, hogy a küldés során WEP kulcsot használunk. Itt most egy harmadik kulcsot használtunk, amelynek egyeznie kell a hozzáférési pont beállításaival. Ha nem tudjuk pontosan, hogy milyen kulcsot használ a hozzáférési pont, akkor próbálkozzunk az <code>1</code> érték (vagyis az elsõ kulcs) megadásával.</p></li><li><p>A <code>wepkey</code> után következik a kiválasztott WEP kulcs. <em>index:kulcs</em> alakban kell megadni, és ha itt nem adunk meg indexet, akkor azzal az <code>1</code> indexû kulcsot állítjuk be. Úgyis fogalmazhatnánk, hogy az indexet csak olyankor kell megadni, amikor nem az elsõ kulcsot akarjuk használni.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A <code>0x3456789012</code> értéket a hozzáférési pontnál beállított kulcsra kell beállítani.</p></div></td></tr></tbody></table></div></li></ul></div><div class=paragraph><p>Ha érdekelnek minket a további részletek, akkor bátran lapozzuk fel az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> parancs man oldalát.</p></div><div class=paragraph><p>A <code>wpa_supplicant</code> segédprogramot is bevonhatjuk a vezeték nélküli felületek WEP alapú használatába. A fenti példát a következõ módon tudjuk leírni az <span class=filename>/etc/wpa_supplicant.conf</span> állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>network={
  ssid=&#34;sajat_halozat&#34;
  key_mgmt=NONE
  wep_key3=3456789012
  wep_tx_keyidx=3
}</pre></div></div><div class=paragraph><p>Majd:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># wpa_supplicant -i wlan0 -c /etc/wpa_supplicant.conf</span>
Trying to associate with 00:13:46:49:41:76 <span class=o>(</span><span class=nv>SSID</span><span class=o>=</span><span class=s1>&#39;dlinkap&#39;</span> <span class=nv>freq</span><span class=o>=</span>2437 MHz<span class=o>)</span>
Associated with 00:13:46:49:41:76</code></pre></div></div></div></div></div><div class=sect2><h3 id=_az_ad_hoc_mûködési_mód>31.3.4. Az ad-hoc mûködési mód<a class=anchor href=#_az_ad_hoc_mûködési_mód></a></h3><div class=paragraph><p>Az IBSS vagy más néven ad-hoc módot pont-pont típusú kapcsolatok kialakítására tervezték. Például, ha az <code>A</code> és a <code>B</code> gépek között egy ad-hoc típusú hálózatot akarunk létesíteni, akkor egyszerûen csak ki kell választanunk két IP-címet és egy SSID-t.</p></div><div class=paragraph><p>Így állítjuk be az <code>A</code> gépet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0 wlanmode adhoc</span>
<span class=c># ifconfig wlan0 inet 192.168.0.1 netmask 255.255.255.0 ssid freebsdap</span>
<span class=c># ifconfig wlan0</span>
  wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  ether 00:11:95:c3:0d:ac
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;adhoc&gt;
	  status: running
	  ssid freebsdap channel 2 <span class=o>(</span>2417 MHz<span class=o>)</span> bssid 02:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 scanvalid 60
	  protmode CTS wme burst</code></pre></div></div><div class=paragraph><p>Az <code>adhoc</code> paraméterrel utalunk arra, hogy a felület most IBSS módban mûködik.</p></div><div class=paragraph><p>A <code>B</code> gépen ezután már képesek vagyunk észlelni az <code>A</code> gépet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0 wlanmode adhoc</span>
  SSID/MESH ID    BSSID              CHAN RATE  S:N     INT CAPS
  freebsdap       02:11:95:c3:0d:ac    2   54M <span class=nt>-64</span>:-96  100 IS   WME</code></pre></div></div><div class=paragraph><p>A kimenetben szereplõ <code>I</code> is megerõsíti, hogy az <code>A</code> gépet ad-hoc módban érjük el. Így már csak a <code>B</code> gépet kell beállítanunk egy másik IP-címmel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 inet 192.168.0.2 netmask 255.255.255.0 ssid freebsdap</span>
<span class=c># ifconfig wlan0</span>
  wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  ether 00:11:95:d5:43:62
	  inet 192.168.0.2 netmask 0xffffff00 broadcast 192.168.0.255
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;adhoc&gt;
	  status: running
	  ssid freebsdap channel 2 <span class=o>(</span>2417 Mhz 11g<span class=o>)</span> bssid 02:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 scanvalid 60
	  protmode CTS wme burst</code></pre></div></div><div class=paragraph><p>Most már mind az <code>A</code> és mind a <code>B</code> készen áll az adatok cseréjére.</p></div></div><div class=sect2><h3 id=network-wireless-ap>31.3.5. FreeBSD alapú hozzáférési pontok<a class=anchor href=#network-wireless-ap></a></h3><div class=paragraph><p>A FreeBSD képes hozzáférési pontként (Access Point, AP) is üzemelni, így nem kell külön hardveres hozzáférési pontot vásárolnunk vagy ad-hoc hálózatot használnunk. Ez különösen akkor hasznos, amikor a FreeBSD gépet egy másik hálózat (például az internet) felé állítottuk be átjárónak.</p></div><div class=sect3><h4 id=network-wireless-ap-basic>31.3.5.1. Alapvetõ beállítások<a class=anchor href=#network-wireless-ap-basic></a></h4><div class=paragraph><p>Mielõtt nekiállnánk a FreeBSD-s gépünket hozzáférési pontnak beállítani, egy olyan rendszermagra lesz szükségünk, amely tartalmazza a megfelelõ vezeték nélküli támogatást a kártyánkhoz. Emellett az alkalmazni kívánt biztonsági protokollok támogatását is bele kell építenünk. Ennek részleteit lásd a <a href=#network-wireless-basic>Kezdeti beállítások</a>ban.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Jelenleg az NDIS meghajtón keresztül használt Windows®-os meghajtók nem teszik lehetõvé hozzáférési pontok kialakítását. Egyedül a vezeték nélküli eszközök natív FreeBSD-s meghajtói ismerik a hozzáférési pont módot.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ahogy betöltöttük a vezeték nélküli hálózatok támogatását, egybõl ellenõrizni is tudjuk, hogy a vezeték nélküli eszközünk használható-e hozzáférési pontként (avagy "hostap" módban):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0</span>
<span class=c># ifconfig wlan0 list caps</span>
<span class=nv>drivercaps</span><span class=o>=</span>6f85edc1&lt;STA,FF,TURBOP,IBSS,HOSTAP,AHDEMO,TXPMGT,SHSLOT,SHPREAMBLE,MONITOR,MBSS,WPA1,WPA2,BURST,WME,WDS,BGSCAN,TXFRA&gt;
<span class=nv>crytocaps</span><span class=o>=</span>1f&lt;WEP,TKIP,AES,AES_CCM,TKIPMIC&gt;</code></pre></div></div><div class=paragraph><p>A fenti kimenetben láthatjuk a kártyánk tulajdonságait. A <code>HOSTAP</code> szó arról tanúskodik, hogy a vezeték nélküli kártyánk képes hozzáférési pontként viselkedni. Mellette még a különféle támogatott titkosítási módszerek is láthatóak: WEP, TKIP, AES stb. Ezekbõl az információkból tudjuk kideríteni, hogy a hozzáférési pontunkon milyen titkosítási protokollokat tudunk használni.</p></div><div class=paragraph><p>A vezeték nélküli eszközünket innentõl már csak hozzáférési pontnak állíthatjuk át a viruális hálózati eszköz létrehozásakor, ezért a korábban létrehozott eszközt ehhez elõször meg kell semmisítenünk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 destroy</span></code></pre></div></div><div class=paragraph><p>Ezzel létrejön a megfelelõ beállításokkal, majd ezekhez állítjuk még be a többit:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0 wlanmode hostap</span>
<span class=c># ifconfig wlan0 inet 192.168.0.1 netmask 255.255.255.0 ssid freebsdap mode 11g channel 1</span></code></pre></div></div><div class=paragraph><p>Az <code>ifconfig</code> parancs ismételt használatával le is tudjuk kérdezni az <span class=filename>wlan0</span> felület állapotát:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0</span>
  wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  inet6 fe80::211:95ff:fec3:dac%ath0 prefixlen 64 scopeid 0x4
	  ether 00:11:95:c3:0d:ac
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;hostap&gt;
	  status: running
	  ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz<span class=o>)</span> bssid 00:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 scanvalid 60
	  protmode CTS wme burst dtimperiod 1 <span class=nt>-dfs</span></code></pre></div></div><div class=paragraph><p>A <code>hostap</code> paraméterbõl kiderül, hogy a felület hozzáférési pont módban van.</p></div><div class=paragraph><p>Ha az <span class=filename>/etc/rc.conf</span> állományban megadjuk a következõ sorokat, akkor a felület beállítása a rendszer indításakor magától megtörténik:</p></div><div class="literalblock programlisting"><div class=content><pre>wlans_ath0=&#34;wlan0&#34;
create_args_wlan0=&#34;wlanmode hostap&#34;
ifconfig_wlan0=&#34;inet 192.168.0.1 netmask 255.255.255.0 ssid freebsdap mode 11g channel 1&#34;</pre></div></div></div><div class=sect3><h4 id=_hitelesítés_vagy_titkosítás_nélküli_hozzáférési_pontok>31.3.5.2. Hitelesítés vagy titkosítás nélküli hozzáférési pontok<a class=anchor href=#_hitelesítés_vagy_titkosítás_nélküli_hozzáférési_pontok></a></h4><div class=paragraph><p>Habár a hozzáférési pontok mûködtetése nem javasolt hitelesítés vagy titkosítás nélkül, ebben a módban könnyen meg tudunk gyõzõdni a hozzáférési pontunk használhatóságáról. Ez a típusú konfiguráció ezenkívül még fontos szerepet játszik a klienseken felbukkanó hibák kiszûrésében is.</p></div><div class=paragraph><p>Miután sikerült az elõbbiekben bemutatottak alapján beállítani a hozzáférési pontunkat, egy másik vezeték nélküli géprõl rögtön meg is kezdhetjük a keresését:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig ath0 up scan</span>
SSID/MESH ID    BSSID              CHAN RATE   S:N     INT CAPS
freebsdap       00:11:95:c3:0d:ac    1   54M <span class=nt>-66</span>:-96  100 ES   WME</code></pre></div></div><div class=paragraph><p>Láthatjuk, hogy a kliens megtalálta a hozzáférési pontot és tudunk is rá kapcsolódni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 inet 192.168.0.2 netmask 255.255.255.0 ssid freebsdap</span>
<span class=c># ifconfig wlan0</span>
  wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	  inet 192.168.0.2 netmask 0xffffff00 broadcast 192.168.0.255
	  media: IEEE 802.11 Wireless Ethernet OFDM/54Mbps mode 11g
	  status: associated
	  ssid freebsdap channel 1 <span class=o>(</span>2412 Mhz 11g<span class=o>)</span> bssid 00:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy OFF txpower 21.5 bmiss 7
	  scanvalid 60 bgscan bgscanintvl 300 bgscanidle 250 roam:rssi 7
	  roam:rate 5 protmode CTS wme burst</code></pre></div></div></div><div class=sect3><h4 id=_wpa_titkosítást_használó_hozzáférési_pontok>31.3.5.3. WPA titkosítást használó hozzáférési pontok<a class=anchor href=#_wpa_titkosítást_használó_hozzáférési_pontok></a></h4><div class=paragraph><p>Ebben a szakaszban a FreeBSD-s hozzáférési pontunkat WPA titkosítással állítjuk be. A WPA és a WPA alapú kliensek beállításának részleteit a <a href=#network-wireless-wpa>WPA</a>ban találjuk.</p></div><div class=paragraph><p>A WPA titkosítást használó hozzáférési pontokon a hostapd démon foglalkozik a kliensek hitelesítésével és a kulcsok kezelésével.</p></div><div class=paragraph><p>A továbbiakban az összes beállítást egy olyan FreeBSD-s gépen végezzük el, amely hozzáférési pontként mûködik. Ahogy sikerült beállítanunk a hozzáférési pont módot, az <span class=filename>/etc/rc.conf</span> állományban a következõ sor segítségével könnyen meg tudjuk oldani, hogy az hostapd démon a rendszerrel együtt magától elinduljon:</p></div><div class="literalblock programlisting"><div class=content><pre>hostapd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Mielõtt megpróbálnánk beállítani a hostapd démont, ne felejtsük el elvégezni a <a href=#network-wireless-ap-basic>Alapvetõ beállítások</a>ban említett alapvetõ beállításokat sem.</p></div><div class=sect4><h5 id=_wpa_psk>31.3.5.3.1. WPA-PSK<a class=anchor href=#_wpa_psk></a></h5><div class=paragraph><p>A WPA-PSK használatát olyan kis méretû hálózatok számára szánják, ahol egy külön hitelesítõ szervert alkalmazása nem lehetséges vagy nem kívánatos.</p></div><div class=paragraph><p>A konfiguráció az <span class=filename>/etc/hostapd.conf</span> állományon keresztül történik:</p></div><div class="literalblock programlisting"><div class=content><pre>interface=wlan0 <i class=conum data-value=1></i><b>(1)</b>
debug=1 <i class=conum data-value=2></i><b>(2)</b>
ctrl_interface=/var/run/hostapd <i class=conum data-value=3></i><b>(3)</b>
ctrl_interface_group=wheel <i class=conum data-value=4></i><b>(4)</b>
ssid=freebsdap <i class=conum data-value=5></i><b>(5)</b>
wpa=1 <i class=conum data-value=6></i><b>(6)</b>
wpa_passphrase=freebsdmall <i class=conum data-value=7></i><b>(7)</b>
wpa_key_mgmt=WPA-PSK <i class=conum data-value=8></i><b>(8)</b>
wpa_pairwise=CCMP TKIP <i class=conum data-value=9></i><b>(9)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Ebben a mezõben jelöljük ki a hozzáférési pontként használt vezeték nélküli felületet.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Ebben a mezõben adjuk meg a hostapd futtatása során keletkezõ üzenetek részletességét. A példában szereplõ <code>1</code> érték ennek a legkisebb szintjét jelöli.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>A <code>ctrl_interface</code> mezõ megadja a hostapd által használt könyvtár elérési útvonalát, amiben azokat a tartományokhoz tartozó socketeket tároljuk, amelyeken keresztül olyan programokkal tudunk kommunikálni, mint például a <a href="https://man.freebsd.org/cgi/man.cgi?query=hostapd_cli&amp;sektion=8&amp;format=html">hostapd_cli(8)</a>. Itt az alapértelmezett értéket írtuk be.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>A <code>ctrl_interface_group</code> sor beállítja azt a csoportot (ez jelen esetben a <code>wheel</code>), amin keresztül a vezérlõfelület (control interface) állományaihoz hozzá tudunk férni.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Ebben a mezõben a hálózat nevét állítjuk be.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>A <code>wpa</code> mezõvel engedélyezzük a WPA használatát és megadjuk, hogy melyik WPA hitelesítési protokollt alkalmazzuk. Az itt szereplõ <code>1</code> érték a WPA-PSK hitelesítés állítja be a hozzáférési pont számára.</td></tr><tr><td><i class=conum data-value=7></i><b>7</b></td><td>A <code>wpa_passphrase</code> mezõ a WPA hitelesítéshez szükséges ASCII jelmondatot tartalmazza.</td></tr><tr><td><i class=conum data-value=8></i><b>8</b></td><td>A <code>wpa_key_mgmt</code> sor a kulcsok kezelésére használt protokollt definiálja. Ez a mi esetünk most a WPA-PSK.</td></tr><tr><td><i class=conum data-value=9></i><b>9</b></td><td>A <code>wpa_pairwise</code> mezõ a hozzáférési pont által elfogadott titkosítási algoritmusokat határozza meg. A példában a TKIP (WPA) és CCMP (WPA2) titkosítást is támogatjuk. A CCMP titkosítás a TKIP egyik alternatívája, és lehetõség szerint használjuk ezt. A TKIP csak olyan állomások esetében javasolt, amelyek nem támogatják a CCMP használatát.</td></tr></tbody></table></div><div class=paragraph><p>A következõ lépés a hostapd elindítása:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/hostapd forcestart</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0</span>
  wlan0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 2290
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  inet6 fe80::211:95ff:fec3:dac%ath0 prefixlen 64 scopeid 0x4
	  ether 00:11:95:c3:0d:ac
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;hostap&gt;
	  status: associated
	  ssid freebsdap channel 1 bssid 00:11:95:c3:0d:ac
	  authmode WPA2/802.11i privacy MIXED deftxkey 2 TKIP 2:128-bit txpowmax 36 protmode CTS dtimperiod 1 bintval 100</code></pre></div></div><div class=paragraph><p>A hozzáférési pont mostantól mûködik, innentõl a kliensek már képesek csatlakozni hozzá, bõvebben lásd a <a href=#network-wireless-wpa>WPA</a>ban. A hozzáférési ponthoz tartozó állomásokat az <code>ifconfig wlan0 list sta</code> paranccsal tudjuk listázni.</p></div></div></div><div class=sect3><h4 id=_wep_titkosítást_használó_hozzáférési_pontok>31.3.5.4. WEP titkosítást használó hozzáférési pontok<a class=anchor href=#_wep_titkosítást_használó_hozzáférési_pontok></a></h4><div class=paragraph><p>A WEP titkosítást nem javasoljuk a hozzáférési pontok esetében, mivel nem tartalmaz semmilyen hitelesítési mechanizmust és könnyen feltörhetõ. Egyes régebbi vezeték nélküli kártyák azonban csak a WEP által nyújtott védelmet ismerik, ezért az ilyenek csak olyan hozzáférési pontokhoz tudnak csatlakozni, amelyek vagy nem használnank hitelesítést és titkosítást, vagy erre a WEP protokollt használják.</p></div><div class=paragraph><p>A vezeték nélküli eszközt tegyük hozzáférési pont módba és állítsuk be neki a megfelelõ SSID-t és IP-címet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0 wlanmode hostap</span>
<span class=c># ifconfig wlan0 inet 192.168.0.1 netmask 255.255.255.0 \</span>
	ssid freebsdap wepmode on weptxkey 3 wepkey 3:0x3456789012 mode 11g</code></pre></div></div><div class=ulist><ul><li><p>A <code>weptxkey</code> beállítás után adjuk meg a küldéshez használt WEP kulcsot. Itt a harmadik kulcsot adtuk meg (vegyük észre, hogy a kulcsok számozása az <code>1</code> értékkel kezdõdik). Ez a paramétert az adatok tényleges titkosításához kell megadni.</p></li><li><p>A <code>wepkey</code> a kiválasztott WEP kulcs beállítását jelöli, aminek a formátuma <em>index:kulcs</em>. Ha itt nem adunk meg indexet, akkor automatikusan az elsõ kulcsot állítjuk be. Ezért talán mondanunk sem kell, hogy az indexet csak akkor kell megadni, ha nem az elsõ kulcsot akarjuk használni.</p></li></ul></div><div class=paragraph><p>A <span class=filename>wlan0</span> felület állapotának megtekintéséhez adjuk ki megint az <code>ifconfig</code> parancsot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0</span>
  ath0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
	  inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
	  ether 00:11:95:c3:0d:ac
	  media: IEEE 802.11 Wireless Ethernet autoselect mode 11g &lt;hostap&gt;
	  status: running
	  ssid freebsdap channel 4 <span class=o>(</span>2427 Mhz<span class=o>)</span> bssid 00:11:95:c3:0d:ac
	  country US ecm authmode OPEN privacy ON deftxkey 3 wepkey 3:40-bit
	  txpower 21.5 scanvalid 60 protmode CTS wme burst dtimperiod 1 <span class=nt>-dfs</span></code></pre></div></div><div class=paragraph><p>Egy másik vezeték nélküli géprõl most már megpróbálhatjuk megkeresni a hozzáférési pontot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev ath0</span>
SSID            BSSID              CHAN RATE  S:N   INT CAPS
freebsdap       00:11:95:c3:0d:ac    1   54M 22:1   100 EPS</code></pre></div></div><div class=paragraph><p>Láthatjuk, hogy a kliens megtalálta a hozzáférési pontot, és a megfelelõ paraméterekkel (kulcs stb.) képes kapcsolódni hozzá a <a href=#network-wireless-wep>WEP</a>ban leírtak szerint.</p></div></div></div><div class=sect2><h3 id=_a_vezetékes_és_vezeték_nélküli_hálózatok_együttes_használata>31.3.6. A vezetékes és vezeték nélküli hálózatok együttes használata<a class=anchor href=#_a_vezetékes_és_vezeték_nélküli_hálózatok_együttes_használata></a></h3><div class=paragraph><p>A vezetékes hálózatok általában jobb teljesítményt nyújtanak és megbízhatóbbak, miközben a vezeték nélküli hálózatok pedig nagyobb rugalmasságot és mozgásteret szolgáltatnak. Ezért a hordozható számítógépek tulajdonosaiban felmerülhet az igény, hogy egyszerre mind a kettõt használva, tetszõlegesen és problémamentesen válthassanak a hálózatok között.</p></div><div class=paragraph><p>FreeBSD rendszereken ún. "hibatûrõ" módon két vagy akár több hálózati interfészt össze tudunk vonni. Ennek köszönhetõen az aktív hálózati kapcsolat megszünésekor rendszerünk önállóan igyekszik mindig a fennmaradó elérhetõ hálózatok közül a leginkább preferáltabbra váltani.</p></div><div class=paragraph><p>A hálózati összeköttetések összefûzésével és a hibatûrés konkrét megvalósításával az <a href=#network-aggregation>Linkek összefûzése és hibatûrése</a>ban foglalkozunk, ahol a <a href=#networking-lagg-wired-and-wireless>Hibatûrés beállítása vezetékes és vezeték nélküli hálózatok között</a>ban láthatjuk is a vezetékes és vezeték nélküli kapcsolatok együttes használatának beállítását.</p></div></div><div class=sect2><h3 id=_hibaelhárítás>31.3.7. Hibaelhárítás<a class=anchor href=#_hibaelhárítás></a></h3><div class=paragraph><p>Ha valamilyen gondunk lenne a vezeték nélküli hálózatok használatával, akad néhány lépés, amivel esetleg fel tudjuk deríteni a hiba okát.</p></div><div class=ulist><ul><li><p>Ha nem látjuk a hozzáférési pontot a pásztázás után, ellenõrizzük, hogy a vezeték nélküli eszközt véletlenül nem korlátoztuk-e le bizonyos csatornákra.</p></li><li><p>Ha nem tudunk csatlakozni a hozzáférési ponthoz, akkor egyeztessük vele az állomás egyes paramétereit, beleértve a hitelesítési sémát és a biztonsági protokollokat. Minél jobban egyszerûsítsük le a konfigurációkat. Ha WPA vagy WEP titkosítást használunk, akkor a hozzáférési ponton állítsunk be nyílt hitelesítést és kapcsoljuk ki a titkosítást, majd nézzük meg, hogy így eljut-e hozzánk valamilyen forgalom.</p></li><li><p>Ahogy sikerült csatlakozunk a hozzáférési ponthoz, a biztonsági beállításokat olyan egyszerû eszközökkel próbáljuk meg diagnosztizálni, mint például a <a href="https://man.freebsd.org/cgi/man.cgi?query=ping&amp;sektion=8&amp;format=html">ping(8)</a>.</p><div class=paragraph><p>A <code>wpa_supplicant</code> segédprogrammal tudunk nyomkövetést végezni. A <code>-dd</code> opció megadásával indítsuk el manuálisan és ellenõrizzük a rendszernaplókat.</p></div></li><li><p>Vannak alacsonyabb szintû nyomkövetési lehetõségek is. A 802.11 protokollt támogató rétegben is tudunk engedélyezni nyomkövetési üzeneteket a <span class=filename>/usr/src/tools/tools/net80211</span> könyvtárban található <code>wlandebug</code> program segítségével. Például a</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># wlandebug -i ath0 +scan+auth+debug+assoc</span>
  net.wlan.0.debug: 0 <span class=o>=&gt;</span> 0xc80000&lt;assoc,auth,scan&gt;</code></pre></div></div><div class=paragraph><p>paranccsal a hozzáférési pontok kereséséhez és a 802.11 protokollon belül a kapcsolat megszervezéséhez szükséges kézfogásokhoz kapcsolódó konzolüzeneteket tudjuk engedélyezni.</p></div><div class=paragraph><p>A 802.11 rétegben rengeteg hasznos statisztikát találhatunk. Mindezeket a <code>wlanstats</code> eszközzel tudjuk kiíratni. Ezeknek a statisztikáknak a 802.11 réteg összes hibáját be kell tudniuk azonosítaniuk. Vigyázzunk azonban, mert az eszközmeghajtókban a 802.11 réteg alatt rejlõ bizonyos hibák ilyenkor nem jelennek meg. Az eszközfüggõ problémák felderítésével kapcsolatban a megfelelõ meghajtó dokumentációját olvassuk át.</p></div></li></ul></div><div class=paragraph><p>Amennyiben a fenti tanácsok mentén sem sikerül orvosolnunk a hibát okát, küldjünk egy hibajelentést és mellékeljük hozzá a fentebb tárgyalt eszközök által gyártott kimeneteket.</p></div></div></div></div><div class=sect1><h2 id=network-bluetooth>31.4. Bluetooth<a class=anchor href=#network-bluetooth></a></h2><div class=sectionbody><div class=sect2><h3 id=_bevezetés>31.4.1. Bevezetés<a class=anchor href=#_bevezetés></a></h3><div class=paragraph><p>A Bluetooth egy olyan vezeték nélküli technológia, amellyel a 2,4 GHz-es frekvenciatartományban tudunk személyi hálózatokat létrehozni 10 méteren belül. Az ilyen típusú hálózatok általában alkalmi jelleggel keletkeznek különféle hordozható eszközök, mint például mobiltelefonok, kézi számítógépek és laptopok között. Eltérõen más népszerû vezeték nélküli technológiáktól, például a wi-fitõl, a Bluetooth magasabb szintû szolgáltási profilokat is felajánl: FTP-szerû állományszervereket, az állományok áttolását, hang átküldését, soros vonali emulációt és még sok minden mást.</p></div><div class=paragraph><p>A FreeBSD-ben megvalósított Bluetooth protokollkészlet a Netgraph rendszerre építkezik (lásd <a href="https://man.freebsd.org/cgi/man.cgi?query=netgraph&amp;sektion=4&amp;format=html">netgraph(4)</a>). A Bluetooth alapú USB-s hardverzárak széles körét támogatja az <a href="https://man.freebsd.org/cgi/man.cgi?query=ng_ubt&amp;sektion=4&amp;format=html">ng_ubt(4)</a> meghajtó. A Broadcom BCM2033 chipre épített Bluetooth eszközöket az <a href="https://man.freebsd.org/cgi/man.cgi?query=ubtbcmfw&amp;sektion=4&amp;format=html">ubtbcmfw(4)</a> és az <a href="https://man.freebsd.org/cgi/man.cgi?query=ng_ubt&amp;sektion=4&amp;format=html">ng_ubt(4)</a> meghajtók támogatják. A 3Com Bluetooth PC Card 3CRWB60-A eszközt az <a href="https://man.freebsd.org/cgi/man.cgi?query=ng_bt3c&amp;sektion=4&amp;format=html">ng_bt3c(4)</a> meghajtó támogatja. A soros és UART alapú Bluetooth eszközöket a <a href="https://man.freebsd.org/cgi/man.cgi?query=sio&amp;sektion=4&amp;format=html">sio(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=ng_h4&amp;sektion=4&amp;format=html">ng_h4(4)</a> és <a href="https://man.freebsd.org/cgi/man.cgi?query=hcseriald&amp;sektion=8&amp;format=html">hcseriald(8)</a> ismeri. Ebben a szakaszban a Bluetooth alapú USB-s hardverzárak használatát mutatjuk be.</p></div></div><div class=sect2><h3 id=_az_eszköz_csatlakoztatása>31.4.2. Az eszköz csatlakoztatása<a class=anchor href=#_az_eszköz_csatlakoztatása></a></h3><div class=paragraph><p>Alapértelmezés szerint a Bluetooth eszközmeghajtók modulként érhetõek el. Az eszköz csatlakoztatása elõtt a megfelelõ meghajtót be kell töltenünk a rendszermagba:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload ng_ubt</span></code></pre></div></div><div class=paragraph><p>Ha a Bluetooth eszköz már a rendszer indításakor is jelen van, akkor a modult az <span class=filename>/boot/loader.conf</span> állományon keresztül is betölthetjük:</p></div><div class="literalblock programlisting"><div class=content><pre>ng_ubt_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Dugjuk be az USB-s hardverzárunkat. Az alábbihoz hasonló kimenet fog keletkezni a konzolon (vagy a rendszernaplóban):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ubt0: vendor 0x0a12 product 0x0001, rev 1.10/5.25, addr 2
ubt0: Interface 0 endpoints: <span class=nv>interrupt</span><span class=o>=</span>0x81, bulk-in<span class=o>=</span>0x82, bulk-out<span class=o>=</span>0x2
ubt0: Interface 1 <span class=o>(</span>alt.config 5<span class=o>)</span> endpoints: isoc-in<span class=o>=</span>0x83, isoc-out<span class=o>=</span>0x3,
      <span class=nv>wMaxPacketSize</span><span class=o>=</span>49, <span class=nv>nframes</span><span class=o>=</span>6, buffer <span class=nv>size</span><span class=o>=</span>294</code></pre></div></div><div class=paragraph><p>Az <span class=filename>/etc/rc.d/bluetooth</span> szkript fogja végezni a Bluetooth használatához szükséges protokollkészlet elindítását és leállítását. Jó ötlet leállítani az eszköz eltávolítása elõtt, de ha elhagyjuk, (általában) nem okoz végzetes hibát. Az indításkor a következõ kimenetet kapjuk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/bluetooth start ubt0</span>
BD_ADDR: 00:02:72:00:d4:1a
Features: 0xff 0xff 0xf 00 00 00 00 00
&lt;3-Slot&gt; &lt;5-Slot&gt; &lt;Encryption&gt; &lt;Slot offset&gt;
&lt;Timing accuracy&gt; &lt;Switch&gt; &lt;Hold mode&gt; &lt;Sniff mode&gt;
&lt;Park mode&gt; &lt;RSSI&gt; &lt;Channel quality&gt; &lt;SCO <span class=nb>link</span><span class=o>&gt;</span>
&lt;HV2 packets&gt; &lt;HV3 packets&gt; &lt;u-law log&gt; &lt;A-law log&gt; &lt;CVSD&gt;
&lt;Paging scheme&gt; &lt;Power control&gt; &lt;Transparent SCO data&gt;
Max. ACL packet size: 192 bytes
Number of ACL packets: 8
Max. SCO packet size: 64 bytes
Number of SCO packets: 8</code></pre></div></div></div><div class=sect2><h3 id=_host_controller_interface_hci>31.4.3. Host Controller Interface (HCI)<a class=anchor href=#_host_controller_interface_hci></a></h3><div class=paragraph><p>A Host Controller Interface (HCI) egy parancsfelületet nyújt a mûködési sáv vezérlõjéhez (baseband controller) és az összeköttetések kezelõjéhez (link manager), valamint hozzáférést a hardverállapot és -vezérlõ regiszterekhez. Ez a felület egy egységes módszert szolgáltat a Bluetooth mûködési sávjához tartozó tulajdonságok eléréséhez. Az eszközön üzemelõ HCI réteg a Bluetooth hardverben található HCI firmware-rel vált adatokat és parancsokat. A Host Controller Transport Layer (vagyis a fizikai busz) meghajtója mind a két HCI réteget és a kettejük közti információcserét is elérhetõvé teszi.</p></div><div class=paragraph><p>Az egyes Bluetooth eszközökhöz létrejön egy-egy <em>hci</em> típusú Netgraph-beli csomópont. Ez a HCI csomópont általában a Bluetooth eszközmeghajtó csomópontjához (lefelé) és az L2CAP csomóponthoz (felfelé) csatlakozik. Az összes HCI mûveletet a HCI csomóponton kell elvégezni és nem az eszközmeghajtóhoz tartozón. A HCI csomópont alapértelmezett neve a "devicehci". Ezekrõl többet az <a href="https://man.freebsd.org/cgi/man.cgi?query=ng_hci&amp;sektion=4&amp;format=html">ng_hci(4)</a> man oldalán tudhatunk meg.</p></div><div class=paragraph><p>Az egyik legáltalánosabb feladat a Bluetooth eszközök esetében a közelben levõ további eszközök felderítése. Ezt a mûveletet <em>tudakozódásnak</em> ("inquiry") nevezik. A tudakozódást és az összes többi HCI-hez kapcsolódó mûveletet a <a href="https://man.freebsd.org/cgi/man.cgi?query=hccontrol&amp;sektion=8&amp;format=html">hccontrol(8)</a> segédprogrammal tudjuk elvégezni. A lentebb látható példa azt mutatja meg, hogyan tudunk Bluetooth eszközöket keresni egy adott távolságon belül. Az elérhetõ eszközök listáját néhány másodpercen alatt megkapjuk. A távoli azonban eszközök csak akkor fognak válaszolni, ha <em>felderíthetõ</em> ("discoverable") módban vannak.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% hccontrol <span class=nt>-n</span> ubt0hci inquiry
Inquiry result, <span class=nv>num_responses</span><span class=o>=</span>1
Inquiry result <span class=c>#0</span>
       BD_ADDR: 00:80:37:29:19:a4
       Page Scan Rep. Mode: 0x1
       Page Scan Period Mode: 00
       Page Scan Mode: 00
       Class: 52:02:04
       Clock offset: 0x78ef
Inquiry complete. Status: No error <span class=o>[</span>00]</code></pre></div></div><div class=paragraph><p>A <code>BD_ADDR</code> a Bluetooth eszköz egyedi címe, hasonló a hálózati kártyák MAC-címéhez. Erre a címre lesz szükség ahhoz, hogy a továbbiakban kommunikálni tudjunk az eszközzel. Emberek számára értelmezhetõ nevet is hozzá tudunk rendelni a BD_ADDR címhez. Az <span class=filename>/etc/bluetooth/hosts</span> állomány tartalmazza a Bluetooth eszközökre vonatkozó információkat. A következõ példában azt láthatjuk, hogyan tudunk beszédesebb nevet adni egy távoli eszköznek:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% hccontrol <span class=nt>-n</span> ubt0hci remote_name_request 00:80:37:29:19:a4
BD_ADDR: 00:80:37:29:19:a4
Name: Pav T39-ese</code></pre></div></div><div class=paragraph><p>Amikor tudakozódni kezdünk a távoli Bluetooth eszközök jelenléte felõl, a gépünket "sajat.gep.nev (ubt0)" néven fogják látni. Ez a helyi eszközhöz rendelt név bármikor megváltoztatható.</p></div><div class=paragraph><p>A Bluetooth rendszer lehetõség ad pont-pont (természetesen csak két Bluetooth egység között) vagy pont-multipont típusú kapcsolatok kiépítésére. A pont-multipont kapcsolat esetén a kapcsolaton több Bluetooth eszköz osztozik. A most következõ példában megláthatjuk, hogyan kell az aktív mûködési sávban lekérdezni a helyi eszköz létrejött kapcsolatait:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% hccontrol <span class=nt>-n</span> ubt0hci read_connection_list
Remote BD_ADDR    Handle Type Mode Role Encrypt Pending Queue State
00:80:37:29:19:a4     41  ACL    0 MAST    NONE       0     0 OPEN</code></pre></div></div><div class=paragraph><p>A <em>kapcsolat azonosítója</em> (connection handle) akkor hasznos, amikor egy sávbeli kapcsolatot akarunk lezárni. Ezt általában nem kell kézzel megcsinálni. A rendszer magától lezárja az inaktív sávbeli kapcsolatokat.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># hccontrol -n ubt0hci disconnect 41</span>
Connection handle: 41
Reason: Connection terminated by <span class=nb>local </span>host <span class=o>[</span>0x16]</code></pre></div></div><div class=paragraph><p>A <code>hccontrol help</code> paranccsal tudjuk lekérdezni az elérhetõ HCI parancsokat. A legtöbb HCI parancs végrehajtásához nem kellenek rendszeradminisztrátori jogosultságok.</p></div></div><div class=sect2><h3 id=_logical_link_control_and_adaptation_protocol_l2cap>31.4.4. Logical Link Control and Adaptation Protocol (L2CAP)<a class=anchor href=#_logical_link_control_and_adaptation_protocol_l2cap></a></h3><div class=paragraph><p>A Logical Link Control and Adaptation Protocol (L2CAP) a kapcsolat-orientált és a kapcsolat nélküli adatszolgáltatásokért felelõs a felsõbb rétegek felé, valamit támogatja a protokollok többszörözését, a darabolást és az összerakást. Az L2CAP a magasabb szintû protokollok és az alkalmazások számára egészen 64 kilobyte méretig lehetõvé teszi az adatcsomagok küldését és fogadását.</p></div><div class=paragraph><p>A L2CAP a <em>csatorna</em> (channel) fogalmára építkezik. A csatorna egy logikai kapcsolatot képvisel a mûködési sávon belüli kapcsolat felett. Mindegyik csatornához egyetlen protokoll kötõdik, egy a többhöz alapon. Több csatorna is tarthozhat ugyanahhoz a protokollhoz, de egy csatornán nem használhatunk több protokollt. A csatornákon keresztül érkezõ L2CAP csomagok ezután a megfelelõ felsõbb rétegbeli protokollokhoz kerülnek. Több csatorna osztozhat ugyanazon a sávbeli kapcsolaton.</p></div><div class=paragraph><p>Minden Bluetooth eszközhöz létrejön egy <em>l2cap</em> típusú Netgraph-csomópont. Az L2CAP csomópont általában egy Bluetooth HCI csomóponthoz (lefelé) és egy Bluetooth sockethez (felfelé) kapcsolódik. Az L2CAP csomópont alapértelmezett neve "devicel2cap". Errõl részletesebben az <a href="https://man.freebsd.org/cgi/man.cgi?query=ng_l2cap&amp;sektion=4&amp;format=html">ng_l2cap(4)</a> man oldal világosít fel minket.</p></div><div class=paragraph><p>Ezen a szinten hasznos parancsnak bizonyulhat az <a href="https://man.freebsd.org/cgi/man.cgi?query=l2ping&amp;sektion=8&amp;format=html">l2ping(8)</a>, amivel más eszközöket tudunk pingelni. Elõfordulhat, hogy egyes Bluetooth implementációk nem válaszolnak semmilyen feléjük küldött adatra, így az alábbi példában is szereplõ <code>0 bytes</code> teljesen normális.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># l2ping -a 00:80:37:29:19:a4</span>
0 bytes from 0:80:37:29:19:a4 <span class=nv>seq_no</span><span class=o>=</span>0 <span class=nb>time</span><span class=o>=</span>48.633 ms <span class=nv>result</span><span class=o>=</span>0
0 bytes from 0:80:37:29:19:a4 <span class=nv>seq_no</span><span class=o>=</span>1 <span class=nb>time</span><span class=o>=</span>37.551 ms <span class=nv>result</span><span class=o>=</span>0
0 bytes from 0:80:37:29:19:a4 <span class=nv>seq_no</span><span class=o>=</span>2 <span class=nb>time</span><span class=o>=</span>28.324 ms <span class=nv>result</span><span class=o>=</span>0
0 bytes from 0:80:37:29:19:a4 <span class=nv>seq_no</span><span class=o>=</span>3 <span class=nb>time</span><span class=o>=</span>46.150 ms <span class=nv>result</span><span class=o>=</span>0</code></pre></div></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=l2control&amp;sektion=8&amp;format=html">l2control(8)</a> segédprogram használható az L2CAP csomópontok különbözõ mûveleteinek kivitelezésére. Ebben a példában a helyi eszközhöz tartozó logikai kapcsolatokat (csatornák) és sávokat kérdezzük le:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% l2control <span class=nt>-a</span> 00:02:72:00:d4:1a read_channel_list
L2CAP channels:
Remote BD_ADDR     SCID/ DCID   PSM  IMTU/ OMTU State
00:07:e0:00:0b:ca    66/   64     3   132/  672 OPEN
% l2control <span class=nt>-a</span> 00:02:72:00:d4:1a read_connection_list
L2CAP connections:
Remote BD_ADDR    Handle Flags Pending State
00:07:e0:00:0b:ca     41 O           0 OPEN</code></pre></div></div><div class=paragraph><p>Másik ugyanilyen diagnosztikai eszköz a <a href="https://man.freebsd.org/cgi/man.cgi?query=btsockstat&amp;sektion=1&amp;format=html">btsockstat(1)</a>. Ha a viselkedését tekintjük, akkor leginkább a <a href="https://man.freebsd.org/cgi/man.cgi?query=netstat&amp;sektion=1&amp;format=html">netstat(1)</a> programra hasonlít, de a Bluetooth hálózatban megjelenõ adatszerkezetekkel dolgozik. Az alábbi példa az iménti <a href="https://man.freebsd.org/cgi/man.cgi?query=l2control&amp;sektion=8&amp;format=html">l2control(8)</a> parancs kimenetében szereplõ logikai kapcsolatokat mutatja:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% btsockstat
Active L2CAP sockets
PCB      Recv-Q Send-Q Local address/PSM       Foreign address   CID   State
c2afe900      0      0 00:02:72:00:d4:1a/3     00:07:e0:00:0b:ca 66    OPEN
Active RFCOMM sessions
L2PCB    PCB      Flag MTU   Out-Q DLCs State
c2afe900 c2b53380 1    127   0     Yes  OPEN
Active RFCOMM sockets
PCB      Recv-Q Send-Q Local address     Foreign address   Chan DLCI State
c2e8bc80      0    250 00:02:72:00:d4:1a 00:07:e0:00:0b:ca 3    6    OPEN</code></pre></div></div></div><div class=sect2><h3 id=_az_rfcomm_protokoll>31.4.5. Az RFCOMM protokoll<a class=anchor href=#_az_rfcomm_protokoll></a></h3><div class=paragraph><p>Az RFCOMM protokoll a soros portok emulációját valósítja meg az L2CAP protokollon keresztül. A protokoll az ETSI TS 07.10. RFCOMM szabványán alapszik, és egy egyszerû átviteli protokoll, amelyet a 9 tûs RS-232 (EIATIA-232-E) soros portok emulációjára készítettek fel. Az RFCOMM protokoll legfeljebb 60 kapcsolat (RFCOMM csatorna) párhuzamos használatát támogatja két Bluetooth eszköz között.</p></div><div class=paragraph><p>Az RFCOMM számára a teljes kommunikációs útvonal két különbözõ eszközön futó alkalmazást (kommunikációs végpontot) és köztük levõ kommunikációs szegments foglalja magában. Az RFCOMM az adott eszközön a soros portot használó alkalmazások részére készült. A kommunikációs szegmens az egyik eszköztõl a másikig vezetõ Bluetooth alapú összeköttetés (közvetlen kapcsolat).</p></div><div class=paragraph><p>Közvetlen kapcsolat esetén az RFCOMM csak az eszközök közti kapcsolattal foglalkozik, valamint hálózati kapcsolat esetén az eszköz és a modem közti kapcsolattal. Az RFCOMM más konfigurációkat is támogat, például olyan modulokat, amelyek az egyik oldalon a Bluetooth vezeték nélküli technológián keresztül kommunikálnak, míg a másik oldalon egy vonalas felületet nyújtanak.</p></div><div class=paragraph><p>A FreeBSD-ben az RFCOMM protokollt Bluetooth foglalatok rétegében valósították meg.</p></div></div><div class=sect2><h3 id=_az_eszközök_párosítása>31.4.6. Az eszközök párosítása<a class=anchor href=#_az_eszközök_párosítása></a></h3><div class=paragraph><p>Alapértelmezés szerint a Bluetooth kommunikáció nem hitelesítõdik és bármelyik eszköz képes bármelyik másikkal felvenni a kapcsolatot. Egy Bluetooth eszköz (például egy mobiltelefon) egy adott szolgáltatáshoz igényelhet hitelesítést (például betárcsázáshoz). A Bluetooth alapú hitelesítés többnyire <em>PIN kódokkal</em> történik. A PIN kód egy legfeljebb 16 karakterbõl álló ASCII karakterlánc. A felhasználóknak mind a két eszközön ugyanazt a PIN kódot kell megadniuk. Miután megadtuk a PIN kódot, az eszközök létrehoznak hozzájuk egy <em>összekötettésbeli kulcsot</em> (link key). Ezután ezt a kulcsot vagy az eszközökön tároljuk vagy pedig valamilyen tartós tárolón. A következõ alkalommal mind a két eszközt ezt a korábban elkészített kulcsot fogja használni. Ezt az eljárást nevezik <em>párosításnak</em> (pairing). Ha valamelyik eszköz elveszti az össszeköttetés kulcsát, akkor a párosítást meg kell ismételni.</p></div><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=hcsecd&amp;sektion=8&amp;format=html">hcsecd(8)</a> démon felelõs az összes Bluetooth alapú hitelesítési kérés lekezeléséért. Az alapértelmezett konfigurációs állománya az <span class=filename>/etc/bluetooth/hcsecd.conf</span>. Például így tudjuk benne egy mobiltelefonhoz megadni az "1234" PIN kódot:</p></div><div class="literalblock programlisting"><div class=content><pre>device {
        bdaddr  00:80:37:29:19:a4;
        name    &#34;Pav T39-ese&#34;;
        key     nokey;
        pin     &#34;1234&#34;;
      }</pre></div></div><div class=paragraph><p>Semmilyen korlátozás nincs a PIN kódokra (a méretüktõl eltekintve). Egyes eszközökbe (például a Bluetooth fejhallgatók) elõre rögzített PIN kódot építettek bele. A <code>-d</code> kapcsoló hatására a <a href="https://man.freebsd.org/cgi/man.cgi?query=hcsecd&amp;sektion=8&amp;format=html">hcsecd(8)</a> démont az elõtérben lehet futtatni, így könnyebben láthatjuk mi történik. A távoli eszközt állítsuk be a párosítás elfogadására és kezdeményezzünk felé egy Bluetooth kapcsolatot. A távoli eszköznek erre azt kell válaszolnia, hogy elfogadta a párosítást, majd kérni fogja a PIN kódot. Adjuk meg ugyanazt a PIN kódot, mint amit a <span class=filename>hcsecd.conf</span> állományba is beírtunk. Most már a gépünk és a távoli eszköz párban vannak. A párosítást a távoli eszközrõl is kezdeményezhetjük.</p></div><div class=paragraph><p>A FreeBSD 5.5, 6.1 és újabb változataiban az <span class=filename>/etc/rc.conf</span> állományba a következõ sort kell felvenni a hcsecd automatikus indításához:</p></div><div class="literalblock programlisting"><div class=content><pre>hcsecd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Ez pedig a hcsecd démon által generált kimenetre példa:</p></div><div class="literalblock programlisting"><div class=content><pre>hcsecd[16484]: Got Link_Key_Request event from &#39;ubt0hci&#39;, remote bdaddr 0:80:37:29:19:a4
hcsecd[16484]: Found matching entry, remote bdaddr 0:80:37:29:19:a4, name &#39;Pav&#39;s T39&#39;, link key doesn&#39;t exist
hcsecd[16484]: Sending Link_Key_Negative_Reply to &#39;ubt0hci&#39; for remote bdaddr 0:80:37:29:19:a4
hcsecd[16484]: Got PIN_Code_Request event from &#39;ubt0hci&#39;, remote bdaddr 0:80:37:29:19:a4
hcsecd[16484]: Found matching entry, remote bdaddr 0:80:37:29:19:a4, name &#39;Pav&#39;s T39&#39;, PIN code exists
hcsecd[16484]: Sending PIN_Code_Reply to &#39;ubt0hci&#39; for remote bdaddr 0:80:37:29:19:a4</pre></div></div></div><div class=sect2><h3 id=_service_discovery_protocol_sdp>31.4.7. Service Discovery Protocol (SDP)<a class=anchor href=#_service_discovery_protocol_sdp></a></h3><div class=paragraph><p>A Service Discovery Protocol (SDP) segítségével a kliens alkalmazások képes felderíteni, hogy a szerver alkalmazások részérõl milyen szolgáltatások érhetõek el, valamint ezek a szolgáltatások milyen tulajdonságokkal rendelkeznek. A szolgáltatások tulajdonsági közé soroljuk többek között a felajánlott szolgáltatás típusát vagy osztályát, illetve a szolgáltatás kihasználásához szükséges mechanizmusra vagy protokollra vonatkozó információkat.</p></div><div class=paragraph><p>Az SDP az SDP szerver és az SDP kliens közti kommunikációt foglalja magában. A szerver karbantart egy listát azokról a szolgáltatási rekordokról, amelyek a szerverhez tartozó szolgáltatások jellemzõit írják le. Mindegyik ilyen szolgáltatási rekord egyetlen szolgáltatás adatait tartalmazza. A kliensek egy SDP kéréssel ezeket a szolgáltatási rekordokat kérhetik el az SDP szervertõl. Amennyiben a kliens, vagy a hozzá tartozó alkalmazás a szolgáltatás használata mellett dönt, akkor a szolgáltatás használatához a megfelelõ szolgáltató felé nyitnia kell egy külön kapcsolatot. Az SDP csak a szolgáltatások és azok tulajdonságainak felderítéséhez ad segítséget, de semmilyen eszközt nem tartalmaz a felhasználásukra.</p></div><div class=paragraph><p>Általában az SDP kliensek általában valamilyen számunkra kellõ tulajdonság alapján keresnek szolgáltatásokat. Ráadásul adódhatnak olyan alkalmak is, amikor a szolgáltatások elõzetes ismerete nélkül szeretnénk felderíteni a rendelkezésre álló szolgáltatások típusait. A felajánlott szolgáltatások ilyen típusú feldolgozását nevezzük <em>böngészésnek</em> (browsing).</p></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=sdpd&amp;sektion=8&amp;format=html">sdpd(8)</a> Bluetooth SDP szerver és a parancssoros <a href="https://man.freebsd.org/cgi/man.cgi?query=sdpcontrol&amp;sektion=8&amp;format=html">sdpcontrol(8)</a> kliens az alap FreeBSD telepítés része. Az alábbi példában egy SDP böngészési kérést adunk ki:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sdpcontrol <span class=nt>-a</span> 00:01:03:fc:6e:ec browse
Record Handle: 00000000
Service Class ID List:
        Service Discovery Server <span class=o>(</span>0x1000<span class=o>)</span>
Protocol Descriptor List:
        L2CAP <span class=o>(</span>0x0100<span class=o>)</span>
                Protocol specific parameter <span class=c>#1: u/int/uuid16 1</span>
                Protocol specific parameter <span class=c>#2: u/int/uuid16 1</span>

Record Handle: 0x00000001
Service Class ID List:
        Browse Group Descriptor <span class=o>(</span>0x1001<span class=o>)</span>

Record Handle: 0x00000002
Service Class ID List:
        LAN Access Using PPP <span class=o>(</span>0x1102<span class=o>)</span>
Protocol Descriptor List:
        L2CAP <span class=o>(</span>0x0100<span class=o>)</span>
        RFCOMM <span class=o>(</span>0x0003<span class=o>)</span>
                Protocol specific parameter <span class=c>#1: u/int8/bool 1</span>
Bluetooth Profile Descriptor List:
        LAN Access Using PPP <span class=o>(</span>0x1102<span class=o>)</span> ver. 1.0</code></pre></div></div><div class=paragraph><p>és így tovább. Mindegyik szolgáltatáshoz hozzátartozik a tulajdonságok egy listája (például RFCOMM csatorna). Lehetséges, hogy szolgáltatástól függõen bizonyos tulajdonságokat kell figyelnünk. Egyes Bluetooth implementációk nem támogatják a szolgáltatások böngészését és ezért egy üres listát adnak vissza. Ebben az esetben egy konkrét szolgáltatásra tudunk rákeresni. A következõ példában az OBEX Object Push (OPUSH) szolgáltatást keressük:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sdpcontrol <span class=nt>-a</span> 00:01:03:fc:6e:ec search OPUSH</code></pre></div></div><div class=paragraph><p>FreeBSD alatt az <a href="https://man.freebsd.org/cgi/man.cgi?query=sdpd&amp;sektion=8&amp;format=html">sdpd(8)</a> szerverrel tudunk szolgáltatásokat felajánlani a Bluetooth klienseknek. A FreeBSD 5.5, 6.1 vagy késõbbi változataiban ehhez a következõ sort kell megadnunk az <span class=filename>/etc/rc.conf</span> állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>sdpd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Ezután az sdpd démon így indítható el:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sdpd start</span></code></pre></div></div><div class=paragraph><p>A távoli kliensek részére Bluetooth szolgáltatásokat felajánlani kívánó helyi szerver alkalmazásoknak regisztrálniuk kell magukat a helyi SDP démonnál. Például az egyik ilyen alkalmazás az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_pppd&amp;sektion=8&amp;format=html">rfcomm_pppd(8)</a>, és elindítása után regisztrálni fogja a Bluetooth LAN szolgáltatást a helyi SDP démonnál.</p></div><div class=paragraph><p>A helyi SDP szerveren regisztrált szolgáltatásokat a helyi vezérlési csatornán keresztül egy <code>browse</code> kéréssel tudjuk lekérdezni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sdpcontrol -l browse</span></code></pre></div></div></div><div class=sect2><h3 id=_a_betárcsázós_hálózati_és_a_ppp_hálózati_hozzáférési_lan_profilok>31.4.8. A betárcsázós hálózati és a PPP hálózati hozzáférési (LAN) profilok<a class=anchor href=#_a_betárcsázós_hálózati_és_a_ppp_hálózati_hozzáférési_lan_profilok></a></h3><div class=paragraph><p>A betárcsázós hálózati (Dial-Up Networking, DUN) profil leggyakrabban a modemek és mobiltelefonok között tûnik fel. Ez a profil a következõ forgatókönyveket dolgozza fel:</p></div><div class=ulist><ul><li><p>A számítógépünkkel egy mobiltelefont vagy modemet vezeték nélküli modemként használunk, amivel az internethez vagy más hálózatokhoz csatlakozunk betárcsázással.</p></li><li><p>A számítógépünkkel egy mobiltelefonon vagy modemen keresztül fogadunk adathívásokat.</p></li></ul></div><div class=paragraph><p>A PPP hálózati hozzáférési (LAN) profil a következõ helyezetekben alkalmazható:</p></div><div class=ulist><ul><li><p>LAN hozzáférés egyetlen Bluetooth eszközhöz</p></li><li><p>LAN hozzáférés több Bluetooth eszközhöz</p></li><li><p>Két gép összekötése (a soros vonali kapcsolat emulációval PPP-n keresztül)</p></li></ul></div><div class=paragraph><p>FreeBSD alatt mind a két profilt a <a href="https://man.freebsd.org/cgi/man.cgi?query=ppp&amp;sektion=8&amp;format=html">ppp(8)</a> és az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_pppd&amp;sektion=8&amp;format=html">rfcomm_pppd(8)</a> valósítja meg - egy olyan wrapper eszköz, amely az RFCOMM Bluetooth kapcsolatokat a PPP számára is értelmessé alakítja át. Mielõtt még bármelyik profilt elkezdenénk használni, egy új PPP címkét kell létrehozni az <span class=filename>/etc/ppp/ppp.conf</span> állományban. Erre példát az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_pppd&amp;sektion=8&amp;format=html">rfcomm_pppd(8)</a> man oldalon találhatunk.</p></div><div class=paragraph><p>A következõ példában az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_pppd&amp;sektion=8&amp;format=html">rfcomm_pppd(8)</a> programot fogjuk használni arra, hogy egy RFCOMM típusú kapcsolatot nyissunk a 00:80:37:29:19:a4 címmel rendelkezõ távoli Bluetooth eszköz felé. A tényleges RFCOMM csatorna számát SDP-n keresztül a távoli eszköztõl kapjuk. Az RFCOMM csatorna kézzel is megadható, és ilyen esetekben az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_pppd&amp;sektion=8&amp;format=html">rfcomm_pppd(8)</a> nem fog SDP kérést küldeni. A <a href="https://man.freebsd.org/cgi/man.cgi?query=sdpcontrol&amp;sektion=8&amp;format=html">sdpcontrol(8)</a> használatával tudjuk lekérdezni a távoli eszközön létrejött RFCOMM csatornát.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rfcomm_pppd -a 00:80:37:29:19:a4 -c -C dun -l rfcomm-dialup</span></code></pre></div></div><div class=paragraph><p>A PPP hálózati elérés (LAN) szolgáltatás beindításához futni kell a <a href="https://man.freebsd.org/cgi/man.cgi?query=sdpd&amp;sektion=8&amp;format=html">sdpd(8)</a> szervernek. A helyi hálózaton keresztül csatlakozó kliensekhez létre kell hozni egy új bejegyzést az <span class=filename>/etc/ppp/ppp.conf</span> állományban. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_pppd&amp;sektion=8&amp;format=html">rfcomm_pppd(8)</a> man oldalon találhatunk erre példákat. Végezetül indítsuk el az RFCOMM PPP szervert egy érvényes RFCOMM csatornaszámmal. Az RFCOMM PPP szerver ekkor automatikusan regisztrálja a Bluetooth LAN szolgáltatást a helyi SDP démonnál. A következõ példában megmutatjuk, hogyan lehet elindítani egy RFCOMM PPP szervert:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rfcomm_pppd -s -C 7 -l rfcomm-server</span></code></pre></div></div></div><div class=sect2><h3 id=_az_obex_object_push_opush_profil>31.4.9. Az OBEX Object Push (OPUSH) profil<a class=anchor href=#_az_obex_object_push_opush_profil></a></h3><div class=paragraph><p>Az OBEX egy széles körben alkalmazott protokoll a mobileszközök közti egyszerû állományvitelre. Legfõképpen az infravörös kommunikációban alkalmazzák, ahol a laptopok vagy PDA-k közti általános állományátvitelre használják, illetve névjegykártyák vagy naptárbejegyzések átküldésére mobiltelefonok között és egyéb PIM alkalmazást futtató eszközök esetében.</p></div><div class=paragraph><p>Az OBEX szervert és klienst egy külsõ csomag, az obexapp valósítja meg, amelyet az <a class=package href=https://cgit.freebsd.org/ports/tree/comms/obexapp/>comms/obexapp</a> portból érhetünk el.</p></div><div class=paragraph><p>Az OBEX kliens használható objektumok áttolására vagy lehúzására az OBEX szerverhez. Ez az objektum lehet például egy névjegykártya vagy egy megbeszélt találkozó. Az OBEX kliens SDP-n keresztül tud magának RFCOMM csatornaszámot szerezni. Ezt úgy tehetjük meg, ha a szolgáltatás neve helyett egy RFCOMM csatorna számát adjuk meg. A támogatott szolgáltatások: IrMC, FTRN és OPUSH. Számként RFCOMM csatorna is megadható. Az alábbi példában egy OBEX munkamenetet láthatunk, ahol az eszköz információs objektumát húzzuk le a mobiltelefonról és egy új objektumot (egy névjegykártyát) tolunk fel a telefon könyvtárába.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% obexapp <span class=nt>-a</span> 00:80:37:29:19:a4 <span class=nt>-C</span> IrMC
obex&gt; get telecom/devinfo.txt devinfo-t39.txt
Success, response: OK, Success <span class=o>(</span>0x20<span class=o>)</span>
obex&gt; put new.vcf
Success, response: OK, Success <span class=o>(</span>0x20<span class=o>)</span>
obex&gt; di
Success, response: OK, Success <span class=o>(</span>0x20<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Az OBEX objektumok tologatásának támogatásához az <a href="https://man.freebsd.org/cgi/man.cgi?query=sdpd&amp;sektion=8&amp;format=html">sdpd(8)</a> szervernek kell futnia. Továbbá a beérkezõ objektumok tárolásához létre kell hoznunk még egy könyvtárat is. Ez az könyvtár alapértelmezés szerint a <span class=filename>/var/spool/obex</span>. Végül indítsuk el az OBEX szervert egy érvényes RFCOMM csatorna számának megadásával. Az OBEX szerver ezután automatikusan regisztrálja az "OBEX Object Push" nevû szolgáltatást a helyi SDP démonnál. Ebben a példában láthatjuk az OBEX szerver indítását:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># obexapp -s -C 10</span></code></pre></div></div></div><div class=sect2><h3 id=_soros_vonali_profil_spp>31.4.10. Soros vonali profil (SPP)<a class=anchor href=#_soros_vonali_profil_spp></a></h3><div class=paragraph><p>A soros vonali profil (Serial Port Profile, SPP) használatával RS232 (vagy ahhoz hasonló) vonali adatátvitelt tudunk emulálni. Ez a profil a régebben fejlesztett alkalmazásokkal birkózik meg, és a Bluetooth technológiával valódi kábel helyett egy virtuális soros portot képez le.</p></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_sppd&amp;sektion=1&amp;format=html">rfcomm_sppd(1)</a> segédprogram ezt a soros vonali profilt valósítja meg. Így egy pszeudo terminált tudunk virtuális soros portként használni. Ha nem adunk meg RFCOMM csatornát, akkor az <a href="https://man.freebsd.org/cgi/man.cgi?query=rfcomm_sppd&amp;sektion=1&amp;format=html">rfcomm_sppd(1)</a> képes SDP-n keresztül kérni egyet magának a távoli eszköztõl. Ha ezt felül kívánjuk bírálni, akkor a parancssorban megadhatunk akár egy konkrét RFCOMM csatornát is.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rfcomm_sppd -a 00:07:E0:00:0B:CA -t /dev/ttyp6</span>
rfcomm_sppd[94692]: Starting on /dev/ttyp6...</code></pre></div></div><div class=paragraph><p>Miután csatlakoztunk, a pszeudo terminált tudjuk soros portként használni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cu -l ttyp6</span></code></pre></div></div></div><div class=sect2><h3 id=_hibaelhárítás_2>31.4.11. Hibaelhárítás<a class=anchor href=#_hibaelhárítás_2></a></h3><div class=sect3><h4 id=_nem_tudunk_csatlakozni_a_távoli_eszközzel>31.4.11.1. Nem tudunk csatlakozni a távoli eszközzel<a class=anchor href=#_nem_tudunk_csatlakozni_a_távoli_eszközzel></a></h4><div class=paragraph><p>Egyes Bluetooth eszközök nem támogatják a szerepek cseréjét (role switch). Alapértelmezés szerint amikor a FreeBSD elfogad egy új kapcsolatot, megpróbál rajta szerepet cserélni és mesterré válni. Azok az eszközök, amelyek ezt nem támogatják, nem lesznek képesek emiatt csatlakozni. Ez a szerepváltás az új kapcsolatok felépítése során zajlik le, ezért egy távoli eszköztõl nem lehet megtudni, hogy ismeri-e ezt a lehetõséget. A helyi oldalon a következõ HCI opcióval lehet kikapcsolni a szerepcserét:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># hccontrol -n ubt0hci write_node_role_switch 0</span></code></pre></div></div></div><div class=sect3><h4 id=_valami_nem_megy_lehet_látni_valahogy_pontosan_mi_is_történik>31.4.11.2. Valami nem megy. Lehet látni valahogy, pontosan mi is történik?<a class=anchor href=#_valami_nem_megy_lehet_látni_valahogy_pontosan_mi_is_történik></a></h4><div class=paragraph><p>Persze, igen. Egy külsõ csomag, a hcidump segítségével, amely a <a class=package href=https://cgit.freebsd.org/ports/tree/comms/hcidump/>comms/hcidump</a> portból érhetõ el. A hcidump segédprogram a <a href="https://man.freebsd.org/cgi/man.cgi?query=tcpdump&amp;sektion=1&amp;format=html">tcpdump(1)</a> programhoz hasonlítható. Ezzel lehet a Bluetooth csomagok tartalmát megnézni a terminálon vagy elmenteni ezeket egy állományba.</p></div></div></div></div></div><div class=sect1><h2 id=network-bridging>31.5. Hálózati hidak<a class=anchor href=#network-bridging></a></h2><div class=sectionbody><div class=sect2><h3 id=_bevezetés_2>31.5.1. Bevezetés<a class=anchor href=#_bevezetés_2></a></h3><div class=paragraph><p>Gyakran hasznos lehet anélkül felosztani egy fizikai hálózatot (például egy Ethernet szegmenst) két külön hálózati szegmensre, hogy külön IP-alhálózatot kellene létrehozunk és összekötnünk ezeket egy útválasztóval. A két ilyen módon kialakított hálózatot összekötõ eszközt nevezzük "hálózati hídnak" (bridge). A legalább két hálózati felülettel rendelkezõ FreeBSD rendszerek képesek hálózati híd szerepét betölteni.</p></div><div class=paragraph><p>A hálózati híd az eszközök adatkapcsolati rétegben a hozzá tartozó felületein megjelenõ (vagyis Ethernet) címének megtanulásával mûködik. A két hálózat között csak akkor közvetít forgalmat, amikor a forrás és cél nem ugyanabban a hálózatban található.</p></div><div class=paragraph><p>A hálózati hidak bizonyos szempontból lényegében nagyon kevés porttal rendelkezõ Ethernet switch-ek.</p></div></div><div class=sect2><h3 id=_a_hálózati_hidak_tipikus_alkalmazásai>31.5.2. A hálózati hidak tipikus alkalmazásai<a class=anchor href=#_a_hálózati_hidak_tipikus_alkalmazásai></a></h3><div class=paragraph><p>Napjainkban akad néhány igen jellemzõ szituáció, ahol szükség van a hálózati hidak alkalmazására.</p></div><div class=sect3><h4 id=_hálózatok_összekötése>31.5.2.1. Hálózatok összekötése<a class=anchor href=#_hálózatok_összekötése></a></h4><div class=paragraph><p>A hálózati hidak alapvetõ feladata két vagy több hálózati szegmens összekötése. Az egyszerû hálózati környezet felállítása helyett több okból is felmerülhet a hidak létrehozása: kábelezési megszorítások, tûzfalazás vagy pszeudo hálózatok, például virtuális gépek felületének csatlakoztatása miatt. Egy híd használatával ráadásul össze tudunk kötni egy vezeték nélküli hozzáférési pontként üzemelõ felületet egy vezetékes hálózattal.</p></div></div><div class=sect3><h4 id=_szûrés_vagy_forgalomkorlátozás_tûzfallal>31.5.2.2. Szûrés vagy forgalomkorlátozás tûzfallal<a class=anchor href=#_szûrés_vagy_forgalomkorlátozás_tûzfallal></a></h4><div class=paragraph><p>Sokszor elõfordulhat, hogy útválasztás vagy hálózati címfordítás (NAT) nélkül szeretnénk tûzfalat használni.</p></div><div class=paragraph><p>Példaként képzeljünk el egy olyan kis méretû céget, amely egy DSL vagy ISDN vonalon kapcsolódik az internet-szolgáltatójához. A szolgáltatótól 13, mindenki által használható IP-címet kaptak és a hálózatukban 10 gép van. Ebben a helyzetben egy útválasztást végzõ tûzfal mûködtetése nehézkessé válna az alhálózatok problémái miatt.</p></div><div class=paragraph><p>Egy hídként viselkedõ tûzfallal azonban minden IP számozási probléma nélkül egyszerûen be tudjuk dobni a gépeket a DSL/ISDN útválasztó mögé.</p></div></div><div class=sect3><h4 id=_a_hálózat_megcsapolása>31.5.2.3. A hálózat megcsapolása<a class=anchor href=#_a_hálózat_megcsapolása></a></h4><div class=paragraph><p>Egy hálózati híddal úgy kapcsolunk össze két hálózati szegmenst, hogy közben meg tudjuk vizsgálni a kettejük között mozgó Ethernet kereteket. Ezt a híd felületen a <a href="https://man.freebsd.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;format=html">bpf(4)</a> valamint a <a href="https://man.freebsd.org/cgi/man.cgi?query=tcpdump&amp;sektion=1&amp;format=html">tcpdump(1)</a> segítségével tudjuk megoldani, vagy úgy, ha egy másik felületen elküldjük az összes keret másolatát (span, vagyis feszítõ port).</p></div></div><div class=sect3><h4 id=_vpn_az_adatkapcsolati_rétegben>31.5.2.4. VPN az adatkapcsolati rétegben<a class=anchor href=#_vpn_az_adatkapcsolati_rétegben></a></h4><div class=paragraph><p>A két Ethernet hálózatot egy IP alapú összeköttetésen keresztül is össze tudunk kötni, ha a hálózatokat egy EtherIP járaton keresztül kötjük össze híddal, vagy egy OpenVPN-hez hasonló <a href="https://man.freebsd.org/cgi/man.cgi?query=tap&amp;sektion=4&amp;format=html">tap(4)</a> alapú megoldással.</p></div></div><div class=sect3><h4 id=_redundancia_az_adatkapcsolati_rétegben>31.5.2.5. Redundancia az adatkapcsolati rétegben<a class=anchor href=#_redundancia_az_adatkapcsolati_rétegben></a></h4><div class=paragraph><p>A hálózatokat több linken keresztül kötjük össze és a redundáns útvonalakat a feszítõfa protokollal (Spanning Tree Protocol, STP). Az Ethernetes hálózatok esetében a megfelelõ mûködéshez a két eszköz között csak egyetlen aktív útvonal létezhet, így a feszítõfa protokoll észleli a hurkokat és a redundáns összeköttetéseket blokkolt állapotba teszi. Amikor azonban az aktív linkek egyike meghibásodik, akkor a protokoll újraszámolja a fát és a hálózati pontjai közti konnektivitást megpróbálja helyreállítani az addig blokkolt linkek ismételt engedélyezésével.</p></div></div></div><div class=sect2><h3 id=_a_rendszermag_beállításai>31.5.3. A rendszermag beállításai<a class=anchor href=#_a_rendszermag_beállításai></a></h3><div class=paragraph><p>Ebben a szakaszban az <a href="https://man.freebsd.org/cgi/man.cgi?query=if_bridge&amp;sektion=4&amp;format=html">if_bridge(4)</a> hálózati híd implementációval foglalkozunk, de a Netgraph segítségével is tudunk hidakat építeni. Ez utóbbiról az <a href="https://man.freebsd.org/cgi/man.cgi?query=ng_bridge&amp;sektion=4&amp;format=html">ng_bridge(4)</a> man oldalon olvashatunk.</p></div><div class=paragraph><p>Amikor létrehozunk egy hálózati hidat, az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> automatikusan betölti a hozzá tartozó meghajtót. Ha viszont a rendszermag beállításait tartalmazó állományba felvesszük a <code>device if_bridge</code> sort, akkor akár be is építhetjük a rendszermagba.</p></div><div class=paragraph><p>A csomagszûrés minden olyan tûzfallal használható, amely a <a href="https://man.freebsd.org/cgi/man.cgi?query=pfil&amp;sektion=9&amp;format=html">pfil(9)</a> rendszerre kapcsolódik. Maga a tûzfal is betölthetõ modulként, vagy belefordítható a rendszermagba.</p></div><div class=paragraph><p>A hálózati híddal forgalmat is tudunk szabályozni az <a href="https://man.freebsd.org/cgi/man.cgi?query=altq&amp;sektion=4&amp;format=html">altq(4)</a> vagy a <a href="https://man.freebsd.org/cgi/man.cgi?query=dummynet&amp;sektion=4&amp;format=html">dummynet(4)</a> segítségével.</p></div></div><div class=sect2><h3 id=_a_hálózati_híd_engedélyezése>31.5.4. A hálózati híd engedélyezése<a class=anchor href=#_a_hálózati_híd_engedélyezése></a></h3><div class=paragraph><p>Hálózati hidak felületek klónozásával hozhatóak létre. A híd létrehozásához használjuk az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> programot, és a megfelelõ meghajtó automatikusan betöltõdik, ha nem lenne még elérhetõ a rendszermagban.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge create</span>
bridge0
<span class=c># ifconfig bridge0</span>
bridge0: <span class=nv>flags</span><span class=o>=</span>8802&lt;BROADCAST,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        ether 96:3d:4b:f1:79:7a
        <span class=nb>id </span>00:00:00:00:00:00 priority 32768 hellotime 2 fwddelay 15
        maxage 20 holdcnt 6 proto rstp maxaddr 100 <span class=nb>timeout </span>1200
        root <span class=nb>id </span>00:00:00:00:00:00 priority 0 ifcost 0 port 0</code></pre></div></div><div class=paragraph><p>Ekkor létrejön a hálózati hídhoz tartozó felület és véletlenszerûen generálódik hozzá egy Ethernetes cím. A <code>maxaddr</code> és a <code>timeout</code> paraméterek vezérlik, hogy a híd mennyi MAC-címet tartson meg a keretek továbbításáért felelõs táblázatban és mennyi másodperc után töröljön automatikusan egy bejegyzést a legutolsó használat után. A többi paraméter a feszítõfa mûködését irányítja.</p></div><div class=paragraph><p>Vegyük fel a hídhoz tartozó hálózati tagfelületeket. A híd csak akkor fog a tagfelületek között csomagokat továbbküldeni, amikor a híd és a tagok is <code>up</code> állapotban vannak:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 addm fxp0 addm fxp1 up</span>
<span class=c># ifconfig fxp0 up</span>
<span class=c># ifconfig fxp1 up</span></code></pre></div></div><div class=paragraph><p>A híd most már átküldi az Ethernet kereteket a <span class=filename>fxp0</span> és <span class=filename>fxp1</span> felületek között. Az iméntiekkel megegyezõ konfigurációt az <span class=filename>/etc/rc.conf</span> állományban így alakíthatjuk ki:</p></div><div class="literalblock programlisting"><div class=content><pre>cloned_interfaces=&#34;bridge0&#34;
ifconfig_bridge0=&#34;addm fxp0 addm fxp1 up&#34;
ifconfig_fxp0=&#34;up&#34;
ifconfig_fxp1=&#34;up&#34;</pre></div></div><div class=paragraph><p>Ha a hídhoz IP-címet is rendelni akarunk, akkor inkább magánál a hídnál adjuk meg, ne a tagoknál. Ezt statikusan vagy DHCP használatával is megtehetjük:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 inet 192.168.0.1/24</span></code></pre></div></div><div class=paragraph><p>A hídhoz IPv6 címet is hozzá tudunk rendelni.</p></div></div><div class=sect2><h3 id=_tûzfalazás>31.5.5. Tûzfalazás<a class=anchor href=#_tûzfalazás></a></h3><div class=paragraph><p>Ha engedélyezzük a csomagszûrést, a hídon áthaladó csomagok elõször a küldõ felület érkezési oldalára kerülnek, majd a hídra, végül a megfelelõ irányban levõ felület küldési oldalára. Bármelyik fázis letiltható. Amikor a csomagok áramlásának iránya fontos számunkra, akkor jobban járunk, ha nem magára a hídra, hanem csak a tagfelületekre állítjuk be a tûzfalat.</p></div><div class=paragraph><p>A híd számos módosítható beállítással rendelkezik a nem-IP és ARP csomagok átküldésére, valamint arra, hogy az IPFW tûzfal adatkapcsolati réteg szintjén mûködhessen. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=if_bridge&amp;sektion=4&amp;format=html">if_bridge(4)</a> man oldal ennek részleteit tárja fel.</p></div></div><div class=sect2><h3 id=_feszítõfák>31.5.6. Feszítõfák<a class=anchor href=#_feszítõfák></a></h3><div class=paragraph><p>A híd meghajtója a gyors feszítõfa protokollt (Rapid Spanning Tree Protocol, RSTP avagy 802.1w) valósítja meg, ami visszafelé kompatibilis a korábban említett feszítõfa protokollal. A feszítõfákat a hálózati topológiában felbukkanó hurkok észlelésére és eltávolítására alkalmazzák. Az RSTP azonban a hagyományos STP-nél valamivel gyorsabb konvergenciát ígér, mivel itt a szomszédos switch-ek kicserélik egymás között az adataikat, és így újabb hurkok létrehozása nélkül képesek viszonylag gyorsan egyik állapotból átváltani a másikba.</p></div><div class=paragraph><p>Az alábbi táblázat a támogatott mûködési módokat láthatjuk:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Operációs rendszer</th><th class="tableblock halign-left valign-top">STP módok</th><th class="tableblock halign-left valign-top">Alapértelmezés</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>FreeBSD 5.4-FreeBSD 6.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>STP</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>STP</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>FreeBSD 6.3+</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RSTP vagy STP</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>STP</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>FreeBSD 7.0+</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RSTP vagy STP</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RSTP</p></td></tr></tbody></table><div class=paragraph><p>A tagfelületeken az <code>stp</code> paranccsal tudjuk engedélyezni a feszítõfák használatát. Az <span class=filename>fxp0</span> és <span class=filename>fxp1</span> felületeket összekötõ hídfelület esetében tehát így:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 stp fxp0 stp fxp1</span>
bridge0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        ether d6:cf:d5:a0:94:6d
        <span class=nb>id </span>00:01:02:4b:d4:50 priority 32768 hellotime 2 fwddelay 15
        maxage 20 holdcnt 6 proto rstp maxaddr 100 <span class=nb>timeout </span>1200
        root <span class=nb>id </span>00:01:02:4b:d4:50 priority 32768 ifcost 0 port 0
        member: fxp0 <span class=nv>flags</span><span class=o>=</span>1c7&lt;LEARNING,DISCOVER,STP,AUTOEDGE,PTP,AUTOPTP&gt;
                port 3 priority 128 path cost 200000 proto rstp
                role designated state forwarding
        member: fxp1 <span class=nv>flags</span><span class=o>=</span>1c7&lt;LEARNING,DISCOVER,STP,AUTOEDGE,PTP,AUTOPTP&gt;
                port 4 priority 128 path cost 200000 proto rstp
                role designated state forwarding</code></pre></div></div><div class=paragraph><p>Láthatjuk, hogy a híd a feszítõfában megkapta a <code>00:01:02:4b:d4:50</code>-es azonosítót és a <code>32768</code>-as prioritást. Mivel <code>root id</code> értéke is ugyanez, elmondhatjuk, hogy ez a fa gyökereként funkcionáló híd.</p></div><div class=paragraph><p>Ha a hálózaton már valahol létezik egy másik híd:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>bridge0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        ether 96:3d:4b:f1:79:7a
        <span class=nb>id </span>00:13:d4:9a:06:7a priority 32768 hellotime 2 fwddelay 15
        maxage 20 holdcnt 6 proto rstp maxaddr 100 <span class=nb>timeout </span>1200
        root <span class=nb>id </span>00:01:02:4b:d4:50 priority 32768 ifcost 400000 port 4
        member: fxp0 <span class=nv>flags</span><span class=o>=</span>1c7&lt;LEARNING,DISCOVER,STP,AUTOEDGE,PTP,AUTOPTP&gt;
                port 4 priority 128 path cost 200000 proto rstp
                role root state forwarding
        member: fxp1 <span class=nv>flags</span><span class=o>=</span>1c7&lt;LEARNING,DISCOVER,STP,AUTOEDGE,PTP,AUTOPTP&gt;
                port 5 priority 128 path cost 200000 proto rstp
                role designated state forwarding</code></pre></div></div><div class=paragraph><p>A <code>root id 00:01:02:4b:d4:50 priority 32768 ifcost 400000 port 4</code> sor mutatja, hogy a fa gyökerét képezõ híd most a <code>00:01:02:4b:d4:50</code> azonosítóval rendelkezik, és ezt a hidat <code>400000</code>-res költséggel éri el a <code>port 4</code> (a 4. porton) keresztül, amely jelen esetben az <span class=filename>fxp0</span> felület.</p></div></div><div class=sect2><h3 id=_komolyabb_hidak_építése>31.5.7. Komolyabb hidak építése<a class=anchor href=#_komolyabb_hidak_építése></a></h3><div class=sect3><h4 id=_a_forgalom_áramlásának_átszerkesztése>31.5.7.1. A forgalom áramlásának átszerkesztése<a class=anchor href=#_a_forgalom_áramlásának_átszerkesztése></a></h4><div class=paragraph><p>A hidak támogatják az ún. megfigyelési módot, ahol a csomagokat a <a href="https://man.freebsd.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;format=html">bpf(4)</a> feldolgozásuk után eldobja, így nem folytatódik a feldolgozásuk vagy nem haladnak tovább. Ennek kihasználásával a két vagy több felületen érkezõ adatokat egyetlen <a href="https://man.freebsd.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;format=html">bpf(4)</a> folyammá tudjuk alakítani. Ez olyan hálózati csapok forgalmának átszerkesztésében hasznos, ahol a két különbözõ felületen keresztül küldjük ki az RX/TX (fogadás/küldés) jeleket.</p></div><div class=paragraph><p>Az alábbi paranccsal tudjuk megoldani, hogy négy felületrõl érkezõ adatot legyünk képesek egyetlen folyamként olvasni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 addm fxp0 addm fxp1 addm fxp2 addm fxp3 monitor up</span>
<span class=c># tcpdump -i bridge0</span></code></pre></div></div></div><div class=sect3><h4 id=_feszítõ_portok>31.5.7.2. Feszítõ portok<a class=anchor href=#_feszítõ_portok></a></h4><div class=paragraph><p>A hídhoz befutó Ethernet keretek mindegyikérõl készül egy másolat, ami egy megadott feszítõ porton keresztül megy tovább. Hidanként végtelen számú ilyen feszítõ port létezhet, és ha egy felületet feszítõ portnak adtunk meg, akkor hagyományos portként már nem használhatjuk. Ez leginkább akkor hasznos, amikor passzívan akarjuk megfigyelni a híddal rendelkezõ hálózatot a híd valamelyik feszítõ portjára csatlakozó géprõl.</p></div><div class=paragraph><p>Küldessük az összes keretrõl egy másolatot az <span class=filename>fxp4</span> felületre:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 span fxp4</span></code></pre></div></div></div><div class=sect3><h4 id=_privát_felületek>31.5.7.3. Privát felületek<a class=anchor href=#_privát_felületek></a></h4><div class=paragraph><p>A privát felületek (private interface) csak más privát felületek felé küldenek tovább adatot. Így feltétel nélkül tudjuk korlátozni a forgalmat, és sem Ethernet keretek, sem pedig ARP nem megy keresztül rajtuk. Ha viszont szelektíven akarjuk korlátozni a forgalmat, akkor helyette használjunk tûzfalat.</p></div></div><div class=sect3><h4 id=_tapadós_felületek>31.5.7.4. Tapadós felületek<a class=anchor href=#_tapadós_felületek></a></h4><div class=paragraph><p>Ha a híd egyik tagfelületét tapadósnak (sticky) adjuk meg, akkor a dinamikusan megtanult címek bejegyzései a gyorsítótárba kerülésük után állandósulnak. A tapadós bejegyzések soha nem évülnek el vagy cserélõdnek le, még abban az esetben sem, ha utána az adott címet egy másik felületrõl látjuk. Így a továbbításra vonatkozó táblázatot nem kell elõre feltöltenünk, és a híd egyik oldalán meglátott kliensek nem képesek átvándorolni egy másik hálózati szegmensbe.</p></div><div class=paragraph><p>Másik ilyen példa a tapadós címek használatára az lehetne, amikor a hidat VLAN-nal kombináljuk, és így egy olyan útválasztót hozunk létre, ahol az ügyfeleink az IP-címtartomány pocséklása nélkül zárhatóak el egymástól. Tegyük fel, hogy az <code>A-ugyfel</code> a <code>vlan100</code>, és a <code>B-ugyfel</code> a <code>vlan101</code> felületen csatlakozik. A híd IP-címe <code>192.168.0.1</code>, amely maga is egy internet felé mutató útválasztó.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 addm vlan100 sticky vlan100 addm vlan101 sticky vlan101</span>
<span class=c># ifconfig bridge0 inet 192.168.0.1/24</span></code></pre></div></div><div class=paragraph><p>Mind a két kliens a <code>192.168.0.1</code> címet látja alapértelmezett átjáróként, és mivel a híd gyorsítótára tapadós bejegyzéseket tartalmaz, a MAC-címeik meghamisításával nem tudják elcsípni a másikuk forgalmát.</p></div><div class=paragraph><p>A VLAN-ok közti bárminemû kommunikációt privát felületek létrehozásával akadályozzuk meg (vagy egy tûzfallal):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 private vlan100 private vlan101</span></code></pre></div></div><div class=paragraph><p>Ezzel a megoldással az ügyfeleinket teljesen elszigeteljük egymástól úgy, hogy közben az egész <code>/24</code> címtartomány külön alhálózatok kialakítása nélkül kiosztható.</p></div></div><div class=sect3><h4 id=_címek_korlátozása>31.5.7.5. Címek korlátozása<a class=anchor href=#_címek_korlátozása></a></h4><div class=paragraph><p>Korlátozhatóak az egy felület mögül küldeni képes egyedi MAC-címek. Amikor ezen a határon felül érkeznek ismeretlen feladótól csomagok, egészen addig eldobjuk ezeket, amíg egy korábban már regisztrált bejegyzést a rendszer ki nem töröl vagy ki nem veszünk a gyorsítótárból.</p></div><div class=paragraph><p>A következõ példában az <code>vlan100</code> felületen csatlakozó <code>A-ugyfel</code> számára korlátozzuk le 10-re az Ethernet eszközök számát:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bridge0 ifmaxaddr vlan100 10</span></code></pre></div></div></div><div class=sect3><h4 id=_snmp_felügyelet>31.5.7.6. SNMP felügyelet<a class=anchor href=#_snmp_felügyelet></a></h4><div class=paragraph><p>A hidak és az STP paraméterei az alap FreeBSD rendszerben megtalálható SNMP démonnal felügyelhetõek. A hídhoz exportált felügyeleti információk (Management Information Base, MIB) megfelelnek az IETF által elõírt szabványoknak, így akár tetszõleges SNMP kliens vagy bármilyen más felügyeleti szoftver alkalmas az olvasásukra.</p></div><div class=paragraph><p>A hidat mûködtetõ gépen az <span class=filename>/etc/snmp.config</span> állományban engedélyezzük a <code>begemotSnmpdModulePath."bridge" = "/usr/lib/snmp_bridge.so"</code> sort és indítsuk el a bsnmpd démont. Itt még szükség lehet más beállítások, például a közösségek nevének (community name) vagy a hozzáférési listák (access list) módosítására is. Ezzel kapcsolatban a <a href="https://man.freebsd.org/cgi/man.cgi?query=bsnmpd&amp;sektion=1&amp;format=html">bsnmpd(1)</a> és az <a href="https://man.freebsd.org/cgi/man.cgi?query=snmp_bridge&amp;sektion=3&amp;format=html">snmp_bridge(3)</a> man oldalakat lapozzuk fel.</p></div><div class=paragraph><p>A következõ példában a Net-SNMP nevû szoftver (<a class=package href=https://cgit.freebsd.org/ports/tree/net-mgmt/net-snmp/>net-mgmt/net-snmp</a>) fogjuk használni a híd elérésére, de ugyanerre a <a class=package href=https://cgit.freebsd.org/ports/tree/net-mgmt/bsnmptools/>net-mgmt/bsnmptools</a> port is alkalmas. Az SNMP klienst használó gépen egészítsük ki az <span class=filename>$HOME/.snmp/snmp.conf</span> állományt a híd felügyeleti információinak importálásával az Net-SNMP rendszerébe:</p></div><div class="literalblock programlisting"><div class=content><pre>mibdirs +/usr/shared/snmp/mibs
mibs +BRIDGE-MIB:RSTP-MIB:BEGEMOT-MIB:BEGEMOT-BRIDGE-MIB</pre></div></div><div class=paragraph><p>Az IETF BRIDGE-MIB (RFC 4188) használatán keresztül így tudjuk elindítani egy híd felügyeletét:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% snmpwalk <span class=nt>-v</span> 2c <span class=nt>-c</span> public bridge1.example.com mib-2.dot1dBridge
BRIDGE-MIB::dot1dBaseBridgeAddress.0 <span class=o>=</span> STRING: 66:fb:9b:6e:5c:44
BRIDGE-MIB::dot1dBaseNumPorts.0 <span class=o>=</span> INTEGER: 1 ports
BRIDGE-MIB::dot1dStpTimeSinceTopologyChange.0 <span class=o>=</span> Timeticks: <span class=o>(</span>189959<span class=o>)</span> 0:31:39.59 centi-seconds
BRIDGE-MIB::dot1dStpTopChanges.0 <span class=o>=</span> Counter32: 2
BRIDGE-MIB::dot1dStpDesignatedRoot.0 <span class=o>=</span> Hex-STRING: 80 00 00 01 02 4B D4 50
...
BRIDGE-MIB::dot1dStpPortState.3 <span class=o>=</span> INTEGER: forwarding<span class=o>(</span>5<span class=o>)</span>
BRIDGE-MIB::dot1dStpPortEnable.3 <span class=o>=</span> INTEGER: enabled<span class=o>(</span>1<span class=o>)</span>
BRIDGE-MIB::dot1dStpPortPathCost.3 <span class=o>=</span> INTEGER: 200000
BRIDGE-MIB::dot1dStpPortDesignatedRoot.3 <span class=o>=</span> Hex-STRING: 80 00 00 01 02 4B D4 50
BRIDGE-MIB::dot1dStpPortDesignatedCost.3 <span class=o>=</span> INTEGER: 0
BRIDGE-MIB::dot1dStpPortDesignatedBridge.3 <span class=o>=</span> Hex-STRING: 80 00 00 01 02 4B D4 50
BRIDGE-MIB::dot1dStpPortDesignatedPort.3 <span class=o>=</span> Hex-STRING: 03 80
BRIDGE-MIB::dot1dStpPortForwardTransitions.3 <span class=o>=</span> Counter32: 1
RSTP-MIB::dot1dStpVersion.0 <span class=o>=</span> INTEGER: rstp<span class=o>(</span>2<span class=o>)</span></code></pre></div></div><div class=paragraph><p>A példában látszik, hogy a <code>dot1dStpTopChanges.0</code> értéke kettõ, ami arra utal, hogy az STP híd topológiája kétszer változott. A topológia változása pedig azt jelenti, hogy a hálózaton belül egy vagy több link állapota megváltozott vagy egyszerûen meghibásodott és ezért egy új fát kellett számolni. A <code>dot1dStpTimeSinceTopologyChange.0</code> érték adja meg, hogy ez pontosan mikor is történt.</p></div><div class=paragraph><p>Több híd felületének felügyeletéhez a belsõ BEGEMOT-BRIDGE-MIB parancsot is használhatjuk:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% snmpwalk <span class=nt>-v</span> 2c <span class=nt>-c</span> public bridge1.example.com
enterprises.fokus.begemot.begemotBridge
BEGEMOT-BRIDGE-MIB::begemotBridgeBaseName.<span class=s2>&#34;bridge0&#34;</span> <span class=o>=</span> STRING: bridge0
BEGEMOT-BRIDGE-MIB::begemotBridgeBaseName.<span class=s2>&#34;bridge2&#34;</span> <span class=o>=</span> STRING: bridge2
BEGEMOT-BRIDGE-MIB::begemotBridgeBaseAddress.<span class=s2>&#34;bridge0&#34;</span> <span class=o>=</span> STRING: e:ce:3b:5a:9e:13
BEGEMOT-BRIDGE-MIB::begemotBridgeBaseAddress.<span class=s2>&#34;bridge2&#34;</span> <span class=o>=</span> STRING: 12:5e:4d:74:d:fc
BEGEMOT-BRIDGE-MIB::begemotBridgeBaseNumPorts.<span class=s2>&#34;bridge0&#34;</span> <span class=o>=</span> INTEGER: 1
BEGEMOT-BRIDGE-MIB::begemotBridgeBaseNumPorts.<span class=s2>&#34;bridge2&#34;</span> <span class=o>=</span> INTEGER: 1
...
BEGEMOT-BRIDGE-MIB::begemotBridgeStpTimeSinceTopologyChange.<span class=s2>&#34;bridge0&#34;</span> <span class=o>=</span> Timeticks: <span class=o>(</span>116927<span class=o>)</span> 0:19:29.27 centi-seconds
BEGEMOT-BRIDGE-MIB::begemotBridgeStpTimeSinceTopologyChange.<span class=s2>&#34;bridge2&#34;</span> <span class=o>=</span> Timeticks: <span class=o>(</span>82773<span class=o>)</span> 0:13:47.73 centi-seconds
BEGEMOT-BRIDGE-MIB::begemotBridgeStpTopChanges.<span class=s2>&#34;bridge0&#34;</span> <span class=o>=</span> Counter32: 1
BEGEMOT-BRIDGE-MIB::begemotBridgeStpTopChanges.<span class=s2>&#34;bridge2&#34;</span> <span class=o>=</span> Counter32: 1
BEGEMOT-BRIDGE-MIB::begemotBridgeStpDesignatedRoot.<span class=s2>&#34;bridge0&#34;</span> <span class=o>=</span> Hex-STRING: 80 00 00 40 95 30 5E 31
BEGEMOT-BRIDGE-MIB::begemotBridgeStpDesignatedRoot.<span class=s2>&#34;bridge2&#34;</span> <span class=o>=</span> Hex-STRING: 80 00 00 50 8B B8 C6 A9</code></pre></div></div><div class=paragraph><p>Így tudjuk megadni, hogy a hidat <code>mib-2.dot1dBridge</code> részfán keresztül akarjuk megfigyelni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% snmpset <span class=nt>-v</span> 2c <span class=nt>-c</span> private bridge1.example.com
BEGEMOT-BRIDGE-MIB::begemotBridgeDefaultBridgeIf.0 s bridge2</code></pre></div></div></div></div></div></div><div class=sect1><h2 id=network-aggregation>31.6. Linkek összefûzése és hibatûrése<a class=anchor href=#network-aggregation></a></h2><div class=sectionbody><div class=sect2><h3 id=_bevezetés_3>31.6.1. Bevezetés<a class=anchor href=#_bevezetés_3></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=lagg&amp;sektion=4&amp;format=html">lagg(4)</a> felület lehetõvé teszi, hogy több hálózati felületet egyetlen virtuális felületként fûzzünk össze, és ezzel egy hibatûrõ és nagysebességû összeköttetést alakítsunk ki.</p></div></div><div class=sect2><h3 id=_mûködési_módok>31.6.2. Mûködési módok<a class=anchor href=#_mûködési_módok></a></h3><div class=dlist><dl><dt class=hdlist1>failover</dt><dd><p>Csak az elsõdlegesként kijelölt porton keresztül fogad és küld adatokat. Amikor ez az elsõdleges port elérhetetlenné válik, a következõ aktív portot fogja használni. Az elsõként felvett felület válik automatikusan az elsõdleges porttá, és az utána felvett összes többit pedig csak hiba esetén használjuk.</p></dd><dt class=hdlist1>Cisco® Fast EtherChannel®</dt><dd><p>A Cisco® Fast EtherChannel® (FEC) technológia támogatása. Ez egy statikus beállítás, és nem egyezteti az összefûzést a többiekkel vagy a linkek felügyeletéhez nem vált kereteket. Ha a switch támogatja az LACP használatát, akkor inkább azt válasszuk.</p><div class=paragraph><p>A FEC a kimenõ forgalmat a fejlécekben szereplõ protokollok alapján számolt hasítókóddal próbálja szétosztani az aktív portok között, és tetszõleges aktív porton fogad beérkezõ adatokat. Az említett hasítókódban egy Ethernetes forrás- és célcím szerepel, valamint ha elérhetõ, akkor egy VLAN címke, illetve az IPv4/IPv6 forrás- és célcím.</p></div></dd><dt class=hdlist1>LACP</dt><dd><p>Az IEEE® 802.3ad Link Aggregation Control Protocol (LACP) és a Marker Protcol támogatása. Az LACP megpróbálja egyeztetni a többi géppel az összefûzhetõ linkeket egy vagy több csoportban (Link Aggregated Group, LAG). Mindegyik ilyen csoportban ugyanolyan sebességû portokat találunk, full-duplex mûködési módban. A forgalmat így a legnagyobb összsebességgel rendelkezõ csoportban megtalálható portok között osztja el, ami a legtöbb esetben az összes portot magában foglaló csoport. A fizikai konnektivitás megváltozása esetén a linkek összefûzõdése igen gyorsan alkalmazkodik az új konfigurációhoz.</p><div class=paragraph><p>Az LACP a kimenõ forgalmat az aktív portok között osztja szét fejlécekben szereplõ protokollok alapján számolt hasítókóddal, és bármelyik aktív portról fogad bejövõ forgalmat. A hasítókódban megtalálható az Ethernetes forrás- és célcím, valamint ha elérhetõ, akkor a VLAN címke, illetve az IPv4/IPv6 forrás- és célcímek.</p></div></dd><dt class=hdlist1>Loadbalance</dt><dd><p>Ez a <em>FEC</em> mód másik neve.</p></dd><dt class=hdlist1>Round-Robin</dt><dd><p>A kimenõ forgalmat egy körkörös (Round-Robin) elvû ütemezõvel osztja szét az aktív portok között és tetszõleges aktív portról fogad bejövõ forgalmat. Ez a mûködési mód megsérti az Ethernet keretek rendezését és csak nagy körültekintés mellett alkalmazzuk.</p></dd></dl></div></div><div class=sect2><h3 id=_példák>31.6.3. Példák<a class=anchor href=#_példák></a></h3><div id=networking-lacp-aggregation-cisco class=exampleblock><div class=title>Példa 1. LACP alapú összefûzés egy Cisco® switch-csel</div><div class=content><div class=paragraph><p>Ebben a példában egy FreeBSD-s gép két felületét kapcsoljuk össze switch-csel egy egyszerû terhelés-kiegyenlítéssel és hibatûréssel beállított linken keresztül. Mivel az Ethernet keretek sorrendje döntõ fontosságú, ezért a két állomás között egyazon fizikai linken zajló forgalom maximális sebességét az adott felület kapacitása korlátozza. A küldési algoritmus a lehetõ legtöbb információ alapján próbálja egymástól megkülönböztetni a forgalmakat és elosztani ezeket a rendelkezésre álló felületek között.</p></div><div class=paragraph><p>A Cisco® switch-en vegyünk fel a <em>FastEthernet0/1</em> és <em>FastEthernet0/2</em> interfészeket az <em>1</em> csoportba (channel group):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>interface FastEthernet0/1
 channel-group 1 mode active
 channel-protocol lacp
<span class=o>!</span>
interface FastEthernet0/2
 channel-group 1 mode active
 channel-protocol lacp</code></pre></div></div><div class=paragraph><p>A FreeBSD-s gépen pedig a <em>fxp0</em> és <em>fxp1</em> használatával hozzunk létre a <a href="https://man.freebsd.org/cgi/man.cgi?query=lagg&amp;sektion=4&amp;format=html">lagg(4)</a> interfészt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig lagg0 create</span>
<span class=c># ifconfig lagg0 up laggproto lacp laggport fxp0 laggport fxp1</span></code></pre></div></div><div class=paragraph><p>Ellenõrizzük a felület állapotát:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig lagg0</span></code></pre></div></div><div class=paragraph><p>A <em>ACTIVE</em> jelzésû, vagyis aktív állapotú portok az összefûzéshez kialakított csoport azon tagjai, amelyeknél felépült a kapcsolat a távoli switch felé és készen állnak a küldésre és fogadásra. Ha az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> programtól részletesebb kimenetet kérünk, akkor láthatjuk a csoportok azonosítóit is:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>lagg0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        <span class=nv>options</span><span class=o>=</span>8&lt;VLAN_MTU&gt;
        ether 00:05:5d:71:8d:b8
        media: Ethernet autoselect
        status: active
        laggproto lacp
        laggport: fxp1 <span class=nv>flags</span><span class=o>=</span>1c&lt;ACTIVE,COLLECTING,DISTRIBUTING&gt;
        laggport: fxp0 <span class=nv>flags</span><span class=o>=</span>1c&lt;ACTIVE,COLLECTING,DISTRIBUTING&gt;</code></pre></div></div><div class=paragraph><p>A <code>show lacp neighbor</code> paranccsal kérdezhetjük le a portok állapotát:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>switch# show lacp neighbor
Flags:  S - Device is requesting Slow LACPDUs
        F - Device is requesting Fast LACPDUs
        A - Device is <span class=k>in </span>Active mode       P - Device is <span class=k>in </span>Passive mode

Channel group 1 neighbors

Partner<span class=s1>&#39;s information:

                  LACP port                        Oper    Port     Port
Port      Flags   Priority  Dev ID         Age     Key     Number   State
Fa0/1     SA      32768     0005.5d71.8db8  29s    0x146   0x3      0x3D
Fa0/2     SA      32768     0005.5d71.8db8  29s    0x146   0x4      0x3D</span></code></pre></div></div><div class=paragraph><p>Részletesebb kijelzést a <code>show lacp neighbor detail</code> paranccsal kaphatunk.</p></div></div></div><div id=networking-lagg-failover class=exampleblock><div class=title>Példa 2. A hibatûrés beállítása</div><div class=content><div class=paragraph><p>A hibatûrési mód arra alkalmas, hogy amikor az elsõdleges porton elvesztjük a kapcsolatot, helyette egy másodlagos interfész használatára tudunk áttérni. Hozzuk létre és állítsuk be a <em>lagg0</em> interfészt, ahol az <em>fxp0</em> legyen a fõinterfész, az <em>fxp1</em> pedig a tartalék interfész:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig lagg0 create</span>
<span class=c># ifconfig lagg0 up laggproto failover laggport fxp0 laggport fxp1</span></code></pre></div></div><div class=paragraph><p>Az így létrejövõ interfész nagyjából az alábbi lesz, ahol eltérés a MAC-cím és az eszköz neve:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig lagg0</span>
lagg0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        <span class=nv>options</span><span class=o>=</span>8&lt;VLAN_MTU&gt;
        ether 00:05:5d:71:8d:b8
        media: Ethernet autoselect
        status: active
        laggproto failover
        laggport: fxp1 <span class=nv>flags</span><span class=o>=</span>0&lt;<span class=o>&gt;</span>
        laggport: fxp0 <span class=nv>flags</span><span class=o>=</span>5&lt;MASTER,ACTIVE&gt;</code></pre></div></div><div class=paragraph><p>A forgalom kezdetben az <em>fxp0</em> felületen keresztül érkezik és távozik. Ha az <em>fxp0</em> felületen valamiért megszakadna a kapcsolat, helyette az <em>fxp1</em> lesz az aktív link. Ha késõbb helyreáll a kapcsolat az elsõdleges felületen, akkor újra az lesz aktív link.</p></div></div></div><div id=networking-lagg-wired-and-wireless class=exampleblock><div class=title>Példa 3. Hibatûrés beállítása vezetékes és vezeték nélküli hálózatok között</div><div class=content><div class=paragraph><p>Hordozható számítógépek használata esetén általában érdemesebb a vezeték nélküli kapcsolatot másodlagos interfészként beállítani, így csak akkor használja a rendszer, ha vezetékes hálózat nem érhetõ el. A <a href="https://man.freebsd.org/cgi/man.cgi?query=lagg&amp;sektion=4&amp;format=html">lagg(4)</a> segítségével egyetlen IP-címmel tudjuk használni mind a két interfészt: a teljesítmény és biztonságosság miatt elsõsorban a vezetékes hálózatot használjuk, miközben megmarad a lehetõség az adatok továbbítására a vezeték nélküli kapcsolaton keresztül is.</p></div><div class=paragraph><p>A beállítás során a vezeték nélküli interfész MAC-címét úgy kell módosítanunk, hogy megegyezzen a <a href="https://man.freebsd.org/cgi/man.cgi?query=lagg&amp;sektion=4&amp;format=html">lagg(4)</a> címével. A <a href="https://man.freebsd.org/cgi/man.cgi?query=lagg&amp;sektion=4&amp;format=html">lagg(4)</a> interfész a saját MAC-címét az elsõdleges interfésztõl örökli, amely jelen esetünkben a vezetékes interfész lesz.</p></div><div class=paragraph><p>A most következõ példában a vezetékes hálózatunk lesz az elsõdleges interfész (<em>bge0</em>), míg a vezeték nélküli (<em>wlan0</em>) a másodlagos. A <em>wlan0</em> interfészt az <em>iwn0</em> interfészbõl hoztuk létre, és a vezetékes kapcsolat MAC-címét állítjuk be neki. Elsõ lépésként tehát le kell kérdeznünk a vezetékes interfész MAC-címét:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig bge0</span>
bge0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
	<span class=nv>options</span><span class=o>=</span>19b&lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,VLAN_HWCSUM,TSO4&gt;
	ether 00:21:70:da:ae:37
	inet6 fe80::221:70ff:feda:ae37%bge0 prefixlen 64 scopeid 0x2
	nd6 <span class=nv>options</span><span class=o>=</span>29&lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&gt;
	media: Ethernet autoselect <span class=o>(</span>1000baseT &lt;full-duplex&gt;<span class=o>)</span>
	status: active</code></pre></div></div><div class=paragraph><p>A <em>bge0</em> helyett természetesen a saját vezetékes hálózati interfészünket kell megadni, és az <code>ether</code> kezdetû sorban is saját kártyánk MAC-címe fog megjelenni. Ezután már meg is tudjuk változtatni az <em>iwn0</em> címét:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig iwn0 ether 00:21:70:da:ae:37</span></code></pre></div></div><div class=paragraph><p>Aktiváljuk a vezeték nélküli interfészt, de ne állítsunk be neki semmilyen IP-címet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig wlan0 create wlandev iwn0 ssid wlan_hálózat up</span></code></pre></div></div><div class=paragraph><p>Hozzuk létre a <a href="https://man.freebsd.org/cgi/man.cgi?query=lagg&amp;sektion=4&amp;format=html">lagg(4)</a> interfészt a <em>bge0</em> mint elsõdleges interfész megadásával, valamint a <em>wlan0</em> legyen a szükség esetén használható tartalék:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig lagg0 create</span>
<span class=c># ifconfig lagg0 up laggproto failover laggport bge0 laggport wlan0</span></code></pre></div></div><div class=paragraph><p>Az így létrehozott interfész nagyjából így fog megjelenni, egyedüli fontosabb eltérések a MAC-címek és az eszközök nevei:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig lagg0</span>
lagg0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        <span class=nv>options</span><span class=o>=</span>8&lt;VLAN_MTU&gt;
        ether 00:21:70:da:ae:37
        media: Ethernet autoselect
        status: active
        laggproto failover
        laggport: wlan0 <span class=nv>flags</span><span class=o>=</span>0&lt;<span class=o>&gt;</span>
        laggport: bge0 <span class=nv>flags</span><span class=o>=</span>5&lt;MASTER,ACTIVE&gt;</code></pre></div></div><div class=paragraph><p>Hogy ne kelljen a rendszer minden egyes indítása után ezt a mûveletet megismételni, vegyük fel a következõ sorokat az <span class=filename>/etc/rc.conf</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_bge0=&#34;up&#34;
ifconfig_iwn0=&#34;ether 00:21:70:da:ae:37&#34;
wlans_iwn0=&#34;wlan0&#34;
ifconfig_wlan0=&#34;WPA&#34;
cloned_interfaces=&#34;lagg0&#34;
ifconfig_lagg0=&#34;laggproto failover laggport bge0 laggport wlan0 DHCP&#34;</pre></div></div></div></div></div></div></div><div class=sect1><h2 id=network-diskless>31.7. Lemez nélküli mûködés<a class=anchor href=#network-diskless></a></h2><div class=sectionbody><div class=paragraph><p>A FreeBSD képes hálózaton keresztül elindulni és helyi lemez nélkül egy NFS szerver által megosztott állományrendszer csatlakoztatásával mûködni. Ehhez a szabványos konfigurációs állományok módosításán kívül semmi másra nincs szükségünk. Egy ilyen rendszert viszonylag könnyû beállítani, mivel az összes hozzávaló szinte készen elérhetõ:</p></div><div class=ulist><ul><li><p>Rögtön adott legalább két módszer, ha a rendszermagot hálózaton keresztül akarjuk betölteni:</p><div class=ulist><ul><li><p>PXE: az Intel® által fejlesztett Preboot eXecution Environment ("indítás elõtti végrehajtási környezet") nevû rendszer a hálózati kártyákba vagy alaplapokba épített ROM segítségével teszi lehetõvé az intelligens rendszerindítást. A <a href="https://man.freebsd.org/cgi/man.cgi?query=pxeboot&amp;sektion=8&amp;format=html">pxeboot(8)</a> man oldalán olvashatunk errõl részletesebben.</p></li><li><p>Az Etherboot port (<a class=package href=https://cgit.freebsd.org/ports/tree/net/etherboot/>net/etherboot</a>) olyan ROM-ba programozható kódot készít, amellyel rendszermagokat tudunk hálózaton keresztül betölteni. Ez a kód egyaránt felhasználható egy hálózati rendszerindító PROM beégetéséhez, vagy betölthetõ a helyi floppy (esetleg merev)lemezrõl, illetve MS-DOS® rendszer alól. Elég sok hálózati kártya támogatja ezt a módot.</p></li></ul></div></li><li><p>Egy mintaszkript (<span class=filename>/usr/shared/examples/diskless/clone_root</span>) is próbálja megkönnyíteni a szerveren a munkaállomás rendszerindító állományrendszerének létrehozását és karbantartását. Ezt a szkriptet valószínûleg némileg módosítani kell, de így is sokat segít az elindulásban.</p></li><li><p>Az <span class=filename>/etc</span> könyvtárban található szabványos rendszerindításhoz használt állományok, amelyekkel a lemez nélküli indulást lehet detektálni és segíteni.</p></li><li><p>A lapozás, amennyiben szükséges, NFS vagy helyi lemez segítségével oldható meg.</p></li></ul></div><div class=paragraph><p>Számos módon állíthatunk be egy lemez nélküli munkaállomást. Rengeteg részbõl tevõdik össze, és ezek legtöbbje remekül testreszabható az igényeinknek. A továbbiakban egy teljes rendszer összeállításának lehetséges variációit ismertetjük, különös hangsúlyt fektetünk arra, hogy egyszerûek és a hagyományos FreeBSD indítószkriptekkel kompatibilisek maradjanak. A bemutatandó rendszer a következõ jellemzõkkel bír:</p></div><div class=ulist><ul><li><p>A lemez nélküli munkaállomások megosztott <span class=filename>/</span> és <span class=filename>/usr</span> állományrendszereket használnak.</p><div class=paragraph><p>A rendszer indításához használt gyökér állományrendszer a szabvány FreeBSD-s gyökér (ez általában a szerveré), ahol néhány állományt felülírtunk a lemez nélküli mûködéshez vagy azért, mert egyszerûen az adott munkaállomáshoz tartozik.</p></div><div class=paragraph><p>A gyökér azon részeit, amelyeket írhatóvá kívánunk tenni, <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a> alapú állományrendszerekkel lapoljuk felül. Ilyenkor azonban bármilyen rajtuk ejtett változtatás a rendszer újraindításával elveszik.</p></div></li><li><p>A rendszermagot vagy az Etherboot vagy a PXE használatával küldessük át és töltsük be, mivel egyes helyzetekben ezekre szükség lesz.</p></li></ul></div><div class="admonitionblock caution"><table><tbody><tr><td class=icon><i class="fa icon-caution" title=Caution></i></td><td class=content><div class=paragraph><p>A bemutatott rendszer nem biztonságos. Helyezzük a hálózatunk egy jól védett részére, és a többi gép ne tekintse megbízhatónak.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A szakaszban szereplõ összes információt a FreeBSD 5.2.1-RELEASE változatával teszteltük.</p></div><div class=sect2><h3 id=_háttérinformációk>31.7.1. Háttérinformációk<a class=anchor href=#_háttérinformációk></a></h3><div class=paragraph><p>A lemez nélküli munkaállomások beállítása egyszerre adja magát és könnyen is elvéthetõ. Az elkövetett hibákat olykor számos okból kifolyólag nehéz felismerni. Például:</p></div><div class=ulist><ul><li><p>A fordítási idõben megadott beállítások mást eredményeznek futási idõben.</p></li><li><p>A hibaüzenetek gyakran titokzatosak vagy esetleg teljesen el is maradnak.</p></li></ul></div><div class=paragraph><p>Ezért ha valamennyire tisztában vagyunk a háttérben zajló folyamatokkal, akkor sokkal több eséllyel leszünk képesek megoldani a menet közben felmerülõ problémákat.</p></div><div class=paragraph><p>A rendszernek a sikeres felkapaszkodáshoz több mûveletet is végre kell hajtania:</p></div><div class=ulist><ul><li><p>A gépnek szüksége van olyan induló paraméterekhez, mint például az IP-cím, a végrehajtható állomány neve, a szerver neve, a gyökér elérési útja. Ezeket a DHCP vagy a BOOTP protokollok használatával adhatjuk meg. A DHCP a BOOTP kompatibilis kiterjesztése, ezért ugyanazokat a portokat és alapvetõ csomagformátumot alkalmazza.</p><div class=paragraph><p>A rendszerüket kizárólag BOOTP használatával is beállíthatjuk. A <a href="https://man.freebsd.org/cgi/man.cgi?query=bootpd&amp;sektion=8&amp;format=html">bootpd(8)</a> szerver az alap FreeBSD rendszer része.</p></div><div class=paragraph><p>A DHCP azonban rengeteg elõnnyel rendelkezik a BOOTP protokollal szemben (áttekinthetõbb konfigurációs állományok, a PXE használatának lehetõsége, illetve sok minden más, ami nem csak a lemez nélküli mûködéshez kellhet), ezért itt alapvetõen egy DHCP alapú konfigurációt mutatunk be, de ahol megoldható, megemlítjük a <a href="https://man.freebsd.org/cgi/man.cgi?query=bootpd&amp;sektion=8&amp;format=html">bootpd(8)</a> esetén alkalmas példákat is. A mintaként szolgáló konfiguráció az ISC DHCP szoftvercsomagot használja (a tesztszerverre ennek a 3.0.1.r12 verzióját telepítetük fel).</p></div></li><li><p>A gépnek egy vagy több programot kell a saját memóriájába áttöltenie. Erre vagy a TFTP vagy pedig az NFS alkalmas. A TFTP és az NFS között sok helyen fordítási idõben tudunk választani. Gyakori hibaforrás a protokollhoz rosszul megadott állománynevek használata: a TFTP általában az összes állományt a szerverrõl egyetlen könyvtárból tölti át, ezért arra számít, hogy a neveiket ehhez viszonyítva adjuk meg. Az NFS használata során azonban abszolút elérési utakat kell megadnunk.</p></li><li><p>A rendszer indítását lehetõvé tevõ közbensõ programokat és a rendszermagot valahogy inicializálni kell és elindítani. Ezen a területen több fontos változat kapott helyet:</p><div class=ulist><ul><li><p>A PXE a <a href="https://man.freebsd.org/cgi/man.cgi?query=pxeboot&amp;sektion=8&amp;format=html">pxeboot(8)</a> kódját fogja betölteni, ez lényegében a FreeBSD betöltõ harmadik fokozatának egy módosított változata. A <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> a mûködéséhez szükséges paramétereket a rendszer indításakor kapja meg, majd a vezérlés átadása elõtt ezeket a rendszermag környezetében hagyja. Ebben az esetben akár a <span class=filename>GENERIC</span> rendszermag is használható.</p></li><li><p>Az Etherboot kevesebb elõkészítéssel közvetlenül magát a rendszermagot tölti be. Ehhez azonban egy saját rendszermagot kell építeni, külön beállításokkal.</p><div class=paragraph><p>A PXE és az Etherboot egyaránt jól használható. Mivel azonban a rendszermagok általában a <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> kódjára hagyják a munka legnagyobb részét, ezért ahol lehetséges, a PXE megoldását érdemes alkalmazni.</p></div><div class=paragraph><p>Tehát ha az alaplapi BIOS és a hálózati kártya is támogatja a PXE használatát, akkor válasszunk inkább azt.</p></div></li></ul></div></li><li><p>Végezetül a gépnek valamilyen módon hozzá kell tudnia férnie az állományrendszerekhez. Erre többnyire az NFS jöhet szóba.</p></li></ul></div><div class=paragraph><p>A további részleket lásd a <a href="https://man.freebsd.org/cgi/man.cgi?query=diskless&amp;sektion=8&amp;format=html">diskless(8)</a> man oldalon.</p></div></div><div class=sect2><h3 id=_beállítási_útmutató>31.7.2. Beállítási útmutató<a class=anchor href=#_beállítási_útmutató></a></h3><div class=sect3><h4 id=_beállítás_a_isc_dhcp_használatával>31.7.2.1. Beállítás a ISC DHCP használatával<a class=anchor href=#_beállítás_a_isc_dhcp_használatával></a></h4><div class=paragraph><p>Az ISC DHCP szervere képes a BOOTP és DHCP kéréseket is megválaszolni.</p></div><div class=paragraph><p>Az ISC DHCP 3.0 nem az alaprendszer része, ezért a használatához elõször telepítenünk kell a <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp30-server/>net/isc-dhcp30-server</a> portot vagy a neki megfelelõ csomagot.</p></div><div class=paragraph><p>Ahogy feltelepítettük, le kell futtatnunk az ISC DHCP konfigurációs állományát (ezt általában <span class=filename>/usr/local/etc/dhcpd.conf</span> néven találjuk meg). A most következõ, megjegyzésekkel kiegészített példában egy <code>margaux</code> nevû gép az Etherboot, valamint egy <code>corbieres</code> nevû gép PXE használatával akar kapcsolódni:</p></div><div class="literalblock programlisting"><div class=content><pre>default-lease-time 600;
max-lease-time 7200;
authoritative;

option domain-name &#34;minta.com&#34;;
option domain-name-servers 192.168.4.1;
option routers 192.168.4.1;

subnet 192.168.4.0 netmask 255.255.255.0 {
  use-host-decl-names on; <i class=conum data-value=1></i><b>(1)</b>
  option subnet-mask 255.255.255.0;
  option broadcast-address 192.168.4.255;

  host margaux {
    hardware ethernet 01:23:45:67:89:ab;
    fixed-address margaux.minta.com;
    next-server 192.168.4.4; <i class=conum data-value=2></i><b>(2)</b>
    filename &#34;/data/misc/kernel.diskless&#34;; <i class=conum data-value=3></i><b>(3)</b>
    option root-path &#34;192.168.4.4:/data/misc/diskless&#34;; <i class=conum data-value=4></i><b>(4)</b>
  }
  host corbieres {
    hardware ethernet 00:02:b3:27:62:df;
    fixed-address corbieres.minta.com;
    next-server 192.168.4.4;
    filename &#34;pxeboot&#34;;
    option root-path &#34;192.168.4.4:/data/misc/diskless&#34;;
  }
}</pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Ez a beállítás arra utasítja a dhcpd démont, hogy a lemez nélküli gép hálózati neveként a <code>host</code> deklarációban megadott értéket küldje el. Ezt úgyis meg lehet csinálni, hogy felvesszünk egy <code>option host-name margaux</code> részt a <code>host</code> deklarációk közé.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>A <code>next-server</code> direktíva a betöltõ vagy a rendszermag betöltéséért felelõs TFTP vagy NFS szervert jelöli ki (alapértelmezés szerint ez megegyezik a DHCP szerverrel).</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>A <code>filename</code> direktíva azt az állományt adja meg, amelyet az Etherboot vagy a PXE a következõ végrehajtási lépésben betölt. Ezt a kiválasztott átviteli módnak megfelelõen kell megadni. Az Etherboot lefordítható az NFS vagy a TFTP használatával is. A FreeBSD port alapból az NFS támogatását tartalmazza. A PXE a TFTP protokollt használja, ezért itt relatív állományneveket adunk meg (ez persze a TFTP szerver beállításaitól függ, de általában ez a jellemzõ). Sõt, a PXE a <span class=filename>pxeboot</span> állományt tölti be, nem is a rendszermagot. Léteznek további érdekes lehetõségek is, mint például a <span class=filename>pxeboot</span> állomány betöltése a FreeBSD CD-jén található <span class=filename>/boot</span> könyvtárból (mivel a <a href="https://man.freebsd.org/cgi/man.cgi?query=pxeboot&amp;sektion=8&amp;format=html">pxeboot(8)</a> a <span class=filename>GENERIC</span> rendszermagot képes betölteni, ezért a PXE használatával akár egy távoli CD-meghajtóról is indíthatjuk a rendszert).</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>A <code>root-path</code> opció a rendszer indításához használt gyökér állományrendszert nevezi meg, amelyet többnyire az NFS jelölési módszere szerint kell megadni. A PXE használata során el lehet hagyni a gép IP-címét egészen addig, amíg nem engedélyezzük a rendszermagban a BOOTP beállítást. Az NFS szerver ekkor megegyzik a TFTP szerverrel.</td></tr></tbody></table></div></div><div class=sect3><h4 id=_beállítás_a_bootp_használatával>31.7.2.2. Beállítás a BOOTP használatával<a class=anchor href=#_beállítás_a_bootp_használatával></a></h4><div class=paragraph><p>Itt a bootpd (egyetlen kliensre korlátozott) beállítását láthatjuk. Ezt az <span class=filename>/etc/bootptab</span> állományba tegyük.</p></div><div class=paragraph><p>Ne feledjük, hogy a BOOTP használatához az Etherboot portot a <code>NO_DHCP_SUPPORT</code> beállítással kell fordítanunk, miközben a PXE esetében kell a DHCP. Egyébként a bootpd egyedüli nyilvánvaló elõnye csupán annyi, hogy az alaprendszer része.</p></div><div class="literalblock programlisting"><div class=content><pre>.def100:\
  :hn:ht=1:sa=192.168.4.4:vm=rfc1048:\
  :sm=255.255.255.0:\
  :ds=192.168.4.1:\
  :gw=192.168.4.1:\
  :hd=&#34;/tftpboot&#34;:\
  :bf=&#34;/kernel.diskless&#34;:\
  :rp=&#34;192.168.4.4:/data/misc/diskless&#34;:

margaux:ha=0123456789ab:tc=.def100</pre></div></div></div><div class=sect3><h4 id=_a_rendszer_elõkészítése_az_etherboot_számára>31.7.2.3. A rendszer elõkészítése az Etherboot számára<a class=anchor href=#_a_rendszer_elõkészítése_az_etherboot_számára></a></h4><div class=paragraph><p>Az <a href=http://etherboot.sourceforge.net>Etherboot honlapján </a>találhatunk egy <a href=http://etherboot.sourceforge.net/doc/html/userman/t1.html>minden részletre kiterjedõ dokumentációt (angolul)</a>, amely elsõsorban ugyan a Linux típusú rendszerek számára íródott, de ettõl függetlenül még hasznos információkat tartalmaz. A továbbiakban csak annyit szeretnénk körvonalazni, hogy az Etherboot miként bírható mûködésre FreeBSD rendszerekkel.</p></div><div class=paragraph><p>Elõször telepítenünk kell a <a class=package href=https://cgit.freebsd.org/ports/tree/net/etherboot/>net/etherboot</a> csomagot vagy portot.</p></div><div class=paragraph><p>Az Etherboot beállítását (vagyis a TFTP használatának megadását az NFS helyett) az Etherboot forrását tartalmazó könyvtárban található <span class=filename>Config</span> állomány megfelelõ átírásával tudjuk megtenni.</p></div><div class=paragraph><p>Itt most floppyról fogjuk indítani a rendszert. A többi módszerrel (PROM vagy MS-DOS® program) kapcsolatban olvassuk el az Etherboot dokumentációját.</p></div><div class=paragraph><p>A rendszerindító lemez elkészítéséhez tegyünk egy lemezt annak a gépnek a meghajtójába, ahová az Etherboot felkerült. Váltsunk az Etherboot könyvtárán belül az <span class=filename>src</span> alkönyvtárba és gépeljük be:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmake bin32/eszköztípus.fd0</span></code></pre></div></div><div class=paragraph><p>Az <em>eszköztípus</em> a lemez nélküli munkaállomás Ethernet kártyájától függ. Az ugyanebben a könyvtárban található <span class=filename>NIC</span> állományból tudjuk kiolvasni, hogy az adott kártyához melyik <em>eszköztípus</em> tartozik.</p></div></div><div class=sect3><h4 id=_a_rendszer_indítása_pxe_használatával>31.7.2.4. A rendszer indítása PXE használatával<a class=anchor href=#_a_rendszer_indítása_pxe_használatával></a></h4><div class=paragraph><p>Alapértelmezés szerint a <a href="https://man.freebsd.org/cgi/man.cgi?query=pxeboot&amp;sektion=8&amp;format=html">pxeboot(8)</a> betöltõ a rendszermagot NFS-en keresztül tölti be. Ha az <span class=filename>/etc/make.conf</span> állományban a <code>LOADER_TFTP_SUPPORT</code> beállítást adjuk meg, akkor TFTP támogatással is lefordítható. Ezzel kapcsolatban a <span class=filename>/usr/shared/examples/etc/make.conf</span> állományban található megjegyzéseket érdemes elolvasnunk.</p></div><div class=paragraph><p>A <span class=filename>make.conf</span> állományban még további két másik hasznos opciót is találhatunk a soros vonali konzollal üzemelõ lemez nélküli gépek számára: az egyik a <code>BOOT_PXELDR_PROBE_KEYBOARD</code>, a másik pedig a <code>BOOT_PXELDR_ALWAYS_SERIAL</code>.</p></div><div class=paragraph><p>A gép indításakor úgy tudjuk beüzemelni a PXE használatát, ha a BIOS beállításai között a <code>Boot from network</code> opciót választjuk ki, vagy a gép bekapcsolása után lenyomjuk hozzá a megfelelõ funkcióbillentyût.</p></div></div><div class=sect3><h4 id=_a_tftp_és_nfs_szerverek_beállítása>31.7.2.5. A TFTP és NFS szerverek beállítása<a class=anchor href=#_a_tftp_és_nfs_szerverek_beállítása></a></h4><div class=paragraph><p>Ha a PXE vagy az Etherboot a TFTP protokollt használja, akkor az állományszerveren a tftpd démont kell elindítani:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Készítsünk egy könyvtárat, ahonnan majd a tftpd küldi az állományokat, például legyen ez a <span class=filename>/tftpboot</span>.</p></li><li><p>Vegyük fel a következõ sort az <span class=filename>/etc/inetd.conf</span> állományunkba:</p><div class="literalblock programlisting"><div class=content><pre>tftp	dgram	udp	wait	root	/usr/libexec/tftpd	tftpd -l -s /tftpboot</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A tapasztalat szerint egyes PXE verziók a TFTPTCP alapú változatát használják. Ebben az esetben vegyünk fel még egy második sort is, ahol a <code>dgram udp</code> részt <code>stream tcp</code>-re cseréljük.</p></div></td></tr></tbody></table></div></li><li><p>Mondjuk meg az inetd démonnak, hogy olvassa újra a konfigurációs állományát. Az alábbi parancs megfelelõ mûködéséhez Az <code>inetd_enable="YES"</code> sornak szerepelnie kell az <span class=filename>/etc/rc.conf</span> állományban:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/inetd restart</span></code></pre></div></div></li></ol></div></div></div><div class=paragraph><p>A <span class=filename>tftpboot</span> könyvtárat bárhova rakhatjuk a szerveren. Viszont az <span class=filename>inetd.conf</span> és <span class=filename>dhcpd.conf</span> állományokban ezt ne felejtsük fel megadni.</p></div><div class=paragraph><p>Minden esetben engedélyeznünk kell az NFS használatát és vele együtt exportálni az NFS szerverrõl elérni kívánt állományrendszereket.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Az <span class=filename>/etc/rc.conf</span> állományba tegyük bele a következõt:</p><div class="literalblock programlisting"><div class=content><pre>nfs_server_enable=&#34;YES&#34;</pre></div></div></li><li><p>Az <span class=filename>/etc/exports</span> állományban a lemez nélküli rendszereknek szánt gyökérkönyvtárat tegyük elérhetõvé (a példában írjuk át a kötet csatlakozási pontját és a <em>margaux corbieres</em> helyére állítsuk be a saját lemez nélküli munkaállomásaink neveit:</p><div class="literalblock programlisting"><div class=content><pre>/data/misc -alldirs -ro margaux corbieres</pre></div></div></li><li><p>Kérjük meg a mountd démont, hogy olvassa újra a konfigurációs állományát. Elõfordulhat azonban, hogy ehhez elõször az NFS szolgáltatást kell engedélyezni az <span class=filename>/etc/rc.conf</span> állományból és újraindítani a gépet.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/mountd restart</span></code></pre></div></div></li></ol></div></div></div></div><div class=sect3><h4 id=_lemez_nélküli_rendszermag_fordítása>31.7.2.6. Lemez nélküli rendszermag fordítása<a class=anchor href=#_lemez_nélküli_rendszermag_fordítása></a></h4><div class=paragraph><p>Ha az Etherboot használata mellett döntünk, akkor a lemez nélküli kliensek számára a rendszermagot a következõ beállítások használatával kell újrafordítani (a megszokottak mellett):</p></div><div class="literalblock programlisting"><div class=content><pre>options     BOOTP          # BOOTP-n keresztül kérünk IP-címet és hálózati nevet
options     BOOTP_NFSROOT  # a BOOTP-tõl kapott információk alapján csatoljuk a gyökeret NFS-en keresztül</pre></div></div><div class=paragraph><p>Ezek mellett valószínûleg szükségünk lesz a <code>BOOTP_NFSV3</code>, <code>BOOT_COMPAT</code> és <code>BOOTP_WIRED_TO</code> beállítások megadására is (lásd a <span class=filename>NOTES</span> állományt).</p></div><div class=paragraph><p>A beállítások nevei régrõl származnak és némileg félrevezetõek lehetnek, mivel valójában semmit sem változtatnak a rendszermagban levõ DHCP vagy a BOOTP rutinok használatában (egyébként meg lehet adni vagy az egyik vagy a másik protokoll kizárólágos használatát is).</p></div><div class=paragraph><p>Fordítsuk le a rendszermagot (lásd <a href=../kernelconfig/#kernelconfig>A FreeBSD rendszermag testreszabása</a>), és másoljuk a <span class=filename>dhcpd.conf</span> állományban megadott helyre.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Amikor a PXE protokollt használjuk, a rendszermagot nem fontos az imént felsorolt paraméterekkel fordítanunk (habár ajánlatos). Az engedélyezésükkel több DHCP kérés keletkezik a rendszermag elindulása közben, ezért kisebb a kockázata annak, hogy a <a href="https://man.freebsd.org/cgi/man.cgi?query=pxeboot&amp;sektion=8&amp;format=html">pxeboot(8)</a> által bizonyos esetekben megszerzett és az új értékek között valamilyen ellentmondás jön létre. A használatuk egyik elõnye, hogy így mellékhatásként a hálózati nevünket is megkapjuk. Ellenkezõ esetben erre is találnunk kellene valamilyen módot, például fenntartani egy-egy <span class=filename>rc.conf</span> állományt minden kliensen.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Az Etherboot csak akkor lesz képes betölteni a rendszermagot, ha device hinteket is beépítünk. Ezt a következõ beállítással tudjuk megoldani (errõl bõvebben lásd a <span class=filename>NOTES</span> állomány megjegyzéseit):</p></div><div class="literalblock programlisting"><div class=content><pre>hints		&#34;GENERIC.hints&#34;</pre></div></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_a_rendszerindító_állományrendszer_elõkészítése>31.7.2.7. A rendszerindító állományrendszer elõkészítése<a class=anchor href=#_a_rendszerindító_állományrendszer_elõkészítése></a></h4><div class=paragraph><p>A <span class=filename>dhcpd.conf</span> állomány <code>root-path</code> beállításának megfelelõen hozzunk létre a rendszer indítására alkalmas gyökér állományrendszert.</p></div><div class=sect4><h5 id=_az_állományrendszer_feltöltése_a_make_world_paranccsal>31.7.2.7.1. Az állományrendszer feltöltése a <code>make world</code> paranccsal<a class=anchor href=#_az_állományrendszer_feltöltése_a_make_world_paranccsal></a></h5><div class=paragraph><p>Ezzel a módszerrel a <code>DESTDIR</code> könyvtárba pillanatok alatt telepíteni tudunk egy teljes szûz rendszert (és nem csak a rendszerindító állományrendszert). Ehhez mindössze csak annyit kell tenni, hogy lefuttatjuk a következõ szkriptet:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
export DESTDIR=/data/misc/diskless
mkdir -p ${DESTDIR}
cd /usr/src; make buildworld &amp;&amp; make buildkernel
make installworld &amp;&amp; make installkernel
cd /usr/src/etc; make distribution</pre></div></div><div class=paragraph><p>Miután végzett, már csak a <code>DESTDIR</code> könyvtárban található <span class=filename>/etc/rc.conf</span> és <span class=filename>/etc/fstab</span> állományokat kell az igényeinkhez igazítani.</p></div></div></div><div class=sect3><h4 id=_a_lapozóterület_beállítása>31.7.2.8. A lapozóterület beállítása<a class=anchor href=#_a_lapozóterület_beállítása></a></h4><div class=paragraph><p>Amennyiben szükséges, a szerveren található lapozóállományt NFS-en keresztül el tudjuk érni.</p></div><div class=sect4><h5 id=_lapozás_nfs_sel>31.7.2.8.1. Lapozás NFS-sel<a class=anchor href=#_lapozás_nfs_sel></a></h5><div class=paragraph><p>A rendszermag maga nem támogatja az NFS alapú lapozás engedélyezését a rendszer indításakor. A lapozóállományt ezért a rendszerindító szkripteken keresztül aktiváljuk, amelyekben csatlakoztatunk egy írható állományrendszert, ahol létrehozzuk és engedélyezzük a lapozóállományt. Tetszõleges méretû lapozóállományt például így tudunk készíteni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=/a/lapozóállomány/helye bs=1k count=1 oseek=100000</span></code></pre></div></div><div class=paragraph><p>Az engedélyezéséhez pedig a következõ sort kell felvenni az <span class=filename>rc.conf</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>swapfile=/a/lapozóállomány/helye</pre></div></div></div></div><div class=sect3><h4 id=_egyéb_problémák>31.7.2.9. Egyéb problémák<a class=anchor href=#_egyéb_problémák></a></h4><div class=sect4><h5 id=_írásvédett_usr_használata>31.7.2.9.1. Írásvédett <span class=filename>/usr</span> használata<a class=anchor href=#_írásvédett_usr_használata></a></h5><div class=paragraph><p>Ha a lemez nélküli munkaállomáson X szervert akarunk futtatni, akkor az XDM konfigurációs állományait kicsit módosítanunk kell, mert alapértelmezés szerint a <span class=filename>/usr</span> könyvtárban hozza létre a naplókat.</p></div></div><div class=sect4><h5 id=_nem_freebsd_s_szerver_használata>31.7.2.9.2. Nem FreeBSD-s szerver használata<a class=anchor href=#_nem_freebsd_s_szerver_használata></a></h5><div class=paragraph><p>Amikor a rendszer indításához használt állományrendszert nem egy FreeBSD alapú számítógépen tároljuk, akkor elõször ezt egy FreeBSD-s gépen kell elkészíteni, majd a <code>tar</code> vagy <code>cpio</code> segítségével átmásolni a megfelelõ helyre.</p></div><div class=paragraph><p>Ilyen helyzetekben gyakran gondok adódhatnak olyan speciális állományokkal, mint például amelyek a <span class=filename>/dev</span> könyvtárban találhatóak, mivel a fõ- és aleszközazonosítók tárolására szánt méret különbözhet. Ezt úgy oldhatjuk meg, ha exportálunk egy könyvtárat a nem FreeBSD alapú szerveren, ezt csatlakoztatjuk a FreeBSD-s gépen, majd a <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;format=html">devfs(5)</a> segítségével a eszközleírókat a felhasználó számára észrevétlen módon foglaljuk le.</p></div></div></div></div></div></div><div class=sect1><h2 id=network-isdn>31.8. ISDN<a class=anchor href=#network-isdn></a></h2><div class=sectionbody><div class=paragraph><p>Az ISDN technológiai és hardveres hátterérõl sokat megtudhatunk <a href=http://www.alumni.caltech.edu/~dank/isdn/>Dan Kegel ISDN-rõl szóló oldalán (angolul)</a>.</p></div><div class=paragraph><p>Az ISDN használatát röviden így foglalhatnánk össze:</p></div><div class=ulist><ul><li><p>Ha Európában élünk, akkor minden bizonnyal az ISDN kártyákkal foglalkozó szakaszt érdemes elolvasnunk.</p></li><li><p>Ha elsõsorban betárcsázós ISDN-nel szeretnénk csatlakozni az internetre egy internet-szolgáltatón keresztül, akkor a terminál adaptereket tárgyaló szakaszt nézzük meg. A szolgáltatók váltásakor ezzel jár a legtöbb rugalmasság és a legkevesebb probléma.</p></li><li><p>Ha két helyi hálózat összekötésére használjuk, vagy az internethez egy bérelt ISDN vonalon keresztül kapcsolódunk, akkor egy önálló útválasztó vagy hálózati híd beállításában érdemes gondolkodnunk.</p></li></ul></div><div class=paragraph><p>A költség fontos szerepet játszik az elfogadható megoldás kiválasztásában. A most következõ lehetõségeket a legolcsóbbtól indulva kezdjük el felsorolni egészen a legdrágábbig.</p></div><div class=sect2><h3 id=network-isdn-cards>31.8.1. ISDN kártyák<a class=anchor href=#network-isdn-cards></a></h3><div class=paragraph><p>A FreeBSD-ben megtalálható ISDN implementáció csak a DSS1/Q.931 (más néven Euro-ISDN) szabvány szerint gyártott passzív kártyákat támogatja. Ismer azonban egyes olyan aktív kártyákat is, amelyeknél a firmware további más jelkezelési protokollokat is támogat. Ilyen többek közt az elsõként támogatott Primary Rate (PRI) ISDN kártya.</p></div><div class=paragraph><p>Az isdn4bsd szoftver segítségével kapcsolódni tudunk más ISDN útválasztókhoz IP-n keresztül a nyers HDLC felett, vagy szinkron PPP használatával. Mindezeket a rendszermagban található PPP-re vagy az <code>isppp</code>-re építkezik.</p></div><div class=paragraph><p>FreeBSD alatt egyre több PC-s ISDN kártyához készül el a támogatás, és a visszajelzések azt mutatják, hogy Európában és a világ minden részén sikerrel használják ezeket.</p></div><div class=paragraph><p>A passzív ISDN kártyák közül is leginkább az Infineon (korábban Siemens) gyártmányú ISAC/HSCX/IPAC ISDN chipkészletek támogatottak, de a Cologne chippel rendelkezõ (de csak ISA buszos) ISDN kártyák, a Winbond W6692 chipes PCI buszos kártyák, és a Tiger300/320/ISAC chipkészletek egyes változatai, valamint néhány gyártófüggõ chipkészlettel rendelkezõ kártya, mint például az AVM Fritz!Card PCI V.1.0 és az AVM Fritz!Card PnP is remekül mûködik.</p></div><div class=paragraph><p>Jelenleg a következõ aktív ISDN kártyákat támogatja a rendszer: AVM B1 (ISA és PCI) BRI kártyák és az AVM T1 PCI PRI kártyák.</p></div><div class=paragraph><p>Az isdn4bsd dokumentációját a rendszerünkön belül a <span class=filename>/usr/shared/examples/isdn/</span> könyvtárban találhatjuk meg, vagy közvetlenül <a href=http://www.freebsd-support.de/i4b/>az isdn4bsd honlapján</a>, ahol több hivatkozást is találunk tippekre, hibajegyzékekre és bõségesebb dokumentációra, például <a href=http://people.FreeBSD.org/~hm/>az isdn4bsd saját kézikönyvére</a>.</p></div><div class=paragraph><p>Ha szeretnénk egy másik ISDN protokoll támogatásának kifejlesztésében résztvenni, vagy egy jelenleg még nem támogatott ISDN kártyát használhatóvá tenni, esetleg valamilyen más módon segíteni az isdn4bsd ügyét, vegyük fel a kapcsolatot Hellmuth Michaelis &lt;<a href=mailto:hm@FreeBSD.org>hm@FreeBSD.org</a>> fejlesztõvel.</p></div><div class=paragraph><p>Az isdn4bsd telepítésével, beállításával és hibaelhárításával kapcsolatos kérdéseinket a <a href=https://lists.FreeBSD.org/subscription/freebsd-isdn>freebsd-isdn</a> levelezési listán tehetjük fel.</p></div></div><div class=sect2><h3 id=_isdn_terminál_adapterek>31.8.2. ISDN terminál adapterek<a class=anchor href=#_isdn_terminál_adapterek></a></h3><div class=paragraph><p>Az ISDN számára olyanok a terminál adapterek, mint a hagyományos telefonvonalak számára a modemek.</p></div><div class=paragraph><p>A legtöbb terminál adapter a Hayes-modemek szabványos AT parancskészletét használja, és könnyen be lehet iktatni egy modem helyett.</p></div><div class=paragraph><p>A terminál adapterek alapvetõen ugyanúgy mûködnek, mint a modemek, kivéve, hogy egy átlagos modemnél jóval nagyobb adatátviteli sebességre képesek. Ezért a <a href=../ppp-and-slip/#ppp>PPP</a> kapcsolatunkat pontosan ugyanúgy kell beállítani, mint a modemek esetében. Ne felejtsük a soros pont sebességét a maximális értékre állítani.</p></div><div class=paragraph><p>A terminál adapterek használatának egyik legnagyobb elõnye, hogy segítségükkel dinamikus PPP-n keresztül tudunk az internet-szolgáltatónkhoz kapcsolódni. Mivel az IP-címtartomány egyre inkább szûkösebb, a legtöbb szolgáltató nem szívesen oszt ki bárkinek is statikus IP-címet. A legtöbb önálló útválasztó azonban nem képes alkalmazkodni az IP-címek dinamikus kiosztásához.</p></div><div class=paragraph><p>A terminál adapter az elérhetõ lehetõségeket és a kapcsolat stabilitását tekintve teljesen a PPP démontól függ. Emiatt egy FreeBSD-s gépet könnyû modemrõl átállítani az ISDN használatára, ha már egyszer beállítottuk a PPP démont. Ezzel együtt azonban a PPP használata során tapasztalt problémák ugyanúgy ismét felmerülnek.</p></div><div class=paragraph><p>Ha a maximális stabilitásra van szükségünk, akkor a rendszermag <a href=../ppp-and-slip/#ppp>PPP</a> beállítását használjuk, és ne a <a href=../ppp-and-slip/#userppp>felhasználói PPP megoldást</a>.</p></div><div class=paragraph><p>A FreeBSD hivatalosan az alábbi terminál adaptereket ismeri:</p></div><div class=ulist><ul><li><p>Motorola BitSurfer és Bitsurfer Pro</p></li><li><p>Adtran</p></li></ul></div><div class=paragraph><p>Valószínûleg a többi terminál adapterrel is képes együttmûködni, mivel a terminál adapterek gyártói általában igyekeznek a termékeiket a szabványos modemes AT parancskészletével kompatibilissá tenni.</p></div><div class=paragraph><p>Az igazi probléma a külsõ terminál adapterekkel adódik, mivel, akárcsak a modemek esetében, egy nagyon jó soros kártyát igényelnek.</p></div><div class=paragraph><p>A soros eszközök mûködésének részleteit valamint az aszinkron és szinkron soros portok közti különbségeket a <a href=https://docs.freebsd.org/en/articles/serial-uart/>FreeBSD soros hardverekrõl</a> szóló cikkében olvashatjuk.</p></div><div class=paragraph><p>A terminál adaptereken keresztül elérhetõ sebességet a PC-kben található szabványos (aszinkron) soros port 115,2 Kb/mp-re korlátozza, még 128 Kb/mp-es adatátvitelû kapcsolatok esetében is. Az ISDN által nyújtott 128 Kb/mp kihasználásához a terminál adaptert egy szinkron soros kártyával kell összekötnünk.</p></div><div class=paragraph><p>Ne higyjük, hogy egy belsõ terminál adapter megvásárlásával megmenekülünk ettõl a gondtól. A belsõ terminál adapterekbe egyszerûen csak egy sima szabványos PC-s soros portot építettek bele. Mindössze egy soros kábelt és egy konnektort takarítunk meg velük.</p></div><div class=paragraph><p>A terminál adapterhez csatlakozó szinkron kártyák legalább olyan gyorsak, mint egy önálló útválasztó, és egy egyszerû 386-osra épülõ FreeBSD rendszerrel talán még rugalmasabban is kezelhetõek.</p></div><div class=paragraph><p>A terminál adapter plusz szinkron kártya kontra önálló útválasztó kérdése már hitkérdéssé fajult, amirõl igen sokat vitatkoztak szerte a levelezési listákon. A teljes okfejtés elolvasásához az <a href=https://www.FreeBSD.org/search/>archívum</a> böngészését javasoljuk.</p></div></div><div class=sect2><h3 id=_önálló_isdn_hálózati_hidak_és_útválasztók>31.8.3. Önálló ISDN hálózati hidak és útválasztók<a class=anchor href=#_önálló_isdn_hálózati_hidak_és_útválasztók></a></h3><div class=paragraph><p>Az ISDN hidak vagy útválasztók nem egészen a FreeBSD vagy operációs rendszerek területéhez tartoznak. Az útválasztás és a hálózatok hidak alapjainak a számítógépes hálózatokról szóló szakirodalomban járhatunk utána.</p></div><div class=paragraph><p>Ebben a szakaszban a hálózati híd és az útválasztó kifejezéseket egymás szinonímájaként fogjuk használni.</p></div><div class=paragraph><p>Ahogy az olcsóbb ISDN útválasztók és hidak árai egyre jobban csökkennek, ezért egyre inkább népszerûbbé válnak. Az ISDN útválasztó egy apró doboz, amelyet közvetlenül a helyi Ethernet hálózatunkra tudunk csatlakoztatni, és a többi útválasztóhoz vagy hídhoz kapcsolódik. A benne található szoftverrel képes kommunikálni a PPP vagy más egyéb népszerû protokollokon keresztül.</p></div><div class=paragraph><p>Az útválasztó egy szabványos terminál adapternél sokkal nagyobb adatátvitelt tesz lehetõvé, mivel a teljes szinkron ISDN kapcsolatot képes kihasználni.</p></div><div class=paragraph><p>Az ISDN útválasztókkal és hidakkal kapcsolatban az egyik legnagyobb problémát a különbözõ gyártók közti eltérések jelenthetik. Ha egy szolgáltatóhoz akarunk ezen a módon csatlakozni, akkor érdemes elõzetesen egyeztetni az igényeinket velük.</p></div><div class=paragraph><p>Ha két helyi hálózati szegmenst akarunk összekapcsolni, mint például az otthoni és az irodai hálózatot, akkor ez a megoldás jár a legkevesebb karbantartási költséggel. Mivel ekkor mi magunk vásároljuk a kapcsolat mind a két oldalára a felszerelést, biztosak lehetünk benne, hogy az így létrehozott összekötettés mûködni fog.</p></div><div class=paragraph><p>Például, ha egy otthon vagy a vállalat egy fiókjánál levõ gépet akarjuk összekötni az igazgatóság hálózatával, akkor a következõ felállást érdemes követnünk:</p></div><div class=exampleblock><div class=title>Példa 4. Egy otthoni vagy egy fiókbeli hálózat</div><div class=content><div class=paragraph><p>A hálózat busz topológiájú és 10 Base 2 Ethernetet használ ("thinnet"). Ha szükséges, akkor az útválasztót egy AUI/10BT adó-vevõvel csatlakoztassuk a hálózati kábelre.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/advanced-networking/isdn-bus.png alt="10 Base 2 Ethernet"></div></div><div class=paragraph><p>Ha az otthoni vagy fiókbeli számítógép az egyedüli, akkor egy keresztkötésû sodrott érpár kábellel akár közvetlenül is csatlakozhatunk az útválasztóhoz.</p></div></div></div><div class=exampleblock><div class=title>Példa 5. Az igazgatósági iroda vagy egy másik helyi hálózat</div><div class=content><div class=paragraph><p>A hálózat csillag topológiájú, és 10 Base T Ethernet kábelezésû ("sodrott érpár").</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/advanced-networking/isdn-twisted-pair.png alt="Az ISDN hálózat felépítése"></div></div></div></div><div class=paragraph><p>A legtöbb útválasztó/híd elõnye, hogy <em>egyszerre</em> 2 <em>egymástól független</em> PPP kapcsolatot tudunk felépíteni velük 2 egymástól független géppel. Ezt a legtöbb terminál adapter nem támogatja, kivéve azok a (általában drága) típusok, amelyek két soros porttal rendelkeznek. Ezt ne tévesszük össze a csatornák nyalábolásával, az MPP-vel és a többivel.</p></div><div class=paragraph><p>Ez nagyon hasznos lehet például olyan esetekben, amikor van egy dedikált ISDN kapcsolatunk az irodában, amelyet ugyan szeretnénk megcsapolni, de nem szeretnénk a másik ISDN vonalat is elrabolni. Az irodában levõ A útválasztó képes a dedikált B csatornájú kapcsolaton (64 Kb/mp) keresztül elérni az internetet, miközben a másik B csatornát ettõl független adatkapcsolatra használja. A második B csatorna így használható betárcsázásra, kitárcsázásra vagy a másik B csatornával együtt dinamikus nyalábolásra (MPP stb.) a nagyobb sávszélesség elérése érdekében.</p></div><div class=paragraph><p>Az Ethernetes híd nem IP alapú forgalmat is képes továbbítani, ezért rajta keresztül akár IPX vagy SPX és más egyéb protokollokat is használni tudunk.</p></div></div></div></div><div class=sect1><h2 id=network-natd>31.9. Hálózati címfordítás<a class=anchor href=#network-natd></a></h2><div class=sectionbody><div class=sect2><h3 id=network-natoverview>31.9.1. Áttekintés<a class=anchor href=#network-natoverview></a></h3><div class=paragraph><p>A FreeBSD hálózati címfordításért felelõs démonprogramja, a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> (Network Address Translation daemon), a beérkezõ nyers IP csomagokat dolgozza fel, és a helyi gépek forráscímét kicserélve visszailleszti ezeket a csomagokat a kimenõ folyamba. A <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> mindezt úgy teszi a forrás IP-címekkel és portokkal, hogy amikor az adat visszaérkezik, akkor képes lesz megmondani a csomag eredeti küldõjét és visszaküldeni neki a választ.</p></div><div class=paragraph><p>A hálózati címfordítást általában az internet-kapcsolatok megosztásánál alkalmazzuk.</p></div></div><div class=sect2><h3 id=network-natsetup>31.9.2. A hálózat felépítése<a class=anchor href=#network-natsetup></a></h3><div class=paragraph><p>Az IPv4 világában egyre jobban fogyó IP-címek és az egyre növekvõ számú, nagysebességre vágyó, például kábeles vagy DSL-es fogyasztók miatt az igény is egyre nagyobb az internet-kapcsolatok megosztására. Ha több számítógéppel szeretnénk egyetlen kapcsolaton és egy IP-címen keresztül kapcsolódni az internetre, akkor ehhez a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> tökéletes választás.</p></div><div class=paragraph><p>Az esetek többségében a felhasználók egy kábeles vagy DSL vonalra csatlakoznak, melyhez egyetlen IP-cím tartozik, és ezen a gépen keresztül szeretnék elérni az internetet a helyi hálózaton levõ többi géprõl.</p></div><div class=paragraph><p>Ezt úgy tudjuk elérni, ha az internethez kapcsolódó FreeBSD-s gépet átjárónak állítjuk be. Ebben az átjáróban legalább két hálózati felületnek kell léteznie - az egyikkel az internetes útválasztóhoz, a másikkal pedig a helyi hálózathoz kapcsolódik. A belsõ hálózaton levõ gépek egy hub vagy egy switch segítségével csatlakoznak egymáshoz.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Több módon is el tudjuk érni a belsõ hálózatról az internetet egy FreeBSD-s átjárón keresztül. Ebben a példában most csak olyan átjárókkal foglalkozunk, amelyekben legalább két hálózati kártya található.</p></div></td></tr></tbody></table></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/advanced-networking/natd.png alt="A hálózat felosztása"></div></div><div class=paragraph><p>Egy ehhez hasonló beállítás igen gyakori a megosztott internet-kapcsolatok esetében. A helyi hálózat egyik gépe csatlakozik az internetre. A többi gép ezen az "átjárón" keresztül éri el az internetet.</p></div></div><div class=sect2><h3 id=network-netdloaderconfiguration>31.9.3. A rendszerbetöltõ beállítása<a class=anchor href=#network-netdloaderconfiguration></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> mûködéséhez szükséges címfordítási támogatást a <span class=filename>GENERIC</span> típusú rendszermagok nem tartalmazzák, viszont a <span class=filename>/boot/loader.conf</span> megfelelõ paraméterezésével a rendszer betöltése közben ezt hozzá tudjuk adni:</p></div><div class="literalblock programlisting"><div class=content><pre>ipfw_load=&#34;YES&#34;
ipdivert_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Valamint a <code>net.inet.ip.fw.default_to_accept</code> változót állítsuk az <code>1</code> értékre.</p></div><div class="literalblock programlisting"><div class=content><pre>net.inet.ip.fw.default_to_accept=&#34;1&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ez utóbbi beállítást leginkább a tûzfal és a címfordítást végzõ átjáró próbálgatásakor érdemes alkalmazni. Ilyenkor ugyanis az <a href="https://man.freebsd.org/cgi/man.cgi?query=ipfw&amp;sektion=8&amp;format=html">ipfw(8)</a> alapértelmezett módon az <code>allow ip from any to any</code> (minden forgalom engedélyezett) szabályt követi, és nem pedig a kevésbé barátságos <code>deny ip from any to any</code> (minden forgalom tiltott) szabályt. A rendszer újraindításakor így valamivel nehezebb lesz kizárnunk magunkat a szabályok megadása során.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=network-natdkernconfiguration>31.9.4. A rendszermag beállítása<a class=anchor href=#network-natdkernconfiguration></a></h3><div class=paragraph><p>Amikor viszont nincs lehetõségünk modulok használatára, vagy szeretnénk minden igényelt funkciót beépíteni a rendszermagba, akkor a rendszermag beállításait tartalmazó állományban a következõket kell megadnunk:</p></div><div class="literalblock programlisting"><div class=content><pre>options IPFIREWALL
options IPDIVERT</pre></div></div><div class=paragraph><p>A fentiek mellett még ezeket a lehetõségeket tudjuk választani:</p></div><div class="literalblock programlisting"><div class=content><pre>options IPFIREWALL_DEFAULT_TO_ACCEPT
options IPFIREWALL_VERBOSE</pre></div></div></div><div class=sect2><h3 id=network-natdsystemconfiguration>31.9.5. A rendszerindítás beállítása<a class=anchor href=#network-natdsystemconfiguration></a></h3><div class=paragraph><p>A tûzfal és a hálózati címfordítás beindításához a következõknek kell az <span class=filename>/etc/rc.conf</span> állományban lennie:</p></div><div class="literalblock programlisting"><div class=content><pre>gateway_enable=&#34;YES&#34; <i class=conum data-value=1></i><b>(1)</b>
firewall_enable=&#34;YES&#34; <i class=conum data-value=2></i><b>(2)</b>
firewall_type=&#34;OPEN&#34; <i class=conum data-value=3></i><b>(3)</b>
natd_enable=&#34;YES&#34;
natd_interface=&#34;fxp0&#34; <i class=conum data-value=4></i><b>(4)</b>
natd_flags=&#34;&#34; <i class=conum data-value=5></i><b>(5)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>A gépet átjárónak állítja be. Hatása megegyezik a <code>sysctl net.inet.ip.forwarding=1</code> parancs kiadásával.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>A rendszer indításakor engedélyezi az <span class=filename>/etc/rc.firewall</span> állományban szereplõ tûzfalszabályok használatát.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Egy olyan elõre definiált tûzfalat ad meg, amely alapból mindent beenged. Az <span class=filename>/etc/rc.firewall</span> állományban találhatjuk a többi típust.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Megadja, hogy melyik felületen továbbítsunk csomagokat az internet felé (ez a felület csatlakozik az internetre).</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Itt szerepel minden további paraméter, amelyet még az indításkor át kell adnunk a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> démonnak.</td></tr></tbody></table></div><div class=paragraph><p>Amikor megadjuk ezeket a beállításokat az <span class=filename>/etc/rc.conf</span> állományban, pontosan ugyanaz történik, mintha a <code>natd -interface fxp0</code> parancsot adtunk volna ki a rendszer indításakor. Ez tehát manuálisan is elindítható.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ha túlságosan sok paramétert akarunk egyszerre beállítani <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> használatához, akkor akár egy külön konfigurációs állományt is megadhatunk. Ebben az esetben a konfigurációs állományt a következõ módon kell megjelölni az <span class=filename>/etc/rc.conf</span> állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>natd_flags=&#34;-f /etc/natd.conf&#34;</pre></div></div><div class=paragraph><p>Ekkor a <span class=filename>/etc/natd.conf</span> állomány fogja tartalmazni a beállításokat, soronként egyet. Például a következõ szakaszban ez lesz a tartalma:</p></div><div class="literalblock programlisting"><div class=content><pre>redirect_port tcp 192.168.0.2:6667 6667
redirect_port tcp 192.168.0.3:80 80</pre></div></div><div class=paragraph><p>A konfigurációs állományról és az <code>-f</code> opció használatával kapcsolatban olvassuk el a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> man oldalát.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A helyi hálózaton mindegyik gépnek az <a href=ftp://ftp.isi.edu/in-notes/rfc1918.txt>RFC 1918</a> által megadott privát IP-címterekbõl származó címet kell használnia, és az alapértelmezett átjárónak mindenhol a natd démont futtató gép IP-címét kell megadni.</p></div><div class=paragraph><p>Például a belsõ hálózaton található <code>A</code> és <code>B</code> kliensek IP-címei rendre <code>192.168.0.2</code> és <code>192.168.0.3</code>, míg a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> démont futtató gép belsõ címe <code>192.168.0.1</code>. Az <code>A</code> és a <code>B</code> kliens alapértelmezett átjáróját a natd gépre, vagyis a <code>192.168.0.1</code> címre kell beállítanunk. A natd gép külsõ, avagy internetes felülete semmilyen további módosítást nem igényel a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> mûködéséhez.</p></div></div><div class=sect2><h3 id=network-natdport-redirection>31.9.6. A portok átirányítása<a class=anchor href=#network-natdport-redirection></a></h3><div class=paragraph><p>A <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> alkalmazásának hátránya, hogy a belsõ hálózatra csatlakozó kliensek az internetrõl nem érhetõek el. Tehát a helyi hálózat kliensei képesek elérni a külvilágot, de az visszafelé már nem igaz. Ez akkor jelent igazából problémát, ha az egyik belsõ kliensen szolgáltatásokat akarunk futtatni. A probléma egyik egyszerû megoldása, ha a natd használatával az internet felõl egyszerûen átirányítunk bizonyos portokat a megfelelõ belsõ kliensre.</p></div><div class=paragraph><p>Például tegyük fel, hogy az <code>A</code> kliens egy IRC szervert, míg a <code>B</code> kliens egy webszervert futtat. Ez akkor fog mûködni, ha a szolgáltatásokhoz tartozó 6667 (IRC) és 80 (web) portokat átirányítjuk a hozzájuk tartozó gépek felé.</p></div><div class=paragraph><p>Ehhez a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> démonnak a <code>-redirect_port</code> paramétert kell átadni. A pontos felírás így néz ki:</p></div><div class="literalblock programlisting"><div class=content><pre>     -redirect_port protokoll célIP:célPORT[-célPORT]
                 [külsõIP:]külsõPORT[-külsõPORT]
                 [távoliIP[:távoliPORT[-távoliPORT]]]</pre></div></div><div class=paragraph><p>A fenti példában tehát ezt kell megadnunk:</p></div><div class="literalblock programlisting"><div class=content><pre>    -redirect_port tcp 192.168.0.2:6667 6667
    -redirect_port tcp 192.168.0.3:80 80</pre></div></div><div class=paragraph><p>Így az egyes külsõ <em>tcp</em> portokat átirányítjuk a belsõ hálózat gépei felé.</p></div><div class=paragraph><p>A <code>-redirect_port</code> paraméternek akár egész porttartományokat is megadhatunk. Például a <em>tcp 192.168.0.2:2000-3000 2000-3000</em> megadásával az összes 2000-tõl 3000-ig terjedõ port csatlakozását leképezzük az <code>A</code> kliens 2000 és 3000 közti portjaira.</p></div><div class=paragraph><p>Ezek a beállítások a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> közvetlen futtatásakor adhatóak meg, esetleg az <span class=filename>/etc/rc.conf</span> állományban az <code>natd_flags=""</code> opció keresztül, vagy egy külön konfigurációs állományban.</p></div><div class=paragraph><p>A többi beállítási lehetõséget a <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> man oldalán ismerhetjük meg.</p></div></div><div class=sect2><h3 id=network-natdaddress-redirection>31.9.7. A címek átirányítása<a class=anchor href=#network-natdaddress-redirection></a></h3><div class=paragraph><p>A címek átirányítása abban az esetben hasznos, amikor több IP-cím áll rendelkezésünkre, de ezek egy géphez tartoznak. Ilyenkor az <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> képes a belsõ hálózat egyes gépeihez saját külsõ IP-címet rendelni. A <a href="https://man.freebsd.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;format=html">natd(8)</a> a belsõ hálózat kliensei által küldött csomagokban kicseréli a címüket a megfelelõ külsõ IP-címmel, illetve az ezekre a címekre érkezõ forgalmat továbbítja a megfelelõ belsõ kliens irányába. Ezt a megoldást statikus hálózati címfordításnak is nevezzük. Például a <code>128.1.1.2</code> és a <code>128.1.1.3</code> IP-címek a natd démont futtató átjáróhoz tartoznak. A <code>128.1.1.1</code> cím használható a natd alapú átjáró külsõ IP-címeként, miközben a <code>128.1.1.2</code> és a <code>128.1.1.3</code> címeket a belsõ hálózaton elérhetõ <code>A</code> és <code>B</code> kliensek felé közvetítjük.</p></div><div class=paragraph><p>A <code>-redirect_address</code> felírása tehát a következõ:</p></div><div class="literalblock programlisting"><div class=content><pre>-redirect_address helyiIP publikusIP</pre></div></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>helyiIP</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A helyi hálózaton található kliens saját IP-címe.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><em>publikusIP</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A klienshez tartozó megfelelõ külsõ IP-cím.</p></td></tr></tbody></table><div class=paragraph><p>Az iménti példában a pontos paraméterek ezek lesznek:</p></div><div class="literalblock programlisting"><div class=content><pre>-redirect_address 192.168.0.2 128.1.1.2
-redirect_address 192.168.0.3 128.1.1.3</pre></div></div><div class=paragraph><p>A <code>-redirect_port</code> opcióhoz hasonlóan ez is megadható az <span class=filename>/etc/rc.conf</span> állományban az <code>natd_flags=""</code> beállításon keresztül vagy egy külön konfigurációs állományban. A címek átirányításával nincs szüksége a portok átirányítására, mivel az adott IP-címhez tartozó összes forgalmat átirányítjuk.</p></div><div class=paragraph><p>A natd démont futtató gépen a külsõ IP-címeket aktiválni kell és a külsõ felületéhez kell rendelni. A <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> man oldalon járhatunk utána, hogy mindezt hogyan is tudjuk megcsinálni.</p></div></div></div></div><div class=sect1><h2 id=network-plip>31.10. Párhuzamos vonali IP (PLIP)<a class=anchor href=#network-plip></a></h2><div class=sectionbody><div class=paragraph><p>A párhuzamos vonali IP (Parallel Line IP, PLIP) a TCP/IP protokoll használatát valósítja meg párhuzamos porton keresztül. Olyan gépek számára lehet hasznos, amelyekben nincs hálózati kártya, vagy esetleg laptopoknál. Ebben a szakaszban a következõket tárgyaljuk:</p></div><div class=ulist><ul><li><p>Párhuzamos (laplink) kábel készítése</p></li><li><p>Két számítógép összekapcsolása a PLIP segítségével</p></li></ul></div><div class=sect2><h3 id=network-create-parallel-cable>31.10.1. Párhuzamos kábel készítése<a class=anchor href=#network-create-parallel-cable></a></h3><div class=paragraph><p>Párhuzamos kábelt a legtöbb számítástechnikai boltban tudunk vásárolni. Ha mégsem tudnánk sehol sem beszerezni, vagy egyszerûen tudni szeretnénk, hogyan lehet ilyet készíteni, akkor az alábbi táblázatban láthatjuk, hogy miként tudunk egy hétköznapi nyomtatókábelt átalakítani a céljainkra.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Táblázat 1. A párhuzamos kábel hálózati használatra alkalmas bekötése</caption><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><thead><tr><th class="tableblock halign-left valign-top">A-név</th><th class="tableblock halign-left valign-top">A-vég</th><th class="tableblock halign-left valign-top">B-vég</th><th class="tableblock halign-left valign-top">Leírás</th><th class="tableblock halign-left valign-top">Post/Bit</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><div class=literal><pre>....
DATA0
-ERROR
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
2
15
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
15
2
....</pre></div></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adat</p></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
0/0x01
1/0x08
....</pre></div></td></tr><tr><td class="tableblock halign-left valign-top"><div class=literal><pre>....
DATA1
+SLCT
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
3
13
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
13
3
....</pre></div></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adat</p></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
0/0x02
1/0x10
....</pre></div></td></tr><tr><td class="tableblock halign-left valign-top"><div class=literal><pre>....
DATA2
+PE
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
4
12
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
12
4
....</pre></div></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adat</p></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
0/0x04
1/0x20
....</pre></div></td></tr><tr><td class="tableblock halign-left valign-top"><div class=literal><pre>....
DATA3
-ACK
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
5
10
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
10
5
....</pre></div></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vál. imp.</p></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
0/0x08
1/0x40
....</pre></div></td></tr><tr><td class="tableblock halign-left valign-top"><div class=literal><pre>....
DATA4
BUSY
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
6
11
....</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
11
6
....</pre></div></td><td class="tableblock halign-left valign-top"><p class=tableblock>Adat</p></td><td class="tableblock halign-left valign-top"><div class=literal><pre>....
0/0x10
1/0x80
....</pre></div></td></tr><tr><td class="tableblock halign-left valign-top"><div class=literal><pre>GND</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>18-25</pre></div></td><td class="tableblock halign-left valign-top"><div class=literal><pre>18-25</pre></div></td><td class="tableblock halign-left valign-top"><p class=tableblock>Föld</p></td><td class="tableblock halign-left valign-top"><div class=literal><pre>-</pre></div></td></tr></tbody></table></div><div class=sect2><h3 id=network-plip-setup>31.10.2. A PLIP beállítása<a class=anchor href=#network-plip-setup></a></h3><div class=paragraph><p>Elõször is szereznünk kell valahonnan egy laplink kábelt. Ha ez megvan, akkor mind a két gépen ellenõrizzük, hogy a rendszermag tartalmazza az <a href="https://man.freebsd.org/cgi/man.cgi?query=lpt&amp;sektion=4&amp;format=html">lpt(4)</a> meghajtót:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># grep lp /var/run/dmesg.boot</span>
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port</code></pre></div></div><div class=paragraph><p>A párhuzamos portnak megszakítással vezéreltnek kell lennie ("interrupt driven"), és az <span class=filename>/boot/device.hints</span> állományban szerepelnie kell nagyjából a következõ soroknak:</p></div><div class="literalblock programlisting"><div class=content><pre>hint.ppc.0.at=&#34;isa&#34;
hint.ppc.0.irq=&#34;7&#34;</pre></div></div><div class=paragraph><p>Ezután nézzük meg, hogy a rendszermag beállításait tartalmazó állományban megjelenik-e a <code>device plip</code> sor, vagy a <span class=filename>plip.ko</span> modul betöltõdött-e. Akármelyik is történt, a párhuzamos hálózati felület most már a rendelkezésünkre áll, és az <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> paranccsal ezt meg is tudjuk nézni:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig plip0</span>
plip0: <span class=nv>flags</span><span class=o>=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</code></pre></div></div><div class=paragraph><p>A laplink kábelt csatlakoztassuk mind a két számítógéphez.</p></div><div class=paragraph><p>Mind a két a hálózati felület paramétereit <code>root</code> felhasználóként hangoljuk be. Például, ha az <code><em>egyikgép</em></code> nevû gépet akarjuk a <code><em>másikgép</em></code> nevû géphez csatlakoztatni:</p></div><div class="literalblock programlisting"><div class=content><pre>              egyikgép &lt;-----&gt; másikgép
IP-cím        10.0.0.1      10.0.0.2</pre></div></div><div class=paragraph><p>Az <code><em>egyikgép</em></code> felületét így állítsuk be:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig plip0 10.0.0.1 10.0.0.2</span></code></pre></div></div><div class=paragraph><p>A <code><em>másikgép</em></code> felületét így állítsuk be:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig plip0 10.0.0.2 10.0.0.1</span></code></pre></div></div><div class=paragraph><p>Ezt követõen már egy mûködõ kapcsolatnak kell felépülnie. Az egyéb részletek kapcsán az <a href="https://man.freebsd.org/cgi/man.cgi?query=lp&amp;sektion=4&amp;format=html">lp(4)</a> és az <a href="https://man.freebsd.org/cgi/man.cgi?query=lpt&amp;sektion=4&amp;format=html">lpt(4)</a> man oldalait nézzük át.</p></div><div class=paragraph><p>Ezt a két gépet vegyük fel az <span class=filename>/etc/hosts</span> állományba is:</p></div><div class="literalblock programlisting"><div class=content><pre>127.0.0.1               localhost.saját.tartomány localhost
10.0.0.1                egyikgép.saját.tartomány egyikgép
10.0.0.2                másikgép.saját.tartomány</pre></div></div><div class=paragraph><p>A kapcsolat mûködõképességérõl úgy tudunk meggyõzõdni, ha az egyik géprõl megpróbáljuk pingelni a másikat. Például az <code><em>egyikgép</em></code> esetében:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig plip0</span>
plip0: <span class=nv>flags</span><span class=o>=</span>8851&lt;UP,POINTOPOINT,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 10.0.0.1 <span class=nt>--</span><span class=o>&gt;</span> 10.0.0.2 netmask 0xff000000
<span class=c># netstat -r</span>
Routing tables

Internet:
Destination        Gateway          Flags     Refs     Use      Netif Expire
másikgép           egyikgép         UH          0       0       plip0
<span class=c># ping -c 4 másikgép</span>
PING másikgép <span class=o>(</span>10.0.0.2<span class=o>)</span>: 56 data bytes
64 bytes from 10.0.0.2: <span class=nv>icmp_seq</span><span class=o>=</span>0 <span class=nv>ttl</span><span class=o>=</span>255 <span class=nb>time</span><span class=o>=</span>2.774 ms
64 bytes from 10.0.0.2: <span class=nv>icmp_seq</span><span class=o>=</span>1 <span class=nv>ttl</span><span class=o>=</span>255 <span class=nb>time</span><span class=o>=</span>2.530 ms
64 bytes from 10.0.0.2: <span class=nv>icmp_seq</span><span class=o>=</span>2 <span class=nv>ttl</span><span class=o>=</span>255 <span class=nb>time</span><span class=o>=</span>2.556 ms
64 bytes from 10.0.0.2: <span class=nv>icmp_seq</span><span class=o>=</span>3 <span class=nv>ttl</span><span class=o>=</span>255 <span class=nb>time</span><span class=o>=</span>2.714 ms

<span class=nt>---</span> másikgép ping statistics <span class=nt>---</span>
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev <span class=o>=</span> 2.530/2.643/2.774/0.103 ms</code></pre></div></div></div></div></div><div class=sect1><h2 id=network-ipv6>31.11. Az IPv6<a class=anchor href=#network-ipv6></a></h2><div class=sectionbody><div class=paragraph><p>Az IPv6 (másik néven az IPng, vagy a "az internet következõ generációs protokollja", "IP next generation") a jól ismert IP protokoll (avagy az IPv4) új változata. Hasonlóan a jelenleg mûködõ összes többi BSD rendszerhez, a FreeBSD is tartalmazza a KAME IPv6 referencia implementációt. Ezért ha ezzel szeretnénk kísérletezni, akkor ehhez a FreeBSD minden eszköz biztosít számunkra. Ez a szakasz az IPv6 beállítását és használatát mutatja be.</p></div><div class=paragraph><p>Az 1990-es évek elején az IPv4-es címterek rohamos mértékû kimerülését figyelték meg. Az internet jelenlegi bõvülési üteme mellett két nagyobb aggodalomnak adott okot:</p></div><div class=ulist><ul><li><p>A címek elfogyása. Napjainkban efelõl egyre kevesebb a kétség, mivel az RFC 1918 által megfogalmazott privát címterek (<code>10.0.0.0/8</code>, <code>172.16.0.0/12</code>, és <code>192.168.0.0/16</code>), valamint a hálózati címfordítás (Network Address Translation, NAT) használata igen elterjedt.</p></li><li><p>Az útválasztási táblázatok méretének növekedése. Ez még manapság is aggasztó.</p></li></ul></div><div class=paragraph><p>Az IPv6 ezeket és még más egyéb problémákat a következõ módon igyekszik megoldani:</p></div><div class=ulist><ul><li><p>A 128 bites címtér használata. Más szóval, elméletben összesen 340 282 366 920 938 463 463 374 607 431 768 211 456 darab címet képes kiosztani. Ez azt jelenti, hogy bolygónk minden egyes négyzetméterére megközelítõleg 6,67 * 10^27 IPv6 típusú cím jut.</p></li><li><p>Az útválasztók a saját táblázataikban csak a hálózatok összevont címeit tárolják el, ezáltal egy átlagos útválasztási táblázatban található bejegyzések száma 8192 alá csökken.</p></li></ul></div><div class=paragraph><p>Az IPv6 emellett még rengeteg más elõnyös lehetõséget is kínál:</p></div><div class=ulist><ul><li><p>A címek automatikus beállítása (lásd <a href=http://www.ietf.org/rfc/rfc2462.txt>RFC 2462</a>)</p></li><li><p>Anycast (bárkiküldés, vagyis "egy a sokból")</p></li><li><p>Kötelezõ (mandatory) multicast</p></li><li><p>IPsec (IP szintû védelem)</p></li><li><p>Egyszerûsített fejléc</p></li><li><p>Mobil IP</p></li><li><p>IPv6-IPv4 közti átjárhatóság</p></li></ul></div><div class=paragraph><p>Ha mindezekrõl többet szeretnénk megtudni, akkor erre érdemes továbblépnünk:</p></div><div class=ulist><ul><li><p>Az IPv6 áttekintése a <a href=http://playground.sun.com/pub/ipng/html/ipng-main.html>playground.sun.com</a> honlapon</p></li><li><p><a href=http://www.kame.net>KAME.net</a></p></li></ul></div><div class=sect2><h3 id=_az_ipv6_címek_háttere>31.11.1. Az IPv6 címek háttere<a class=anchor href=#_az_ipv6_címek_háttere></a></h3><div class=paragraph><p>Az IPv6 címeknek több típusa létezik: a unicast (egyesküldés), az anycast (bárkiküldés) és a multicast (többesküldés).</p></div><div class=paragraph><p>A unicasthez használt címek jól ismert címek. Az így elküldött csomag pontosan ahhoz a felülethez érkezik meg, amelyhez az adott cím tartozik.</p></div><div class=paragraph><p>Az anycasthez használt címek felírásukban tökéletesen megegyeznek a unicast esetével, de valójában felületek egy csoportját címezik. Az anycastre beállított címekre küldött csomagok mindig a(z útválasztó szerinti) legközelebb levõ felülethez érkeznek meg. Az anycastet az útválasztók számára találták ki.</p></div><div class=paragraph><p>A multicasthez használt címek felületek egy csoportját nevezik meg. A multicast címekre érkezõ csomagokat a csoport minden egyes tagja megkapja.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Az IPv4 esetében az üzenetszórásra szánt (általában az <code>xxx.xxx.xxx.255</code> formátumú) címeket az IPv6 esetében multicast címekkel fejezzük ki.</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Táblázat 2. Fenntartott IPv6 címek</caption><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">IPv6 cím</th><th class="tableblock halign-left valign-top">Az elõtag hossza (bitekben)</th><th class="tableblock halign-left valign-top">Leírás</th><th class="tableblock halign-left valign-top">Megjegyzés</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>::</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>128 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>nem specifikált</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vö. a <code>0.0.0.0</code> címmel az IPv4 esetében.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>::1</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>128 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>saját cím</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vö. a <code>127.0.0.1</code> címmel az IPv4 esetében.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>::00:xx:xx:xx:xx</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>96 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IPv4 beágyazása</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Az alsó 32 bit egy IPv4 formátumú cím. Ezt "IPv4 kompatibilis IPv6 címnek" is nevezik.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>::ff:xx:xx:xx:xx</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>96 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IPv4-re leképzett IPv6 címek</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Az alsó 32 bit egy IPv4 címet jelöl. Olyan gépeknél használatos, amelyek nem támogatják az IPv6 protokollt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>fe80::</code> - <code>feb::</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>helyi összeköttetés</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vö. az IPv4 loopback címeivel.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>fec0::</code> - <code>fef::</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>helyi cím</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ff::</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>multicast</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>001</code> (2-es alapú)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3 bit</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>globális unicast</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Az összes globális unicast címet ebbõl a tartományból osztjuk ki. Az elsõ 3 bit értéke"001".</p></td></tr></tbody></table></div><div class=sect2><h3 id=_az_ipv6_címek_olvasása>31.11.2. Az IPv6 címek olvasása<a class=anchor href=#_az_ipv6_címek_olvasása></a></h3><div class=paragraph><p>Az IPv6 címek kanonikus formája így ábrázolható: <code>x:x:x:x:x:x:x:x</code>, ahol mindegyik "x" egy 16 bites hexadecimális érték. Például: <code>FEBC:A574:382B:23C1:AA49:4592:4EFE:9982</code>.</p></div><div class=paragraph><p>Gyakran a címek hosszú nullákból álló sorozatokat tartalmaznak, ezért mindegyik ilyen sorozatot rövidíteni tudjuk a "::" jelöléssel. Rajtuk kívül még az egyes hexadecimális csoportokban a bevezetõ nullák is elhagyhatóak. Például az <code>fe80::1</code> cím kanonikus formája: <code>fe80:0000:0000:0000:0000:0000:0000:0001</code>.</p></div><div class=paragraph><p>A harmadik forma szerint az utolsó 32 bites részt írjuk fel a megszokott (decimális) IPv4 stílusú pontozással, ahol tehát a "." választja el a tagokat. Így például a <code>2002::10.0.0.1</code> felírás a <code>2002:0000:0000:0000:0000:0000:0a00:0001</code> kanonikus (hexadecimális) ábrázolásnak feleltethetõ meg, ami pedig egyszerûen <code>2002::a00:1</code> alakban is megadható.</p></div><div class=paragraph><p>Mostanra már minden bizonnyal a kedves olvasó érteni fogja a következõt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig</span></code></pre></div></div><div class="literalblock programlisting"><div class=content><pre>rl0: flags=8943&lt;UP,BROADCAST,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1500
         inet 10.0.0.10 netmask 0xffffff00 broadcast 10.0.0.255
         inet6 fe80::200:21ff:fe03:8e1%rl0 prefixlen 64 scopeid 0x1
         ether 00:00:21:03:08:e1
         media: Ethernet autoselect (100baseTX )
         status: active</pre></div></div><div class=paragraph><p>A <code>fe80::200:21ff:fe03:8e1%rl0</code> cím az automatikusan beállított helyi összeköttetés címe. Ez az automatikus beállítás részeként a MAC-címbõl jött létre.</p></div><div class=paragraph><p>Az IPv6 címek szerkezetérõl további részleteket az <a href=http://www.ietf.org/rfc/rfc3513.txt>RFC 3513</a>-ban találunk.</p></div></div><div class=sect2><h3 id=_kapcsolódás>31.11.3. Kapcsolódás<a class=anchor href=#_kapcsolódás></a></h3><div class=paragraph><p>Jelenleg négy módon tudunk más IPv6-os géphez és hálózathoz csatlakozni:</p></div><div class=ulist><ul><li><p>Kérjünk a hálózati elérésünkért felelõs illetékesektõl IPv6 alapú hálózatot. A részletek tekintetében vegyük fel a kapcsolatot az internet-szolgáltatónkkal.</p></li><li><p>A <a href=http://www.sixxs.net>SixXS</a> a világ minden táján kínál végpontokkal rendelkezõ tunneleket.</p></li><li><p>Egy 6-ból-4 (<a href=http://www.ietf.org/rfc/rfc3068.txt>RFC 3068</a>) típusú tunnellel.</p></li><li><p>Ha betárcsázós kapcsolatunk van, akkor használjuk a <a class=package href=https://cgit.freebsd.org/ports/tree/net/freenet6/>net/freenet6</a> portot.</p></li></ul></div></div><div class=sect2><h3 id=_a_nevek_feloldása_az_ipv6_világában>31.11.4. A nevek feloldása az IPv6 világában<a class=anchor href=#_a_nevek_feloldása_az_ipv6_világában></a></h3><div class=paragraph><p>IPv6 alatt régebben két típusa volt a nevek feloldásáért felelõs rekordoknak. Az IETF az A6 rekordokat idõközben elavultnak nyilvánította. Ezért manapság már az AAAA rekordok tekinthetõek szabványosnak.</p></div><div class=paragraph><p>Az AAAA rekordok használata magától értetõdik. A hálózati nevükhöz az alábbi módon tudunk IPv6 címet rendelni az elsõdleges zónát leíró állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>SAJÁTNÉV           AAAA    SAJÁTIPv6CÍM</pre></div></div><div class=paragraph><p>Ha nem rendelkezünk saját névfeloldási zónával, akkor erre kérjük meg a névfeloldást végzõ szolgáltatónkat. A bind jelenlegi változatai (8.3 és 9), valamint a <a class=package href=https://cgit.freebsd.org/ports/tree/dns/djbdns/>dns/djbdns</a> (IPv6 támogatására vonatkozó javítással) támogatják az AAAA rekordokat.</p></div></div><div class=sect2><h3 id=_az_etcrc_conf_szükséges_módosításai>31.11.5. Az <span class=filename>/etc/rc.conf</span> szükséges módosításai<a class=anchor href=#_az_etcrc_conf_szükséges_módosításai></a></h3><div class=sect3><h4 id=_az_ipv6_kliensek_beállításai>31.11.5.1. Az IPv6 kliensek beállításai<a class=anchor href=#_az_ipv6_kliensek_beállításai></a></h4><div class=paragraph><p>Ezek a beállítások egy helyi hálózaton levõ gépre vonatkoznak, nem pedig egy útválasztóra. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=rtsol&amp;sektion=8&amp;format=html">rtsol(8)</a> az alábbi megadásával fogja automatikusan beállítani a felületeinket a rendszer indításakor:</p></div><div class="literalblock programlisting"><div class=content><pre>ipv6_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Ha az <span class=filename>fxp0</span> felülethez statikusan akarunk IP-címet rendelni, például a <code>2001:471:1f11:251:290:27ff:fee0:2093</code> címet, akkor ehhez a következõt kell megadni:</p></div><div class="literalblock programlisting"><div class=content><pre>ipv6_ifconfig_fxp0=&#34;2001:471:1f11:251:290:27ff:fee0:2093&#34;</pre></div></div><div class=paragraph><p>Az <span class=filename>/etc/rc.conf</span> állományban az alapértelmezett átjárót a következõ módon tudjuk a <code>2001:471:1f11:251::1</code> címre beállítani:</p></div><div class="literalblock programlisting"><div class=content><pre>ipv6_defaultrouter=&#34;2001:471:1f11:251::1&#34;</pre></div></div></div><div class=sect3><h4 id=_az_ipv6_útválasztók_és_átjárók_beállítása>31.11.5.2. Az IPv6 útválasztók és átjárók beállítása<a class=anchor href=#_az_ipv6_útválasztók_és_átjárók_beállítása></a></h4><div class=paragraph><p>Itt most a tunnelt biztosító szolgáltató által mutatott irányt követjük, és olyan formára alakítjuk, amely megmarad az újraindítás után is. A rendszer indításakor az <span class=filename>/etc/rc.conf</span> állományban valami ilyesmit kell megadni a járat visszaállításához:</p></div><div class=paragraph><p>Soroljuk fel a beállítandó általános tunnel alapú felületeket, ilyen lehet például a <span class=filename>gif0</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>gif_interfaces=&#34;gif0&#34;</pre></div></div><div class=paragraph><p>A felületnek állítsunk be egy helyi végpontot a <em>SAJÁT_IPv4_CÍM</em> megadásával, valamint egy távoli végpontot a <em>TÁVOLI_IPv4_CÍM</em> megadásával:</p></div><div class="literalblock programlisting"><div class=content><pre>gifconfig_gif0=&#34;SAJÁT_IPv4_CÍM TÁVOLI_IPv4_CÍM&#34;</pre></div></div><div class=paragraph><p>Az IPv6 tunnelünk végpontjához kapott cím aktiválásához az alábbit kell még megadnunk:</p></div><div class="literalblock programlisting"><div class=content><pre>ipv6_ifconfig_gif0=&#34;SAJÁT_KAPOTT_IPv6_TUNNEL_VÉGPONTJÁNAK_CÍME&#34;</pre></div></div><div class=paragraph><p>Ezután már csak az alapértelmezett útvonalat kell beállítani az IPv6 számára. Ez az IPv6 járat másik oldala:</p></div><div class="literalblock programlisting"><div class=content><pre>ipv6_defaultrouter=&#34;SAJÁT_IPv6_TÁVOLI_TUNNEL_VÉGPONTJÁNAK_CÍME&#34;</pre></div></div></div><div class=sect3><h4 id=_az_ipv6_tunnel_beállításai>31.11.5.3. Az IPv6 tunnel beállításai<a class=anchor href=#_az_ipv6_tunnel_beállításai></a></h4><div class=paragraph><p>Amennyiben a szerver IPv6 alapú forgalmat közvetít a hálózatunk és a világ között, az <span class=filename>/etc/rc.conf</span> állományba a következõt kell felvennünk:</p></div><div class="literalblock programlisting"><div class=content><pre>ipv6_gateway_enable=&#34;YES&#34;</pre></div></div></div></div><div class=sect2><h3 id=_az_útválasztók_kihirdetése_és_automatikus_konfigurációja>31.11.6. Az útválasztók kihirdetése és automatikus konfigurációja<a class=anchor href=#_az_útválasztók_kihirdetése_és_automatikus_konfigurációja></a></h3><div class=paragraph><p>Ebben a szakaszban az <a href="https://man.freebsd.org/cgi/man.cgi?query=rtadvd&amp;sektion=8&amp;format=html">rtadvd(8)</a> beállításával fogjuk az alapértelmezett IPv6 útvonalat kihirdetni.</p></div><div class=paragraph><p>Az <a href="https://man.freebsd.org/cgi/man.cgi?query=rtadvd&amp;sektion=8&amp;format=html">rtadvd(8)</a> engedélyezéséhez az alábbi sort kell betennünk az <span class=filename>/etc/rc.conf</span> állományba:</p></div><div class="literalblock programlisting"><div class=content><pre>rtadvd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Emellett még fontos megadnunk azt a felületet, ahol az IPv6 útválasztó kérelmezését végezzük. Ha erre a feladatra például az <span class=filename>fxp0</span> felületet választjuk, akkor errõl az <a href="https://man.freebsd.org/cgi/man.cgi?query=rtadvd&amp;sektion=8&amp;format=html">rtadvd(8)</a> így értesíthetõ:</p></div><div class="literalblock programlisting"><div class=content><pre>rtadvd_interfaces=&#34;fxp0&#34;</pre></div></div><div class=paragraph><p>Most pedig készítenünk kell hozzá egy konfigurációt is, vagyis az <span class=filename>/etc/rtadvd.conf</span> állományt. Íme erre egy példa:</p></div><div class="literalblock programlisting"><div class=content><pre>fxp0:\
	:addrs#1:addr=&#34;2001:471:1f11:246::&#34;:prefixlen#64:tc=ether:</pre></div></div><div class=paragraph><p>Az <span class=filename>fxp0</span> felületet természetesen cseréljük ki a sajátunkkal.</p></div><div class=paragraph><p>Ezután a <code>2001:471:1f11:246::</code> címre helyére írjuk be a saját kiosztásunk elõtagját.</p></div><div class=paragraph><p>Egy egész <code>/64</code> alhálózat esetén nem is kell többet megadni. Minden más helyezetben az elõtag hosszára <code>prefixlen#</code> vonatkozó értéket is be kell még állítanunk.</p></div></div></div></div><div class=sect1><h2 id=network-atm>31.12. Az Aszinkron adatátviteli mód (ATM)<a class=anchor href=#network-atm></a></h2><div class=sectionbody><div class=sect2><h3 id=_a_klasszikus_ip_címek_beállítása_atm_felett_állandó>31.12.1. A klasszikus IP-címek beállítása ATM felett (állandó)<a class=anchor href=#_a_klasszikus_ip_címek_beállítása_atm_felett_állandó></a></h3><div class=paragraph><p>A klasszikus IP ATM felett (Classical IP over ATM, CLIP) a legegyszerûbb módszer az IP-címek használatára az Aszinkron adatátviteli móddal (Asynchronous Transfer Mode, ATM) együtt. Kapcsolt és állandó kapcsolatok (Switched Virtual Channel, SVC és Permanent Virtual Channel, PVC) esetén egyaránt megfelelõ. Ebben a szakaszban ez utóbbival fogunk foglalkozni.</p></div><div class=sect3><h4 id=_a_teljesen_hálószerû_konfigurációk>31.12.1.1. A teljesen hálószerû konfigurációk<a class=anchor href=#_a_teljesen_hálószerû_konfigurációk></a></h4><div class=paragraph><p>A CLIP beállítását állandó csatornákon például úgy tudjuk megoldani, ha az összes gépet külön ezekre a célokra szánt állandó csatornákkal összekapcsoljuk egymással. Ez az egyszerû megoldás azonban nagyobb számú gép esetében már nem eléggé hatékony. A következõ példában csupán négy gépet kötünk hálózatba, melyik mindegyike egy ATM kártyával csatlakozik az ATM hálózatra. Ehhez elsõként tervezzük meg az IP-címek kiosztását és a gépek közti ATM kapcsolatokat. A példában ez az alábbiak szerint alakul:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Gép</th><th class="tableblock halign-left valign-top">IP-cím</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>A-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>192.168.173.1</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>B-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>192.168.173.2</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>C-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>192.168.173.3</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>D-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>192.168.173.4</code></p></td></tr></tbody></table><div class=paragraph><p>A teljes hálózat felépítéséhez minden egyes pár között egy-egy ATM kapcsolatra lesz szükségünk:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Gépek</th><th class="tableblock halign-left valign-top">VPI.VCI pár</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>A-gep</code> - <code>B-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.100</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>A-gep</code> - <code>C-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.101</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>A-gep</code> - <code>D-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.102</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>B-gep</code> - <code>C-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.103</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>B-gep</code> - <code>D-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.104</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>C-gep</code> - <code>D-gep</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.105</p></td></tr></tbody></table><div class=paragraph><p>A kapcsolatok egyes végein szereplõ VPI és VCI értékek természetesen eltérhetnek, de ezeket mi most az egyszerûség kedvéért egyenlõnek tekintettük. A következõ lépésben minden gépen állítsuk be az ATM felület:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>A-gep# ifconfig hatm0 192.168.173.1 up
B-gep# ifconfig hatm0 192.168.173.2 up
C-gep# ifconfig hatm0 192.168.173.3 up
D-gep# ifconfig hatm0 192.168.173.4 up</code></pre></div></div><div class=paragraph><p>Ha feltételezzük, hogy minden gépen a <span class=filename>hatm0</span> az ATM felület neve. Most pedig az <code>A-gep</code>-en állítsuk be az állandó csatornákat. (Itt most feltesszük, hogy az ATM switch-eken mindezt már elvégeztük. A switch kézikönyvében errõl részletesebb leírást is találhatunk.)</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>A-gep# atmconfig natm add 192.168.173.2 hatm0 0 100 llc/snap ubr
A-gep# atmconfig natm add 192.168.173.3 hatm0 0 101 llc/snap ubr
A-gep# atmconfig natm add 192.168.173.4 hatm0 0 102 llc/snap ubr

B-gep# atmconfig natm add 192.168.173.1 hatm0 0 100 llc/snap ubr
B-gep# atmconfig natm add 192.168.173.3 hatm0 0 103 llc/snap ubr
B-gep# atmconfig natm add 192.168.173.4 hatm0 0 104 llc/snap ubr

C-gep# atmconfig natm add 192.168.173.1 hatm0 0 101 llc/snap ubr
C-gep# atmconfig natm add 192.168.173.2 hatm0 0 103 llc/snap ubr
C-gep# atmconfig natm add 192.168.173.4 hatm0 0 105 llc/snap ubr

D-gep# atmconfig natm add 192.168.173.1 hatm0 0 102 llc/snap ubr
D-gep# atmconfig natm add 192.168.173.2 hatm0 0 104 llc/snap ubr
D-gep# atmconfig natm add 192.168.173.3 hatm0 0 105 llc/snap ubr</code></pre></div></div><div class=paragraph><p>Természetesen nem csak UBR használható, hanem minden más olyan forgalmazási beállítás, amit az ATM kártyáink ismernek. Itt most a forgalmi beállítás nevét a hozzá tartozó konkrét paraméterek követik. Az <a href="https://man.freebsd.org/cgi/man.cgi?query=atmconfig&amp;sektion=8&amp;format=html">atmconfig(8)</a> segédprogram használatához így kérhetünk segítséget:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># atmconfig help natm add</span></code></pre></div></div><div class=paragraph><p>Olvassuk el az <a href="https://man.freebsd.org/cgi/man.cgi?query=atmconfig&amp;sektion=8&amp;format=html">atmconfig(8)</a> man oldalát.</p></div><div class=paragraph><p>Ugyanez a beállítás az <span class=filename>/etc/rc.conf</span> állomány használatával is elvégezhetõ. Az <code>A-gep</code> esetében mindez így nézne ki:</p></div><div class="literalblock programlisting"><div class=content><pre>network_interfaces=&#34;lo0 hatm0&#34;
ifconfig_hatm0=&#34;inet 192.168.173.1 up&#34;
natm_static_routes=&#34;B-gep C-gep D-gep&#34;
route_B-gep=&#34;192.168.173.2 hatm0 0 100 llc/snap ubr&#34;
route_C-gep=&#34;192.168.173.3 hatm0 0 101 llc/snap ubr&#34;
route_D-gep=&#34;192.168.173.4 hatm0 0 102 llc/snap ubr&#34;</pre></div></div><div class=paragraph><p>A CLIP útvonalak pillanatnyi állapota így kérdezhetõ le:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>A-gep# atmconfig natm show</code></pre></div></div></div></div></div></div><div class=sect1><h2 id=carp>31.13. A Közös cím redundancia protokoll (CARP)<a class=anchor href=#carp></a></h2><div class=sectionbody><div class=paragraph><p>A Közös cím redundancia protokoll (Common Address Redundancy Protocol, avagy CARP) segítségével több gép képes egyazon IP-címen osztozni. Bizonyos konfigurációkban ez a terhelés elosztására (terhelés-kiegyenlítésre) vagy a rendelkezésre állás növelésére (hibatûrésre) alkalmazható. A benne szereplõ gépek akár eltérõ IP-címmel is rendelkezhetnek, ahogy azt majd a példában is láthatjuk.</p></div><div class=paragraph><p>A CARP támogatásának engedélyezéséhez a FreeBSD rendszermagját a következõ beállítással kell újrafordítanunk:</p></div><div class="literalblock programlisting"><div class=content><pre>device	carp</pre></div></div><div class=paragraph><p>A CARP által biztosított lehetõségek ezután már elérhetõek, és számos <code>sysctl</code> változón keresztül állíthatóak:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Változó</th><th class="tableblock halign-left valign-top">Leírás</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>net.inet.carp.allow</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A beérkezõ CARP csomagok elfogadása. Alapértelmezés szerint engedélyezett.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>net.inet.carp.preempt</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ezzel a beállítással az adott gépen az összes CARP felület leáll, ha közülük bármelyik is mûködésképtelenné válik. Alapértelmezés szerint tiltott.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>net.inet.carp.log</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A <code>0</code> értékkel kikapcsoljuk a naplózást. Az <code>1</code> értékkel a rossz CARP csomagok naplózását engedélyezzük. Az ettõl nagyobb értékek esetén pedig a CARP felületek változásait naplózzuk. Az alapértelmezett értéke az <code>1</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>net.inet.carp.arpbalance</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Az ARP protokoll segítségével próbálja meg a helyi hálózati forgalmat mentesíteni a terheléstõl. Alapértelmezés szerint tiltott.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>net.inet.carp.suppress_preempt</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ez a változó írásvédett, és a megszakítás elnyomásának állapotát mutatja. A megszakítás elnyomható, ha a felület egyik linkje nem mûködik. A <code>0</code> érték arra utal, hogy a megszakítást nem nyomták el. Minden probléma növeli ennek a változónak az értékét.</p></td></tr></tbody></table><div class=paragraph><p>A CARP eszközök maguk az <code>ifconfig</code> paranccsal készíthetõek el:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig carp0 create</span></code></pre></div></div><div class=paragraph><p>Egy valós környezetben az ilyen felületeknek egy VHID néven ismert egyedi azonosítóval kell rendelkezniük. Ez a VHID vagy más néven a virtuális gépazonosító (azaz Virtual Host Identification) fogja a gépünket a hálózat többi elemétõl megkülönböztetni.</p></div><div class=sect2><h3 id=_a_carp_felhasználása_a_rendelkezésre_állás_javításában>31.13.1. A CARP felhasználása a rendelkezésre állás javításában<a class=anchor href=#_a_carp_felhasználása_a_rendelkezésre_állás_javításában></a></h3><div class=paragraph><p>A CARP használatának egyik módja, ahogy arra már korábban is utaltunk, a szerverek rendelkezésre állásának feljavítása. Ebben a példában három géppel fogunk hibatûrést biztosítani, melyik mindegyike egyedi IP-címmel rendelkezik és ugyanazt a webes tartalmat szolgáltatják. A gépeket egy Round Robin rendszerû (körbejáró) névfeloldással együtt használjuk. A tartalék gépünknek lesz még további két CARP felülete, külön a szerver IP-címeihez tartozó egyes webes tartalmakhoz. Amikor valami meghibásodik, a tartalék szerver átveszi a meghibásodott gép IP-címét. Ilyenkor a hiba teljesen észrevétlen marad a felhasználók számára. A tartalék szerveren a többi szerverrel egyezõ tartalomnak és szolgáltatásoknak kell megjelennie, hogy bármikor át tudja tõlük venni a forgalmat.</p></div><div class=paragraph><p>A hálózati neveiktõl és a virtuális azonosítóiktól eltekintve a két gépet ugyanúgy kell beállítani. Ebben a példában a gépeket most az <code>a-gep.minta.org</code> és <code>b-gep.minta.org</code> nevekkel láttuk el. Elõször is a CARP beállításához el kell helyeznünk a megfelelõ hivatkozásokat az <span class=filename>rc.conf</span> állományban. Az <code>a-gep.minta.org</code> esetében az <span class=filename>rc.conf</span> állomány a következõ sorokat tartalmazza:</p></div><div class="literalblock programlisting"><div class=content><pre>hostname=&#34;a-gep.minta.org&#34;
ifconfig_fxp0=&#34;inet 192.168.1.3 netmask 255.255.255.0&#34;
cloned_interfaces=&#34;carp0&#34;
ifconfig_carp0=&#34;vhid 1 pass testpass 192.168.1.50/24&#34;</pre></div></div><div class=paragraph><p>Miközben a <code>b-gep.minta.org</code> az <span class=filename>rc.conf</span> állományában ezeket adjuk meg:</p></div><div class="literalblock programlisting"><div class=content><pre>hostname=&#34;b-gep.minta.org&#34;
ifconfig_fxp0=&#34;inet 192.168.1.4 netmask 255.255.255.0&#34;
cloned_interfaces=&#34;carp0&#34;
ifconfig_carp0=&#34;vhid 2 pass testpass 192.168.1.51/24&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nagyon fontos, hogy az <code>ifconfig</code> parancs <code>pass</code> paraméterével megadott jelszavak megegyezzenek. A <span class=filename>carp</span> eszközök csak a megfelelõ jelszót birtokló gépeket fogadják el. A virtuális gépazonosítónak azonban minden esetben el kell térnie.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A harmadik, <code>szolgaltato.minta.org</code> címmel rendelkezõ gépet fogjuk felkészíteni az elõbbi gépek meghibásodására felkészíteni. Ennek a gépnek két <span class=filename>carp</span> eszközre lesz szüksége, melyek az egyes gépeket kezelik. Az ehhez illeszkedõ sorok valahogy így fognak kinézni az <span class=filename>rc.conf</span> állományban:</p></div><div class="literalblock programlisting"><div class=content><pre>hostname=&#34;szolgaltato.minta.org&#34;
ifconfig_fxp0=&#34;inet 192.168.1.5 netmask 255.255.255.0&#34;
cloned_interfaces=&#34;carp0 carp1&#34;
ifconfig_carp0=&#34;vhid 1 advskew 100 pass testpass 192.168.1.50/24&#34;
ifconfig_carp1=&#34;vhid 2 advskew 100 pass testpass 192.168.1.51/24&#34;</pre></div></div><div class=paragraph><p>Két <span class=filename>carp</span> eszköz használatával a <code>szolgaltato.minta.org</code> képes észlelni és átvenni bármelyik olyan gép IP-címét, amely nem válaszol.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Az alap FreeBSD rendszermag használata esetén <em>elõfordulhat</em>, hogy a megszakítás (a "preemption" opció) engedélyezett. Amennyiben így lenne, a <code>szolgaltato.minta.org</code> nem fogja minden esetben fogja rendesen visszaadni az IP-címet az eredeti tulajdonosának. Ilyenkor a rendszergazdának kell ezt manuálisan megtennie. Tehát a következõ parancsot kell kiadnia a <code>szolgaltato.minta.org</code> gépen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ifconfig carp0 down &amp;&amp; ifconfig carp0 up</span></code></pre></div></div><div class=paragraph><p>Ezt az adott géphez tartozó <span class=filename>carp</span> felülettel kell megcsinálni.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Innentõl a CARP már teljesen engedélyezhetõ és készen áll a tesztelésre. A teszteléshez vagy a hálózati rendszert kell újraindítani, vagy a gépeket.</p></div><div class=paragraph><p>További információkat a <a href="https://man.freebsd.org/cgi/man.cgi?query=carp&amp;sektion=4&amp;format=html">carp(4)</a> man oldalán találhatunk.</p></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 2024. március 9. by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/firewalls class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/hu/books/handbook/partv class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#advanced-networking-synopsis>31.1. Áttekintés</a></li><li><a href=#network-routing>31.2. Átjárók és az útválasztás</a></li><li><a href=#network-wireless>31.3. Vezeték nélküli hálózatok</a></li><li><a href=#network-bluetooth>31.4. Bluetooth</a></li><li><a href=#network-bridging>31.5. Hálózati hidak</a></li><li><a href=#network-aggregation>31.6. Linkek összefûzése és hibatûrése</a></li><li><a href=#network-diskless>31.7. Lemez nélküli mûködés</a></li><li><a href=#network-isdn>31.8. ISDN</a></li><li><a href=#network-natd>31.9. Hálózati címfordítás</a></li><li><a href=#network-plip>31.10. Párhuzamos vonali IP (PLIP)</a></li><li><a href=#network-ipv6>31.11. Az IPv6</a></li><li><a href=#network-atm>31.12. Az Aszinkron adatátviteli mód (ATM)</a></li><li><a href=#carp>31.13. A Közös cím redundancia protokoll (CARP)</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/hu/books/handbook/handbook_hu.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/hu/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/hu/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>Hungarian</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/hu class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/hu/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>