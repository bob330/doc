<!doctype html><html class=theme-light lang=de><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/><title>Kapitel 5. Die Konfiguration des Makefile | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Kapitel 5. Die Konfiguration des Makefile"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="de"><meta property="og:url" content="http://172.16.201.134:1313/de/books/porters-handbook/makefile/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/de\/books\/porters-handbook\/makefile\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/de>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/de/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/de/books>Books</a></li><li><a href=http://172.16.201.134:1313/de/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/de/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=de>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-89897b13690206c8d016b08d866ebe49 class=toggle>
<label for=chapter-89897b13690206c8d016b08d866ebe49><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/why-port/>Kapitel 1. Einführung</a></li><li><input type=checkbox id=chapter-6619d34d40746c4cdcc07a792381c027 class=toggle>
<label for=chapter-6619d34d40746c4cdcc07a792381c027><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/own-port/>Kapitel 2. Einen neuen Port erstellen</a></li><li><input type=checkbox id=chapter-c0d52b9121b517084e01f59cefa725e1 class=toggle>
<label class="icon cursor" for=chapter-c0d52b9121b517084e01f59cefa725e1><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/quick-porting/>Kapitel 3. Einen neuen Port erstellen</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/quick-porting/#porting-makefile>3.1. Das Makefile schreiben</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/quick-porting/#porting-desc>3.2. Die Beschreibungsdateien erstellen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/quick-porting/#porting-checksum>3.3. Die Checksummendatei erzeugen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/quick-porting/#porting-testing>3.4. Den Port testen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/quick-porting/#porting-portlint>3.5. Ihren Port mit <code>portlint</code> überprüfen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/quick-porting/#porting-submitting>3.6. Den neuen Port einreichen</a></li></ul></li><li><input type=checkbox id=chapter-78c64b7f0aa40d4648859dde83f4ee13 class=toggle>
<label class="icon cursor" for=chapter-78c64b7f0aa40d4648859dde83f4ee13><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow/>Kapitel 4. Einen Port in aller Ruhe erstellen</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow/#slow-work>4.1. Die Funktionsweise</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow/#slow-sources>4.2. Den originalen Quelltext besorgen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow/#slow-modifying>4.3. Den Port bearbeiten</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow/#slow-patch>4.4. Fehlerbehebung (Patches)</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow/#slow-configure>4.5. Konfigurieren</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow/#slow-user-input>4.6. Handhabung von Benutzereingaben</a></li></ul></li><li><input type=checkbox id=chapter-869403c3f74bf6ec89e800963596e31a class=toggle checked>
<label class="icon cursor" for=chapter-869403c3f74bf6ec89e800963596e31a><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/>Kapitel 5. Die Konfiguration des Makefile</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-source>5.1. Der originale Quelltext</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-naming>5.2. Bezeichnungen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-categories>5.3. Kategorisierung</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-distfiles>5.4. Die Distributionsdateien</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-depend>5.7. Abhängigkeiten (dependencies)</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-masterdir>5.8. <code>MASTERDIR</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-manpages>5.9. Manualpages</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-info>5.10. Info-Dateien</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-options>5.11. Makefile-Optionen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#makefile-wrkdir>5.12. Die Festlegung des Arbeitsverzeichnisses</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#conflicts>5.13. Konfliktbehandlung</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/makefile/#install>5.14. Installation von Dateien</a></li></ul></li><li><input type=checkbox id=chapter-19e3150e00beb84341d8ac1a73936ef0 class=toggle>
<label class="icon cursor" for=chapter-19e3150e00beb84341d8ac1a73936ef0><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/>Kapitel 6. Besonderheiten</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#porting-shlibs>6.1. Shared-Libraries</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#porting-restrictions>6.2. Ports mit beschränkter Verbreitung</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#building>6.3. Build-Mechanismen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-autotools>6.4. Benutzung von GNU autotools</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-gettext>6.5. Benutzung von GNU <code>gettext</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-perl>6.6. Die Benutzung von <code>perl</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-x11>6.7. Benutzung von X11</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-gnome>6.8. Benutzung von GNOME</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-qt>6.9. Benutzung von Qt</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-kde>6.10. Benutzung von KDE</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-java>6.11. Benutzung von Java</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-php>6.12. Webanwendungen, Apache und PHP</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-python>6.13. Python benutzen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-tcl>6.14. Benutzung von Tcl/Tk</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-emacs>6.15. Emacs benutzen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-ruby>6.16. Ruby benutzen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-sdl>6.17. SDL verwenden</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-wx>6.18. wxWidgets verwenden</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-lua>6.19. Verwendung von Lua</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-xfce>6.20. Xfce verwenden</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-mozilla>6.21. Mozilla verwenden</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#using-databases>6.22. Benutzung von Datenbanken</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#rc-scripts>6.23. Starten und Anhalten von Diensten (rc Skripten)</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#users-and-groups>6.24. Hinzufügen von Benutzern und Gruppen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/special/#_von_kernelquellen_abhängige_ports>6.25. Von Kernelquellen abhängige Ports</a></li></ul></li><li><input type=checkbox id=chapter-154554011c772e1e6cc0108eef5e0b2b class=toggle>
<label class="icon cursor" for=chapter-154554011c772e1e6cc0108eef5e0b2b><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/plist/>Kapitel 7. Fortgeschrittene pkg-plist-Methoden</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/plist/#plist-sub>7.1. Änderungen an pkg-plist mit Hilfe von make-Variablen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/plist/#plist-cleaning>7.2. Leere Verzeichnisse</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/plist/#plist-config>7.3. Konfigurationsdateien</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/plist/#plist-dynamic>7.4. Dynamische oder statische Paketliste</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/plist/#plist-autoplist>7.5. Automatisiertes Erstellen von Paketlisten</a></li></ul></li><li><input type=checkbox id=chapter-5955b0791ccd51005b5bc5bebeec91e5 class=toggle>
<label class="icon cursor" for=chapter-5955b0791ccd51005b5bc5bebeec91e5><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/pkg-files/>Kapitel 8. Die pkg-* Dateien</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/pkg-files/#porting-message>8.1. <span class=filename>pkg-message</span></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/pkg-files/#pkg-install>8.2. <span class=filename>pkg-install</span></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/pkg-files/#pkg-deinstall>8.3. <span class=filename>pkg-deinstall</span></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/pkg-files/#pkg-req>8.4. <span class=filename>pkg-req</span></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/pkg-files/#pkg-names>8.5. Ändern der Namen der <span class=filename>pkg-*</span> Dateien</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/pkg-files/#using-sub-files>8.6. Nutzung von <code>SUB_FILES</code> und <code>SUB_LIST</code></a></li></ul></li><li><input type=checkbox id=chapter-ee86a11caedb6395ed82b94ec7a9c6cd class=toggle>
<label class="icon cursor" for=chapter-ee86a11caedb6395ed82b94ec7a9c6cd><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/testing/>Kapitel 9. Ihren Port testen</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/testing/#make-describe>9.1. <code>make describe</code> ausführen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/testing/#testing-portlint>9.2. Portlint</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/testing/#testing-porttools>9.3. Port Tools</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/testing/#porting-prefix>9.4. <code>PREFIX</code> und <code>DESTDIR</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/testing/#testing-tinderbox>9.5. Die Tinderbox</a></li></ul></li><li><input type=checkbox id=chapter-24703a9f2b5ab277e796cbfa6f5fd1e4 class=toggle>
<label class="icon cursor" for=chapter-24703a9f2b5ab277e796cbfa6f5fd1e4><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/port-upgrading/>Kapitel 10. Einen existierenden Port aktualisieren</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/port-upgrading/#cvs-diff>10.1. Patches mit CVS erstellen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/port-upgrading/#moved-and-updating-files>10.2. Die Dateien UPDATING und MOVED</a></li></ul></li><li><input type=checkbox id=chapter-1023911bc0041506653280b832dea3b2 class=toggle>
<label class="icon cursor" for=chapter-1023911bc0041506653280b832dea3b2><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/security/>Kapitel 11. Sicherheit der Ports</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/security/#security-intro>11.1. Warum Sicherheit so wichtig ist</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/security/#security-fix>11.2. Sicherheitslücken schliessen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/security/#security-notify>11.3. Die Community informiert halten</a></li></ul></li><li><input type=checkbox id=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7 class=toggle>
<label class="icon cursor" for=chapter-9a8875d5d59aa92f1e5a78e9ecd1fbe7><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/>Kapitel 12. Was man machen respektive vermeiden sollte</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-intro>12.1. Einführung</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#porting-wrkdir>12.2. <code>WRKDIR</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#porting-wrkdirprefix>12.3. <code>WRKDIRPREFIX</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#porting-versions>12.4. Unterschiedliche Betriebssysteme und Betriebssystemversionen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#freebsd-versions>12.5. __FreeBSD_version Werte</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-after-port-mk>12.6. Etwas hinter die <span class=filename>bsd.port.mk</span>-Anweisung schreiben</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-sh-exec>12.7. Benutzen Sie die <code>exec</code>-Anweisung in Wrapper-Skripten</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-rational>12.8. Aufgaben vernünftig lösen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-cc>12.9. Berücksichtigen Sie sowohl <code>CC</code> als auch <code>CXX</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-cflags>12.10. Berücksichtigen Sie <code>CFLAGS</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-pthread>12.11. Threading-Bibliotheken</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-freedback>12.12. Rückmeldungen</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-readme>12.13. <span class=filename>README.html</span></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-noinstall>12.14. Einen Port durch <code>BROKEN</code>, <code>FORBIDDEN</code> oder <code>IGNORE</code> als nicht installierbar markieren</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-deprecated>12.15. Kennzeichnen eines Ports zur Entfernung durch <code>DEPRECATED</code> oder <code>EXPIRATION_DATE</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-dot-error>12.16. Vermeiden Sie den Gebrauch des <code>.error</code>-Konstruktes</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-sysctl>12.17. Verwendung von <span class=filename>sysctl</span></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-rerolling-distfiles>12.18. Erneutes Ausliefern von Distfiles</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-dads/#dads-misc>12.19. Verschiedenes</a></li></ul></li><li><input type=checkbox id=chapter-5ef4c4c471a3f55c74fb71881f9d8713 class=toggle>
<label for=chapter-5ef4c4c471a3f55c74fb71881f9d8713><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/porting-samplem/>Kapitel 13. Beispiel eines Makefile</a></li><li><input type=checkbox id=chapter-70f5a4755700a24529175d26e65871bf class=toggle>
<label class="icon cursor" for=chapter-70f5a4755700a24529175d26e65871bf><a role=button></a></label><a href=http://172.16.201.134:1313/de/books/porters-handbook/keeping-up/>Kapitel 14. Auf dem Laufenden bleiben</a><ul><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/keeping-up/#freshports>14.1. FreshPorts</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/keeping-up/#cvsweb>14.2. Die Webschnittstelle zum Quelltext-Repository</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/keeping-up/#ports-mailling-list>14.3. Die FreeBSD Ports-Mailingliste</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/keeping-up/#build-cluster>14.4. Der Cluster zum Bauen von FreeBSD-Ports auf <code>pointyhat.FreeBSD.org</code></a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/keeping-up/#distfile-survey>14.5. Der FreeBSD Ports-Distfile-Scanner</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook/keeping-up/#portsmon>14.6. Das FreeBSD Ports-Monitoring-System</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Kapitel 5. Die Konfiguration des Makefile</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. Der originale Quelltext</a></li><li><a href=#makefile-naming>5.2. Bezeichnungen</a></li><li><a href=#makefile-categories>5.3. Kategorisierung</a></li><li><a href=#makefile-distfiles>5.4. Die Distributionsdateien</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-depend>5.7. Abhängigkeiten (dependencies)</a></li><li><a href=#makefile-masterdir>5.8. <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.9. Manualpages</a></li><li><a href=#makefile-info>5.10. Info-Dateien</a></li><li><a href=#makefile-options>5.11. Makefile-Optionen</a></li><li><a href=#makefile-wrkdir>5.12. Die Festlegung des Arbeitsverzeichnisses</a></li><li><a href=#conflicts>5.13. Konfliktbehandlung</a></li><li><a href=#install>5.14. Installation von Dateien</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class=paragraph><p>Das Konfigurieren des <span class=filename>Makefile</span> ist sehr einfach und wir schlagen vor, dass Sie zunächst einen Blick auf vorhandene Beispiele werfen. Zusätzlich gibt es ein <a href=#porting-samplem>Beispiel eines Makefile</a> in diesem Handbuch. Schauen Sie es sich an und verfolgen Sie bitte die Abfolge der Variablen und Abschnitte in dieser Vorlage. Damit erleichtern Sie es anderen, Ihren Port zu lesen.</p></div><div class=paragraph><p>Bedenken Sie bitte die folgenden Probleme in der hier vorgegebenen Abfolge der Unterabschnitte dieses Kapitels, wenn Sie Ihr neues <span class=filename>Makefile</span> erstellen:</p></div></div></div><div class=sect1><h2 id=makefile-source>5.1. Der originale Quelltext<a class=anchor href=#makefile-source></a></h2><div class=sectionbody><div class=paragraph><p>Liegt der Quelltext in <code>DISTDIR</code> als eine standardisierte und mit gzip gepackte Datei in der Art <span class=filename>foozolix-1.2.tar.gz</span>? Falls ja, können Sie zum nächsten Schritt übergehen. Falls nicht, sollten Sie versuchen, die Variablen <code>DISTVERSION</code>, <code>DISTNAME</code>, <code>EXTRACT_CMD</code>, <code>EXTRACT_BEFORE_ARGS</code>, <code>EXTRACT_AFTER_ARGS</code>, <code>EXTRACT_SUFX</code>, oder <code>DISTFILES</code> zu ändern. Das hängt davon ab, wie fremdartig das Distributionsfile Ihres Ports ist (der häufigste Fall ist <code>EXTRACT_SUFX=.tar.Z</code>, wenn der Tarball durch ein normales <code>compress</code> und nicht durch <code>gzip</code> gepackt wurde).</p></div><div class=paragraph><p>Im schlimmsten Fall können Sie einfach Ihre eigene Vorgabe mittels <code>do-extract</code> erzeugen und die Standardvorgabe überschreiben; aber dies sollte in den wenigsten Fällen, wenn überhaupt, notwendig sein.</p></div></div></div><div class=sect1><h2 id=makefile-naming>5.2. Bezeichnungen<a class=anchor href=#makefile-naming></a></h2><div class=sectionbody><div class=paragraph><p>Der erste Teil des <span class=filename>Makefile</span> beschreibt die Versionsnummer des Ports und führt ihn in der richtigen Kategorie auf.</p></div><div class=sect2><h3 id=_portname_und_portversion>5.2.1. <code>PORTNAME</code> und <code>PORTVERSION</code><a class=anchor href=#_portname_und_portversion></a></h3><div class=paragraph><p>Setzen Sie bitte die Variable <code>PORTNAME</code> auf den Basisnamen Ihres Ports und die Variable <code>PORTVERSION</code> auf dessen Versionsnummer.</p></div></div><div class=sect2><h3 id=makefile-naming-revepoch>5.2.2. <code>PORTREVISION</code> und <code>PORTEPOCH</code><a class=anchor href=#makefile-naming-revepoch></a></h3><div class=sect3><h4 id=_portrevision>5.2.2.1. <code>PORTREVISION</code><a class=anchor href=#_portrevision></a></h4><div class=paragraph><p>Die <code>PORTREVISION</code>-Variable ist ein streng monoton wachsender Wert, welcher auf 0 zurückgesetzt wird, nachdem <code>PORTVERSION</code> erhöht wurde (d.h. jedes Mal, wenn ein offizielles Release erfolgt). Sie wird an den Namen des Pakets angehängt, wenn sie ungleich 0 ist. Änderungen an <code>PORTREVISION</code> werden von automatisierten Werkzeugen (z.B. <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_version&amp;sektion=1&amp;format=html">pkg_version(1)</a>) genutzt, um anzuzeigen, dass ein neues Paket verfügbar ist.</p></div><div class=paragraph><p><code>PORTREVISION</code> sollte jedes Mal erhöht werden, wenn eine Änderung am Port erfolgt, die beträchtliche Auswirkungen auf den Inhalt oder Struktur des aus dem Port erzeugten Pakets zur Folge hat.</p></div><div class=paragraph><p>Beispiele dafür, wann <code>PORTREVISION</code> erhöht werden sollte:</p></div><div class=ulist><ul><li><p>Hinzufügen von Patches, welche Sicherheitslücken schließen, Fehler beseitigen oder neue Funktionalität zum Port hinzufügen.</p></li><li><p>Änderungen am <span class=filename>Makefile</span> des Ports, welche compile-time-Optionen hinzufügen oder entfernen.</p></li><li><p>Änderungen bezüglich Packliste oder am Verhalten während der Installation des Pakets (d.h. Änderungen an einem Skript, welches Ausgangsdaten für das Paket erzeugt, wie z.B. SSH-Hostschlüssel).</p></li><li><p>Versionssprung einer Shared-Library, welche eine Abhängigkeit dieses Ports ist (In diesem Fall würde ein Anwender bei der Installation des alten Pakets scheitern, falls er eine neue Version der Abhängigkeit bereits installiert hat, weil nach der alten Bibliothek libfoo.x anstatt nach libfoo.(x+1)) gesucht wird).</p></li><li><p>Schleichende Änderungen am Distfile, welche bedeutende funktionale Änderungen verursachen, d.h. Änderungen des Distfile erfordern eine Korrektur an <span class=filename>distinfo</span>, ohne dass damit zusammenhängend die <code>PORTVERSION</code> verändert wird, obwohl ein <code>diff -ru</code> zwischen der alten und der neuen Version bedeutende Veränderungen am Code nachweist.</p></li></ul></div><div class=paragraph><p>Beispiele für Änderungen, welche keine Erhöhung von <code>PORTREVISION</code> erfordern:</p></div><div class=ulist><ul><li><p>Stilistische Änderungen am Grundgerüst des Ports ohne funktionale Änderungen am daraus resultierenden Paket.</p></li><li><p>Änderungen an der Variable <code>MASTER_SITES</code> oder andere funktionale Änderungen, welche das resultierende Paket nicht verändern.</p></li><li><p>Marginale Patches am Distfile wie die Korrektur von Tippfehlern, welche nicht wichtig genug sind, um dem Benutzer die Bürde eines Upgrades aufzuerlegen.</p></li><li><p>Build fixes, die ein Paket erst kompilierbar machen, welches ohne diese Änderungen vorher nicht erzeugt werden konnte (solange die Änderungen keine funktionale Differenz bringen auf Plattformen, auf denen dieses Paket schon vorher gebaut werden konnte). Da <code>PORTREVISION</code> den Inhalt des Pakets wiederspiegelt, ist es nicht notwendig <code>PORTREVISION</code> zu erhöhen, wenn das Paket vorher nicht erstellt werden konnte.</p></li></ul></div><div class=paragraph><p>Als Faustregel gilt: Stellen Sie sich die Frage, ob die durchgeführte Änderung am Port jedem hilft (entweder aufgrund einer Verbesserung, Beseitigung eines Fehlers, oder der Annahme, dass das neue Paket überhaupt erst funktioniert) und wägen Sie es gegen den Umstand ab, dass jedermann, der seine Ports-Sammlung regelmässig auf dem neuesten Stand hält, zu einer Aktualisierung gezwungen wird. Falls Sie die Frage positiv beantworten sollten, erhöhen Sie die Variable <code>PORTREVISION</code>.</p></div></div><div class=sect3><h4 id=_portepoch>5.2.2.2. <code>PORTEPOCH</code><a class=anchor href=#_portepoch></a></h4><div class=paragraph><p>Von Zeit zu Zeit geschieht es, dass irgendjemand (Drittanbieter von Software oder FreeBSD Ports Committer) etwas Dummes tut und eine Version einer Software veröffentlicht, deren Versionsnummer niedriger ist als die der vorherigen. Ein Beispiel hierfür ist ein Port, der von foo-20000801 auf foo-1.0 geändert wird (der Erstere wird fälschlicherweise als neue Version behandelt, weil 2000801 ein numerisch größerer Wert ist als 1).</p></div><div class=paragraph><p>In Situationen wie diesen sollte die Variable <code>PORTEPOCH</code> erhöht werden. Wenn <code>PORTEPOCH</code> größer als 0 ist, wird sie an den Namen des Pakets angehängt, wie in Abschnitt 0 oberhalb bereits beschrieben. <code>PORTEPOCH</code> darf niemals verringert oder auf 0 gesetzt werden, weil der Vergleich des Pakets mit einem früheren Zeitpunkt scheitern würde (d.h. das Paket würde niemals als veraltet erkannt werden): Die neue Versionsnummer (<code>1.0,1</code> im obigen Beispiel) ist immer noch numerisch kleiner als die vorherige Version (2000801), aber das Suffix <code>,1</code> wird von automatisierten Werkzeugen gesondert behandelt und wird als größer erkannt, als das implizit angenommene Suffix <code>,0</code> im früheren Paket.</p></div><div class=paragraph><p>Das Entfernen oder Zurücksetzen von <code>PORTEPOCH</code> führt zu unendlichem Ärger. Wenn Sie die obigen Ausführungen nicht vollständig verstanden haben, lesen Sie es bitte unbedingt nochmals bis Sie es vollständig verinnerlicht haben, oder fragen Sie vor jeder Änderung auf den Mailinglisten nach!</p></div><div class=paragraph><p>Es wird erwartet, dass <code>PORTEPOCH</code> für die weitaus überwiegende Zahl der Ports nicht verwendet wird und der verantwortungsvolle und vorausschauende Umgang mit <code>PORTVERSION</code> macht es meist überflüssig, falls ein späteres Release die Versionsstruktur ändern sollte. Vorsicht ist geboten, wenn ein Release einer Drittanbieter-Software ohne eine offizielle Versionsnummer veröffentlicht wird, wie z.B. bei "Snapshot-Versionen". Man ist versucht, das Release mit dem jeweiligen Datum zu bezeichnen, was unweigerlich zu den oben beschriebenen Problemen führt, wenn das nächste "offizielle" Release erscheint.</p></div><div class=paragraph><p>Wenn z.B. ein Snapshot zum Datum 20000917 veröffentlicht wird und die vorherige Version der Software war 1.2, dann sollte der Snapshot die <code>PORTVERSION</code> 1.2.20000917 oder ähnlich erhalten und nicht 20000917, damit das nachfolgende Release, angenommen 1.3, immer noch einen größeren numerischen Wert aufweist.</p></div></div><div class=sect3><h4 id=_beispiel_für_den_gebrauch_von_portrevision_und_portepoch>5.2.2.3. Beispiel für den Gebrauch von <code>PORTREVISION</code> und <code>PORTEPOCH</code><a class=anchor href=#_beispiel_für_den_gebrauch_von_portrevision_und_portepoch></a></h4><div class=paragraph><p>Der <code>gtkmumble</code>-Port, Version <code>0.10</code>, befindet sich in der Ports-Sammlung:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.10</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.10</code>.</p></div><div class=paragraph><p>Ein Sicherheitsloch wurde entdeckt, das einen lokalen Patch von FreeBSD erforderlich macht. <code>PORTREVISION</code> wird entsprechend erhöht.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.10
PORTREVISION=   1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.10_1</code></p></div><div class=paragraph><p>Eine neue Version wird vom Software-Drittanbieter veröffentlicht, bezeichnet mit der Version <code>0.2</code> (es stellt sich heraus, dass der Autor beabsichtigte, dass <code>0.10</code> eigentlich <code>0.1.0</code> bedeuten sollte, nicht "was kommt nach 0.9" - Hoppla, aber nun ist es zu spät). Da die neue Unterversion <code>2</code> numerisch kleiner ist als die vorherige Version <code>10</code>, muss <code>PORTEPOCH</code> erhöht werden, um sicherzustellen, dass das neue Paket auch als "neuer" erkannt wird. Da es ein neues Release des Drittanbieters ist, wird <code>PORTREVISION</code> auf 0 zurückgesetzt (oder aus dem <span class=filename>Makefile</span> entfernt).</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.2
PORTEPOCH=      1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.2,1</code></p></div><div class=paragraph><p>Das nächste Release ist 0.3. Da <code>PORTEPOCH</code> niemals verringert wird, sind die Versionsvariablen nun wie folgt:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.3
PORTEPOCH=      1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.3,1</code></p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Falls <code>PORTEPOCH</code> mit diesem Upgrade auf <code>0</code> zurückgesetzt worden wäre, dann würde jemand, der das Paket <code>gtkmumble-0.10_1</code> installiert hätte, das Paket <code>gtkmumble-0.3</code> nicht als neuer erkennen, da <code>3</code> immer noch numerisch kleiner ist als <code>10</code>. Bedenken Sie, dass genau dies der springende Punkt an <code>PORTEPOCH</code> ist.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=_pkgnameprefix_und_pkgnamesuffix>5.2.3. <code>PKGNAMEPREFIX</code> und <code>PKGNAMESUFFIX</code><a class=anchor href=#_pkgnameprefix_und_pkgnamesuffix></a></h3><div class=paragraph><p>Zwei optionale Variablen, <code>PKGNAMEPREFIX</code> und <code>PKGNAMESUFFIX</code>, werden verknüpft mit <code>PORTNAME</code> und <code>PORTVERSION</code>, um <code>PKGNAME</code> zu bilden als <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>. Stellen Sie bitte unbedingt sicher, dass diese Variablen den <a href=#porting-pkgname>Richtlinien für einen guten Paketnamen</a> entsprechen. Insbesondere dürfen Sie <em>keinesfalls</em> einen Bindestrich (<code>-</code>) in <code>PORTVERSION</code> verwenden. Falls das Paket den <em>language-</em> oder <em>-compiled.specifics</em>-Teil aufweist (siehe unten) benutzen Sie <code>PKGNAMEPREFIX</code> oder <code>PKGNAMESUFFIX</code> respektive. Machen Sie diese Variablen nicht zum Bestandteil von <code>PORTNAME</code>!</p></div></div><div class=sect2><h3 id=_latest_link>5.2.4. <code>LATEST_LINK</code><a class=anchor href=#_latest_link></a></h3><div class=paragraph><p>Die Umgebungsvariable <code>LATEST_LINK</code> wird während der Paketerstellung verwendet, um einen Kurznamen festzulegen, der danach von <code>pkg_add -r</code> genutzt werden kann. Dadurch wird es beispielsweise möglich, die aktuelle Perl-Version durch einen einfachen Aufruf von <code>pkg_add -r perl</code> zu installieren (ohne die Angabe der korrekten Versionsnummer). Dieser Name muss eindeutig sowie "offensichtlich" sein.</p></div><div class=paragraph><p>In einigen Fällen können mehrere Versionen einer Applikation gleichzeitig in der Ports-Sammlung sein. Das index build- und das package build-System müssen nun in der Lage sein, diese als unterschiedliche Ports zu erkennen, obwohl diese Versionen alle die gleichen Variablen <code>PORTNAME</code>, <code>PKGNAMEPREFIX</code> und sogar <code>PKGNAMESUFFIX</code> aufweisen. In solchen Fällen sollte die optionale Variable <code>LATEST_LINK</code> auf einen unterschiedlichen Wert für alle Ports gesetzt werden mit Ausnahme des "Haupt-Ports". Beispiele hierfür sind die <span class=filename>lang/gcc46</span> und <span class=filename>lang/gcc</span>-Ports und die <span class=filename>www/apache*</span>-Familie. Wenn Sie die Umgebungsvariable <code>NO_LATEST_LINK</code> setzen, wird kein Link erzeugt, was für alle Versionen (aber nicht für die "Hauptversion") nützlich sein kann. Beachten Sie bitte, dass die Frage der Auswahl der "wichtigsten" Version ("am populärsten", "am besten Unterstützt", "zuletzt gepatcht" usw.) ausserhalb der Möglichkeiten dieses Handbuches liegt. Wir sagen Ihnen nur, wie Sie die anderen Ports spezifizieren, nachdem Sie den "Haupt-Port" erkoren haben.</p></div></div><div class=sect2><h3 id=porting-pkgname>5.2.5. Namensregeln für Pakete<a class=anchor href=#porting-pkgname></a></h3><div class=paragraph><p>Im Folgenden finden Sie die Regeln für die Benennung Ihrer Pakete. Diese sollen gewährleisten, dass das Paketverzeichnis leicht zu durchsuchen ist, da es bereits abertausende Pakete gibt und die Nutzer sich mit Schauder abwenden, wenn Ihre Augen überstrapaziert werden!</p></div><div class=paragraph><p>Der Paketname soll aussehen wie <span class=filename>language_region-name-compiled.specifics-version.numbers</span>.</p></div><div class=paragraph><p>Der Paketname ist definiert als <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>. Stellen Sie bitte sicher, dass die Variablen Ihres Ports diesem Format entsprechen.</p></div><div class="olist arabic"><ol class=arabic><li><p>FreeBSD bemüht sich ausserordentlich, die Landessprachen seiner Nutzer zu unterstützen. Die _language-_Variable soll eine Abkürzung mit 2 Buchstaben sein der Sprachen gemäß ISO-639, falls der Port für eine bestimmte Sprache spezifisch ist. Beispiele hierfür sind <code>ja</code> für Japanisch, <code>ru</code> für Russisch, <code>vi</code> für Vietnamesisch, <code>zh</code> für Chinesisch, <code>ko</code> für Koreanisch und <code>de</code> für Deutsch.</p><div class=paragraph><p>Sollte der Port spezifisch sein für eine gewisse Region innerhalb eines Sprachraumes, dann fügen Sie bitte auch den Ländercode mit 2 Buchstaben hinzu. Beispiele sind <code>en_US</code> für nordamerikanisches Englisch und <code>fr_CH</code> für schweizerisches Französisch.</p></div><div class=paragraph><p>Der <em>language-</em>Teil muss in der <code>PKGNAMEPREFIX</code>-Variable gesetzt werden.</p></div></li><li><p>Der erste Buchstabe des <span class=filename>name</span>-Teils muss kleingeschrieben werden (der Rest des Namens kann Großbuchstaben enthalten. Daher seien Sie bitte umsichtig, wenn Sie den Namen einer Software konvertieren, welche Grossbuchstaben enthält). Es ist Tradition, <code>Perl 5</code>-Module durch ein vorstehendes <code>p5-</code> und durch Umwandlung des doppelten Doppelpunktes in Bindestriche zu bezeichnen. So wird z.B. aus dem <code>Data::Dumper</code>-Modul der <code>p5-Data-Dumper</code>-Port.</p></li><li><p>Vergewissern Sie sich, dass der Name des Ports und seine Versionsnummer klar getrennt sind und in den Variablen <code>PORTNAME</code> und <code>PORTVERSION</code> stehen. Der einzige Grund, um in <code>PORTNAME</code> einen Versionsteil aufzunehmen ist der, dass die Software wirklich so bezeichnet wird, wie z.B. die Ports <span class=filename>textproc/libxml2</span> oder <span class=filename>japanese/kinput2-freewnn</span>. Ansonsten sollte <code>PORTNAME</code> keine versionsspezifischen Bestandteile aufweisen. Es ist vollkommen normal, dass viele Ports den gleichen <code>PORTNAME</code> aufweisen wie z.B. die <span class=filename>www/apache*</span>-Ports. In diesem Falle werden unterschiedliche Versionen (und unterschiedliche Indexeinträge) unterschieden durch die Werte von <code>PKGNAMEPREFIX</code>, <code>PKGNAMESUFFIX</code> und <code>LATEST_LINK</code>.</p></li><li><p>Falls der Port mit verschiedenen, <a href=#makefile-masterdir>fest kodierten Vorgaben</a> (üblicherweise Teil des Verzeichnisnamens in einer Familie von Ports) gebaut werden kann, dann soll der <em>-compiled.specifics</em>-Teil die einkompilierten Vorgaben anzeigen (der Bindestrich ist optional). Beispiele hierfür sind Papiergrößen und Font-Einheiten.</p><div class=paragraph><p>Der <em>-compiled.specifics</em>-Teil muss in der Variablen <code>PKGNAMESUFFIX</code> gesetzt werden.</p></div></li><li><p>Die Versionszeichenfolge sollte einen Bindestrich (<code>-</code>) am Schluss haben und eine von Punkten getrennte Liste von Integer-Zahlen und kleingeschriebenen Buchstaben sein. Es ist nicht zulässig, einen weiteren Bindestrich innerhalb des Versionsstrings zu verwenden! Die einzige Ausnahme hiervon ist die Zeichenfolge <code>pl</code> (bedeutet "patchlevel"), welche <em>nur</em> dann gebraucht werden darf, wenn die Applikation über keine Haupt- oder Unterversionsnummern verfügt. Wenn die Versionsbezeichnung der Software Zeichenketten wie "alpha", "beta", "rc" oder "pre" enthält, dann nehmen Sie bitte den ersten Buchstaben daraus und setzen ihn unmittelbar hinter einen Punkt. Falls die Versionszeichenfolge nach diesem Punkt fortgesetzt wird, sollen die Zahlen ohne einen Punkt zwischen den einzelnen Buchstaben folgen.</p><div class=paragraph><p>Das Ziel ist es, die Ports anhand der Versionszeichenfolge zu sortieren. Stellen Sie bitte unbedingt sicher, dass die Bestandteile der Versionsnummer immer durch einen Punkt getrennt sind und falls Datumsangaben verwendet werden, dass diese im Format <code>0.0.yyyy.mm.dd</code> und nicht <code>dd.mm.yyyy</code> oder gar dem nicht Y2K-kompatiblen Format <code>yy.mm.dd</code> vorliegen. Es ist wichtig, dass die Versionsnummer mit <code>0.0.</code> beginnt, da die Versionsnummer im Falle einer Veröffentlichung auf jeden Fall kleiner als <code>yyyy</code> sein wird.</p></div></li></ol></div><div class=paragraph><p>Hier sind einige reale Beispiele, die aufzeigen, wie man den Namen einer Applikation zu einem vernünftigen Paketnamen umwandelt:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.667%><thead><tr><th class="tableblock halign-left valign-top">Softwarename</th><th class="tableblock halign-left valign-top">PKGNAMEPREFIX</th><th class="tableblock halign-left valign-top">PORTNAME</th><th class="tableblock halign-left valign-top">PKGNAMESUFFIX</th><th class="tableblock halign-left valign-top">PORTVERSION</th><th class="tableblock halign-left valign-top">Grund</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mule-2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mule</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Keine Änderung erforderlich</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EmiClock-1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>emiclock</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>keine Großbuchstaben für einzelne Applikationen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rdist-1.3alpha</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>rdist</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.3.a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Keine Zeichenketten wie <code>alpha</code> erlaubt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>es-0.9-beta1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>es</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.9.b1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>keine Zeichenketten wie <code>beta</code> erlaubt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mailman-2.0rc3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mailman</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.0.r3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>keine Zeichenketten wie <code>rc</code> erlaubt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>v3.3beta021.src</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tiff</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Was sollte denn das eigentlich sein?</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pl11</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versionsstring zwingend erforderlich</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versionsstring zwingend erforderlich</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr-2.10pl1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.10.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>pl</code> nur erlaubt, wenn keine Versionsnummer vorhanden</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>gawk-2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ja-</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>gawk</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Japanische Sprachversion</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>psutils-1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>psutils</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>-letter</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Papergröße beim Paketbau fix kodiert</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>300</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Paket für 300 DPI Schriftarten</p></td></tr></tbody></table><div class=paragraph><p>Falls es in der Originalquelle überhaupt keinen Anhaltspunkt für irgendeine Versionsbezeichnung gibt und es unwahrscheinlich ist, dass der Autor jemals eine neue Version veröffentlichen wird, dann setzen Sie bitte die Version einfach auf <code>1.0</code> (wie im obigen Beispiel <code>piewm</code>). Sie können auch den Autor fragen oder eine Datumszeichenfolge in der Art <code>0.0.yyyy.mm.dd</code> als Version verwenden.</p></div></div></div></div><div class=sect1><h2 id=makefile-categories>5.3. Kategorisierung<a class=anchor href=#makefile-categories></a></h2><div class=sectionbody><div class=sect2><h3 id=_categories>5.3.1. <code>CATEGORIES</code><a class=anchor href=#_categories></a></h3><div class=paragraph><p>Wenn ein Paket erzeugt wird, dann wird es unter <span class=filename>/usr/ports/packages/All</span> abgelegt und von einem oder mehreren Unterverzeichnissen werden auf <span class=filename>/usr/ports/packages</span> Links erstellt. Die Namen dieser Unterverzeichnisse werden durch die Variable <code>CATEGORIES</code> festgelegt. Dies geschieht, um dem Nutzer zu helfen, eine große Zahl von Paketen auf einer FTP-Webseite oder einer CD/DVD zu durchsuchen. Bitte werfen Sie einen Blick auf die <a href=#porting-categories>Aktuelle Liste der Kategorien</a> und suchen Sie die beste Kategorie für Ihren Port aus.</p></div><div class=paragraph><p>Diese Liste legt auch fest, an welcher Stelle in der Ports-Sammlung der Port eingefügt wird. Falls Sie mehrere Kategorien angeben wird angenommen, dass die Dateien des Ports im Unterverzeichnis mit dem Namen der ersten angegebenen Kategorie liegen. Schauen Sie bitte <a href=#choosing-categories>unten</a> für weitere Informationen darüber, wie man die richtige Kategorie bestimmt.</p></div></div><div class=sect2><h3 id=porting-categories>5.3.2. Aktuelle Liste der Kategorien<a class=anchor href=#porting-categories></a></h3><div class=paragraph><p>Hier ist die aktuelle Liste der Kategorien. Die mit einem Asterisk (<code>*</code>) bezeichneten sind <em>virtuelle</em> Kategorien, also solche, welche über kein eigenes Unterverzeichnis in der Ports-Sammlung verfügen. Sie werden nur als Sekundärkategorien benutzt und sind nur für Suchzwecke eingerichtet worden.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Für nicht-virtuelle Kategorien finden Sie eine einzeilige Beschreibung in der Variable <code>COMMENT</code> im <span class=filename>Makefile</span> des jeweiligen Unterverzeichnisses.</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Kategorie</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Anmerkung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>accessibility</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für behinderte Menschen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>afterstep*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für den <a href=http://www.afterstep.org>AfterStep</a> Window Manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>arabic</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Arabische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>archivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Archivierungswerkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>astro</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für Astronomie.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>audio</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sound-Unterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>benchmarks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benchmarking-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>biology</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für Biologie.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>cad</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CAD-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>chinese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Chinesische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>comms</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kommunikationsprogramme.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hauptsächlich Software für serielle Schnittstellen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>converters</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zeichensatz-Konverter.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>databases</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Datenbanken.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>deskutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dinge, die vor der Erfindung des Computers auf dem Schreibtisch waren.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>devel</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Entwicklungs-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Legen Sie keine Bibliotheken hier ab, nur weil es Bibliotheken sind, es sei denn, sie gehören wirklich nirgendwo anders hin.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>dns</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DNS-bezogene Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>docs*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Meta-Ports für die FreeBSD-Dokumentation.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>editors</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>allgemeine Editoren.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spezielle Editoren gehören in Ihre jeweilige Kategorie, (z.B. gehört ein mathematischer Formeleditor in <span class=filename>math</span>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>elisp*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emacs-lisp-Ports.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>emulators</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emulatoren für andere Betriebssysteme.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Terminal-Emulatoren gehören <em>nicht</em> hierher; X-basierende gehören zu <span class=filename>x11</span> und text-basierende zu <span class=filename>comms</span> oder <span class=filename>misc</span>, abhängig von deren genauer Funktionalität.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>finance</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Finanz-Software und ähnliches.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>french</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Französische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ftp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FTP Client- und Server-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls Ihr Port sowohl FTP als auch HTTP unterstützt, stellen Sie ihn in <span class=filename>ftp</span> mit der Zweitkategorie <span class=filename>www</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>games</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spiele.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>geography*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>geografische Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>german</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Deutsche Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnome*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für <a href=http://www.gnome.org>GNOME</a></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnustep*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für GNUstep.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>graphics</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>grafische Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hamradio*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für Amateurfunk.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>haskell*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Haskell-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hebrew</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hebräische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hungarian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ungarische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ipv6*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IPv6-bezogene Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>irc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Internet Relay Chat (IRC)-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>japanese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Japanische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>java</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Java™-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die <span class=filename>java</span>-Kategorie sollte nicht die Einzige für einen Port sein mit Ausnahme der direkt nur mit der Programmiersprache zusammenhängenden Applikationen. Porter sollten <span class=filename>java</span> nicht als Hauptkategorie eines Ports wählen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für das <a href=http://www.kde.org>K Desktop Environment (KDE)</a>-Projekt.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kld*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kernelmodule.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>korean</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Koreanische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lang</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Programmiersprachen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>linux*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Linux-Applikationen und -Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lisp*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Lisp-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mail</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mail-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>math</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Numerische Berechnungen und andere mathematische Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mbone*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>MBone-Applikationen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>misc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verschiedene Werkzeuge.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hauptsächlich Werkzeuge, die nicht anderswo hingehören. Versuchen Sie, falls irgend möglich, eine bessere Kategorie für Ihren Port zu finden als <code>misc</code>, weil Ports hier leicht untergehen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>multimedia</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Multimedia-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verschiedene Netzwerk-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-im</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Instant Messaging-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Netzwerk-Management-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-p2p</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Peer to peer-Netzwerkprogramme.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>news</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>USENET News-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>palm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für <a href=http://www.palm.com/>Palm™</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>parallel*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Applikationen für paralleles Rechnen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>pear*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für das Pear PHP-Framework.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>perl5*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports, welche Perl Version 5 benötigen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>plan9*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verschiedene Programme von <a href=http://www.cs.bell-labs.com/plan9dist/>Plan9</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>polish</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Polnische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ports-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hilfsprogramme für das Installieren und Entwickeln von FreeBSD Ports und Paketen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>portuguese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Portugiesische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>print</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Drucker-Software.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Desktop Veröffentlichungs-Werkzeuge (DTP, Betrachter etc.) gehören auch hierher.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>python*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für <a href=http://www.python.org/>Python</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ruby*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für <a href=http://www.ruby-lang.org/>Ruby</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>rubygems*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für <a href=http://www.rubygems.org/>RubyGems</a>-Pakete.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>russian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Russische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>scheme*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Scheme-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>science</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Wissenschaftliche Programme, die in keine andere Kategorie passen wie z.B. <span class=filename>astro</span>, <span class=filename>biology</span> und <span class=filename>math</span>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>security</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Security-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>shells</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Shells.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>spanish*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spanische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>sysutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>System-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports, welche Tcl benötigen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>textproc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Textverarbeitungsprogramme.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dies beinhaltet nicht DTP-Werkzeuge, diese gehören in <span class=filename>print</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports, welche Tk benötigen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ukrainian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ukrainische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>vietnamese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vietnamesische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>windowmaker*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für den WindowMaker Window-Manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>www</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für das World Wide Web (WWW).</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>HTML-Werkzeuge gehören auch hierher.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X-Window-System und dergleichen.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Diese Kategorie ist nur für Software, welche direkt X unterstützt. Fügen Sie keine normalen X-Applikationen hinzu. Die meisten davon gehören in eine andere <span class=filename>x11-*</span>-Kategorie (siehe unten). Falls Ihr Port eine X-Applikation <em>ist</em>, dann definieren Sie bitte <code>USE_XLIB</code> (impliziert durch <code>USE_IMAKE</code>) und fügen ihn der entsprechenden Kategorie hinzu.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-clocks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Uhren.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-drivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Treiber.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Dateimanager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fonts</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Schriftarten und Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-servers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Server.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-themes</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Themes.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-toolkits</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Toolkits.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-wm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Window-Manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xfce*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports in Zusammenhang mit <a href=http://www.xfce.org/>Xfce</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>zope*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.zope.org/>Zope</a>-Unterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table></div><div class=sect2><h3 id=choosing-categories>5.3.3. Wählen der richtigen Kategorie<a class=anchor href=#choosing-categories></a></h3><div class=paragraph><p>Da viele der Kategorien sich überlappen, müssen Sie oft festlegen, welches die primäre Kategorie Ihres Ports ist. Hierzu gibt es einige Regeln, welche diese Auswahl bestimmen. Hier ist die Liste der Regeln mit abnehmender Wichtigkeit:</p></div><div class=ulist><ul><li><p>Die erste (primäre) Kategorie muss eine physische (keine virtuelle, siehe <a href=#porting-categories>oben</a>) sein. Dies ist notwendig damit Pakete erstellt werden können. Die nachfolgenden Kategorien können wahllos virtuelle oder physische Kategorien sein.</p></li><li><p>Sprachspezifische Kategorien kommen immer zuerst. Wenn Ihr Port z.B. Japanische X11-Schriftarten installiert, dann muss Ihre <code>CATEGORIES</code>-Zeile <span class=filename>japanese x11-fonts</span> enthalten.</p></li><li><p>Spezifische Kategorien werden vor weniger spezifischen Kategorien aufgelistet. Ein HTML-Editor sollte z.B. als <span class=filename>www editors</span> aufgeführt werden und nicht umgekehrt. Genauso sollten Sie keinen Port unter <span class=filename>net</span> aufführen, wenn er zu <span class=filename>irc</span>, <span class=filename>mail</span>, <span class=filename>news</span>, <span class=filename>security</span> oder <span class=filename>www</span> passt, da <span class=filename>net</span> in diesen Kategorien bereits implizit eingeschlossen ist.</p></li><li><p><span class=filename>x11</span> wird nur als sekundäre Kategorie benutzt, wenn die primäre Kategorie eine sprachspezifische ist. Keinesfalls sollten Sie <span class=filename>x11</span> in die Kategorie-Zeile einer X-Applikation setzen.</p></li><li><p>Emacs modes gehören in die gleiche Kategorie wie die vom jeweiligen mode unterstützte Applikation und nicht in <span class=filename>editors</span>. Ein Emacs mode z.B. für das Editieren von Quelltext einer bestimmten Programmiersprache gehört zur Kategorie <span class=filename>lang</span>.</p></li><li><p>Für Ports, die vom Benutzer ladbare Kernelmodule installieren, sollte die virtuelle Kategorie <span class=filename>kld</span> in die <code>CATEGORIES</code>-Zeile aufgenommen werden.</p></li><li><p><span class=filename>misc</span> sollte nicht zusammen mit irgendeiner anderen nicht-virtuellen Kategorie auftreten. Falls Sie <code>misc</code> mit einer anderen Kategorie in <code>CATEGORIES</code> haben bedeutet dies, dass Sie gefahrlos <code>misc</code> streichen und die andere Kategorie alleine verwenden können!</p></li><li><p>Falls Ihr Port wirklich in keine andere Kategorie passt, verwenden Sie bitte <span class=filename>misc</span>.</p></li></ul></div><div class=paragraph><p>Falls Sie sich über die Kategorie im Unklaren sind, hinterlassen Sie bitte einen Kommentar in Ihrem per <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> eingereichten Bericht, damit wir diese Frage vor dem Import diskutieren können. Falls Sie ein Committer sind, schicken Sie bitte eine Nachricht an <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a>, damit die Frage im Vorhinein erörtert werden kann. Neue Ports werden zu häufig falsch kategorisiert und werden sofort wieder verschoben. Das bläht das Master Source Repository unnötig auf.</p></div></div><div class=sect2><h3 id=proposing-categories>5.3.4. Eine neue Kategorie vorschlagen<a class=anchor href=#proposing-categories></a></h3><div class=paragraph><p>Da die Ports-Sammlung über viele Jahre gewachsen ist, wurden viele neue Kategorien hinzugefügt. Neue Kategorien können <em>virtuell</em> (ohne eigenes Unterverzeichnis in der Ports-Sammlung) oder <em>physisch</em> sein. Der nachfolgende Text führt einige Punkte auf, welche bei der Neueinführung einer physischen Kategorie beachtet werden müssen, damit Sie dies bei einem eventuellen Vorschlag Ihrerseits berücksichtigen können.</p></div><div class=paragraph><p>Unsere bestehende Maxime ist die Vermeidung der Neuanlage von physischen Kategorien, solange nicht eine große Zahl von Ports zugeordnet werden können oder falls ihr nicht Ports zugehören würden, welche eine logisch abgegrenzte Gruppe von limitiertem öffentlichem Interesse zugehören würden (zum Beispiel neue Sprachkategorien) oder vorzugsweise beides.</p></div><div class=paragraph><p>Die Erklärung dafür ist, dass eine Neuanlage einer physischen Kategorie einen <a href=https://docs.freebsd.org/en/articles/committers-guide/#ports>erheblichen Arbeitsaufwand</a> sowohl für die Committer als auch diejenigen Nutzer bedeutet, welche die Änderungen der Ports-Sammlung nachvollziehen. Zusätzlich verursachen Vorschläge für neue Kategorien oftmals Kontroversen (natürlich deswegen, weil es keinen klaren Konsens darüber gibt, welche Kategorie als "zu groß" betrachtet werden muss noch ob sich bestimmte Kategorien zur einfachen Suche eignen (und wie viele Kategorien überhaupt ideal wären) und so weiter).</p></div><div class=paragraph><p>Hier ist das Prozedere:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Schlagen Sie die neue Kategorie auf <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a> vor. Sie sollten eine detaillierte Begründung für die neue Kategorie beifügen einschließlich einer Erklärung, warum Sie meinen, die existierenden Kategorien seien nicht ausreichend. Zeigen Sie außerdem eine Liste der zu verschiebenden Ports (falls neue Ports in GNATS auf ihren commit warten, die in diese Kategorie passen würden. Listen Sie diese bitte auch mit auf). Sind Sie der Maintainer oder Einreicher dieser Ports, erwähnen Sie es bitte. Es verleiht Ihrem Vorschlag mehr Gewicht.</p></li><li><p>Nehmen Sie an der Diskussion teil.</p></li><li><p>Falls es Unterstützung für Ihren Vorschlag geben sollte, reichen Sie bitte einen PR ein, welcher die Begründung und die Liste der betroffenen Ports enthält, die verschoben werden müssen. Idealerweise sollte der PR Patches für Folgendes enthalten:</p><div class=ulist><ul><li><p><span class=filename>Makefile</span>s für die neuen Ports nach dem Repocopy</p></li><li><p><span class=filename>Makefile</span> für die neue Kategorie</p></li><li><p><span class=filename>Makefile</span> für die alten Kategorien der betroffenen Ports</p></li><li><p><span class=filename>Makefile</span>s für Ports, welche von den alten Ports abhängen</p></li><li><p>Für zusätzliches Ansehen sorgen Sie, wenn Sie die anderen Dateien, die geändert werden müssen, beifügen wie in der Direktive des Committer’s Guide beschrieben.</p></li></ul></div></li><li><p>Da es die Ports-Infrastruktur beeinflusst und nicht nur die Durchführung von Repocopies und möglicherweise sogar Regressionstests auf dem Build Cluster durchgeführt werden müssen, sollte der PR dem Ports Management Team Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> zugeordnet werden.</p></li><li><p>Sobald der PR bestätigt wurde muss ein Committer den Rest der Prozedur durchführen, welche im <a href=https://docs.freebsd.org/en/articles/committers-guide/#ports>Committers Guide</a> beschrieben ist.</p></li></ol></div></div></div><div class=paragraph><p>Das Vorschlagen einer neuen virtuellen Kategorie ist ähnlich, aber wesentlich weniger aufwendig, weil keine Ports verschoben werden müssen. In diesem Falle müssen nur die Patches an den PR beigefügt werden, welche die neue Kategorie zur Variable <code>CATEGORIES</code> der betroffenen Ports hinzufügen.</p></div></div><div class=sect2><h3 id=proposing-reorg>5.3.5. Vorschlagen einer Neuorganisation aller Kategorien<a class=anchor href=#proposing-reorg></a></h3><div class=paragraph><p>Von Zeit zu Zeit schlägt jemand eine komplette Neuorganisation aller Ports, entweder mit einer zweistufigen Struktur oder irgendeiner Art von Schlüsselwörtern, vor. Bis heute wurde keiner dieser Vorschläge umgesetzt, weil sie zwar einfach zu machen sind, aber der Aufwand zur Umsetzung und Reorganisation der kompletten Ports-Sammlung schlichtweg mörderisch wäre. Bitte lesen Sie die Geschichte dieser Vorschläge in den Archiven der Mailinglisten nach, bevor Sie diese Ideen nochmals unterbreiten. Zudem sollten Sie gewappnet sein, dass man Sie auffordert, einen arbeitsfähigen Prototyp vorzulegen.</p></div></div></div></div><div class=sect1><h2 id=makefile-distfiles>5.4. Die Distributionsdateien<a class=anchor href=#makefile-distfiles></a></h2><div class=sectionbody><div class=paragraph><p>Der zweite Teil des <span class=filename>Makefile</span> beschreibt die Dateien, welche heruntergeladen werden müssen, um den Port zu bauen und wo diese Dateien zu finden sind.</p></div><div class=sect2><h3 id=_distversiondistname>5.4.1. <code>DISTVERSION/DISTNAME</code><a class=anchor href=#_distversiondistname></a></h3><div class=paragraph><p><code>DISTNAME</code> ist der Name der Applikation wie er von den Autoren vergeben wurde. <code>DISTNAME</code> hat als Vorgabe <code>${PORTNAME}-${PORTVERSION}</code> also überschreiben Sie diese Vorgabe nur, wenn es notwendig ist. <code>DISTNAME</code> wird nur an zwei Stellen genutzt. Erstens: (<code>DISTFILES</code>) hat als Vorgabe <code>${DISTNAME}${EXTRACT_SUFX}</code>. Zweitens: Die Distributionsdatei soll in einem Unterverzeichnis namens <code>WRKSRC</code> extrahiert werden, dessen Vorgabe <span class=filename>work/${DISTNAME}</span> ist.</p></div><div class=paragraph><p>Manche Drittanbieter-Namen, welche nicht in das Schema <code>${PORTNAME}-${PORTVERSION}</code> passen, können durch Setzen von <code>DISTVERSION</code> automatisch behandelt werden. <code>PORTVERSION</code> und <code>DISTNAME</code> werden automatisch abgeleitet, können aber natürlich manuell überschrieben werden. Die folgende Tabelle führt einige Beispiele auf:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">DISTVERSION</th><th class="tableblock halign-left valign-top">PORTVERSION</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1d</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1.d</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>10Alpha3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10.a3</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>3Beta7-pre2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.b7.p2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>8:f_17</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8f.17</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>PKGNAMEPREFIX</code> und <code>PKGNAMESUFFIX</code> beeinflussen <code>DISTNAME</code> nicht. Beachten Sie bitte auch, dass Sie <code>DISTNAME</code> unverändert lassen sollten, falls <code>WRKSRC</code> denselben Wert hat wie <span class=filename>work/${PORTNAME}-${PORTVERSION}</span> und gleichzeitig dass Archiv des originalen Quelltextes anders benannt ist als <code>${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</code>. Es ist einfacher <code>DISTFILES</code> zu definieren, als <code>DISTNAME</code> und <code>WRKSRC</code> (und möglicherweise <code>EXTRACT_SUFX</code>) zu setzen.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_master_sites>5.4.2. <code>MASTER_SITES</code><a class=anchor href=#_master_sites></a></h3><div class=paragraph><p>Dokumentieren Sie das Verzeichnis der FTP/HTTP-URL, welche auf den originalen Tarball zeigt, in der Variable <code>MASTER_SITES</code>. Bitte vergessen Sie niemals den Schrägstrich (<span class=filename>/</span>) am Ende!</p></div><div class=paragraph><p>Die <code>make</code>-Makros werden versuchen, diese Festlegung für die Aufbereitung der Distributionsdateien mittels <code>FETCH</code> zu benutzen, falls sie diese nicht schon auf dem System finden.</p></div><div class=paragraph><p>Es wird empfohlen, mehrere Webseiten in dieser Liste aufzuführen, vorzugsweise auf verschiedenen Kontinenten. Dies ist ein Schutz gegen Probleme bei größeren Ausfällen im Internet. Wir planen sogar Unterstützung einzubauen, die automatisch einen Server in der Nähe zum Herunterladen bestimmt. Die Verfügbarkeit von vielen Webseiten wird dieses Vorhaben beträchtlich erleichtern.</p></div><div class=paragraph><p>Falls der originale Tarball Teil eines populären Archivs ist, wie SourceForge, GNU oder Perl CPAN, können Sie möglicherweise auf diese Seiten in einer einfachen und kompakten Form mittels <code>MASTER_SITE_*</code> (d.h., <code>MASTER_SITE_SOURCEFORGE</code>,, <code>MASTER_SITE_GNU</code> und <code>MASTER_SITE_PERL_CPAN</code>) referenzieren. Setzen Sie einfach <code>MASTER_SITES</code> auf eine dieser Variablen und <code>MASTER_SITE_SUBDIR</code> auf den Pfad innerhalb des Archivs. Hier ist ein Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=         ${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=   make</pre></div></div><div class=paragraph><p>Oder verwenden Sie ein kondensiertes Format:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   GNU/make</pre></div></div><div class=paragraph><p>Diese Variablen werden in <span class=filename>/usr/ports/Mk/bsd.sites.mk</span> definiert. Es werden ständig neue Einträge hinzugefügt, daher stellen Sie bitte unbedingt sicher, dass Sie die neueste Version verwenden, bevor Sie einen Port einschicken.</p></div><div class=paragraph><p>Für beliebte Seiten existieren sogenannte <em>magic</em>-Makros, die eine bestimmte Verzeichnisstruktur erstellen. Um eines dieser Makros zu verwenden, geben Sie dessen Abkürzung an und Ihr System wird versuchen, das korrekte Unterverzeichnis automatisch zu bestimmen.</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF</pre></div></div><div class=paragraph><p>Ist das Ergebnis nicht korrekt, können Sie diesen Wert auch überschreiben.</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF/stardict/WyabdcRealPeopleTTS/${PORTVERSION}</pre></div></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 1. Beliebte magic <code>MASTER_SITES</code>-Makros</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Makro</th><th class="tableblock halign-left valign-top">Erwartetes Unterverzeichnis</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_JAKARTA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/dist/jakarta/${PORTNAME:S,-,,/,}/source</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BERLIOS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CHEESESHOP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/packages/source/source/${DISTNAME:C/(.).*/\1/}/${DISTNAME:C/(.*)-[0-9].*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>DEBIAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/debian/pool/main/${PORTNAME:C/^((lib)?.).*$/\1/}/${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GCC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/gcc/releases/${DISTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNOME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/GNOME/sources/${PORTNAME}/${PORTVERSION:C/^(<span class=0-9>\.[0-9]</span>).*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNU</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/gnu/${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MOZDEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/mozdev/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PERL_CPAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/CPAN/modules/by-module/${PORTNAME:C/-.*//}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYTHON</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/ftp/python/${PYTHON_PORTVERSION:C/rc[0-9]//}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBYFORGE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SAVANNAH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/project/${PORTNAME:L}/${PORTNAME:L}/${PORTVERSION}</code></p></td></tr></tbody></table></div><div class=sect2><h3 id=_extract_sufx>5.4.3. <code>EXTRACT_SUFX</code><a class=anchor href=#_extract_sufx></a></h3><div class=paragraph><p>Falls Sie eine Distributionsdatei haben, die ein eigentümliches Suffix nutzt, um die Art der Kompression anzuzeigen, dann setzen Sie <code>EXTRACT_SUFX</code>.</p></div><div class=paragraph><p>Ist die Distributionsdatei zum Beispiel im Stil von <span class=filename>foo.tgz</span> anstatt des normalen <span class=filename>foo.tar.gz</span> benannt, würden Sie schreiben:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTNAME=      foo
EXTRACT_SUFX=  .tgz</pre></div></div><div class=paragraph><p>Falls erforderlich, setzen die Variablen <code>USE_BZIP2</code> und <code>USE_ZIP</code> automatisch <code>EXTRACT_SUFX</code> auf <code>.tar.bz2</code> oder <code>.zip</code>. Falls keine der beiden gesetzt ist, dann verwendet <code>EXTRACT_SUFX</code> die Vorgabe <code>.tar.gz</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sie müssen niemals beide Variablen <code>EXTRACT_SUFX</code> und <code>DISTFILES</code> setzen.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_distfiles>5.4.4. <code>DISTFILES</code><a class=anchor href=#_distfiles></a></h3><div class=paragraph><p>Manchmal haben die zu ladenden Dateien keinerlei Ähnlichkeit mit dem Namen des Ports. Es könnte z.B. <span class=filename>source.tar.gz</span> oder ähnlich heißen. In anderen Fällen könnte der Quelltext in mehreren Archiven sein und alle müssen heruntergeladen werden.</p></div><div class=paragraph><p>Falls dies der Fall ist, setzen Sie <code>DISTFILES</code> als eine durch Leerzeichen getrennte Liste aller Dateien, die geladen werden müssen.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=     source1.tar.gz source2.tar.gz</pre></div></div><div class=paragraph><p>Wenn nicht ausdrücklich gesetzt, verwendet <code>DISTFILES</code> als Vorgabe <code>${DISTNAME}${EXTRACT_SUFX}</code>.</p></div></div><div class=sect2><h3 id=_extract_only>5.4.5. <code>EXTRACT_ONLY</code><a class=anchor href=#_extract_only></a></h3><div class=paragraph><p>Falls nur einige der <code>DISTFILES</code> extrahiert werden müssen (z.B. eine Datei ist der Quelltext und eine andere ist ein unkomprimiertes Dokument), dann listen Sie die zu extrahierenden Dateien in <code>EXTRACT_ONLY</code> auf.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=     source.tar.gz manual.html
EXTRACT_ONLY=  source.tar.gz</pre></div></div><div class=paragraph><p>Falls <em>keine</em> der <code>DISTFILES</code> unkomprimiert sein sollte, dann setzen Sie <code>EXTRACT_ONLY</code> auf einen leeren String.</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_ONLY=</pre></div></div></div><div class=sect2><h3 id=porting-patchfiles>5.4.6. <code>PATCHFILES</code><a class=anchor href=#porting-patchfiles></a></h3><div class=paragraph><p>Falls Ihr Port zusätzliche Patches benötigt, welche per FTP oder HTTP verfügbar sind, dann setzen Sie <code>PATCHFILES</code> auf den Namen der Dateien und <code>PATCH_SITES</code> auf die URL des Verzeichnisses, das diese Patches enthält (das Format ist das gleiche wie <code>MASTER_SITES</code>).</p></div><div class=paragraph><p>Falls ein Patch wegen einiger zusätzlicher Pfadnamen nicht relativ zum Anfang des Quelltextbaumes (d.h., <code>WRKSRC</code>) liegt, dann setzen Sie bitte <code>PATCH_DIST_STRIP</code> entsprechend. Wenn z.B. alle Pfadnamen in diesem Patch ein zusätzliches <code>foozolix-1.0/</code> vor ihren Dateinamen aufweisen, dann setzen Sie bitte <code>PATCH_DIST_STRIP=-p1</code>.</p></div><div class=paragraph><p>Kümmern Sie sich nicht darum, ob die Patches komprimiert sind. Sie werden automatisch dekomprimiert, wenn die Dateinamen auf <span class=filename>.gz</span> oder <span class=filename>.Z</span> enden.</p></div><div class=paragraph><p>Falls der Patch zusammen mit anderen Dateien in einem gezippten Tarball verteilt wird (z.B. mit Dokumentation), dann können Sie nicht <code>PATCHFILES</code> verwenden. In diesem Fall fügen Sie den Namen und den Ort dieses Tarballs zu <code>DISTFILES</code> und <code>MASTER_SITES</code>. Benutzen Sie dann die <code>EXTRA_PATCHES</code>-Variable, um auf diese Dateien zu zeigen und <span class=filename>bsd.port.mk</span> wird automatisch diese Dateien nutzen. Kopieren Sie <em>niemals</em> Patch-Dateien in das <code>PATCHDIR</code>-Verzeichnis, weil es möglicherweise nicht beschreibbar ist.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Der Tarball wird zusammen mit dem anderen Quelltext extrahiert werden. Eine ausdrückliche Dekomprimierung eines mit gzip oder compress erzeugten Tarball ist nicht notwendig. Sollten Sie dies dennoch vorgeben, so beachten Sie bitte peinlich genau, dass Sie nichts überschreiben, was bereits im Verzeichnis vorhanden ist. Vergessen Sie auch nicht den kopierten Patch im Target von <code>pre-clean</code> zu entfernen.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=porting-master-sites-n>5.4.7. Verschiedene Distributionsdateien oder Patches von verschiedenen Seiten und Verzeichnissen (<code>MASTER_SITES:n</code>)<a class=anchor href=#porting-master-sites-n></a></h3><div class=paragraph><p>(Betrachten Sie es als in irgendeiner Form "fortgeschrittenes Thema". Neulinge sollten möglicherweise diesen Abschnitt beim ersten Lesen überspringen).</p></div><div class=paragraph><p>Dieser Abschnitt stellt Informationen über die Mechanismen zum Herunterladen von Dateien zur Verfügung und behandelt die Variablen <code>MASTER_SITES:n</code> und <code>MASTER_SITES_NN</code>. Wir beziehen uns im weiteren Text auf diese Variablen als <code>MASTER_SITES:n</code>.</p></div><div class=paragraph><p>Etwas Hintergrundinformation zu Beginn: OpenBSD verfügt über eine sehr elegante Option innerhalb der Variablen <code>DISTFILES</code> und <code>PATCHFILES</code>. Sowohl Dateien als auch Patches können mit angehängten <code>:n</code>-Bezeichnern versehen werden wobei <code>n</code> in beiden Fällen <code>[0-9]</code> sein kann und eine Gruppenzugehörigkeit anzeigt. Ein Beispiel hierfür ist:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=      alpha:0 beta:1</pre></div></div><div class=paragraph><p>In OpenBSD wird die Datei <span class=filename>alpha</span> mit der Variable <code>MASTER_SITES0</code> verknüpft anstatt dem in FreeBSD gebräuchlichen <code>MASTER_SITES</code> und <span class=filename>beta</span> mit <code>MASTER_SITES1</code>.</p></div><div class=paragraph><p>Das ist eine sehr interessante Möglichkeit, die endlose Suche nach der richtigen Download-Seite zu verkürzen.</p></div><div class=paragraph><p>Stellen Sie sich zwei Dateien in <code>DISTFILES</code> und 20 Webseiten in der Variable <code>MASTER_SITES</code> vor. Alle Seiten sind erschreckend langsam, <span class=filename>beta</span> findet sich auf allen Seiten in <code>MASTER_SITES</code> und <span class=filename>alpha</span> kann nur auf der zwanzigsten Seite gefunden werden. Wäre es nicht reine Verschwendung, wenn der Maintainer alle Seiten zuvor überprüfen müsste? Kein guter Start für das wundervolle Wochenende!</p></div><div class=paragraph><p>Übertragen Sie diesen Umstand auf noch mehr <code>DISTFILES</code> und mehr <code>MASTER_SITES</code>. Ganz sicher würde unser "distfiles survey master" die Erleichterung sehr zu schätzen wissen, die eine solche Verringerung der Netzwerkbelastung bringen würde.</p></div><div class=paragraph><p>In den nächsten Abschnitten sehen Sie die Implementierung dieser Idee durch FreeBSD. Dabei wurde das Konzept von OpenBSD ein wenig verbessert.</p></div><div class=sect3><h4 id=_prinzipielle_information>5.4.7.1. Prinzipielle Information<a class=anchor href=#_prinzipielle_information></a></h4><div class=paragraph><p>Dieser Abschnitt informiert Sie, wie Sie schnell ein fein granuliertes Herunterladen von vielen Dateien und Fehlerbereinigungen von verschiedenen Webseiten und Unterverzeichnissen bewerkstelligen. Wir beschreiben hier den Fall der vereinfachten Nutzung von <code>MASTER_SITES:n</code>. Das ist für die meisten Szenarien ausreichend. Falls Sie weitere Informationen benötigen, sollten Sie den nächsten Abschnitt lesen.</p></div><div class=paragraph><p>Einige Programme bestehen aus mehreren Dateien, welche von verschiedenen Webseiten heruntergeladen werden müssen. Zum Beispiel besteht Ghostscript aus dem Kern des Programms und einer großen Zahl von Treiberdateien, die vom Drucker des Benutzers abhängen. Einige dieser Treiberdateien werden mit der Kernapplikation mitgeliefert aber viele müssen von verschiedenen Webseiten heruntergeladen werden.</p></div><div class=paragraph><p>Um das zu unterstützen, muss jeder Eintrag in <code>DISTFILES</code> mit einem Komma und einem "tag name" abgeschlossen werden. Jeder in <code>MASTER_SITES</code> aufgeführte Webseite folgt ein Komma und eine Marke (tag), die anzeigt, welche Datei von dieser Webseite heruntergeladen werden kann.</p></div><div class=paragraph><p>Stellen Sie sich bitte eine Applikation vor, deren Quelltext in zwei Teile aufgeteilt ist, <span class=filename>source1.tar.gz</span> und <span class=filename>source2.tar.gz</span>, welche von zwei verschiedenen Webseiten heruntergeladen werden müssen. Das <span class=filename>Makefile</span> des Port würde Zeilen enthalten wie in <a href=#ports-master-sites-n-example-simple-use-one-file-per-site>Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit einer Datei pro Webseite</a>.</p></div><div id=ports-master-sites-n-example-simple-use-one-file-per-site class=exampleblock><div class=title>Beispiel 1. Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit einer Datei pro Webseite</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   ftp://ftp.example1.com/:source1 \
	ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
	source2.tar.gz:source2</pre></div></div></div></div><div class=paragraph><p>Verschiedene Dateien können die gleiche Marke aufweisen. Ausgehend vom vorherigen Beispiel nehmen wir an, dass es noch eine dritte Datei gibt (<span class=filename>source3.tar.gz</span>), welche von <code>ftp.example2.com</code> heruntergeladen werden soll. Das <span class=filename>Makefile</span> würde dann aussehen wie <a href=#ports-master-sites-n-example-simple-use-more-than-one-file-per-site>Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit mehr als einer Datei pro Webseite</a>.</p></div><div id=ports-master-sites-n-example-simple-use-more-than-one-file-per-site class=exampleblock><div class=title>Beispiel 2. Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit mehr als einer Datei pro Webseite</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   ftp://ftp.example1.com/:source1 \
	ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
	source2.tar.gz:source2 \
	source3.tar.gz:source2</pre></div></div></div></div></div><div class=sect3><h4 id=_ausführliche_information>5.4.7.2. Ausführliche Information<a class=anchor href=#_ausführliche_information></a></h4><div class=paragraph><p>In Ordnung, das vorherige Beispiel reicht nicht für Ihre Bedürfnisse? In diesem Abschnitt werden wir im Detail erklären, wie der fein granulierte Mechanismus zum Herunterladen (<code>MASTER_SITES:n</code>) funktioniert und wie Sie Ihre Ports modifizieren, um ihn zu nutzen.</p></div><div class="olist arabic"><ol class=arabic><li><p>Elemente können nachstehend bezeichnet werden mit <code>:n</code> wobei <em>n</em> in diesem Falle <code><span class=^:>` ist. Das heißt _n_ könnte theoretisch jede alphanumerische Zeichenkette sein, aber wir beschränken sie auf `[a-zA-Z_][0-9a-zA-Z_]</span></code> für diesen Moment.</p><div class=paragraph><p>Zudem ist die Zeichenkette case sensitive; d.h. <code>n</code> unterscheidet sich von <code>N</code>.</p></div><div class=paragraph><p>Allerdings dürfen die folgenden Wörter nicht gebraucht werden, da sie spezielle Bedeutungen haben: <code>default</code>, <code>all</code> und <code>ALL</code> (diese Wörter werden intern genutzt in Punkt <a href=#porting-master-sites-n-what-changes-in-port-targets>ii</a>). Ausserdem ist <code>DEFAULT</code> ein reserviertes Wort (beachten Sie <a href=#porting-master-sites-n-DEFAULT-group>3</a>).</p></div></li><li><p>Elemente mit angehängtem <code>:n</code> gehören zur Gruppe <code>n</code>, <code>:m</code> gehört zur Gruppe <code>m</code> und so weiter.</p></li><li><p>Elemente ohne Anhängsel sind gruppenlos, d.h. sie gehören alle zu der speziellen Gruppe <code>DEFAULT</code>. Falls sie an irgendeinem Element <code>DEFAULT</code> hängen, ist dies überflüssig, es sei denn Sie wollen, dass ein Element sowohl zu <code>DEFAULT</code> als auch anderen Gruppen gleichzeitig gehört (beachten Sie <a href=#porting-master-sites-n-comma-operator>5</a>).</p><div class=paragraph><p>Die folgenden Beispiele sind gleichwertig, aber das erste Beispiel ist vorzuziehen:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   alpha

MASTER_SITES=   alpha:DEFAULT</pre></div></div></li><li><p>Gruppen sind nicht ausschliessend, d.h. ein Element kann mehreren Gruppen gleichzeitig angehören und eine Gruppe wiederum kann entweder mehrere Elemente oder überhaupt keine aufweisen. Wiederholte Elemente sind schlicht nur wiederholte Elemente.</p></li><li><p>Wenn Sie wollen, dass ein Element gleichzeitig zu mehreren Gruppen gehört, dann können Sie diese durch ein Komma (<code>,</code>) trennen.</p><div class=paragraph><p>Anstatt jedes Mal ein anderes Anhängsel zu verwenden und Wiederholungen aufzuführen, können Sie mehrere Gruppen auf einmal in einem einzigen Anhängsel bestimmen. Zum Beispiel markiert <code>:m,n,o</code> ein Element, welches zu den Gruppen <code>m</code>, <code>n</code> und <code>o</code> gehört.</p></div><div class=paragraph><p>Alle folgenden Beispiele sind gleichwertig, aber das erste Beispiel ist vorzuziehen:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   alpha alpha:SOME_SITE

MASTER_SITES=   alpha:DEFAULT alpha:SOME_SITE

MASTER_SITES=   alpha:SOME_SITE,DEFAULT

MASTER_SITES=   alpha:DEFAULT,SOME_SITE</pre></div></div></li><li><p>Alle Webseiten in einer Gruppe werden gemäß <code>MASTER_SORT_AWK</code> sortiert. Alle Gruppen innerhalb von <code>MASTER_SITES</code> und <code>PATCH_SITES</code> werden genauso sortiert.</p></li><li><p>Gruppensemantik kann benutzt werden in den folgenden Variablen: <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code>, <code>PATCH_SITE_SUBDIR</code>, <code>DISTFILES</code> und <code>PATCHFILES</code> entsprechend der folgenden Syntax:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Elemente mit <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code> und <code>PATCH_SITE_SUBDIR</code> müssen mit einem Schrägstrich beendet werden ( <code>/</code>). Falls Elemente zu irgendwelchen Gruppen gehören, muss <code>:n</code> direkt nach dem Trenner <code>/</code> stehen. Der <code>MASTER_SITES:n</code>-Mechanismus verlässt sich auf das Vorhandensein des Trennzeichens <code>/</code>, um verwirrende Elemente zu vermeiden in denen <code>:n</code> ein zulässiger Bestandteil des Elementes ist und das Auftreten von <code>:n</code> die Gruppe <code>n</code> anzeigt. Aus Kompatibilitätsgründen (da der <code>/</code>-Trenner sowohl in <code>MASTER_SITE_SUBDIR</code> als auch <code>PATCH_SITE_SUBDIR</code>-Elementen nicht erforderlich ist) wird, falls das auf das Anhängsel folgende nächste Zeichen kein <code>/</code> ist, auch <code>:n</code> als gültiger Teil des Elementes behandelt anstatt als Gruppenzusatz, selbst wenn ein Element ein angehängtes <code>:n</code> aufweist. Beachten Sie sowohl <a href=#ports-master-sites-n-example-detailed-use-master-site-subdir>Ausführliches Beispiel von <code>MASTER_SITES:n</code> in <code>MASTER_SITE_SUBDIR</code></a> als auch <a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen</a>.</p><div id=ports-master-sites-n-example-detailed-use-master-site-subdir class=exampleblock><div class=title>Beispiel 3. Ausführliches Beispiel von <code>MASTER_SITES:n</code> in <code>MASTER_SITE_SUBDIR</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITE_SUBDIR=     old:n new/:NEW</pre></div></div><div class=ulist><ul><li><p>Verzeichnisse innerhalb der Gruppe <code>DEFAULT</code> → old:n</p></li><li><p>Verzeichnisse innerhalb der Gruppe <code>NEW</code> → new</p></li></ul></div></div></div><div id=ports-master-sites-n-example-detailed-use-complete-example-master-sites class=exampleblock><div class=title>Beispiel 4. Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   http://site1/%SUBDIR%/ http://site2/:DEFAULT \
	http://site3/:group3 http://site4/:group4 \
	http://site5/:group5 http://site6/:group6 \
	http://site7/:DEFAULT,group6 \
	http://site8/%SUBDIR%/:group6,group7 \
	http://site9/:group8
DISTFILES=      file1 file2:DEFAULT file3:group3 \
	file4:group4,group5,group6 file5:grouping \
	file6:group7
MASTER_SITE_SUBDIR=     directory-trial:1 directory-n/:groupn \
	    directory-one/:group6,DEFAULT \
	    directory</pre></div></div><div class=paragraph><p>Das vorstehende Beispiel führt zu einem fein granulierten Herunterladen. Die Webseiten werden in der exakten Reihenfolge ihrer Nutzung aufgelistet.</p></div><div class=ulist><ul><li><p><span class=filename>file1</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file2</span> wird genauso heruntergeladen wie <span class=filename>file1</span>, da sie zur gleichen Gruppe gehören</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file3</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site3/ class=bare>http://site3/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file4</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site4/ class=bare>http://site4/</a></p></li><li><p><a href=http://site5/ class=bare>http://site5/</a></p></li><li><p><a href=http://site6/ class=bare>http://site6/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><a href=http://site8/directory-one/ class=bare>http://site8/directory-one/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file5</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file6</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site8/ class=bare>http://site8/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li></ul></div></div></div></li></ol></div></li><li><p>Wie gruppiere ich eine der speziellen Variablen aus <span class=filename>bsd.sites.mk</span>, d.h. <code>MASTER_SITE_SOURCEFORGE</code>?</p><div class=paragraph><p>Lesen Sie <a href=#ports-master-sites-n-example-detailed-use-master-site-sourceforge>Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit <code>MASTER_SITE_SOURCEFORGE</code></a>.</p></div><div id=ports-master-sites-n-example-detailed-use-master-site-sourceforge class=exampleblock><div class=title>Beispiel 5. Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit <code>MASTER_SITE_SOURCEFORGE</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   http://site1/ ${MASTER_SITE_SOURCEFORGE:S/$/:sourceforge,TEST/}
DISTFILES=      something.tar.gz:sourceforge</pre></div></div></div></div><div class=paragraph><p><span class=filename>something.tar.gz</span> wird von allen Webseiten innerhalb von <code>MASTER_SITE_SOURCEFORGE</code> heruntergeladen.</p></div></li><li><p>Wie nutze ich dies mit <code>PATCH*</code>-Variablen.</p><div class=paragraph><p>In allen Beispielen wurden <code>MASTER*</code>-Variablen genutzt, aber sie funktionieren exakt genauso mit <code>PATCH*</code>-Variablen, wie Sie an <a href=#ports-master-sites-n-example-detailed-use-patch-sites>Vereinfachte Nutzung von <code>MASTER_SITES:n</code> mit <code>PATCH_SITES</code>.</a>. sehen können.</p></div><div id=ports-master-sites-n-example-detailed-use-patch-sites class=exampleblock><div class=title>Beispiel 6. Vereinfachte Nutzung von <code>MASTER_SITES:n</code> mit <code>PATCH_SITES</code>.</div><div class=content><div class="literalblock programlisting"><div class=content><pre>PATCH_SITES=    http://site1/ http://site2/:test
PATCHFILES=     patch1:test</pre></div></div></div></div></li></ol></div></div><div class=sect3><h4 id=_was_ändert_sich_für_die_ports_was_ändert_sich_nicht>5.4.7.3. Was ändert sich für die Ports? Was ändert sich nicht?<a class=anchor href=#_was_ändert_sich_für_die_ports_was_ändert_sich_nicht></a></h4><div class="olist lowerroman"><ol class=lowerroman type=i><li><p>Alle bestehenden Ports bleiben gleich. Der Code für <code>MASTER_SITES:n</code> wird nur aktiviert, falls es Elemente mit angehängtem <code>:n</code> entsprechend den zuvor erwähnten Syntax-Regeln wie in <a href=#porting-master-sites-n-group-semantics>7</a> gezeigt gibt.</p></li><li><p>Das Target des Port bleibt gleich: <code>checksum</code>, <code>makesum</code>, <code>patch</code>, <code>configure</code>, <code>build</code> etc. Mit der offensichtlichen Ausnahme von <code>do-fetch</code>, <code>fetch-list</code>, <code>master-sites</code> und <code>patch-sites</code>.</p><div class=ulist><ul><li><p><code>do-fetch</code>: nutzt die neue Gruppierung <code>DISTFILES</code> und <code>PATCHFILES</code> mit ihren darauf zutreffenden Gruppenelementen in <code>MASTER_SITES</code> und <code>PATCH_SITES</code> welche zutreffende Gruppenelemente sowohl in <code>MASTER_SITE_SUBDIR</code> als auch <code>PATCH_SITE_SUBDIR</code> aufweisen. Sehen Sie hierzu <a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen</a>.</p></li><li><p><code>fetch-list</code>: arbeitet wie das alte <code>fetch-list</code> mit der Ausnahme, dass es nur wie <code>do-fetch</code> gruppiert.</p></li><li><p><code>master-sites</code> und <code>patch-sites</code>: (inkompatibel zu älteren Versionen) geben nur die Elemente der Gruppe <code>DEFAULT</code> zurück. Beziehungsweise sie führen genau genommen die Targets von <code>master-sites-default</code> und <code>patch-sites-default</code> aus.</p><div class=paragraph><p>Weiterhin ist der Gebrauch des Target entweder von <code>master-sites-all</code> oder <code>patch-sites-all</code> der direkten Überprüfung von <code>MASTER_SITES</code> oder <code>PATCH_SITES</code> vorzuziehen. Zudem ist nicht garantiert, dass das direkte Überprüfen in zukünftigen Versionen funktionieren wird. Sehen Sie <a href=#porting-master-sites-n-new-port-targets-master-sites-all>B</a> für weitere Informationen zu diesen neuen Port-Targets.</p></div></li></ul></div></li><li><p>Neue Port-Targets</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Es gibt <code>master-sites-<em>n</em></code> und <code>patch-sites-<em>n</em></code>-Targets, welche die Elemente der jeweiligen Gruppe <em>n</em> innerhalb von <code>MASTER_SITES</code> und <code>PATCH_SITES</code> auflisten. Beispielweise werden sowohl <code>master-sites-DEFAULT</code> als auch <code>patch-sites-DEFAULT</code> die Elemente der Gruppe <code>DEFAULT</code>, <code>master-sites-test</code> und <code>patch-sites-test</code> der Gruppe <code>test</code> usw. zurückgeben.</p></li><li><p>Es gibt das neue Target <code>master-sites-all</code> und <code>patch-sites-all</code>, welche die Arbeit der alten Targets <code>master-sites</code> und <code>patch-sites</code> übernehmen. Sie geben die Elemente aller Gruppen zurück,als würden sie zur gleichen Gruppe gehören - mit dem Vorbehalt, dass sie so viele <code>MASTER_SITE_BACKUP</code> und <code>MASTER_SITE_OVERRIDE</code> auflisten wie Gruppen mittels <code>DISTFILES</code> oder <code>PATCHFILES</code> definiert sind. Das gleiche gilt entsprechend für <code>master-sites-all</code> und <code>patch-sites-all</code>.</p></li></ol></div></li></ol></div></div></div><div class=sect2><h3 id=_dist_subdir>5.4.8. <code>DIST_SUBDIR</code><a class=anchor href=#_dist_subdir></a></h3><div class=paragraph><p>Verhindern Sie, dass Ihr Port das Verzeichnis <span class=filename>/usr/ports/distfiles</span> in Unordnung bringt. Falls Ihr Port eine ganze Reihe von Dateien herunterladen muss oder eine Datei enthält, die einen Namen hat, der möglicherweise mit anderen Ports in Konflikt stehen könnte (d.h.<span class=filename>Makefile</span>), dann setzen Sie die Variable <code>DIST_SUBDIR</code> auf den Namen des Ports (<code>${PORTNAME}</code> oder <code>${PKGNAMEPREFIX}${PORTNAME}</code> sollte hervorragend funktionieren). Dies wird <code>DISTDIR</code> von der Vorgabe <span class=filename>/usr/ports/distfiles</span> auf <span class=filename>/usr/ports/distfiles/DIST_SUBDIR</span> ändern und stellt tatsächlich alle für Ihren Port benötigten Dateien in dieses Unterverzeichnis.</p></div><div class=paragraph><p>Es wird zusätzlich nach dem Unterverzeichnis mit dem gleichen Namen auf der Sicherung der Hauptseite auf <span class=filename>ftp.FreeBSD.org</span> suchen (das ausdrückliche Setzen von <code>DISTDIR</code> in Ihrem <code>Makefile</code> wird dies nicht gewährleisten, also nutzen Sie bitte <code>DIST_SUBDIR</code>).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Dies hat keine Auswirkungen auf die Variable <code>MASTER_SITES</code>, die Sie in Ihrem <span class=filename>Makefile</span> definieren.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_always_keep_distfiles>5.4.9. <code>ALWAYS_KEEP_DISTFILES</code><a class=anchor href=#_always_keep_distfiles></a></h3><div class=paragraph><p>Falls Ihr Port binäre Distfiles benutzt und eine Lizenz aufweist, die verlangt, dass das der Quelltext in Form binärer Pakete verteilt werden muss, z.B. GPL, dann wird <code>ALWAYS_KEEP_DISTFILES</code> den FreeBSD Build Cluster anweisen eine Kopie der Dateien in <code>DISTFILES</code> vorzuhalten. Nutzer dieser Ports benötigen generell diese Dateien nicht, daher ist es ein gutes Konzept, nur dann die Distfiles zu <code>DISTFILES</code> hinzuzufügen, wenn <code>PACKAGE_BUILDING</code> definiert ist.</p></div><div id=ports-master-sites-n-example-always-keep-distfiles class=exampleblock><div class=title>Beispiel 7. Nutzung von <code>ALWAYS_KEEP_DISTFILES</code>.</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if defined(PACKAGE_BUILDING)
DISTFILES+=             foo.tar.gz
ALWAYS_KEEP_DISTFILES=  yes
.endif</pre></div></div></div></div><div class=paragraph><p>Wenn Sie zusätzliche Dateien zu <code>DISTFILES</code> hinzufügen, dann beachten Sie bitte, dass Sie diese auch in <span class=filename>distinfo</span> aufführen. Zudem werden die zusätzlichen Dateien normalerweise ebenso in <code>WRKDIR</code> extrahiert, was für einige Ports zu unbeabsichtigten Seiteneffekten führen mag und spezielle Behandlung erfordert.</p></div></div></div></div><div class=sect1><h2 id=makefile-maintainer>5.5. <code>MAINTAINER</code><a class=anchor href=#makefile-maintainer></a></h2><div class=sectionbody><div class=paragraph><p>Fügen Sie hier Ihre E-Mailadresse ein. Bitte. <em>:-)</em></p></div><div class=paragraph><p>Beachten Sie bitte, dass nur eine einzelne E-Mailadresse ohne Kommentar in der Variable <code>MAINTAINER</code> zulässig ist. Das Format sollte <code>user@hostname.domain</code> sein. Bitte fügen Sie keinen beschreibenden Text wie z.B. Ihren wirklichen Namen ein, dies verwirrt lediglich <span class=filename>bsd.port.mk</span>.</p></div><div class=paragraph><p>Der Maintainer ist dafür verantwortlich, dass der Port aktuell gehalten wird und er sorgt dafür, dass der Port korrekt arbeitet. Für eine detaillierte Beschreibung der Verantwortlichkeiten eines Maintainers beachten Sie bitte den Abschnitt <a href={contributing-ports}#maintain-port/>Die Herausforderung für einen Port-Maintainer</a>.</p></div><div class=paragraph><p>Änderungen am Port werden dem Maintainer zur Begutachtung und Zustimmung vorgelegt, bevor sie committed werden. Falls der Maintainer einem Aktualisierungs-Wunsch nicht binnen 2 Wochen (ausgenommen wichtige öffentliche Feiertage) zustimmt, dann wird dies als Maintainer-Timeout betrachtet und eine Aktualisierung kann ohne ausdrückliche Zustimmung des Maintainers erfolgen. Falls der Maintainer nicht binnen 3 Monaten zustimmt, wird er als abwesend ohne Grund betrachtet und kann als Maintainer des fraglichen Ports durch eine andere Person ersetzt werden. Ausgenommen davon ist alles, was durch das Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> oder das Security Officer Team &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>> betreut wird. Es dürfen niemals committs ohne vorherige Zustimmung an solchen Ports vorgenommen werden!</p></div><div class=paragraph><p>Wir behalten uns das Recht vor, die Einreichungen eines Maintainers ohne ausdrückliche Zustimmung zu ändern, falls wir der Auffassung sind, dass dadurch die Einhaltung von Richtlinien und stilistischen Vorgaben für die Ports-Sammlung besser erfüllt wird. Zudem können größere Änderungen an der Infrastruktur der Ports zu Änderungen an einem bestimmten Port ohne Zustimmung des Maintainers führen. Diese Änderungen beeinflussen niemals die Funktionalität eines Ports.</p></div><div class=paragraph><p>Das Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> behält sich das Recht vor, die Maintainerschaft jedem aus irgendeinem Grund zu entziehen oder ausser Kraft zu setzen, und das Security Officer Team Security Officer Team &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>> behält sich das Recht vor, jede Maintainerschaft aus Sicherheitsgründen aufzuheben oder ausser Kraft zu setzen.</p></div></div></div><div class=sect1><h2 id=makefile-comment>5.6. <code>COMMENT</code><a class=anchor href=#makefile-comment></a></h2><div class=sectionbody><div class=paragraph><p>Dies ist eine einzeilige Beschreibung des Ports. <em>Bitte</em> fügen Sie nicht den Paketnamen (oder die Version der Software) in den Kommentar ein. Der Kommentar soll mit einem Großbuchstaben beginnen und ohne Punkt enden. Hier ist ein Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>COMMENT=       A cat chasing a mouse all over the screen</pre></div></div><div class=paragraph><p>Die COMMENT-Variable soll unmittelbar nach der MAINTAINER-Variable im <span class=filename>Makefile</span> stehen.</p></div><div class=paragraph><p>Bitte versuchen Sie die COMMENT-Zeile auf weniger als 70 Zeichen zu begrenzen, da <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> diese zur Anzeige einer kurzen, einzeiligen Zusammenfassung des Ports verwendet.</p></div></div></div><div class=sect1><h2 id=makefile-depend>5.7. Abhängigkeiten (dependencies)<a class=anchor href=#makefile-depend></a></h2><div class=sectionbody><div class=paragraph><p>Viele Ports hängen von anderen Ports ab. Dies ist ein sehr praktisches und nettes Feature der meisten Unix-ähnlichen Betriebssysteme, FreeBSD nicht ausgeschlossen. Es erlaubt, dass häufig vorkommende Abhängigkeiten nicht mit jedem Port oder Paket zusammen ausgeliefert werden müssen, da viele Ports diese gemeinsam benutzen. Es gibt sieben Variablen, die benutzt werden können, um sicherzustellen, dass alle benötigten Teile auf dem Rechner des Nutzers sind. Zusätzlich gibt es einige vordefinierte Variablen für Abhängigkeiten in häufigen Fällen und einige, welche das Verhalten der Abhängigkeiten bestimmen.</p></div><div class=sect2><h3 id=_lib_depends>5.7.1. <code>LIB_DEPENDS</code><a class=anchor href=#_lib_depends></a></h3><div class=paragraph><p>Diese Variable spezifiziert die Shared-Libraries, von denen der Port abhängt. Es ist eine Liste von lib:dir:target-Tupeln wobei <em>lib</em> den Name der gemeinsam genutzten Bibliothek, <em>dir</em> das Verzeichnis, in welchem sie zu finden ist, falls nicht verfügbar, und <em>target</em> das Target in diesem Verzeichnis angeben. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>LIB_DEPENDS=   jpeg.9:${PORTSDIR}/graphics/jpeg</pre></div></div><div class=paragraph><p>auf eine jpeg-Bibliothek mit der Hauptversionsnummer 9 prüfen, in das <span class=filename>graphics/jpeg</span>-Unterverzeichnis Ihrer Ports-Sammlung wechseln, es bauen und installieren, falls es nicht gefunden wird. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit <code>DEPENDS_TARGET</code> ist (Vorgabe hierfür ist <code>install</code>).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Der <em>lib</em>-Teil ist ein regulärer Ausdruck, welcher die Ausgabe von <code>ldconfig -r</code> ausgewertet. Werte wie <code>intl.[5-7]</code> und <code>intl</code> sind zulässig. Das erste Muster, <code>intl.[5-7]</code>, stimmt überein mit: <code>intl.5</code>, <code>intl.6</code> oder <code>intl.7</code>. Das zweite Muster, <code>intl</code>, stimmt überein mit jeder Version der <code>intl</code>-Bibliothek.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Die Abhängigkeit wird zwei Mal überprüft, einmal innerhalb des <code>extract</code>-Target und dann innerhalb des <code>install</code>-Target. Zudem wird der Name der Abhängigkeit in das Paket eingefügt, damit <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> es automatisch installiert, falls es nicht auf dem Rechner des Nutzers ist.</p></div></div><div class=sect2><h3 id=_run_depends>5.7.2. <code>RUN_DEPENDS</code><a class=anchor href=#_run_depends></a></h3><div class=paragraph><p>Diese Variable legt Binärdateien oder Dateien, von denen der Port abhängt, für die Laufzeit fest. Es ist eine Liste von path:dir:target-Tupeln, wobei <em>path</em> der Name der Binärdatei oder Datei, <em>dir</em> das Verzeichnis, in welchem sie gefunden werden kann, falls nicht vorhanden, und <em>target</em> das Target in diesem Verzeichnis angeben. Falls <em>path</em> mit einem Slash (<code>/</code>) beginnt, wird es als Datei behandelt und deren Vorhandensein wird mit <code>test -e</code>; überprüft. Andernfalls wird angenommen, dass es eine Binärdatei ist und <code>which -s</code> wird benutzt, um zu überprüfen, ob das Programm im Pfad vorhanden ist.</p></div><div class=paragraph><p>Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS=   ${LOCALBASE}/etc/innd:${PORTSDIR}/news/inn \
	   xmlcatmgr:${PORTSDIR}/textproc/xmlcatmgr</pre></div></div><div class=paragraph><p>überprüfen, ob die Datei oder das Verzeichnis <span class=filename>/usr/local/etc/innd</span> existiert und es erstellen und installieren aus dem <span class=filename>news/inn</span>-Unterverzeichnis der Ports-Sammlung, falls es nicht gefunden wird. Es wird zudem überprüft, ob die Binärdatei namens <code>xmlcatmgr</code> im Suchpfad vorhanden ist und danach zum Unterverzeichnis <span class=filename>textproc/xmlcatmgr</span> in Ihrer Ports-Sammlung wechseln, es bauen und installieren, falls es nicht gefunden wird.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In diesem Fall ist <code>innd</code> eine Binärdatei. Falls sich eine Binärdatei an einem ungewöhnlichen Platz befindet, der nicht im Suchpfad ist, dann sollten Sie die volle Pfadangabe verwenden.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Der offizielle Suchpfad <code>PATH</code>, welcher im Ports Cluster benutzt wird, ist</p></div><div class="literalblock programlisting"><div class=content><pre>/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/X11R6/bin</pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>install</code>-Target überprüft. Zudem wird der Name der Abhängigkeit in das Paket übernommen, damit <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> es automatisch installieren wird, falls es auf dem System des Nutzers nicht vorhanden ist. Der <em>target</em>-Teil kann weggelassen werden, wenn er der gleiche ist wie in der Variable <code>DEPENDS_TARGET</code>.</p></div><div class=paragraph><p>Es kommt recht häufig vor, dass <code>RUN_DEPENDS</code> genau dasselbe enthält wie <code>BUILD_DEPENDS</code>, gerade dann, wenn die portierte Software in einer Skriptsprache geschrieben ist oder dieselbe Umgebung, die zum Bau verwendet wurde, zur Laufzeit gebraucht wird. In diesem Fall ist es sowohl verlockend als auch intuitiv, den Wert der einen Variable der anderen direkt zuzuweisen:</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS= ${BUILD_DEPENDS}</pre></div></div><div class=paragraph><p>Jedoch kann eine solche Zuweisung dazu führen, dass die Liste der Laufzeitabhängigkeiten mit überflüssigen Einträgen belastet wird, die sich nicht in der ursprünglichen Liste <code>BUILD_DEPENDS</code> des Ports befanden, da sich <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> bei der Auswertung solcher Zuweisungen träge verhält. Stellen Sie sich ein <span class=filename>Makefile</span> mit <code>USE_*</code>-Variablen vor, die von <span class=filename>ports/Mk/bsd.*.mk</span> verarbeitet werden, um initiale Bauabhängigkeiten zusammenzutragen. Zum Beispiel fügt <code>USE_GMAKE=yes</code> <a class=package href=https://cgit.freebsd.org/ports/tree/devel/gmake/>devel/gmake</a> zu <code>BUILD_DEPENDS</code> hinzu. Um zu verhindern, dass solche zusätzlichen Abhängigkeiten <code>RUN_DEPENDS</code> belasten, achten Sie darauf, bei gleichzeitiger Auswertung zuzuweisen, d.h. der Ausdruck wird ausgewertet, bevor er als Wert der Variablen zugewiesen wird:</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS:=  ${BUILD_DEPENDS}</pre></div></div></div><div class=sect2><h3 id=_build_depends>5.7.3. <code>BUILD_DEPENDS</code><a class=anchor href=#_build_depends></a></h3><div class=paragraph><p>Diese Variable legt Binärdateien oder Dateien fest, die dieser Port zur Erstellung benötigt. Wie <code>RUN_DEPENDS</code> ist es eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre> BUILD_DEPENDS=
	  unzip:${PORTSDIR}/archivers/unzip</pre></div></div><div class=paragraph><p>überprüfen, ob eine Binärdatei <code>unzip</code> vorhanden ist und in das Unterverzeichnis <span class=filename>archivers/unzip</span> Ihrer Ports-Sammlung wechseln und sie erstellen und installieren, falls sie nicht gefunden wird.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>"Erstellen" bedeutet hier alles von der Extraktion bis zur Kompilierung. Die Abhängigkeit wird im <code>extract</code>-Target überprüft. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_fetch_depends>5.7.4. <code>FETCH_DEPENDS</code><a class=anchor href=#_fetch_depends></a></h3><div class=paragraph><p>Diese Variable legt eine Binärdatei oder Datei fest, welche der Port benötigt, um heruntergeladen werden zu können. Wie die vorherigen beiden Variablen ist er eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre> FETCH_DEPENDS=
	  ncftp2:${PORTSDIR}/net/ncftp2</pre></div></div><div class=paragraph><p>überprüfen, ob eine Binärdatei namens <code>ncftp2</code> vorhanden ist, in das Unterverzeichnis <span class=filename>net/ncftp2</span> Ihrer Ports-Sammlung wechseln, sie erstellen und installieren, falls sie nicht gefunden wird.</p></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>fetch</code>-Target überprüft. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div></div><div class=sect2><h3 id=_extract_depends>5.7.5. <code>EXTRACT_DEPENDS</code><a class=anchor href=#_extract_depends></a></h3><div class=paragraph><p>Diese Variable spezifiziert eine Binärdatei oder eine Datei, welche dieser Port für die Extraktion benötigt. Wie die vorherigen Variablen ist er eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_DEPENDS=
	  unzip:${PORTSDIR}/archivers/unzip</pre></div></div><div class=paragraph><p>überprüfen, ob eine Binärdatei namens <code>unzip</code> vorhanden ist, in das Unterverzeichnis <span class=filename>archivers/unzip</span> Ihrer Ports-Sammlung wechseln, sie erstellen und installieren, falls sie nicht gefunden wird.</p></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>extract</code>-Target überprüft. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nutzen Sie diese Variable nur, wenn die Extraktion nicht funktioniert (die Vorgabe nimmt <code>gzip</code> an) und nicht mit <code>USE_ZIP</code> oder <code>USE_BZIP2</code> wie in <a href=#use-vars><code>USE_*</code></a> beschrieben zum Laufen gebracht werden kann.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_patch_depends>5.7.6. <code>PATCH_DEPENDS</code><a class=anchor href=#_patch_depends></a></h3><div class=paragraph><p>Diese Variable legt eine Binärdatei oder eine Datei fest, welche dieser Port zum Patchen benötigt. Wie die vorhergehenden Variablen ist diese eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre> PATCH_DEPENDS=
	  ${NONEXISTENT}:${PORTSDIR}/java/jfc:extract</pre></div></div><div class=paragraph><p>in das Unterverzeichnis <span class=filename>java/jfc</span> Ihrer Ports-Sammlung wechseln, um es zu entpacken.</p></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>patch</code>-Target überprüft. Der <em>target</em>-Teil kann entfallen, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div></div><div class=sect2><h3 id=use-vars>5.7.7. <code>USE_*</code><a class=anchor href=#use-vars></a></h3><div class=paragraph><p>Es gibt eine Reihe von Variablen, um gebräuchliche Abhängigkeiten einzukapseln, die viele Ports aufweisen. Obwohl Ihre Verwendung optional ist, können sie helfen die Übersichtlichkeit des <span class=filename>Makefile</span> eines Ports zu erhöhen. Jede von ihnen ist im Stil von <code>USE_*</code>. Der Gebrauch dieser Variablen ist beschränkt auf das <span class=filename>Makefile</span> eines Ports und <span class=filename>ports/Mk/bsd.*.mk</span>. Es ist nicht entworfen worden, um durch den Nutzer setzbare Optionen einzukapseln; benutzen Sie <code>WITH_*</code> und <code>WITHOUT_*</code> für diese Zwecke.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Es ist <em>immer</em> falsch, irgendeine <code>USE_*</code>-Variable in der <span class=filename>/etc/make.conf</span> zu setzen. Zum Beispiel würde das Setzen von</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GCC=3.4</pre></div></div><div class=paragraph><p>eine Abhängigkeit für GCC34 für jeden Port einschliesslich GCC34 selbst hinzufügen!</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 2. Die <code>USE_*</code>-Varibalen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_BZIP2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Tarball dieses Ports wird mit <code>bzip2</code> komprimiert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_ZIP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Tarball des Ports wird mit <code>zip</code> komprimiert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_BISON</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt <code>bison</code> für die Erstellung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_CDRTOOLS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port erfordert cdrecord entweder von <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a> oder <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools-cjk/>sysutils/cdrtools-cjk</a>, abhängig davon, was der Nutzer vorgibt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_GCC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dieser Port benötigt eine bestimmte Version von <code>gcc</code> zur Erstellung. Die genaue Version kann festgelegt werden mit Werten wie <code>3.4</code>. Mit <code>3.4+</code> kann die mindestens erforderliche Version spezifiziert werden. Der <code>gcc</code> aus dem Basissystem wird genutzt, wenn er die erforderliche Version erfüllt, andernfalls wird eine geeignete Version des <code>gcc</code> aus den Ports kompiliert und die Variablen <code>CC</code> und <code>CXX</code> werden angepasst.</p></td></tr></tbody></table><div class=paragraph><p>Variablen zugehörig zu gmake und dem <span class=filename>configure</span>-Skript werden in <a href=../special/#building>Build-Mechanismen</a> beschrieben, währenddessen autoconf, automake und libtool in <a href=../special/#using-autotools>Benutzung von GNU autotools</a> beschrieben sind. Perl-spezifische Variablen werden in <a href=../special/#using-perl>Die Benutzung von <code>perl</code></a> behandelt. X11-Variablen sind aufgelistet in <a href=../special/#using-x11>Benutzung von X11</a>. <a href=../special/#using-gnome>Benutzung von GNOME</a> behandelt GNOME-bezogene Variablen und <a href=../special/#using-kde>Benutzung von KDE</a> KDE-bezogene Variablen. <a href=../special/#using-java>Benutzung von Java</a> dokumentiert Java-Variablen, während <a href=../special/#using-php>Webanwendungen</a>Informationen zu Apache, PHP und PEAR-Modulen enthält. Python wird in <a href=../special/#using-python>Python benutzen</a> und Ruby in <a href=../special/#using-ruby>Ruby benutzen</a> erörtert. <a href=../special/#using-sdl>SDL verwenden</a> stellt Variablen für SDL-Programme zur Verfügung und <a href=../special/#using-xfce>Xfce verwenden</a> enthält schliesslich Variablen für Xfce.</p></div></div><div class=sect2><h3 id=_minimale_version_einer_abhängigkeit>5.7.8. Minimale Version einer Abhängigkeit<a class=anchor href=#_minimale_version_einer_abhängigkeit></a></h3><div class=paragraph><p>Eine minimale Version einer Abhängigkeit kann in jeder <code>*_DEPENDS</code>-Variable festgelegt werden mit Ausnahme von <code>LIB_DEPENDS</code> durch Anwendung folgender Syntax:</p></div><div class="literalblock programlisting"><div class=content><pre>p5-Spiffy&gt;=0.26:${PORTSDIR}/devel/p5-Spiffy</pre></div></div><div class=paragraph><p>Das erste Feld enthält einen abhängigen Paketnamen, welcher einem Eintrag in der Paketdatenbank entsprechen muss und einen Vergleich mit einer Paketversion. Die Abhängigkeit wird erfüllt, wenn p5-Spiffy-0.26 oder eine neuere Version auf dem System installiert ist.</p></div></div><div class=sect2><h3 id=_anmerkungen_zu_abhängigkeiten>5.7.9. Anmerkungen zu Abhängigkeiten<a class=anchor href=#_anmerkungen_zu_abhängigkeiten></a></h3><div class=paragraph><p>Wie vorstehend beschrieben ist das Vorgabe-Target <code>DEPENDS_TARGET</code>, wenn eine Abhängigkeit benötigt wird. Die Vorgabe hierfür ist <code>install</code>. Dies ist eine Nutzer-Variable; sie wird niemals im <span class=filename>Makefile</span> eines Ports definiert. Falls Ihr Port einen besonderen Weg benötigt, um mit einer Abhängigkeit umzugehen, dann benutzen Sie bitte den <code>:target</code>-Teil der <code>*_DEPENDS</code>-Variablen, anstatt <code>DEPENDS_TARGET</code> zu ändern.</p></div><div class=paragraph><p>Falls Sie <code>make clean</code> schreiben, werden dessen Abhängigkeiten auch gesäubert. Falls Sie dies nicht wollen, definieren Sie die Variable <code>NOCLEANDEPENDS</code> in Ihrer Umgebung. Dies kann besonders erstrebenswert sein, wenn der Port etwas in seiner Liste von Abhängigkeiten hat, das sehr viel Zeit für einen rebuild benötigt wie KDE, GNOME oder Mozilla.</p></div><div class=paragraph><p>Um von einem anderen Port bedingungslos abhängig zu sein, benutzen Sie bitte die Variable <code>${NONEXISTENT}</code> als erstes Feld von <code>BUILD_DEPENDS</code> oder <code>RUN_DEPENDS</code>. Benutzen Sie dies nur, wenn Sie den Quelltext eines anderen Port benötigen. Sie können auch oft Kompilierzeit sparen, wenn Sie das Target festlegen. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=   ${NONEXISTENT}:${PORTSDIR}/graphics/jpeg:extract</pre></div></div><div class=paragraph><p>immer zum <code>jpeg</code>-Port wechseln und ihn extrahieren.</p></div></div><div class=sect2><h3 id=_zirkuläre_abhängigkeiten_sind_fatal>5.7.10. Zirkuläre Abhängigkeiten sind fatal<a class=anchor href=#_zirkuläre_abhängigkeiten_sind_fatal></a></h3><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Führen Sie niemals irgendwelche zirkulären Abhängigkeiten in der Ports-Sammlung ein!</p></div></td></tr></tbody></table></div><div class=paragraph><p>Die Struktur für die Erstellung von Ports dulde keinerlei zirkuläre Abhängigkeiten. Falls Sie dennoch eine verwenden, wird es irgendjemanden irgendwo auf der Welt geben, dessen FreeBSD-Installation nahezu sofort zusammenbricht und vielen anderen wird es sehr schnell genauso ergehen. So etwas kann extrem schwer festzustellen sein. Falls Sie Zweifel haben vor einer Änderung, dann vergewissern Sie sich, dass Sie folgendes getan haben: <code>cd /usr/ports; make index</code>. Dieser Prozess kann auf alten Maschinen sehr langsam sein, aber Sie ersparen sich und einer Vielzahl von Menschen möglicherweise eine Menge Ärger.</p></div></div></div></div><div class=sect1><h2 id=makefile-masterdir>5.8. <code>MASTERDIR</code><a class=anchor href=#makefile-masterdir></a></h2><div class=sectionbody><div class=paragraph><p>Falls Ihr Port wegen einer Variable, die verschiedene Werte annimmt (z.B. Auflösung oder Papiergröße), leicht unterschiedliche Versione von Paketen erzeugen muss, dann legen Sie bitte ein Unterverzeichnis pro Paket an, um es für den Nutzer einfacher begreiflich zu machen, was zu machen ist. Aber versuchen Sie dabei so viele Dateien wie möglich zwischen diesen Ports gemeinsam zu nutzen. Normalerweise benötigen Sie nur ein sehr kurzes <span class=filename>Makefile</span> in allen ausser einem Unterverzeichnis, wenn Sie Variablen intelligent nutzen. In diesem einzigen <span class=filename>Makefile</span> können Sie <code>MASTERDIR</code> verwenden, um anzugeben, wo der Rest der Dateien liegt. Benutzen Sie bitte auch eine Variable für <a href=#porting-pkgname><code>PKGNAMESUFFIX</code></a>, damit die Pakete unterschiedliche Namen haben werden.</p></div><div class=paragraph><p>Wir demonstrieren dies am Besten an einem Beispiel. Es ist Teil von <span class=filename>japanese/xdvi300/Makefile</span>;</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       xdvi
PORTVERSION=    17
PKGNAMEPREFIX=  ja-
PKGNAMESUFFIX=  ${RESOLUTION}
 :
# default
RESOLUTION?=   300
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
       ${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 400
       @${ECHO_MSG} &#34;Error: invalid value for RESOLUTION: \&#34;${RESOLUTION}\&#34;&#34;
       @${ECHO_MSG} &#34;Possible values are: 118, 240, 300 (default) and 400.&#34;
       @${FALSE}
.endif</pre></div></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/japanese/xdvi300/>japanese/xdvi300</a> verfügt ebenfalls über alle Patches, Paket-Dateien usw. Wenn Sie <code>make</code> eintippen, wird der Port die Standardvorgabe für die Auflösung nehmen (300) und den Port ganz normal erstellen.</p></div><div class=paragraph><p>Genauso wie für alle anderen Auflösungen ist dies das <em>vollständige</em> <span class=filename>xdvi118/Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>RESOLUTION=     118
MASTERDIR=      ${.CURDIR}/../xdvi300

.include &#34;${MASTERDIR}/Makefile&#34;</pre></div></div><div class=paragraph><p>(<span class=filename>xdvi240/Makefile</span> und <span class=filename>xdvi400/Makefile</span> sind ähnlich). Die <code>MASTERDIR</code>-Definition teilt dem <span class=filename>bsd.port.mk</span> mit, dass die normalen Unterverzeichnisse wie <code>FILESDIR</code> und <code>SCRIPTDIR</code> unter <span class=filename>xdvi300</span> gefunden werden können. Die <code>RESOLUTION=118</code>-Zeile wird die <code>RESOLUTION=300</code>-Zeile in <span class=filename>xdvi300/Makefile</span> überschreiben und der Port wird mit einer Auflösung von 118 erstellt.</p></div></div></div><div class=sect1><h2 id=makefile-manpages>5.9. Manualpages<a class=anchor href=#makefile-manpages></a></h2><div class=sectionbody><div class=paragraph><p>Die Variablen <code>MAN[1-9LN]</code> werden automatisch jede Manualpage zur <span class=filename>pkg-plist</span> hinzufügen (dies bedeutet, dass Sie Manualpages <em>nicht</em> in der <span class=filename>pkg-plist</span> auflisten dürfen, lesen Sie bitte <a href=#plist-sub>Erstellung der PLIST</a> für weitere Details). Sie veranlassen zudem den Installationsabschnitt dazu, die Manualpages zu Komprimieren oder zu Dekomprimieren abhängig vom gesetzten Wert der Variable <code>NO_MANCOMPRESS</code> in <span class=filename>/etc/make.conf</span>.</p></div><div class=paragraph><p>Falls Ihr Port versucht verschiedene Namen für Manualpages unter Zuhilfenahme von Symlinks oder Hardlinks zu installieren, müssen Sie die Variable <code>MLINKS</code> nutzen, um diese zu identifizieren. Der von Ihrem Port installierte Link wird von <span class=filename>bsd.port.mk</span> gelöscht und wieder eingefügt, um sicherzustellen, dass er auf die korrekte Datei zeigt. Jede Manualpage, welche in <code>MLINKS</code> aufgeführt ist, darf nicht in der <span class=filename>pkg-plist</span> aufgenommen werden.</p></div><div class=paragraph><p>Falls die Manualpages während der Installation komprimiert werden sollen, müssen Sie die Variable <code>MANCOMPRESSED</code> setzen. Diese Variable kann drei Werte annehmen, <code>yes</code>, <code>no</code> und <code>maybe</code>. <code>yes</code> bedeutet, dass Manualpages bereits komprimiert installiert sind, bei <code>no</code> sind sie es nicht und <code>maybe</code> bedeutet, dass die Software bereits den Wert von <code>NO_MANCOMPRESS</code> beachtet, damit <span class=filename>bsd.port.mk</span> nichts Besonderes auszuführen hat.</p></div><div class=paragraph><p><code>MANCOMPRESSED</code> wird automatisch auf <code>yes</code> gesetzt, wenn <code>USE_IMAKE</code> vorgegeben ist und gleichzeitig <code>NO_INSTALL_MANPAGES</code> nicht. Im umgekehrten Falle ist <code>MANCOMPRESSED</code> auf <code>no</code> gesetzt. Sie müssen es nicht explizit angeben, außer die Standardvorgabe ist für Ihren Port nicht passend.</p></div><div class=paragraph><p>Wenn Ihr Port den man tree irgendwo anders als in der Variable <code>PREFIX</code> verankert, können Sie ihn mit <code>MANPREFIX</code> bestimmen. Sollten zudem Manualpages nur in bestimmten Abschnitten an einem nicht-standardkonformen Platz liegen, wie z.B. bestimmte <code>Perl</code>-Modul-Ports, dann können Sie mittels der Variable <code>MAN_sect_PREFIX</code> (wobei <em>sect</em> ein Wert aus <code>1-9</code>, <code>L</code> oder <code>N</code> ist) individuelle Pfade zu den Manualpages festlegen.</p></div><div class=paragraph><p>Wenn Ihre Manualpages in sprachspezifische Unterverzeichnisse installiert werden, dann bestimmen Sie bitte den Namen der Sprache mit der Variable <code>MANLANG</code>. Der Wert dieser Variable ist mit <code>""</code> vorgegeben (das bedeutet nur Englisch).</p></div><div class=paragraph><p>Hier ist ein Beispiel, welches alles zusammenfasst.</p></div><div class="literalblock programlisting"><div class=content><pre>MAN1=          foo.1
MAN3=          bar.3
MAN4=          baz.4
MLINKS=        foo.1 alt-name.8
MANLANG=       &#34;&#34; ja
MAN3PREFIX=    ${PREFIX}/shared/foobar
MANCOMPRESSED= yes</pre></div></div><div class=paragraph><p>Dies zeigt an, dass sechs Dateien von diesem Port installiert werden;</p></div><div class="literalblock programlisting"><div class=content><pre>${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${PREFIX}/shared/foobar/man/man3/bar.3.gz
${PREFIX}/shared/foobar/man/ja/man3/bar.3.gz
${MANPREFIX}/man/man4/baz.4.gz
${MANPREFIX}/man/ja/man4/baz.4.gz</pre></div></div><div class=paragraph><p><span class=filename>${MANPREFIX}/man/man8/alt-name.8.gz</span> kann zusätzlich von Ihrem Port installiert werden, oder auch nicht. Unabhängig davon wird ein Symlink erstellt, welcher die Manualpages foo(1) und alt-name(8) einbindet.</p></div><div class=paragraph><p>Falls nur manche Manualpages übersetzt sind, können Sie einige dynamisch vom <code>MANLANG</code>-Inhalt erzeugte Variablen nutzen:</p></div><div class="literalblock programlisting"><div class=content><pre>MANLANG=       &#34;&#34; de ja
MAN1=          foo.1
MAN1_EN=       bar.1
MAN3_DE=       baz.3</pre></div></div><div class=paragraph><p>Dies führt zu folgender Liste von Dateien:</p></div><div class="literalblock programlisting"><div class=content><pre>${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/de/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${MANPREFIX}/man/man1/bar.1.gz
${MANPREFIX}/man/de/man3/baz.3.gz</pre></div></div></div></div><div class=sect1><h2 id=makefile-info>5.10. Info-Dateien<a class=anchor href=#makefile-info></a></h2><div class=sectionbody><div class=paragraph><p>Falls Ihr Paket GNU-Info-Dateien installiert, sollten diese in der <code>INFO</code>-Variablen augelistet sein (ohne das angehängte <code>.info</code>) mit einem Eintrag für jedes Dokument. Von diesen Dateien wird angenommen, dass sie nach <span class=filename>PREFIX/INFO_PATH</span> installiert werden. Sie können <code>INFO_PATH</code> ändern, falls Ihr Paket einen anderen Ort vorsieht. Jedoch wird dies nicht empfohlen. Die Einträge enthalten nur den relativen Pfad zu <span class=filename>PREFIX/INFO_PATH</span>. Zum Beispiel installiert <a class=package href=https://cgit.freebsd.org/ports/tree/lang/gcc34/>lang/gcc34</a> Info-Dateien nach <span class=filename>PREFIX/INFO_PATH/gcc34</span>, wobei <code>INFO</code> etwa so aussieht:</p></div><div class="literalblock programlisting"><div class=content><pre>INFO= gcc34/cpp gcc34/cppinternals gcc34/g77 ...</pre></div></div><div class=paragraph><p>Entsprechende Installations-/Deinstalltions-Codes werden vor der Paket-Registrierung automatisch der vorläufigen <span class=filename>pkg-plist</span> hinzugefügt.</p></div></div></div><div class=sect1><h2 id=makefile-options>5.11. Makefile-Optionen<a class=anchor href=#makefile-options></a></h2><div class=sectionbody><div class=paragraph><p>Einige größere Applikationen können mit einer Reihe von Konfigurationen, die zusätzliche Funktionalitäten hinzufügen, erstellt werden, falls eine oder mehrere Bibliotheken oder Applikationen verfügbar sind. Dazu gehören die Auswahl von natürlichen Sprachen, GUI versus Kommandozeilen-Versionen oder die Auswahl aus mehreren Datenbank-Programmen. Da nicht alle Nutzer diese Bibliotheken oder Applikationen wollen, stellt das Ports-System hooks (Haken) zur Verfügung, damit der Autor des Ports bestimmen kann, welche Konfiguration erstellt werden soll.</p></div><div class=sect2><h3 id=_knobs_einstellungen>5.11.1. KNOBS (Einstellungen)<a class=anchor href=#_knobs_einstellungen></a></h3><div class=sect3><h4 id=_with_und_without>5.11.1.1. <code>WITH_*</code> und <code>WITHOUT_*</code><a class=anchor href=#_with_und_without></a></h4><div class=paragraph><p>Diese Variablen sind entworfen worden, um vom System-Administrator gesetzt zu werden. Es gibt viele, die in <a href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup">ports/KNOBS</a> standardisiert sind.</p></div><div class=paragraph><p>Benennen Sie Schalter bei der Erstellung eines Ports nicht programmspezifisch. Verwenden Sie zum Beispiel im Avahi-Port <code>WITHOUT_MDNS</code> anstelle von <code>WITHOUT_AVAHI_MDNS</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sie sollten nicht annehmen, dass ein <code>WITH_*</code> notwendigerweise eine korrespondierende <code>WITHOUT_*</code>-Variable hat oder umgekehrt. Im Allgemeinen wird diese Vorgabe einfach unterstellt.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Falls nicht anderweitig festgelegt, werden diese Variablen nur dahingehend überprüft, ob sie gesetzt sind oder nicht - nicht darauf, ob sie auf bestimmte Werte wie <code>YES</code> oder <code>NO</code> gesetzt sind.</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 3. Häufige <code>WITH_*</code> und <code>WITHOUT_*</code>-Variablen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITHOUT_NLS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls gesetzt, bedeutet sie, dass eine Internationalisierung nicht benötigt wird, was Kompilierzeit sparen kann. Als Vorgabe wird Internationalisierung gebraucht.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_OPENSSL_BASE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nutze die Version von OpenSSL aus dem Basissystem.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_OPENSSL_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Installiert die Version von OpenSSL aus <a class=package href=https://cgit.freebsd.org/ports/tree/security/openssl/>security/openssl</a>, auch wenn das Basissystem auf aktuellem Stand ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITHOUT_X11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls der Port mit oder ohne Unterstützung für X erstellt werden kann, dann sollte normalerweise mit X-Unterstützung erstellt werden. Falls die Variable gesetzt ist, soll die Version ohne X-Unterstützung erstellt werden.</p></td></tr></tbody></table></div><div class=sect3><h4 id=_benennung_von_knobs_einstellungen>5.11.1.2. Benennung von Knobs (Einstellungen)<a class=anchor href=#_benennung_von_knobs_einstellungen></a></h4><div class=paragraph><p>Um die Anzahl der Knobs niedrig zu halten und zum Vorteil des Anwenders, wird empfohlen, dass Porter ähnliche Namen für Knobs verwenden. Eine Liste der beliebtesten Knobs kann in der <a href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup">KNOBS-Datei</a> eingesehen werden.</p></div><div class=paragraph><p>Knob-Namen sollten wiederspiegeln, was der Knob bedeutet und was er bewirkt. Wenn ein Port einen lib-Präfix im <code>PORTNAME</code> hat, dann soll das lib-Präfix im Knob-Namen entfallen.</p></div></div></div><div class=sect2><h3 id=_options>5.11.2. <code>OPTIONS</code><a class=anchor href=#_options></a></h3><div class=sect3><h4 id=_hintergrund>5.11.2.1. Hintergrund<a class=anchor href=#_hintergrund></a></h4><div class=paragraph><p>Die <code>OPTIONS</code>-Variable gibt dem Nutzer, der diesen Port installiert, einen Dialog mit auswählbaren Optionen und speichert diese in <span class=filename>/var/db/ports/portname/options</span>. Bei der nächsten Neuerstellung des Ports werden diese Einstellungen wieder verwandt. Sie werden sich niemals mehr an all die zwanzig <code>WITH_*</code> und <code>WITHOUT_*</code>-Optionen erinnern müssen, die Sie benutzt haben, um diesen Port zu erstellen!</p></div><div class=paragraph><p>Wenn der Anwender <code>make config</code> benutzt (oder ein <code>make build</code> das erste Mal laufen lässt) wird das Framework auf <span class=filename>/var/db/ports/portname/options</span> die Einstellungen prüfen. Falls die Datei nicht existiert, werden die Werte von <code>OPTIONS</code> genutzt, um eine Dialogbox zu erzeugen, in welcher die Optionen an- oder abgeschaltet werden können. Dann wird die <span class=filename>options</span>-Datei gespeichert und die ausgewählten Variablen werden bei der Erstellung des Ports benutzt.</p></div><div class=paragraph><p>Falls eine neue Version des Ports <code>OPTIONS</code> hinzufügt, wird der Dialog mit den gespeicherten Werten dem Nutzer angezeigt.</p></div><div class=paragraph><p>Benutzen Sie <code>make showconfig</code>, um die gespeicherte Konfiguration zu betrachten. Benutzen Sie <code>make rmconfig</code>, um die gespeicherte Konfiguration zu Löschen.</p></div></div><div class=sect3><h4 id=_syntax>5.11.2.2. Syntax<a class=anchor href=#_syntax></a></h4><div class=paragraph><p>Die Syntax für die <code>OPTIONS</code>-Variable lautet:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS=    OPTION    &#34;descriptive text&#34; default ...</pre></div></div><div class=paragraph><p>Der Wert als Vorgabe ist entweder <code>ON</code> oder <code>OFF</code>. Wiederholungen dieser drei Felder sind erlaubt.</p></div><div class=paragraph><p><code>OPTIONS</code>-Definitionen müssen vor der Einbindung von <span class=filename>bsd.port.options.mk</span> erscheinen. Die <code>WITH_*</code> und <code>WITHOUT_*</code>-Variablen können nur nach der Einbindung von <span class=filename>bsd.port.options.mk</span> getestet werden. <span class=filename>bsd.port.pre.mk</span> kann auch stattdessen eingebunden werden und wird immer noch von vielen Ports eingebunden, die vor der Einführung von <span class=filename>bsd.port.options.mk</span> erstellt wurden. Jedoch wirken manche Variablen nicht wie gewohnt nach der Einbindung von <span class=filename>bsd.port.pre.mk</span>, typischerweise <code>USE_*</code>-Optionen.</p></div><div id=ports-options-simple-use class=exampleblock><div class=title>Beispiel 8. Einfache Anwendung von <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS=      FOO &#34;Enable option foo&#34; On \
              BAR &#34;Support feature bar&#34; Off

.include &lt;bsd.port.options.mk&gt;

.if defined(WITHOUT_FOO)
CONFIGURE_ARGS+=    --without-foo
.else
CONFIGURE_ARGS+=    --with-foo
.endif

.if defined(WITH_BAR)
RUN_DEPENDS+=    bar:${PORTSDIR}/bar/bar
.endif

.include &lt;bsd.port.mk&gt;</pre></div></div></div></div><div id=ports-options-old-style-use class=exampleblock><div class=title>Beispiel 9. Veraltete Anwendung von <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS=      FOO &#34;Enable option foo&#34; On

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITHOUT_FOO)
CONFIGURE_ARGS+=    --without-foo
.else
CONFIGURE_ARGS+=    --with-foo
.endif

.include &lt;bsd.port.post.mk&gt;</pre></div></div></div></div></div></div><div class=sect2><h3 id=_automatische_aktivierung_von_funktionen>5.11.3. Automatische Aktivierung von Funktionen<a class=anchor href=#_automatische_aktivierung_von_funktionen></a></h3><div class=paragraph><p>Wenn Sie ein GNU-Konfigurationsskript benutzen, sollten Sie ein Auge darauf werfen, welche Funktionen durch die automatische Erkennung aktiviert werden. Schalten Sie Funktionen, die Sie nicht möchten, ausdrücklich durch Verwendung von <code>--without-xxx</code> oder <code>--disable-xxx</code> in der Variable <code>CONFIGURE_ARGS</code> einzeln ab.</p></div><div class=exampleblock><div class=title>Beispiel 10. Falsche Behandlung einer Option</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if defined(WITH_FOO)
LIB_DEPENDS+=        foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=    --enable-foo
.endif</pre></div></div></div></div><div class=paragraph><p>Stellen Sie sich vor im obigen Beispiel ist eine Bibliothek libfoo auf dem System installiert. Der Nutzer will nicht, dass diese Applikation libfoo benutzt, also hat er die Option auf "off" im <code>make config</code>-Dialog umgestellt. Aber das Konfigurationsskript der Applikation hat erkannt, dass die Bibliothek auf dem System vorhanden ist und fügt ihre Funktionen in die Binärdatei ein. Falls der Nutzer sich nun entschliesst libfoo von seinem System zu entfernen, dann wird das Ports-System nicht protestieren (es wurde keine Abhängigkeit von libfoo eingetragen), aber die Applikation bricht ab.</p></div><div class=exampleblock><div class=title>Beispiel 11. Korrekte Behandlung einer Option</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if defined(WITH_FOO)
LIB_DEPENDS+=        foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=    --enable-foo
.else
CONFIGURE_ARGS+=    --disable-foo
.endif</pre></div></div></div></div><div class=paragraph><p>Im zweiten Beispiel wird die Bibliothek libfoo explizit abgeschaltet. Das Konfigurationsskript aktiviert die entsprechenden Funktionen nicht in der Applikation trotz der Anwesenheit der Bibliothek auf dem System.</p></div></div></div></div><div class=sect1><h2 id=makefile-wrkdir>5.12. Die Festlegung des Arbeitsverzeichnisses<a class=anchor href=#makefile-wrkdir></a></h2><div class=sectionbody><div class=paragraph><p>Jeder Port wird extrahiert in ein Arbeitsverzeichnis, welches beschreibbar sein muss. Das Ports-System gibt als Standard vor, dass die <code>DISTFILES</code> in einem Verzeichnis namens <code>${DISTNAME}</code> entpackt werden. Mit anderen Worten, wenn Sie:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=      foo
PORTVERSION=   1.0</pre></div></div><div class=paragraph><p>festgelegt haben, dann enthalten die Distributions-Dateien des Ports ein Verzeichnis auf oberster Ebene, <span class=filename>foo-1.0</span>, und der Rest der Dateien befindet sich unter diesem Verzeichnis.</p></div><div class=paragraph><p>Es gibt eine Reihe von Variablen, die Sie überschreiben können, falls dies nicht der Fall sein sollte.</p></div><div class=sect2><h3 id=_wrksrc>5.12.1. <code>WRKSRC</code><a class=anchor href=#_wrksrc></a></h3><div class=paragraph><p>Diese Variable listet den Namen des Verzeichnisses, welches erstellt wird, wenn die Distfiles der Applikation extrahiert werden. Wenn unser vorheriges Beispiel in einem Verzeichnis namens <span class=filename>foo</span> (und nicht <span class=filename>foo-1.0</span>) extrahiert wurde, würden Sie schreiben:</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=      ${WRKDIR}/foo</pre></div></div><div class=paragraph><p>oder möglicherweise</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=      ${WRKDIR}/${PORTNAME}</pre></div></div></div><div class=sect2><h3 id=_no_wrksubdir>5.12.2. <code>NO_WRKSUBDIR</code><a class=anchor href=#_no_wrksubdir></a></h3><div class=paragraph><p>Wenn der Port überhaupt nicht in einem Unterverzeichnis extrahiert wird, sollten Sie dies mit dem Setzen von <code>NO_WRKSUBDIR</code> anzeigen.</p></div><div class="literalblock programlisting"><div class=content><pre>NO_WRKSUBDIR= yes</pre></div></div></div></div></div><div class=sect1><h2 id=conflicts>5.13. Konfliktbehandlung<a class=anchor href=#conflicts></a></h2><div class=sectionbody><div class=paragraph><p>Es gibt drei verschiedene Variablen, um einen Konflikt zwischen Paketen und Ports zu dokumentieren: <code>CONFLICTS</code>, <code>CONFLICTS_INSTALL</code> sowie <code>CONFLICTS_BUILD</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>CONFLICTS</code> setzt automatisch die Variable <code>IGNORE</code>, die ausführlicher in <a href=../porting-dads/#dads-noinstall>Einen Port durch <code>BROKEN</code> - <code>FORBIDDEN</code> oder <code>IGNORE</code> als nicht installierbar markieren</a> beschrieben wird.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Beim Entfernen eines von mehreren in Konflikt stehenden Ports ist es ratsam, die <code>CONFLICTS</code>-Einträge in den anderen Ports für einige Monate beizubehalten, um Nutzer zu unterstützen, die ihre Ports nur sporadisch aktualisieren.</p></div><div class=sect2><h3 id=_conflicts_install>5.13.1. <code>CONFLICTS_INSTALL</code><a class=anchor href=#_conflicts_install></a></h3><div class=paragraph><p>Falls Ihr Paket nicht mit anderen Paketen koexistieren kann (wegen Dateikonflikten, Laufzeit-Inkompatibilitäten usw.), führen Sie bitte die anderen Paketnamen in der Variable <code>CONFLICTS_INSTALL</code> auf. Sie können hier Shell-Globs wie <code>*</code> und <code>?</code> verwenden. Paketnamen sollten in der gleichen Weise aufgezählt werden, wie sie in <span class=filename>/var/db/pkg</span> auftauchen. Bitte stellen Sie sicher, dass <code>CONFLICTS</code> nicht mit dem Paket des Ports selbst übereinstimmt, da ansonsten das Erzwingen der Installation durch <code>FORCE_PKG_REGISTER</code> nicht länger funktionieren wird.</p></div></div><div class=sect2><h3 id=_conflicts_build>5.13.2. <code>CONFLICTS_BUILD</code><a class=anchor href=#_conflicts_build></a></h3><div class=paragraph><p>Wenn Ihr Port nicht gebaut werden kann, wenn ein bestimmter Port bereits installiert ist, geben Sie diesen in der Variable <code>CONFLICTS_BUILD</code> an. Sie können hier Shell-Globs wie <code>*</code> und <code>?</code> verwenden. Paketnamen sollten in der gleichen Weise aufgezählt werden, wie sie in <span class=filename>/var/db/pkg</span> auftauchen. Die CONFLICTS_BUILD-Prüfung erfolgt vor dem Bau des Ports. Baukonflikte werden im erzeugten Paket nicht verzeichnet.</p></div></div><div class=sect2><h3 id=_conflicts>5.13.3. <code>CONFLICTS</code><a class=anchor href=#_conflicts></a></h3><div class=paragraph><p>Wenn Ihr Port nicht gebaut werden kann, wenn ein bestimmter Port bereits installiert ist und das aus dem Port erzeugte Paket nicht mit dem anderen Paket koexistieren kann, geben Sie das andere Paket in der Variable <code>CONFLICTS</code> an. Sie können hier Shell-Globs wie <code>*</code> und <code>?</code> verwenden. Paketnamen sollten in der gleichen Weise aufgezählt werden, wie sie in <span class=filename>/var/db/pkg</span> auftauchen. Bitte stellen Sie sicher, dass <code>CONFLICTS_INSTALL</code> nicht mit dem Paket des Ports selbst übereinstimmt, da ansonsten das Erzwingen der Installation durch <code>FORCE_PKG_REGISTER</code> nicht länger funktionieren wird. Die CONFLICTS-Prüfung erfolgt vor dem Bau des Ports und vor der Installation des gebauten Ports.</p></div></div></div></div><div class=sect1><h2 id=install>5.14. Installation von Dateien<a class=anchor href=#install></a></h2><div class=sectionbody><div class=sect2><h3 id=install-macros>5.14.1. INSTALL_* macros<a class=anchor href=#install-macros></a></h3><div class=paragraph><p>Nutzen Sie die Makros in <span class=filename>bsd.port.mk</span>, um korrekte Modi und Eigentümer von Dateien in Ihren <code>*-install</code>-Targets sicherzustellen.</p></div><div class=ulist><ul><li><p><code>INSTALL_PROGRAM</code> ist ein Befehl, um binäre Binärdateien zu installieren.</p></li><li><p><code>INSTALL_SCRIPT</code> ist ein Befehl, um ausführbare Skripte zu installieren.</p></li><li><p><code>INSTALL_LIB</code> ist ein Befehl zur Installation Shared-Libraries.</p></li><li><p><code>INSTALL_KLD</code> ist ein Befehl, mit dem Kernelmodule installiert werden können. Einige Architekturen haben Probleme mit stripped-Modulen. Daher sollten Sie diesen Befehl anstelle von <code>INSTALL_PROGRAM</code> verwenden.</p></li><li><p><code>INSTALL_DATA</code> ist ein Befehl, um gemeinsam nutzbare Daten zu installieren.</p></li><li><p><code>INSTALL_MAN</code> ist ein Befehl, um Manualpages oder andere Dokumentation zu installieren (es wird nichts komprimiert).</p></li></ul></div><div class=paragraph><p>Das sind grundsätzlich alle <code>install</code>-Befehle mit ihren passenden Flags.</p></div></div><div class=sect2><h3 id=install-strip>5.14.2. Zerlegen von Binärdateien und Shared-Libraries<a class=anchor href=#install-strip></a></h3><div class=paragraph><p>Zerlegen Sie keine Binärdateien manuell, wenn Sie es nicht müssen. Alle Binaries sollten gestripped werden; allerdings vermag das <code>INSTALL_PROGRAM</code>-Makro gleichzeitig eine Binärdatei zu installieren und zu strippen (beachten Sie den nächsten Abschnitt). Das Makro <code>INSTALL_LIB</code> erledigt das gleiche für Shared-Libraries.</p></div><div class=paragraph><p>Wenn Sie eine Datei strippen müssen, aber weder das <code>INSTALL_PROGRAM</code>- noch das <code>INSTALL_LIB</code>-Makro nutzen wollen, dann kann <code>${STRIP_CMD}</code> Ihr Programm strippen. Dies wird typischerweise innerhalb des <code>post-install</code>-Targets gemacht. Zum Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${STRIP_CMD} ${PREFIX}/bin/xdl</pre></div></div><div class=paragraph><p>Nutzen Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> für die installierte Applikation, um zu überprüfen, ob eine Binärdatei gestripped ist oder nicht. Wenn es nicht meldet <code>not stripped</code>, dann ist es bereits gestripped. Zudem wird <a href="https://man.freebsd.org/cgi/man.cgi?query=strip&amp;sektion=1&amp;format=html">strip(1)</a> nicht ein bereits gestripptes Programm nochmals versuchen zu strippen, sondern wird stattdessen einfach sauber beenden.</p></div></div><div class=sect2><h3 id=install-copytree>5.14.3. Installation eines ganzen Verzeichnisbaums inklusive Dateien<a class=anchor href=#install-copytree></a></h3><div class=paragraph><p>Manchmal muss man eine große Zahl von Dateien unter Erhalt ihrer hierarchischen Struktur installieren, d.h. Kopieraktionen über einen ganzen Verzeichnisbaum von <code>WRKSRC</code> zu einem Zielverzeichnis unter <code>PREFIX</code>.</p></div><div class=paragraph><p>Für diesen Fall gibt es zwei Makros. Der Vorteil der Nutzung dieser Makros anstatt <code>cp</code> ist, dass sie korrekte Besitzer und Berechtigungen auf den Zieldateien garantieren. Das erste Makro, <code>COPYTREE_BIN</code>, wird alle installierten Dateien ausführbar markieren und damit passend für die Installation in <span class=filename>PREFIX/bin</span> vorbereiten. Das zweite Makro, <code>COPYTREE_SHARE</code>, setzt keine Ausführungsberechtigungen auf Dateien und ist daher geeignet für die Installation von Dateien im Target von <span class=filename>PREFIX/share</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${MKDIR} ${EXAMPLESDIR}
    (cd ${WRKSRC}/examples/ &amp;&amp; ${COPYTREE_SHARE} \* ${EXAMPLESDIR})</pre></div></div><div class=paragraph><p>Dieses Beispiel wird den Inhalt des <span class=filename>examples</span>-Verzeichnisses im Distfile des Drittanbieters in das Beispielverzeichnis Ihres Ports kopieren.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${MKDIR} ${DATADIR}/summer
    (cd ${WRKSRC}/temperatures/ &amp;&amp; ${COPYTREE_SHARE} &#34;June July August&#34; ${DATADIR}/summer/)</pre></div></div><div class=paragraph><p>Und dieses Beispiel wird die Daten der Sommermonate in das <span class=filename>summer</span>-Unterverzeichnis eines <span class=filename>DATADIR</span> installieren.</p></div><div class=paragraph><p>Zusätzliche <code>find</code>-Argumente können mit dem dritten Argument an die <code>COPYTREE_*</code>-Makros übergeben werden. Um zum Beispiel alle Dateien aus dem 1. Beispiel ohne die Makefiles zu installieren, kann man folgenden Befehl benutzen.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${MKDIR} ${EXAMPLESDIR}
    (cd ${WRKSRC}/examples/ &amp;&amp; \
	${COPYTREE_SHARE} \* ${EXAMPLESDIR} &#34;! -name Makefile&#34;)</pre></div></div><div class=paragraph><p>Beachten Sie bitte, dass diese Makros die installierten Dateien nicht zur <span class=filename>pkg-plist</span> hinzufügen, Sie müssen sie immer noch selbst auflisten.</p></div></div><div class=sect2><h3 id=install-documentation>5.14.4. Installation zusätzlicher Dokumentation<a class=anchor href=#install-documentation></a></h3><div class=paragraph><p>Falls Ihre Software zusätzlich zu den üblichen Manualpages und Info-Seiten weitere Dokumentation hat und Sie diese für nützlich halten, dann installieren Sie sie unter <span class=filename>PREFIX/shared/doc</span>. Dies kann wie vorstehend im Target des <code>post-install</code> geschehen.</p></div><div class=paragraph><p>Legen Sie ein neues Verzeichnis für Ihren Port an. Das Verzeichnis sollte wiederspiegeln, was der Port ist. Das bedeutet normalerweise <code>PORTNAME</code>. Wie auch immer, wenn Sie meinen, der Nutzer möchte verschiedene Versionen des Ports zur gleichen Zeit installiert haben, dann können Sie die gesamte Variable <code>PKGNAME</code> nutzen.</p></div><div class=paragraph><p>Machen Sie die Installation von der Variablen <code>NOPORTDOCS</code> abhängig, damit die Nutzer sie in <span class=filename>/etc/make.conf</span> abschalten können:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
.if !defined(NOPORTDOCS)
    ${MKDIR} ${DOCSDIR}
    ${INSTALL_MAN} ${WRKSRC}/docs/xvdocs.ps ${DOCSDIR}
.endif</pre></div></div><div class=paragraph><p>Hier einige praktische Variablen und wie sie standardmässig bei Verwendung im <span class=filename>Makefile</span> expandiert werden:</p></div><div class=ulist><ul><li><p><code>DATADIR</code> wird expandiert zu <span class=filename>PREFIX/shared/PORTNAME</span>.</p></li><li><p><code>DATADIR_REL</code> wird expandiert zu <span class=filename>share/PORTNAME</span>.</p></li><li><p><code>DOCSDIR</code> wird expandiert zu <span class=filename>PREFIX/shared/doc/PORTNAME</span>.</p></li><li><p><code>DOCSDIR_REL</code> wird expandiert zu <span class=filename>share/doc/PORTNAME</span>.</p></li><li><p><code>EXAMPLESDIR</code> wird expandiert zu <span class=filename>PREFIX/shared/examples/PORTNAME</span>.</p></li><li><p><code>EXAMPLESDIR_REL</code> wird expandiert zu <span class=filename>share/examples/PORTNAME</span>.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>NOPORTDOCS</code> behandelt nur zusätzliche Dokumentation, die in <code>DOCSDIR</code> installiert ist. Für normale Manualpages und Info-Seiten wird die Variable benutzt. Dinge, welche in <code>DATADIR</code> und <code>EXAMPLESDIR</code> installiert werden, legen die Variablen <code>NOPORTDATA</code> und <code>NOPORTEXAMPLES</code> fest.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Die Variablen werden nach <code>PLIST_SUB</code> exportiert. Ihre Werte erscheinen dort als Pfadnamen relativ zu <span class=filename>PREFIX</span>, falls möglich. Das bedeutet, dass <span class=filename>share/doc/PORTNAME</span> standardmässig ersetzt wird durch <code>%%DOCSDIR%%</code> in der Packliste usw. (mehr zur Ersetzung durch die <span class=filename>pkg-plist</span> finden Sie <a href=#plist-sub>hier</a>).</p></div><div class=paragraph><p>Alle installierten Dokumentationsdateien und -Verzeichnisse sollten in der <span class=filename>pkg-plist</span> dem <code>%%PORTDOCS%%</code>-Präfix enthalten sein, zum Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
%%PORTDOCS%%%%DOCSDIR%%/CONTACT
%%PORTDOCS%%@dirrm %%DOCSDIR%%</pre></div></div><div class=paragraph><p>Alternativ zur Auflistung der Dokumentationsdateien in der <span class=filename>pkg-plist</span> kann in einem Port auch die Variable <code>PORTDOCS</code> gesetzt werden für eine Liste von Dateien und Shell-Globs, um diese zur endgültigen Packliste hinzuzufügen. Die Namen werden relativ zur Variable <code>DOCSDIR</code> sein. Wenn Sie also einen Port haben, welcher <code>PORTDOCS</code> benutzt, und Sie haben eine vom Standard abweichenden Platz für seine Dokumentation, dann müssen Sie die Variable <code>DOCSDIR</code> entsprechend setzen. Wenn ein Verzeichnis in <code>PORTDOCS</code> aufgeführt ist, oder von einem Shell-Glob dieser Variable abgebildet wird, dann wird der komplette Verzeichnisbaum inklusive Dateien und Verzeichnissen in der endgültigen Packliste aufgenommen. Wenn die Variable <code>NOPORTDOCS</code> gesetzt ist, dann werden die Dateien und Verzeichnisse, die in <code>PORTDOCS</code> aufgelistet sind, nicht installiert und werden auch nicht zur Packliste des Ports hinzugefügt. Wie oben gezeigt bleibt es dem Port selbst überlassen, die Dokumentation in <code>PORTDOCS</code> zu installieren. Ein typisches Beispiel für den Gebrauch von <code>PORTDOCS</code> sieht wie folgt aus:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTDOCS=       README.* ChangeLog docs/*</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Die Äquivalente zu <code>PORTDOCS</code> für unter <code>DATADIR</code> und <code>EXAMPLESDIR</code> installierte Dateien sind <code>PORTDATA</code> beziehungsweise <code>PORTEXAMPLES</code>.</p></div><div class=paragraph><p>Sie können auch <span class=filename>pkg-message</span> benutzen, um Meldungen während der Installation anzuzeigen. Lesen Sie <a href=#porting-message>diesen Abschnitt über den Gebrauch von <span class=filename>pkg-message</span></a> für weitere Details. Die <span class=filename>pkg-message</span>-Datei muss nicht zur <span class=filename>pkg-plist</span> hinzugefügt werden.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-subdirs>5.14.5. Unterverzeichnisse mit PREFIX<a class=anchor href=#install-subdirs></a></h3><div class=paragraph><p>Lassen Sie den Port die Dateien in die richtigen Unterverzeichnisse von <code>PREFIX</code> verteilen. Einige Ports werfen alles in einen Topf und legen es im Unterverzeichnis mit dem Namen des Ports ab, was falsch ist. Ausserdem legen viele Ports alles ausser Binaries, Header-Dateien und Manualpages in ein Unterverzeichnis von <span class=filename>lib</span>, was natürlich auch nicht der BSD-Philosophie entspricht und nicht gut funktioniert. Viele der Dateien sollten in eines der folgenden Verzeichnisse geschoben werden: <span class=filename>etc</span> (Konfigurationsdateien), <span class=filename>libexec</span> (intern gestartete Binärdateien), <span class=filename>sbin</span> (Binärdateien für Superuser/Manager), <span class=filename>info</span> (Dokumentation für Info-Browser) oder <span class=filename>share</span> (Architektur-unabhängige Dateien). Lesen Sie hierzu <a href="https://man.freebsd.org/cgi/man.cgi?query=hier&amp;sektion=7&amp;format=html">hier(7)</a>; weitestgehend greifen die Regeln für <span class=filename>/usr</span> auch für <span class=filename>/usr/local</span>. Die Ausnahme sind Ports, welche mit "news" aus dem USENET arbeiten. In diesem Falle sollte <span class=filename>PREFIX/news</span> als Zielort für die Dateien benutzt werden.</p></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 9. März 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=http://172.16.201.134:1313/de/books/porters-handbook/slow class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=http://172.16.201.134:1313/de/books/porters-handbook/special class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#makefile-source>5.1. Der originale Quelltext</a></li><li><a href=#makefile-naming>5.2. Bezeichnungen</a></li><li><a href=#makefile-categories>5.3. Kategorisierung</a></li><li><a href=#makefile-distfiles>5.4. Die Distributionsdateien</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-depend>5.7. Abhängigkeiten (dependencies)</a></li><li><a href=#makefile-masterdir>5.8. <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.9. Manualpages</a></li><li><a href=#makefile-info>5.10. Info-Dateien</a></li><li><a href=#makefile-options>5.11. Makefile-Optionen</a></li><li><a href=#makefile-wrkdir>5.12. Die Festlegung des Arbeitsverzeichnisses</a></li><li><a href=#conflicts>5.13. Konfliktbehandlung</a></li><li><a href=#install>5.14. Installation von Dateien</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/de/books/porters-handbook/porters-handbook_de.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/de/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/de/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>German</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/de class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/de/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>