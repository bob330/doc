<!doctype html><html class=theme-light lang=de><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=http://172.16.201.134:1313/de/books/porters-handbook/book/><title>FreeBSD Porter's Handbook | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=http://172.16.201.134:1313/favicon.ico><link rel=stylesheet href=http://172.16.201.134:1313/styles/main.min.css><link rel=stylesheet href=http://172.16.201.134:1313/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="FreeBSD Porter's Handbook"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="http://172.16.201.134:1313/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="de"><meta property="og:url" content="http://172.16.201.134:1313/de/books/porters-handbook/book/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"http:\/\/172.16.201.134:1313\/de\/books\/porters-handbook\/book\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=http://172.16.201.134:1313/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/de>Documentation portal</a></li><li><a href=http://172.16.201.134:1313/de/books/handbook>FreeBSD Handbook</a></li><li><a href=http://172.16.201.134:1313/de/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=http://172.16.201.134:1313/de/books>Books</a></li><li><a href=http://172.16.201.134:1313/de/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=http://172.16.201.134:1313/de/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=de>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><div class=book><h1 class=title>FreeBSD Porter's Handbook</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=copyright>Copyright © 2000-2020 The FreeBSD Documentation Project</div><div class=legalnotice><a id=trademarks></a><details><summary>trademarks</summary><p>FreeBSD ist ein eingetragenes Warenzeichen der FreeBSD Foundation.</p><p>Sun, Sun Microsystems, Java, Java Virtual Machine, JDK, JSP, JVM, Netra, Solaris, StarOffice und SunOS sind Warenzeichen oder eingetragene Warenzeichen von Sun Microsystems, Inc. in den Vereinigten Staaten und in anderen Ländern.</p><p>UNIX ist ein eingetragenes Warenzeichen von The Open Group in den Vereinigten Staaten und in anderen Ländern.</p><p>Viele Produktbezeichnungen von Herstellern und Verkäufern sind Warenzeichen. Soweit dem FreeBSD Project das Warenzeichen bekannt ist, werden die in diesem Dokument vorkommenden Bezeichnungen mit dem Symbol “™” oder dem Symbol “®” gekennzeichnet.</p></details></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#why-port>Kapitel 1. Einführung</a></li><li><a href=#own-port>Kapitel 2. Einen neuen Port erstellen</a></li><li><a href=#quick-porting>Kapitel 3. Einen neuen Port erstellen</a><ul><li><a href=#porting-makefile>3.1. Das Makefile schreiben</a></li><li><a href=#porting-desc>3.2. Die Beschreibungsdateien erstellen</a></li><li><a href=#porting-checksum>3.3. Die Checksummendatei erzeugen</a></li><li><a href=#porting-testing>3.4. Den Port testen</a></li><li><a href=#porting-portlint>3.5. Ihren Port mit <code>portlint</code> überprüfen</a></li><li><a href=#porting-submitting>3.6. Den neuen Port einreichen</a></li></ul></li><li><a href=#slow>Kapitel 4. Einen Port in aller Ruhe erstellen</a><ul><li><a href=#slow-work>4.1. Die Funktionsweise</a></li><li><a href=#slow-sources>4.2. Den originalen Quelltext besorgen</a></li><li><a href=#slow-modifying>4.3. Den Port bearbeiten</a></li><li><a href=#slow-patch>4.4. Fehlerbehebung (Patches)</a></li><li><a href=#slow-configure>4.5. Konfigurieren</a></li><li><a href=#slow-user-input>4.6. Handhabung von Benutzereingaben</a></li></ul></li><li><a href=#flavors>Kapitel 5. Die Konfiguration des Makefile</a><ul><li><a href=#makefile-source>5.1. Der originale Quelltext</a></li><li><a href=#makefile-naming>5.2. Bezeichnungen</a></li><li><a href=#makefile-categories>5.3. Kategorisierung</a></li><li><a href=#makefile-distfiles>5.4. Die Distributionsdateien</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-depend>5.7. Abhängigkeiten (dependencies)</a></li><li><a href=#makefile-masterdir>5.8. <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.9. Manualpages</a></li><li><a href=#makefile-info>5.10. Info-Dateien</a></li><li><a href=#makefile-options>5.11. Makefile-Optionen</a></li><li><a href=#makefile-wrkdir>5.12. Die Festlegung des Arbeitsverzeichnisses</a></li><li><a href=#conflicts>5.13. Konfliktbehandlung</a></li><li><a href=#install>5.14. Installation von Dateien</a></li></ul></li><li><a href=#special>Kapitel 6. Besonderheiten</a><ul><li><a href=#porting-shlibs>6.1. Shared-Libraries</a></li><li><a href=#porting-restrictions>6.2. Ports mit beschränkter Verbreitung</a></li><li><a href=#building>6.3. Build-Mechanismen</a></li><li><a href=#using-autotools>6.4. Benutzung von GNU autotools</a></li><li><a href=#using-gettext>6.5. Benutzung von GNU <code>gettext</code></a></li><li><a href=#using-perl>6.6. Die Benutzung von <code>perl</code></a></li><li><a href=#using-x11>6.7. Benutzung von X11</a></li><li><a href=#using-gnome>6.8. Benutzung von GNOME</a></li><li><a href=#using-qt>6.9. Benutzung von Qt</a></li><li><a href=#using-kde>6.10. Benutzung von KDE</a></li><li><a href=#using-java>6.11. Benutzung von Java</a></li><li><a href=#using-php>6.12. Webanwendungen, Apache und PHP</a></li><li><a href=#using-python>6.13. Python benutzen</a></li><li><a href=#using-tcl>6.14. Benutzung von Tcl/Tk</a></li><li><a href=#using-emacs>6.15. Emacs benutzen</a></li><li><a href=#using-ruby>6.16. Ruby benutzen</a></li><li><a href=#using-sdl>6.17. SDL verwenden</a></li><li><a href=#using-wx>6.18. wxWidgets verwenden</a></li><li><a href=#using-lua>6.19. Verwendung von Lua</a></li><li><a href=#using-xfce>6.20. Xfce verwenden</a></li><li><a href=#using-mozilla>6.21. Mozilla verwenden</a></li><li><a href=#using-databases>6.22. Benutzung von Datenbanken</a></li><li><a href=#rc-scripts>6.23. Starten und Anhalten von Diensten (rc Skripten)</a></li><li><a href=#users-and-groups>6.24. Hinzufügen von Benutzern und Gruppen</a></li><li><a href=#_von_kernelquellen_abhängige_ports>6.25. Von Kernelquellen abhängige Ports</a></li></ul></li><li><a href=#plist>Kapitel 7. Fortgeschrittene <span class=filename>pkg-plist</span>-Methoden</a><ul><li><a href=#plist-sub>7.1. Änderungen an pkg-plist mit Hilfe von make-Variablen</a></li><li><a href=#plist-cleaning>7.2. Leere Verzeichnisse</a></li><li><a href=#plist-config>7.3. Konfigurationsdateien</a></li><li><a href=#plist-dynamic>7.4. Dynamische oder statische Paketliste</a></li><li><a href=#plist-autoplist>7.5. Automatisiertes Erstellen von Paketlisten</a></li></ul></li><li><a href=#pkg-files>Kapitel 8. Die <span class=filename>pkg-*</span> Dateien</a><ul><li><a href=#porting-message>8.1. <span class=filename>pkg-message</span></a></li><li><a href=#pkg-install>8.2. <span class=filename>pkg-install</span></a></li><li><a href=#pkg-deinstall>8.3. <span class=filename>pkg-deinstall</span></a></li><li><a href=#pkg-req>8.4. <span class=filename>pkg-req</span></a></li><li><a href=#pkg-names>8.5. Ändern der Namen der <span class=filename>pkg-*</span> Dateien</a></li><li><a href=#using-sub-files>8.6. Nutzung von <code>SUB_FILES</code> und <code>SUB_LIST</code></a></li></ul></li><li><a href=#testing>Kapitel 9. Ihren Port testen</a><ul><li><a href=#make-describe>9.1. <code>make describe</code> ausführen</a></li><li><a href=#testing-portlint>9.2. Portlint</a></li><li><a href=#testing-porttools>9.3. Port Tools</a></li><li><a href=#porting-prefix>9.4. <code>PREFIX</code> und <code>DESTDIR</code></a></li><li><a href=#testing-tinderbox>9.5. Die Tinderbox</a></li></ul></li><li><a href=#port-upgrading>Kapitel 10. Einen existierenden Port aktualisieren</a><ul><li><a href=#cvs-diff>10.1. Patches mit CVS erstellen</a></li><li><a href=#moved-and-updating-files>10.2. Die Dateien UPDATING und MOVED</a></li></ul></li><li><a href=#security>Kapitel 11. Sicherheit der Ports</a><ul><li><a href=#security-intro>11.1. Warum Sicherheit so wichtig ist</a></li><li><a href=#security-fix>11.2. Sicherheitslücken schliessen</a></li><li><a href=#security-notify>11.3. Die Community informiert halten</a></li></ul></li><li><a href=#porting-dads>Kapitel 12. Was man machen respektive vermeiden sollte</a><ul><li><a href=#dads-intro>12.1. Einführung</a></li><li><a href=#porting-wrkdir>12.2. <code>WRKDIR</code></a></li><li><a href=#porting-wrkdirprefix>12.3. <code>WRKDIRPREFIX</code></a></li><li><a href=#porting-versions>12.4. Unterschiedliche Betriebssysteme und Betriebssystemversionen</a></li><li><a href=#freebsd-versions>12.5. __FreeBSD_version Werte</a></li><li><a href=#dads-after-port-mk>12.6. Etwas hinter die <span class=filename>bsd.port.mk</span>-Anweisung schreiben</a></li><li><a href=#dads-sh-exec>12.7. Benutzen Sie die <code>exec</code>-Anweisung in Wrapper-Skripten</a></li><li><a href=#dads-rational>12.8. Aufgaben vernünftig lösen</a></li><li><a href=#dads-cc>12.9. Berücksichtigen Sie sowohl <code>CC</code> als auch <code>CXX</code></a></li><li><a href=#dads-cflags>12.10. Berücksichtigen Sie <code>CFLAGS</code></a></li><li><a href=#dads-pthread>12.11. Threading-Bibliotheken</a></li><li><a href=#dads-freedback>12.12. Rückmeldungen</a></li><li><a href=#dads-readme>12.13. <span class=filename>README.html</span></a></li><li><a href=#dads-noinstall>12.14. Einen Port durch <code>BROKEN</code>, <code>FORBIDDEN</code> oder <code>IGNORE</code> als nicht installierbar markieren</a></li><li><a href=#dads-deprecated>12.15. Kennzeichnen eines Ports zur Entfernung durch <code>DEPRECATED</code> oder <code>EXPIRATION_DATE</code></a></li><li><a href=#dads-dot-error>12.16. Vermeiden Sie den Gebrauch des <code>.error</code>-Konstruktes</a></li><li><a href=#dads-sysctl>12.17. Verwendung von <span class=filename>sysctl</span></a></li><li><a href=#dads-rerolling-distfiles>12.18. Erneutes Ausliefern von Distfiles</a></li><li><a href=#dads-misc>12.19. Verschiedenes</a></li></ul></li><li><a href=#porting-samplem>Kapitel 13. Beispiel eines <span class=filename>Makefile</span></a></li><li><a href=#keeping-up>Kapitel 14. Auf dem Laufenden bleiben</a><ul><li><a href=#freshports>14.1. FreshPorts</a></li><li><a href=#cvsweb>14.2. Die Webschnittstelle zum Quelltext-Repository</a></li><li><a href=#ports-mailling-list>14.3. Die FreeBSD Ports-Mailingliste</a></li><li><a href=#build-cluster>14.4. Der Cluster zum Bauen von FreeBSD-Ports auf <code>pointyhat.FreeBSD.org</code></a></li><li><a href=#distfile-survey>14.5. Der FreeBSD Ports-Distfile-Scanner</a></li><li><a href=#portsmon>14.6. Das FreeBSD Ports-Monitoring-System</a></li></ul></li></ul></nav></div><div>[ <a href=../>Split HTML</a> / Single HTML ]</div><div class=book-content><div id=preamble><div class=sectionbody><hr></div></div><div class=sect1><h2 id=why-port>Kapitel 1. Einführung<a class=anchor href=#why-port></a></h2><div class=sectionbody><div class=paragraph><p>Die Ports-Sammlung von FreeBSD ist der gebräuchlichste Weg, um Anwendungen ("Ports") unter FreeBSD zu installieren. Wie alles andere in FreeBSD auch, ist sie hauptsächlich das Ergebnis der Arbeit von Freiwilligen. Es ist wichtig, diesen Aspekt beim Lesen im Hinterkopf zu behalten.</p></div><div class=paragraph><p>In FreeBSD kann jeder einen neuen Port einsenden oder sich dazu bereit erklären, einen bereits vorhandenen Port zu pflegen, sofern der Port derzeit keinen Maintainer hat – dazu sind keine besonderen Rechte nötig.</p></div></div></div><div class=sect1><h2 id=own-port>Kapitel 2. Einen neuen Port erstellen<a class=anchor href=#own-port></a></h2><div class=sectionbody><div class=paragraph><p>Sie sind also daran interessiert, einen neuen Port zu erstellen oder einen vorhandenen zu aktualisieren? Großartig!</p></div><div class=paragraph><p>Die folgenden Kapitel beinhalten einige Richtlinien, um einen neuen Port für FreeBSD zu erstellen. Wenn Sie einen vorhandenen Port auf den neuesten Stand bringen wollen, sollten Sie mit <a href=./#port-upgrading>Einen existierenden Port aktualisieren</a> fortfahren.</p></div><div class=paragraph><p>Wenn Ihnen dieses Dokument nicht detailliert genug ist, sollten Sie einen Blick in <span class=filename>/usr/ports/Mk/bsd.port.mk</span> werfen. Das Makefile jedes Ports bindet diese Datei ein. Auch wenn Sie nicht täglich mit Makefiles arbeiten, sollten Sie gut damit zurecht kommen, da die Datei gut dokumentiert ist und Sie eine Menge Wissen daraus erlangen können. Zusätzlich können Sie speziellere Fragen an die <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a>-Mailingliste stellen.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nur ein Bruchteil der Variablen (<code><em>VAR</em></code>), die von Ihnen gesetzt werden können, finden hier Erwähnung. Die meisten von ihnen (wenn nicht sogar alle) sind am Anfang von <span class=filename>/usr/ports/Mk/bsd.port.mk</span> erläutert. Beachten Sie bitte, dass diese Datei eine nicht standardkonforme Tabulator-Einstellung verwendet. Emacs und Vim sollten diese Einstellung jedoch automatisch beim Öffnen der Datei setzen. Sowohl <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> als auch <a href="https://man.freebsd.org/cgi/man.cgi?query=ex&amp;sektion=1&amp;format=html">ex(1)</a> können mit dem Befehl <code>:set tabstop=4</code> dazu gebracht werden, die Datei richtig anzuzeigen, wenn sie geöffnet wird.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Sind Sie auf der Suche nach einer neuen Aufgabe? Dann sehen Sie sich bitte die <a href=http://wiki.freebsd.org/WantedPorts>Ports-Wunschliste</a> an und prüfen Sie, ob Sie an einem dieser Ports arbeiten können.</p></div></div></div><div class=sect1><h2 id=quick-porting>Kapitel 3. Einen neuen Port erstellen<a class=anchor href=#quick-porting></a></h2><div class=sectionbody><div class=paragraph><p>Dieser Abschnitt beschreibt, wie Sie schnell einen neuen Port erstellen können. In vielen Fällen ist dies allerdings nicht ausreichend, dann werden Sie in diesem Buch weiterlesen müssen.</p></div><div class=paragraph><p>Als Erstes besorgen Sie sich das Original-Tarball (komprimiertes Archiv) und legen es im <code>DISTDIR</code> ab, welches standardmäßig <span class=filename>/usr/ports/distfiles</span> ist.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Im Folgenden wird angenommen, dass die Software unverändert kompiliert werden konnte, dass also keinerlei Änderungen nötig waren, um den Port auf Ihrem FreeBSD-Rechner zum Laufen zu bringen. Falls Sie Änderungen vornehmen mussten, werden Sie auch den nächsten Abschnitt beachten müssen.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=porting-makefile>3.1. Das Makefile schreiben<a class=anchor href=#porting-makefile></a></h3><div class=paragraph><p>Ein minimales <span class=filename>Makefile</span> sieht in etwa so aus:</p></div><div class="literalblock programlisting"><div class=content><pre># New ports collection makefile for:   oneko
# Date created:        5 December 1994
# Whom:                asami
#
# $FreeBSD$
#

PORTNAME=      oneko
PORTVERSION=   1.1b
CATEGORIES=    games
MASTER_SITES=  ftp://ftp.cs.columbia.edu/archives/X11R5/contrib/

MAINTAINER=    asami@FreeBSD.org
COMMENT=       A cat chasing a mouse all over the screen

MAN1=          oneko.1
MANCOMPRESSED= yes
USE_IMAKE=     yes

.include &lt;bsd.port.mk&gt;</pre></div></div><div class=paragraph><p>Versuchen Sie es zu verstehen. Machen Sie sich keine Gedanken um die <code>$FreeBSD$</code>-Zeile, diese wird automatisch vom CVS eingefügt, wenn der Port in den Haupt-Ports-Tree importiert wird. Ein detailliertes Beispiel finden Sie im Abschnitt <a href=#porting-samplem>sample Makefile</a>.</p></div></div><div class=sect2><h3 id=porting-desc>3.2. Die Beschreibungsdateien erstellen<a class=anchor href=#porting-desc></a></h3><div class=paragraph><p>Es gibt zwei Beschreibungsdateien, die für jeden Port benötigt werden, ob sie tatsächlich im Paket enthalten sind oder nicht. Dies sind <span class=filename>pkg-descr</span> und <span class=filename>pkg-plist</span>. Der <span class=filename>pkg-</span> Präfix unterscheidet sie von anderen Dateien.</p></div><div class=sect3><h4 id=_pkg_descr>3.2.1. <span class=filename>pkg-descr</span><a class=anchor href=#_pkg_descr></a></h4><div class=paragraph><p>Diese enthält eine längere Beschreibung des Ports. Einer oder mehrere Absätze, die kurz und prägnant erklären, was der Port macht, sind ausreichend.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><span class=filename>pkg-descr</span> enthält <em>keine</em> Anleitung oder detaillierte Beschreibung wie der Port benutzt oder kompiliert wird! <em>Bitte seien Sie vorsichtig, wenn Sie aus dem <span class=filename>README</span> oder der Manualpage kopieren</em>; Diese sind oft keine prägnanten Beschreibungen des Ports oder sie sind in einem ungünstigen Format (Manualpages haben z.B. bündige Zwischenräume). Wenn es für die portierte Software eine offizielle Webseite gibt, sollten Sie diese hier angeben. Fügen Sie hierzu <em>eine</em> der Webseiten mit dem Präfix <code>WWW:</code> ein, damit automatische Werkzeuge korrekt arbeiten.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Das folgende Beispiel zeigt wie Ihre <span class=filename>pkg-descr</span> aussehen sollte:</p></div><div class="literalblock programlisting"><div class=content><pre>This is a port of oneko, in which a cat chases a poor mouse all over
the screen.
 :
(etc.)

WWW: http://www.oneko.org/</pre></div></div></div><div class=sect3><h4 id=_pkg_plist>3.2.2. <span class=filename>pkg-plist</span><a class=anchor href=#_pkg_plist></a></h4><div class=paragraph><p>Diese Datei enthält eine Liste aller Dateien, die von diesem Port installiert werden. Sie wird auch die "Packliste" genannt, da das Paket durch die hier aufgeführten Dateien erstellt wird. Die Pfadangaben sind relativ zum Installationspräfix (für gewöhnlich <span class=filename>/usr/local</span> oder <span class=filename>/usr/X11R6</span>). Wenn Sie die <code>MAN<em>n</em></code>-Variablen verwenden (was Sie auch machen sollten), führen Sie hier keine Manualpages auf. Wenn der Port während der Installation Verzeichnisse erstellt, stellen Sie sicher entsprechende <code>@dirrm</code>-Zeilen einzufügen, um die Verzeichnisse zu entfernen, wenn das Paket gelöscht wird.</p></div><div class=paragraph><p>Hier ist ein kleines Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>bin/oneko
lib/X11/app-defaults/Oneko
lib/X11/oneko/cat1.xpm
lib/X11/oneko/cat2.xpm
lib/X11/oneko/mouse.xpm
@dirrm lib/X11/oneko</pre></div></div><div class=paragraph><p>Für weitere Details zur Packliste lesen Sie in der <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_create&amp;sektion=1&amp;format=html">pkg_create(1)</a> Manualpage nach.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Es wird empfohlen alle Dateinamen in dieser Datei alphabetisch sortiert zu halten. Das erlaubt Ihnen die Änderungen bei einem Upgrade Ihres Ports deutlich einfacher zu Überprüfen.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Eine Packlist von Hand zu erzeugen kann eine sehr mühsame Aufgabe sein. Wenn der Port eine große Anzahl Dateien installiert, kann es Zeit sparen, <a href=#plist-autoplist>eine Packliste automatisch zu erstellen</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Es gibt nur einen Fall, in dem <span class=filename>pkg-plist</span> weggelassen werden kann. Wenn der Port nur eine handvoll Dateien und Verzeichnisse installiert, können diese in den Variablen <code>PLIST_FILES</code> und <code>PLIST_DIRS</code> im <span class=filename>Makefile</span> aufgelistet werden. Zum Beispiel könnten wir im obigen Beispiel ohne <span class=filename>pkg-plist</span> für den <span class=filename>oneko</span>-Port auskommen, indem wir die folgenden Zeilen ins <span class=filename>Makefile</span> einfügen:</p></div><div class="literalblock programlisting"><div class=content><pre>PLIST_FILES=    bin/oneko \
                lib/X11/app-defaults/Oneko \
                lib/X11/oneko/cat1.xpm \
                lib/X11/oneko/cat2.xpm \
                lib/X11/oneko/mouse.xpm
PLIST_DIRS=     lib/X11/oneko</pre></div></div><div class=paragraph><p>Natürlich sollte <code>PLIST_DIRS</code> ungesetzt bleiben, wenn der Port keine eigenen Verzeichnisse installiert.</p></div><div class=paragraph><p>Der Preis für diese Art die Dateien eines Ports anzugeben ist, dass man keine Befehlsfolgen wie in <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_create&amp;sektion=1&amp;format=html">pkg_create(1)</a> nutzen kann. Deshalb ist es nur für einfache Ports geeignet und macht diese noch einfacher. Gleichzeitig bringt es den Vorteil die Anzahl der Dateien in der Ports-Sammlung zu reduzieren. Deshalb ziehen Sie bitte diese Vorgehensweise in Erwägung, bevor Sie <span class=filename>pkg-plist</span> benutzen.</p></div><div class=paragraph><p>Später werden wir uns ansehen, wie <span class=filename>pkg-plist</span> und <code>PLIST_FILES</code> benutzt werden können, um <a href=#plist>anspruchsvollere Aufgaben</a> zu erfüllen.</p></div></div></div><div class=sect2><h3 id=porting-checksum>3.3. Die Checksummendatei erzeugen<a class=anchor href=#porting-checksum></a></h3><div class=paragraph><p>Geben Sie einfach <code>make makesum</code> ein. Die Regeln von Make sorgen dafür, dass die Datei <span class=filename>distinfo</span> automatisch erstellt wird.</p></div><div class=paragraph><p>Wenn sich die Checksumme einer heruntergeladenen Datei regelmäßig ändert und Sie sicher sind, dass Sie der Quelle trauen können (weil sie z.B. von einer Hersteller-CD oder täglich erstellter Dokumentation stammt), sollten Sie diese Dateien in der Variable <code>IGNOREFILES</code> angeben. Dann wird die Checksumme für diese Datei bei <code>make makesum</code> nicht berechnet, sondern auf <code>IGNORE</code> gesetzt.</p></div></div><div class=sect2><h3 id=porting-testing>3.4. Den Port testen<a class=anchor href=#porting-testing></a></h3><div class=paragraph><p>Sie sollten sicherstellen, dass die Port-Regeln genau das einhalten, was Sie von ihnen erwarten, auch beim Erzeugen eines Pakets aus dem Port. Dies sind die wichtigen Punkte, die Sie überprüfen sollten.</p></div><div class=ulist><ul><li><p><span class=filename>pkg-plist</span> enthält nichts, das nicht von Ihrem Port installiert wurde.</p></li><li><p><span class=filename>pkg-plist</span> enthält alles, was von Ihrem Port installiert wurde.</p></li><li><p>Ihr Port kann mit Hilfe von <code>make reinstall</code> mehrmals installiert werden.</p></li><li><p>Ihr Port <a href=#plist-cleaning>räumt</a> bei der Deinstallation hinter sich auf.</p></li></ul></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Empfohlene Testreihenfolge</strong></p></div><div class="olist arabic"><ol class=arabic><li><p><code>make install</code></p></li><li><p><code>make package</code></p></li><li><p><code>make deinstall</code></p></li><li><p><code>pkg_add Paket-Name</code></p></li><li><p><code>make deinstall</code></p></li><li><p><code>make reinstall</code></p></li><li><p><code>make package</code></p></li></ol></div></div></div><div class=paragraph><p>Stellen Sie bitte sicher, dass während <code>make package</code> und <code>make deinstall</code> keine Warnungen ausgegeben werden. Nach Schritt 3 überprüfen Sie bitte, ob alle neuen Verzeichnisse korrekt entfernt wurden. Und versuchen Sie die Software nach Schritt 4 zu benutzen, um sicherzustellen, dass sie korrekt funktioniert, wenn diese aus einem Paket installiert wird.</p></div><div class=paragraph><p>Der gründlichste Weg diese Schritte zu automatisieren ist eine Tinderbox zu installieren. Diese verwaltet <code>Jails</code>, in denen Sie alle oben genannten Schritte durchführen können, ohne den Zustand Ihres laufenden Systems zu verändern. Mehr Informationen hierzu entält <span class=filename>ports/ports-mgmt/tinderbox</span></p></div></div><div class=sect2><h3 id=porting-portlint>3.5. Ihren Port mit <code>portlint</code> überprüfen<a class=anchor href=#porting-portlint></a></h3><div class=paragraph><p>Bitte verwenden Sie <code>portlint</code>, um festzustellen, ob Ihr Port unseren Richtlinien entspricht. Das Programm <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portlint/>ports-mgmt/portlint</a> ist Teil der Ports-Sammlung. Stellen Sie vor allem sicher, dass das <a href=#porting-samplem>Makefile</a> in der richtigen Form und das <a href=#porting-pkgname>Paket</a> passend benannt ist.</p></div></div><div class=sect2><h3 id=porting-submitting>3.6. Den neuen Port einreichen<a class=anchor href=#porting-submitting></a></h3><div class=paragraph><p>Bevor Sie den neuen Port einreichen, lesen Sie bitte unbedingt den Abschnitt <a href=#porting-dads>DOs and DON’Ts</a>.</p></div><div class=paragraph><p>Nun, da Sie mit Ihrem Port zufrieden sind, müssen Sie ihn nur noch in den Haupt-Ports-Tree von FreeBSD einbringen, damit alle daran teilhaben können. Wir benötigen nicht Ihr <span class=filename>work</span>-Verzeichnis oder Ihr <span class=filename>pkgname.tgz</span>-Paket - diese können Sie nun löschen. Wenn Ihr Port beispielsweise <code>oneko</code> heißt, wechseln Sie in das Verzeichnis, in dem sich das Verzeichnis <code>oneko</code> befindet und führen den Befehl <code>shar find oneko > oneko.shar</code> aus.</p></div><div class=paragraph><p>Fügen Sie Ihre Datei <code>oneko.shar</code> einem Fehlerbericht an und senden Sie diesen mit Hilfe des Programms <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> (unter <a href=https://docs.freebsd.org/de/articles/contributing/#CONTRIB-GENERAL>Bug Reports and General Commentary</a> finden Sie weitere Informationen über <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a>). Ordnen Sie den Fehlerbericht bitte in die Kategorie <code>Ports</code> mit der Klasse <code>Change-Request</code> ein (Markieren Sie den Bericht nicht als <code>vertraulich</code> (<code>confidential</code>)!). Fügen Sie bitte eine kurze Beschreibung des Programms, das Sie portiert haben, in das "Beschreibungs"-Feld des Problemberichts und die shar-Datei in das "Fix"-Feld ein (bespielsweise eine kurze Version des <code>COMMENT</code>).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sie können uns die Arbeit um einiges vereinfachen, wenn Sie eine gute Beschreibung in der Zusammenfassung des Problemberichtes verwenden. Wir bevorzugen etwas wie "Neuer Port: &lt;Kategorie>/&lt;Portname>&lt;Kurzbeschreibung des Ports>" für neue Ports. Wenn Sie sich an dieses Schema halten, ist die Chance, dass sich jemand bald Ihren Bericht ansieht, deutlich besser.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Noch einmal: <em>Bitte fügen Sie nicht das distfile der Originalquelle, das <span class=filename>work</span>-Verzeichnis oder das Paket, das Sie mit <code>make package</code> erstellt haben, ein.</em> Und verwenden Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=shar&amp;sektion=1&amp;format=html">shar(1)</a> für neue Ports (und NICHT <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>).</p></div><div class=paragraph><p>Haben Sie bitte etwas Geduld, nachdem Sie den Port eingereicht haben. Manchmal kann es einige Monate dauern, bevor ein Port in FreeBSD eingefügt wird, obwohl es wahrscheinlich nur ein paar Tage dauert. Sie können sich die <a href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?category=ports">Liste der PRs, die darauf warten, in FreeBSD committet zu werden</a>, ansehen.</p></div><div class=paragraph><p>Nachdem wir einen Blick auf Ihren Port geworfen haben, werden wir, wenn nötig, bei Ihnen nachfragen und ihn in die Ports-Sammlung übernehmen. Ihr Name taucht dann auch in der Liste der <a href=https://docs.freebsd.org/en/articles/contributors/#contrib-additional>Additional FreeBSD Contributors</a> und in anderen Dateien auf. Ist das nicht toll?! :-)</p></div></div></div></div><div class=sect1><h2 id=slow>Kapitel 4. Einen Port in aller Ruhe erstellen<a class=anchor href=#slow></a></h2><div class=sectionbody><div class=paragraph><p>Ok, das war nicht ganz einfach und der Port hat einige Veränderungen erfordert, um funktionieren zu können. In diesem Abschnitt werden wir Schritt für Schritt erklären, wie man den funktionierenden Port den Vorgaben der Ports entsprechend anpasst.</p></div><div class=sect2><h3 id=slow-work>4.1. Die Funktionsweise<a class=anchor href=#slow-work></a></h3><div class=paragraph><p>Beginnen wir mit der Abfolge der Ereignisse, die eintreten, wenn der Nutzer das erste <code>make</code> in Ihrem Portsverzeichnis ausführt. Sie empfinden es für das Verständnis vielleicht hilfreich <span class=filename>bsd.port.mk</span> in einem anderen Fenster offen zu haben, während Sie diesen Abschnitt lesen.</p></div><div class=paragraph><p>Aber machen Sie sich keine Sorgen, falls Sie nicht wirklich verstehen, was <span class=filename>bsd.port.mk</span> macht, die Wenigsten begreifen dies…​ <em>:></em></p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Das Target <code>fetch</code> wird aufgerufen. Es ist dafür verantwortlich sicherzustellen, dass der Tarball lokal im <code>DISTDIR</code> verfügbar ist. Falls <code>fetch</code> die benötigten Dateien in <code>DISTDIR</code> nicht finden kann, durchsucht es die URL <code>MASTER_SITES</code>, welche im Makefile gesetzt ist, ebenso wie unsere Haupt-FTP-Seite unter <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles>ftp://ftp.freebsd.org/pub/FreeBSD/ports/distfiles/ </a>, wo wir genehmigte Distfiles als Backup aufbewahren. Danach wird versucht, so eine direkte Internetverbindung besteht, dass genannte Distfile mit <code>FETCH</code> herunterzuladen. Falls dies gelingt, wird die Datei in <code>DISTDIR</code> für weitere Nutzung abgelegt und fährt fort.</p></li><li><p>Das Target <code>extract</code> wird aufgerufen. Es sucht nach den Distfiles Ihres Ports (normalerweise ein gzip-komprimierter Tarball) in <code>DISTDIR</code> und entpackt diese in ein temporäres Unterverzeichnis, welches von <code>WRKDIR</code> festgelegt wird (standardmäßig <span class=filename>work</span>).</p></li><li><p>Das Target <code>patch</code> wird aufgerufen. Zuerst werden alle in <code>PATCHFILES</code> festgelegten Patches eingespielt. Anschließend werden, falls Patches der Form <span class=filename>patch-*</span> in <code>PATCHDIR</code> (standardmäßig das <span class=filename>files</span>-Unterverzeichnis) gefunden werden, diese in alphabetischer Reihenfolge eingespielt.</p></li><li><p>Das Target <code>configure</code> wird aufgerufen. Dieses kann viele verschiedene Dinge machen.</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Existiert <span class=filename>scripts/configure</span>, so wird es aufgerufen.</p></li><li><p>Falls <code>HAS_CONFIGURE</code> oder <code>GNU_CONFIGURE</code> gesetzt sind, wird <span class=filename>WRKSRC/configure</span> ausgeführt.</p></li><li><p>Falls <code>USE_IMAKE</code> gesetzt ist, wird <code>XMKMF</code> (standardmäßig <code>xmkmf -a</code>) ausgeführt.</p></li></ol></div></li><li><p>Das Target <code>build</code> wird aufgerufen. Es ist für das Wechseln in das private Arbeitsverzeichnis (<code>WRKSRC</code>) und das Bauen des Ports zuständig. Ist <code>USE_GMAKE</code> gesetzt, so wird GNU <code>make</code> verwendet, sonst das System-<code>make</code>.</p></li></ol></div></div></div><div class=paragraph><p>Die oben genannten Schritte sind die Standardaktionen. Zusätzlich können Sie <code>pre-_ irgendwas_</code> oder <code>post-<em>irgendwas</em></code> als Targets definieren oder Skripten mit diesen Namen in das <span class=filename>scripts</span>-Unterverzeichnis legen. Sie werden dann vor bzw. nach den Standardaktionen aufgerufen.</p></div><div class=paragraph><p>Angenommen Sie haben das Target <code>post-extract</code> in Ihrem <span class=filename>Makefile</span> definiert und eine Datei <span class=filename>pre-build</span> im <span class=filename>scripts</span> Unterverzeichnis, so wird das Target <code>post-extract</code> nach dem normalen Entpacken aufgerufen und das Skript <span class=filename>pre-build</span> ausgeführt, bevor die vordefinierten Bau-Regeln abgearbeitet sind. Es wird empfohlen, dass Sie <span class=filename>Makefile</span>-Targets verwenden, falls die Aktionen es erlauben, da es so für jemanden einfacher sein wird herauszufinden, was für eine nicht-standardmäßige Aktion der Port benötigt.</p></div><div class=paragraph><p>Die Standardaktionen werden aus den Targets <span class=filename>bsd.port.mk</span> <code>do-<em>irgendwas</em></code> übernommen. Zum Beispiel sind die Befehle zum Entpacken eines Ports im Target <code>do-extract</code> zu finden. Falls Sie mit einem vorgegebenen Target nicht zufrieden sind, können Sie es verändern, indem Sie das Target <code>do-<em>irgendwas</em></code> in Ihrem <span class=filename>Makefile</span> neu definieren.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Die "Haupt"-Targets (z.B. <code>extract</code>, <code>configure</code> usw.) machen nicht mehr als sicherzustellen, dass bis hierhin alle Abschnitte abgeschlossen sind, um danach die eigentlichen Targets oder Skripte aufzurufen. Und es ist nicht beabsichtigt, dass diese geändert werden. Falls Sie das Entpacken verändern wollen, verändern Sie <code>do-extract</code>, aber niemals die Art, wie <code>extract</code> arbeitet!</p></div></td></tr></tbody></table></div><div class=paragraph><p>Jetzt, da Sie verstehen, was geschieht, wenn der Benutzer <code>make</code> eingibt, lassen Sie uns durch die empfohlenen Schritte gehen, um den perfekten Port zu erstellen.</p></div></div><div class=sect2><h3 id=slow-sources>4.2. Den originalen Quelltext besorgen<a class=anchor href=#slow-sources></a></h3><div class=paragraph><p>Normalerweise liegt der original Quelltext als gepackte Datei (<span class=filename>foo.tar.gz</span> oder <span class=filename>foo.tar.Z</span>) vor. Kopieren Sie diese nach <code>DISTDIR</code>. Nutzen Sie, soweit möglich, immer die Quellen aus dem <em>Hauptzweig</em>.</p></div><div class=paragraph><p>Es ist notwendig die Variable <code>MASTER_SITES</code> anzupassen, um anzugeben, wo sich der originale Quelltext befindet. In <span class=filename>bsd.sites.mk</span> finden sich hilfreiche Definitionen für die gebräuchlichsten Seiten. Bitte nutzen Sie diese Seiten und die zugehörigen Definitionen, soweit dies möglich ist. Damit wird vermieden, immer und immer wieder dieselben Informationen zu wiederholen. Da die Hauptseiten regelmäßig angepasst werden müssen, vereinfacht dieses Vorgehen die Pflege der Dateien für jeden Beteiligten.</p></div><div class=paragraph><p>Falls keine zuverlässige und gut erreichbare FTP/HTTP-Seite zu finden ist, oder nur Seiten auffindbar sind, die keinen Standards entsprechen, sollte eine Kopie des Quelltextes auf einer zuverlässigen Seite abgelegt werden. Dies könnte z.B. die eigene Internetseite sein.</p></div><div class=paragraph><p>Ist kein geeigneter Ort zum Ablegen des Quelltextes auffindbar, ist es möglich diesen "intern" auf <code>ftp.FreeBSD.org</code> abzulegen; dies sollte jedoch als letzte Möglichkeit angesehen werden. Das Distfile muss in diesem Fall in <span class=filename>~/public_distfiles/</span> eines <code>freefall</code>-Accounts abgelegt werden. Bitten Sie den Committer Ihres Ports dies zu erledigen. Er wird außerdem <code>MASTER_SITES</code> nach <code>MASTER_SITE_LOCAL</code> und <code>MASTER_SITE_SUBDIR</code> auf den <code>freefall</code>-Benutzernamen angepasst.</p></div><div class=paragraph><p>Sollte sich das Distfile des Ports regelmäßig ohne Versionsanpassungen des Autors ändern, sollte überlegt werden, das Disfile auf der eigenen Internetseite abzulegen und diese in der Liste der <code>MASTER_SITES</code> an die erste Stelle zu setzen. Falls möglich, sollte der Autor des Ports gebeten werden, dies zu erledigen; hierüber wird die Kontrolle des Quelltextes verbessert. Wird eine eigene Version des Quelltextes auf eigenen Internetseiten verfügbar gemacht, verhindert dies Warnungen von <code>checksum mismatch</code> und reduziert den Arbeitsaufwand der Maintainer der FTP-Seiten. Auch wenn nur eine Quelle für den Quelltext des Ports zur Verfügung steht, ist es empfohlen, ein Backup auf einer weiteren Seite abzulegen und diese als zweiten Eintrag in <code>MASTER_SITES</code> aufzunehmen.</p></div><div class=paragraph><p>Sind für den Port zusätzlich aus dem Internet verfügbare Patches erforderlich, sollten diese ebenfalls in <code>DISTDIR</code> abgelegt werden. Sollten diese Patches von anderer Quelle als der Hauptseite des Ports stammen, ist das kein Grund zur Sorge. Es gibt Wege diesem Umstand gerecht zu werden (beachten Sie die unten stehende Beschreibung zu <a href=#porting-patchfiles>PATCHFILES </a>).</p></div></div><div class=sect2><h3 id=slow-modifying>4.3. Den Port bearbeiten<a class=anchor href=#slow-modifying></a></h3><div class=paragraph><p>Entpacken Sie eine Kopie des Tarballs in ein privates Verzeichnis und nehmen Sie alle Änderungen vor, die nötig sind, um den Port unter einer aktuellen FreeBSD-Version kompilieren zu können. <em>Protokollieren Sie sorgfältig</em> alle Schritte, die Sie vornehmen, da Sie den Prozess in Kürze automatisieren werden. Alles, auch das Entfernen, Hinzufügen oder Bearbeiten von Dateien, sollte von einem automatisierten Skript oder einer Patch-Datei machbar sein, wenn Ihr Port fertig ist.</p></div><div class=paragraph><p>Falls Ihr Port bedeutende Interaktionen/Veränderungen durch den Benutzer benötigt, um ihn zu Kompilieren oder zu Installieren, sollten Sie einen Blick auf Larry Walls klassische Configure-Skripte werfen oder vielleicht etwas Ähnliches selbst erstellen. Das Ziel der Ports-Sammlung ist es, jeden Port so "plug-and-play-fähig" wie möglich für den Endbenutzer zu machen, während ein Minimum an Speicherplatz gebraucht wird.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Solange nicht anders angegeben wird von Patch-Dateien, Skripten und anderen Dateien, die Sie erstellt und der FreeBSD Ports-Sammlung hinzugefügt haben, angenommen, dass Sie unter den standardmäßigen BSD-Copyright-Bedingungen stehen.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=slow-patch>4.4. Fehlerbehebung (Patches)<a class=anchor href=#slow-patch></a></h3><div class=paragraph><p>Bei der Vorbereitung eines Ports können die Dateien, die hinzugefügt oder verändert wurden, mittels <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> abgefangen werden, um Sie später an <a href="https://man.freebsd.org/cgi/man.cgi?query=patch&amp;sektion=1&amp;format=html">patch(1)</a> zu übergeben. Jeder Patch, der dem Quelltext übergeben werden soll, sollte in einer Datei <span class=filename>patch-*</span> abgelegt werden, wobei <em>*</em> dem Pfadnamen der zu korrigierenden Datei entspricht, wie er auch in <span class=filename>patch-Imakefile</span> oder im <span class=filename>patch-src-config.h</span> erscheint. Diese Dateien sollten in <code>PATCHDIR</code> (normalerweise <span class=filename>files</span>) abgelegt sein, von wo sie automatisch übernommen werden. Alle Patches müssen sich relativ zur <code>WRKSRC</code>-Variable (normalerweise dem Verzeichnis, in dem sich der Quelltext des Ports entpackt und wo auch der Bau stattfindet) befinden.</p></div><div class=paragraph><p>Um Korrekturen und Updates zu vereinfachen, sollte es vermieden werden, mehr als einen Patch für eine Datei zu nutzen (z.B. <span class=filename>patch-file</span> und <span class=filename>patch-file2</span>, welche beide <span class=filename>WRKSRC/foobar.c</span> verändern). Beachten Sie, dass, falls der Pfad einer zu korrigierenden Datei einen Unterstrich (<code>_</code>) enthält, der Patch stattdessen zwei Unterstriche im Namen haben muss. Zum Beispiel muss der Patch, der eine Datei namens <span class=filename>src/freeglut_joystick.c</span> korrigieren soll, <span class=filename>patch-src-freeglut__joystick.c</span> genannt werden.</p></div><div class=paragraph><p>Für die Benennung der Patches sollten nur die Zeichen <code>[-+._a-zA-Z0-9]</code> genutzt werden. Bitte verwenden Sie keine weiteren Zeichen als die angegebenen. Die Namensvergabe sollte nicht <span class=filename>patch-aa</span> oder <span class=filename>patch-ab</span> etc. entsprechen, erwähnen Sie immer den Pfad und Dateinamen.</p></div><div class=paragraph><p>RCS-Zeichenketten sollten vermieden werden, da CVS diese verstümmeln würde, sobald wir diese Dateien in die Ports-Sammlung einpflegen. Wenn wir die Dateien wieder abrufen wären diese verändert und der Patch würde fehlschlagen. RCS-Zeichenketten sind in Dollar-Zeichen (<code>$</code>) eingefügte Zeichen und beginnen üblicherweise mit <code>$Id</code> oder <code>$RCS</code>.</p></div><div class=paragraph><p>Die Option rekursiv (<code>-r</code>) zu nutzen <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>, um Patches zu erstellen, ist zulässig, jedoch sollte der Patch anschließend geprüft werden, um Unnötiges aus dem Patch zu entfernen. Im Einzelnen bedeutet dies, dass Diffs zwischen zwei Backup-Dateien, <span class=filename>Makefile</span>s oder wenn der Port <code>Imake</code> oder GNU <code>configure</code> usw. nutzt, überflüssig sind und entfernt werden sollten. Falls es es notwendig war, <span class=filename>configure.in</span> zu bearbeiten und es soll <code>autoconf</code> zum Neuerstellen von <code>configure</code> genutzt werden, sollten die Diffs aus <code>configure</code> nicht genutzt werden (diese werden oft einige tausend Zeilen groß!); - hier sollte <code>USE_AUTOTOOLS=autoconf:261</code> definiert und das Diff aus <span class=filename>configure.in</span> genutzt werden.</p></div><div class=paragraph><p>Zusätzlich sollte man unnötige Markup-Änderungen in Patches/Änderungen möglichst vermeiden. In der Open Source-Welt teilen sich Projekte häufig große Teile des Quellcodes. Allerdings verwenden die einzelnen Projekte oft unterschiedliche Programmierstile und Vorgaben für Einrückungen. Wenn man also einen funktionierenden Teil einer Funktion aus einem Projekt verwendet, um ein ähnliches Problem in einem anderen Projekt zu lösen, sollte man besonders vorsichtig sein, weil sich ansonsten die CVS-Änderungseinträge mit überflüssigen Einträgen füllen, die nur das Markup des Quellcodes betreffen, ohne dass sich an der Funktion des eigentlichen Quellcode etwas ändert ("withspace-only changes"). Solche Änderungen vergrößern nicht nur das CVS-Repository, sondern erschweren es auch die Ursache für eventuell auftretende Probleme zu finden.</p></div><div class=paragraph><p>War es notwendig eine Datei zu entfernen, wird dies besser mittels des <code>post-extract</code>-Targets als über den Patch selbst realisiert.</p></div><div class=paragraph><p>Ein einfacher Austausch kann direkt über das <span class=filename>Makefile</span> des Ports umgesetzt werden, indem der in-place-Modus von <a href="https://man.freebsd.org/cgi/man.cgi?query=sed&amp;sektion=1&amp;format=html">sed(1)</a> genutzt wird. Dies ist sehr hilfreich, wenn variable Werte korrigiert werden sollen. Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>post-patch:
      @${REINPLACE_CMD} -e &#39;s|for Linux|for FreeBSD|g&#39; ${WRKSRC}/README
	  @${REINPLACE_CMD} -e &#39;s|-pthread|${PTHREAD_LIBS}|&#39; ${WRKSRC}/configure</pre></div></div><div class=paragraph><p>Relativ häufig ergibt sich die Situation, in der die portierte Software die CR/LF-Konventionen für Zeilenenden nutzt (dies ist bei unter Windows® entwickelter Software häufig der Fall). Dies kann bei weiteren Patches Probleme (Compiler-Warnungen, Fehlermeldungen bei der Ausführung von Skripten wie z.B. <code>/bin/sh^M</code> not found) und anderes ergeben. Um schnell alle Dateien von CR/LF nach LF zu konvertieren, kann <code>USE_DOS2UNIX=yes</code> in das <span class=filename>Makefile</span> des Ports geschrieben werden. Hierzu kann eine Liste der zu konvertierenden Dateien erstellt werden:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_DOS2UNIX=    util.c util.h</pre></div></div><div class=paragraph><p>Sollen Gruppen von Dateien über verschiedene Unterverzeichnisse konvertiert werden, kann <code>DOS2UNIX_REGEX</code> genutzt werden, dessen Argumente <code>find</code>-kompatible, reguläre Ausdrücke sind. Mehr zur Formatierung findet sich in <a href="https://man.freebsd.org/cgi/man.cgi?query=re_format&amp;sektion=7&amp;format=html">re_format(7)</a>. Diese Option ist beim Konvertieren aller Dateien mit definierter Endung, z.B. aller Dateien im Quellcode, wobei binäre Dateien unberührt bleiben, sinnvoll:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_DOS2UNIX=    yes
      DOS2UNIX_REGEX=  .*\.(c|cpp|h)</pre></div></div><div class=paragraph><p>Wenn Sie einen Patch zu einer bereits existierenden Datei erstellen wollen, können Sie von ihr eine Kopie mit der Endung <span class=filename>.orig</span> erstellen und anschließend die Originaldatei bearbeiten. Das make-Ziel <code>makepatch</code> führt dann zu einer entsprechenden Patch-Datei im Verzeichnis <span class=filename>files</span> des Ports.</p></div></div><div class=sect2><h3 id=slow-configure>4.5. Konfigurieren<a class=anchor href=#slow-configure></a></h3><div class=paragraph><p>Fügen Sie alle zusätzlichen Veränderungsbefehle Ihrem Skript <span class=filename>configure</span> hinzu und speichern Sie es im <span class=filename>scripts</span>-Unterverzeichnis. Wie vorstehend schon erwähnt, können Sie dies auch mit den Targets <span class=filename>Makefile</span> und/oder Skripte mit dem Namen <span class=filename>pre-configure</span> oder <span class=filename>post-configure</span> erledigen.</p></div></div><div class=sect2><h3 id=slow-user-input>4.6. Handhabung von Benutzereingaben<a class=anchor href=#slow-user-input></a></h3><div class=paragraph><p>Sollte der Port Eingaben vom Benutzer benötigen, muss <code>IS_INTERACTIVE</code> im <span class=filename>Makefile</span> des Ports gesetzt werden. Dies erlaubt "overnight builds" Ihren Port zu überspringen, falls der Nutzer die Variable <code>BATCH</code> setzt (setzt der Nutzer hingegen die Variable <code>INTERACTIVE</code>, werden <em>nur</em> Ports gebaut, die Interaktion vom Nutzer erwarten). Dies erspart den Rechnern, welche kontinuierlich Ports bauen, eine Menge Zeit (siehe unten).</p></div><div class=paragraph><p>Zudem ist es empfohlen, falls sinnvolle Vorgaben für interaktive Optionen gesetzt sind, die <code>PACKAGE_BUILDING</code>-Variable zu prüfen und das interaktive Skript abzuschalten. Dies macht es uns möglich, Pakete für CDROMs und FTP-Server zu bauen.</p></div></div></div></div><div class=sect1><h2 id=flavors>Kapitel 5. Die Konfiguration des Makefile<a class=anchor href=#flavors></a></h2><div class=sectionbody><div class=paragraph><p>Das Konfigurieren des <span class=filename>Makefile</span> ist sehr einfach und wir schlagen vor, dass Sie zunächst einen Blick auf vorhandene Beispiele werfen. Zusätzlich gibt es ein <a href=#porting-samplem>Beispiel eines Makefile</a> in diesem Handbuch. Schauen Sie es sich an und verfolgen Sie bitte die Abfolge der Variablen und Abschnitte in dieser Vorlage. Damit erleichtern Sie es anderen, Ihren Port zu lesen.</p></div><div class=paragraph><p>Bedenken Sie bitte die folgenden Probleme in der hier vorgegebenen Abfolge der Unterabschnitte dieses Kapitels, wenn Sie Ihr neues <span class=filename>Makefile</span> erstellen:</p></div><div class=sect2><h3 id=makefile-source>5.1. Der originale Quelltext<a class=anchor href=#makefile-source></a></h3><div class=paragraph><p>Liegt der Quelltext in <code>DISTDIR</code> als eine standardisierte und mit gzip gepackte Datei in der Art <span class=filename>foozolix-1.2.tar.gz</span>? Falls ja, können Sie zum nächsten Schritt übergehen. Falls nicht, sollten Sie versuchen, die Variablen <code>DISTVERSION</code>, <code>DISTNAME</code>, <code>EXTRACT_CMD</code>, <code>EXTRACT_BEFORE_ARGS</code>, <code>EXTRACT_AFTER_ARGS</code>, <code>EXTRACT_SUFX</code>, oder <code>DISTFILES</code> zu ändern. Das hängt davon ab, wie fremdartig das Distributionsfile Ihres Ports ist (der häufigste Fall ist <code>EXTRACT_SUFX=.tar.Z</code>, wenn der Tarball durch ein normales <code>compress</code> und nicht durch <code>gzip</code> gepackt wurde).</p></div><div class=paragraph><p>Im schlimmsten Fall können Sie einfach Ihre eigene Vorgabe mittels <code>do-extract</code> erzeugen und die Standardvorgabe überschreiben; aber dies sollte in den wenigsten Fällen, wenn überhaupt, notwendig sein.</p></div></div><div class=sect2><h3 id=makefile-naming>5.2. Bezeichnungen<a class=anchor href=#makefile-naming></a></h3><div class=paragraph><p>Der erste Teil des <span class=filename>Makefile</span> beschreibt die Versionsnummer des Ports und führt ihn in der richtigen Kategorie auf.</p></div><div class=sect3><h4 id=_portname_und_portversion>5.2.1. <code>PORTNAME</code> und <code>PORTVERSION</code><a class=anchor href=#_portname_und_portversion></a></h4><div class=paragraph><p>Setzen Sie bitte die Variable <code>PORTNAME</code> auf den Basisnamen Ihres Ports und die Variable <code>PORTVERSION</code> auf dessen Versionsnummer.</p></div></div><div class=sect3><h4 id=makefile-naming-revepoch>5.2.2. <code>PORTREVISION</code> und <code>PORTEPOCH</code><a class=anchor href=#makefile-naming-revepoch></a></h4><div class=sect4><h5 id=_portrevision>5.2.2.1. <code>PORTREVISION</code><a class=anchor href=#_portrevision></a></h5><div class=paragraph><p>Die <code>PORTREVISION</code>-Variable ist ein streng monoton wachsender Wert, welcher auf 0 zurückgesetzt wird, nachdem <code>PORTVERSION</code> erhöht wurde (d.h. jedes Mal, wenn ein offizielles Release erfolgt). Sie wird an den Namen des Pakets angehängt, wenn sie ungleich 0 ist. Änderungen an <code>PORTREVISION</code> werden von automatisierten Werkzeugen (z.B. <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_version&amp;sektion=1&amp;format=html">pkg_version(1)</a>) genutzt, um anzuzeigen, dass ein neues Paket verfügbar ist.</p></div><div class=paragraph><p><code>PORTREVISION</code> sollte jedes Mal erhöht werden, wenn eine Änderung am Port erfolgt, die beträchtliche Auswirkungen auf den Inhalt oder Struktur des aus dem Port erzeugten Pakets zur Folge hat.</p></div><div class=paragraph><p>Beispiele dafür, wann <code>PORTREVISION</code> erhöht werden sollte:</p></div><div class=ulist><ul><li><p>Hinzufügen von Patches, welche Sicherheitslücken schließen, Fehler beseitigen oder neue Funktionalität zum Port hinzufügen.</p></li><li><p>Änderungen am <span class=filename>Makefile</span> des Ports, welche compile-time-Optionen hinzufügen oder entfernen.</p></li><li><p>Änderungen bezüglich Packliste oder am Verhalten während der Installation des Pakets (d.h. Änderungen an einem Skript, welches Ausgangsdaten für das Paket erzeugt, wie z.B. SSH-Hostschlüssel).</p></li><li><p>Versionssprung einer Shared-Library, welche eine Abhängigkeit dieses Ports ist (In diesem Fall würde ein Anwender bei der Installation des alten Pakets scheitern, falls er eine neue Version der Abhängigkeit bereits installiert hat, weil nach der alten Bibliothek libfoo.x anstatt nach libfoo.(x+1)) gesucht wird).</p></li><li><p>Schleichende Änderungen am Distfile, welche bedeutende funktionale Änderungen verursachen, d.h. Änderungen des Distfile erfordern eine Korrektur an <span class=filename>distinfo</span>, ohne dass damit zusammenhängend die <code>PORTVERSION</code> verändert wird, obwohl ein <code>diff -ru</code> zwischen der alten und der neuen Version bedeutende Veränderungen am Code nachweist.</p></li></ul></div><div class=paragraph><p>Beispiele für Änderungen, welche keine Erhöhung von <code>PORTREVISION</code> erfordern:</p></div><div class=ulist><ul><li><p>Stilistische Änderungen am Grundgerüst des Ports ohne funktionale Änderungen am daraus resultierenden Paket.</p></li><li><p>Änderungen an der Variable <code>MASTER_SITES</code> oder andere funktionale Änderungen, welche das resultierende Paket nicht verändern.</p></li><li><p>Marginale Patches am Distfile wie die Korrektur von Tippfehlern, welche nicht wichtig genug sind, um dem Benutzer die Bürde eines Upgrades aufzuerlegen.</p></li><li><p>Build fixes, die ein Paket erst kompilierbar machen, welches ohne diese Änderungen vorher nicht erzeugt werden konnte (solange die Änderungen keine funktionale Differenz bringen auf Plattformen, auf denen dieses Paket schon vorher gebaut werden konnte). Da <code>PORTREVISION</code> den Inhalt des Pakets wiederspiegelt, ist es nicht notwendig <code>PORTREVISION</code> zu erhöhen, wenn das Paket vorher nicht erstellt werden konnte.</p></li></ul></div><div class=paragraph><p>Als Faustregel gilt: Stellen Sie sich die Frage, ob die durchgeführte Änderung am Port jedem hilft (entweder aufgrund einer Verbesserung, Beseitigung eines Fehlers, oder der Annahme, dass das neue Paket überhaupt erst funktioniert) und wägen Sie es gegen den Umstand ab, dass jedermann, der seine Ports-Sammlung regelmässig auf dem neuesten Stand hält, zu einer Aktualisierung gezwungen wird. Falls Sie die Frage positiv beantworten sollten, erhöhen Sie die Variable <code>PORTREVISION</code>.</p></div></div><div class=sect4><h5 id=_portepoch>5.2.2.2. <code>PORTEPOCH</code><a class=anchor href=#_portepoch></a></h5><div class=paragraph><p>Von Zeit zu Zeit geschieht es, dass irgendjemand (Drittanbieter von Software oder FreeBSD Ports Committer) etwas Dummes tut und eine Version einer Software veröffentlicht, deren Versionsnummer niedriger ist als die der vorherigen. Ein Beispiel hierfür ist ein Port, der von foo-20000801 auf foo-1.0 geändert wird (der Erstere wird fälschlicherweise als neue Version behandelt, weil 2000801 ein numerisch größerer Wert ist als 1).</p></div><div class=paragraph><p>In Situationen wie diesen sollte die Variable <code>PORTEPOCH</code> erhöht werden. Wenn <code>PORTEPOCH</code> größer als 0 ist, wird sie an den Namen des Pakets angehängt, wie in Abschnitt 0 oberhalb bereits beschrieben. <code>PORTEPOCH</code> darf niemals verringert oder auf 0 gesetzt werden, weil der Vergleich des Pakets mit einem früheren Zeitpunkt scheitern würde (d.h. das Paket würde niemals als veraltet erkannt werden): Die neue Versionsnummer (<code>1.0,1</code> im obigen Beispiel) ist immer noch numerisch kleiner als die vorherige Version (2000801), aber das Suffix <code>,1</code> wird von automatisierten Werkzeugen gesondert behandelt und wird als größer erkannt, als das implizit angenommene Suffix <code>,0</code> im früheren Paket.</p></div><div class=paragraph><p>Das Entfernen oder Zurücksetzen von <code>PORTEPOCH</code> führt zu unendlichem Ärger. Wenn Sie die obigen Ausführungen nicht vollständig verstanden haben, lesen Sie es bitte unbedingt nochmals bis Sie es vollständig verinnerlicht haben, oder fragen Sie vor jeder Änderung auf den Mailinglisten nach!</p></div><div class=paragraph><p>Es wird erwartet, dass <code>PORTEPOCH</code> für die weitaus überwiegende Zahl der Ports nicht verwendet wird und der verantwortungsvolle und vorausschauende Umgang mit <code>PORTVERSION</code> macht es meist überflüssig, falls ein späteres Release die Versionsstruktur ändern sollte. Vorsicht ist geboten, wenn ein Release einer Drittanbieter-Software ohne eine offizielle Versionsnummer veröffentlicht wird, wie z.B. bei "Snapshot-Versionen". Man ist versucht, das Release mit dem jeweiligen Datum zu bezeichnen, was unweigerlich zu den oben beschriebenen Problemen führt, wenn das nächste "offizielle" Release erscheint.</p></div><div class=paragraph><p>Wenn z.B. ein Snapshot zum Datum 20000917 veröffentlicht wird und die vorherige Version der Software war 1.2, dann sollte der Snapshot die <code>PORTVERSION</code> 1.2.20000917 oder ähnlich erhalten und nicht 20000917, damit das nachfolgende Release, angenommen 1.3, immer noch einen größeren numerischen Wert aufweist.</p></div></div><div class=sect4><h5 id=_beispiel_für_den_gebrauch_von_portrevision_und_portepoch>5.2.2.3. Beispiel für den Gebrauch von <code>PORTREVISION</code> und <code>PORTEPOCH</code><a class=anchor href=#_beispiel_für_den_gebrauch_von_portrevision_und_portepoch></a></h5><div class=paragraph><p>Der <code>gtkmumble</code>-Port, Version <code>0.10</code>, befindet sich in der Ports-Sammlung:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.10</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.10</code>.</p></div><div class=paragraph><p>Ein Sicherheitsloch wurde entdeckt, das einen lokalen Patch von FreeBSD erforderlich macht. <code>PORTREVISION</code> wird entsprechend erhöht.</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.10
PORTREVISION=   1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.10_1</code></p></div><div class=paragraph><p>Eine neue Version wird vom Software-Drittanbieter veröffentlicht, bezeichnet mit der Version <code>0.2</code> (es stellt sich heraus, dass der Autor beabsichtigte, dass <code>0.10</code> eigentlich <code>0.1.0</code> bedeuten sollte, nicht "was kommt nach 0.9" - Hoppla, aber nun ist es zu spät). Da die neue Unterversion <code>2</code> numerisch kleiner ist als die vorherige Version <code>10</code>, muss <code>PORTEPOCH</code> erhöht werden, um sicherzustellen, dass das neue Paket auch als "neuer" erkannt wird. Da es ein neues Release des Drittanbieters ist, wird <code>PORTREVISION</code> auf 0 zurückgesetzt (oder aus dem <span class=filename>Makefile</span> entfernt).</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.2
PORTEPOCH=      1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.2,1</code></p></div><div class=paragraph><p>Das nächste Release ist 0.3. Da <code>PORTEPOCH</code> niemals verringert wird, sind die Versionsvariablen nun wie folgt:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       gtkmumble
PORTVERSION=    0.3
PORTEPOCH=      1</pre></div></div><div class=paragraph><p><code>PKGNAME</code> wird zu <code>gtkmumble-0.3,1</code></p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Falls <code>PORTEPOCH</code> mit diesem Upgrade auf <code>0</code> zurückgesetzt worden wäre, dann würde jemand, der das Paket <code>gtkmumble-0.10_1</code> installiert hätte, das Paket <code>gtkmumble-0.3</code> nicht als neuer erkennen, da <code>3</code> immer noch numerisch kleiner ist als <code>10</code>. Bedenken Sie, dass genau dies der springende Punkt an <code>PORTEPOCH</code> ist.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=_pkgnameprefix_und_pkgnamesuffix>5.2.3. <code>PKGNAMEPREFIX</code> und <code>PKGNAMESUFFIX</code><a class=anchor href=#_pkgnameprefix_und_pkgnamesuffix></a></h4><div class=paragraph><p>Zwei optionale Variablen, <code>PKGNAMEPREFIX</code> und <code>PKGNAMESUFFIX</code>, werden verknüpft mit <code>PORTNAME</code> und <code>PORTVERSION</code>, um <code>PKGNAME</code> zu bilden als <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>. Stellen Sie bitte unbedingt sicher, dass diese Variablen den <a href=#porting-pkgname>Richtlinien für einen guten Paketnamen</a> entsprechen. Insbesondere dürfen Sie <em>keinesfalls</em> einen Bindestrich (<code>-</code>) in <code>PORTVERSION</code> verwenden. Falls das Paket den <em>language-</em> oder <em>-compiled.specifics</em>-Teil aufweist (siehe unten) benutzen Sie <code>PKGNAMEPREFIX</code> oder <code>PKGNAMESUFFIX</code> respektive. Machen Sie diese Variablen nicht zum Bestandteil von <code>PORTNAME</code>!</p></div></div><div class=sect3><h4 id=_latest_link>5.2.4. <code>LATEST_LINK</code><a class=anchor href=#_latest_link></a></h4><div class=paragraph><p>Die Umgebungsvariable <code>LATEST_LINK</code> wird während der Paketerstellung verwendet, um einen Kurznamen festzulegen, der danach von <code>pkg_add -r</code> genutzt werden kann. Dadurch wird es beispielsweise möglich, die aktuelle Perl-Version durch einen einfachen Aufruf von <code>pkg_add -r perl</code> zu installieren (ohne die Angabe der korrekten Versionsnummer). Dieser Name muss eindeutig sowie "offensichtlich" sein.</p></div><div class=paragraph><p>In einigen Fällen können mehrere Versionen einer Applikation gleichzeitig in der Ports-Sammlung sein. Das index build- und das package build-System müssen nun in der Lage sein, diese als unterschiedliche Ports zu erkennen, obwohl diese Versionen alle die gleichen Variablen <code>PORTNAME</code>, <code>PKGNAMEPREFIX</code> und sogar <code>PKGNAMESUFFIX</code> aufweisen. In solchen Fällen sollte die optionale Variable <code>LATEST_LINK</code> auf einen unterschiedlichen Wert für alle Ports gesetzt werden mit Ausnahme des "Haupt-Ports". Beispiele hierfür sind die <span class=filename>lang/gcc46</span> und <span class=filename>lang/gcc</span>-Ports und die <span class=filename>www/apache*</span>-Familie. Wenn Sie die Umgebungsvariable <code>NO_LATEST_LINK</code> setzen, wird kein Link erzeugt, was für alle Versionen (aber nicht für die "Hauptversion") nützlich sein kann. Beachten Sie bitte, dass die Frage der Auswahl der "wichtigsten" Version ("am populärsten", "am besten Unterstützt", "zuletzt gepatcht" usw.) ausserhalb der Möglichkeiten dieses Handbuches liegt. Wir sagen Ihnen nur, wie Sie die anderen Ports spezifizieren, nachdem Sie den "Haupt-Port" erkoren haben.</p></div></div><div class=sect3><h4 id=porting-pkgname>5.2.5. Namensregeln für Pakete<a class=anchor href=#porting-pkgname></a></h4><div class=paragraph><p>Im Folgenden finden Sie die Regeln für die Benennung Ihrer Pakete. Diese sollen gewährleisten, dass das Paketverzeichnis leicht zu durchsuchen ist, da es bereits abertausende Pakete gibt und die Nutzer sich mit Schauder abwenden, wenn Ihre Augen überstrapaziert werden!</p></div><div class=paragraph><p>Der Paketname soll aussehen wie <span class=filename>language_region-name-compiled.specifics-version.numbers</span>.</p></div><div class=paragraph><p>Der Paketname ist definiert als <code>${PKGNAMEPREFIX}${PORTNAME}${PKGNAMESUFFIX}-${PORTVERSION}</code>. Stellen Sie bitte sicher, dass die Variablen Ihres Ports diesem Format entsprechen.</p></div><div class="olist arabic"><ol class=arabic><li><p>FreeBSD bemüht sich ausserordentlich, die Landessprachen seiner Nutzer zu unterstützen. Die _language-_Variable soll eine Abkürzung mit 2 Buchstaben sein der Sprachen gemäß ISO-639, falls der Port für eine bestimmte Sprache spezifisch ist. Beispiele hierfür sind <code>ja</code> für Japanisch, <code>ru</code> für Russisch, <code>vi</code> für Vietnamesisch, <code>zh</code> für Chinesisch, <code>ko</code> für Koreanisch und <code>de</code> für Deutsch.</p><div class=paragraph><p>Sollte der Port spezifisch sein für eine gewisse Region innerhalb eines Sprachraumes, dann fügen Sie bitte auch den Ländercode mit 2 Buchstaben hinzu. Beispiele sind <code>en_US</code> für nordamerikanisches Englisch und <code>fr_CH</code> für schweizerisches Französisch.</p></div><div class=paragraph><p>Der <em>language-</em>Teil muss in der <code>PKGNAMEPREFIX</code>-Variable gesetzt werden.</p></div></li><li><p>Der erste Buchstabe des <span class=filename>name</span>-Teils muss kleingeschrieben werden (der Rest des Namens kann Großbuchstaben enthalten. Daher seien Sie bitte umsichtig, wenn Sie den Namen einer Software konvertieren, welche Grossbuchstaben enthält). Es ist Tradition, <code>Perl 5</code>-Module durch ein vorstehendes <code>p5-</code> und durch Umwandlung des doppelten Doppelpunktes in Bindestriche zu bezeichnen. So wird z.B. aus dem <code>Data::Dumper</code>-Modul der <code>p5-Data-Dumper</code>-Port.</p></li><li><p>Vergewissern Sie sich, dass der Name des Ports und seine Versionsnummer klar getrennt sind und in den Variablen <code>PORTNAME</code> und <code>PORTVERSION</code> stehen. Der einzige Grund, um in <code>PORTNAME</code> einen Versionsteil aufzunehmen ist der, dass die Software wirklich so bezeichnet wird, wie z.B. die Ports <span class=filename>textproc/libxml2</span> oder <span class=filename>japanese/kinput2-freewnn</span>. Ansonsten sollte <code>PORTNAME</code> keine versionsspezifischen Bestandteile aufweisen. Es ist vollkommen normal, dass viele Ports den gleichen <code>PORTNAME</code> aufweisen wie z.B. die <span class=filename>www/apache*</span>-Ports. In diesem Falle werden unterschiedliche Versionen (und unterschiedliche Indexeinträge) unterschieden durch die Werte von <code>PKGNAMEPREFIX</code>, <code>PKGNAMESUFFIX</code> und <code>LATEST_LINK</code>.</p></li><li><p>Falls der Port mit verschiedenen, <a href=#makefile-masterdir>fest kodierten Vorgaben</a> (üblicherweise Teil des Verzeichnisnamens in einer Familie von Ports) gebaut werden kann, dann soll der <em>-compiled.specifics</em>-Teil die einkompilierten Vorgaben anzeigen (der Bindestrich ist optional). Beispiele hierfür sind Papiergrößen und Font-Einheiten.</p><div class=paragraph><p>Der <em>-compiled.specifics</em>-Teil muss in der Variablen <code>PKGNAMESUFFIX</code> gesetzt werden.</p></div></li><li><p>Die Versionszeichenfolge sollte einen Bindestrich (<code>-</code>) am Schluss haben und eine von Punkten getrennte Liste von Integer-Zahlen und kleingeschriebenen Buchstaben sein. Es ist nicht zulässig, einen weiteren Bindestrich innerhalb des Versionsstrings zu verwenden! Die einzige Ausnahme hiervon ist die Zeichenfolge <code>pl</code> (bedeutet "patchlevel"), welche <em>nur</em> dann gebraucht werden darf, wenn die Applikation über keine Haupt- oder Unterversionsnummern verfügt. Wenn die Versionsbezeichnung der Software Zeichenketten wie "alpha", "beta", "rc" oder "pre" enthält, dann nehmen Sie bitte den ersten Buchstaben daraus und setzen ihn unmittelbar hinter einen Punkt. Falls die Versionszeichenfolge nach diesem Punkt fortgesetzt wird, sollen die Zahlen ohne einen Punkt zwischen den einzelnen Buchstaben folgen.</p><div class=paragraph><p>Das Ziel ist es, die Ports anhand der Versionszeichenfolge zu sortieren. Stellen Sie bitte unbedingt sicher, dass die Bestandteile der Versionsnummer immer durch einen Punkt getrennt sind und falls Datumsangaben verwendet werden, dass diese im Format <code>0.0.yyyy.mm.dd</code> und nicht <code>dd.mm.yyyy</code> oder gar dem nicht Y2K-kompatiblen Format <code>yy.mm.dd</code> vorliegen. Es ist wichtig, dass die Versionsnummer mit <code>0.0.</code> beginnt, da die Versionsnummer im Falle einer Veröffentlichung auf jeden Fall kleiner als <code>yyyy</code> sein wird.</p></div></li></ol></div><div class=paragraph><p>Hier sind einige reale Beispiele, die aufzeigen, wie man den Namen einer Applikation zu einem vernünftigen Paketnamen umwandelt:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.667%><thead><tr><th class="tableblock halign-left valign-top">Softwarename</th><th class="tableblock halign-left valign-top">PKGNAMEPREFIX</th><th class="tableblock halign-left valign-top">PORTNAME</th><th class="tableblock halign-left valign-top">PKGNAMESUFFIX</th><th class="tableblock halign-left valign-top">PORTVERSION</th><th class="tableblock halign-left valign-top">Grund</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mule-2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mule</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Keine Änderung erforderlich</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EmiClock-1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>emiclock</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0.2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>keine Großbuchstaben für einzelne Applikationen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rdist-1.3alpha</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>rdist</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.3.a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Keine Zeichenketten wie <code>alpha</code> erlaubt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>es-0.9-beta1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>es</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.9.b1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>keine Zeichenketten wie <code>beta</code> erlaubt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mailman-2.0rc3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>mailman</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.0.r3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>keine Zeichenketten wie <code>rc</code> erlaubt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>v3.3beta021.src</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tiff</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Was sollte denn das eigentlich sein?</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>tvtwm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pl11</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versionsstring zwingend erforderlich</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>piewm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versionsstring zwingend erforderlich</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr-2.10pl1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>xvgr</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.10.1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>pl</code> nur erlaubt, wenn keine Versionsnummer vorhanden</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>gawk-2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ja-</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>gawk</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.15.6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Japanische Sprachversion</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>psutils-1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>psutils</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>-letter</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.13</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Papergröße beim Paketbau fix kodiert</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(leer)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pkfonts</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>300</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Paket für 300 DPI Schriftarten</p></td></tr></tbody></table><div class=paragraph><p>Falls es in der Originalquelle überhaupt keinen Anhaltspunkt für irgendeine Versionsbezeichnung gibt und es unwahrscheinlich ist, dass der Autor jemals eine neue Version veröffentlichen wird, dann setzen Sie bitte die Version einfach auf <code>1.0</code> (wie im obigen Beispiel <code>piewm</code>). Sie können auch den Autor fragen oder eine Datumszeichenfolge in der Art <code>0.0.yyyy.mm.dd</code> als Version verwenden.</p></div></div></div><div class=sect2><h3 id=makefile-categories>5.3. Kategorisierung<a class=anchor href=#makefile-categories></a></h3><div class=sect3><h4 id=_categories>5.3.1. <code>CATEGORIES</code><a class=anchor href=#_categories></a></h4><div class=paragraph><p>Wenn ein Paket erzeugt wird, dann wird es unter <span class=filename>/usr/ports/packages/All</span> abgelegt und von einem oder mehreren Unterverzeichnissen werden auf <span class=filename>/usr/ports/packages</span> Links erstellt. Die Namen dieser Unterverzeichnisse werden durch die Variable <code>CATEGORIES</code> festgelegt. Dies geschieht, um dem Nutzer zu helfen, eine große Zahl von Paketen auf einer FTP-Webseite oder einer CD/DVD zu durchsuchen. Bitte werfen Sie einen Blick auf die <a href=#porting-categories>Aktuelle Liste der Kategorien</a> und suchen Sie die beste Kategorie für Ihren Port aus.</p></div><div class=paragraph><p>Diese Liste legt auch fest, an welcher Stelle in der Ports-Sammlung der Port eingefügt wird. Falls Sie mehrere Kategorien angeben wird angenommen, dass die Dateien des Ports im Unterverzeichnis mit dem Namen der ersten angegebenen Kategorie liegen. Schauen Sie bitte <a href=#choosing-categories>unten</a> für weitere Informationen darüber, wie man die richtige Kategorie bestimmt.</p></div></div><div class=sect3><h4 id=porting-categories>5.3.2. Aktuelle Liste der Kategorien<a class=anchor href=#porting-categories></a></h4><div class=paragraph><p>Hier ist die aktuelle Liste der Kategorien. Die mit einem Asterisk (<code>*</code>) bezeichneten sind <em>virtuelle</em> Kategorien, also solche, welche über kein eigenes Unterverzeichnis in der Ports-Sammlung verfügen. Sie werden nur als Sekundärkategorien benutzt und sind nur für Suchzwecke eingerichtet worden.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Für nicht-virtuelle Kategorien finden Sie eine einzeilige Beschreibung in der Variable <code>COMMENT</code> im <span class=filename>Makefile</span> des jeweiligen Unterverzeichnisses.</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Kategorie</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Anmerkung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>accessibility</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für behinderte Menschen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>afterstep*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für den <a href=http://www.afterstep.org>AfterStep</a> Window Manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>arabic</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Arabische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>archivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Archivierungswerkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>astro</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für Astronomie.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>audio</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sound-Unterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>benchmarks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benchmarking-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>biology</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für Biologie.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>cad</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CAD-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>chinese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Chinesische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>comms</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kommunikationsprogramme.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hauptsächlich Software für serielle Schnittstellen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>converters</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zeichensatz-Konverter.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>databases</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Datenbanken.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>deskutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dinge, die vor der Erfindung des Computers auf dem Schreibtisch waren.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>devel</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Entwicklungs-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Legen Sie keine Bibliotheken hier ab, nur weil es Bibliotheken sind, es sei denn, sie gehören wirklich nirgendwo anders hin.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>dns</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DNS-bezogene Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>docs*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Meta-Ports für die FreeBSD-Dokumentation.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>editors</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>allgemeine Editoren.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spezielle Editoren gehören in Ihre jeweilige Kategorie, (z.B. gehört ein mathematischer Formeleditor in <span class=filename>math</span>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>elisp*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emacs-lisp-Ports.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>emulators</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Emulatoren für andere Betriebssysteme.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Terminal-Emulatoren gehören <em>nicht</em> hierher; X-basierende gehören zu <span class=filename>x11</span> und text-basierende zu <span class=filename>comms</span> oder <span class=filename>misc</span>, abhängig von deren genauer Funktionalität.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>finance</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Finanz-Software und ähnliches.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>french</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Französische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ftp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FTP Client- und Server-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls Ihr Port sowohl FTP als auch HTTP unterstützt, stellen Sie ihn in <span class=filename>ftp</span> mit der Zweitkategorie <span class=filename>www</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>games</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spiele.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>geography*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>geografische Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>german</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Deutsche Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnome*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für <a href=http://www.gnome.org>GNOME</a></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>gnustep*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für GNUstep.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>graphics</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>grafische Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hamradio*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für Amateurfunk.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>haskell*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Haskell-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hebrew</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hebräische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>hungarian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ungarische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ipv6*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IPv6-bezogene Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>irc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Internet Relay Chat (IRC)-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>japanese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Japanische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>java</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Java™-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die <span class=filename>java</span>-Kategorie sollte nicht die Einzige für einen Port sein mit Ausnahme der direkt nur mit der Programmiersprache zusammenhängenden Applikationen. Porter sollten <span class=filename>java</span> nicht als Hauptkategorie eines Ports wählen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kde*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für das <a href=http://www.kde.org>K Desktop Environment (KDE)</a>-Projekt.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>kld*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kernelmodule.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>korean</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Koreanische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lang</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Programmiersprachen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>linux*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Linux-Applikationen und -Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>lisp*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Lisp-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mail</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mail-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>math</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Numerische Berechnungen und andere mathematische Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>mbone*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>MBone-Applikationen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>misc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verschiedene Werkzeuge.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hauptsächlich Werkzeuge, die nicht anderswo hingehören. Versuchen Sie, falls irgend möglich, eine bessere Kategorie für Ihren Port zu finden als <code>misc</code>, weil Ports hier leicht untergehen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>multimedia</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Multimedia-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verschiedene Netzwerk-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-im</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Instant Messaging-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Netzwerk-Management-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>net-p2p</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Peer to peer-Netzwerkprogramme.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>news</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>USENET News-Software.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>palm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für <a href=http://www.palm.com/>Palm™</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>parallel*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Applikationen für paralleles Rechnen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>pear*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für das Pear PHP-Framework.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>perl5*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports, welche Perl Version 5 benötigen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>plan9*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verschiedene Programme von <a href=http://www.cs.bell-labs.com/plan9dist/>Plan9</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>polish</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Polnische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ports-mgmt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hilfsprogramme für das Installieren und Entwickeln von FreeBSD Ports und Paketen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>portuguese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Portugiesische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>print</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Drucker-Software.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Desktop Veröffentlichungs-Werkzeuge (DTP, Betrachter etc.) gehören auch hierher.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>python*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für <a href=http://www.python.org/>Python</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ruby*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für <a href=http://www.ruby-lang.org/>Ruby</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>rubygems*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für <a href=http://www.rubygems.org/>RubyGems</a>-Pakete.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>russian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Russische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>scheme*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für die Scheme-Programmiersprache.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>science</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Wissenschaftliche Programme, die in keine andere Kategorie passen wie z.B. <span class=filename>astro</span>, <span class=filename>biology</span> und <span class=filename>math</span>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>security</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Security-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>shells</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Shells.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>spanish*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spanische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>sysutils</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>System-Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tcl*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports, welche Tcl benötigen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>textproc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Textverarbeitungsprogramme.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dies beinhaltet nicht DTP-Werkzeuge, diese gehören in <span class=filename>print</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>tk*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports, welche Tk benötigen.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ukrainian</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ukrainische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>vietnamese</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vietnamesische Sprachunterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>windowmaker*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports für den WindowMaker Window-Manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>www</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software für das World Wide Web (WWW).</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>HTML-Werkzeuge gehören auch hierher.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X-Window-System und dergleichen.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Diese Kategorie ist nur für Software, welche direkt X unterstützt. Fügen Sie keine normalen X-Applikationen hinzu. Die meisten davon gehören in eine andere <span class=filename>x11-*</span>-Kategorie (siehe unten). Falls Ihr Port eine X-Applikation <em>ist</em>, dann definieren Sie bitte <code>USE_XLIB</code> (impliziert durch <code>USE_IMAKE</code>) und fügen ihn der entsprechenden Kategorie hinzu.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-clocks</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Uhren.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-drivers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Treiber.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Dateimanager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-fonts</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Schriftarten und Werkzeuge.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-servers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Server.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-themes</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Themes.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-toolkits</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Toolkits.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>x11-wm</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>X11-Window-Manager.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xfce*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports in Zusammenhang mit <a href=http://www.xfce.org/>Xfce</a>.</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>zope*</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=http://www.zope.org/>Zope</a>-Unterstützung.</p></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table></div><div class=sect3><h4 id=choosing-categories>5.3.3. Wählen der richtigen Kategorie<a class=anchor href=#choosing-categories></a></h4><div class=paragraph><p>Da viele der Kategorien sich überlappen, müssen Sie oft festlegen, welches die primäre Kategorie Ihres Ports ist. Hierzu gibt es einige Regeln, welche diese Auswahl bestimmen. Hier ist die Liste der Regeln mit abnehmender Wichtigkeit:</p></div><div class=ulist><ul><li><p>Die erste (primäre) Kategorie muss eine physische (keine virtuelle, siehe <a href=#porting-categories>oben</a>) sein. Dies ist notwendig damit Pakete erstellt werden können. Die nachfolgenden Kategorien können wahllos virtuelle oder physische Kategorien sein.</p></li><li><p>Sprachspezifische Kategorien kommen immer zuerst. Wenn Ihr Port z.B. Japanische X11-Schriftarten installiert, dann muss Ihre <code>CATEGORIES</code>-Zeile <span class=filename>japanese x11-fonts</span> enthalten.</p></li><li><p>Spezifische Kategorien werden vor weniger spezifischen Kategorien aufgelistet. Ein HTML-Editor sollte z.B. als <span class=filename>www editors</span> aufgeführt werden und nicht umgekehrt. Genauso sollten Sie keinen Port unter <span class=filename>net</span> aufführen, wenn er zu <span class=filename>irc</span>, <span class=filename>mail</span>, <span class=filename>news</span>, <span class=filename>security</span> oder <span class=filename>www</span> passt, da <span class=filename>net</span> in diesen Kategorien bereits implizit eingeschlossen ist.</p></li><li><p><span class=filename>x11</span> wird nur als sekundäre Kategorie benutzt, wenn die primäre Kategorie eine sprachspezifische ist. Keinesfalls sollten Sie <span class=filename>x11</span> in die Kategorie-Zeile einer X-Applikation setzen.</p></li><li><p>Emacs modes gehören in die gleiche Kategorie wie die vom jeweiligen mode unterstützte Applikation und nicht in <span class=filename>editors</span>. Ein Emacs mode z.B. für das Editieren von Quelltext einer bestimmten Programmiersprache gehört zur Kategorie <span class=filename>lang</span>.</p></li><li><p>Für Ports, die vom Benutzer ladbare Kernelmodule installieren, sollte die virtuelle Kategorie <span class=filename>kld</span> in die <code>CATEGORIES</code>-Zeile aufgenommen werden.</p></li><li><p><span class=filename>misc</span> sollte nicht zusammen mit irgendeiner anderen nicht-virtuellen Kategorie auftreten. Falls Sie <code>misc</code> mit einer anderen Kategorie in <code>CATEGORIES</code> haben bedeutet dies, dass Sie gefahrlos <code>misc</code> streichen und die andere Kategorie alleine verwenden können!</p></li><li><p>Falls Ihr Port wirklich in keine andere Kategorie passt, verwenden Sie bitte <span class=filename>misc</span>.</p></li></ul></div><div class=paragraph><p>Falls Sie sich über die Kategorie im Unklaren sind, hinterlassen Sie bitte einen Kommentar in Ihrem per <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> eingereichten Bericht, damit wir diese Frage vor dem Import diskutieren können. Falls Sie ein Committer sind, schicken Sie bitte eine Nachricht an <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a>, damit die Frage im Vorhinein erörtert werden kann. Neue Ports werden zu häufig falsch kategorisiert und werden sofort wieder verschoben. Das bläht das Master Source Repository unnötig auf.</p></div></div><div class=sect3><h4 id=proposing-categories>5.3.4. Eine neue Kategorie vorschlagen<a class=anchor href=#proposing-categories></a></h4><div class=paragraph><p>Da die Ports-Sammlung über viele Jahre gewachsen ist, wurden viele neue Kategorien hinzugefügt. Neue Kategorien können <em>virtuell</em> (ohne eigenes Unterverzeichnis in der Ports-Sammlung) oder <em>physisch</em> sein. Der nachfolgende Text führt einige Punkte auf, welche bei der Neueinführung einer physischen Kategorie beachtet werden müssen, damit Sie dies bei einem eventuellen Vorschlag Ihrerseits berücksichtigen können.</p></div><div class=paragraph><p>Unsere bestehende Maxime ist die Vermeidung der Neuanlage von physischen Kategorien, solange nicht eine große Zahl von Ports zugeordnet werden können oder falls ihr nicht Ports zugehören würden, welche eine logisch abgegrenzte Gruppe von limitiertem öffentlichem Interesse zugehören würden (zum Beispiel neue Sprachkategorien) oder vorzugsweise beides.</p></div><div class=paragraph><p>Die Erklärung dafür ist, dass eine Neuanlage einer physischen Kategorie einen <a href=https://docs.freebsd.org/en/articles/committers-guide/#ports>erheblichen Arbeitsaufwand</a> sowohl für die Committer als auch diejenigen Nutzer bedeutet, welche die Änderungen der Ports-Sammlung nachvollziehen. Zusätzlich verursachen Vorschläge für neue Kategorien oftmals Kontroversen (natürlich deswegen, weil es keinen klaren Konsens darüber gibt, welche Kategorie als "zu groß" betrachtet werden muss noch ob sich bestimmte Kategorien zur einfachen Suche eignen (und wie viele Kategorien überhaupt ideal wären) und so weiter).</p></div><div class=paragraph><p>Hier ist das Prozedere:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Schlagen Sie die neue Kategorie auf <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a> vor. Sie sollten eine detaillierte Begründung für die neue Kategorie beifügen einschließlich einer Erklärung, warum Sie meinen, die existierenden Kategorien seien nicht ausreichend. Zeigen Sie außerdem eine Liste der zu verschiebenden Ports (falls neue Ports in GNATS auf ihren commit warten, die in diese Kategorie passen würden. Listen Sie diese bitte auch mit auf). Sind Sie der Maintainer oder Einreicher dieser Ports, erwähnen Sie es bitte. Es verleiht Ihrem Vorschlag mehr Gewicht.</p></li><li><p>Nehmen Sie an der Diskussion teil.</p></li><li><p>Falls es Unterstützung für Ihren Vorschlag geben sollte, reichen Sie bitte einen PR ein, welcher die Begründung und die Liste der betroffenen Ports enthält, die verschoben werden müssen. Idealerweise sollte der PR Patches für Folgendes enthalten:</p><div class=ulist><ul><li><p><span class=filename>Makefile</span>s für die neuen Ports nach dem Repocopy</p></li><li><p><span class=filename>Makefile</span> für die neue Kategorie</p></li><li><p><span class=filename>Makefile</span> für die alten Kategorien der betroffenen Ports</p></li><li><p><span class=filename>Makefile</span>s für Ports, welche von den alten Ports abhängen</p></li><li><p>Für zusätzliches Ansehen sorgen Sie, wenn Sie die anderen Dateien, die geändert werden müssen, beifügen wie in der Direktive des Committer’s Guide beschrieben.</p></li></ul></div></li><li><p>Da es die Ports-Infrastruktur beeinflusst und nicht nur die Durchführung von Repocopies und möglicherweise sogar Regressionstests auf dem Build Cluster durchgeführt werden müssen, sollte der PR dem Ports Management Team Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> zugeordnet werden.</p></li><li><p>Sobald der PR bestätigt wurde muss ein Committer den Rest der Prozedur durchführen, welche im <a href=https://docs.freebsd.org/en/articles/committers-guide/#ports>Committers Guide</a> beschrieben ist.</p></li></ol></div></div></div><div class=paragraph><p>Das Vorschlagen einer neuen virtuellen Kategorie ist ähnlich, aber wesentlich weniger aufwendig, weil keine Ports verschoben werden müssen. In diesem Falle müssen nur die Patches an den PR beigefügt werden, welche die neue Kategorie zur Variable <code>CATEGORIES</code> der betroffenen Ports hinzufügen.</p></div></div><div class=sect3><h4 id=proposing-reorg>5.3.5. Vorschlagen einer Neuorganisation aller Kategorien<a class=anchor href=#proposing-reorg></a></h4><div class=paragraph><p>Von Zeit zu Zeit schlägt jemand eine komplette Neuorganisation aller Ports, entweder mit einer zweistufigen Struktur oder irgendeiner Art von Schlüsselwörtern, vor. Bis heute wurde keiner dieser Vorschläge umgesetzt, weil sie zwar einfach zu machen sind, aber der Aufwand zur Umsetzung und Reorganisation der kompletten Ports-Sammlung schlichtweg mörderisch wäre. Bitte lesen Sie die Geschichte dieser Vorschläge in den Archiven der Mailinglisten nach, bevor Sie diese Ideen nochmals unterbreiten. Zudem sollten Sie gewappnet sein, dass man Sie auffordert, einen arbeitsfähigen Prototyp vorzulegen.</p></div></div></div><div class=sect2><h3 id=makefile-distfiles>5.4. Die Distributionsdateien<a class=anchor href=#makefile-distfiles></a></h3><div class=paragraph><p>Der zweite Teil des <span class=filename>Makefile</span> beschreibt die Dateien, welche heruntergeladen werden müssen, um den Port zu bauen und wo diese Dateien zu finden sind.</p></div><div class=sect3><h4 id=_distversiondistname>5.4.1. <code>DISTVERSION/DISTNAME</code><a class=anchor href=#_distversiondistname></a></h4><div class=paragraph><p><code>DISTNAME</code> ist der Name der Applikation wie er von den Autoren vergeben wurde. <code>DISTNAME</code> hat als Vorgabe <code>${PORTNAME}-${PORTVERSION}</code> also überschreiben Sie diese Vorgabe nur, wenn es notwendig ist. <code>DISTNAME</code> wird nur an zwei Stellen genutzt. Erstens: (<code>DISTFILES</code>) hat als Vorgabe <code>${DISTNAME}${EXTRACT_SUFX}</code>. Zweitens: Die Distributionsdatei soll in einem Unterverzeichnis namens <code>WRKSRC</code> extrahiert werden, dessen Vorgabe <span class=filename>work/${DISTNAME}</span> ist.</p></div><div class=paragraph><p>Manche Drittanbieter-Namen, welche nicht in das Schema <code>${PORTNAME}-${PORTVERSION}</code> passen, können durch Setzen von <code>DISTVERSION</code> automatisch behandelt werden. <code>PORTVERSION</code> und <code>DISTNAME</code> werden automatisch abgeleitet, können aber natürlich manuell überschrieben werden. Die folgende Tabelle führt einige Beispiele auf:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">DISTVERSION</th><th class="tableblock halign-left valign-top">PORTVERSION</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1d</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0.7.1.d</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>10Alpha3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10.a3</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>3Beta7-pre2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.b7.p2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>8:f_17</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8f.17</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>PKGNAMEPREFIX</code> und <code>PKGNAMESUFFIX</code> beeinflussen <code>DISTNAME</code> nicht. Beachten Sie bitte auch, dass Sie <code>DISTNAME</code> unverändert lassen sollten, falls <code>WRKSRC</code> denselben Wert hat wie <span class=filename>work/${PORTNAME}-${PORTVERSION}</span> und gleichzeitig dass Archiv des originalen Quelltextes anders benannt ist als <code>${PORTNAME}-${PORTVERSION}${EXTRACT_SUFX}</code>. Es ist einfacher <code>DISTFILES</code> zu definieren, als <code>DISTNAME</code> und <code>WRKSRC</code> (und möglicherweise <code>EXTRACT_SUFX</code>) zu setzen.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_master_sites>5.4.2. <code>MASTER_SITES</code><a class=anchor href=#_master_sites></a></h4><div class=paragraph><p>Dokumentieren Sie das Verzeichnis der FTP/HTTP-URL, welche auf den originalen Tarball zeigt, in der Variable <code>MASTER_SITES</code>. Bitte vergessen Sie niemals den Schrägstrich (<span class=filename>/</span>) am Ende!</p></div><div class=paragraph><p>Die <code>make</code>-Makros werden versuchen, diese Festlegung für die Aufbereitung der Distributionsdateien mittels <code>FETCH</code> zu benutzen, falls sie diese nicht schon auf dem System finden.</p></div><div class=paragraph><p>Es wird empfohlen, mehrere Webseiten in dieser Liste aufzuführen, vorzugsweise auf verschiedenen Kontinenten. Dies ist ein Schutz gegen Probleme bei größeren Ausfällen im Internet. Wir planen sogar Unterstützung einzubauen, die automatisch einen Server in der Nähe zum Herunterladen bestimmt. Die Verfügbarkeit von vielen Webseiten wird dieses Vorhaben beträchtlich erleichtern.</p></div><div class=paragraph><p>Falls der originale Tarball Teil eines populären Archivs ist, wie SourceForge, GNU oder Perl CPAN, können Sie möglicherweise auf diese Seiten in einer einfachen und kompakten Form mittels <code>MASTER_SITE_*</code> (d.h., <code>MASTER_SITE_SOURCEFORGE</code>,, <code>MASTER_SITE_GNU</code> und <code>MASTER_SITE_PERL_CPAN</code>) referenzieren. Setzen Sie einfach <code>MASTER_SITES</code> auf eine dieser Variablen und <code>MASTER_SITE_SUBDIR</code> auf den Pfad innerhalb des Archivs. Hier ist ein Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=         ${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=   make</pre></div></div><div class=paragraph><p>Oder verwenden Sie ein kondensiertes Format:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   GNU/make</pre></div></div><div class=paragraph><p>Diese Variablen werden in <span class=filename>/usr/ports/Mk/bsd.sites.mk</span> definiert. Es werden ständig neue Einträge hinzugefügt, daher stellen Sie bitte unbedingt sicher, dass Sie die neueste Version verwenden, bevor Sie einen Port einschicken.</p></div><div class=paragraph><p>Für beliebte Seiten existieren sogenannte <em>magic</em>-Makros, die eine bestimmte Verzeichnisstruktur erstellen. Um eines dieser Makros zu verwenden, geben Sie dessen Abkürzung an und Ihr System wird versuchen, das korrekte Unterverzeichnis automatisch zu bestimmen.</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF</pre></div></div><div class=paragraph><p>Ist das Ergebnis nicht korrekt, können Sie diesen Wert auch überschreiben.</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=	SF/stardict/WyabdcRealPeopleTTS/${PORTVERSION}</pre></div></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 1. Beliebte magic <code>MASTER_SITES</code>-Makros</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Makro</th><th class="tableblock halign-left valign-top">Erwartetes Unterverzeichnis</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_JAKARTA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/dist/jakarta/${PORTNAME:S,-,,/,}/source</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>BERLIOS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CHEESESHOP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/packages/source/source/${DISTNAME:C/(.).*/\1/}/${DISTNAME:C/(.*)-[0-9].*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>DEBIAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/debian/pool/main/${PORTNAME:C/^((lib)?.).*$/\1/}/${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GCC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/gcc/releases/${DISTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNOME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/GNOME/sources/${PORTNAME}/${PORTVERSION:C/^(<span class=0-9>\.[0-9]</span>).*/\1/}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNU</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/gnu/${PORTNAME}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MOZDEV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/mozdev/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PERL_CPAN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/pub/CPAN/modules/by-module/${PORTNAME:C/-.*//}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYTHON</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/ftp/python/${PYTHON_PORTVERSION:C/rc[0-9]//}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBYFORGE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SAVANNAH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/${PORTNAME:L}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/project/${PORTNAME:L}/${PORTNAME:L}/${PORTVERSION}</code></p></td></tr></tbody></table></div><div class=sect3><h4 id=_extract_sufx>5.4.3. <code>EXTRACT_SUFX</code><a class=anchor href=#_extract_sufx></a></h4><div class=paragraph><p>Falls Sie eine Distributionsdatei haben, die ein eigentümliches Suffix nutzt, um die Art der Kompression anzuzeigen, dann setzen Sie <code>EXTRACT_SUFX</code>.</p></div><div class=paragraph><p>Ist die Distributionsdatei zum Beispiel im Stil von <span class=filename>foo.tgz</span> anstatt des normalen <span class=filename>foo.tar.gz</span> benannt, würden Sie schreiben:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTNAME=      foo
EXTRACT_SUFX=  .tgz</pre></div></div><div class=paragraph><p>Falls erforderlich, setzen die Variablen <code>USE_BZIP2</code> und <code>USE_ZIP</code> automatisch <code>EXTRACT_SUFX</code> auf <code>.tar.bz2</code> oder <code>.zip</code>. Falls keine der beiden gesetzt ist, dann verwendet <code>EXTRACT_SUFX</code> die Vorgabe <code>.tar.gz</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sie müssen niemals beide Variablen <code>EXTRACT_SUFX</code> und <code>DISTFILES</code> setzen.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_distfiles>5.4.4. <code>DISTFILES</code><a class=anchor href=#_distfiles></a></h4><div class=paragraph><p>Manchmal haben die zu ladenden Dateien keinerlei Ähnlichkeit mit dem Namen des Ports. Es könnte z.B. <span class=filename>source.tar.gz</span> oder ähnlich heißen. In anderen Fällen könnte der Quelltext in mehreren Archiven sein und alle müssen heruntergeladen werden.</p></div><div class=paragraph><p>Falls dies der Fall ist, setzen Sie <code>DISTFILES</code> als eine durch Leerzeichen getrennte Liste aller Dateien, die geladen werden müssen.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=     source1.tar.gz source2.tar.gz</pre></div></div><div class=paragraph><p>Wenn nicht ausdrücklich gesetzt, verwendet <code>DISTFILES</code> als Vorgabe <code>${DISTNAME}${EXTRACT_SUFX}</code>.</p></div></div><div class=sect3><h4 id=_extract_only>5.4.5. <code>EXTRACT_ONLY</code><a class=anchor href=#_extract_only></a></h4><div class=paragraph><p>Falls nur einige der <code>DISTFILES</code> extrahiert werden müssen (z.B. eine Datei ist der Quelltext und eine andere ist ein unkomprimiertes Dokument), dann listen Sie die zu extrahierenden Dateien in <code>EXTRACT_ONLY</code> auf.</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=     source.tar.gz manual.html
EXTRACT_ONLY=  source.tar.gz</pre></div></div><div class=paragraph><p>Falls <em>keine</em> der <code>DISTFILES</code> unkomprimiert sein sollte, dann setzen Sie <code>EXTRACT_ONLY</code> auf einen leeren String.</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_ONLY=</pre></div></div></div><div class=sect3><h4 id=porting-patchfiles>5.4.6. <code>PATCHFILES</code><a class=anchor href=#porting-patchfiles></a></h4><div class=paragraph><p>Falls Ihr Port zusätzliche Patches benötigt, welche per FTP oder HTTP verfügbar sind, dann setzen Sie <code>PATCHFILES</code> auf den Namen der Dateien und <code>PATCH_SITES</code> auf die URL des Verzeichnisses, das diese Patches enthält (das Format ist das gleiche wie <code>MASTER_SITES</code>).</p></div><div class=paragraph><p>Falls ein Patch wegen einiger zusätzlicher Pfadnamen nicht relativ zum Anfang des Quelltextbaumes (d.h., <code>WRKSRC</code>) liegt, dann setzen Sie bitte <code>PATCH_DIST_STRIP</code> entsprechend. Wenn z.B. alle Pfadnamen in diesem Patch ein zusätzliches <code>foozolix-1.0/</code> vor ihren Dateinamen aufweisen, dann setzen Sie bitte <code>PATCH_DIST_STRIP=-p1</code>.</p></div><div class=paragraph><p>Kümmern Sie sich nicht darum, ob die Patches komprimiert sind. Sie werden automatisch dekomprimiert, wenn die Dateinamen auf <span class=filename>.gz</span> oder <span class=filename>.Z</span> enden.</p></div><div class=paragraph><p>Falls der Patch zusammen mit anderen Dateien in einem gezippten Tarball verteilt wird (z.B. mit Dokumentation), dann können Sie nicht <code>PATCHFILES</code> verwenden. In diesem Fall fügen Sie den Namen und den Ort dieses Tarballs zu <code>DISTFILES</code> und <code>MASTER_SITES</code>. Benutzen Sie dann die <code>EXTRA_PATCHES</code>-Variable, um auf diese Dateien zu zeigen und <span class=filename>bsd.port.mk</span> wird automatisch diese Dateien nutzen. Kopieren Sie <em>niemals</em> Patch-Dateien in das <code>PATCHDIR</code>-Verzeichnis, weil es möglicherweise nicht beschreibbar ist.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Der Tarball wird zusammen mit dem anderen Quelltext extrahiert werden. Eine ausdrückliche Dekomprimierung eines mit gzip oder compress erzeugten Tarball ist nicht notwendig. Sollten Sie dies dennoch vorgeben, so beachten Sie bitte peinlich genau, dass Sie nichts überschreiben, was bereits im Verzeichnis vorhanden ist. Vergessen Sie auch nicht den kopierten Patch im Target von <code>pre-clean</code> zu entfernen.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=porting-master-sites-n>5.4.7. Verschiedene Distributionsdateien oder Patches von verschiedenen Seiten und Verzeichnissen (<code>MASTER_SITES:n</code>)<a class=anchor href=#porting-master-sites-n></a></h4><div class=paragraph><p>(Betrachten Sie es als in irgendeiner Form "fortgeschrittenes Thema". Neulinge sollten möglicherweise diesen Abschnitt beim ersten Lesen überspringen).</p></div><div class=paragraph><p>Dieser Abschnitt stellt Informationen über die Mechanismen zum Herunterladen von Dateien zur Verfügung und behandelt die Variablen <code>MASTER_SITES:n</code> und <code>MASTER_SITES_NN</code>. Wir beziehen uns im weiteren Text auf diese Variablen als <code>MASTER_SITES:n</code>.</p></div><div class=paragraph><p>Etwas Hintergrundinformation zu Beginn: OpenBSD verfügt über eine sehr elegante Option innerhalb der Variablen <code>DISTFILES</code> und <code>PATCHFILES</code>. Sowohl Dateien als auch Patches können mit angehängten <code>:n</code>-Bezeichnern versehen werden wobei <code>n</code> in beiden Fällen <code>[0-9]</code> sein kann und eine Gruppenzugehörigkeit anzeigt. Ein Beispiel hierfür ist:</p></div><div class="literalblock programlisting"><div class=content><pre>DISTFILES=      alpha:0 beta:1</pre></div></div><div class=paragraph><p>In OpenBSD wird die Datei <span class=filename>alpha</span> mit der Variable <code>MASTER_SITES0</code> verknüpft anstatt dem in FreeBSD gebräuchlichen <code>MASTER_SITES</code> und <span class=filename>beta</span> mit <code>MASTER_SITES1</code>.</p></div><div class=paragraph><p>Das ist eine sehr interessante Möglichkeit, die endlose Suche nach der richtigen Download-Seite zu verkürzen.</p></div><div class=paragraph><p>Stellen Sie sich zwei Dateien in <code>DISTFILES</code> und 20 Webseiten in der Variable <code>MASTER_SITES</code> vor. Alle Seiten sind erschreckend langsam, <span class=filename>beta</span> findet sich auf allen Seiten in <code>MASTER_SITES</code> und <span class=filename>alpha</span> kann nur auf der zwanzigsten Seite gefunden werden. Wäre es nicht reine Verschwendung, wenn der Maintainer alle Seiten zuvor überprüfen müsste? Kein guter Start für das wundervolle Wochenende!</p></div><div class=paragraph><p>Übertragen Sie diesen Umstand auf noch mehr <code>DISTFILES</code> und mehr <code>MASTER_SITES</code>. Ganz sicher würde unser "distfiles survey master" die Erleichterung sehr zu schätzen wissen, die eine solche Verringerung der Netzwerkbelastung bringen würde.</p></div><div class=paragraph><p>In den nächsten Abschnitten sehen Sie die Implementierung dieser Idee durch FreeBSD. Dabei wurde das Konzept von OpenBSD ein wenig verbessert.</p></div><div class=sect4><h5 id=_prinzipielle_information>5.4.7.1. Prinzipielle Information<a class=anchor href=#_prinzipielle_information></a></h5><div class=paragraph><p>Dieser Abschnitt informiert Sie, wie Sie schnell ein fein granuliertes Herunterladen von vielen Dateien und Fehlerbereinigungen von verschiedenen Webseiten und Unterverzeichnissen bewerkstelligen. Wir beschreiben hier den Fall der vereinfachten Nutzung von <code>MASTER_SITES:n</code>. Das ist für die meisten Szenarien ausreichend. Falls Sie weitere Informationen benötigen, sollten Sie den nächsten Abschnitt lesen.</p></div><div class=paragraph><p>Einige Programme bestehen aus mehreren Dateien, welche von verschiedenen Webseiten heruntergeladen werden müssen. Zum Beispiel besteht Ghostscript aus dem Kern des Programms und einer großen Zahl von Treiberdateien, die vom Drucker des Benutzers abhängen. Einige dieser Treiberdateien werden mit der Kernapplikation mitgeliefert aber viele müssen von verschiedenen Webseiten heruntergeladen werden.</p></div><div class=paragraph><p>Um das zu unterstützen, muss jeder Eintrag in <code>DISTFILES</code> mit einem Komma und einem "tag name" abgeschlossen werden. Jeder in <code>MASTER_SITES</code> aufgeführte Webseite folgt ein Komma und eine Marke (tag), die anzeigt, welche Datei von dieser Webseite heruntergeladen werden kann.</p></div><div class=paragraph><p>Stellen Sie sich bitte eine Applikation vor, deren Quelltext in zwei Teile aufgeteilt ist, <span class=filename>source1.tar.gz</span> und <span class=filename>source2.tar.gz</span>, welche von zwei verschiedenen Webseiten heruntergeladen werden müssen. Das <span class=filename>Makefile</span> des Port würde Zeilen enthalten wie in <a href=#ports-master-sites-n-example-simple-use-one-file-per-site>Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit einer Datei pro Webseite</a>.</p></div><div id=ports-master-sites-n-example-simple-use-one-file-per-site class=exampleblock><div class=title>Beispiel 1. Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit einer Datei pro Webseite</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   ftp://ftp.example1.com/:source1 \
	ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
	source2.tar.gz:source2</pre></div></div></div></div><div class=paragraph><p>Verschiedene Dateien können die gleiche Marke aufweisen. Ausgehend vom vorherigen Beispiel nehmen wir an, dass es noch eine dritte Datei gibt (<span class=filename>source3.tar.gz</span>), welche von <code>ftp.example2.com</code> heruntergeladen werden soll. Das <span class=filename>Makefile</span> würde dann aussehen wie <a href=#ports-master-sites-n-example-simple-use-more-than-one-file-per-site>Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit mehr als einer Datei pro Webseite</a>.</p></div><div id=ports-master-sites-n-example-simple-use-more-than-one-file-per-site class=exampleblock><div class=title>Beispiel 2. Vereinfachtes Beispiel für den Gebrauch von <code>MASTER_SITES:n</code> mit mehr als einer Datei pro Webseite</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   ftp://ftp.example1.com/:source1 \
	ftp://ftp.example2.com/:source2
DISTFILES=      source1.tar.gz:source1 \
	source2.tar.gz:source2 \
	source3.tar.gz:source2</pre></div></div></div></div></div><div class=sect4><h5 id=_ausführliche_information>5.4.7.2. Ausführliche Information<a class=anchor href=#_ausführliche_information></a></h5><div class=paragraph><p>In Ordnung, das vorherige Beispiel reicht nicht für Ihre Bedürfnisse? In diesem Abschnitt werden wir im Detail erklären, wie der fein granulierte Mechanismus zum Herunterladen (<code>MASTER_SITES:n</code>) funktioniert und wie Sie Ihre Ports modifizieren, um ihn zu nutzen.</p></div><div class="olist arabic"><ol class=arabic><li><p>Elemente können nachstehend bezeichnet werden mit <code>:n</code> wobei <em>n</em> in diesem Falle <code><span class=^:>` ist. Das heißt _n_ könnte theoretisch jede alphanumerische Zeichenkette sein, aber wir beschränken sie auf `[a-zA-Z_][0-9a-zA-Z_]</span></code> für diesen Moment.</p><div class=paragraph><p>Zudem ist die Zeichenkette case sensitive; d.h. <code>n</code> unterscheidet sich von <code>N</code>.</p></div><div class=paragraph><p>Allerdings dürfen die folgenden Wörter nicht gebraucht werden, da sie spezielle Bedeutungen haben: <code>default</code>, <code>all</code> und <code>ALL</code> (diese Wörter werden intern genutzt in Punkt <a href=#porting-master-sites-n-what-changes-in-port-targets>ii</a>). Ausserdem ist <code>DEFAULT</code> ein reserviertes Wort (beachten Sie <a href=#porting-master-sites-n-DEFAULT-group>3</a>).</p></div></li><li><p>Elemente mit angehängtem <code>:n</code> gehören zur Gruppe <code>n</code>, <code>:m</code> gehört zur Gruppe <code>m</code> und so weiter.</p></li><li><p>Elemente ohne Anhängsel sind gruppenlos, d.h. sie gehören alle zu der speziellen Gruppe <code>DEFAULT</code>. Falls sie an irgendeinem Element <code>DEFAULT</code> hängen, ist dies überflüssig, es sei denn Sie wollen, dass ein Element sowohl zu <code>DEFAULT</code> als auch anderen Gruppen gleichzeitig gehört (beachten Sie <a href=#porting-master-sites-n-comma-operator>5</a>).</p><div class=paragraph><p>Die folgenden Beispiele sind gleichwertig, aber das erste Beispiel ist vorzuziehen:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   alpha

MASTER_SITES=   alpha:DEFAULT</pre></div></div></li><li><p>Gruppen sind nicht ausschliessend, d.h. ein Element kann mehreren Gruppen gleichzeitig angehören und eine Gruppe wiederum kann entweder mehrere Elemente oder überhaupt keine aufweisen. Wiederholte Elemente sind schlicht nur wiederholte Elemente.</p></li><li><p>Wenn Sie wollen, dass ein Element gleichzeitig zu mehreren Gruppen gehört, dann können Sie diese durch ein Komma (<code>,</code>) trennen.</p><div class=paragraph><p>Anstatt jedes Mal ein anderes Anhängsel zu verwenden und Wiederholungen aufzuführen, können Sie mehrere Gruppen auf einmal in einem einzigen Anhängsel bestimmen. Zum Beispiel markiert <code>:m,n,o</code> ein Element, welches zu den Gruppen <code>m</code>, <code>n</code> und <code>o</code> gehört.</p></div><div class=paragraph><p>Alle folgenden Beispiele sind gleichwertig, aber das erste Beispiel ist vorzuziehen:</p></div><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   alpha alpha:SOME_SITE

MASTER_SITES=   alpha:DEFAULT alpha:SOME_SITE

MASTER_SITES=   alpha:SOME_SITE,DEFAULT

MASTER_SITES=   alpha:DEFAULT,SOME_SITE</pre></div></div></li><li><p>Alle Webseiten in einer Gruppe werden gemäß <code>MASTER_SORT_AWK</code> sortiert. Alle Gruppen innerhalb von <code>MASTER_SITES</code> und <code>PATCH_SITES</code> werden genauso sortiert.</p></li><li><p>Gruppensemantik kann benutzt werden in den folgenden Variablen: <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code>, <code>PATCH_SITE_SUBDIR</code>, <code>DISTFILES</code> und <code>PATCHFILES</code> entsprechend der folgenden Syntax:</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Elemente mit <code>MASTER_SITES</code>, <code>PATCH_SITES</code>, <code>MASTER_SITE_SUBDIR</code> und <code>PATCH_SITE_SUBDIR</code> müssen mit einem Schrägstrich beendet werden ( <code>/</code>). Falls Elemente zu irgendwelchen Gruppen gehören, muss <code>:n</code> direkt nach dem Trenner <code>/</code> stehen. Der <code>MASTER_SITES:n</code>-Mechanismus verlässt sich auf das Vorhandensein des Trennzeichens <code>/</code>, um verwirrende Elemente zu vermeiden in denen <code>:n</code> ein zulässiger Bestandteil des Elementes ist und das Auftreten von <code>:n</code> die Gruppe <code>n</code> anzeigt. Aus Kompatibilitätsgründen (da der <code>/</code>-Trenner sowohl in <code>MASTER_SITE_SUBDIR</code> als auch <code>PATCH_SITE_SUBDIR</code>-Elementen nicht erforderlich ist) wird, falls das auf das Anhängsel folgende nächste Zeichen kein <code>/</code> ist, auch <code>:n</code> als gültiger Teil des Elementes behandelt anstatt als Gruppenzusatz, selbst wenn ein Element ein angehängtes <code>:n</code> aufweist. Beachten Sie sowohl <a href=#ports-master-sites-n-example-detailed-use-master-site-subdir>Ausführliches Beispiel von <code>MASTER_SITES:n</code> in <code>MASTER_SITE_SUBDIR</code></a> als auch <a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen</a>.</p><div id=ports-master-sites-n-example-detailed-use-master-site-subdir class=exampleblock><div class=title>Beispiel 3. Ausführliches Beispiel von <code>MASTER_SITES:n</code> in <code>MASTER_SITE_SUBDIR</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITE_SUBDIR=     old:n new/:NEW</pre></div></div><div class=ulist><ul><li><p>Verzeichnisse innerhalb der Gruppe <code>DEFAULT</code> → old:n</p></li><li><p>Verzeichnisse innerhalb der Gruppe <code>NEW</code> → new</p></li></ul></div></div></div><div id=ports-master-sites-n-example-detailed-use-complete-example-master-sites class=exampleblock><div class=title>Beispiel 4. Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen</div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   http://site1/%SUBDIR%/ http://site2/:DEFAULT \
	http://site3/:group3 http://site4/:group4 \
	http://site5/:group5 http://site6/:group6 \
	http://site7/:DEFAULT,group6 \
	http://site8/%SUBDIR%/:group6,group7 \
	http://site9/:group8
DISTFILES=      file1 file2:DEFAULT file3:group3 \
	file4:group4,group5,group6 file5:grouping \
	file6:group7
MASTER_SITE_SUBDIR=     directory-trial:1 directory-n/:groupn \
	    directory-one/:group6,DEFAULT \
	    directory</pre></div></div><div class=paragraph><p>Das vorstehende Beispiel führt zu einem fein granulierten Herunterladen. Die Webseiten werden in der exakten Reihenfolge ihrer Nutzung aufgelistet.</p></div><div class=ulist><ul><li><p><span class=filename>file1</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file2</span> wird genauso heruntergeladen wie <span class=filename>file1</span>, da sie zur gleichen Gruppe gehören</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site1/directory-trial:1/ class=bare>http://site1/directory-trial:1/</a></p></li><li><p><a href=http://site1/directory-one/ class=bare>http://site1/directory-one/</a></p></li><li><p><a href=http://site1/directory/ class=bare>http://site1/directory/</a></p></li><li><p><a href=http://site2/ class=bare>http://site2/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file3</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site3/ class=bare>http://site3/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file4</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site4/ class=bare>http://site4/</a></p></li><li><p><a href=http://site5/ class=bare>http://site5/</a></p></li><li><p><a href=http://site6/ class=bare>http://site6/</a></p></li><li><p><a href=http://site7/ class=bare>http://site7/</a></p></li><li><p><a href=http://site8/directory-one/ class=bare>http://site8/directory-one/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file5</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li><li><p><span class=filename>file6</span> wird heruntergeladen von</p><div class=ulist><ul><li><p><code>MASTER_SITE_OVERRIDE</code></p></li><li><p><a href=http://site8/ class=bare>http://site8/</a></p></li><li><p><code>MASTER_SITE_BACKUP</code></p></li></ul></div></li></ul></div></div></div></li></ol></div></li><li><p>Wie gruppiere ich eine der speziellen Variablen aus <span class=filename>bsd.sites.mk</span>, d.h. <code>MASTER_SITE_SOURCEFORGE</code>?</p><div class=paragraph><p>Lesen Sie <a href=#ports-master-sites-n-example-detailed-use-master-site-sourceforge>Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit <code>MASTER_SITE_SOURCEFORGE</code></a>.</p></div><div id=ports-master-sites-n-example-detailed-use-master-site-sourceforge class=exampleblock><div class=title>Beispiel 5. Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit <code>MASTER_SITE_SOURCEFORGE</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>MASTER_SITES=   http://site1/ ${MASTER_SITE_SOURCEFORGE:S/$/:sourceforge,TEST/}
DISTFILES=      something.tar.gz:sourceforge</pre></div></div></div></div><div class=paragraph><p><span class=filename>something.tar.gz</span> wird von allen Webseiten innerhalb von <code>MASTER_SITE_SOURCEFORGE</code> heruntergeladen.</p></div></li><li><p>Wie nutze ich dies mit <code>PATCH*</code>-Variablen.</p><div class=paragraph><p>In allen Beispielen wurden <code>MASTER*</code>-Variablen genutzt, aber sie funktionieren exakt genauso mit <code>PATCH*</code>-Variablen, wie Sie an <a href=#ports-master-sites-n-example-detailed-use-patch-sites>Vereinfachte Nutzung von <code>MASTER_SITES:n</code> mit <code>PATCH_SITES</code>.</a>. sehen können.</p></div><div id=ports-master-sites-n-example-detailed-use-patch-sites class=exampleblock><div class=title>Beispiel 6. Vereinfachte Nutzung von <code>MASTER_SITES:n</code> mit <code>PATCH_SITES</code>.</div><div class=content><div class="literalblock programlisting"><div class=content><pre>PATCH_SITES=    http://site1/ http://site2/:test
PATCHFILES=     patch1:test</pre></div></div></div></div></li></ol></div></div><div class=sect4><h5 id=_was_ändert_sich_für_die_ports_was_ändert_sich_nicht>5.4.7.3. Was ändert sich für die Ports? Was ändert sich nicht?<a class=anchor href=#_was_ändert_sich_für_die_ports_was_ändert_sich_nicht></a></h5><div class="olist lowerroman"><ol class=lowerroman type=i><li><p>Alle bestehenden Ports bleiben gleich. Der Code für <code>MASTER_SITES:n</code> wird nur aktiviert, falls es Elemente mit angehängtem <code>:n</code> entsprechend den zuvor erwähnten Syntax-Regeln wie in <a href=#porting-master-sites-n-group-semantics>7</a> gezeigt gibt.</p></li><li><p>Das Target des Port bleibt gleich: <code>checksum</code>, <code>makesum</code>, <code>patch</code>, <code>configure</code>, <code>build</code> etc. Mit der offensichtlichen Ausnahme von <code>do-fetch</code>, <code>fetch-list</code>, <code>master-sites</code> und <code>patch-sites</code>.</p><div class=ulist><ul><li><p><code>do-fetch</code>: nutzt die neue Gruppierung <code>DISTFILES</code> und <code>PATCHFILES</code> mit ihren darauf zutreffenden Gruppenelementen in <code>MASTER_SITES</code> und <code>PATCH_SITES</code> welche zutreffende Gruppenelemente sowohl in <code>MASTER_SITE_SUBDIR</code> als auch <code>PATCH_SITE_SUBDIR</code> aufweisen. Sehen Sie hierzu <a href=#ports-master-sites-n-example-detailed-use-complete-example-master-sites>Ausführliches Beispiel von <code>MASTER_SITES:n</code> mit Komma-Operator, mehreren Dateien, mehreren Webseiten und mehreren Unterverzeichnissen</a>.</p></li><li><p><code>fetch-list</code>: arbeitet wie das alte <code>fetch-list</code> mit der Ausnahme, dass es nur wie <code>do-fetch</code> gruppiert.</p></li><li><p><code>master-sites</code> und <code>patch-sites</code>: (inkompatibel zu älteren Versionen) geben nur die Elemente der Gruppe <code>DEFAULT</code> zurück. Beziehungsweise sie führen genau genommen die Targets von <code>master-sites-default</code> und <code>patch-sites-default</code> aus.</p><div class=paragraph><p>Weiterhin ist der Gebrauch des Target entweder von <code>master-sites-all</code> oder <code>patch-sites-all</code> der direkten Überprüfung von <code>MASTER_SITES</code> oder <code>PATCH_SITES</code> vorzuziehen. Zudem ist nicht garantiert, dass das direkte Überprüfen in zukünftigen Versionen funktionieren wird. Sehen Sie <a href=#porting-master-sites-n-new-port-targets-master-sites-all>B</a> für weitere Informationen zu diesen neuen Port-Targets.</p></div></li></ul></div></li><li><p>Neue Port-Targets</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>Es gibt <code>master-sites-<em>n</em></code> und <code>patch-sites-<em>n</em></code>-Targets, welche die Elemente der jeweiligen Gruppe <em>n</em> innerhalb von <code>MASTER_SITES</code> und <code>PATCH_SITES</code> auflisten. Beispielweise werden sowohl <code>master-sites-DEFAULT</code> als auch <code>patch-sites-DEFAULT</code> die Elemente der Gruppe <code>DEFAULT</code>, <code>master-sites-test</code> und <code>patch-sites-test</code> der Gruppe <code>test</code> usw. zurückgeben.</p></li><li><p>Es gibt das neue Target <code>master-sites-all</code> und <code>patch-sites-all</code>, welche die Arbeit der alten Targets <code>master-sites</code> und <code>patch-sites</code> übernehmen. Sie geben die Elemente aller Gruppen zurück,als würden sie zur gleichen Gruppe gehören - mit dem Vorbehalt, dass sie so viele <code>MASTER_SITE_BACKUP</code> und <code>MASTER_SITE_OVERRIDE</code> auflisten wie Gruppen mittels <code>DISTFILES</code> oder <code>PATCHFILES</code> definiert sind. Das gleiche gilt entsprechend für <code>master-sites-all</code> und <code>patch-sites-all</code>.</p></li></ol></div></li></ol></div></div></div><div class=sect3><h4 id=_dist_subdir>5.4.8. <code>DIST_SUBDIR</code><a class=anchor href=#_dist_subdir></a></h4><div class=paragraph><p>Verhindern Sie, dass Ihr Port das Verzeichnis <span class=filename>/usr/ports/distfiles</span> in Unordnung bringt. Falls Ihr Port eine ganze Reihe von Dateien herunterladen muss oder eine Datei enthält, die einen Namen hat, der möglicherweise mit anderen Ports in Konflikt stehen könnte (d.h.<span class=filename>Makefile</span>), dann setzen Sie die Variable <code>DIST_SUBDIR</code> auf den Namen des Ports (<code>${PORTNAME}</code> oder <code>${PKGNAMEPREFIX}${PORTNAME}</code> sollte hervorragend funktionieren). Dies wird <code>DISTDIR</code> von der Vorgabe <span class=filename>/usr/ports/distfiles</span> auf <span class=filename>/usr/ports/distfiles/DIST_SUBDIR</span> ändern und stellt tatsächlich alle für Ihren Port benötigten Dateien in dieses Unterverzeichnis.</p></div><div class=paragraph><p>Es wird zusätzlich nach dem Unterverzeichnis mit dem gleichen Namen auf der Sicherung der Hauptseite auf <span class=filename>ftp.FreeBSD.org</span> suchen (das ausdrückliche Setzen von <code>DISTDIR</code> in Ihrem <code>Makefile</code> wird dies nicht gewährleisten, also nutzen Sie bitte <code>DIST_SUBDIR</code>).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Dies hat keine Auswirkungen auf die Variable <code>MASTER_SITES</code>, die Sie in Ihrem <span class=filename>Makefile</span> definieren.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_always_keep_distfiles>5.4.9. <code>ALWAYS_KEEP_DISTFILES</code><a class=anchor href=#_always_keep_distfiles></a></h4><div class=paragraph><p>Falls Ihr Port binäre Distfiles benutzt und eine Lizenz aufweist, die verlangt, dass das der Quelltext in Form binärer Pakete verteilt werden muss, z.B. GPL, dann wird <code>ALWAYS_KEEP_DISTFILES</code> den FreeBSD Build Cluster anweisen eine Kopie der Dateien in <code>DISTFILES</code> vorzuhalten. Nutzer dieser Ports benötigen generell diese Dateien nicht, daher ist es ein gutes Konzept, nur dann die Distfiles zu <code>DISTFILES</code> hinzuzufügen, wenn <code>PACKAGE_BUILDING</code> definiert ist.</p></div><div id=ports-master-sites-n-example-always-keep-distfiles class=exampleblock><div class=title>Beispiel 7. Nutzung von <code>ALWAYS_KEEP_DISTFILES</code>.</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if defined(PACKAGE_BUILDING)
DISTFILES+=             foo.tar.gz
ALWAYS_KEEP_DISTFILES=  yes
.endif</pre></div></div></div></div><div class=paragraph><p>Wenn Sie zusätzliche Dateien zu <code>DISTFILES</code> hinzufügen, dann beachten Sie bitte, dass Sie diese auch in <span class=filename>distinfo</span> aufführen. Zudem werden die zusätzlichen Dateien normalerweise ebenso in <code>WRKDIR</code> extrahiert, was für einige Ports zu unbeabsichtigten Seiteneffekten führen mag und spezielle Behandlung erfordert.</p></div></div></div><div class=sect2><h3 id=makefile-maintainer>5.5. <code>MAINTAINER</code><a class=anchor href=#makefile-maintainer></a></h3><div class=paragraph><p>Fügen Sie hier Ihre E-Mailadresse ein. Bitte. <em>:-)</em></p></div><div class=paragraph><p>Beachten Sie bitte, dass nur eine einzelne E-Mailadresse ohne Kommentar in der Variable <code>MAINTAINER</code> zulässig ist. Das Format sollte <code>user@hostname.domain</code> sein. Bitte fügen Sie keinen beschreibenden Text wie z.B. Ihren wirklichen Namen ein, dies verwirrt lediglich <span class=filename>bsd.port.mk</span>.</p></div><div class=paragraph><p>Der Maintainer ist dafür verantwortlich, dass der Port aktuell gehalten wird und er sorgt dafür, dass der Port korrekt arbeitet. Für eine detaillierte Beschreibung der Verantwortlichkeiten eines Maintainers beachten Sie bitte den Abschnitt <a href={contributing-ports}#maintain-port/>Die Herausforderung für einen Port-Maintainer</a>.</p></div><div class=paragraph><p>Änderungen am Port werden dem Maintainer zur Begutachtung und Zustimmung vorgelegt, bevor sie committed werden. Falls der Maintainer einem Aktualisierungs-Wunsch nicht binnen 2 Wochen (ausgenommen wichtige öffentliche Feiertage) zustimmt, dann wird dies als Maintainer-Timeout betrachtet und eine Aktualisierung kann ohne ausdrückliche Zustimmung des Maintainers erfolgen. Falls der Maintainer nicht binnen 3 Monaten zustimmt, wird er als abwesend ohne Grund betrachtet und kann als Maintainer des fraglichen Ports durch eine andere Person ersetzt werden. Ausgenommen davon ist alles, was durch das Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> oder das Security Officer Team &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>> betreut wird. Es dürfen niemals committs ohne vorherige Zustimmung an solchen Ports vorgenommen werden!</p></div><div class=paragraph><p>Wir behalten uns das Recht vor, die Einreichungen eines Maintainers ohne ausdrückliche Zustimmung zu ändern, falls wir der Auffassung sind, dass dadurch die Einhaltung von Richtlinien und stilistischen Vorgaben für die Ports-Sammlung besser erfüllt wird. Zudem können größere Änderungen an der Infrastruktur der Ports zu Änderungen an einem bestimmten Port ohne Zustimmung des Maintainers führen. Diese Änderungen beeinflussen niemals die Funktionalität eines Ports.</p></div><div class=paragraph><p>Das Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>> behält sich das Recht vor, die Maintainerschaft jedem aus irgendeinem Grund zu entziehen oder ausser Kraft zu setzen, und das Security Officer Team Security Officer Team &lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>> behält sich das Recht vor, jede Maintainerschaft aus Sicherheitsgründen aufzuheben oder ausser Kraft zu setzen.</p></div></div><div class=sect2><h3 id=makefile-comment>5.6. <code>COMMENT</code><a class=anchor href=#makefile-comment></a></h3><div class=paragraph><p>Dies ist eine einzeilige Beschreibung des Ports. <em>Bitte</em> fügen Sie nicht den Paketnamen (oder die Version der Software) in den Kommentar ein. Der Kommentar soll mit einem Großbuchstaben beginnen und ohne Punkt enden. Hier ist ein Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>COMMENT=       A cat chasing a mouse all over the screen</pre></div></div><div class=paragraph><p>Die COMMENT-Variable soll unmittelbar nach der MAINTAINER-Variable im <span class=filename>Makefile</span> stehen.</p></div><div class=paragraph><p>Bitte versuchen Sie die COMMENT-Zeile auf weniger als 70 Zeichen zu begrenzen, da <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> diese zur Anzeige einer kurzen, einzeiligen Zusammenfassung des Ports verwendet.</p></div></div><div class=sect2><h3 id=makefile-depend>5.7. Abhängigkeiten (dependencies)<a class=anchor href=#makefile-depend></a></h3><div class=paragraph><p>Viele Ports hängen von anderen Ports ab. Dies ist ein sehr praktisches und nettes Feature der meisten Unix-ähnlichen Betriebssysteme, FreeBSD nicht ausgeschlossen. Es erlaubt, dass häufig vorkommende Abhängigkeiten nicht mit jedem Port oder Paket zusammen ausgeliefert werden müssen, da viele Ports diese gemeinsam benutzen. Es gibt sieben Variablen, die benutzt werden können, um sicherzustellen, dass alle benötigten Teile auf dem Rechner des Nutzers sind. Zusätzlich gibt es einige vordefinierte Variablen für Abhängigkeiten in häufigen Fällen und einige, welche das Verhalten der Abhängigkeiten bestimmen.</p></div><div class=sect3><h4 id=_lib_depends>5.7.1. <code>LIB_DEPENDS</code><a class=anchor href=#_lib_depends></a></h4><div class=paragraph><p>Diese Variable spezifiziert die Shared-Libraries, von denen der Port abhängt. Es ist eine Liste von lib:dir:target-Tupeln wobei <em>lib</em> den Name der gemeinsam genutzten Bibliothek, <em>dir</em> das Verzeichnis, in welchem sie zu finden ist, falls nicht verfügbar, und <em>target</em> das Target in diesem Verzeichnis angeben. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>LIB_DEPENDS=   jpeg.9:${PORTSDIR}/graphics/jpeg</pre></div></div><div class=paragraph><p>auf eine jpeg-Bibliothek mit der Hauptversionsnummer 9 prüfen, in das <span class=filename>graphics/jpeg</span>-Unterverzeichnis Ihrer Ports-Sammlung wechseln, es bauen und installieren, falls es nicht gefunden wird. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit <code>DEPENDS_TARGET</code> ist (Vorgabe hierfür ist <code>install</code>).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Der <em>lib</em>-Teil ist ein regulärer Ausdruck, welcher die Ausgabe von <code>ldconfig -r</code> ausgewertet. Werte wie <code>intl.[5-7]</code> und <code>intl</code> sind zulässig. Das erste Muster, <code>intl.[5-7]</code>, stimmt überein mit: <code>intl.5</code>, <code>intl.6</code> oder <code>intl.7</code>. Das zweite Muster, <code>intl</code>, stimmt überein mit jeder Version der <code>intl</code>-Bibliothek.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Die Abhängigkeit wird zwei Mal überprüft, einmal innerhalb des <code>extract</code>-Target und dann innerhalb des <code>install</code>-Target. Zudem wird der Name der Abhängigkeit in das Paket eingefügt, damit <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> es automatisch installiert, falls es nicht auf dem Rechner des Nutzers ist.</p></div></div><div class=sect3><h4 id=_run_depends>5.7.2. <code>RUN_DEPENDS</code><a class=anchor href=#_run_depends></a></h4><div class=paragraph><p>Diese Variable legt Binärdateien oder Dateien, von denen der Port abhängt, für die Laufzeit fest. Es ist eine Liste von path:dir:target-Tupeln, wobei <em>path</em> der Name der Binärdatei oder Datei, <em>dir</em> das Verzeichnis, in welchem sie gefunden werden kann, falls nicht vorhanden, und <em>target</em> das Target in diesem Verzeichnis angeben. Falls <em>path</em> mit einem Slash (<code>/</code>) beginnt, wird es als Datei behandelt und deren Vorhandensein wird mit <code>test -e</code>; überprüft. Andernfalls wird angenommen, dass es eine Binärdatei ist und <code>which -s</code> wird benutzt, um zu überprüfen, ob das Programm im Pfad vorhanden ist.</p></div><div class=paragraph><p>Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS=   ${LOCALBASE}/etc/innd:${PORTSDIR}/news/inn \
	   xmlcatmgr:${PORTSDIR}/textproc/xmlcatmgr</pre></div></div><div class=paragraph><p>überprüfen, ob die Datei oder das Verzeichnis <span class=filename>/usr/local/etc/innd</span> existiert und es erstellen und installieren aus dem <span class=filename>news/inn</span>-Unterverzeichnis der Ports-Sammlung, falls es nicht gefunden wird. Es wird zudem überprüft, ob die Binärdatei namens <code>xmlcatmgr</code> im Suchpfad vorhanden ist und danach zum Unterverzeichnis <span class=filename>textproc/xmlcatmgr</span> in Ihrer Ports-Sammlung wechseln, es bauen und installieren, falls es nicht gefunden wird.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In diesem Fall ist <code>innd</code> eine Binärdatei. Falls sich eine Binärdatei an einem ungewöhnlichen Platz befindet, der nicht im Suchpfad ist, dann sollten Sie die volle Pfadangabe verwenden.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Der offizielle Suchpfad <code>PATH</code>, welcher im Ports Cluster benutzt wird, ist</p></div><div class="literalblock programlisting"><div class=content><pre>/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/X11R6/bin</pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>install</code>-Target überprüft. Zudem wird der Name der Abhängigkeit in das Paket übernommen, damit <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> es automatisch installieren wird, falls es auf dem System des Nutzers nicht vorhanden ist. Der <em>target</em>-Teil kann weggelassen werden, wenn er der gleiche ist wie in der Variable <code>DEPENDS_TARGET</code>.</p></div><div class=paragraph><p>Es kommt recht häufig vor, dass <code>RUN_DEPENDS</code> genau dasselbe enthält wie <code>BUILD_DEPENDS</code>, gerade dann, wenn die portierte Software in einer Skriptsprache geschrieben ist oder dieselbe Umgebung, die zum Bau verwendet wurde, zur Laufzeit gebraucht wird. In diesem Fall ist es sowohl verlockend als auch intuitiv, den Wert der einen Variable der anderen direkt zuzuweisen:</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS= ${BUILD_DEPENDS}</pre></div></div><div class=paragraph><p>Jedoch kann eine solche Zuweisung dazu führen, dass die Liste der Laufzeitabhängigkeiten mit überflüssigen Einträgen belastet wird, die sich nicht in der ursprünglichen Liste <code>BUILD_DEPENDS</code> des Ports befanden, da sich <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> bei der Auswertung solcher Zuweisungen träge verhält. Stellen Sie sich ein <span class=filename>Makefile</span> mit <code>USE_*</code>-Variablen vor, die von <span class=filename>ports/Mk/bsd.*.mk</span> verarbeitet werden, um initiale Bauabhängigkeiten zusammenzutragen. Zum Beispiel fügt <code>USE_GMAKE=yes</code> <a class=package href=https://cgit.freebsd.org/ports/tree/devel/gmake/>devel/gmake</a> zu <code>BUILD_DEPENDS</code> hinzu. Um zu verhindern, dass solche zusätzlichen Abhängigkeiten <code>RUN_DEPENDS</code> belasten, achten Sie darauf, bei gleichzeitiger Auswertung zuzuweisen, d.h. der Ausdruck wird ausgewertet, bevor er als Wert der Variablen zugewiesen wird:</p></div><div class="literalblock programlisting"><div class=content><pre>RUN_DEPENDS:=  ${BUILD_DEPENDS}</pre></div></div></div><div class=sect3><h4 id=_build_depends>5.7.3. <code>BUILD_DEPENDS</code><a class=anchor href=#_build_depends></a></h4><div class=paragraph><p>Diese Variable legt Binärdateien oder Dateien fest, die dieser Port zur Erstellung benötigt. Wie <code>RUN_DEPENDS</code> ist es eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre> BUILD_DEPENDS=
	  unzip:${PORTSDIR}/archivers/unzip</pre></div></div><div class=paragraph><p>überprüfen, ob eine Binärdatei <code>unzip</code> vorhanden ist und in das Unterverzeichnis <span class=filename>archivers/unzip</span> Ihrer Ports-Sammlung wechseln und sie erstellen und installieren, falls sie nicht gefunden wird.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>"Erstellen" bedeutet hier alles von der Extraktion bis zur Kompilierung. Die Abhängigkeit wird im <code>extract</code>-Target überprüft. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_fetch_depends>5.7.4. <code>FETCH_DEPENDS</code><a class=anchor href=#_fetch_depends></a></h4><div class=paragraph><p>Diese Variable legt eine Binärdatei oder Datei fest, welche der Port benötigt, um heruntergeladen werden zu können. Wie die vorherigen beiden Variablen ist er eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre> FETCH_DEPENDS=
	  ncftp2:${PORTSDIR}/net/ncftp2</pre></div></div><div class=paragraph><p>überprüfen, ob eine Binärdatei namens <code>ncftp2</code> vorhanden ist, in das Unterverzeichnis <span class=filename>net/ncftp2</span> Ihrer Ports-Sammlung wechseln, sie erstellen und installieren, falls sie nicht gefunden wird.</p></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>fetch</code>-Target überprüft. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div></div><div class=sect3><h4 id=_extract_depends>5.7.5. <code>EXTRACT_DEPENDS</code><a class=anchor href=#_extract_depends></a></h4><div class=paragraph><p>Diese Variable spezifiziert eine Binärdatei oder eine Datei, welche dieser Port für die Extraktion benötigt. Wie die vorherigen Variablen ist er eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>EXTRACT_DEPENDS=
	  unzip:${PORTSDIR}/archivers/unzip</pre></div></div><div class=paragraph><p>überprüfen, ob eine Binärdatei namens <code>unzip</code> vorhanden ist, in das Unterverzeichnis <span class=filename>archivers/unzip</span> Ihrer Ports-Sammlung wechseln, sie erstellen und installieren, falls sie nicht gefunden wird.</p></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>extract</code>-Target überprüft. Der <em>target</em>-Teil kann weggelassen werden, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nutzen Sie diese Variable nur, wenn die Extraktion nicht funktioniert (die Vorgabe nimmt <code>gzip</code> an) und nicht mit <code>USE_ZIP</code> oder <code>USE_BZIP2</code> wie in <a href=#use-vars><code>USE_*</code></a> beschrieben zum Laufen gebracht werden kann.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_patch_depends>5.7.6. <code>PATCH_DEPENDS</code><a class=anchor href=#_patch_depends></a></h4><div class=paragraph><p>Diese Variable legt eine Binärdatei oder eine Datei fest, welche dieser Port zum Patchen benötigt. Wie die vorhergehenden Variablen ist diese eine Liste von path:dir:target-Tupeln. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre> PATCH_DEPENDS=
	  ${NONEXISTENT}:${PORTSDIR}/java/jfc:extract</pre></div></div><div class=paragraph><p>in das Unterverzeichnis <span class=filename>java/jfc</span> Ihrer Ports-Sammlung wechseln, um es zu entpacken.</p></div><div class=paragraph><p>Die Abhängigkeit wird innerhalb des <code>patch</code>-Target überprüft. Der <em>target</em>-Teil kann entfallen, falls er identisch mit der Variable <code>DEPENDS_TARGET</code> ist.</p></div></div><div class=sect3><h4 id=use-vars>5.7.7. <code>USE_*</code><a class=anchor href=#use-vars></a></h4><div class=paragraph><p>Es gibt eine Reihe von Variablen, um gebräuchliche Abhängigkeiten einzukapseln, die viele Ports aufweisen. Obwohl Ihre Verwendung optional ist, können sie helfen die Übersichtlichkeit des <span class=filename>Makefile</span> eines Ports zu erhöhen. Jede von ihnen ist im Stil von <code>USE_*</code>. Der Gebrauch dieser Variablen ist beschränkt auf das <span class=filename>Makefile</span> eines Ports und <span class=filename>ports/Mk/bsd.*.mk</span>. Es ist nicht entworfen worden, um durch den Nutzer setzbare Optionen einzukapseln; benutzen Sie <code>WITH_*</code> und <code>WITHOUT_*</code> für diese Zwecke.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Es ist <em>immer</em> falsch, irgendeine <code>USE_*</code>-Variable in der <span class=filename>/etc/make.conf</span> zu setzen. Zum Beispiel würde das Setzen von</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GCC=3.4</pre></div></div><div class=paragraph><p>eine Abhängigkeit für GCC34 für jeden Port einschliesslich GCC34 selbst hinzufügen!</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 2. Die <code>USE_*</code>-Varibalen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_BZIP2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Tarball dieses Ports wird mit <code>bzip2</code> komprimiert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_ZIP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Tarball des Ports wird mit <code>zip</code> komprimiert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_BISON</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt <code>bison</code> für die Erstellung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_CDRTOOLS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port erfordert cdrecord entweder von <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a> oder <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools-cjk/>sysutils/cdrtools-cjk</a>, abhängig davon, was der Nutzer vorgibt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_GCC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dieser Port benötigt eine bestimmte Version von <code>gcc</code> zur Erstellung. Die genaue Version kann festgelegt werden mit Werten wie <code>3.4</code>. Mit <code>3.4+</code> kann die mindestens erforderliche Version spezifiziert werden. Der <code>gcc</code> aus dem Basissystem wird genutzt, wenn er die erforderliche Version erfüllt, andernfalls wird eine geeignete Version des <code>gcc</code> aus den Ports kompiliert und die Variablen <code>CC</code> und <code>CXX</code> werden angepasst.</p></td></tr></tbody></table><div class=paragraph><p>Variablen zugehörig zu gmake und dem <span class=filename>configure</span>-Skript werden in <a href=./#building>Build-Mechanismen</a> beschrieben, währenddessen autoconf, automake und libtool in <a href=./#using-autotools>Benutzung von GNU autotools</a> beschrieben sind. Perl-spezifische Variablen werden in <a href=./#using-perl>Die Benutzung von <code>perl</code></a> behandelt. X11-Variablen sind aufgelistet in <a href=./#using-x11>Benutzung von X11</a>. <a href=./#using-gnome>Benutzung von GNOME</a> behandelt GNOME-bezogene Variablen und <a href=./#using-kde>Benutzung von KDE</a> KDE-bezogene Variablen. <a href=./#using-java>Benutzung von Java</a> dokumentiert Java-Variablen, während <a href=./#using-php>Webanwendungen</a>Informationen zu Apache, PHP und PEAR-Modulen enthält. Python wird in <a href=./#using-python>Python benutzen</a> und Ruby in <a href=./#using-ruby>Ruby benutzen</a> erörtert. <a href=./#using-sdl>SDL verwenden</a> stellt Variablen für SDL-Programme zur Verfügung und <a href=./#using-xfce>Xfce verwenden</a> enthält schliesslich Variablen für Xfce.</p></div></div><div class=sect3><h4 id=_minimale_version_einer_abhängigkeit>5.7.8. Minimale Version einer Abhängigkeit<a class=anchor href=#_minimale_version_einer_abhängigkeit></a></h4><div class=paragraph><p>Eine minimale Version einer Abhängigkeit kann in jeder <code>*_DEPENDS</code>-Variable festgelegt werden mit Ausnahme von <code>LIB_DEPENDS</code> durch Anwendung folgender Syntax:</p></div><div class="literalblock programlisting"><div class=content><pre>p5-Spiffy&gt;=0.26:${PORTSDIR}/devel/p5-Spiffy</pre></div></div><div class=paragraph><p>Das erste Feld enthält einen abhängigen Paketnamen, welcher einem Eintrag in der Paketdatenbank entsprechen muss und einen Vergleich mit einer Paketversion. Die Abhängigkeit wird erfüllt, wenn p5-Spiffy-0.26 oder eine neuere Version auf dem System installiert ist.</p></div></div><div class=sect3><h4 id=_anmerkungen_zu_abhängigkeiten>5.7.9. Anmerkungen zu Abhängigkeiten<a class=anchor href=#_anmerkungen_zu_abhängigkeiten></a></h4><div class=paragraph><p>Wie vorstehend beschrieben ist das Vorgabe-Target <code>DEPENDS_TARGET</code>, wenn eine Abhängigkeit benötigt wird. Die Vorgabe hierfür ist <code>install</code>. Dies ist eine Nutzer-Variable; sie wird niemals im <span class=filename>Makefile</span> eines Ports definiert. Falls Ihr Port einen besonderen Weg benötigt, um mit einer Abhängigkeit umzugehen, dann benutzen Sie bitte den <code>:target</code>-Teil der <code>*_DEPENDS</code>-Variablen, anstatt <code>DEPENDS_TARGET</code> zu ändern.</p></div><div class=paragraph><p>Falls Sie <code>make clean</code> schreiben, werden dessen Abhängigkeiten auch gesäubert. Falls Sie dies nicht wollen, definieren Sie die Variable <code>NOCLEANDEPENDS</code> in Ihrer Umgebung. Dies kann besonders erstrebenswert sein, wenn der Port etwas in seiner Liste von Abhängigkeiten hat, das sehr viel Zeit für einen rebuild benötigt wie KDE, GNOME oder Mozilla.</p></div><div class=paragraph><p>Um von einem anderen Port bedingungslos abhängig zu sein, benutzen Sie bitte die Variable <code>${NONEXISTENT}</code> als erstes Feld von <code>BUILD_DEPENDS</code> oder <code>RUN_DEPENDS</code>. Benutzen Sie dies nur, wenn Sie den Quelltext eines anderen Port benötigen. Sie können auch oft Kompilierzeit sparen, wenn Sie das Target festlegen. Zum Beispiel wird</p></div><div class="literalblock programlisting"><div class=content><pre>BUILD_DEPENDS=   ${NONEXISTENT}:${PORTSDIR}/graphics/jpeg:extract</pre></div></div><div class=paragraph><p>immer zum <code>jpeg</code>-Port wechseln und ihn extrahieren.</p></div></div><div class=sect3><h4 id=_zirkuläre_abhängigkeiten_sind_fatal>5.7.10. Zirkuläre Abhängigkeiten sind fatal<a class=anchor href=#_zirkuläre_abhängigkeiten_sind_fatal></a></h4><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Führen Sie niemals irgendwelche zirkulären Abhängigkeiten in der Ports-Sammlung ein!</p></div></td></tr></tbody></table></div><div class=paragraph><p>Die Struktur für die Erstellung von Ports dulde keinerlei zirkuläre Abhängigkeiten. Falls Sie dennoch eine verwenden, wird es irgendjemanden irgendwo auf der Welt geben, dessen FreeBSD-Installation nahezu sofort zusammenbricht und vielen anderen wird es sehr schnell genauso ergehen. So etwas kann extrem schwer festzustellen sein. Falls Sie Zweifel haben vor einer Änderung, dann vergewissern Sie sich, dass Sie folgendes getan haben: <code>cd /usr/ports; make index</code>. Dieser Prozess kann auf alten Maschinen sehr langsam sein, aber Sie ersparen sich und einer Vielzahl von Menschen möglicherweise eine Menge Ärger.</p></div></div></div><div class=sect2><h3 id=makefile-masterdir>5.8. <code>MASTERDIR</code><a class=anchor href=#makefile-masterdir></a></h3><div class=paragraph><p>Falls Ihr Port wegen einer Variable, die verschiedene Werte annimmt (z.B. Auflösung oder Papiergröße), leicht unterschiedliche Versione von Paketen erzeugen muss, dann legen Sie bitte ein Unterverzeichnis pro Paket an, um es für den Nutzer einfacher begreiflich zu machen, was zu machen ist. Aber versuchen Sie dabei so viele Dateien wie möglich zwischen diesen Ports gemeinsam zu nutzen. Normalerweise benötigen Sie nur ein sehr kurzes <span class=filename>Makefile</span> in allen ausser einem Unterverzeichnis, wenn Sie Variablen intelligent nutzen. In diesem einzigen <span class=filename>Makefile</span> können Sie <code>MASTERDIR</code> verwenden, um anzugeben, wo der Rest der Dateien liegt. Benutzen Sie bitte auch eine Variable für <a href=#porting-pkgname><code>PKGNAMESUFFIX</code></a>, damit die Pakete unterschiedliche Namen haben werden.</p></div><div class=paragraph><p>Wir demonstrieren dies am Besten an einem Beispiel. Es ist Teil von <span class=filename>japanese/xdvi300/Makefile</span>;</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       xdvi
PORTVERSION=    17
PKGNAMEPREFIX=  ja-
PKGNAMESUFFIX=  ${RESOLUTION}
 :
# default
RESOLUTION?=   300
.if ${RESOLUTION} != 118 &amp;&amp; ${RESOLUTION} != 240 &amp;&amp; \
       ${RESOLUTION} != 300 &amp;&amp; ${RESOLUTION} != 400
       @${ECHO_MSG} &#34;Error: invalid value for RESOLUTION: \&#34;${RESOLUTION}\&#34;&#34;
       @${ECHO_MSG} &#34;Possible values are: 118, 240, 300 (default) and 400.&#34;
       @${FALSE}
.endif</pre></div></div><div class=paragraph><p><a class=package href=https://cgit.freebsd.org/ports/tree/japanese/xdvi300/>japanese/xdvi300</a> verfügt ebenfalls über alle Patches, Paket-Dateien usw. Wenn Sie <code>make</code> eintippen, wird der Port die Standardvorgabe für die Auflösung nehmen (300) und den Port ganz normal erstellen.</p></div><div class=paragraph><p>Genauso wie für alle anderen Auflösungen ist dies das <em>vollständige</em> <span class=filename>xdvi118/Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>RESOLUTION=     118
MASTERDIR=      ${.CURDIR}/../xdvi300

.include &#34;${MASTERDIR}/Makefile&#34;</pre></div></div><div class=paragraph><p>(<span class=filename>xdvi240/Makefile</span> und <span class=filename>xdvi400/Makefile</span> sind ähnlich). Die <code>MASTERDIR</code>-Definition teilt dem <span class=filename>bsd.port.mk</span> mit, dass die normalen Unterverzeichnisse wie <code>FILESDIR</code> und <code>SCRIPTDIR</code> unter <span class=filename>xdvi300</span> gefunden werden können. Die <code>RESOLUTION=118</code>-Zeile wird die <code>RESOLUTION=300</code>-Zeile in <span class=filename>xdvi300/Makefile</span> überschreiben und der Port wird mit einer Auflösung von 118 erstellt.</p></div></div><div class=sect2><h3 id=makefile-manpages>5.9. Manualpages<a class=anchor href=#makefile-manpages></a></h3><div class=paragraph><p>Die Variablen <code>MAN[1-9LN]</code> werden automatisch jede Manualpage zur <span class=filename>pkg-plist</span> hinzufügen (dies bedeutet, dass Sie Manualpages <em>nicht</em> in der <span class=filename>pkg-plist</span> auflisten dürfen, lesen Sie bitte <a href=#plist-sub>Erstellung der PLIST</a> für weitere Details). Sie veranlassen zudem den Installationsabschnitt dazu, die Manualpages zu Komprimieren oder zu Dekomprimieren abhängig vom gesetzten Wert der Variable <code>NO_MANCOMPRESS</code> in <span class=filename>/etc/make.conf</span>.</p></div><div class=paragraph><p>Falls Ihr Port versucht verschiedene Namen für Manualpages unter Zuhilfenahme von Symlinks oder Hardlinks zu installieren, müssen Sie die Variable <code>MLINKS</code> nutzen, um diese zu identifizieren. Der von Ihrem Port installierte Link wird von <span class=filename>bsd.port.mk</span> gelöscht und wieder eingefügt, um sicherzustellen, dass er auf die korrekte Datei zeigt. Jede Manualpage, welche in <code>MLINKS</code> aufgeführt ist, darf nicht in der <span class=filename>pkg-plist</span> aufgenommen werden.</p></div><div class=paragraph><p>Falls die Manualpages während der Installation komprimiert werden sollen, müssen Sie die Variable <code>MANCOMPRESSED</code> setzen. Diese Variable kann drei Werte annehmen, <code>yes</code>, <code>no</code> und <code>maybe</code>. <code>yes</code> bedeutet, dass Manualpages bereits komprimiert installiert sind, bei <code>no</code> sind sie es nicht und <code>maybe</code> bedeutet, dass die Software bereits den Wert von <code>NO_MANCOMPRESS</code> beachtet, damit <span class=filename>bsd.port.mk</span> nichts Besonderes auszuführen hat.</p></div><div class=paragraph><p><code>MANCOMPRESSED</code> wird automatisch auf <code>yes</code> gesetzt, wenn <code>USE_IMAKE</code> vorgegeben ist und gleichzeitig <code>NO_INSTALL_MANPAGES</code> nicht. Im umgekehrten Falle ist <code>MANCOMPRESSED</code> auf <code>no</code> gesetzt. Sie müssen es nicht explizit angeben, außer die Standardvorgabe ist für Ihren Port nicht passend.</p></div><div class=paragraph><p>Wenn Ihr Port den man tree irgendwo anders als in der Variable <code>PREFIX</code> verankert, können Sie ihn mit <code>MANPREFIX</code> bestimmen. Sollten zudem Manualpages nur in bestimmten Abschnitten an einem nicht-standardkonformen Platz liegen, wie z.B. bestimmte <code>Perl</code>-Modul-Ports, dann können Sie mittels der Variable <code>MAN_sect_PREFIX</code> (wobei <em>sect</em> ein Wert aus <code>1-9</code>, <code>L</code> oder <code>N</code> ist) individuelle Pfade zu den Manualpages festlegen.</p></div><div class=paragraph><p>Wenn Ihre Manualpages in sprachspezifische Unterverzeichnisse installiert werden, dann bestimmen Sie bitte den Namen der Sprache mit der Variable <code>MANLANG</code>. Der Wert dieser Variable ist mit <code>""</code> vorgegeben (das bedeutet nur Englisch).</p></div><div class=paragraph><p>Hier ist ein Beispiel, welches alles zusammenfasst.</p></div><div class="literalblock programlisting"><div class=content><pre>MAN1=          foo.1
MAN3=          bar.3
MAN4=          baz.4
MLINKS=        foo.1 alt-name.8
MANLANG=       &#34;&#34; ja
MAN3PREFIX=    ${PREFIX}/shared/foobar
MANCOMPRESSED= yes</pre></div></div><div class=paragraph><p>Dies zeigt an, dass sechs Dateien von diesem Port installiert werden;</p></div><div class="literalblock programlisting"><div class=content><pre>${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${PREFIX}/shared/foobar/man/man3/bar.3.gz
${PREFIX}/shared/foobar/man/ja/man3/bar.3.gz
${MANPREFIX}/man/man4/baz.4.gz
${MANPREFIX}/man/ja/man4/baz.4.gz</pre></div></div><div class=paragraph><p><span class=filename>${MANPREFIX}/man/man8/alt-name.8.gz</span> kann zusätzlich von Ihrem Port installiert werden, oder auch nicht. Unabhängig davon wird ein Symlink erstellt, welcher die Manualpages foo(1) und alt-name(8) einbindet.</p></div><div class=paragraph><p>Falls nur manche Manualpages übersetzt sind, können Sie einige dynamisch vom <code>MANLANG</code>-Inhalt erzeugte Variablen nutzen:</p></div><div class="literalblock programlisting"><div class=content><pre>MANLANG=       &#34;&#34; de ja
MAN1=          foo.1
MAN1_EN=       bar.1
MAN3_DE=       baz.3</pre></div></div><div class=paragraph><p>Dies führt zu folgender Liste von Dateien:</p></div><div class="literalblock programlisting"><div class=content><pre>${MANPREFIX}/man/man1/foo.1.gz
${MANPREFIX}/man/de/man1/foo.1.gz
${MANPREFIX}/man/ja/man1/foo.1.gz
${MANPREFIX}/man/man1/bar.1.gz
${MANPREFIX}/man/de/man3/baz.3.gz</pre></div></div></div><div class=sect2><h3 id=makefile-info>5.10. Info-Dateien<a class=anchor href=#makefile-info></a></h3><div class=paragraph><p>Falls Ihr Paket GNU-Info-Dateien installiert, sollten diese in der <code>INFO</code>-Variablen augelistet sein (ohne das angehängte <code>.info</code>) mit einem Eintrag für jedes Dokument. Von diesen Dateien wird angenommen, dass sie nach <span class=filename>PREFIX/INFO_PATH</span> installiert werden. Sie können <code>INFO_PATH</code> ändern, falls Ihr Paket einen anderen Ort vorsieht. Jedoch wird dies nicht empfohlen. Die Einträge enthalten nur den relativen Pfad zu <span class=filename>PREFIX/INFO_PATH</span>. Zum Beispiel installiert <a class=package href=https://cgit.freebsd.org/ports/tree/lang/gcc34/>lang/gcc34</a> Info-Dateien nach <span class=filename>PREFIX/INFO_PATH/gcc34</span>, wobei <code>INFO</code> etwa so aussieht:</p></div><div class="literalblock programlisting"><div class=content><pre>INFO= gcc34/cpp gcc34/cppinternals gcc34/g77 ...</pre></div></div><div class=paragraph><p>Entsprechende Installations-/Deinstalltions-Codes werden vor der Paket-Registrierung automatisch der vorläufigen <span class=filename>pkg-plist</span> hinzugefügt.</p></div></div><div class=sect2><h3 id=makefile-options>5.11. Makefile-Optionen<a class=anchor href=#makefile-options></a></h3><div class=paragraph><p>Einige größere Applikationen können mit einer Reihe von Konfigurationen, die zusätzliche Funktionalitäten hinzufügen, erstellt werden, falls eine oder mehrere Bibliotheken oder Applikationen verfügbar sind. Dazu gehören die Auswahl von natürlichen Sprachen, GUI versus Kommandozeilen-Versionen oder die Auswahl aus mehreren Datenbank-Programmen. Da nicht alle Nutzer diese Bibliotheken oder Applikationen wollen, stellt das Ports-System hooks (Haken) zur Verfügung, damit der Autor des Ports bestimmen kann, welche Konfiguration erstellt werden soll.</p></div><div class=sect3><h4 id=_knobs_einstellungen>5.11.1. KNOBS (Einstellungen)<a class=anchor href=#_knobs_einstellungen></a></h4><div class=sect4><h5 id=_with_und_without>5.11.1.1. <code>WITH_*</code> und <code>WITHOUT_*</code><a class=anchor href=#_with_und_without></a></h5><div class=paragraph><p>Diese Variablen sind entworfen worden, um vom System-Administrator gesetzt zu werden. Es gibt viele, die in <a href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup">ports/KNOBS</a> standardisiert sind.</p></div><div class=paragraph><p>Benennen Sie Schalter bei der Erstellung eines Ports nicht programmspezifisch. Verwenden Sie zum Beispiel im Avahi-Port <code>WITHOUT_MDNS</code> anstelle von <code>WITHOUT_AVAHI_MDNS</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sie sollten nicht annehmen, dass ein <code>WITH_*</code> notwendigerweise eine korrespondierende <code>WITHOUT_*</code>-Variable hat oder umgekehrt. Im Allgemeinen wird diese Vorgabe einfach unterstellt.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Falls nicht anderweitig festgelegt, werden diese Variablen nur dahingehend überprüft, ob sie gesetzt sind oder nicht - nicht darauf, ob sie auf bestimmte Werte wie <code>YES</code> oder <code>NO</code> gesetzt sind.</p></div></td></tr></tbody></table></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 3. Häufige <code>WITH_*</code> und <code>WITHOUT_*</code>-Variablen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITHOUT_NLS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls gesetzt, bedeutet sie, dass eine Internationalisierung nicht benötigt wird, was Kompilierzeit sparen kann. Als Vorgabe wird Internationalisierung gebraucht.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_OPENSSL_BASE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nutze die Version von OpenSSL aus dem Basissystem.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_OPENSSL_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Installiert die Version von OpenSSL aus <a class=package href=https://cgit.freebsd.org/ports/tree/security/openssl/>security/openssl</a>, auch wenn das Basissystem auf aktuellem Stand ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITHOUT_X11</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls der Port mit oder ohne Unterstützung für X erstellt werden kann, dann sollte normalerweise mit X-Unterstützung erstellt werden. Falls die Variable gesetzt ist, soll die Version ohne X-Unterstützung erstellt werden.</p></td></tr></tbody></table></div><div class=sect4><h5 id=_benennung_von_knobs_einstellungen>5.11.1.2. Benennung von Knobs (Einstellungen)<a class=anchor href=#_benennung_von_knobs_einstellungen></a></h5><div class=paragraph><p>Um die Anzahl der Knobs niedrig zu halten und zum Vorteil des Anwenders, wird empfohlen, dass Porter ähnliche Namen für Knobs verwenden. Eine Liste der beliebtesten Knobs kann in der <a href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/KNOBS?rev=HEAD&amp;content-type=text/x-cvsweb-markup">KNOBS-Datei</a> eingesehen werden.</p></div><div class=paragraph><p>Knob-Namen sollten wiederspiegeln, was der Knob bedeutet und was er bewirkt. Wenn ein Port einen lib-Präfix im <code>PORTNAME</code> hat, dann soll das lib-Präfix im Knob-Namen entfallen.</p></div></div></div><div class=sect3><h4 id=_options>5.11.2. <code>OPTIONS</code><a class=anchor href=#_options></a></h4><div class=sect4><h5 id=_hintergrund>5.11.2.1. Hintergrund<a class=anchor href=#_hintergrund></a></h5><div class=paragraph><p>Die <code>OPTIONS</code>-Variable gibt dem Nutzer, der diesen Port installiert, einen Dialog mit auswählbaren Optionen und speichert diese in <span class=filename>/var/db/ports/portname/options</span>. Bei der nächsten Neuerstellung des Ports werden diese Einstellungen wieder verwandt. Sie werden sich niemals mehr an all die zwanzig <code>WITH_*</code> und <code>WITHOUT_*</code>-Optionen erinnern müssen, die Sie benutzt haben, um diesen Port zu erstellen!</p></div><div class=paragraph><p>Wenn der Anwender <code>make config</code> benutzt (oder ein <code>make build</code> das erste Mal laufen lässt) wird das Framework auf <span class=filename>/var/db/ports/portname/options</span> die Einstellungen prüfen. Falls die Datei nicht existiert, werden die Werte von <code>OPTIONS</code> genutzt, um eine Dialogbox zu erzeugen, in welcher die Optionen an- oder abgeschaltet werden können. Dann wird die <span class=filename>options</span>-Datei gespeichert und die ausgewählten Variablen werden bei der Erstellung des Ports benutzt.</p></div><div class=paragraph><p>Falls eine neue Version des Ports <code>OPTIONS</code> hinzufügt, wird der Dialog mit den gespeicherten Werten dem Nutzer angezeigt.</p></div><div class=paragraph><p>Benutzen Sie <code>make showconfig</code>, um die gespeicherte Konfiguration zu betrachten. Benutzen Sie <code>make rmconfig</code>, um die gespeicherte Konfiguration zu Löschen.</p></div></div><div class=sect4><h5 id=_syntax>5.11.2.2. Syntax<a class=anchor href=#_syntax></a></h5><div class=paragraph><p>Die Syntax für die <code>OPTIONS</code>-Variable lautet:</p></div><div class="literalblock programlisting"><div class=content><pre>OPTIONS=    OPTION    &#34;descriptive text&#34; default ...</pre></div></div><div class=paragraph><p>Der Wert als Vorgabe ist entweder <code>ON</code> oder <code>OFF</code>. Wiederholungen dieser drei Felder sind erlaubt.</p></div><div class=paragraph><p><code>OPTIONS</code>-Definitionen müssen vor der Einbindung von <span class=filename>bsd.port.options.mk</span> erscheinen. Die <code>WITH_*</code> und <code>WITHOUT_*</code>-Variablen können nur nach der Einbindung von <span class=filename>bsd.port.options.mk</span> getestet werden. <span class=filename>bsd.port.pre.mk</span> kann auch stattdessen eingebunden werden und wird immer noch von vielen Ports eingebunden, die vor der Einführung von <span class=filename>bsd.port.options.mk</span> erstellt wurden. Jedoch wirken manche Variablen nicht wie gewohnt nach der Einbindung von <span class=filename>bsd.port.pre.mk</span>, typischerweise <code>USE_*</code>-Optionen.</p></div><div id=ports-options-simple-use class=exampleblock><div class=title>Beispiel 8. Einfache Anwendung von <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS=      FOO &#34;Enable option foo&#34; On \
              BAR &#34;Support feature bar&#34; Off

.include &lt;bsd.port.options.mk&gt;

.if defined(WITHOUT_FOO)
CONFIGURE_ARGS+=    --without-foo
.else
CONFIGURE_ARGS+=    --with-foo
.endif

.if defined(WITH_BAR)
RUN_DEPENDS+=    bar:${PORTSDIR}/bar/bar
.endif

.include &lt;bsd.port.mk&gt;</pre></div></div></div></div><div id=ports-options-old-style-use class=exampleblock><div class=title>Beispiel 9. Veraltete Anwendung von <code>OPTIONS</code></div><div class=content><div class="literalblock programlisting"><div class=content><pre>OPTIONS=      FOO &#34;Enable option foo&#34; On

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITHOUT_FOO)
CONFIGURE_ARGS+=    --without-foo
.else
CONFIGURE_ARGS+=    --with-foo
.endif

.include &lt;bsd.port.post.mk&gt;</pre></div></div></div></div></div></div><div class=sect3><h4 id=_automatische_aktivierung_von_funktionen>5.11.3. Automatische Aktivierung von Funktionen<a class=anchor href=#_automatische_aktivierung_von_funktionen></a></h4><div class=paragraph><p>Wenn Sie ein GNU-Konfigurationsskript benutzen, sollten Sie ein Auge darauf werfen, welche Funktionen durch die automatische Erkennung aktiviert werden. Schalten Sie Funktionen, die Sie nicht möchten, ausdrücklich durch Verwendung von <code>--without-xxx</code> oder <code>--disable-xxx</code> in der Variable <code>CONFIGURE_ARGS</code> einzeln ab.</p></div><div class=exampleblock><div class=title>Beispiel 10. Falsche Behandlung einer Option</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if defined(WITH_FOO)
LIB_DEPENDS+=        foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=    --enable-foo
.endif</pre></div></div></div></div><div class=paragraph><p>Stellen Sie sich vor im obigen Beispiel ist eine Bibliothek libfoo auf dem System installiert. Der Nutzer will nicht, dass diese Applikation libfoo benutzt, also hat er die Option auf "off" im <code>make config</code>-Dialog umgestellt. Aber das Konfigurationsskript der Applikation hat erkannt, dass die Bibliothek auf dem System vorhanden ist und fügt ihre Funktionen in die Binärdatei ein. Falls der Nutzer sich nun entschliesst libfoo von seinem System zu entfernen, dann wird das Ports-System nicht protestieren (es wurde keine Abhängigkeit von libfoo eingetragen), aber die Applikation bricht ab.</p></div><div class=exampleblock><div class=title>Beispiel 11. Korrekte Behandlung einer Option</div><div class=content><div class="literalblock programlisting"><div class=content><pre>.if defined(WITH_FOO)
LIB_DEPENDS+=        foo.0:${PORTSDIR}/devel/foo
CONFIGURE_ARGS+=    --enable-foo
.else
CONFIGURE_ARGS+=    --disable-foo
.endif</pre></div></div></div></div><div class=paragraph><p>Im zweiten Beispiel wird die Bibliothek libfoo explizit abgeschaltet. Das Konfigurationsskript aktiviert die entsprechenden Funktionen nicht in der Applikation trotz der Anwesenheit der Bibliothek auf dem System.</p></div></div></div><div class=sect2><h3 id=makefile-wrkdir>5.12. Die Festlegung des Arbeitsverzeichnisses<a class=anchor href=#makefile-wrkdir></a></h3><div class=paragraph><p>Jeder Port wird extrahiert in ein Arbeitsverzeichnis, welches beschreibbar sein muss. Das Ports-System gibt als Standard vor, dass die <code>DISTFILES</code> in einem Verzeichnis namens <code>${DISTNAME}</code> entpackt werden. Mit anderen Worten, wenn Sie:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTNAME=      foo
PORTVERSION=   1.0</pre></div></div><div class=paragraph><p>festgelegt haben, dann enthalten die Distributions-Dateien des Ports ein Verzeichnis auf oberster Ebene, <span class=filename>foo-1.0</span>, und der Rest der Dateien befindet sich unter diesem Verzeichnis.</p></div><div class=paragraph><p>Es gibt eine Reihe von Variablen, die Sie überschreiben können, falls dies nicht der Fall sein sollte.</p></div><div class=sect3><h4 id=_wrksrc>5.12.1. <code>WRKSRC</code><a class=anchor href=#_wrksrc></a></h4><div class=paragraph><p>Diese Variable listet den Namen des Verzeichnisses, welches erstellt wird, wenn die Distfiles der Applikation extrahiert werden. Wenn unser vorheriges Beispiel in einem Verzeichnis namens <span class=filename>foo</span> (und nicht <span class=filename>foo-1.0</span>) extrahiert wurde, würden Sie schreiben:</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=      ${WRKDIR}/foo</pre></div></div><div class=paragraph><p>oder möglicherweise</p></div><div class="literalblock programlisting"><div class=content><pre>WRKSRC=      ${WRKDIR}/${PORTNAME}</pre></div></div></div><div class=sect3><h4 id=_no_wrksubdir>5.12.2. <code>NO_WRKSUBDIR</code><a class=anchor href=#_no_wrksubdir></a></h4><div class=paragraph><p>Wenn der Port überhaupt nicht in einem Unterverzeichnis extrahiert wird, sollten Sie dies mit dem Setzen von <code>NO_WRKSUBDIR</code> anzeigen.</p></div><div class="literalblock programlisting"><div class=content><pre>NO_WRKSUBDIR= yes</pre></div></div></div></div><div class=sect2><h3 id=conflicts>5.13. Konfliktbehandlung<a class=anchor href=#conflicts></a></h3><div class=paragraph><p>Es gibt drei verschiedene Variablen, um einen Konflikt zwischen Paketen und Ports zu dokumentieren: <code>CONFLICTS</code>, <code>CONFLICTS_INSTALL</code> sowie <code>CONFLICTS_BUILD</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>CONFLICTS</code> setzt automatisch die Variable <code>IGNORE</code>, die ausführlicher in <a href=./#dads-noinstall>Einen Port durch <code>BROKEN</code> - <code>FORBIDDEN</code> oder <code>IGNORE</code> als nicht installierbar markieren</a> beschrieben wird.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Beim Entfernen eines von mehreren in Konflikt stehenden Ports ist es ratsam, die <code>CONFLICTS</code>-Einträge in den anderen Ports für einige Monate beizubehalten, um Nutzer zu unterstützen, die ihre Ports nur sporadisch aktualisieren.</p></div><div class=sect3><h4 id=_conflicts_install>5.13.1. <code>CONFLICTS_INSTALL</code><a class=anchor href=#_conflicts_install></a></h4><div class=paragraph><p>Falls Ihr Paket nicht mit anderen Paketen koexistieren kann (wegen Dateikonflikten, Laufzeit-Inkompatibilitäten usw.), führen Sie bitte die anderen Paketnamen in der Variable <code>CONFLICTS_INSTALL</code> auf. Sie können hier Shell-Globs wie <code>*</code> und <code>?</code> verwenden. Paketnamen sollten in der gleichen Weise aufgezählt werden, wie sie in <span class=filename>/var/db/pkg</span> auftauchen. Bitte stellen Sie sicher, dass <code>CONFLICTS</code> nicht mit dem Paket des Ports selbst übereinstimmt, da ansonsten das Erzwingen der Installation durch <code>FORCE_PKG_REGISTER</code> nicht länger funktionieren wird.</p></div></div><div class=sect3><h4 id=_conflicts_build>5.13.2. <code>CONFLICTS_BUILD</code><a class=anchor href=#_conflicts_build></a></h4><div class=paragraph><p>Wenn Ihr Port nicht gebaut werden kann, wenn ein bestimmter Port bereits installiert ist, geben Sie diesen in der Variable <code>CONFLICTS_BUILD</code> an. Sie können hier Shell-Globs wie <code>*</code> und <code>?</code> verwenden. Paketnamen sollten in der gleichen Weise aufgezählt werden, wie sie in <span class=filename>/var/db/pkg</span> auftauchen. Die CONFLICTS_BUILD-Prüfung erfolgt vor dem Bau des Ports. Baukonflikte werden im erzeugten Paket nicht verzeichnet.</p></div></div><div class=sect3><h4 id=_conflicts>5.13.3. <code>CONFLICTS</code><a class=anchor href=#_conflicts></a></h4><div class=paragraph><p>Wenn Ihr Port nicht gebaut werden kann, wenn ein bestimmter Port bereits installiert ist und das aus dem Port erzeugte Paket nicht mit dem anderen Paket koexistieren kann, geben Sie das andere Paket in der Variable <code>CONFLICTS</code> an. Sie können hier Shell-Globs wie <code>*</code> und <code>?</code> verwenden. Paketnamen sollten in der gleichen Weise aufgezählt werden, wie sie in <span class=filename>/var/db/pkg</span> auftauchen. Bitte stellen Sie sicher, dass <code>CONFLICTS_INSTALL</code> nicht mit dem Paket des Ports selbst übereinstimmt, da ansonsten das Erzwingen der Installation durch <code>FORCE_PKG_REGISTER</code> nicht länger funktionieren wird. Die CONFLICTS-Prüfung erfolgt vor dem Bau des Ports und vor der Installation des gebauten Ports.</p></div></div></div><div class=sect2><h3 id=install>5.14. Installation von Dateien<a class=anchor href=#install></a></h3><div class=sect3><h4 id=install-macros>5.14.1. INSTALL_* macros<a class=anchor href=#install-macros></a></h4><div class=paragraph><p>Nutzen Sie die Makros in <span class=filename>bsd.port.mk</span>, um korrekte Modi und Eigentümer von Dateien in Ihren <code>*-install</code>-Targets sicherzustellen.</p></div><div class=ulist><ul><li><p><code>INSTALL_PROGRAM</code> ist ein Befehl, um binäre Binärdateien zu installieren.</p></li><li><p><code>INSTALL_SCRIPT</code> ist ein Befehl, um ausführbare Skripte zu installieren.</p></li><li><p><code>INSTALL_LIB</code> ist ein Befehl zur Installation Shared-Libraries.</p></li><li><p><code>INSTALL_KLD</code> ist ein Befehl, mit dem Kernelmodule installiert werden können. Einige Architekturen haben Probleme mit stripped-Modulen. Daher sollten Sie diesen Befehl anstelle von <code>INSTALL_PROGRAM</code> verwenden.</p></li><li><p><code>INSTALL_DATA</code> ist ein Befehl, um gemeinsam nutzbare Daten zu installieren.</p></li><li><p><code>INSTALL_MAN</code> ist ein Befehl, um Manualpages oder andere Dokumentation zu installieren (es wird nichts komprimiert).</p></li></ul></div><div class=paragraph><p>Das sind grundsätzlich alle <code>install</code>-Befehle mit ihren passenden Flags.</p></div></div><div class=sect3><h4 id=install-strip>5.14.2. Zerlegen von Binärdateien und Shared-Libraries<a class=anchor href=#install-strip></a></h4><div class=paragraph><p>Zerlegen Sie keine Binärdateien manuell, wenn Sie es nicht müssen. Alle Binaries sollten gestripped werden; allerdings vermag das <code>INSTALL_PROGRAM</code>-Makro gleichzeitig eine Binärdatei zu installieren und zu strippen (beachten Sie den nächsten Abschnitt). Das Makro <code>INSTALL_LIB</code> erledigt das gleiche für Shared-Libraries.</p></div><div class=paragraph><p>Wenn Sie eine Datei strippen müssen, aber weder das <code>INSTALL_PROGRAM</code>- noch das <code>INSTALL_LIB</code>-Makro nutzen wollen, dann kann <code>${STRIP_CMD}</code> Ihr Programm strippen. Dies wird typischerweise innerhalb des <code>post-install</code>-Targets gemacht. Zum Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${STRIP_CMD} ${PREFIX}/bin/xdl</pre></div></div><div class=paragraph><p>Nutzen Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=file&amp;sektion=1&amp;format=html">file(1)</a> für die installierte Applikation, um zu überprüfen, ob eine Binärdatei gestripped ist oder nicht. Wenn es nicht meldet <code>not stripped</code>, dann ist es bereits gestripped. Zudem wird <a href="https://man.freebsd.org/cgi/man.cgi?query=strip&amp;sektion=1&amp;format=html">strip(1)</a> nicht ein bereits gestripptes Programm nochmals versuchen zu strippen, sondern wird stattdessen einfach sauber beenden.</p></div></div><div class=sect3><h4 id=install-copytree>5.14.3. Installation eines ganzen Verzeichnisbaums inklusive Dateien<a class=anchor href=#install-copytree></a></h4><div class=paragraph><p>Manchmal muss man eine große Zahl von Dateien unter Erhalt ihrer hierarchischen Struktur installieren, d.h. Kopieraktionen über einen ganzen Verzeichnisbaum von <code>WRKSRC</code> zu einem Zielverzeichnis unter <code>PREFIX</code>.</p></div><div class=paragraph><p>Für diesen Fall gibt es zwei Makros. Der Vorteil der Nutzung dieser Makros anstatt <code>cp</code> ist, dass sie korrekte Besitzer und Berechtigungen auf den Zieldateien garantieren. Das erste Makro, <code>COPYTREE_BIN</code>, wird alle installierten Dateien ausführbar markieren und damit passend für die Installation in <span class=filename>PREFIX/bin</span> vorbereiten. Das zweite Makro, <code>COPYTREE_SHARE</code>, setzt keine Ausführungsberechtigungen auf Dateien und ist daher geeignet für die Installation von Dateien im Target von <span class=filename>PREFIX/share</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${MKDIR} ${EXAMPLESDIR}
    (cd ${WRKSRC}/examples/ &amp;&amp; ${COPYTREE_SHARE} \* ${EXAMPLESDIR})</pre></div></div><div class=paragraph><p>Dieses Beispiel wird den Inhalt des <span class=filename>examples</span>-Verzeichnisses im Distfile des Drittanbieters in das Beispielverzeichnis Ihres Ports kopieren.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${MKDIR} ${DATADIR}/summer
    (cd ${WRKSRC}/temperatures/ &amp;&amp; ${COPYTREE_SHARE} &#34;June July August&#34; ${DATADIR}/summer/)</pre></div></div><div class=paragraph><p>Und dieses Beispiel wird die Daten der Sommermonate in das <span class=filename>summer</span>-Unterverzeichnis eines <span class=filename>DATADIR</span> installieren.</p></div><div class=paragraph><p>Zusätzliche <code>find</code>-Argumente können mit dem dritten Argument an die <code>COPYTREE_*</code>-Makros übergeben werden. Um zum Beispiel alle Dateien aus dem 1. Beispiel ohne die Makefiles zu installieren, kann man folgenden Befehl benutzen.</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    ${MKDIR} ${EXAMPLESDIR}
    (cd ${WRKSRC}/examples/ &amp;&amp; \
	${COPYTREE_SHARE} \* ${EXAMPLESDIR} &#34;! -name Makefile&#34;)</pre></div></div><div class=paragraph><p>Beachten Sie bitte, dass diese Makros die installierten Dateien nicht zur <span class=filename>pkg-plist</span> hinzufügen, Sie müssen sie immer noch selbst auflisten.</p></div></div><div class=sect3><h4 id=install-documentation>5.14.4. Installation zusätzlicher Dokumentation<a class=anchor href=#install-documentation></a></h4><div class=paragraph><p>Falls Ihre Software zusätzlich zu den üblichen Manualpages und Info-Seiten weitere Dokumentation hat und Sie diese für nützlich halten, dann installieren Sie sie unter <span class=filename>PREFIX/shared/doc</span>. Dies kann wie vorstehend im Target des <code>post-install</code> geschehen.</p></div><div class=paragraph><p>Legen Sie ein neues Verzeichnis für Ihren Port an. Das Verzeichnis sollte wiederspiegeln, was der Port ist. Das bedeutet normalerweise <code>PORTNAME</code>. Wie auch immer, wenn Sie meinen, der Nutzer möchte verschiedene Versionen des Ports zur gleichen Zeit installiert haben, dann können Sie die gesamte Variable <code>PKGNAME</code> nutzen.</p></div><div class=paragraph><p>Machen Sie die Installation von der Variablen <code>NOPORTDOCS</code> abhängig, damit die Nutzer sie in <span class=filename>/etc/make.conf</span> abschalten können:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
.if !defined(NOPORTDOCS)
    ${MKDIR} ${DOCSDIR}
    ${INSTALL_MAN} ${WRKSRC}/docs/xvdocs.ps ${DOCSDIR}
.endif</pre></div></div><div class=paragraph><p>Hier einige praktische Variablen und wie sie standardmässig bei Verwendung im <span class=filename>Makefile</span> expandiert werden:</p></div><div class=ulist><ul><li><p><code>DATADIR</code> wird expandiert zu <span class=filename>PREFIX/shared/PORTNAME</span>.</p></li><li><p><code>DATADIR_REL</code> wird expandiert zu <span class=filename>share/PORTNAME</span>.</p></li><li><p><code>DOCSDIR</code> wird expandiert zu <span class=filename>PREFIX/shared/doc/PORTNAME</span>.</p></li><li><p><code>DOCSDIR_REL</code> wird expandiert zu <span class=filename>share/doc/PORTNAME</span>.</p></li><li><p><code>EXAMPLESDIR</code> wird expandiert zu <span class=filename>PREFIX/shared/examples/PORTNAME</span>.</p></li><li><p><code>EXAMPLESDIR_REL</code> wird expandiert zu <span class=filename>share/examples/PORTNAME</span>.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>NOPORTDOCS</code> behandelt nur zusätzliche Dokumentation, die in <code>DOCSDIR</code> installiert ist. Für normale Manualpages und Info-Seiten wird die Variable benutzt. Dinge, welche in <code>DATADIR</code> und <code>EXAMPLESDIR</code> installiert werden, legen die Variablen <code>NOPORTDATA</code> und <code>NOPORTEXAMPLES</code> fest.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Die Variablen werden nach <code>PLIST_SUB</code> exportiert. Ihre Werte erscheinen dort als Pfadnamen relativ zu <span class=filename>PREFIX</span>, falls möglich. Das bedeutet, dass <span class=filename>share/doc/PORTNAME</span> standardmässig ersetzt wird durch <code>%%DOCSDIR%%</code> in der Packliste usw. (mehr zur Ersetzung durch die <span class=filename>pkg-plist</span> finden Sie <a href=#plist-sub>hier</a>).</p></div><div class=paragraph><p>Alle installierten Dokumentationsdateien und -Verzeichnisse sollten in der <span class=filename>pkg-plist</span> dem <code>%%PORTDOCS%%</code>-Präfix enthalten sein, zum Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
%%PORTDOCS%%%%DOCSDIR%%/CONTACT
%%PORTDOCS%%@dirrm %%DOCSDIR%%</pre></div></div><div class=paragraph><p>Alternativ zur Auflistung der Dokumentationsdateien in der <span class=filename>pkg-plist</span> kann in einem Port auch die Variable <code>PORTDOCS</code> gesetzt werden für eine Liste von Dateien und Shell-Globs, um diese zur endgültigen Packliste hinzuzufügen. Die Namen werden relativ zur Variable <code>DOCSDIR</code> sein. Wenn Sie also einen Port haben, welcher <code>PORTDOCS</code> benutzt, und Sie haben eine vom Standard abweichenden Platz für seine Dokumentation, dann müssen Sie die Variable <code>DOCSDIR</code> entsprechend setzen. Wenn ein Verzeichnis in <code>PORTDOCS</code> aufgeführt ist, oder von einem Shell-Glob dieser Variable abgebildet wird, dann wird der komplette Verzeichnisbaum inklusive Dateien und Verzeichnissen in der endgültigen Packliste aufgenommen. Wenn die Variable <code>NOPORTDOCS</code> gesetzt ist, dann werden die Dateien und Verzeichnisse, die in <code>PORTDOCS</code> aufgelistet sind, nicht installiert und werden auch nicht zur Packliste des Ports hinzugefügt. Wie oben gezeigt bleibt es dem Port selbst überlassen, die Dokumentation in <code>PORTDOCS</code> zu installieren. Ein typisches Beispiel für den Gebrauch von <code>PORTDOCS</code> sieht wie folgt aus:</p></div><div class="literalblock programlisting"><div class=content><pre>PORTDOCS=       README.* ChangeLog docs/*</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Die Äquivalente zu <code>PORTDOCS</code> für unter <code>DATADIR</code> und <code>EXAMPLESDIR</code> installierte Dateien sind <code>PORTDATA</code> beziehungsweise <code>PORTEXAMPLES</code>.</p></div><div class=paragraph><p>Sie können auch <span class=filename>pkg-message</span> benutzen, um Meldungen während der Installation anzuzeigen. Lesen Sie <a href=#porting-message>diesen Abschnitt über den Gebrauch von <span class=filename>pkg-message</span></a> für weitere Details. Die <span class=filename>pkg-message</span>-Datei muss nicht zur <span class=filename>pkg-plist</span> hinzugefügt werden.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=install-subdirs>5.14.5. Unterverzeichnisse mit PREFIX<a class=anchor href=#install-subdirs></a></h4><div class=paragraph><p>Lassen Sie den Port die Dateien in die richtigen Unterverzeichnisse von <code>PREFIX</code> verteilen. Einige Ports werfen alles in einen Topf und legen es im Unterverzeichnis mit dem Namen des Ports ab, was falsch ist. Ausserdem legen viele Ports alles ausser Binaries, Header-Dateien und Manualpages in ein Unterverzeichnis von <span class=filename>lib</span>, was natürlich auch nicht der BSD-Philosophie entspricht und nicht gut funktioniert. Viele der Dateien sollten in eines der folgenden Verzeichnisse geschoben werden: <span class=filename>etc</span> (Konfigurationsdateien), <span class=filename>libexec</span> (intern gestartete Binärdateien), <span class=filename>sbin</span> (Binärdateien für Superuser/Manager), <span class=filename>info</span> (Dokumentation für Info-Browser) oder <span class=filename>share</span> (Architektur-unabhängige Dateien). Lesen Sie hierzu <a href="https://man.freebsd.org/cgi/man.cgi?query=hier&amp;sektion=7&amp;format=html">hier(7)</a>; weitestgehend greifen die Regeln für <span class=filename>/usr</span> auch für <span class=filename>/usr/local</span>. Die Ausnahme sind Ports, welche mit "news" aus dem USENET arbeiten. In diesem Falle sollte <span class=filename>PREFIX/news</span> als Zielort für die Dateien benutzt werden.</p></div></div></div></div></div><div class=sect1><h2 id=special>Kapitel 6. Besonderheiten<a class=anchor href=#special></a></h2><div class=sectionbody><div class=paragraph><p>Es gibt einige Dinge mehr, die zu beachten sind, wenn man einen Port erstellt. Dieser Abschnitt erklärt die wichtigsten.</p></div><div class=sect2><h3 id=porting-shlibs>6.1. Shared-Libraries<a class=anchor href=#porting-shlibs></a></h3><div class=paragraph><p>Wenn Ihr Port eine oder mehrere Shared-Libraries installiert, dann definieren Sie bitte eine <code>USE_LDCONFIG</code> make-Variable, die <span class=filename>bsd.port.mk</span> anweisen wird, <code>${LDCONFIG} -m</code> auf das Verzeichnis, in das die neue Library installiert wird (normalerweise <span class=filename>PREFIX/lib</span>), während des <code>post-install</code>-Targets anzuwenden, um sie im Shared-Library-Cache zu registrieren. Diese Variable, wenn definiert, wird auch dafür sorgen, dass ein entsprechendes <code>@exec /sbin/ldconfig -m</code> und <code>@unexec /sbin/ldconfig -R</code>-Paar zu Ihrer <span class=filename>pkg-plist</span>-Datei hinzugefügt wird, sodass ein Benutzer, der das Paket installiert, die Bibliothek danach sofort benutzen kann und das System nach deren Deinstallation nicht glaubt, die Bibliothek wäre noch da.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_LDCONFIG= yes</pre></div></div><div class=paragraph><p>Wenn nötig, können Sie das Standardverzeichnis außer Kraft setzen, indem Sie den <code>USE_LDCONFIG</code> Wert auf eine Liste von Verzeichnissen setzen, in die Shared Libraries installiert werden sollen. Wenn Ihr Port z.B. diese Bibliotheken nach <span class=filename>PREFIX/lib/foo</span> und <span class=filename>PREFIX/lib/bar</span> installiert, könnten Sie folgendes in Ihrem <span class=filename>Makefile</span> benutzen:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_LDCONFIG= ${PREFIX}/lib/foo ${PREFIX}/lib/bar</pre></div></div><div class=paragraph><p>Bitte überprüfen Sie dies genau. Oft ist das überhaupt nicht nötig oder kann durch <code>-rpath</code> oder das Setzen von <code>LD_RUN_PATH</code> während des Linkens umgangen werden (s. <a class=package href=https://cgit.freebsd.org/ports/tree/lang/moscow_ml/>lang/moscow_ml</a> für ein Beispiel), oder durch einen Shell-Wrapper, der <code>LD_LIBRARY_PATH</code> setzt, bevor er die Binärdatei ausführt, wie es <a class=package href=https://cgit.freebsd.org/ports/tree/www/seamonkey/>www/seamonkey</a> tut.</p></div><div class=paragraph><p>Wenn Sie 32-Bit Libraries auf 64-Bit Systemen installieren, benutzen Sie stattdessen <code>USE_LDCONFIG32</code>.</p></div><div class=paragraph><p>Versuchen Sie Shared-Library-Versionsnummern im <span class=filename>libfoo.so.0</span> Format zu halten. Unser Runtime-Linker kümmert sich nur um die Major (erste) Nummer.</p></div><div class=paragraph><p>Wenn sich die Major-Library-Versionsnummer während der Aktualisierung zu einer neuen Portversion erhöht, sollte auch die <code>PORTREVISION</code> aller Ports, die die Shared-Library linken, erhöht werden, damit diese mit der neuen Version der Bibliothek neu kompiliert werden.</p></div></div><div class=sect2><h3 id=porting-restrictions>6.2. Ports mit beschränkter Verbreitung<a class=anchor href=#porting-restrictions></a></h3><div class=paragraph><p>Lizenzen variieren und manche geben Restriktionen vor, wie die Applikation gepackt werden oder ob sie gewinnorientiert verkauft werden kann, usw.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Es liegt in Ihrer Verantwortung als Porter die Lizenzbestimmungen der Software zu lesen und sicherzustellen, dass das FreeBSD-Projekt nicht haftbar gemacht wird für Lizenzverletzungen durch Weiterverbreitung des Quelltextes oder kompilierter Binaries über FTP/HTTP oder CD-ROM. Im Zweifelsfall kontaktieren Sie bitte die <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>In solchen Situationen können die in den folgenden Abschnitten beschriebenen Variablen gesetzt werden.</p></div><div class=sect3><h4 id=_no_package>6.2.1. <code>NO_PACKAGE</code><a class=anchor href=#_no_package></a></h4><div class=paragraph><p>Diese Variable zeigt an, dass wir keine binären Pakete dieser Applikation erzeugen dürfen - z.B. wenn die Lizenz die Weiterverteilung von binären Paketen oder Paketen verbietet, die aus verändertem Quelltext erzeugt wurden.</p></div><div class=paragraph><p>Die <code>DISTFILES</code> des Ports dürfen allerdings frei über FTP/HTTP Mirrors weiterverbreitet werden. Sie dürfen auch auf CD-ROM (oder ähnlichen Medien) weiterverbreitet werden - es sei denn, <code>NO_CDROM</code> ist ebenfalls gesetzt.</p></div><div class=paragraph><p><code>NO_PACKAGE</code> sollte auch benutzt werden, wenn das binäre Paket nicht allgemein brauchbar ist und die Applikation immer aus dem Quelltext kompiliert werden sollte. Zum Beispiel, wenn die Applikation konfigurierte Informationen über den Rechner/Installationsort bei der Installation einkompiliert bekommt, setzen Sie <code>NO_PACKAGE</code>.</p></div><div class=paragraph><p><code>NO_PACKAGE</code> sollte auf eine Zeichenkette gesetzt werden, die den Grund beschreibt, warum kein Paket erzeugt werden soll.</p></div></div><div class=sect3><h4 id=_no_cdrom>6.2.2. <code>NO_CDROM</code><a class=anchor href=#_no_cdrom></a></h4><div class=paragraph><p>Diese Variable gibt an, dassobwohl wir binäre Pakete erzeugen dürfen - wir weder diese Pakete noch die <code>DISTFILES</code> des Ports auf einer CD-ROM (oder ähnlichen Medien) verkaufen dürfen. Die <code>DISTFILES</code> des Ports dürfen allerdings immer noch auf FTP/HTTP Mirrors.</p></div><div class=paragraph><p>Wenn diese Variable und auch <code>NO_PACKAGE</code> gesetzt ist, dann werden nur die <code>DISTFILES</code> des Ports erhältlich sein - und das nur mittels FTP/HTTP.</p></div><div class=paragraph><p><code>NO_CDROM</code> sollte auf eine Zeichenkette gesetzt werden, die den Grund beschreibt, warum der Port nicht auf CD-ROM weiterverbreitet werden kann. Das sollte z.B. gemacht werden, wenn die Lizenz des Ports nur für "nichtkommerzielle Zwecke" gilt.</p></div></div><div class=sect3><h4 id=_nofetchfiles>6.2.3. <code>NOFETCHFILES</code><a class=anchor href=#_nofetchfiles></a></h4><div class=paragraph><p>Dateien, die in der Variable <code>NOFETCHFILES</code> aufgelistet sind, sind von keiner der <code>MASTER_SITES</code> abrufbar. Ein Beispiel solch einer Datei ist eine selbige, welche vom Anbieter auf CD-ROM bereitgestellt wird.</p></div><div class=paragraph><p>Werkzeuge, die das Vorhandensein dieser Dateien auf den <code>MASTER_SITES</code> überprüfen, sollten diese Dateien ignorieren und sie nicht melden.</p></div></div><div class=sect3><h4 id=_restricted>6.2.4. <code>RESTRICTED</code><a class=anchor href=#_restricted></a></h4><div class=paragraph><p>Setzen Sie diese Variable, wenn die Lizenz der Applikation weder das Spiegeln der <code>DISTFILES</code> der Applikation noch das Weiterverbreiten von binären Paketen in jedweder Art erlaubt.</p></div><div class=paragraph><p><code>NO_CDROM</code> oder <code>NO_PACKAGE</code> sollten nicht zusammen mit <code>RESTRICTED</code> gesetzt werden, weil letztere Variable die anderen beiden impliziert.</p></div><div class=paragraph><p><code>RESTRICTED</code> sollte auf eine Zeichenkette gesetzt werden, die den Grund beschreibt, warum der Port nicht weiterverbreitet werden kann. Typischerweise besagt dies, dass der Port proprietäre Software enthält und der Benutzer die <code>DISTFILES</code> manuell herunterladen muss - möglicherweise erst nachdem er sich für die Software registriert oder die Bedingungen eines Endbenutzer-Lizenzvertrags (EULA) akzeptiert hat.</p></div></div><div class=sect3><h4 id=_restricted_files>6.2.5. <code>RESTRICTED_FILES</code><a class=anchor href=#_restricted_files></a></h4><div class=paragraph><p>Wenn <code>RESTRICTED</code> oder <code>NO_CDROM</code> gesetzt ist, ist diese Variable auf <code>${DISTFILES} ${PATCHFILES}</code> voreingestellt, sonst ist sie leer. Wenn nicht jede dieser Dateien beschränkt ist, dann führen Sie die betroffenen Dateien in dieser Variable auf.</p></div><div class=paragraph><p>Beachten Sie, dass der Porter für jede aufgeführte Distributionsdatei einen Eintrag zu <span class=filename>/usr/ports/LEGAL</span> hinzufügen sollte, der genau beschreibt, was die Beschränkung mit sich bringt.</p></div></div></div><div class=sect2><h3 id=building>6.3. Build-Mechanismen<a class=anchor href=#building></a></h3><div class=sect3><h4 id=parallel-builds>6.3.1. Paralleles Bauen von Ports<a class=anchor href=#parallel-builds></a></h4><div class=paragraph><p>Das Ports-Framework von FreeBSD unterstützt das parallele Bauen von Ports, indem es mehrere <code>make</code>-Instanzen ausführt, damit SMP-Systeme ihre gesamte CPU-Rechenleistung ausnützen können und so das Bauen von Ports schneller und effektiver werden kann.</p></div><div class=paragraph><p>Dies ermöglicht der Parameter <code>-jX</code> an <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a>, wenn Code von Drittanbietern kompiliert wird. Leider können nicht alle Ports wirklich gut mit dem Parallelbau umgehen. Deshalb ist es erforderlich, dass dieses Feature explizit durch <code>MAKE_JOBS_SAFE=yes</code> irgendwo unterhalb des Abschnitts für Abhängigkeiten im <span class=filename>Makefile</span> aktiviert wird.</p></div><div class=paragraph><p>Eine weitere Möglichkeit im Umgang mit dieser Option besteht für den Maintainer darin, <code>MAKE_JOBS_UNSAFE=yes</code> zu setzen. Diese Variable wird dann verwendet, wenn ein Port bekannterweise mit <code>-jX</code> nicht gebaut werden kann, der Benutzer jedoch für alle Ports den Mehrprozessorbau durch <code>FORCE_MAKE_JOBS=yes</code> in <span class=filename>/etc/make.conf</span> erzwingt.</p></div></div><div class=sect3><h4 id=using-make>6.3.2. <code>make</code>, <code>gmake</code> und <code>imake</code><a class=anchor href=#using-make></a></h4><div class=paragraph><p>Wenn Ihr Port GNU make benutzt, dann setzen Sie bitte <code>USE_GMAKE=yes</code>.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 4. Port-Variablen im Zusammenhang mit gmake</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_GMAKE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt <code>gmake</code> für den Build.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GMAKE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der ganze Pfad zu <code>gmake</code>, wenn es nicht im <code>PATH</code> ist.</p></td></tr></tbody></table><div class=paragraph><p>Wenn Ihr Port eine X-Applikation ist, die <span class=filename>Makefile</span>-Dateien aus <span class=filename>Imakefile</span>-Dateien mit imake erzeugt, dann setzen Sie <code>USE_IMAKE=yes</code>. Das sorgt dafür, dass die Konfigurationsphase automatisch ein <code>xmkmf -a</code> ausführt. Wenn das Flag <code>-a</code> ein Problem für Ihren Port darstellt, setzen Sie <code>XMKMF=xmkmf</code>. Wenn der Port imake benutzt, aber das <code>install.man</code>-Target nicht versteht, dann sollte <code>NO_INSTALL_MANPAGES=yes</code> gesetzt werden.</p></div><div class=paragraph><p>Wenn das <span class=filename>Makefile</span> im Quelltext Ihres Ports etwas anderes als <code>all</code> als Haupt-Build-Target hat, setzen Sie <code>ALL_TARGET</code> entsprechend. Das Gleiche gilt für <code>install</code> und <code>INSTALL_TARGET</code>.</p></div></div><div class=sect3><h4 id=using-configure>6.3.3. <code>configure</code> Skript<a class=anchor href=#using-configure></a></h4><div class=paragraph><p>Wenn Ihr Port ein <code>configure</code>-Skript benutzt, um <span class=filename>Makefile</span>-Dateien aus <span class=filename>Makefile.in</span>-Dateien zu erzeugen, setzen Sie <code>GNU_CONFIGURE=yes</code>. Wenn Sie dem <code>configure</code>-Skript zusätzliche Argumente übergeben wollen (das Vorgabeargument ist <code>--prefix=${PREFIX} --infodir=${PREFIX}/${INFO_PATH} --mandir=${MANPREFIX}/man --build=${CONFIGURE_TARGET}</code>), setzen Sie diese zusätzlichen Argumente in <code>CONFIGURE_ARGS</code>. Zusätzliche Umgebungsvariablen können überdie Variable <code>CONFIGURE_ENV</code> übergeben werden.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 5. Variablen für Ports, die <code>configure</code> benutzen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>GNU_CONFIGURE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt ein <code>configure</code>-Skript, um das Bauen vorzubereiten.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>HAS_CONFIGURE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Wie <code>GNU_CONFIGURE</code>, nur dass kein Standard-Konfigurations-Target zu <code>CONFIGURE_ARGS</code> hinzugefügt wird.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CONFIGURE_ARGS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zusätzliche Argumente für das <code>configure</code>-Skript.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CONFIGURE_ENV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zusätzliche Umgebungsvariablen für die Abarbeitung des <code>configure</code>-Skriptes.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CONFIGURE_TARGET</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ersetzt das Standard-Konfigurations-Target. Vorgabewert ist <code>${MACHINE_ARCH}-portbld-freebsd${OSREL}</code>.</p></td></tr></tbody></table></div><div class=sect3><h4 id=using-scons>6.3.4. Benutzung von <code>scons</code><a class=anchor href=#using-scons></a></h4><div class=paragraph><p>Wenn Ihr Port SCons benutzt, definieren Sie <code>USE_SCONS=yes</code>.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 6. Variablen für Ports, die <code>scons</code> benutzen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SCONS_ARGS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Port-spezifische SCons-Argumente, die der SCons-Umgebung übergeben werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SCONS_BUILDENV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Variablen, die in der System-Umgebung gesetzt werden sollen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SCONS_ENV</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Variablen, die in der SCons-Umgebung gesetzt werden sollen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SCONS_TARGET</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Letztes Argument, das SCons übergeben wird - ähnlich <code>MAKE_TARGET</code>.</p></td></tr></tbody></table><div class=paragraph><p>Um <span class=filename>SConstruct</span> im Quelltext alles, was SCons in <code>SCONS_ENV</code> übergeben wird, respektieren zu lassen (das ist hauptsächlich <code>CC/CXX/CFLAGS/CXXFLAGS</code>), patchen Sie <span class=filename>SConstruct</span>, sodass das Build <code>Environment</code> wie folgt konstruiert wird:</p></div><div class="literalblock programlisting"><div class=content><pre>env = Environment(**ARGUMENTS)</pre></div></div><div class=paragraph><p>Es kann dann mit <code>env.Append</code> und <code>env.Replace</code> modifiziert werden.</p></div></div></div><div class=sect2><h3 id=using-autotools>6.4. Benutzung von GNU autotools<a class=anchor href=#using-autotools></a></h3><div class=sect3><h4 id=using-autotools-introduction>6.4.1. Einführung<a class=anchor href=#using-autotools-introduction></a></h4><div class=paragraph><p>Die verschiedenen GNU autotools stellen einen Abstraktionsmechanismus bereit für das Kompilieren von Software für eine Vielfalt von Betriebssystemen und Maschinenarchitekturen. Innerhalb der Ports-Sammlung kann ein einzelner Port diese Werkzeuge mit Hilfe eines einfachen Konstrukts benutzen:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_AUTOTOOLS= tool:version[:operation] ...</pre></div></div><div class=paragraph><p>Als dies geschrieben wurde konnte <em>tool</em> eins von <code>libtool</code>, <code>libltdl</code>, <code>autoconf</code>, <code>autoheader</code>, <code>automake</code> oder <code>aclocal</code> sein.</p></div><div class=paragraph><p><em>version</em> gibt die einzelne Werkzeug-Revision an, die benutzt werden soll (siehe <code>devel/{automake,autoconf,libtool}[0-9]+</code> für mögliche Versionen).</p></div><div class=paragraph><p><em>operation</em> ist eine optionale Angabe, die modifiziert, wie das Werkzeug benutzt wird.</p></div><div class=paragraph><p>Es können auch mehrere Werkzeuge angegeben werden - entweder durch Angabe aller in einer einzigen Zeile oder durch Benutzung des <code>+=</code> Makefile-Konstrukts.</p></div><div class=paragraph><p>Schliesslich gibt es das spezielle Tool, genannt <code>autotools</code>, das der Einfachheit dient indem es von alle verfügbaren Versionen der Autotools abhängt, was sinnvoll für Cross-Development ist. Dies kann auch erreicht werden, indem man den Port <code>devel/autotools</code> installiert.</p></div></div><div class=sect3><h4 id=using-libtool>6.4.2. <code>libtool</code><a class=anchor href=#using-libtool></a></h4><div class=paragraph><p>Shared-Libraries, die das GNU Build-System benutzen, verwenden normalerweise <code>libtool</code>, um die Kompilierung und Installation solcher Bibliotheken anzupassen. Die übliche Praxis ist, eine Kopie von <code>libtool</code>, die mit dem Quelltext geliefert wird, zu benutzen. Falls Sie ein externes <code>libtool</code> benötigen, können Sie die Version, die von der Ports-Sammlung bereitgestellt wird, benutzen:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_AUTOTOOLS= libtool:version[:env]</pre></div></div><div class=paragraph><p>Ohne zusätzliche Angaben sagt <code>libtool:version</code> dem Build-System, dass es das Konfigurationsskript mit der auf dem System installierten Kopie von <code>libtool</code> patchen soll. Die Variable <code>GNU_CONFIGURE</code> ist impliziert. Außerdem werden einige make- und shell-Variablen zur weiteren Benutzung durch den Port gesetzt. Für Genaueres siehe <span class=filename>bsd.autotools.mk</span>.</p></div><div class=paragraph><p>Mit der Angabe <code>:env</code> wird nur die Umgebung vorbereitet.</p></div><div class=paragraph><p>Schließlich können optional <code>LIBTOOLFLAGS</code> und <code>LIBTOOLFILES</code> gesetzt werden, um die häufigsten Argumente und durch <code>libtool</code> gepatchten Dateien außer Kraft zu setzen. Die meisten Ports werden das aber nicht brauchen. Für Weiteres siehe <span class=filename>bsd.autotools.mk</span>.</p></div></div><div class=sect3><h4 id=using-libltdl>6.4.3. <code>libltdl</code><a class=anchor href=#using-libltdl></a></h4><div class=paragraph><p>Einige Ports benutzen das <code>libltdl</code>-Bibliothekspaket, welches Teil der <code>libtool</code>-Suite ist. Der Gebrauch dieser Bibliothek macht nicht automatisch den Gebrauch von <code>libtool</code> selbst nötig, deshalb wird ein separates Konstrukt zur Verfügung gestellt.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_AUTOTOOLS= libltdl:version</pre></div></div><div class=paragraph><p>Im Moment sorgt dies nur für eine <code>LIB_DEPENDS</code>-Abhängigkeit von dem entsprechenden <code>libltdl</code>-Port und wird zur Vereinfachung zur Verfügung gestellt, um Abhängigkeiten von den Autotools-Ports ausserhalb des <code>USE_AUTOTOOLS</code>-Systems zu eliminieren. Es gibt keine weiteren Angaben für dieses Werkzeug.</p></div></div><div class=sect3><h4 id=using-autoconf>6.4.4. <code>autoconf</code> und <code>autoheader</code><a class=anchor href=#using-autoconf></a></h4><div class=paragraph><p>Manche Ports enthalten kein Konfigurationsskript, sondern eine autoconf-Vorlage in der <span class=filename>configure.ac</span>-Datei. Sie können die folgenden Zuweisungen benutzen, um <code>autoconf</code> das Konfigurationsskript erzeugen zu lassen, und auch <code>autoheader</code> Header-Vorlagen zur Benutzung durch das Konfigurationsskript erzeugen zu lassen.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_AUTOTOOLS=    autoconf:version[:env]</pre></div></div><div class=paragraph><p>und</p></div><div class="literalblock programlisting"><div class=content><pre>USE_AUTOTOOLS=    autoheader:version</pre></div></div><div class=paragraph><p>welches auch die Benutzung von <code>autoconf:version</code> impliziert.</p></div><div class=paragraph><p>Ähnlich wie bei <code>libtool</code>, bereitet die Angabe des optionalen <code>:env</code> nur die Umgebung für weitere Benutzung vor. Ohne dieses wird der Port auch gepatched und erneut konfiguriert.</p></div><div class=paragraph><p>Die zusätzlichen optionalen Variablen <code>AUTOCONF_ARGS</code> und <code>AUTOHEADER_ARGS</code> können durch das <span class=filename>Makefile</span> des Ports ausser Kraft gesetzt werden, wenn erforderlich. Wie bei den <code>libtool</code>-Äquivalenten werden die meisten Ports dies aber nicht benötigen.</p></div></div><div class=sect3><h4 id=using-automake>6.4.5. <code>automake</code> und <code>aclocal</code><a class=anchor href=#using-automake></a></h4><div class=paragraph><p>Manche Pakete enthalten nur <span class=filename>Makefile.am</span>-Dateien. Diese müssen durch <code>automake</code> in <span class=filename>Makefile.in</span>-Dateien konvertiert und dann durch <code>configure</code> weiterbearbeitet werden, um schließlich ein <span class=filename>Makefile</span> zu erzeugen.</p></div><div class=paragraph><p>Ähnliches gilt für Pakete, die gelegentlich keine <span class=filename>aclocal.m4</span>-Dateien mitliefern, welche ebenfalls zum Erstellen der Software benötigt werden. Diese können durch <code>aclocal</code> erzeugt werden, welches <span class=filename>configure.ac</span> oder <span class=filename>configure.in</span> durchsucht.</p></div><div class=paragraph><p><code>aclocal</code> hat eine ähnliche Beziehung zu <code>automake</code> wie <code>autoheader</code> zu <code>autoconf</code> - beschrieben im vorherigen Abschnitt. <code>aclocal</code> impliziert die Benutzung von <code>automake</code>, also haben wir:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_AUTOTOOLS=    automake:version[:env]</pre></div></div><div class=paragraph><p>und</p></div><div class="literalblock programlisting"><div class=content><pre>USE_AUTOTOOLS=    aclocal:version</pre></div></div><div class=paragraph><p>was auch die Benutzung von <code>automake:version</code> impliziert.</p></div><div class=paragraph><p>Ähnlich wie bei <code>libtool</code> und <code>autoconf</code>, bereitet die optionale Angabe <code>:env</code> nur die Umgebung zur weiteren Benutzung vor. Ohne sie wird der Port erneut konfiguriert.</p></div><div class=paragraph><p>Wie schon <code>autoconf</code> und <code>autoheader</code>, hat sowohl <code>automake</code> als auch <code>aclocal</code> eine optionale Argument-Variable <code>AUTOMAKE_ARGS</code> bzw. <code>ACLOCAL_ARGS</code>, die durch das <span class=filename>Makefile</span> des Ports, falls nötig, außer Kraft gesetzt werden kann.</p></div></div></div><div class=sect2><h3 id=using-gettext>6.5. Benutzung von GNU <code>gettext</code><a class=anchor href=#using-gettext></a></h3><div class=sect3><h4 id=_grundlegende_benutzung>6.5.1. Grundlegende Benutzung<a class=anchor href=#_grundlegende_benutzung></a></h4><div class=paragraph><p>Wenn Ihr Port <code>gettext</code> benötigt, setzen Sie einfach <code>USE_GETTEXT</code> auf <code>yes</code>, und Ihr Port bekommt die Abhängigkeit von <a class=package href=https://cgit.freebsd.org/ports/tree/devel/gettext/>devel/gettext</a>. Der Wert von <code>USE_GETTEXT</code> kann auch die benötigte Version der <code>libintl</code>-Bibliothek angeben, der grundlegenden Teil von <code>gettext</code> - jedoch wird von der Benutzung dieser Funktion <em>dringend abgeraten</em>: Ihr Port sollte einfach nur mit der aktuellen Version von <a class=package href=https://cgit.freebsd.org/ports/tree/devel/gettext/>devel/gettext</a> funktionieren.</p></div><div class=paragraph><p>Ein ziemlich häufiger Fall ist, dass ein Port <code>gettext</code> und <code>configure</code> benutzt. Normalerweise sollte GNU <code>configure gettext</code> automatisch finden können. Sollte das einmal nicht funktionieren, können Hinweise über den Ort von <code>gettext</code> in <code>CPPFLAGS</code> und <code>LDFLAGS</code> wie folgt übergeben werden:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GETTEXT=    yes
CPPFLAGS+=      -I${LOCALBASE}/include
LDFLAGS+=       -L${LOCALBASE}/lib

GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS=&#34;${CPPFLAGS}&#34; \
	        LDFLAGS=&#34;${LDFLAGS}&#34;</pre></div></div><div class=paragraph><p>Natürlich kann der Code kompakter sein, wenn es keine weiteren Flags gibt, die <code>configure</code> übergeben werden müssen:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_GETTEXT=    yes
GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS=&#34;-I${LOCALBASE}/include&#34; \
	        LDFLAGS=&#34;-L${LOCALBASE}/lib&#34;</pre></div></div></div><div class=sect3><h4 id=_optionale_benutzung>6.5.2. Optionale Benutzung<a class=anchor href=#_optionale_benutzung></a></h4><div class=paragraph><p>Manche Softwareprodukte erlauben die Deaktivierung von NLS - z.B. durch Übergeben von <code>--disable-nls</code> an <code>configure</code>. In diesem Fall sollte Ihr Port <code>gettext</code> abhängig vom Status von <a href=#knobs-without-nls><code>WITHOUT_NLS</code></a> benutzen. Für Ports mit niedriger bis mittlerer Komplexität können Sie sich auf das folgende Idiom verlassen:</p></div><div class="literalblock programlisting"><div class=content><pre>GNU_CONFIGURE=          yes

.if !defined(WITHOUT_NLS)
USE_GETTEXT=            yes
PLIST_SUB+=             NLS=&#34;&#34;
.else
CONFIGURE_ARGS+=        --disable-nls
PLIST_SUB+=             NLS=&#34;@comment &#34;
.endif</pre></div></div><div class=paragraph><p>Der nächste Punkt auf Ihrer Todo-Liste ist dafür zu sorgen, dass die Message-Catalog-Dateien nur bedingt in der Packliste aufgeführt werden. Der <span class=filename>Makefile</span>-Teil dieser Aufgabe ist schon durch obiges Idiom erledigt. Das wird im Abschnitt über <a href=#plist-sub>Fortgeschrittene <span class=filename>pkg-plist</span>-Methoden</a> erklärt. Kurz gesagt, jedes Vorkommen von <code>%%NLS%%</code> in <span class=filename>pkg-plist</span> wird durch “@comment”, wenn NLS abgeschaltet ist, oder durch eine leere Zeichenkette, wenn NLS aktiviert ist, ersetzt. Folglich werden die Zeilen, denen <code>%%NLS%%</code> vorangestellt ist, zu reinen Kommentaren in der endgültigen Packliste, wenn NLS abgeschaltet ist; andernfalls wird der Prefix einfach nur ausgelassen. Alles, was Sie jetzt noch machen müssen, ist <code>%%NLS%%</code> vor jedem Pfad zu einer Message-Catalog-Datei in <span class=filename>pkg-plist</span> einzufügen. Zum Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>%%NLS%%share/locale/fr/LC_MESSAGES/foobar.mo
%%NLS%%share/locale/no/LC_MESSAGES/foobar.mo</pre></div></div><div class=paragraph><p>In sehr komplexen Fällen müssen Sie eventuell fortgeschrittenere Techniken als die hier vorgestellte benutzen - wie z.B. <a href=#plist-dynamic>Dynamische Packlistenerzeugung</a>.</p></div></div><div class=sect3><h4 id=_behandlung_von_message_catalog_verzeichnissen>6.5.3. Behandlung von Message-Catalog-Verzeichnissen<a class=anchor href=#_behandlung_von_message_catalog_verzeichnissen></a></h4><div class=paragraph><p>Bei der Installation von Message-Catalog-Dateien gibt es einen Punkt zu beachten. Ihr Zielverzeichnis, das unter <span class=filename>LOCALBASE/shared/locale</span> liegt, sollte nur selten von Ihrem Port erzeugt und gelöscht werden. Die Verzeichnisse für die gebräuchlichsten Sprachen sind in <span class=filename>/etc/mtree/BSD.local.dist</span> aufgelistet; das heisst, sie sind Teil des Systems. Die Verzeichnisse für viele andere Sprachen sind Teil des Ports <a class=package href=https://cgit.freebsd.org/ports/tree/devel/gettext/>devel/gettext</a>. Sie wollen vielleicht dessen <span class=filename>pkg-plist</span> zur Hand nehmen, um festzustellen, ob Ihr Port eine Message-Catalog-Datei für eine seltene Sprache installiert.</p></div></div></div><div class=sect2><h3 id=using-perl>6.6. Die Benutzung von <code>perl</code><a class=anchor href=#using-perl></a></h3><div class=paragraph><p>Wenn <code>MASTER_SITES</code> auf <code>MASTER_SITE_PERL_CPAN</code> gesetzt ist, dann ist der bevorzugte Wert von <code>MASTER_SITE_SUBDIR</code> der Top-Level-Name der Hierarchie. Zum Beispiel ist der empfohlene Wert für <code>p5-Module-Name</code>-<code>Module</code>. Die Top-Level-Hierarchie kann unter <a href=http://cpan.org/modules/by-module/>cpan.org</a> angeschaut werden. Dies sorgt dafür, dass der Port weiter funktioniert, wenn sich der Autor des Moduls ändert.</p></div><div class=paragraph><p>Die Ausnahme dieser Regel ist, dass das entsprechende Verzeichnis selber oder das Distfile in diesem Verzeichnis nicht existiert. In solchen Fällen ist die Benutzung der Id des Autors als <code>MASTER_SITE_SUBDIR</code> erlaubt.</p></div><div class=paragraph><p>Jede der Einstellungen unten kann sowohl auf <code>YES</code> als auch auf eine Versionszeichenkette wie <code>5.8.0+</code> gesetzt werden. Wenn <code>YES</code> benutzt wird, bedeutet das, dass der Port mit jeder der unterstützten Perl-Versionen funktioniert. Falls ein Port nur mit einer bestimmten Perl-Version funktioniert, kann darauf mit einer Versionszeichenkette hingewiesen werden, die entweder eine Mindest- (z.B. <code>5.7.3+</code>), Maximal- (z.B. <code>5.8.0-</code>) oder Absolutversion (z.B. <code>5.8.3</code>) festlegt.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 7. Variablen für Ports, die <code>perl</code> benutzen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PERL5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bedeutet, dass der Port <code>perl 5</code> zum Erstellen und zum Ausführen benutzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PERL5_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bedeutet, dass der Port <code>perl 5</code> zum Erstellen benutzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PERL5_RUN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bedeutet, dass der Port <code>perl 5</code> zur Laufzeit benutzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PERL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der gesamte Pfad zu <code>perl 5</code> - entweder im Basissystem oder nachinstalliert über einen Port - ohne die Versionsnummer. Benutzen Sie diese Variable, wenn Sie “#!”-Zeilen in Skripten ersetzen müssen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PERL_CONFIGURE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Perls MakeMaker für die Konfiguration benutzen. Dies impliziert <code>USE_PERL5</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PERL_MODBUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Module::Build für configure, build und install benutzen. Dies impliziert <code>PERL_CONFIGURE</code>.</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ports von Perl-Modulen, die keine offizielle Webseite haben, sollen in der WWW-Zeile ihrer <span class=filename>pkg-descr</span>-Datei auf <code>cpan.org</code> verlinken. Die bevorzugte URL-Form ist <code><a href=http://search.cpan.org/dist/Module-Name/ class=bare>http://search.cpan.org/dist/Module-Name/</a></code> (inklusive des Slash am Ende).</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=using-x11>6.7. Benutzung von X11<a class=anchor href=#using-x11></a></h3><div class=sect3><h4 id=x11-variables>6.7.1. X.Org-Komponenten<a class=anchor href=#x11-variables></a></h4><div class=paragraph><p>Die X11-Implementierung, welche die Ports-Sammlung bereitstellt, ist X.Org. Wenn Ihre Applikation von X-Komponenten abhängt, listen Sie die benötigten Komponenten in <code>USE_XORG</code> auf. Als dies geschrieben wurde, wurden die folgenden Komponenten bereitgestellt:</p></div><div class=paragraph><p><code>bigreqsproto compositeproto damageproto dmx dmxproto evieproto fixesproto fontcacheproto fontenc fontsproto fontutil glproto ice inputproto kbproto libfs oldx printproto randrproto recordproto renderproto resourceproto scrnsaverproto sm trapproto videoproto x11 xau xaw xaw6 xaw7 xaw8 xbitmaps xcmiscproto xcomposite xcursor xdamage xdmcp xevie xext xextproto xf86bigfontproto xf86dgaproto xf86driproto xf86miscproto xf86rushproto xf86vidmodeproto xfixes xfont xfontcache xft xi xinerama xineramaproto xkbfile xkbui xmu xmuu xorg-server xp xpm xprintapputil xprintutil xpr oto xproxymngproto xrandr xrender xres xscrnsaver xt xtrans xtrap xtst xv xvmc xxf86dga xxf86misc xxf86vm</code>.</p></div><div class=paragraph><p>Die aktuelle Liste finden Sie immer in <span class=filename>/usr/ports/Mk/bsd.xorg.mk</span>.</p></div><div class=paragraph><p>Das Mesa Projekt ist ein Versuch, eine freie OpenGL Implementierung bereitzustellen. Sie können eine Abhängigkeit von verschiedenen Komponenten diese Projektes in der Variable <code>USE_GL</code> spezifizieren. ouml;gliche Optionen sind: <code>glut, glu, glw, glew, gl</code> und <code>linux</code>. Für Abwärtskompatibilität gilt der Wert <code>yes</code> als <code>glu</code>.</p></div><div id=use-xorg-example class=exampleblock><div class=title>Beispiel 12. Beispiel für USE_XORG</div><div class=content><div class="literalblock programlisting"><div class=content><pre>USE_XORG=   xrender xft xkbfile xt xaw
USE_GL=     glu</pre></div></div></div></div><div class=paragraph><p>Viele Ports definieren <code>USE_XLIB</code>, was dafür sorgt, dass der Port von allen (rund 50) Bibliotheken abhängt. Diese Variable existiert, um Abwärtskompatibilität sicherzustellen (sie stammt noch aus der Zeit vor dem modularem X.Org), und sollte bei neuen Ports nicht mehr benutzt werden.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 8. Variablen für Ports, die X benutzen</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_XLIB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt die X-Bibliotheken. Soll nicht mehr verwendet werden - benutzen Sie stattdessen eine Liste von Komponenten in <code>USE_XORG</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_X_PREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Soll nicht mehr benutzt werden, ist jetzt äquivalent zu <code>USE_XLIB</code> und kann einfach durch letzteres ersetzt werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_IMAKE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt <code>imake</code>. Impliziert <code>USE_X_PREFIX</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>XMKMF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ist auf den Pfad zu <code>xmkmf</code> gesetzt, wenn nicht in <code>PATH</code>. Vorgabe ist <code>xmkmf -a</code>.</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 9. Variablen bei Abhängigkeit von einzelnen Teilen von X11</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_IMAKE_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der <code>imake</code> und einige andere Werkzeuge, die zum Erstellen von X11 benutzt werden, bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_LIBRARIES_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der die X11-Bibliotheken bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_CLIENTS_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der X11-Clients bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_SERVER_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der den X11-Server bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTSERVER_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der den Fontserver bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_PRINTSERVER_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der den Printserver bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_VFBSERVER_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der den virtuellen Framebuffer-Server bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_NESTSERVER_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der einen nested X-Server bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTS_ENCODINGS_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der Kodierungen für Schriftarten bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTS_MISC_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der verschiedene Bitmap-Schriftarten bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTS_100DPI_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der 100dpi Bitmap-Schriftarten bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTS_75DPI_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der 75dpi Bitmap-Schriftarten bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTS_CYRILLIC_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der kyrillische Bitmap-Schriftarten bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTS_TTF_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der TrueType®-Schriftarten bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_FONTS_TYPE1_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der Type1-Schriftarten bereitstellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>X_MANUALS_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Port, der entwicklerorientierte Manualpages bereitstellt.</p></td></tr></tbody></table><div id=using-x11-vars class=exampleblock><div class=title>Beispiel 13. Benutzung von X11-bezogenen Variablen in einem Port</div><div class=content><div class="literalblock programlisting"><div class=content><pre># Port benutzt X11-Bibliotheken und hängt vom Font-Server sowie
# von kyrillischen Schriftarten ab.
RUN_DEPENDS=   ${LOCALBASE}/bin/xfs:${X_FONTSERVER_PORT} \
               ${LOCALBASE}/lib/X11/fonts/cyrillic/crox1c.pcf.gz:${X_FONTS_CYRILLIC_PORT}

USE_XORG=      x11 xpm</pre></div></div></div></div></div><div class=sect3><h4 id=x11-motif>6.7.2. Ports, die Motif benötigen<a class=anchor href=#x11-motif></a></h4><div class=paragraph><p>Wenn Ihr Port eine Motif-Bibliothek benötigt, definieren Sie <code>USE_MOTIF</code> im <span class=filename>Makefile</span>. Die Standard-Motif-Implementierung ist <a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/open-motif/>x11-toolkits/open-motif</a>. Benutzer können stattdessen <a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/lesstif/>x11-toolkits/lesstif</a> wählen, indem Sie die <code>WANT_LESSTIF</code>-Variable setzen.</p></div><div class=paragraph><p>Die Variable <code>MOTIFLIB</code> wird von <span class=filename>bsd.port.mk</span> auf die entsprechende Motif-Bibliothek gesetzt. Bitte patchen Sie den Quelltext Ihres Ports, sodass er überall <code>${MOTIFLIB}</code> benutzt, wo die Motif-Bibliothek im Original <span class=filename>Makefile</span> oder <span class=filename>Imakefile</span> referenziert wird.</p></div><div class=paragraph><p>Es gibt zwei verbreitete Fälle:</p></div><div class=ulist><ul><li><p>Wenn sich der Port in seinem <span class=filename>Makefile</span> oder <span class=filename>Imakefile</span> auf die Motif-Bibliothek als <code>-lXm</code> bezieht, ersetzen Sie das einfach durch <code>${MOTIFLIB}</code>.</p></li><li><p>Wenn der Port in seinem <span class=filename>Imakefile</span><code>XmClientLibs</code> benutzt, ersetzen Sie das durch <code>${MOTIFLIB} ${XTOOLLIB} ${XLIB}</code>.</p></li></ul></div><div class=paragraph><p>Anmerkung: <code>MOTIFLIB</code> expandiert (normalerweise) zu <code>-L/usr/X11R6/lib -lXm</code> oder <code>/usr/X11R6/lib/libXm.a</code> - d.h. Sie müssen kein <code>-L</code> oder <code>-l</code> davor einfügen.</p></div></div><div class=sect3><h4 id=_x11_schriftarten>6.7.3. X11 Schriftarten<a class=anchor href=#_x11_schriftarten></a></h4><div class=paragraph><p>Wenn Ihr Port Schriftarten für das X-Window-System installiert, legen Sie diese nach <span class=filename>LOCALBASE/lib/X11/fonts/local</span>.</p></div></div><div class=sect3><h4 id=_erzeugen_eines_künstlichen_display_durch_xvfb>6.7.4. Erzeugen eines künstlichen <code>DISPLAY</code> durch Xvfb<a class=anchor href=#_erzeugen_eines_künstlichen_display_durch_xvfb></a></h4><div class=paragraph><p>Manche Applikationen benötigen ein funktionierendes X11-Display, damit die Kompilierung funktioniert. Das stellt für Systeme, die ohne Display laufen, ein Problem dar. Wenn die folgende Variable benutzt wird, startet die Bauumgebung den virtuellen Framebuffer-X-Server, und ein funktionierendes <code>DISPLAY</code> wird dem Build übergeben.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_DISPLAY=  yes</pre></div></div></div><div class=sect3><h4 id=desktop-entries>6.7.5. Desktop-Einträge<a class=anchor href=#desktop-entries></a></h4><div class=paragraph><p>Desktop-Einträge (<a href=http://standards.freedesktop.org/desktop-entry-spec/latest/>Freedesktop Standard</a>) können in Ihrem Port einfach über die <code>DESKTOP_ENTRIES</code>-Variable erzeugt werden. Diese Einträge erscheinen dann im Applikationsmenü von standardkonformen Desktop-Umgebungen wie GNOME oder KDE. Die <span class=filename>.desktop</span>-Datei wird dann automatisch erzeugt, installiert und der <span class=filename>pkg-plist</span> hinzugefügt. Die Syntax ist:</p></div><div class="literalblock programlisting"><div class=content><pre>DESKTOP_ENTRIES=  &#34;NAME&#34; &#34;COMMENT&#34; &#34;ICON&#34; &#34;COMMAND&#34; &#34;CATEGORY&#34; StartupNotify</pre></div></div><div class=paragraph><p>Die Liste der möglichen Kategorien ist auf der <a href=http://standards.freedesktop.org/menu-spec/latest/apa.html>Freedesktop Webseite</a> abrufbar. <code>StartupNotify</code> zeigt an, ob die Applikation den Status in Umgebungen, die Startup-Notifications kennen, löschen wird.</p></div><div class=paragraph><p>Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>DESKTOP_ENTRIES=  &#34;ToME&#34; &#34;Roguelike game based on JRR Tolkien&#39;s work&#34; \
	          &#34;${DATADIR}/xtra/graf/tome-128.png&#34; \
	          &#34;tome -v -g&#34; &#34;Application;Game;RolePlaying;&#34; \
	          false</pre></div></div></div></div><div class=sect2><h3 id=using-gnome>6.8. Benutzung von GNOME<a class=anchor href=#using-gnome></a></h3><div class=paragraph><p>Das FreeBSD/GNOME-Projekt benutzt seine eigene Gruppe von Variablen, um zu definieren, welche GNOME-Komponenten ein bestimmter Port benutzt. Eine <a href=http://www.FreeBSD.org/gnome/docs/porting/>umfassende Liste dieser Variablen</a> existiert innerhalb der Webseite des FreeBSD/GNOME-Projektes.</p></div></div><div class=sect2><h3 id=using-qt>6.9. Benutzung von Qt<a class=anchor href=#using-qt></a></h3><div class=sect3><h4 id=qt-common>6.9.1. Ports, die Qt benötigen<a class=anchor href=#qt-common></a></h4><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 10. Variablen für Ports, die Qt benötigen</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_QT_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt das Qt-Toolkit. Mögliche Werte sind <code>3</code> und <code>4</code>; diese spezifizieren die Major Version von Qt, die benutzt werden soll. Entsprechende Parameter werden an das <code>configure</code>-Skript und <code>make</code> übergeben.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QT_PREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Enthält den Pfad, wohin Qt installiert ist (nur lesbare Variable).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MOC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Enthält den Pfad von <code>moc</code> (nur lesbare Variable). Voreingestellt entsprechend des <code>USE_QT_VER</code>-Werts.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QTCPPFLAGS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zusätzliche Compiler-Flags, die über <code>CONFIGURE_ENV</code> an das Qt-Toolkit übergeben werden. Voreingestellt entsprechend des <code>USE_QT_VER</code>-Wertes.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QTCFGLIBS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zusätzliche Bibliotheken, die über <code>CONFIGURE_ENV</code> für das Qt-Toolkit gelinkt werden sollen. Voreingestellt entsprechend des <code>USE_QT_VER</code>-Wertes.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QTNONSTANDARD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Änderungen von <code>CONFIGURE_ENV</code>, <code>CONFIGURE_ARGS</code> und <code>MAKE_ENV</code> sollen unterdrückt werden.</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 11. Zusätzliche Variablen für Ports, die Qt 4.xi benutzen</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QT_COMPONENTS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Spezifiziert Tool- und Bibliothek-Abhängigkeiten für Qt4. Siehe unten für Details.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>UIC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Enthält den Pfad von <code>uic</code> (nur lesbare Variable). Voreingestellt entsprechend des <code>USE_QT_VER</code>-Wertes.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QMAKE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Enthält den Pfad von <code>qmake</code> (nur lesbare Variable). Voreingestellt entsprechend des <code>USE_QT_VER</code>-Wertes.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>QMAKESPEC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Enthält den Pfad der Konfigurationsdatei für <code>qmake</code> (nur lesbare Variable). Voreingestellt entsprechend des <code>USE_QT_VER</code>-Wertes.</p></td></tr></tbody></table><div class=paragraph><p>Wenn <code>USE_QT_VER</code> gesetzt ist, werden dem <code>configure</code>-Skript einige nützliche Einstellungen übergeben:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFIGURE_ARGS+= --with-qt-includes=${QT_PREFIX}/include \
	         --with-qt-libraries=${QT_PREFIX}/lib \
	         --with-extra-libs=${LOCALBASE}/lib \
	         --with-extra-includes=${LOCALBASE}/include
CONFIGURE_ENV+=  MOC=&#34;${MOC}&#34; CPPFLAGS=&#34;${CPPFLAGS} ${QTCPPFLAGS}&#34; LIBS=&#34;${QTCFGLIBS}&#34; \
	         QTDIR=&#34;${QT_PREFIX}&#34; KDEDIR=&#34;${KDE_PREFIX}&#34;</pre></div></div><div class=paragraph><p>Wenn <code>USE_QT_VER</code> auf <code>4</code> gesetzt ist, werden auch die folgenden Einstellungen übergeben:</p></div><div class="literalblock programlisting"><div class=content><pre>CONFIGURE_ENV+= UIC=&#34;${UIC}&#34; QMAKE=&#34;${QMAKE}&#34; QMAKESPEC=&#34;${QMAKESPEC}&#34;
MAKE_ENV+=      QMAKESPEC=&#34;${QMAKESPEC}&#34;</pre></div></div></div><div class=sect3><h4 id=qt4-components>6.9.2. Komponentenauswahl (nur bei Qt 4.x)<a class=anchor href=#qt4-components></a></h4><div class=paragraph><p>Wenn <code>USE_QT_VER</code> auf 4 gesetzt ist, können individuelle Qt4-Tool- und Bibliotheksabhängigkeiten in der Variable <code>QT_COMPONENTS</code> angegeben werden. An jede Komponente kann <code>_build</code> oder <code>_run</code> als Suffix angehängt werden, was eine Abhängigkeit zur Build- bzw. Laufzeit angibt. Ohne Suffix gilt die Abhängigkeit sowohl zur Build- als auch zur Laufzeit. Bibliothekskomponenten sollten normalerweise ohne Suffix angegeben werden, Tool-Komponenten mit <code>_build</code> und Plugin-Komponenten mit <code>_run</code>. Die gebräuchlichsten Komponenten werden im Folgenden angegeben (alle verfügbaren Komponenten sind in <code>_QT_COMPONENTS_ALL</code> in <span class=filename>/usr/ports/Mk/bsd.qt.mk</span> aufgelistet):</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 12. Verfügbare Qt4-Bibliothekskomponenten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>corelib</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kern-Bibliothek (kann weggelassen werden- es sei denn, der Port benutzt nichts außer <code>corelib</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>gui</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Graphische Benutzeroberflächen-Bibliothek</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>network</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Netzwerk-Bibliothek</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>opengl</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>OpenGL-Bibliothek</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>qt3support</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Qt3-Kompatibilitäts-Bibliothek</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>qtestlib</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Modultest-Bibliothek</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>script</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Skript-Bibliothek</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>sql</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SQL-Bibliothek</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>xml</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>XML-Bibliothek</p></td></tr></tbody></table><div class=paragraph><p>Sie können herausfinden, welche Bibliotheken die Applikation benötigt, indem Sie nach erfolgreicher Kompilierung <code>ldd</code> auf die Hauptbinärdatei anwenden.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 13. Verfügbare Qt4-Tool-Komponenten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>moc</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>meta object compiler (wird zum Build fast jeder Qt-Applikation benötigt)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>qmake</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Makefile-Generator / Build-Werkzeug</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>rcc</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Resource-Compiler (wird benötigt, falls die Applikation <span class=filename><strong>.rc</strong></span><strong> oder <span class=filename></span></strong>.qrc Dateien enthält)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>uic</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>User-Interface-Compiler (wird benötigt, falls die Applikation von Qt-Designer erzeugte <span class=filename>*.ui</span> Dateien enthält - gilt für praktisch jede Qt-Applikation mit einer GUI)</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 14. Verfügbare Qt4-Plugin-Komponenten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>iconengines</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SVG-Icon-Engine Plugin (wenn die Applikation SVG-Icons mitliefert)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>imageformats</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bildformatplugins für GIF, JPEG, MNG und SVG (wenn die Applikation Bilddateien mitliefert)</p></td></tr></tbody></table><div id=qt4-components-example class=exampleblock><div class=title>Beispiel 14. Qt4-Komponenten auswählen</div><div class=content><div class=paragraph><p>In diesem Beispiel benutzt die portierte Applikation die Qt4 GUI-Bibliothek, die Qt4-Core-Bibliothek, alle Qt4-Codeerzeugungstools und Qt4’s Makefile Generator. Da die GUI-Bibliothek eine Abhängigkeit von der Core-Bibliothek impliziert, muss corelib nicht angegeben werden. Die Qt4-Codeerzeugungstools moc, uic und rcc, sowie der Makefile Generator qmake werden nur für den Build benötigt, deshalb bekommen die den Suffix <code>_build</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_QT_VER=    4
QT_COMPONENTS= gui moc_build qmake_build rcc_build uic_build</pre></div></div></div></div></div><div class=sect3><h4 id=qt-additional>6.9.3. Zusätzliche Besonderheiten<a class=anchor href=#qt-additional></a></h4><div class=paragraph><p>Wenn die Applikation keine <span class=filename>configure</span> Datei, sondern eine <span class=filename>.pro</span> Datei hat, können Sie das Folgende benutzen:</p></div><div class="literalblock programlisting"><div class=content><pre>HAS_CONFIGURE=    yes

do-configure:
	@cd ${WRKSRC} &amp;&amp; ${SETENV} ${CONFIGURE_ENV} \
	        ${QMAKE} -unix PREFIX=${PREFIX} texmaker.pro</pre></div></div><div class=paragraph><p>Beachten Sie die Ähnlichkeit mit der <code>qmake</code>-Zeile im mitgelieferten <span class=filename>BUILD.sh</span>-Skript. Die Übergabe von <code>CONFIGURE_ENV</code> stellt sicher, dass <code>qmake</code> die <code>QMAKESPEC</code>-Variable übergeben bekommt, ohne die es nicht funktioniert. <code>qmake</code> erzeugt Standard-Makefiles, sodass es nicht nötig ist ein eigenes neues <code>build</code>-Target zu schreiben.</p></div><div class=paragraph><p>Qt-Applikationen sind oft so geschrieben, dass sie plattformübergreifend sind, und oft ist X11/Unix nicht die Plattform, auf der sie entwickelt werden. Das sorgt oft für bestimmte fehlende Kleinigkeiten wie z.B.:</p></div><div class=ulist><ul><li><p><em>Fehlende zusätzliche Include-Pfade.</em> Viele Applikationen kommen mit System-Tray-Icon Support- unterlassen es aber Includes oder Bibliotheken in den X11 Verzeichnissen zu suchen. Sie können <code>qmake</code> über die Kommandozeile sagen, es soll Verzeichnisse zu den Include- und Bibliotheks-Suchpfaden hinzufügen - z.B.:</p><div class="literalblock programlisting"><div class=content><pre>${QMAKE} -unix PREFIX=${PREFIX} INCLUDEPATH+=${LOCALBASE}/include \
    LIBS+=-L${LOCALBASE}/lib sillyapp.pro</pre></div></div></li><li><p><em>Falsche Installations-Pfade.</em> Manchmal werden Daten wie Icons oder .desktop-Dateien per Vorgabe in Verzeichnisse installiert, die nicht von XDG-kompatiblen Applikationen durchsucht werden. <a class=package href=https://cgit.freebsd.org/ports/tree/editors/texmaker/>editors/texmaker</a> ist hierfür ein Beispiel- siehe <span class=filename>patch-texmaker.pro</span> im <span class=filename>files</span>-Verzeichnis dieses Ports als eine Vorlage, die zeigt, wie man dies direkt in der Qmake Projektdatei löst.</p></li></ul></div></div></div><div class=sect2><h3 id=using-kde>6.10. Benutzung von KDE<a class=anchor href=#using-kde></a></h3><div class=sect3><h4 id=kde-variables>6.10.1. Variablen-Definitionen (KDE 3)<a class=anchor href=#kde-variables></a></h4><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 15. Variablen für Ports, die KDE 3 benutzen</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_KDELIBS_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt KDE-Bibliotheken. Die Variable spezifiziert die Major Version von KDE, die benutzt werden soll, und impliziert <code>USE_QT_VER</code> der entsprechenden Version. Der einzig mögliche Wert ist <code>3</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_KDEBASE_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benutzt die KDE-Base. Die Variable spezifiziert die Major Version von KDE, die benutzt werden soll, und impliziert <code>USE_QT_VER</code> der entsprechenden Version. Der einzig mögliche Wert ist <code>3</code>.</p></td></tr></tbody></table></div><div class=sect3><h4 id=kde4-variables>6.10.2. Variablen-Definitionen (KDE 4)<a class=anchor href=#kde4-variables></a></h4><div class=paragraph><p>Falls Ihre Anwendung von KDE 4 abhängt, weisen Sie <code>USE_KDE4</code> eine Liste mit benötigten Komponenten zu. Die am häufigsten gebrauchten sind unten aufgelistet (<code>_USE_KDE4_ALL</code> in <span class=filename>/usr/ports/Mk/bsd.kde4.mk</span> enthält stets die aktuelle Liste):</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 16. Verfügbare KDE 4-Komponenten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>akonadi</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Personal Information Management (PIM)-Speicherdienst</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>automoc4</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lässt den Port das Bauwerkzeug automoc4 verwenden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>kdebase</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Grundlegende KDE-Anwendungen (Konqueror, Dolphin, Konsole)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>kdeexp</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Experimentelle KDE-Bibliotheken (mit einer API, die als non-stable eingestuft ist)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>kdehier</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Stellt allgemeine KDE-Verzeichnisse bereit</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>kdelibs</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die grundlegenden KDE-Bibliotheken</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>kdeprefix</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls in der Liste vorhanden, wird der Port unter <code>${KDE4_PREFIX}</code> statt <code>${LOCALBASE}</code> installiert</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>pimlibs</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PIM-Bibliotheken</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>workspace</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Anwendungen und Bibliotheken, welche die Desktopumgebung gestalten (Plasma, KWin)</p></td></tr></tbody></table><div class=paragraph><p>KDE 4-Ports werden unter <code>${KDE4_PREFIX}</code>, zur Zeit <span class=filename>/usr/local/kde4</span>, installiert, um Konflikte mit KDE 3-Ports zu verhindern. Dies wird durch Auflisten der Komponente <code>kdeprefix</code> erreicht, welche die standardmäßig gesetzte Variable <code>PREFIX</code> überschreibt. Die Ports übernehmen jedoch, jeden über die Umgebungsvariable <code>MAKEFLAGS</code> oder make-Parameter festgelegten Wert für <code>PREFIX</code>.</p></div><div class=paragraph><p>Es könnte bei der Installation von KDE 4-Ports zu Konflikten mit KDE 3-Ports kommen, sodass diese bei aktivierter <code>kdeprefix</code>-Komponente unter <code>${KDE4_PREFIX}</code> installiert werden. Der Standardwert von <code>KDE4_PREFIX</code> ist zur Zeit <span class=filename>/usr/local/kde4</span>. Es ist auch möglich, KDE 4-Ports unter einem angepassten <code>PREFIX</code> zu installieren. Wenn <code>PREFIX</code> als <code>MAKEFLAGS</code>-Umgebungsvariable oder als make-Parameter gesetzt wird, überschreibt dies den von <code>kdeprefix</code> festgelegten Wert.</p></div><div id=kde4-components-example class=exampleblock><div class=title>Beispiel 15. <code>USE_KDE4</code>-Beispiel</div><div class=content><div class=paragraph><p>Dies ist ein einfaches Beispiel für einen KDE 4-Port. <code>USE_CMAKE</code> weist den Port an, CMake, ein unter KDE 4-Projekten weit verbreitetes Konfigurationswerkzeug, zu verwenden. <code>USE_KDE4</code> legt die Abhängigkeit von KDE-Bibliotheken und die Verwendung von automoc4 während der Kompilierung fest. Mit Hilfe des configure-Protokolls können die KDE-Komponenten und andere Abhängigkeiten festgestellt werden. <code>USE_KDE4</code> impliziert <code>USE_QT_VER</code> nicht. Falls der Port Qt 4-Komponenten benötigt, sollten <code>USE_QT_VER</code> gesetzt und verlangte Komponenten festgelegt werden.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_CMAKE=     yes
USE_KDE4=      automoc4 kdelibs kdeprefix
USE_QT_VER=    4
QT_COMPONENTS= qmake_build moc_build rcc_build uic_build</pre></div></div></div></div></div></div><div class=sect2><h3 id=using-java>6.11. Benutzung von Java<a class=anchor href=#using-java></a></h3><div class=sect3><h4 id=java-variables>6.11.1. Variablen-Definitionen<a class=anchor href=#java-variables></a></h4><div class=paragraph><p>Wenn Ihr Port ein Java™ Development Kit (JDK™) benötigt, entweder zum Bauen, zur Laufzeit oder sogar, um das Distfile auszupacken, dann sollten Sie <code>USE_JAVA</code> setzen.</p></div><div class=paragraph><p>Es gibt mehrere JDKs in der Ports-Sammlung- von verschiedenen Anbietern und in verschiedenen Versionen. Wenn Ihr Port eine bestimmte dieser Versionen benötigt, können Sie definieren welche. Die aktuelle Version ist <a class=package href=https://cgit.freebsd.org/ports/tree/java/jdk16/>java/jdk16</a>.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 17. Variablen, die von Ports, die Java benutzen, gesetzt werden müssen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_JAVA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sollte definiert sein, damit die übrigen Variablen irgendeinen Effekt haben.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_VERSION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Durch Leerzeichen getrennte Liste von geeigneten Java-Versionen für den Port. Ein optionales <code>""` ermöglicht die Angabe eines Bereiches von Versionen (mögliche Werte: `1.5[] 1.6[] 1.7[]</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_OS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Durch Leerzeichen getrennte Liste von geeigneten JDK-Port-Betriebssystemen für den Port. (erlaubte Werte: <code>native linux</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_VENDOR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Durch Leerzeichen getrennte Liste von geeigneten JDK-Port-Anbietern für den Port. (erlaubte Werte: <code>freebsd bsdjava sun openjdk</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bedeutet, falls gesetzt, dass der ausgewählte JDK-Port zu den Build-Abhängigkeiten des Ports hinzugefügt werden soll.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_RUN</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bedeutet, falls gesetzt, dass der ausgewählte JDK-Port zu den Laufzeit-Abhängigkeiten des Ports hinzugefügt werden soll.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_EXTRACT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bedeutet, falls gesetzt, dass der ausgewählte JDK-Port zu den Extract-Abhängigkeiten des Ports hinzugefügt werden soll.</p></td></tr></tbody></table><div class=paragraph><p>Das Folgende ist eine Liste aller Variablen, die ein Port bekommt, nachdem er <code>USE_JAVA</code> gesetzt hat:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 18. Bereitgestellte Variablen für Ports, die Java benutzen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Wert</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_PORT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Name des JDK-Ports (z.B. <code>'java/diablo-jdk16'</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_PORT_VERSION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die volle Version des JDK Ports (z.B. <code>'1.6.0'</code>). Wenn Sie nur die ersten beiden Stellen dieser Versionsnummer benötigen, benutzen Sie <code>${JAVA_PORT_VERSION:C/^([0-9])\.([0-9])(.*)$/\1.\2/}</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_PORT_OS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das vom JDK-Port benutzte Betriebssystem (z.B. <code>'native'</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_PORT_VENDOR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Anbieter des JDK-Ports (z.B. <code>'freebsd'</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_PORT_OS_DESCRIPTION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Beschreibung des vom JDK-Port benutzten Betriebssystems (z.B. <code>'Native'</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_PORT_VENDOR_DESCRIPTION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Beschreibung des Anbieters des JDK-Ports (z.B. <code>'FreeBSD Foundation'</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_HOME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum Installationsverzeichnis des JDK (z.B. <span class=filename>'/usr/local/diablo-jdk1.6.0'</span>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVAC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum Java-Compiler, der benutzt werden soll (z.B. <span class=filename>'/usr/local/diablo-jdk1.6.0/bin/javac'</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>jar</code>-Werkzeug, das benutzt werden soll (z.B.'<span class=filename>'/usr/local/diablo-jdk1.6.0/bin/jar</span> oder <span class=filename>'/usr/local/bin/fastjar'</span>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APPLETVIEWER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>appletviewer</code>-Werkzeug (z.B. <span class=filename>'/usr/local/diablo-jdk1.6.0/bin/appletviewer'</span>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zur <code>java</code> Binärdatei. Benutzen Sie dies, um Java-Programme auszuführen (z.B.<span class=filename>'/usr/local/diablo-jdk1.6.0/bin/java'</span>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVADOC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>javadoc</code>-Werkzeug.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVAH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>javah</code>-Programm.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVAP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>javap</code>-Programm.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_KEYTOOL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>keytool</code>-Werkzeug.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_N2A</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>native2ascii</code>-Werkzeug.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_POLICYTOOL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>policytool</code> Programm.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_SERIALVER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum <code>serialver</code>-Werkzeug.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RMIC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum RMI Stub/Skeleton-Generator, <code>rmic</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RMIREGISTRY</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum RMI Registry-Werkzeug, <code>rmiregistry</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RMID</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum RMI Daemon <code>rmid</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVA_CLASSES</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum Archiv, das die JDK-Klassendateien enthält, <span class=filename>${JAVA_HOME}/jre/lib/rt.jar</span>.</p></td></tr></tbody></table><div class=paragraph><p>Sie können das <code>java-debug</code> make-Target benutzen, um Information zum Debuggen Ihres Ports zu erhalten. Es wird die Werte vieler der obenangegebenen Variablen anzeigen.</p></div><div class=paragraph><p>Zusätzlich sind die folgenden Konstanten definiert, damit alle Java-Ports auf eine konsistente Art installiert werden können:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 19. Konstanten, die für Ports, welche Java benutzen, definiert sind</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Konstante</th><th class="tableblock halign-left valign-top">Wert</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVASHAREDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Basis-Verzeichnis für alles, was mit Java zusammenhängt. Standardmäßig <span class=filename>${PREFIX}/shared/java</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVAJARDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, wohin JAR-Dateien installiert werden sollen. Standardmäßig <span class=filename>${JAVASHAREDIR}/classes</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>JAVALIBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem JAR-Dateien, die von anderen Ports installiert wurden, liegen. Standardmäßig <span class=filename>${LOCALBASE}/shared/java/classes</span>.</p></td></tr></tbody></table><div class=paragraph><p>Die entsprechenden Einträge sind sowohl in <code>PLIST_SUB</code> (dokumentiert in <a href=./#plist-sub>Änderungen an pkg-plist mit Hilfe von make-Variablen</a>) als auch in <code>SUB_LIST</code> definiert.</p></div></div><div class=sect3><h4 id=java-building-with-ant>6.11.2. Kompilieren mit Ant<a class=anchor href=#java-building-with-ant></a></h4><div class=paragraph><p>Wenn der Port mit Apache Ant kompiliert werden soll, muss er <code>USE_ANT</code> setzen. Ant wird dann als das sub-make-Kommando betrachtet. Wenn kein <code>do-build</code>-Target vom Port definiert ist, wird eine Standardvorgabe benutzt, die einfach Ant entsprechend <code>MAKE_ENV</code>, <code>MAKE_ARGS</code> und <code>ALL_TARGET</code> aufruft. Das ähnelt dem <code>USE_GMAKE</code>-Mechanismus, der in <a href=#building>Build-Mechanismen</a> dokumentiert ist.</p></div></div><div class=sect3><h4 id=java-best-practices>6.11.3. Optimales Verfahren<a class=anchor href=#java-best-practices></a></h4><div class=paragraph><p>Wenn Sie eine Java-Bibliothek portieren, sollte Ihr Port die JAR-Datei(en) in <span class=filename>${JAVAJARDIR}</span> installieren, und alles andere unter <span class=filename>${JAVASHAREDIR}/${PORTNAME}</span> (ausgenommen die Dokumentation - siehe unten). Um die Größe der Packlistendatei zu reduzieren, können die JAR-Datei(en) direkt im <span class=filename>Makefile</span> angegeben werden. Benutzen Sie einfach die folgende Anweisung (wobei <span class=filename>myport.jar</span> der Name der JAR-Datei ist, die als Teil des Ports installiert wird):</p></div><div class="literalblock programlisting"><div class=content><pre>PLIST_FILES+= %%JAVAJARDIR%%/myport.jar</pre></div></div><div class=paragraph><p>Beim Portieren einer Java-Applikation installiert der Port normalerweise alles unter einem einzigen Verzeichnis (inklusive seiner JAR-Abhängigkeiten). Die Benutzung von <span class=filename>${JAVASHAREDIR}/${PORTNAME}</span> wird in dieser Beziehung dringend empfohlen. Es liegt im Entscheidungsbereich des Portierenden, ob der Port die zusätzlichen JAR-Abhängigkeiten unter diesem Verzeichnis installieren oder direkt die schon installierten (aus <span class=filename>${JAVAJARDIR}</span>) benutzen soll.</p></div><div class=paragraph><p>Unabhängig von der Art Ihres Ports (Bibliothek oder Applikation), sollte die zusätzliche Dokumentation an die <a href=#install-documentation>gleiche Stelle</a> installiert werden wie bei jedem anderen Port auch. Das JavaDoc-Werkzeug ist dafür bekannt einen unterschiedlichen Satz von Dateien abhängig von der Version des benutzten JDKs zu erstellen. Für Ports, die nicht die Benutzung eines bestimmten JDKs vorgeben, ist es deshalb eine komplexe Aufgabe die Packliste (<span class=filename>pkg-plist</span>) festzulegen. Dies ist ein Grund, warum dringend angeraten wird, das <code>PORTDOCS</code>-Makro zu benutzen. Außerdem, selbst wenn Sie den Satz von Dateien, den <code>javadoc</code> erzeugen wird, voraussagen können, die Größe der resultierenden <span class=filename>pkg-plist</span> befürwortet die Benutzung von <code>PORTDOCS</code>.</p></div><div class=paragraph><p>Der Vorgabewert für <code>DATADIR</code> ist <span class=filename>${PREFIX}/shared/${PORTNAME}</span>. Es ist eine gute Idee, <code>DATADIR</code> für Java-Ports stattdessen auf <span class=filename>${JAVASHAREDIR}/${PORTNAME}</span> zu setzen. In der Tat wird <code>DATADIR</code> automatisch zu <code>PLIST_SUB</code> (dokumentiert in <a href=./#plist-sub>Änderungen an pkg-plist mit Hilfe von make-Variablen</a>) hinzugefügt, d.h. Sie können <code>%%DATADIR%%</code> direkt in <span class=filename>pkg-plist</span> benutzen.</p></div><div class=paragraph><p>Zu der Frage, ob Java-Ports aus dem Quelltext gebaut werden, oder direkt bereitgestellte binäre Distributionen benutzt werden sollten, gab es, als dies geschrieben wurde, keine definierte Richtlinie. Allerdings ermutigen Mitglieder des <a href=http://www.freebsd.org/java/>FreeBSD Java-Projekts</a> Porter dazu, Ihre Ports aus dem Quelltext kompilieren zu lassen, wann immer dies kein Problem darstellt.</p></div><div class=paragraph><p>Alle Eigenschaften, die in diesem Abschnitt präsentiert wurden sind in <span class=filename>bsd.java.mk</span> implementiert. Sollten Sie jemals der Meinung sein, dass Ihr Port ausgefeiltere Java-Unterstützung benötigt, schauen Sie bitte erst in das <a href=http://www.freebsd.org/cgi/cvsweb.cgi/ports/Mk/bsd.java.mk>bsd.java.mk CVS Log</a>, weil es normalerweise immer etwas Zeit braucht bis die neuesten Eigenschaften dokumentiert sind. Wenn Sie glauben, dass der fehlende Support auch für viele andere Java Ports nützlich sein könnte, wenden Sie sich bitte an die freebsd-java.</p></div><div class=paragraph><p>Obwohl es eine <code>java</code>-Kategorie für Fehlerberichte gibt, bezieht sich diese auf die JDK-Portierungsbemühungen des FreeBSD Java-Projektes. Deshalb sollten Sie Ihren Java-Port in der <code>ports</code>-Kategorie einreichen wie bei jeden anderen Port auch - es sei denn, die Angelegenheit, die Sie zu klären versuchen, steht in Zusammenhang entweder mit einer JDK-Implementierung oder <span class=filename>bsd.java.mk</span>.</p></div><div class=paragraph><p>Gleichermaßen gibt es eine definierte Richtlinie für die <code>CATEGORIES</code> eines Java-Ports, die in <a href=./#makefile-categories>Kategorisierung</a> erklärt wird.</p></div></div></div><div class=sect2><h3 id=using-php>6.12. Webanwendungen, Apache und PHP<a class=anchor href=#using-php></a></h3><div class=sect3><h4 id=using-apache>6.12.1. Apache<a class=anchor href=#using-apache></a></h4><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 20. Variablen für Ports, die Apache verwenden</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_APACHE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt Apache. Mögliche Werte: <code>yes</code> (beliebige Version), <code>1.3</code>, <code>2.0</code>, <code>2.2</code>, <code>2.0+</code>, etc. - Standard ist Version <code>1.3</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_APACHE2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt Apache 2.0. Ist diese Variable nicht gesetzt, so benötigt der Port Apache 1.3. Diese Variable ist veraltet und sollte nicht mehr verwendet werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APXS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vollständiger Pfad zu der <code>apxs</code> Binärdatei. Die Variable kann neu gesetzt werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>HTTPD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vollständiger Pfad zu der <code>httpd</code> Binärdatei. Die Variable kann neu gesetzt werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHE_VERSION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Beinhaltet die Versionsnummer des aktuell installierten Apache (nur lesbare Variable). Diese Variable ist nach Einbinden der Datei <span class=filename>bsd.port.pre.mk</span> verfügbar. Mögliche Werte: <code>13</code>, <code>20</code>, <code>22</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHEMODDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verzeichnis der Apache-Module. Diese Variable wird automatisch in pkg-plist ersetzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHEINCLUDEDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verzeichnis der Apache Header-Dateien. Diese Variable wird automatisch in pkg-plist ersetzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>APACHEETCDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verzeichnis der Apache-Konfigurationsdateien. Diese Variable wird automatisch in pkg-plist ersetzt.</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 21. Nützliche Variablen für Ports von Apache-Modulen</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MODULENAME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Name des Moduls. Standardwert ist <code>PORTNAME</code>. Beispiel: <code>mod_hello</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SHORTMODNAME</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der gekürzte Name des Moduls. Standardmäßig wird der Wert von <code>MODULENAME</code> übernommen. Beispiel: <code>hello</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AP_FAST_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verwende <code>apxs</code> zum Kompilieren und Installieren des Moduls.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AP_GENPLIST</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Eine <span class=filename>pkg-plist</span> wird automatisch erzeugt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AP_INC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verzeichnis für zusätzliche Header-Dateien, die beim Kompilieren mitverwendet werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AP_LIB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verzeichnis für zusätzliche Bibliothek-Dateien, welche beim Kompilieren mitverwendet werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>AP_EXTRAS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Zusätzliche Flags für <code>apxs</code>.</p></td></tr></tbody></table></div><div class=sect3><h4 id=web-apps>6.12.2. Webanwendungen<a class=anchor href=#web-apps></a></h4><div class=paragraph><p>Webanwendungen sollten nach <span class=filename>PREFIX/www/programmname</span> installiert werden. Der Einfachheit halber ist dieser Pfad sowohl im <span class=filename>Makefile</span> als auch in <span class=filename>pkg-plist</span> als <code>WWWDIR</code> verfügbar. Der relative Pfad <code>PREFIX</code> ist hingegen im <span class=filename>Makefile</span> durch die Variable <code>WWWDIR_REL</code> festgelegt.</p></div><div class=paragraph><p>Der Benutzername und die Benutzergruppe, mit deren Rechte Webanwendungen laufen, sind in <code>WWWOWN</code> und <code>WWWGRP</code> festgelegt. Standardwert ist bei beiden <code>www</code>. Falls ein Port mit anderen Rechten gestartet werden soll, so sollte die Anweisung <code>WWWOWN?= myuser</code> verwendet werden. Dies vereinfacht dem Benutzer eine Anpassung dieser Werte.</p></div><div class=paragraph><p>Falls die Webanwendung nicht explizit Apache benötigt, so sollte dieser auch nicht als Abhängigkeit des Ports aufgeführt werden. Dadurch bleibt es dem Benutzer überlassen Apache oder einen anderen Webserver zu verwenden.</p></div></div><div class=sect3><h4 id=php-variables>6.12.3. PHP<a class=anchor href=#php-variables></a></h4><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 22. Variablen für Ports, die PHP verwenden</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PHP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt PHP. Der Wert <code>yes</code> bewirkt eine Abhängigkeit des Ports von PHP. Es kann auch eine Liste der benötigten PHP-Erweiterungen angegeben werden. Beispiel: <code>pcre xml gettext</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>DEFAULT_PHP_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Legt die Version von PHP fest, die standardmäßig installiert wird, falls noch kein PHP vorhanden ist. Standardwert ist <code>4</code>. Mögliche Werte sind: <code>4</code>,<code>5</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>IGNORE_WITH_PHP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port funktioniert nicht mit der angegebenen Version von PHP. Mögliche Werte: <code>4</code>, <code>5</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PHPIZE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port wird als PHP-Erweiterung gebaut.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PHPEXT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port wird wie eine PHP-Erweiterung behandelt - Installation und Eintragung in die PHP-Registry für Erweiterungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PHP_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Setzt PHP als build-Anhängigkeit.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_PHP_CLI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benötigt die Kommandozeilen-Version von PHP.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_PHP_CGI</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benötigt die CGI-Version von PHP.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_PHP_MOD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benötigt das Apache-Modul von PHP.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_PHP_SCR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benötigt die Kommandozeilen- oder die CGI-Version von PHP.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_PHP_WEB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benötigt das Apache-Modul oder die CGI-Version von PHP.</p></td></tr></tbody></table></div><div class=sect3><h4 id=_pear_module>6.12.4. PEAR Module<a class=anchor href=#_pear_module></a></h4><div class=paragraph><p>Das Portieren von PEAR-Modulen ist sehr einfach.</p></div><div class=paragraph><p>Mit Hilfe der Variablen <code>FILES</code>, <code>TESTS</code>, <code>DATA</code>, <code>SQLS</code>, <code>SCRIPTFILES</code>, <code>DOCS</code> und <code>EXAMPLES</code> können die zu installierenden Dateien angegeben werden. Alle aufgeführten Dateien werden automatisch in die jeweiligen Verzeichnisse installiert und der Datei <span class=filename>pkg-plist</span> hinzugefügt.</p></div><div class=paragraph><p>Die Datei <span class=filename>${PORTSDIR}/devel/pear/bsd.pear.mk</span> muss am Ende des <span class=filename>Makefile</span>s eingebunden werden.</p></div><div id=pear-makefile class=exampleblock><div class=title>Beispiel 16. Beispiel eines Makefiles für eine PEAR Klasse</div><div class=content><div class="literalblock programlisting"><div class=content><pre>PORTNAME=       Date
PORTVERSION=    1.4.3
CATEGORIES=     devel www pear

MAINTAINER=     example@domain.com
COMMENT=        PEAR Date and Time Zone Classes

BUILD_DEPENDS=  ${PEARDIR}/PEAR.php:${PORTSDIR}/devel/pear-PEAR
RUN_DEPENDS=    ${BUILD_DEPENDS}

FILES=          Date.php Date/Calc.php Date/Human.php Date/Span.php     \
	        Date/TimeZone.php
TESTS=          test_calc.php test_date_methods_span.php testunit.php   \
	        testunit_date.php testunit_date_span.php wknotest.txt   \
	        bug674.php bug727_1.php bug727_2.php bug727_3.php       \
	        bug727_4.php bug967.php weeksinmonth_4_monday.txt       \
	        weeksinmonth_4_sunday.txt weeksinmonth_rdm_monday.txt   \
	        weeksinmonth_rdm_sunday.txt
DOCS=           TODO
_DOCSDIR=       .

.include &lt;bsd.port.pre.mk&gt;
.include &#34;${PORTSDIR}/devel/pear/bsd.pear.mk&#34;
.include &lt;bsd.port.post.mk&gt;</pre></div></div></div></div></div></div><div class=sect2><h3 id=using-python>6.13. Python benutzen<a class=anchor href=#using-python></a></h3><div class=paragraph><p>Die Ports unterstützen parallele Installationen mehrerer Python-Versionen. Ports sollten sicherstellen, dass der richtige <code>python</code>-Interpreter verwendet wird - entsprechend der durch den Benutzer definierbaren Variable <code>PYTHON_VERSION</code>. Häufig bedeutet dies, dass der Pfad zum <code>python</code>-Interpreter durch den Wert der Variablen <code>PYTHON_CMD</code> ersetzt werden muss.</p></div><div class=paragraph><p>Ports, die Dateien unter <code>PYTHON_SITELIBDIR</code> installieren, sollten <code>pyXY-</code> als Präfix des Paketnamens haben, sodass in deren Paketname die zugehörige Python Version aufgeführt wird.</p></div><div class="literalblock programlisting"><div class=content><pre>PKGNAMEPREFIX= ${PYTHON_PKGNAMEPREFIX}</pre></div></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 23. Nützliche Variablen für Ports, die Python verwenden</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PYTHON</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt Python. Die minimal benötigte Version kann durch Werte wie <code>2.3+</code> angegeben werden. Bereiche von Versionsnummern können durch Angabe der minimalen und maximalen Versionsnummer, getrennt durch einen Gedankenstrich, festgelegt werden, z.B.: <code>2.1-2.3</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PYDISTUTILS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verwende Python-distutils zum Konfigurieren, Kompilieren und Installieren. Dies ist erforderlich, falls der Port eine <span class=filename>setup.py</span>-Datei beinhaltet. Dadurch werden die <code>do-build</code> und <code>do-install</code>-Ziele und eventuell auch das <code>do-configure</code>-Ziel übergangen, falls <code>GNU_CONFIGURE</code> nicht definiert ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYTHON_PKGNAMEPREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Wird als <code>PKGNAMEPREFIX</code> verwendet, um Pakete für unterschiedliche Python-Versionen zu trennen. Beispiel: <code>py24-</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYTHON_SITELIBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verzeichnis des site-Pakete Baums, der das Installationsverzeichnis von Python (üblicherweise <code>LOCALBASE</code>) beinhaltet. Die <code>PYTHON_SITELIBDIR</code>-Variable kann sehr nützlich bei der Installation von Python-Modulen sein.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYTHONPREFIX_SITELIBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die präfix-freie Variante von <code>PYTHON_SITELIBDIR</code>. Benutzen Sie immer <code>%%PYTHON_SITELIBDIR%%</code> in <span class=filename>pkg-plist</span>, wenn möglich. Der Standardwert von <code>%%PYTHON_SITELIBDIR%%</code> ist <code>lib/python%%PYTHON_VERSION%%/site-packages</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYTHON_CMD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kommandozeilen-Interpreter für Python mit Versionsnummer.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYNUMERIC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Liste der Abhängigkeiten für numerische Erweiterungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYNUMPY</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Liste der Abhängigkeiten für die neue numerische Erweiterung numpy. (<code>PYNUMERIC</code> ist vom Anbieter als veraltet deklariert)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PYXML</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Liste der Abhängigkeiten für XML-Erweiterungen (wird ab Python 2.0 nicht mehr benötigt, da im Basispaket enthalten).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TWISTED</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Setzt die Abhängigkeit des Ports von twistedCore. Die Liste der erforderlichen Komponenten kann als Wert spezifiziert werden. Beispiel: <code>web lore pair flow</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_ZOPE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Setzt Zope, eine Plattform für Webanwendungen, als Abhängigkeit des Ports. Setzt die Versionsabhängigkeit von Python auf 2.3. Setzt <code>ZOPEBASEDIR</code> auf das Verzeichnis, in welches Zope installiert wurde.</p></td></tr></tbody></table><div class=paragraph><p>Eine vollständige Liste aller verfügbaren Variablen ist in <span class=filename>/usr/ports/Mk/bsd.python.mk</span> zu finden.</p></div></div><div class=sect2><h3 id=using-tcl>6.14. Benutzung von Tcl/Tk<a class=anchor href=#using-tcl></a></h3><div class=paragraph><p>Die Ports-Sammlung unterstützt die parallele Installation mehrerer Tcl/Tk-Versionen. Ports sollten mindestens die vorgegebene Tcl/Tk-Version oder höher zu unterstützen versuchen anhand der Variablen <code>USE_TCL</code> und <code>USE_TK</code>. Es ist möglich, die gewünschte Version von <code>tcl</code> mit der Variable <code>WITH_TCL_VER</code> vorzuschreiben.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 24. Äußerst nützliche Variablen für Ports, die Tcl/Tk benutzen</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TCL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt die Tcl-Bibliothek (nicht die Shell). Eine notwendige Mindestversion kann mit Werten wie 84+ angegeben werden. Einzelne nicht unterstützte Versionen können mit der Variable <code>INVALID_TCL_VER</code> festgelegt werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TCL_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt Tcl nur während der Zeit, in der er gebaut wird.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TCL_WRAPPER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ports, welche zwar die Tcl-Shell, aber nicht eine bestimmte Version von <code>tclsh</code> verlangen, sollten diese neue Variable verwenden. Ein Wrapperskript für <code>tclsh</code> wird auf dem System installiert. Der Benutzer kann festlegen, welche <code>tcl</code>-Shell gewünscht ist bzw. verwendet werden soll.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_TCL_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Benutzerdefinierte Variable, welche die gewünschte Tcl-Version bestimmt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>_PORTNAME__WITH_TCL_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gleich wie <code>WITH_TCL_VER</code>, nur portspezifisch.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TCL_THREADS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Fordere threadfähiges Tcl/Tk.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TK</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt die Tk-Bibliothek (nicht die Wish-Shell). Impliziert <code>USE_TCL</code> mit dem gleichen Wert. Für weitere Informationen siehe die Beschreibung der Variable <code>USE_TCL</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TK_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Analog zur Variable <code>USE_TCL_BUILD</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_TK_WRAPPER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Analog zur Variable <code>USE_TCL_WRAPPER</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_TK_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Analog zur Variable <code>WITH_TCL_VER</code> und impliziert <code>WITH_TCL_VER</code> mit dem gleichen Wert.</p></td></tr></tbody></table><div class=paragraph><p>Eine vollständige Liste der zur Verfügung stehenden Variablen befindet sich in <span class=filename>/usr/ports/Mk/bsd.tcl.mk</span>.</p></div></div><div class=sect2><h3 id=using-emacs>6.15. Emacs benutzen<a class=anchor href=#using-emacs></a></h3><div class=paragraph><p>Dieser Abschnitt muss noch geschrieben werden.</p></div></div><div class=sect2><h3 id=using-ruby>6.16. Ruby benutzen<a class=anchor href=#using-ruby></a></h3><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 25. Nützliche Variablen für Ports, die Ruby verwenden</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_RUBY</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt Ruby.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_RUBY_EXTCONF</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port verwendet <span class=filename>extconf.rb</span> für die Konfiguration.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_RUBY_SETUP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port verwendet <span class=filename>setup.rb</span> für die Konfiguration.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY_SETUP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Legt den alternativen Namen von <span class=filename>setup.rb</span> fest. Üblich ist der Wert <span class=filename>install.rb</span>.</p></td></tr></tbody></table><div class=paragraph><p>Die folgende Tabelle listet ausgewählte Variablen auf, die Portautoren über die Port-Infrastruktur zur Verfügung stehen. Diese Variablen sollten für die Installation von Dateien in die entsprechenden Verzeichnisse verwendet werden. Sie sollten in <span class=filename>pkg-plist</span> so häufig wie möglich verwendet und in einem Port nicht neu definiert werden.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 26. Ausgewählte read-only-Variablen für Ports, die Ruby verwenden</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Beispiel</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY_PKGNAMEPREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Wird als <code>PKGNAMEPREFIX</code> verwendet, um Pakete für verschiedene Versionen von Ruby zu unterscheiden.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>ruby18-</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY_VERSION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vollständige Version von Ruby in der Form <code>x.y.z</code>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>1.8.2</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY_SITELIBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Installationsverzeichnis der von der Rechnerarchitektur unabhängigen Bibliotheken.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/usr/local/lib/ruby/site_ruby/1.8</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY_SITEARCHLIBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Installationsverzeichnis der von der Rechnerarchitektur abhängigen Bibliotheken.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/usr/local/lib/ruby/site_ruby/1.8/amd64-freebsd6</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY_MODDOCDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Installationsverzeichnis für die Dokumentation der Module.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/usr/local/shared/doc/ruby18/patsy</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUBY_MODEXAMPLESDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Installationsverzeichnis für die Beispiele der Module.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/usr/local/shared/examples/ruby18/patsy</code></p></td></tr></tbody></table><div class=paragraph><p>Eine vollständige Liste der verfügbarenVariablen kann in <span class=filename>/usr/ports/Mk/bsd.ruby.mk</span> eingesehen werden.</p></div></div><div class=sect2><h3 id=using-sdl>6.17. SDL verwenden<a class=anchor href=#using-sdl></a></h3><div class=paragraph><p>Die Variable <code>USE_SDL</code> wird für die automatische Konfiguration der Abhängigkeiten für Ports benutzt, die auf SDL basierende Bibliotheken wie <a class=package href=https://cgit.freebsd.org/ports/tree/devel/sdl12/>devel/sdl12</a> und <a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/sdl_gui/>x11-toolkits/sdl_gui</a> verwenden.</p></div><div class=paragraph><p>Die folgenden SDL-Bibliotheken sind derzeit bekannt:</p></div><div class=ulist><ul><li><p>sdl: <a class=package href=https://cgit.freebsd.org/ports/tree/devel/sdl12/>devel/sdl12</a></p></li><li><p>gfx: <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/sdl_gfx/>graphics/sdl_gfx</a></p></li><li><p>gui: <a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/sdl_gui/>x11-toolkits/sdl_gui</a></p></li><li><p>image: <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/sdl_image/>graphics/sdl_image</a></p></li><li><p>ldbad: <a class=package href=https://cgit.freebsd.org/ports/tree/devel/sdl_ldbad/>devel/sdl_ldbad</a></p></li><li><p>mixer: <a class=package href=https://cgit.freebsd.org/ports/tree/audio/sdl_mixer/>audio/sdl_mixer</a></p></li><li><p>mm: <a class=package href=https://cgit.freebsd.org/ports/tree/devel/sdlmm/>devel/sdlmm</a></p></li><li><p>net: <a class=package href=https://cgit.freebsd.org/ports/tree/net/sdl_net/>net/sdl_net</a></p></li><li><p>sound: <a class=package href=https://cgit.freebsd.org/ports/tree/audio/sdl_sound/>audio/sdl_sound</a></p></li><li><p>ttf: <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/sdl_ttf/>graphics/sdl_ttf</a></p></li></ul></div><div class=paragraph><p>Falls ein Port z.B. von <a class=package href=https://cgit.freebsd.org/ports/tree/net/sdl_net/>net/sdl_net</a> und <a class=package href=https://cgit.freebsd.org/ports/tree/audio/sdl_mixer/>audio/sdl_mixer</a> abhängt, so wäre die Syntax:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_SDL=        net mixer</pre></div></div><div class=paragraph><p>Die Abhängigkeit von <a class=package href=https://cgit.freebsd.org/ports/tree/devel/sdl12/>devel/sdl12</a>, die durch <a class=package href=https://cgit.freebsd.org/ports/tree/net/sdl_net/>net/sdl_net</a> und <a class=package href=https://cgit.freebsd.org/ports/tree/audio/sdl_mixer/>audio/sdl_mixer</a> entsteht, wird automatisch zum Port hinzugefügt.</p></div><div class=paragraph><p>Falls <code>USE_SDL</code> im Port verwendet wird, so wird automatisch:</p></div><div class=ulist><ul><li><p>die Abhängigkeit von sdl12-config zu <code>BUILD_DEPENDS</code> hinzugefügt</p></li><li><p>die Variable <code>SDL_CONFIG</code> zu <code>CONFIGURE_ENV</code> hinzugefügt</p></li><li><p>die Abhängigkeit der ausgewählten Bibliotheken zu <code>LIB_DEPENDS</code> hinzugefügt</p></li></ul></div><div class=paragraph><p>Um zu überprüfen, ob die SDL-Bibliotheken verfügbar sind, kann die Variable <code>WANT_SDL</code> verwendet werden:</p></div><div class="literalblock programlisting"><div class=content><pre>WANT_SDL=yes

.include &lt;bsd.port.pre.mk&gt;

.if ${HAVE_SDL:Mmixer}!=&#34;&#34;
USE_SDL+=   mixer
.endif

.include &lt;bsd.port.post.mk&gt;</pre></div></div></div><div class=sect2><h3 id=using-wx>6.18. wxWidgets verwenden<a class=anchor href=#using-wx></a></h3><div class=paragraph><p>Dieser Abschnitt beschreibt den Status der wxWidgets-Bibliotheken in den Ports und deren Einbindung in das Ports-System.</p></div><div class=sect3><h4 id=wx-introduction>6.18.1. Einführung<a class=anchor href=#wx-introduction></a></h4><div class=paragraph><p>Es gibt viele Probleme bei der gleichzeitigen Verwendung unterschiedlicher Versionen von wxWidgets-Bibliotheken (Dateien unterschiedlicher wxWidgets-Versionen haben denselben Dateinamen). In den Ports wurde das Problem dadurch gelöst, dass jede Version unter einem eigenen Namen installiert wird, der die Versionsnummer als Suffix beinhaltet.</p></div><div class=paragraph><p>Der offensichtliche Nachteil dabei ist, dass jede Anwendung so verändert werden muss, dass sie die erwartete Version vorfindet. Die meisten solcher Anwendungen benutzen das <code>wx-config</code>-Skript, um die benötigten Compiler- und Linkerflags zu erhalten. Dieses Skript hat für jede verfügbare Version einen anderen Namen. Die meisten Anwendungen beachten eine Umgebungsvariable oder ein Argument beim <code>configure</code>-Skript, um das gewünschte <code>wx-config</code>-Skript festzulegen. Ansonsten müssen sie gepatcht werden.</p></div></div><div class=sect3><h4 id=wx-version>6.18.2. Auswahl der Version<a class=anchor href=#wx-version></a></h4><div class=paragraph><p>Um festzulegen, welche Version der wxWidgets verwendet werden soll, gibt es zwei Variablen (falls nur eine der beiden definiert wird, so wird die andere auf einen Standardwert gesetzt):</p></div><table id=wx-ver-sel-table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 27. Variablen, um die wxWidgets-Version festzulegen</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Standardwert</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_WX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Liste der Versionen, die der Port verwenden kann</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Alle verfügbaren Versionen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_WX_NOT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Liste der Versionen, die der Port nicht verwenden kann</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nichts</p></td></tr></tbody></table><div class=paragraph><p>Es folgt eine Liste an möglichen wxWidgets-Versionen und deren zugehöriger Port:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 28. Verfügbare wxWidgets-Versionen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Version</th><th class="tableblock halign-left valign-top">Port</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.4</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/wxgtk24/>x11-toolkits/wxgtk24</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.6</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/wxgtk26/>x11-toolkits/wxgtk26</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.8</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/wxgtk28/>x11-toolkits/wxgtk28</a></p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ab Version <code>2.5</code> werden auch Versionen in Unicode unterstützt und über einen Unterport mit dem Suffix <code>-unicode</code> installiert. Dies kann aber auch über Variablen gehandhabt werden (siehe <a href=#wx-unicode>Unicode</a>).</p></div></td></tr></tbody></table></div><div class=paragraph><p>Die Variablen in <a href=#wx-ver-sel-table>Variablen, um die wxWidgets-Version festzulegen</a> können auf einen oder mehrere (durch Leerzeichen getrennt) der folgenden Werte gesetzt werden:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 29. Spezifikationen der wxWidgets-Versionen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Beispiel</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Einzelne Version</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.4</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Aufsteigende Versionsnummern</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.4+</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Absteigende Versionsnummern</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.6-</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Versionsinterval (muss aufsteigend sein)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.4-2.6</code></p></td></tr></tbody></table><div class=paragraph><p>Desweiteren gibt es Variablen, über die eine bevorzugte Version festgelegt werden kann. Die Versionen können als Liste angegeben werden, wobei die Reihenfolge der Priorisierung entspricht.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 30. Variablen zur Festlegung der bevorzugten wxWidgets-Version</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Bestimmt für</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_WX_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Port</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_WX_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Benutzer</p></td></tr></tbody></table></div><div class=sect3><h4 id=wx-components>6.18.3. Komponentenauswahl<a class=anchor href=#wx-components></a></h4><div class=paragraph><p>Desweiteren gibt es Anwendungen, die nicht direkt wxWidgets-Bibliotheken sind, aber trotzdem mit diesen zusammenhängen. Diese Anwendungen können über die Variable <code>WX_COMPS</code> festgelegt werden. Die folgenden Komponenten sind verfügbar:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 31. Verfügbare wxWidgets-Komponenten</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Versionsbeschränkungen</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>wx</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hauptbibliothek</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Nichts</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>contrib</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Beigesteuerte Bibliothek</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Nichts</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>python</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>wxPython (Python-Bindungen)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.4-2.6</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>mozilla</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>wxMozilla</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.4</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>svg</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>wxSVG</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>2.6</code></p></td></tr></tbody></table><div class=paragraph><p>Der Typ der Abhängigkeit kann für jede Komponente durch hinzufügen eines Suffix (durch Strichpunkt getrennt) festgelegt werden. Falls der Typ nicht angegeben wird, wird ein Standardwert verwendet (siehe <a href=#wx-def-dep-types>Standardtypen der wxWidgets-Abhängigkeiten</a>). Die folgenden Typen sind verfügbar:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 32. Verfügbare Typen von wxWidgets-Abhängigkeiten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>build</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Komponente wird zum Bau benötigt - äquivalent zu <code>BUILD_DEPENDS</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>run</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Komponente wird zum Ausführen benötigt - äquivalent zu <code>RUN_DEPENDS</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Komponente wird zum Bau und Ausführen benötigt - äquivalent zu <code>LIB_DEPENDS</code></p></td></tr></tbody></table><div class=paragraph><p>Die Standardwerte für die einzelnen Komponenten sind in der folgenden Tabelle aufgeführt:</p></div><table id=wx-def-dep-types class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 33. Standardtypen der wxWidgets-Abhängigkeiten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Komponente</th><th class="tableblock halign-left valign-top">Typ der Abhängigkeit</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>wx</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>contrib</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>python</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>run</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>mozilla</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>svg</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code></p></td></tr></tbody></table><div id=wx-components-example class=exampleblock><div class=title>Beispiel 17. Auswahl von wxWidgets-Komponenten</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt entspricht einem Port, der die wxWidgets-Version <code>2.4</code> und die zugehörigen Bibliotheken verwendet.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_WX=       2.4
WX_COMPS=     wx contrib</pre></div></div></div></div></div><div class=sect3><h4 id=wx-unicode>6.18.4. Unicode<a class=anchor href=#wx-unicode></a></h4><div class=paragraph><p>Die wxWidgets-Bibliotheken unterstützen Unicode seit der Version <code>2.5</code>. In den Ports sind beide Versionen verfügbar und können über die folgenden Variablen ausgewählt werden:</p></div><table id=wx-unicode-var-table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 34. Variablen, um Unicode in den wxWidgets-Versionen auszuwählen</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Bestimmt für</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WX_UNICODE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port funktioniert <em>ausschließlich</em> mit der Unicode-Version</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Port</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_UNICODE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port funktioniert in beiden Versionen - bevorzugt wird jedoch Unicode</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Port</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_UNICODE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port verwendet die Unicode-Version</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Benutzer</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITHOUT_UNICODE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port verwendet, falls unterstützt, die normale Version (falls <code>WX_UNICODE</code> nicht definiert ist)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Benutzer</p></td></tr></tbody></table><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Die Variable <code>WX_UNICODE</code> darf nicht bei Ports benutzt werden, die sowohl die Version mit als auch ohne Unterstützung für Unicode verwenden können. Falls der Port standardmäßig Unterstützung für Unicode bieten soll, verwenden Sie <code>WANT_UNICODE</code> stattdessen.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=wx-version-detection>6.18.5. Feststellen der installierten Version<a class=anchor href=#wx-version-detection></a></h4><div class=paragraph><p>Um eine bereits installierte Version zu finden, muss <code>WANT_WX</code> definiert werden. Falls diese Variable nicht auf eine bestimmte Versionsnummer gesetzt wird, werden die Komponenten einen Suffix mit der Versionsnummer tragen. Die Variable <code>HAVE_WX</code> wird gesetzt, falls eine installierte Version vorgefunden wurde.</p></div><div id=wx-ver-det-example class=exampleblock><div class=title>Beispiel 18. Installierte wxWidgets-Versionen und -Komponenten feststellen</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt kann in einem Port verwendet werden, der wxWidgets verwendet, falls es installiert ist, oder falls eine Option dafür ausgewählt wurde.</p></div><div class="literalblock programlisting"><div class=content><pre>WANT_WX=        yes

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_WX) || ${HAVE_WX:Mwx-2.4} != &#34;&#34;
USE_WX=         2.4
CONFIGURE_ARGS+=--enable-wx
.endif</pre></div></div><div class=paragraph><p>Der folgende Ausschnitt kann verwendet werden, um die Unterstützung für wxPython zusätzlich zu der von wxWidgets zu aktivieren (beide in Version <code>2.6</code>), wenn das installiert ist, oder die Option ausgewählt wurde.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_WX=         2.6
WX_COMPS=       wx
WANT_WX=        2.6

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_WXPYTHON) || ${HAVE_WX:Mpython} != &#34;&#34;
WX_COMPS+=      python
CONFIGURE_ARGS+=--enable-wxpython
.endif</pre></div></div></div></div></div><div class=sect3><h4 id=wx-defined-variables>6.18.6. Vordefinierte Variablen<a class=anchor href=#wx-defined-variables></a></h4><div class=paragraph><p>Die folgenden Variablen sind in den Ports verfügbar (nachdem sie entsprechend <a href=#wx-ver-sel-table>Variablen, um die wxWidgets-Version festzulegen</a> definiert wurden).</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 35. Vordefinierte Variablen für Ports, die wxWidgets verwenden</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WX_CONFIG</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum wxWidgets <code>wx-config</code>-Skript (mit unterschiedlichem Namen)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WXRC_CMD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pfad zum wxWidgets <code>wxrc</code>-Programm (mit unterschiedlichem Namen)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WX_VERSION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Version der wxWidgets, die verwendet werden soll (z.B. <code>2.6</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WX_UNICODE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls Unterstützung für Unicode nicht explizit definiert, jedoch verwendet wird, dann wird die Unterstützung automatisch aktiviert.</p></td></tr></tbody></table></div><div class=sect3><h4 id=wx-premk>6.18.7. Verarbeitung in <span class=filename>bsd.port.pre.mk</span><a class=anchor href=#wx-premk></a></h4><div class=paragraph><p>Falls die Variablen gleich nach dem Importieren von <span class=filename>bsd.port.pre.mk</span> benutzt werden sollen, so muss die Variable <code>WX_PREMK</code> definiert werden.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Falls <code>WX_PREMK</code> definiert ist, so werden Version, Abhängigkeiten, Komponenten und vordefinierte Variablen nicht geändert, wenn die Variablen des wxWidgets-Ports <em>nach</em> dem Einbinden von <span class=filename>bsd.port.pre.mk</span> geändert werden.</p></div></td></tr></tbody></table></div><div id=wx-premk-example class=exampleblock><div class=title>Beispiel 19. Verwendung von wxWidgets-Variablen in Kommandos</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt zeigt die Verwendung von <code>WX_PREMK</code> durch Ausführen des <code>wx-config</code>-Skriptes, um die vollständige Version als Zeichenkette zu erhalten, diese dann einer Variablen zuzuweisen und die Variable anschließend einem Programm zu übergeben.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_WX=         2.4
WX_PREMK=       yes

.include &lt;bsd.port.pre.mk&gt;

.if exists(${WX_CONFIG})
VER_STR!=       ${WX_CONFIG} --release

PLIST_SUB+=     VERSION=&#34;${VER_STR}&#34;
.endif</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Die wxWidgets-Variablen können problemlos in Kommandos benutzt werden, falls diese in Targets ohne gesetztes <code>WX_PREMK</code> verwendet werden.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=wx-additional-config-args>6.18.8. Weitere <code>configure</code>-Argumente<a class=anchor href=#wx-additional-config-args></a></h4><div class=paragraph><p>Einige GNU <code>configure</code>-Skripte können wxWidgets nicht auffinden, falls nur die Umgebungsvariable <code>WX_CONFIG</code> gesetzt ist, sondern benötigen zusätzliche Argumente. Dafür kann die Variable <code>WX_CONF_ARGS</code> benutzt werden.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 36. Zulässige Werte für <code>WX_CONF_ARGS</code></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Möglicher Wert</th><th class="tableblock halign-left valign-top">Resultierendes Argument</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>absolute</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>--with-wx-config=${WX_CONFIG}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>relative</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>--with-wx=${LOCALBASE} --with-wx-config=${WX_CONFIG:T}</code></p></td></tr></tbody></table></div></div><div class=sect2><h3 id=using-lua>6.19. Verwendung von Lua<a class=anchor href=#using-lua></a></h3><div class=paragraph><p>Dieser Abschnitt beschreibt den Status der Lua-Bibliotheken in den Ports und deren Einbindung in das Ports System.</p></div><div class=sect3><h4 id=lua-introduction>6.19.1. Einführung<a class=anchor href=#lua-introduction></a></h4><div class=paragraph><p>Es gibt viele Probleme bei der gleichzeitigen Verwendung unterschiedlicher Versionen von Lua-Bibliotheken (Dateien unterschiedlicher Versionen haben denselben Dateinamen). In den Ports wurde das Problem gelöst, indem jede Version unter einem eigenen Namen mit der Versionsnummer als Suffix installiert wird.</p></div><div class=paragraph><p>Der offensichtliche Nachteil dabei ist, dass jede Anwendung so verändert werden muss, dass sie die erwartete Version vorfindet. Dies kann jedoch durch zusätzliche Flags für Compiler und Linker gelöst werden.</p></div></div><div class=sect3><h4 id=lua-version>6.19.2. Auswahl der Version<a class=anchor href=#lua-version></a></h4><div class=paragraph><p>Um festzulegen, welche Version von Lua verwendet werden soll, gibt es zwei Variablen (falls nur eine der beiden definiert ist, so wird die andere auf einen Standardwert gesetzt):</p></div><table id=lua-ver-sel-table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 37. Variablen, um die Lua-Version festzulegen</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Standardwert</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_LUA</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Liste der Versionen, welche der Port verwenden kann</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Alle verfügbaren Versionen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_LUA_NOT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Liste der Versionen, die der Port nicht verwenden kann</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nichts</p></td></tr></tbody></table><div class=paragraph><p>Es folgt eine Liste an möglichen Lua-Versionen und deren zugehöriger Port:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 38. Verfügbare Lua-Versionen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Version</th><th class="tableblock halign-left valign-top">Port</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>4.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/lang/lua4/>lang/lua4</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>5.0</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/lang/lua50/>lang/lua50</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>5.1</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/lang/lua/>lang/lua</a></p></td></tr></tbody></table><div class=paragraph><p>Die Variablen in <a href=#lua-ver-sel-table>Variablen, um die Lua-Version festzulegen</a> können auf einen oder mehrere (durch Leerzeichen getrennt) der folgenden Werte gesetzt werden:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 39. Spezifikationen der Lua-Versionen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Beispiel</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Spezielle Version</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>4.0</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Aufsteigende Versionen</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>5.0+</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Absteigende Versionen</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>5.0-</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Versionenintervall (muss aufsteigend sein)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>5.0-5.1</code></p></td></tr></tbody></table><div class=paragraph><p>Desweiteren gibt es Variablen, über die eine bevorzugte Version festgelegt werden kann. Die Versionen können als Liste angegeben werden, wobei die Reihenfolge der Priorisierung entspricht.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 40. Variablen zur Festlegung der bevorzugten Lua-Version</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Bestimmt für</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WANT_LUA_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Port</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>WITH_LUA_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>den Benutzer</p></td></tr></tbody></table><div id=lua-version-example class=exampleblock><div class=title>Beispiel 20. Auswahl der Lua-Version</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt entspricht einem Port, der Lua in den Versionen <code>5.0</code> oder <code>5.1</code> verwenden kann und standardmäßig <code>5.0</code> verwendet. Diese Einstellung kann durch die benutzerdefinierte Variable <code>WITH_LUA_VER</code> überschrieben werden.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_LUA=      5.0-5.1
WANT_LUA_VER= 5.0</pre></div></div></div></div></div><div class=sect3><h4 id=lua-components>6.19.3. Komponentenauswahl<a class=anchor href=#lua-components></a></h4><div class=paragraph><p>Desweiteren gibt es Anwendungen, die nicht direkt Lua-Bibliotheken sind, aber trotzdem mit diesen zusammenhängen. Diese Anwendungen können über die Variable <code>LUA_COMPS</code> festgelegt werden. Die folgenden Komponenten sind verfügbar:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 41. Verfügbare Lua-Komponenten</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th><th class="tableblock halign-left valign-top">Versionseinschränkungen</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>lua</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hauptbibliothek</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Keine</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>tolua</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bibliothek für die Unterstützung von C/C++-Code</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>4.0-5.0</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ruby</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ruby-Bindungen</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>4.0-5.0</code></p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Es gibt weitere Komponenten, die jedoch Module für den Interpreter sind und nicht von Anwendungen benutzt werden (nur von anderen Modulen).</p></div></td></tr></tbody></table></div><div class=paragraph><p>Der Typ der Abhängigkeit kann für jede Komponente durch Hinzufügen eines Suffix (durch Strichpunkt getrennt) festgelegt werden. Falls der Typ nicht angegeben wird, wird ein Standardwert verwendet (siehe <a href=#lua-def-dep-types>Standardtypen für Lua-Abhängigkeiten</a>). Die folgenden Typen sind verfügbar:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 42. Verfügbare Typen von Lua-Abhängigkeiten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>build</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Komponente wird zum Bau benötigt - äquivalent zu <code>BUILD_DEPENDS</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>run</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Komponente wird zum Ausführen benötigt - äquivalent zu <code>RUN_DEPENDS</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Komponente wird zum Bau und zum Ausführen benötigt - äquivalent zu <code>LIB_DEPENDS</code></p></td></tr></tbody></table><div class=paragraph><p>Die Standardwerte für die einzelnen Komponenten sind in der folgenden Tabelle aufgeführt:</p></div><table id=lua-def-dep-types class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 43. Standardtypen für Lua-Abhängigkeiten</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Komponente</th><th class="tableblock halign-left valign-top">Typ der Abhängigkeit</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>lua</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code> für <code>4.0-5.0</code> (shared) und <code>build</code> für <code>5.1</code> (static)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>tolua</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>build</code> (static)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ruby</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>lib</code> (shared)</p></td></tr></tbody></table><div id=lua-components-example class=exampleblock><div class=title>Beispiel 21. Auswahl von Lua-Komponenten</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt entspricht einem Port, welcher die Lua-Version <code>4.0</code> und die zugehörigen Ruby-Bindungen verwendet.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_LUA=      4.0
LUA_COMPS=    lua ruby</pre></div></div></div></div></div><div class=sect3><h4 id=lua-version-detection>6.19.4. Feststellen der installierten Version<a class=anchor href=#lua-version-detection></a></h4><div class=paragraph><p>Um eine bereits installierte Version zu finden, muss <code>WANT_LUA</code> definiert werden. Falls diese Variable nicht auf eine bestimmte Versionsnummer gesetzt wird, werden die Komponenten einen Suffix mit der Versionsnummer tragen. Die Variable <code>HAVE_LUA</code> wird gesetzt, falls eine installierte Version vorgefunden wurde.</p></div><div id=lua-ver-det-example class=exampleblock><div class=title>Beispiel 22. Installierte Lua-Versionen und- Komponenten feststellen</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt kann in einem Port verwendet werden, der Lua benutzt, falls es installiert ist oder eine Option dafür ausgewählt wurde.</p></div><div class="literalblock programlisting"><div class=content><pre>WANT_LUA=       yes

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_LUA5) || ${HAVE_LUA:Mlua-5.[01]} != &#34;&#34;
USE_LUA=        5.0-5.1
CONFIGURE_ARGS+=--enable-lua5
.endif</pre></div></div><div class=paragraph><p>Der folgende Ausschnitt kann verwendet werden, um die Unterstützung für tolua zusätzlich zu der von Lua zu aktivieren (beide in Version 4.0), wenn dies installiert ist oder die Option ausgewählt wurde.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_LUA=        4.0
LUA_COMPS=      lua
WANT_LUA=       4.0

.include &lt;bsd.port.pre.mk&gt;

.if defined(WITH_TOLUA) || ${HAVE_LUA:Mtolua} != &#34;&#34;
LUA_COMPS+=     tolua
CONFIGURE_ARGS+=--enable-tolua
.endif</pre></div></div></div></div></div><div class=sect3><h4 id=lua-defined-variables>6.19.5. Vordefinierte Variablen<a class=anchor href=#lua-defined-variables></a></h4><div class=paragraph><p>Die folgenden Variablen sind in den Ports verfügbar (nachdem sie entsprechend <a href=#lua-ver-sel-table>Variablen, um die Lua-Version festzulegen</a> definiert wurden).</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 44. Vordefinierte Variablen für Ports, die Lua verwenden</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_VER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Lua-Version, die verwendet wird (z.B. <code>5.1</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_VER_SH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Hauptversion für shared-Lua-Bibliotheken (z.B. <code>1</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_VER_STR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Lua-Version ohne die Punkte (z.B. <code>51</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_PREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Präfix, unter dem Lua (und Komponenten) installiert ist</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_SUBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis unter <span class=filename>${PREFIX}/bin</span>, <span class=filename>${PREFIX}/share</span> und <span class=filename>${PREFIX}/lib</span>, in welchem Lua installiert ist</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_INCDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem Lua- und tolua-Header-Dateien installiert sind</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_LIBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem Lua- und tolua-Bibliotheken installiert sind</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_MODLIBDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem Lua Modul-Bibliotheken (<span class=filename>.so</span>) installiert sind</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_MODSHAREDIR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem Lua-Module (<span class=filename>.lua</span>) installiert sind</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_PKGNAMEPREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Paketnamen-Präfix, der von Lua-Modulen verwendet wird</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUA_CMD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem der Lua-Interpreter liegt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LUAC_CMD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem der Lua-Compiler liegt</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>TOLUA_CMD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Verzeichnis, in dem das tolua-Programm liegt</p></td></tr></tbody></table><div id=lua-variables-example class=exampleblock><div class=title>Beispiel 23. Einem Port mitteilen, in welchem Verzeichnis Lua liegt</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt zeigt, wie einem Port, welcher ein configure-Skript verwendet, mitgeteilt werden kann, wo die Lua-Header-Dateien und Bibliotheken liegen.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_LUA=        4.0
GNU_CONFIGURE=  yes
CONFIGURE_ENV=  CPPFLAGS=&#34;-I${LUA_INCDIR}&#34; LDFLAGS=&#34;-L${LUA_LIBDIR}&#34;</pre></div></div></div></div></div><div class=sect3><h4 id=lua-premk>6.19.6. Verarbeitung in <span class=filename>bsd.port.pre.mk</span><a class=anchor href=#lua-premk></a></h4><div class=paragraph><p>Falls die Variablen gleich nach dem Einbinden von <span class=filename>bsd.port.pre.mk</span> benutzt werden sollen, so muss die Variable <code>LUA_PREMK</code> definiert werden.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Falls <code>LUA_PREMK</code> definiert ist, so werden Version, Abhängigkeiten, Komponenten und vordefinierte Variablen nicht geändert, wenn die Variablen des Lua-Ports <em>nach</em> dem Einbinden von <span class=filename>bsd.port.pre.mk</span> geändert werden.</p></div></td></tr></tbody></table></div><div id=lua-premk-example class=exampleblock><div class=title>Beispiel 24. Verwendung von Lua-Variablen in Kommandos</div><div class=content><div class=paragraph><p>Der folgende Ausschnitt zeigt die Verwendung von <code>LUA_PREMK</code> durch Ausführen des Lua-Interpreters, um die vollständige Version als Zeichenkette zu erhalten, diese dann einer Variablen zuzuweisen und die Variable schließlich einem Programm zu übergeben.</p></div><div class="literalblock programlisting"><div class=content><pre>USE_LUA=        5.0
LUA_PREMK=      yes

.include &lt;bsd.port.pre.mk&gt;

.if exists(${LUA_CMD})
VER_STR!=       ${LUA_CMD} -v

CFLAGS+=        -DLUA_VERSION_STRING=&#34;${VER_STR}&#34;
.endif</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Die Lua-Variablen können problemlos in Befehlen benutzt werden, falls diese in Targets ohne gesetztes <code>LUA_PREMK</code> verwendet werden.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=using-xfce>6.20. Xfce verwenden<a class=anchor href=#using-xfce></a></h3><div class=paragraph><p>Die <code>USE_XFCE</code>-Variable wird für die automatische Konfiguration der Abhängigkeiten eingesetzt, welche die Xfce-Basisbibliotheken oder Anwendungen wie <a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/libxfce4gui/>x11-toolkits/libxfce4gui</a> und <a class=package href=https://cgit.freebsd.org/ports/tree/x11-wm/xfce4-panel/>x11-wm/xfce4-panel</a> verwenden.</p></div><div class=paragraph><p>Die folgenden Xfce-Bibliotheken und -Anwendungen werden derzeit unterstützt:</p></div><div class=ulist><ul><li><p>libexo: <a class=package href=https://cgit.freebsd.org/ports/tree/x11/libexo/>x11/libexo</a></p></li><li><p>libgui: <a class=package href=https://cgit.freebsd.org/ports/tree/x11-toolkits/libxfce4gui/>x11-toolkits/libxfce4gui</a></p></li><li><p>libutil: <a class=package href=https://cgit.freebsd.org/ports/tree/x11/libxfce4util/>x11/libxfce4util</a></p></li><li><p>libmcs: <a class=package href=https://cgit.freebsd.org/ports/tree/x11/libxfce4mcs/>x11/libxfce4mcs</a></p></li><li><p>mcsmanager: <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/xfce4-mcs-manager/>sysutils/xfce4-mcs-manager</a></p></li><li><p>panel: <a class=package href=https://cgit.freebsd.org/ports/tree/x11-wm/xfce4-panel/>x11-wm/xfce4-panel</a></p></li><li><p>thunar: <a class=package href=https://cgit.freebsd.org/ports/tree/x11-fm/thunar/>x11-fm/thunar</a></p></li><li><p>wm: <a class=package href=https://cgit.freebsd.org/ports/tree/x11-wm/xfce4-wm/>x11-wm/xfce4-wm</a></p></li><li><p>xfdev: <a class=package href=https://cgit.freebsd.org/ports/tree/dev/xfce4-dev-tools/>dev/xfce4-dev-tools</a></p></li></ul></div><div class=paragraph><p>Die folgenden zusätzlichen Parameter werden unterstützt:</p></div><div class=ulist><ul><li><p>configenv: Benutzen Sie dies, wenn Ihr Port eine speziell angepasste <code>CONFIGURE_ENV</code>-Variable benötigt, um seine erforderlichen Bibliotheken zu finden.</p><div class="literalblock programlisting"><div class=content><pre>-I${LOCALBASE}/include
	    -L${LOCALBASE}/lib</pre></div></div></li></ul></div><div class=paragraph><p>wird CPPFLAGS hinzugefügt und ergibt <code>CONFIGURE_ENV</code>.</p></div><div class=paragraph><p>Wenn also ein Port von <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/xfce4-mcs-manager/>sysutils/xfce4-mcs-manager</a> abhängt und die speziellen CPPFLAGS in seiner configure-Umgebung verlangt, dann würde die Syntax wie folgt aussehen:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_XFCE=        mcsmanager configenv</pre></div></div></div><div class=sect2><h3 id=using-mozilla>6.21. Mozilla verwenden<a class=anchor href=#using-mozilla></a></h3><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 45. Variablen für Ports, die Mozilla verwenden</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_GECKO</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Vom Port unterstützte Gecko-Backends. Mögliche Werte sind: <code>libxul</code> (<span class=filename>libxul.so</span>), <code>seamonkey</code> (<span class=filename>libgtkembedmoz.so</span>, (veraltet, sollte daher nicht mehr verwendet werden).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_FIREFOX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt Firefox, um korrekt zu funktionieren. Mögliche Werte sind: <code>yes</code> (verwendet die Standardversion), <code>40</code>, <code>36</code>, <code>35</code>. Die Standardversion ist derzeit <code>40</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_FIREFOX_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Um den Port zu bauen, muss Firefox installiert sein. Wird diese Variable gesetzt, wird automatisch auch <code>USE_FIREFOX</code> gesetzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_SEAMONKEY</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Port benötigt Seamonkey, um korrekt zu funktionieren. Mögliche Werte sind: <code>yes</code> (verwendet die Standardversion), <code>20</code>, <code>11</code> (veraltet, sollte daher nicht mehr verwendet werden). Die Standardversion ist <code>20</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_SEAMONKEY_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Um den Port zu bauen, muss Seamonkey installiert sein. Wird diese Variable gesetzt, wird automatisch auch <code>USE_SEAMONKEY</code> gesetzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_THUNDERBIRD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dieser Port benötigt Thunderbird, um korrekt zu funktionieren. Mögliche Werte sind: <code>yes</code> (verwendet die Standardversion), <code>31</code>, <code>30</code> (veraltet, sollte daher nicht mehr verwendet werden). Die Standardversion ist <code>31</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_THUNDERBIRD_BUILD</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Um den Port zu bauen, muss Thunderbird installiert sein. Wird diese Variable gesetzt, wird automatisch auch <code>USE_THUNDERBIRD</code> gesetzt.</p></td></tr></tbody></table><div class=paragraph><p>Eine komplette Liste aller verfügbaren Variablen finden Sie in der Datei <span class=filename>/usr/ports/Mk/bsd.gecko.mk</span>.</p></div></div><div class=sect2><h3 id=using-databases>6.22. Benutzung von Datenbanken<a class=anchor href=#using-databases></a></h3><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 46. Variablen für Ports, die Datenbanken benutzen</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_BDB</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls die Variable auf <code>yes</code> gesetzt ist, füge eine Abhängigkeit von <a class=package href=https://cgit.freebsd.org/ports/tree/databases/db41/>databases/db41</a> hinzu. Die Variable kann auch folgende Werte annehmen: 40, 41, 42, 43, 44, 46, 47, 48 oder 51. Sie können eine Folge akzeptierter Werte angeben - <code>USE_BDB</code>=42+ stellt die höchste installierte Version fest und greift auf 42 zurück, falls sonst nichts installiert ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_MYSQL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls die Variable auf <code>yes</code> gesetzt ist, füge <a class=package href=https://cgit.freebsd.org/ports/tree/databases/mysql55-server/>databases/mysql55-server</a> als Abhängigkeit hinzu. Die damit verknüpfte Variable <code>WANT_MYSQL_VER</code> kann Werte wie 323, 40, 41, 50, 51, 52, 55, oder 60 annehmen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USE_PGSQL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Falls die Variable auf <code>yes</code> gesetzt ist, füge eine Abhängigkeit von <a class=package href=https://cgit.freebsd.org/ports/tree/databases/postgresql84/>databases/postgresql84</a> hinzu. Die damit verknüpfte Variable <code>WANT_PGSQL_VER</code> kann Werte wie 73, 74, 80, 81, 82, 83, oder 90 annehmen.</p></td></tr></tbody></table><div class=paragraph><p>Weitere Informationen zu diesem Thema finden sich in der Datei <a href=http://www.freebsd.org/cgi/cvsweb.cgi/ports/Mk/bsd.database.mk>bsd.database.mk</a>.</p></div></div><div class=sect2><h3 id=rc-scripts>6.23. Starten und Anhalten von Diensten (rc Skripten)<a class=anchor href=#rc-scripts></a></h3><div class=paragraph><p><span class=filename>rc.d</span>-Skripten werden zum Starten von Diensten während des Systemstarts verwendet und um den Administratoren einen Standardweg zum Anhalten und Starten von Diensten zu bieten. Ports halten sich an dieses systemweite <span class=filename>rc.d</span>-Framework. Details zu deren Benutzung können im <a href=https://docs.freebsd.org/de/books/handbook/config-tuning/#configtuning-rcd>rc.d Kapitel des Handbuchs</a> nachgelesen werden. Ausführliche Beschreibungen der verfügbaren Befehle stehen in <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.subr&amp;sektion=8&amp;format=html">rc.subr(8)</a>. Desweiteren gibt es <a href={rc-scripting.en}>einen Artikel</a> zu praktischen Aspekten bezüglich <span class=filename>rc.d</span>-Skripten.</p></div><div class=paragraph><p>Ein oder mehrere <span class=filename>rc.d</span>-Skripten können installiert werden mittels:</p></div><div class="literalblock programlisting"><div class=content><pre>USE_RC_SUBR=    doormand</pre></div></div><div class=paragraph><p>Skripten müssen im Unterverzeichnis <span class=filename>files</span> abgelegt und jeder Skript-Datei muss ein <code>.in</code>-Suffix hinzugefügt werden. Standardmäßige <code>SUB_LIST</code>-Ersetzungen werden für diese Dateien unterstützt. Die Verwendung von <code>%%PREFIX%%</code> und <code>%%LOCALBASE%%</code> wird dringend empfohlen. Näheres zu <code>SUB_LIST</code> kann im <a href=#using-sub-files>zugehörigen Kapitel</a> nachgelesen werden.</p></div><div class=paragraph><p>Für FreeBSD-Versionen, die älter als 6.1-RELEASE sind, ist die Integration mittels <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> möglich, indem <code>USE_RCORDER</code> anstatt <code>USE_RC_SUBR</code> verwendet wird. Die Verwendung dieser Methode ist jedoch nur notwendig, wenn der Port in die Verzeichnisstruktur des Basissystems installiert werden kann oder der Dienst vor den <span class=filename>FILESYSTEMS</span>-Skripten in <span class=filename>rc.d</span> des Basissystems gestartet sein muss.</p></div><div class=paragraph><p>Seit FreeBSD 6.1-RELEASE sind lokale <span class=filename>rc.d</span>-Skripten (inklusive der durch Ports installierten) im allgemeinen <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> des Basissystems.</p></div><div class=paragraph><p>Beispiel eines einfachen <span class=filename>rc.d</span>-Skripts:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh

# $FreeBSD$
#
# PROVIDE: doormand
# REQUIRE: LOGIN
# KEYWORD: shutdown
#
# Add the following lines to /etc/rc.conf.local or /etc/rc.conf
# to enable this service:
#
# doormand_enable (bool):    Set to NO by default.
#                Set it to YES to enable doormand.
# doormand_config (path):    Set to %%PREFIX%%/etc/doormand/doormand.cf
#                by default.
#

. /etc/rc.subr

name=&#34;doormand&#34;
rcvar=${name}_enable

command=%%PREFIX%%/sbin/${name}
pidfile=/var/run/${name}.pid

load_rc_config $name

: ${doormand_enable=&#34;NO&#34;}
: ${doormand_config=&#34;%%PREFIX%%/etc/doormand/doormand.cf&#34;}

command_args=&#34;-p $pidfile -f $doormand_config&#34;

run_rc_command &#34;$1&#34;</pre></div></div><div class=paragraph><p>Solange kein guter Grund dafür besteht, einen Dienst früher starten zu lassen, sollten alle Ports-Skripten</p></div><div class="literalblock programlisting"><div class=content><pre>REQUIRE: LOGIN</pre></div></div><div class=paragraph><p>verwenden. Falls der Port von einem bestimmten Benutzer (außer root) ausgeführt wird, ist dies zwingend.</p></div><div class="literalblock programlisting"><div class=content><pre>KEYWORD: shutdown</pre></div></div><div class=paragraph><p>ist im Skript oben deswegen vorhanden, weil der frei erfundene Beispiel-Port einen Dienst startet und dieser beim Herunterfahren des Systems sauber beendet werden sollte. Startete das Skript keinen persistenten Dienst, wäre dies nicht notwendig.</p></div><div class=paragraph><p>Für die Wertzuweisung von Variablen sollte "=" anstatt ":=" verwendet werden, da bei Ersterem nur auf einen Standardwert gesetzt wird, wenn die Variable vorher noch nicht gesetzt war, und bei Letzterem dieser gesetzt wird, auch wenn der Wert vorher Null gewesen ist. Ein Benutzer kann durchaus einen Ausdruck wie</p></div><div class="literalblock programlisting"><div class=content><pre>doormand_flags=&#34;&#34;</pre></div></div><div class=paragraph><p>in seiner <span class=filename>rc.conf.local</span>-Datei stehen haben, und eine Variablenzuweisung mittels ":=" würde in diesem Fall die Benutzerdefinition überschreiben.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Es sollten keine weiteren Skripten mit der <span class=filename>.sh</span>-Endung hinzugefügt werden. Irgendwann wird es ein Massenumbenennen aller Skripten im Repository geben, die immer noch diese Endung haben.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=_anhalten_und_deinstallieren_von_diensten>6.23.1. Anhalten und Deinstallieren von Diensten<a class=anchor href=#_anhalten_und_deinstallieren_von_diensten></a></h4><div class=paragraph><p>Es ist möglich, dass ein Dienst während der Deinstallation automatisch angehalten wird. Es wird empfohlen dieses Verhalten nur zu implementieren, wenn es unbedingt erforderlich ist zuerst den Dienst anzuhalten und dann die Dateien zu entfernen. Normalerweise sollte es dem Administrator überlassen werden, ob ein Dienst durch Deinstallieren angehalten werden soll. Dies betrifft auch den Vorgang des Aktualisierens.</p></div><div class=paragraph><p>Der Datei <span class=filename>pkg-plist</span> sollte eine Zeile wie folgt zugefügt werden:</p></div><div class="literalblock programlisting"><div class=content><pre>@stopdaemon doormand</pre></div></div><div class=paragraph><p>Das Argument muss dabei mit dem Inhalt der <code>USE_RC_SUBR</code>-Variablen übereinstimmen.</p></div></div></div><div class=sect2><h3 id=users-and-groups>6.24. Hinzufügen von Benutzern und Gruppen<a class=anchor href=#users-and-groups></a></h3><div class=paragraph><p>Manche Ports setzen voraus, dass ein bestimmter Benutzer auf dem System angelegt ist. Wählen Sie in einem solchen Fall eine freie Kennnummer zwischen 50 und 999 aus und tragen Sie diese in <span class=filename>ports/UIDs</span> (für Benutzer) oder <span class=filename>ports/GIDs</span> (für Gruppen) ein. Stellen Sie dabei sicher, dass Sie keine Kennnummer auswählen, die bereits vom System oder von anderen Ports verwendet wird.</p></div><div class=paragraph><p>Erstellen Sie bitte eine entsprechende Patch-Datei für diese beiden Dateien, wenn für Ihren Port ein neuer Benutzer oder eine neue Gruppe angelegt werden muss.</p></div><div class=paragraph><p>Sie können dann die Variablen <code>USERS</code> und <code>GROUPS</code> im <span class=filename>Makefile</span> benutzen, um bei der Port-Installation das automatische Anlegen des Benutzers zu veranlassen.</p></div><div class="literalblock programlisting"><div class=content><pre>USERS=  pulse
GROUPS= pulse pulse-access pulse-rt</pre></div></div><div class=paragraph><p>Die Liste mit den momentan belegten UIDs (GIDs) befindet sich in <span class=filename>ports/UIDs</span> (<span class=filename>ports/GIDs</span>).</p></div></div><div class=sect2><h3 id=_von_kernelquellen_abhängige_ports>6.25. Von Kernelquellen abhängige Ports<a class=anchor href=#_von_kernelquellen_abhängige_ports></a></h3><div class=paragraph><p>Einige Ports (beispielsweise vom Kernel ladbare Module) benötigen die Kernelsourcen, damit sie gebaut werden können. Die folgenden Zeilen beschreiben den korrekten Weg, wie Sie feststellen können, ob der Benutzer die Kernelsourcen installiert hat:</p></div><div class="literalblock programlisting"><div class=content><pre>.if !exists(${SRC_BASE}/sys/Makefile)

IGNORE=         requires kernel sources to be installed
.endif</pre></div></div></div></div></div><div class=sect1><h2 id=plist>Kapitel 7. Fortgeschrittene <span class=filename>pkg-plist</span>-Methoden<a class=anchor href=#plist></a></h2><div class=sectionbody><div class=sect2><h3 id=plist-sub>7.1. Änderungen an pkg-plist mit Hilfe von make-Variablen<a class=anchor href=#plist-sub></a></h3><div class=paragraph><p>Einige Ports, insbesondere die <code>p5-</code>-Ports, müssen, abhängig von ihren Konfigurationsoptionen (oder im Falle der p5-Ports von der <code>perl</code>-Version), die <span class=filename>pkg-plist</span> verändern. Um dies zu vereinfachen, werden für jeden Eintrag in <span class=filename>pkg-plist</span> die Variablen <code>%%OSREL%%</code>, <code>%%PERL_VER%%</code> und <code>%%PERL_VERSION%%</code> durch die jeweiligen Werte ersetzt. Der Wert von <code>%%OSREL%%</code> ist die Revisionsnummer des Betriebssystems (z.B. <code>4.9</code>). <code>%%PERL_VERSION%%</code> und <code>%%PERL_VER%%</code> geben die vollständige Versionsnummer von <code>perl</code> (z.B. <code>5.8.9</code>) an. Weitere, die Dokumentationsdateien des Ports betreffende <code>%%VARS%%</code>, werden im <a href=#install-documentation>entsprechenden Abschnitt</a> erläutert.</p></div><div class=paragraph><p>Falls Sie weitere Ersetzungen von Variablen durchführen müssen, können Sie in der Variable <code>PLIST_SUB</code> eine Liste von <code>VAR=VALUE</code>-Paaren angeben, wobei in der <span class=filename>pkg-plist</span><code>%%VAR%%</code> durch <em>VALUE</em> ersetzt wird.</p></div><div class=paragraph><p>Wenn Sie z.B. einen Port haben, der viele Dateien in ein versionsspezifisches Unterverzeichnis installiert, dann können Sie etwas wie</p></div><div class="literalblock programlisting"><div class=content><pre>OCTAVE_VERSION= 2.0.13
PLIST_SUB=      OCTAVE_VERSION=${OCTAVE_VERSION}</pre></div></div><div class=paragraph><p>in das <span class=filename>Makefile</span> schreiben und <code>%%OCTAVE_VERSION%%</code> verwenden, unabhängig davon, wo die Variable in <span class=filename>pkg-plist</span> verwendet wird. In diesem Fall müssen Sie bei einem Upgrade des Ports nicht dutzende (oder manchmal sogar hunderte) Zeilen in <span class=filename>pkg-plist</span> anpassen.</p></div><div class=paragraph><p>Falls Ihr Port in Abhängigkeit von den ausgewählten Optionen Dateien installiert, ist es üblich, den entsprechenden Zeilen in der <span class=filename>pkg-plist</span> eine Zeichenfolge <code>%%TAG%%</code> voranzustellen, wobei der Platzhalter <code>TAG</code> der Variablen <code>PLIST_SUB</code> im <span class=filename>Makefile</span> bei gleichzeitiger Zuweisung des speziellen Werts <code>@comment</code> hinzugefügt wird, der die Paket-Werkzeuge die Zeile ignorieren lässt:</p></div><div class="literalblock programlisting"><div class=content><pre>.if defined(WITH_X11)
PLIST_SUB+= X11=&#34;&#34;
.else
PLIST_SUB+= X11=&#34;@comment &#34;
.endif</pre></div></div><div class=paragraph><p>und in der <span class=filename>pkg-plist</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>%%X11%%bin/foo-gui</pre></div></div><div class=paragraph><p>Diese Ersetzung (ebenso wie das Hinzufügen weiterer <a href=#makefile-manpages>Manualpages</a>) wird zwischen den <code>pre-install</code>- und <code>do-install</code>-Targets ausgeführt, indem aus <span class=filename>PLIST</span> gelesen und in <span class=filename>TMPPLIST</span> geschrieben wird (Standard: <span class=filename>WRKDIR/.PLIST.mktmp</span>). Falls Ihr Port also <span class=filename>PLIST</span> während dem Erstellen generiert, so sollte dies vor oder in <code>pre-install</code> geschehen. Muss Ihr Port die resultierende Datei verändern, so sollte dies in <code>post-install</code> mit der Ausgabedatei <span class=filename>TMPPLIST</span> erfolgen.</p></div><div class=paragraph><p>Eine weitere Möglichkeit, die Paketliste eines Ports zu verändern, besteht darin die Variablen <code>PLIST_FILES</code> und <code>PLIST_DIRS</code> zu setzen. Der Wert jeder der beiden Variablen stellt eine Liste von Pfadnamen dar, die zusammen mit dem Inhalt von <span class=filename>PLIST</span> in <span class=filename>TMPPLIST</span> geschrieben wird. Dabei unterliegen die Namen in <code>PLIST_FILES</code> und <code>PLIST_DIRS</code> der weiter oben beschriebenen Substitution von <code>%%VAR%%</code>. Die Namen aus <code>PLIST_FILES</code> werden ansonsten unverändert in die endgültige Paketliste übernommen, während den Namen aus <code>PLIST_DIRS</code> noch der Wert von <code>@dirrm</code> vorangestellt wird. Damit die Verwendung von <code>PLIST_FILES</code> und <code>PLIST_DIRS</code> überhaupt möglich ist, müssen diese gesetzt werden, bevor <span class=filename>TMPPLIST</span> geschrieben wird - z.B. in <code>pre-install</code> oder vorher.</p></div></div><div class=sect2><h3 id=plist-cleaning>7.2. Leere Verzeichnisse<a class=anchor href=#plist-cleaning></a></h3><div class=sect3><h4 id=plist-dir-cleaning>7.2.1. Aufräumen leerer Verzeichnisse<a class=anchor href=#plist-dir-cleaning></a></h4><div class=paragraph><p>Bitte sorgen Sie dafür, dass ihre Ports bei der Deinstallation leere Verzeichnisse löschen. Dazu wird für jedes Verzeichnis, das der Port erzeugt hat, eine <code>@dirrm</code>-Zeile angegeben. Um ein Verzeichnis zu löschen müssen Sie zuerst dessen Unterverzeichnisse entfernen.</p></div><div class="literalblock programlisting"><div class=content><pre> :
lib/X11/oneko/pixmaps/cat.xpm
lib/X11/oneko/sounds/cat.au
 :
@dirrm lib/X11/oneko/pixmaps
@dirrm lib/X11/oneko/sounds
@dirrm lib/X11/oneko</pre></div></div><div class=paragraph><p>Es kann allerdings auch vorkommen, dass <code>@dirrm</code> Fehler ausgibt, da andere Ports ein Verzeichnis ebenfalls nutzen. Deshalb können Sie <code>@dirrmtry</code> verwenden, um nur Verzeichnisse zu löschen, die wirklich leer sind, und damit Warnhinweise vermeiden.</p></div><div class="literalblock programlisting"><div class=content><pre>@dirrmtry share/doc/gimp</pre></div></div><div class=paragraph><p>Dadurch wird es weder eine Fehlermeldung geben noch wird <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> abnormal beendet werden - auch dann nicht, wenn <span class=filename>${PREFIX}/shared/doc/gimp</span> nicht leer ist, da andere Ports hier ebenfalls Dateien installiert haben.</p></div></div><div class=sect3><h4 id=plist-dir-empty>7.2.2. Erstellen leerer Verzeichnisse<a class=anchor href=#plist-dir-empty></a></h4><div class=paragraph><p>Um leere Verzeichnisse während der Installation eines Ports zu erstellen, bedarf es etwas Aufmerksamkeit. Diese Verzeichnisse werden nicht erstellt, wenn das Paket installiert wird, da Pakete nur die Dateien speichern und <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> nur die Verzeichnisse erstellt, die dafür benötigt werden. Um sicher zu gehen, dass das leere Verzeichnis erstellt wird, wenn ein Paket installiert wird, muss die folgende Zeile in <span class=filename>pkg-plist</span> über der entsprechenden <code>@dirrm</code> Zeile eingetragen werden:</p></div><div class="literalblock programlisting"><div class=content><pre>@exec mkdir -p %D/shared/foo/templates</pre></div></div></div></div><div class=sect2><h3 id=plist-config>7.3. Konfigurationsdateien<a class=anchor href=#plist-config></a></h3><div class=paragraph><p>Sollte Ihr Port Konfigurationsdateien in <span class=filename>PREFIX/etc</span> benötigen, so sollten Sie diese <em>nicht</em> einfach installieren und in <span class=filename>pkg-plist</span> auflisten. Dies würde <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> veranlassen, diese Dateien zu löschen, selbst wenn wenn sie vom Benutzer editiert wurden.</p></div><div class=paragraph><p>Stattdessen sollten Beispieldateien mit einem entsprechenden Suffix (beispielsweise <span class=filename>filename.sample</span>) versehen werden. Ist die Konfigurationsdatei nicht vorhanden, so sollte die Beispieldatei an deren Platz kopiert werden. Bei der Deinstallation sollte die Konfigurationsdatei gelöscht werden, aber nur, wenn sie nicht vom Benutzer verändert wurde. Das alles muss sowohl im <span class=filename>Makefile</span> des Ports als auch in der <span class=filename>pkg-plist</span> (für die Installation aus einem Paket) sichergestellt werden.</p></div><div class=paragraph><p>Beispiel aus einem <span class=filename>Makefile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>post-install:
    @if [ ! -f ${PREFIX}/etc/orbit.conf ]; then \
	${CP} -p ${PREFIX}/etc/orbit.conf.sample ${PREFIX}/etc/orbit.conf ; \
    fi</pre></div></div><div class=paragraph><p>Beispiel aus einer <span class=filename>pkg-plist</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>@unexec if cmp -s %D/etc/orbit.conf.sample %D/etc/orbit.conf; then rm -f %D/etc/orbit.conf; fi
etc/orbit.conf.sample
@exec if [ ! -f %D/etc/orbit.conf ] ; then cp -p %D/%F %B/orbit.conf; fi</pre></div></div><div class=paragraph><p>Wahlweise können Sie auch eine <a href=#porting-message>Nachricht</a> ausgegeben lassen, in der Sie den Nutzer auffordern, die Datei an die richtige Stelle zu kopieren und zu bearbeiten, bevor das Programm ausgeführt werden kann.</p></div></div><div class=sect2><h3 id=plist-dynamic>7.4. Dynamische oder statische Paketliste<a class=anchor href=#plist-dynamic></a></h3><div class=paragraph><p>Eine <em>statische Paketliste</em> ist eine Paketliste, die in der Ports-Sammlung, entweder in Form der <span class=filename>pkg-plist</span> (mit oder ohne der Ersetzung von Variablen) oder durch <code>PLIST_FILES</code> und <code>PLIST_DIRS</code> im <span class=filename>Makefile</span> eingebettet, verfügbar ist. Selbst wenn der Inhalt durch ein Werkzeug oder ein Target im Makefile automatisch erzeugt wird, <em>bevor</em> die Datei von einem Committer in die Ports-Sammlung aufgenommen wird, so ist dies immer noch eine statische Liste, da es möglich ist den Dateiinhalt zu betrachten ohne ein Distfile Herunterladen oder Kompilieren zu müssen.</p></div><div class=paragraph><p>Eine <em>dynamische Paketliste</em> ist eine Paketliste, die beim Kompilieren des Ports erstellt wird, abhängig davon, welche Dateien und Verzeichnisse installiert werden. Es ist nicht möglich diese Liste zu betrachten, bevor der Quelltext heruntergeladen und kompiliert oder nachdem ein <code>make clean</code> ausgeführt wurde.</p></div><div class=paragraph><p>Der Einsatz dynamischer Paketlisten ist zwar nicht untersagt, aber Sie sollten, wann immer das möglich ist, statische Paketlisten verwenden, da die Nutzer dann <a href="https://man.freebsd.org/cgi/man.cgi?query=grep&amp;sektion=1&amp;format=html">grep(1)</a> auf alle verfügbaren Ports anwenden können, um z.B. herauszufinden, von welchem eine bestimmte Datei installiert wurde. Dynamische Paketlisten sollten für komplexe Ports verwendet werden, bei denen sich die Liste abhängig von den gewählten Funktionen sehr stark ändern kann (wodurch die Pflege von statischen Listen unmöglich wird), oder Ports, welche die Paketliste abhängig von den Versionen verwendeter Abhängigkeiten verändern (z.B. Ports, die Ihre Dokumentation mit Javadoc erzeugen).</p></div><div class=paragraph><p>Maintainer, die dynamische Paketlisten bevorzugen, werden dazu aufgefordert, neue Targets zu Ihren Ports hinzuzufügen, welche die <span class=filename>pkg-plist</span>-Datei erzeugen, sodass Benutzer den Inhalt überprüfen können.</p></div></div><div class=sect2><h3 id=plist-autoplist>7.5. Automatisiertes Erstellen von Paketlisten<a class=anchor href=#plist-autoplist></a></h3><div class=paragraph><p>Als Erstes sollten Sie sich vergewissern, dass der Port bis auf <span class=filename>pkg-plist</span> vollständig ist.</p></div><div class=paragraph><p>Als Nächstes erstellen Sie einen temporären Verzeichnisbaum, in welchem Ihr Port installiert werden kann, und installieren Sie alle Abhängigkeiten.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/`make -V PORTNAME`</span>
<span class=c># mtree -U -f `make -V MTREE_FILE` -d -e -p /var/tmp/`make -V PORTNAME`</span>
<span class=c># make depends PREFIX=/var/tmp/`make -V PORTNAME`</span></code></pre></div></div><div class=paragraph><p>Speichern Sie die Verzeichnisstruktur in einer neuen Datei.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># (cd /var/tmp/`make -V PORTNAME` &amp;&amp; find -d * -type d) | sort &gt; OLD-DIRS</span></code></pre></div></div><div class=paragraph><p>Erstellen Sie eine leere <span class=filename>pkg-plist</span>-Datei:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># :&gt;pkg-plist</span></code></pre></div></div><div class=paragraph><p>Wenn Ihr Port auf <code>PREFIX</code> achtet (was er machen sollte), so kann der Port nun installiert und die Paketliste erstellt werden.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make install PREFIX=/var/tmp/`make -V PORTNAME`</span>
<span class=c># (cd /var/tmp/`make -V PORTNAME` &amp;&amp; find -d * \! -type d) | sort &gt; pkg-plist</span></code></pre></div></div><div class=paragraph><p>Sie müssen auch alle neu erstellten Verzeichnisse in die Paketliste aufnehmen.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># (cd /var/tmp/`make -V PORTNAME` &amp;&amp; find -d * -type d) | sort | comm -13 OLD-DIRS - | sort -r | sed -e &#39;s#^#@dirrm #&#39; &gt;&gt; pkg-plist</span></code></pre></div></div><div class=paragraph><p>Zu guter Letzt muss die Paketliste noch manuell aufgeräumt werden - es funktioniert eben nicht <em>alles</em> automatisch. Manualpages sollten im <span class=filename>Makefile</span> des Ports unter <code>MAN<em>n</em></code> aufgeführt sein und nicht in der Paketliste. Konfigurationsdateien des Benutzers sollten entfernt oder als <span class=filename>filename.sample</span> installiert werden. Die <span class=filename>info/dir</span>-Datei sollte nicht aufgeführt sein und die zugehörigen <span class=filename>install-info</span>-Zeilen sollten hinzugefügt werden, wie im <a href=#makefile-info>info files</a>-Abschnitt beschrieben. Alle Bibliotheken, die der Port installiert, sollten aufgelistet werden, wie es im <a href=#porting-shlibs>Shared Libraries</a>-Abschnitt festgelegt ist.</p></div><div class=paragraph><p>Alternativ dazu können Sie das <code>plist</code>-Skript in <span class=filename>/usr/ports/Tools/scripts/</span> verwenden, um die Paketliste automatisch zu erstellen. Das <span class=filename>plist</span>-Skript ist ein Ruby-Skript, das die meisten der in den vorangehenden Absätzen kurz dargestellten manuellen Schritte automatisiert.</p></div><div class=paragraph><p>Der erste Schritt ist derselbe wie oben: Nehmen Sie die ersten drei Zeilen, also <code>mkdir</code>, <code>mtree</code> und <code>make depends</code>. Installieren und bauen Sie dann den Port:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make install PREFIX=/var/tmp/`make -V PORTNAME`</span></code></pre></div></div><div class=paragraph><p>Und lassen Sie <code>plist</code> die <span class=filename>pkg-plist</span>-Datei erstellen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/ports/Tools/scripts/plist -Md -m `make -V MTREE_FILE` /var/tmp/`make -V PORTNAME` &gt; pkg-plist</span></code></pre></div></div><div class=paragraph><p>Die Paketliste muss immer noch von Hand aufgeräumt werden, wie es oben erklärt wurde.</p></div><div class=paragraph><p>Ein weiteres Werkzeug zur Erzeugung einer ersten <span class=filename>pkg-plist</span>-Datei ist <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/genplist/>ports-mgmt/genplist</a>. Wie bei jedem automatisierten Hilfswerkzeug, sollte die erzeugte <span class=filename>pkg-plist</span>-Datei überprüft und bei Bedarf von Hand nachbearbeitet werden.</p></div><div class=paragraph><p>Es gibt noch einige Tricks mit <span class=filename>pkg-*</span>, die wir noch nicht erwähnt haben, die aber oft sehr praktisch sind.</p></div></div></div></div><div class=sect1><h2 id=pkg-files>Kapitel 8. Die <span class=filename>pkg-*</span> Dateien<a class=anchor href=#pkg-files></a></h2><div class=sectionbody><div class=sect2><h3 id=porting-message>8.1. <span class=filename>pkg-message</span><a class=anchor href=#porting-message></a></h3><div class=paragraph><p>Wenn Sie dem Anwender bei der Installation weitere Informationen anzeigen wollen, so können Sie diese Nachricht in <span class=filename>pkg-message</span> speichern. Diese Vorgehensweise ist oft nützlich, um zusätzliche Schritte anzuzeigen, die nach <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> durchgeführt werden müssen. Dadurch können Sie auch Lizenzinformationen darstellen.</p></div><div class=paragraph><p>Wollen Sie nur ein paar Zeilen über die Einstellungen zum Erstellen des Ports oder Warnungen ausgeben, benutzen Sie <code>ECHO_MSG</code>. <span class=filename>pkg-message</span> ist nur für Schritte nach der Installation vorgesehen. Sie sollten den Unterschied zwischen <code>ECHO_MSG</code> und <code>ECHO_CMD</code> beachten: Ersteres wird benutzt, um Informationen auf dem Bildschirm auszugeben, während Letzteres für Kommando-Pipelining bestimmt ist.</p></div><div class=paragraph><p>Ein gutes Beispiel für die Benutzung der beiden Befehle ist in <span class=filename>shells/bash2/Makefile</span> zu finden:</p></div><div class="literalblock programlisting"><div class=content><pre>update-etc-shells:
    @${ECHO_MSG} &#34;updating /etc/shells&#34;
    @${CP} /etc/shells /etc/shells.bak
    @( ${GREP} -v ${PREFIX}/bin/bash /etc/shells.bak; \
	${ECHO_CMD} ${PREFIX}/bin/bash) &gt;/etc/shells
    @${RM} /etc/shells.bak</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Stellen Sie sicher, dass sie auf die korrekten Tools zum Verwalten von Diensten verweisen.
* Verwenden Sie <code>service name start</code>, um einen Dienst zu starten, anstatt <code>/usr/local/etc/rc.d/name start</code> zu verwenden.
* Verwenden Sie <code>sysrc name_enable=YES</code>, um Optionen in rc.conf zu ändern.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Die <span class=filename>pkg-message</span> wird nicht zur <span class=filename>pkg-plist</span> hinzugefügt. Sie wird auch nicht automatisch angezeigt, falls ein Anwender den Port installiert. Sie müssen also die Ausgabe selbst im <code>post-install</code>-Ziel des Make-Vorgangs veranlassen.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=pkg-install>8.2. <span class=filename>pkg-install</span><a class=anchor href=#pkg-install></a></h3><div class=paragraph><p>Sollte es nötig sein, dass Ihr Port bei der Installation des Binärpakets mit <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> Befehle ausführt, können Sie das Skript <span class=filename>pkg-install</span> benutzen. Dieses Skript wird automatisch dem Paket hinzugefügt und zweimal von <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> ausgeführt: Zuerst als <code>${SH} pkg-install ${PKGNAME} PRE-INSTALL</code> und beim zweiten Mal als <code>${SH} pkg-install ${PKGNAME} POST-INSTALL</code>. <code>$2</code> kann also getestet werden, um festzustellen, in welchem Modus das Skript ausgeführt wird. Die Umgebungsvariable <code>PKG_PREFIX</code> wird auf das Verzeichnis gesetzt, in welches das Paket installiert wird. Siehe <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> für weiterführende Informationen.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Das Skript wird nicht automatisch ausgeführt, wenn Sie den Port mit <code>make install</code> installieren. Wenn Sie es ausführen lassen wollen, dann müssen Sie es im Makefile aufrufen: <code>PKG_PREFIX=${PREFIX} ${SH} ${PKGINSTALL} ${PKGNAME} PRE-INSTALL.</code></p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=pkg-deinstall>8.3. <span class=filename>pkg-deinstall</span><a class=anchor href=#pkg-deinstall></a></h3><div class=paragraph><p>Dieses Skript wird ausgeführt, wenn ein Paket deinstalliert wird.</p></div><div class=paragraph><p>Es wird zweimal von <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> aufgerufen. Das erste Mal als <code>${SH} pkg-deinstall ${PKGNAME} DEINSTALL</code> und dann als <code>${SH} pkg-deinstall ${PKGNAME} POST-DEINSTALL.</code></p></div></div><div class=sect2><h3 id=pkg-req>8.4. <span class=filename>pkg-req</span><a class=anchor href=#pkg-req></a></h3><div class=paragraph><p>Muss Ihr Port entscheiden, ob er installiert werden soll oder nicht, können Sie ein <span class=filename>pkg-req</span>-"Bedingungsskript" verwenden. Dieses wird automatisch bei der Installation/ Deinstallation aufgerufen, um zu entscheiden, ob die Installation/ Deinstallation fortgesetzt werden soll.</p></div><div class=paragraph><p>Das Skript wird während der Installation von <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> als <code>pkg-req ${PKGNAME} INSTALL</code> aufgerufen. Bei der Deinstallation wird es von <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> als <code>pkg-req ${PKGNAME} DEINSTALL</code> ausgeführt.</p></div></div><div class=sect2><h3 id=pkg-names>8.5. Ändern der Namen der <span class=filename>pkg-*</span> Dateien<a class=anchor href=#pkg-names></a></h3><div class=paragraph><p>Alle Namen der <span class=filename>pkg-<strong></strong></span><strong> Dateien werden durch Variablen festgelegt. Sie können sie bei Bedarf also im <span class=filename>Makefile</span> des Ports ändern. Das ist besonders nützlich, wenn Sie die gleichen <span class=filename>pkg-</span></strong> Dateien in mehreren Ports nutzen oder in eine der oben genannten Dateien schreiben wollen. Schreiben Sie niemals außerhalb des Unterverzeichnisses <code>WRKDIR</code><span class=filename>pkg-*</span>, eine Erklärung hierzu finden Sie in <a href=#porting-wrkdir>Schreiben ausserhalb von <code>WRKDIR</code></a>.</p></div><div class=paragraph><p>Hier ist eine Liste von Variablennamen und ihren Standardwerten (<code>PKGDIR</code> ist standardmäßig <code>${MASTERDIR}</code>).</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Standardwert</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>DESCR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PKGDIR}/pkg-descr</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PLIST</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PKGDIR}/pkg-plist</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PKGINSTALL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PKGDIR}/pkg-install</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PKGDEINSTALL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PKGDIR}/pkg-deinstall</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PKGREQ</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PKGDIR}/pkg-req</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PKGMESSAGE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>${PKGDIR}/pkg-message</code></p></td></tr></tbody></table><div class=paragraph><p>Bitte benutzen Sie diese Variablen anstatt <code>PKG_ARGS</code> zu ändern. Wenn Sie <code>PKG_ARGS</code> modifizieren, werden diese Dateien bei der Installation des Ports nicht korrekt in <span class=filename>/var/db/pkg</span> installiert.</p></div></div><div class=sect2><h3 id=using-sub-files>8.6. Nutzung von <code>SUB_FILES</code> und <code>SUB_LIST</code><a class=anchor href=#using-sub-files></a></h3><div class=paragraph><p>Die Variablen <code>SUB_FILES</code> und <code>SUB_LIST</code> sind nützlich, um dynamische Werte in Port-Dateien zu verwenden, wie beispielsweise der Installations-<code>PREFIX</code> in <span class=filename>pkg-message</span>.</p></div><div class=paragraph><p>Die Variable <code>SUB_FILES</code> enthält eine Liste von Dateien, die automatisch verändert werden. Jede <em>Datei</em> in <code>SUB_FILES</code> muss ein entsprechendes Pendant <em>datei.in</em> im Verzeichnis <code>FILESDIR</code> haben. Die modifizierte Version wird in <code>WRKDIR</code> angelegt. Dateien, die als Werte von <code>USE_RC_SUBR</code> (oder veraltet in <code>USE_RCORDER</code>) gespeichert werden, werden automatisch zu <code>SUB_FILES</code> hinzugefügt. Für die Dateien <span class=filename>pkg-message</span>, <span class=filename>pkg-install</span>, <span class=filename>pkg-deinstall</span> und <span class=filename>pkg-req</span> werden die jeweiligen Makefile-Variablen selbsttätig auf die geänderte Version der Datei gesetzt.</p></div><div class=paragraph><p>Die Variable <code>SUB_LIST</code> ist eine Liste von <code>VAR=WERT</code>-Paaren. Jedes Paar <code>%%VAR%%</code> in den Dateien von <code>SUB_FILES</code> wird mit <code>WERT</code> ersetzt. Einige gebräuchliche Paare werden automatisch definiert: <code>PREFIX</code>, <code>LOCALBASE</code>, <code>DATADIR</code>, <code>DOCSDIR</code>, <code>EXAMPLESDIR</code>. Jede Zeile, die mit <code>@comment</code> beginnt, wird nach der Variablen-Ersetzung aus der neu erstellten Datei gelöscht.</p></div><div class=paragraph><p>Im folgenden Beispiel wird <code>%%ARCH%%</code> mit der Systemarchitektur in <span class=filename>pkg-message</span> ersetzt:</p></div><div class="literalblock programlisting"><div class=content><pre>SUB_FILES=     pkg-message
SUB_LIST=      ARCH=${ARCH}</pre></div></div><div class=paragraph><p>Beachten Sie bitte, dass in diesem Beispiel die Datei <span class=filename>pkg-message.in</span> im Verzeichnis <code>FILESDIR</code> vorhanden sein muss.</p></div><div class=paragraph><p>Hier ein Beispiel für eine gute <span class=filename>pkg-message.in</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>Now it is time to configure this package.
Copy %%PREFIX%%/shared/examples/putsy/%%ARCH%%.conf into your home directory
as .putsy.conf and edit it.</pre></div></div></div></div></div><div class=sect1><h2 id=testing>Kapitel 9. Ihren Port testen<a class=anchor href=#testing></a></h2><div class=sectionbody><div class=sect2><h3 id=make-describe>9.1. <code>make describe</code> ausführen<a class=anchor href=#make-describe></a></h3><div class=paragraph><p>Einige der FreeBSD-Werkzeuge zur Pflege von Ports, wie zum Beispiel <a href="https://man.freebsd.org/cgi/man.cgi?query=portupgrade&amp;sektion=1&amp;format=html">portupgrade(1)</a>, verwenden eine Datenbank names <span class=filename>/usr/ports/INDEX</span>, welche Eigenschaften, wie z.B. Port-Abhängigkeiten, verfolgt. <span class=filename>INDEX</span> wird vom Makefile der höchsten Ebene, <span class=filename>ports/Makefile</span>, mittels <code>make index</code> erstellt, welches in das Unterverzeichnis jedes Ports wechselt und dort <code>make describe</code> ausführt. Wenn also <code>make describe</code> bei einem Port fehlschlägt, kann <span class=filename>INDEX</span> nicht generiert werden und schnell werden viele Leute darüber unzufrieden sein.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Es ist wichtig diese Datei erzeugen zu können, unabhängig davon, welche Optionen in <span class=filename>make.conf</span> vorhanden sind. Bitte vermeiden Sie es daher beispielsweise <code>.error</code>-Anweisungen zu benutzen, wenn zum Beispiel eine Abhängigkeit nicht erfüllt wird (Lesen Sie dazu bitte <a href=./#dads-dot-error>Vermeiden Sie den Gebrauch des <code>.error</code>-Konstruktes</a>).</p></div></td></tr></tbody></table></div><div class=paragraph><p>Wenn <code>make describe</code> eine Zeichenkette anstatt einer Fehlermeldung erzeugt, sind Sie wahrscheinlich auf der sicheren Seite. Vergleichen Sie die erzeugte Zeichenkette mit <span class=filename>bsd.port.mk</span>, um mehr über deren Bedeutung zu erfahren.</p></div><div class=paragraph><p>Beachten Sie bitte außerdem, dass die Benutzung einer aktuellen Version von <code>portlint</code> (wie im nächsten Abschnitt beschrieben) automatisch <code>make describe</code> startet.</p></div></div><div class=sect2><h3 id=testing-portlint>9.2. Portlint<a class=anchor href=#testing-portlint></a></h3><div class=paragraph><p>Bitte überprüfen Sie Ihre Arbeit stets mit <a href=#porting-portlint><code>portlint</code></a>, bevor Sie diese einreichen oder committen. <code>portlint</code> warnt Sie bei häufigen Fehlern, sowohl funktionaler als auch stilistischer Natur. Für einen neuen (oder repokopierten) Port ist <code>portlint -A</code> die gründlichste Variante; für einen bereits existierenden Port ist <code>portlint -C</code> ausreichend.</p></div><div class=paragraph><p>Da <code>portlint</code> heuristische Methoden zur Fehlersuche benutzt, kann es vorkommen, dass Warnungen für Fehler erzeugt werden, die keine sind. Gelegentlich kann etwas, das als Problem angezeigt wird, aufgrund von Einschränkungen im Port-System nicht anders gelöst werden. Wenn es Zweifel gibt, fragen Sie am besten auf <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a> nach.</p></div></div><div class=sect2><h3 id=testing-porttools>9.3. Port Tools<a class=anchor href=#testing-porttools></a></h3><div class=paragraph><p>Das Programm <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/porttools/>ports-mgmt/porttools</a> ist Teil der Ports-Sammlung.</p></div><div class=paragraph><p><code>port</code> ist das Front-End-Skript, das Ihnen dabei behilflich sein kann Ihre Arbeit als Tester zu vereinfachen. Um einen neuen Port zu testen oder einen bereits bestehenden Port zu aktualisieren, können Sie <code>port test</code> verwenden, damit die Tests, inklusive der <a href=#testing-portlint><code>portlint</code></a>-Überprüfung, durchgeführt werden. Dieser Befehl spürt ausserdem alle nicht in <span class=filename>pkg-plist</span> enthaltenen Dateien auf und gibt eine Liste dieser aus. Hier ein Beispiel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># port test /usr/ports/net/csup</span></code></pre></div></div></div><div class=sect2><h3 id=porting-prefix>9.4. <code>PREFIX</code> und <code>DESTDIR</code><a class=anchor href=#porting-prefix></a></h3><div class=paragraph><p><code>PREFIX</code> bestimmt, an welche Stelle der Port installiert werden soll. In der Regel ist dies <span class=filename>/usr/local</span> oder <span class=filename>/opt</span>, was jedoch anpassbar ist. Ihr Port muss sich an diese Variable halten.</p></div><div class=paragraph><p><code>DESTDIR</code>, wenn es vom Benutzer gesetzt wird, bestimmt die alternative Umgebung (in der Regel eine Jail oder ein installiertes System, welches an anderer Stelle als <span class=filename>/</span> eingehängt ist). Ein Port wird unter <code>DESTDIR</code>/<code>PREFIX</code> installiert und registriert sich in der Paket-Datenbank unter <code>DESTDIR</code>/var/db/pkg. Da <code>DESTDIR</code> mittels eines <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a>-Aufrufs vom Ports-System automatisch gesetzt wird, brauchen Sie keine Änderungen oder besondere Pflege für <code>DESTDIR</code>-konforme Ports.</p></div><div class=paragraph><p>Der Wert von <code>PREFIX</code> wird auf <code>LOCALBASE</code> gesetzt (Standard ist <span class=filename>/usr/local</span>). Falls <code>USE_LINUX_PREFIX</code> gesetzt ist, wird <code>PREFIX LINUXBASE</code> annehmen (Standard ist <span class=filename>/compat/linux</span>).</p></div><div class=paragraph><p>Die Vermeidung der hart kodierten Angaben von <span class=filename>/usr/local</span> oder <span class=filename>/usr/X11R6</span> im Quelltext wird den Port viel flexibler machen und erleichtert es die Anforderungen anderer Einsatzorte zu erfüllen. Für X-Ports, die <code>imake</code> benutzen, geschieht dies automatisch; andernfalls kann dies erreicht werden, indem alle Angaben von <span class=filename>/usr/local</span> (oder <span class=filename>/usr/X11R6</span> für X-Ports, die nicht imake benutzen) in den verschiedenen <span class=filename>Makefile</span>s im Port ersetzt werden, um <code>${PREFIX}</code> zu lesen, da diese Variable automatisch an jede Stufe des Build- und Install-Prozesses übergeben wird.</p></div><div class=paragraph><p>Vergewissern Sie sich bitte, dass Ihre Anwendung nichts unter <span class=filename>/usr/local</span> an Stelle von <code>PREFIX</code> installiert. Um dies festzustellen, können Sie folgendes machen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make clean; make package PREFIX=/var/tmp/`make -V PORTNAME`</span></code></pre></div></div><div class=paragraph><p>Wenn etwas außerhalb von <code>PREFIX</code> installiert wird, so gibt der Prozess der Paketerstellung eine Meldung aus, dass es die Dateien nicht finden kann.</p></div><div class=paragraph><p>Dies prüft nicht das Vorhandensein eines internen Verweises oder die richtige Verwendung von <code>LOCALBASE</code> für Verweise auf Dateien anderer Ports. Das Testen der Installation in <span class=filename>/var/tmp/<code>make -V PORTNAME</code></span> würde dies erledigen.</p></div><div class=paragraph><p>Die Variable <code>PREFIX</code> kann in Ihrem <span class=filename>Makefile</span> oder der Umgebung des Benutzers neu gesetzt werden. Allerdings wird für einzelne Ports dringend davon abgeraten diese Variable in den <span class=filename>Makefile</span>s direkt zu setzen.</p></div><div class=paragraph><p>Verweisen Sie bitte außerdem auf Programme/Dateien von anderen Ports durch die oben erwähnten Variablen und nicht mit den eindeutigen Pfadnamen. Wenn Ihr Port zum Beispiel vom Makro <code>PAGER</code> erwartet, dass es den vollständigen Pfadnamen von <code>less</code> enthält, benutzen Sie folgendes Compiler-Flag:</p></div><div class="literalblock programlisting"><div class=content><pre>-DPAGER=\&#34;${LOCALBASE}/bin/less\&#34;</pre></div></div><div class=paragraph><p>anstatt <code>-DPAGER=\"/usr/local/bin/less\"</code>. Somit ist die Wahrscheinlichkeit höher, dass es auch funktioniert, wenn der Administrator den ganzen <span class=filename>/usr/local</span>-Baum an eine andere Stelle verschoben hat.</p></div></div><div class=sect2><h3 id=testing-tinderbox>9.5. Die Tinderbox<a class=anchor href=#testing-tinderbox></a></h3><div class=paragraph><p>Wenn Sie ein begeisterter Ports-Entwickler sind möchten Sie vielleicht einen Blick auf die Tinderbox werfen. Es ist ein leistungsstarkes System zur Erstellung und zum Testen von Ports, welches auf Skripten basiert, die auf <a href=#build-cluster>Pointyhat</a> verwendet werden. Sie können Tinderbox installieren, indem Sie den Port <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/tinderbox/>ports-mgmt/tinderbox</a> benutzen. Bitte lesen Sie die mitgelieferte Dokumentation gründlich, da die Konfiguration nicht einfach ist.</p></div><div class=paragraph><p>Um Näheres darüber zu erfahren, besuchen Sie bitte die <a href=http://tinderbox.marcuscom.com/>Tinderbox Homepage</a>.</p></div></div></div></div><div class=sect1><h2 id=port-upgrading>Kapitel 10. Einen existierenden Port aktualisieren<a class=anchor href=#port-upgrading></a></h2><div class=sectionbody><div class=paragraph><p>Wenn Sie feststellen, dass ein Port verglichen mit der neuesten Version des Originalautors nicht mehr auf dem aktuellen Stand ist, sollten Sie als Erstes sicherstellen, dass Sie die aktuellste Version des Ports haben. Diese finden Sie im Verzeichnis <span class=filename>ports/ports-current</span> der FreeBSD FTP-Spiegelseiten. Wenn Sie allerdings mit mehr als ein paar Ports arbeiten, werden Sie es wahrscheinlich einfacher finden CVSup zu benutzen, um Ihre gesamte Ports-Sammlung aktuell zu halten, wie es im <a href=https://docs.freebsd.org/de/books/handbook/#CVSUP-CONFIG>Handbuch</a> beschrieben wird. Das hat zusätzlich den Vorteil, dass Sie so auch alle Abhängigkeiten des Ports aktuell halten.</p></div><div class=paragraph><p>Der nächste Schritt besteht darin festzustellen, ob bereits eine Aktualisierung des Ports darauf wartet committet zu werden. Um das sicherzustellen haben Sie folgende Möglichkeiten. Es gibt eine durchsuchbare Schnittstelle zur <a href=http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query>FreeBSD Problembericht Datenbank (PR - Problem Report)</a> (auch bekannt als <code>GNATS</code>). Wählen Sie dazu <code>Ports</code> im Drop-Down-Menü und geben Sie den Namen des Ports ein.</p></div><div class=paragraph><p>Allerdings wird manchmal vergessen den Namen des Ports eindeutig im Feld für die Zusammenfassung anzugeben. In diesem Fall können Sie das <a href=#portsmon>FreeBSD Ports Monitoring System</a> (auch bekannt als <code>portsmon</code>) nutzen. Dieses versucht PRs von Ports nach Portname zu sortieren. Um PRs nach einem bestimmten Port zu durchsuchen können Sie die <a href=http://portsmon.FreeBSD.org/portoverview.py>Übersicht eines Ports</a> verwenden.</p></div><div class=paragraph><p>Wenn es keine wartenden PRs gibt, ist der nächste Schritt eine E-Mail an den Maintainer des Ports zu schicken, wie von <code>make maintainer</code> gezeigt wird. Diese Person arbeitet vielleicht schon an einer Aktualisierung, oder hat einen guten Grund den Port im Moment nicht zu aktualisieren (z.B. wegen Stabilitätsproblemen der neuen Version). Sie wollen sicher nicht die Arbeit des Maintainers doppelt machen. Beachten Sie bitte, dass für Ports ohne Maintainer <code>ports@FreeBSD.org</code> eingetragen ist. Das ist nur die allgemeine <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a>-Mailingliste, deshalb wird es in diesem Fall wahrscheinlich nicht helfen eine E-Mail dorthin zu schicken.</p></div><div class=paragraph><p>Wenn Sie der Maintainer bittet die Aktualisierung zu erledigen, oder falls es keinen Maintainer gibt, haben Sie Gelegenheit, FreeBSD zu helfen, indem Sie die Aktualisierung selbst bereitstellen. Dazu verwenden Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>, das bereits im Basissystem enthalten ist.</p></div><div class=paragraph><p>Um einen brauchbaren <code>diff</code> für einen einzelne Datei zu erstellen, kopieren Sie die zu patchende Datei nach <em>dateiname.orig</em> und speichern Ihre Änderungen in die Datei <em>dateiname</em>. Danach erzeugen Sie den Patch:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% /usr/bin/diff dateiname.orig dateiname <span class=o>&gt;</span> dateiname.diff</code></pre></div></div><div class=paragraph><p>Soll mehr als eine Datei gepatcht werden, können Sie entweder <code>cvs diff</code> verwenden (siehe dazu <a href=#cvs-diff>Patches mit CVS erstellen</a>) oder Sie kopieren den kompletten Port in ein neues Verzeichnis und speichern die Ausgabe des rekursiven <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> auf das neue und alte Portverzeichniss (wenn Ihr verändertes Portverzeichnis z.B. <span class=filename>superedit</span> und das Original <span class=filename>superedit.bak</span> heißt, dann speichern Sie bitte die Ergebnisse von <code>diff -ruN superedit.bak superedit</code>). Sowohl vereinheitlichendes als auch kontextabhängiges diff (Auflistung der Unterschiede zweier Dateien) sind akzeptabel, aber im Allgemeinen bevorzugen Port-Committer vereinheitlichende <code>diff</code>s. Bitte beachten Sie die Verwendung der <code>-N</code>-Option. Dies ist der gebräuchliche Weg <code>diff</code> dazu zu bewegen korrekt damit umzugehen, neue Dateien anzulegen und alte zu löschen. Bevor Sie das diff einsenden überprüfen Sie bitte die Ausgabe, um sicherzugehen, dass die Änderungen sinnvoll sind. Stellen Sie insbesondere sicher, dass Sie das Arbeitsverzeichnis mit <code>make clean</code> aufgerät haben).</p></div><div class=paragraph><p>Um gängige Operationen mit Korrekturdateien zu vereinfachen, können Sie <span class=filename>/usr/ports/Tools/scripts/patchtool.py</span> benutzen. Aber lesen Sie bitte vorher <span class=filename>/usr/ports/Tools/scripts/README.patchtool</span>.</p></div><div class=paragraph><p>Falls der Port keinen Maintainer hat und Sie ihn selbst aktiv benutzen, ziehen Sie bitte in Erwägung sich als Maintainer zu melden. FreeBSD hat mehr als 4000 Ports ohne Maintainer und in diesem Bereich werden immer zusätzliche Freiwillige benötigt (Für eine ausführliche Beschreibung der Verantwortlichkeiten eines Maintainers lesen Sie bitte im <a href=https://docs.freebsd.org/de/books/developers-handbook/#POLICIES-MAINTAINER>Developer’s Handbook</a> nach).</p></div><div class=paragraph><p>Der beste Weg uns das diff zu schicken ist mittels <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> (Kategorie Ports). Wenn Sie der Maintainer des Ports sind, fügen Sie bitte <code>[maintainer update]</code> an den Anfang Ihrer Zusammenfassung und setzen Sie die "Klasse" des PR auf <code>maintainer-update</code>. Ansonsten sollte die "Klasse" des PR <code>change-request</code> sein. Bitte erwähnen Sie alle hinzugefügten oder gelöschten Dateien in der Nachricht, da diese beim Commit ausdrücklich an <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a> übergeben werden müssen. Wenn das diff größer ist als 20 Kilobyte komprimieren und uuencoden Sie es bitte. Ansonsten können Sie es in den PR einfügen wie es ist.</p></div><div class=paragraph><p>Bevor Sie den PR mit <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> abschicken, sollten Sie den Abschnitt <a href=https://docs.freebsd.org/en/articles/problem-reports/#pr-writing>Den Problembericht schreiben</a> im Artikel über Problemberichte lesen. Dieser enthält sehr viel mehr Informationen darüber, wie man nützliche Problemberichte verfasst.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Wenn Sie Ihre Aktualisierung aufgrund von Sicherheitsbedenken oder eines schwerwiegenden Fehlers bereitstellen wollen, informieren Sie bitte das Ports Management Team &lt;<a href=mailto:portmgr@FreeBSD.org>portmgr@FreeBSD.org</a>>, um einen sofortigen Rebuild und eine Neuverteilung des Pakets Ihres Ports durchzuführen. Sonst werden ahnungslose Nutzer von <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> über mehrere Wochen die alte Version durch <code>pkg_add -r</code> installieren.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Noch einmal: Bitte verwenden Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> und nicht <a href="https://man.freebsd.org/cgi/man.cgi?query=shar&amp;sektion=1&amp;format=html">shar(1)</a>, um Aktualisierungen existierender Ports zu senden. Sie erleichtern es damit den Ports-Committern, Ihre Änderungen nachzuvollziehen.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Nun, da Sie all das geschafft haben, können Sie in <a href=./#keeping-up>Auf dem Laufenden bleiben</a> nachlesen, wie Sie den Port aktuell halten.</p></div><div class=sect2><h3 id=cvs-diff>10.1. Patches mit CVS erstellen<a class=anchor href=#cvs-diff></a></h3><div class=paragraph><p>Wenn möglich, sollten Sie stets eine <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a>-Differenz einreichen. Diese sind leichter zu bearbeiten als Differenzen zwischen "neuen und alten" Verzeichnissen. Außerdem könenn Sie so einfacher feststellen, welche Änderungen Sie vorgenommen haben oder Ihren Patch modifizieren, falls dies durch Änderungen in einem anderen Bereich der Ports-Sammlung notwendig wird oder Sie vom Committer um eine Korrektur Ihres Patches gebeten werden.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> ~/my_wrkdir <i class=conum data-value=1></i><b>(1)</b>
% cvs <span class=nt>-d</span> R_CVSROOT co pdnsd  <i class=conum data-value=2></i><b>(2)</b> <i class=conum data-value=3></i><b>(3)</b>
% <span class=nb>cd</span> ~/my_wrkdir/pdnsd</code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Das Verzeichnis, in dem Sie den Port bauen wollen. Dieses Arbeitsverzeichnis kann sich auch außerhalb von <span class=filename>/usr/ports/</span> befinden.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>R_CVSROOT steht für einen öffentlichen CVS-Server. Eine Liste aller verfügbaren Server finden Sie im <a href=https://docs.freebsd.org/de/books/handbook/#cvsup>FreeBSD Handbuch</a>.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Ersetzen Sie "pdnsd" durch den Modulnamen des Ports. Dieser entspricht in der Regel dem Namen des Ports. Allerdings gibt es einige Ausnahmen von dieser Regel, insbesondere bei sprachspezifischen Ports (beispielsweise lautet der Modulname für den Port <a class=package href=https://cgit.freebsd.org/ports/tree/german/selfhtml/>german/selfhtml</a> de-selfhtml). Um den Namen des Moduls herauszufinden, können Sie entweder die <a href=https://www.FreeBSD.org/cgi/cvsweb.cgi/ports>cvsweb-Schnittstelle</a> verwenden oder den kompletten Pfad des Ports angeben (in unserem Beispiel wäre der komplette Pfad also <span class=filename>ports/dns/pdnsd</span>).</td></tr></tbody></table></div><div class=paragraph><p>Danach modifizieren Sie den Port in gewohnter Weise. Falls Sie Dateien hinzufügen oder entfernen, sollten Sie dies mit <code>cvs</code> protokollieren:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% cvs add new_file
% cvs remove deleted_file</code></pre></div></div><div class=paragraph><p>Überprüfen Sie die Funktion Ihres Ports anhand der Checklisten in <a href=./#porting-testing>Den Port testen</a> und <a href=./#porting-portlint>Ihren Port mit <code>portlint</code> überprüfen</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% cvs status
% cvs update <i class=conum data-value=1></i><b>(1)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Dadurch wird versucht, die Differenz zwischen Ihrer geänderten Version und dem aktuellen Stand im CVS zu kombinieren. Achten Sie dabei unbedingt auf die Ausgabe dieses Befehls. Vor jeder Datei wird ein Buchstabe angezeigt, der Ihnen mitteilt, was mit dieser Datei passiert ist. Eine vollständige Liste dieser Präfixe finden Sie in <a href=#table-cvs-up>Von cvs update verwendete Präfixe</a>.</td></tr></tbody></table></div><table id=table-cvs-up class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 47. Von cvs update verwendete Präfixe</caption><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>U</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Datei wurde aktualisiert. Es traten dabei keine Probleme auf.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>P</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Datei wurde ohne Probleme aktualisiert (dieses Präfix wird nur verwendet, wenn Sie mit einem entfernten Repository arbeiten).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>M</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Datei wurde modifiziert. Es traten keine Konflikte auf.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>C</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Datei wurde modifiziert, allerdings kam es dabei zu Konflikten zwischen Ihrer geänderten Version und der aktuellen Version im CVS.</p></td></tr></tbody></table><div class=paragraph><p>Wird das Präfix <code>C</code> nach einem <code>cvs update</code> angezeigt, bedeutet dies, dass im CVS etwas geändert wurde und <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a> daher nicht in der Lage war, Ihre Änderungen und die Änderungen im CVS zu kombinieren. Es ist immer sinnvoll, sich die Änderungen anzusehen, da <code>cvs</code> keine Informationen darüber hat, wie ein Port aufgebaut sein soll. Es kann (und wird wahrscheinlich) daher vorkommen, dass sich manchmal Änderungen ergeben, die keinen Sinn machen.</p></div><div class=paragraph><p>Im letzten Schritt erzeugen Sie einen "unified <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>" gegen die derzeit im CVS vorhandenen Dateien:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% cvs diff <span class=nt>-uN</span> <span class=o>&gt;</span> ../<span class=sb>`</span><span class=nb>basename</span> <span class=k>${</span><span class=nv>PWD</span><span class=k>}</span><span class=sb>`</span>.diff</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Verwenden Sie unbedingt die Option <code>-N</code>, um sicherzustellen, dass von hinzugefügte oder gelöschte Dateien im Patch erfasst sind. Der Patch enthät auch von Ihnen gelöschte Dateien (allerdings ohne Inhalt). Dies ist wichtig, da nur so der Committer wissen kann, welche Dateien er entfernen muss.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Zuletzt reichen Sie Ihren Patch ein, indem Sie der Anleitung in <a href=#port-upgrading>Einen existierenden Port aktualisieren</a> folgen.</p></div></div><div class=sect2><h3 id=moved-and-updating-files>10.2. Die Dateien UPDATING und MOVED<a class=anchor href=#moved-and-updating-files></a></h3><div class=paragraph><p>Wenn die Aktualisierung des Ports spezielle Schritte wie die Anpassung von Konfigurationsdateien oder die Ausführung eines speziellen Programms erfordert, sollten Sie diesen Umstand in der Datei <span class=filename>/usr/ports/UPDATING</span> dokumentieren. Einträge in dieser Datei haben das folgende Format:</p></div><div class="literalblock programlisting"><div class=content><pre>YYYYMMDD:
  AFFECTS: users of portcategory/portname
  AUTHOR: Your name &lt;Your email address&gt;

  Special instructions</pre></div></div><div class=paragraph><p>Wenn Sie exakte Portmaster oder Portupgrade-Meldungen einfügen wollen, stellen Sie bitte sicher, dass alle Sonderzeichen korrekt dargestellt werden.</p></div><div class=paragraph><p>Wurde der Port gelöscht oder umbenannt, sollten Sie dies in der Datei <span class=filename>/usr/ports/MOVED</span> vermerken. Einträge in dieser Datei haben das folgende Format:</p></div><div class="literalblock programlisting"><div class=content><pre>old name|new name (blank for deleted)|date of move|reason</pre></div></div></div></div></div><div class=sect1><h2 id=security>Kapitel 11. Sicherheit der Ports<a class=anchor href=#security></a></h2><div class=sectionbody><div class=sect2><h3 id=security-intro>11.1. Warum Sicherheit so wichtig ist<a class=anchor href=#security-intro></a></h3><div class=paragraph><p>Es finden sich immer wieder Fehler in Software. Die gefährlichsten davon sind wohl jene, die Sicherheitslücken öffnen. Technisch gesehen müssen diese Lücken geschlossen werden, indem die Fehler, die Sie verursacht haben, beseitigt werden. Aber die Vorgehensweisen, wie mit bloßen Fehlern und Sicherheitslücken umgegangen wird, sind sehr unterschiedlich.</p></div><div class=paragraph><p>Ein typischer kleiner Fehler betrifft nur Nutzer, die eine bestimmte Kombination von Optionen aktiviert haben, die den Fehler auslöst. Der Entwickler wird letztendlich einen Patch herausgeben, gefolgt von einer neuen Version des Programms, die den Fehler nicht mehr enthält - jedoch wird die Mehrheit der Nutzer nicht sofort aktualisieren, da sie von diesem Fehler nicht betroffen sind. Ein kritischer Fehler, der zu Datenverlust führen kann, stellt ein schwerwiegendes Problem dar. Dennoch sind sich umsichtige Nutzer bewusst, dass Datenverlust verschiedene Ursachen - neben Softwarefehlern - haben kann, und machen deshalb Sicherungskopien wichtiger Daten. Zumal ein kritischer Fehler sehr schnell entdeckt wird.</p></div><div class=paragraph><p>Bei einer Sicherheitslücke ist dies ganz anders. Erstens wird sie vielleicht jahrelang nicht entdeckt, da dies oftmals keine Fehlfunktion im Programm verursacht. Zweitens kann eine böswillige Person unerlaubten Zugriff auf ein unsicheres System erlangen, um empfindliche Daten zu verändern oder zu zerstören; im schlimmsten Fall findet der Nutzer nicht einmal die Ursache des Schadens. Drittens hilft der Zugriff auf ein unsicheres System dem Angreifer oft in ein anderes System einzudringen, welches ansonsten nicht gefährdet wäre. Deshalb reicht es nicht aus eine Sicherheitslücke nur zu schließen: Die Zielgruppe sollte möglichst genau und umfassend darüber informiert werden, damit sie die Gefahr einschätzen und passende Maßnahmen ergreifen können.</p></div></div><div class=sect2><h3 id=security-fix>11.2. Sicherheitslücken schliessen<a class=anchor href=#security-fix></a></h3><div class=paragraph><p>Bei Ports und Paketen kann eine Sicherheitslücke im ursprünglichen Programm oder in den Port-Dateien verursacht werden. Im ersten Fall wird der ursprüngliche Entwickler den Fehler wahrscheinlich umgehend korrigieren oder eine neue Version herausgeben und Sie müssen den Port nur aktualisieren und die Korrekturen des Autors beachten. Falls sich die Korrektur aus irgendeinem Grund verzögert, sollten Sie <a href=#dads-noinstall>den Port als <code>FORBIDDEN</code> markieren</a> oder selbst den Fehler für den Port korrigieren. Falls die Sicherheitslücke im Port verursacht wird, sollten Sie ihn sobald wie möglich berichtigen. In jedem Fall sollte <a href=#port-upgrading>die Standardvorgehensweise zum Einreichen von Änderungen</a> beachtet werden - es sei denn, Sie haben das Recht diese direkt in den Ports-Baum zu committen.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Ports-Committer zu sein ist nicht genug, um Änderungen an einem beliebigen Port zu committen. Bitte denken Sie daran, dass Ports üblicherweise Maintainer haben, die Sie respektieren sollten.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Bitte stellen Sie sicher, dass die Revision des Ports erhöht wird, sobald die Sicherheitslücke geschlossen wurde. Dadurch sehen die Nutzer, die installierte Pakete regelmäßig aktualisieren, dass es an der Zeit ist eine Aktualisierung durchzuführen. Außerdem wird ein neues Paket gebaut, über FTP- und WWW-Spiegel verteilt und die unsichere Version damit verdrängt. <code>PORTREVISION</code> sollte erhöht werden - es sei denn, <code>PORTREVISION</code> hat sich im Laufe der Korrektur des Fehlers geändert. Das heißt, Sie sollten <code>PORTREVISION</code> erhöhen, wenn Sie eine Korrektur hinzugefügt haben. Sie sollten diese aber nicht erhöhen, wenn Sie den Port auf die neueste Version des Programms gebracht haben und <code>PORTREVISION</code> somit schon verändert wurde. Bitte beachten Sie den <a href=#makefile-naming-revepoch>betreffenden Abschnitt</a> für weitere Informationen.</p></div></div><div class=sect2><h3 id=security-notify>11.3. Die Community informiert halten<a class=anchor href=#security-notify></a></h3><div class=sect3><h4 id=security-notify-vuxml-db>11.3.1. Die VuXML-Datenbank<a class=anchor href=#security-notify-vuxml-db></a></h4><div class=paragraph><p>Ein sehr wichtiger und dringender Schritt, den man unternehmen muss, sobald eine Sicherheitslücke entdeckt wurde, ist die Gemeinschaft der Anwender des Ports über die Gefahr zu informieren. Diese Benachrichtigung hat zwei Gründe. Erstens wird es sinnvoll sein, wenn die Gefahr wirklich so groß ist, sofort Abhilfe zu schaffen, indem man z.B. den betreffenden Netzwerkdienst beendet oder den Port komplett deinstalliert, bis die Lücke geschlossen wurde. Und Zweitens pflegen viele Nutzer installierte Pakete nur gelegentlich zu aktualisieren. Sie werden aus der Mitteilung erfahren, dass Sie das Paket, sobald eine Korrektur verfügbar ist, sofort aktualisieren <em>müssen</em>.</p></div><div class=paragraph><p>Angesichts der riesigen Zahl an Ports kann nicht für jeden Vorfall ein Sicherheitshinweis erstellt werden, ohne durch die Flut an Nachrichten die Aufmerksamkeit der Empfänger zu verlieren, im Laufe der Zeit kommt es so zu ernsten Problemen. Deshalb werden Sicherheitslücken von Ports in <a href=http://vuxml.freebsd.org/>der FreeBSD VuXML-Datenbank</a> aufgezeichnet. Das Team der Sicherheitsverantwortlichen beobachtet diese wegen Angelegenheiten, die Ihr Eingreifen erfordern.</p></div><div class=paragraph><p>Wenn Sie Committerrechte haben, können Sie die VuXML-Datenbank selbst aktualisieren. Auf diese Weise helfen Sie den Sicherheitsverantwortlichen und liefern die kritischen Informationen frühzeitig an die Community. Aber auch wenn Sie kein Committer sind und glauben, Sie haben eine außergewöhnlich schwerwiegende Lücke gefunden - egal welche - zögern Sie bitte nicht die Sicherheitsverantwortlichen zu kontaktieren, wie es in den <a href=http://www.freebsd.org/security/#how>FreeBSD Sicherheitsinformationen</a> beschrieben wird.</p></div><div class=paragraph><p>Wie vielleicht aus dem Titel hervorgeht, handelt es sich bei der VuXMl-Datenbank um ein XML-Dokument. Die Quelldatei <span class=filename>vuln.xml</span> können Sie im Port <a class=package href=https://cgit.freebsd.org/ports/tree/security/vuxml/>security/vuxml</a> finden. Deshalb wird der komplette Pfadname <span class=filename>PORTSDIR/security/vuxml/vuln.xml</span> lauten. Jedes Mal, wenn Sie eine Sicherheitslücke in einem Port entdecken, fügen Sie bitte einen Eintrag dafür in diese Datei ein. Solange Sie nicht mit VuXML vertraut sind, ist es das Beste, was Sie machen können, einen vorhandenen Eintrag, der zu Ihrem Fall passt, zu kopieren und als Vorlage zu verwenden.</p></div></div><div class=sect3><h4 id=security-notify-vuxml-intro>11.3.2. Eine kurze Einführung in VuXML<a class=anchor href=#security-notify-vuxml-intro></a></h4><div class=paragraph><p>Das komplette XML ist komplex und würde den Rahmen dieses Buches sprengen. Allerdings benötigen Sie für einen grundlegenden Einblick in die Struktur eines VuXML-Eintrags nur eine Vorstellung der Tags. XML-Tags bestehen aus Namen, die in spitzen Klammern eingeschlossen sind. Zu jedem öffnenden &lt;Tag> muss ein passendes &lt;/Tag> existieren. Tags können geschachtelt werden. Wenn sie geschachtelt werden müssen die inneren Tags vor den Äußeren geschlossen werden. Es gibt eine Hierarchie von Tags - das heißt komplexere Regeln zur Schachtelung. Klingt so ähnlich wie HTML, oder? Der größte Unterschied ist: XML ist erweiterbar (e<em>X</em>tensible) - das heißt es basiert darauf maßgeschneiderte Tags zu definieren. Aufgrund seiner wesentlichen Struktur bringt XML ansonsten formlose Daten in eine bestimmte Form. VuXML ist speziell darauf zugeschnitten Beschreibungen von Sicherheitslücken zu verwalten.</p></div><div class=paragraph><p>Lassen Sie uns nun einen realistischen VuXML-Eintrag betrachten:</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;vuln vid=&#34;f4bc80f4-da62-11d8-90ea-0004ac98a7b9&#34;&gt; <i class=conum data-value=1></i><b>(1)</b>
  &lt;topic&gt;Several vulnerabilities found in Foo&lt;/topic&gt; <i class=conum data-value=2></i><b>(2)</b>
  &lt;affects&gt;
    &lt;package&gt;
      &lt;name&gt;foo&lt;/name&gt; <i class=conum data-value=3></i><b>(3)</b>
      &lt;name&gt;foo-devel&lt;/name&gt;
      &lt;name&gt;ja-foo&lt;/name&gt;
      &lt;range&gt;&lt;ge&gt;1.6&lt;/ge&gt;&lt;lt&gt;1.9&lt;/lt&gt;&lt;/range&gt; <i class=conum data-value=4></i><b>(4)</b>
      &lt;range&gt;&lt;ge&gt;2.*&lt;/ge&gt;&lt;lt&gt;2.4_1&lt;/lt&gt;&lt;/range&gt;
      &lt;range&gt;&lt;eq&gt;3.0b1&lt;/eq&gt;&lt;/range&gt;
    &lt;/package&gt;
    &lt;package&gt;
      &lt;name&gt;openfoo&lt;/name&gt; <i class=conum data-value=5></i><b>(5)</b>
      &lt;range&gt;&lt;lt&gt;1.10_7&lt;/lt&gt;&lt;/range&gt; <i class=conum data-value=6></i><b>(6)</b>
      &lt;range&gt;&lt;ge&gt;1.2,1&lt;/ge&gt;&lt;lt&gt;1.3_1,1&lt;/lt&gt;&lt;/range&gt;
    &lt;/package&gt;
  &lt;/affects&gt;
  &lt;description&gt;
    &lt;body xmlns=&#34;http://www.w3.org/1999/xhtml&#34;&gt;
      &lt;p&gt;J. Random Hacker reports:&lt;/p&gt; <i class=conum data-value=7></i><b>(7)</b>
      &lt;blockquote
        cite=&#34;http://j.r.hacker.com/advisories/1&#34;&gt;
        &lt;p&gt;Several issues in the Foo software may be exploited
          via carefully crafted QUUX requests.  These requests will
          permit the injection of Bar code, mumble theft, and the
          readability of the Foo administrator account.&lt;/p&gt;
      &lt;/blockquote&gt;
    &lt;/body&gt;
  &lt;/description&gt;
  &lt;references&gt; <i class=conum data-value=8></i><b>(8)</b>
    &lt;freebsdsa&gt;SA-10:75.foo&lt;/freebsdsa&gt; <i class=conum data-value=9></i><b>(9)</b>
    &lt;freebsdpr&gt;ports/987654&lt;/freebsdpr&gt; <i class=conum data-value=10></i><b>(10)</b>
    &lt;cvename&gt;CAN-2010-0201&lt;/cvename&gt; <i class=conum data-value=11></i><b>(11)</b>
    &lt;cvename&gt;CAN-2010-0466&lt;/cvename&gt;
    &lt;bid&gt;96298&lt;/bid&gt; <i class=conum data-value=12></i><b>(12)</b>
    &lt;certsa&gt;CA-2010-99&lt;/certsa&gt; <i class=conum data-value=13></i><b>(13)</b>
    &lt;certvu&gt;740169&lt;/certvu&gt; <i class=conum data-value=14></i><b>(14)</b>
    &lt;uscertsa&gt;SA10-99A&lt;/uscertsa&gt; <i class=conum data-value=15></i><b>(15)</b>
    &lt;uscertta&gt;SA10-99A&lt;/uscertta&gt; <i class=conum data-value=16></i><b>(16)</b>
    &lt;mlist msgid=&#34;201075606@hacker.com&#34;&gt;http://marc.theaimsgroup.com/?l=bugtraq&amp;amp;m=203886607825605&lt;/mlist&gt; <i class=conum data-value=17></i><b>(17)</b>
    &lt;url&gt;http://j.r.hacker.com/advisories/1&lt;/url&gt; <i class=conum data-value=18></i><b>(18)</b>
  &lt;/references&gt;
  &lt;dates&gt;
    &lt;discovery&gt;2010-05-25&lt;/discovery&gt; <i class=conum data-value=19></i><b>(19)</b>
    &lt;entry&gt;2010-07-13&lt;/entry&gt; <i class=conum data-value=20></i><b>(20)</b>
    &lt;modified&gt;2010-09-17&lt;/modified&gt; <i class=conum data-value=21></i><b>(21)</b>
  &lt;/dates&gt;
&lt;/vuln&gt;</pre></div></div><div class=paragraph><p>Die Namen der Tags sollten selbsterklärend sein - also werfen wir einen genaueren Blick auf die Felder, die Sie selbst ausfüllen müssen:</p></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Dies ist die höchste Tag-Ebene eines VuXML-Eintrags. Es ist ein vorgeschriebenes Attribut <code>vid</code>, welches eine allgemein einzigartige Kennung (universally unique identifier, UUID) in Anführungszeichen für diesen Eintrag festlegt. Sie sollten eine UUID für jeden neuen VuXML-Eintrag erzeugen (und vergessen Sie nicht die UUID der Vorlage zu ersetzen, es sei denn, Sie schreiben den Eintrag von Grund auf selbst). Sie können <a href="https://man.freebsd.org/cgi/man.cgi?query=uuidgen&amp;sektion=1&amp;format=html">uuidgen(1)</a> verwenden, um eine VuXML UUID zu erzeugen.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Dies ist eine einzeilige Beschreibung des gefundenen Fehlers.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Hier werden die Namen betroffener Pakete aufgeführt. Es können mehrere Namen angegeben werden, da mehrere Pakete von einem einzigen Master-Port oder Software-Produkt abhängen können. Das schließt Stable- und Developement-Zweige, lokalisierte Versionen und Slave-Ports ein, die verschiedene Auswahlmöglichkeiten wichtiger Kompilierungszeit-Optionen bieten.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Betroffene Versionen der Pakete werden hier als ein Bereich oder mehrere durch eine Kombination aus <code>&lt;lt></code>, <code>&lt;le></code>, <code>&lt;eq></code>, <code>&lt;ge></code>, und <code>&lt;gt></code>-Elementen ausgegeben. Die angegebenen Bereiche sollten sich nicht überschneiden.In einer Bereichsangabe steht <code>*</code> (Asterisk) für die kleinste Versionsnummer. Insbesondere ist <code>2.*</code> kleiner als <code>2.a</code>. Deshalb kann ein Stern benutzt werden, um auf alle möglichen <code>Alpha</code>-, <code>Beta</code>- und <code>RC</code>-Versionen zuzutreffen. Zum Beispiel passt <code>&lt;ge>2.<strong>&lt;/ge>&lt;lt>3.</strong> &lt;/lt></code> auf alle Versionen der Form <code>2.x</code>, während <code>&lt;ge> 2.0&lt;/ge>&lt;lt>3.0&lt;/lt></code> das nicht erfüllt, da es nicht auf <code>2.r3</code> passt, auf <code>3.b</code> aber schon.Das obige Beispiel legt fest, dass Versionen von <code>1.6</code> bis <code>1.9</code> betroffen sind - außerdem Versionen <code>2.x</code> vor <code>2.4_1</code> und Version <code>3.0b1</code>.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Mehrere zusammenhängende Gruppen von Paketen (im wesentlichen Ports) können im Abschnitt <code>&lt;affected></code> aufgeführt werden. Das kann man benutzen, wenn sich Programme (sagen wir FooBar, FreeBar und OpenBar) denselben Quelltext als Grundlage haben und sich noch dessen Fehler und Sicherheitslücken teilen. Beachten Sie den Unterschied zum Anführen mehrerer Namen innerhalb eines &lt;package> Abschnittes.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>Die Versionsbereiche sollten, wenn möglich, sowohl <code>PORTEPOCH</code> als auch <code>PORTREVISION</code> erlauben. Bitte denken Sie daran, dass gemäß der Vergleichsregeln eine Version mit einer <code>PORTEPOCH</code>, die nicht Null ist, größer ist als jede Version ohne <code>PORTEPOCH</code>. Das heißt, <code>3.0,1</code> ist größer als <code>3.1</code> oder sogar <code>8.9</code>.</td></tr><tr><td><i class=conum data-value=7></i><b>7</b></td><td>Das ist die Zusammenfassung des Problems. In diesem Feld wird XHTML verwendet. Zumindest umschließende <code>&lt;p></code> und <code>&lt;/p></code> sollten auftauchen. Komplexere Tags sind zwar möglich, aber sollten nur um der Genauigkeit und Klarheit willen verwendet werden: Bitte verwenden Sie hier kein Eye-Candy.</td></tr><tr><td><i class=conum data-value=8></i><b>8</b></td><td>Dieser Abschnitt enthält Verweise auf relevante Dokumente. Es wird empfohlen so viele Referenzen wie nötig aufzuführen.</td></tr><tr><td><i class=conum data-value=9></i><b>9</b></td><td>Das ist ein <a href=http://www.freebsd.org/security/#adv>FreeBSD Sicherheitshinweis</a>.</td></tr><tr><td><i class=conum data-value=10></i><b>10</b></td><td>Das ist ein <a href=http://www.freebsd.org/support/#gnats>FreeBSD Problembericht</a>.</td></tr><tr><td><i class=conum data-value=11></i><b>11</b></td><td>Das ist eine <a href=http://www.cve.mitre.org/>Mitre CVE</a> Kennung.</td></tr><tr><td><i class=conum data-value=12></i><b>12</b></td><td>Das ist eine <a href=http://www.securityfocus.com/bid>SecurityFocus Fehler-Kennung</a>.</td></tr><tr><td><i class=conum data-value=13></i><b>13</b></td><td>Das ist ein Sicherheitshinweis von <a href=http://www.cert.org/>US-CERT</a>.</td></tr><tr><td><i class=conum data-value=14></i><b>14</b></td><td>Das ist eine Mitteilung über eine Schwachstelle von <a href=http://www.cert.org/>US-CERT</a>.</td></tr><tr><td><i class=conum data-value=15></i><b>15</b></td><td>Das ist ein Cyber-Sicherheitsalarm von <a href=http://www.cert.org/>US-CERT</a>.</td></tr><tr><td><i class=conum data-value=16></i><b>16</b></td><td>Das ist ein technischer Cyber-Sicherheitsalarm von <a href=http://www.cert.org/>US-CERT</a>.</td></tr><tr><td><i class=conum data-value=17></i><b>17</b></td><td>Das ist eine URL zu einem archivierten Posting auf einer Mailingliste. Das Attribut <code>msgid</code> ist optional und gibt die Nachrichtenkennung des Postings an.</td></tr><tr><td><i class=conum data-value=18></i><b>18</b></td><td>Das ist eine gewöhnliche URL. Sie sollte nur verwendet werden, wenn keine der anderen Referenzkategorien verfügbar ist.</td></tr><tr><td><i class=conum data-value=19></i><b>19</b></td><td>Das ist das Datum, an dem die Sicherheitslücke bekannt wurde (<em>JJJJ-MM-TT</em>).</td></tr><tr><td><i class=conum data-value=20></i><b>20</b></td><td>Das ist das Datum, an dem der Eintrag hinzugefügt wurde (<em>JJJJ-MM-TT</em>).</td></tr><tr><td><i class=conum data-value=21></i><b>21</b></td><td>Das ist das Datum, an dem zuletzt irgendeine Information des Eintrags verändert wurde (<em>JJJJ-MM-TT</em>). Neue Einträge dürfen dieses Feld nicht enthalten. Es sollte beim Editieren eines existierenden Eintrags eingefügt werden.</td></tr></tbody></table></div></div><div class=sect3><h4 id=security-notify-vuxml-testing>11.3.3. Ihre Änderungen an der VuXML-Datenbank testen<a class=anchor href=#security-notify-vuxml-testing></a></h4><div class=paragraph><p>Nehmen wir an, Sie haben gerade einen Eintrag für eine Sicherheitslücke in dem Paket <code>clamav</code> geschrieben oder ausgefüllt, die in der Version <code>0.65_7</code> korrigiert wurde.</p></div><div class=paragraph><p>Als Voraussetzung müssen Sie die aktuellen Versionen der Ports <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portaudit/>ports-mgmt/portaudit</a>, <a class=package href=https://cgit.freebsd.org/ports/tree/ports-mgmt/portaudit-db/>ports-mgmt/portaudit-db</a> sowie <a class=package href=https://cgit.freebsd.org/ports/tree/security/vuxml/>security/vuxml</a><em>installieren</em>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Um <code>packaudit</code> auszuführen, müssen Sie die Berechtigung haben <span class=filename>DATABASEDIR</span> zu schreiben - üblicherweise ist das <span class=filename>/var/db/portaudit</span>.</p></div><div class=paragraph><p>Durch Setzen der Umgebungsvariable <span class=filename>DATABASEDIR</span> können Sie hier auch ein anderes Verzeichnis angeben.</p></div><div class=paragraph><p>Arbeiten Sie nicht aus dem Verzeichnis <span class=filename>${PORTSDIR}/security/vuxml</span> heraus, müssen Sie zusätzlich die Umgebungsvariable <span class=filename>VUXMLDIR</span> setzen, um anzugeben, in welchem Verzeichnis sich die Datei <span class=filename>vuln.xml</span> befindet.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Zuerst überprüfen Sie bitte, ob bereits ein Eintrag für diese Schwachstelle existiert. Wenn es einen solchen Eintrag gibt, sollte er auf die vorige Version <code>0.65_6</code> zutreffen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% packaudit
% portaudit clamav-0.65_6</code></pre></div></div><div class=paragraph><p>Wenn keine vorhandenen Einträge gefunden werden haben Sie grünes Licht, einen neuen Eintrag für diese Sicherheitslücke anzulegen. Sie können nun eine neue UUID erzeugen (wir nehmen an, diese lautet <code>74a9541d-5d6c-11d8-80e3-0020ed76ef5a</code>) und einen neuen Eintrag in der VuXML-Datenbank anlegen. Bitte überprüfen Sie danach die Syntax mit folgendem Befehl:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> <span class=k>${</span><span class=nv>PORTSDIR</span><span class=k>}</span>/security/vuxml <span class=o>&amp;&amp;</span> make validate</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sie werden zumindest eines der folgenden Pakete benötigen: <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/libxml2/>textproc/libxml2</a>, <a class=package href=https://cgit.freebsd.org/ports/tree/textproc/jade/>textproc/jade</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Jetzt bauen Sie bitte die <code>portaudit</code>-Datenbank aus der VuXML-Datei neu:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% packaudit</code></pre></div></div><div class=paragraph><p>Um sicherzustellen, dass der Abschnitt <code>&lt;affected></code> Ihres Eintrags die richtigen Pakete betrifft, verwenden Sie bitte den folgenden Befehl:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% portaudit <span class=nt>-f</span> /usr/ports/INDEX <span class=nt>-r</span> 74a9541d-5d6c-11d8-80e3-0020ed76ef5a</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Bitte lesen Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=portaudit&amp;sektion=1&amp;format=html">portaudit(1)</a> nach, um ein besseres Verständnis der Befehlssyntax zu entwickeln.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Bitte stellen Sie sicher, dass Ihr Eintrag keine falschen Treffer in der Ausgabe erzeugt.</p></div><div class=paragraph><p>Jetzt überprüfen Sie bitte, dass Ihr Eintrag die richtigen Versionen des Pakets angibt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% portaudit clamav-0.65_6 clamav-0.65_7
Affected package: clamav-0.65_6 <span class=o>(</span>matched by clamav&lt;0.65_7<span class=o>)</span>
Type of problem: clamav remote denial-of-service.
Reference: &lt;http://www.freebsd.org/ports/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html&gt;

1 problem<span class=o>(</span>s<span class=o>)</span> found.</code></pre></div></div><div class=paragraph><p>Offensichtlich sollte die erste Version ausgegeben werden - die zweite jedoch nicht.</p></div><div class=paragraph><p>Abschließend überprüfen Sie bitte, ob die Webseite, die aus der VuXML-Datenbank erzeugt wird, wie erwartet aussieht:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>mkdir</span> <span class=nt>-p</span> ~/public_html/portaudit
% packaudit
% lynx ~/public_html/portaudit/74a9541d-5d6c-11d8-80e3-0020ed76ef5a.html</code></pre></div></div></div></div></div></div><div class=sect1><h2 id=porting-dads>Kapitel 12. Was man machen respektive vermeiden sollte<a class=anchor href=#porting-dads></a></h2><div class=sectionbody><div class=sect2><h3 id=dads-intro>12.1. Einführung<a class=anchor href=#dads-intro></a></h3><div class=paragraph><p>Hier ist eine Liste von gebräuchlichen Dos and Don’ts (Dinge, die man machen oder vermeiden sollte), welchen Sie während des Portierungsprozesses begegnen werden. Sie sollten Ihren Port anhand dieser Liste überprüfen. Sie können auch Ports in der <a href=http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query>PR Datenbank</a>, welche andere Menschen eingereicht haben, kontrollieren. Senden Sie bitte Kommentare zu Ports, die Sie verifizieren wie unter <a href=https://docs.freebsd.org/de/articles/contributing/#CONTRIB-GENERAL>Bug Reports and General Commentary</a> beschrieben. Der Abgleich von Ports aus der PR-Datenbank hilft uns diese schneller zu committen, und zeigt auch, dass Sie wissen, worum es geht.</p></div></div><div class=sect2><h3 id=porting-wrkdir>12.2. <code>WRKDIR</code><a class=anchor href=#porting-wrkdir></a></h3><div class=paragraph><p>Schreiben Sie in keine Dateien außerhalb von <code>WRKDIR</code>. <code>WRKDIR</code> ist der einzige Ort, welcher während des Erstellen des Ports garantiert beschreibbar ist (siehe <a href=https://docs.freebsd.org/de/books/handbook/ports#PORTS-CD>Ports Installieren von CDROM</a> für ein Beispiel, um Ports in einem schreibgeschützen Zweig zu erstellen). Wenn Sie eine der <span class=filename>pkg-*</span> Dateien modifizieren müssen, sollten Sie <a href=#porting-pkgfiles>eine Variable erneut definieren</a>, anstatt die Datei zu überschreiben.</p></div></div><div class=sect2><h3 id=porting-wrkdirprefix>12.3. <code>WRKDIRPREFIX</code><a class=anchor href=#porting-wrkdirprefix></a></h3><div class=paragraph><p>Vergewissern Sie sich, dass Ihr Port <code>WRKDIRPREFIX</code> beachtet. Die meisten Ports sollten sich darüber keine Sorgen machen. Beachten Sie bitte, falls auf <code>WRKDIR</code> eines anderen Ports verwiesen wird, dass die korrekte Position <span class=filename>WRKDIRPREFIXPORTSDIR/subdir/name/work</span>, und nicht etwa <span class=filename>PORTSDIR/subdir/name/work</span>, <span class=filename>.CURDIR/../../subdir/name/work</span> oder ähnliches ist.</p></div><div class=paragraph><p>Falls Sie <code>WRKDIR</code> selbst definieren, sollten Sie sicherstellen, dass Sie <code>${WRKDIRPREFIX}${.CURDIR}</code> am Anfang anfügen.</p></div></div><div class=sect2><h3 id=porting-versions>12.4. Unterschiedliche Betriebssysteme und Betriebssystemversionen<a class=anchor href=#porting-versions></a></h3><div class=paragraph><p>Sie können auf Quelltext treffen, welcher Modifizierungen oder bedingtes Kompilieren, abhängig davon, unter welcher Unix-Version er läuft, benötigt. Falls Sie Änderungen an solch einem Quelltext vornehmen müssen, stellen Sie bitte sicher, dass Sie Ihre Änderungen so allgemein wie möglich halten, damit wir den Quelltext auf ältere FreeBSD-Systeme portieren und zur Quer-Portierung auf andere BSD-Systeme, wie etwa 4.4BSD von CSRG, BSD/386, 386BSD, NetBSD und OpenBSD verwenden können.</p></div><div class=paragraph><p>Der bevorzugte Weg, um 4.3BSD/Reno (1990) und neuere Versionen des BSD-Quelltextes zu unterscheiden, ist das <code>BSD</code>-Makro zu nutzen, welches in <a href=http://cvsweb.freebsd.org/src/sys/sys/param.h>sys/param.h</a> definiert ist. Hoffentlich ist diese Datei schon enthalten - falls nicht, so fügen Sie folgenden Quelltext:</p></div><div class="literalblock programlisting"><div class=content><pre>#if (defined(__unix__) || defined(unix)) &amp;&amp; !defined(USG)
#include &lt;sys/param.h&gt;
#endif</pre></div></div><div class=paragraph><p>an der richtigen Stelle in der <span class=filename>.c</span> Datei hinzu. Wir glauben, dass jedes System, welches diese beiden Symbole definiert, die Datei <span class=filename>sys/param.h</span> besitzt. Wenn Sie auf Systeme stoßen, wo dies nicht so ist, würden wir gerne davon erfahren. Bitte senden Sie eine E-Mail an <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a>.</p></div><div class=paragraph><p>Eine andere Möglichkeit zur Unterscheidung ist der GNU Autoconf-Stil:</p></div><div class="literalblock programlisting"><div class=content><pre>#ifdef HAVE_SYS_PARAM_H
#include &lt;sys/param.h&gt;
#endif</pre></div></div><div class=paragraph><p>Vergessen Sie nicht <code>-DHAVE_SYS_PARAM_H</code> zu den <code>CFLAGS</code> im <span class=filename>Makefile</span> hinzuzufügen, falls Sie diese Methode benutzen sollten.</p></div><div class=paragraph><p>Sobald Sie <span class=filename>sys/param.h</span> hinzugefügt haben, können Sie mit Hilfe von</p></div><div class="literalblock programlisting"><div class=content><pre>#if (defined(BSD) &amp;&amp; (BSD &gt;= 199103))</pre></div></div><div class=paragraph><p>unterscheiden, ob der Quelltext auf einer 4.3 Net2 Code-Basis oder neuer (z.B. FreeBSD 1.x, 4.3/Reno, NetBSD 0.9, 386BSD, BSD/386 1.1 und niedriger) kompiliert werden wird.</p></div><div class=paragraph><p>Benutzen Sie:</p></div><div class="literalblock programlisting"><div class=content><pre>#if (defined(BSD) &amp;&amp; (BSD &gt;= 199306))</pre></div></div><div class=paragraph><p>um zu differenzieren, ob der Quelltext auf der Basis von 4.4 Code oder neuer (z.B. FreeBSD 2.x, 4.4, NetBSD 1.0, BSD/386 2.0 oder höher) kompiliert werden wird.</p></div><div class=paragraph><p>Der Wert des <code>BSD</code>-Makros ist <code>199506</code> für die 4.4BSD-Lite2 Codebasis. Beachten Sie bitte, dass dies hier nur der Information wegen angegeben ist. Das Makro sollte nicht dazu benutzt werden, um zwischen Versionen von FreeBSD, welche auf 4.4-Lite basieren, und Versionen, welche Änderungen von 4.4-Lite2 übernommen haben, zu unterscheiden. Das {freebsd} Makro sollte stattdessen verwandt werden.</p></div><div class=paragraph><p>Sparsam sollte eingesetzt werden:</p></div><div class=ulist><ul><li><p>{freebsd} ist in allen Versionen von FreeBSD definiert. Benutzen Sie dieses Makro, falls die Änderung(en), die Sie machen, <em>nur</em> FreeBSD betrifft. Portierungsfallen, wie der Gebrauch von <code>sys_errlist[]</code> gegenüber <code>strerror()</code> sind Berkeley-Eigenheiten, keine FreeBSD Änderungen.</p></li><li><p>In FreeBSD 2.x, ist {freebsd} auf <code>2</code> definiert. In älteren Versionen, ist es <code>1</code>. Alle späteren Versionen erhöhen es, damit es mit der Haupt-Versionsnummer übereinstimmt.</p></li><li><p>Falls Sie zwischen einem FreeBSD 1.x und einem FreeBSD 2.x (oder höher) System unterscheiden müssen, ist es normalerweise richtig, die <code>BSD</code>-Makros (wie oben beschrieben) zu benutzen. Gibt es tatsächlich eine FreeBSD-spezifische Änderung (wie z.B. spezielle Optionen von Shared-Libraries für <code>ld</code>), ist es nicht zu beanstanden {freebsd} und #if {freebsd} > 1 zu nutzen, um FreeBSD 2.x und spätere Systeme zu erkennen. Falls Sie eine höhere Genauigkeit benötigen, um FreeBSD Systeme seit 2.0-RELEASE zu erkennen, können Sie folgendes nutzen:</p><div class="literalblock programlisting"><div class=content><pre>#if __FreeBSD__ &gt;= 2
#include &lt;osreldate.h&gt;
#    if __FreeBSD_version &gt;= 199504
	 /* 2.0.5+ release specific code here */
#    endif
#endif</pre></div></div></li></ul></div><div class=paragraph><p>In den Tausenden von Ports, die bis jetzt erstellt wurden, gab es nur ein oder zwei Fälle, in denen {freebsd} hätte benutzt werden sollen. Nur weil ein früherer Port es an der falschen Stelle benutzt hatte, bedeutet das nicht, dass Sie dies auch machen sollten.</p></div></div><div class=sect2><h3 id=freebsd-versions>12.5. __FreeBSD_version Werte<a class=anchor href=#freebsd-versions></a></h3><div class=paragraph><p>Hier ist eine praktische Liste von <code>__FreeBSD_version</code>-Werten wie in <a href=http://cvsweb.freebsd.org/src/sys/sys/param.h>sys/param.h</a> definiert:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 48. __FreeBSD_version-Werte</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Wert</th><th class="tableblock halign-left valign-top">Datum</th><th class="tableblock halign-left valign-top">Release</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>119411</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.0-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199501, 199503</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. März 1995</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.1-CURRENT</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199504</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. April 1995</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.0.5-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199508</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. August 1995</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-CURRENT vor 2.1</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199511</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. November 1995</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.1.0-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199512</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. November 1995</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-CURRENT vor 2.1.5</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199607</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Juli 1996</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.1.5-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199608</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Juli 1996</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-CURRENT vor 2.1.6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199612</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. November 1996</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.1.6-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>199612</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.1.7-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>220000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Februar 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(nicht geändert)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(nicht geändert)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach 2.2.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>221001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. April 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach texinfo-3.9</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>221002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. April 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach top</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>222000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Mai 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>222001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Mai 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach 2.2.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>225000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Oktober 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.5-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>225001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. November 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach 2.2.5-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>225002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Dezember 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach der Aufnahme von ldconfig -R</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>226000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. März 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.6-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>227000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Juli 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.7-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>227001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Juli 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach 2.2.7-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>227002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. September 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach <a href="https://man.freebsd.org/cgi/man.cgi?query=semctl&amp;sektion=2&amp;format=html">semctl(2)</a> Änderung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>228000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. November 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2.8-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>228001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. November 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.2-STABLE nach 2.2.8-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Februar 1996</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-CURRENT vor <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=2&amp;format=html">mount(2)</a> Änderung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. September 1997</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-CURRENT nach <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=2&amp;format=html">mount(2)</a> Änderung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Juni 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-CURRENT nach <a href="https://man.freebsd.org/cgi/man.cgi?query=semctl&amp;sektion=2&amp;format=html">semctl(2)</a> Änderung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Juni 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-CURRENT nach ioctl arg Änderungen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. September 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-CURRENT nach ELF-Konvertierung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Oktober 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Oktober 1998</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-CURRENT nach 3.0-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>300007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Januar 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.0-STABLE nach 3/4 Zweig</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>310000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Februar 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>310001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. März 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.1-STABLE nach 3.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>310002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. April 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.1-STABLE nach Änderung der C++ Konstruktor/Destruktor-Reihenfolge</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>320000</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>320001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Mai 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.2-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>320002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. August 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.2-STABLE nach binär-inkompatibler IPFW und Socket-Änderungen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>330000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. September 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>330001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. September 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>330002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. November 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.3-STABLE nach Hinzufügen von <a href="https://man.freebsd.org/cgi/man.cgi?query=mkstemp&amp;sektion=3&amp;format=html">mkstemp(3)</a> zur libc</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>340000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. Dezember 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.4-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>340001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Dezember 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.4-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>350000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Juni 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.5-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>350001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3.5-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Januar 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach 3.4 Zweig</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Februar 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach der Änderung im Verhalten des dynamischen Linkers.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. März 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach Änderung der C++ Konstruktor/Destruktor Reihenfolge.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. März 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach funktionierendem <a href="https://man.freebsd.org/cgi/man.cgi?query=dladdr&amp;sektion=3&amp;format=html">dladdr(3)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. April 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach der __deregister_frame_info Fehlerbehebung für den dynamischen Linker (auch 4.0-CURRENT nach EGCS 1.1.2 Integration).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. April 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach <a href="https://man.freebsd.org/cgi/man.cgi?query=suser&amp;sektion=9&amp;format=html">suser(9)</a> API Änderung (auch 4.0-CURRENT nach newbus).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Mai 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach Änderung der cdevsw-Registrierung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Juni 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach Hinzufügen von so_cred für Zugangsberechtigungen auf Socket-Ebene.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Juni 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach Hinzufügen eines poll Syscall-Wrappers zur libc_r.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Juli 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach der Änderung des Kernel <code>dev_t</code>-Typs zum <code>struct specinfo</code>-Zeiger.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. September 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach dem Beseitigen eines Fehlers in <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=2&amp;format=html">jail(2)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. September 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach der <code>sigset_t</code> Datentyp Änderung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400012</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. November 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach dem Wechsel zum GCC 2.95.2-Compiler.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400013</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Dezember 1999</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach Hinzufügen der erweiterbaren Linux Mode ioctl-Routinen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400014</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Januar 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach dem OpenSSL-Import.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400015</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Januar 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach der C++ ABI Änderung in GCC 2.95.2 von -fvtable-thunks zu -fno-vtable-thunks als Standard.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400016</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Februar 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-CURRENT nach OpenSSH-Import.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400017</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. März 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400018</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. März 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-STABLE nach 4.0-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400019</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. Mai 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-STABLE nach der Einführung von verzögerten Prüfsummen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400020</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Juni 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-STABLE nach dem Einpflegen des libxpg4-Quelltextes in die libc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>400021</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.0-STABLE nach der Aktualisierung von Binutils auf 2.10.0, Änderungen der binären ELF-Markierungen, Aufnahme von tcsh ins Basissystem.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>410000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>410001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.1-STABLE nach 4.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>410002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. September 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.1-STABLE nachdem <a href="https://man.freebsd.org/cgi/man.cgi?query=setproctitle&amp;sektion=3&amp;format=html">setproctitle(3)</a> von der libutil in die libc verschoben wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>411000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. September 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.1.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>411001</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.1.1-STABLE nach 4.1.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>420000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Oktober 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>420001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Januar 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.2-STABLE nach Kombinaion von libgcc.a und libgcc_r.a und zugehörigen Änderungen der GCC-Bindungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>430000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. März 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.3-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>430001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Mai 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.3-STABLE nach der Einführung von wint_t.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>430002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Juli 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.3-STABLE nach dem Einpflegen der PCI Stromstatus-API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>440000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. August 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.4-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>440001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Oktober 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.4-STABLE nach der Einführung von d_thread_t.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>440002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. November 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.4-STABLE nach den Änderungen der mount-Struktur (betrifft Dateisystem-Kernelmodule).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>440003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Dezember 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.4-STABLE nachdem die Userland-Komponenten von smbfs importiert worden sind.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>450000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Dezember 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.5-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>450001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Februar 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.5-STABLE nach der Umbenennung von Elementen der USB-Struktur.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>450004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. April 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.5-STABLE nachdem die <code>sendmail_enable</code> <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> Variable geändert worden ist, um den Wert <code>NONE</code> zu akzeptieren.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>450005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. April 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.5-STABLE nachdem XFree86 4 als Standard zum Bauen der Pakete benutzt wird.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>450006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Mai 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.5-STABLE nach dem Reparieren des Empfangsfilters, welcher anfällig für einfache DoS-Attacken war.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>460000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Juni 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.6-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>460001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Juni 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.6-STABLE <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> repariert, um mit der Dokumentation übereinzustimmen, und nicht mehr die Anzahl der gesendeten Header mit der Anzahl der Daten, welche aus der Datei geschickt werden, gegenzurechnen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>460002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Juli 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.6.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>460100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Juni 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.6-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>460101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Juni 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.6-STABLE nach dem Einfließen von <code>sed -i</code> aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>460102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. September 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.6-STABLE nach dem Einfließen von vielen neuen pkg_install-Funktionen aus HEAD (HEAD = die aktuellste und letzte Version des Quellverzeichnisbaumes).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>470000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Oktober 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.7-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>470100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Oktober 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.7-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>470101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. November 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Beginn von generierten <em>std{in,out,err}p Referenzen statt </em>sF. Dies ändert std{in,out,err} von einem Ausdruck während des Kompilierens zu einem Laufzeitausdruck.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>470102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Januar 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.7-STABLE nach dem Einfliessen von mbuf-Änderungen, um m_aux mbufs mit denen von m_tag zu ersetzen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>470103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Februar 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.7-STABLE erhält OpenSSL 0.9.7</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>480000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. März 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.8-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>480100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. April 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.8-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>480101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Mai 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.8-STABLE nachdem <a href="https://man.freebsd.org/cgi/man.cgi?query=realpath&amp;sektion=3&amp;format=html">realpath(3)</a> Thread-sicher gemacht wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>480102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. August 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.8-STABLE Änderung der 3ware-API in twe.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>490000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Oktober 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.9-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>490100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Oktober 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.9-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>490101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Januar 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.9-STABLE nachdem e_sid zu der Struktur kinfo_eproc hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>490102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Februar 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.9-STABLE nach dem Einfliessen der libmap-Funktionalität für rtld.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>491000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Mai 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.10-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>491100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.10-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>491101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. August 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.10-STABLE nach dem Einfliessen von Revision 20040629 der Paket-Werkzeuge aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>491102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. November 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.10-STABLE nach der Fehlerbehebung in der VM, um das Freigeben von fiktiven Speicherseiten korrekt zu handhaben.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>492000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Dezember 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.11-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>492100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Dezember 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.11-STABLE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>492101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. April 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4.11-STABLE nach dem Hinzufügen von libdata/ldconfig Verzeichnissen zu den mtree-Dateien.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. März 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. April 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach Hinzufügen von zusätzlichen Feldern in den ELF-Headern und Ändern der Methode zur ELF-Markierung von Binärdateien.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Mai 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach kld-Metadaten Änderungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Mai 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach buf/bio Änderungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Mai 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach binutils Aktualisierung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. Juni 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Einfliessen des libxpg4 Quelltextes in die libc und der Einführung der TASKQ-Schnittstelle.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Juni 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Hinzufügen der AGP-Schnittstellen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Juni 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Aktualisierung von Perl auf Version 5.6.0.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Aktualisierung des KAME-Quelltextes zu den 2000/07-Quellen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach ether_ifattach() und ether_ifdetach() Änderungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem die mtree-Standards zurück zur ursprünglichen Variante geändert wurden; -L hinzugefügt, um Symlinks zu folgen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Juli 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem die kqueue-API geändert worden ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500012</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. September 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem <a href="https://man.freebsd.org/cgi/man.cgi?query=setproctitle&amp;sektion=3&amp;format=html">setproctitle(3)</a> von libutil nach libc verschoben worden ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500013</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. September 2000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem ersten SMPng-Commit.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500014</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Januar 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem &lt;sys/select.h> nach &lt;sys/selinfo.h> verschoben worden ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500015</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Januar 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Kombinieren von libgcc.a und libgcc_r.a und damit verbundene Änderungen an GCC-Bindungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500016</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Januar 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Änderung das Zusammenbinden von libc und libc_r zu erlauben, womit die -pthread Option veraltet ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500017</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Februar 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Umschalten von struct ucred zu struct xucred, um die vom Kernel exportierte API für mount u.a.zu stabilisieren.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500018</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Februar 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Hinzufügen der CPUTYPE make Variable zum Kontrollieren von CPU-spezifischen Optimierungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500019</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Juni 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Verschieben von machine/ioctl_fd.h nach sys/fdcio.h</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500020</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Juni 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Umbenennung der locale-Namen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500021</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Juni 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Bzip2-Import. Kennzeichnet auch, dass S/Key entfernt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500022</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Juli 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach SSE Unterstützung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500023</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. September 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach KSE-Meilenstein 2.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500024</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Oktober 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach d_thread_t, und nachdem UUCP in die Ports verschoben worden ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500025</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Oktober 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach Änderungen in der ABI bei der Weitergabe von Deskriptoren und Berechtigungen auf 64 Bit Plattformen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500026</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Oktober 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem XFree86 4 als Standard zum Erstellen der Pakete benutzt wird und die neue libc strnstr()-Funktion hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500027</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Oktober 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem die neue libc strcasestr()-Funktion hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500028</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Dezember 2001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem die Userland-Komponenten von smbfs importiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(nicht geändert)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem die neuen C99-Ganzzahlen mit spezifischer Breite hinzugefügt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500029</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Januar 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem eine Änderung im Rückgabewert von <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> gemacht wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500030</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Februar 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Einführung des Types <code>fflags_t</code>, welches die passende Größe für Dateiflags hat.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500031</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Februar 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Umbenennung der USB elements-Struktur.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500032</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. März 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Einführung von Perl 5.6.1.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500033</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. April 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem die <code>sendmail_enable</code> <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> Variable geändert worden ist, um den Wert <code>NONE</code> zu akzeptieren.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500034</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. April 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem mtx_init() einen dritten Parameter entgegen nimmt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500035</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Mai 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT mit GCC 3.1.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500036</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Mai 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT ohne Perl in /usr/src</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500037</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Mai 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Hinzufügen von <a href="https://man.freebsd.org/cgi/man.cgi?query=dlfunc&amp;sektion=3&amp;format=html">dlfunc(3)</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500038</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Juli 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem die Typen von einigen Elementen der sockbuf-Struktur geändert wurden und nachdem die Struktur neu geordnet wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500039</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. September 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem GCC 3.2.1 Import. Und auch nachdem die Header nicht mehr <em>BSD_FOO_T</em> sondern _FOO_T_DECLARED benutzen. Dieser Wert kann auch als konservative Schätzung für den Beginn der Unterstützung des <a href="https://man.freebsd.org/cgi/man.cgi?query=bzip2&amp;sektion=1&amp;format=html">bzip2(1)</a> Pakets verwendet werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500040</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. September 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem verschiedene Änderungen an Plattenfunktionen gemacht wurden, um die Anhängigkeit von Interna der disklabel-Struktur zu entfernen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500041</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Oktober 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Hinzufügen von <a href="https://man.freebsd.org/cgi/man.cgi?query=getopt_long&amp;sektion=3&amp;format=html">getopt_long(3)</a> zur libc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500042</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Oktober 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Aktualisierung von Binutils auf 2.13, bei denen die FreeBSD-Emulation, vec und das Ausgabeformat geändert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500043</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. November 2002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Hinzufügen schwacher pthread_XXX Stubs zur libc, womit libXThrStub.so veraltet ist. 5.0-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Januar 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach dem Erstellen des RELENG_5_0-Zweiges</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Februar 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>&lt;sys/dkstat.h> ist leer und sollte nicht inkludiert werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Februar 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der Änderung in der d_mmap_t-Schnittstelle.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Februar 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem taskqueue_swi geädert wurde, um ohne Giant zu arbeiten, und taskqueue_swi_giant hinzugefügt wurde, um Giant zu verwenden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Februar 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>cdevsw_add() und cdevsw_remove() gibt es nicht länger. Auftauchen der MAJOR_AUTO-Allokationsmöglichkeit.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. März 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der neuen cdevsw-Initialisierungsmethode.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. März 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>devstat_add_entry() wurde durch devstat_new_entry() ersetzt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500107</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. März 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Devstat Schnittstellenänderung; siehe sys/sys/param.h 1.149.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500108</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. März 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Token-Ring Schnittstellenänderungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500109</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. März 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hinzufügen von vm_paddr_t.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500110</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. März 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem <a href="https://man.freebsd.org/cgi/man.cgi?query=realpath&amp;sektion=3&amp;format=html">realpath(3)</a> Thread-sicher gemacht wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500111</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. April 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nachdem <a href="https://man.freebsd.org/cgi/man.cgi?query=usbhid&amp;sektion=3&amp;format=html">usbhid(3)</a> mit NetBSD synchronisiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500112</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. April 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach der neuen NSS Implementierung und Hinzufügen der POSIX.1 getpw*_r, getgr*_r Funktionen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>500113</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Mai 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.0-CURRENT nach Entfernen des alten rc-Systems.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Juni 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Juni 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nach dem Erstellen des RELENG_5_1 Zweiges.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Juni 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nachdem die Semantik von sigtimedwait(2) and sigwaitinfo(2) korrigiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. Juli 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nach dem Hinzufügen der lockfunc und lockfuncarg-Felder zu <a href="https://man.freebsd.org/cgi/man.cgi?query=bus_dma_tag_create&amp;sektion=9&amp;format=html">bus_dma_tag_create(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Juli 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nach der Integration des GCC 3.3.1-pre 20030711 Snapshots.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. August 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT 3ware-API Änderungen in twe.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. August 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT Unterstützung von dynamisch gebundenen /bin und /sbin und Verschieben von Bibliotheken nach /lib.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. September 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nachdem im Kernel Unterstützung für Coda 6.x hinzugefügt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501107</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. September 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nachdem die 16550 UART-Konstanten von <span class=filename>&lt;dev/sio/sioreg.h></span> nach <span class=filename>&lt;dev/ic/ns16550.h></span> verschoben wurden. Und nachdem die libmap Funktionalität vorbehaltlos vom rtld unterstützt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501108</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. September 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nach Aktualisierung der PFIL_HOOKS API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501109</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. September 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nachdem kiconv(3) hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501110</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. September 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nachdem der standardmäßige Ablauf von open und close in cdevsw geändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501111</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Oktober 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nachdem das Layout von cdevsw geändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501112</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Oktober 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nach dem Hinzufügen von Mehrfachvererbung in kobj.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501113</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Oktober 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nach der if_xname Änderung in der Struktur ifnet</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>501114</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. November 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.1-CURRENT nachdem /bin und /sbin geändert wurden, um sie dynamisch zu binden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Dezember 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Februar 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Dezember 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Erstellen des RELENG_5_2-Zweiges.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Dezember 2003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem die <em>cxa_atexit/</em>cxa_finalize Funktionen zur libc hinzugefügt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. Januar 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem die Standard-Thread Bibliothek von libc_r zu libpthread geändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Februar 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Gerätetreiber API Megapatch.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Februar 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem getopt_long_only() hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. März 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem NULL für C in ((void *)0) geändert wurde, was mehr Warnungen erzeugt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. März 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem pf beim Bauen und Installieren mit eingebunden wird.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502107</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. März 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem time_t auf der sparc64-Plattform in einen 64-bit Wert geändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502108</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. März 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem sich die Unterstützung für den Intel C/C++-Compiler in einigen Headern und execve(2) geändert hat, um sich strikter an POSIX zu halten.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502109</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. März 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach der Einführung der bus_alloc_resource_any API</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502110</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. März 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Hinzufügen von UTF-8 locales</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502111</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. April 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Entfernen der getvfsent(3) API</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502112</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. April 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Hinzufügen der .warning Directive für make.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502113</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem ttyioctl() zwingend erforderlich für serielle Treiber gemacht wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502114</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Import des ALTQ-Frameworks.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502115</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem sema_timedwait(9) geändert wurde, 0 bei Erfolg und einen von 0 verschiedenen Fehlercode im Falle eines Fehlers zurückzuliefern.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502116</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Ändern der Kernel Struktur dev_t, in ein Zeiger auf die Struktur cdev *</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502117</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Ändern der Kernelstruktur udev_t in dev_t.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502118</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem Unterstützung für CLOCK_VIRTUAL und CLOCK_PROF zu clock_gettime(2) und clock_getres(2) hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502119</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Juni 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem die Überprüfung des Klonens von Netzwerk-Schnittstellen geändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502120</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Juli 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Einfliessen von Revision 20040629 der Paket-Werkzeuge.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502121</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Juli 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem Bluetooth-Quelltext als nicht i386-spezifisch markiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502122</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juli 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach der Einführung des KDB Debugger Frameworks, der Umwandlung des DDB in ein Backend und der Einführung des GDB-Backends.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502123</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Juli 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem VFS_ROOT geändert wurde, eine Struktur thread als Argument zu aktzeptieren, wie vflush. Die Struktur kinfo_proc enthält nun einen Zeiger auf Benutzer Daten. Der Umstieg auf <code>xorg</code> als standardmäßige X Implementierung wurde auch zu dieser Zeit durchgeführt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502124</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Juli 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem die Art und Weise, wie rc.d-Skripte von Ports und Altlasten gestartet werden, getrennt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502125</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Juli 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem die vorherige Änderung rückgängig gemacht wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502126</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Juli 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach dem Entfernen von kmem_alloc_pageable() und dem Import von GCC 3.4.2.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502127</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. August 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nachdem die UMA Kernel API geändert wurde, um Konstruktoren und Initialisierungsmethoden zu erlauben fehlzuschlagen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>502128</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. August 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.2-CURRENT nach der Änderung in der vfs_mount Signatur sowie allgemeines Ersetzen von PRISON_ROOT durch SUSER_ALLOWJAIL in der suser(9) API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. August 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.3-BETA/RC vor der Änderung der pfil-API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. September 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.3-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Oktober 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.3-STABLE nach dem Erstellen des RELENG_5_3-Zweiges.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. Dezember 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.3-STABLE nach dem Hinzufügen von Fülloptionen im Stile der libc zu <a href="https://man.freebsd.org/cgi/man.cgi?query=strftime&amp;sektion=3&amp;format=html">strftime(3)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.3-STABLE nachdem OpenBSD’s nc(1) von CURRENT importiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-PRERELEASE nach dem Einfliessen der Reparaturen aus CURRENT, in <span class=filename>&lt;src/include/stdbool.h></span> und <span class=filename>&lt;src/sys/i386/include/_types.h></span>, um die GCC-Kompatibilität des Intel C/C++-Compilers zu benutzen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-PRERELEASE nach dem Einfliessen der Änderung aus CURRENT in ifi_epoch statt der lokalen Zeit die Betriebszeit des Systems zu benutzen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>503105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. März 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-PRERELEASE nach dem Einfliessen der Reparaturen von EOVERFLOW in vswprintf(3) aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>504000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. April 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>504100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. April 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-STABLE nach dem Erstellen des RELENG_5_4-Zweiges.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>504101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Mai 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-STABLE nach dem Vergrößern der standardmäßigen Stackgröße für Threads.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>504102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Juni 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-STABLE nach dem Hinzufügen von sha256.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>504103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. Oktober 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-STABLE nach dem Einfliessen von if_bridge aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>504104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. November 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-STABLE nach dem Einfliessen von bsdiff und portsnap aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>504105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Januar 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.4-STABLE nach dem Einfliessen der Änderung von ldconfig_local_dirs aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>505000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Mai 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.5-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>505100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Mai 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5.5-STABLE nach dem Erstellen des RELENG_5_5-Zweiges.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. August 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. August 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach der festen Aktivierung von PFIL_HOOKS im Kernel.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. August 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach der anfänglichen Einführung von ifi_epoch zur Struktur if_data. Wurde nach ein paar Tagen wieder rückgängig gemacht. Benutzen Sie diesen Wert bitte nicht.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. September 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem erneuten Hinzufügen des Elements ifi_epoch zur Struktur if_data.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. September 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Hinzufügen der Struktur inpcb als Argument in der pfil API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. Oktober 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Hinzufügen des "-d DESTDIR" Schalters zu newsyslog.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. November 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Hinzufügen von Fülloptionen im Style der libc zu <a href="https://man.freebsd.org/cgi/man.cgi?query=strftime&amp;sektion=3&amp;format=html">strftime(3)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Dezember 2004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Hinzufügen von 802.11 Framework Neuerungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Januar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT Änderung an den VOP_*VOBJECT() Funktionen und Einführung des MNTK_MPSAFE Schalters für Dateisysteme, welche ohne Giant arbeiten.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Hinzufügen von cpufreq Framework und Treibern.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem OpenBSD’s nc(1) importiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem der Anschein von <code>matherr()</code> Unterstützung in SVID2 entfernt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600012</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Vergrößern der standardmäßigen Stackgröße für Threads.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600013</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Einfliessen der Reparaturen in <span class=filename>&lt;src/include/stdbool.h></span> und <span class=filename>&lt;src/sys/i386/include/_types.h></span>, um die GCC-Kompatibilität des Intel C/C++-Compilers zu benutzen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600014</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem die Überprüfungen auf EOVERFLOW in vswprintf(3) korrigiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600015</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Einfliessen der Änderung, in ifi_epoch, statt der lokalen Zeit, die Betriebzeit des Systems zu benutzen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600016</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem das Format von LC_CTYPE auf der Festplatte verändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600017</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem das Format der NLS-Kataloge auf der Festplatte verändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600018</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem das Format von LC_COLLATE auf der Festplatte verändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600019</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Februar 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Installation der acpica Include-Dateien in /usr/include.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600020</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. März 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hinzufügen des MSG_NOSIGNAL Schalters zur send(2) API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600021</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. März 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hinzufügen von Feldern zu cdevsw</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600022</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. März 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>gtar wurde aus dem Basissystem entfernt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600023</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. April 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Optionen LOCAL_CREDS, LOCAL_CONNWAIT für Sockets wurde zu unix(4) hinzugefügt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600024</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. April 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=hwpmc&amp;sektion=4&amp;format=html">hwpmc(4)</a> und zugehörige Werkzeuge wurden zu 6.0-CURRENT hinzugefügt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600025</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. April 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Struktur icmphdr wurden zu 6.0-CURRENT hinzugefügt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600026</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. Mai 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pf Aktualisierung auf 3.7.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600027</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Mai 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Kernel libalias und ng_nat wurden eingeführt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600028</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Mai 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>POSIX ttyname_r(3) wurde über unistd.h und libc zur Verfügung gestellt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600029</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Mai 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem libpcap zu Version v0.9.1 alpha 096 aktualisiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600030</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. Juni 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Import von NetBSDs if_bridge(4).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600031</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Juni 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nachdem die Struktur ifnet aus dem Treiber softcs herausgelöst wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600032</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juli 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-CURRENT nach dem Import von libpcap v0.9.1.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600033</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Juli 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nachdem die Versionen aller gemeinsam genutzten Bibliotheken, welche seit RELENG_5 nicht geändert wurden, erhöht wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600034</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. August 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nachdem das Argument credential zu der dev_clone-Ereignisbehandlung hinzugefügt wurde. 6.0-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. November 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nach dem Erstellen des 6.0-RELEASE-Zweiges.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Dezember 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nach dem Aufnehmen von Skripten aus den local_startup-Verzeichnissen in <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> des Basissystems.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. Dezember 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nach dem Aktualisieren der ELF-Typen und Konstanten.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Januar 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nach dem Einfliessen der pidfile(3)-API aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Januar 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nach dem Einfliessen der Änderung von ldconfig_local_dirs aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>600105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Februar 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.0-STABLE nach der NLS-Katalogunterstützung von csh(1).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>601000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Mai 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>601100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Mai 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.1-STABLE nach 6.1-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>601101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Juni 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.1-STABLE nach dem Import von csup.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>601102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juli 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.1-STABLE nach der iwi(4)-Aktualisierung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>601103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Juli 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.1-STABLE nach der Aktualisierung der Namensauflösung zu BIND9 und Aufnahme der ablaufinvarianten Versionen der netdb-Funktionen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>601104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. August 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.1-STABLE nachdem Unterstützung für DSO (dynamic shared objects - gemeinsam genutzte, dynamische Objekte) in OpenSSL aktiviert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>601105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. September 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.1-STABLE nachdem 802.11 Reparaturen die API der IEEE80211_IOC_STA_INFO ioctl geändert haben.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. November 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. September 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach 6.2-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Dezember 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Hinzufügen der Wi-Spy Eigenart.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Dezember 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nachdem pci_find_extcap() hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Januar 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen der dlsym Änderung aus CURRENT, ein angefordertes Symbol sowohl in der spezifizierten dso, als auch in den impliziten Abhängigkeiten nachzuschlagen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Januar 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen von ng_deflate(4) und ng_pred1(4) netgraph Knoten und neuen Kompressions- und -Verschlüsselungmodi für den ng_ppp(4) Knoten aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Februar 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen der BSD lizensierten Version von <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a>, welche von NetBSD portiert wurde aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. März 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen der PCI MSI und MSI-X Unterstützung aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602107</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. April 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen von ncurses 5.6 und Unterstützung für Multibyte-Zeichen aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602108</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. April 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen des 'SG' Peripheriegerätes aus CURRENT in CAM, welches einen Teil der SCSI SG passthrough Geräte API von Linux enthält.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602109</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. April 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen von readline 5.2 Patchset 002 aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602110</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Mai 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen von pmap_invalidate_cache(), pmap_change_attr(), pmap_mapbios(), pmap_mapdev_attr(), und pmap_unmapbios() für amd64 und i386 aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602111</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juni 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen von BOP_BDFLUSH aus CURRENT und dem daraus resultierendem Bruch mit dem Dateisystemmodul KBI.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602112</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. September 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE nach dem Einpflegen von libutil(3) aus CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602113</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE, nach der Trennung in "wide und single byte ctype". Neu kompilierte Binärdateien, die ctype.h referenzieren, erfordern möglicherweise ein neues Symbol, __mb_sb_limit, das auf älteren Systemen nicht verfügbar ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602114</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.2-STABLE, nachdem die ctype ABI-Aufwärtskompatibilität wiederhergestellt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>602115</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. November 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FreeBSD 6.2-STABLE nach der Entfernung/Eliminierung der wide und single Byte ctype-Trennung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>603000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. November 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.3-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>603100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. November 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.3-STABLE nach 6.3-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>603101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Dezember 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.3-STABLE, nachdem der Support für den Multibyte-Datentyp im Bit-Makro gefixt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>603102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.3-STABLE nach Hinzufügen von l_sysid zu struct flock.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>603103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Mai 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.3-STABLE nach Einfließen der <code>memrchr</code>-Funktion.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>603104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Juni 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.3-STABLE nach Übernahme der Unterstützung von <code>:u</code> als Variablenwandler in make(1).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>604000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Oktober 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.4-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>604100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Oktober 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6.4-STABLE nach 6.4-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juli 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Juli 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem die Versionen aller gemeinsam genutzten Bibliotheken, welche seit RELENG_5 nicht geändert wurden, erhöht wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. August 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem ein Berechtigungs-Argument zur dev_clone-Ereignisroutine hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. August 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem memmem(3) zur libc hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. Oktober 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem die Argumente der Kernelfunktion solisten(9) modifiziert wurden, um einen Backlog-Parameter (Anzahl der maximalen wartenden Verbindungen) zu akzeptieren.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. November 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem IFP2ENADDR() geändert wurde, einen Zeiger auf IF_LLADDR() zurückzugeben.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. November 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen des <code>if_addr</code>-Elements zur Struktur <code>ifnet</code> und dem Entfernen von IFP2ENADDR().</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Dezember 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Aufnehmen von Skripten aus den local_startup Verzeichnissen in <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> des Basissystems.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. Dezember 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Entfernen der MNT_NODEV mount-Option.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Dezember 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach ELF-64 Typen Änderungen und Symbol Versionierung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Dezember 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach Hinzufügen der hostb und vgapci Treiber, Hinzufügen von pci_find_extcap() und Änderung der AGP Treiber die Apertur nicht länger abzubilden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Dezember 2005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem auf allen Plattformen außer Alpha tv_sec in time_t umgewandelt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700012</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Januar 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach Änderung von ldconfig_local_dirs.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700013</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Januar 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach Änderung in <span class=filename>/etc/rc.d/abi</span> um <span class=filename>/compat/linux/etc/ld.so.cache</span> als Symlink in ein schreibgeschütztes Dateisystem zu unterstützen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700014</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Januar 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach pts Import.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700015</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. März 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach Einführung von Version 2 der <a href="https://man.freebsd.org/cgi/man.cgi?query=hwpmc&amp;sektion=4&amp;format=html">hwpmc(4)</a>'s ABI.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700016</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. April 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen von <a href="https://man.freebsd.org/cgi/man.cgi?query=fcloseall&amp;sektion=3&amp;format=html">fcloseall(3)</a> zur libc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700017</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Mai 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Entfernen von ip6fw.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700018</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Juli 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Import von snd_emu10kx.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700019</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Juli 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Import von OpenSSL 0.9.8b.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700020</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. September 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen der bus_dma_get_tag-Funktion</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700021</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. September 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Import von libpcap 0.9.4 und tcpdump 3.9.4.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700022</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. September 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach der dlsym Änderung, ein angefordertes Symbol sowohl in der spezifizierten dso, als auch in den impliziten Abhängigkeiten nachzuschlagen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700023</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. September 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen neuer Sound-IOCTLs für die OSSv4-Mixer-API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700024</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. September 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Import von OpenSSL 0.9.8d.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700025</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. November 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen der libelf.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700026</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. November 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach größeren Änderungen an den Sound sysctls.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700027</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. November 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen der Wi-Spy-Eigenart.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700028</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Dezember 2006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen von sctp-Aufrufen zur libc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700029</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Januar 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Ersetzen von GNU <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a> durch eine von NetBSD portierte Version, die unter BSD-Lizenz steht.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700030</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Februar 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Entfernen der IPIP Tunnelkapselung (VIFF_TUNNEL) aus dem IPv4 Multicast-Forwarding-Quelltext.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700031</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Februar 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach den Modifizierungen an bus_setup_intr() (newbus).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700032</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. März 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach der Aufnahme der Firmware für ipw(4) und iwi(4).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700033</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. März 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach Unterstützung für Multibyte-Zeichen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700034</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. März 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach Änderungen, wie insmntque(), getnewvnode() und vfs_hash_insert() arbeiten.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700035</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. März 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach Hinzufügen eines Benachrichtigungsmechanismus für CPU Frequenzänderungen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700036</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. April 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Import des ZFS Dateisystemes.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700037</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. April 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Einpflegen des 'SG' Peripheriegerätes in CAM, welches einen Teil der SCSI SG passthrough Geräte API von Linux enthält.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700038</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. April 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=putenv&amp;sektion=3&amp;format=html">putenv(3)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=setenv&amp;sektion=3&amp;format=html">setenv(3)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=unsetenv&amp;sektion=3&amp;format=html">unsetenv(3)</a> geändert wurden, um POSIX konform zu sein.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700039</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Mai 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem die Änderungen von 700038 rückgängig gemacht wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700040</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Mai 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Hinzufügen von <a href="https://man.freebsd.org/cgi/man.cgi?query=flopen&amp;sektion=3&amp;format=html">flopen(3)</a> zur libutil.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700041</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Mai 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem Symbol Versionierung aktiviert und die standardmäßige Thread-Bibliothek zu libthr geändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700042</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Mai 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach dem Import von GCC 4.2.0.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700043</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Mai 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem die Versionen aller Shared-Libraries, welche seit RELENG_6 nicht geändert wurden, erhöht worden sind.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700044</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Juni 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem das Argument für vn_open()/VOP_OPEN() vom Dateideskriptorindex zur Struktur file * geädert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700045</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Juni 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nachdem <a href="https://man.freebsd.org/cgi/man.cgi?query=pam_nologin&amp;sektion=8&amp;format=html">pam_nologin(8)</a> geädert wurde, eine Kontoverwaltungs-Funktion statt einer Authentifizierungsfunktion für das PAM-Framework zur Verfügung zu stellen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700046</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juni 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT nach aktualisierter 802.11 wireless Unterstützung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700047</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juni 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem TCP-LRO-Schnittstellen-Ressourcen hinzugefügt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700048</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Juni 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem die RFC 3678 API-Unterstützung zum IPv4-Stack hinzugefügt wurde. Veraltetes RFC 1724-Verhalten des IP_MULTICAST_IF ioctl wurde entfernt; 0.0.0.0/8 darf nicht länger als Schnittstellen-Index benutzt werden. Stattdessen sollte die Struktur ipmreqn verwendet werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700049</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3. Juli 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem pf von OpenBSD 4.1 importiert wurde</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(nicht geändert)</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem die IPv6-Unterstützung um FAST_IPSEC erweitert, KAME IPSEC entfernt und FAST_IPSEC in IPSEC umbenannt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700050</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Juli 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem Aufrufe von setenv/putenv/usw. von der traditionellen BSD-Art und Weise nach POSIX konvertiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700051</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Juli 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem neue Systemaufrufe (mmap/lseek/usw.) implementiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700052</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Juli 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem die I4B-Header nach include/i4b verschoben wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700053</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. September 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nachdem die Unterstützung für PCI Domänen hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700054</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-CURRENT, nach der Trennung in "wide und single byte ctype".</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700055</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-RELEASE sowie 7.0-CURRENT, nachdem die ABI-Abwärtskompatibilität für die FreeBSD 4/5/6-Versionen der PCIOCGETCONF-, PCIOCREAD- sowie PCIOCWRITE IOCTLs hinzugefügt wurde. Damit verbunden war, dass die ABI der PCIOCGETCONF IOCTL erneut deaktiviert werden musste.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Dezember 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach 7.0-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Einführung von m_collapse().</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. März 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Einfließen von kdb_enter_why().</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Hinzufügen von l_sysid zu struct flock.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Übernahme von procstat(1).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Einführung von umtx-Features.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Hinzufügen der Unterstützung von <a href="https://man.freebsd.org/cgi/man.cgi?query=write&amp;sektion=2&amp;format=html">write(2)</a> zu <a href="https://man.freebsd.org/cgi/man.cgi?query=psm&amp;sektion=4&amp;format=html">psm(4)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700107</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Hinzufügen des Befehls F_DUP2FD zu <a href="https://man.freebsd.org/cgi/man.cgi?query=fcntl&amp;sektion=2&amp;format=html">fcntl(2)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700108</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. Mai 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach einigen Änderungen an <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr&amp;sektion=9&amp;format=html">lockmgr(9)</a>, welche die Einbindung von <span class=filename>sys/lock.h</span> zur Verwendung von <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr&amp;sektion=9&amp;format=html">lockmgr(9)</a> voraussetzen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700109</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Mai 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Einfließen der <code>memrchr</code>-Funktion.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700110</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. August 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Einführung eines Clients für den Kernel NFS lockd.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700111</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. August 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Hinzufügen einer Unterstützung von physisch fortlaufender Jumbo Frames.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>700112</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. August 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.0-STABLE nach Einfließen einer Kernelunterstützung für DTrace.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. November 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. November 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-STABLE nach 7.1-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Januar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-STABLE nach Übernahme von <code>strndup</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. Januar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-STABLE nach Hinzufügen einer Unterstützung von cpuctl(4).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Februar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-STABLE nach Einfließen der Unterstützung von Jails mit keinen oder mehreren IPv4-/IPv6-Adressen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Februar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-STABLE, nachdem der Besitzer des Suspend in struct mount gespeichert wird und die Funktion vfs_susp_clean in struct vfsops aufgenommen ist.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-STABLE nach der inkompatiblen Änderung am sysctl kern.ipc.shmsegs, um die Anforderung größerer Segmente von gemeinsam genutzten SysV-Speicher auf 64bit-Architekturen zu erlauben.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>701106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.1-STABLE nach der Übernahme einer Fehlerbehebung für Warteoperationen, die POSIX-Semaphore verwenden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-STABLE nach 7.2-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-STABLE, nachdem ichsmb(4) dahingehend geändert wurde, dass es links-ausgerichtete Adressierung von Slaves verwendet, um anderen SMBus-Kontrollertreibern zu entsprechen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-STABLE nach dem Einfließen der Funktion <code>fdopendir</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>06. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-STABLE nach dem Einfließen von PmcTools.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juli 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-STABLE nach dem Einfließen des Systemaufrufs <code>closefrom</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Juli 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-STABLE nach dem Einfließen der Änderung an der SYSVIPC-ABI.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>702106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. September 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.2-STABLE nach dem Einfließen der PAT-Verbesserungen für x86-Prozessoren sowie dem Hinzufügen von d_mmap_single() und des VM-Objekttyps für scatter/gather-Listen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>703000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Februar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.3-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>703100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Februar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.3-STABLE nach 7.3-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>704000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Dezember 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.4-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>704100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Dezember 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7.4-STABLE, nachdem 7.4-RELEASE erzeugt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT. Nach der Trennung in "wide und single byte ctype".</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem libpcap 0.9.8 und tcpdump 3.9.8 importiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem kthread_create() und Konsorten in kproc_create() usw. umbenannt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Oktober 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem die ABI-Abwärtskompatibilität für die FreeBSD 4/5/6-Versionen der PCIOCGETCONF-, PCIOCREAD- sowie PCIOCWRITE IOCTLs hinzugefügt wurde. Damit verbunden war, dass die ABI der PCIOCGETCONF IOCTL erneut deaktiviert werden musste.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. November 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem der agp(4) Treiber verschoben wurde von src/sys/pci nach src/sys/dev/agp.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Dezember 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach <a href=http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/kern/kern_mbuf.c#rev1.35>Änderungen am Jumbo Frame Allocator</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Dezember 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nach dem Hinzufügen der callgraph capture Funktionalität zu <a href="https://man.freebsd.org/cgi/man.cgi?query=hwpmc&amp;sektion=4&amp;format=html">hwpmc(4)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Dezember 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Hinzufügen von "why" als Argument in kdb_enter().</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Dezember 2007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Entfernen der Option LK_EXCLUPGRADE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Januar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung von <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr_disown&amp;sektion=9&amp;format=html">lockmgr_disown(9)</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Januar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderungen am <a href="https://man.freebsd.org/cgi/man.cgi?query=vn_lock&amp;sektion=9&amp;format=html">vn_lock(9)</a>-Prototyp.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Januar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderungen an den Prototypen von <a href="https://man.freebsd.org/cgi/man.cgi?query=VOP_LOCK&amp;sektion=9&amp;format=html">VOP_LOCK(9)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=VOP_UNLOCK&amp;sektion=9&amp;format=html">VOP_UNLOCK(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800012</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Januar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung von <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr_recursed&amp;sektion=9&amp;format=html">lockmgr_recursed(9)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=BUF_RECURSED&amp;sektion=9&amp;format=html">BUF_RECURSED(9)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=BUF_ISLOCKED&amp;sektion=9&amp;format=html">BUF_ISLOCKED(9)</a> sowie Entfernung von <code>BUF_REFCNT()</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800013</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Januar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der "ASCII"-Kodierung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800014</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Januar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderungen am <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr&amp;sektion=9&amp;format=html">lockmgr(9)</a>-Prototyp und Entfernung von <code>lockcount()</code> sowie <code>LOCKMGR_ASSERT()</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800015</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Januar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Erweiterung der Datentypen der <a href="https://man.freebsd.org/cgi/man.cgi?query=fts&amp;sektion=3&amp;format=html">fts(3)</a>-Strukturen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800016</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen eines neuen Parameters zu MEXTADD(9).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800017</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Optionen LK_NODUP und LK_NOWITNESS in die <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr&amp;sektion=9&amp;format=html">lockmgr(9)</a>-Umgebung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800018</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen von m_collapse.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800019</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen einer Arbeits-, Wurzel- und Jailverzeichnisunterstützung zur sysctl-Variable kern.proc.filedesc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800020</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Funktionen <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr_assert&amp;sektion=9&amp;format=html">lockmgr_assert(9)</a> und <code>BUF_ASSERT</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800021</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung von <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr_args&amp;sektion=9&amp;format=html">lockmgr_args(9)</a> und Entfernung der Option LK_INTERNAL.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800022</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(zurückgezogen)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Setzen von BSD <a href="https://man.freebsd.org/cgi/man.cgi?query=ar&amp;sektion=1&amp;format=html">ar(1)</a> als Systemstandard.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800023</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Februar 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Prototypenänderungen an <a href="https://man.freebsd.org/cgi/man.cgi?query=lockstatus&amp;sektion=9&amp;format=html">lockstatus(9)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=VOP_ISLOCKED&amp;sektion=9&amp;format=html">VOP_ISLOCKED(9)</a>;, eigens zur Abschaffung des Parameters <code>struct thread</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800024</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. März 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Beseitigung der Funktionen <code>lockwaiters</code> und <code>BUF_LOCKWAITERS</code>, Änderung des Rückgabewerts der Funktion <code>brelvp</code> von void nach int sowie Einführung neuer Optionen für <a href="https://man.freebsd.org/cgi/man.cgi?query=lockinit&amp;sektion=9&amp;format=html">lockinit(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800025</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. März 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen des Kommandos F_DUP2FD zu <a href="https://man.freebsd.org/cgi/man.cgi?query=fcntl&amp;sektion=2&amp;format=html">fcntl(2)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800026</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. März 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung des Parameters für die Priorität an cv_broadcastpri, sodass 0 für keine Priorität steht.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800027</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. März 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung der Monitoring ABI von BPF, als Zero-Copy Puffer hinzugefügt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800028</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. März 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen von l_sysid zu struct flock.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800029</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. März 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Wiedereingliederung der Funktion <code>BUF_LOCKWAITERS</code> und Hinzufügen von <a href="https://man.freebsd.org/cgi/man.cgi?query=lockmgr_waiters&amp;sektion=9&amp;format=html">lockmgr_waiters(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800030</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Funktionen <a href="https://man.freebsd.org/cgi/man.cgi?query=rw_try_rlock&amp;sektion=9&amp;format=html">rw_try_rlock(9)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=rw_try_wlock&amp;sektion=9&amp;format=html">rw_try_wlock(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800031</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Funktionen <code>lockmgr_rw</code> und <code>lockmgr_args_rw</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800032</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Implementierung des Systemaufrufs openat und seiner Verwandten, Einführung der Option O_EXEC in <a href="https://man.freebsd.org/cgi/man.cgi?query=open&amp;sektion=2&amp;format=html">open(2)</a> und Bereitstellung der entsprechenden Systemaufrufe innerhalb der Linux®-Kompatibilitätsumgebung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800033</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen der Unterstützung von <a href="https://man.freebsd.org/cgi/man.cgi?query=write&amp;sektion=2&amp;format=html">write(2)</a> in der nativen Operationsebene von <a href="https://man.freebsd.org/cgi/man.cgi?query=psm&amp;sektion=4&amp;format=html">psm(4)</a>. Es können nun beliebig Kommandos nach <span class=filename>/dev/psm%d</span> geschrieben und der Status dann von dort gelesen werden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800034</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Funktion <code>memrchr</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800035</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Funktion <code>fdopendir</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800036</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. April 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Umstellung des Standards 802.11 auf Unterstützung von Multi-BSS (auch vaps).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800037</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. Mai 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen einer Unterstützung für Multi Routing-Tabellen (siehe setfib(1), setfib(2)).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800038</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Mai 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Entfernen von netatm und ISDN4BSD sowie dem Hinzufügen der Compact C Type (CTF)-Tools.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800039</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juni 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Entfernen von sgtty.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800040</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Juni 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung eines Clients für den Kernel NFS lockd.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800041</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Juli 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen von arc4random_buf(3) und arc4random_uniform(3).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800042</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. August 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen von cpuctl(4).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800043</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. August 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung von bpf(4) zur Verwendung einer einzelnen Gerätedatei anstatt von Klonierung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800044</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. August 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Übernahme des ersten Teils aus dem vimage-Projekt durch Erweitern globaler Variablen um den Präfix V_. Zukünftig werden die virtualisierten Variablen dann mit Hilfe von Makros in ihre globalen Namen aufgelöst.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800045</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. August 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Eingliederung des MPSAFE TTY-Layers, einschließlich Änderungen an diversen Treibern und Werkzeugen, die mit ihm kommunizieren.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800046</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. September 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Abschottung der GDT pro CPU auf der AMD64-Architektur.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800047</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. September 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Entfernen von VSVTX, VSGID und VSUID.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800048</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16. September 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Anpassung des Codes für Kernel NFS mount, sodass einzelne Mountoptionen im Parameter struct iovec an nmount() akzeptiert werden und nicht nur ein großes struct nfs_args.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800049</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>17. September 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Entfernen von <a href="https://man.freebsd.org/cgi/man.cgi?query=suser&amp;sektion=9&amp;format=html">suser(9)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=suser_cred&amp;sektion=9&amp;format=html">suser_cred(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800050</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Oktober 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach API-Änderungen im Umgang mit dem Buffer Cache.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800051</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Oktober 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Entfernen der Makros <a href="https://man.freebsd.org/cgi/man.cgi?query=MALLOC&amp;sektion=9&amp;format=html">MALLOC(9)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=FREE&amp;sektion=9&amp;format=html">FREE(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800052</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Oktober 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung von accmode_t und Umbennung des Parameters a_mode an VOP_ACCESS nach a_accmode.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800053</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. November 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung des Prototyps von <a href="https://man.freebsd.org/cgi/man.cgi?query=vfs_busy&amp;sektion=9&amp;format=html">vfs_busy(9)</a> und Einführung der Optionen MBF_NOWAIT sowie MBF_MNTLSTLOCK.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800054</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. November 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen von Funktionen im Bereich buf_ring, Memory Barriers und ifnet, um mehrere Sendeschlangen auf Hardwareebene für Karten zu ermöglichen, die dies unterstützen, sowie einer Ring Buffer-Implementierung ohne Lock, um Treibern zu ermöglichen, Paketschlangen effizienter zu verwalten.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800055</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. November 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen einer Unterstützung für Intel® Core, Core2 und Atom zu <a href="https://man.freebsd.org/cgi/man.cgi?query=hwpmc&amp;sektion=4&amp;format=html">hwpmc(4)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800056</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. November 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung von Jails mit mehreren oder gar keinen IPv4-/IPv6-Adressen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800057</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Dezember 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Wechsel zum ath_hal Quellcode.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800058</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Dezember 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Funktion VOP_VPTOCNP.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800059</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Dezember 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT gliedert das neue ARPv2 ein.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800060</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Dezember 2008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen von makefs.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800061</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. Januar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Umsetzung von TCP Appropriate Byte Counting.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800062</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Januar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Entfernen von minor(), minor2unit(), unit2minor() usw.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800063</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Februar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung der GENERIC-Konfiguration zur Verwendung des USB2-Stack und Hinzufügen von fdevname(3).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800064</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Februar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem der USB2-Stack nach dev/usb verschoben wurde, um es zu ersetzen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800065</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Februar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Umbenennen aller Funktionen in libmp(3).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800066</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Februar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Anpassung des devfs-Verhaltens im Zusammenhang mit USB.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800067</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Februar 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen von getdelim(), getline(), stpncpy(), strnlen(), wcsnlen(), wcscasecmp() und wcsncasecmp().</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800068</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Umbenennen der Geräteklasse ushub in uhub.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800069</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Umbenennen von libusb20.so.1 in libusb.so.1.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800070</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Einführung von IGMPv3 und Source-Specific-Multicast (SSM) in den IPv4-Stack.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800071</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Anpassung von gcc zur Verwendung der C99-Inline-Semantik in den Modi c99 und gnu99.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800072</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem die Option IFF_NEEDSGIANT entfernt wurde; Netzwerktreiber, die nicht MPSAFE sind, werden nicht mehr unterstützt.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800073</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem die dynamische Ersetzung von Zeichenkettenkürzeln für rpath und benötigte Pfade implementiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800074</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. März 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Einfließen von tcpdump 4.0.0 und libpcap 1.0.0.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800075</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem die Deklarationen von struct vnet_net, struct vnet_inet und struct vnet_ipfw geändert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800076</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Hinzufügen von Laufzeitprofilen in dummynet.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800077</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Entfernen von VOP_LEASE() und vop_vector.vop_lease.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800078</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem die Felder aus struct rt_weight zu struct rt_metrics und struct rt_metrics_lite hinzugefügt wurden, wobei die Deklaration von struct rt_metrics_lite geändert wurde. RTM_VERSION wurde hochgezählt (zurückgezogen).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800079</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem Pointer auf struct llentry zu struct route und struct route_in6 hinzugefügt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800080</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>15. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung der Deklaration von struct inpcb.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800081</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung der Deklaration von struct malloc_type.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800082</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung der Deklaration von struct ifnet und Hinzufügen von if_ref() und if_rele() zur Verwaltung von Referenzen auf ifnet.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800083</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Implementierung einer systemnahen Bluetooth-HCI-API.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800084</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderungen an IPv6-SSM und MLDv2.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800085</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. April 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem der Bau von VIMAGE-Kernel mit einem aktiven Image unterstützt wird.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800086</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Hinzufügen der Unterstützung für Eingabezeilen mit beliebiger Länge durch patch(1).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800087</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach einigen Änderungen im Zusammenhang mit dem VFS-KPI. Der Thread-Parameter wurde von den FSD-Teilen des VFS entfernt. <code>VFS_*</code>-Funktionen benötigen den Kontext nicht mehr, da er sich immer auf <code>curthread</code> bezieht. In wenigen Sonderfällen ist das bisherige Verhalten nicht geändert worden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800088</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderungen am net80211-Monitormodus.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800089</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Hinzufügen der Unterstützung von UDP-Kontrollblocks.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800090</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Virtualisierung der Schnittstellenklonierung.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800091</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>27. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Hinzufügen von hierarchischen Jails und dem Entfernen des globalen securelevel.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800092</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Änderung des <code>sx_init_flags()</code>-KPI. <span class=constant>SX_ADAPTIVESPIN</span> wurde zurückgezogen und eine neue Option <span class=constant>SX_NOADAPTIVE</span> wurde eingeführt, um die umgekehrte Logik zu behandeln.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800093</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Hinzufügen von mnt_xflag zu struct mount.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800094</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Hinzufügen von <a href="https://man.freebsd.org/cgi/man.cgi?query=VOP_ACCESSX&amp;sektion=9&amp;format=html">VOP_ACCESSX(9)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800095</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. Mai 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Änderung des Polling-KPI. Die Polling-Handler liefern nun die Zahl der verarbeiteten Pakete zurück. Die neue Option <span class=constant>IFCAP_POLLING_NOCOUNT</span> wurde weiter eingeführt, um anzugeben, dass der Rückgabewert nicht von Bedeutung ist und das Zählen der Pakete ausgelassen werden soll.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800096</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Aktualisierung der netisr-Implementierung und nachdem die Weise, wie FIBs gespeichert werden und wie auf sie zugegriffen wird, geändert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800097</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung der Destruktor-Infrastruktur für vnet einschließlich Hooks.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800097</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung eines Erkennungssystems für ausgehende Pakete, die direkt wieder in netgraph gelangen und deswegen eingereiht werden. Dabei wurde auch die Definition von struct thread geändert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800098</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Einfließen von OpenSSL 0.9.8k.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800099</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Aktualisierung von NGROUPS und dem Verschieben der Routing-Virtualisierung in ein eigenes VImage-Modul.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Änderung der SYSVIPC-ABI.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. Juni 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Entfernen der zeichenorientierten Geräte aus /dev/net, von denen für jede Schnittstelle eines existiert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Juli 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem struct sackhint, struct tcpcb und struct tcpstat mit Padding-Bytes aufgefüllt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800103</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Juli 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT, nachdem struct tcpopt durch struct toeopt in der Schnittstelle zwischen dem TOE-Treiber und dem TCP-SYN-Cache ersetzt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800104</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Juli 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach dem Hinzufügen einer vnet-spezifischen Speicherzuweisung, die auf dem Linker-Set-Verfahren basiert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800105</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Juli 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach der Inkrementierung der Versionsnummer aller Shared-Libraries, die Symbol-Versioning nicht aktiviert haben.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800106</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Juli 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Einführung des VM-Objekttyps OBJT_SG.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800107</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. August 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Befreiung des Newbus-Subsystems von Giant durch Hinzufügen von sxlock und 8.0-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800108</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. November 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-CURRENT nach Implementierung des kevent-Filters EVFILT_USER.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800500</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Januar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-STABLE nach Erhöhung von <code>__FreeBSD_version</code>, damit <code>pkg_add -r</code> packages-8-stable verwendet.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800501</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Januar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-STABLE, nachdem die Prototypen von <code>scandir(3)</code> und <code>alphasort(3)</code> geändert wurden, um der SUSv4 zu entsprechen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800502</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>31. Januar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-STABLE nach Hinzufügen von <code>sigpause(3)</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800503</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>25. Februar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-STABLE nach dem Hinzufügen der ioctls SIOCGIFDESCR und SIOCSIFDESCR für Netzwerk-Schnittstellen. Diese ioctls können, nach dem Vorbild von OpenBSD, dazu verwendet werden, Schnittstellenbeschreibungen zu bearbeiten und auszulesen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800504</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. März 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-STABLE, nachdem x86emu, ein Software-Emulator von OpenBSD für x86-Prozessoren im Real-Mode, von CURRENT übernommen wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>800505</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Mai 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.0-STABLE nach dem Einfließen von liblzma, xz, xzdec und lzmainfo.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>801000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juni 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.1-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>801500</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juni 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.1-STABLE nach 8.1-RELEASE.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>801501</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>November 3, 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.1-STABLE nach der KBI-Änderung in struct sysentve und der Implementierung von PL_FLAG_SCE/SCX/EXEC/SI und pl_siginfo für ptrace(PT_LWPINFO) .</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Dezember 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-RELEASE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802500</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Dezember 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem 8.2-RELEASE erzeugt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802501</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Februar 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem DTrace aktualisiert wurde (so wird nun auch Userland-Tracing unterstützt).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802502</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. März 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem log2 und log2f in libm aufgenommen wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802503</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1. Mai 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem gcc auf die letzte unter der GPLv2 stehenden Version (aus dem FSF gcc-4_2-Zweig) aktualisiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802504</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Mai 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem KPI sowie die Infrastruktur zur Unterstützung von "modular congestion control" implementiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802505</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Mai 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem die KPIs Hhook und Khelp implementiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802506</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>M28. Mai 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem OSD in die Struktur tcpcb eingebaut wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802507</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Juni 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE nach dem Import von ZFS v28.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802508</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Juni 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nach dem Entfernen der Methode sv_schedtail struct sysvec.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802509</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14. Juli 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nachdem die binutils um die SSSE3-Unterstützung erweitert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>802510</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Juli 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.2-STABLE, nach dem Hinzufügen des Flags RFTSIGZMB zu <code>rfork(2)</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. August 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900001</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. September 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach dem Import von x86emu, einem Software-Emulator von OpenBSD für x86-Prozessoren im Real-Mode.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. September 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Implementierung des kevent-Filters EVFILT_USER.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900003</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Dezember 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen von <code>sigpause(3)</code> und der PIE-Unterstützung zu csu.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6. Dezember 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen von libulog und dessen libutempter-Kompatibilitätsschnittstelle.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900005</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Dezember 2009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen von <code>sleepq_sleepcnt()</code>, das dazu verwendet werden kann, die Anzahl der in einer bestimmten Warteschlange eingereihten Threads abzufragen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900006</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4. Januar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem die Prototypen von <code>scandir(3)</code> und <code>alphasort(3)</code> geändert wurden, um der SUSv4 zu entsprechen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900007</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Januar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach dem Entfernen von utmp(5) und dem Hinzufügen von utmpx (siehe <code>getutxent(3)</code>) zur besseren Erfassung von Benutzeranmeldungen und Systemereignissen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900008</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20. Januar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach der Einführung von BSDL bc/dc zur Ersetzung von GNU bc/dc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900009</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>26. Januar 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach dem Hinzufügen der ioctls SIOCGIFDESCR und SIOCSIFDESCR für Netzwerk-Schnittstellen. Diese ioctls können, nach dem Vorbild von OpenBSD, dazu verwendet werden, Schnittstellenbeschreibungen zu bearbeiten und auszulesen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. März 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach dem Import von zlib 1.2.4.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. April 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen von Soft Updates Journaling.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900012</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Mai 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen von liblzma, xz, xzdec und lzmainfo.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900013</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. Mai 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Einbringen von USB-Fehlerbehebungen in linux(4).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900014</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. Juni 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen von Clang.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900015</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Juli 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach dem Import von BSD grep.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900016</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Juli 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem mti_zone zu struct malloc_type_internal hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900017</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>23. August 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach dem Zurückkehren zu GNU grep als Standard und Hinzufügen der Option WITH_BSD_GREP.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900018</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>24. August 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem das von <code>pthread_kill(3)</code> generierte Signal in si_code als SI_LWP bezeichnet wird. Zuvor war si_code SI_USER.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900019</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. August 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen des Schalters MAP_PREFAULT_READ zu <code>mmap(2)</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900020</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9. September 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem "drain"-Funktionalität in sbufs integriert wurde (wodurch sich auch das Layout von struct sbuf geändert hat).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900021</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. September 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem "Userland tracing" in DTrace eingeführt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900022</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. Oktober 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach Hinzufügen der BSDL man-Utilities (und gleichzeitigem Entfernen der GNU/GPL man-Utilities).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900023</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. Oktober 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach der Aktualisierung von xz auf den git-Snapshot 20101010.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900024</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>11. November 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem libgcc.a durch libcompiler_rt.a.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900025</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. November 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach der Einführung von "modularised congestion control".</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900026</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30. November 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT nach der Einführung von "Serial Management Protocol (SMP) passthrough" sowie den XPT_SMP_IO und XPT_GDEV_ADVINFO CAM CCBs.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900027</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5. Dezember 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem log2 zu libm hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900028</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>21. Dezember 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nach dem HInzufügen von Hhook (Helper Hook), Khelp (Kernel Helpers) und Object Specific Data (OSD) KPIs.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900029</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Dezember 2010</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nach der TCP-Stack modifiziert wurde, um es den Khelp-Modulen zu erlauben, mit ihm über Helper Hook Points zu kommunizieren und Verbindungsdaten im TCP-Kontrollblock zu speichern.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900030</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>12. Januar 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem libdialog auf die Version 20100428 aktualisiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900031</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7. Februar 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nach dem Hinzufügen von <code>pthread_getthreadid_np(3)</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900032</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. Februar 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem Prototyp und Symbol für uio_yield entfernt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900033</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. Februar 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem die binutils auf Version 2.17.50 aktualisiert wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900034</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8. März 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem die Struktur sysvec (sv_schedtail) modifiziert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900035</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>29. März 20111</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nach dem Update des im Basissystem enthaltenen gcc sowie von libstdc++ auf die letzten unter GPLv2 lizenzierten Versionen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900036</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>18. April 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem libobjc und die Unterstützung für Objective-C aus dem Basissystem entfernt wurden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900037</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Mai 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nach dem Import der libprocstat(3)-Bibliothek sowie von fuser(1) in das Basissystem.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900038</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>22. Mai 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem ein Lock-Flag zu VFS_FHTOVP(9) hinzugefügt wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900039</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. Juni 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem pf von OpenBSD 4.5 importiert wurde.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900040</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>19. Juli 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Standardmäßige Erhöhung von MAXCPU für FreeBSD auf 64 für amd64 und ia64 und auf 128 für XLP (mips).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900041</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. August 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>9.0-CURRENT, nachdem Capsicum-Funktionalitäten implementiert wurden. Zusätzlich wurde fget(9) um ein Rechte-Argument erweitert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900042</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>28. August 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versionssprünge für Shared-Libraries deren ABI sich geändert hat, in Vorbereitung für 9.0.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900043</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2. September 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Automatische Erkennung von USB-Massenspeicher Geräten, die das no synchronize cache SCSI Kommando nicht unterstützen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900044</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>10. September 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Re-factor auto-quirk.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>900045</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>13. Oktober 2011</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Allen nicht-kompatiblen Systemaufruf-Einstiegspunkten wurde ein sys_ vorangestellt.</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Beachten Sie, dass 2.2-STABLE sich nach dem 2.2.5-RELEASE manchmal als "2.2.5-STABLE" identifiziert. Das Muster war früher das Jahr gefolgt von dem Monat, aber wir haben uns entschieden, ab 2.2. einen geradlinigeren Ansatz mit major/minor-Nummern zu benutzen. Dies liegt daran, dass gleichzeitiges Entwickeln an mehreren Zweigen es unmöglich macht, die Versionen nur mit Hilfe des Datums des Releases zu unterteilen. Wenn Sie jetzt einen Port erstellen brauchen Sie sich nicht um alte -CURRENTs zu kümmern; diese sind hier nur als Referenz augeführt.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=dads-after-port-mk>12.6. Etwas hinter die <span class=filename>bsd.port.mk</span>-Anweisung schreiben<a class=anchor href=#dads-after-port-mk></a></h3><div class=paragraph><p>Schreiben Sie bitte nichts hinter die <code>.include &lt;bsd.port.mk></code>-Zeile. Normalerweise kann dies vermieden werden, indem Sie die Datei <span class=filename>bsd.port.pre.mk</span> irgendwo in der Mitte Ihres <span class=filename>Makefile</span>s und <span class=filename>bsd.port.post.mk</span> am Ende einfügen.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sie dürfen entweder nur das <span class=filename>bsd.port.pre.mk</span>/<span class=filename>bsd.port.post.mk</span>-Paar oder <span class=filename>bsd.port.mk</span> alleine hinzufügen; vermischen Sie diese Verwendungen nicht!</p></div></td></tr></tbody></table></div><div class=paragraph><p><span class=filename>bsd.port.pre.mk</span> definiert nur einige Variablen, welche in Tests im <span class=filename>Makefile</span> benutzt werden können, <span class=filename>bsd.port.post.mk</span> definiert den Rest.</p></div><div class=paragraph><p>Hier sind einige wichtige Variablen, welche in <span class=filename>bsd.port.pre.mk</span> definiert sind (dies ist keine vollständige Liste, lesen Sie bitte <span class=filename>bsd.port.mk</span> für eine vollständige Auflistung).</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variable</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ARCH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Architektur, wie von <code>uname -m</code> zurückgegeben (z.B. <code>i386</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OPSYS</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Typ des Betriebsystems, wie von <code>uname -s</code> zurückgegeben (z.B. <code>FreeBSD</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSREL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Release Version des Betriebssystems (z.B., <code>2.1.5</code> oder <code>2.2.7</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSVERSION</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die numerische Version des Betriebssystems; gleichbedeutend mit <a href=#freebsd-versions><code>__FreeBSD_version</code></a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PORTOBJFORMAT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Das Objektformat des Systems (<code>elf</code> oder <code>aout</code>; beachten Sie, dass für "moderne" Versionen von FreeBSD <code>aout</code> veraltet ist).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LOCALBASE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die Basis des "local" Verzeichnisbaumes (z.B. <code>/usr/local/</code>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PREFIX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Wo der Port sich selbst installiert (siehe <a href=#porting-prefix>Mehr Informationen über <code>PREFIX</code></a>).</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Falls Sie die Variablen <code>USE_IMAKE</code>, <code>USE_X_PREFIX</code>, oder <code>MASTERDIR</code> definieren müssen, sollten Sie dies vor dem Einfügen von <span class=filename>bsd.port.pre.mk</span> machen.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Hier sind ein paar Beispiele von Dingen, die Sie hinter die Anweisung <span class=filename>bsd.port.pre.mk</span> schreiben können:</p></div><div class="literalblock programlisting"><div class=content><pre># lang/perl5 muss nicht kompliliert werden, falls perl5 schon auf dem System ist
.if ${OSVERSION} &gt; 300003
BROKEN= perl ist im System
.endif

# nur eine Versionsnummer für die ELF Version der shlib
.if ${PORTOBJFORMAT} == &#34;elf&#34;
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}
.else
TCL_LIB_FILE=  ${TCL_LIB}.${SHLIB_MAJOR}.${SHLIB_MINOR}
.endif

# die Software erstellt schon eine Verknüpfung fü ELF, aber nicht fü a.out
post-install:
.if ${PORTOBJFORMAT} == &#34;aout&#34;
       ${LN} -sf liblinpack.so.1.0 ${PREFIX}/lib/liblinpack.so
.endif</pre></div></div><div class=paragraph><p>Sie haben sich daran erinnert Tabulator statt Leerzeichen nach <code>BROKEN=</code> und <code>TCL_LIB_FILE=</code> zu benutzen, oder? :-).</p></div></div><div class=sect2><h3 id=dads-sh-exec>12.7. Benutzen Sie die <code>exec</code>-Anweisung in Wrapper-Skripten<a class=anchor href=#dads-sh-exec></a></h3><div class=paragraph><p>Falls der Port ein Shellskript installiert, dessen Zweck es ist ein anderes Programm zu starten, und falls das Starten des Programmes die letzte Aktion des Skripts ist, sollten Sie sicherstellen, dass Sie die Funktion <code>exec</code> dafür benutzen; zum Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
exec %%LOCALBASE%%/bin/java -jar %%DATADIR%%/foo.jar &#34;$@&#34;</pre></div></div><div class=paragraph><p>Die Funktion <code>exec</code> ersetzt den Shell-Prozess mit dem angegebenen Programm. Falls <code>exec</code> ausgelassen wird, verbleibt der Shell-Prozess im Speicher während das Programm ausgefährt wird und verbraucht unnötig Systemressourcen.</p></div></div><div class=sect2><h3 id=dads-rational>12.8. Aufgaben vernünftig lösen<a class=anchor href=#dads-rational></a></h3><div class=paragraph><p>Das <span class=filename>Makefile</span> sollte die nötigen Schritte einfach und vernünftig durchführen. Wenn Sie ein einige Zeilen einsparen oder die Lesbarkeit verbessern können, dann machen Sie dies bitte. Beispiele sind: Ein make-Konstrukt <code>.if</code> anstatt eines Shellkonstrukt <code>if</code> zu verwenden, anstatt <code>do-extract</code> neu zu definieren, dies mit <code>EXTRACT*</code> machen, oder <code>GNU_CONFIGURE</code> anstelle von <code>CONFIGURE_ARGS += --prefix=${PREFIX}</code> zu verwenden.</p></div><div class=paragraph><p>Falls Sie sich in einer Situation wiederfinden, in der Sie viel Code neu schreiben müssen, um etwas zu testen, sollten Sie zuerst <span class=filename>bsd.port.mk</span> erneut konsultieren und nachprüfen ob es nicht bereits eine Lösung für Ihr Problem enthält. Es ist zwar schwer zu lesen, beinhaltet jedoch eine Menge kurzer Lösungen für viele scheinbar schwierige Probleme.</p></div></div><div class=sect2><h3 id=dads-cc>12.9. Berücksichtigen Sie sowohl <code>CC</code> als auch <code>CXX</code><a class=anchor href=#dads-cc></a></h3><div class=paragraph><p>Der Port sollte sowohl die <code>CC</code>- wie auch die <code>CXX</code>-Variable berücksichtigen. Damit ist gemeint, dass der Port diese Variablen nicht ohne Rücksicht auf eventuell schon gesetzte Werte einfach überschreiben sollte; stattdessen sollten neue Werte an schon existierende angehängt werden. Dadurch können Build-Optionen, die alle Ports betreffen, global definiert werden.</p></div><div class=paragraph><p>Falls der Port diese Variablen nicht berücksichtigt, sollte <code>NO_PACKAGE=ignores either cc or cxx</code> ins <span class=filename>Makefile</span> eingefügt werden.</p></div><div class=paragraph><p>Im Folgenden wird ein Beispiel eines <span class=filename>Makefile</span>s gezeigt, welches die beiden Variablen <code>CC</code> und <code>CXX</code> berücksichtigt. Beachten Sie das <code>?=</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>CC?= gcc</pre></div></div><div class="literalblock programlisting"><div class=content><pre>CXX?= g++</pre></div></div><div class=paragraph><p>Nachfolgend ein Beispiel, welches weder <code>CC</code> noch <code>CXX</code> berücksichtigt:</p></div><div class="literalblock programlisting"><div class=content><pre>CC= gcc</pre></div></div><div class="literalblock programlisting"><div class=content><pre>CXX= g++</pre></div></div><div class=paragraph><p>Die Variablen <code>CC</code> und <code>CXX</code> können auf FreeBSD-Systemen in <span class=filename>/etc/make.conf</span> definiert werden. Im ersten Beispiel wird ein Wert nur dann gesetzt, falls dieser vorher noch nicht gesetzt war, um so systemweite Definitionen zu berücksichtigen. Im zweiten Beispiel werden die Variablen ohne Rücksicht überschrieben.</p></div></div><div class=sect2><h3 id=dads-cflags>12.10. Berücksichtigen Sie <code>CFLAGS</code><a class=anchor href=#dads-cflags></a></h3><div class=paragraph><p>Der Port sollte die Variable <code>CFLAGS</code> berücksichtigen. Damit ist gemeint, dass der Port den Wert dieser Variablen nicht absolut setzen und damit existierende Werte überschreiben sollte; stattdessen sollte er weitere Werte der Variablen durch Anhängen hinzufügen. Dadurch können Build-Optionen, die alle Ports betreffen, global definiert werden.</p></div><div class=paragraph><p>Falls der Port diese Variablen nicht berücksichtigt, sollte <code>NO_PACKAGE=ignores cflags</code> ins <span class=filename>Makefile</span> eingefügt werden.</p></div><div class=paragraph><p>Im Folgenden wird ein Beispiel eines <span class=filename>Makefile</span>s gezeigt, welches die Variable <code>CFLAGS</code> berücksichtigt. Beachten Sie das <code>+=</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS+= -Wall -Werror</pre></div></div><div class=paragraph><p>Nachfolgend finden Sie ein Beispiel, welches die <code>CFLAGS</code>-Variable nicht berücksichtigt:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS= -Wall -Werror</pre></div></div><div class=paragraph><p>Die Variable <code>CFLAGS</code> wird auf FreeBSD-Systemen in <span class=filename>/etc/make.conf</span> definiert. Im ersten Beispiel werden weitere Flags an die Variable <code>CFLAGS</code> angehängt und somit der bestehende Wert nicht gelöscht. Im zweiten Beispiel wird die Variable ohne Rücksicht überschrieben.</p></div><div class=paragraph><p>Sie sollten Optimierungsflags aus <span class=filename>Makefile</span>s Dritter entfernen. Die <code>CFLAGS</code> des Systems beinhalten systemweite Optimierungsflags. Ein Beispiel eines unveränderten <span class=filename>Makefile</span>s:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS= -O3 -funroll-loops -DHAVE_SOUND</pre></div></div><div class=paragraph><p>Werden nun systemweite Optimierungsflags verwendet so würde das <span class=filename>Makefile</span> in etwa folgendermaßen aussehen:</p></div><div class="literalblock programlisting"><div class=content><pre>CFLAGS+= -DHAVE_SOUND</pre></div></div></div><div class=sect2><h3 id=dads-pthread>12.11. Threading-Bibliotheken<a class=anchor href=#dads-pthread></a></h3><div class=paragraph><p>Die Threading-Bibliothek muss mit Hilfe eines speziellen Linker-Flags <code>-pthread</code> in die Binärdateien unter FreeBSD gebunden werden. Falls ein Port auf ein direktes Verlinken gegen <code>-lpthread</code> oder <code>-lc_r</code> besteht, passen Sie den Port bitte so an, dass er die durch das Port-Framework bereitgestellte Variable <code>PTHREAD_LIBS</code> verwendet. Diese Variable hat üblicherweise den Wert <code>-pthread</code>, kann aber auf einigen Architekturen und FreeBSD-Versionen abweichende Werte haben und daher sollte nie <code>-pthread</code> direkt in Patches geschrieben werden, sondern immer <code>PTHREAD_LIBS</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Falls durch das Setzen von <code>PTHREAD_LIBS</code> der Bau des Ports mit der Fehlermeldung <code>unrecognized option '-pthread'</code> abbricht, kann die Verwendung des <code>gcc</code> als Linker durch setzen von <code>CONFIGURE_ENV</code> auf <code>LD=$Cheng Cui &lt;<a href=mailto:cc@FreeBSD.org>cc@FreeBSD.org</a>></code> helfen. Die Option <code>-pthread</code> wird nicht direkt von <code>ld</code> unterstützt.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=dads-freedback>12.12. Rückmeldungen<a class=anchor href=#dads-freedback></a></h3><div class=paragraph><p>Brauchbare Änderungen/Patches sollten an den ursprünglichen Autor/Maintainer der Software geschickt werden, damit diese in der nächsten Version der Software mit aufgenommen werden können. Dadurch wird Ihre Aufgabe für die nächste Version der Software deutlich einfacher.</p></div></div><div class=sect2><h3 id=dads-readme>12.13. <span class=filename>README.html</span><a class=anchor href=#dads-readme></a></h3><div class=paragraph><p>Nehmen Sie bitte keine <span class=filename>README.html</span> in den Port auf. Diese Datei ist kein Bestandteil der CVS-Sammlung sondern wird durch <code>make readme</code> erzeugt.</p></div></div><div class=sect2><h3 id=dads-noinstall>12.14. Einen Port durch <code>BROKEN</code>, <code>FORBIDDEN</code> oder <code>IGNORE</code> als nicht installierbar markieren<a class=anchor href=#dads-noinstall></a></h3><div class=paragraph><p>In manchen Fällen sollten Benutzer davon abgehalten werden einen Port zu installieren. Um einem Benutzer mitzuteilen, dass ein Port nicht installiert werden sollte, gibt es mehrere Variablen für <code>make</code>, die im <span class=filename>Makefile</span> des Ports genutzt werden können. Der Wert der folgenden <code>make</code>-Variablen wird dem Benutzer als Grund für die Ablehnung der Installation des Ports zurückgegeben. Bitte benutzen Sie die richtige <code>make</code>-Variable, denn jede enthält eine völlig andere Bedeutung für den Benutzer und das automatische System, das von dem <span class=filename>Makefile</span> abhängt, wie <a href=#build-cluster>der Ports-Build-Custer</a>, <a href=#freshports>FreshPorts</a> und <a href=#portsmon>portsmon</a>.</p></div><div class=sect3><h4 id=dads-noinstall-variables>12.14.1. Variablen<a class=anchor href=#dads-noinstall-variables></a></h4><div class=ulist><ul><li><p><code>BROKEN</code> ist reserviert für Ports, welche momentan nicht korrekt kompiliert, installiert oder deinstalliert werden. Es sollte für Ports benutzt werden, von denen man annimmt, dass dies ein temporäres Problem ist.</p><div class=paragraph><p>Falls angegeben, wird der Build-Cluster dennoch versuchen den Port zu bauen, um zu sehen, ob das zugrunde liegende Problem behoben wurde (das ist jedoch im Allgemeinen nicht der Fall).</p></div><div class=paragraph><p>Benutzen Sie <code>BROKEN</code> zum Beispiel, wenn ein Port:</p></div><div class=ulist><ul><li><p>nicht kompiliert</p></li><li><p>beim Konfiguration- oder Installation-Prozess scheitert</p></li><li><p>Dateien außerhalb von <span class=filename>${LOCALBASE}</span> installiert</p></li><li><p>beim Deinstallieren nicht alle seine Dateien sauber entfernt (jedoch kann es akzeptable und wünschenswert sein, Dateien, die vom Nutzer verändert wurden, nicht zu entfernen)</p></li></ul></div></li><li><p><code>FORBIDDEN</code> wird für Ports verwendet, die Sicherheitslücken enthalten oder die ernste Sicherheitsbedenken für das FreeBSD-System aufwerfen, wenn sie installiert sind (z.B. ein als unsicher bekanntes Programm, oder ein Programm, das einen Dienst zur Verfügung stellt, der leicht kompromittiert werden kann). Ports sollten als <code>FORBIDDEN</code> gekennzeichnet werden, sobald ein Programm eine Schwachstelle hat und kein Update veröffentlicht wurde. Idealerweise sollten Ports so bald wie möglich aktualisiert werden wenn eine Sicherheitslücke entdeckt wurde, um die Zahl verwundbarer FreeBSD-Hosts zu verringern (wir schätzen es für unsere Sicherheit bekannt zu sein), obwohl es manchmal einen beachtlichen Zeitabstand zwischen der Bekanntmachung einer Schwachstelle und dem entsprechenden Update gibt. Bitte kennzeichnen Sie einen Port nicht aus irgendeinem Grund außer Sicherheit als <code>FORBIDDEN</code>.</p></li><li><p><code>IGNORE</code> ist für Ports reserviert, die aus anderen Gründen nicht gebaut werden sollten. Es sollte für Ports verwendet werden, in denen ein strukturelles Problem vermutet wird. Der Build-Cluster wird unter keinen Umständen Ports, die mit <code>IGNORE</code> markiert sind, erstellen. Verwenden Sie <code>IGNORE</code> zum Beispiel, wenn ein Port:</p><div class=ulist><ul><li><p>kompiliert, aber nicht richtig läuft</p></li><li><p>nicht auf der installierten Version von FreeBSD läuft</p></li><li><p>FreeBSD Kernelquelltext zum Bauen benötigt, aber der Benutzer diese nicht installiert hat</p></li><li><p>ein Distfile benötigt, welches aufgrund von Lizenzbeschränkungen nicht automatisch abgerufen werden kann</p></li><li><p>nicht korrekt mit einem momentan installiertem Port arbeitet (der Port hängt zum Beispiel von <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache21/>www/apache21</a> ab, aber <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache13/>www/apache13</a> ist installiert)</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Wenn ein Port mit einem momentan installiertem Port kollidiert (zum Beispiel, wenn beide eine Datei an die selbe Stelle installieren, diese aber eine andere Funktion hat), benutzen Sie stattdessen <code>CONFLICTS</code>. <code>CONFLICTS</code> setzt <code>IGNORE</code> dann selbstständig.</p></div></td></tr></tbody></table></div></li></ul></div></li><li><p>Um einen Port nur auf bestimmte Systemarchitekturen mit <code>IGNORE</code> zu markieren, gibt es zwei Variablen, die automatisch <code>IGNORE</code> für Sie setzen: <code>ONLY_FOR_ARCHS</code> und <code>NOT_FOR_ARCHS</code>. Beispiele:</p><div class="literalblock programlisting"><div class=content><pre>ONLY_FOR_ARCHS= i386 amd64</pre></div></div><div class="literalblock programlisting"><div class=content><pre>NOT_FOR_ARCHS= alpha ia64 sparc64</pre></div></div><div class=paragraph><p>Eine eigene <code>IGNORE</code>-Ausgabe kann mit <code>ONLY_FOR_ARCHS_REASON</code> und <code>NOT_FOR_ARCHS_REASON</code> festgelegt werden. Für eine bestimmte Architektur sind Angaben durch <code>ONLY_FOR_ARCHS_REASON<em>ARCH_</em></code><em> und <code>NOT_FOR_ARCHS_REASON</code></em><code>ARCH_</code> möglich.</p></div></li><li><p>Wenn ein Port i386-Binärdateien herunterlädt und installiert, sollte <code>IA32_BINARY_PORT</code> gesetzt werden. Wenn die Variable gesetzt ist, wird überprüft, ob das Verzeichnis <span class=filename>/usr/lib32</span> für IA32-Versionen der Bibliotheken vorhanden ist, und ob der Kernel mit IA32-Kompatibilität gebaut wurde. Wenn eine dieser zwei Voraussetzungen nicht erfüllt ist, wird <code>IGNORE</code> automatisch gesetzt.</p></li></ul></div></div><div class=sect3><h4 id=dads-noinstall-notes>12.14.2. Anmerkungen zur Implementierung<a class=anchor href=#dads-noinstall-notes></a></h4><div class=paragraph><p>Zeichenketten sollten nicht in Anführungszeichen gesetzt werden. Auch die Wortwahl der Zeichenketten sollte die Art und Weise beachten, wie die Informationen dem Nutzer angezeigt werden. Beispiele:</p></div><div class="literalblock programlisting"><div class=content><pre>BROKEN= this port is unsupported on FreeBSD 5.x</pre></div></div><div class="literalblock programlisting"><div class=content><pre>IGNORE= is unsupported on FreeBSD 5.x</pre></div></div><div class=paragraph><p>resultieren in den folgenden Ausgaben von <code>make describe</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>===&gt;  foobar-0.1 is marked as broken: this port is unsupported on FreeBSD 5.x.</pre></div></div><div class="literalblock programlisting"><div class=content><pre>===&gt;  foobar-0.1 is unsupported on FreeBSD 5.x.</pre></div></div></div></div><div class=sect2><h3 id=dads-deprecated>12.15. Kennzeichnen eines Ports zur Entfernung durch <code>DEPRECATED</code> oder <code>EXPIRATION_DATE</code><a class=anchor href=#dads-deprecated></a></h3><div class=paragraph><p>Denken Sie bitte daran, dass <code>BROKEN</code> und <code>FORBIDDEN</code> nur als temporärer Ausweg verwendet werden sollten, wenn ein Port nicht funktioniert. Dauerhaft defekte Ports sollten komplett aus der Ports-Sammlung entfernt werden.</p></div><div class=paragraph><p>Wenn es sinnvoll ist, können Benutzer vor der anstehenden Entfernung eines Ports mit <code>DEPRECATED</code> und <code>EXPIRATION_DATE</code> gewarnt werden. Ersteres ist einfach eine Zeichenkette, die angibt, warum der Port entfernt werden soll. Letzteres ist eine Zeichenkette im ISO 8601-Format (JJJJ-MM-TT). Beides wird dem Benutzer gezeigt.</p></div><div class=paragraph><p>Es ist möglich <code>DEPRECATED</code> ohne <code>EXPIRATION_DATE</code> zu setzen (zum Beispiel, um eine neuere Version des Ports zu empfehlen), aber das Gegenteil ist sinnlos.</p></div><div class=paragraph><p>Es gibt keine Vorschrift wie lange die Vorwarnzeit sein muss. Gegenwärtig ist es üblich einen Monat für sicherheitsrelevante Probleme und zwei Monate für Build-Probleme anzusetzen. Dies gibt allen interessierten Committern ein wenig Zeit die Probleme zu beheben.</p></div></div><div class=sect2><h3 id=dads-dot-error>12.16. Vermeiden Sie den Gebrauch des <code>.error</code>-Konstruktes<a class=anchor href=#dads-dot-error></a></h3><div class=paragraph><p>Der korrekte Weg eines <span class=filename>Makefile</span> anzuzeigen, dass der Port aufgrund eines externen Grundes nicht installiert werden kann (zum Beispiel, weil der Benutzer eine ungültige Kombination von Build-Optionen angegeben hat), ist <code>IGNORE</code> auf einen nicht leeren Wert zu setzen. Dieser wird dann formatiert und dem Benutzer von <code>make install</code> ausgegeben.</p></div><div class=paragraph><p>Es ist ein verbreiteter Fehler <code>.error</code> für diesem Zweck zu verwenden. Das Problem dabei ist, dass viele automatisierte Werkzeuge, die mit dem Ports-Baum arbeiten, in dieser Situation fehlschlagen. Am Häufigsten tritt das Problem beim Versuch <span class=filename>/usr/ports/INDEX</span> zu bauen auf (siehe <a href=./#make-describe><code>make describe</code> ausführen</a>). Jedoch schlagen auch trivialere Befehle wie <code>make maintainer</code> in diesem Fall fehl. Dies ist nicht akzeptabel!</p></div><div id=dot-error-breaks-index class=exampleblock><div class=title>Beispiel 25. Wie vermeidet man die Verwendung von <code>.error</code></div><div class=content><div class=paragraph><p>Nehmen Sie an, dass die Zeile</p></div><div class="literalblock programlisting"><div class=content><pre>USE_POINTYHAT=yes</pre></div></div><div class=paragraph><p>in <span class=filename>make.conf</span> enthalten ist. Der erste der folgenden zwei <span class=filename>Makefile</span>-Schnipsel lässt <code>make index</code> fehlschlagen, während der zweite dies nicht tut.</p></div><div class="literalblock programlisting"><div class=content><pre>.if USE_POINTYHAT
.error &#34;POINTYHAT is not supported&#34;
.endif</pre></div></div><div class="literalblock programlisting"><div class=content><pre>.if USE_POINTYHAT
IGNORE=POINTYHAT is not supported
.endif</pre></div></div></div></div></div><div class=sect2><h3 id=dads-sysctl>12.17. Verwendung von <span class=filename>sysctl</span><a class=anchor href=#dads-sysctl></a></h3><div class=paragraph><p>Vom Gebrauch von sysctl wird, außer in Targets, abgeraten. Das liegt daran, dass die Auswertung aller <code>makevar</code>s, wie sie während <code>make index</code> verwendet werden, dann den Befehl ausführen muss, welches den Prozess weiter verlangsamt.</p></div><div class=paragraph><p>Die Verwendung von <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> sollte immer durch die Variable <code>SYSCTL</code> erfolgen, da diese den vollständigen Pfad enthält und überschrieben werden kann, so dies als notwendig erachtet wird.</p></div></div><div class=sect2><h3 id=dads-rerolling-distfiles>12.18. Erneutes Ausliefern von Distfiles<a class=anchor href=#dads-rerolling-distfiles></a></h3><div class=paragraph><p>Manchmal ändern die Autoren der Software den Inhalt veröffentlichter Distfiles, ohne den Dateinamen zu ändern. Sie müssen überprüfen, ob die Änderungen offizell sind und vom Autor durchgeführt wurden. Es ist in der Vergangenheit vorgekommen, dass Distfiles still und heimlich auf dem Download-Server geändert wurden, um Schaden zu verursachen oder die Sicherheit der Nutzer zu kompromittieren.</p></div><div class=paragraph><p>Verschieben Sie das alte Distfile und laden Sie das neue herunter. Entpacken Sie es und vergleichen Sie den Inhalt mittels <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>. Wenn Sie nichts Verdächtiges sehen können Sie <span class=filename>distinfo</span> aktualisieren. Stellen Sie sicher, dass die Änderungen in Ihrem PR oder Commit-Protokoll zusammengefasst sind, um zu Gewährleisten, dass nichts Negatives passiert ist.</p></div><div class=paragraph><p>Sie können auch mit den Autoren der Software in Verbindung treten und sich die Änderungen bestätigen lassen.</p></div></div><div class=sect2><h3 id=dads-misc>12.19. Verschiedenes<a class=anchor href=#dads-misc></a></h3><div class=paragraph><p>Die Dateien <span class=filename>pkg-descr</span> und <span class=filename>pkg-plist</span> sollten beide doppelt kontrolliert werden. Wenn Sie einen Port nachprüfen und glauben, dass man es besser machen kann, dann verbessern Sie ihn bitte.</p></div><div class=paragraph><p>Bitte kopieren Sie nicht noch mehr Exemplare der GNU General Public License in unser System.</p></div><div class=paragraph><p>Bitte überprüfen Sie alle gesetzlichen Punkte gründlich! Lassen Sie uns bitte keine illegale Software verbreiten!</p></div></div></div></div><div class=sect1><h2 id=porting-samplem>Kapitel 13. Beispiel eines <span class=filename>Makefile</span><a class=anchor href=#porting-samplem></a></h2><div class=sectionbody><div class=paragraph><p>Hier ein Beispiel für ein <span class=filename>Makefile</span>, welches als Vorlage für einen neuen Port dienen kann. Alle zusätzlichen Kommentare in eckigen Klammern müssen entfernt werden!</p></div><div class=paragraph><p>Es wird empfohlen, die hier gezeigte Formatierung zu übernehmen (Reihenfolge der Variablen, Leerzeichen zwischen einzelnen Abschnitten, usw.). Dadurch werden die wichtigen Informationen sofort ersichtlich. Zur Überprüfung Ihres <span class=filename>Makefile</span>s sollten Sie <a href=#porting-portlint>portlint</a> verwenden.</p></div><div class="literalblock programlisting"><div class=content><pre>[the header...just to make it easier for us to identify the ports.]
# New ports collection makefile for:   xdvi
[the &#34;version required&#34; line is only needed when the PORTVERSION
 variable is not specific enough to describe the port.]
# Date created:                26 May 1995
[this is the person who did the original port to FreeBSD, in particular, the
person who wrote the first version of this Makefile.  Remember, this should
not be changed when upgrading the port later.]
# Whom:                        Satoshi Asami &lt;asami@FreeBSD.org&gt;
#
# $FreeBSD$
[ ^^^^^^^^^ This will be automatically replaced with RCS ID string by CVS
when it is committed to our repository.  If upgrading a port, do not alter
this line back to &#34;$FreeBSD$&#34;.  CVS deals with it automatically.]
#

[section to describe the port itself and the master site - PORTNAME
 and PORTVERSION are always first, followed by CATEGORIES,
 and then MASTER_SITES, which can be followed by MASTER_SITE_SUBDIR.
 PKGNAMEPREFIX and PKGNAMESUFFIX, if needed, will be after that.
 Then comes DISTNAME, EXTRACT_SUFX and/or DISTFILES, and then
 EXTRACT_ONLY, as necessary.]
PORTNAME=      xdvi
PORTVERSION=   18.2
CATEGORIES=    print
[do not forget the trailing slash (&#34;/&#34;)!
 if you are not using MASTER_SITE_* macros]
MASTER_SITES=  ${MASTER_SITE_XCONTRIB}
MASTER_SITE_SUBDIR= applications
PKGNAMEPREFIX= ja-
DISTNAME=      xdvi-pl18
[set this if the source is not in the standard &#34;.tar.gz&#34; form]
EXTRACT_SUFX=  .tar.Z

[section for distributed patches -- can be empty]
PATCH_SITES=   ftp://ftp.sra.co.jp/pub/X11/japanese/
PATCHFILES=    xdvi-18.patch1.gz xdvi-18.patch2.gz

[maintainer; *mandatory*!  This is the person who is volunteering to
 handle port updates, build breakages, and to whom a users can direct
 questions and bug reports.  To keep the quality of the Ports Collection
 as high as possible, we no longer accept new ports that are assigned to
 &#34;ports@FreeBSD.org&#34;.]
MAINTAINER=    asami@FreeBSD.org
COMMENT=       A DVI Previewer for the X Window System

[dependencies -- can be empty]
RUN_DEPENDS=   gs:${PORTSDIR}/print/ghostscript
LIB_DEPENDS=   Xpm.5:${PORTSDIR}/graphics/xpm

[this section is for other standard bsd.port.mk variables that do not
 belong to any of the above]
[If it asks questions during configure, build, install...]
IS_INTERACTIVE=        yes
[If it extracts to a directory other than ${DISTNAME}...]
WRKSRC=                ${WRKDIR}/xdvi-new
[If the distributed patches were not made relative to ${WRKSRC}, you
 may need to tweak this]
PATCH_DIST_STRIP=      -p1
[If it requires a &#34;configure&#34; script generated by GNU autoconf to be run]
GNU_CONFIGURE= yes
[If it requires GNU make, not /usr/bin/make, to build...]
USE_GMAKE=     yes
[If it is an X application and requires &#34;xmkmf -a&#34; to be run...]
USE_IMAKE=     yes
[et cetera.]

[non-standard variables to be used in the rules below]
MY_FAVORITE_RESPONSE=  &#34;yeah, right&#34;

[then the special rules, in the order they are called]
pre-fetch:
    i go fetch something, yeah

post-patch:
    i need to do something after patch, great

pre-install:
    and then some more stuff before installing, wow

[and then the epilogue]
.include &lt;bsd.port.mk&gt;</pre></div></div></div></div><div class=sect1><h2 id=keeping-up>Kapitel 14. Auf dem Laufenden bleiben<a class=anchor href=#keeping-up></a></h2><div class=sectionbody><div class=paragraph><p>Die FreeBSD Ports-Sammlung verändert sich ständig. Hier finden Sie einige Informationen, wie Sie auf dem Laufenden bleiben.</p></div><div class=sect2><h3 id=freshports>14.1. FreshPorts<a class=anchor href=#freshports></a></h3><div class=paragraph><p>Einer der einfachsten Wege, um sich über Aktualisierungen, die bereits durchgeführt wurden, zu informieren, ist sich bei <a href=http://www.FreshPorts.org/>FreshPorts</a> anzumelden. Sie können dort beliebige Ports auswählen, die Sie beobachten möchten. Maintainern wird ausdrücklich empfohlen sich anzumelden, da Sie nicht nur über Ihre eigenen Änderungen informiert werden, sondern auch über die aller anderen Committer (Diese sind oft nötig, um über Änderungen des zugrunde liegenden Frameworks informiert zu bleiben. Obwohl es höflich wäre, vorher über solche Änderungen benachrichtigt zu werden, wird es manchmal vergessen oder ist einfach nicht möglich. Außerdem sind die Änderungen manchmal nur sehr klein. Wir erwarten von jedem in solchen Fällen nach bestem Gewissen zu urteilen).</p></div><div class=paragraph><p>Wenn Sie Fresh-Ports benutzen möchten, benötigen Sie nur einen Account. Falls Sie sich mit einer <code>@FreeBSD.org</code> E-Mailadresse registriert haben, werden Sie den Anmeldelink am rechten Rand der Seite finden. Diejenigen, die bereits einen FeshPorts-Account haben, aber nicht Ihre <code>@FreeBSD.org</code> E-Mailadresse benutzen, können einfach Ihre E-Mailadresse auf <code>@FreeBSD.org</code> ändern, sich anmelden, und dann die Änderung rückgängig machen.</p></div><div class=paragraph><p>FreshPorts bietet auch eine Überprüfungsfunktion, die automatisch alle Committs zum FreeBSD Ports-Baum testet. Wenn Sie sich für diesen Dienst anmelden, werden Sie über alle Fehler, die bei der Überprüfung Ihres Committs auftreten, informiert.</p></div></div><div class=sect2><h3 id=cvsweb>14.2. Die Webschnittstelle zum Quelltext-Repository<a class=anchor href=#cvsweb></a></h3><div class=paragraph><p>Es ist möglich die Dateien des Quellen-Repositories mit Hilfe einer Webschnittstelle durchzusehen. Änderungen, die das gesamte Ports-System betreffen, werden jetzt in der Datei <a href=http://cvsweb.FreeBSD.org/ports/CHANGES>CHANGES</a> dokumentiert. Solche, die nur bestimmte Ports betreffen, in der Datei <a href=http://cvsweb.FreeBSD.org/ports/UPDATING>UPDATING</a>. Aber die maßgebliche Antwort auf alle Fragen liegt zweifellos darin, den Quelltext von <a href=http://cvsweb.FreeBSD.org/ports/Mk/bsd.port.mk>bsd.port.mk</a> und dazugehörige Dateien zu lesen.</p></div></div><div class=sect2><h3 id=ports-mailling-list>14.3. Die FreeBSD Ports-Mailingliste<a class=anchor href=#ports-mailling-list></a></h3><div class=paragraph><p>Wenn Sie Maintainer sind, sollten Sie in Erwägung ziehen die <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>FreeBSD ports</a>-Mailingliste zu verfolgen. Wichtige Änderungen an der grundlegenden Funktionsweise von Ports werden dort angekündigt und dann in <span class=filename>CHANGES</span> committet.</p></div></div><div class=sect2><h3 id=build-cluster>14.4. Der Cluster zum Bauen von FreeBSD-Ports auf <code>pointyhat.FreeBSD.org</code><a class=anchor href=#build-cluster></a></h3><div class=paragraph><p>Eine der weniger bekannten Stärken von FreeBSD ist es, dass ein ganzer Cluster von Maschinen nur dafür reserviert ist, andauernd die Ports-Sammlung zu bauen, und zwar für jedes große FreeBSD Release und jede Tier-1-Architektur. Die Ergebnisse können Sie unter <a href=http://pointyhat.FreeBSD.org/>package building logs and errors</a> finden.</p></div><div class=paragraph><p>Alle Ports ausser denjenigen, die als <code>IGNORE</code> markiert sind, werden gebaut. Ports, die als <code>BROKEN</code> markiert sind, werden dennoch ausprobiert, um zu sehen, ob das zugrunde liegende Problem gelöst wurde (Dies wird erreicht, indem <code>TRYBROKEN</code> an das <span class=filename>Makefile</span> des Ports übergeben wird).</p></div></div><div class=sect2><h3 id=distfile-survey>14.5. Der FreeBSD Ports-Distfile-Scanner<a class=anchor href=#distfile-survey></a></h3><div class=paragraph><p>Der Build-Cluster ist dazu bestimmt, das neueste Release jedes Ports aus bereits heruntergeladenden Distfiles zu bauen. Da sich das Internet aber ständig verändert, können Distfiles schnell verloren gehen. Der <a href=https://portscout.freebsd.org>FreeBSD Ports-Distfile-Scanner</a> versucht jeden Download-Standort für jeden Port anzufragen, um herauszufinden, ob jedes Distfile noch verfügbar ist. Maintainer werden gebeten diesen Bericht regelmäßig durchzusehen, nicht nur, um den Build-Prozess für die Nutzer zu beschleunigen, sondern auch um zu vermeiden, dass auf den Maschinen, die freiwillig zur Verfügung gestellt werden, um all diese Dateien anzubieten, Ressourcen verschwendet werden.</p></div></div><div class=sect2><h3 id=portsmon>14.6. Das FreeBSD Ports-Monitoring-System<a class=anchor href=#portsmon></a></h3><div class=paragraph><p>Eine weitere praktische Ressource ist das <a href=http://portsmon.FreeBSD.org>FreeBSD Ports-Monitoring-System</a> (auch bekannt als <code>portsmon</code>). Dieses System besteht aus einer Datenbank, die Informationen von mehreren Quellen bezieht und es erlaubt diese über ein Webinterface abzufragen. Momentan werden die Ports-Problemberichte (PRs), die Fehlerprotokolle des Build-Clusters und die einzelnen Dateien der Ports-Sammlung verwendet. In Zukunft soll das auf die Distfile-Prüfung und weitere Informationsquellen ausgedehnt werden.</p></div><div class=paragraph><p>Als Ausgangspunkt können Sie alle Informationen eines Ports mit Hilfe der <a href=http://portsmon.FreeBSD.org/portoverview.py>Übersicht eines Ports</a> betrachten.</p></div><div class=paragraph><p>Zum Zeitpunkt des Schreibens ist dies die einzige Quelle, die GNATS PR-Einträge auf Portnamen abbildet (PR-Einreicher geben den Portnamen nicht immer in der Zusammenfassung an, obwohl wir uns das wünschen würden). Also ist <code>portsmon</code> ein guter Anlaufpunkt, wenn Sie herausfinden wollen, ob zu einem existierenden Port PRs oder Buildfehler eingetragen sind. Oder um herauszufinden, ob ein neuer Port, den Sie erstellen wollen, bereits eingereicht wurde.</p></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 23. März 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=10c02774ea" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#why-port>Kapitel 1. Einführung</a></li><li><a href=#own-port>Kapitel 2. Einen neuen Port erstellen</a></li><li><a href=#quick-porting>Kapitel 3. Einen neuen Port erstellen</a><ul><li><a href=#porting-makefile>3.1. Das Makefile schreiben</a></li><li><a href=#porting-desc>3.2. Die Beschreibungsdateien erstellen</a></li><li><a href=#porting-checksum>3.3. Die Checksummendatei erzeugen</a></li><li><a href=#porting-testing>3.4. Den Port testen</a></li><li><a href=#porting-portlint>3.5. Ihren Port mit <code>portlint</code> überprüfen</a></li><li><a href=#porting-submitting>3.6. Den neuen Port einreichen</a></li></ul></li><li><a href=#slow>Kapitel 4. Einen Port in aller Ruhe erstellen</a><ul><li><a href=#slow-work>4.1. Die Funktionsweise</a></li><li><a href=#slow-sources>4.2. Den originalen Quelltext besorgen</a></li><li><a href=#slow-modifying>4.3. Den Port bearbeiten</a></li><li><a href=#slow-patch>4.4. Fehlerbehebung (Patches)</a></li><li><a href=#slow-configure>4.5. Konfigurieren</a></li><li><a href=#slow-user-input>4.6. Handhabung von Benutzereingaben</a></li></ul></li><li><a href=#flavors>Kapitel 5. Die Konfiguration des Makefile</a><ul><li><a href=#makefile-source>5.1. Der originale Quelltext</a></li><li><a href=#makefile-naming>5.2. Bezeichnungen</a></li><li><a href=#makefile-categories>5.3. Kategorisierung</a></li><li><a href=#makefile-distfiles>5.4. Die Distributionsdateien</a></li><li><a href=#makefile-maintainer>5.5. <code>MAINTAINER</code></a></li><li><a href=#makefile-comment>5.6. <code>COMMENT</code></a></li><li><a href=#makefile-depend>5.7. Abhängigkeiten (dependencies)</a></li><li><a href=#makefile-masterdir>5.8. <code>MASTERDIR</code></a></li><li><a href=#makefile-manpages>5.9. Manualpages</a></li><li><a href=#makefile-info>5.10. Info-Dateien</a></li><li><a href=#makefile-options>5.11. Makefile-Optionen</a></li><li><a href=#makefile-wrkdir>5.12. Die Festlegung des Arbeitsverzeichnisses</a></li><li><a href=#conflicts>5.13. Konfliktbehandlung</a></li><li><a href=#install>5.14. Installation von Dateien</a></li></ul></li><li><a href=#special>Kapitel 6. Besonderheiten</a><ul><li><a href=#porting-shlibs>6.1. Shared-Libraries</a></li><li><a href=#porting-restrictions>6.2. Ports mit beschränkter Verbreitung</a></li><li><a href=#building>6.3. Build-Mechanismen</a></li><li><a href=#using-autotools>6.4. Benutzung von GNU autotools</a></li><li><a href=#using-gettext>6.5. Benutzung von GNU <code>gettext</code></a></li><li><a href=#using-perl>6.6. Die Benutzung von <code>perl</code></a></li><li><a href=#using-x11>6.7. Benutzung von X11</a></li><li><a href=#using-gnome>6.8. Benutzung von GNOME</a></li><li><a href=#using-qt>6.9. Benutzung von Qt</a></li><li><a href=#using-kde>6.10. Benutzung von KDE</a></li><li><a href=#using-java>6.11. Benutzung von Java</a></li><li><a href=#using-php>6.12. Webanwendungen, Apache und PHP</a></li><li><a href=#using-python>6.13. Python benutzen</a></li><li><a href=#using-tcl>6.14. Benutzung von Tcl/Tk</a></li><li><a href=#using-emacs>6.15. Emacs benutzen</a></li><li><a href=#using-ruby>6.16. Ruby benutzen</a></li><li><a href=#using-sdl>6.17. SDL verwenden</a></li><li><a href=#using-wx>6.18. wxWidgets verwenden</a></li><li><a href=#using-lua>6.19. Verwendung von Lua</a></li><li><a href=#using-xfce>6.20. Xfce verwenden</a></li><li><a href=#using-mozilla>6.21. Mozilla verwenden</a></li><li><a href=#using-databases>6.22. Benutzung von Datenbanken</a></li><li><a href=#rc-scripts>6.23. Starten und Anhalten von Diensten (rc Skripten)</a></li><li><a href=#users-and-groups>6.24. Hinzufügen von Benutzern und Gruppen</a></li><li><a href=#_von_kernelquellen_abhängige_ports>6.25. Von Kernelquellen abhängige Ports</a></li></ul></li><li><a href=#plist>Kapitel 7. Fortgeschrittene <span class=filename>pkg-plist</span>-Methoden</a><ul><li><a href=#plist-sub>7.1. Änderungen an pkg-plist mit Hilfe von make-Variablen</a></li><li><a href=#plist-cleaning>7.2. Leere Verzeichnisse</a></li><li><a href=#plist-config>7.3. Konfigurationsdateien</a></li><li><a href=#plist-dynamic>7.4. Dynamische oder statische Paketliste</a></li><li><a href=#plist-autoplist>7.5. Automatisiertes Erstellen von Paketlisten</a></li></ul></li><li><a href=#pkg-files>Kapitel 8. Die <span class=filename>pkg-*</span> Dateien</a><ul><li><a href=#porting-message>8.1. <span class=filename>pkg-message</span></a></li><li><a href=#pkg-install>8.2. <span class=filename>pkg-install</span></a></li><li><a href=#pkg-deinstall>8.3. <span class=filename>pkg-deinstall</span></a></li><li><a href=#pkg-req>8.4. <span class=filename>pkg-req</span></a></li><li><a href=#pkg-names>8.5. Ändern der Namen der <span class=filename>pkg-*</span> Dateien</a></li><li><a href=#using-sub-files>8.6. Nutzung von <code>SUB_FILES</code> und <code>SUB_LIST</code></a></li></ul></li><li><a href=#testing>Kapitel 9. Ihren Port testen</a><ul><li><a href=#make-describe>9.1. <code>make describe</code> ausführen</a></li><li><a href=#testing-portlint>9.2. Portlint</a></li><li><a href=#testing-porttools>9.3. Port Tools</a></li><li><a href=#porting-prefix>9.4. <code>PREFIX</code> und <code>DESTDIR</code></a></li><li><a href=#testing-tinderbox>9.5. Die Tinderbox</a></li></ul></li><li><a href=#port-upgrading>Kapitel 10. Einen existierenden Port aktualisieren</a><ul><li><a href=#cvs-diff>10.1. Patches mit CVS erstellen</a></li><li><a href=#moved-and-updating-files>10.2. Die Dateien UPDATING und MOVED</a></li></ul></li><li><a href=#security>Kapitel 11. Sicherheit der Ports</a><ul><li><a href=#security-intro>11.1. Warum Sicherheit so wichtig ist</a></li><li><a href=#security-fix>11.2. Sicherheitslücken schliessen</a></li><li><a href=#security-notify>11.3. Die Community informiert halten</a></li></ul></li><li><a href=#porting-dads>Kapitel 12. Was man machen respektive vermeiden sollte</a><ul><li><a href=#dads-intro>12.1. Einführung</a></li><li><a href=#porting-wrkdir>12.2. <code>WRKDIR</code></a></li><li><a href=#porting-wrkdirprefix>12.3. <code>WRKDIRPREFIX</code></a></li><li><a href=#porting-versions>12.4. Unterschiedliche Betriebssysteme und Betriebssystemversionen</a></li><li><a href=#freebsd-versions>12.5. __FreeBSD_version Werte</a></li><li><a href=#dads-after-port-mk>12.6. Etwas hinter die <span class=filename>bsd.port.mk</span>-Anweisung schreiben</a></li><li><a href=#dads-sh-exec>12.7. Benutzen Sie die <code>exec</code>-Anweisung in Wrapper-Skripten</a></li><li><a href=#dads-rational>12.8. Aufgaben vernünftig lösen</a></li><li><a href=#dads-cc>12.9. Berücksichtigen Sie sowohl <code>CC</code> als auch <code>CXX</code></a></li><li><a href=#dads-cflags>12.10. Berücksichtigen Sie <code>CFLAGS</code></a></li><li><a href=#dads-pthread>12.11. Threading-Bibliotheken</a></li><li><a href=#dads-freedback>12.12. Rückmeldungen</a></li><li><a href=#dads-readme>12.13. <span class=filename>README.html</span></a></li><li><a href=#dads-noinstall>12.14. Einen Port durch <code>BROKEN</code>, <code>FORBIDDEN</code> oder <code>IGNORE</code> als nicht installierbar markieren</a></li><li><a href=#dads-deprecated>12.15. Kennzeichnen eines Ports zur Entfernung durch <code>DEPRECATED</code> oder <code>EXPIRATION_DATE</code></a></li><li><a href=#dads-dot-error>12.16. Vermeiden Sie den Gebrauch des <code>.error</code>-Konstruktes</a></li><li><a href=#dads-sysctl>12.17. Verwendung von <span class=filename>sysctl</span></a></li><li><a href=#dads-rerolling-distfiles>12.18. Erneutes Ausliefern von Distfiles</a></li><li><a href=#dads-misc>12.19. Verschiedenes</a></li></ul></li><li><a href=#porting-samplem>Kapitel 13. Beispiel eines <span class=filename>Makefile</span></a></li><li><a href=#keeping-up>Kapitel 14. Auf dem Laufenden bleiben</a><ul><li><a href=#freshports>14.1. FreshPorts</a></li><li><a href=#cvsweb>14.2. Die Webschnittstelle zum Quelltext-Repository</a></li><li><a href=#ports-mailling-list>14.3. Die FreeBSD Ports-Mailingliste</a></li><li><a href=#build-cluster>14.4. Der Cluster zum Bauen von FreeBSD-Ports auf <code>pointyhat.FreeBSD.org</code></a></li><li><a href=#distfile-survey>14.5. Der FreeBSD Ports-Distfile-Scanner</a></li><li><a href=#portsmon>14.6. Das FreeBSD Ports-Monitoring-System</a></li></ul></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/de/books/porters-handbook/porters-handbook_de.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/de/book target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=http://172.16.201.134:1313/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=http://172.16.201.134:1313/de/languages><img src=http://172.16.201.134:1313/images/language.png class=language-image alt="Choose language">
<span>German</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/de class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=http://172.16.201.134:1313/de/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>