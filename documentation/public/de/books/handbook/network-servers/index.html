<!doctype html><html class=theme-light lang=de><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/de/books/handbook/network-servers/><title>Kapitel 29. Netzwerkserver | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Kapitel 29. Netzwerkserver"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="de"><meta property="og:url" content="https://docs.freebsd.org/de/books/handbook/network-servers/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/de\/books\/handbook\/network-servers\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/de>Documentation portal</a></li><li><a href=https://docs.freebsd.org/de/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/de/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/de/books>Books</a></li><li><a href=https://docs.freebsd.org/de/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/de/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=de>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><aside class=book-menu><div class=book-menu-content><input id=search-book type=text placeholder=Search aria-label=Search maxlength=128><nav id=MenuContents><ul><li><input type=checkbox id=chapter-eb2a98ce203d8afd517726e6d8776be3 class=toggle>
<label class="icon cursor" for=chapter-eb2a98ce203d8afd517726e6d8776be3><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/preface/>Vorwort</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/preface/#preface-audience>Über dieses Buch</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/preface/#preface-changes-from3>Änderungen gegenüber der dritten Auflage</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/preface/#preface-changes-from2>Änderungen gegenüber der zweiten Auflage (2004)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/preface/#preface-changes>Änderungen gegenüber der ersten Auflage (2001)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/preface/#preface-overview>Gliederung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/preface/#preface-conv>Konventionen in diesem Buch</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/preface/#preface-acknowledgements>Danksagung</a></li></ul></li><li><input type=checkbox id=chapter-14a525fce014b90b8a458a894818255a class=toggle>
<label for=chapter-14a525fce014b90b8a458a894818255a><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/parti/>Teil I. Erste Schritte</a></li><li><input type=checkbox id=chapter-f9c9f3451644df30d224350da97d5da6 class=toggle>
<label class="icon cursor" for=chapter-f9c9f3451644df30d224350da97d5da6><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/introduction/>Kapitel 1. Einleitung</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/introduction/#introduction-synopsis>1.1. Überblick</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/introduction/#nutshell>1.2. Willkommen zu FreeBSD!</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/introduction/#history>1.3. Über das FreeBSD Projekt</a></li></ul></li><li><input type=checkbox id=chapter-f693a3fa687a72d63ec8129ee302d664 class=toggle>
<label class="icon cursor" for=chapter-f693a3fa687a72d63ec8129ee302d664><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/>Kapitel 2. FreeBSD installieren</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-synopsis>2.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-hardware>2.2. Minimale Hardwareanforderungen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-pre>2.3. Vor der Installation</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-start>2.4. Die Installation starten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#using-bsdinstall>2.5. Verwendung von bsdinstall</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-partitioning>2.6. Plattenplatz bereitstellen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-fetching-distribution>2.7. Abrufen der Distributionen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-post>2.8. Benutzerkonten, Zeitzone, Dienste und Sicherheitsoptionen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-network>2.9. Netzwerkschnittstellen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#bsdinstall-install-trouble>2.10. Fehlerbehebung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bsdinstall/#using-live-cd>2.11. Verwendung der Live-CD</a></li></ul></li><li><input type=checkbox id=chapter-9f6db261075f578742036fcc6000eecd class=toggle>
<label class="icon cursor" for=chapter-9f6db261075f578742036fcc6000eecd><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/basics/>Kapitel 3. Grundlagen des FreeBSD Betriebssystems</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#basics-synopsis>3.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#consoles>3.2. Virtuelle Konsolen und Terminals</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#users-synopsis>3.3. Benutzer und grundlegende Account-Verwaltung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#permissions>3.4. Zugriffsrechte</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#dirstructure>3.5. Verzeichnis-Strukturen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#disk-organization>3.6. Festplatten, Slices und Partitionen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#mount-unmount>3.7. Anhängen und Abhängen von Dateisystemen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#basics-processes>3.8. Prozesse und Dämonen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#shells>3.9. Shells</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#editors>3.10. Text-Editoren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#basics-devices>3.11. Geräte und Gerätedateien</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/basics/#basics-more-information>3.12. Manualpages</a></li></ul></li><li><input type=checkbox id=chapter-01c5707e95d14c0ff84bf62600c958d1 class=toggle>
<label class="icon cursor" for=chapter-01c5707e95d14c0ff84bf62600c958d1><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/ports/>Kapitel 4. Installieren von Anwendungen: Pakete und Ports</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#ports-synopsis>4.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#ports-overview>4.2. Installation von Software</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#ports-finding-applications>4.3. Suchen einer Anwendung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#pkgng-intro>4.4. Benutzen von pkg zur Verwaltung von Binärpaketen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#ports-using>4.5. Benutzen der Ports-Sammlung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#ports-poudriere>4.6. Pakete mit Poudriere bauen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#ports-nextsteps>4.7. Nach der Installation</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ports/#ports-broken>4.8. Kaputte Ports</a></li></ul></li><li><input type=checkbox id=chapter-3405c00581365a8b5d16af70fe4d1b72 class=toggle>
<label class="icon cursor" for=chapter-3405c00581365a8b5d16af70fe4d1b72><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/x11/>Kapitel 5. Das X-Window-System</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x11-synopsis>5.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x-understanding>5.2. Terminologie</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x-install>5.3. Xorg installieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x-config>5.4. Xorg konfigurieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x-fonts>5.5. Schriftarten in Xorg benutzen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x-xdm>5.6. Der X-Display-Manager</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x11-wm>5.7. Grafische Oberflächen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x-compiz-fusion>5.8. Compiz Fusion installieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/x11/#x11-troubleshooting>5.9. Fehlersuche</a></li></ul></li><li><input type=checkbox id=chapter-0eab3565e8f59f5a8a896dfba7eb3680 class=toggle>
<label for=chapter-0eab3565e8f59f5a8a896dfba7eb3680><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/partii/>Teil II. Oft benutzte Funktionen</a></li><li><input type=checkbox id=chapter-b33cf28993f3f7bf5baf036e79da0f39 class=toggle>
<label class="icon cursor" for=chapter-b33cf28993f3f7bf5baf036e79da0f39><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/desktop/>Kapitel 6. Desktop-Anwendungen</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/desktop/#desktop-synopsis>6.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/desktop/#desktop-browsers>6.2. Browser</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/desktop/#desktop-productivity>6.3. Büroanwendungen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/desktop/#desktop-viewers>6.4. Anzeigen von Dokumenten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/desktop/#desktop-finance>6.5. Finanzsoftware</a></li></ul></li><li><input type=checkbox id=chapter-152f694a19312ad72ec7bb4e1c3c33b2 class=toggle>
<label class="icon cursor" for=chapter-152f694a19312ad72ec7bb4e1c3c33b2><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/multimedia/>Kapitel 7. Multimedia</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/multimedia/#multimedia-synopsis>7.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/multimedia/#sound-setup>7.2. Soundkarten einrichten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/multimedia/#sound-mp3>7.3. MP3-Audio</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/multimedia/#video-playback>7.4. Videos wiedergeben</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/multimedia/#tvcard>7.5. TV-Karten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/multimedia/#mythtv>7.6. MythTV</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/multimedia/#scanners>7.7. Scanner</a></li></ul></li><li><input type=checkbox id=chapter-80888b4ee02e3e409e5f71cf97a36450 class=toggle>
<label class="icon cursor" for=chapter-80888b4ee02e3e409e5f71cf97a36450><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/kernelconfig/>Kapitel 8. Konfiguration des FreeBSD-Kernels</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/kernelconfig/#kernelconfig-synopsis>8.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/kernelconfig/#kernelconfig-custom-kernel>8.2. Wieso einen eigenen Kernel bauen?</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/kernelconfig/#kernelconfig-devices>8.3. Informationen über die vorhandene Hardware beschaffen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/kernelconfig/#kernelconfig-config>8.4. Die Kernelkonfigurationsdatei</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/kernelconfig/#kernelconfig-building>8.5. Einen angepassten Kernel bauen und installieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/kernelconfig/#kernelconfig-trouble>8.6. Wenn etwas schiefgeht</a></li></ul></li><li><input type=checkbox id=chapter-cb174c55879b17ab955f2f16989a79e0 class=toggle>
<label class="icon cursor" for=chapter-cb174c55879b17ab955f2f16989a79e0><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/printing/>Kapitel 9. Drucken</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/printing/#printing-quick-start>9.1. Schnellstart</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/printing/#printing-connections>9.2. Druckerverbindungen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/printing/#printing-pdls>9.3. Gebräuchliche Seitenbeschreibungssprachen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/printing/#printing-direct>9.4. Direktes Drucken</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/printing/#printing-lpd>9.5. LPD (Line Printer Daemon)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/printing/#printing-other>9.6. Andere Drucksysteme</a></li></ul></li><li><input type=checkbox id=chapter-c12b8c3f2a8fcefce87087241f695c83 class=toggle>
<label class="icon cursor" for=chapter-c12b8c3f2a8fcefce87087241f695c83><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/linuxemu/>Kapitel 10. Linux®-Binärkompatibilität</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/linuxemu/#linuxemu-synopsis>10.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/linuxemu/#linuxemu-lbc-install>10.2. Konfiguration der Linux®-Binärkompatibilität</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/linuxemu/#linuxemu-advanced>10.3. Weiterführende Themen</a></li></ul></li><li><input type=checkbox id=chapter-03b11ba627b9a0c85b247f5641bde272 class=toggle>
<label for=chapter-03b11ba627b9a0c85b247f5641bde272><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/partiii/>Teil III. Systemadministration</a></li><li><input type=checkbox id=chapter-6c31587f8d736319f099cd4dc1961301 class=toggle>
<label class="icon cursor" for=chapter-6c31587f8d736319f099cd4dc1961301><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/config/>Kapitel 11. Konfiguration und Tuning</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/config/#config-synopsis>11.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-starting-services>11.2. Start von Diensten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-cron>11.3. cron(8) konfigurieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-rcd>11.4. Dienste unter FreeBSD verwalten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#config-network-setup>11.5. Einrichten von Netzwerkkarten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-virtual-hosts>11.6. Virtual Hosts</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-syslog>11.7. Konfiguration der Systemprotokollierung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-configfiles>11.8. Konfigurationsdateien</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-sysctl>11.9. Einstellungen mit sysctl(8)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-disk>11.10. Tuning von Laufwerken</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#configtuning-kernel-limits>11.11. Einstellungen von Kernel Limits</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#adding-swap-space>11.12. Hinzufügen von Swap-Bereichen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/config/#acpi-overview>11.13. Energie- und Ressourcenverwaltung</a></li></ul></li><li><input type=checkbox id=chapter-459f0012b3b4f0b6b123010f029da5e4 class=toggle>
<label class="icon cursor" for=chapter-459f0012b3b4f0b6b123010f029da5e4><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/boot/>Kapitel 12. FreeBSDs Bootvorgang</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/boot/#boot-synopsis>12.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/boot/#boot-introduction>12.2. FreeBSDs Bootvorgang</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/boot/#boot-splash>12.3. Willkommensbildschirme während des Bootvorgangs konfigurieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/boot/#device-hints>12.4. Konfiguration von Geräten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/boot/#boot-shutdown>12.5. Der Shutdown-Vorgang</a></li></ul></li><li><input type=checkbox id=chapter-917c75fcffbb14d48ed6d0a48e7028f2 class=toggle>
<label class="icon cursor" for=chapter-917c75fcffbb14d48ed6d0a48e7028f2><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/security/>Kapitel 13. Sicherheit</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/security/#security-synopsis>13.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#security-intro>13.2. Einführung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#one-time-passwords>13.3. Einmalpasswörter</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#tcpwrappers>13.4. TCP Wrapper</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#kerberos5>13.5. Kerberos</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#openssl>13.6. OpenSSL</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#ipsec>13.7. VPN mit IPsec</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#openssh>13.8. OpenSSH</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#fs-acl>13.9. Zugriffskontrolllisten für Dateisysteme (ACL)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#security-pkg>13.10. Sicherheitsprobleme in Software von Drittanbietern überwachen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#security-advisories>13.11. FreeBSD Sicherheitshinweise</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#security-accounting>13.12. Prozess-Überwachung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#security-resourcelimits>13.13. Einschränkung von Ressourcen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/security/#security-sudo>13.14. Gemeinsame Administration mit Sudo</a></li></ul></li><li><input type=checkbox id=chapter-1a2a8e719703649c2c66d99aa7a25fd4 class=toggle>
<label class="icon cursor" for=chapter-1a2a8e719703649c2c66d99aa7a25fd4><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/jails/>Kapitel 14. Jails</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/jails/#jails-synopsis>14.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/jails/#jails-terms>14.2. Jails - Definitionen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/jails/#jails-build>14.3. Einrichtung und Verwaltung von Jails</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/jails/#jails-tuning>14.4. Feinabstimmung und Administration</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/jails/#jails-application>14.5. Mehrere Jails aktualisieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/jails/#jails-ezjail>14.6. Verwaltung von Jails mit ezjail</a></li></ul></li><li><input type=checkbox id=chapter-8f4620c77e572cbb58917911a33c73cf class=toggle>
<label class="icon cursor" for=chapter-8f4620c77e572cbb58917911a33c73cf><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/mac/>Kapitel 15. Verbindliche Zugriffskontrolle</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-synopsis>15.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-inline-glossary>15.2. Schlüsselbegriffe</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-initial>15.3. Erläuterung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-understandlabel>15.4. MAC Labels verstehen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-planning>15.5. Planung eines Sicherheitsmodells</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-modules>15.6. Modulkonfiguration</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-seeotheruids>15.7. Das MAC Modul seeotheruids</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-bsdextended>15.8. Das MAC Modul bsdextended</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-ifoff>15.9. Das MAC Modul ifoff</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-portacl>15.10. Das MAC Modul portacl</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-partition>15.11. Das MAC Modul partition</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-mls>15.12. Das MAC Modul Multi-Level Security</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-biba>15.13. Das MAC Modul Biba</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-lomac>15.14. Das MAC Modul LOMAC</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-implementing>15.15. Beispiel 1: Nagios in einer MAC Jail</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-userlocked>15.16. Beispiel 2: User Lock Down</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mac/#mac-troubleshoot>15.17. Fehler im MAC beheben</a></li></ul></li><li><input type=checkbox id=chapter-9598d66a76cb3182057b6bcd775149a0 class=toggle>
<label class="icon cursor" for=chapter-9598d66a76cb3182057b6bcd775149a0><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/audit/>Kapitel 16. Security Event Auditing</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/audit/#audit-synopsis>16.1. Einleitung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/audit/#audit-inline-glossary>16.2. Schlüsselbegriffe</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/audit/#audit-config>16.3. Audit Konfiguration</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/audit/#audit-administration>16.4. Audit-Trails</a></li></ul></li><li><input type=checkbox id=chapter-e1edcad13d9db6e8e4cb645d378ecfaf class=toggle>
<label class="icon cursor" for=chapter-e1edcad13d9db6e8e4cb645d378ecfaf><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/disks/>Kapitel 17. Speichermedien</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#disks-synopsis>17.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#disks-adding>17.2. Hinzufügen von Laufwerken</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#disks-growing>17.3. Partitionen vergrößern</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#usb-disks>17.4. USB Speichermedien</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#creating-cds>17.5. Erstellen und Verwenden von CDs</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#creating-dvds>17.6. DVDs benutzen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#floppies>17.7. Disketten benutzen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#backup-basics>17.8. Datensicherung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#disks-virtual>17.9. Speicherbasierte Laufwerke</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#snapshots>17.10. Schnappschüsse von Dateisystemen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#quotas>17.11. Disk Quotas</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#disks-encrypting>17.12. Partitionen verschlüsseln</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#swap-encrypting>17.13. Den Auslagerungsspeicher verschlüsseln</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/disks/#disks-hast>17.14. Highly Available Storage (HAST)</a></li></ul></li><li><input type=checkbox id=chapter-dde37901a0e0ea32745b67607854900f class=toggle>
<label class="icon cursor" for=chapter-dde37901a0e0ea32745b67607854900f><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/geom/>Kapitel 18. GEOM: Modulares Framework zur Plattentransformation</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-synopsis>18.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-striping>18.2. RAID0 - Striping</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-mirror>18.3. RAID1 - Spiegelung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-raid3>18.4. RAID3 - Byte-Level Striping mit dedizierter Parität</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-graid>18.5. Software RAID</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-ggate>18.6. GEOM Gate Netzwerk</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-glabel>18.7. Das Labeln von Laufwerken</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/geom/#geom-gjournal>18.8. UFS Journaling in GEOM</a></li></ul></li><li><input type=checkbox id=chapter-73e82560fcb7145b7c0e2ec47af8fc04 class=toggle>
<label class="icon cursor" for=chapter-73e82560fcb7145b7c0e2ec47af8fc04><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/zfs/>Kapitel 19. Das Z-Dateisystem (ZFS)</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-differences>19.1. Was ZFS anders macht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-quickstart>19.2. Schnellstartanleitung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-zpool>19.3. <code>zpool</code> Administration</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-zfs>19.4. <code>zfs</code> Administration</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-zfs-allow>19.5. Delegierbare Administration</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-advanced>19.6. Themen für Fortgeschrittene</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-links>19.7. Zusätzliche Informationen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/zfs/#zfs-term>19.8. ZFS-Eigenschaften und Terminologie</a></li></ul></li><li><input type=checkbox id=chapter-7af71270807eb7b70cd3eedc6577b254 class=toggle>
<label class="icon cursor" for=chapter-7af71270807eb7b70cd3eedc6577b254><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/filesystems/>Kapitel 20. Dateisystemunterstützung</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/filesystems/#filesystems-synopsis>20.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/filesystems/#filesystems-linux>20.2. Linux® Dateisysteme</a></li></ul></li><li><input type=checkbox id=chapter-375257268d95faaf87faf4f7a2e6aa67 class=toggle>
<label class="icon cursor" for=chapter-375257268d95faaf87faf4f7a2e6aa67><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/virtualization/>Kapitel 21. Virtualisierung</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-synopsis>21.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-guest-parallels>21.2. FreeBSD als Gast-Betriebssystem unter Parallels für Mac OS® X</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-guest-virtualpc>21.3. FreeBSD als Gast-Betriebssystem unter Virtual PC für Windows®</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-guest-vmware>21.4. FreeBSD als Gast-Betriebssystem unter VMware Fusion für Mac OS®</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-guest-virtualbox-guest-additions>21.5. FreeBSD als Gast mit VirtualBox™</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-host-virtualbox>21.6. FreeBSD als Host mit Virtualbox</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-host-bhyve>21.7. FreeBSD als Host mit bhyve</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/virtualization/#virtualization-host-xen>21.8. FreeBSD als Xen™-Host</a></li></ul></li><li><input type=checkbox id=chapter-49f1e96591c090304ea532012257f4ef class=toggle>
<label class="icon cursor" for=chapter-49f1e96591c090304ea532012257f4ef><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/l10n/>Kapitel 22. Lokalisierung – I18N/L10N einrichten und benutzen</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/l10n/#l10n-synopsis>22.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/l10n/#using-localization>22.2. Lokale Anpassungen benutzen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/l10n/#l10n-compiling>22.3. I18N-Programme</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/l10n/#lang-setup>22.4. Lokalisierung für einzelne Sprachen</a></li></ul></li><li><input type=checkbox id=chapter-dead2b4c5ea325dd390a9b0dccd8f763 class=toggle>
<label class="icon cursor" for=chapter-dead2b4c5ea325dd390a9b0dccd8f763><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/cutting-edge/>Kapitel 23. FreeBSD aktualisieren</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/cutting-edge/#updating-upgrading-synopsis>23.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate>23.2. FreeBSD-Update</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/cutting-edge/#updating-upgrading-documentation>23.3. Aktualisieren der Dokumentationssammlung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/cutting-edge/#current-stable>23.4. Einem Entwicklungszweig folgen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/cutting-edge/#makeworld>23.5. FreeBSD aus den Quellen aktualisieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/cutting-edge/#small-lan>23.6. Installation mehrerer Maschinen</a></li></ul></li><li><input type=checkbox id=chapter-29c1eeb0e9dedc487a98399e2737ee8a class=toggle>
<label class="icon cursor" for=chapter-29c1eeb0e9dedc487a98399e2737ee8a><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/dtrace/>Kapitel 24. DTrace</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/dtrace/#dtrace-synopsis>24.1. Überblick</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/dtrace/#dtrace-implementation>24.2. Unterschiede in der Implementierung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/dtrace/#dtrace-enable>24.3. Die DTrace Unterstützung aktivieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/dtrace/#dtrace-using>24.4. DTrace verwenden</a></li></ul></li><li><input type=checkbox id=chapter-913e72bfb3d6947b2869d3e9447a6eaa class=toggle>
<label class="icon cursor" for=chapter-913e72bfb3d6947b2869d3e9447a6eaa><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/usb-device-mode/>Kapitel 25. USB Gerätemodus</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/usb-device-mode/#usb-device-mode-synopsis>25.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/usb-device-mode/#usb-device-mode-terminals>25.2. Virtuelle serielle USB-Ports</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/usb-device-mode/#usb-device-mode-network>25.3. Netzwerkkarten im USB-Gerätemodus</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/usb-device-mode/#usb-device-mode-storage>25.4. Virtuelle USB-Speichergeräte</a></li></ul></li><li><input type=checkbox id=chapter-bbd25f9a194f9c39ca2d658c75767db5 class=toggle>
<label for=chapter-bbd25f9a194f9c39ca2d658c75767db5><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/partiv/>Teil IV. Netzwerke</a></li><li><input type=checkbox id=chapter-499dab596afd7ddac77e80295314e0dd class=toggle>
<label class="icon cursor" for=chapter-499dab596afd7ddac77e80295314e0dd><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/serialcomms/>Kapitel 26. Serielle Datenübertragung</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/serialcomms/#serial-synopsis>26.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/serialcomms/#serial>26.2. Begriffe und Hardware</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/serialcomms/#term>26.3. Terminals</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/serialcomms/#dialup>26.4. Einwählverbindungen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/serialcomms/#dialout>26.5. Verbindungen nach Außen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/serialcomms/#serialconsole-setup>26.6. Einrichten der seriellen Konsole</a></li></ul></li><li><input type=checkbox id=chapter-95e4571c48bee1cced5e84a538d302e3 class=toggle>
<label class="icon cursor" for=chapter-95e4571c48bee1cced5e84a538d302e3><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/ppp-and-slip/>Kapitel 27. PPP</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis>27.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ppp-and-slip/#userppp>27.2. PPP konfigurieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ppp-and-slip/#ppp-troubleshoot>27.3. Probleme bei PPP-Verbindungen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ppp-and-slip/#pppoe>27.4. PPP over Ethernet (PPPoE)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/ppp-and-slip/#pppoa>27.5. PPP over ATM (PPPoA)</a></li></ul></li><li><input type=checkbox id=chapter-f089ac726c401c9b4bd5c34a295e11bb class=toggle>
<label class="icon cursor" for=chapter-f089ac726c401c9b4bd5c34a295e11bb><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/mail/>Kapitel 28. Elektronische Post (E-Mail)</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-de-term>28.1. Terminologie</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-synopsis>28.2. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-using>28.3. E-Mail Komponenten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#sendmail>28.4. Sendmail-Konfigurationsdateien</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-changingmta>28.5. Wechseln des Mailübertragungs-Agenten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-trouble>28.6. Fehlerbehebung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-advanced>28.7. Weiterführende Themen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#outgoing-only>28.8. Ausgehende E-Mail über einen Relay versenden</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#SMTP-dialup>28.9. E-Mail über Einwahl-Verbindungen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#SMTP-Auth>28.10. SMTP-Authentifizierung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-agents>28.11. E-Mail-Programme</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-fetchmail>28.12. E-Mails mit fetchmail abholen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mail/#mail-procmail>28.13. E-Mails mit procmail filtern</a></li></ul></li><li><input type=checkbox id=chapter-6de4de3fe925639d4175ce4b6f8c1829 class=toggle checked>
<label class="icon cursor" for=chapter-6de4de3fe925639d4175ce4b6f8c1829><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/network-servers/>Kapitel 29. Netzwerkserver</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-servers-synopsis>29.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-inetd>29.2. Der inetd"Super-Server"</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-nfs>29.3. Network File System (NFS)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-nis>29.4. Network Information System (NIS)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-ldap>29.5. Lightweight Access Directory Protocol (LDAP)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-dhcp>29.6. Dynamic Host Configuration Protocol (DHCP)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-dns>29.7. Domain Name System (DNS)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-apache>29.8. Apache HTTP-Server</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-ftp>29.9. File Transfer Protocol (FTP)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-samba>29.10. Datei- und Druckserver für Microsoft® Windows®-Clients (Samba)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-ntp>29.11. Die Uhrzeit mit NTP synchronisieren</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/network-servers/#network-iscsi>29.12. iSCSI Initiator und Target Konfiguration</a></li></ul></li><li><input type=checkbox id=chapter-776d855c7b75e048f90b5c2c9b35ffe0 class=toggle>
<label class="icon cursor" for=chapter-776d855c7b75e048f90b5c2c9b35ffe0><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/firewalls/>Kapitel 30. Firewalls</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/firewalls/#firewalls-intro>30.1. Einführung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/firewalls/#firewalls-concepts>30.2. Firewallkonzepte</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/firewalls/#firewalls-pf>30.3. PF</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/firewalls/#firewalls-ipfw>30.4. IPFW</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/firewalls/#firewalls-ipf>30.5. IPFILTER (IPF)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/firewalls/#firewalls-blacklistd>30.6. Blacklistd</a></li></ul></li><li><input type=checkbox id=chapter-5b07f776a0e6155c1c89aa0d15610380 class=toggle>
<label class="icon cursor" for=chapter-5b07f776a0e6155c1c89aa0d15610380><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/>Kapitel 31. Weiterführende Netzwerkthemen</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#advanced-networking-synopsis>31.1. Übersicht</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-routing>31.2. Gateways und Routen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-wireless>31.3. Drahtlose Netzwerke</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-usb-tethering>31.4. USB Tethering</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-bluetooth>31.5. Bluetooth</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-bridging>31.6. LAN-Kopplung mit einer Bridge</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-aggregation>31.7. Link-Aggregation und Failover</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-diskless>31.8. Plattenloser Betrieb mit PXE</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-ipv6>31.9. IPv6</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#carp>31.10. Common Address Redundancy Protocol (CARP)</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/advanced-networking/#network-vlan>31.11. VLANs</a></li></ul></li><li><input type=checkbox id=chapter-171a77aa9d067a1024f849470e1f33e8 class=toggle>
<label for=chapter-171a77aa9d067a1024f849470e1f33e8><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/partv/>Teil V. Anhang</a></li><li><input type=checkbox id=chapter-8050f436a0a7986a4aaded93d8e49469 class=toggle>
<label class="icon cursor" for=chapter-8050f436a0a7986a4aaded93d8e49469><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/mirrors/>Anhang A. Bezugsquellen für FreeBSD</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/mirrors/#mirrors-cdrom>A.1. CD and DVD Sets</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mirrors/#mirrors-ftp>A.2. FTP-Server</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mirrors/#svn>A.3. Benutzen von Subversion</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/mirrors/#mirrors-rsync>A.4. Benutzen von rsync</a></li></ul></li><li><input type=checkbox id=chapter-128b630a8f88f158e7027fe6c2184d21 class=toggle>
<label class="icon cursor" for=chapter-128b630a8f88f158e7027fe6c2184d21><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/bibliography/>Anhang B. Bibliografie</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-freebsd>B.1. Bücher speziell für FreeBSD</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-userguides>B.2. Handbücher</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-adminguides>B.3. Administrations-Anleitungen</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-programmers>B.4. Programmierhandbücher</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-osinternals>B.5. Betriebssystem-Interna</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-security>B.6. Sicherheits-Anleitung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-hardware>B.7. Hardware-Anleitung</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-history>B.8. UNIX® Geschichte</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/bibliography/#bibliography-journals>B.9. Zeitschriften, Magazine und Journale</a></li></ul></li><li><input type=checkbox id=chapter-8bbb8867c46dac315e2253945d8c18a8 class=toggle>
<label class="icon cursor" for=chapter-8bbb8867c46dac315e2253945d8c18a8><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/eresources/>Anhang C. Ressourcen im Internet</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/eresources/#eresources-www>C.1. Webseiten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/eresources/#eresources-mail>C.2. Mailinglisten</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/eresources/#eresources-news>C.3. Usenet-News</a></li><li><a href=https://docs.freebsd.org/de/books/handbook/eresources/#eresources-web>C.4. Offizielle Spiegel</a></li></ul></li><li><input type=checkbox id=chapter-a80ea4f5a4480b8725422710f954ef36 class=toggle>
<label class="icon cursor" for=chapter-a80ea4f5a4480b8725422710f954ef36><a role=button></a></label><a href=https://docs.freebsd.org/de/books/handbook/pgpkeys/>Anhang D. OpenPGP-Schlüssel</a><ul><li><a href=https://docs.freebsd.org/de/books/handbook/pgpkeys/#pgpkeys-officers>D.1. Ansprechpartner</a></li></ul></li><li></li></ul></nav></div></aside><div class=book><div class=book-menu-mobile><label for=menu-control><span class=menu-control-button><i class="fa fa-list" aria-hidden=true title="Book menu"></i>
Book menu</span></label></div><h1 class=title>Kapitel 29. Netzwerkserver</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=toc-mobile><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#network-servers-synopsis>29.1. Übersicht</a></li><li><a href=#network-inetd>29.2. Der inetd"Super-Server"</a></li><li><a href=#network-nfs>29.3. Network File System (NFS)</a></li><li><a href=#network-nis>29.4. Network Information System (NIS)</a></li><li><a href=#network-ldap>29.5. Lightweight Access Directory Protocol (LDAP)</a></li><li><a href=#network-dhcp>29.6. Dynamic Host Configuration Protocol (DHCP)</a></li><li><a href=#network-dns>29.7. Domain Name System (DNS)</a></li><li><a href=#network-apache>29.8. Apache HTTP-Server</a></li><li><a href=#network-ftp>29.9. File Transfer Protocol (FTP)</a></li><li><a href=#network-samba>29.10. Datei- und Druckserver für Microsoft® Windows®-Clients (Samba)</a></li><li><a href=#network-ntp>29.11. Die Uhrzeit mit NTP synchronisieren</a></li><li><a href=#network-iscsi>29.12. iSCSI Initiator und Target Konfiguration</a></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody></div></div><div class=sect1><h2 id=network-servers-synopsis>29.1. Übersicht<a class=anchor href=#network-servers-synopsis></a></h2><div class=sectionbody><div class=paragraph><p>Dieses Kapitel beschreibt einige der häufiger verwendeten Netzwerkdienste auf UNIX®-Systemen. Dazu zählen Installation und Konfiguration sowie Test und Wartung verschiedener Netzwerkdienste. Zusätzlich sind im ganzen Kapitel Beispielkonfigurationen als Referenz enthalten.</p></div><div class=paragraph><p>Nachdem Sie dieses Kapitel gelesen haben, werden Sie</p></div><div class=ulist><ul><li><p>Den inetd-Daemon konfigurieren können.</p></li><li><p>Wissen, wie das Network File System (NFS) eingerichtet wird.</p></li><li><p>Einen Network Information Server (NIS) einrichten können, um damit Benutzerkonten im Netzwerk zu verteilen.</p></li><li><p>Wissen, wie Sie FreeBSD einrichten, um als LDAP-Server oder -Client zu agieren.</p></li><li><p>Rechner durch Nutzung von DHCP automatisch für ein Netzwerk konfigurieren können.</p></li><li><p>In der Lage sein, einen Domain Name Server (DNS) einzurichten.</p></li><li><p>Den ApacheHTTP-Server konfigurieren können.</p></li><li><p>Wissen, wie man einen File Transfer Protocol (FTP)-Server einrichtet.</p></li><li><p>Mit Samba einen Datei- und Druckserver für Windows®-Clients konfigurieren können.</p></li><li><p>Unter Nutzung des NTP-Protokolls Datum und Uhrzeit synchronisieren sowie einen Zeitserver installieren können.</p></li><li><p>Wissen, wie iSCSI eingerichtet wird.</p></li></ul></div><div class=paragraph><p>Dieses Kapitel setzt folgende Grundkenntnisse voraus:</p></div><div class=ulist><ul><li><p><span class=filename>/etc/rc</span>-Skripte.</p></li><li><p>Netzwerkterminologie</p></li><li><p>Installation zusätzlicher Software von Drittanbietern (<a href=../ports/#ports>Installieren von Anwendungen: Pakete und Ports</a>).</p></li></ul></div></div></div><div class=sect1><h2 id=network-inetd>29.2. Der inetd"Super-Server"<a class=anchor href=#network-inetd></a></h2><div class=sectionbody><div class=paragraph><p>Der <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a>-Daemon wird manchmal auch als "Internet Super-Server" bezeichnet, weil er Verbindungen für viele Dienste verwaltet. Anstatt mehrere Anwendungen zu starten, muss nur der inetd-Dienst gestartet werden. Wenn eine Verbindung für einen Dienst eintrifft, der von inetd verwaltet wird, bestimmt inetd, welches Programm für die eingetroffene Verbindung zuständig ist, aktiviert den entsprechenden Prozess und reicht den Socket an ihn weiter. Der Einsatz von inetd an Stelle viele einzelner Daemonen kann auf nicht komplett ausgelasteten Servern zu einer Verringerung der Systemlast führen.</p></div><div class=paragraph><p>inetd wird vor allem dazu verwendet, andere Daemonen zu aktivieren, einige Protokolle werden aber auch intern verwaltet. Dazu gehören chargen, auth, time, echo, discard sowie daytime.</p></div><div class=paragraph><p>Dieser Abschnitt beschreibt die Konfiguration von inetd.</p></div><div class=sect2><h3 id=network-inetd-conf>29.2.1. Konfigurationsdatei<a class=anchor href=#network-inetd-conf></a></h3><div class=paragraph><p>Die Konfiguration von inetd erfolgt über <span class=filename>/etc/inetd.conf</span> Jede Zeile dieser Datei repräsentiert eine Anwendung, die von inetd gestartet werden kann. In der Voreinstellung beginnt jede Zeile mit einem Kommentar (<code>#</code>), was bedeutet dass inetd keine Verbindungen für Anwendungen akzeptiert. Entfernen Sie den Kommentar am Anfang der Zeile, damit inetd Verbindungen für diese Anwendung entgegennimmt.</p></div><div class=paragraph><p>Nachdem Sie die Änderungen gespeichert haben, fügen Sie folgende Zeile in <span class=filename>/etc/rc.conf</span> ein, damit inetd bei Booten automatisch gestartet wird:</p></div><div class="literalblock programlisting"><div class=content><pre>inetd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Starten Sie jetzt inetd, so dass er Verbindungen für die von Ihnen konfigurierten Dienste entgegennimmt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service inetd start</span></code></pre></div></div><div class=paragraph><p>Sobald inetd gestartet ist, muss der Dienst benachrichtigt werden, wenn eine Änderung in <span class=filename>/etc/inetd.conf</span> gemacht wird:</p></div><div id=network-inetd-reread class=exampleblock><div class=title>Beispiel 1. Die Konfigurationsdatei von inetd neu einlesen</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service inetd reload</span></code></pre></div></div></div></div><div class=paragraph><p>Normalerweise müssen Sie lediglich den Kommentar vor der Anwendung entfernen. In einigen Situationen kann es jedoch sinnvoll sein, den Eintrag weiter zu bearbeiten.</p></div><div class=paragraph><p>Als Beispiel dient hier der Standardeintrag für <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpd&amp;sektion=8&amp;format=html">ftpd(8)</a> über IPv4:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp     stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -l</pre></div></div><div class=paragraph><p>Die sieben Spalten in diesem Eintrag haben folgende Bedeutung:</p></div><div class="literalblock programlisting"><div class=content><pre>service-name
socket-type
protocol
{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-ip]]]
user[:group][/login-class]
server-program
server-program-arguments</pre></div></div><div class=dlist><dl><dt class=hdlist1>service-name</dt><dd><p>Der Dienstname eines bestimmten Daemons. Er muss einem in <span class=filename>/etc/services</span> aufgelisteten Dienst entsprechen. Hier wird festgelegt, auf welchen Port inetd eingehende Verbindungen für diesen Dienst entgegennimmt. Wenn ein neuer Dienst benutzt wird, muss er zuerst in <span class=filename>/etc/services</span> eingetragen werden.</p></dd><dt class=hdlist1>socket-type</dt><dd><p>Entweder <code>stream</code>, <code>dgram</code>, <code>raw</code>, oder <code>seqpacket</code>. Nutzen Sie <code>stream</code> für TCP-Verbindungen und <code>dgram</code> für UDP-Dienste.</p></dd><dt class=hdlist1>protocol</dt><dd><p>Benutzen Sie eines der folgenden Protokolle:</p><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Protokoll</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp oder tcp4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP (IPv4)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp oder udp4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP (IPv4)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP (IPv6)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP (IPv6)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp46</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP sowohl unter IPv4 als auch unter IPv6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp46</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP sowohl unter IPv4 als auch unter IPv6</p></td></tr></tbody></table></dd><dt class=hdlist1>{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-ip]]]</dt><dd><p>In diesem Feld muss <code>wait</code> oder <code>nowait</code> angegeben werden. <code>max-child</code>, <code>max-connections-per-ip-per-minute</code> sowie <code>max-child-per-ip</code> sind optional.</p><div class=paragraph><p><code>wait|nowait</code> gibt an, ob der Dienst seinen eigenen Socket verwalten kann oder nicht. <code>dgram</code>-Sockets müssen <code>wait</code> verwenden, während Daemonen mit <code>stream</code>-Sockets, die normalerweise auch aus mehreren Threads bestehen, <code>nowait</code> verwenden sollten. <code>wait</code> gibt in der Regel mehrere Sockets an einen einzelnen Daemon weiter, während <code>nowait</code> für jeden neuen Socket einen Childdaemon erzeugt.</p></div><div class=paragraph><p>Die maximale Anzahl an Child-Daemonen, die inetd erzeugen kann, wird durch die Option <code>max-child</code> festgelegt. Wenn ein bestimmter Daemon 10 Instanzen benötigt, wird der Wert <code>/10</code> hinter die Option <code>nowait</code> gesetzt. Der Wert <code>/0</code> gibt an, das es keine Beschränkung gibt.</p></div><div class=paragraph><p><code>max-connections-per-ip-per-minute</code> legt die maximale Anzahl von Verbindungsversuchen pro Minute fest, die von einer bestimmten IP-Adresse aus unternommen werden können. Sobald das Limit erreicht ist, werden weitere Verbindungen von dieser IP-Adresse geblockt, bis die Minute vorüber ist. Ein Wert von <code>/10</code> würde die maximale Anzahl der Verindungsversuche einer bestimmten IP-Adresse auf zehn Versuche in der Minute beschränken. <code>max-child-per-ip</code> legt fest, wie viele Child-Daemonen von einer bestimmten IP-Adresse aus gestartet werden können. Durch diese Optionen lassen sich Ressourcenverbrauch sowie die Auswirkungen eines <code>Denial of Service (DoS)</code>-Angriffs begrenzen.</p></div><div class=paragraph><p>Ein Beispiel finden Sie in den Voreinstellungen für <a href="https://man.freebsd.org/cgi/man.cgi?query=fingerd&amp;sektion=8&amp;format=html">fingerd(8)</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>finger stream  tcp     nowait/3/10 nobody /usr/libexec/fingerd fingerd -k -s</pre></div></div></dd><dt class=hdlist1>user</dt><dd><p>Der Benutzername, unter dem der jeweilige Daemon laufen soll. Meistens laufen Daemonen als <code>root</code>, <code>daemon</code> oder <code>nobody</code>.</p></dd><dt class=hdlist1>server-program</dt><dd><p>Der vollständige Pfad des Daemons. Wird der Daemon von inetd intern bereitgestellt, verwenden Sie <code>internal</code>.</p></dd><dt class=hdlist1>server-program-arguments</dt><dd><p>Dieser Eintrag legt die Argumente fest, die bei der Aktivierung an den Daemon übergeben werden. Wenn es sich beim Daemon um einen internen Dienst handelt, verwenden Sie wiederum <code>internal</code>.</p></dd></dl></div></div><div class=sect2><h3 id=network-inetd-cmdline>29.2.2. Kommandozeilenoptionen<a class=anchor href=#network-inetd-cmdline></a></h3><div class=paragraph><p>Wie die meisten anderen Server-Daemonen lässt sich auch inetd über verschiedene Optionen steuern. In der Voreinstellung wird inetd mit <code>-wW -C 60</code> gestartet. Durch das Setzen dieser Werte wird das TCP-Wrapping für alle inetd-Dienste aktiviert. Zudem wird verhindert, dass eine IP-Adresse eine Dienst öfter als 60 Mal pro Minute anfordern kann.</p></div><div class=paragraph><p>Um die Voreinstellungen für inetd zu ändern, fügen Sie einen Eintrag für <code>inetd_flags</code> in <span class=filename>/etc/rc.conf</span> hinzu. Wenn inetd bereits ausgeführt wird, starten Sie ihn mit <code>service inetd restart</code> neu.</p></div><div class=paragraph><p>Die verfügbaren Optionen sind:</p></div><div class=dlist><dl><dt class=hdlist1>-c maximum</dt><dd><p>Legt die maximale Anzahl von parallelen Aufrufen eines Dienstes fest; in der Voreinstellung gibt es keine Einschränkung. Diese Einstellung kann für jeden Dienst durch Setzen des Parameters <code>max-child</code> in <span class=filename>/etc/inetd.conf</span> festgelegt werden.</p></dd><dt class=hdlist1>-C rate</dt><dd><p>Legt fest, wie oft ein Dienst von einer einzelnen IP-Adresse in einer Minute aufgerufen werden kann; in der Voreinstellung gibt es keine Einschränkung. Dieser Wert kann für jeden Dienst durch das Setzen des Parameters <code>max-connections-per-ip-per-minute</code> in <span class=filename>/etc/inetd.conf</span> festgelegt werden.</p></dd><dt class=hdlist1>-R rate</dt><dd><p>Legt fest, wie oft ein Dienst in der Minute aktiviert werden kann; in der Voreinstellung sind dies <code>256</code> Aktivierungen pro Minute. Ein Wert von <code>0</code> erlaubt unbegrenzt viele Aktivierungen.</p></dd><dt class=hdlist1>-s maximum</dt><dd><p>Legt fest, wie oft ein Dienst in der Minute von einer einzelnen IP-Adresse aus aktiviert werden kann; in der Voreinstellung gibt es hier keine Beschränkung. Diese Einstellung kann für jeden Dienst durch die Angabe von <code>max-child-per-ip</code> in <span class=filename>/etc/inetd.conf</span> angepasst werden.</p></dd></dl></div><div class=paragraph><p>Es sind noch weitere Optionen verfügbar. Eine vollständige Liste der Optionen finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a>.</p></div></div><div class=sect2><h3 id=network-inetd-security>29.2.3. Sicherheitsbedenken<a class=anchor href=#network-inetd-security></a></h3><div class=paragraph><p>Viele Daemonen, die von inetd verwaltet werden, sind nicht auf Sicherheit bedacht. Einige Damonen, wie beispielsweise fingerd, liefern Informationen, die für einen Angreifer nützlich sein könnten. Aktivieren Sie nur erforderliche Dienste und überwachen Sie das System auf übermäßige Verbindungsversuche. <code>max-connections-per-ip-per-minute</code>, <code>max-child</code> und <code>max-child-per-ip</code> können verwendet werden, um solche Angriffe zu begrenzen.</p></div><div class=paragraph><p>TCP-Wrapper ist in der Voreinstellung aktiviert. Lesen Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts_access&amp;sektion=5&amp;format=html">hosts_access(5)</a>, wenn Sie weitere Informationen zum Setzen von TCP-Beschränkungen für verschiedene von inetd aktivierte Daemonen benötigen.</p></div></div></div></div><div class=sect1><h2 id=network-nfs>29.3. Network File System (NFS)<a class=anchor href=#network-nfs></a></h2><div class=sectionbody><div class=paragraph><p>FreeBSD unterstützt das Netzwerkdateisystem NFS, das es einem Server erlaubt, Dateien und Verzeichnisse über ein Netzwerk mit Clients zu teilen. Mit NFS können Benutzer und Programme auf Daten entfernter Systeme zugreifen, und zwar so, als ob es sich um lokal gespeicherte Daten handeln würde.</p></div><div class=paragraph><p>Die wichtigsten Vorteile von NFS sind:</p></div><div class=ulist><ul><li><p>Daten, die sonst auf jeden Client dupliziert würden, können an einem zentralen Ort aufbewahrt, und von den Clients über das Netzwerk aufgerufen werden.</p></li><li><p>Verschiedene Clients können auf ein gemeinsames Verzeichnis <span class=filename>/usr/ports/distfiles</span> zugreifen. Die gemeinsame Nutzung dieses Verzeichnisses ermöglicht einen schnellen Zugriff auf die Quelldateien, ohne sie auf jede Maschine zu kopieren zu müssen.</p></li><li><p>In größeren Netzwerken ist es praktisch, einen zentralen NFS-Server einzurichten, auf dem die Heimatverzeichnisse der Benutzer gespeichert werden. Dadurch steht den Benutzern immer das gleiche Heimatverzeichnis zur Verfügung, unabhängig davon, an welchem Client im Netzwerk sie sich anmelden.</p></li><li><p>Die Verwaltung der NFS-Exporte wird vereinfacht. Zum Beispiel gibt es dann nur noch ein Dateisystem, für das Sicherheits- oder Backup-Richtlinien festgelegt werden müssen.</p></li><li><p>Wechselmedien können von anderen Maschinen im Netzwerk verwendet werden. Dies reduziert die Anzahl von Geräten im Netzwerk und bietet einen zentralen Ort für die Verwaltung. Oft ist es einfacher, über ein zentrales Installationsmedium Software auf mehreren Computern zu installieren.</p></li></ul></div><div class=paragraph><p>NFS besteht aus einem Server und einem oder mehreren Clients. Der Client greift über das Netzwerk auf die Daten zu, die auf dem Server gespeichert sind. Damit dies korrekt funktioniert, müssen einige Prozesse konfiguriert und gestartet werden:</p></div><div class=paragraph><p>Folgende Daemonen müssen auf dem Server ausgeführt werden:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Daemon</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>nfsd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der NFS-Daemon. Er bearbeitet Anfragen der NFS-Clients.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mountd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der NFS-Mount-Daemon. Er bearbeitet die Anfragen von <code>nfsd</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rpcbind</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Portmapper-Daemon. Durch ihn erkennen die NFS-Clients, welchen Port der NFS-Server verwendet.</p></td></tr></tbody></table><div class=paragraph><p>Der Einsatz von <a href="https://man.freebsd.org/cgi/man.cgi?query=nfsiod&amp;sektion=8&amp;format=html">nfsiod(8)</a> ist nicht zwingend erforderlich, kann aber die Leistung auf dem Client verbessern.</p></div><div class=sect2><h3 id=network-configuring-nfs>29.3.1. Konfiguration des Servers<a class=anchor href=#network-configuring-nfs></a></h3><div class=paragraph><p>Die Dateisysteme, die der NFS-Server exportieren soll, werden in <span class=filename>/etc/exports</span> festgelegt. Jede Zeile in dieser Datei beschreibt ein zu exportierendes Dateisystem, Clients, die darauf Zugriff haben sowie alle Zugriffsoptionen. Die Optionen eines auf einen anderen Rechner exportierten Dateisystems müssen alle in einer Zeile stehen. Wird in einer Zeile kein Rechner festgelegt, dürfen alle Clients im Netzwerk das exportierte Dateisystem einhängen.</p></div><div class=paragraph><p>Wie Dateisysteme exportiert werden, ist in der folgenden <span class=filename>/etc/exports</span> zu sehen. Diese Beispiele müssen natürlich an die Arbeitsumgebung und die Netzwerkkonfiguration angepasst werden. Es existieren viele verschiedene Optionen, allerdings werden hier nur wenige von ihnen erwähnt. Eine vollständige Liste der Optionen finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=exports&amp;sektion=5&amp;format=html">exports(5)</a>.</p></div><div class=paragraph><p>Dieses Beispiel exportiert <span class=filename>/cdrom</span> für drei Clients, <em>alpha</em>, <em>bravo</em> und <em>charlie</em>:</p></div><div class="literalblock programlisting"><div class=content><pre>/cdrom -ro alpha bravo charlie</pre></div></div><div class=paragraph><p>Die Option <code>-ro</code> kennzeichnet das exportierte Dateisystem als schreibgeschützt. Dadurch sind Clients nicht in der Lage, das exportierte Dateisystem zu verändern. Dieses Beispiel geht davon aus, dass die Hostnamen entweder über DNS oder über <span class=filename>/etc/hosts</span> aufgelöst werden können. Lesen Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;format=html">hosts(5)</a> falls das Netzwerk über keinen DNS-Server verfügt.</p></div><div class=paragraph><p>Das nächste Beispiel exportiert <span class=filename>/home</span> auf drei durch IP-Adressen bestimmte Clients. Diese Einstellung kann für Netzwerke ohne DNS-Server und <span class=filename>/etc/hosts</span> nützlich sein. Die Option <code>-alldirs</code> ermöglicht es, auch Unterverzeichnisse als Mountpunkte festzulegen. Dies bedeutet aber nicht, dass alle Unterverzeichnisse eingehängt werden, vielmehr wird es dem Client ermöglicht, nur diejenigen Verzeichnisse einzuhängen, die auch benötigt werden.</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/home  -alldirs  10.0.0.2 10.0.0.3 10.0.0.4</pre></div></div><div class=paragraph><p>Das nächste Beispiel exportiert <span class=filename>/a</span>, damit Clients von verschiedenen Domänen auf das Dateisystem zugreifen können. Die Option <code>-maproot=root</code> erlaubt es dem Benutzer <code>root</code> des Clients, als <code>root</code> auf das exportierte Dateisystem zu schreiben. Wenn diese Option nicht gesetzt ist, wird der <code>root</code>-Benutzer des Clients dem <code>nobody</code>-Konto des Servers zugeordnet und unterliegt somit den Zugriffsbeschränkungen dieses Kontos.</p></div><div class="literalblock programlisting"><div class=content><pre>/a  -maproot=root  host.example.com box.example.org</pre></div></div><div class=paragraph><p>Ein Client kann für jedes Dateisystem nur einmal definiert werden. Wenn beispielsweise <span class=filename>/usr</span> ein gesondertes Dateisystem ist, dann wären die folgenden Einträge falsch, da in beiden Einträgen der gleiche Rechner angegeben wird:</p></div><div class="literalblock programlisting"><div class=content><pre>#Nicht erlaubt, wenn /usr ein einziges Dateisystem ist
/usr/src   client
/usr/ports client</pre></div></div><div class=paragraph><p>Das richtige Format für eine solche Situation ist:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/src /usr/ports  client</pre></div></div><div class=paragraph><p>Das Folgende ist ein Beispiel für eine gültige Exportliste, in der <span class=filename>/usr</span> und <span class=filename>/exports</span> lokale Dateisysteme sind:</p></div><div class="literalblock programlisting"><div class=content><pre># Export src and ports to client01 and client02, but only
# client01 has root privileges on it
/usr/src /usr/ports -maproot=root    client01
/usr/src /usr/ports                  client02
# The client machines have root and can mount anywhere
# on /exports. Anyone in the world can mount /exports/obj read-only
/exports -alldirs -maproot=root      client01 client02
/exports/obj -ro</pre></div></div><div class=paragraph><p>Damit die vom NFS-Server benötigen Prozesse beim Booten gestartet werden, fügen Sie folgende Optionen in <span class=filename>/etc/rc.conf</span> hinzu:</p></div><div class="literalblock programlisting"><div class=content><pre>rpcbind_enable=&#34;YES&#34;
nfs_server_enable=&#34;YES&#34;
mountd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Der Server kann jetzt mit diesem Kommando gestartet werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service nfsd start</span></code></pre></div></div><div class=paragraph><p>Wenn der NFS-Server startet, wird auch mountd automatisch gestartet. Allerdings liest mountd <span class=filename>/etc/exports</span> nur, wenn der Server gestartet wird. Um nachfolgende Änderungen an <span class=filename>/etc/exports</span> wirksam werden zu lassen, kann mountd angewiesen werden, die Datei neu einzulesen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service mountd reload</span></code></pre></div></div></div><div class=sect2><h3 id=_konfiguration_des_clients>29.3.2. Konfiguration des Clients<a class=anchor href=#_konfiguration_des_clients></a></h3><div class=paragraph><p>Um den NFS-Client zu aktivieren, setzen Sie folgende Option in <span class=filename>/etc/rc.conf</span> auf jedem Client:</p></div><div class="literalblock programlisting"><div class=content><pre>nfs_client_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Der Client ist nun in der Lage, ein entferntes Dateisystem einzuhängen. In diesen Beispielen ist der Name des Servers <code>server</code> und der Name des Clients <code>client</code>. Fügen Sie folgenden Befehl aus, um das Verzeichnis <span class=filename>/home</span> vom <code>server</code> auf dem <code>client</code> ins Verzeichnis <span class=filename>/mnt</span> einzuhängen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount server:/home /mnt</span></code></pre></div></div><div class=paragraph><p>Die Dateien und Verzeichnisse in <span class=filename>/home</span> stehen dem Rechner <code>client</code> nun im Verzeichnis <span class=filename>/mnt</span> zur Verfügung.</p></div><div class=paragraph><p>Um ein entferntes Dateisystem bei jedem Systemstart automatisch einzuhängen, fügen Sie das Dateisystem in <span class=filename>/etc/fstab</span> ein:</p></div><div class="literalblock programlisting"><div class=content><pre>server:/home	/mnt	nfs	rw	0	0</pre></div></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;format=html">fstab(5)</a> enthält eine Beschreibung aller Optionen.</p></div></div><div class=sect2><h3 id=_dateien_sperren_locking>29.3.3. Dateien sperren (Locking)<a class=anchor href=#_dateien_sperren_locking></a></h3><div class=paragraph><p>Einige Anwendungen erfordern die Sperrung von Dateien, damit sie korrekt arbeiten. Um diese Sperre zu aktivieren, müssen diese Zeilen in <span class=filename>/etc/rc.conf</span> sowohl auf dem Client als auch auf dem Server hinzugefügt werden:</p></div><div class="literalblock programlisting"><div class=content><pre>rpc_lockd_enable=&#34;YES&#34;
rpc_statd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Danach starten Sie die beiden Anwendungen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service lockd start</span>
<span class=c># service statd start</span></code></pre></div></div><div class=paragraph><p>Wenn keine Dateisperren zwischen den NFS-Clients und dem NFS-Server benötigt werden, können Sie den NFS-Client durch die Übergabe der Option <code>-L</code> an mount zu einer lokalen Sperrung von Dateien zwingen. Weitere Details finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nfs&amp;sektion=8&amp;format=html">mount_nfs(8)</a>.</p></div></div><div class=sect2><h3 id=network-autofs>29.3.4. Automatisches Einhängen mit <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a><a class=anchor href=#network-autofs></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> wird seit FreeBSD 10.1-RELEASE unterstützt. Um die Funktionalität des automatischen Einhängens in älteren FreeBSD-Versionen zu benutzen, verwenden Sie stattdessen <a href="https://man.freebsd.org/cgi/man.cgi?query=amd&amp;sektion=8&amp;format=html">amd(8)</a>. In diesem Kapitel wird nur das automatische Einhängen mit Hilfe von <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> beschrieben.</p></div></td></tr></tbody></table></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> ist eine gebräuchliche Bezeichnung für verschiedene Komponenten, welche es erlauben, lokale und entfernte Dateisysteme automatisch einzuhängen, sobald auf eine Datei oder ein Verzeichnis in diesem Dateisystem zugegriffen wird. Es besteht aus einer Kernel-Komponente <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> und mehreren Benutzerprogrammen: <a href="https://man.freebsd.org/cgi/man.cgi?query=automount&amp;sektion=8&amp;format=html">automount(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=automountd&amp;sektion=8&amp;format=html">automountd(8)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=autounmountd&amp;sektion=8&amp;format=html">autounmountd(8)</a>. <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> ist eine Alternative für <a href="https://man.freebsd.org/cgi/man.cgi?query=amd&amp;sektion=8&amp;format=html">amd(8)</a> aus früheren FreeBSD-Versionen. <a href="https://man.freebsd.org/cgi/man.cgi?query=amd&amp;sektion=8&amp;format=html">amd(8)</a> steht nach wie vor zur Verfügung, da beide Programme ein unterschiedliches Format verwenden. Das Format welches <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> verwendet ist das gleiche wie bei anderen SVR4 Automountern, beispielsweise denen aus Solaris™, Mac OS® X und Linux®.</p></div><div class=paragraph><p>Das virtuelle <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a>-Dateisystem wird von <a href="https://man.freebsd.org/cgi/man.cgi?query=automount&amp;sektion=8&amp;format=html">automount(8)</a> in einen bestimmten Mountpunkt eingehängt. Dies geschieht gewöhnlich während des Bootens.</p></div><div class=paragraph><p>Jedes Mal, wenn ein Prozess versucht auf eine Datei unterhalb des <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a>-Mountpunkts zuzugreifen, wird der Kernel den <a href="https://man.freebsd.org/cgi/man.cgi?query=automountd&amp;sektion=8&amp;format=html">automountd(8)</a>-Daemon benachrichtigen und den aktuellen Prozess anhalten. Der <a href="https://man.freebsd.org/cgi/man.cgi?query=automountd&amp;sektion=8&amp;format=html">automountd(8)</a>-Daemon wird dann die Anfrage des Kernels bearbeiten und das entsprechende Dateisystem einhängen. Anschließend wird der Daemon den Kernel benachrichtigen, dass der angehaltene Prozess wieder freigegeben werden kann. Der <a href="https://man.freebsd.org/cgi/man.cgi?query=autounmountd&amp;sektion=8&amp;format=html">autounmountd(8)</a>-Daemon hängt automatisch Dateisysteme nach einiger Zeit ab, sofern sie nicht mehr verwendet werden.</p></div><div class=paragraph><p>Die primäre Konfigurationsdatei von autofs ist <span class=filename>/etc/auto_master</span>. Sie enthält die einzelnen Zuordnungen zu den Mountpunkten. Eine Erklärung zu <span class=filename>auto_master</span> und der Syntax für die Zuordnungen finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=auto_master&amp;sektion=5&amp;format=html">auto_master(5)</a>.</p></div><div class=paragraph><p>Eine spezielle Automounter Zuordnung wird in <span class=filename>/net</span> eingehängt. Wenn auf eine Datei in diesem Verzeichnis zugegriffen wird, hängt <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> einen bestimmten, entfernen Mountpunkt ein. Wenn beispielsweise auf eine Datei unterhalb von <span class=filename>/net/foobar/usr</span> zugegriffen werden soll, würde <a href="https://man.freebsd.org/cgi/man.cgi?query=automountd&amp;sektion=8&amp;format=html">automountd(8)</a> das exportierte Dateisystem <span class=filename>/usr</span> von dem Rechner <code>foobar</code> einhängen.</p></div><div class=exampleblock><div class=title>Beispiel 2. Ein exportiertes Dateisystem mit <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> in den Verzeichnisbaum einhängen</div><div class=content><div class=paragraph><p>In diesem Beispiel zeigt <code>showmount -e</code> die exportierten Dateisysteme des NFS-Servers <code>foobar</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% showmount <span class=nt>-e</span> foobar
Exports list on foobar:
/usr                               10.10.10.0
/a                                 10.10.10.0
% <span class=nb>cd</span> /net/foobar/usr</code></pre></div></div></div></div><div class=paragraph><p>Die Ausgabe von <code>showmount</code> zeigt das exportierte Dateisystem <span class=filename>/usr</span>. Wenn in das Verzeichnis <span class=filename>/host/foobar/usr</span> gewechselt wird, fängt <a href="https://man.freebsd.org/cgi/man.cgi?query=automountd&amp;sektion=8&amp;format=html">automountd(8)</a> die Anforderung ab und versucht, den Rechnernamen <code>foobar</code> aufzulösen. Gelingt dies, wird <a href="https://man.freebsd.org/cgi/man.cgi?query=automountd&amp;sektion=8&amp;format=html">automountd(8)</a> automatisch das exportierte Dateisystem einhängen.</p></div><div class=paragraph><p>Um <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> beim Booten zu aktivieren, fügen Sie diese Zeile in <span class=filename>/etc/rc.conf</span> ein:</p></div><div class="literalblock programlisting"><div class=content><pre>autofs_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Danach kann <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> gestartet werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service automount start</span>
<span class=c># service automountd start</span>
<span class=c># service autounmountd start</span></code></pre></div></div><div class=paragraph><p>Obwohl das Format von <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> das gleiche ist wie in anderen Betriebssystemen, kann es wünschenswert sein, Informationen von anderen Betriebssystemen zu Rate zu ziehen, wie dieses <a href=http://images.apple.com/business/docs/Autofs.pdf>Mac OS X Dokument</a>.</p></div><div class=paragraph><p>Weitere Informationen finden Sie in den Manualpages <a href="https://man.freebsd.org/cgi/man.cgi?query=automount&amp;sektion=8&amp;format=html">automount(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=automountd&amp;sektion=8&amp;format=html">automountd(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=autounmountd&amp;sektion=8&amp;format=html">autounmountd(8)</a> und <a href="https://man.freebsd.org/cgi/man.cgi?query=auto_master&amp;sektion=5&amp;format=html">auto_master(5)</a>.</p></div></div></div></div><div class=sect1><h2 id=network-nis>29.4. Network Information System (NIS)<a class=anchor href=#network-nis></a></h2><div class=sectionbody><div class=paragraph><p>Das Network Information System (NIS) wurde entwickelt, um UNIX®-Systeme zentral verwalten zu können. Dazu zählen beispielsweise Solaris™, HP-UX, AIX®, Linux®, NetBSD, OpenBSD und FreeBSD. NIS war ursprünglich als <em>Yellow Pages</em> bekannt, aus markenrechtlichen Gründen wurde der Name aber geändert. Dies ist der Grund, warum NIS-Kommandos mit <code>yp</code> beginnen.</p></div><div class=paragraph><p>Bei NIS handelt es sich um ein RPC-basiertes Client/Server-System. Eine Gruppe von Rechnern greift dabei innerhalb einer NIS-Domäne auf gemeinsame Konfigurationsdateien zu. Dies erlaubt es einem Systemadministrator, NIS-Clients mit minimalem Aufwand einzurichten, sowie Änderungen an der Systemkonfiguration von einem zentralen Ort aus durchzuführen.</p></div><div class=paragraph><p>FreeBSD verwendet die Version 2 des NIS-Protokolls.</p></div><div class=sect2><h3 id=_nis_begriffe_und_prozesse>29.4.1. NIS-Begriffe und -Prozesse<a class=anchor href=#_nis_begriffe_und_prozesse></a></h3><div class=paragraph><p>Tabelle 30.1 fasst die Begriffe und Anwenderprozesse zusammen, die von NIS verwendet werden:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 1. NIS Begriffe</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Begriff</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>NIS-Domänenname</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS-Masterserver und Clients benutzen einen gemeinsamen NIS-Domänennamen. In der Regel hat dieser Name nichts mit DNS zu tun.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=rpcbind&amp;sektion=8&amp;format=html">rpcbind(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dieser Dienst aktiviert RPC und muss gestartet sein, damit ein NIS-Server oder -Client ausgeführt werden kann.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=ypbind&amp;sektion=8&amp;format=html">ypbind(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dieser Dienst "bindet" einen NIS-Client an seinen NIS-Server. Der Client bezieht den NIS-Domänennamen vom System und stellt über das RPC-Protokoll eine Verbindung zum NIS-Server her. ypbind ist der zentrale Bestandteil der Client-Server-Kommunikation in einer NIS-Umgebung. Wird der Dienst auf einem Client beendet, ist dieser nicht mehr in der Lage, auf den NIS-Server zuzugreifen.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dies ist der Prozess für den NIS-Server. Wenn dieser Dienst nicht mehr läuft, kann der Server nicht mehr auf NIS-Anforderungen reagieren. Wenn ein Slaveserver existiert, kann dieser als Ersatz fungieren. Einige NIS-Systeme (allerdings nicht das von FreeBSD) versuchen allerdings erst gar nicht, sich mit einem anderen Server zu verbinden, wenn der Masterserver nicht mehr reagiert. Die einzige Lösung besteht darin, den Serverprozess oder den ypbind-Prozess auf dem Client neu zu starten.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=rpc.yppasswdd&amp;sektion=8&amp;format=html">rpc.yppasswdd(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dieser Prozess läuft nur auf dem NIS-Masterserver. Es handelt sich um einen Daemonprozess, der es NIS-Clients ermöglicht, ihre NIS-Passwörter zu ändern. Wenn dieser Daemon nicht läuft, müssen sich die Benutzer am NIS-Masterserver anmelden und ihre Passwörter dort ändern.</p></td></tr></tbody></table></div><div class=sect2><h3 id=_arten_von_nis_rechnern>29.4.2. Arten von NIS-Rechnern<a class=anchor href=#_arten_von_nis_rechnern></a></h3><div class=ulist><ul><li><p>NIS-Masterserver</p><div class=paragraph><p>Dieser Server dient als zentraler Speicherort für Rechnerkonfigurationen. Zudem verwaltet er die maßgebliche Kopie, der von den NIS-Clients gemeinsam verwendeten Dateien. <span class=filename>passwd</span>, <span class=filename>group</span>, sowie verschiedene andere von den Clients verwendete Dateien existieren auf dem Masterserver. Obwohl ein Rechner auch für mehrere NIS-Domänen als Masterserver fungieren kann, wird diese Art von Konfiguration nicht behandelt, da sich dieser Abschnitt auf eine relativ kleine NIS-Umgebung konzentriert.</p></div></li><li><p>NIS-Slaveserver</p><div class=paragraph><p>NIS-Slaveserver verwalten Kopien der Daten des NIS-Masterservers um Redundanz zu bieten. Zudem entlasten Slaveserver den Masterserver: NIS-Clients verbinden sich immer mit dem NIS-Server, welcher zuerst reagiert. Dieser Server kann auch ein Slaveserver sein.</p></div></li><li><p>NIS-Clients</p><div class=paragraph><p>NIS-Clients identifizieren sich gegenüber dem NIS-Server während der Anmeldung.</p></div></li></ul></div><div class=paragraph><p>Mit NIS können Informationen aus verschiedenen Dateien von mehreren Rechnern gemeinsam verwendet werden. <span class=filename>master.passwd</span>, <span class=filename>group</span>, und <span class=filename>hosts</span> werden oft gemeinsam über NIS verwendet. Immer, wenn ein Prozess auf einem Client auf Informationen zugreifen will, die normalerweise in lokalen Dateien vorhanden wären, wird stattdessen eine Anfrage an den NIS-Server gestellt, an den der Client gebunden ist.</p></div></div><div class=sect2><h3 id=_planung>29.4.3. Planung<a class=anchor href=#_planung></a></h3><div class=paragraph><p>Dieser Abschnitt beschreibt eine einfache NIS-Umgebung, welche aus 15 FreeBSD-Maschinen besteht, für die keine zentrale Verwaltung existiert. Jeder Rechner hat also eine eigene Version von <span class=filename>/etc/passwd</span> und <span class=filename>/etc/master.passwd</span>. Diese Dateien werden manuell synchron gehalten; wird ein neuer Benutzer angelegt, so muss dies auf allen fünfzehn Rechnern manuell erledigt werden.</p></div><div class=paragraph><p>In Zukunft soll die Konfiguration wie folgt aussehen:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Rechnername</th><th class="tableblock halign-left valign-top">IP-Adresse</th><th class="tableblock halign-left valign-top">Rechneraufgabe</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ellington</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS-Master</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>coltrane</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS-Slave</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>basie</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.4</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Workstation der Fakultät</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bird</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Clientrechner</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cli[1-11]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.[6-17]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Verschiedene andere Clients</p></td></tr></tbody></table><div class=paragraph><p>Wenn erstmalig ein NIS-Schema eingerichtet wird, sollte es im Voraus sorgfältig geplant werden. Unabhängig von der Größe des Netzwerks müssen einige Entscheidungen im Rahmen des Planungsprozesses getroffen werden.</p></div><div class=sect3><h4 id=_einen_nis_domänennamen_wählen>29.4.3.1. Einen NIS-Domänennamen wählen<a class=anchor href=#_einen_nis_domänennamen_wählen></a></h4><div class=paragraph><p>Wenn ein Client Informationen anfordert, ist in dieser Anforderung der Name der NIS-Domäne enthalten. Dadurch weiß jeder Server im Netzwerk, auf welche Anforderung er antworten muss. Stellen Sie sich den NIS-Domänennamen als einen Namen einer Gruppe von Rechnern vor.</p></div><div class=paragraph><p>Manchmal wird der Name der Internetdomäne auch für die NIS-Domäne verwendet. Dies ist allerdings nicht empfehlenswert, da es bei der Behebung von Problemen verwirrend sein kann. Der Name der NIS-Domäne sollte innerhalb des Netzwerks eindeutig sein. Hilfreich ist es, wenn der Name die Gruppe der in ihr zusammengefassten Rechner beschreibt. Die Kunstabteilung von Acme Inc. hätte daher vielleicht die NIS-Domäne "acme-art". Für dieses Beispiel wird der Name <code>test-domain</code> verwendet.</p></div><div class=paragraph><p>Es gibt jedoch auch Betriebssysteme, die als NIS-Domänennamen den Namen der Internetdomäne verwenden. Wenn dies für einen oder mehrere Rechner des Netzwerks zutrifft, <em>muss</em> der Name der Internetdomäne als NIS-Domänennamen verwendet werden.</p></div></div><div class=sect3><h4 id=_anforderungen_an_den_server>29.4.3.2. Anforderungen an den Server<a class=anchor href=#_anforderungen_an_den_server></a></h4><div class=paragraph><p>Bei der Wahl des NIS-Servers müssen einige Dinge beachtet werden. Da die NIS-Clients auf die Verfügbarkeit des Servers angewiesen sind, sollten Sie einen Rechner wählen, der nicht regelmäßig neu gestartet werden muss. Der NIS-Server sollte idealerweise ein alleinstehender Rechner sein, dessen einzige Aufgabe es ist, als NIS-Server zu dienen. Wenn das Netzwerk nicht zu stark ausgelastet ist, ist es auch möglich, den NIS-Server als weiteren Dienst auf einem anderen Rechner laufen zu lassen. Wenn jedoch ein NIS-Server ausfällt, wirkt sich dies negativ auf <em>alle</em> NIS-Clients aus.</p></div></div></div><div class=sect2><h3 id=_einen_nis_masterserver_konfigurieren>29.4.4. Einen NIS-Masterserver konfigurieren<a class=anchor href=#_einen_nis_masterserver_konfigurieren></a></h3><div class=paragraph><p>Die verbindlichen Kopien aller NIS-Dateien befinden sich auf dem Masterserver. Die Datenbanken, in denen die Informationen gespeichert sind, bezeichnet man als NIS-Maps. Unter FreeBSD werden diese Maps unter <span class=filename>/var/yp/[domainname]</span> gespeichert, wobei <span class=filename>[domainname]</span> der Name der NIS-Domäne ist. Da ein NIS-Server mehrere Domänen verwalten kann, können auch mehrere Verzeichnisse vorhanden sein. Jede Domäne verfügt über ein eigenes Verzeichnis sowie einen eigenen, von anderen Domänen unabhängigen Satz von NIS-Maps.</p></div><div class=paragraph><p>NIS-Master- und Slaveserver verwenden <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a>, um NIS-Anfragen zu bearbeiten. Dieser Daemon ist für eingehende Anfragen der NIS-Clients verantwortlich. Er ermittelt aus der angeforderten Domäne und Map einen Pfad zur entsprechenden Datenbank und sendet die angeforderten Daten von der Datenbank zum Client.</p></div><div class=paragraph><p>Abhängig von den Anforderungen ist die Einrichtung eines NIS-Masterservers relativ einfach, da NIS von FreeBSD bereits in der Standardkonfiguration unterstützt wird. Es kann durch folgende Zeilen in <span class=filename>/etc/rc.conf</span> aktiviert werden:</p></div><div class="literalblock programlisting"><div class=content><pre>nisdomainname=&#34;test-domain&#34;	 <i class=conum data-value=1></i><b>(1)</b>
nis_server_enable=&#34;YES&#34;		<i class=conum data-value=2></i><b>(2)</b>
nis_yppasswdd_enable=&#34;YES&#34; <i class=conum data-value=3></i><b>(3)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Diese Zeile setzt den NIS-Domänennamen auf <code>test-domain</code>.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Dadurch werden die NIS-Serverprozesse beim Systemstart automatisch ausgeführt.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Durch diese Zeile wird der <a href="https://man.freebsd.org/cgi/man.cgi?query=rpc.yppasswdd&amp;sektion=8&amp;format=html">rpc.yppasswdd(8)</a>-Daemon aktiviert, der die Änderung von NIS-Passwörtern von einem Client aus ermöglicht.</td></tr></tbody></table></div><div class=paragraph><p>Wird ypserv in einer Multi-Serverdomäne verwendet, in der NIS-Server gleichzeitig als NIS-Clients arbeiten, ist es eine gute Idee, diese Server zu zwingen, sich an sich selbst zu binden. Damit wird verhindert, dass Bindeanforderungen gesendet werden und sich die Server gegenseitig binden. Sonst könnten seltsame Fehler auftreten, wenn ein Server ausfällt, auf den andere Server angewiesen sind. Letztlich werden alle Clients einen Timeout melden, und versuchen, sich an andere Server zu binden. Die dadurch entstehende Verzögerung kann beträchtlich sein. Außerdem kann der Fehler erneut auftreten, da sich die Server wiederum aneinander binden könnten.</p></div><div class=paragraph><p>Server, die auch als Client arbeiten, können durch das Hinzufügen der folgenden Zeilen in <span class=filename>/etc/rc.conf</span> zu gezwungen werden, sich an einen bestimmten Server zu binden:</p></div><div class="literalblock programlisting"><div class=content><pre>nis_client_enable=&#34;YES&#34; <i class=conum data-value=1></i><b>(1)</b>
nis_client_flags=&#34;-S test-domain,server&#34; <i class=conum data-value=2></i><b>(2)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Ermöglicht die Aktivierung der Client-Komponenten.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Diese Zeile setzt den NIS-Domain Namen <code>test-domain</code> und bindet sich an sich selbst.</td></tr></tbody></table></div><div class=paragraph><p>Nachdem die Parameter konfiguriert wurden, muss noch <code>/etc/netstart</code> ausgeführt werden, um alles entsprechend den Vorgaben in <span class=filename>/etc/rc.conf</span> einzurichten. Bevor die NIS-Maps einrichtet werden können, muss der <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a>-Daemon manuell gestartet werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ypserv start</span></code></pre></div></div><div class=sect3><h4 id=_die_nis_maps_initialisieren>29.4.4.1. Die NIS-Maps initialisieren<a class=anchor href=#_die_nis_maps_initialisieren></a></h4><div class=paragraph><p>NIS-Maps Sie werden am NIS-Masterserver aus den Konfigurationsdateien unter <span class=filename>/etc</span> erzeugt. Einzige Ausnahme: <span class=filename>/etc/master.passwd</span>. Dies verhindert, dass die Passwörter für <code>root</code>- oder andere Administratorkonten an alle Server in der NIS-Domäne verteilt werden. Deshalb werden die primären Passwort-Dateien konfiguriert, bevor die NIS-Maps initialisiert werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp /etc/master.passwd /var/yp/master.passwd</span>
<span class=c># cd /var/yp</span>
<span class=c># vi master.passwd</span></code></pre></div></div><div class=paragraph><p>Es ist ratsam, alle Einträge für Systemkonten sowie Benutzerkonten, die nicht an die NIS-Clients weitergegeben werden sollen, wie beispielsweise <code>root</code> und weitere administrative Konten, zu entfernen.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Stellen Sie sicher, dass <span class=filename>/var/yp/master.passwd</span> weder von der Gruppe noch von der Welt gelesen werden kann, indem Sie Zugriffsmodus auf <code>600</code> einstellen.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Nun können die NIS-Maps initialisiert werden. FreeBSD verwendet dafür das Skript <a href="https://man.freebsd.org/cgi/man.cgi?query=ypinit&amp;sektion=8&amp;format=html">ypinit(8)</a>. Geben Sie <code>-m</code> und den NIS-Domänennamen an, wenn Sie NIS-Maps für den Masterserver erzeugen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# ypinit <span class=nt>-m</span> test-domain
Server Type: MASTER Domain: test-domain
Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.
Do you want this procedure to quit on non-fatal errors? <span class=o>[</span>y/n: n] n
Ok, please remember to go back and redo manually whatever fails.
If not, something might not work.
At this point, we have to construct a list of this domains YP servers.
rod.darktech.org is already known as master server.
Please <span class=k>continue </span>to add any slave servers, one per line. When you are
<span class=k>done </span>with the list, <span class=nb>type </span>a &lt;control D&gt;.
master server   :  ellington
next host to add:  coltrane
next host to add:  ^D
The current list of NIS servers looks like this:
ellington
coltrane
Is this correct?  <span class=o>[</span>y/n: y] y

<span class=o>[</span>..output from map generation..]

NIS Map update completed.
ellington has been setup as an YP master server without any errors.</code></pre></div></div><div class=paragraph><p>Dadurch erzeugt <code>ypinit</code><span class=filename>/var/yp/Makefile</span> aus <span class=filename>/var/yp/Makefile.dist</span>. Diese Datei geht in der Voreinstellung davon aus, dass in einer NIS-Umgebung mit nur einem Server gearbeitet wird und dass alle Clients unter FreeBSD laufen. Da <code>test-domain</code> aber auch über einen Slaveserver verfügt, muss <span class=filename>/var/yp/Makefile</span> entsprechend angepasst werden, sodass es mit einem Kommentar (<code>#</code>) beginnt:</p></div><div class="literalblock programlisting"><div class=content><pre>NOPUSH = &#34;True&#34;</pre></div></div></div><div class=sect3><h4 id=_neue_benutzer_hinzufügen>29.4.4.2. Neue Benutzer hinzufügen<a class=anchor href=#_neue_benutzer_hinzufügen></a></h4><div class=paragraph><p>Jedes Mal, wenn ein neuer Benutzer angelegt wird, muss er am NIS-Masterserver hinzugefügt und die NIS-Maps anschließend neu erzeugt werden. Wird dieser Punkt vergessen, kann sich der neue Benutzer <em>nur</em> am NIS-Masterserver anmelden. Um beispielsweise den neuen Benutzer <code>jsmith</code> zur Domäne <code>test-domain</code> hinzufügen wollen, müssen folgende Kommandos auf dem Masterserver ausgeführt werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pw useradd jsmith</span>
<span class=c># cd /var/yp</span>
<span class=c># make test-domain</span></code></pre></div></div><div class=paragraph><p>Statt <code>pw useradd jsmith</code> kann auch <code>adduser jsmith</code> verwendet werden.</p></div></div></div><div class=sect2><h3 id=_einen_nis_slaveserver_einrichten>29.4.5. Einen NIS-Slaveserver einrichten<a class=anchor href=#_einen_nis_slaveserver_einrichten></a></h3><div class=paragraph><p>Um einen NIS-Slaveserver einzurichten, melden Sie sich am Slaveserver an und bearbeiten Sie <span class=filename>/etc/rc.conf</span> analog zum Masterserver. Erzeugen Sie aber keine NIS-Maps, da diese bereits auf dem Server vorhanden sind. Wenn <code>ypinit</code> auf dem Slaveserver ausgeführt wird, benutzen Sie <code>-s</code> (Slave) statt <code>-m</code> (Master). Diese Option benötigt den Namen des NIS-Masterservers und den Domänennamen, wie in diesem Beispiel zu sehen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>coltrane# ypinit <span class=nt>-s</span> ellington test-domain

Server Type: SLAVE Domain: test-domain Master: ellington

Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.

Do you want this procedure to quit on non-fatal errors? <span class=o>[</span>y/n: n]  n

Ok, please remember to go back and redo manually whatever fails.
If not, something might not work.
There will be no further questions. The remainder of the procedure
should take a few minutes, to copy the databases from ellington.
Transferring netgroup...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byuser...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byhost...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring group.bygid...
ypxfr: Exiting: Map successfully transferred
Transferring group.byname...
ypxfr: Exiting: Map successfully transferred
Transferring services.byname...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.byname...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.byname...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring netid.byname...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring ypservers...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byname...
ypxfr: Exiting: Map successfully transferred

coltrane has been setup as an YP slave server without any errors.
Remember to update map ypservers on ellington.</code></pre></div></div><div class=paragraph><p>Hierbei wird auf dem Slaveserver ein Verzeichnis namens <span class=filename>/var/yp/test-domain</span> erstellt, welches Kopien der NIS-Masterserver-Maps enthält. Durch hinzufügen der folgenden Zeilen in <span class=filename>/etc/crontab</span> wird der Slaveserver angewiesen, seine Maps mit den Maps des Masterservers zu synchronisieren:</p></div><div class="literalblock programlisting"><div class=content><pre>20      *       *       *       *       root   /usr/libexec/ypxfr passwd.byname
21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid</pre></div></div><div class=paragraph><p>Diese Einträge sind nicht zwingend notwendig, da der Masterserver automatisch versucht, alle Änderungen seiner NIS-Maps an seine Slaveserver weiterzugeben. Da Passwortinformationen aber auch für nur vom Slaveserver abhängige Systeme vital sind, ist es eine gute Idee, diese Aktualisierungen zu erzwingen. Besonders wichtig ist dies in stark ausgelasteten Netzen, in denen Map-Aktualisierungen unvollständig sein könnten.</p></div><div class=paragraph><p>Um die Konfiguration abzuschließen, führen Sie <code>/etc/netstart</code> auf dem Slaveserver aus, um die NIS-Dienste erneut zu starten.</p></div></div><div class=sect2><h3 id=_einen_nis_client_einrichten>29.4.6. Einen NIS-Client einrichten<a class=anchor href=#_einen_nis_client_einrichten></a></h3><div class=paragraph><p>Ein NIS-Client <code>bindet</code> sich unter Verwendung von <code>ypbind</code> an einen NIS-Server. Dieser Daemon sendet RPC-Anfragen auf dem lokalen Netzwerk. Diese Anfragen legen den Namen der Domäne fest, die auf dem Client konfiguriert ist. Wenn der Server der entsprechenden Domäne eine solche Anforderung erhält, schickt er eine Antwort an <code>ypbind</code>, das wiederum die Adresse des Servers speichert. Wenn mehrere Server verfügbar sind, verwendet der Client die erste erhaltene Adresse und richtet alle Anfragen an genau diesen Server. <code>ypbind</code> "pingt" den Server gelegentlich an, um sicherzustellen, dass der Server funktioniert. Antwortet der Server innerhalb eines bestimmten Zeitraums nicht (Timeout), markiert <code>ypbind</code> die Domäne als ungebunden und beginnt erneut, RPCs über das Netzwerk zu verteilen, um einen anderen Server zu finden.</p></div><div class=paragraph><p>Einen FreeBSD-Rechner als NIS-Client einrichten:</p></div><div class="olist arabic procedure"><ol class=arabic><li><p>Fügen Sie folgende Zeilen in <span class=filename>/etc/rc.conf</span> ein, um den NIS-Domänennamen festzulegen, und um <a href="https://man.freebsd.org/cgi/man.cgi?query=ypbind&amp;sektion=8&amp;format=html">ypbind(8)</a> bei der Initialisierung des Netzwerks zu starten:</p><div class="literalblock programlisting"><div class=content><pre>nisdomainname=&#34;test-domain&#34;
nis_client_enable=&#34;YES&#34;</pre></div></div></li><li><p>Um alle Passworteinträge des NIS-Servers zu importieren, löschen Sie alle Benutzerkonten in <span class=filename>/etc/master.passwd</span> mit <code>vipw</code>. Denken Sie daran, zumindest ein lokales Benutzerkonto zu behalten. Dieses Konto sollte außerdem Mitglied der Gruppe <code>wheel</code> sein. Wenn es mit NIS Probleme gibt, können Sie diesen Zugang verwenden, um sich als Superuser anzumelden und das Problem zu beheben. Bevor Sie die Änderungen speichern, fügen Sie folgende Zeile am Ende der Datei hinzu:</p><div class="literalblock programlisting"><div class=content><pre>+:::::::::</pre></div></div><div class=paragraph><p>Diese Zeile legt für alle gültigen Benutzerkonten der NIS-Server-Maps einen Zugang an. Es gibt verschiedene Wege, den NIS-Client durch Änderung dieser Zeile zu konfigurieren. Eine Methode wird in <a href=#network-netgroups>Netzgruppen verwenden</a> beschrieben. Weitere detaillierte Informationen finden Sie im Buch <code>Managing NFS and NIS</code> vom O’Reilly Verlag.</p></div></li><li><p>Um alle möglichen Gruppeneinträge vom NIS-Server zu importieren, fügen Sie folgende Zeile in <span class=filename>/etc/group</span> ein:</p><div class="literalblock programlisting"><div class=content><pre>+:*::</pre></div></div></li></ol></div><div class=paragraph><p>Um den NIS-Client direkt zu starten, führen Sie als Superuser die folgenden Befehle aus:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/netstart</span>
<span class=c># service ypbind start</span></code></pre></div></div><div class=paragraph><p>Danach sollte bei der Eingabe von <code>ypcat passwd</code> auf dem Client die <code>passwd-Map</code> des NIS-Servers angezeigt werden.</p></div></div><div class=sect2><h3 id=_sicherheit_unter_nis>29.4.7. Sicherheit unter NIS<a class=anchor href=#_sicherheit_unter_nis></a></h3><div class=paragraph><p>Da RPC ein Broadcast-basierter Dienst ist, kann jedes System innerhalb der Domäne mittels ypbind den Inhalt der NIS-Maps abrufen. Um nicht autorisierte Transaktionen zu verhindern, unterstützt <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> eine Funktion namens "securenets", durch die der Zugriff auf bestimmte Rechner beschränkt werden kann. In der Voreinstellung sind diese Informationen in <span class=filename>/var/yp/securenets</span> gespeichert, es sei denn, <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> wurde mit der Option <code>-p</code> und einem alternativen Pfad gestartet. Diese Datei enthält Einträge, die aus einer Netzwerkadresse und einer Netzmaske bestehen. Kommentarzeilen beginnen mit "#". <span class=filename>/var/yp/securnets</span> könnte beispielsweise so aussehen:</p></div><div class="literalblock programlisting"><div class=content><pre># allow connections from local host -- mandatory
127.0.0.1     255.255.255.255
# allow connections from any host
# on the 192.168.128.0 network
192.168.128.0 255.255.255.0
# allow connections from any host
# between 10.0.0.0 to 10.0.15.255
# this includes the machines in the testlab
10.0.0.0      255.255.240.0</pre></div></div><div class=paragraph><p>Wenn <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> eine Anforderung von einer zu diesen Regeln passenden Adresse erhält, wird die Anforderung bearbeitet. Gibt es keine passende Regel, wird die Anforderung ignoriert und eine Warnmeldung aufgezeichnet. Wenn <span class=filename>securenets</span> nicht existiert, erlaubt <code>ypserv</code> Verbindungen von jedem Rechner.</p></div><div class=paragraph><p><a href=../security/#tcpwrappers>TCP Wrapper</a> beschreibt eine alternative Methode zur Zugriffskontrolle. Obwohl beide Methoden einige Sicherheit gewähren, sind sie anfällig für "IP-Spoofing"-Angriffe. Der NIS-Verkehr sollte daher von einer Firewall blockiert werden.</p></div><div class=paragraph><p>Server, die <span class=filename>securenets</span> verwenden, können Schwierigkeiten bei der Anmeldung von NIS-Clients haben, die ein veraltetes TCP/IP-Subsystem besitzen. Einige dieser TCP/IP-Subsysteme setzen alle Rechnerbits auf Null, wenn sie einen <code>Broadcast</code> durchführen oder können die Subnetzmaske nicht auslesen, wenn sie die Broadcast-Adresse berechnen. Einige Probleme können durch Änderungen der Clientkonfiguration behoben werden. Andere hingegen lassen sich nur durch das Entfernen des betreffenden Rechners aus dem Netzwerk oder den Verzicht auf <span class=filename>securenets</span> umgehen.</p></div><div class=paragraph><p>Die Verwendung der TCP-Wrapper verlangsamt die Reaktion des NIS-Servers. Diese zusätzliche Reaktionszeit kann in Clientprogrammen zu Timeouts führen. Dies vor allem in Netzwerken, die stark ausgelastet sind, oder nur über langsame NIS-Server verfügen. Wenn ein oder mehrere Clients dieses Problem aufweisen, sollten Sie die betreffenden Clients in NIS-Slaveserver umwandeln, und diese an sich selbst binden.</p></div><div class=sect3><h4 id=_bestimmte_benutzer_an_der_anmeldung_hindern>29.4.7.1. Bestimmte Benutzer an der Anmeldung hindern<a class=anchor href=#_bestimmte_benutzer_an_der_anmeldung_hindern></a></h4><div class=paragraph><p>In diesem Beispiel gibt es innerhalb der NIS-Domäne den Rechner <code>basie</code>, der nur für Mitarbeiter der Fakultät bestimmt ist. Die <span class=filename>passwd</span> Datenbank des NIS-Masterservers enthält Benutzerkonten sowohl für Fakultätsmitarbeiter als auch für Studenten. Dieser Abschnitt beschreibt, wie Sie den Mitarbeitern der Fakultät die Anmeldung am System ermöglichen, während den Studenten die Anmeldung verweigert wird.</p></div><div class=paragraph><p>Es gibt eine Möglichkeit, bestimmte Benutzer an der Anmeldung an einem bestimmten Rechner zu hindern, selbst wenn diese in der NIS-Datenbank vorhanden sind. Dazu kann mit <code>vipw</code> der Eintrag <code>-<em>Benutzername</em></code> und die richtige Anzahl von Doppelpunkten an das Ende von <span class=filename>/etc/master.passwd</span> gesetzt werden, wobei <em>Benutzername</em> der zu blockierende Benutzername ist. Die Zeile mit dem geblockten Benutzer muss dabei vor der <code>+</code> Zeile, für zugelassene Benutzer stehen. In diesem Beispiel wird die Anmeldung für den Benutzer <code>bill</code> am Rechner <code>basie</code> blockiert:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>basie# <span class=nb>cat</span> /etc/master.passwd
root:[password]:0:0::0:0:The super-user:/root:/bin/csh
toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh
daemon:<span class=k>*</span>:1:1::0:0:Owner of many system processes:/root:/usr/sbin/nologin
operator:<span class=k>*</span>:2:5::0:0:System &amp;:/:/usr/sbin/nologin
bin:<span class=k>*</span>:3:7::0:0:Binaries Commands and Source,,,:/:/usr/sbin/nologin
<span class=nb>tty</span>:<span class=k>*</span>:4:65533::0:0:Tty Sandbox:/:/usr/sbin/nologin
kmem:<span class=k>*</span>:5:65533::0:0:KMem Sandbox:/:/usr/sbin/nologin
games:<span class=k>*</span>:7:13::0:0:Games pseudo-user:/usr/games:/usr/sbin/nologin
news:<span class=k>*</span>:8:8::0:0:News Subsystem:/:/usr/sbin/nologin
man:<span class=k>*</span>:9:9::0:0:Mister Man Pages:/usr/shared/man:/usr/sbin/nologin
<span class=nb>bind</span>:<span class=k>*</span>:53:53::0:0:Bind Sandbox:/:/usr/sbin/nologin
uucp:<span class=k>*</span>:66:66::0:0:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico
xten:<span class=k>*</span>:67:67::0:0:X-10 daemon:/usr/local/xten:/usr/sbin/nologin
pop:<span class=k>*</span>:68:6::0:0:Post Office Owner:/nonexistent:/usr/sbin/nologin
nobody:<span class=k>*</span>:65534:65534::0:0:Unprivileged user:/nonexistent:/usr/sbin/nologin
<span class=nt>-bill</span>:::::::::
+:::::::::

basie#</code></pre></div></div></div></div><div class=sect2><h3 id=network-netgroups>29.4.8. Netzgruppen verwenden<a class=anchor href=#network-netgroups></a></h3><div class=paragraph><p>Bestimmten Benutzern die Anmeldung an einzelnen Systemen zu verweigern, kann in großen Netzwerken schnell unübersichtlich werden. Dadurch verlieren Sie den Hauptvorteil von NIS: die <em>zentrale</em> Verwaltung.</p></div><div class=paragraph><p>Netzgruppen wurden entwickelt, um große, komplexe Netzwerke mit Hunderten Benutzern und Rechnern zu verwalten. Ihre Aufgabe ist vergleichbar mit UNIX® Gruppen. Die Hauptunterschiede sind das Fehlen einer numerischen ID sowie die Möglichkeit, Netzgruppen zu definieren, die sowohl Benutzer als auch andere Netzgruppen enthalten.</p></div><div class=paragraph><p>Um das Beispiel in diesem Kapitel fortzuführen, wird die NIS-Domäne um zusätzliche Benutzer und Rechner erweitert:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 2. Zusätzliche Benutzer</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Benutzername(n)</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>alpha</code>, <code>beta</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mitarbeiter der IT-Abteilung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>charlie</code>, <code>delta</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lehrlinge der IT-Abteilung</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>echo</code>, <code>foxtrott</code>, <code>golf</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mitarbeiter</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>able</code>, <code>baker</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Praktikanten</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 3. Zusätzliche Rechner</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Rechnername(n)</th><th class="tableblock halign-left valign-top">Beschreibung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>war</code>, <code>death</code>, <code>famine</code>, <code>pollution</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nur Mitarbeiter der IT-Abteilung dürfen sich an diesen Rechnern anmelden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>pride</code>, <code>greed</code>, <code>envy</code>, <code>wrath</code>, <code>lust</code>, <code>sloth</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nur Mitarbeiter und Lehrlinge der IT-Abteilung dürfen sich auf diesen Rechnern anmelden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>one</code>, <code>two</code>, <code>three</code>, <code>four</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gewöhnliche Arbeitsrechner für Mitarbeiter.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>trashcan</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein sehr alter Rechner ohne kritische Daten. Sogar Praktikanten dürfen diesen Rechner verwenden.</p></td></tr></tbody></table><div class=paragraph><p>Bei der Verwendung von Netzgruppen wird jeder Benutzer einer oder mehreren Netzgruppen zugewiesen und die Anmeldung wird dann für die Netzgruppe erlaubt oder verwehrt. Wenn ein neuer Rechner hinzugefügt wird, müssen die Zugangsbeschränkungen nur für die Netzgruppen festgelegt werden. Wird ein neuer Benutzer angelegt, muss er einer oder mehreren Netzgruppen zugewiesen werden. Wenn die Einrichtung von NIS sorgfältig geplant wurde, muss nur noch eine zentrale Konfigurationsdatei bearbeitet werden, um den Zugriff auf bestimmte Rechner zu erlauben oder zu verbieten.</p></div><div class=paragraph><p>Dieses Beispiel erstellt vier Netzgruppen: IT-Mitarbeiter, IT-Lehrlinge, normale Mitarbeiter sowie Praktikanten:</p></div><div class="literalblock programlisting"><div class=content><pre>IT_EMP  (,alpha,test-domain)    (,beta,test-domain)
IT_APP  (,charlie,test-domain)  (,delta,test-domain)
USERS   (,echo,test-domain)     (,foxtrott,test-domain) \
        (,golf,test-domain)
INTERNS (,able,test-domain)     (,baker,test-domain)</pre></div></div><div class=paragraph><p>Jede Zeile konfiguriert eine Netzgruppe. Die erste Spalte der Zeile bezeichnet den Namen der Netzgruppe. Die Einträge in den Klammern stehen entweder für eine Gruppe von einem oder mehreren Benutzern, oder für den Namen einer weiteren Netzgruppe. Wenn ein Benutzer angegeben wird, haben die drei Felder in der Klammer folgende Bedeutung:</p></div><div class="olist arabic"><ol class=arabic><li><p>Der Name des Rechner(s), auf dem die weiteren Felder für den Benutzer gültig sind. Wird kein Rechnername festgelegt, ist der Eintrag auf allen Rechnern gültig.</p></li><li><p>Der Name des Benutzerkontos, der zu dieser Netzgruppe gehört.</p></li><li><p>Die NIS-Domäne für das Benutzerkonto. Benutzerkonten können von anderen NIS-Domänen in eine Netzgruppe importiert werden.</p></li></ol></div><div class=paragraph><p>Wenn eine Gruppe mehrere Benutzer enthält, müssen diese durch Leerzeichen getrennt werden. Darüber hinaus kann jedes Feld Wildcards enthalten. Weitere Einzelheiten finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=netgroup&amp;sektion=5&amp;format=html">netgroup(5)</a>.</p></div><div class=paragraph><p>Netzgruppennamen sollten nicht länger als 8 Zeichen sein. Es wird zwischen Groß- und Kleinschreibung unterschieden. Die Verwendung von Großbuchstaben für Netzgruppennamen ermöglicht eine leichte Unterscheidung zwischen Benutzern, Rechnern und Netzgruppen.</p></div><div class=paragraph><p>Einige NIS-Clients (dies gilt nicht für FreeBSD) können keine Netzgruppen mit mehr als 15 Einträgen verwalten. Diese Grenze kann umgangen werden, indem mehrere Subnetzgruppen mit weniger als fünfzehn Benutzern angelegt werden und diese Subnetzgruppen wiederum in einer Netzgruppe zusammengefasst wird, wie in diesem Beispiel zu sehen:</p></div><div class="literalblock programlisting"><div class=content><pre>BIGGRP1  (,joe1,domain)  (,joe2,domain)  (,joe3,domain) [...]
BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]
BIGGRP3  (,joe31,domain)  (,joe32,domain)
BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3</pre></div></div><div class=paragraph><p>Wiederholen Sie diesen Vorgang, wenn mehr als 225 (15*15) Benutzer in einer einzigen Netzgruppe existieren.</p></div><div class=paragraph><p>Die neue NIS-Map aktivieren und verteilen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# <span class=nb>cd</span> /var/yp
ellington# make</code></pre></div></div><div class=paragraph><p>Dadurch werden die NIS-Maps <span class=filename>netgroup</span>, <span class=filename>netgroup.byhost</span> und <span class=filename>netgroup.byuser</span> erzeugt. Prüfen Sie die Verfügbarkeit der neuen NIS-Maps mit <a href="https://man.freebsd.org/cgi/man.cgi?query=ypcat&amp;sektion=1&amp;format=html">ypcat(1)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington% ypcat <span class=nt>-k</span> netgroup
ellington% ypcat <span class=nt>-k</span> netgroup.byhost
ellington% ypcat <span class=nt>-k</span> netgroup.byuser</code></pre></div></div><div class=paragraph><p>Die Ausgabe des ersten Befehls gibt den Inhalt von <span class=filename>/var/yp/netgroup</span> wieder. Der zweite Befehl erzeugt nur dann eine Ausgabe, wenn rechnerspezifische Netzgruppen erzeugt wurden. Der dritte Befehl gibt die Netzgruppen nach Benutzern sortiert aus.</p></div><div class=paragraph><p>Wenn Sie einen Client einrichten, verwenden Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=vipw&amp;sektion=8&amp;format=html">vipw(8)</a> um den Namen der Netzgruppe anzugeben. Ersetzen Sie beispielsweise auf dem Server namens <code>war</code> die folgende Zeile:</p></div><div class="literalblock programlisting"><div class=content><pre>+:::::::::</pre></div></div><div class=paragraph><p>durch</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::</pre></div></div><div class=paragraph><p>ersetzt werden.</p></div><div class=paragraph><p>Diese Zeile legt fest, dass nur noch Benutzer der Netzgruppe <code>IT_EMP</code> in die Passwortdatenbank dieses Systems importiert werden. Nur diese Benutzer dürfen sich an diesem Server anmelden.</p></div><div class=paragraph><p>Diese Konfiguration gilt auch für die <code>~</code>-Funktion der Shell und für alle Routinen, die auf Benutzernamen und numerische Benutzer-IDs zugreifen. Oder anders formuliert, <code>cd ~<em>Benutzer</em></code> ist nicht möglich, <code>ls -l</code> zeigt die numerische Benutzer-ID statt dem Benutzernamen und <code>find . -user joe -print</code> erzeugt die Fehlermeldung <code>No such user</code>. Um dieses Problem zu beheben, müssen alle Benutzereinträge importiert werden, ohne ihnen jedoch zu erlauben, sich am Server anzumelden. Dies kann durch das Hinzufügen einer zusätzlichen Zeile erreicht werden:</p></div><div class="literalblock programlisting"><div class=content><pre>+:::::::::/usr/sbin/nologin</pre></div></div><div class=paragraph><p>Diese Zeile weist den Client an, alle Einträge zu importieren, aber die Shell in diesen Einträgen durch <span class=filename>/usr/sbin/nologin</span> zu ersetzen.</p></div><div class=paragraph><p>Stellen Sie sicher, dass die zusätzliche Zeile <em>nach</em> der Zeile <code>+@IT_EMP:::::::::</code> eingetragen ist. Andernfalls haben alle via NIS importierten Benutzerkonten <span class=filename>/usr/sbin/nologin</span> als Loginshell und niemand wird sich mehr am System anmelden können.</p></div><div class=paragraph><p>Um die weniger wichtigen Server zu konfigurieren, ersetzen Sie den alten Eintrag <code>+:::::::::</code> auf den Servern mit diesen Zeilen:</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::
+@IT_APP:::::::::
+:::::::::/usr/sbin/nologin</pre></div></div><div class=paragraph><p>Die entsprechenden Zeilen für Arbeitsplätze lauten:</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::
+@USERS:::::::::
+:::::::::/usr/sbin/nologin</pre></div></div><div class=paragraph><p>NIS ist in der Lage, Netzgruppen aus anderen Netzgruppen zu bilden. Dies kann nützlich sein, wenn sich die Firmenpolitik ändert. Eine Möglichkeit ist die Erzeugung rollenbasierter Netzgruppen. Sie könnten eine Netzgruppe <code>BIGSRV</code> erzeugen, um den Zugang zu den wichtigsten Servern zu beschränken, eine weitere Gruppe <code>SMALLSRV</code> für die weniger wichtigen Server und eine dritte Netzgruppe <code>USERBOX</code> für die Arbeitsplatzrechner. Jede dieser Netzgruppen enthält die Netzgruppen, die sich auf diesen Rechnern anmelden dürfen. Die Einträge der Netzgruppen in der NIS-Map sollten ähnlich den folgenden aussehen:</p></div><div class="literalblock programlisting"><div class=content><pre>BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP  ITINTERN
USERBOX   IT_EMP  ITINTERN USERS</pre></div></div><div class=paragraph><p>Diese Methode funktioniert besonders gut, wenn Rechner in Gruppen mit identischen Beschränkungen eingeteilt werden können. Unglücklicherweise ist dies die Ausnahme und nicht die Regel. Meistens wird die Möglichkeit zur rechnerspezischen Zugangsbeschränkung benötigt.</p></div><div class=paragraph><p>Rechnerspezifische Netzgruppen sind eine weitere Möglichkeit, um mit den oben beschriebenen Änderungen umzugehen. In diesem Szenario enthält <span class=filename>/etc/master.passwd</span> auf jedem Rechner zwei mit "+" beginnende Zeilen. Die erste Zeile legt die Netzgruppe mit den Benutzern fest, die sich auf diesem Rechner anmelden dürfen. Die zweite Zeile weist allen anderen Benutzern <span class=filename>/usr/sbin/nologin</span> als Shell zu. Verwenden Sie auch hier (analog zu den Netzgruppen) Großbuchstaben für die Rechnernamen:</p></div><div class="literalblock programlisting"><div class=content><pre>+@BOXNAME:::::::::
+:::::::::/usr/sbin/nologin</pre></div></div><div class=paragraph><p>Sobald dies für alle Rechner erledigt ist, müssen die lokalen Versionen von <span class=filename>/etc/master.passwd</span> nie mehr verändert werden. Alle weiteren Änderungen geschehen über die NIS-Maps. Nachfolgend ein Beispiel für eine mögliche Netzgruppen-Map:</p></div><div class="literalblock programlisting"><div class=content><pre># Define groups of users first
IT_EMP    (,alpha,test-domain)    (,beta,test-domain)
IT_APP    (,charlie,test-domain)  (,delta,test-domain)
DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)
DEPT2     (,golf,test-domain)     (,hotel,test-domain)
DEPT3     (,india,test-domain)    (,juliet,test-domain)
ITINTERN  (,kilo,test-domain)     (,lima,test-domain)
D_INTERNS (,able,test-domain)     (,baker,test-domain)
#
# Now, define some groups based on roles
USERS     DEPT1   DEPT2     DEPT3
BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP    ITINTERN
USERBOX   IT_EMP  ITINTERN  USERS
#
# And a groups for a special tasks
# Allow echo and golf to access our anti-virus-machine
SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)
#
# machine-based netgroups
# Our main servers
WAR       BIGSRV
FAMINE    BIGSRV
# User india needs access to this server
POLLUTION  BIGSRV  (,india,test-domain)
#
# This one is really important and needs more access restrictions
DEATH     IT_EMP
#
# The anti-virus-machine mentioned above
ONE       SECURITY
#
# Restrict a machine to a single user
TWO       (,hotel,test-domain)
# [...more groups to follow]</pre></div></div><div class=paragraph><p>Es ist nicht immer ratsam, rechnerbasierte Netzgruppen zu verwenden. Wenn Dutzende oder Hunderte identische Rechner eingerichtet werden müssen, sollten rollenbasierte Netzgruppen verwendet werden, um die Größe der NIS-Maps in Grenzen zu halten.</p></div></div><div class=sect2><h3 id=_passwortformate>29.4.9. Passwortformate<a class=anchor href=#_passwortformate></a></h3><div class=paragraph><p>Alle Rechner innerhalb der NIS-Domäne müssen für die Verschlüsselung von Passwörtern das gleiche Format benutzen. Wenn Benutzer Schwierigkeiten bei der Authentifizierung auf einem NIS-Client haben, liegt dies möglicherweise an einem anderen Passwort-Format. In einem heterogenen Netzwerk muss das verwendete Format von allen Betriebssystemen unterstützt werden, wobei DES der kleinste gemeinsame Standard ist.</p></div><div class=paragraph><p>Welches Format die Server und Clients verwenden, steht in <span class=filename>/etc/login.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>default:\
	:passwd_format=des:\
	:copyright=/etc/COPYRIGHT:\
	[weitere Einträge]</pre></div></div><div class=paragraph><p>In diesem Beispiel verwendet das System das Format DES. Weitere mögliche Werte sind unter anderem <code>blf</code> und <code>md5</code> (mit Blowfish und MD5 verschlüsselte Passwörter).</p></div><div class=paragraph><p>Wird auf einem Rechner das Format entsprechend der NIS-Domäne geändert, muss anschließend die Login-Capability Datenbank neu erstellt werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cap_mkdb /etc/login.conf</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Das Format der schon bestehenden Passwörter wird erst aktualisiert, wenn ein Benutzer sein Passwort ändert, <em>nachdem</em> die Datenbank neu erstellt wurde.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=network-ldap>29.5. Lightweight Access Directory Protocol (LDAP)<a class=anchor href=#network-ldap></a></h2><div class=sectionbody><div class=paragraph><p>Das Lightweight Directory Access Protocol (LDAP) ist ein Protokoll der Anwendungsschicht, das verwendet wird um Objekte mithilfe eines verteilten Verzeichnisdienstes abzurufen, zu verändern und zu authentifizieren. Betrachten Sie es als ein Telefonbuch, das homogene Informationen in mehreren hierarchischen Ebenen speichert. Es wird in Active Directory und OpenLDAP-Netzwerken eingesetzt, in denen Benutzer unter Verwendung eines einzigen Kontos auf diverse interne Informationen zugreifen. Beispielsweise kann E-Mail-Authentifizierung, Abfrage von Kontaktinformationen und Website-Authentifizierung über ein einzelnes Benutzerkonto aus der Datenbank des LDAP-Servers erfolgen.</p></div><div class=paragraph><p>Dieser Abschnitt enthält eine kompakte Anleitung, um einen LDAP-Server auf einem FreeBSD-System zu konfigurieren. Es wird vorausgesetzt, dass der Administrator bereits einen Plan erarbeitet hat, der verschiedene Punkte umfasst, unter anderem die Art der zu speichernden Informationen, für was die Informationen verwendet werden, welche Benutzer Zugriff auf die Informationen haben und wie die Informationen vor unbefugtem Zugriff geschützt werden.</p></div><div class=sect2><h3 id=_ldap_terminologie_und_struktur>29.5.1. LDAP Terminologie und Struktur<a class=anchor href=#_ldap_terminologie_und_struktur></a></h3><div class=paragraph><p>LDAP verwendet mehrere Begriffe die Sie verstehen sollten bevor Sie die Konfiguration beginnen. Alle Verzeichniseinträge bestehen aus einer Gruppe von <em>Attributen</em>. Jede Attributgruppe enthält einen eindeutigen Bezeichner, der als distinguished name (DN) bekannt ist. Dieser setzt sich normalerweise aus mehreren anderen Attributen, wie dem Relative Distinguished Name (RDN) zusammen. Wie bei Verzeichnissen gibt es auch hier absolute und relative Pfade. Betrachten Sie DN als absoluten Pfad und RDN als relativen Pfad.</p></div><div class=paragraph><p>Beispielsweise könnte ein LDAP-Eintrag wie folgt aussehen. Dieses Beispiel sucht nach dem Eintrag für das angegebene Benutzerkonto (<code>uid</code>), Organisationseinheit (<code>ou</code> und Organisation (<code>o</code>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ldapsearch <span class=nt>-xb</span> <span class=s2>&#34;uid=trhodes,ou=users,o=example.com&#34;</span>
<span class=c># extended LDIF</span>

<span class=c>#</span>
<span class=c># LDAPv3</span>
<span class=c># base &lt;uid=trhodes,ou=users,o=example.com&gt; with scope subtree</span>
<span class=c># filter: (objectclass=*)</span>
<span class=c># requesting: ALL</span>
<span class=c>#</span>

<span class=c># trhodes, users, example.com</span>
dn: <span class=nv>uid</span><span class=o>=</span>trhodes,ou<span class=o>=</span><span class=nb>users</span>,o<span class=o>=</span>example.com
mail: trhodes@example.com
cn: Tom Rhodes
uid: trhodes
telephoneNumber: <span class=o>(</span>123<span class=o>)</span> 456-7890

<span class=c># search result</span>
search: 2
result: 0 Success

<span class=c># numResponses: 2</span>
<span class=c># numEntries:1</span></code></pre></div></div><div class=paragraph><p>Die Einträge in diesem Beispiel zeigen die Werte für die Attribute <code>dn</code>, <code>mail</code>, <code>cn</code>, <code>uid</code> und <code>telephoneNumber</code>. Das Attribut <code>cn</code> ist der RDN.</p></div><div class=paragraph><p>Weitere Informationen über LDAP und dessen Terminologie finden Sie unter <a href=http://www.openldap.org/doc/admin24/intro.html>http://www.openldap.org/doc/admin24/intro.html</a>.</p></div></div><div class=sect2><h3 id=ldap-config>29.5.2. Konfiguration eines LDAP-Servers<a class=anchor href=#ldap-config></a></h3><div class=paragraph><p>FreeBSD integriert keinen LDAP-Server. Beginnen Sie die Konfiguration mit der Installation des Ports oder Pakets <a class=package href=https://cgit.freebsd.org/ports/tree/net/openldap-server/>net/openldap-server</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install openldap-server</span></code></pre></div></div><div class=paragraph><p>Im <a href=https://docs.freebsd.org/de/articles/linux-users/##software>Paket</a> sind eine große Anzahl an Optionen aktiviert. Mit dem Befehl <code>pkg info openldap-server</code> können diese überprüft werden. Falls die Optionen nicht ausreichend sind (weil bspw. SQL-Unterstützung benötigt wird), sollten Sie in Betracht ziehen, den Port mit dem entsprechenden Framework neu zu übersetzen.</p></div><div class=paragraph><p>Während der Installation wird für die Daten das Verzeichnis <span class=filename>/var/db/openldap-data</span> erstellt. Das Verzeichnis für die Ablage der Zertifikate muss manuell angelegt werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /usr/local/etc/openldap/private</span></code></pre></div></div><div class=paragraph><p>Im nächsten Schritt wird die Zertifizierungsstelle konfiguriert. Die folgenden Befehle müssen in <span class=filename>/usr/local/etc/openldap/private</span> ausgeführt werden. Dies ist wichtig, da die Dateiberechtigungen restriktiv gesetzt werden und Benutzer keinen direkten Zugriff auf diese Daten haben sollten. Weitere Informationen über Zertifikate und deren Parameter finden Sie im <a href=../security/#openssl>OpenSSL</a>. Geben Sie folgenden Befehl ein, um die Zertifizierungsstelle zu erstellen und folgen Sie den Anweisungen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># openssl req -days 365 -nodes -new -x509 -keyout ca.key -out ../ca.crt</span></code></pre></div></div><div class=paragraph><p>Diese Einträge sind frei wählbar, <em>mit Ausnahme</em> von <em>Common Name</em>. Hier muss etwas anderes als der Hostname des Systems eingetragen werden. Wenn ein selbstsigniertes Zertifikat verwendet wird, stellen Sie dem Hostnamen einfach das Präfix <code>CA</code> für die Zertifizierungsstelle voran.</p></div><div class=paragraph><p>Die nächste Aufgabe besteht darin, einen Zertifikatsregistrierungsanforderung (CSR) sowie einen privaten Schlüssel zu erstellen. Geben Sie folgenden Befehl ein und folgen Sie den Anweisungen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># openssl req -days 365 -nodes -new -keyout server.key -out server.csr</span></code></pre></div></div><div class=paragraph><p>Stellen Sie hierbei sicher, dass <code>Common Name</code> richtig eingetragen wird. Die Zertifikatsregistrierungsanforderung muss mit dem Schlüssel der Zertifizierungsstelle unterschrieben werden, um als gültiges Zertifikat verwendet zu werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># openssl x509 -req -days 365 -in server.csr -out ../server.crt -CA ../ca.crt -CAkey ca.key -CAcreateserial</span></code></pre></div></div><div class=paragraph><p>Der letzte Schritt für die Erstellung der Zertifikate besteht darin, die Client-Zertifikate zu erstellen und zu signieren:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># openssl req -days 365 -nodes -new -keyout client.key -out client.csr</span>
<span class=c># openssl x509 -req -days 3650 -in client.csr -out ../client.crt -CAkey ca.key</span></code></pre></div></div><div class=paragraph><p>Achten Sie wieder auf das Attribut <code>Common name</code>. Stellen Sie außerdem sicher, dass bei diesem Verfahren acht (8) neue Dateien erzeugt worden sind.</p></div><div class=paragraph><p>Der Daemon, auf dem der OpenLDAP-Server läuft, heißt <span class=filename>slapd</span>. Die Konfiguration erfolgt über <span class=filename>slapd.ldif</span>. Die alte <span class=filename>slapd.conf</span> wird von OpenLDAP nicht mehr verwendet.</p></div><div class=paragraph><p><a href=http://www.openldap.org/doc/admin24/slapdconf2.html>Konfigurationsbeispiele</a> für <span class=filename>slapd.ldif</span> finden sich auch in <span class=filename>/usr/local/etc/openldap/slapd.ldif.sample</span>. Optionen sind in slapd-config(5) dokumentiert. Jeder Abschnitt in <span class=filename>slapd.ldif</span> wird, wie alle anderen LDAP-Attributgruppen, durch einen DN eindeutig identifiziert. Achten Sie darauf, dass keine Leerzeilen zwischen der Anweisung <code>dn:</code> und dem gewünschten Ende des Abschnitts verbleiben. Im folgenden Beispiel wird TLS verwendet, um einen sicheren Kanal zu implementieren. Der erste Abschnitt stellt die globale Konfiguration dar:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# See slapd-config(5) for details on configuration options.
# This file should NOT be world readable.
#
dn: cn=config
objectClass: olcGlobal
cn: config
#
#
# Define global ACLs to disable default read access.
#
olcArgsFile: /var/run/openldap/slapd.args
olcPidFile: /var/run/openldap/slapd.pid
olcTLSCertificateFile: /usr/local/etc/openldap/server.crt
olcTLSCertificateKeyFile: /usr/local/etc/openldap/private/server.key
olcTLSCACertificateFile: /usr/local/etc/openldap/ca.crt
#olcTLSCipherSuite: HIGH
olcTLSProtocolMin: 3.1
olcTLSVerifyClient: never</pre></div></div><div class=paragraph><p>Hier müssen die Zertifizierungsstelle, das Serverzertifikat und die privaten Schlüssel des Servers angegeben werden. Es wird empfohlen, den Clients die Wahl der Sicherheits-Chiffre zu überlassen und die Option <code>olcTLSCipherSuite</code> wegzulassen (inkompatibel mit anderen TLS-Clients als <span class=filename>openssl</span>). Mit der Option <code>olcTLSProtocolMin</code> benötigt der Server nur eine minimale Sicherheitsstufe. Diese Option wird empfohlen. Während die Verfizierung für den Server verpflichtend ist, ist sie es nicht für den Client: <code>olcTLSVerifyClient: never</code>.</p></div><div class=paragraph><p>Der zweite Abschnitt behandelt die Backend-Module und kann wie folgt konfiguriert werden:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# Load dynamic backend modules:
#
dn: cn=module,cn=config
objectClass: olcModuleList
cn: module
olcModulepath:	/usr/local/libexec/openldap
olcModuleload:	back_mdb.la
#olcModuleload:	back_bdb.la
#olcModuleload:	back_hdb.la
#olcModuleload:	back_ldap.la
#olcModuleload:	back_passwd.la
#olcModuleload:	back_shell.la</pre></div></div><div class=paragraph><p>Der dritte Abschnitt widmet sich dem Laden der benötigten ldif-Schemata, die von den Datenbanken verwendet werden sollen. Diese Dateien sind essentiell.</p></div><div class="literalblock programlisting"><div class=content><pre>dn: cn=schema,cn=config
objectClass: olcSchemaConfig
cn: schema

include: file:///usr/local/etc/openldap/schema/core.ldif
include: file:///usr/local/etc/openldap/schema/cosine.ldif
include: file:///usr/local/etc/openldap/schema/inetorgperson.ldif
include: file:///usr/local/etc/openldap/schema/nis.ldif</pre></div></div><div class=paragraph><p>Als nächstes folgt der Abschnitt zur Frontend-Konfiguration:</p></div><div class="literalblock programlisting"><div class=content><pre># Frontend settings
#
dn: olcDatabase={-1}frontend,cn=config
objectClass: olcDatabaseConfig
objectClass: olcFrontendConfig
olcDatabase: {-1}frontend
olcAccess: to * by * read
#
# Sample global access control policy:
#	Root DSE: allow anyone to read it
#	Subschema (sub)entry DSE: allow anyone to read it
#	Other DSEs:
#		Allow self write access
#		Allow authenticated users read access
#		Allow anonymous users to authenticate
#
#olcAccess: to dn.base=&#34;&#34; by * read
#olcAccess: to dn.base=&#34;cn=Subschema&#34; by * read
#olcAccess: to *
#	by self write
#	by users read
#	by anonymous auth
#
# if no access controls are present, the default policy
# allows anyone and everyone to read anything but restricts
# updates to rootdn.  (e.g., &#34;access to * by * read&#34;)
#
# rootdn can always read and write EVERYTHING!
#
olcPasswordHash: {SSHA}
# {SSHA} is already the default for olcPasswordHash</pre></div></div><div class=paragraph><p>Ein weiterer Abschnitt ist dem Konfigurations-Backend gewidmet, der einzige Weg, später auf die OpenLDAP-Serverkonfiguration zuzugreifen, ist als globaler Superuser.</p></div><div class="literalblock programlisting"><div class=content><pre>dn: olcDatabase={0}config,cn=config
objectClass: olcDatabaseConfig
olcDatabase: {0}config
olcAccess: to * by * none
olcRootPW: {SSHA}iae+lrQZILpiUdf16Z9KmDmSwT77Dj4U</pre></div></div><div class=paragraph><p>Der voreingestellte Benutzername für den Administrator lautet <code>cn=config</code>. Geben Sie <span class=filename>slappasswd</span> in eine Shell ein, wählen Sie ein Passwort und verwenden Sie seinen Hash in <code>olcRootPW</code>. Wenn diese Option jetzt nicht angegeben ist, kann vor dem Import der <span class=filename>slapd.ldif</span> niemand später den Abschnitt <em>global configuration</em> ändern.</p></div><div class=paragraph><p>Der letzte Abschnitt befasst sich mit dem Datenbank-Backend:</p></div><div class="literalblock programlisting"><div class=content><pre>#######################################################################
# LMDB database definitions
#######################################################################
#
dn: olcDatabase=mdb,cn=config
objectClass: olcDatabaseConfig
objectClass: olcMdbConfig
olcDatabase: mdb
olcDbMaxSize: 1073741824
olcSuffix: dc=domain,dc=example
olcRootDN: cn=mdbadmin,dc=domain,dc=example
# Cleartext passwords, especially for the rootdn, should
# be avoided.  See slappasswd(8) and slapd-config(5) for details.
# Use of strong authentication encouraged.
olcRootPW: {SSHA}X2wHvIWDk6G76CQyCMS1vDCvtICWgn0+
# The database directory MUST exist prior to running slapd AND
# should only be accessible by the slapd and slap tools.
# Mode 700 recommended.
olcDbDirectory:	/var/db/openldap-data
# Indices to maintain
olcDbIndex: objectClass eq</pre></div></div><div class=paragraph><p>Diese Datenbank enthält den <em>eigentlichen Inhalt</em> des LDAP-Verzeichnisses. Neben <code>mdb</code> sind weitere Versionen verfügbar. Dessen Superuser, nicht zu verwechseln mit dem globalen, wird hier konfiguriert: ein Benutzername in <code>olcRootDN</code> und der Passworthash in <code>olcRootPW</code>; <span class=filename>slappasswd</span> kann wie zuvor benutzt werden.</p></div><div class=paragraph><p>Dieses <a href="http://www.openldap.org/devel/gitweb.cgi?p=openldap.git;a=tree;f=tests/data/regressions/its8444;h=8a5e808e63b0de3d2bdaf2cf34fecca8577ca7fd;hb=HEAD">Repository</a> enthält vier Beispiele für <span class=filename>slapd.ldif</span>. Lesen Sie diese Seite, um eine bestehende <span class=filename>slapd.conf</span> in <span class=filename>slapd.ldif</span> zu konvertieren. Beachten Sie, dass dies einige unbrauchbare Optionen einführen kann.</p></div><div class=paragraph><p>Wenn die Konfiguration abgeschlossen ist, muss <span class=filename>slapd.ldif</span> in ein leeres Verzeichnis verschoben werden. Folgendes ist die empfohlene Vorgehensweise:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /usr/local/etc/openldap/slapd.d/</span></code></pre></div></div><div class=paragraph><p>Importieren Sie die Konfigurationsdatenbank:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/sbin/slapadd -n0 -F /usr/local/etc/openldap/slapd.d/ -l /usr/local/etc/openldap/slapd.ldif</span></code></pre></div></div><div class=paragraph><p>Starten Sie den <span class=filename>slapd</span>-Daemon:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/libexec/slapd -F /usr/local/etc/openldap/slapd.d/</span></code></pre></div></div><div class=paragraph><p>Die Option <code>-d</code> kann, wie in slapd(8) beschrieben, zur Fehlersuche benutzt werden. Stellen Sie sicher, dass der Server läuft und korrekt arbeitet:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ldapsearch -x -b &#39;&#39; -s base &#39;(objectclass=*)&#39; namingContexts</span>
<span class=c># extended LDIF</span>
<span class=c>#</span>
<span class=c># LDAPv3</span>
<span class=c># base &lt;&gt; with scope baseObject</span>
<span class=c># filter: (objectclass=*)</span>
<span class=c># requesting: namingContexts</span>
<span class=c>#</span>

<span class=c>#</span>
dn:
namingContexts: <span class=nv>dc</span><span class=o>=</span>domain,dc<span class=o>=</span>example

<span class=c># search result</span>
search: 2
result: 0 Success

<span class=c># numResponses: 2</span>
<span class=c># numEntries: 1</span></code></pre></div></div><div class=paragraph><p>Dem Server muss noch vertraut werden. Wenn dies noch nie zuvor geschehen ist, befolgen Sie diese Anweisungen. Installieren Sie das Paket oder den Port OpenSSL:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install openssl</span></code></pre></div></div><div class=paragraph><p>Aus dem Verzeichnis, in dem <span class=filename>ca.crt</span> gespeichert ist (in diesem Beispiel <span class=filename>/usr/local/etc/openldap</span>), starten Sie:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># c_rehash .</span></code></pre></div></div><div class=paragraph><p>Sowohl die CA als auch das Serverzertifikat werden nun in ihren jeweiligen Rollen korrekt erkannt. Um dies zu überprüfen, führen die folgenden Befehl aus dem Verzeichnis der <span class=filename>server.crt</span> aus:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># openssl verify -verbose -CApath . server.crt</span></code></pre></div></div><div class=paragraph><p>Falls <span class=filename>slapd</span> ausgeführt wurde, muss der Daemon neu gestartet werden. Wie in <span class=filename>/usr/local/etc/rc.d/slapd</span> angegeben, müssen die folgenden Zeilen in <span class=filename>/etc/rc.conf</span> eingefügt werden, um <span class=filename>slapd</span> beim Booten ordnungsgemäß auszuführen:</p></div><div class="literalblock programlisting"><div class=content><pre>lapd_enable=&#34;YES&#34;
slapd_flags=&#39;-h &#34;ldapi://%2fvar%2frun%2fopenldap%2fldapi/
ldap://0.0.0.0/&#34;&#39;
slapd_sockets=&#34;/var/run/openldap/ldapi&#34;
slapd_cn_config=&#34;YES&#34;</pre></div></div><div class=paragraph><p><span class=filename>slapd</span> bietet beim Booten keine Möglichkeit zur Fehlersuche. Überprüfen Sie dazu <span class=filename>/var/log/debug.log</span>, <code>dmesg -a</code> und <span class=filename>/var/log/messages</span>.</p></div><div class=paragraph><p>Das folgende Beispiel fügt die Gruppe <code>team</code> und den Benutzer <code>john</code> zur LDAP-Datenbank <code>domain.example</code> hinzu, die bislang leer ist. Erstellen Sie zunächst die Datei <span class=filename>domain.ldif</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat domain.ldif</span>
dn: <span class=nv>dc</span><span class=o>=</span>domain,dc<span class=o>=</span>example
objectClass: dcObject
objectClass: organization
o: domain.example
dc: domain

dn: <span class=nv>ou</span><span class=o>=</span><span class=nb>groups</span>,dc<span class=o>=</span>domain,dc<span class=o>=</span>example
objectClass: top
objectClass: organizationalunit
ou: <span class=nb>groups

</span>dn: <span class=nv>ou</span><span class=o>=</span><span class=nb>users</span>,dc<span class=o>=</span>domain,dc<span class=o>=</span>example
objectClass: top
objectClass: organizationalunit
ou: <span class=nb>users

</span>dn: <span class=nv>cn</span><span class=o>=</span>team,ou<span class=o>=</span><span class=nb>groups</span>,dc<span class=o>=</span>domain,dc<span class=o>=</span>example
objectClass: top
objectClass: posixGroup
cn: team
gidNumber: 10001

dn: <span class=nv>uid</span><span class=o>=</span>john,ou<span class=o>=</span><span class=nb>users</span>,dc<span class=o>=</span>domain,dc<span class=o>=</span>example
objectClass: top
objectClass: account
objectClass: posixAccount
objectClass: shadowAccount
cn: John McUser
uid: john
uidNumber: 10001
gidNumber: 10001
homeDirectory: /home/john/
loginShell: /usr/bin/bash
userPassword: secret</code></pre></div></div><div class=paragraph><p>Weitere Informationen finden Sie in der OpenLDAP-Dokumentation. Benutzen Sie <span class=filename>slappasswd</span>, um das Passwort durch einen Hash in <code>userPassword</code> zu ersetzen. Der in <code>loginShell</code> angegebene Pfad muss in allen Systemen existieren, in denen <code>john</code> sich anmelden darf. Benutzen Sie schließlich den <code>mdb</code>-Administrator, um die Datenbank zu ändern:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ldapadd -W -D &#34;cn=mdbadmin,dc=domain,dc=example&#34; -f domain.ldif</span></code></pre></div></div><div class=paragraph><p>Änderungen im Bereich <em>global configuration</em> können nur vom globalen Superuser vorgenommen werden. Angenommen die Option <code>olcTLSCipherSuite: HIGH:MEDIUM:SSLv3</code> wurde ursprünglich definiert und soll nun gelöscht werden. Dazu erstellen Sie zunächst eine Datei mit folgendem Inhalt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat global_mod</span>
dn: <span class=nv>cn</span><span class=o>=</span>config
changetype: modify
delete: olcTLSCipherSuite</code></pre></div></div><div class=paragraph><p>Übernehmen Sie dann die Änderungen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ldapmodify -f global_mod -x -D &#34;cn=config&#34; -W</span></code></pre></div></div><div class=paragraph><p>Geben Sie bei Aufforderung das im Abschnitt <em>configuration backend</em> gewählte Passwort ein. Der Benutzername ist nicht erforderlich: Hier repräsentiert <code>cn=config</code> den DN des zu ändernden Datenbankabschnitts. Alternativ können Sie mit <code>ldapmodify</code> eine einzelne Zeile der Datenbank löschen, mit <code>ldapdelete</code> einen ganzen Eintrag.</p></div><div class=paragraph><p>Wenn etwas schief geht oder der globale Superuser nicht auf das Konfigurations-Backend zugreifen kann, ist es möglich, die gesamte Konfiguration zu löschen und neu zu schreiben:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rm -rf /usr/local/etc/openldap/slapd.d/</span></code></pre></div></div><div class=paragraph><p><span class=filename>slapd.ldif</span> kann dann bearbeitet und erneut importiert werden. Bitte folgenden Sie dieser Vorgehensweise nur, wenn keine andere Lösung verfügbar ist.</p></div><div class=paragraph><p>Dies ist nur die Konfiguration des Servers. Auf demselben Rechner kann auch ein LDAP-Client mit eigener, separater Konfiguration betrieben werden.</p></div></div></div></div><div class=sect1><h2 id=network-dhcp>29.6. Dynamic Host Configuration Protocol (DHCP)<a class=anchor href=#network-dhcp></a></h2><div class=sectionbody><div class=paragraph><p>Das Dynamic Host Configuration Protocol (DHCP) ermöglicht es einem System, sich mit einem Netzwerk zu verbinden und die für die Kommunikation mit diesem Netzwerk nötigen Informationen zu beziehen. FreeBSD verwendet den von OpenBSD stammenden <code>dhclient</code>, um die Adressinformationen zu beziehen. FreeBSD installiert keinen DHCP-Server, aber es stehen einige Server in der FreeBSD Ports-Sammlung zu Verfügung. Das DHCP-Protokoll wird vollständig im <a href=http://www.freesoft.org/CIE/RFC/2131/>RFC 2131</a> beschrieben. Eine weitere, lehrreiche Informationsquelle existiert unter <a href=http://www.isc.org/downloads/dhcp>isc.org/downloads/dhcp/</a>.</p></div><div class=paragraph><p>In diesem Abschnitt wird beschrieben, wie der integrierte DHCP-Client verwendet wird. Anschließend wird erklärt, wie ein DHCP-Server zu installieren und konfigurieren ist.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Unter FreeBSD wird das Gerät <a href="https://man.freebsd.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;format=html">bpf(4)</a> für den DHCP-Server und den DHCP-Client benötigt. Das Gerät ist bereits im <span class=filename>GENERIC</span>-Kernel enthalten. Benutzer, die es vorziehen einen angepassten Kernel zu erstellen, müssen dieses Gerät behalten, wenn DHCP verwendet wird.</p></div><div class=paragraph><p>Es sei darauf hingewiesen, dass <span class=filename>bpf</span> es priviligierten Benutzern ermöglicht einen Paket-Sniffer auf dem System auszuführen.</p></div></td></tr></tbody></table></div><div class=sect2><h3 id=_einen_dhcp_client_konfigurieren>29.6.1. Einen DHCP-Client konfigurieren<a class=anchor href=#_einen_dhcp_client_konfigurieren></a></h3><div class=paragraph><p>Die Unterstützung für den DHCP-Client ist im Installationsprogramm von FreeBSD enthalten, sodass ein neu installiertes System automatisch die Adressinformationen des Netzwerks vom DHCP-Server erhält. In <a href=../bsdinstall/#bsdinstall-post>Benutzerkonten, Zeitzone, Dienste und Sicherheitsoptionen</a> finden Sie Beispiele für eine Netzwerkkonfiguration.</p></div><div class=paragraph><p><code>dhclient</code> beginnt von einem Clientrechner aus über den UDP-Port 68 Konfigurationsinformationen anzufordern. Der Server antwortet auf dem UDP-Port 67, indem er dem Client eine IP-Adresse zuweist und ihm weitere relevante Informationen über das Netzwerk, wie Netzmasken, Router und DNS-Server mitteilt. Diese Informationen werden als DHCP-Lease bezeichnet und sind nur für bestimmte Zeit, die vom Administrator des DHCP-Servers vorgegeben wird, gültig. Dadurch fallen verwaiste IP-Adressen, deren Clients nicht mehr mit dem Netzwerk verbunden sind, automatisch an den Server zurück. DHCP-Clients können sehr viele Informationen von einem DHCP-Server erhalten. Eine ausführliche Liste finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5&amp;format=html">dhcp-options(5)</a>.</p></div><div class=paragraph><p>Das Gerät <span class=filename>bpf</span> ist im <span class=filename>GENERIC</span>-Kernel bereits enthalten. Für die Nutzung von DHCP muss also kein angepasster Kernel erzeugt werden. In einer angepassten Kernelkonfigurationsdatei muss das Gerät enthalten sein, damit DHCP ordnungsgemäß funktioniert.</p></div><div class=paragraph><p>Standardmässig läuft die DHCP-Konfiguration bei FreeBSD im Hintergrund oder auch <em>asynchron</em>. Andere Startskripte laufen weiter, während DHCP fertig abgearbeitet wird, was den Systemstart beschleunigt.</p></div><div class=paragraph><p>DHCP im Hintergrund funktioniert gut, wenn der DHCP-Server schnell auf Anfragen der Clients antwortet. Jedoch kann DHCP eine lange Zeit benötigen, um auf manchen Systemen fertig zu werden. Falls Netzwerkdienste gestartet werden, bevor DHCP die Informationen und Netzwerkadressen gesetzt hat, werden diese fehlschlagen. Durch die Verwendung von DHCP im <em>asynchronen</em> Modus wird das Problem verhindert, so dass die Startskripte pausiert werden, bis die DHCP-Konfiguration abgeschlossen ist.</p></div><div class=paragraph><p>Diese Zeile wird in <span class=filename>/etc/rc.conf</span> verwendet, um den asynchronen Modus zu aktivieren:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0=&#34;DHCP&#34;</pre></div></div><div class=paragraph><p>Die Zeile kann bereits vorhanden sein, wenn bei der Installation des Systems DHCP konfiguriert wurde. Ersetzen Sie <em>fxp0</em> durch die entsprechende Schnittstelle. Die dynamische Konfiguration von Netzwerkkarten wird in <a href=../config/#config-network-setup>“Einrichten von Netzwerkkarten”</a> beschrieben.</p></div><div class=paragraph><p>Um stattdessen den synchronen Modus zu verwenden, der während des Systemstarts pausiert bis die DHCP-Konfiguration abgeschlossen ist, benutzen Sie "SYNCDHCP":</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0=&#34;SYNCDHCP&#34;</pre></div></div><div class=paragraph><p>Es stehen weitere Optionen für den Client zur Verfügung. Suchen Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> nach <code>dhclient</code>, wenn Sie an Einzelheiten interessiert sind.</p></div><div class=paragraph><p>Der DHCP-Client verwendet die folgenden Dateien:</p></div><div class=ulist><ul><li><p><span class=filename>/etc/dhclient.conf</span></p><div class=paragraph><p>Die Konfigurationsdatei von <code>dhclient</code>. Diese Datei enthält normalerweise nur Kommentare, da die Vorgabewerte zumeist ausreichend sind. Diese Konfigurationsdatei wird in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5&amp;format=html">dhclient.conf(5)</a> beschrieben.</p></div></li><li><p><span class=filename>/sbin/dhclient</span></p><div class=paragraph><p>Weitere Informationen über dieses Kommando finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a>.</p></div></li><li><p><span class=filename>/sbin/dhclient-script</span></p><div class=paragraph><p>Das FreeBSD-spezifische Konfigurationsskript des DHCP-Clients. Es wird in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient-script&amp;sektion=8&amp;format=html">dhclient-script(8)</a> beschrieben und kann meist unverändert übernommen werden.</p></div></li><li><p><span class=filename>/var/db/dhclient.leases.interface</span></p><div class=paragraph><p>Der DHCP-Client verfügt über eine Datenbank, die alle derzeit gültigen Leases enthält und als Logdatei erzeugt wird. Diese Datei wird in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.leases&amp;sektion=5&amp;format=html">dhclient.leases(5)</a> beschrieben.</p></div></li></ul></div></div><div class=sect2><h3 id=network-dhcp-server>29.6.2. Einen DHCP-Server installieren und einrichten<a class=anchor href=#network-dhcp-server></a></h3><div class=paragraph><p>Dieser Abschnitt beschreibt die Einrichtung eines FreeBSD-Systems als DHCP-Server. Dazu wird die DHCP-Implementation von ISC (Internet Systems Consortium) verwendet. Diese Implementation und die Dokumentation können als Port oder Paket <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp44-server/>net/isc-dhcp44-server</a> installiert werden.</p></div><div class=paragraph><p>Der Port <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp44-server/>net/isc-dhcp44-server</a> installiert eine Beispiel-Konfigurationsdatei. Kopieren Sie <span class=filename>/usr/local/etc/dhcpd.conf.example</span> nach <span class=filename>/usr/local/etc/dhcpd.conf</span> und nehmen Sie die Änderungen an der neuen Datei vor.</p></div><div class=paragraph><p>Diese Konfigurationsdatei umfasst Deklarationen für Subnetze und Rechner, die den DHCP-Cleints zur Verfügung gestellt wird. Die folgenden Zeilen konfigurieren Folgendes:</p></div><div class="literalblock programlisting"><div class=content><pre>option domain-name &#34;example.org&#34;;<i class=conum data-value=1></i><b>(1)</b>
option domain-name-servers ns1.example.org;<i class=conum data-value=2></i><b>(2)</b>
option subnet-mask 255.255.255.0;<i class=conum data-value=3></i><b>(3)</b>

default-lease-time 600;<i class=conum data-value=4></i><b>(4)</b>
max-lease-time 72400;<i class=conum data-value=5></i><b>(5)</b>
ddns-update-style none;<i class=conum data-value=6></i><b>(6)</b>

subnet 10.254.239.0 netmask 255.255.255.224 {
  range 10.254.239.10 10.254.239.20;<i class=conum data-value=7></i><b>(7)</b>
  option routers rtr-239-0-1.example.org;<i class=conum data-value=8></i><b>(8)</b>
}

host fantasia {
  hardware ethernet 08:00:07:26:c0:a5;<i class=conum data-value=9></i><b>(9)</b>
  fixed-address fantasia.fugue.com;<i class=conum data-value=10></i><b>(10)</b>
}</pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Diese Option beschreibt die Standardsuchdomäne, die den Clients zugewiesen wird. Weitere Informationen finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=resolv.conf&amp;sektion=5&amp;format=html">resolv.conf(5)</a>.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Diese Option legt eine, durch Kommata getrennte Liste von DNS-Servern fest, die von den Clients verwendet werden sollen. Die Server können über den Namen (FQDN) oder die IP-Adresse spezifiziert werden.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Die den Clients zugewiesene Subnetzmaske.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Die Voreinstellung für die Ablaufzeit des Lease in Sekunden. Ein Client kann diesen Wert in der Konfiguration überschreiben.</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Die maximale Zeitdauer, für die der Server Leases vergibt. Sollte ein Client eine längere Zeitspanne anfordern, wird dennoch nur der Wert <code>max-lease-time</code> zugewiesen.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>Die Voreinstellung <code>none</code> deaktiviert dynamische DNS-Updates. Bei der Einstellung <code>interim</code> aktualisiert der DHCP-Server den DNS-Server, wenn ein Lease vergeben oder zurückgezogen wurde. Ändern Sie die Voreinstellung nicht, wenn der Server so konfiguriert wurde, dynamische DNS-Updates zu unterstützen.</td></tr><tr><td><i class=conum data-value=7></i><b>7</b></td><td>Diese Zeile erstellt einen Pool der verfügbaren IP-Adressen, die für die Zuweisung der DHCP-Clients reserviert sind. Der Bereich muss für das angegebene Netz oder Subnetz aus der vorherigen Zeile gültig sein.</td></tr><tr><td><i class=conum data-value=8></i><b>8</b></td><td>Legt das Standard-Gateway für das Netz oder Subnetz fest, das nach der öffnenden Klammer <code>{</code> gültig ist.</td></tr><tr><td><i class=conum data-value=9></i><b>9</b></td><td>Bestimmt die Hardware-MAC-Adresse eines Clients, durch die der DHCP-Server den Client erkennt, der eine Anforderung an ihn stellt.</td></tr><tr><td><i class=conum data-value=10></i><b>10</b></td><td>Einem Rechner soll immer die gleiche IP-Adresse zugewiesen werden. Hier ist auch ein Rechnername gültig, da der DHCP-Server den Rechnernamen auflöst, bevor er das Lease zuweist.</td></tr></tbody></table></div><div class=paragraph><p>Die Konfigurationsdatei unterstützt viele weitere Optionen. Lesen Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5&amp;format=html">dhcpd.conf(5)</a>, die mit dem Server installiert wird, für Details und Beispiele.</p></div><div class=paragraph><p>Nachdem <span class=filename>dhcpd.conf</span> konfiguriert ist, aktivieren Sie den DHCP-Server in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>dhcpd_enable=&#34;YES&#34;
dhcpd_ifaces=&#34;dc0&#34;</pre></div></div><div class=paragraph><p>Dabei müssen Sie <code>dc0</code> durch die Gerätedatei (mehrere Gerätedateien müssen durch Leerzeichen getrennt werden) ersetzen, die der DHCP-Server auf Anfragen von DHCP-Clients hin überwachen soll.</p></div><div class=paragraph><p>Starten Sie den Server mit folgenden Befehl:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service isc-dhcpd start</span></code></pre></div></div><div class=paragraph><p>Künftige Änderungen an der Konfiguration des Servers erfordern, dass der Dienst <code>dhcpd</code> gestoppt und anschließend mit <a href="https://man.freebsd.org/cgi/man.cgi?query=service&amp;sektion=8&amp;format=html">service(8)</a> gestartet wird.</p></div><div class=ulist><ul><li><p><span class=filename>/usr/local/sbin/dhcpd</span></p><div class=paragraph><p>Weitere Informationen zu dhcpd finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd&amp;sektion=8&amp;format=html">dhcpd(8)</a>.</p></div></li><li><p><span class=filename>/usr/local/etc/dhcpd.conf</span></p><div class=paragraph><p>Die Konfigurationsdatei des Servers muss alle Informationen enthalten, die an die Clients weitergegeben werden soll. Außerdem sind hier Informationen zur Konfiguration des Servers enthalten. Diese Konfigurationsdatei wird in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5&amp;format=html">dhcpd.conf(5)</a> beschrieben.</p></div></li><li><p><span class=filename>/var/db/dhcpd.leases</span></p><div class=paragraph><p>Der DHCP-Server hat eine Datenbank, die alle vergebenen Leases enthält. Diese wird als Logdatei erzeugt. <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd.leases&amp;sektion=5&amp;format=html">dhcpd.leases(5)</a> enthält eine ausführliche Beschreibung.</p></div></li><li><p><span class=filename>/usr/local/sbin/dhcrelay</span></p><div class=paragraph><p>Dieser Daemon wird in komplexen Umgebungen verwendet, in denen ein DHCP-Server eine Anfrage eines Clients an einen DHCP-Server in einem separaten Netzwerk weiterleitet. Wenn Sie diese Funktion benötigen, müssen Sie <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp44-relay/>net/isc-dhcp44-relay</a> installieren. Weitere Informationen zu diesem Thema finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcrelay&amp;sektion=8&amp;format=html">dhcrelay(8)</a>.</p></div></li></ul></div></div></div></div><div class=sect1><h2 id=network-dns>29.7. Domain Name System (DNS)<a class=anchor href=#network-dns></a></h2><div class=sectionbody><div class=paragraph><p>DNS ist das für die Umwandlung von Rechnernamen in IP-Adressen zuständige Protokoll. Im Internet wird DNS durch ein komplexes System von autoritativen Root-Nameservern, Top Level Domain-Servern (TLD) sowie anderen kleineren Nameservern verwaltet, die individuelle Domaininformationen speichern und untereinander abgleichen. Für einfache DNS-Anfragen wird auf dem lokalen System kein Nameserver benötigt.</p></div><div class=paragraph><p>Die folgende Tabelle beschreibt einige mit DNS verbundenen Begriffe:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabelle 4. DNS-Begriffe</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Begriff</th><th class="tableblock halign-left valign-top">Bedeutung</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Forward-DNS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Rechnernamen in IP-Adressen umwandeln.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Origin (Ursprung)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Die in einer bestimmten Zonendatei beschriebene Domäne.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Resolver</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ein Systemprozess, durch den ein Rechner Zoneninformationen von einem Nameserver anfordert.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Reverse-DNS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>die Umwandlung von IP-Adressen in Rechnernamen</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Root-Zone</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Der Beginn der Internet-Zonenhierarchie. Alle Zonen befinden sich innerhalb der Root-Zone. Dies ist analog zu einem Dateisystem, in dem sich alle Dateien und Verzeichnisse innerhalb des Wurzelverzeichnisses befinden.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Zone</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Eine individuelle Domäne, Unterdomäne, oder ein Teil von DNS, der von der gleichen Autorität verwaltet wird.</p></td></tr></tbody></table><div class=paragraph><p>Es folgen nun einige Zonenbeispiele:</p></div><div class=ulist><ul><li><p>Innerhalb der Dokumentation wird die Root-Zone in der Regel mit <code>.</code> bezeichnet.</p></li><li><p><code>org.</code> ist eine Top level Domain (TLD) innerhalb der Root-Zone.</p></li><li><p><code>example.org.</code> ist eine Zone innerhalb der <code>org.</code>-TLD.</p></li><li><p><code>1.168.192.in-addr.arpa.</code> ist die Zone mit allen IP-Adressen des Bereichs <code>192.168.1.*</code>.</p></li></ul></div><div class=paragraph><p>Wie man an diesen Beispielen erkennen kann, befindet sich der spezifischere Teil eines Rechnernamens auf der linken Seite der Adresse. <code>example.org.</code> beschreibt einen Rechner also genauer als <code>org.</code>, während <code>org.</code> genauer als die Root-Zone ist. Jeder Teil des Rechnernamens hat Ähnlichkeiten mit einem Dateisystem, in dem etwa <span class=filename>/dev</span> dem Wurzelverzeichnis untergeordnet ist.</p></div><div class=sect2><h3 id=_gründe_für_die_verwendung_eines_nameservers>29.7.1. Gründe für die Verwendung eines Nameservers<a class=anchor href=#_gründe_für_die_verwendung_eines_nameservers></a></h3><div class=paragraph><p>Es gibt zwei Arten von Nameservern: Autoritative Nameserver sowie zwischenspeichernde (cachende, auch bekannt als auflösende) Nameserver.</p></div><div class=paragraph><p>Ein autoritativer Nameserver ist notwendig, wenn</p></div><div class=ulist><ul><li><p>Sie anderen verbindliche DNS-Auskünfte erteilen wollen.</p></li><li><p>eine Domain, beispielsweise <code>example.org</code>, registriert wird, und den zu dieser Domain gehörenden Rechnern IP-Adressen zugewiesen werden müssen.</p></li><li><p>ein IP-Adressblock reverse-DNS-Einträge benötigt, um IP-Adressen in Rechnernamen auflösen zu können.</p></li><li><p>ein Backup-Nameserver (auch Slaveserver genannt) oder ein zweiter Nameserver auf Anfragen antworten soll.</p></li></ul></div><div class=paragraph><p>Ein cachender Nameserver ist notwendig, weil</p></div><div class=ulist><ul><li><p>ein lokaler DNS-Server Daten zwischenspeichern und daher schneller auf Anfragen reagieren kann als ein entfernter Server.</p></li></ul></div><div class=paragraph><p>Wird nach <code>www.FreeBSD.org</code> gesucht, leitet der Resolver diese Anfrage an den Nameserver des ISPs weiter und nimmt danach das Ergebnis der Abfrage entgegen. Existiert ein lokaler, zwischenspeichernder DNS-Server, muss dieser die Anfrage nur einmal nach außen weitergeben. Für alle weiteren Anfragen ist dies nicht mehr nötig, da diese Information nun lokal gespeichert ist.</p></div></div><div class=sect2><h3 id=_dns_server_konfiguration>29.7.2. DNS-Server Konfiguration<a class=anchor href=#_dns_server_konfiguration></a></h3><div class=paragraph><p>Unbound ist im Basissystem von FreeBSD enthalten. In der Voreinstellung bietet es nur die DNS-Auflösung auf dem lokalen Rechner. Obwohl das im Basissystem enthaltene Unbound konfiguriert werden kann, um Namensauflösung über den lokalen Rechner hinweg bereitzustellen, ist es empfehlenswert für solche Anforderungen Unbound aus der FreeBSD Ports-Sammlung zu installieren.</p></div><div class=paragraph><p>Um Unbound zu aktivieren, fügen Sie folgende Zeile in <span class=filename>/etc/rc.conf</span> ein:</p></div><div class="literalblock programlisting"><div class=content><pre>local_unbound_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Alle vorhandenen Nameserver aus <span class=filename>/etc/resolv.conf</span> werden als Forwarder in der neuen Unbound-Konfiguration benutzt.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Wenn einer der aufgeführten Nameserver kein DNSSEC unterstützt, wird die lokale DNS-Auflösung nicht funktionieren. Testen Sie jeden Server und entfernen Sie die Server, die den Test nicht bestehen. Das folgende Beispiel zeigt einen Trust Tree beziehungsweise einen Fehler für den Nameserver auf <code>192.168.1.1</code>:</p></div></td></tr></tbody></table></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># drill -S FreeBSD.org @192.168.1.1</span></code></pre></div></div><div class=paragraph><p>Nachdem jeder Server für DNSSEC konfiguriert ist, starten Sie Unbound:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service local_unbound onestart</span></code></pre></div></div><div class=paragraph><p>Dieses Kommando sorgt für die Aktualisierung von <span class=filename>/etc/resolv.conf</span>, so dass Abfragen für DNSSEC gesicherte Domains jetzt funktionieren. Führen Sie folgenden Befehl aus, um den DNSSECTrust Tree für FreeBSD.org zu überprüfen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% drill <span class=nt>-S</span> FreeBSD.org
<span class=p>;;</span> Number of trusted keys: 1
<span class=p>;;</span> Chasing: freebsd.org. A

DNSSEC Trust tree:
freebsd.org. <span class=o>(</span>A<span class=o>)</span>
|---freebsd.org. <span class=o>(</span>DNSKEY keytag: 36786 alg: 8 flags: 256<span class=o>)</span>
    |---freebsd.org. <span class=o>(</span>DNSKEY keytag: 32659 alg: 8 flags: 257<span class=o>)</span>
    |---freebsd.org. <span class=o>(</span>DS keytag: 32659 digest <span class=nb>type</span>: 2<span class=o>)</span>
        |---org. <span class=o>(</span>DNSKEY keytag: 49587 alg: 7 flags: 256<span class=o>)</span>
            |---org. <span class=o>(</span>DNSKEY keytag: 9795 alg: 7 flags: 257<span class=o>)</span>
            |---org. <span class=o>(</span>DNSKEY keytag: 21366 alg: 7 flags: 257<span class=o>)</span>
            |---org. <span class=o>(</span>DS keytag: 21366 digest <span class=nb>type</span>: 1<span class=o>)</span>
            |   |---. <span class=o>(</span>DNSKEY keytag: 40926 alg: 8 flags: 256<span class=o>)</span>
            |       |---. <span class=o>(</span>DNSKEY keytag: 19036 alg: 8 flags: 257<span class=o>)</span>
            |---org. <span class=o>(</span>DS keytag: 21366 digest <span class=nb>type</span>: 2<span class=o>)</span>
                |---. <span class=o>(</span>DNSKEY keytag: 40926 alg: 8 flags: 256<span class=o>)</span>
                    |---. <span class=o>(</span>DNSKEY keytag: 19036 alg: 8 flags: 257<span class=o>)</span>
<span class=p>;;</span> Chase successful</code></pre></div></div></div></div></div><div class=sect1><h2 id=network-apache>29.8. Apache HTTP-Server<a class=anchor href=#network-apache></a></h2><div class=sectionbody><div class=paragraph><p>Der Open Source Apache HTTP-Server ist der am weitesten verbreitete Webserver. Dieser Webserver ist nicht im Basissystem von FreeBSD enthalten, kann aber als Paket oder Port <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache24/>www/apache24</a> installiert werden.</p></div><div class=paragraph><p>Dieser Abschnitt beschreibt die Konfiguration der Version 2.<em>x</em> des Apache HTTP-Server. Weiterführende Informationen und Konfigurationsanweisungen für Apache 2.X finden Sie unter <a href=http://httpd.apache.org/>httpd.apache.org</a>.</p></div><div class=sect2><h3 id=_apache_konfigurieren_und_starten>29.8.1. Apache konfigurieren und starten<a class=anchor href=#_apache_konfigurieren_und_starten></a></h3><div class=paragraph><p>Der Apache HTTP-Server wird unter FreeBSD primär in <span class=filename>/usr/local/etc/apache2x/httpd.conf</span> konfiguriert, wobei das <em>x</em> die Versionsnummer darstellt. In dieser Textdatei leitet ein <code>#</code> einen Kommentar ein. Die am häufigsten verwendeten Optionen sind:</p></div><div class=dlist><dl><dt class=hdlist1><code>ServerRoot "/usr/local"</code></dt><dd><p>Legt das Standardwurzelverzeichnis für die Apache-Installation fest. Binärdateien werden in die Verzeichnisse <span class=filename>bin</span> und <span class=filename>sbin</span> unterhalb des Serverwurzelverzeichnisses installiert, während sich Konfigurationsdateien im Unterverzeichnis <span class=filename>etc/apache2x</span> befinden.</p></dd><dt class=hdlist1><code>ServerAdmin <a href=mailto:you@example.com>you@example.com</a></code></dt><dd><p>Die E-Mail-Adresse, an die Mitteilungen über Serverprobleme geschickt werden. Diese Adresse erscheint auf vom Server erzeugten Seiten, beispielsweise auf Fehlerseiten.</p></dd><dt class=hdlist1><code>ServerName www.example.com:80</code></dt><dd><p>Erlaubt dem Administrator, einen Rechnernamen festzulegen, den der Server an die Clients sendet. Beispielsweise könnte <code>www</code> statt des richtigen Rechnernamens verwendet werden. Wenn das System keinen eingetragenen DNS-Namen hat, kann stattdessen die IP-Adresse eingetragen werden. Lauscht der Server auf einem anderen Port, tauschen Sie die <code>80</code> gegen eine entsprechende Portnummer.</p></dd><dt class=hdlist1><code>DocumentRoot "/usr/local/www/apache2<em>x</em>/data"</code></dt><dd><p>Das Verzeichnis, in dem die Dokumente abgelegt sind. In der Voreinstellung befinden sich alle Seiten in diesem Verzeichnis, durch symbolische Links oder Aliase lassen sich aber auch andere Orte festlegen.</p></dd></dl></div><div class=paragraph><p>Es ist empfehlenswert, eine Sicherungskopie der Apache-Konfigurationsdatei anzulegen, bevor Änderungen durchgeführt werden. Wenn die Konfiguration von Apache abgeschlossen ist, speichern Sie die Datei und überprüfen Sie die Konfiguration mit <code>apachectl</code>. Der Befehl <code>apachectl configtest</code> sollte <code>Syntax OK</code> zurückgeben.</p></div><div class=paragraph><p>Um den Apache beim Systemstart zu starten, fügen Sie folgende Zeile in <span class=filename>/etc/rc.conf</span> ein:</p></div><div class="literalblock programlisting"><div class=content><pre>apache24_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Wenn Sie während des Systemstarts weitere Parameter an den Apache übergeben wollen, können Sie diese durch eine zusätzliche Zeile in <span class=filename>rc.conf</span> angeben:</p></div><div class="literalblock programlisting"><div class=content><pre>apache24_flags=&#34;&#34;</pre></div></div><div class=paragraph><p>Wenn apachectl keine Konfigurationsfehler meldet, starten Sie <code>httpd</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service apache24 start</span></code></pre></div></div><div class=paragraph><p>Sie können den <code>httpd</code>-Dienst testen, indem Sie <code>http://<em>localhost</em></code> in einen Browser eingeben, wobei Sie <em>localhost</em> durch den vollqualifizierten Domainnamen der Maschine ersetzen, auf dem der <code>httpd</code> läuft. Die Standard Webseite, die angezeigt wird, ist <span class=filename>/usr/local/www/apache24/data/index.html</span>.</p></div><div class=paragraph><p>Die Konfiguration von Apache kann bei nachfolgenden Änderungen an der Konfigurationsdatei bei laufendem <code>httpd</code>, auf Fehler überprüft werden. Geben Sie dazu folgendes Kommando ein:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service apache24 configtest</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Es ist wichitg zu beachten, dass <code>configtest</code> kein <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a>-Standard ist, und somit nicht zwingend mit anderen <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a>-Startskripten funktioniert.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=_virtual_hosting>29.8.2. Virtual Hosting<a class=anchor href=#_virtual_hosting></a></h3><div class=paragraph><p>Virtual Hosting ermöglicht es, mehrere Webseiten auf einem Apache-Server laufen zu lassen. Die virtuellen Hosts können <em>IP-basiert</em> oder <em>namensbasiert</em> sein. IP-basiertes virtual Hosting verwendet eine IP-Adresse für jede Webseite. Beim namensbasierten virtual Hosting wird der HTTP/1.1-Header der Clients dazu verwendet, den Rechnernamen zu bestimmen. Dadurch wird es möglich, mehrere Domains unter der gleichen IP-Adresse zu betreiben.</p></div><div class=paragraph><p>Damit der Apache namenbasierte virtuelle Domains verwalten kann, fügen Sie für jede Webseite einen separaten <code>VirtualHost</code>-Block ein. Wenn der Webserver beispielsweise <code>www.domain.tld</code> heißt und die virtuelle Domain <code>www.someotherdomain.tld</code> einrichtet werden soll, ergänzen Sie <span class=filename>httpd.conf</span> um folgende Einträge:</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;VirtualHost *&gt;
    ServerName www.domain.tld
    DocumentRoot /www/domain.tld
&lt;/VirtualHost&gt;

&lt;VirtualHost *&gt;
    ServerName www.someotherdomain.tld
    DocumentRoot /www/someotherdomain.tld
&lt;/VirtualHost&gt;</pre></div></div><div class=paragraph><p>Setzen Sie für jeden virtuellen Host die entsprechenden Werte für <code>ServerName</code> und <code>DocumentRoot</code>.</p></div><div class=paragraph><p>Ausführliche Informationen zum Einrichten von virtuellen Hosts finden Sie in der offiziellen Apache-Dokumentation unter <a href=http://httpd.apache.org/docs/vhosts/>http://httpd.apache.org/docs/vhosts/</a>.</p></div></div><div class=sect2><h3 id=_häufig_verwendete_apache_module>29.8.3. Häufig verwendete Apache-Module<a class=anchor href=#_häufig_verwendete_apache_module></a></h3><div class=paragraph><p>Apache verwendet Module, die den Server um zusätzliche Funktionen erweitern. Eine vollständige Auflistung der zur Verfügung stehenden Module und Konfigurationsdetails finden Sie unter <a href=http://httpd.apache.org/docs/current/mod/>http://httpd.apache.org/docs/current/mod/</a>.</p></div><div class=paragraph><p>In FreeBSD können einige Module mit dem Port <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache24/>www/apache24</a> kompiliert werden. Geben Sie in <span class=filename>/usr/ports/www/apache24</span><code>make config</code> ein, um zu sehen, welche Module zur Verfügung stehen und welche Module in der Voreinstellung aktiviert sind. Wenn ein Modul nicht zusammen mit dem Port kompiliert wird, bietet die Ports-Sammlung die Möglichkeit viele Module zu installieren. Dieser Abschnitt beschreibt drei der am häufigsten verwendeten Module.</p></div><div class=sect3><h4 id=_ssl_unterstützung>29.8.3.1. SSL-Unterstützung<a class=anchor href=#_ssl_unterstützung></a></h4><div class=paragraph><p>Zu einem bestimmten Zeitpunkt erforderte die Unterstützung von SSL innerhalb von Apache ein separates Modul namens <span class=filename>mod_ssl</span>. Dies ist nicht mehr der Fall und die Installation des Apache-Webservers wird im Standard mit SSL-Unterstützung ausgeliefert. Ein Beispiel, wie Sie SSL-Unterstützung für einen Webserver aktivieren können, finden Sie in der Datei <span class=filename>httpd-ssl.conf</span> im Verzeichnis <span class=filename>/usr/local/etc/apache24/extra</span>. In diesem Verzeichnis befindet sich auch eine Beispieldatei namens <span class=filename>ssl.conf-sample</span>. Es wird empfohlen, beide Dateien zu überprüfen, um sichere Webseiten auf dem Apache-Webserver einzurichten.</p></div><div class=paragraph><p>Nachdem die Konfiguration von SSL abgeschlossen ist, muss die folgende Zeile in <span class=filename>httpd.conf</span> auskommentiert werden, um die Änderungen beim nächsten Neustart oder erneuten Laden der Konfiguration zu aktivieren:</p></div><div class="literalblock programlisting"><div class=content><pre>#Include etc/apache24/extra/httpd-ssl.conf</pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>SSL in Version 2 und 3 haben bekannte Schwachstellen. Es wird dringend empfohlen, TLS Version 1.2 und 1.3 anstelle der älteren SSL-Optionen zu aktivieren. Dies kann durch die Einstellung der folgenden Optionen in <span class=filename>ssl.conf</span> erreicht werden:</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre>SSLProtocol all -SSLv3 -SSLv2 +TLSv1.2 +TLSv1.3
SSLProxyProtocol all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1</pre></div></div><div class=paragraph><p>Um die Konfiguration von SSL im Webserver abzuschließen, entfernen Sie den Kommentar in der folgenden Zeile, um sicherzustellen, dass die Konfiguration bei einem Neustart oder beim erneuten laden der Konfiguration von Apache übernommen wird:</p></div><div class="literalblock programlisting"><div class=content><pre># Secure (SSL/TLS) connections
Include etc/apache24/extra/httpd-ssl.conf</pre></div></div><div class=paragraph><p>Diese Zeilen müssen in <span class=filename>httpd.conf</span> ebenfalls auskommentiert bleiben, um SSL in Apache vollständig zu unterstützen:</p></div><div class="literalblock programlisting"><div class=content><pre>LoadModule authn_socache_module libexec/apache24/mod_authn_socache.so
LoadModule socache_shmcb_module libexec/apache24/mod_socache_shmcb.so
LoadModule ssl_module libexec/apache24/mod_ssl.so</pre></div></div><div class=paragraph><p>Der nächste Schritt ist die Kooperation mit einer Zertifizierungsstelle, um die entsprechenden Zertifikate auf dem System installieren zu lassen. Dadurch wird eine Vertrauenskette für die Webseite etabliert und jegliche Warnungen vor selbstsignierten Zertifikaten verhindert.</p></div></div><div class=sect3><h4 id=_mod_perl>29.8.3.2. <span class=filename>mod_perl</span><a class=anchor href=#_mod_perl></a></h4><div class=paragraph><p>Das Modul <span class=filename>mod_perl</span> macht es möglich, vollständig in Perl geschriebene Apache-Module zu erzeugen. Da der Perl-Interpreter in den Server eingebettet wird, muss weder ein externer Interpreter noch Perl zusätzlich aufgerufen werden.</p></div><div class=paragraph><p><span class=filename>mod_perl</span> wird über den Port oder das Paket <a class=package href=https://cgit.freebsd.org/ports/tree/www/mod_perl2/>www/mod_perl2</a> installiert. Dokumentation für dieses Modul finden Sie unter <a href=http://perl.apache.org/docs/2.0/index.html>http://perl.apache.org/docs/2.0/index.html</a>.</p></div></div><div class=sect3><h4 id=_mod_php>29.8.3.3. <span class=filename>mod_php</span><a class=anchor href=#_mod_php></a></h4><div class=paragraph><p><em>PHP: Hypertext Preprocessor</em> (PHP) ist eine vielseitig verwendbare Skriptsprache, die besonders für die Web-Entwicklung geeignet ist. PHP kann in HTML eingebettet werden und ähnelt von der Syntax her Sprachen wie C, Java™ und Perl. Das Hauptanliegen von PHP ist es, Web-Entwicklern die rasche Erstellung von dynamisch erzeugten Internetseiten zu ermöglichen.</p></div><div class=paragraph><p>PHP und weitere in PHP geschriebene Funktionen unterstützt, muss das entsprechende Paket installiert werden.</p></div><div class=paragraph><p>Sie können mit <code>pkg</code> die Paketdatenbank nach allen unterstützten PHP-Versionen durchsuchen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg search php</span></code></pre></div></div><div class=paragraph><p>Die Ausgabe ist eine Liste mit Versionen und Funktionen des jeweiligen Pakets. Die Komponenten sind vollständig modular, d.h. die Funktionen werden durch die Installation des entsprechenden Pakets aktiviert. Geben Sie folgenden Befehl ein, um PHP-Version 7.4 für Apache zu installieren:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install mod_php74</span></code></pre></div></div><div class=paragraph><p>Falls irgendwelche Pakete Abhängigkeiten besitzen, werden diese zusätzlichen Pakete ebenfalls installiert.</p></div><div class=paragraph><p>Standardmäßig ist PHP nicht aktiviert. Die folgenden Zeilen müssen in der Apache-Konfigurationsdatei unterhalb von <span class=filename>/usr/local/etc/apache24</span> hinzugefügt werden, um PHP zu aktivieren:</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;FilesMatch &#34;\.php$&#34;&gt;
    SetHandler application/x-httpd-php
&lt;/FilesMatch&gt;
&lt;FilesMatch &#34;\.phps$&#34;&gt;
    SetHandler application/x-httpd-php-source
&lt;/FilesMatch&gt;</pre></div></div><div class=paragraph><p>Zusätzlich muss auch der <code>DirectoryIndex</code> in der Konfigurationsdatei aktualisiert werden und Apache muss entweder neu gestartet, oder die Konfiguration neu geladen werden, damit die Änderungen wirksam werden.</p></div><div class=paragraph><p>Mit <code>pkg</code> kann die Unterstützung für viele weitere PHP-Funktionen installiert werden. Um beispielsweise die Unterstützung für XML oder SSL zu erhalten, installieren Sie die entsprechenden Pakete:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install php74-xml php74-openssl</span></code></pre></div></div><div class=paragraph><p>Wie zuvor muss die Konfiguration von Apache neu geladen werden, damit die Änderungen wirksam werden. Dies gilt auch für Fälle, in denen lediglich ein Modul installiert wurde.</p></div><div class=paragraph><p>Geben Sie folgenden Befehl ein, um einen geordneten Neustart durchzuführen und die Konfiguration neu zu laden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># apachectl graceful</span></code></pre></div></div><div class=paragraph><p>Sobald die Installation abgeschlossen ist, gibt es zwei Möglichkeiten, um eine Liste der installierten PHP-Module und Informationen über die Umgebung der Installation zu erhalten. Die erste Möglichkeit besteht darin, die vollständige PHP-Binärdatei zu installieren und den Befehl auszuführen, um die Informationen zu erhalten:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg install php74</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># php -i | less</span></code></pre></div></div><div class=paragraph><p>Da die Ausgabe des Befehls sehr umfangreich ist, ist die Weiterleitung an einen Pager, wie beispielsweise <code>more</code> oder <code>less</code>, sinnvoll.</p></div><div class=paragraph><p>Um Änderungen an der globalen Konfiguration von PHP vorzunehmen, gibt es schließlich eine gut dokumentierte Datei, die in <span class=filename>/usr/local/etc/php.ini</span> installiert ist. Zum Zeitpunkt der Installation wird diese Datei nicht existieren, da zwei Versionen zur Auswahl stehen. Eine <span class=filename>php.ini-development</span> und eine <span class=filename>php.ini-production</span>. Diese Dateien sind Ansatzpunkte, die Administratoren bei der Implementierung unterstützen sollen.</p></div></div></div><div class=sect2><h3 id=_dynamische_webseiten>29.8.4. Dynamische Webseiten<a class=anchor href=#_dynamische_webseiten></a></h3><div class=paragraph><p>Neben mod_perl und mod_php stehen noch weitere Sprachen zur Erstellung von dynamischen Inhalten zur Verfügung. Dazu gehören auch Django und Ruby on Rails.</p></div><div class=sect3><h4 id=_django>29.8.4.1. Django<a class=anchor href=#_django></a></h4><div class=paragraph><p>Bei Django handelt es sich um ein unter der BSD-Lizenz verfügbares Framework zur schnellen Erstellung von mächtigen Internet-Applikationen. Es beinhaltet einen objekt-relationalen Mapper (wodurch Datentypen als Phyton-Objekte entwickelt werden können) sowie eine API für den dynamischen Datenbankzugriff auf diese Objekte, ohne dass Entwickler jemals SQL-Code schreiben müssen. Zusätzlich existiert ein umfangreiches Template-System, wodurch die Programmlogik von der HTML-Präsentation getrennt werden kann.</p></div><div class=paragraph><p>Django setzt das Modul mod_python und eine SQL-Datenbank voraus. In FreeBSD wird bei der Installation von <a class=package href=https://cgit.freebsd.org/ports/tree/www/py-django/>www/py-django</a> automatisch <span class=filename>mod_python</span> installiert. Als Datenbanken werden PostgreSQL, MySQL und SQLite unterstützt, wobei SQLite die Voreinstellung ist. Wenn Sie die Datenbank ändern möchten, geben Sie in <span class=filename>/usr/ports/www/py-django</span><code>make config</code> ein und installieren Sie den Port neu.</p></div><div class=paragraph><p>Nachdem Django installiert ist, benötigt die Anwendung ein Projektverzeichnis und die Apache-Konfiguration, um den eingebetteten Python-Interpreter zu nutzen. Dieser Interpreter wird verwendet um die Anwendung für spezifische URLs der Seite aufrufen.</p></div><div class=paragraph><p>Damit Apache Anfragen für bestimmte URLs an die Web-Applikation übergeben kann, müssen Sie den vollständigen Pfad zum Projektverzeichnis in <span class=filename>httpd.conf</span> festlegen:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>&lt;Location <span class=s2>&#34;/&#34;</span><span class=o>&gt;</span>
    SetHandler python-program
    PythonPath <span class=s2>&#34;[&#39;/pfad/zu/den/django/paketen/&#39;] + sys.path&#34;</span>
    PythonHandler django.core.handlers.modpython
    SetEnv DJANGO_SETTINGS_MODULE mysite.settings
    PythonAutoReload On
    PythonDebug On
&lt;/Location&gt;</code></pre></div></div><div class=paragraph><p>Weitere Informationen zur Verwendung von Django finden Sie unter <a href=https://docs.djangoproject.com/en/1.6/>https://docs.djangoproject.com/en/1.6/</a>.</p></div></div><div class=sect3><h4 id=_ruby_on_rails>29.8.4.2. Ruby on Rails<a class=anchor href=#_ruby_on_rails></a></h4><div class=paragraph><p>Ruby on Rails ist ein weiteres, als Open Source verfügbares Webframework. Es bietet einen kompletten Entwicklungsstack und erlaubt es Webentwicklern, umfangreiche und mächtige Applikationen in kurzer Zeit zu programmieren. Unter FreeBSD kann das Framework über den Port oder das Paket <a class=package href=https://cgit.freebsd.org/ports/tree/www/rubygem-rails/>www/rubygem-rails</a> installiert werden.</p></div><div class=paragraph><p>Weitere Informationen zur Verwendung von Ruby on Rails finden Sie unter <a href=http://rubyonrails.org/documentation>http://rubyonrails.org/documentation</a>.</p></div></div></div></div></div><div class=sect1><h2 id=network-ftp>29.9. File Transfer Protocol (FTP)<a class=anchor href=#network-ftp></a></h2><div class=sectionbody><div class=paragraph><p>Das File Transfer Protocol (FTP) ermöglicht auf einfache Art und Weise den Dateiaustausch mit einem FTP-Server. Der FTP-Server ftpd ist bei FreeBSD bereits im Basisystem enthalten.</p></div><div class=paragraph><p>FreeBSD verwendet mehrere Konfigurationsdateien, um den Zugriff auf den FTP zu kontrollieren. Dieser Abschnitt fasst diese Dateien zusammen. In <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpd&amp;sektion=8&amp;format=html">ftpd(8)</a> finden Sie weitere Inforamtionen über den integrierten FTP-Server.</p></div><div class=sect2><h3 id=_konfiguration>29.9.1. Konfiguration<a class=anchor href=#_konfiguration></a></h3><div class=paragraph><p>Der wichtigste Punkt ist hier die Entscheidung darüber, welche Benutzer auf den FTP-Server zugreifen dürfen. Ein FreeBSD-System verfügt über diverse Systembenutzerkonten, die jedoch nicht auf den FTP-Server zugreifen sollen. Die Datei <span class=filename>/etc/ftpusers</span> enthält alle Benutzer, die vom FTP-Zugriff ausgeschlossen sind. In der Voreinstellung gilt dies auch die gerade erwähnten Systembenutzerkonten. Sie können über diese Datei weitere Benutzer vom FTP-Zugriff ausschließen.</p></div><div class=paragraph><p>In einigen Fällen kann es wünschenswert sein, den Zugang für manche Benutzer einzuschränken, ohne dabei FTP komplett zu verbieten. Dazu passen Sie <span class=filename>/etc/ftpchroot</span>, wie in <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpchroot&amp;sektion=5&amp;format=html">ftpchroot(5)</a> beschrieben, entsprechend an. Diese Datei enthält Benutzer und Gruppen sowie die für sie geltenden Einschränkungen für FTP.</p></div><div class=paragraph><p>Um anonymen FTP-Zugriff auf dem Server zu aktivieren, muss ein Benutzer <code>ftp</code> auf dem FreeBSD-System angelegt werden. Danach können sich Benutzer mit dem Benutzernamen <code>ftp</code> oder <code>anonymous</code> am FTP-Server anmelden. Das Passwort ist dabei beliebig, allerdings wird dazu in der Regel eine E-Mail-Adresse verwendet. Meldet sich ein anonymer Benutzer an, aktiviert der FTP-Server <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a>, um den Zugriff auf das Heimatverzeichnis des Benutzers <code>ftp</code> zu beschränken.</p></div><div class=paragraph><p>Es gibt zwei Textdateien, deren Inhalt den FTP-Clients bei der Anmeldung angezeigt wird. Der Inhalt von <span class=filename>/etc/ftpwelcome</span> wird angezeigt, bevor der Login-Prompt erscheint. Nach einer erfolgreichen Anmeldung wird der Inhalt von <span class=filename>/etc/ftpmotd</span> angezeigt. Beachten Sie aber, dass es dabei um einen Pfad relativ zur Umgebung des anzumeldenden Benutzers handelt. Bei einer anonymen Anmeldung würde also der Inhalt von <span class=filename>~ftp/etc/ftpmotd</span> angezeigt.</p></div><div class=paragraph><p>Sobald der FTP-Server konfiguriert ist, setzen Sie die entsprechende Variable in <span class=filename>/etc/rc.conf</span>, damit der Dienst beim Booten gestartet wird:</p></div><div class="literalblock programlisting"><div class=content><pre>ftpd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Starten Sie den Dienst:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ftpd start</span></code></pre></div></div><div class=paragraph><p>Testen Sie die Verbindung zum FTP-Server, indem Sie folgendes eingeben:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ftp localhost</code></pre></div></div></div><div class=sect2><h3 id=_wartung>29.9.2. Wartung<a class=anchor href=#_wartung></a></h3><div class=paragraph><p>Der ftpd-Daemon verwendet <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog&amp;sektion=3&amp;format=html">syslog(3)</a>, um Protokolldateien zu erstellen. In der Voreinstellung werden alle FTP betreffenden Nachrichten nach <span class=filename>/var/log/xferlog</span> geschrieben. Dies lässt sich aber durch das Einfügen der folgenden Zeile in <span class=filename>/etc/syslog.conf</span> ändern:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp.info      /var/log/xferlog</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Beachten Sie, dass mit dem Betrieb eines anonymen FTP-Servers verschiedene Sicherheitsrisiken verbunden sind. Problematisch ist hier vor allem die Erlaubnis zum anonymen Upload von Dateien. Dadurch könnte der Server zur Verbreitung von illegaler oder nicht lizensierter Software oder noch Schlimmeren missbraucht werden. Wenn anonyme FTP-Uploads dennoch erforderlich sind, sollten Sie die Zugriffsrechte so setzen, dass solche Dateien erst nach Zustimmung eines Administrators von anderen Benutzern heruntergeladen werden können.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=network-samba>29.10. Datei- und Druckserver für Microsoft® Windows®-Clients (Samba)<a class=anchor href=#network-samba></a></h2><div class=sectionbody><div class=paragraph><p>Samba ist ein beliebtes Open Source Softwarepaket, das Datei- und Druckdienste über das SMB/CIFS-Protokoll zur Verfügung stellt. Dieses Protokoll ist in Microsoft® Windows®-Systemen enthalten und kann über die Installation der Samba-Client-Bibliotheken in andere Betriebssysteme integriert werden. Das Protokoll ermöglicht es Clients auf freigegebene Daten und Drucker zuzugreifen, so als ob es sich um lokale Drucker und Festplatten handeln würde.</p></div><div class=paragraph><p>Unter FreeBSD können die Samba-Client-Bibliotheken über den Port oder das Paket <a class=package href=https://cgit.freebsd.org/ports/tree/net/samba410/>net/samba410</a> installiert werden. Der Client ermöglicht es einem FreeBSD-System auf SMB/CIFS-Freigaben in einem Microsoft® Windows®-Netzwerk zuzugreifen.</p></div><div class=paragraph><p>Ein FreeBSD-System kann auch als Samba-Server agieren, wenn Sie den Port oder das Paket <a class=package href=https://cgit.freebsd.org/ports/tree/net/samba410/>net/samba410</a> installieren. Dies erlaubt es dem Administrator SMB/CIFS-Freigaben auf dem FreeBSD-System einzurichten, auf welche dann Clients mit Microsoft® Windows® oder den Samba-Client-Bibliotheken zugreifen können.</p></div><div class=sect2><h3 id=_konfiguration_des_servers>29.10.1. Konfiguration des Servers<a class=anchor href=#_konfiguration_des_servers></a></h3><div class=paragraph><p>Samba wird in <span class=filename>/usr/local/etc/smb4.conf</span> konfiguriert. Diese Datei muss erstellt werden, bevor Samba benutzt werden kann.</p></div><div class=paragraph><p>Eine einfache <span class=filename>smb4.conf</span>, wie hier gezeigt, stellt den Zugriff auf Verzeichnisse und Drucker für Windows®-Clients in einer Arbeitsgruppe (engl. Workgroup) zur Verfügung. In aufwendigeren Installationen, in denen LDAP oder Active Directory zum Einsatz kommt, ist es einfacher die <span class=filename>smb4.conf</span> mit dem Werkzeug <a href="https://man.freebsd.org/cgi/man.cgi?query=samba-tool&amp;sektion=8&amp;format=html">samba-tool(8)</a> zu erstellen.</p></div><div class="literalblock programlisting"><div class=content><pre>[global]
workgroup = WORKGROUP
server string = Samba Server Version %v
netbios name = ExampleMachine
wins support = Yes
security = user
passdb backend = tdbsam

# Example: share /usr/src accessible only to &#39;developer&#39; user
[src]
path = /usr/src
valid users = developer
writable  = yes
browsable = yes
read only = no
guest ok = no
public = no
create mask = 0666
directory mask = 0755</pre></div></div><div class=sect3><h4 id=_globale_einstellungen>29.10.1.1. Globale Einstellungen<a class=anchor href=#_globale_einstellungen></a></h4><div class=paragraph><p>Einstellungen für das Netzwerk werden in <span class=filename>/usr/local/etc/smb4.conf</span> definiert:</p></div><div class=dlist><dl><dt class=hdlist1><code>workgroup</code></dt><dd><p>Der Name der Arbeitsgruppe.</p></dd><dt class=hdlist1><code>netbios name</code></dt><dd><p>Der NetBIOS-Namen fest, unter dem der Samba-Server bekannt ist. In der Regel handelt es sich dabei um den ersten Teil des DNS-Namens des Servers.</p></dd><dt class=hdlist1><code>server string</code></dt><dd><p>Legt die Beschreibung fest, die angezeigt wird, wenn mit <code>net view</code> oder anderen Netzwerkprogrammen Informationen über den Server angefordert werden.</p></dd><dt class=hdlist1><code>wins support</code></dt><dd><p>Legt fest, ob Samba als WINS-Server fungieren soll. Aktivieren Sie die Unterstützung für WINS auf maximal einem Server im Netzwerk.</p></dd></dl></div></div><div class=sect3><h4 id=_samba_absichern>29.10.1.2. Samba absichern<a class=anchor href=#_samba_absichern></a></h4><div class=paragraph><p>Die wichtigsten Einstellungen in <span class=filename>/usr/local/etc/smb4.conf</span> betreffen das zu verwendende Sicherheitsmodell sowie das Backend-Passwortformat. Die folgenden Direktiven steuern diese Optionen:</p></div><div class=dlist><dl><dt class=hdlist1><code>security</code></dt><dd><p>Die häufigsten Optionen sind <code>security = share</code> und <code>security = user</code>. Wenn die Clients Benutzernamen verwenden, die den Benutzernamen auf dem FreeBSD-Rechner entsprechen, dann sollte die Einstellung <code>user level</code> verwendet werden. Dies ist die Standardeinstellung. Allerdings ist es dazu erforderlich, dass sich die Clients auf dem Rechner anmelden, bevor sie auf gemeinsame Ressourcen zugreifen können.</p><div class=paragraph><p>In der Einstellung <code>share level</code> müssen sich Clients nicht unter Verwendung eines gültigen Logins auf dem Rechner anmelden, bevor sie auf gemeinsame Ressourcen zugreifen können. In früheren Samba-Versionen war dies die Standardeinstellung.</p></div></dd><dt class=hdlist1><code>passdb backend</code></dt><dd><p>Samba erlaubt verschiedene Backend-Authentifizierungsmodelle. Clients können sich durch LDAP, NIS+, eine SQL-Datenbank oder eine Passwortdatei authentifizieren. Die empfohlene Authentifizierungsmethode, <code>tdbsam</code>, ist ideal für einfache Netzwerke und wird hier vorgestellt. Für größere oder komplexere Netzwerke wird <code>ldapsam</code> empfohlen. <code>smbpasswd</code> war der frühere Standard und gilt mittlerweile als veraltet.</p></dd></dl></div></div><div class=sect3><h4 id=_samba_benutzer>29.10.1.3. Samba Benutzer<a class=anchor href=#_samba_benutzer></a></h4><div class=paragraph><p>Damit Windows®-Clients auf die Freigaben zugreifen können, müssen die FreeBSD-Benutzerkonten in der <code>SambaSAMAccount</code>-Datenbank zugeordnet werden. Für bereits vorhandene Benutzerkonten kann dazu <a href="https://man.freebsd.org/cgi/man.cgi?query=pdbedit&amp;sektion=8&amp;format=html">pdbedit(8)</a> benutzt werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pdbedit -a username</span></code></pre></div></div><div class=paragraph><p>Dieser Abschnitt beschreibt lediglich die am häufigsten verwendeten Einstellungen. Ausführliche Informationen zur Konfiguration von Samba finden Sie im <a href=http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/>Official Samba HOWTO</a>.</p></div></div></div><div class=sect2><h3 id=_samba_starten>29.10.2. Samba starten<a class=anchor href=#_samba_starten></a></h3><div class=paragraph><p>Damit Samba beim Systemstart automatisch aktiviert wird, fügen Sie die folgende Zeile in <span class=filename>/etc/rc.conf</span> ein:</p></div><div class="literalblock programlisting"><div class=content><pre>samba_server_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Jetzt kann Samba direkt gestartet werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service samba_server start</span>
Performing sanity check on Samba configuration: OK
Starting nmbd.
Starting smbd.</code></pre></div></div><div class=paragraph><p>Samba verwendet drei Daemonen. Sowohl nmbd als auch smbd werden durch <code>samba_enable</code> gestartet. Wenn eine Namensauflösung über winbind benötigt wird, setzen Sie zusätzlich:</p></div><div class="literalblock programlisting"><div class=content><pre>winbindd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Samba kann jederzeit durch folgenden Befehl beendet werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service samba_server stop</span></code></pre></div></div><div class=paragraph><p>Samba ist ein komplexes Softwarepaket mit umfassenden Funktionen, die eine weitreichende Integration von Microsoft® Windows®-Netzwerken ermöglichen. Für eine Beschreibung dieser Zusatzfunktionen sollten Sie sich auf <a href=http://www.samba.org>http://www.samba.org</a> umsehen.</p></div></div></div></div><div class=sect1><h2 id=network-ntp>29.11. Die Uhrzeit mit NTP synchronisieren<a class=anchor href=#network-ntp></a></h2><div class=sectionbody><div class=paragraph><p>Die interne Uhrzeit eines Computers ist nie ganz exakt. Dies ist problematisch, da viele Dienste darauf angewiesen sind, dass die Computer im Netzwerk die exakte Uhrzeit übermitteln. Die exakte Uhrzeit ist auch erforderlich um sicherzustellen, dass die Zeitstempel der Dateien konsistent bleiben. Das Network Time Protocol (NTP) bietet die Möglichkeit, die exakte Uhrzeit in einem Netzwerk zur Verfügung zu stellen.</p></div><div class=paragraph><p>FreeBSD enthält <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a>, das andere NTP-Server abfragen kann um die Uhrzeit auf diesem Computer zu synchronisieren, oder um selbst die Uhrzeit für andere Computer im Netzwerk bereitzustellen.</p></div><div class=paragraph><p>Dieser Abschnitt beschreibt die Konfiguration von ntpd unter FreeBSD. Zusätzliche Dokumentation im HTML-Format finden Sie in <span class=filename>/usr/shared/doc/ntp/</span>.</p></div><div class=sect2><h3 id=_ntp_konfigurieren>29.11.1. NTP konfigurieren<a class=anchor href=#_ntp_konfigurieren></a></h3><div class=paragraph><p>FreeBSD enthält mit ntpd ein Werkzeug, das zur Synchronisation der Uhrzeit verwendet werden kann. Die Konfiguration von Ntpd erfolgt über Variablen in <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> und <span class=filename>/etc/ntp.conf</span>, und wird in den folgenden Abschnitten beschrieben.</p></div><div class=paragraph><p>Ntpd kommuniziert über UDP mit mit seinen Peers. Sämtliche Firewalls zwischen Ihrem Rechner und seinen NTP-Peers müssen so konfiguriert sein, dass UDP-Pakete auf Port 123 ein- und ausgehen können.</p></div><div class=sect3><h4 id=_etcntp_conf>29.11.1.1. <span class=filename>/etc/ntp.conf</span><a class=anchor href=#_etcntp_conf></a></h4><div class=paragraph><p>Ntpd liest <span class=filename>/etc/ntp.conf</span> um herauszufinden, welche NTP-Server abgefragt werden sollen. Die Auswahl mehrerer NTP-Server wird empfohlen, falls einer der Server nicht erreichbar ist oder sich seine Uhr als unzuverlässig erweist. Wenn ntpd Antworten erhält, bevorzugt es zuverlässige Server gegenüber weniger zuverlässigen. Die abgefragten Server können lokal im Netzwerk, von einem ISP bereitgestellt oder aus einer <a href=http://support.ntp.org/bin/view/Servers/WebHome>Liste öffentlich zugänglicher NTP-Server</a> ausgewählt werden. Wenn Sie einen öffentlichen NTP-Server auswählen, wählen Sie einen geografisch nahen NTP-Server und überprüfen Sie dessen Nutzungsrichtlinien. Das Schlüsselwort <code>pool</code> wählt einen oder mehrere Server aus einem Pool von Servern aus. Eine <a href=http://support.ntp.org/bin/view/Servers/NTPPoolServers>Liste mit öffentlich zugänglichen NTP-Pools</a> ist ebenfalls verfügbar, sortiert nach geografischen Gebieten. Darüber hinaus bietet FreeBSD einen vom Projekt gespendeten Pool, <code>0.freebsd.pool.ntp.org</code>.</p></div><div class=exampleblock><div class=title>Beispiel 3. Beispiel für <span class=filename>/etc/ntp.conf</span></div><div class=content><div class=paragraph><p>Dies ist ein einfaches Beispiel für eine <span class=filename>ntp.conf</span>-Datei. Die Einträge können so übernommen werden, wie sie sind. Die Datei enthält die notwendigen Einschränkungen für den Betrieb an einer öffentlich zugänglichen Netzwerkverbindung.</p></div><div class="literalblock programlisting"><div class=content><pre># Disallow ntpq control/query access.  Allow peers to be added only
# based on pool and server statements in this file.
restrict default limited kod nomodify notrap noquery nopeer
restrict source  limited kod nomodify notrap noquery

# Allow unrestricted access from localhost for queries and control.
restrict 127.0.0.1
restrict ::1

# Add a specific server.
server ntplocal.example.com iburst

# Add FreeBSD pool servers until 3-6 good servers are available.
tos minclock 3 maxclock 6
pool 0.freebsd.pool.ntp.org iburst

# Use a local leap-seconds file.
leapfile &#34;/var/db/ntpd.leap-seconds.list&#34;</pre></div></div></div></div><div class=paragraph><p>Das Format dieser Datei ist in <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a> beschrieben. Die folgenden Erläuterungen geben einen Überblick über die Schlüsselwörter, die in dem obigen Beispiel benutzt werden.</p></div><div class=paragraph><p>In der Voreinstellung ist ein NTP-Server für jeden Host im Netzwerk zugänglich. Das Schlüsselwort <code>restrict</code> steuert, welche Systeme auf den Server zugreifen dürfen. Es werden mehrere <code>restrict</code>-Einträge unterstützt, die jeweils die vorherigen Anweisungen verfeinern. Die im Beispiel gezeigten Werte gewährem dem lokalen System vollen Abfrage- und Kontrollzugriff, während entfernte Systemen nur die Möglichkeit gegeben wird, die Zeit abzufragen. Weitere Details finden Sie im Abschnitt <code>Access Control Support</code> von <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a>.</p></div><div class=paragraph><p>Das Schlüsselwort <code>server</code> gibt einen einzelnen Server zur Abfrage der Zeit an. Die Datei kann das Schlüsselwort <code>server</code> mehrmals enthalten, wobei pro Zeile jeweils ein Server aufgeführt ist. Das Schlüsselwort <code>pool</code> gibt einen Pool von Servern an. Ntpd fügt bei Bedarf einen oder mehrere Server aus diesem Pool hinzu, um die Anzahl der mit dem Wert <code>tos minclock</code> Peers zu erreichen. Das Schlüsselwort <code>iburst</code> weist ntpd an, einen Burst von acht schnellen Paketen mit dem Server auszutauschen, wenn der Kontakt zum ersten Mal hergestellt wird, um so die Systemzeit schneller zu synchronisieren.</p></div><div class=paragraph><p>Das Schlüsselwort <code>leapfile</code> gibt den Pfad einer Datei an, die Informationen über Schaltsekunden enthält. Die Datei wird automatisch durch <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a> aktualisiert. Der angegebene Pfad muss mit dem in der Variable <code>ntp_db_leapfile</code> aus <span class=filename>/etc/rc.conf</span> übereinstimmen.</p></div></div><div class=sect3><h4 id=_ntp_einträge_in_etcrc_conf>29.11.1.2. NTP-Einträge in <span class=filename>/etc/rc.conf</span><a class=anchor href=#_ntp_einträge_in_etcrc_conf></a></h4><div class=paragraph><p>Um ntpd beim Booten zu starten, Sie in <span class=filename>/etc/rc.conf</span> den Eintrag <code>ntpd_enable="YES"</code> hinzu. Danach kann ntpd direkt gestartet werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ntpd start</span></code></pre></div></div><div class=paragraph><p>Lediglich <code>ntpd_enable</code> wird benötigt um ntpd benutzen zu können. Die unten aufgeführten <span class=filename>rc.conf</span>-Variablen können bei Bedarf ebenfalls verwendet werden.</p></div><div class=paragraph><p>Ist <code>ntpd_sync_on_start="YES"</code> konfiguriert, setzt ntpd die Uhrzeit beim Systemstart, unabhängig davon wie hoch die Abweichung ist. Normalerweise protokolliert ntpd eine Fehlermeldung und beendet sich selbst, wenn die Uhr um mehr als 1000 Sekunden abweicht. Diese Option ist besonders auf Systemem ohne batteriegepufferte Echtzeituhr nützlich.</p></div><div class=paragraph><p>Setzen Sie <code>ntpd_oomprotect="YES"</code>, um ntpd-Daemon davor zu schützen, vom System beendet zu werden, das versucht, sich von einer Out of Memory (OOM) Situation zu retten.</p></div><div class=paragraph><p>Mit <code>ntpd_config=</code> setzen Sie den Pfad auf eine alternative <span class=filename>ntp.conf</span>-Datei.</p></div><div class=paragraph><p>In <code>ntpd_flags=</code> können bei Bedarf weitere Werte enthalten sein. Vermeiden Sie jedoch die Werte, die intern von <span class=filename>/etc/rc.d/ntpd</span> verwaltet werden:</p></div><div class=ulist><ul><li><p><code>-p</code> (Pfad zur PID-Datei)</p></li><li><p><code>-c</code> (Setzen Sie stattdessen <code>ntpd_config=</code>)</p></li></ul></div></div><div class=sect3><h4 id=_ntpd_und_der_nicht_privilegierte_ntpd_benutzer>29.11.1.3. Ntpd und der nicht privilegierte <code>ntpd</code>-Benutzer<a class=anchor href=#_ntpd_und_der_nicht_privilegierte_ntpd_benutzer></a></h4><div class=paragraph><p>In FreeBSD kann Ntpd als nicht privilegierter Benutzer gestartet und ausgeführt werden. Dies erfordert das Modul <a href="https://man.freebsd.org/cgi/man.cgi?query=mac_ntpd&amp;sektion=4&amp;format=html">mac_ntpd(4)</a>. Das Startskript <span class=filename>/etc/rc.d/ntpd</span> untersucht zunächst die NTP Konfiguration. Wenn möglich, lädt es das <code>mac_ntpd</code>-Modul und startet dann ntpd als nicht privilegierten Benutzer <code>ntpd</code> (Benutzer-ID 123). Um Probleme mit dem Datei- und Verzeichniszugriff zu vermeiden, wird das Startskript ntpd nicht automatisch als Benutzer <code>ntpd</code> starten, falls die Konfiguration irgendwelche Datei-bezogenen Optionen enthält.</p></div><div class=paragraph><p>Falls einer der folgenden Werte in <code>ntpd_flags</code> vorhanden ist, muss eine manuelle Konfiguration vorgenommen werden, damit der Daemon vom <code>ntpd</code>-Benutzer ausgeführt werden kann:</p></div><div class=ulist><ul><li><p>-f oder --driftfile</p></li><li><p>-i oder --jaildir</p></li><li><p>-k oder --keyfile</p></li><li><p>-l oder --logfile</p></li><li><p>-s oder --statsdir</p></li></ul></div><div class=paragraph><p>Wenn einer der folgenden Schlüsselwörter in <span class=filename>ntp.conf</span> vorhanden ist, muss eine manuelle Konfiguration vorgenommen werden, damit der Daemon vom <code>ntpd</code>-Benutzer ausgeführt werden kann:</p></div><div class=ulist><ul><li><p>crypto</p></li><li><p>driftfile</p></li><li><p>key</p></li><li><p>logdir</p></li><li><p>statsdir</p></li></ul></div><div class=paragraph><p>Um ntpd so zu konfigurieren, dass der Daemon als Benutzer <code>ntpd</code> läuft, müssen folgende Voraussetzungen erfüllt sein:</p></div><div class=ulist><ul><li><p>Stellen Sie sicher, dass der <code>ntpd</code>-Benutzer Zugriff auf alle in der Konfiguration angegebenen Dateien und Verzeichnisse hat.</p></li><li><p>Stellen Sie sicher, dass das Modul <code>mac_ntpd</code> in den Kernel geladen oder kompiliert wird. <a href="https://man.freebsd.org/cgi/man.cgi?query=mac_ntpd&amp;sektion=4&amp;format=html">mac_ntpd(4)</a> enthält weitere Details.</p></li><li><p>Setzen Sie <code>ntpd_user="ntpd"</code> in <span class=filename>/etc/rc.conf</span>.</p></li></ul></div></div></div><div class=sect2><h3 id=_ntp_mit_einer_ppp_verbindung_verwenden>29.11.2. NTP mit einer PPP-Verbindung verwenden<a class=anchor href=#_ntp_mit_einer_ppp_verbindung_verwenden></a></h3><div class=paragraph><p>ntpd benötigt keine ständige Internetverbindung. Wenn Sie sich über eine PPP-Verbindung ins Internet einwählen, sollten Sie verhindern, dass NTP-Verkehr eine Verbindung aufbauen oder aufrechterhalten kann. Dies kann in den <code>filter</code>-Direktiven von <span class=filename>/etc/ppp/ppp.conf</span> festgelegt werden. Ein Beispiel:</p></div><div class="literalblock programlisting"><div class=content><pre>set filter dial 0 deny udp src eq 123
# Prevent NTP traffic from initiating dial out
set filter dial 1 permit 0 0
set filter alive 0 deny udp src eq 123
# Prevent incoming NTP traffic from keeping the connection open
set filter alive 1 deny udp dst eq 123
# Prevent outgoing NTP traffic from keeping the connection open
set filter alive 2 permit 0/0 0/0</pre></div></div><div class=paragraph><p>Weitere Informationen finden Sie im Abschnitt <code>PACKET FILTERING</code> von <a href="https://man.freebsd.org/cgi/man.cgi?query=ppp&amp;sektion=8&amp;format=html">ppp(8)</a> sowie in den Beispielen unter <span class=filename>/usr/shared/examples/ppp/</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Einige Internetprovider blockieren Ports mit niedrigen Nummern. In solchen Fällen funktioniert NTP leider nicht, da Antworten eines NTP-Servers den Rechner nicht erreichen werden.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=network-iscsi>29.12. iSCSI Initiator und Target Konfiguration<a class=anchor href=#network-iscsi></a></h2><div class=sectionbody><div class=paragraph><p>iSCSI bietet die Möglichkeit, Speicherkapazitäten über ein Netzwerk zu teilen. Im Gegensatz zu NFS, das auf Dateisystemebene arbeitet, funktioniert iSCSI auf Blockgerätebene.</p></div><div class=paragraph><p>In der iSCSI-Terminologie wird das System, das den Speicherplatz zur Verfügung stellt, als <em>Target</em> bezeichnet. Der Speicherplatz selbst kann aus einer physischen Festplatte bestehen, oder auch aus einem Bereich, der mehrere Festplatten, oder nur Teile einer Festplatte, repräsentiert. Wenn beispielsweise die Festplatte(n) mit ZFS formatiert ist, kann ein zvol erstellt werden, welches dann als iSCSI-Speicher verwendet werden kann.</p></div><div class=paragraph><p>Die Clients, die auf den iSCSI-Speicher zugreifen, werden <em>Initiator</em> genannt. Ihnen steht der verfügbare Speicher als rohe, nicht formatierte Festplatte, die auch als LUN bezeichnet wird, zur Verfügung. Die Gerätedateien für die Festplatten erscheinen in <span class=filename>/dev/</span> und müssen separat formatiert und eingehangen werden.</p></div><div class=paragraph><p>FreeBSD enthält einen nativen, kernelbasierten iSCSI <em>Target</em> und <em>Initiator</em>. Dieser Abschnitt beschreibt, wie ein FreeBSD-System als Target oder Initiator konfiguriert wird.</p></div><div class=sect2><h3 id=network-iscsi-target>29.12.1. Ein iSCSI-Target konfigurieren<a class=anchor href=#network-iscsi-target></a></h3><div class=paragraph><p>Um ein iSCSI-Target zu konfigurieren, erstellen Sie die Konfigurationsdatei <span class=filename>/etc/ctl.conf</span> und fügen Sie eine Zeile in <span class=filename>/etc/rc.conf</span> hinzu, um sicherzustellen, dass <a href="https://man.freebsd.org/cgi/man.cgi?query=ctld&amp;sektion=8&amp;format=html">ctld(8)</a> automatisch beim Booten gestartet wird. Starten Sie dann den Daemon.</p></div><div class=paragraph><p>Das folgende Beispiel zeigt eine einfache <span class=filename>/etc/ctl.conf</span>. Eine vollständige Beschreibung dieser Datei und der verfügbaren Optionen finden Sie in <a href="https://man.freebsd.org/cgi/man.cgi?query=ctl.conf&amp;sektion=5&amp;format=html">ctl.conf(5)</a>.</p></div><div class="literalblock programlisting"><div class=content><pre>portal-group pg0 {
	discovery-auth-group no-authentication
	listen 0.0.0.0
	listen [::]
}

target iqn.2012-06.com.example:target0 {
	auth-group no-authentication
	portal-group pg0

	lun 0 {
		path /data/target0-0
		size 4G
	}
}</pre></div></div><div class=paragraph><p>Der erste Eintrag definiert die Portalgruppe <code>pg0</code>. Portalgruppen legen fest, auf welchen Netzwerk-Adressen der <a href="https://man.freebsd.org/cgi/man.cgi?query=ctld&amp;sektion=8&amp;format=html">ctld(8)</a>-Daemon Verbindungen entgegennehmen wird. Der Eintrag <code>discovery-auth-group no-authentication</code> zeigt an, dass jeder Initiator iSCSI-Targets suchen darf, ohne sich authentifizieren zu müssen. Die dritte und vierte Zeilen konfigurieren <a href="https://man.freebsd.org/cgi/man.cgi?query=ctld&amp;sektion=8&amp;format=html">ctld(8)</a> so, dass er auf allen IPv4- (<code>listen 0.0.0.0</code>) und IPv6-Adressen (<code>listen [::]</code>) auf dem Standard-Port 3260 lauscht.</p></div><div class=paragraph><p>Es ist nicht zwingend notwendig eine Portalgruppe zu definieren, da es bereits eine integrierte Portalgruppe namens <code>default</code> gibt. In diesem Fall ist der Unterschied zwischen <code>default</code> und <code>pg0</code> der, dass bei <code>default</code> eine Authentifizierung nötig ist, während bei <code>pg0</code> die Suche nach Targets immer erlaubt ist.</p></div><div class=paragraph><p>Der zweite Eintrag definiert ein einzelnes Target. Ein Target hat zwei mögliche Bedeutungen: eine Maschine die iSCSI bereitstellt, oder eine Gruppe von LUNs. Dieses Beispiel verwendet die letztere Bedeutung, wobei <code>iqn.2012-06.com.example:target0</code> der Name des Targets ist. Dieser Name ist nur für Testzwecke geeignet. Für den tatsächlichen Gebrauch ändern Sie <code>com.example</code> auf einen echten, rückwärts geschriebenen Domainnamen. <code>2012-06</code> steht für das Jahr und den Monat, an dem die Domain erworben wurde. <code>target0</code> darf einen beliebigen Wert haben und in der Konfigurationsdatei darf eine beliebige Anzahl von Targets definiert werden.</p></div><div class=paragraph><p>Der Eintrag <code>auth-group no-authentication</code> erlaubt es allen Initiatoren sich mit dem angegebenen Target zu verbinden und <code>portal-group pg0</code> macht das Target über die Portalgruppe <code>pg0</code> erreichbar.</p></div><div class=paragraph><p>Die nächste Sektion definiert die LUN. Jede LUN wird dem Initiator als separate Platte präsentiert. Für jedes Target können mehrere LUNs definiert werden. Jede LUN wird über eine Nummer identifiziert, wobei LUN 0 verpflichtend ist. Die Zeile mit dem Pfad <code>path /data/target0-0</code> definiert den absoluten Pfad zu der Datei oder des zvols für die LUN. Der Pfad muss vorhanden sein, bevor <a href="https://man.freebsd.org/cgi/man.cgi?query=ctld&amp;sektion=8&amp;format=html">ctld(8)</a> gestartet wird. Die zweite Zeile ist optional und gibt die Größe der LUN an. Als nächstes fügen Sie folgende Zeile in <span class=filename>/etc/rc.conf</span> ein, um <a href="https://man.freebsd.org/cgi/man.cgi?query=ctld&amp;sektion=8&amp;format=html">ctld(8)</a> automatisch beim Booten zu starten:</p></div><div class="literalblock programlisting"><div class=content><pre>ctld_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Um <a href="https://man.freebsd.org/cgi/man.cgi?query=ctld&amp;sektion=8&amp;format=html">ctld(8)</a> jetzt zu starten, geben Sie dieses Kommando ein:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ctld start</span></code></pre></div></div><div class=paragraph><p>Der <a href="https://man.freebsd.org/cgi/man.cgi?query=ctld&amp;sektion=8&amp;format=html">ctld(8)</a>-Daemon liest beim Start <span class=filename>/etc/ctl.conf</span>. Wenn diese Datei nach dem Starten des Daemons bearbeitet wird, verwenden Sie folgenden Befehl, damit die Änderungen sofort wirksam werden:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service ctld reload</span></code></pre></div></div><div class=sect3><h4 id=_authentifizierung>29.12.1.1. Authentifizierung<a class=anchor href=#_authentifizierung></a></h4><div class=paragraph><p>Die vorherigen Beispiele sind grundsätzlich unsicher, da keine Authentifizierung verwendet wird und jedermann vollen Zugriff auf alle Targets hat. Um für den Zugriff auf die Targets einen Benutzernamen und ein Passwort vorauszusetzen, ändern Sie die Konfigurationsdatei wie folgt:</p></div><div class="literalblock programlisting"><div class=content><pre>auth-group ag0 {
	chap username1 secretsecret
	chap username2 anothersecret
}

portal-group pg0 {
	discovery-auth-group no-authentication
	listen 0.0.0.0
	listen [::]
}

target iqn.2012-06.com.example:target0 {
	auth-group ag0
	portal-group pg0
	lun 0 {
		path /data/target0-0
		size 4G
	}
}</pre></div></div><div class=paragraph><p>Die Sektion <code>auth-group</code> definiert die Benutzernamen und Passwörter. Um sich mit <code>iqn.2012-06.com.example:target0</code> zu verbinden, muss ein Initiator zuerst einen Benutzernamen und ein Passwort angeben. Eine Suche nach Targets wird jedoch immer noch ohne Authentifizierung gestattet. Um eine Authentifizierung zu erfordern, setzen Sie <code>discovery-auth-group</code> auf eine definierte <code>auth-group</code> anstelle von <code>no-autentication</code>.</p></div><div class=paragraph><p>In der Regel wird für jeden Initiator ein einzelnes Target exportiert. In diesem Beispiel wird der Benutzername und das Passwort direkt im Target-Eintrag festgelegt:</p></div><div class="literalblock programlisting"><div class=content><pre>target iqn.2012-06.com.example:target0 {
	portal-group pg0
	chap username1 secretsecret

	lun 0 {
		path /data/target0-0
		size 4G
	}
}</pre></div></div></div></div><div class=sect2><h3 id=network-iscsi-initiator>29.12.2. Einen iSCSI-Initiator konfigurieren<a class=anchor href=#network-iscsi-initiator></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Der in dieser Sektion beschriebene iSCSI-Initiator wird seit FreeBSD 10.0-RELEASE unterstützt. Lesen Sie <a href="https://man.freebsd.org/cgi/man.cgi?query=iscontrol&amp;sektion=8&amp;format=html">iscontrol(8)</a>, wenn Sie den iSCSI-Initiator mit älteren Versionen benutzen möchten.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Um den Initiator zu verwenden, muss zunächst ein iSCSI-Daemon gestartet sein. Der Daemon des Initiators benötigt keine Konfigurationsdatei. Um den Daemon automatisch beim Booten zu starten, fügen Sie folgende Zeile in <span class=filename>/etc/rc.conf</span> ein:</p></div><div class="literalblock programlisting"><div class=content><pre>iscsid_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Um <a href="https://man.freebsd.org/cgi/man.cgi?query=iscsid&amp;sektion=8&amp;format=html">iscsid(8)</a> jetzt zu starten, geben Sie dieses Kommando ein:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># service iscsid start</span></code></pre></div></div><div class=paragraph><p>Die Verbindung mit einem Target kann mit, oder ohne eine Konfigurationsdatei <span class=filename>/etc/iscsi.conf</span> durchgeführt werden. Dieser Abschnitt beschreibt beide Möglichkeiten.</p></div><div class=sect3><h4 id=_verbindung_zu_einem_target_herstellen_ohne_konfigurationsdatei>29.12.2.1. Verbindung zu einem Target herstellen - ohne Konfigurationsdatei<a class=anchor href=#_verbindung_zu_einem_target_herstellen_ohne_konfigurationsdatei></a></h4><div class=paragraph><p>Um einen Initiator mit einem Target zu verbinden, geben Sie die IP-Adresse des Portals und den Namen des Ziels an:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iscsictl -A -p 10.10.10.10 -t iqn.2012-06.com.example:target0</span></code></pre></div></div><div class=paragraph><p>Um zu überprüfen, ob die Verbindung gelungen ist, rufen Sie <code>iscsictl</code> ohne Argumente auf. Die Ausgabe sollte in etwa wie folgt aussehen:</p></div><div class="literalblock programlisting"><div class=content><pre>Target name                                     Target portal   State
iqn.2012-06.com.example:target0                 10.10.10.10     Connected: da0</pre></div></div><div class=paragraph><p>In diesem Beispiel wurde die iSCSI-Sitzung mit der LUN <span class=filename>/dev/da0</span> erfolgreich hergestellt. Wenn das Target <code>iqn.2012-06.com.example:target0</code> mehr als nur eine LUN exportiert, werden mehrere Gerätedateien in der Ausgabe angezeigt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Connected: da0 da1 da2.</code></pre></div></div><div class=paragraph><p>Alle Fehler werden auf die Ausgabe und in die Systemprotokolle geschrieben. Diese Meldung deutet beispielsweise darauf hin, dass der <a href="https://man.freebsd.org/cgi/man.cgi?query=iscsid&amp;sektion=8&amp;format=html">iscsid(8)</a>-Daemon nicht ausgeführt wird:</p></div><div class="literalblock programlisting"><div class=content><pre>Target name                                     Target portal   State
iqn.2012-06.com.example:target0                 10.10.10.10     Waiting for iscsid(8)</pre></div></div><div class=paragraph><p>Die folgende Meldung deutet auf ein Netzwerkproblem hin, zum Beispiel eine falsche IP-Adresse oder einen falschen Port:</p></div><div class="literalblock programlisting"><div class=content><pre>Target name                                     Target portal   State
iqn.2012-06.com.example:target0                 10.10.10.11     Connection refused</pre></div></div><div class=paragraph><p>Diese Meldung bedeutet, dass der Name des Targets falsch angegeben wurde:</p></div><div class="literalblock programlisting"><div class=content><pre>Target name                                     Target portal   State
iqn.2012-06.com.example:target0                 10.10.10.10     Not found</pre></div></div><div class=paragraph><p>Diese Meldung bedeutet, dass das Target eine Authentifizierung erfordert:</p></div><div class="literalblock programlisting"><div class=content><pre>Target name                                     Target portal   State
iqn.2012-06.com.example:target0                 10.10.10.10     Authentication failed</pre></div></div><div class=paragraph><p>Verwenden Sie diese Syntax, um einen CHAP-Benutzernamen und ein Passwort anzugeben:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iscsictl -A -p 10.10.10.10 -t iqn.2012-06.com.example:target0 -u user -s secretsecret</span></code></pre></div></div></div><div class=sect3><h4 id=_verbindung_mit_einem_target_herstellen_mit_konfigurationsdatei>29.12.2.2. Verbindung mit einem Target herstellen - mit Konfigurationsdatei<a class=anchor href=#_verbindung_mit_einem_target_herstellen_mit_konfigurationsdatei></a></h4><div class=paragraph><p>Wenn Sie für die Verbindung eine Konfigurationsdatei verwenden möchten, erstellen Sie <span class=filename>/etc/iscsi.conf</span> mit etwa folgendem Inhalt:</p></div><div class="literalblock programlisting"><div class=content><pre>t0 {
	TargetAddress   = 10.10.10.10
	TargetName      = iqn.2012-06.com.example:target0
	AuthMethod      = CHAP
	chapIName       = user
	chapSecret      = secretsecret
}</pre></div></div><div class=paragraph><p><code>t0</code> gibt den Namen der Sektion in der Konfigurationsdatei an. Diser Name wird vom Initiator benutzt, um zu bestimmen, welche Konfiguration verwendet werden soll. Die anderen Einträge legen die Parameter fest, die während der Verbindung verwendet werden. <code>TargetAddress</code> und <code>TargetName</code> müssen angegeben werden, die restlichen sind optional. In diesen Beispiel wird der CHAP-Benuztername und das Passwort angegeben.</p></div><div class=paragraph><p>Um sich mit einem bestimmten Target zu verbinden, geben Sie dessen Namen an:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iscsictl -An t0</span></code></pre></div></div><div class=paragraph><p>Um sich stattdessen mit allen definierten Targets aus der Konfigurationsdatei zu verbinden, verwenden Sie:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iscsictl -Aa</span></code></pre></div></div><div class=paragraph><p>Damit sich der Initiator automatisch mit allen Targets aus <span class=filename>/etc/iscsi.conf</span> verbindet, fügen Sie folgendes in <span class=filename>/etc/rc.conf</span> hinzu:</p></div><div class="literalblock programlisting"><div class=content><pre>iscsictl_enable=&#34;YES&#34;
iscsictl_flags=&#34;-Aa&#34;</pre></div></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Last modified on</strong>: 9. März 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=6199af92e7" target=_blank>Danilo G. Baio</a></p></div><div class=buttons><div class=prev><i class="fa fa-angle-left" aria-hidden=true title=Prev></i><div class=container><a href=https://docs.freebsd.org/de/books/handbook/mail class=direction>Prev</a></div></div><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div><div class=next><div class=container><a href=https://docs.freebsd.org/de/books/handbook/firewalls class=direction>Next</a></div><i class="fa fa-angle-right" aria-hidden=true title=Next></i></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#network-servers-synopsis>29.1. Übersicht</a></li><li><a href=#network-inetd>29.2. Der inetd"Super-Server"</a></li><li><a href=#network-nfs>29.3. Network File System (NFS)</a></li><li><a href=#network-nis>29.4. Network Information System (NIS)</a></li><li><a href=#network-ldap>29.5. Lightweight Access Directory Protocol (LDAP)</a></li><li><a href=#network-dhcp>29.6. Dynamic Host Configuration Protocol (DHCP)</a></li><li><a href=#network-dns>29.7. Domain Name System (DNS)</a></li><li><a href=#network-apache>29.8. Apache HTTP-Server</a></li><li><a href=#network-ftp>29.9. File Transfer Protocol (FTP)</a></li><li><a href=#network-samba>29.10. Datei- und Druckserver für Microsoft® Windows®-Clients (Samba)</a></li><li><a href=#network-ntp>29.11. Die Uhrzeit mit NTP synchronisieren</a></li><li><a href=#network-iscsi>29.12. iSCSI Initiator und Target Konfiguration</a></li></ul></nav><hr><div class=resources><h3>Resources</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Download PDF"></i><a href=https://download.freebsd.org/doc/de/books/handbook/handbook_de.pdf>Download PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Edit this page"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/de/_index target=_blank>Edit this page</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/de/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Choose language">
<span>German</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>High contrast</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/de class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/de/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>