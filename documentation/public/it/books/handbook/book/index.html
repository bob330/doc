<!doctype html><html class=theme-light lang=it><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=copyright content="1995-2024 The FreeBSD Foundation"><link rel=canonical href=https://docs.freebsd.org/it/books/handbook/book/><title>Manuale di FreeBSD | FreeBSD Documentation Portal</title>
<meta name=theme-color content="#790000"><meta name=color-scheme content="system light dark high-contrast"><link rel="shortcut icon" href=https://docs.freebsd.org/favicon.ico><link rel=stylesheet href=https://docs.freebsd.org/styles/main.min.css><link rel=stylesheet href=https://docs.freebsd.org/css/font-awesome-min.css><script defer src=/js/theme-chooser.min.js></script><script defer src=/js/copy-clipboard.min.js></script><script defer src=/js/search.min.js></script><meta name=twitter:card content="summary"><meta name=twitter:domain content="docs.FreeBSD.org"><meta name=twitter:site content="@freebsd"><meta name=twitter:url content="https://twitter.com/freebsd"><meta property="og:title" content="Manuale di FreeBSD"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:image" content="https://docs.freebsd.org/favicon.ico"><meta property="og:image:alt" content="FreeBSD Logo"><meta property="og:locale" content="it"><meta property="og:url" content="https://docs.freebsd.org/it/books/handbook/book/"><meta property="og:site_name" content="FreeBSD Documentation Portal"><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","url":"https:\/\/docs.freebsd.org\/it\/books\/handbook\/book\/","name":"FreeBSD Documentation Portal","headline":"FreeBSD Documentation Portal","description":"FreeBSD Documentation Portal"}</script></head><body><header><div class=header-container><div class=logo-menu-bars-container><a href=https://www.FreeBSD.org class=logo><img src=https://docs.freebsd.org/images/FreeBSD-monochromatic.svg width=160 height=50 alt="FreeBSD logo">
</a><label class=menu-bars for=menu-bars><i class="fa fa-bars" aria-hidden=true></i></label></div><input id=menu-bars type=checkbox><nav><ul class=menu><li class=menu-item><input id=about type=checkbox>
<a href=# aria-label="Navigate to About section"><label class=menu-item-description for=about>About
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/about/ target=_blank>About</a></li><li><a href=https://www.freebsd.org/about/ target=_blank>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/about-us/about-the-foundation/ target=_blank>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct/ target=_blank>Code of Conduct</a></li></ul></li><li class=menu-item><input id=download type=checkbox>
<a href=# aria-label="Navigate to get FreeBSD section"><label class=menu-item-description for=download>Get FreeBSD
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/where/ target=_blank>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/releases/ target=_blank>Release Information</a></li><li><a href=https://www.freebsd.org/releng/ target=_blank>Release Engineering</a></li><li><a href=https://www.freebsd.org/security/ target=_blank>Security Advisories</a></li></ul></li><li class=menu-item><input id=documentation type=checkbox>
<a href=# aria-label="Navigate to get Documentation section"><label class=menu-item-description for=documentation>Documentation
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=/it>Documentation portal</a></li><li><a href=https://docs.freebsd.org/it/books/handbook>FreeBSD Handbook</a></li><li><a href=https://docs.freebsd.org/it/books/porters-handbook>Porter's Handbook</a></li><li><a href=https://docs.FreeBSD.org/en/books/fdp-primer>Documentation Project Handbook</a></li><li><a href=https://man.FreeBSD.org target=_blank>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank>Presentations and papers</a></li><li><a href=https://wiki.FreeBSD.org target=_blank>Wiki</a></li><li><a href=https://docs.freebsd.org/it/books>Books</a></li><li><a href=https://docs.freebsd.org/it/articles>Articles</a></li></ul></li><li class=menu-item><input id=community type=checkbox>
<a href=# aria-label="Navigate to get Community section"><label class=menu-item-description for=community>Community
<i class="fa fa-angle-down fa-lg" aria-hidden=true></i></label></a><ul class=sub-menu><li class=title><a href=https://www.freebsd.org/community/>Community</a></li><li><a href=https://docs.freebsd.org/it/articles/contributing>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank>Forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank>Bug Tracker</a></li><li><a href=https://www.freebsd.org/support/ target=_blank>Support</a></li></ul></li></ul></nav><div class=search-donate-container><form class=search method=get id=search-header-form action=https://docs.freebsd.org/search name=search-header-form><input type=hidden name=DB value=it>
<input id=words name=P type=text size=20 maxlength=255>
<button>
<i class="fa fa-search" aria-hidden=true></i></button></form><div class=donate><a href=https://freebsdfoundation.org/donate/ target=_blank><span class=heart>♥</span>
Donate</a></div></div></div></header><input type=checkbox class="hidden toggle" id=menu-control><main class=main-wrapper-book><a id=top></a><div class=book><h1 class=title>Manuale di FreeBSD</h1><div class="admonitionblock note"><p><i class="fa fa-exclamation-circle" aria-hidden=true></i>
This translation may be out of date. To help with the translations please access the <a href=https://translate-dev.freebsd.org/ target=_blank>FreeBSD translations instance</a>.</p></div><div class=copyright>Copyright © 1995-2020 The FreeBSD Italian Documentation Project</div><div class=legalnotice><a id=trademarks></a><details><summary>marchi registrati</summary><p>FreeBSD è un marchio registrato della FreeBSD Foundation.</p><p>IBM, AIX, OS/2, PowerPC, PS/2, S/390 e ThinkPad sono marchi della International Business Machines Corporation negli Stati Uniti, in altri paesi, o in entrambi.</p><p>IEEE, POSIX e 802 sono marchi registrati dell'Institute of Electrical and Electronics Engineers, Inc. negli Stati Uniti.</p><p>Red Hat e RPM sono marchi o marchi registrati della Red Hat, Inc. negli Stati Uniti e in altri paesi.</p><p>3Com e HomeConnect sono marchi registrati della 3Com Corporation.</p><p>Adobe, Acrobat, Acrobat Reader e PostScript sono marchi o marchi registrati della Adobe Systems Incorporated negli Stati Uniti e/o in altri paesi.</p><p>Apple, AirPort, FireWire, Mac, Macintosh, Mac OS, Quicktime e TrueType sono marchi della Apple Computer, Inc., registrati negli Stati Uniti e in altri paesi.</p><p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium e Xeon sono marchi o marchi registrati della Intel Corporation o delle sue sussidiarie negli Stati Uniti e in altri paesi.</p><p>Linux è un marchio registrato di Linus Torvalds.</p><p>Microsoft, IntelliMouse, MS-DOS, Outlook, Windows, Windows Media e Windows NT sono marchi o marchi registrati della Microsoft Corporation negli Stati Uniti e/o in altri paesi.</p><p>Motif, OSF/1 e UNIX sono marchi registrati e IT DialTone e The Open Group sono marchi del The Open Group negli Stati Uniti e in altri paesi.</p><p>Sun, Sun Microsystems, Java, Java Virtual Machine, JDK, JRE, JSP, JVM, Netra, Solaris, StarOffice e SunOS sono marchi o marchi registrati della Sun Microsystems, Inc. negli Stati Uniti e in altri paesi.</p><p>RealNetworks, RealPlayer e RealAudio sono marchi registrati della RealNetworks, Inc.</p><p>Oracle è un marchio registrato della Oracle Corporation.</p><p>3ware e Escalade sono marchi registrati della 3ware Inc.</p><p>ARM è un marchio registrato della ARM Limited.</p><p>Adaptec è un marchio registrato della Adaptec, Inc.</p><p>Heidelberg, Helvetica, Palatino e Times Roman sono marchi o marchi registrati della Heidelberger Druckmaschinen AG negli Stati Uniti e in altri paesi.</p><p>Intuit e Quicken sono marchi registrati e/o marchi di servizi registrati della Intuit Inc., o una delle sue sussidiarie, negli Stati Uniti e in altri paesi.</p><p>LSI Logic, AcceleRAID, eXtremeRAID, MegaRAID e Mylex sono marchi o marchi registrati della LSI Logic Corp.</p><p>MATLAB è un marchio registrato della The MathWorks, Inc.</p><p>SpeedTouch è un marchio di Thomson.</p><p>VMware è un marchio della VMware, Inc.</p><p>Mathematica è un marchio registrato della Wolfram Research, Inc.</p><p>Ogg Vorbis e Xiph.Org sono marchi di Xiph.Org.</p><p>XFree86 è un marchio della The XFree86 Project, Inc.</p><p>Molti dei nomi identificativi usati dai produttori e dai venditori per distinguere i loro prodotti sono anche dei marchi. Quando questi nomi appaiono nel documento, e il FreeBSD Project è al corrente del marchio, vengono fatti seguire dal simbolo “™” o “®”.</p></details></div><div class=toc-mobile><h3>Indice</h3><nav id=TableOfContents><ul><li><a href=#book-preface>Prefazione</a><ul><li><a href=#preface-audience>A chi si rivolge</a></li><li><a href=#italian-notes>Note alla Edizione Italiana</a></li><li><a href=#preface-overview>Organizzazione di Questo Libro</a></li><li><a href=#preface-conv>Convenzioni usate in questo libro</a></li><li><a href=#preface-acknowledgements>Riconoscimenti</a></li></ul></li><li><a href=#getting-started>Parte I: Per Cominciare</a><ul><li><a href=#introduction>Capitolo 1. Introduzione</a></li><li><a href=#install>Capitolo 2. Installazione di FreeBSD</a></li><li><a href=#basics>Capitolo 3. Basi di Unix</a></li><li><a href=#ports>Capitolo 4. Installazione delle Applicazioni: Port e Package</a></li><li><a href=#x11>Capitolo 5. L’X Window System</a></li></ul></li><li><a href=#common-tasks>Parte II: Compiti Ordinari</a><ul><li><a href=#desktop>Capitolo 6. Applicazioni Desktop</a></li><li><a href=#multimedia>Capitolo 7. Multimedia</a></li><li><a href=#kernelconfig>Capitolo 8. Configurazione del Kernel di FreeBSD</a></li><li><a href=#printing>Capitolo 9. Stampa</a></li><li><a href=#linuxemu>Capitolo 10. Compatibilità con i Binari di Linux</a></li></ul></li><li><a href=#system-administration>Parte III: Amministrazione del Sistema</a><ul><li><a href=#config-tuning>Capitolo 11. Configurazione e Messa a Punto</a></li><li><a href=#boot>Capitolo 12. La Procedura di Avvio di FreeBSD</a></li><li><a href=#users>Capitolo 13. Gestione degli Utenti e degli Account di Base</a></li><li><a href=#security>Capitolo 14. Sicurezza</a></li><li><a href=#jails>Capitolo 15. Jail</a></li><li><a href=#mac>Capitolo 16. Mandatory Access Control</a></li><li><a href=#audit>Capitolo 17. Auditing degli Eventi di Sicurezza</a></li><li><a href=#disks>Capitolo 18. Archiviazione dei Dati</a></li><li><a href=#geom>Capitolo 19. GEOM: Framework modulare per la trasformazione del disco</a></li><li><a href=#vinum-vinum>Capitolo 20. Il Gestore di Volumi Vinum</a></li><li><a href=#virtualization>Capitolo 21. Virtualizzazione</a></li><li><a href=#l10n>Capitolo 22. Localizzazione - Uso e Impostazione dell’I18N/L10N</a></li><li><a href=#updating-upgrading>Capitolo 23. Lo Stato dell’Arte</a></li></ul></li><li><a href=#network-communication>Parte IV: Comunicazione di Rete</a><ul><li><a href=#serialcomms>Capitolo 24. Comunicazioni Seriali</a></li><li><a href=#ppp-and-slip>Capitolo 25. PPP e SLIP</a></li><li><a href=#mail>Capitolo 26. Posta Elettronica</a></li><li><a href=#network-servers>Capitolo 27. Server di rete</a></li><li><a href=#firewalls>Capitolo 28. Firewall</a></li><li><a href=#advanced-networking>Capitolo 29. Networking Avanzato</a></li></ul></li><li><a href=#appendices>Parte V: Appendici</a><ul><li><a href=#mirrors>Appendice A: Ottenere FreeBSD</a></li><li><a href=#bibliography>Appendice B: Bibliografia</a></li><li><a href=#eresources>Appendice C: Risorse su Internet</a></li><li><a href=#pgpkeys>Appendice D: Chiavi PGP</a></li></ul></li></ul></nav></div><div class=book-content><div id=preamble><div class=sectionbody><div class="quoteblock abstract abstract-title"><blockquote>Sommario</blockquote></div><div class=paragraph><p>Benvenuto in FreeBSD! Questo manuale copre l’installazione e l’uso giorno per giorno di <em>FreeBSD 11.2-RELEASE</em> e <em>FreeBSD 12.0-RELEASE</em>. Questo manuale è un <em>progetto in evoluzione</em> ed è il frutto del lavoro di molti singoli. Come tale alcun sezioni potrebbero richiedere degli aggiornamenti poichè datate. Se sei interessato ad aiutare questo progetto, invia un’email alla <a href=https://lists.FreeBSD.org/subscription/freebsd-doc>mailing list sul progetto di documentazione di FreeBSD</a>. L’ultima versione di questo documento è sempre disponibile sul <a href=http://www.FreeBSD.org/>sito web di FreeBSD</a> (versioni precedenti di questo manuale possono essere trovate all’indirizzo seguente <a href=http://docs.FreeBSD.org/doc/>http://docs.FreeBSD.org/doc/</a>). Inoltre può essere scaricata in una varietà di formati e tipi di compressione dal <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/>server FTP di FreeBSD</a> o da uno dei numerosi <a href=./#mirrors-ftp>siti mirror</a>. Se preferisci avere una copia rilegata del manuale, puoi comprarne una su <a href=http://www.freebsdmall.com/>FreeBSD Mall</a>. Puoi anche voler <a href=https://www.FreeBSD.org/search/>cercare nel manuale</a>.</p></div><hr></div></div><div class=sect1><h2 id=book-preface>Prefazione<a class=anchor href=#book-preface></a></h2><div class=sectionbody><div class=sect2><h3 id=preface-audience>A chi si rivolge<a class=anchor href=#preface-audience></a></h3><div class=paragraph><p>Gli utenti alla prime armi con FreeBSD scopriranno che la prima sezione di questo libro guida l’utente attraverso il processo di installazione di FreeBSD e introduce delicatamente i concetti e le convenzioni su cui si basa UNIX®. Affrontare questa sezione richiede poco più che il desiderio di esplorare, e l’abilità di far propri i nuovi concetti appena vengono introdotti.</p></div><div class=paragraph><p>Una volta superata questa distanza, la seconda sezione, ben più grande, del Manuale è una guida di riferimento completa a tutti i tipi di argomenti di interesse per l’amministratore di un sistema FreeBSD. Alcuni di questi capitoli suggeriscono di effettuare prima la lettura di qualche altro capitolo, e questo è evidenziato nel sommario all’inizio di ogni capitolo.</p></div><div class=paragraph><p>Per una lista di fonti di informazioni aggiuntive, guarda l’<a href=./#bibliography>Bibliografia</a>.</p></div></div><div class=sect2><h3 id=italian-notes>Note alla Edizione Italiana<a class=anchor href=#italian-notes></a></h3><div class=paragraph><p>La traduzione di questo manuale sta vedendo impegnate numerose persone facenti parte del <a href=http://www.gufi.org/\~alex/>FreeBSD Italian Documentation Project</a>. Il progetto è partito da una iniziativa del <a href=http://www.gufi.org/>Gruppo Utenti FreeBSD Italia (GUFI)</a> ed è coordinato da Alex Dupre &lt;<a href=mailto:ale@FreeBSD.org>ale@FreeBSD.org</a>>, con l’ausilio della mailing list <a href=mailto:traduzioni@gufi.org>traduzioni@gufi.org</a>.</p></div><div class=paragraph><p>Come puoi vedere, il lavoro di traduzione è ancora in corso ed è portato avanti esclusivamente da volontari. Le persone che hanno contribuito (o stanno contribuendo) alla realizzazione del progetto sono, in ordine sparso:</p></div><div class=ulist><ul><li><p>Alex Dupre &lt;<a href=mailto:ale@FreeBSD.org>ale@FreeBSD.org</a>></p></li><li><p>Daniele Mari &lt;<a href=mailto:daniele@cct.it>daniele@cct.it</a>></p></li><li><p>Eugenio Modesti &lt;<a href=mailto:eugenio@openbeer.it>eugenio@openbeer.it</a>></p></li><li><p>Fulvio Mariola &lt;<a href=mailto:freedom_3@virgilio.it>freedom_3@virgilio.it</a>></p></li><li><p>Gabriele Framarin &lt;<a href=mailto:gabrielef@zeropiu.it>gabrielef@zeropiu.it</a>></p></li><li><p>Gianmarco Giovannelli &lt;<a href=mailto:gmarco@scotty.masternet.it>gmarco@scotty.masternet.it</a>></p></li><li><p>Gianluca Sordiglioni &lt;<a href=mailto:inzet@gufi.org>inzet@gufi.org</a>></p></li><li><p>Gian Marco Auzas &lt;<a href=mailto:kaosweb@yahoo.it>kaosweb@yahoo.it</a>></p></li><li><p>Lapo Luchini &lt;<a href=mailto:lapo@lapo.it>lapo@lapo.it</a>></p></li><li><p>Luca Cardone &lt;<a href=mailto:luca@xunil.it>luca@xunil.it</a>></p></li><li><p>Marco Trentini &lt;<a href=mailto:mark@remotelab.org>mark@remotelab.org</a>></p></li><li><p>Matteo Riondato &lt;<a href=mailto:rionda@gufi.org>rionda@gufi.org</a>></p></li><li><p>Massimiliano Stucchi &lt;<a href=mailto:max@gufi.org>max@gufi.org</a>></p></li><li><p>Nicola Vitale &lt;<a href=mailto:nivit@libero.it>nivit@libero.it</a>></p></li><li><p>Dario Billo &lt;<a href=mailto:rodario@libero.it>rodario@libero.it</a>></p></li><li><p>Rudy Lamarca &lt;<a href=mailto:rudy@tzone.it>rudy@tzone.it</a>></p></li><li><p>Salvo Bartolotta &lt;<a href=mailto:bartequi@neomedia.it>bartequi@neomedia.it</a>></p></li><li><p>Gabriele Renzi &lt;<a href=mailto:surrender_it@yahoo.it>surrender_it@yahoo.it</a>></p></li><li><p>Valerio Daelli &lt;<a href=mailto:valerio.daelli@gmail.com>valerio.daelli@gmail.com</a>></p></li><li><p>Davide Cittaro &lt;<a href=mailto:daweonline@gmail.com>daweonline@gmail.com</a>></p></li></ul></div></div><div class=sect2><h3 id=preface-overview>Organizzazione di Questo Libro<a class=anchor href=#preface-overview></a></h3><div class=paragraph><p>Questo libro è diviso in cinque sezioni distinte logicamente. La prima sezione, <em>Per Cominciare</em>, copre l’installazione e l’uso basilare di FreeBSD. Ci si aspetta che il lettore segua questi capitoli in sequenza, possibilmente saltando i capitoli che trattano argomenti familiari. La seconda sezione, <em>Compiti Comuni</em> copre alcune funzionalità di FreeBSD frequentemente utilizzate. Questa sezione, e tutte le sezioni successive, possono essere lette non in ordine. Ogni capitolo inizia con un succinto sommario che descrive ciò che il capitolo copre e ciò che il lettore dovrebbe aspettarsi di conoscere dopo la lettura dello stesso. Questo ha l’intenzione di permettere al lettore di trovare velocemente i capitoli di proprio interesse. La terza sezione, <em>Amministrazione del Sistema</em>, copre argomentazioni di amministrazione. La quarta sezione <em>Comunicazione di Rete</em>, copre argomenti di rete e relativi servizi. La quinta sezione contiene appendici con informazioni di riferimento.</p></div><div class=dlist><dl><dt class=hdlist1><em><a href=./#introduction>Introduzione</a>, Introduzione</em></dt><dd><p>Introduce FreeBSD ai nuovi utenti. Descrive la storia del FreeBSD Project, gli obbiettivi e il modello di sviluppo.</p></dd><dt class=hdlist1><em><a href=./#install>Installazione di FreeBSD</a>, Installazione</em></dt><dd><p>Segue l’utente attraverso l’intera procedura di installazione. Sono trattati alcuni argomenti avanzati di installazione, come l’installazione attraverso la console seriale.</p></dd><dt class=hdlist1><em><a href=./#basics>Basi di UNIX</a>, Basi di UNIX®</em></dt><dd><p>Tratta i comandi e le funzionalità di base del sistema operativo FreeBSD. Se hai familiarità con Linux® o con altri tipi di UNIX® allora puoi probabilmente saltare questo capitolo.</p></dd><dt class=hdlist1><em><a href=./#ports>Installazione delle Applicazioni. Port e Package</a>, Installazione delle Applicazioni</em></dt><dd><p>Copre l’installazione del software di terze parti sia con l’innovativo "Ports Collection" di FreeBSD che con i comuni pacchetti binari.</p></dd><dt class=hdlist1><em><a href=./#x11>L’X Window System</a>, L’X Window System</em></dt><dd><p>Descrive X Window System in generale e l’uso di X11 su FreeBSD in particolare. Inoltre descrive i comuni ambienti desktop KDE e GNOME.</p></dd><dt class=hdlist1><em><a href=./#desktop>Applicazioni Desktop</a>Applicazioni Desktop, Applicazioni Desktop</em></dt><dd><p>Elenca le più comuni applicazioni desktop, come browser web e suite di produttività, e descrive come installarle su FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#multimedia>Multimedia</a>, Multimedia</em></dt><dd><p>Mostra come configurare il supporto audio/video per il sistema. Inoltre descrive alcune applicazioni di esempio.</p></dd><dt class=hdlist1><em><a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>, Configurazione del Kernel di FreeBSD</em></dt><dd><p>Spiega perché potresti aver bisogno di configurare un nuovo kernel e fornisce istruzioni dettagliate per la configurazione, la creazione, e l’installazione di un kernel personalizzato.</p></dd><dt class=hdlist1><em><a href=./#printing>Stampa</a>, Stampa</em></dt><dd><p>Spiega come gestire le stampanti su FreeBSD, incluse informazioni sulle pagine banner, sull’accounting di stampa, e sulla configurazione iniziale.</p></dd><dt class=hdlist1><em><a href=./#linuxemu>Compatibilità con i Binari di Linux</a>, Compatibilità con i Binari di Linux®</em></dt><dd><p>Descrive le caratteristiche di compatibilità con Linux® di FreeBSD. Inoltre fornisce dettagliate istruzioni sull’installazione di molte comuni applicazioni Linux® come Oracle®, SAP® R/3®, e Mathematica®.</p></dd><dt class=hdlist1><em><a href=./#config-tuning>Configurazione e Messa a Punto</a>, Configurazione e Messa a Punto</em></dt><dd><p>Descrive i parametri disponibili agli amministratori di sistema per ottimizzare le performance di un sistema FreeBSD. Inoltre descrive i vari file di configurazione usati in FreeBSD e dove trovarli.</p></dd><dt class=hdlist1><em><a href=./#boot>La Procedura di Avvio</a>, La Procedura di Avvio</em></dt><dd><p>Descrive la procedura di avvio di FreeBSD e spiega come controllare questo processo con le opzioni di configurazione.</p></dd><dt class=hdlist1><em><a href=./#users>Gestione degli Utenti e degli Account di Base</a>, Gestione degli Utenti e degli Account di Base</em></dt><dd><p>Descrive la creazione e la manipolazione degli account degli utenti. Inoltre parla delle limitazioni delle risorse che possono essere impostate sugli utenti e di altri compiti di gestione degli account.</p></dd><dt class=hdlist1><em><a href=./#security>Sicurezza</a>, Sicurezza</em></dt><dd><p>Elenca vari tool disponibili per aiutarti a mantenere il tuo sistema FreeBSD sicuro, inclusi Kerberos, IPsec, OpenSSH.</p></dd><dt class=hdlist1><em><a href=./#jails>Jail</a>, Jail</em></dt><dd><p>Descrive il funzionamento delle jail, e i miglioramenti rispetto al tradizionale supporto chroot di FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#mac>Controllo di Accesso Vincolato</a>, Controllo di Accesso Vincolato</em></dt><dd><p>Descrive il Controllo di Accesso Vincolato (MAC) e come questo meccanismo può essere usato per fortificare un sistema FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#audit>Controllo degli Eventi di Sicurezza</a>, Controllo degli Eventi di Sicurezza</em></dt><dd><p>Descrive cos’è il Controllo degli Eventi di FreeBSD, come può essere abilitato, configurato, e come i log possano essere ispezionati o monitorati.</p></dd><dt class=hdlist1><em><a href=./#disks>Archiviazione dei Dati</a> Archiviazione dei Dati</em></dt><dd><p>Descrive come gestire i dispositivi di archiviazione e i file system con FreeBSD. Questo include dischi fisici, array RAID, dispositivi ottici e a nastro, dischi di memoria, e file system di rete.</p></dd><dt class=hdlist1><em><a href=./#geom>GEOM. Framework modulare per la trasformazione del disco</a>, GEOM</em></dt><dd><p>Descrive cos’è il framework GEOM in FreeBSD e come configurare vari livelli di RAID supportati.</p></dd><dt class=hdlist1><em><a href=./#vinum-vinum>Il Gestore di Volumi Vinum</a>, Vinum</em></dt><dd><p>Descrive come usare Vinum, un gestore di volumi che permette di creare dischi logici indipendenti dal dispositivo, con supporto RAID-0, RAID-1 e RAID-5 via software.</p></dd><dt class=hdlist1><em><a href=./#virtualization>Virtualizzazione</a>, Virtualizzazione</em></dt><dd><p>Descrive cosa offrono i sistemi di virtualizzazione, e come possano essere usati con FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#l10n>Localizzazione - Uso e Impostazione dell’I18N/L10N</a>, Localizzazione</em></dt><dd><p>Descrive come usare FreeBSD in altre lingue oltre all’inglese. Copre la localizzazione a livello sia del sistema che applicativo.</p></dd><dt class=hdlist1><em><a href=./#cutting-edge>Lo Stato dell’Arte</a>, Lo Stato dell’Arte</em></dt><dd><p>Spiega le differenze tra FreeBSD-STABLE, FreeBSD-CURRENT, e le release FreeBSD. Descrive quali utenti possano trarre beneficio seguendo un sistema di sviluppo e spiega come effettuare questa procedura.</p></dd><dt class=hdlist1><em><a href=./#serialcomms>Comunicazioni Seriali</a>, Comunicazioni Seriali</em></dt><dd><p>Spiega come connettere terminali e modem al tuo sistema FreeBSD sia per connessioni in ingresso che in uscita.</p></dd><dt class=hdlist1><em><a href=./#ppp-and-slip>PPP e SLIP</a>, PPP e SLIP</em></dt><dd><p>Descrive come usare PPP, SLIP, o PPP over Ethernet per connettersi a sistemi remoti con FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#mail>Posta Elettronica</a>, Posta Elettronica</em></dt><dd><p>Spiega i differenti componenti di un mail server e introduce semplici configurazioni per il mail server più comune: sendmail.</p></dd><dt class=hdlist1><em><a href=./#network-servers>Servizi di Rete</a>, Servizi di Rete</em></dt><dd><p>Fornisce istruzioni dettagliate e file di configurazione di esempio per erigere la tua macchina FreeBSD come un server NFS (Network File System), un server per la risoluzione dei nomi, un server NIS (Network Information System), o un server per la sincronizzazione dell’ora.</p></dd><dt class=hdlist1><em><a href=./#firewalls>Firewall</a>, Firewall</em></dt><dd><p>Illustra la filosofia dei firewall software e fornisce informazioni dettagliate sulla configurazione dei diversi firewall disponibili su FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#advanced-networking>Networking Avanzato</a>, Networking Avanzato</em></dt><dd><p>Descrive molti argomenti sul networking, incluso come condividere una connessione a Internet con altri computer sulla stessa LAN, argomenti di routing avanzati, rete wireless, Bluetooth®, ATM, IPv6, e altro ancora.</p></dd><dt class=hdlist1><em><a href=./#mirrors>Ottenere FreeBSD</a>, Ottenere FreeBSD</em></dt><dd><p>Elenca varie fonti per ottenere FreeBSD su CD-ROM o DVD così come vari siti su Internet che permettono di scaricare e installare FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#bibliography>Bibliografia</a>, Bibliografia</em></dt><dd><p>Questo libro tocca svariati argomenti che possono lasciarti desideroso di spiegazioni più dettagliate. La bibliografia elenca molti ottimi libri che sono referenziati nel testo.</p></dd><dt class=hdlist1><em><a href=./#eresources>Risorse su Internet</a>, Risorse su Internet</em></dt><dd><p>Elenca i numerosi forum disponibili per gli utenti FreeBSD dove poter inviare domande e intraprendere conversazioni tecniche su FreeBSD.</p></dd><dt class=hdlist1><em><a href=./#pgpkeys>Chiavi PGP</a>, Chiavi PGP</em></dt><dd><p>Elenca i fingerprint PGP di molti sviluppatori di FreeBSD.</p></dd></dl></div></div><div class=sect2><h3 id=preface-conv>Convenzioni usate in questo libro<a class=anchor href=#preface-conv></a></h3><div class=paragraph><p>Per fornire un testo consistente e facile da leggere, sono state seguite numerose convenzioni in tutto il libro.</p></div><div class=sect3><h4 id=preface-conv-typographic>Convenzioni Tipografiche<a class=anchor href=#preface-conv-typographic></a></h4><div class=dlist><dl><dt class=hdlist1><em>Italico</em></dt><dd><p>Un font <em>italico</em> è per i nomi dei file, per gli URL, per il testo enfatizzato, e per il primo utilizzo dei termini tecnici.</p></dd><dt class=hdlist1><code>Monospazio</code></dt><dd><p>Un font <code>monospazio</code> è usato per i messaggi di errore, i comandi, le variabili di ambiente, i nomi dei port, i nomi di host, i nomi degli utenti, i nomi dei gruppi, i nomi dei device, le variabili, e i frammenti di codice.</p></dd><dt class=hdlist1>Grassetto</dt><dd><p>Un font in grassetto è per le applicazioni, i comandi, e i tasti.</p></dd></dl></div></div><div class=sect3><h4 id=preface-conv-commands>Input dell’Utente<a class=anchor href=#preface-conv-commands></a></h4><div class=paragraph><p>I tasti sono visualizzati in <strong>grassetto</strong> per differenziarli dal testo normale. Le combinazioni di tasti che devono essere digitate contemporaneamente sono visualizzate con un <code>+</code> tra i tasti, come:</p></div><div class=paragraph><p><span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd></span></p></div><div class=paragraph><p>Significa che l’utente deve premete i tasti <kbd>Ctrl</kbd>, <kbd>Alt</kbd>, e <kbd>Del</kbd> nello stesso momento.</p></div><div class=paragraph><p>I tasti che devono essere digitati in sequenza saranno separati da virgole, come per esempio:</p></div><div class=paragraph><p><span class=keyseq><kbd>Ctrl</kbd>+<kbd>X</kbd></span>, <span class=keyseq><kbd>Ctrl</kbd>+<kbd>S</kbd></span></p></div><div class=paragraph><p>Vuol dire che l’utente deve digitare i tasti <kbd>Ctrl</kbd> e <kbd>X</kbd> contemporaneamente e poi i tasti <kbd>Ctrl</kbd> e <kbd>S</kbd>.</p></div></div><div class=sect3><h4 id=preface-conv-examples>Esempi<a class=anchor href=#preface-conv-examples></a></h4><div class=paragraph><p>Gli esempi che iniziano con <span class=filename>E:\</span> indicano un comando MS-DOS®. A meno di note specifiche, questi comandi possono essere eseguiti da una finestra "Prompt dei comandi" in un moderno ambiente Microsoft® Windows®.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>E:<span class=se>\ </span>tools<span class=se>\f</span>dimage floppies<span class=se>\k</span>ern.flp A:</code></pre></div></div><div class=paragraph><p>Gli esempi che iniziano con # indicano un comando che deve essere invocato dal superuser in FreeBSD. Puoi effettuare il login come <code>root</code> per digitare il comando, o loggarti con il tuo normale account e usare <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> per acquisire i privilegi da superuser.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=kern.flp of=/dev/fd0</span></code></pre></div></div><div class=paragraph><p>Gli esempi che iniziano con % indicano un comando che deve essere eseguito da un normale utente. Dove non indicato, è usata la sintassi C-shell per impostare variabili di ambiente e altri comandi di shell.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% top</code></pre></div></div></div></div><div class=sect2><h3 id=preface-acknowledgements>Riconoscimenti<a class=anchor href=#preface-acknowledgements></a></h3><div class=paragraph><p>Il libro che stai leggendo rappresenta gli sforzi di molte centinaia di persone in tutto il mondo. Sia che abbiano inviato correzioni per errori di battitura, sia che abbiano inviato interi capitoli, tutti i contributi sono stati utili.</p></div><div class=paragraph><p>Molte società hanno supportato lo sviluppo di questo documento pagando gli autori per lavorarci sopra a tempo pieno, pagando per la pubblicazione, ecc. In particolare BSDi (successivamente acquisita da <a href=http://www.windriver.com>Wind River Systems</a>) ha pagato i membri del FreeBSD Documentation Project per lavorare a tempo pieno sul miglioramento di questo libro fino alla pubblicazione della prima edizione inglese stampata nel Marzo 2000 (ISBN 1-57176-241-8). Wind River Systems poi ha pagato numerosi autori aggiuntivi per fare una serie di miglioramenti all’infrastruttura di stampa e per aggiungere altri capitoli al testo. Questo lavoro è culminato nella pubblicazione della seconda edizione inglese stampata nel Novembre 2001 (ISBN 1-57176-303-1). Nel 2003-2004, <a href=http://www.freebsdmall.com>FreeBSD Mall, Inc</a>, ha pagato diversi contributori per migliorare il Manuale in preparazione per la terza edizione inglese cartacea.</p></div></div></div></div><h1 id=getting-started class=sect0>Parte I: Per Cominciare<a class=anchor href=#getting-started></a></h1><div class="openblock partintro"><div class=content><div class=paragraph><p>Questa parte del Manuale di FreeBSD è per gli utenti e gli amministratori che si affacciano a FreeBSD. Questi capitoli:</p></div><div class=ulist><ul><li><p>Ti introdurranno a FreeBSD.</p></li><li><p>Ti guideranno attraverso il processo di installazione.</p></li><li><p>Ti insegneranno le basi e i fondamenti di UNIX®.</p></li><li><p>Ti mostreranno come installare la varietà delle applicazioni di terze parti disponibili per FreeBSD.</p></li><li><p>Ti introdurranno a X, il sistema a finestre di UNIX®, e ti spiegheranno come configurare un ambiente desktop che ti renda più produttivo.</p></li></ul></div><div class=paragraph><p>Abbiamo cercato di mantenere il numero di riferimenti in avanti nel testo al minimo così che tu possa leggere questa sezione del Manuale dall’inizio alla fine con il minimo scorrimento di pagine possibile.</p></div></div></div><div class=sect1><h2 id=introduction>Capitolo 1. Introduzione<a class=anchor href=#introduction></a></h2><div class=sectionbody><div class=sect2><h3 id=introduction-synopsis>1.1. Sinossi<a class=anchor href=#introduction-synopsis></a></h3><div class=paragraph><p>Grazie per il tuo interesse per FreeBSD! Il seguente capitolo tratta vari aspetti del FreeBSD Project, come la sua storia, gli obiettivi, il modello di sviluppo e così via.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come si relazione FreeBSD rispetto agli altri sistemi operativi per computer.</p></li><li><p>La storia del FreeBSD Project.</p></li><li><p>Gli obiettivi del FreeBSD Project.</p></li><li><p>Le basi del modello di sviluppo open source di FreeBSD.</p></li><li><p>E naturalmente: da dove deriva il nome "FreeBSD".</p></li></ul></div></div><div class=sect2><h3 id=nutshell>1.2. Benvenuto in FreeBSD!<a class=anchor href=#nutshell></a></h3><div class=paragraph><p>FreeBSD è un sistema operativo basato su 4.4BSD-Lite per computer Intel (x86 e Itanium®), DEC Alpha™, e Sun UltraSPARC®. Port verso altre architetture sono stati avviati. Puoi anche leggere <a href=#history>la storia di FreeBSD</a>, o la <a href=#relnotes>release corrente</a>. Se sei interessato a contribuire in qualche modo al progetto (codice, hardware, fondi), leggi l’articolo <a href=https://docs.freebsd.org/en/articles/contributing/>Contribuire a FreeBSD</a>.</p></div><div class=sect3><h4 id=os-overview>1.2.1. Cosa può fare FreeBSD?<a class=anchor href=#os-overview></a></h4><div class=paragraph><p>FreeBSD ha molte caratteristiche degne di nota. Alcune di queste sono:</p></div><div class=ulist><ul><li><p><em>Multitasking preemptive</em> con adattamento dinamico della priorità per assicurare una condivisione regolare ed equa del computer ad applicazioni e utenti, persino sotto i carichi più pesanti.</p></li><li><p><em>Facility multiutente</em> che permettono a molte persone di usare un sistema FreeBSD contemporaneamente per cose diverse. Questo significa, per esempio, che le periferiche di sistema come stampanti e unità a nastro sono correttamente condivise tra tutti gli utenti sul sistema o sulla rete e che possono essere posti limiti individuali ad utenti o gruppi di utenti sulla risorsa, proteggendo le risorse di sistema critiche dall’uso eccessivo.</p></li><li><p>Un solido <em>sistema di rete TCP/IP</em> con supporto a standard industriali quali SCTP, DHCP, NFS, NIS, PPP, SLIP, IPsec, e IPv6. Questo significa che la tua macchina FreeBSD può interagire facilmente con altri sistemi ed anche agire come server aziendale, fornendo funzioni vitali come NFS (accesso remoto ai file) e servizi e-mail oppure mettere la tua organizzazione su Internet con servizi WWW, FTP, routing e firewall (sicurezza).</p></li><li><p>La <em>protezione della memoria</em> assicura che le applicazioni (o gli utenti) non possano interferire l’una con l’altra. Una applicazione che andrà in crash non influirà sulle altre in alcun modo.</p></li><li><p>FreeBSD è un sistema operativo a <em>32 bit</em> (<em>64 bit</em> su Alpha Itanium®, AMD64, e UltraSPARC®) ed è stato progettato come tale sin dall’inizio.</p></li><li><p>Lo standard industriale <em>X Window System</em> (X11R7) fornisce una interfaccia grafica utente (GUI) al costo di una comune scheda VGA ed un monitor e viene fornito con i sorgenti.</p></li><li><p><em>Compatibilità binaria</em> con molti programmi sviluppati per Linux, SCO, SVR4, BSDI e NetBSD.</p></li><li><p>Nella collezione di <em>port</em> e <em>package</em> per FreeBSD sono disponibili migliaia di applicazioni <em>pronte a partire</em>. Perché cercare sulla rete quando puoi trovare qui tutto quello che ti serve?</p></li><li><p>Su Internet sono disponibili migliaia di applicazioni aggiuntive e <em>facili da portare</em>. FreeBSD è compatibile a livello di codice sorgente con la maggior parte dei sistemi UNIX® commerciali e così la maggior parte delle applicazioni richiedono poche modifiche per essere compilate, se non nessuna.</p></li><li><p>La <em>memoria virtuale</em> paginata su richiesta e il progetto con "VM/buffer cache" integrati soddisfa efficientemente le applicazioni con grandi appetiti di memoria mantenendo ancora la risposta interattiva per altri utenti.</p></li><li><p>Il supporto <em>SMP</em> per macchine con CPU multiple.</p></li><li><p>una dotazione completa di strumenti di sviluppo per <em>C</em>, <em>C++</em>, e <em>Fortran</em>. Sono inoltre disponibili molti linguaggi aggiuntivi per ricerca avanzata e sviluppo nella collezione di port e package.</p></li><li><p>Avere il <em>codice sorgente</em> dell’intero sistema significa avere un alto grado di controllo sull’ambiente. Perché essere vincolati ad una soluzione proprietaria alla mercé del tuo fornitore quando puoi avere un sistema veramente aperto?</p></li><li><p>Estesa <em>documentazione online</em>.</p></li><li><p><em>E molto altro!</em></p></li></ul></div><div class=paragraph><p>FreeBSD è basato sulla release 4.4BSD-Lite del Computer Systems Research Group (CSRG) dell’Università della California di Berkeley, e porta avanti l’inconfondibile tradizione di sviluppo dei sistemi BSD. In aggiunta all’ottimo lavoro fornito dal CSRG, il FreeBSD Project ha speso molte centinaia di ore nella fine regolazione del sistema per le massime prestazioni e affidabilità nelle situazioni di carico che si possono trovare nella vita reale. Mentre molti giganti commerciali hanno difficoltà nel campo dei sistemi operativi per PC con queste caratteristiche, prestazioni e affidabilità, FreeBSD le può offrire <em>ora</em>!</p></div><div class=paragraph><p>Le applicazioni nelle quali FreeBSD può essere impiegato sono veramente limitate solo dalla tua immaginazione. Dallo sviluppo software all’automazione in fabbrica, dal controllo dell’inventario alla correzione dell’azimut delle antenne remote dei satelliti; se può essere fatto con un prodotto UNIX® commerciale allora è più che probabile che puoi farlo anche con FreeBSD! FreeBSD beneficia significativamente anche da letteralmente migliaia di applicazioni di alta qualità sviluppate da centri di ricerca e università di tutto il mondo, spesso disponibili a poco prezzo o gratuite. Sono anche disponibili applicazioni commerciali e compaiono in numero maggiore ogni giorno.</p></div><div class=paragraph><p>Poiché il codice sorgente dello stesso FreeBSD è normalmente disponibile, il sistema può anche essere personalizzato ad un livello inimmaginabile per applicazioni o progetti particolari, e in modi non generalmente possibili con i sistemi operativi della maggior parte dei produttori commerciali. Ecco solo alcuni esempi di alcune delle applicazioni nelle quali attualmente la gente sta usando FreeBSD:</p></div><div class=ulist><ul><li><p><em>Servizi Internet:</em> Il robusto sistema di rete TCP/IP di FreeBSD lo rende una piattaforma ideale per una varietà di servizi Internet quali:</p><div class=ulist><ul><li><p>server FTP</p></li><li><p>server World Wide Web (standard o sicuri [SSL])</p></li><li><p>instradamento IPv4 e IPv6</p></li><li><p>Firewall e gateway NAT ("mascheramento dell’IP").</p></li><li><p>server di Posta Elettronica</p></li><li><p>USENET News o Bulletin Board Systems</p></li><li><p>E altro…​</p><div class=paragraph><p>Con FreeBSD, puoi facilmente partire in piccolo con un PC a buon mercato della classe 386 e aggiornare poi ad un quadri-processore Xeon con dischi RAID se la tua azienda cresce.</p></div></li></ul></div></li><li><p><em>Insegnamento:</em> Sei uno studente di informatica o legato al campo dell’ingegneria? Non c’è miglior modo di imparare i sistemi operativi, l’architettura dei computer e il networking che l’esperienza pratica e in profondità che FreeBSD può fornire. Il numero di pacchetti di CAD, di progettazione grafica e matematica disponibili gratuitamente lo rendono anche estremamente utile per coloro il cui interesse principale nei computer è vedere <em>altro</em> lavoro svolto!</p></li><li><p><em>Ricerca:</em> Con il codice sorgente disponibile per l’intero sistema, FreeBSD è una eccellente piattaforma per la ricerca nei sistemi operativi come pure per altre branche dell’informatica. La natura di libera circolazione di FreeBSD rende anche possibile a gruppi distanti di collaborare sulle idee o condividere lo sviluppo senza aver da preoccuparsi di accordi di licenza speciali o limitazioni su quello che può essere discusso in un forum pubblico.</p></li><li><p><em>Networking:</em> Ti serve un nuovo router? Un server dei nomi (DNS)? Un firewall per tenere la gente fuori dalla tua rete interna? FreeBSD può facilmente tramutare quel 386 inutilizzato o quel PC 486 che giace nell’angolo in un router avanzato con sofisticate capacità di filtraggio dei pacchetti.</p></li><li><p><em>Stazione di lavoro con X Window:</em> FreeBSD è un’ottima scelta come soluzione per un terminale X economico, usando il server X11 liberamente disponibile. Diversamente da un terminale X, FreeBSD permette a molte applicazioni di girare localmente se desiderato, sollevando così il carico da un server centrale. FreeBSD può anche partire "senza disco", rendendo le stazioni individuali persino più economiche e facili da amministrare.</p></li><li><p><em>Sviluppo Software:</em> Di base FreeBSD arriva con un pieno complemento di strumenti di sviluppo incluso il rinnovato compilatore GNU C/C++ e il debugger.</p></li></ul></div><div class=paragraph><p>FreeBSD è disponibile sia in forma sorgente che binaria su CDROM, DVD e via FTP anonimo. Guarda l’<a href=./#mirrors>Ottenere FreeBSD</a> per maggiori informazioni su come ottenere FreeBSD.</p></div></div><div class=sect3><h4 id=_chi_usa_freebsd>1.2.2. Chi Usa FreeBSD?<a class=anchor href=#_chi_usa_freebsd></a></h4><div class=paragraph><p>FreeBSD è usato per far funzionare alcuni dei più grossi siti su Internet, inclusi:</p></div><div class=ulist><ul><li><p><a href=http://www.yahoo.com/>Yahoo!</a></p></li><li><p><a href=http://www.apache.org/>Apache</a></p></li><li><p><a href=http://www.bluemountain.com/>Blue Mountain Arts</a></p></li><li><p><a href=http://www.pair.com/>Pair Networks</a></p></li><li><p><a href=http://www.sony.co.jp/>Sony Japan</a></p></li><li><p><a href=http://www.netcraft.com/>Netcraft</a></p></li><li><p><a href=http://www.wni.com/>Weathernews</a></p></li><li><p><a href=http://www.supervalu.com/>Supervalu</a></p></li><li><p><a href=http://www.telehouse.com/>TELEHOUSE America</a></p></li><li><p><a href=http://www.sophos.com/>Sophos Anti-Virus</a></p></li><li><p><a href=http://www.jmawired.com/>JMA Wired</a></p></li></ul></div><div class=paragraph><p>e molti altri.</p></div></div></div><div class=sect2><h3 id=history>1.3. Informazioni sul FreeBSD Project<a class=anchor href=#history></a></h3><div class=paragraph><p>La sezione seguente fornisce alcune informazioni relative al progetto, includendo una breve storia, gli obiettivi, e il modello di sviluppo.</p></div><div class=sect3><h4 id=intro-history>1.3.1. Breve storia di FreeBSD<a class=anchor href=#intro-history></a></h4><div class=paragraph><p>Il FreeBSD Project ebbe la sua genesi nella prima parte del 1993, come una sorta di crescita oltremisura del "Patchkit Non Ufficiale di 386BSD" dagli ultimi tre coordinatori del patchkit: Nate Williams, Rod Grimes e me stesso.</p></div><div class=paragraph><p>Il nostro obiettivo originario era di produrre uno snapshot intermedio di 386BSD allo scopo di risolvere una serie di problemi che il meccanismo del patchkit non era semplicemente in grado di risolvere. Alcuni di voi potranno ricordare che il primo titolo funzionante per il progetto fu "386BSD 0.5" o "386BSD Interim" in riferimento a quel fatto.</p></div><div class=paragraph><p>386BSD era il sistema operativo di Bill Jolitz, che era arrivato a questo punto soffrendo piuttosto pesantemente di quasi un anno di disinteresse. Visto che il patchkit si gonfiava sempre più scomodamente con il passare dei giorni, fummo d’accordo all’unanimità che doveva essere fatto qualcosa e decidemmo di provare ad assistere Bill fornendo questo snapshot ad interim "ripulito". Questi piani ebbero un brusco arresto quando Bill Jolitz improvvisamente decise di ritirare la sua approvazione al progetto senza nessuna chiara indicazione di cosa invece doveva essere fatto.</p></div><div class=paragraph><p>Non ci volle molto per decidere che l’obiettivo rimaneva utile, persino senza il supporto di Bill, e così adottammo il nome "FreeBSD", coniato da David Greenman. I nostri obiettivi iniziali furono decisi dopo esserci consultati con gli utenti dell’epoca del sistema e, una volta che divenne chiaro che il progetto era sulla strada giusta e forse stava persino diventando una realtà, contattai la Walnut Creek CDROM con un occhio verso il miglioramento dei canali distributivi di FreeBSD per quei molti sfortunati che non avevano facile accesso a Internet. La Walnut Creek CDROM non solo supportò l’idea di distribuire FreeBSD su CD ma andò anche più lontano fornendo al progetto una macchina per lavorarci su e una connessione ad Internet veloce. Senza il grado di fiducia quasi senza precedenti della Walnut Creek CDROM in quello che era, a quel tempo, un progetto completamente sconosciuto, è abbastanza improbabile che FreeBSD sarebbe andato così lontano, così velocemente, come è oggi.</p></div><div class=paragraph><p>La prima distribuzione su CDROM (e largamente disponibile sulla rete) fu FreeBSD 1.0, rilasciata nel dicembre del 1993. Questa era basata su un nastro della 4.3BSD-Lite ("Net/2") della U.C. Berkeley, con molti componenti forniti anche da 386BSD e dalla Free Software Foundation. Fu un successo abbastanza ragionevole per una prima offerta, e lo seguimmo dal grande successo di FreeBSD release 1.1 nel maggio del 1994.</p></div><div class=paragraph><p>Circa in questo periodo si formarono all’orizzonte alcune nuvole temporalesche piuttosto inaspettate allorché Novell e U.C. Berkeley risolsero la loro lunga causa civile sullo stato legale del nastro di Berkeley Net/2. Una condizione di quell’accordo era la concessione di U.C. Berkeley che vaste parti di Net/2 erano codice "ingombrante" e di proprietà di Novell, che lo aveva infine acquistato da AT&amp;T qualche tempo addietro. Quello che Berkeley ottenne in cambio fu la "benedizione" di Novell che la release 4.4BSD-Lite, quando fu finalmente rilasciata, fosse dichiarata non ingombrante e che tutti gli utenti Net/2 esistenti fossero fortemente incoraggiati a cambiare. Questo incluse FreeBSD, e al progetto fu dato tempo fino alla fine di luglio 1994 per fermare la spedizione del proprio prodotto basato su Net/2. Sotto i termini di quell’accordo, fu permesso al progetto un ultimo rilascio prima della scadenza, e quella release fu FreeBSD 1.1.5.1</p></div><div class=paragraph><p>FreeBSD allora si accinse nell’arduo compito di letteralmente reinventare se stesso da un insieme di bit di 4.4BSD-Lite completamente nuovo e piuttosto incompleto. Le release "Lite" erano light (leggere) in parte perché il CSRG di Berkeley aveva rimosso grandi sezioni di codice richiesto per costruire effettivamente un sistema funzionante in grado di partire (dovuto a varie richieste legali) e in parte al fatto che il port per Intel della 4.4 era altamente incompleto. Al progetto ci volle fino al novembre del 1994 per fare questa transizione; a quel punto rilasciò FreeBSD 2.0 sulla rete e su CDROM (nel tardo dicembre). A dispetto del fatto di essere ancora più che un po' ruvida ai bordi, la release fu un successo significativo e fu seguita dalla release FreeBSD 2.0.5 più robusta e semplice da installare nel giugno del 1995.</p></div><div class=paragraph><p>Rilasciammo FreeBSD 2.1.5 nell’agosto del 1996, e parve essere abbastanza popolare tra gli ISP e le comunità commerciali tanto che si meritò un’altra release nel corso del ramo 2.1-STABLE. Questa era FreeBSD 2.1.7.1, rilasciata nel febbraio 1997 e apoteosi dello sviluppo principale sulla 2.1-STABLE. Attualmente in modalità di manutenzione, su questo ramo (RELENG_2_1_0) verranno sviluppati solo miglioramenti della sicurezza e correzioni degli errori.</p></div><div class=paragraph><p>FreeBSD 2.2 fu derivato dallo sviluppo della linea principale ("-CURRENT") nel novembre 1996 come ramo RELENG_2_2, e la prima release completa (2.2.1) fu rilasciata nell’aprile 1997. Furono rilasciate ulteriori release del ramo 2.2 nell’estate e nell’autunno del '97, l’ultima delle quali (2.2.8) apparve nel novembre 1998. La prima release 3.0 ufficiale apparve nell’ottobre 1998 e segnò l’inizio della fine per il ramo 2.2.</p></div><div class=paragraph><p>L’albero si ramificò ancora il 20 gennaio 1999, dividendosi nei rami 4.0-CURRENT e 3.X-STABLE. Dalla 3.X-STABLE, la 3.1 fu rilasciata il 15 febbraio 1999, la 3.2 il 15 maggio 1999, la 3.3 il 16 settembre 1999, la 3.4 il 20 dicembre 1999 e la 3.5 il 24 giugno 2000, seguita pochi giorni dopo da un aggiornamento di punto inferiore alla release 3.5.1 per incorporare alcune correzioni dell’ultimo minuto a Kerberos sulla sicurezza. Questa sarà l’ultima release del ramo 3.X.</p></div><div class=paragraph><p>Ci fu un’altra ramificazione il 13 marzo 2000, che vide l’apparizione del ramo 4.X-STABLE. Ci sono state numerose release da allora: la 4.0-RELEASE fu introdotta nel marzo 2000, e l’ultima 4.11-RELEASE è stata rilasciata nel gennaio 2005.</p></div><div class=paragraph><p>La tanto attesa 5.0-RELEASE è stata annunciata il 19 gennaio 2003. Il culmine di quasi tre anni di lavoro, questa release ha iniziato FreeBSD nel percorso del supporto avanzato al multiprocessore e ai thread nelle applicazioni e ha introdotto il supporto per le piattaforme UltraSPARC® e <code>ia64</code>. Questa release è stata seguita dalla 5.1 nel giugno del 2003. La più recente release 5.X dal ramo -CURRENT è 5.2.1-RELEASE, introdotta nel Febbraio del 2004.</p></div><div class=paragraph><p>Il ramo RELENG_5, creato in Agosto del 2004, seguito da quello 5.3-RELEASE, segna l’inizio del ramo delle release 5-STABLE. Il più recente ramo 11.2-RELEASE è uscito in data June 28, 2018. Non ci saranno ulteriori release per il ramo RELENG_5.</p></div><div class=paragraph><p>Nel giugno 2005 l’albero è stato taggato per la RELENG_6. 6.0-RELEASE, la prima release del ramo 6.X è stata rilasciata nel novembre del 2005. La più recente 12.0-RELEASE è stata rilasciata nel December 11, 2018. Ci saranno ulteriori release per il ramo RELENG_6.</p></div><div class=paragraph><p>Per ora, lo sviluppo dei progetti a lungo termine continua ad aver luogo nell’albero 7.X-CURRENT, e release SNAPshot della 7.X su CDROM (e, naturalmente, sulla rete) sono continuamente rese disponibili sul <a href=ftp://current.FreeBSD.org/pub/FreeBSD/snapshots/>server snapshot</a> mentre il lavoro procede.</p></div></div><div class=sect3><h4 id=goals>1.3.2. Obiettivi del FreeBSD Project<a class=anchor href=#goals></a></h4><div class=paragraph><p>Gli obiettivi del FreeBSD Project sono di fornire software che può essere usato per qualunque scopo senza vincoli. Molti di noi hanno fatto un investimento significativo nel codice (e nel progetto) e certamente non dovrebbero essere interessati ad un piccolo compenso finanziario qua e là, ma non siamo sicuramente preparati ad insistere su questo. Noi crediamo che la nostra prima e prioritaria "missione" sia di fornire codice a tutti i partecipanti, presenti e futuri, e per qualunque scopo, così che il codice abbia un uso il più possibile ampio e fornisca i più ampi benefici. Questo è, io credo, uno degli obiettivi fondamentali del Software Libero (Free Software) e che noi supportiamo entusiasticamente.</p></div><div class=paragraph><p>Quel codice nel nostro albero dei sorgenti che cade sotto la GNU General Public Licence (GPL) o la GNU Lesser General Public License (LGPL) ha un po' più di vincoli, sebbene almeno dal lato di rafforzare l’accesso piuttosto che l’opposto. Date le complessità aggiuntive che possono risultare dall’uso commerciale di software GPL noi preferiamo, tuttavia, software rilasciato sotto il più rilassato copyright BSD quando è una scelta ragionevole farlo.</p></div></div><div class=sect3><h4 id=development>1.3.3. Il Modello di Sviluppo di FreeBSD<a class=anchor href=#development></a></h4><div class=paragraph><p>Lo sviluppo di FreeBSD è un processo molto aperto e flessibile, essendo costruito dal contributo di centinaia di persone di tutto il mondo, come puoi vedere dalla nostra <a href=https://docs.freebsd.org/en/articles/contributors/>lista dei collaboratori</a>. L’infrastruttura di sviluppo di FreeBSD permette a queste centinaia di sviluppatori di collaborare su Internet. Siamo costantemente alla ricerca di nuovi sviluppatori e idee, e quelli interessati a essere coinvolti maggiormente nel progetto devono semplicemente contattarci sulla <a href=https://lists.FreeBSD.org/subscription/freebsd-hackers>mailing list di discussioni tecniche su FreeBSD</a>. La <a href=https://lists.FreeBSD.org/subscription/freebsd-announce>mailing list di annunci su FreeBSD</a> è anche disponibile a quelli che vogliono informare altri utenti FreeBSD delle principali aree di lavoro.</p></div><div class=paragraph><p>Cose utili da sapere sul FreeBSD Project e il suo processo di sviluppo, sia lavorando in modo indipendente che in stretta cooperazione:</p></div><div class=dlist><dl><dt class=hdlist1>Il repository CVS<a id=development-cvs-repository></a></dt><dd><p>L’albero centrale dei sorgenti FreeBSD è mantenuto tramite <a href=http://ximbiot.com/cvs/wiki/>CVS</a> (Concurrent Versions System, ovvero Sistema di Versioni Concorrenti), uno strumento di controllo dei codici sorgenti liberamente disponibile che viene distribuito con FreeBSD. Il principale <a href=http://www.FreeBSD.org/cgi/cvsweb.cgi>repository CVS</a> risiede su una macchina a Santa Clara CA, USA da dove è replicato su numerose macchine speculari in tutto il mondo. L’albero CVS, che contiene gli alberi <a href=./#current>-CURRENT</a> e <a href=./#stable>-STABLE</a>, possono essere facilmente replicati anche sulla tua macchina. Fai riferimento alla sezione <a href=./#synching>Sincronizzazione dei Tuoi Sorgenti</a> per maggiori informazioni su come fare.</p></dd><dt class=hdlist1>La lista dei committer<a id=development-committers></a></dt><dd><p>I <em>committer</em> sono persone che hanno permesso di <em>scrivere</em> nell’albero CVS, e sono autorizzate ad apportare modifiche ai sorgenti di FreeBSD (il termine "committer" viene dal comando <code>commit</code> di <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a>, che è usato per portare i nuovi cambiamenti al repository CVS). Il modo migliore di sottoporre modifiche alla revisione da parte della lista dei committer è usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a>. Se qualcosa appare inceppato nel sistema, allora puoi anche raggiungerli mandando un messaggio alla mailing list dei committer di FreeBSD.</p></dd><dt class=hdlist1>Il core team di FreeBSD<a id=development-core></a></dt><dd><p>Il <em>core team di FreeBSD</em> dovrebbe essere equivalente al consiglio dirigente se il FreeBSD Project fosse una azienda. Il compito principale del core team è assicurarsi che il progetto, nella sua interezza, sia in buona salute e sia diretto nella giusta direzione. Una delle funzioni del core team è invitare sviluppatori responsabili e dedicati a unirsi al nostro gruppo di committer come altri ne escono. L’attuale core team è stato eletto da un insieme di candidati committer nel giugno 2006. Le elezioni vengono tenute ogni 2 anni.</p><div class=paragraph><p>Alcuni membri del core team hanno anche aree specifiche di responsabilità, significando che sono impegnati ad assicurare che grandi porzioni del sistema funzionino come annunciato. Per una lista completa degli sviluppatori di FreeBSD e le loro aree di responsabilità, guarda la <a href=https://docs.freebsd.org/en/articles/contributors/>Contributors List</a></p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Molti membri del core team sono volontari per quanto riguarda lo sviluppo di FreeBSD e non beneficiano finanziariamente dal progetto, così pure l'"impegno" non dovrebbe essere frainteso come "supporto garantito". Allo stesso modo; l’analogia con il "consiglio direttivo" non è molto calzante, e può essere più corretto dire che queste sono persone che hanno rinunciato alle loro vite in favore di FreeBSD, contro il loro senso del giudizio!</p></div></td></tr></tbody></table></div></dd><dt class=hdlist1>Collaboratori esterni</dt><dd><p>Non da ultimo, il più grande gruppo di sviluppatori sono gli stessi utenti che ci forniscono feedback e correzioni di bug quasi costantemente. Il modo principale di tenersi in contatto con lo sviluppo non centralizzato di FreeBSD è iscriversi alla <a href=https://lists.FreeBSD.org/subscription/freebsd-hackers>mailing list di discussioni tecniche su FreeBSD</a> dove queste cose vengono discusse. Guarda il <a href=./#eresources>Risorse su Internet</a> per maggiori informazioni sulle varie mailing list di FreeBSD.</p><div class=paragraph><p><a href=https://docs.freebsd.org/en/articles/contributors/>La Lista dei Collaboratori di FreeBSD</a> è lunga e cresce continuamente, quindi perché non entri a far parte di essa contribuendo e dando tu qualcosa a FreeBSD?</p></div><div class=paragraph><p>Fornire codice non è il solo modo di contribuire al progetto, per una lista completa di cose che serve fare, fai riferimento al <a href=https://www.FreeBSD.org/it/>sito web del FreeBSD Project</a>.</p></div></dd></dl></div><div class=paragraph><p>In conclusione, il nostro modello di sviluppo è organizzato come un insieme sciolto di cerchi concentrici. Il modello centralizzato è progettato per agevolare gli <em>utenti</em> di FreeBSD, ai quali viene fornito un modo semplice per tenere traccia di una base di codice centrale, non per tenere fuori potenziali collaboratori! È nostro desiderio presentare un sistema operativo stabile con un ampio insieme di <a href=./#ports>programmi applicativi</a> coerenti che gli utenti possono facilmente installare ed usare - questo modello funziona molto bene per realizzare ciò.</p></div><div class=paragraph><p>Tutto quello che chiediamo a quelli che vogliono unirsi a noi come sviluppatori di FreeBSD è un po' della stessa dedizione che hanno le attuali persone al suo continuo successo!</p></div></div><div class=sect3><h4 id=relnotes>1.3.4. La Release Corrente di FreeBSD<a class=anchor href=#relnotes></a></h4><div class=paragraph><p>FreeBSD è liberamente disponibile, è basato tutto su sorgenti 4.4BSD-Lite, è rilasciato per computer Intel i386™, i486™, Pentium®, Pentium® Pro, Celeron®, Pentium® II, Pentium® III, Pentium® 4 (o compatibili), Xeon™, DEC Alpha™ e Sun UltraSPARC®. È basato principalmente su software del gruppo CSRG della U.C. Berkeley, con alcuni miglioramenti presi da NetBSD, OpenBSD, 386BSD, e dalla Free Software Foundation.</p></div><div class=paragraph><p>Dalla nostra release di FreeBSD 2.0 nel lontano 1994, le prestazioni, l’insieme di caratteristiche, e la stabilità di FreeBSD sono migliorate notevolmente. Il più grande cambiamento è stato la riscrittura del sistema di memoria virtuale con una VM/file buffer cache integrata che non solo incrementa le prestazioni, ma anche riduce la richiesta di memoria di FreeBSD, rendendo una configurazione con 5 MB un minimo accettabile. Altri miglioramenti includono il completo supporto a client e server NIS, il supporto delle transazioni TCP, la chiamata-su-richiesta di PPP, il supporto integrato del DHCP, un sottosistema SCSI migliorato, il supporto ISDN, il supporto per ATM, FDDI, per gli adattatori Fast e Gigabit Ethernet (1000 Mbit), un supporto migliorato degli ultimi controller Adaptec, e molte migliaia di correzioni di bug.</p></div><div class=paragraph><p>In aggiunta alla distribuzione di base, FreeBSD offre una collezione di software portato con migliaia di programmi comunemente cercati. Alla data di stampa, ci sono oltre FreeBSD.numports; port! La lista dei port comprende server http (WWW), giochi, linguaggi, editor e quasi tutto quello che sta in mezzo. L’intera collezione dei port richiede approssimativamente 3 GB di spazio, essendo tutti i port espressi come "delta" dei loro sorgenti originari. Questo rende più facile per noi aggiornare i port, e riduce di molto la domanda di spazio su disco dalla vecchia collezione 1.0 dei port. Per compilare un port, vai semplicemente nella directory che vuoi installare, digita <code>make install</code> e lascia che il sistema faccia il resto. La distribuzione originale completa per ogni port che compili viene presa dinamicamente dal CDROM o da un sito FTP locale, così hai bisogno solo lo spazio su disco sufficiente per compilare il port che vuoi. Quasi ogni port viene fornito di un "package" precompilato che può essere installato con un semplice comando (<code>pkg_add</code>) da coloro che non vogliono compilare i propri port dai sorgenti. Maggiori informazioni sui package e sui port possono essere trovate nel <a href=./#ports>Installazione delle Applicazioni. Port e Package</a>.</p></div><div class=paragraph><p>Un numero di documenti aggiuntivi che puoi trovare molto utili nel processo di installazione e di utilizzo di FreeBSD ora può essere trovato anche nella directory <span class=filename>/usr/shared/doc</span> su ogni recente macchina FreeBSD. Puoi vedere i manuali installati localmente con qualsiasi browser HTML usando i seguenti URL:</p></div><div class=dlist><dl><dt class=hdlist1>Il Manuale di FreeBSD</dt><dd><p><a href=file://localhost/usr/shared/doc/handbook/index.html>/usr/shared/doc/handbook/index.html</a></p></dd><dt class=hdlist1>Domande Comuni su FreeBSD</dt><dd><p><a href=file://localhost/usr/shared/doc/faq/index.html>/usr/shared/doc/faq/index.html</a></p></dd></dl></div><div class=paragraph><p>Puoi vedere anche le copie originali (e aggiornate più frequentemente) su <a href=http://www.FreeBSD.org/>http://www.FreeBSD.org/</a>.</p></div></div></div></div></div><div class=sect1><h2 id=install>Capitolo 2. Installazione di FreeBSD<a class=anchor href=#install></a></h2><div class=sectionbody><div class=sect2><h3 id=install-synopsis>2.1. Sinossi<a class=anchor href=#install-synopsis></a></h3><div class=paragraph><p>FreeBSD è fornito di un programma di installazione basato su testo, facile da usare, chiamato sysinstall. Questo è il programma di installazione di default di FreeBSD, sebbene i fornitori siano liberi di usare la loro suite di installazione se preferiscono. Questo capitolo descrive come usare sysinstall per installare FreeBSD.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come creare i dischi di installazione di FreeBSD.</p></li><li><p>Come FreeBSD fa riferimento, e suddivide i tuoi hard disk.</p></li><li><p>Come far partire sysinstall.</p></li><li><p>Le domande che sysinstall ti farà, cosa vogliono dire, e come rispondere.</p></li></ul></div><div class=paragraph><p>Prima di leggere capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Leggere la lista dell’hardware supportato inclusa nella versione di FreeBSD che stai installando, e verificare che il tuo hardware sia supportato.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In generale, queste istruzioni di installazione sono scritte per computer con architettura i386™ ("PC compatibile"). Dove richiesto, saranno fornite istruzioni specifiche per altre piattaforme (ad esempio, Alpha). Sebbene questa guida sia aggiornata il più possibile, potresti trovare piccole differenze tra la procedura di installazione e quello che viene mostrato qui. È consigliato usare questo capitolo come una guida generale piuttosto che un manuale di installazione vero e proprio.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-pre>2.2. Compiti Prima dell’Installazione<a class=anchor href=#install-pre></a></h3><div class=sect3><h4 id=install-inventory>2.2.1. Inventario del Tuo Computer<a class=anchor href=#install-inventory></a></h4><div class=paragraph><p>Prima di installare FreeBSD dovresti fare un inventario dei componenti del tuo computer. Durante l’installazione di FreeBSD ti verranno mostrati tutti i componenti (hard disk, schede di rete, CDROM, e così via), il loro modello e chi li fabbrica. FreeBSD tenterá di determinare la configurazione corretta per i vari dispositivi, incluse le informazioni riguardo la corretta configurazione sia dell’IRQ che delle porte I/O da usare. A causa della varietà di hardware dei PC non è detto che il processo venga completato con successo, quindi potrai avere bisogno di modificare la tua configurazione.</p></div><div class=paragraph><p>Se hai già un altro sistema operativo installato, ad esempio Windows® o Linux, potrebbe essere una buona idea vedere come è configurato l’hardware su quei sistemi operativi. Se non sei sicuro della configurazione usata da una certa scheda di espansione, potresti trovare la configurazione stampata sulla scheda stessa. I numeri IRQ più comuni sono 3, 5 e 7,e le porte di indirizzo I/O sono di norma scritte in numeri esadecimali, come 0x330.</p></div><div class=paragraph><p>Raccomandiamo di scrivere o di stampare queste informazioni prima di installare FreeBSD. Può essere d’aiuto usare una tabella, come questa:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 1. Esempio di Inventario dei Dispositivi</caption><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Nome Dispositivo</th><th class="tableblock halign-left valign-top">IRQ</th><th class="tableblock halign-left valign-top">porte di I/O</th><th class="tableblock halign-left valign-top">Note</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Primo hard disk</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>40 GB, fabbricato da Seagate, primo IDE master</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>CDROM</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Primo IDE slave</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Secondo hard disk</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20 GB, fabbricato da IBM, secondo IDE master</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Primo controller IDE</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>14</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>0x1f0</p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Scheda di rete</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Intel® 10/100</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Modem</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3Com® 56K faxmodem, su COM1</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>…​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>…​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>…​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>…​</p></td></tr></tbody></table></div><div class=sect3><h4 id=_backup_dei_tuoi_dati>2.2.2. Backup Dei Tuoi Dati<a class=anchor href=#_backup_dei_tuoi_dati></a></h4><div class=paragraph><p>Se il computer dove installerai FreeBSD contiene dati importanti, fai un backup dei dati, quindi verifica il backup prima di iniziare un’installazione di FreeBSD. La procedura di installazione di FreeBSD ti avviserà prima di scrivere dati sul tuo disco, ma una volta confermato il processo questo non può più essere annullato.</p></div></div><div class=sect3><h4 id=install-where>2.2.3. Decidere Dove Installare FreeBSD<a class=anchor href=#install-where></a></h4><div class=paragraph><p>Se vuoi usare l’intero disco per installare FreeBSD, puoi saltare tranquillamente questa sezione.</p></div><div class=paragraph><p>Altrimenti, se vuoi che FreeBSD coesista con altri sistemi operativi allora hai bisogno di una conoscenza basilare di come i dati sono organizzati sul disco.</p></div><div class=sect4><h5 id=install-where-i386>2.2.3.1. Disposizione Del Disco per i386™<a class=anchor href=#install-where-i386></a></h5><div class=paragraph><p>Un disco di un PC può essere suddiviso in diverse parti. Queste parti vengono chiamate <em>partizioni</em>. Per sua natura, un PC supporta solo quattro partizioni per disco. Queste partizioni sono chiamate <em>partizioni primarie</em>. Per aggirare questa limitazione e avere più di quattro partizioni, è stata progettata un nuovo tipo di partizione, la <em>partizione estesa</em>. Un disco può contenere una sola partizione estesa. All’interno di questa partizione estesa possono essere create partizioni speciali, chiamate <em>partizioni logiche</em>.</p></div><div class=paragraph><p>Ogni partizione ha un'<em>ID di partizione</em>, che è un numero usato per identificare il tipo di dati nella partizione. L’ID di partizione di FreeBSD è <code>165</code>.</p></div><div class=paragraph><p>In generale, ogni sistema operativo che usi identificherà le sue partizioni in un modo particolare. Per esempio, il DOS, e i suoi discendenti, come Windows®, assegnano ad ogni partizione primaria e logica una <em>lettera di dispositivo</em>, cominciando con <span class=filename>C:</span>.</p></div><div class=paragraph><p>FreeBSD deve essere installato su una partizione primaria. I dati di FreeBSD, inclusi i tuoi file, possono risiedere tutti su questa unica partizione. Comunque, se hai più dischi, puoi creare una partizione FreeBSD su tutti i dischi (o su parte di essi). Quando installi FreeBSD, devi avere una partizione disponibile. Questa potrebbe essere una nuova partizione che hai preparato, o potrebbe essere una partizione esistente che contiene dati che non ti interessano più.</p></div><div class=paragraph><p>Se già usi tutte le partizioni di ogni tuo disco, dovrai liberare una partizione per FreeBSD utilizzando i programmi forniti dagli altri sistemi operativi che usi (es., <code>fdisk</code> su DOS o Windows®).</p></div><div class=paragraph><p>Se hai una partizione libera puoi usare quella. Comunque, potresti avere la necessità di restringere una o più delle tue partizioni.</p></div><div class=paragraph><p>Un’installazione minima di FreeBSD richiede un piccolo spazio di 100 MB sull’hard disk. Comunque, questa è <em>proprio</em> un’installazione minima, che non lascia molto spazio per altri tuoi file. Una partizione minima più realistica è di 250 MB, senza ambiente grafico, e di 350 MB o anche di più se vuoi un’interfaccia grafica. Se hai intenzione di installare diverso software di terze parti, avrai bisogno di molto più spazio.</p></div><div class=paragraph><p>Puoi usare programmi commerciali come ad esempio PartitionMagic® o programmi free come GParted per ridimensionare le tue partizioni e creare spazio per FreeBSD. La directory <span class=filename>tools</span> sul CDROM contiene due software gratuiti che possono eseguire questo compito, FIPS e PResizer. La documentazione per entrambi questi strumenti è disponibile nella stessa directory. FIPS, PResizer, e PartitionMagic® possono ridimensionare partizioni FAT16 e FAT32 - usate da MS-DOS® fino a Windows® ME. Sia PartitionMagic® che GParted sono noti per maneggiare anche partizioni NTFS.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>L’uso scorretto di questi programmi può causare la perdita di dati nel tuo hard disk. Assicurati di avere un backup recente e funzionante prima di usare questi strumenti.</p></div></td></tr></tbody></table></div><div class=exampleblock><div class=title>Esempio 1. Usare una Partizione Esistente</div><div class=content><div class=paragraph><p>Supponiamo che tu abbia un computer con un singolo disco di 4 GB con già installato una versione di Windows®, e che tu abbia suddiviso il disco in due lettere di dispositivo, <span class=filename>C:</span> e <span class=filename>D:</span>, ognuno dei quali ha dimensioni pari a 2 GB. Hai 1 GB di dati su <span class=filename>C:</span>, e 0.5 GB di dati su <span class=filename>D:</span>.</p></div><div class=paragraph><p>Questo significa che il tuo disco ha due partizioni, una per lettera. Puoi copiare tutti i tuoi dati da <span class=filename>D:</span> a <span class=filename>C:</span>, in modo da liberare la seconda partizione, pronta per FreeBSD.</p></div></div></div><div class=exampleblock><div class=title>Esempio 2. Restringere una Partizione Esistente</div><div class=content><div class=paragraph><p>Supponiamo che tu abbia un computer con un singolo disco da 4 GB dove è già installata una versione di Windows®. Quando hai installato Windows® hai creato un’unica grande partizione, il dispositivo <span class=filename>C:</span> con capacità pari a 4 GB. Hai usato 1.5 GB di spazio, e vorresti usarne 2 GB per FreeBSD.</p></div><div class=paragraph><p>Per installare FreeBSD hai due differenti possibilità:</p></div><div class="olist arabic"><ol class=arabic><li><p>Fare il backup dei tuoi dati in Windows®, e installarlo di nuovo, occupando solamente 2 GB.</p></li><li><p>Utilizzare uno strumento come PartitionMagic®, come descritto in precedenza, per restringere la partizione di Windows®.</p></li></ol></div></div></div></div><div class=sect4><h5 id=_disposizione_del_disco_per_alpha>2.2.3.2. Disposizione del Disco per Alpha<a class=anchor href=#_disposizione_del_disco_per_alpha></a></h5><div class=paragraph><p>Dovrai dedicare un intero disco per FreeBSD su Alpha. Attualmente non è possibile condividere un disco con altri sistemi operativi. A seconda della macchina Alpha che possiedi, il disco può essere sia SCSI che IDE, sempre che la tua macchina sia capace di fare il boot da essi.</p></div><div class=paragraph><p>Seguendo la convenzione dei manuali della Digital / Compaq tutti gli input SRM sono maiuscoli. SRM è case insensitive.</p></div><div class=paragraph><p>Per determinare i nomi e i tipi dei dischi nella tua macchina, usa il comando <code>SHOW DEVICE</code> dal prompt della console SRM:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>&gt;&gt;&gt;</span>SHOW DEVICE
dka0.0.0.4.0               DKA0           TOSHIBA CD-ROM XM-57  3476
dkc0.0.0.1009.0            DKC0                       RZ1BB-BS  0658
dkc100.1.0.1009.0          DKC100             SEAGATE ST34501W  0015
dva0.0.0.0.1               DVA0
ewa0.0.0.3.0               EWA0              00-00-F8-75-6D-01
pkc0.7.0.1009.0            PKC0                  SCSI Bus ID 7  5.27
pqa0.0.0.4.0               PQA0                       PCI EIDE
pqb0.0.1.4.0               PQB0                       PCI EIDE</code></pre></div></div><div class=paragraph><p>Questo esempio è stato preso da una Digital Personal Workstation 433au e mostra tre dischi collegati alla macchina. Il primo è un lettore CDROM chiamato <span class=filename>DKA0</span>, mentre gli altri due dischi sono chiamati rispettivamente <span class=filename>DKC0</span> e <span class=filename>DKC100</span>.</p></div><div class=paragraph><p>I nomi dei dischi del tipo <span class=filename>DKx</span> , sono dischi SCSI. Per esempio <span class=filename>DKA100</span> è riferito al disco SCSI con ID 1 sul primo bus SCSI (A), mentre <span class=filename>DKC300</span> si riferisce al disco SCSI con ID 3 sul terzo bus SCSI ©. Il nome del dispositivo <span class=filename>PKx</span> si riferisce all’adattatore SCSI. Come visto nell’output di <code>SHOW DEVICE</code> i CDROM SCSI sono trattati come dischi SCSI.</p></div><div class=paragraph><p>I dischi IDE hanno un nome del tipo <span class=filename>DQx</span>, mentre ai nomi <span class=filename>PQx</span> sono associati i controller IDE.</p></div></div></div><div class=sect3><h4 id=_raccogli_i_dettagli_di_configurazione_della_tua_rete>2.2.4. Raccogli i Dettagli di Configurazione della tua Rete<a class=anchor href=#_raccogli_i_dettagli_di_configurazione_della_tua_rete></a></h4><div class=paragraph><p>Se intendi installare FreeBSD tramite una connessione di rete (per esempio, un’installazione tramite FTP, oppure un server NFS), allora dovrai conoscere la tua configurazione di rete. Ti verranno richieste queste informazioni durante l’installazione in modo che FreeBSD possa connettersi alla rete e completare l’installazione.</p></div><div class=sect4><h5 id=_connessione_a_una_rete_ethernet_o_tramite_un_modem_cabledsl>2.2.4.1. Connessione a una Rete Ethernet o tramite un Modem Cable/DSL<a class=anchor href=#_connessione_a_una_rete_ethernet_o_tramite_un_modem_cabledsl></a></h5><div class=paragraph><p>Se hai la possibilità di connetterti a una rete Ethernet, o se hai una connessione a Internet tramite un adattatore Ethernet via cavo o DSL, allora avrai bisogno delle seguenti informazioni:</p></div><div class="olist arabic"><ol class=arabic><li><p>Indirizzo IP</p></li><li><p>Indirizzo IP del gateway di default</p></li><li><p>Il nome host (hostname)</p></li><li><p>Indirizzi IP dei server DNS</p></li><li><p>Maschera di Rete</p></li></ol></div><div class=paragraph><p>Se non conosci queste informazioni, puoi chiederle al tuo amministratore di sistema oppure al tuo provider. Potrebbero dirti che queste informazioni sono assegnate automaticamente, usando <em>DHCP</em>. Se così fosse, prendi nota.</p></div></div><div class=sect4><h5 id=_connessione_tramite_modem>2.2.4.2. Connessione Tramite Modem<a class=anchor href=#_connessione_tramite_modem></a></h5><div class=paragraph><p>Se ti connetti al tuo ISP usando un modem puoi installare FreeBSD da Internet, e questo richiederà molto tempo.</p></div><div class=paragraph><p>In questo caso dovrai sapere:</p></div><div class="olist arabic"><ol class=arabic><li><p>Il numero di telefono per la connessione del tuo ISP</p></li><li><p>La porta COM: sulla quale il tuo modem è connesso</p></li><li><p>Il nome utente e relativa password del tuo account dell’ISP</p></li></ol></div></div></div><div class=sect3><h4 id=_controllare_i_possibili_errori_di_freebsd_post_release>2.2.5. Controllare i Possibili Errori di FreeBSD Post-Release<a class=anchor href=#_controllare_i_possibili_errori_di_freebsd_post_release></a></h4><div class=paragraph><p>Sebbene il progetto di FreeBSD si impegna per assicurare che ogni release di FreeBSD sia stabile il più possibile, può capitare che ogni tanto qualche bug sfugga durante il processo di costruzione della release. In rare occasioni questi bug interessano il processo di installazione. Non appena questi problemi sono scoperti e fixati, gli stessi sono segnalati nella <a href=http://www.FreeBSD.org/releases/12.0r/errata/>FreeBSD Errata</a>, che è possibile trovare sul sito web di FreeBSD. Dovresti verificare questo documento prima di iniziare l’installazione in modo tale da essere a conoscenza dei bug esistenti.</p></div><div class=paragraph><p>Le informazioni sulle varie release, inclusi i vari errata per ogni release, possono essere trovati nella sezione <a href=https://www.FreeBSD.org/releases/>informazioni di release</a> sul <a href=https://www.FreeBSD.org/>sito web di FreeBSD</a>.</p></div></div><div class=sect3><h4 id=_ottenere_i_file_di_installazione_di_freebsd>2.2.6. Ottenere i File di Installazione di FreeBSD<a class=anchor href=#_ottenere_i_file_di_installazione_di_freebsd></a></h4><div class=paragraph><p>Il processo di installazione di FreeBSD può installare FreeBSD prendendo file da una delle seguenti fonti:</p></div><div class=ulist><div class=title>Media Locale</div><ul><li><p>Un CDROM o DVD</p></li><li><p>Una partizione DOS sullo stesso computer</p></li><li><p>Un nastro magnetico SCSI o QIC</p></li><li><p>Floppy disk</p></li></ul></div><div class=ulist><div class=title>Rete</div><ul><li><p>Un sito FTP, passando attraverso un firewall, o usando un proxy HTTP, a seconda della necessità</p></li><li><p>Un server NFS</p></li><li><p>Una connessione parallela o seriale dedicata</p></li></ul></div><div class=paragraph><p>Se hai comprato il CD o il DVD di FreeBSD allora hai già tutto ciò che necessiti, e dovresti passare alla prossima sezione (<a href=#install-floppies>Preparare i Media per il Boot</a>).</p></div><div class=paragraph><p>Se non ti sei procurato i file di installazione di FreeBSD dovresti saltare alla <a href=#install-diff-media>Preparare i Propri Media di Installazione</a> che spiega come prepararsi all’installazione di FreeBSD. Dopo aver letto quella sezione, puoi tornare indietro e leggere la <a href=#install-floppies>Preparare i Media per il Boot</a>.</p></div></div><div class=sect3><h4 id=install-floppies>2.2.7. Preparare i Media per il Boot<a class=anchor href=#install-floppies></a></h4><div class=paragraph><p>Il processo di installazione di FreeBSD ha inizio avviando il tuo computer nel programma di installazione di FreeBSD-non è un programma che puoi avviare da un altro sistema operativo. Normalmente il tuo computer fa il boot usando il sistema operativo installato sul tuo hard disk, ma puoi configurare il tuo computer affinchè faccia il boot da floppy disk "avviabili". Inoltre la maggior parte dei computer odierni possono fare il boot da CDROM.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Se possiedi FreeBSD su CDROM o su DVD (sia che l’hai comprato o preparato per conto tuo), ed il tuo computer consente di fare il boot da CDROM o DVD (solitamente tramite un’opzione del BIOS chiamata "Boot Order" o simili), allora puoi saltare questa sezione. Le immagini CDROM o DVD di FreeBSD sono avviabili e possono essere utilizzate per installare FreeBSD senza altre preparazioni particolari.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per creare un’immagine floppy avviabile, segui i seguenti passi :</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Ottenere l’Immagine Floppy Avviabile</p><div class=paragraph><p>I dischi avviabili sono disponibili nel tuo media di installazione nella directory <span class=filename>floppies/</span>, inoltre possono essere scaricate dalla directory <span class=filename>floppies/</span>, <code><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/<arch>/<version>-RELEASE/floppies/" class=bare>ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/&lt;arch>/&lt;version>-RELEASE/floppies/</a></code>. Sostituisci <em>&lt;arch></em> e <em>&lt;version></em> rispettivamente con l’architettura e il numero di versione che vuoi installare. Per esempio, le immagini floppy avviabili per FreeBSD 12.0-RELEASE per i386™ sono disponibili in <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/12.0-RELEASE/floppies/>ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/12.0-RELEASE/floppies/</a>.</p></div><div class=paragraph><p>Le immagini floppy hanno l’estensione <span class=filename>.flp</span>. La directory <span class=filename>floppies/</span> contiene diverse immagini, a seconda della versione di FreeBSD che vuoi installare, e in alcuni casi, a seconda dell’hardware che possiedi. Nella maggior parte dei casi avrai bisogno di tre floppy, <span class=filename>boot.flp</span>, <span class=filename>kern1.flp</span>, e <span class=filename>kern2.flp</span>. Consulta il file <span class=filename>README.TXT</span> che puoi trovare nella stessa directory al fine di avere maggiori informazioni riguardanti le immagine floppy.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Possono essere necessari driver di dispositivi aggiuntivi per sistemi 5.X più vecchi di FreeBSD 5.3. Queste driver sono forniti dall’immagine <span class=filename>drivers.flp</span>.</p></div></td></tr></tbody></table></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Il tuo programma FTP deve usare la <em>modalità binaria</em> per poter scaricare queste immagini floppy. Alcuni browser web usano la modalità <em>testo</em> (chiamata anche <em>ASCII</em>), e ti accorgerai di questo se non riuscirai ad avviare da floppy.</p></div></td></tr></tbody></table></div></li><li><p>Preparare i Dischetti Floppy</p><div class=paragraph><p>Devi preparare un disco floppy per ogni immagine che hai scaricato. Questi dischetti non devono avere difetti. Il metodo più semplice per verificare ciò è formattare i dischi. Non avere fiducia dei dischetti pre-formattati. Lo strumento di formattazione in Windows® non segnala l’eventuale presenza di blocchi danneggiati, semplicemente li segna come "difettosi" e li ignora. È consigliabile usare dei nuovi dischetti floppy se hai in mente di procedere con questo tipo di installazione.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Se stai tentando di installare FreeBSD ed il programma di installazione crasha, freeza, o non procede come dovrebbe, la prima cosa da sospettare sono proprio i floppy. Prova a scrivere i file di immagine floppy su nuovi dischi e riprova.</p></div></td></tr></tbody></table></div></li><li><p>Scrivere i File Immagine sui Floppy Disk</p><div class=paragraph><p>I file <span class=filename>.flp</span><em>non</em> sono dei file regolari da copiare sul dischetto. Sono immagini di un contenuto completo di un dischetto. Questo significa che <em>non</em> puoi copiare semplicemente i file da un dischetto ad un altro. Invece, devi usare uno strumento specifico per scrivere le immagini direttamente sul dischetto.</p></div><div class=paragraph><p>Se stai creando i floppy su un computer con in esecuzione MS-DOS®/Windows®, allora puoi usare l’utility chiamata <code>fdimage</code>.</p></div><div class=paragraph><p>Se vuoi usare le immagini che stanno nel CDROM, ed il CDROM è sul dispositivo <span class=filename>E:</span>, puoi impartire questo comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>E:<span class=se>\&gt;</span> tools<span class=se>\f</span>dimage floppies<span class=se>\k</span>ern.flp A:</code></pre></div></div><div class=paragraph><p>Ripeti questo comando per ogni file <span class=filename>.flp</span>, sostituendo ogni volta il disco floppy, e poi assicurati di etichettare ogni floppy con il nome del file che hai copiato. Aggiusta il comando come necessario, a seconda di dove hai collocato i file <span class=filename>.flp</span>. Se non hai il CDROM, puoi scaricare <code>fdimage</code> dalla <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/tools/>directory tools</a> sul sito FTP di FreeBSD.</p></div><div class=paragraph><p>Se stai creando i floppy su sistema UNIX® (come un altro sistema FreeBSD) puoi usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=dd&amp;sektion=1&amp;format=html">dd(1)</a> per scrivere i file immagine direttamente sul disco. Su FreeBSD, dovresti eseguire:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=kern.flp of=/dev/fd0</span></code></pre></div></div><div class=paragraph><p>Su FreeBSD, <span class=filename>/dev/fd0</span> è riferito al primo floppy disk (il dispositivo <span class=filename>A:</span>). <span class=filename>/dev/fd1</span> sarebbe il dispositivo <span class=filename>B:</span>, e cosi via. Altre varianti UNIX® potrebbero avere nomi differenti per i dispositivi floppy disk, e se necessario consulta la documentazione del sistema che stai usando.</p></div></li></ol></div></div></div><div class=paragraph><p>Adesso sei pronto per iniziare ad installare FreeBSD.</p></div></div></div><div class=sect2><h3 id=install-start>2.3. Iniziare l’Installazione<a class=anchor href=#install-start></a></h3><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Per default, l’installazione non apporterà nessun cambiamento sul tuo disco (o dischi) fino a quando non vedi questo messaggio:</p></div><div class=literalblock><div class=content><pre>Last Chance: Are you SURE you want continue the installation?

If you&#39;re running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!</pre></div></div><div class=paragraph><p>Il processo di installazione può essere sospeso in qualunque momento prima dell’avvertimento finale senza cancellare dati sul tuo hard disk. Se ti sei accorto di aver configurato qualcosa di sbagliato puoi ancora spegnere il computer prima di quel avvertimento, senza che venga creato alcun danno.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=install-starting>2.3.1. Avvio<a class=anchor href=#install-starting></a></h4><div class=sect4><h5 id=install-starting-i386>2.3.1.1. Avvio per i386™<a class=anchor href=#install-starting-i386></a></h5><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Iniziamo con il computer spento.</p></li><li><p>Accendi il computer. Appena acceso dovrebbe visualizzare un’opzione per entrare nel menù di sistema, chiamato anche BIOS, solitamente tramite tasti come <kbd>F2</kbd>, <kbd>F10</kbd>, <kbd>Del</kbd>, o <span class=keyseq><kbd>Alt</kbd>+<kbd>S</kbd></span>. Usa la combinazione di tasti indicata sullo schermo. In alcuni casi il tuo computer può visualizzare un’immagine durante la fase di avvio. In genere, premendo <kbd>Esc</kbd> l’immagine sparirà e sarai in grado di vedere i messaggi di avvio.</p></li><li><p>Trova il settaggio che controlla da quali dispositivi il sistema tenta l’avvio. Di solito questo settaggio viene identificato con "Boot Order" e in genere mostra una lista di dispositivi, come <code>Floppy</code>, <code>CDROM</code>, <code>First Hard Disk</code>, e così via.</p><div class=paragraph><p>Se vuoi partire con il boot da floppy, assicurati di avere selezionato il floppy disk come primo dispositivo di avvio. Se invece vuoi partire con il boot da CDROM allora seleziona questo come primo dispositivo di avvio. In caso di dubbio, puoi consultare il manuale che ti hanno dato assieme al computer, e/o con la scheda madre.</p></div><div class=paragraph><p>Una volta apportato la modifica, salva ed esci dal BIOS. Il computer dovrebbe fare un riavvio.</p></div></li><li><p>Se hai bisogno di preparare i floppy di boot, come descritto nella <a href=#install-floppies>Preparare i Media per il Boot</a>, allora uno di questi sarà il primo dischetto di boot, probabilmente quello contenente l’immagine <span class=filename>kern.flp</span>. Metti questo disco nel tuo floppy.</p><div class=paragraph><p>Se vuoi fare il boot da CDROM, allora dovrai accendere il computer, e inserire il CDROM prima che puoi.</p></div><div class=paragraph><p>Se il computer parte normalmente e carica il sistema operativo già esistente, allora:
.. I dischi non sono stati inseriti prima dell’inizio della fase di avvio. Lasciali inseriti, e riavvia il computer.
.. I recenti cambiamenti apportati nel BIOS non sono corretti. Dovresti rifare i passaggi fino a quando avrai successo.
.. Il tuo BIOS non supporta il boot dal tuo media desiderato.</p></div></li><li><p>FreeBSD si avvierà. Se hai scelto di partire da CDROM probabilmente vedrai schermate come queste (le informazioni sulla versione sono state omesse):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Verifying DMI Pool Data ........
Boot from ATAPI CD-ROM :
 1. FD 2.88MB  System Type-<span class=o>(</span>00<span class=o>)</span>
Uncompressing ... <span class=k>done

</span>BTX loader 1.00 BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive B: is disk1
BIOS drive C: is disk2
BIOS drive D: is disk3
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 0.8

/kernel <span class=nv>text</span><span class=o>=</span>0x277391 <span class=nv>data</span><span class=o>=</span>0x3268c+0x332a8 |

|
Hit <span class=o>[</span>Enter] to boot immediately, or any other key <span class=k>for </span><span class=nb>command </span>prompt.
Booting <span class=o>[</span>kernel] <span class=k>in </span>9 seconds... _</code></pre></div></div><div class=paragraph><p>Se hai fatto il boot da floppy, vedrai simili informazioni sul tuo schermo (le informazioni sulla versione sono state omesse):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Verifying DMI Pool Data ........

BTX loader 1.00  BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive C: is disk1
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 0.8

/kernel <span class=nv>text</span><span class=o>=</span>0x277391 <span class=nv>data</span><span class=o>=</span>0x3268c+0x332a8 |

Please insert MFS root floppy and press enter:</code></pre></div></div><div class=paragraph><p>Segui queste istruzioni, rimuovi il disco <span class=filename>kern.flp</span>, inserisci il disco <span class=filename>mfsroot.flp</span>, e premi <kbd>Invio</kbd>. FreeBSD 5.3 e superiori hanno ulteriori dischi, come descritto nella <a href=#install-floppies>sezione precedente</a>. Avvia dal primo floppy; quando indicato, inserisci gli altri dischi.</p></div></li><li><p>Indipendentemente se hai fatto il boot da floppy o da CDROM, il processo di avvio arriverà a questo punto:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Hit <span class=o>[</span>Enter] to boot immediately, or any other key <span class=k>for </span><span class=nb>command </span>prompt.
Booting <span class=o>[</span>kernel] <span class=k>in </span>9 seconds... _</code></pre></div></div><div class=paragraph><p>Aspetta dieci secondi o premi <kbd>Invio</kbd></p></div></li></ol></div></div></div></div><div class=sect4><h5 id=_avvio_per_alpha>2.3.1.2. Avvio per Alpha<a class=anchor href=#_avvio_per_alpha></a></h5><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Iniziamo con il computer spento.</p></li><li><p>Accendi il computer e attendi che arrivi al prompt di avvio.</p></li><li><p>Se hai la necessità di preparare i floppy di avvio, come descritto nella <a href=#install-floppies>Preparare i Media per il Boot</a> allora uno di questi sarà il primo disco di avvio, probabilmente quello che contiene <span class=filename>kern.flp</span>. Inserisci questo disco nel tuo floppy e digita il seguente comando per avviare da dischetto (sostituisci il nome del tuo floppy se necessario):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>&gt;&gt;&gt;</span>BOOT DVA0 <span class=nt>-FLAGS</span> <span class=s1>&#39;&#39;</span> <span class=nt>-FILE</span> <span class=s1>&#39;&#39;</span></code></pre></div></div><div class=paragraph><p>Se stai avviando da CDROM, inserisci il CDROM nel lettore e digita il seguente comando per avviare l’installazione (sostituisci il nome del lettore CDROM se necessario):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>&gt;&gt;&gt;</span>BOOT DKA0 <span class=nt>-FLAGS</span> <span class=s1>&#39;&#39;</span> <span class=nt>-FILE</span> <span class=s1>&#39;&#39;</span></code></pre></div></div></li><li><p>In fase di avvio partirà FreeBSD. Se hai fatto il boot tramite floppy, ad un certo punto vedrai questo messaggio:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Please insert MFS root floppy and press enter:</code></pre></div></div><div class=paragraph><p>Segui queste istruzioni e rimuovi il disco <span class=filename>kern.flp</span>, inserisci il disco <span class=filename>mfsroot.flp</span>, poi premi <kbd>Invio</kbd>.</p></div></li><li><p>Indipendentemente se hai fatto il boot da floppy o da CDROM, il processo di avvio arriverà a questo punto:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Hit <span class=o>[</span>Enter] to boot immediately, or any other key <span class=k>for </span><span class=nb>command </span>prompt.
Booting <span class=o>[</span>kernel] <span class=k>in </span>9 seconds... _</code></pre></div></div><div class=paragraph><p>Puoi sia aspettate dieci secondi, oppure premere <kbd>Invio</kbd>. In questo modo verrà caricato il menù di configurazione del kernel.</p></div></li></ol></div></div></div></div></div><div class=sect3><h4 id=view-probe>2.3.2. Rivedere i Risultati del Probe dei Dispositivi<a class=anchor href=#view-probe></a></h4><div class=paragraph><p>Le ultime cento righe che sono state visualizzate sullo schermo sono memorizzate e possono essere riviste.</p></div><div class=paragraph><p>Per rivedere il buffer, premi <kbd>Scroll Lock</kbd>. Ti permetterà di scorrere nel video. Puoi usare i tasti freccia, oppure <kbd>PageUp</kbd> e <kbd>PageDown</kbd> per vedere i risultati. Premi di nuovo <kbd>Scroll Lock</kbd> per fermare lo scrolling.</p></div><div class=paragraph><p>Usa questa tecnica per rivedere i messaggi che sono stati visualizzati quando il kernel ha effettuato il probe dei dispositivi. Vedrai del testo simile alla <a href=#install-dev-probe>Risultati Tipo del Probe dei Dispositivi</a>, anche se questo potrebbe essere diverso a seconda dei dispositivi che hai nel tuo computer.</p></div><div id=install-dev-probe class=listingblock><div class=title>Risultati Tipo del Probe dei Dispositivi</div><div class=content><pre class="rouge highlight"><code data-lang=shell>avail memory <span class=o>=</span> 253050880 <span class=o>(</span>247120K bytes<span class=o>)</span>
Preloaded elf kernel <span class=s2>&#34;kernel&#34;</span> at 0xc0817000.
Preloaded mfs_root <span class=s2>&#34;/mfsroot&#34;</span> at 0xc0817084.
md0: Preloaded image &lt;/mfsroot&gt; 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using <span class=nv>$PIR</span> table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1:&lt;VIA 82C598MVP <span class=o>(</span>Apollo MVP3<span class=o>)</span> PCI-PCI <span class=o>(</span>AGP<span class=o>)</span> bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;iSA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: &lt;VIA 83572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: &lt;unknown card&gt; <span class=o>(</span><span class=nv>vendor</span><span class=o>=</span>0x1106, <span class=nv>dev</span><span class=o>=</span>0x3040<span class=o>)</span> at 7.3
dc0: &lt;ADMtek AN985 10/100BaseTX&gt; port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: &lt;NE2000 PCI Ethernet <span class=o>(</span>RealTek 8029<span class=o>)&gt;</span> port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, <span class=nb>type </span>NE2000 <span class=o>(</span>16 bit<span class=o>)</span>
isa0: too many dependant configs <span class=o>(</span>8<span class=o>)</span>
isa0: unexpected small tag 14
orm0: &lt;Option ROM&gt; at iomem 0xc0000-0xc7fff on isa0
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5<span class=s2>&#34; drive&gt; on fdc0 drive 0
atkbdc0: &lt;Keyboard controller (i8042)&gt; at port 0x60,0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: &lt;PLIP network interface&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master UDMA33
acd0: CD-RW &lt;LITE-ON LTR-1210B&gt; at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0</span></code></pre></div></div><div class=paragraph><p>Analizza attentamente i risultati del probe per assicurarti che FreeBSD ha trovato tutti i dispositivi che ti aspetti. Se non è stato trovato un dispositivo, allora questo non sarà in elenco. Se il driver del dispositivo richiede la configurazione di IRQ e indirizzi di porta allora assicurati di averli inseriti correttamente.</p></div><div class=paragraph><p>Se hai la necessità di modificare dei settaggi per il probe dei dispositivi indicati nell’UserConfig, esci dal programma sysinstall e ricomincia da capo. Questo è anche un modo per prendere confidenza con il processo.</p></div><div id=sysinstall-exit class=imageblock><div class=content><img src=../../../../images/books/handbook/install/sysinstall-exit.png alt="sysinstall exit"></div><div class=title>Figura 1. Selezionare l’Uscita di Sysinstall</div></div><div class=paragraph><p>Usa i tasti freccia per selezionare <span class=guimenuitem>Exit Install</span> dal menù principale di installazione. Ti apparirà il seguente messaggio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
         Are you sure you wish to <span class=nb>exit</span>? The system will reboot
           <span class=o>(</span>be sure to remove any floppies from the drives<span class=o>)</span><span class=nb>.</span>

                            <span class=o>[</span> Yes <span class=o>]</span>    No</code></pre></div></div><div class=paragraph><p>Il programma d’installazione partirà nuovamente se il CDROM è ancora nel driver ed è selezionata <b class=button>yes</b>.</p></div><div class=paragraph><p>Se hai avviato da floppy sarà necessario rimuovere il floppy <span class=filename>mfsroot.flp</span> e mettere <span class=filename>kern.flp</span> prima di riavviare.</p></div></div></div><div class=sect2><h3 id=using-sysinstall>2.4. Introduzione a Sysinstall<a class=anchor href=#using-sysinstall></a></h3><div class=paragraph><p>L’utility sysinstall è l’applicazione di installazione fornita dal FreeBSD Project. È basata sulla console ed è suddivisa in diversi menù e schermate che puoi usare per configurare e controllare il processo di installazione.</p></div><div class=paragraph><p>Il sistema a menù di sysinstall è governabile tramite i tasti freccia, <kbd>Invio</kbd>, <kbd>Spazio</kbd>, e altri tasti. Una descrizione dettagliata di questi tasti e ciò che essi fanno sono contenuti nel documento sull’uso di sysinstall.</p></div><div class=paragraph><p>Per vedere queste informazioni, assicurati che sia evidenziata l’entry <span class=guimenuitem>Usage</span> e che sia selezionato il bottone <b class=button>Select</b>, come mostrato in <a href=#sysinstall-main3>Come Selezionare Usage dal Menù Principale di Sysinstall</a>, quindi premi <kbd>Invio</kbd>.</p></div><div class=paragraph><p>In questo modo verranno visualizzate le istruzioni per usare il sistema a menù. Premi <kbd>Invio</kbd> per ritornare al menù principale.</p></div><div id=sysinstall-main3 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/main1.png alt=main1></div><div class=title>Figura 2. Come Selezionare Usage dal Menù Principale di Sysinstall</div></div><div class=sect3><h4 id=select-doc>2.4.1. Come Selezionare il Menù della Documentazione<a class=anchor href=#select-doc></a></h4><div class=paragraph><p>Dal menù principale, seleziona con i tasti freccia <span class=guimenuitem>Doc</span> e premi <kbd>Invio</kbd>.</p></div><div id=main-doc class=imageblock><div class=content><img src=../../../../images/books/handbook/install/main-doc.png alt="main doc"></div><div class=title>Figura 3. Come Selezionare il Menù della Documentazione</div></div><div class=paragraph><p>Verrà mostrato il menù della documentazione.</p></div><div id=docmenu1 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/docmenu1.png alt=docmenu1></div><div class=title>Figura 4. Menù della Documentazione di Sysinstall</div></div><div class=paragraph><p>È importante leggere la documentazione.</p></div><div class=paragraph><p>Per visualizzare un documento, selezionalo con i tasti freccia e premi <kbd>Invio</kbd>. Quando hai finito di leggere il documento, premi <kbd>Invio</kbd> per ritornare al menù della documentazione.</p></div><div class=paragraph><p>Per ritornare al Menù di Installazione Principale, seleziona <span class=guimenuitem>Exit</span> con i tasti freccia e premi <kbd>Invio</kbd>.</p></div></div><div class=sect3><h4 id=keymap>2.4.2. Come Selezionare il Menù Tastiera<a class=anchor href=#keymap></a></h4><div class=paragraph><p>Per cambiare la mappatura della tastiera, usa i tasti freccia per selezionare <span class=guimenuitem>Keymap</span> dal menù e premi <kbd>Invio</kbd>. Questo è richiesto solo se stati usando una tastiera non-standard o una tastiera non americana.</p></div><div id=sysinstall-keymap class=imageblock><div class=content><img src=../../../../images/books/handbook/install/main-keymap.png alt="main keymap"></div><div class=title>Figura 5. Menù Principale di Sysinstall</div></div><div class=paragraph><p>Una diversa mappatura della tastiera può essere selezionata nel menù usando i tasti freccia e premendo <kbd>Spazio</kbd>. Premi di nuovo <kbd>Spazio</kbd> per deselezionare la tua scelta. Quando hai finito, scegli <b class=button>OK</b> usando i tasti freccia e premi <kbd>Invio</kbd>.</p></div><div class=paragraph><p>Nel successivo screen-shot ne viene mostrata una lista parziale. Se selezioni <b class=button>Cancel</b> premendo <kbd>Tab</kbd> userai la mappatura di default e ritornerai al Menù dell’Installazione Principale.</p></div><div id=sysinstall-keymap-menu class=imageblock><div class=content><img src=../../../../images/books/handbook/install/keymap.png alt=keymap></div><div class=title>Figura 6. Menù della Mappatura della Tastiera di Sysinstall</div></div></div><div class=sect3><h4 id=viewsetoptions>2.4.3. Schermata delle Opzioni di Installazione<a class=anchor href=#viewsetoptions></a></h4><div class=paragraph><p>Seleziona <span class=guimenuitem>Options</span> e premi <kbd>Invio</kbd>.</p></div><div id=sysinstall-options class=imageblock><div class=content><img src=../../../../images/books/handbook/install/main-options.png alt="main options"></div><div class=title>Figura 7. Menù Principale di Sysinstall</div></div><div id=options class=imageblock><div class=content><img src=../../../../images/books/handbook/install/options.png alt=options></div><div class=title>Figura 8. Opzioni di Sysinstall</div></div><div class=paragraph><p>I valori di default sono adeguati per la maggior parte degli utenti e solitamente non necessitano modifiche. Il nome della release varierà a seconda della versione che si sta installando.</p></div><div class=paragraph><p>La descrizione dell’elemento selezionato apparirà illuminato in blu in fondo alla schermata. Nota che una di queste opzioni è <span class=guimenuitem>Use Defaults</span> per resettare tutti i valori ai rispettivi valori di default.</p></div><div class=paragraph><p>Premi <kbd>F1</kbd> per leggere la schermata di aiuto delle varie opzioni.</p></div><div class=paragraph><p>Premendo <kbd>Q</kbd> ritornerai al Menù di Installazione Principale.</p></div></div><div class=sect3><h4 id=start-install>2.4.4. Iniziare una Installazione Standard<a class=anchor href=#start-install></a></h4><div class=paragraph><p>L’installazione <span class=guimenuitem>Standard</span> è raccomandata per i novizi UNIX® o di FreeBSD. Usa i tasti freccia per selezionare <span class=guimenuitem>Standard</span> quindi premi <kbd>Invio</kbd> per cominciare l’installazione.</p></div><div id=sysinstall-standard class=imageblock><div class=content><img src=../../../../images/books/handbook/install/main-std.png alt="main std"></div><div class=title>Figura 9. Iniziare l’Installazione Standard</div></div></div></div><div class=sect2><h3 id=install-steps>2.5. Allocazione dello Spazio su Disco<a class=anchor href=#install-steps></a></h3><div class=paragraph><p>Prima di tutto devi allocare dello spazio su disco per FreeBSD, ed etichettare quello spazio in modo tale che sysinstall possa utilizzarlo. Per fare questo devi conoscere come FreeBSD si aspetta di trovare le informazioni sul disco.</p></div><div class=sect3><h4 id=install-drive-bios-numbering>2.5.1. Numerazione dei Dispositivi nel BIOS<a class=anchor href=#install-drive-bios-numbering></a></h4><div class=paragraph><p>Prima di installare e configurare FreeBSD sul tuo sistema, c’è una cosa importante che devi sapere, specialmente se hai più dischi.</p></div><div class=paragraph><p>In un PC con un sistema operativo dipendente dal BIOS come MS-DOS® o Microsoft® Windows®, il BIOS è in grado di ricavare il corretto ordine dei dischi, e il sistema operativo concorda con un eventuale cambiamento. Questo consente all’utente di effettuare il boot da un disco diverso dal "master primario". Questo è conveniente soprattutto per alcuni utenti che hanno convenuto che il modo più semplice e conveniente per mantenere un sistema di backup è di comperare un secondo disco identico al primo, e effettuare consuete copie del primo disco sul secondo usando Ghost o XCOPY. Quindi, se il primo disco fa fiasco, è sotto le minacce di un virus, o è scarabocchiato da un’imperfezione del sistema operativo stesso, può essere facilmente recuperato istruendo il BIOS a swappare logicamente i due dischi. È come cambiare i cavi sui dischi, ma senza dover aprire il case.</p></div><div class=paragraph><p>I sistemi più costosi con controller SCSI spesso includono delle estensioni del BIOS che consentono di riordinare i dischi SCSI in modo simile a quanto sopra esposto per un massimo di sette dispositivi.</p></div><div class=paragraph><p>Un utente che è abituato ad usare queste caratteristiche può rimanere sorpreso quando vede che i risultati con FreeBSD non sono quelli che si aspettava. FreeBSD non usa il BIOS, e non sa nulla riguardo alla "mappatura logica dei dispositivi del BIOS". Questo può portare a delle situazioni che lasciano perplessi, in particolar modo quando i dischi hanno un’identica geometria fisica, e sono dei clone di un altro disco.</p></div><div class=paragraph><p>Quando si ha a che fare con FreeBSD, ripristinare sempre il BIOS alla numerazione naturale prima di installare FreeBSD, e lasciarla in quel modo. Se hai bisogno di scambiare i dispositivi, fallo, ma fallo fisicamente, aprendo il case e cambiando i cavi e jumper in modo opportuno.</p></div><div class=paragraph><p>Bill distrugge una vecchia box Wintel per fare una box FreeBSD per Fred. Bill installa un solo disco SCSI come l’unità zero SCSI ed installa FreeBSD su di esso.</p></div><div class=paragraph><p>Fred inizia ad usare il sistema, ma dopo alcuni giorni nota che il vecchio disco SCSI riporta numerosi errori e riferisce questo fatto a Bill.</p></div><div class=paragraph><p>Dopo un pò, Bill decide di risolvere la situazione, così prende un disco SCSI identico nella stanza dell'"archivio" di dischi. Una scansione iniziale indica che il disco funziona bene, dunque Bill installa questo disco come la quarta unità SCSI e crea una copia dell’immagine del disco zero nel disco quattro. Ora che il nuovo disco è installato e funziona bene, Bill decide che è una buona idea iniziare ad usarlo, quindi usa le funzionalità nel BIOS SCSI per riordinare i dischi in modo tale che il sistema effettui il boot dal disco quattro. FreeBSD viene avviato e funziona in modo corretto.</p></div><div class=paragraph><p>Fred continua il suo lavoro per parecchi giorni, quando Bill e Fred decidono che è ora di una nuova avventura - tempo di aggiornare ad una nuova versione di FreeBSD. Bill rimuove l’unità SCSI zero perchè era un pò fiacca e la sostituisce con un’altra unità disco identica prendendola dall'"archivio". Bill quindi installa la nuova versione di FreeBSD nella nuova unità SCSI zero usando i floppy FTP di Internet di Fred. L’installazione ha successo.</p></div><div class=paragraph><p>Fred usa la nuova versione di FreeBSD per alcuni giorni, e si convince che è sufficientemente buona per usarla nel dipartimento di ingegneria. È ora di copiare tutto il suo lavoro della vecchia versione. Fred monta la quarta unità SCSI (l’ultima copia della vecchia versione di FreeBSD). Fred è costernato dal fatto che nulla del suo precedente lavoro è presente nella quarta unità SCSI.</p></div><div class=paragraph><p>Dove sono andati i dati?</p></div><div class=paragraph><p>Quando Bill ha fatto una copia dell’immagine dell’unità SCSI zero di origine sulla quarta unità SCSI, la quarta unità divenne un "clone". Quando Bill ha riordinato il BIOS SCSI affinchè si poteva effettuare il boot dalla quarta unità SCSI, ha solo ingannato se stesso. FreeBSD stava ancora girando sull’unità SCSI zero. Questo tipo di modifica al BIOS farà in modo che tutto il codice di boot e del loader sia prelevato dal dispositivo indicato nel BIOS, ma quando i driver del kernel di FreeBSD prendono il controllo, la numerazione dei dispositivi del BIOS sarà ignorata, e FreeBSD considererà la numerazione standard dei dispositivi. Nel nostro esempio, il sistema ha continuato ad operare sull’unità SCSI zero originale, e tutti i dati di Fred erano lì, e non sulla quarta unità SCSI. Il fatto che il sistema sembrava in esecuzione sulla quarta unità SCSI era semplicemente un artificio delle aspettative umane.</p></div><div class=paragraph><p>Siamo contenti di dire che nessun dato è stato cancellato o artefatto dalla scoperta di questo fenomeno. L’unità zero SCSI utilizzata in precedenza è stata recuperata dalla pila di hard disk, ed è stato recuperato tutto il lavoro di Fred, (e ora Bill sa che puè contare anche sull’unità zero).</p></div><div class=paragraph><p>Sebbene siano stati utilizzati dispositivi SCSI in questo esempio, lo stesso concetto si applica ai dispositivi IDE.</p></div></div><div class=sect3><h4 id=main-fdisk>2.5.2. Come Creare le Slice con FDisk<a class=anchor href=#main-fdisk></a></h4><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Tutte le modifiche che fai ora non saranno scritte su disco. Se pensi di aver fatto un errore e vuoi ricominciare dall’inizio puoi usare il menù di sysinstall per uscire e tentare un’altra volta o premere il tasto <kbd>U</kbd> per usare l’opzione <span class=guimenuitem>Undo</span>. Se sei confuso e non riesci a capire come uscire dall’applicazione puoi sempre riavviare il computer.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Dopo aver scelto un’installazione standard in sysinstall ti verrà mostrato questo messaggio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                                 Message
 In the next menu, you will need to <span class=nb>set </span>up a DOS-style <span class=o>(</span><span class=s2>&#34;fdisk&#34;</span><span class=o>)</span>
 partitioning scheme <span class=k>for </span>your hard disk. If you simply wish to devote
 all disk space to FreeBSD <span class=o>(</span>overwriting anything <span class=k>else </span>that might be on
 the disk<span class=o>(</span>s<span class=o>)</span> selected<span class=o>)</span> <span class=k>then </span>use the <span class=o>(</span>A<span class=o>)</span>ll <span class=nb>command </span>to <span class=k>select </span>the default
 partitioning scheme followed by a <span class=o>(</span>Q<span class=o>)</span>uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked <span class=s2>&#34;unused&#34;</span> and use the
 <span class=o>(</span>C<span class=o>)</span>reate command.
                                <span class=o>[</span>  OK  <span class=o>]</span>

                      <span class=o>[</span> Press enter or space <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Premi <kbd>Invio</kbd> come segnalato. Ti verrà mostrato un elenco di tutti gli hard disk che il kernel ha trovato quando ha effettuato il probe dei dispositivi. La <a href=#sysinstall-fdisk-drive1>Come Selezionare il Dispositivo per FDisk</a> mostra un esempio con un sistema con due dischi IDE. Questi sono chiamati <span class=filename>ad0</span> e <span class=filename>ad2</span>.</p></div><div id=sysinstall-fdisk-drive1 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/fdisk-drive1.png alt="fdisk drive1"></div><div class=title>Figura 10. Come Selezionare il Dispositivo per FDisk</div></div><div class=paragraph><p>Ti potresti chiedere perchè <span class=filename>ad1</span> non è elencato nella lista. Perchè è stato omesso?</p></div><div class=paragraph><p>Considera ciò che succederebbe se hai due hard disk IDE, uno come master sul primo controller IDE, ed uno come master sul secondo controller IDE. Se FreeBSD li enumera come li trova, allora saranno <span class=filename>ad0</span> e <span class=filename>ad1</span>.</p></div><div class=paragraph><p>Ma se vuoi aggiungere un terzo hard disk, come dispositivo slave sul primo controller IDE, allora questo sarà <span class=filename>ad1</span>, ed il precedente <span class=filename>ad1</span> diventerà <span class=filename>ad2</span>. Poichè i nome dei dispositivi (come <span class=filename>ad1s1a</span>) sono usati per determinare i filesystem, potresti improvvisamente scoprire che alcuni dei tuoi filesystem non appaiono più correttamente, e avrai necesità di modificare la tua configurazione di FreeBSD.</p></div><div class=paragraph><p>Per aggirare questo problema, il kernel può essere configurato per denominare i dischi IDE in base alla loro posizione, e non in base all’ordine di rilevamento degli stessi. Con questo schema il disco master sul secondo controller IDE sarà <em>sempre</em><span class=filename>ad2</span>, anche se non sono presenti i dispositivi <span class=filename>ad0</span> e <span class=filename>ad1</span>.</p></div><div class=paragraph><p>Questa configurazione è di default per il kernel di FreeBSD, ed è per questo che il display visualizza <span class=filename>ad0</span> e <span class=filename>ad2</span>. La macchina sulla quale è stato preso questo screenshot aveva dischi IDE su entrambi i canali master dei controller IDE, e nessun disco sui canali slave.</p></div><div class=paragraph><p>Dovresti selezionare il disco sul quale vuoi installare FreeBSD, poi premi <b class=button>OK</b>. Verrà avviato FDisk, con una schermata simile a quella nella <a href=#sysinstall-fdisk1>Partizioni Tipiche in Fdisk prima delle Modifiche</a>.</p></div><div class=paragraph><p>La schermata di FDisk è divisa in tre sezioni.</p></div><div class=paragraph><p>La prima sezione, comprendente le prime due linee della schermata, mostra i dettagli dell’hard disk selezionato, includendo il nome di FreeBSD, la geometria del disco, e la sua capacità.</p></div><div class=paragraph><p>La seconda sezione mostra le slice che sono attualmente sul disco, dove esse cominciano e dove finiscono, quanto sono grandi, il nome assegnato da FreeBSD, la loro descrizione ed il loro tipo. Questo esempio mostra due piccole slice inutilizzate, che sono uno degli artefatti degli schemi di progetto del PC. Mostra anche una grande slice FAT, che apparirà quasi certamente come <span class=filename>C:</span> in MS-DOS® / Windows®, ed una slice estesa, che può contenere altre lettere dei dispositivi per MS-DOS® / Windows®.</p></div><div class=paragraph><p>La terza sezione mostra i comandi che sono disponibili in FDisk.</p></div><div id=sysinstall-fdisk1 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/fdisk-edit1.png alt="fdisk edit1"></div><div class=title>Figura 11. Partizioni Tipiche in Fdisk prima delle Modifiche</div></div><div class=paragraph><p>Cosa farai ora dipende da come vuoi splittare il tuo disco.</p></div><div class=paragraph><p>Se vuoi usare FreeBSD su tutto il tuo disco (cancellerai tutti gli altri dati su questo disco quando confermerai in sysinstall che vuoi continuare il processo di installazione) allora premi <kbd>A</kbd>, che corrisponde all’opzione <span class=guimenuitem>Use Entire Disk</span>. Le slice esistenti saranno rimosse, e sostituite con una piccola area etichettata come <code>unused</code> (ancora, un artefatto della progettazione del disco del PC), e una grande slice per FreeBSD. Fatto questo, dovresti selezionare la slice di FreeBSD che hai appena creato usando i tasti freccia, e quindi premere <kbd>S</kbd> affinchè la slice sia avviabile. La schermata avrà un aspetto del tutto simile alla <a href=#sysinstall-fdisk2>Partizionare con Fdisk Usando l’Intero Disco</a>. Nota la <code>A</code> nella colonna dei <code>Flag</code>, che indica che la slice è <em>active</em>, e verrà avviata al boot.</p></div><div class=paragraph><p>Se vuoi cancellare una slice esistente per fare spazio a FreeBSD allora devi selezionare la slice con i tasti freccia, e quindi premere <kbd>D</kbd>. Quindi premi <kbd>C</kbd>, e ti verrà chiesto la dimensione della slice che vuoi creare. Scegli la dimensione appropriata e premi <kbd>Invio</kbd>. Il valore predefinito in questo riquadro rappresenta la dimensione massima che la tua slice può avere, che potrebbe essere il blocco contiguo più lungo di spazio non ancora allocato oppure l’intero disco.</p></div><div class=paragraph><p>Se hai già creato lo spazio per FreeBSD (magari usando un tool come PartitionMagic®) allora puoi premere <kbd>C</kbd> per creare una nuova slice. Di nuovo, ti verrà chiesta la dimensione della slice che vorresti creare.</p></div><div id=sysinstall-fdisk2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/fdisk-edit2.png alt="fdisk edit2"></div><div class=title>Figura 12. Partizionare con Fdisk Usando l’Intero Disco</div></div><div class=paragraph><p>Quando hai finito, premi <kbd>Q</kbd>. Le tue modifiche saranno salvate da sysinstall, ma non saranno ancora applicate al disco.</p></div></div><div class=sect3><h4 id=bootmgr>2.5.3. Installare il Boot Manager<a class=anchor href=#bootmgr></a></h4><div class=paragraph><p>Ora hai due scelte per installare il boot manager. In generale, potresti installare il boot manager di FreeBSD se:</p></div><div class=ulist><ul><li><p>Hai più di un disco, ed hai installato FreeBSD su un disco diverso dal primo.</p></li><li><p>Hai installato FreeBSD accanto ad un altro sistema operativo sullo stesso disco, e vorresti scegliere se avviare FreeBSD o l’altro sistema operativo quando accendi il computer.</p></li></ul></div><div class=paragraph><p>Se FreeBSD è il solo sistema operativo sulla macchina, installato sul primo hard disk, allora il boot manager <span class=guimenuitem>Standard</span> sarà sufficiente. Scegli <span class=guimenuitem>None</span> se stai usando un boot manager di terze parti capace di avviare FreeBSD.</p></div><div class=paragraph><p>Fai la tua scelta e premi <kbd>Invio</kbd>.</p></div><div id=sysinstall-bootmgr class=imageblock><div class=content><img src=../../../../images/books/handbook/install/boot-mgr.png alt="boot mgr"></div><div class=title>Figura 13. Il Menù di Sysinstall del Boot Manager</div></div><div class=paragraph><p>Per l’aiuto in linea, puoi premere <kbd>F1</kbd>, dove troverai informazioni sui problemi che potresti incontrare quando tenti di condividere un hard disk tra più sistemi operativi.</p></div></div><div class=sect3><h4 id=_creare_una_slice_per_un_altro_dispositivo>2.5.4. Creare una Slice per un Altro Dispositivo<a class=anchor href=#_creare_una_slice_per_un_altro_dispositivo></a></h4><div class=paragraph><p>Se hai più di un dispositivo, ritornerai alla schermata di Selezione dei Dispositivi dopo la scelta del boot manager. Se desideri installare FreeBSD su più di un disco, a questo punto puoi selezionare un altro disco e ripetere la fase di partizionamento usando FDisk.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Se non stai installando FreeBSD sul primo dispositivo, allora il boot manager di FreeBSD deve essere installato su entrambi i dispositivi.</p></div></td></tr></tbody></table></div><div id=sysinstall-fdisk-drive2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/fdisk-drive2.png alt="fdisk drive2"></div><div class=title>Figura 14. Uscire dalla Selezione dei Dischi</div></div><div class=paragraph><p>Con <kbd>Tab</kbd> puoi saltare tra l’ultimo disco selezionato, <b class=button>OK</b>, e <b class=button>Cancel</b>.</p></div><div class=paragraph><p>Premi <kbd>Tab</kbd> una volta per selezionare <b class=button>OK</b>, quindi premi <kbd>Invio</kbd> per continuare l’installazione.</p></div></div><div class=sect3><h4 id=bsdlabeleditor>2.5.5. Creare una Partizione Usando Disklabel<a class=anchor href=#bsdlabeleditor></a></h4><div class=paragraph><p>Ora devi creare alcune partizioni all’interno di ogni slice che hai appena creato. Ricorda che ogni partizione è etichettata da lettere, dalla <code>a</code> fino alla <code>h</code>, e le partizioni <code>b</code>, <code>c</code>, e <code>d</code> hanno dei significati formali ai quali dovresti attenerti.</p></div><div class=paragraph><p>Certe applicazioni possono trarre beneficio da alcuni schemi di partizioni particolari, soprattutto se le puoi collocare su più dischi. Comunque, per la tua prima installazione di FreeBSD, non hai bisogno di dare troppo peso a come partizionare il disco. È più importante che installi FreeBSD ed impari ad usarlo. Puoi sempre reinstallare FreeBSD per cambiare il tuo schema delle partizioni quando avrai più familiarità con il sistema operativo.</p></div><div class=paragraph><p>Questo schema caratterizza quattro partizioni -una per lo swap, e le altre tre per i filesystem.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 2. Schema di Partizionamento per il Primo Disco</caption><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Partizione</th><th class="tableblock halign-left valign-top">filesystem</th><th class="tableblock halign-left valign-top">Dimensione</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>a</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>100 MB</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Questo è il filesystem root. Ogni altro filesystem sarà montato da qualche parte sotto di esso. 100 MB è una dimensione ragionevole per questo filesystem. Non memorizzerai troppi dati su di esso, per un’installazione regolare di FreeBSD ci saranno circa 40 MB di dati. Lo spazio rimanente è per i dati temporanei, e lascia anche una spazio di scorta nel caso in cui le versioni future di FreeBSD dovessero richiedere più spazio in <span class=filename>/</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>b</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2-3 x RAM</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lo spazio di swap del sistema è su questa partizione. Scegliere la giusta quantità di swap può non essere così semplice. Una buona regola è che il tuo spazio di swap dovrebbe essere due o tre volte maggiore della tua memoria fisica (RAM). Dovresti avere almeno 64 MB di swap, quindi se nel tuo computer hai meno di 32 MB di RAM allora setta lo swap a 64 MB. Se hai più di un disco puoi mettere lo spazio swap su ogni disco. FreeBSD userà ogni disco per lo swap, velocizzando le azioni di swapping. In questo caso, calcola l’ammontare totale di swap di cui necessiti (per esempio, 128 MB), e quindi dividi questo numero per il numero di dischi che hai (per esempio, due dischi) per ottenere l’ammontare di spazio che dovresti settare su ogni disco, in questo esempio, 64 MB di swap per ogni disco.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>e</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>50 MB</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La directory <span class=filename>/var</span> contiene dei file che variano costantemente; i file di log, e gli altri file di amministrazione. Molti di questi file sono letti o scritti frequentemente durante l’esecuzione giornaliera di FreeBSD. Mettere questi file su un altro filesystem consente a FreeBSD di ottimizzare l’accesso a questi file senza coinvolgere altri file in altre directory che non hanno lo stesso tipo di accesso.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>f</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il Resto del disco</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutti gli altri file saranno tipicamente memorizzati in <span class=filename>/usr</span> e sotto le sue sotto directory.</p></td></tr></tbody></table><div class=paragraph><p>Se installi FreeBSD su più dischi devi creare anche delle partizioni nelle altre slice che configuri. La maniera più facile di fare questo è creare due partizioni su ogni disco, una per lo spazio di swap, ed una per il filesystem.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 3. Schema di Partizionamento per Dischi Successivi</caption><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Partizione</th><th class="tableblock halign-left valign-top">Filesystem</th><th class="tableblock halign-left valign-top">Dimensione</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>b</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>N/A</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Guarda la descrizione</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Come già discusso, puoi dividere lo swap su ogni disco. Anche se la partizione <code>a</code> è libera, per convenzione lo spazio swap sta nella partizione <code>b</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>e</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/disk<em>n</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il resto del disco</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il resto del disco è messo in una grande partizione. Questo potrebbe essere facilmente messo sulla partizione <code>a</code>, invece della partizione <code>e</code>. Comunque, la convenzione dice che la partizione <code>a</code> su una slice è riservata per il filesystem root (<span class=filename>/</span>). Non devi necessariamente seguire questa convenzione, ma sysinstall lo fa, e quindi se segui la convenzione avrai una installazione alla regola. Puoi scegliere di montare questo filesystem dove vuoi; in questo esempio si propone di montare i filesystem sotto le directory <span class=filename>/diskn</span>, dove <em>n</em> è un numero che cambia per ogni disco. Ma puoi usare un altro schema se preferisci.</p></td></tr></tbody></table><div class=paragraph><p>Avendo scelto il tuo schema di partizionamento lo puoi creare con sysinstall. Vedrai questo messaggio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition<span class=o>(</span>s<span class=o>)</span> just created. If you have a reasonable amount of disk
 space <span class=o>(</span>200MB or more<span class=o>)</span> and don<span class=s1>&#39;t have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don&#39;</span>t care <span class=k>for </span>the layout chosen by
 <span class=o>(</span>A<span class=o>)</span>uto, press F1 <span class=k>for </span>more information on manual layout.

                                <span class=o>[</span>  OK  <span class=o>]</span>
                          <span class=o>[</span> Press enter or space <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Premi <kbd>Invio</kbd> per avviare l’editor delle partizioni di FreeBSD, chiamato Disklabel.</p></div><div class=paragraph><p>La <a href=#sysinstall-label>Editor di Disklabel in Sysinstall</a> mostra la schermata quando avvii Disklabel. Il display è diviso in tre sezioni.</p></div><div class=paragraph><p>Le prime linee mostrano il nome del disco sul quale stai lavorando attualmente, e la slice che contiene le partizioni che stai creando (a questo punto Disklabel usa il termine <code>Nome della Partizione</code> piuttosto che nome della slice). Questa schermata mostra anche la quantità di spazio libero nella slice; cioè lo spazio che è stato allocato per la slice, anche se ancora non è stato assegnato ad una partizione.</p></div><div class=paragraph><p>Al centro della schermata sono mostrate le partizioni che sono state create, il nome del filesystem che ogni partizione contiene, la loro dimensione, ed alcune opzioni attinenti alla creazione del filesystem.</p></div><div class=paragraph><p>La parte bassa dello schermo mostra le combinazioni di tasti valide in Disklabel.</p></div><div id=sysinstall-label class=imageblock><div class=content><img src=../../../../images/books/handbook/install/disklabel-ed1.png alt="disklabel ed1"></div><div class=title>Figura 15. Editor di Disklabel in Sysinstall</div></div><div class=paragraph><p>Disklabel può creare automaticamente le partizioni ed assegnare loro una dimensione di default. Prova questa funzione premendo <kbd>A</kbd>. Vedrai una schermata simile a quella mostrata in <a href=#sysinstall-label2>L’Editor Disklabel di Sysinstall con i Valori di Default</a>. A seconda della dimensione del disco che stai usando, i valori di default potrebbero essere differenti. Questo non è fatale, poichè puoi anche non accettare i valori di default .</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il partizionamento di default predispone alla directory <span class=filename>/tmp</span> una propria partizione al posto di essere inclusa nella partizione <span class=filename>/</span>. Questo evita il possibile riempimento della partizione <span class=filename>/</span> con i file temporanei.</p></div></td></tr></tbody></table></div><div id=sysinstall-label2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/disklabel-auto.png alt="disklabel auto"></div><div class=title>Figura 16. L’Editor Disklabel di Sysinstall con i Valori di Default</div></div><div class=paragraph><p>Se scegli di non usare le partizioni di default e desideri sostituirle con quelle che vuoi tu, usa i tasti freccia per selezionare la prima partizione, e premi <kbd>D</kbd> per cancellarla. Ripeti questa operazione per cancellare tutte le partizioni che ritieni opportune.</p></div><div class=paragraph><p>Per creare la prima partizione (<code>a</code>, montata come <span class=filename>/</span> - root), assicurati che sia selezionata in cima allo schermo la slice corretta e premi <kbd>C</kbd>. Apparirà una finestra di dialogo per inserire la dimensione della nuova partizione (come mostrato nella <a href=#sysinstall-label-add>Spazio per la Partizione Root</a>). Puoi immettere la dimensione come il numero di blocchi del disco che vuoi usare, o come un numero seguito da <code>M</code> per megabyte, da <code>G</code> per gigabyte, da <code>C</code> per cilindri.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A partire da FreeBSD 5.X, gli utenti possono: selezionare UFS2 (che è di default per FreeBSD 5.1 e superiori) usando l’opzione <code>Custom Newfs</code> (<kbd>Z</kbd>), creare le etichette con <code>Auto Defaults</code> e modificarle con l’opzione <code>Custom Newfs</code> oppure aggiungendo <code>-O 2</code> durante la normale fase di creazione. Non dimenticare di aggiungere <code>-U</code> per SoftUpDate se vuoi usare l’opzione <code>Custom Newfs</code></p></div></td></tr></tbody></table></div><div id=sysinstall-label-add class=imageblock><div class=content><img src=../../../../images/books/handbook/install/disklabel-root1.png alt="disklabel root1"></div><div class=title>Figura 17. Spazio per la Partizione Root</div></div><div class=paragraph><p>La grandezza di default mostrata creerà una partizione che prende il resto della slice. Se stai usando le dimensioni di partizioni usate nell’esempio precedente, allora cancella la figura esistente usando <kbd>Backspace</kbd>, e poi digita <code>64M</code>, come è mostrato in <a href=#sysinstall-label-add2>Modifica della Dimensione della Partizione di Root</a>. Poi premi <b class=button>OK</b>.</p></div><div id=sysinstall-label-add2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/disklabel-root2.png alt="disklabel root2"></div><div class=title>Figura 18. Modifica della Dimensione della Partizione di Root</div></div><div class=paragraph><p>Dopo aver scelto la dimensione della partizione ti verrà chiesto se la partizione conterrà una filesystem o uno spazio di swap. La finestra di dialogo è mostrata nella <a href=#sysinstall-label-type>Scelta del Tipo della Partizione Root</a>. La prima partizione conterrà un filesystem, quindi assicurati che sia selezionato <span class=guimenuitem>FS</span> e premi <kbd>Invio</kbd>.</p></div><div id=sysinstall-label-type class=imageblock><div class=content><img src=../../../../images/books/handbook/install/disklabel-fs.png alt="disklabel fs"></div><div class=title>Figura 19. Scelta del Tipo della Partizione Root</div></div><div class=paragraph><p>Alla fine, poichè stai creando un filesystem, devi dire a Disklabel dove sarà montato il filesystem. La finestra di dialogo è mostrata nella <a href=#sysinstall-label-mount>Scelta del Punto di Mount della Root</a>. Il punto di mount del filesystem root è <span class=filename>/</span>, dunque digita <code>/</code>, e poi premi <kbd>Invio</kbd>.</p></div><div id=sysinstall-label-mount class=imageblock><div class=content><img src=../../../../images/books/handbook/install/disklabel-root3.png alt="disklabel root3"></div><div class=title>Figura 20. Scelta del Punto di Mount della Root</div></div><div class=paragraph><p>Lo schermo sarà aggiornato e ti mostrerà la partizione appena creata. Devi ripete questa procedura per le altre partizioni. Quando crei la partizione di swap, non ti verrà richiesto di inserire il punto di mount del filesystem, poichè le partizioni di swap non sono mai montate. Quando crei l’ultima partizione, <span class=filename>/usr</span>, puoi lasciare la dimensione suggerita, per usare il rimanente spazio della slice.</p></div><div class=paragraph><p>La schermata finale dell’Editor DiskLabel di FreeBSD sarà simile alla <a href=#sysinstall-label4>L’Editor Disklabel di Sysinstall</a>, sebbene i valori scelti potrebbero essere differenti. Premi <kbd>Q</kbd> per finire.</p></div><div id=sysinstall-label4 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/disklabel-ed2.png alt="disklabel ed2"></div><div class=title>Figura 21. L’Editor Disklabel di Sysinstall</div></div></div></div><div class=sect2><h3 id=install-choosing>2.6. Scegliere Cosa Installare<a class=anchor href=#install-choosing></a></h3><div class=sect3><h4 id=distset>2.6.1. Scegliere il Tipo di Distribuzione<a class=anchor href=#distset></a></h4><div class=paragraph><p>Scegliere quale tipo di distribuzione installare dipenderà in maggior parte dall’uso del sistema e di quanto spazio hai disponibile. Le opzioni predefinite spaziano da installare la configurazione più leggera possibile fino ad arrivare ad installare ogni cosa. Quelli che sono nuovi di UNIX® e/o di FreeBSD dovrebbero quasi certamente selezionare una di queste opzioni inscatolate. La personalizzazione di un tipo di distribuzione è roba da utenti un pò più esperti.</p></div><div class=paragraph><p>Premi <kbd>F1</kbd> per avere più informazioni sulle opzioni del tipo di distribuzione e ciò che contengono. Quando hai finito con l’help, premendo <kbd>Invio</kbd> ritornerai al Menu di Selezione della Distribuzione.</p></div><div class=paragraph><p>Se desideri un’interfaccia grafica allora dovresti scegliere un tipo di distribuzione preceduto da una <code>X</code>. La configurazione del server X e la selezione di un desktop di default deve essere fatta dopo l’installazione di FreeBSD. Maggiori informazioni riguardo la configurazione di un server X possono essere trovate nel <a href=./#x11>L’X Window System</a>.</p></div><div class=paragraph><p>La versione di default di X11 che viene installata dipende dalla versione di FreeBSD che stai installando. Per le versioni di FreeBSD precedenti alla 5.3, viene installato XFree86™ 4.X. Per FreeBSD 5.3 e successive, viene installato di default Xorg.</p></div><div class=paragraph><p>Se pensi di compilare un kernel custom, seleziona un’opzione che include il codice sorgente. Per altre informazioni sul perchè dovrebbe essere costruito un kernel custom o su come costruirlo, guarda il <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>.</p></div><div class=paragraph><p>Ovviamente, il sistema più versatile è quello che include tutto. Se c’è abbastanza spazio su disco, seleziona <span class=guimenuitem>All</span> come mostrato nella <a href=#distribution-set1>Scegliere le Distribuzioni</a> usando i tasti freccia e premi <kbd>Invio</kbd>. Se hai qualche preoccupazione per lo spazio di disco usa un’opzione che ti è più conveniente per la tua situazione. Non cercare la scelta perfetta, poichè potrai aggiungere altre distribuzioni anche dopo l’installazione.</p></div><div id=distribution-set1 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/dist-set.png alt="dist set"></div><div class=title>Figura 22. Scegliere le Distribuzioni</div></div></div><div class=sect3><h4 id=portscol>2.6.2. Installare la Collezione dei Port<a class=anchor href=#portscol></a></h4><div class=paragraph><p>Dopo aver selezionato la distribuzione desiderata, ti viene data l’opportunità di installare la FreeBSD Port Collection. La collezione dei port è un modo semplice e conveniente di installare software. La collezione dei port non contiene il codice sorgente necessario per compilare il software. Invece, è una collezione di file che automatizza il download, la compilazione e l’installazione delle applicazioni di terze-parti. Il <a href=./#ports>Installazione delle Applicazioni. Port e Package</a>, discute su come usare la collezione dei port.</p></div><div class=paragraph><p>Il programma di installazione non verifica se hai lo spazio adeguato. Scegli questa opzione soltanto se hai uno spazio sul disco rigido sufficiente. Per FreeBSD 12.0, la FreeBSD Ports Collection occupa circa 3 GB di spazio su disco. Puoi assumere un valore più grande per le versioni di FreeBSD più recenti.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                         User Confirmation Requested
 Would you like to <span class=nb>install </span>the FreeBSD ports collection?

 This will give you ready access to over 24,000 ported software packages,
 at a cost of around 500 MB of disk space when <span class=s2>&#34;clean&#34;</span> and possibly much
 more than that <span class=k>if </span>a lot of the distribution tarballs are loaded
 <span class=o>(</span>unless you have the extra CDs from a FreeBSD CD/DVD distribution
 available and can mount it on /cdrom, <span class=k>in </span>which <span class=k>case</span> this is far less
 of a problem<span class=p>)</span><span class=nb>.</span>

 The ports collection is a very valuable resource and well worth having
 on your /usr partition, so it is advisable to say Yes to this option.

 For more information on the ports collection &amp; the latest ports,
 visit:
     http://www.FreeBSD.org/ports

                              <span class=o>[</span> Yes <span class=o>]</span>     No</code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> con i tasti freccia per installare la collezione dei port, oppure <b class=button>no</b> per saltare questa opzione. Premi <kbd>Invio</kbd> per continuare. Verrà visualizzato il menu della scelta della distribuzione.</p></div><div id=distribution-set2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/dist-set2.png alt="dist set2"></div><div class=title>Figura 23. Conferma della Distribuzione</div></div><div class=paragraph><p>Se sei soddisfatto delle opzioni, seleziona <span class=guimenuitem>Exit</span> con i tasti freccia, assicurati che <b class=button>OK</b> sia selezionato, quindi premi <kbd>Invio</kbd> per continuare.</p></div></div></div><div class=sect2><h3 id=install-media>2.7. Scegli il Tuo Media di Installazione<a class=anchor href=#install-media></a></h3><div class=paragraph><p>Se vuoi installare da CDROM o da DVD, usa i tasti freccia per evidenziare <span class=guimenuitem>Install from a FreeBSD CD/DVD</span>. Assicurati che <b class=button>OK</b> sia evidenziato, e poi premi <kbd>Invio</kbd> per procedere con l’installazione.</p></div><div class=paragraph><p>Per gli altri metodi di installazione, scegli l’opzione appropriata e segui le istruzioni.</p></div><div class=paragraph><p>Premi <kbd>F1</kbd> per visualizzare l’help in linea sui media di installazione. Premi <kbd>Invio</kbd> per tornare al menù di selezione dei media.</p></div><div id=choose-media class=imageblock><div class=content><img src=../../../../images/books/handbook/install/media.png alt=media></div><div class=title>Figura 24. Scelta del Media di Installazione</div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=title>Modi di Installazione via FTP</div><div class=paragraph><p>Ci sono tre modi di installazione via FTP che puoi scegliere: FTP attivo, FTP passivo, o via un proxy HTTP.</p></div><div class=dlist><dl><dt class=hdlist1>FTP Attivo: <span class=guimenuitem>Install from an FTP server</span></dt><dd><p>Questa opzione farà tutti i trasferimenti FTP usando la modalità "Attiva". Questa modalità non funzionerà attraverso i firewall, ma funzionerà con server FTP vecchi che non supportano la modalità passiva. Se la tua connessione ha problemi con la modalità passiva (il default), prova quella attiva!</p></dd><dt class=hdlist1>FTP Passivo: <span class=guimenuitem>Install from an FTP server through a firewall</span></dt><dd><p>Questa opzione istruisce sysinstall ad usare la modalità "Passiva" per tutte le operazioni FTP. Questo consente all’utente di passare attraverso firewall che non permettono connessioni in entrate su porte TCP random.</p></dd><dt class=hdlist1>FTP tramite un proxy HTTP: <span class=guimenuitem>Install from an FTP server through a http proxy</span></dt><dd><p>Questa opzione istruisce sysinstall a usare il protocollo HTTP (come un browser web) per connettersi a un proxy per tutte le operazioni FTP. Il proxy tradurrà le richieste e invierà loro al server FTP. Questo permette all’utente di passare attraverso i firewall che non permettono FTP del tutto, ma offrono un proxy HTTP. In questo caso, devi specificare il proxy oltre al server FTP.</p></dd></dl></div><div class=paragraph><p>Per un proxy FTP server, dovresti di solito dare il nome del server che realmente vuoi come parte del nome utente, seguito dal carattere "@". Il server proxy quindi "raggira" il server reale. Per esempio, assumiamo che vuoi installare da <code>ftp.FreeBSD.org</code>, usando il server proxy FTP <code>foo.example.com</code>, in ascolto sulla porta 1024.</p></div><div class=paragraph><p>In questo caso, vai alle opzioni del menù, setta il nome utente FTP come <code>ftp@ftp.FreeBSD.org</code>, e il tuo indirizzo email come password. Come media di installazione, specifica FTP (o FTP passivo, se il proxy lo supporta), e l’URL <code><a href=ftp://foo.example.com:1234/pub/FreeBSD class=bare>ftp://foo.example.com:1234/pub/FreeBSD</a></code>.</p></div><div class=paragraph><p>Poichè <span class=filename>/pub/FreeBSD</span> da <code>ftp.FreeBSD.org</code> è proxato sotto <code>foo.example.com</code>, sei in grado di installare da <em>questa</em> macchina (che prenderà i file da <code>ftp.FreeBSD.org</code> richiesti dall’installazione).</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=install-final-warning>2.8. Procedere con l’Installazione<a class=anchor href=#install-final-warning></a></h3><div class=paragraph><p>Se lo desideri l’installazione può ora procedere. Questa è anche l’ultima opportunità per interrompere l’installazione per impedire cambiamenti al disco.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                       User Confirmation Requested
 Last Chance! Are you SURE you want to <span class=k>continue </span>the installation?

 If you<span class=s1>&#39;re running this on a disk with data you wish to save then WE
 STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

 We can take no responsibility for lost disk contents!

                             [ Yes ]    No</span></code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd> per procedere.</p></div><div class=paragraph><p>Il tempo di installazione varierà a seconda della distribuzione che hai scelto, dei media di installazione, e della velocità del computer. Verranno visualizzati una serie di messaggi indicanti lo stato.</p></div><div class=paragraph><p>L’installazione è completa quando viene visualizzato il seguente messaggio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                               Message

Congratulations! You now have FreeBSD installed on your system.

We will now move on to the final configuration questions.
For any option you <span class=k>do </span>not wish to configure, simply <span class=k>select </span>No.

If you wish to re-enter this utility after the system is up, you may
<span class=k>do </span>so by typing: /stand/sysinstall <span class=nb>.</span>

                                 <span class=o>[</span> OK <span class=o>]</span>

                      <span class=o>[</span>  Press enter to <span class=k>continue</span>  <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Premi <kbd>Invio</kbd> per procedere con la configurazione post-installazione.</p></div><div class=paragraph><p>Seleziona <b class=button>no</b> e premi <kbd>Invio</kbd> per interrompere l’installazione in modo tale che nessuna modifica venga effettuata sul tuo sistema. Apparirà il seguente messaggio</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                                Message
Installation <span class=nb>complete </span>with some errors.  You may wish to scroll
through the debugging messages on VTY1 with the scroll-lock feature.
You can also choose <span class=s2>&#34;No&#34;</span> at the next prompt and go back into the
installation menus to retry whichever operations have failed.

                                 <span class=o>[</span> OK <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Questo messaggio viene visualizzato quando non installi nulla. Premi <kbd>Invio</kbd> per ritornare al menù di installazione principale per uscire dall’installazione.</p></div></div><div class=sect2><h3 id=install-post>2.9. Post-installazione<a class=anchor href=#install-post></a></h3><div class=paragraph><p>Dopo una corretta installazione segue la configurazione di varie opzioni. Un’opzione può essere configurata rientrando nelle opzioni di configurazione prima dell’avvio del nuovo sistema FreeBSD o dopo l’installazione usando <code>sysinstall</code> (<code>/stand/sysinstall</code> nelle versioni di FreeBSD prima della 5.2) e selezionando <span class=guimenuitem>Configure</span>.</p></div><div class=sect3><h4 id=inst-network-dev>2.9.1. Configurazione del Dispositivo di Rete<a class=anchor href=#inst-network-dev></a></h4><div class=paragraph><p>Se hai configurato precedentemente PPP per l’installazione FTP, questa schermata non sarà visualizzata ora ma puoi configurarlo più avanti come descritto sotto.</p></div><div class=paragraph><p>Per informazioni dettagliate riguardo alla LAN e alla configurazione di FreeBSD come gateway/router fai riferimento al capitolo <a href=./#advanced-networking>Networking Avanzato</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
   Would you like to configure any Ethernet or SLIP/PPP network devices?

                             <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Per configurare un dispositivo di rete, seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd>. Altrimenti, seleziona <b class=button>no</b> per continuare.</p></div><div id=ed-config1 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/ed0-conf.png alt="ed0 conf"></div><div class=title>Figura 25. Selezione del Dispositivo Ethernet</div></div><div class=paragraph><p>Seleziona con i tasti freccia l’interfaccia che deve essere configurata e premi <kbd>Invio</kbd>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
       Do you want to try IPv6 configuration of the interface?

                              Yes   <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=paragraph><p>In questa LAN privata, il corrente protocollo di Internet (IPv4) era già sufficiente e è stato selezionato <b class=button>no</b> con i tasti freccia ed è stato premuto <kbd>Invio</kbd>.</p></div><div class=paragraph><p>Se sei connesso ad una rete IPv6 già esistente con un server RA, puoi selezionare <b class=button>yes</b> e premere <kbd>Invio</kbd>. Lo scan dei server RA impiegherà un pò di secondi.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                             User Confirmation Requested
        Do you want to try DHCP configuration of the interface?

                              Yes   <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Se il DHCP (Dynamic Host Configuration Protocol) non è usato seleziona <b class=button>no</b> con i tasti freccia e premi <kbd>Invio</kbd>.</p></div><div class=paragraph><p>Selezionando <b class=button>yes</b> si avvierà dhclient, e se tutto va bene, setterà in automatico le informazioni sulla configurazione della rete. Fai riferimento alla <a href=./#network-dhcp>Configurazione Automatica della Rete (DHCP)</a>, per altre informazioni.</p></div><div class=paragraph><p>La seguente schermata di configurazione della rete mostra la configurazione di un dispositivo Ethernet per un sistema che funzionerà da gateway per una LAN.</p></div><div id=ed-config2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/ed0-conf2.png alt="ed0 conf2"></div><div class=title>Figura 26. Settare la Configurazione di Rete per ed0</div></div><div class=paragraph><p>Usa il <kbd>Tab</kbd> per selezionare i campi e riempili con le giuste informazioni:</p></div><div class=dlist><dl><dt class=hdlist1>Host</dt><dd><p>Il nome host assoluto, come <code>k6-2.example.com</code> in questo caso.</p></dd><dt class=hdlist1>Domain</dt><dd><p>Il nome del dominio nel quale si trova la tua macchina, come <code>example.com</code> in questo caso.</p></dd><dt class=hdlist1>IPv4 Gateway</dt><dd><p>L’indirizzo IP dell’host che inoltra i pacchetti verso destinazioni non locali. Devi settarlo se la tua macchina è un nodo di una rete. <em>Lascia questo campo vuoto</em> se la macchina è il gateway di Internet per la rete. Il gateway IPv4 è anche conosciuto come il gateway di default o l’instradamento di default.</p></dd><dt class=hdlist1>Name server</dt><dd><p>L’indirizzo IP del tuo server DNS locale. Su questa lan privata non c’è un server DNS locale quindi è stato usato l’indirizzo IP del server DNS del provider (<code>208.163.10.2</code>).</p></dd><dt class=hdlist1>IPv4 address</dt><dd><p>L’indirizzo IP in uso su questa interfaccia è <code>192.168.0.1</code></p></dd><dt class=hdlist1>Netmask</dt><dd><p>Il blocco di indirizzi in uso per questa lan è un blocco di classe C (<code>192.168.0.0</code> - <code>192.168.255.255</code>). La netmask di default per una rete di classe C è (<code>255.255.255.0</code>).</p></dd><dt class=hdlist1>Extra options to ifconfig</dt><dd><p>Altre opzioni di <code>ifconfig</code> per l’interfaccia di rete che potresti voler aggiungere. In questo caso nessuna.</p></dd></dl></div><div class=paragraph><p>Usa il <kbd>Tab</kbd> per selezionare <b class=button>OK</b> quando hai finito e poi premi <kbd>Invio</kbd>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
        Would you like to Bring Up the ed0 interface right now?

                             <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Selezionando <b class=button>yes</b> e premendo <kbd>Invio</kbd> si porterà la macchina all’interno della rete pronta per l’uso. Comunque, questo non è fondamentale durante l’installazione, poichè la macchina deve essere riavviata.</p></div></div><div class=sect3><h4 id=gateway>2.9.2. Configurare Il Gateway<a class=anchor href=#gateway></a></h4><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                       User Confirmation Requested
       Do you want this machine to <span class=k>function </span>as a network gateway?

                              <span class=o>[</span> Yes <span class=o>]</span>    No</code></pre></div></div><div class=paragraph><p>Se la macchina dovrà essere utilizzata come gateway per una LAN inoltrando pacchetti tra altre macchine allora seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd>. Se la macchina è un nodo di una rete allora seleziona <b class=button>no</b> e premi <kbd>Invio</kbd> per continuare.</p></div></div><div class=sect3><h4 id=inetd-services>2.9.3. Configurare I Servizi di Internet<a class=anchor href=#inetd-services></a></h4><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

                               Yes   <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Se selezioni <b class=button>no</b>, diversi servizi tipo telnetd non saranno avviati. Questo significa che gli utenti remoti non saranno in grado di fare una sessione telnet su questa macchina. Gli utenti locali saranno tuttavia in grado di accedere alla macchina con telnet.</p></div><div class=paragraph><p>Questi servizi possono essere avviati dopo l’installazione editando <span class=filename>/etc/inetd.conf</span> con l’editor di testo che preferisci. Leggi la <a href=./#network-inetd-overview>Uno sguardo d’insieme</a> per più informazioni.</p></div><div class=paragraph><p>Seleziona <b class=button>yes</b> se desideri configurare questi servizi durante l’installazione. Ti verrà proposta un’ulteriore conferma:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
The Internet Super Server <span class=o>(</span>inetd<span class=o>)</span> allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

With this <span class=k>in </span>mind, <span class=k>do </span>you wish to <span class=nb>enable </span>inetd?

                             <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> per continuare.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
inetd<span class=o>(</span>8<span class=o>)</span> relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf<span class=o>(</span>5<span class=o>)</span> leaves all services disabled by default, so they must be
specifically enabled <span class=k>in </span>the configuration file before they will
<span class=k>function</span>, even once inetd<span class=o>(</span>8<span class=o>)</span> is enabled.  Note that services <span class=k>for
</span>IPv6 must be separately enabled from IPv4 services.

Select <span class=o>[</span>Yes] now to invoke an editor on /etc/inetd.conf, or <span class=o>[</span>No] to
use the current settings.

                             <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Scegliendo <b class=button>yes</b> ti sarà consentito aggiungere servizi eliminando <code>#</code> all’inizio delle relative linee.</p></div><div id=inetd-edit class=imageblock><div class=content><img src=../../../../images/books/handbook/install/edit-inetd-conf.png alt="edit inetd conf"></div><div class=title>Figura 27. Editare <span class=filename>inetd.conf</span></div></div><div class=paragraph><p>Dopo che hai aggiunto i servizi desiderati, premendo <kbd>Esc</kbd> ti verrà mostrato un menù che ti consente di uscire salvando i cambiamenti che hai apportato.</p></div></div><div class=sect3><h4 id=ftpanon>2.9.4. FTP Anonimo<a class=anchor href=#ftpanon></a></h4><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine?

                              Yes    <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=sect4><h5 id=deny-anon>2.9.4.1. Negare l’FTP Anonimo<a class=anchor href=#deny-anon></a></h5><div class=paragraph><p>Selezionando <b class=button>no</b> e premendo <kbd>Invio</kbd> consentirai a chi ha un account con password di usare l’FTP per accedere alla macchina.</p></div></div><div class=sect4><h5 id=ftpallow>2.9.4.2. Consentire l’FTP anonimo<a class=anchor href=#ftpallow></a></h5><div class=paragraph><p>Chiunque può accedere alla tua macchina se permetti connessioni FTP anonime. Dovrebbero essere considerate alcune implicazioni di sicurezza prima di abilitare questa opzione. Per altre informazioni sulla sicurezza guarda il <a href=./#security>Sicurezza</a>.</p></div><div class=paragraph><p>Per consentire l’FTP anonimo, usa i tasti freccia e seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd>. Ti verrà visualizzato il seguente messaggio:</p></div><div id=anon-ftp2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/ftp-anon1.png alt="ftp anon1"></div><div class=title>Figura 28. Configurazione FTP Anonima di default</div></div><div class=paragraph><p>Premendo <kbd>F1</kbd> visualizzerai l’help in linea:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>This screen allows you to configure the anonymous FTP user.

The following configuration values are editable:

UID:     The user ID you wish to assign to the anonymous FTP user.
         All files uploaded will be owned by this ID.

Group:   Which group you wish the anonymous FTP user to be <span class=k>in</span><span class=nb>.</span>

Comment: String describing this user <span class=k>in</span> /etc/passwd

FTP Root Directory:

        Where files available <span class=k>for </span>anonymous FTP will be kept.

Upload subdirectory:

        Where files uploaded by anonymous FTP <span class=nb>users </span>will go.</code></pre></div></div><div class=paragraph><p>Di default la directory root dell’ftp sarà <span class=filename>/var</span>. Se prevedi che lo spazio FTP non sia sufficiente, potresti usare la directory <span class=filename>/usr</span> settando la directory root dell’FTP a <span class=filename>/usr/ftp</span>.</p></div><div class=paragraph><p>Quando sei soddisfatto delle modifiche, premi <kbd>Invio</kbd> per continuare.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                          User Confirmation Requested
         Create a welcome message file <span class=k>for </span>anonymous FTP <span class=nb>users</span>?

                              <span class=o>[</span> Yes <span class=o>]</span>    No</code></pre></div></div><div class=paragraph><p>Se selezioni <b class=button>yes</b> e premi <kbd>Invio</kbd>, verrà avviato un editor che ti permetterà di modificare il messaggio di benvenuto.</p></div><div id=anon-ftp4 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/ftp-anon2.png alt="ftp anon2"></div><div class=title>Figura 29. Editare il Messaggio di Benvenuto dell’FTP</div></div><div class=paragraph><p>L’editor è <code>ee</code>. Usa le istruzioni per cambiare il messaggio oppure cambia il messaggio più tardi usando un editor di testo a tua scelta. Nota il nome/locazione del file in fondo alla schermata dell’editor.</p></div><div class=paragraph><p>Premendo <kbd>Esc</kbd> un menù pop-up ti sceglierà di default <span class=guimenuitem>a) leave editor</span>. Premi <kbd>Invio</kbd> per uscire e continuare. Premi di nuovo <kbd>Invio</kbd> per salvare gli eventuali cambiamenti.</p></div></div></div><div class=sect3><h4 id=nfsconf>2.9.5. Configurare NFS (Network File System)<a class=anchor href=#nfsconf></a></h4><div class=paragraph><p>NFS (Network File System) consente la condivisione di file attraverso una rete. Una macchina può essere configurata come server, client, o entrambi. Fai riferimento alla <a href=./#network-nfs>Network File System (NFS)</a> per altre informazioni.</p></div><div class=sect4><h5 id=nsf-server-options>2.9.5.1. Server NFS<a class=anchor href=#nsf-server-options></a></h5><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                       User Confirmation Requested
 Do you want to configure this machine as an NFS server?

                              Yes    <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Se non c’è bisogno di un server NFS, seleziona <b class=button>no</b> e premi <kbd>Invio</kbd>.</p></div><div class=paragraph><p>Se scegli <b class=button>yes</b>, ti apparirà un messaggio che dice che il file <span class=filename>exports</span> deve essere creato.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your <span class=nb>local </span>filesystems.
Press <span class=o>[</span>Enter] now to invoke an editor on /etc/exports
                               <span class=o>[</span> OK <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Premi <kbd>Invio</kbd> per continuare. Verrà avviato un editor di testo al fine di creare ed editare il file <span class=filename>exports</span>.</p></div><div id=nfs-server-edit class=imageblock><div class=content><img src=../../../../images/books/handbook/install/nfs-server-edit.png alt="nfs server edit"></div><div class=title>Figura 30. Editare <span class=filename>exports</span></div></div><div class=paragraph><p>Usa le istruzione per aggiungere i filesystem che desideri esportare oppure fallo dopo l’installazione con il tuo editor preferito. Nota il nome/locazione del file in fondo alla schermata dell’editor.</p></div><div class=paragraph><p>Premi <kbd>Invio</kbd> e ti verrà mostrato un menù con selezionato <span class=guimenuitem>a) leave editor</span>. Premi <kbd>Invio</kbd> per uscire e continuare.</p></div></div><div class=sect4><h5 id=nfs-client-options>2.9.5.2. Client NFS<a class=anchor href=#nfs-client-options></a></h5><div class=paragraph><p>Il client NFS consente alla tua macchina di accedere ai server NFS.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                       User Confirmation Requested
 Do you want to configure this machine as an NFS client?

                              Yes   <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Con i tasti freccia, seleziona <b class=button>yes</b> o <b class=button>no</b> come desiderato e premi <kbd>Invio</kbd>.</p></div></div></div><div class=sect3><h4 id=securityprofile>2.9.6. Profilo della Sicurezza<a class=anchor href=#securityprofile></a></h4><div class=paragraph><p>Un "profilo della sicurezza" è un insieme di opzioni di configurazione che tentano di raggiungere il desiderato rapporto sicurezza/convenienza abilitando o disabilitando certi programmi e settaggi. Con il profilo di sicurezza più severo, pochi programmi saranno abilitati di default. Questo è uno dei principi basi per la sicurezza: non mandare in esecuzione nulla se non quello che usi.</p></div><div class=paragraph><p>Per cortesia nota che il profilo di sicurezza è giusto una configurazione di default. Tutti i programmi possono essere abilitati o disabilitati dopo che hai installato FreeBSD modificando o aggiungendo le appropriate linee in <span class=filename>/etc/rc.conf</span>. Per altre informazioni, consulta la magina man <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>.</p></div><div class=paragraph><p>La seguente tabella descrive la configurazione di ogni profilo di sicurezza. Le colonne sono i profili di sicurezza che puoi scegliere, e le righe sono i programmi o le caratteristiche che il rispettivo profilo abilita o disabilita.</p></div><table class="tableblock frame-all grid-all stretch"><caption class=title>Tabella 4. Profili di sicurezza disponibili</caption><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top"></th><th class="tableblock halign-left valign-top">Extreme</th><th class="tableblock halign-left valign-top">Moderate</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NO</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SI</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NO</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SI</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=portmap&amp;sektion=8&amp;format=html">portmap(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NO</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FORSE (Il portmapper è abilitato se la macchina è stata configurata in precedenza come un client o server NFS.)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>NFS server</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NO</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SI</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=securelevel&amp;sektion=8&amp;format=html">securelevel(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>YES (Se hai scelto un profilo di sicurezza che regola il securelevel a "Extreme" o "High", devi essere consapevole delle implicazioni. Per favore leggi prima la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> e poni particolare attenzione al significato dei livelli di sicurezza, o potresti incontrare grossi problemi in seguito!)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NO</p></td></tr></tbody></table><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                       User Confirmation Requested
 Do you want to <span class=k>select </span>a default security profile <span class=k>for </span>this host <span class=o>(</span><span class=k>select
 </span>No <span class=k>for</span> <span class=s2>&#34;medium&#34;</span> security<span class=o>)</span>?

                            <span class=o>[</span> Yes <span class=o>]</span>    No</code></pre></div></div><div class=paragraph><p>Selezionando <b class=button>no</b> e premendo <kbd>Invio</kbd> setterai il profilo di sicurezza su medio.</p></div><div class=paragraph><p>Selezionando <b class=button>yes</b> e premendo <kbd>Invio</kbd> ti sarà consentito selezionare un diverso profilo di sicurezza.</p></div><div id=security-profile class=imageblock><div class=content><img src=../../../../images/books/handbook/install/security.png alt=security></div><div class=title>Figura 31. Opzioni del Profilo di Sicurezza</div></div><div class=paragraph><p>Premi <kbd>F1</kbd> per visualizzare l’help in linea. Premi <kbd>Invio</kbd> per ritornare al menù di selezione.</p></div><div class=paragraph><p>Usa i tasti freccia per scegliere <span class=guimenuitem>Medium</span> a meno di essere sicuro che necessiti di un altro livello di sicurezza. Con <b class=button>OK</b> selezionato, premi <kbd>Invio</kbd>.</p></div><div class=paragraph><p>Verrà visualizzato un messaggio di conferma a seconda del settaggio di sicurezza che hai scelto.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                                 Message

Moderate security settings have been selected.

Sendmail and SSHd have been enabled, securelevels are
disabled, and NFS server setting have been left intact.
PLEASE NOTE that this still does not save you from having
to properly secure your system <span class=k>in </span>other ways or exercise
due diligence <span class=k>in </span>your administration, this simply picks
a standard <span class=nb>set </span>of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  <span class=o>[</span>OK]</code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                                 Message

Extreme security settings have been selected.

Sendmail, SSHd, and NFS services have been disabled, and
securelevels have been enabled.
PLEASE NOTE that this still does not save you from having
to properly secure your system <span class=k>in </span>other ways or exercise
due diligence <span class=k>in </span>your administration, this simply picks
a more secure <span class=nb>set </span>of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  <span class=o>[</span>OK]</code></pre></div></div><div class=paragraph><p>Premi <kbd>Invio</kbd> per continuare con la post-installazione.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Il profilo di sicurezza non è una soluzione miracolosa! Anche se usi il settaggio estremo, devi stare al passo con i problemi di sicurezza leggendo la mailing lista appropriata (<a href=./#eresources-mail>Mailing Lists</a>), usando ottime password e frasi-password, e attenendosi alle comuni prassi di sicurezza. Qui semplicemente setti il desiderato rapporto sicurezza/convenienza della macchina.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=console>2.9.7. Settaggio della Console di Sistema<a class=anchor href=#console></a></h4><div class=paragraph><p>Ci sono parecchie opzioni disponibili per personalizzare la console di sistema.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
       Would you like to customize your system console settings?

                              <span class=o>[</span> Yes <span class=o>]</span>  No</code></pre></div></div><div class=paragraph><p>Per vedere e configurare le opzioni, seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd>.</p></div><div id=saver-options class=imageblock><div class=content><img src=../../../../images/books/handbook/install/console-saver1.png alt="console saver1"></div><div class=title>Figura 32. Opzioni di Configurazione della Console di Sistema</div></div><div class=paragraph><p>Un’opzione comunemente usata è lo screen saver. Usa i tasti freccia per selezionare <span class=guimenuitem>Saver</span> e premi <kbd>Invio</kbd>.</p></div><div id=saver-select class=imageblock><div class=content><img src=../../../../images/books/handbook/install/console-saver2.png alt="console saver2"></div><div class=title>Figura 33. Opzioni dello Screen Saver</div></div><div class=paragraph><p>Scegli lo screen saver che desideri usando i tasti freccia e quindi premi <kbd>Invio</kbd>. Verrà mostrato il menù di Configurazione della Console di Sistema.</p></div><div class=paragraph><p>Il tempo di inattesa di default è di 300 secondi. Per modificare l’intervallo di tempo, seleziona <span class=guimenuitem>Saver</span> di nuovo. Nel menù delle opzioni dello Screen Saver, seleziona <span class=guimenuitem>Timeout</span> usando i tasti freccia e premi <kbd>Invio</kbd>. Verrà mostrato un menù:</p></div><div id=saver-timeout class=imageblock><div class=content><img src=../../../../images/books/handbook/install/console-saver3.png alt="console saver3"></div><div class=title>Figura 34. Timeout dello Screen Saver</div></div><div class=paragraph><p>Puoi cambiare il valore, quindi seleziona <b class=button>OK</b> e premi <kbd>Invio</kbd> per ritornare al menù di Configurazione della Console di Sistema.</p></div><div id=saver-exit class=imageblock><div class=content><img src=../../../../images/books/handbook/install/console-saver4.png alt="console saver4"></div><div class=title>Figura 35. Uscire dalla Configurazione della Console di Sistema</div></div><div class=paragraph><p>Selezionando <span class=guimenuitem>Exit</span> e premendo <kbd>Invio</kbd> continuerai con le configurazioni post-installazione.</p></div></div><div class=sect3><h4 id=timezone>2.9.8. Regolazione della Zona di Fuso Orario<a class=anchor href=#timezone></a></h4><div class=paragraph><p>Il settaggio della zona di fuso orario per la tua macchina ti consentirà di correggere automaticamente i cambiamenti di tempo regionali e di realizzare altre funzioni relative al fuso orario.</p></div><div class=paragraph><p>L’esempio mostrato è per una macchina situata nella zona di fuso orario orientale degli stati Uniti. La tua selezione dipenderà dalla tua locazione geografica.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
          Would you like to <span class=nb>set </span>this machine<span class=s1>&#39;s time zone now?

                            [ Yes ]   No</span></code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd> per settare la zona di fuso orario.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                       User Confirmation Requested
 Is this machine<span class=s1>&#39;s CMOS clock set to UTC? If it is set to local time
 or you don&#39;</span>t know, please choose NO here!

                              Yes   <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> o <b class=button>no</b> a seconda di come è configurato l’orologio della macchina e poi premi <kbd>Invio</kbd>.</p></div><div id=set-timezone-region class=imageblock><div class=content><img src=../../../../images/books/handbook/install/timezone1.png alt=timezone1></div><div class=title>Figura 36. Selezione della tua Regione</div></div><div class=paragraph><p>La regione appropriata viene selezionata usando i tasti freccia e quindi premendo <kbd>Invio</kbd>.</p></div><div id=set-timezone-country class=imageblock><div class=content><img src=../../../../images/books/handbook/install/timezone2.png alt=timezone2></div><div class=title>Figura 37. Selezione della tua Nazione</div></div><div class=paragraph><p>Scegli la nazione appropriata usando i tasti freccia e premi <kbd>Invio</kbd>.</p></div><div id=set-timezone-locality class=imageblock><div class=content><img src=../../../../images/books/handbook/install/timezone3.png alt=timezone3></div><div class=title>Figura 38. Selezione della Tua Zona di Fuso Orario</div></div><div class=paragraph><p>La zona di fuso orario appropriata viene selezionata usando i tasti freccia e premendo <kbd>Invio</kbd>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                            Confirmation
            Does the abbreviation <span class=s1>&#39;EDT&#39;</span> look reasonable?

                            <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Viene richiesta una conferma per l’abbreviazione per la zona di fuso orario. Se va bene, premi <kbd>Invio</kbd> per continuare con la configurazione post-installazione.</p></div></div><div class=sect3><h4 id=linuxcomp>2.9.9. Compatibilità Linux<a class=anchor href=#linuxcomp></a></h4><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
          Would you like to <span class=nb>enable </span>Linux binary compatibility?

                            <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Selezionando <b class=button>yes</b> e premendo <kbd>Invio</kbd>, potrai eseguire applicazioni Linux su FreeBSD. Verranno installati i package per la compatibilità Linux.</p></div><div class=paragraph><p>Se stai facendo l’installazione via FTP, la macchina necessiterà di collegarsi a Internet. A volte il sito remoto non ha tutte le distribuzioni così come la compatibilità Linux binaria. Puoi sempre installarlo più tardi.</p></div></div><div class=sect3><h4 id=mouse>2.9.10. Configurazione del Mouse<a class=anchor href=#mouse></a></h4><div class=paragraph><p>Questa opzione ti consentirà di tagliare ed incollare il testo nella console e nei programmi utenti con un mouse a 3 pulsanti. Se usi un mouse a 2 pulsanti, fai riferimento alla pagina man, <a href="https://man.freebsd.org/cgi/man.cgi?query=moused&amp;sektion=8&amp;format=html">moused(8)</a>, dopo l’installazione per i dettagli sull’emulazione del terzo pulsante. Questo esempio descrive una configurazione di un mouse non USB (come un mouse PS/2 o via porta COM):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
         Does this system have a non-USB mouse attached to it?

                            <span class=o>[</span> Yes <span class=o>]</span>    No</code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> per un mouse non-USB o <b class=button>no</b> per un mouse USB e poi premi <kbd>Invio</kbd>.</p></div><div id=mouse-protocol class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mouse1.png alt=mouse1></div><div class=title>Figura 39. Selezione del Tipo di Protocollo del Mouse</div></div><div class=paragraph><p>Usa i tasti freccia per selezionare <span class=guimenuitem>Type</span> e premi <kbd>Invio</kbd>.</p></div><div id=set-mouse-protocol class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mouse2.png alt=mouse2></div><div class=title>Figura 40. Settare il Protocollo del Mouse</div></div><div class=paragraph><p>Il mouse usato in questo esempio è di tipo PS/2, quindi l’opzione di default <span class=guimenuitem>Auto</span> era appropriata. Per cambiare il protocollo, usa i tasti freccia e seleziona un’altra opzione. Assicurati che <b class=button>OK</b> sia selezionato e premi <kbd>Invio</kbd> per uscire da questo menù.</p></div><div id=config-mouse-port class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mouse3.png alt=mouse3></div><div class=title>Figura 41. Configurare la Porta del Mouse</div></div><div class=paragraph><p>Usa i tasti freccia per selezionare <span class=guimenuitem>Port</span> e premi <kbd>Invio</kbd>.</p></div><div id=set-mouse-port class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mouse4.png alt=mouse4></div><div class=title>Figura 42. Settare la Porta del Mouse</div></div><div class=paragraph><p>Questo sistema aveva un mouse PS/2, dunque l’opzione di default <span class=guimenuitem>PS/2</span> andava bene. Per cambiare la porta, usa i tasti freccia e premi <kbd>Invio</kbd>.</p></div><div id=test-daemon class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mouse5.png alt=mouse5></div><div class=title>Figura 43. Abilitare il Demone del Mouse</div></div><div class=paragraph><p>Per ultimo, usa i tasti freccia per selezionare <span class=guimenuitem>Enable</span>, e premi <kbd>Invio</kbd> per abilitare e testare il demone del mouse.</p></div><div id=test-mouse-daemon class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mouse6.png alt=mouse6></div><div class=title>Figura 44. Test del Demone del Mouse</div></div><div class=paragraph><p>Muovi il cursore sullo schermo e verifica che il cursore risponda in modo appropriato. Se lo fa, seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd>. Se non lo fa, allora il mouse non è stato configurato correttamente - seleziona <b class=button>no</b> e prova ad usare delle differenti opzioni di configurazione.</p></div><div class=paragraph><p>Seleziona <span class=guimenuitem>Exit</span> con i tasti freccia e premi <kbd>Invio</kbd> per continuare con la configurazione di post-installazione.</p></div></div><div class=sect3><h4 id=network-services>2.9.11. Configurare I Servizi Addizionali di Rete<a class=anchor href=#network-services></a></h4><div class=paragraph><p>La configurazione dei servizi di rete può spaventare i nuovi utenti se questi non hanno alle spalle una conoscenza in quest’area. La rete, Internet incluso, è cruciale per tutti i moderni sistemi operativi FreeBSD incluso; detto ciò, è del tutto utile conoscere le grandi capacità di rete di FreeBSD. Fare questo durante l’installazione permetterà agli utenti di avere alcune conoscenze dei vari servizi che sono disponibili.</p></div><div class=paragraph><p>I servizi di rete sono programmi che accettano input da qualunque posto sulla rete. Sono stati fatti molti sforzi per assicurare che questi programmi non fanno nulla di "dannoso". Sfortunatamente, i programmatori non sono perfetti e in passato ci sono stati casi dove alcuni bug nei servizi di rete sono stati sfruttati da aggressori per fare cose maligne. È importante che abiliti sono i servizi di rete che sai di aver bisogno. Se sei nel dubbio è meglio non abilitare un servizio di rete fino a quando scopri di averlo bisogno. Lo puoi sempre abilitare successivamente ri-avviando sysinstall o usando le funzionalità fornite dal file <span class=filename>/etc/rc.conf</span>.</p></div><div class=paragraph><p>Selezionando l’opzione <b class=menuref>Networking</b> verrà visualizzato un menù simile a questo:</p></div><div id=network-configuration class=imageblock><div class=content><img src=../../../../images/books/handbook/install/net-config-menu1.png alt="net config menu1"></div><div class=title>Figura 45. Configurazione di Alto-Livello della Rete</div></div><div class=paragraph><p>La prima opzione, <span class=guimenuitem>Interfaces</span>, è stata trattata precedentemente durante la <a href=#inst-network-dev>Configurazione del Dispositivo di Rete</a>, e quindi questa opzione può essere tranquillamente ignorata.</p></div><div class=paragraph><p>Selezionando l’opzione <span class=guimenuitem>AMD</span> verrà aggiunto il supporto per l’utility di mount automatica di BSD. Di solito questo viene usato in combinazione con il protocollo NFS (vedi sotto) per montare automaticamente i filesystem remoti. Non è richiesta alcuna configurazione speciale.</p></div><div class=paragraph><p>La linea successiva è l’opzione <span class=guimenuitem>AMD Flags</span>. Quando selezionata, viene visualizzato un menù per settare delle flag specifiche di AMD. Il menù contiene già una serie di opzioni di default:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=nt>-a</span> /.amd_mnt <span class=nt>-l</span> syslog /host /etc/amd.map /net /etc/amd.map</code></pre></div></div><div class=paragraph><p>L’opzione <code>-a</code> setta la locazione di mount di default che è qui specificata come <span class=filename>/.amd_mnt</span>. L’opzione <code>-l</code> specifica il file di <span class=filename>log</span>; di default; comunque, quando viene usato <code>syslogd</code> tutte le attività di log saranno inviate al demone di log del sistema. La directory <span class=filename>/host</span> è usata per montare un filesystem esportato da un host remoto, mentre la directory <span class=filename>/net</span> è usata per montare un filesystem esportato da un indirizzo IP. Il file <span class=filename>/etc/amd.map</span> definisce le opzioni di default per le esportazioni AMD.</p></div><div class=paragraph><p>L’opzione <span class=guimenuitem>Anon FTP</span> permette connessioni FTP anonime. Seleziona questa opzione per rendere questa macchina un server FTP anonimo. Sii consapevole dei rischi di sicurezza che questa opzione comporta. Verrà visualizzato un altro menù nel quale vengono spiegati più nel dettaglio i rischi di sicurezza e la configurazione.</p></div><div class=paragraph><p>Il menù di configurazione <span class=guimenuitem>Gateway</span> configurerà la macchina per essere un gateway come spiegato in precedenza. Lo puoi usare per deselezionare l’opzione <span class=guimenuitem>Gateway</span> se l’hai selezionata sbadatamente nel processo di installazione.</p></div><div class=paragraph><p>L’opzione <span class=guimenuitem>Inetd</span> può essere usata per configurare o disabilitare completamente il demone <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> come discusso sopra.</p></div><div class=paragraph><p>L’opzione <span class=guimenuitem>Mail</span> è usata per configurare l’MTA (Mail Transfer Agent) di default per il sistema. Selezionando questa opzione apparirà il seguente menù:</p></div><div id=mta-selection class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mta-main.png alt="mta main"></div><div class=title>Figura 46. Selezione dell’MTA di default</div></div><div class=paragraph><p>Ti viene data una scelta per quale MTA di default installare e configurare. Un MTA non è altro che un server di posta che consegna email agli utenti sul sistema o via Internet.</p></div><div class=paragraph><p>Selezionando <span class=guimenuitem>Sendmail</span> verrà installato il famoso server sendmail, di default per FreeBSD. L’opzione <span class=guimenuitem>Sendmail local</span> imposterà sendmail per essere l’MTA di default, ma disabilita la sua funzionalità di ricevere email in ingresso provenienti da Internet. Le alternative, <span class=guimenuitem>Postfix</span> e <span class=guimenuitem>Exim</span> si comportano in modo simile a <span class=guimenuitem>Sendmail</span>. Sono entrambi distributori di email; ad ogni modo, alcuni utenti preferiscono queste alternative all’MTAsendmail.</p></div><div class=paragraph><p>Dopo aver scelto o meno un MTA, apparirà il menù di configurazione della rete con la prossima opzione <span class=guimenuitem>NFS client</span>.</p></div><div class=paragraph><p>L’opzione <span class=guimenuitem>NFS client</span> configurerà il sistema per comunicare con un server tramite NFS. Un server NFS rende i filesystem disponibili a altre macchine sulla rete tramite il protocollo NFS. Se questa è una macchina a se stante, questa opzione può non essere selezionata. Il sistema può richiedere un’ulteriore configurazione in seguito; consulta la <a href=./#network-nfs>Network File System (NFS)</a> per maggiori informazioni sulla configurazione riguardo client e server.</p></div><div class=paragraph><p>Sotto all’opzione precedente c’è l’opzione <span class=guimenuitem>NFS server</span>, che ti permette di configurare il sistema come un server NFS. Questo aggiunge le informazioni richieste per avviare RPC, servizi di chiamata a procedura remota. RPC è usato per coordinare le connessioni tra host e i programmi.</p></div><div class=paragraph><p>La prossima linea è l’opzione <span class=guimenuitem>Ntpdate</span>, che tratta la sincronizzazione del tempo. Quando selezionato, viene mostrato un menù come questo:</p></div><div id=Ntpdate-config class=imageblock><div class=content><img src=../../../../images/books/handbook/install/ntp-config.png alt="ntp config"></div><div class=title>Figura 47. Configurazione di Ntpdate</div></div><div class=paragraph><p>Da questo menù, seleziona il server più vicino alla tua posizione. Selezionando il più vicino renderai la sincronizzazione del tempo più accurata poichè un server lontano dalla tua posizione potrebbe avere una latenza di connessione maggiore.</p></div><div class=paragraph><p>La prossima opzione è PCNFSD. Questa opzione installerà il package <a class=package href=https://cgit.freebsd.org/ports/tree/net/pcnfsd/>net/pcnfsd</a> dalla collezione dei port. Questa è un’utilità che fornisce servizi di autenticazione NFS per i sistemi che sono incapaci di fornirne dei propri, come il sistema operativo MS-DOS® della Microsoft.</p></div><div class=paragraph><p>Adesso scorri in giù per vedere le altre opzioni:</p></div><div id=Network-configuration-cont class=imageblock><div class=content><img src=../../../../images/books/handbook/install/net-config-menu2.png alt="net config menu2"></div><div class=title>Figura 48. Configurazione della Rete di Basso-Livello</div></div><div class=paragraph><p>Le utility <a href="https://man.freebsd.org/cgi/man.cgi?query=rpcbind&amp;sektion=8&amp;format=html">rpcbind(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=rpc.statd&amp;sektion=8&amp;format=html">rpc.statd(8)</a>, e <a href="https://man.freebsd.org/cgi/man.cgi?query=rpc.lockd&amp;sektion=8&amp;format=html">rpc.lockd(8)</a> sono tutte usate per RPC (Chiamate a Procedura Remote). L’utility <code>rpcbind</code> gestisce la comunicazione con server e client NFS, ed è richiesta per i server NFS per operare correttamente. Il demone rpc.statd interagisce con il demone rpc.statd su altri host per fornire un controllo sullo stato. Lo stato riportato è solitamente tenuto nel file <span class=filename>/var/db/statd.status</span>. La prossima opzione qui elencata è l’opzione <span class=guimenuitem>rpc.lockd</span>, che, quando selezionata, fornisce servizi di locking dei file. Viene solitamente usato con rpc.statd per controllare quali host stanno richiedendo lock e con quale frequenza. Mentre queste ultime due opzioni sono meravigliose per il debugging, non sono richieste per i client e server NFS per operare correttamente.</p></div><div class=paragraph><p>Come puoi vedere avanzando nella lista il prossimo elemento è <span class=guimenuitem>Routed</span>, che è il demone di instradamento. L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=routed&amp;sektion=8&amp;format=html">routed(8)</a> gestisce le tabelle di instradamento di rete, trova router multicast, e fornisce una copia della tabella di instradamento ad ogni host fisicamente connesso previa richiesta via rete. Questo è principalmente usato per le macchine che fungono da gateway per una lan. Quando selezionato, verrà visualizzato un menù che richiede la locazione di default dell’utility. La locazione di default è già definita e può essere selezionata con il tasto <kbd>Invio</kbd>. Poi ti sarà presentato un altro menù, questa volta per impostare le flag che desideri passare a routed. Sullo schermo dovrebbe apparire la flag di default <code>-q</code>.</p></div><div class=paragraph><p>La prossima linea è l’opzione <span class=guimenuitem>Rwhod</span> che, quando selezionata, avvierà il demone <a href="https://man.freebsd.org/cgi/man.cgi?query=rwhod&amp;sektion=8&amp;format=html">rwhod(8)</a> durante l’inizializzazione del sistema. L’utility <code>rwhod</code> invia periodicamente via rete messaggi di sistema broadcast, o in modalità "consumatore" li colleziona. Altre informazioni possono essere trovate nella pagine man <a href="https://man.freebsd.org/cgi/man.cgi?query=ruptime&amp;sektion=1&amp;format=html">ruptime(1)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=rwho&amp;sektion=1&amp;format=html">rwho(1)</a>.</p></div><div class=paragraph><p>L’ultima opzione della lista è per il demone <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a>. Questo è il server di shell sicuro di OpenSSH ed è altamente raccomandato al posto dei server telnet e FTP. Il server sshd è usato per creare una connessione sicura da un host ad un altro usando connessioni cifrate.</p></div><div class=paragraph><p>In fine c’è l’opzione <span class=guimenuitem>TCP Extensions</span>. Questo abilita le estensioni TCP definite nelle RFC 1323 e RFC 1644. Mentre su molti host questo può velocizzare le connessioni, potrebbe anche causare la perdita di alcune connessioni. Non è raccomandato per server, ma può essere un beneficio per macchine a se stanti.</p></div><div class=paragraph><p>Ora che hai configurato i servizi di rete, puoi scorrere in alto fino all’opzione <span class=guimenuitem>Exit</span> e continuare con la prossima sezione di configurazione.</p></div></div><div class=sect3><h4 id=x-server>2.9.12. Configurare il Server X<a class=anchor href=#x-server></a></h4><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A partire da FreeBSD 5.3-RELEASE, la configurazione del server X è stata rimossa da sysinstall, devi installare e configurare il server X dopo l’installazione di FreeBSD. Maggiori informazioni riguardo all’installazione e alla configurazione del server X possono essere trovate nel <a href=./#x11>L’X Window System</a>. Puoi saltare questa sezione se non stai installando una versione di FreeBSD antecedente la 5.3-RELEASE.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per usare un’interfaccia utente grafica come ad esempio KDE, GNOME, o altri, hai bisogno di configurare il server X.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per far girare XFree86™ come utente non <code>root</code> avrai bisogno di avere <a class=package href=https://cgit.freebsd.org/ports/tree/x11/wrapper/>x11/wrapper</a> installato. Questo è installato di default a partire da FreeBSD 4.7. Per le versioni precedenti questo può essere installato dal menù di selezione dei package.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per vedere se la tua scheda video è supportata, vai sul sito di <a href=http://www.xfree86.org/>XFree86™</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                      User Confirmation Requested
        Would you like to configure your X server at this <span class=nb>time</span>?

                            <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>È necessario conoscere le specifiche del tuo monitor e alcune informazioni della scheda video. Settaggi non corretti potrebbero creare danni all’attrezzatura. Se non hai queste informazioni, seleziona <b class=button>no</b> e quando hai le informazioni esegui la configurazione dopo l’installazione usando <code>sysinstall</code> (<code>/stand/sysinstall</code> nelle versioni di FreeBSD dopo la 5.2), selezionando <span class=guimenuitem>Configure</span> e poi <span class=guimenuitem>XFree86</span>. Una configurazione errata del server X a questo punto può lasciare la macchina in uno stato di blocco. È consigliato configurare il server X una volta che l’installazione è stata completata.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se hai le informazioni della scheda grafica e del monitor, seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd> per procedere alla configurazione del server X.</p></div><div id=xserver2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/xf86setup.png alt=xf86setup></div><div class=title>Figura 49. Selezione del Menù del Metodo di Configurazione</div></div><div class=paragraph><p>Ci sono diversi modi per configurare il server X. Usa i tasti freccia per selezionarne uno e premi <kbd>Invio</kbd>. Assicurati di leggere tutte le istruzioni attentamente.</p></div><div class=paragraph><p>I metodi xf86cfg e xf86cfg -textmode potrebbero richiedere alcuni secondi all’avvio con uno schermo nero. Abbiate pazienza.</p></div><div class=paragraph><p>Di seguito verrà illustrato l’uso del tool di configurazione xf86config. Le scelte di configurazione che farai dipenderanno dall’hardware nel sistema e quindi le tue scelte saranno probabilmente diverse da quelle qui mostrate:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                                Message
 You have configured and been running the mouse daemon.
 Choose <span class=s2>&#34;/dev/sysmouse&#34;</span> as the mouse port and <span class=s2>&#34;SysMouse&#34;</span> or
 <span class=s2>&#34;MouseSystems&#34;</span> as the mouse protocol <span class=k>in </span>the X configuration utility.

                                 <span class=o>[</span> OK <span class=o>]</span>

                      <span class=o>[</span> Press enter to <span class=k>continue</span> <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Questo indica che è stato rilevato il demone del mouse precedentemente configurato. Premi <kbd>Invio</kbd> per continuare.</p></div><div class=paragraph><p>Avviando xf86config verrà visualizzata una breve introduzione:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>This program will create a basic XF86Config file, based on menu selections you
make.

The XF86Config file usually resides <span class=k>in</span> /usr/X11R6/etc/X11 or /etc/X11. A sample
XF86Config file is supplied with XFree86<span class=p>;</span> it is configured <span class=k>for </span>a standard
VGA card and monitor with 640x480 resolution. This program will ask <span class=k>for </span>a
pathname when it is ready to write the file.

You can either take the sample XF86Config as a base and edit it <span class=k>for </span>your
configuration, or <span class=nb>let </span>this program produce a base XF86Config file <span class=k>for </span>your
configuration and fine-tune it.

Before continuing with this program, make sure you know what video card
you have, and preferably also the chipset it uses and the amount of video
memory on your video card. SuperProbe may be able to <span class=nb>help </span>with this.

Press enter to <span class=k>continue</span>, or ctrl-c to abort.</code></pre></div></div><div class=paragraph><p>Premendo <kbd>Invio</kbd> comincerà la configurazione del mouse. Assicurati di seguire le istruzioni e usa "Mouse Systems" come protocollo e <span class=filename>/dev/sysmouse</span> come porta del mouse; l’uso di un mouse PS/2 è mostrato a titolo illustrativo.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>First specify a mouse protocol type. Choose one from the following list:

 1.  Microsoft compatible <span class=o>(</span>2-button protocol<span class=o>)</span>
 2.  Mouse Systems <span class=o>(</span>3-button protocol<span class=o>)</span> &amp; FreeBSD moused protocol
 3.  Bus Mouse
 4.  PS/2 Mouse
 5.  Logitech Mouse <span class=o>(</span>serial, old <span class=nb>type</span>, Logitech protocol<span class=o>)</span>
 6.  Logitech MouseMan <span class=o>(</span>Microsoft compatible<span class=o>)</span>
 7.  MM Series
 8.  MM HitTablet
 9.  Microsoft IntelliMouse

If you have a two-button mouse, it is most likely of <span class=nb>type </span>1, and <span class=k>if </span>you have
a three-button mouse, it can probably support both protocol 1 and 2. There are
two main varieties of the latter <span class=nb>type</span>: mice with a switch to <span class=k>select </span>the
protocol, and mice that default to 1 and require a button to be held at
boot-time to <span class=k>select </span>protocol 2. Some mice can be convinced to <span class=k>do </span>2 by sending
a special sequence to the serial port <span class=o>(</span>see the ClearDTR/ClearRTS options<span class=o>)</span><span class=nb>.</span>

Enter a protocol number: 2

You have selected a Mouse Systems protocol mouse. If your mouse is normally
<span class=k>in </span>Microsoft-compatible mode, enabling the ClearDTR and ClearRTS options
may cause it to switch to Mouse Systems mode when the server starts.

Please answer the following question with either <span class=s1>&#39;y&#39;</span> or <span class=s1>&#39;n&#39;</span><span class=nb>.</span>
Do you want to <span class=nb>enable </span>ClearDTR and ClearRTS? n

You have selected a three-button mouse protocol. It is recommended that you
<span class=k>do </span>not <span class=nb>enable </span>Emulate3Buttons, unless the third button doesn<span class=s1>&#39;t work.

Please answer the following question with either &#39;</span>y<span class=s1>&#39; or &#39;</span>n<span class=s1>&#39;.
Do you want to enable Emulate3Buttons? y

Now give the full device name that the mouse is connected to, for example
/dev/tty00. Just pressing enter will use the default, /dev/mouse.
On FreeBSD, the default is /dev/sysmouse.

Mouse device: /dev/sysmouse</span></code></pre></div></div><div class=paragraph><p>Il prossimo oggetto da configurare è la tastiera. Un modello generico a 101 tasti è mostrato a titolo di esempio. Si possono usare diversi nomi per le varianti o semplicemente premi <kbd>Invio</kbd> per accettare il valore di default.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Please <span class=k>select </span>one of the following keyboard types that is the better
description of your keyboard. If nothing really matches,
choose 1 <span class=o>(</span>Generic 101-key PC<span class=o>)</span>

  1  Generic 101-key PC
  2  Generic 102-key <span class=o>(</span>Intl<span class=o>)</span> PC
  3  Generic 104-key PC
  4  Generic 105-key <span class=o>(</span>Intl<span class=o>)</span> PC
  5  Dell 101-key PC
  6  Everex STEPnote
  7  Keytronic FlexPro
  8  Microsoft Natural
  9  Northgate OmniKey 101
 10  Winbook Model XP5
 11  Japanese 106-key
 12  PC-98xx Series
 13  Brazilian ABNT2
 14  HP Internet
 15  Logitech iTouch
 16  Logitech Cordless Desktop Pro
 17  Logitech Internet Keyboard
 18  Logitech Internet Navigator Keyboard
 19  Compaq Internet
 20  Microsoft Natural Pro
 21  Genius Comfy KB-16M
 22  IBM Rapid Access
 23  IBM Rapid Access II
 24  Chicony Internet Keyboard
 25  Dell Internet Keyboard

Enter a number to choose the keyboard.

1

Please <span class=k>select </span>the layout corresponding to your keyboard

  1  U.S. English
  2  U.S. English w/ ISO9995-3
  3  U.S. English w/ deadkeys
  4  Albanian
  5  Arabic
  6  Armenian
  7  Azerbaidjani
  8  Belarusian
  9  Belgian
 10  Bengali
 11  Brazilian
 12  Bulgarian
 13  Burmese
 14  Canadian
 15  Croatian
 16  Czech
 17  Czech <span class=o>(</span>qwerty<span class=o>)</span>
 18  Danish

Enter a number to choose the country.
Press enter <span class=k>for </span>the next page

1

Please enter a variant name <span class=k>for</span> <span class=s1>&#39;us&#39;</span> layout. Or just press enter
<span class=k>for </span>default variant

us

Please answer the following question with either <span class=s1>&#39;y&#39;</span> or <span class=s1>&#39;n&#39;</span><span class=nb>.</span>
Do you want to <span class=k>select </span>additional XKB options <span class=o>(</span>group switcher,
group indicator, etc.<span class=o>)</span>? n</code></pre></div></div><div class=paragraph><p>Ora, procediamo alla configurazione del monitor. Non eccedere alla potenza del tuo monitor. Potrebbero accadere dei danni. Se hai alcuni dubbi, fai la configurazione quando hai le informazioni.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>parameters are the vertical refresh rate, which is the rate at which the
whole screen is refreshed, and most importantly the horizontal <span class=nb>sync </span>rate,
which is the rate at which scanlines are displayed.

The valid range <span class=k>for </span>horizontal <span class=nb>sync </span>and vertical <span class=nb>sync </span>should be documented
<span class=k>in </span>the manual of your monitor. If <span class=k>in </span>doubt, check the monitor database
/usr/X11R6/lib/X11/doc/Monitors to see <span class=k>if </span>your monitor is there.

Press enter to <span class=k>continue</span>, or ctrl-c to abort.

You must indicate the horizontal <span class=nb>sync </span>range of your monitor. You can either
<span class=k>select </span>one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range.

It is VERY IMPORTANT that you <span class=k>do </span>not specify a monitor <span class=nb>type </span>with a horizontal
<span class=nb>sync </span>range that is beyond the capabilities of your monitor. If <span class=k>in </span>doubt,
choose a conservative setting.

    hsync <span class=k>in </span>kHz<span class=p>;</span> monitor <span class=nb>type </span>with characteristic modes
 1  31.5<span class=p>;</span> Standard VGA, 640x480 @ 60 Hz
 2  31.5 - 35.1<span class=p>;</span> Super VGA, 800x600 @ 56 Hz
 3  31.5, 35.5<span class=p>;</span> 8514 Compatible, 1024x768 @ 87 Hz interlaced <span class=o>(</span>no 800x600<span class=o>)</span>
 4  31.5, 35.15, 35.5<span class=p>;</span> Super VGA, 1024x768 @ 87 Hz interlaced, 800x600 @ 56 Hz
 5  31.5 - 37.9<span class=p>;</span> Extended Super VGA, 800x600 @ 60 Hz, 640x480 @ 72 Hz
 6  31.5 - 48.5<span class=p>;</span> Non-Interlaced SVGA, 1024x768 @ 60 Hz, 800x600 @ 72 Hz
 7  31.5 - 57.0<span class=p>;</span> High Frequency SVGA, 1024x768 @ 70 Hz
 8  31.5 - 64.3<span class=p>;</span> Monitor that can <span class=k>do </span>1280x1024 @ 60 Hz
 9  31.5 - 79.0<span class=p>;</span> Monitor that can <span class=k>do </span>1280x1024 @ 74 Hz
10  31.5 - 82.0<span class=p>;</span> Monitor that can <span class=k>do </span>1280x1024 @ 76 Hz
11  Enter your own horizontal <span class=nb>sync </span>range

Enter your choice <span class=o>(</span>1-11<span class=o>)</span>: 6

You must indicate the vertical <span class=nb>sync </span>range of your monitor. You can either
<span class=k>select </span>one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range. For interlaced modes,
the number that counts is the high one <span class=o>(</span>e.g. 87 Hz rather than 43 Hz<span class=o>)</span><span class=nb>.</span>

 1  50-70
 2  50-90
 3  50-100
 4  40-150
 5  Enter your own vertical <span class=nb>sync </span>range

Enter your choice: 2

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
<span class=k>in </span>default names.

The strings are free-form, spaces are allowed.
Enter an identifier <span class=k>for </span>your monitor definition: Hitachi</code></pre></div></div><div class=paragraph><p>Ora tocca alla selezione della scheda video da una lista. Se passi la tua scheda dalla lista, continua a premere <kbd>Invio</kbd> e la lista ricomincerà da capo. Viene mostrato solo uno stralcio della lista.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Now we must configure video card specific settings. At this point you can
choose to make a selection out of a database of video card definitions.
Because there can be variation <span class=k>in </span>Ramdacs and clock generators even
between cards of the same model, it is not sensible to blindly copy
the settings <span class=o>(</span>e.g. a Device section<span class=o>)</span><span class=nb>.</span> For this reason, after you make a
selection, you will still be asked about the components of the card, with
the settings from the chosen database entry presented as a strong hint.

The database entries include information about the chipset, what driver to
run, the Ramdac and ClockChip, and comments that will be included <span class=k>in </span>the
Device section. However, a lot of definitions only hint about what driver
to run <span class=o>(</span>based on the chipset the card uses<span class=o>)</span> and are untested.

If you can<span class=s1>&#39;t find your card in the database, there&#39;</span>s nothing to worry about.
You should only choose a database entry that is exactly the same model as
your card<span class=p>;</span> choosing one that looks similar is just a bad idea <span class=o>(</span>e.g. a
GemStone Snail 64 may be as different from a GemStone Snail 64+ <span class=k>in </span>terms of
hardware as can be<span class=o>)</span><span class=nb>.</span>

Do you want to look at the card database? y

288  Matrox Millennium G200 8MB                        mgag200
289  Matrox Millennium G200 SD 16MB                    mgag200
290  Matrox Millennium G200 SD 4MB                     mgag200
291  Matrox Millennium G200 SD 8MB                     mgag200
292  Matrox Millennium G400                            mgag400
293  Matrox Millennium II 16MB                         mga2164w
294  Matrox Millennium II 4MB                          mga2164w
295  Matrox Millennium II 8MB                          mga2164w
296  Matrox Mystique                                   mga1064sg
297  Matrox Mystique G200 16MB                         mgag200
298  Matrox Mystique G200 4MB                          mgag200
299  Matrox Mystique G200 8MB                          mgag200
300  Matrox Productiva G100 4MB                        mgag100
301  Matrox Productiva G100 8MB                        mgag100
302  MediaGX                                           mediagx
303  MediaVision Proaxcel 128                          ET6000
304  Mirage Z-128                                      ET6000
305  Miro CRYSTAL VRX                                  Verite 1000

Enter a number to choose the corresponding card definition.
Press enter <span class=k>for </span>the next page, q to <span class=k>continue </span>configuration.

288

Your selected card definition:

Identifier: Matrox Millennium G200 8MB
Chipset:    mgag200
Driver:     mga
Do NOT probe clocks or use any Clocks line.

Press enter to <span class=k>continue</span>, or ctrl-c to abort.

Now you must give information about your video card. This will be used <span class=k>for
</span>the <span class=s2>&#34;Device&#34;</span> section of your video card <span class=k>in </span>XF86Config.

You must indicate how much video memory you have. It is probably a good
idea to use the same approximate amount as that detected by the server you
intend to use. If you encounter problems that are due to the used server
not supporting the amount memory you have <span class=o>(</span>e.g. ATI Mach64 is limited to
1024K with the SVGA server<span class=o>)</span>, specify the maximum amount supported by the
server.

How much video memory <span class=k>do </span>you have on your video card:

 1  256K
 2  512K
 3  1024K
 4  2048K
 5  4096K
 6  Other

Enter your choice: 6

Amount of video memory <span class=k>in </span>Kbytes: 8192

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
<span class=k>in </span>default names <span class=o>(</span>possibly from a card definition<span class=o>)</span><span class=nb>.</span>

Your card definition is Matrox Millennium G200 8MB.

The strings are free-form, spaces are allowed.
Enter an identifier <span class=k>for </span>your video card definition:</code></pre></div></div><div class=paragraph><p>Andando ancora avanti, sono settate le modalità video per la risoluzione desiderata. Tipicamente, utili range sono 640x480, 800x600 e 1024x768, ma questi sono in funzione delle capacità della scheda video, della dimensione del monitor, e del comfort degli occhi. Quando selezioni una profondità di colore, seleziona la più alta che la tua scheda supporta.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>For each depth, a list of modes <span class=o>(</span>resolutions<span class=o>)</span> is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is <span class=nb>set </span>to:

<span class=s2>&#34;640x480&#34;</span> <span class=s2>&#34;800x600&#34;</span> <span class=s2>&#34;1024x768&#34;</span> <span class=s2>&#34;1280x1024&#34;</span> <span class=k>for </span>8-bit
<span class=s2>&#34;640x480&#34;</span> <span class=s2>&#34;800x600&#34;</span> <span class=s2>&#34;1024x768&#34;</span> <span class=s2>&#34;1280x1024&#34;</span> <span class=k>for </span>16-bit
<span class=s2>&#34;640x480&#34;</span> <span class=s2>&#34;800x600&#34;</span> <span class=s2>&#34;1024x768&#34;</span> <span class=s2>&#34;1280x1024&#34;</span> <span class=k>for </span>24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes <span class=k>for </span>8-bit <span class=o>(</span>256 colors<span class=o>)</span>
 2  Change the modes <span class=k>for </span>16-bit <span class=o>(</span>32K/64K colors<span class=o>)</span>
 3  Change the modes <span class=k>for </span>24-bit <span class=o>(</span>24-bit color<span class=o>)</span>
 4  The modes are OK, <span class=k>continue</span><span class=nb>.</span>

Enter your choice: 2

Select modes from the following list:

 1  <span class=s2>&#34;640x400&#34;</span>
 2  <span class=s2>&#34;640x480&#34;</span>
 3  <span class=s2>&#34;800x600&#34;</span>
 4  <span class=s2>&#34;1024x768&#34;</span>
 5  <span class=s2>&#34;1280x1024&#34;</span>
 6  <span class=s2>&#34;320x200&#34;</span>
 7  <span class=s2>&#34;320x240&#34;</span>
 8  <span class=s2>&#34;400x300&#34;</span>
 9  <span class=s2>&#34;1152x864&#34;</span>
 a  <span class=s2>&#34;1600x1200&#34;</span>
 b  <span class=s2>&#34;1800x1400&#34;</span>
 c  <span class=s2>&#34;512x384&#34;</span>

Please <span class=nb>type </span>the digits corresponding to the modes that you want to <span class=k>select</span><span class=nb>.</span>
For example, 432 selects <span class=s2>&#34;1024x768&#34;</span> <span class=s2>&#34;800x600&#34;</span> <span class=s2>&#34;640x480&#34;</span>, with a
default mode of 1024x768.

Which modes? 432

You can have a virtual screen <span class=o>(</span>desktop<span class=o>)</span>, which is screen area that is larger
than the physical screen and which is panned by moving the mouse to the edge
of the screen. If you don<span class=s1>&#39;t want virtual desktop at a certain resolution,
you cannot have modes listed that are larger. Each color depth can have a
differently-sized virtual screen

Please answer the following question with either &#39;</span>y<span class=s1>&#39; or &#39;</span>n<span class=s1>&#39;.
Do you want a virtual screen that is larger than the physical screen? n

For each depth, a list of modes (resolutions) is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is set to:

&#34;640x480&#34; &#34;800x600&#34; &#34;1024x768&#34; &#34;1280x1024&#34; for 8-bit
&#34;1024x768&#34; &#34;800x600&#34; &#34;640x480&#34; for 16-bit
&#34;640x480&#34; &#34;800x600&#34; &#34;1024x768&#34; &#34;1280x1024&#34; for 24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes for 8-bit (256 colors)
 2  Change the modes for 16-bit (32K/64K colors)
 3  Change the modes for 24-bit (24-bit color)
 4  The modes are OK, continue.

Enter your choice: 4

Please specify which color depth you want to use by default:

  1  1 bit (monochrome)
  2  4 bits (16 colors)
  3  8 bits (256 colors)
  4  16 bits (65536 colors)
  5  24 bits (16 million colors)

Enter a number to choose the default depth.

4</span></code></pre></div></div><div class=paragraph><p>In fine, devi salvare la configurazione. Assicurati di digitare <span class=filename>/etc/X11/XF86Config</span> come la locazione per salvare la configurazione.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>I am going to write the XF86Config file now. Make sure you don<span class=s1>&#39;t accidently
overwrite a previously configured one.

Shall I write it to /etc/X11/XF86Config? y</span></code></pre></div></div><div class=paragraph><p>Se la configurazione fallisce, puoi provare a rifarla selezionando <b class=button>yes</b> quando appare il seguente messaggio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>          User Confirmation Requested
The XFree86 configuration process seems to have
failed.  Would you like to try again?

             <span class=o>[</span> Yes <span class=o>]</span>         No</code></pre></div></div><div class=paragraph><p>Se hai difficoltà a configurare XFree86™, seleziona <b class=button>no</b> e premi <kbd>Invio</kbd> e prosegui con il processo di installazione. Dopo l’installazione puoi usare <code>xf86cfg -textmode</code> oppure <code>xf86config</code> come <code>root</code> per accedere alle utility di configurazione a linea di comando. C’è un altro metodo per configurare XFree86™, descritto nel <a href=./#x11>L’X Window System</a>. Se hai deciso di non configurare XFree86™ il prossimo menù sarà per la selezione dei package.</p></div><div class=paragraph><p>Il settaggio di default che permette di killare il server è la sequenza di tasti <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Backspace</kbd></span>. Puoi usarla se qualcosa nel settaggio del server è sbagliato prevenendo danni all’hardware.</p></div><div class=paragraph><p>Il settaggio di default che permette di saltare da una modalità video all’altra mentre X è in esecuzione è la sequenza di tasti <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>+</kbd></span> o <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>-</kbd></span>.</p></div><div class=paragraph><p>Dopo che hai XFree86™ in esecuzione, puoi aggiustare la schermata in altezza, larghezza o centrarla usando xvidtune.</p></div><div class=paragraph><p>Ci sono avvisi che segnalano che settaggi impropri possono danneggiare il tuo equipaggiamento. Considerali. Se sei in dubbio, non farlo. Invece, usa i controlli del monitor per aggiustare la schermata per X Window. Così facendo ci potrebbero essere delle incongruenze di visualizzazione quando passi alla modalità testo, ma questo è meglio rispetto al danneggiamento dell’equipaggiamento.</p></div><div class=paragraph><p>Leggi la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=xvidtune&amp;sektion=1&amp;format=html">xvidtune(1)</a> prima di fare qualsiasi regolazione.</p></div><div class=paragraph><p>Al seguito di una configurazione di XFree86™ andata a buon fine, si procederà alla selezione di un desktop di default.</p></div></div><div class=sect3><h4 id=default-desktop>2.9.13. Selezionare il Desktop X di Default<a class=anchor href=#default-desktop></a></h4><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A partire da FreeBSD 5.3-RELEASE, la possibilità di selezione del desktop X è stata rimossa da sysinstall, devi configurare il desktop X dopo l’installazione di FreeBSD. Maggiori informazioni riguardo all’installazione e configurazione di un desktop X possono essere trovate nel <a href=./#x11>L’X Window System</a>. Puoi saltare questa sezione se non stai installando una versione di FreeBSD precedente a 5.3-RELEASE.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Sono disponibili diversi gestori di finestre. Essi spaziano da ambienti veramente basilari fino a ambienti con desktop completi che includono diverse applicazioni. Alcuni richiedono uno spazio di disco minimo e poca memoria mentre altri con maggiori funzionalità richiedono più risorse. Il miglior modo per determinare quale gestore di finestre utilizzare è provarne alcuni. Sono disponibili dalla collezione dei port o come package e possono essere aggiunti dopo l’installazione.</p></div><div class=paragraph><p>Puoi selezionare uno dei desktop più popolari e sarà installato ed configurato come il desktop di default. Ciò ti permetterà di avviarlo appena dopo l’installazione.</p></div><div id=x-desktop class=imageblock><div class=content><img src=../../../../images/books/handbook/install/desktop.png alt=desktop></div><div class=title>Figura 50. Selezione del Desktop di Default</div></div><div class=paragraph><p>Usa i tasti freccia per selezionare un desktop e premi <kbd>Invio</kbd>. Verrà avviata l’installazione del desktop selezionato.</p></div></div><div class=sect3><h4 id=packages>2.9.14. Installazione dei Package<a class=anchor href=#packages></a></h4><div class=paragraph><p>I package sono binari pre-compilati e risultano essere un modo conveniente per installare applicazioni.</p></div><div class=paragraph><p>A scopo illustrativo viene mostrata l’installazione di un package. Puoi installare ulteriori package se lo desideri. Dopo l’installazione puoi usare <code>sysinstall</code> (<code>/stand/sysinstall</code> nelle versioni di FreeBSD dopo la 5.2) per aggiungere ulteriori package.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                     User Confirmation Requested
 The FreeBSD Package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now?

                            <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Selezionando <b class=button>yes</b> e premendo <kbd>Invio</kbd> verranno visualizzate le seguenti schermate per la selezione dei package:</p></div><div id=package-category class=imageblock><div class=content><img src=../../../../images/books/handbook/install/pkg-cat.png alt="pkg cat"></div><div class=title>Figura 51. Selezione della Categoria dei Package</div></div><div class=paragraph><p>Soltanto i package che risiedono sul media di installazione corrente sono disponibili per l’installazione in un dato istante.</p></div><div class=paragraph><p>Se si seleziona <span class=guimenuitem>All</span> saranno visualizzati tutti i package disponibili oppure puoi selezionare una categoria particolare. Evidenzia la tua selezione con i tasti freccia e premi <kbd>Invio</kbd>.</p></div><div class=paragraph><p>Verrà visualizzato un menù con i package disponibili in base alla selezione effettuata:</p></div><div id=package-select class=imageblock><div class=content><img src=../../../../images/books/handbook/install/pkg-sel.png alt="pkg sel"></div><div class=title>Figura 52. Selezione dei Package</div></div><div class=paragraph><p>È stata selezionata la shell bash. Puoi selezionare altre cose portandoti sul package e premendo il tasto <kbd>Spazio</kbd>. Apparirà una breve descrizione di ogni package nell’angolo in basso a sinistra dello schermo.</p></div><div class=paragraph><p>Premendo il tasto <kbd>Tab</kbd> passerai ciclicamente dall’ultimo package selezionato, da <b class=button>OK</b>, e da <b class=button>Cancel</b>.</p></div><div class=paragraph><p>Quando hai finito di selezionare i package che vuoi installare, premi <kbd>Tab</kbd> una volta per andare a <b class=button>OK</b> e premi <kbd>Invio</kbd> per tornare al menù della selezione dei package.</p></div><div class=paragraph><p>Con i tasti freccia sinistra e destra puoi passare tra <b class=button>OK</b> e <b class=button>Cancel</b>. Questo metodo può essere anche usato per selezionare <b class=button>OK</b> e premere <kbd>Invio</kbd> per tornare al menù di selezione dei package.</p></div><div id=package-install class=imageblock><div class=content><img src=../../../../images/books/handbook/install/pkg-install.png alt="pkg install"></div><div class=title>Figura 53. Installazione dei Package</div></div><div class=paragraph><p>Usa <kbd>Tab</kbd> e con i tasti freccia seleziona <b class=button>Install</b> e premi <kbd>Invio</kbd>. Dovrai confermare l’installazione dei package:</p></div><div id=package-install-confirm class=imageblock><div class=content><img src=../../../../images/books/handbook/install/pkg-confirm.png alt="pkg confirm"></div><div class=title>Figura 54. Conferma dell’Installazione dei Package</div></div><div class=paragraph><p>Selezionando <b class=button>OK</b> e premendo <kbd>Invio</kbd> inizierà l’installazione dei package. Appariranno dei messaggi di installazione fino al completamento della stessa. Prendi nota se c’è qualche messaggio di errore.</p></div><div class=paragraph><p>La configurazione finale continua dopo che i package sono stati installati. Se decidi di non selezionare alcun package, e vuoi ritornare alla configurazione finale, seleziona comunque <b class=button>Install</b>.</p></div></div><div class=sect3><h4 id=addusers>2.9.15. Aggiungere Utenti/Gruppi<a class=anchor href=#addusers></a></h4><div class=paragraph><p>Dovresti aggiungere almeno un utente durante l’installazione in modo che puoi usare il sistema senza doverti loggare come <code>root</code>. La partizione root è generalmente di dimensioni ridotte ed eseguire applicazione da <code>root</code> può riempirla facilmente. Viene segnalato un pericolo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account <span class=k>for </span>yourself at this stage is suggested since
 working as the <span class=s2>&#34;root&#34;</span> user is dangerous <span class=o>(</span>it is easy to <span class=k>do </span>things which
 adversely affect the entire system<span class=o>)</span><span class=nb>.</span>

                            <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> e premi <kbd>Invio</kbd> per continuare nell’aggiunta di un utente.</p></div><div id=add-user2 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/adduser1.png alt=adduser1></div><div class=title>Figura 55. Selezione di un Utente</div></div><div class=paragraph><p>Seleziona <span class=guimenuitem>User</span> con i tasti freccia e premi <kbd>Invio</kbd>.</p></div><div id=add-user3 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/adduser2.png alt=adduser2></div><div class=title>Figura 56. Aggiungere Informazioni dell’Utente</div></div><div class=paragraph><p>Le seguenti descrizioni appariranno nella parte bassa dello schermo ogni qual volta gli elementi sono selezionati con <kbd>Tab</kbd> per assistere all’immissione delle informazioni richieste:</p></div><div class=dlist><dl><dt class=hdlist1>Login ID</dt><dd><p>Il nome di login del nuovo utente (obbligatorio).</p></dd><dt class=hdlist1>UID</dt><dd><p>L’ID numerico per questo utente (lasciare bianco per una scelta automatica).</p></dd><dt class=hdlist1>Group</dt><dd><p>Il nome del gruppo di login per questo utente (lasciate bianco per una scelta automatica).</p></dd><dt class=hdlist1>Password</dt><dd><p>La password per questo utente (inserisci questo campo con cura!).</p></dd><dt class=hdlist1>Full name</dt><dd><p>Il nome completo dell’utente (commento).</p></dd><dt class=hdlist1>Member groups</dt><dd><p>I gruppi a cui questo utente appartiene (cioè i diritti di accesso concessi).</p></dd><dt class=hdlist1>Home directory</dt><dd><p>La directory home dell’utente (lasciare in bianco per il default).</p></dd><dt class=hdlist1>Login shell</dt><dd><p>La shell di login dell’utente (lasciare in bianco per il default, per esempio <span class=filename>/bin/sh</span>).</p></dd></dl></div><div class=paragraph><p>La shell di login è stata modificata da <span class=filename>/bin/sh</span> a <span class=filename>/usr/local/bin/bash</span> per usare la shell bash che è stata in precedenza installata come package. Non tentare di usare una shell che non esiste o non sarai in grado di effettuare il login. La shell più comune usata nel mondo-BSD è la schell C, che può essere indicata come <span class=filename>/bin/tcsh</span>.</p></div><div class=paragraph><p>L’utente è stata aggiunto al gruppo <code>wheel</code> al fine di poter diventare un superutente con privilegi di <code>root</code>.</p></div><div class=paragraph><p>Quando sei soddisfatto, premi <b class=button>OK</b> e ti verrà visualizzato il menù di gestione degli utenti e dei gruppi:</p></div><div id=add-user4 class=imageblock><div class=content><img src=../../../../images/books/handbook/install/adduser3.png alt=adduser3></div><div class=title>Figura 57. Uscire dal menù di Gestione degli Utenti e dei Gruppi</div></div><div class=paragraph><p>I gruppi possono essere aggiunti anche adesso se necessario. Altrimenti, puoi farlo usando <code>sysinstall</code> (<code>/stand/sysinstall</code> nelle versioni di FreeBSD dopo la 5.2) dopo che hai completato l’installazione.</p></div><div class=paragraph><p>Quando hai terminato di aggiungere gli utenti, seleziona <span class=guimenuitem>Exit</span> con i tasti freccia e premi <kbd>Invio</kbd> per continuare l’installazione.</p></div></div><div class=sect3><h4 id=rootpass>2.9.16. Settare la Password di <code>root</code><a class=anchor href=#rootpass></a></h4><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                        Message
 Now you must <span class=nb>set </span>the system manager<span class=s1>&#39;s password.
 This is the password you&#39;</span>ll use to log <span class=k>in </span>as <span class=s2>&#34;root&#34;</span><span class=nb>.</span>

                         <span class=o>[</span> OK <span class=o>]</span>

               <span class=o>[</span> Press enter to <span class=k>continue</span> <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Premi <kbd>Invio</kbd> per settare la password di <code>root</code>.</p></div><div class=paragraph><p>La password dovrà essere battuta correttamente per due volte. Inutile a dirsi, assicurati di avere un modo di trovare la password nel caso dovessi dimenticarla. Nota che la password che digiti non è mostrata, e non vengono visualizzati neppure gli asterischi.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Changing <span class=nb>local </span>password <span class=k>for </span>root.
New password :
Retype new password :</code></pre></div></div><div class=paragraph><p>L’installazione continuerà dopo che la password è stata inserita correttamente.</p></div></div><div class=sect3><h4 id=exit-inst>2.9.17. Uscire dall’Installazione<a class=anchor href=#exit-inst></a></h4><div class=paragraph><p>Se hai bisogno di configurare altri dispositivi di rete o altre configurazioni, lo puoi fare a questo punto o dopo con <code>sysinstall</code> (<code>/stand/sysinstall</code> nelle versioni di FreeBSD dopo la 5.2).</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                     User Confirmation Requested
 Visit the general configuration menu <span class=k>for </span>a chance to <span class=nb>set </span>any last
 options?

                              Yes   <span class=o>[</span> No <span class=o>]</span></code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>no</b> con i tasti freccia e premi <kbd>Invio</kbd> per tornare al menù di Installazione Principale.</p></div><div id=final-main class=imageblock><div class=content><img src=../../../../images/books/handbook/install/mainexit.png alt=mainexit></div><div class=title>Figura 58. Uscire dall’Installazione</div></div><div class=paragraph><p>Seleziona con i tasti freccia <b class=button>X Exit Install</b> e premi <kbd>Invio</kbd>. Ti sarà chiesto di confermare l’uscita dall’installazione:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>                     User Confirmation Requested
 Are you sure you wish to <span class=nb>exit</span>? The system will reboot <span class=o>(</span>be sure to
 remove any floppies from the drives<span class=o>)</span><span class=nb>.</span>

                            <span class=o>[</span> Yes <span class=o>]</span>   No</code></pre></div></div><div class=paragraph><p>Seleziona <b class=button>yes</b> e rimuovi il floppy se hai avviato tramite floppy. Il CDROM è bloccato fino a quando la macchina non verrà riavviata. Il CDROM verrà quindi sbloccato e il disco può essere rimosso dal dispositivo (velocemente).</p></div><div class=paragraph><p>Il sistema verrà riavviato, guarda eventuali messaggi di errore che potrebbero apparire.</p></div></div><div class=sect3><h4 id=freebsdboot>2.9.18. Avvio di FreeBSD<a class=anchor href=#freebsdboot></a></h4><div class=sect4><h5 id=freebsdboot-i386>2.9.18.1. Avvio di FreeBSD su i386™<a class=anchor href=#freebsdboot-i386></a></h5><div class=paragraph><p>Se tutto è andato bene, vedrai alcuni messaggi scorrere sullo schermo a arriverai al prompt di login. Puoi controllare il contenuto dei messaggi premendo <kbd>Scroll-Lock</kbd> e usando <kbd>PgUp</kbd> e <kbd>PgDn</kbd>. Premendo <kbd>Scroll-Lock</kbd> un’altra volta ritornerai al prompt.</p></div><div class=paragraph><p>Il messaggio completo non può essere visualizzato (per limitazioni del buffer) ma può essere visto dalla linea di comando dopo aver effettuato il login digitando al prompt <code>dmesg</code>.</p></div><div class=paragraph><p>Accedi usando il nome utente e la password che hai settato durante l’installazione (<code>rpratt</code>, in questo esempio). Evita di loggarti come <code>root</code> se non ne hai bisogno.</p></div><div class=paragraph><p>Tipici messaggi di avvio (le informazioni sulla versione sono state omesse):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Copyright <span class=o>(</span>c<span class=o>)</span> 1992-2002 The FreeBSD Project.
Copyright <span class=o>(</span>c<span class=o>)</span> 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.

Timecounter <span class=s2>&#34;i8254&#34;</span>  frequency 1193182 Hz
CPU: AMD-K6<span class=o>(</span>tm<span class=o>)</span> 3D processor <span class=o>(</span>300.68-MHz 586-class CPU<span class=o>)</span>
  Origin <span class=o>=</span> <span class=s2>&#34;AuthenticAMD&#34;</span>  Id <span class=o>=</span> 0x580  Stepping <span class=o>=</span> 0
  <span class=nv>Features</span><span class=o>=</span>0x8001bf&lt;FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX&gt;
  AMD <span class=nv>Features</span><span class=o>=</span>0x80000800&lt;SYSCALL,3DNow!&gt;
real memory  <span class=o>=</span> 268435456 <span class=o>(</span>262144K bytes<span class=o>)</span>
config&gt; di sn0
config&gt; di lnc0
config&gt; di le0
config&gt; di ie0
config&gt; di fe0
config&gt; di cs0
config&gt; di bt0
config&gt; di aic0
config&gt; di aha0
config&gt; di adv0
config&gt; q
avail memory <span class=o>=</span> 256311296 <span class=o>(</span>250304K bytes<span class=o>)</span>
Preloaded elf kernel <span class=s2>&#34;kernel&#34;</span> at 0xc0491000.
Preloaded userconfig_script <span class=s2>&#34;/boot/kernel.conf&#34;</span> at 0xc049109c.
md0: Malloc disk
Using <span class=nv>$PIR</span> table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1: &lt;VIA 82C598MVP <span class=o>(</span>Apollo MVP3<span class=o>)</span> PCI-PCI <span class=o>(</span>AGP<span class=o>)</span> bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;ISA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0: &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci0
usb0: &lt;VIA 83C572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1
uhub0: 2 ports with 2 removable, self powered
chip1: &lt;VIA 82C586B ACPI interface&gt; at device 7.3 on pci0
ed0: &lt;NE2000 PCI Ethernet <span class=o>(</span>RealTek 8029<span class=o>)&gt;</span> port 0xe800-0xe81f irq 9 at
device 10.0 on pci0
ed0: address 52:54:05:de:73:1b, <span class=nb>type </span>NE2000 <span class=o>(</span>16 bit<span class=o>)</span>
isa0: too many dependant configs <span class=o>(</span>8<span class=o>)</span>
isa0: unexpected small tag 14
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5<span class=s2>&#34; drive&gt; on fdc0 drive 0
atkbdc0: &lt;keyboard controller (i8042)&gt; at port 0x60-0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq 1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/2 mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x1 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0:
plip0: &lt;PLIP network interface&gt; on ppbus0
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port
ppi0: &lt;Parallel I/O&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master using UDMA33
ad2: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata1-master using UDMA33
acd0: CDROM &lt;DELTA OTC-H101/ST3 F/W by OIPD&gt; at ata0-slave using PIO4
Mounting root from ufs:/dev/ad0s1a
swapon: adding /dev/ad0s1b as swap device
Automatic boot in progress...
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname.
ed0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8
        inet6 ::1 prefixlen 128
        inet 127.0.0.1 netmask 0xff000000
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:.
additional daemons: syslogd.
Doing additional network setup:.
Starting final network daemons: creating ssh RSA host key
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:.
rc.i386 configuring syscons: blank_time screensaver moused.
Additional ABI support: linux.
Local package initialization:.
Additional TCP options:.

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt
Password:</span></code></pre></div></div><div class=paragraph><p>La generazione delle chiavi RSA e DSA può richiedere un pò di tempo sulle macchine lente. Questo succede solo al primo avvio di una nuova installazione. I successivi avvii saranno più veloci.</p></div><div class=paragraph><p>Se è stato configurato il server X ed è stato scelto un Desktop di default, questo può essere avviato digitando sulla linea di comando <code>startx</code>.</p></div></div><div class=sect4><h5 id=_avvio_di_freebsd_su_alpha>2.9.18.2. Avvio di FreeBSD su Alpha<a class=anchor href=#_avvio_di_freebsd_su_alpha></a></h5><div class=paragraph><p>Una volta finita la procedura di installazione, sarai in grado di avviare FreeBSD scrivendo qualcosa di simile a questo nel prompt SRM:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>&gt;&gt;&gt;</span>BOOT DKC0</code></pre></div></div><div class=paragraph><p>Questo istruisce il firmware ad avviare il disco specificato. Per avviare FreeBSD in automatico in futuro, usa questi comandi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>&gt;&gt;&gt;</span> SET BOOT_OSFLAGS A
<span class=o>&gt;&gt;&gt;</span> SET BOOT_FILE <span class=s1>&#39;&#39;</span>
<span class=o>&gt;&gt;&gt;</span> SET BOOTDEF_DEV DKC0
<span class=o>&gt;&gt;&gt;</span> SET AUTO_ACTION BOOT</code></pre></div></div><div class=paragraph><p>I messaggi di avvio saranno simili (ma non identici) a quelli prodotti dall’avvio di FreeBSD su i386™.</p></div></div></div><div class=sect3><h4 id=shutdown>2.9.19. Lo Shutdown di FreeBSD<a class=anchor href=#shutdown></a></h4><div class=paragraph><p>È importante spegnere (effettuare lo shutdown) in modo adeguato il sistema operativo. Non farlo rimuovendo l’alimentazione. Innanzitutto, diventa superuser digitando <code>su</code> dalla linea di comando ed inserendo la password di <code>root</code>. Questo funziona solo se l’utente è un membro del gruppo <code>wheel</code>. Altrimenti, loggati come <code>root</code> e usa <code>shutdown -h now</code>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>The operating system has halted.
Please press any key to reboot.</code></pre></div></div><div class=paragraph><p>Quando appare il messaggio "Please press any key to reboot" puoi togliere con sicurezza l’alimentazione. Se premi qualunque tasto invece di premere il bottone per togliere l’alimentazione, il sistema verrà riavviato.</p></div><div class=paragraph><p>Potresti anche usare la combinazione di tasti <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd></span> per riavviare il sistema, comunque questo non è raccomandato durante un normale funzionamento.</p></div></div></div><div class=sect2><h3 id=install-supported-hardware>2.10. Hardware Supportato<a class=anchor href=#install-supported-hardware></a></h3><div class=paragraph><p>FreeBSD attualmente gira su una varietà di PC con bus ISA, VLB, EISA, e PCI con processori Intel, AMD, Cyrix, o processori NexGen "x86", così come su diverse macchine basate sul processore Compaq Alpha. Supporta configurazioni generiche di dispositivi IDE o ESDI, svariati controller SCSI, schede PCMCIA, dispositivi USB, e schede seriale e di rete. FreeBSD supporta anche il bus microchannel (MCA) di IBM.</p></div><div class=paragraph><p>Un elenco di hardware supportato da FreeBSD è fornito con ogni release di FreeBSD nell’Hardware Note di FreeBSD. Questo documento può essere trovato nel file <span class=filename>HARDWARE.TXT</span>, nella directory root di una distribuzione CDROM o FTP o nel menù di documentazione di sysinstall. Per ogni architettura, vengono elencati i dispositivi hardware che sono noti essere supportati dalla release di FreeBSD. Copie della lista dell’hardware supportato per diverse release ed architetture possono essere trovate nella pagina del sito Web di FreeBSD <a href=http://www.FreeBSD.org/releases/>Informazioni di Release</a>.</p></div></div><div class=sect2><h3 id=install-trouble>2.11. Localizzazione dei guasti<a class=anchor href=#install-trouble></a></h3><div class=paragraph><p>Questa sezione copre la localizzazione di alcuni problemi riguardo all’installazione, come problemi comuni che sono stati segnalati dagli utenti. Ci sono anche alcune domande e risposte per le persone che desiderano avere FreeBSD e MS-DOS® sulla stessa macchina.</p></div><div class=sect3><h4 id=_che_cosa_fare_se_qualche_cosa_va_storto>2.11.1. Che Cosa Fare se Qualche Cosa va Storto<a class=anchor href=#_che_cosa_fare_se_qualche_cosa_va_storto></a></h4><div class=paragraph><p>A causa di varie limitazioni dell’architettura del PC, è impossibile che la fase di probe sia accurata al 100%, comunque ci sono alcune cose che puoi fare se il probe fallisce.</p></div><div class=paragraph><p>Controlla il documento Hardware Note per la tua versione di FreeBSD per assicurarti che il tuo hardware sia supportato.</p></div><div class=paragraph><p>Se il tuo hardware è supportato e continui ad avere esperienze di blocco o altri problemi, resetta il computer, e quando ti viene data la possibilità entra nella configurazione visuale del kernel. Il kernel sui dischetti di avvio è configurato assumendo che la maggior parte dei dispositivi hardware sono nella loro configurazioni di fabbrica in termini di IRQ, indirizzi di IO, e canali DMA. Se il tuo hardware è stato riconfigurato, probabilmente hai bisogno di usare l’editor di configurazione per dire a FreeBSD dove trovare le cose.</p></div><div class=paragraph><p>È anche possibile che un probe di un dispositivo non presente porti a un fallimento di un successivo probe per un dispositivo presente. In questo caso, i probe per i driver che vanno in conflitto dovrebbero essere disabilitati.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcuni problemi di installazione possono essere evitati o alleviati con un aggiornamento del firmware dei vari componenti hardware, scheda madre in primis. Il firmware della scheda madre può anche essere chiamato BIOS e la maggior parte dei produttori di schede madri o di computer hanno un sito web dove poter localizzare gli aggiornamenti e le relative informazioni.</p></div><div class=paragraph><p>La maggior parte dei produttori non consiglia l’aggiornamento del BIOS della scheda madre a meno che ci sia una buona ragione per farlo, che potrebbe essere una sorta di aggiornamento critico. Il processo di aggiornamento <em>può</em> non andare per il verso giusto, causando danni permanenti al chip del BIOS.</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Non disabilitare alcuni driver di cui avrai bisogno durante l’installazione, come quello per lo schermo (<span class=filename>sc0</span>). Se l’installazione si ferma o fallisce misteriosamente dopo aver lasciato l’editor di configurazione, probabilmente hai rimosso o modificato qualcosa che non dovevi. Riavvia e prova di nuovo.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Nella modalità di configurazione, puoi:</p></div><div class=ulist><ul><li><p>Elencare i driver dei dispositivi installati nel kernel.</p></li><li><p>Disabilitare i driver dei dispositivi per l’hardware che non è presente nel tuo sistema.</p></li><li><p>Cambiare IRQ, DRQ, e gli indirizzi delle porte di IO usati da un driver di dispositivo.</p></li></ul></div><div class=paragraph><p>Dopo che hai sistemato il kernel in base alla tua configurazione hardware, premi <code>Q</code> per avviare con i nuovi settaggi. Una volta completata l’installazione, ogni modifica che hai fatto nella modalità di configurazione sarà permanente in modo tale che non devi riconfigurare ogni volta che avvii. Tuttavia è molto probabile che tu voglia costruirti un <a href=./#kernelconfig>kernel su misura</a>.</p></div></div><div class=sect3><h4 id=_questioni_su_partizioni_ms_dos>2.11.2. Questioni su Partizioni MS-DOS®<a class=anchor href=#_questioni_su_partizioni_ms_dos></a></h4><div class=paragraph><p>Molti utenti desiderano installare FreeBSD su un PC popolato da sistemi operativi Microsoft®. Per queste situazioni, FreeBSD ha un utility di nome FIPS. Questa utility può essere trovata nella directory <span class=filename>tools</span> su CD-ROM di installazione, o può essere scaricata da uno dei vari <a href=./#mirrors>mirror di FreeBSD</a>.</p></div><div class=paragraph><p>L’utility FIPS ti consente di suddividere una partizione MS-DOS® esistente in due pezzi, preservando la partizione originale e permettendo di installare FreeBSD nella seconda parte libera. Prima devi deframmentare la tua partizione MS-DOS® usando l’utility di Windows® Deframmentazione dei Dischi (vai in Explorer, clicca con il destro sull’hard disk, e scegli di deframmentarlo), oppure usando Norton Disk Tools. Adesso puoi eseguire l’utility FIPS. Ti verranno mostrate delle informazioni di supporto, segui le informazioni a video. Fatto ciò, puoi riavviare ed installare FreeBSD sulla nuova slice libera. Guarda il menù <span class=guimenuitem>Distributions</span> per una stima di quanto spazio libero necessiti per il tipo di installazione voluto.</p></div><div class=paragraph><p>Esiste anche un prodotto molto utile della PowerQuest (<a href=http://www.powerquest.com/>http://www.powerquest.com</a>) chiamato PartitionMagic®. Questa applicazione ha più funzionalità di FIPS, ed è altamente raccomandato se hai intenzione di aggiungere/rimuovere spesso sistemi operativi. È a pagamento, quindi se hai intenzione di installare in modo permanente FreeBSD, FIPS probabilmente fa al caso tuo.</p></div></div><div class=sect3><h4 id=_usare_filesystem_ms_dos_e_windows>2.11.3. Usare filesystem MS-DOS® e Windows®<a class=anchor href=#_usare_filesystem_ms_dos_e_windows></a></h4><div class=paragraph><p>A tutt’oggi, FreeBSD non supporta filesystem compressi con l’utility Double Space™. Quindi il filesystem dovrà essere decompresso prima che FreeBSD possa accedere ai dati. Questo può essere fatto eseguendo l’Agente di Compressione raggiungibile da <span class=guimenuitem>start</span> > <span class=guimenuitem>Programs</span> > <span class=guimenuitem>System Tools</span>.</p></div><div class=paragraph><p>FreeBSD supporta filesystem basati su MS-DOS®. Questo richiede di usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8&amp;format=html">mount_msdosfs(8)</a> con i parametri opportuni. L’uso più comune è:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount_msdosfs /dev/ad0s1 /mnt</span></code></pre></div></div><div class=paragraph><p>In questo esempio, il filesystems MS-DOS® è localizzato sulla prima partizione dell’hard disk primario. La tua situazione potrebbe essere differente, verifica l’output dei comandi <code>dmesg</code>, e <code>mount</code>. Questi, dovrebbero produrre abbastanza informazioni per darti un’idea del layout della partizione.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>I filesystem MS-DOS® estesi in genere sono mappati dopo le partizioni di FreeBSD. In altre parole, il numero della slice potrebbe essere più alto di quello usato da FreeBSD. Per esempio, la prima partizione MS-DOS® potrebbe essere <span class=filename>/dev/ad0s1</span>, la partizione di FreeBSD potrebbe essere <span class=filename>/dev/ad0s2</span>, con la partizione MS-DOS® estesa in <span class=filename>/dev/ad0s3</span>. Per alcuni, tutto ciò potrebbe causare della confusione all’inizio.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Le partizioni NTFS possono essere montate in modo simile usando il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_ntfs&amp;sektion=8&amp;format=html">mount_ntfs(8)</a>.</p></div></div><div class=sect3><h4 id=_domande_e_risposte_degli_utenti_di_alpha>2.11.4. Domande e Risposte degli Utenti di Alpha<a class=anchor href=#_domande_e_risposte_degli_utenti_di_alpha></a></h4><div class=paragraph><p>Questa sezione risponde ad alcune questioni comuni relative all’installazione di FreeBSD su sistemi Alpha.</p></div><div class=sect4><h5 id=_posso_avviare_dalla_console_arc_arc_o_da_quella_del_bios_alphaalpha_bios>2.11.4.1. Posso avviare dalla console ARC ARC o da quella del BIOS AlphaAlpha BIOS?<a class=anchor href=#_posso_avviare_dalla_console_arc_arc_o_da_quella_del_bios_alphaalpha_bios></a></h5><div class=paragraph><p>No. FreeBSD, come Compaq Tru64 e VMS, non si avviano dalla console SRM.</p></div></div><div class=sect4><h5 id=_aiuto_non_ho_spazio_devo_cancellare_tutto_prima>2.11.4.2. Aiuto, non ho spazio! Devo cancellare tutto prima?<a class=anchor href=#_aiuto_non_ho_spazio_devo_cancellare_tutto_prima></a></h5><div class=paragraph><p>Sfortunatamente, si.</p></div></div><div class=sect4><h5 id=_posso_montare_il_mio_compaq_true64_o_il_filesystem_vms>2.11.4.3. Posso montare il mio Compaq True64 o il filesystem VMS?<a class=anchor href=#_posso_montare_il_mio_compaq_true64_o_il_filesystem_vms></a></h5><div class=paragraph><p>No, non in questo caso.</p></div></div></div></div><div class=sect2><h3 id=install-advanced>2.12. Guida per un’Installazione Avanzata<a class=anchor href=#install-advanced></a></h3><div class=paragraph><p>Questa sezione descrive come installare FreeBSD in casi speciali.</p></div><div class=sect3><h4 id=headless-install>2.12.1. Installare FreeBSD su un Sistema senza Monitor e Tastiera<a class=anchor href=#headless-install></a></h4><div class=paragraph><p>Questo tipo di installazione è chiamata "installazione headless", poichè la macchina sulla quale stai cercando di installare FreeBSD non ha un monitor, o non ha neanche un output VGA. Come è possibile ti chiederai? Usando una console seriale. Una console seriale sostanzialmente usa un’altra macchina per fungere da monitor e tastiera primari per un sistema. Per fare questo, segui le fasi per creare i floppy di installazione, come spiegato nella <a href=#install-floppies>Preparare i Media per il Boot</a>.</p></div><div class=paragraph><p>Per modificare questi floppy per avviare in una console seriale, segui questi passi:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Abilitare i Floppy di Avvio per Avviare in una Console Seriale</p><div class=paragraph><p>Se hai avviato con i floppy che hai appena creato, FreeBSD dovrebbe avviare la sua modalità di installazione standard. Noi vogliamo che FreeBSD avvii un console seriale per la nostra installazione. Per fare questo, devi montare il floppy <span class=filename>kern.flp</span> nel tuo sistema FreeBSD usando il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/fd0 /mnt</span></code></pre></div></div><div class=paragraph><p>Adesso che hai il tuo floppy montato, portati nella directory <span class=filename>/mnt</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /mnt</span></code></pre></div></div><div class=paragraph><p>È qui che devi configurare il floppy per avviare una console seriale. Devi creare un file di nome <span class=filename>boot.config</span> contenente <code>/boot/loader -h</code>. Tutto quello che fa è passare un flag al bootloader per avviare una console seriale.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#34;/boot/loader -h&#34; &gt; boot.config</span></code></pre></div></div><div class=paragraph><p>Adesso che hai il tuo floppy configurato correttamente, devi smontare il floppy usando il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=umount&amp;sektion=8&amp;format=html">umount(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /</span>
<span class=c># umount /mnt</span></code></pre></div></div><div class=paragraph><p>Adesso puoi rimuovere il floppy.</p></div></li><li><p>Connettere il Cavo Null-Modem</p><div class=paragraph><p>Devi connettere un <a href=./#term-cables-null>cavo null-modem</a> tra le due macchine. Connetti il cavo alla porta seriale delle due macchine. <em>Un cavo seriale normale non funzionerà</em>, hai bisogno di un cavo null-modem perchè ha alcuni segnali incrociati.</p></div></li><li><p>Avviare per l’Installazione</p><div class=paragraph><p>È tempo di andare avanti e cominciare con l’installazione. Inserisci il floppy <span class=filename>kern.flp</span> nella macchina sulla quale vuoi fare l’installazione headless, e accendila.</p></div></li><li><p>Connettersi alla Macchina Headless</p><div class=paragraph><p>Adesso devi connetterti alla macchina con <a href="https://man.freebsd.org/cgi/man.cgi?query=cu&amp;sektion=1&amp;format=html">cu(1)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cu -l /dev/cuaa0</span></code></pre></div></div></li></ol></div></div></div><div class=paragraph><p>Ci siamo! Dovresti essere in grado di controllare la macchina headless attraverso la tua sessione <code>cu</code>. Ti verrà chiesto di inserire <span class=filename>mfsroot.flp</span>, e poi dovrai scegliere il tipo di terminale da usare. Seleziona la console a colori di FreeBSD e procedi con la tua installazione!</p></div></div></div><div class=sect2><h3 id=install-diff-media>2.13. Preparare i Propri Media di Installazione<a class=anchor href=#install-diff-media></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per evitare ripetizioni, "il disco di FreeBSD" in questo contesto significa il CDROM o DVD che ti sei procurato.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ci possono essere delle situazioni in cui hai bisogno di creare dei media di installazione di FreeBSD e/o delle fonti per l’installazione. Potrebbe essere un media fisico, come un nastro, o una fonte che sysinstall può usare per recuperare i file, come un sito FTP locale, o una partizione MS-DOS®.</p></div><div class=paragraph><p>Per esempio:</p></div><div class=ulist><ul><li><p>Hai molte macchine connesse alla tua rete locale, e un disco di FreeBSD. Vuoi creare un sito FTP locale usando il contenuto del disco di FreeBSD, e quindi dare la possibilità alle tue macchine di usare questo sito FTP locale senza la necessità di doversi collegare a Internet.</p></li><li><p>Hai un disco di FreeBSD, e FreeBSD non riconosce il tuo lettore CD/DVD, ma MS-DOS®/Windows® lo riconosce. Vuoi copiare i file di installazione di FreeBSD su una partizione DOS posta sul medesimo computer, e quindi installare FreeBSD usando quei file.</p></li><li><p>Il computer sul quale vuoi installare FreeBSD non ha un lettore CD/DVD ne una scheda di rete, ma puoi connettere un cavo "Laplink-style" seriale o parallelo ad un altro computer fornito di quei supporti.</p></li><li><p>Vuoi creare un nastro che può essere usato per installare FreeBSD.</p></li></ul></div><div class=sect3><h4 id=install-cdrom>2.13.1. Creare un CDROM di Installazione<a class=anchor href=#install-cdrom></a></h4><div class=paragraph><p>Come parte di ogni release, il progetto FreeBSD mette a disposizione due immagini CDROM ("immagini ISO"). Queste immagini possono essere scritte ("burnate") su CD se hai un masterizzatore, e quindi possono essere usate per installare FreeBSD. Se hai un masterizzatore, e la banda di rete è conveniente, allora questo è il modo più semplice per installare FreeBSD.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Scaricare le Immagini ISO Corrette</p><div class=paragraph><p>Le immagini ISO per ogni release possono essere scaricate da <span class=filename><a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-arch/version class=bare>ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-arch/version</a></span> o dal mirror più vicino. Sostituisci <em>arch</em> e <em>versione</em> in modo appropriato.</p></div><div class=paragraph><p>Quella directory normalmente contiene le seguenti immagini:</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 5. Nomi e Significati delle Immagini ISO di FreeBSD 4.<em>X</em></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Nome del File</th><th class="tableblock halign-left valign-top">Contenuto</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>version-RELEASE-arch-miniinst.iso</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutto quello di cui hai bisogno per installare FreeBSD.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>version-RELEASE-arch-disc1.iso</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutto quello di cui hai bisogno per installare FreeBSD, e anche molti package addizionali di terze parti che potresti provare.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>version-RELEASE-arch-disc2.iso</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Un "filesystem live", usato in congiunzione con l’utility "Repair" di sysinstall. Una copia dell’albero CVS di FreeBSD. Sul disco anche altri package addizionali di terze parti.</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 6. Nomi e Significati delle Immagini ISO di FreeBSD 5.<em>X</em></caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Nome del File</th><th class="tableblock halign-left valign-top">Contenuto</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>version-RELEASE-arch-bootonly.iso</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutto ciò di cui hai bisogno per avviare il kernel di FreeBSD e partire con l’interfaccia di installazione. I file di installazione devono essere messi su FTP o su altre fonti di supporto.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>version-RELEASE-arch-miniinst.iso</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutto ciò di cui hai bisogno per installare FreeBSD.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>version-RELEASE-arch-disc1.iso</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutto ciò di cui hai bisogno per installare FreeBSD e un "live filesystem", che è usato in congiunzione con l’utility "Repair" in sysinstall.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>version-RELEASE-arch-disc2.iso</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La documentazione di FreeBSD e molte applicazioni di terze parti.</p></td></tr></tbody></table><div class=paragraph><p><em>Devi</em> scaricare o l’immagine ISO miniinst, o l’immagine del disco uno. Non le scaricare entrambe, poichè l’immagine del disco uno contiene tutto ciò che contiene l’immagine ISO miniinst.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>L’immagine ISO miniinst è solo disponibile per le release antecedenti la 5.4-RELEASE.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Usa la miniinst ISO se l’accesso ad Internet è costoso per te. Ti permetterà di installare FreeBSD, e puoi sempre installare i package di terze parti scaricandoli usando il sistema dei port/package (guarda il <a href=./#ports>Installazione delle Applicazioni. Port e Package</a>,) se necessario.</p></div><div class=paragraph><p>Usa l’immagine del disco uno se vuoi installare una release di FreeBSD e se vuoi anche un modesto assortimento di package di terze parti.</p></div><div class=paragraph><p>Le altre immagini sono utili, ma non essenziali, soprattutto se hai un accesso ad Internet ad alta velocità.</p></div></li><li><p>Scrivere i CD</p><div class=paragraph><p>Devi scrivere le immagini dei CD sul disco. Se hai intenzione di farlo da un’altra macchina FreeBSD allora guarda la <a href=./#creating-cds>Creating and Using Optical Media (CDs & DVDs)</a> per maggiori informazioni (in particolare, la <a href=./#burncd>burncd</a> e la <a href=./#cdrecord>cdrecord</a>).</p></div><div class=paragraph><p>Se lo fai su un’altra piattaforma allora devi usare qualche utility per controllare il tuo masterizzatore di CD esistente su tale piattaforma. Le immagini fornite sono nel formato standard ISO, supportato da molte applicazioni di masterizzazione dei CD.</p></div></li></ol></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se sei interessato a costruirti una release di FreeBSD personalizzata, guarda l’<a href=https://docs.freebsd.org/en/articles/releng/>Articolo di Progettazione delle Release</a>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=install-ftp>2.13.2. Creare un Sito FTP Locale con un Disco di FreeBSD<a class=anchor href=#install-ftp></a></h4><div class=paragraph><p>I dischi di FreeBSD sono strutturati alla stessa maniera di un sito FTP. Questo rende semplice la creazione di un sito FTP locale che può essere usato da altre macchine sulla tua rete per installare FreeBSD.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Sul computer FreeBSD che ospiterà il sito FTP, assicurati che il CDROM è nel lettore, e montato su <span class=filename>/cdrom</span>.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /cdrom</span></code></pre></div></div></li><li><p>Crea un account per FTP anonimo in <span class=filename>/etc/passwd</span>. Fallo editando <span class=filename>/etc/passwd</span> usando <a href="https://man.freebsd.org/cgi/man.cgi?query=vipw&amp;sektion=8&amp;format=html">vipw(8)</a> aggiungendo questa linea:</p><div class="literalblock programlisting"><div class=content><pre>ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</pre></div></div></li><li><p>Assicurati che il servizio FTP sia abilitato in <span class=filename>/etc/inetd.conf</span>.</p></li></ol></div></div></div><div class=paragraph><p>Chiunque che possa connettersi via rete alla tua macchina può ora scegliere il tipo di media FTP digitando <code><a href=ftp://tua class=bare>ftp://tua</a> macchina</code> dopo aver selezionato "Altro" nel menù dei siti FTP durante l’installazione.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se il media di avvio (di solito dischetti floppy) usato dai tuoi client FTP non è della stessa versione fornita dal sito FTP locale, allora sysinstall non ti lascierà completare l’installazione. Se le versioni non sono simili e vuoi comunque procedere, devi andare nel menù <b class=menuref>Options</b> e modificare il nome della distribuzione in <span class=guimenuitem>any</span>.</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Questo approccio è OK per una macchina sulla tua rete locale, che è protetta dal tuo firewall. Offrire servizi FTP ad altre macchine su Internet (non sulla tua lan) espone il tuo computer all’attenzione dei cracker e di altri maligni. Raccomandiamo fortemente di seguire buone norme di sicurezza.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_creare_i_floppy_di_installazione>2.13.3. Creare i Floppy di Installazione<a class=anchor href=#_creare_i_floppy_di_installazione></a></h4><div class=paragraph><p>Se devi installare da floppy disk (che suggeriamo di <em>non</em> fare), a causa di hardware non supportato o semplicemente perchè insisti nel fare le cose tenacemente, devi prima preparare un pò di floppy per l’installazione.</p></div><div class=paragraph><p>Come minimo, avrai bisogno di molti floppy da 1.44 MB o da 1.2 MB per contenere tutti i file della directory <span class=filename>bin</span> (distribuzione binaria). Se stai preparando i floppy da DOS, allora questi <em>devono</em> essere formattati usando il comando <code>FORMAT</code> di MS-DOS®. Se stai usando Windows® usa Explorer per formattare i dischi (clicca con il tasto destro sul dispositivo <span class=filename>A:</span>, e scegli "Format").</p></div><div class=paragraph><p><em>Non</em> fidarti dei floppy pre-formattati di fabbrica. Formattali di nuovo, per essere sicuro. In passato molti problemi riportati dai nostri utenti si sono poi rilevati causati dall’uso di media non correttamente formattati, ecco perchè stiamo mettendo in evidenzia questo fatto.</p></div><div class=paragraph><p>Se crei i floppy su un’altra macchina FreeBSD, un format è ancora una buona idea, benchè non devi necessariamente mettere un filesystem DOS su ogni floppy. Puoi usare i comandi <code>bsdlabel</code> e <code>newfs</code> per mettere un filesystem UFS su ogni flopply, come mostra la seguente sequenza di comandi (per un floppy da 3.5" 1.44 MB):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fdformat -f 1440 fd0.1440</span>
<span class=c># bsdlabel -w -r fd0.1440 floppy3</span>
<span class=c># newfs -t 2 -u 18 -l 1 -i 65536 /dev/fd0</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Usa <code>fd0.1200</code> e <code>floppy5</code> per i dischetti da 5.25" 1.2 MB.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Puoi montarli e scriverci come qualsiasi altro tipo di file ystem.</p></div><div class=paragraph><p>Dopo che hai formattato i flopply, dovrai copiarvi i file necessari. I files della distribuzione sono splittati in pezzi di dimensioni tali che cinque di essi possono stare su un singolo floppy convenzionale da 1.44 MB. Crea tutti i tuoi floppy, fino a quando avrai tutte le distribuzioni disponibili in questo formato. Ogni distribuzione dovrebbe andare in una sotto directory del floppy, esempio: <span class=filename>a:\bin\bin.aa</span>, <span class=filename>a:\bin\bin.ab</span>, e così via.</p></div><div class=paragraph><p>Una volta che arrivi alla schermata dei Media durante il processo di installazione, seleziona <span class=guimenuitem>Floppy</span> e segui le indicazioni che ti saranno fornite.</p></div></div><div class=sect3><h4 id=install-msdos>2.13.4. Installazione da una Partizione MS-DOS®<a class=anchor href=#install-msdos></a></h4><div class=paragraph><p>Per preparare un’installazione da una partizione MS-DOS®, devi copiare i file dalla distribuzione in una directory chiamata <span class=filename>freebsd</span> nella directory root della partizione. Per esempio, <span class=filename>c:\freebsd</span>. La struttura della directory del CDROM o del sito FTP deve essere parzialmente riprodotta in questa directory, dunque consigliamo di usare il comando <code>xcopy</code> del DOS se stai copiando da un CD. Per esempio, per preparare un’installazione minima di FreeBSD:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>C:<span class=se>\&gt;</span> md c:<span class=se>\f</span>reebsd
C:<span class=se>\&gt;</span> xcopy e:<span class=se>\b</span><span class=k>in </span>c:<span class=se>\f</span>reebsd<span class=se>\b</span><span class=k>in</span><span class=se>\ </span>/s
C:<span class=se>\&gt;</span> xcopy e:<span class=se>\m</span>anpages c:<span class=se>\f</span>reebsd<span class=se>\m</span>anpages<span class=se>\ </span>/s</code></pre></div></div><div class=paragraph><p>Assumendo che <span class=filename>C:</span> è dove hai spazio libero e <span class=filename>E:</span> è il CDROM.</p></div><div class=paragraph><p>Se non hai un lettore CDROM, puoi scaricare la distribuzione da <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/12.0-RELEASE/>ftp.FreeBSD.org</a>. Ogni distribuzione è nella propria directory; per esempio, la distribuzione <em>base</em> può essere trovata nella directory <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/12.0-RELEASE/base/>12.0/base/</a>.</p></div><div class=paragraph><p>Se desideri installare diverse distribuzioni da una partizione MS-DOS® (ed hai lo spazio per farlo), installa ciascuna distribuzione in <span class=filename>c:\freebsd</span> - la distribuzione <code>BIN</code> è la sola richiesta per un’installazione minima.</p></div></div><div class=sect3><h4 id=_creare_uninstallazione_su_nastro>2.13.5. Creare un’Installazione su Nastro<a class=anchor href=#_creare_uninstallazione_su_nastro></a></h4><div class=paragraph><p>Installare da un nastro magnetico è probabilmente un metodo più facile e breve rispetto a un’installazione da FTP o da CDROM. Il programma di installazione si aspetta che i file siano semplicemente magnetizzati su nastro. Dopo che hai ottenuto tutti i file della distribuzione a cui sei interessato, semplicemente fai un tar su nastro:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /freebsd/distdir</span>
<span class=c># tar cvf /dev/rwt0 dist1 ... dist2</span></code></pre></div></div><div class=paragraph><p>Quando fai l’installazione, assicurati di lasciare abbastanza spazio in qualche directory temporanea (che ti sarà consentito scegliere) per disporre il contenuto <em>completo</em> del nastro che hai creato. A causa di un accesso non-random dei nastri, questo metodo di installazione richiede un pò di tempo per la memorizzazione temporanea.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Quando comincia l’installazione, il nastro deve essere nel lettore <em>prima</em> dell’avvio da floppy. Altrimenti il probe dell’installazione potrebbe fallire nel tentativo di cercarlo.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_prima_di_installare_via_rete>2.13.6. Prima di Installare via Rete<a class=anchor href=#_prima_di_installare_via_rete></a></h4><div class=paragraph><p>Sono disponibili tre tipi di installazioni di rete. Via porta seriale (SLIP o PPP), via porta parallela (PLIP (cavo laplink)), o via Ethernet (un controller Ethernet standard (inclusi alcuni PCMCIA)).</p></div><div class=paragraph><p>Il supporto SLIP è piuttosto vecchio, e limitato principalmente a link connessi fisicamente, come con un cavo seriale cablato tra un computer portatile e un altro computer. Il collegamento dovrebbe essere fisico poichè SLIP a tutt’oggi non offre una capacità di chiamata remota; questa caratteristica è fornita dall’utility PPP, che dovrebbe essere usata al posto di SLIP quando possibile.</p></div><div class=paragraph><p>Se userai un modem, allora PPP è quasi certamente la tua unica scelta. Assicurati di avere le informazioni del tuo provider a portata di mano che ti saranno richieste nel processo di installazione.</p></div><div class=paragraph><p>Se usi PAP o CHAP per la connessione al tuo ISP (in altre parole, se puoi connetterti all’ISP in Windows® senza usare uno script), allora tutto quello che dovrai fare è digitare <code>dial</code> nel prompt di ppp. Altrimenti, avrai bisogno di sapere come chiamare il tuo ISP usando "comandi AT" specifici del tuo modem, poichè PPP fornisce solo un semplice emulatore di terminale. Per cortesia fai riferimento al <a href=./#userppp>manuale</a> per il ppp-utente e alle <a href=https://docs.freebsd.org/en/books/faq/#ppp>FAQ</a>. Se hai problemi, puoi mandare i log a video usando il comando <code>set log local …​</code>.</p></div><div class=paragraph><p>Se è disponibile una connessione fisica ad un altro FreeBSD (2.0-R o successivi), potresti considerare l’installazione via cavo parallelo "laplink". La velocità di trasferimento di dati via porta parallela è molto più alta rispetto a quella realizzabile via seriale (fino a 50 kbyte/sec), ottenendo quindi un’installazione rapida.</p></div><div class=paragraph><p>Alla fine, per un’installazione più veloce possibile via rete, un adattatore Ethernet è sempre una buona scelta! FreeBSD supporta le più comuni schede di rete Ethernet per PC; una tabella di schede supportate (e i rispettivi settaggi richiesti) viene fornita nell’Hardware Note per ogni release di FreeBSD. Se usi una delle scheda PCMCIA Ethernet supportate, assicurati di inserirla <em>prima</em> di accendere il portatile! FreeBSD, sfortunatamente, non supporta ancora l’inserimento a caldo di una scheda PCMCIA durante l’installazione.</p></div><div class=paragraph><p>Inoltre dovrai sapere il tuo indirizzo IP della rete, il valore della netmask per la tua classe di indirizzi, e il nome della tua macchina. Se stai installando tramite una connessione PPP e non hai un IP statico, non temere, l’indirizzo IP può essere dinamicamente assegnato dal tuo ISP. Il tuo amministratore di sistema ti dirà quali valori usare per il tuo setup di rete. Se farai riferimento ad altri host tramite nomi piuttosto che tramite indirizzi IP, avrai bisogno di conoscere anche il server dns e forse anche l’indirizzo di un gateway (se stai usando PPP, è l’indirizzo IP del tuo provider) per poter comunicare con il server dns. Se vuoi installare via FTP passando per un proxy HTTP, avrai bisogno anche dell’indirizzo del proxy. Se non conosci tutte o in parte queste informazioni, dovrai parlare con il tuo amministratore di sistema o con l’ISP <em>prima</em> di tentare questo tipo di installazione.</p></div><div class=sect4><h5 id=_prima_di_installare_via_nfs>2.13.6.1. Prima di Installare via NFS<a class=anchor href=#_prima_di_installare_via_nfs></a></h5><div class=paragraph><p>L’installazione tramite NFS è abbastanza semplice. Devi copiare semplicemente i file della distribuzione interessata in un server NFS e quindi puntare il media al server NFS.</p></div><div class=paragraph><p>Se questo server supporta solo "porte privilegiate" (come in genere succede nelle workstation di Sun), dovrai settare l’opzione <code>NFS Secure</code> nel menì <b class=menuref>Options</b> prima di procedere con l’installazione.</p></div><div class=paragraph><p>Se hai una scheda Ethernet di scarsa qualità con dei trasferimenti di rete molto lenti, potresti anche selezionare il flag <code>NFS Slow</code>.</p></div><div class=paragraph><p>Affinchè l’installazione NFS abbia successo, il server deve supportare il mount di sotto directory, per esempio, se la directory della distribuzione di FreeBSD 12.0 è in: <span class=filename>ziggy:/usr/archive/stuff/FreeBSD</span>, allora <code>ziggy</code> dovrà permettere il mount diretto di <span class=filename>/usr/archive/stuff/FreeBSD</span>, e non solo di <span class=filename>/usr</span> o di <span class=filename>/usr/archive/stuff</span>.</p></div><div class=paragraph><p>Nel file <span class=filename>/etc/exports</span> di FreeBSD, questo comportamento è controllato dalle opzioni <code>-alldirs</code>. Altri server NFS potrebbero avere diverse regole. Se ottieni il messaggio "permesso negato" dal server, allora è probabile che non hai abilitato queste opzioni.</p></div></div></div></div></div></div><div class=sect1><h2 id=basics>Capitolo 3. Basi di Unix<a class=anchor href=#basics></a></h2><div class=sectionbody><div class=sect2><h3 id=basics-synopsis>3.1. Sinossi<a class=anchor href=#basics-synopsis></a></h3><div class=paragraph><p>Il seguente capitolo tratta i comandi e le funzionalità di base del sistema operativo FreeBSD. Molto di questo materiale è valido anche per altri sistemi operativi UNIX®-like. Sentiti libero di leggere velocemente questo capitolo se hai familiarità con questo materiale. Se sei un utente alle prime armi di FreeBSD, allora dovrai di sicuro leggere questo capitolo attentamente.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come usare le "console virtuali" di FreeBSD.</p></li><li><p>Come funzionano i permessi dei file UNIX® oltre ad una spiegazione dei flag sotto FreeBSD.</p></li><li><p>La struttura di default del file system di FreeBSD.</p></li><li><p>L’organizzazione del disco di FreeBSD.</p></li><li><p>Come montare e smontare i file system.</p></li><li><p>Cosa sono i processi, i demoni e i segnali.</p></li><li><p>Cos’è una shell, e come cambiare il proprio ambiente di login di default.</p></li><li><p>I principi di base sull’uso degli editor testuali.</p></li><li><p>Cosa sono i dispositivi e i nodi dei dispositivi.</p></li><li><p>Quali formati dei binari sono usati in FreeBSD.</p></li><li><p>Come leggere le pagine man per ottenere maggiori informazioni.</p></li></ul></div></div><div class=sect2><h3 id=consoles>3.2. Console Virtuali e Terminali<a class=anchor href=#consoles></a></h3><div class=paragraph><p>FreeBSD può essere usato in vari modi. Uno di questi è quello di digitare i comandi tramite un terminale testuale. Quando si utilizza FreeBSD in questo modo si ha velocemente nelle proprie mani molta della flessibilità e della potenza di un sistema operativo UNIX®. Questa sezione descrive cosa sono i "terminali" e le "console", e come si possono utilizzare in FreeBSD.</p></div><div class=sect3><h4 id=consoles-intro>3.2.1. La console<a class=anchor href=#consoles-intro></a></h4><div class=paragraph><p>Se non hai configurato FreeBSD in modo tale da avviare in modo automatico l’ambiente grafico durante l’avvio, il sistema ti fornirà un prompt di login dopo la fase di avvio, esattamente dopo che gli script di avvio sono stati eseguiti. Dovresti vedere qualcosa simile a questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Additional ABI support:.
Local package initialization:.
Additional TCP options:.

Fri Sep 20 13:01:06 EEST 2002

FreeBSD/i386 <span class=o>(</span>pc3.example.org<span class=o>)</span> <span class=o>(</span>ttyv0<span class=o>)</span>

login:</code></pre></div></div><div class=paragraph><p>I messaggi potrebbero essere leggermente diversi sul tuo sistema, tuttavia dovresti vedere qualcosa di analogo. In questo momento ci interessano le ultime due righe. Analizziamo la penultima riga:</p></div><div class="literalblock programlisting"><div class=content><pre>FreeBSD/i386 (pc3.example.org) (ttyv0)</pre></div></div><div class=paragraph><p>Questa riga contiene alcune informazioni sul sistema che hai appena avviato. Sei di fronte a una console "FreeBSD", che sta girando su un processore Intel o su un processore compatibile con l’architettura x86. Il nome di questa macchina (tutte le macchine UNIX® hanno un nome) è <code>pc3.example.org</code>, e in questo momento sei di fronte alla sua console di sistema-il terminale <span class=filename>ttyv0</span>.</p></div><div class=paragraph><p>Infine, l’ultima riga è sempre:</p></div><div class="literalblock programlisting"><div class=content><pre>login:</pre></div></div><div class=paragraph><p>Qui devi digitare il tuo "username" per loggarti in FreeBSD. La prossima sezione descrive come fare ad effettuare il login su FreeBSD.</p></div></div><div class=sect3><h4 id=consoles-login>3.2.2. Loggarsi in FreeBSD<a class=anchor href=#consoles-login></a></h4><div class=paragraph><p>FreeBSD è un sistema multi-utente e multi-processo. Questa è la descrizione formale che viene usualmente attribuita a un sistema che può essere usato da diverse persone, le quali eseguono contemporaneamente molti programmi su una singola macchina.</p></div><div class=paragraph><p>Ogni sistema multi-utente necessita di qualche metodo che distingua un "utente" in modo univoco. In FreeBSD (e in tutti i sistemi operativi UNIX®-like), questo viene realizzato richiedendo che ogni utente debba "loggarsi" nel sistema prima che possa eseguire qualche programma. Ogni utente ha un nome univoco (lo "username"), uno personale e una chiave segreta (la "password"). FreeBSD richiede entrambe queste due cose prima di dare la possibilità ad un utente di eseguire qualche programma.</p></div><div class=paragraph><p>Appena dopo la fase di avvio di FreeBSD e quando gli script di avvio sono stati eseguiti, ti viene presentato un prompt dove inserire un valido username:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>login:</code></pre></div></div><div class=paragraph><p>Giusto per questo esempio, assumiamo che il tuo username sia <code>john</code>. Al prompt digita <code>john</code> e premi <kbd>Invio</kbd>. Ti verrà presentato un prompt dove inserire la "password":</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>login: john
Password:</code></pre></div></div><div class=paragraph><p>Digita la password di <code>john</code>, e premi <kbd>Invio</kbd>. La password <em>non viene visualizzata!</em> Non ti devi preoccupare di questo per ora. È sufficiente sapere che è una questione di sicurezza.</p></div><div class=paragraph><p>Se hai digitato la tua password in modo corretto, dovresti essere loggato in FreeBSD e sei quindi pronto per provare tutti i comandi disponibili.</p></div><div class=paragraph><p>Dovresti inoltre vedere il messaggio del giorno (MOTD) seguito da un prompt dei comandi (un carattere <code>#</code>, <code>$</code>, o <code>%</code>). Ciò indica che sei a tutti gli effetti loggato su FreeBSD.</p></div></div><div class=sect3><h4 id=consoles-virtual>3.2.3. Console Multiple<a class=anchor href=#consoles-virtual></a></h4><div class=paragraph><p>Eseguire comandi UNIX® in una sola console va bene, tuttavia FreeBSD può eseguire più programmi alla volta. Avere una sola console dove poter digitare i comandi può essere un pò uno spreco quando un sistema operativo come FreeBSD è in grado di eseguire dozzine di programmi contemporaneamente. È in questo caso che le "console virtuali" possono essere molto utili.</p></div><div class=paragraph><p>FreeBSD può essere configurato in modo tale da poter utilizzare differenti console virtuali. Puoi passare da una console virtuale ad un’altra digitando un paio di tasti sulla tastiera. Ogni console ha il proprio canale di output indipendente, e FreeBSD si occupa di redirigere correttamente l’input della tastiera e l’output del monitor quando passi da una console virtuale in un’altra.</p></div><div class=paragraph><p>In FreeBSD alcune combinazioni speciali di tasti sono state riservate per il passaggio tra le console. Puoi usare <span class=keyseq><kbd>Alt</kbd>+<kbd>F1</kbd></span>, <span class=keyseq><kbd>Alt</kbd>+<kbd>F2</kbd></span>, fino a <span class=keyseq><kbd>Alt</kbd>+<kbd>F8</kbd></span> per cambiare console su FreeBSD.</p></div><div class=paragraph><p>Quando passi da una console ad un’altra, FreeBSD si preoccupa di salvare e ripristinare l’output a video. Il risultato è l'"illusione" di avere più schermi e più tastiere "virtuali" che puoi utilizzare per dare in pasto a FreeBSD dei comandi. I programmi che lanci su una console virtuale rimarranno in esecuzione anche quando la console non è visibile. L’esecuzione di questi programmi continua quando passi in un’altra console virtuale.</p></div></div><div class=sect3><h4 id=consoles-ttys>3.2.4. Il File <span class=filename>/etc/ttys</span><a class=anchor href=#consoles-ttys></a></h4><div class=paragraph><p>La configurazione di default di FreeBSD prevede l’avvio del sistema con otto console virtuali. Comunque questo non è un settaggio obbligatorio, e puoi facilmente personalizzare la tua installazione in modo tale da avviare il sistema con qualche console virtuale in più o in meno. Il numero e i settaggi delle console virtuali sono configurati nel file <span class=filename>/etc/ttys</span>.</p></div><div class=paragraph><p>Puoi usare il file <span class=filename>/etc/ttys</span> per configurare le console virtuali di FreeBSD. In questo file ogni riga non commentata (le righe che non iniziano con il carattere <code>#</code>) contiene i settaggi di un singolo terminale o di una singola console. La versione di default di questo file contenuta in FreeBSD configura nove console virtuali, ed abilita otto di queste. Sono le righe che iniziano con <code>ttyv</code>:</p></div><div class="literalblock programlisting"><div class=content><pre># name  getty                           type    status          comments
#
ttyv0   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
# Terminali virtuali
ttyv1   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
ttyv2   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
ttyv3   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
ttyv4   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
ttyv5   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
ttyv6   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
ttyv7   &#34;/usr/libexec/getty Pc&#34;         cons25  on  secure
ttyv8   &#34;/usr/X11R6/bin/xdm -nodaemon&#34;  xterm   off secure</pre></div></div><div class=paragraph><p>Per una descrizione più dettagliata su ogni colonna di questo file e per tutte le opzioni che puoi utilizzare per settare le console virtuali, consulta la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=ttys&amp;sektion=5&amp;format=html">ttys(5)</a>.</p></div></div><div class=sect3><h4 id=consoles-singleuser>3.2.5. Console in Modalità Single User<a class=anchor href=#consoles-singleuser></a></h4><div class=paragraph><p>Una descrizione dettagliata del significato della "modalità single user" può essere trovata nella <a href=./#boot-singleuser>Modalità Singolo Utente</a>. È bene notare che c’è un’unica console quando avvii FreeBSD in modalità single user. Le console virtuali non sono disponibili. Anche i settaggi della console in modalità single user possono essere trovati nel file <span class=filename>/etc/ttys</span>. Guarda la riga che inizia con <code>console</code>:</p></div><div class="literalblock programlisting"><div class=content><pre># name  getty                           type    status          comments
#
# Se la console è definita &#34;insecure&#34;, allora il processo init richiederà la password di root
# quando entrerai in modalità single-user.
console none                            unknown off secure</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Come riportato nel commento sopra la riga <code>console</code>, puoi modificare questa riga cambiando <code>secure</code> in <code>insecure</code>. Se lo fai, quando FreeBSD viene avviato in modalità single user, verrà chiesta la password di <code>root</code>.</p></div><div class=paragraph><p>Pensaci comunque due volte a settare il parametro <code>insecure</code>. Se non ricordi più la password di <code>root</code>, riuscire ad avviare il sistema in modalità single user sarà molto complesso. È ancora possibile, ma potrebbe essere molto difficile per chi non conosce molto bene il meccanismo di avvio di FreeBSD e i relativi programmi.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=consoles-vidcontrol>3.2.6. Modifica delle Modalità Video della Console<a class=anchor href=#consoles-vidcontrol></a></h4><div class=paragraph><p>La modalità video di default della console di FreeBSD può essere impostata a 1024x768, 1280x1024, o ad un altra risoluzione supportata dalla tua scheda grafica e dal tuo monitor. Per usare una modalità video differente, devi prima ricompilare il tuo kernel aggiungendo due opzioni:</p></div><div class="literalblock programlisting"><div class=content><pre>options VESA
options SC_PIXEL_MODE</pre></div></div><div class=paragraph><p>Quando il kernel è stato ricompilato con queste due opzioni, puoi determinare quali modalità video sono supportate dal tuo hardware usando l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1&amp;format=html">vidcontrol(1)</a>. Per ottenere una lista delle modalità video supportate, digita il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># vidcontrol -i mode</span></code></pre></div></div><div class=paragraph><p>L’output di questo comando è una lista delle modalità video che sono supportate dal tuo hardware. Puoi usare una nuova modalità video indicandola a <a href="https://man.freebsd.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1&amp;format=html">vidcontrol(1)</a> in una console <code>root</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># vidcontrol MODE_279</span></code></pre></div></div><div class=paragraph><p>Se la nuova modalità è soddisfacente, può essere impostata in modo permanente ad ogni avvio nel file <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>allscreens_flags=&#34;MODE_279&#34;</pre></div></div></div></div><div class=sect2><h3 id=permissions>3.3. I Permessi<a class=anchor href=#permissions></a></h3><div class=paragraph><p>FreeBSD, essendo un discendente diretto dello UNIX® BSD, si basa su molti concetti chiave di UNIX®. Il primo e il più affermato è che FreeBSD è un sistema operativo multi-utente. Il sistema può gestire diversi utenti che lavorano contemporaneamente su operazioni indipendenti. Il sistema è responsabile della gestione e della suddivisione appropriata delle richieste di utilizzo dei dispositivi hardware, delle periferiche, della memoria, e del tempo di CPU in modo equo per ogni utente.</p></div><div class=paragraph><p>Poichè il sistema è in grado di supportare più utenti, tutto ciò che il sistema gestisce possiede un insieme di permessi che determinano chi può leggere, scrivere, ed eseguire la risorsa. Questi permessi sono memorizzati mediante tre ottetti suddivisi in tre parti, una per il proprietario del file, una per il gruppo al quale il file appartiene, e una per tutti gli altri. Questa rappresentazione numerica funziona in questo modo:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Valore</th><th class="tableblock halign-left valign-top">Permessi</th><th class="tableblock halign-left valign-top">Listato nella Directory</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura no, scrittura no, esecuzione no</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>---</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura no, scrittura no, esecuzione</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>--x</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura no, scrittura, esecuzione no</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>-w-</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura no, scrittura, esecuzione</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>-wx</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura, scrittura no, esecuzione no</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>r--</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura, scrittura no, esecuzione</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>r-x</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura, scrittura, esecuzione no</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>rw-</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura, scrittura, esecuzione</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>rwx</code></p></td></tr></tbody></table><div class=paragraph><p>Puoi usare l’opzione <code>-l</code> del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;format=html">ls(1)</a> per visualizzare un lungo listato della directory che include una colonna contenente le informazioni sui permessi del file per il proprietario, per il gruppo, e per gli altri. Per esempio, digitando <code>ls -l</code> in una arbitraria directory:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>ls</span> <span class=nt>-l</span>
total 530
<span class=nt>-rw-r--r--</span>  1 root  wheel     512 Sep  5 12:31 myfile
<span class=nt>-rw-r--r--</span>  1 root  wheel     512 Sep  5 12:31 otherfile
<span class=nt>-rw-r--r--</span>  1 root  wheel    7680 Sep  5 12:31 email.txt
...</code></pre></div></div><div class=paragraph><p>Ecco come è suddivisa la prima colonna dell’output del comando <code>ls -l</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=nt>-rw-r--r--</span></code></pre></div></div><div class=paragraph><p>Il primo carattere (partendo da sinistra) indica se il file in questione è un file regolare, una directory, un file speciale per dispositivi a caratteri, una socket, o un file speciale per altri dispositivi. Nel nostro caso, il <code>-</code> indica un file regolare. I tre caratteri successivi, che in questo esempio sono <code>rw-</code>, indicano i permessi per il proprietario del file. Seguono altri tre caratteri, <code>r--</code>, che indicano i permessi del gruppo al quale il file appartiene. Gli ultimi tre caratteri, <code>r--</code>, indicano i permessi per il resto del mondo. Un trattino significa che il permesso non viene concesso. Nel caso di questo file, i permessi sono settati affinchè il proprietario possa leggere e scrivere il file, il gruppo possa leggere il file, e il resto del mondo possa solamente leggere il file. In accordo con la precedente tabella, i permessi per questo file sono <code>644</code>, dove ogni cifra rappresenta una delle tre parti che costituiscono i permessi del file.</p></div><div class=paragraph><p>D’accordo, ma in che modo il sistema controlla i permessi sui dispositivi? FreeBSD tratta molti dispositivi hardware esattamente come un file che i programmi possono aprire, leggere, e scrivere dei dati proprio come avviene con gli altri file. Questi file speciali per i dispositivi sono memorizzati nella directory <span class=filename>/dev</span>.</p></div><div class=paragraph><p>Anche le directory sono trattate come file. Queste hanno permessi di lettura, scrittura e di esecuzione. Il bit riferito al permesso di esecuzione per una directory ha un significato leggermente differente rispetto a quello dei file. Quando una directory ha il permesso di esecuzione abilitato, significa che si ha accesso alla directory, ossia è possibile eseguire il comando "cd" (cambio di directory) per entrarci. Inoltre questo significa che all’interno della directory è possibile accedere ai file dei quali si conosce il nome (naturalmente a condizione dei permessi degli stessi file).</p></div><div class=paragraph><p>In particolare, per visualizzare il contenuto di una directory, deve essere abilitato il permesso di lettura sulla stessa, mentre per eliminare un file di cui si conosce il nome, è necessario che la directory contenente il file abbia i permessi di scrittura <em>e</em> di esecuzione abilitati.</p></div><div class=paragraph><p>Ci sono altri bit per permessi particolari, ma sono in genere usati in circostanze speciali come il permesso di setuid per i binari e quello di sticky per le directory. Se vuoi avere più informazioni sui permessi dei file e su come settarli, guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;format=html">chmod(1)</a>.</p></div><div class=sect3><h4 id=_permessi_simbolici>3.3.1. Permessi Simbolici<a class=anchor href=#_permessi_simbolici></a></h4><div class=paragraph><p>I permessi simbolici, qualche volta chiamati espressioni simboliche, usano caratteri al posto dei numeri ottali per assegnare i permessi a file o directory. Le espressioni simboliche usano la sintassi (chi) (azione) (permessi), con i seguenti valori:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Opzione</th><th class="tableblock halign-left valign-top">Lettera</th><th class="tableblock halign-left valign-top">Cosa rappresenta/Cosa fa</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(chi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>u</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utente</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(chi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>g</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gruppo di appartenenza</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(chi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>o</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altri</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(chi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutti (tutto il "mondo")</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(azione)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>+</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aggiunge i permessi</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(azione)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>-</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Rimuove i permessi</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(azione)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>=</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Setta esplicitamente i permessi</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(permessi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>r</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lettura</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(permessi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>w</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Scrittura</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(permessi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>x</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Esecuzione</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(permessi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>t</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Bit sticky</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>(permessi)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>s</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Setta UID o GID</p></td></tr></tbody></table><div class=paragraph><p>Questi valori sono usati con il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;format=html">chmod(1)</a> come esposto in precedenza, ma con le lettere. Per esempio, puoi usare il seguente comando per impedire agli altri utenti l’accesso a <em>FILE</em>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>chmod </span><span class=nv>go</span><span class=o>=</span> FILE</code></pre></div></div><div class=paragraph><p>Se si ha la necessità di realizzare più di una modifica ai settaggi di un file si può usare una lista di settaggi separati da virgola. Per esempio il seguente comando rimuoverà il permesso di scrittura su <em>FILE</em> al gruppo di appartenenza del file e al resto del "mondo", e inoltre aggiungerà il permesso di esecuzione per tutti:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>chmod </span>go-w,a+x FILE</code></pre></div></div></div><div class=sect3><h4 id=_flag_dei_file_in_freebsd>3.3.2. Flag dei File in FreeBSD<a class=anchor href=#_flag_dei_file_in_freebsd></a></h4><div class=paragraph><p>Oltre ai permessi dei file discussi in precedenza, FreeBSD supporta l’uso dei "flag dei file". Queste flag aggiungono un ulteriore livello di sicurezza e di controllo sui file, ma non per le directory.</p></div><div class=paragraph><p>Queste flag dei file aggiungono un ulteriore livello di controllo sui file, assicurando in alcuni casi che persino <code>root</code> non possa rimuovere o alterare file.</p></div><div class=paragraph><p>Le flag dei file sono alterate usando l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a>, tramite una semplice sintassi. Per esempio, per abilitare la flag di sistema di non-cancellabilità sul file <span class=filename>file1</span>, si può usare il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chflags sunlink file1</span></code></pre></div></div><div class=paragraph><p>E per disabilitare la stessa flag, si può usare semplicemente il comando precedente con "no" davanti a <code>sunlink</code>. Ecco come:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chflags nosunlink file1</span></code></pre></div></div><div class=paragraph><p>Per vedere le flag del file di esempio, usa il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;format=html">ls(1)</a> con le flag <code>-lo</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ls -lo file1</span></code></pre></div></div><div class=paragraph><p>L’output dovrebbe assomigliare al seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>-rw-r--r--  1 trhodes  trhodes  sunlnk 0 Mar  1 05:54 file1</pre></div></div><div class=paragraph><p>Diverse flag possono essere aggiunte o rimosse sui file solo tramite l’utente <code>root</code>. Negli altri casi, il proprietario dei file può settare queste flag. Si raccomanda di leggere le pagine man <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=2&amp;format=html">chflags(2)</a> per maggiori informazioni.</p></div></div></div><div class=sect2><h3 id=dirstructure>3.4. Struttura delle Directory<a class=anchor href=#dirstructure></a></h3><div class=paragraph><p>La gerarchia delle directory di FreeBSD è fondamentale per ottenere una comprensione globale del sistema. Il concetto più importante da cogliere al volo è quello relativo alla directory root, "/". Questa directory è la prima ad essere montata all’avvio e contiene gli elementi fondamentali del sistema necessari per predisporre il sistema operativo al funzionamento multi-utente. Inoltre la directory root contiene i punti di mount per gli altri file system che sono montati durante la transizione per il funzionamento multi-utente.</p></div><div class=paragraph><p>Un punto di mount è una directory dove dei file system aggiuntivi possono essere innestati sul file system padre (in genere il file system root). Questo è ulteriormente descritto nella <a href=#disk-organization>Organizzazione del Disco</a>. Alcuni punti di mount standard sono <span class=filename>/usr</span>, <span class=filename>/var</span>, <span class=filename>/tmp</span>, <span class=filename>/mnt</span>, e <span class=filename>/cdrom</span>. Queste directory compaiono in genere negli elementi del file <span class=filename>/etc/fstab</span>. Il file <span class=filename>/etc/fstab</span> è una tabella di file system e punti di mount che viene consultata dal sistema. Molti dei file system riferiti nel file <span class=filename>/etc/fstab</span> sono montati in modo automatico all’avvio tramite lo script <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> a meno che essi sia stati dichiarati con l’opzione <code>noauto</code>. Maggiori dettagli possono essere trovati nella <a href=#disks-fstab>Il File <span class=filename>fstab</span></a>.</p></div><div class=paragraph><p>Una descrizione completa della gerarchia del file system è disponibile nella pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=hier&amp;sektion=7&amp;format=html">hier(7)</a>. Per ora, è sufficiente una breve panoramica generale delle directory più comuni.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Directory</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Directory root del file system.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/bin/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilità fondamentali per l’utente sia in ambiente mono-utente sia in ambiente multi-utente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/boot/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Programmi e file di configurazione utilizzati durante la fase di avvio del sistema operativo.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/boot/defaults/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione di avvio di default; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nodi di dispositivo; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=intro&amp;sektion=4&amp;format=html">intro(4)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Script e file di configurazione del sistema.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/defaults/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione di default del sistema; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione per gli MTA (Mail Transfer Agent, agente di trasferimento della posta elettronica) come <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/namedb/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione di <code>named</code>; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/periodic/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Script che sono eseguiti giornalmente, settimanalmente, e mensilmente tramite <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/ppp/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione di <code>ppp</code>; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=ppp&amp;sektion=8&amp;format=html">ppp(8)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/mnt/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Directory vuota usata comunemente dagli amministratori di sistema come punto di mount temporaneo.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/proc/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File system dedicato ai processi; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=procfs&amp;sektion=5&amp;format=html">procfs(5)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_procfs&amp;sektion=8&amp;format=html">mount_procfs(8)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/rescue/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Programmi linkati staticamente per situazioni di emergenza; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=rescue&amp;sektion=8&amp;format=html">rescue(8)</a>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/root/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Directory home per l’account <code>root</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/sbin/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Programmi di sistema e utilità di amministrazione fondamentali sia in ambiente mono-utente sia in ambiente multi-utente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/tmp/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File temporanei. Il contenuto di <span class=filename>/tmp</span> di solito NON è preservato dopo un riavvio del sistema. Spesso un file system basato sulla memoria viene montato in <span class=filename>/tmp</span>. Questo può essere automatizzato usando le variabili relative a tmpmfs di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> (o con un entry in <span class=filename>/etc/fstab</span>; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=mdmfs&amp;sektion=8&amp;format=html">mdmfs(8)</a>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La maggior parte delle applicazioni e delle utilità dell’utente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/bin/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utilità, strumenti di programmazione, e applicazioni comuni.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/include/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File include standard del C.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/lib/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Archivio di librerie.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/libdata/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Archivio di dati per utilità varie.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/libexec/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Demoni di sistema & utilità di sistema (eseguiti da altri programmi).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/local/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Eseguibili locali, librerie locali, ecc. Usata anche come destinazione di default per la struttura dei port di FreeBSD. All’interno di <span class=filename>/usr/local</span>, viene usato lo stesso schema generale descritto in <a href="https://man.freebsd.org/cgi/man.cgi?query=hier&amp;sektion=7&amp;format=html">hier(7)</a> per la directory <span class=filename>/usr</span>. Le eccezioni sono la directory man, che è posta direttamente sotto <span class=filename>/usr/local</span> piuttosto che sotto <span class=filename>/usr/local/share</span>, e la documentazione dei port che è in <span class=filename>share/doc/port</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/obj/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Albero degli elementi dipendenti dal tipo di architettura dell’elaboratore prodotto dalla costruzione dell’albero <span class=filename>/usr/src</span>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/ports</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Collezione dei port di FreeBSD (opzionale).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/sbin/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Demoni di sistema & utilità di sistema (eseguiti dagli utenti).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/shared/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File indipendenti dal tipo di architettura dell’elaboratore.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/src/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File sorgenti di BSD e/o sorgenti proprietari.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/X11R6/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Eseguibili, librerie, ecc. riguardanti la distribuzione X11R6 (opzionale).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File log di vario genere, file temporanei, file transitori, e file di spool. Qualche volta un file system basato sulla memoria è montato in <span class=filename>/var</span>. Questo può essere automatizzato usando le variabili relative a varmfs di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> (o con un entry in <span class=filename>/etc/fstab</span>; consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=mdmfs&amp;sektion=8&amp;format=html">mdmfs(8)</a>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/log/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di log del sistema di vario genere.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/mail/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File delle caselle di posta degli utenti.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/spool/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Directory di spool per stampanti e per la posta elettronica del sistema.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/tmp/</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File temporanei. I file sono di solito preservati dopo un riavvio del sistema, a meno che <span class=filename>/var</span> sia un file system basato sulla memoria.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/yp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mappe NIS.</p></td></tr></tbody></table></div><div class=sect2><h3 id=disk-organization>3.5. Organizzazione del Disco<a class=anchor href=#disk-organization></a></h3><div class=paragraph><p>La più piccola unità di organizzazione che FreeBSD usa per ricercare file è il nome del file. I nomi dei file sono case-sensitive, ciò significa che <span class=filename>readme.txt</span> e <span class=filename>README.TXT</span> sono due file distinti. FreeBSD non usa l’estensione (es. <span class=filename>.txt</span>) di un file per determinare se il file è un programma, un documento, o qualche altra forma di dati.</p></div><div class=paragraph><p>I file sono memorizzati in directory. Una directory può contenere centinaia di file o non contenerne affatto. Inoltre una directory può contenere altre directory, consentendo di costruire una gerarchia di directory all’interno di un’altra. Tutto questo rende più facile l’organizzazione dei tuoi dati.</p></div><div class=paragraph><p>Ci si riferisce a file e directory attraverso il nome del file o della directory, seguito da uno slash in avanti, <code>/</code>, a sua volta seguito da altri nomi di directory necessari. Se hai una directory di nome <span class=filename>foo</span>, la quale contiene la directory <span class=filename>bar</span>, che a sua volta contiene il file <span class=filename>readme.txt</span>, allora il nome completo, chiamato anche il <em>percorso</em> del file è <span class=filename>foo/bar/readme.txt</span>.</p></div><div class=paragraph><p>Le directory e i file sono memorizzati in un file system. Ogni file system contiene esattamente una directory al livello più alto, chiamata la <em>directory root</em> di quel file system. Questa directory root può contenere altre directory.</p></div><div class=paragraph><p>Fin qui è probabilmente tutto simile ad altri sistemi operativi che hai usato. Tuttavia ci sono alcune differenze; per esempio, MS-DOS® usa il carattere <code>\</code> per separare i nomi di file e directory, mentre Mac OS® usa <code>:</code>.</p></div><div class=paragraph><p>FreeBSD non usa lettere di dispositivi, o altri nomi di dispositivi nel path. In FreeBSD non dovrai mai scrivere <span class=filename>c:/foo/bar/readme.txt</span>.</p></div><div class=paragraph><p>Piuttosto, un file system è designato come il <em>file system root</em>. La directory root del file system root è riferita con <code>/</code>. Ogni altro file system è <em>montato</em> sotto il file system root. Non importa quanti dischi hai sul tuo sistema FreeBSD, ogni directory è come se fosse parte dello stesso disco.</p></div><div class=paragraph><p>Supponiamo che tu abbia tre file system, chiamati <code>A</code>, <code>B</code>, e <code>C</code>. Ogni file system ha una directory root, la quale contiene altre due directory, chiamate <code>A1</code>, <code>A2</code> (e nello stesso modo <code>B1</code>, <code>B2</code> e <code>C1</code>, <code>C2</code>).</p></div><div class=paragraph><p>Sia <code>A</code> il file system root. Se usi il comando <code>ls</code> per visualizzare il contenuto di questa directory dovresti vedere due sottodirectory, <code>A1</code> e <code>A2</code>. L’albero delle directory assomiglia a questo:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/basics/example-dir1.png alt="example dir1"></div></div><div class=paragraph><p>Un file system deve essere montato su una directory di un altro file system. Supponiamo ora che tu monti il file system <code>B</code> sulla directory <code>A1</code>. La directory root di <code>B</code> rimpiazza <code>A1</code>, e di conseguenza appariranno le directory di <code>B</code>:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/basics/example-dir2.png alt="example dir2"></div></div><div class=paragraph><p>I file contenuti nelle directory <code>B1</code> o <code>B2</code> possono essere raggiunti con il path <span class=filename>/A1/B1</span> o <span class=filename>/A1/B2</span>. I file che erano in <span class=filename>/A1</span> sono stati temporaneamente nascosti. Questi riappariranno quando <code>B</code> sarà <em>smontato</em> da A.</p></div><div class=paragraph><p>Se <code>B</code> è stato montato su <code>A2</code> allora il diagramma assomiglierà a questo:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/basics/example-dir3.png alt="example dir3"></div></div><div class=paragraph><p>e i percorsi saranno rispettivamente <span class=filename>/A2/B1</span> e <span class=filename>/A2/B2</span>.</p></div><div class=paragraph><p>I file system possono essere montati in cima ad altri file system. Continuando con l’ultimo esempio, il file system <code>C</code> può essere montato in cima alla directory <code>B1</code> nel file system <code>B</code>, arrivando a questa sistemazione:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/basics/example-dir4.png alt="example dir4"></div></div><div class=paragraph><p>Oppure <code>C</code> potrebbe essere montato direttamente sul file system <code>A</code>, sotto la directory <code>A1</code>:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/basics/example-dir5.png alt="example dir5"></div></div><div class=paragraph><p>Se hai familiarità con MS-DOS®, questo è simile, ma non identico, al comando <code>join</code>.</p></div><div class=paragraph><p>Di solito non ti devi occupare direttamente di questi aspetti. Tipicamente quando installi FreeBSD crei i file system e decidi dove montarli, e da quel momento non avrai più la necessità di modificarli a meno che installi un nuovo disco.</p></div><div class=paragraph><p>È possibile avere un unico file system root, senza avere la necessità di crearne altri. Esistono alcuni svantaggi utilizzando questo approccio, e un solo vantaggio.</p></div><div class=ulist><div class=title>Benefici con File system Multipli</div><ul><li><p>Filesystem diversi possono avere <em>opzioni di mount</em> diverse. Per esempio, in un’attenta progettazione, il file system root potrebbe essere montato in modalità di sola lettura, rendendo impossibile la cancellazione accidentale o la modifica di un file critico. Inoltre, separando i file system scrivibili dall’utente, come <span class=filename>/home</span>, da altri file system permette di montare i primi con l’opzione <em>nosuid</em>; questa opzione non permette il settaggio dei bit <em>suid</em>/<em>guid</em> sui file eseguibili memorizzati sul file system che ha tale opzione di mount attivata, migliorando l’aspetto sicurezza.</p></li><li><p>FreeBSD ottimizza in modo automatico la disposizione dei file sul file system, a seconda di come è usato il file system. Quindi un file system che contiene molti file piccoli che sono scritti di frequente avrà un’ottimizzazione diversa rispetto ad un altro file system che contiene pochi file di grandi dimensioni. Utilizzando un solo grande file system questa ottimizzazione viene a mancare.</p></li><li><p>I file system di FreeBSD reagiscono bene ad una violenta perdita di energia elettrica. Tuttavia, una perdita di energia in un punto critico potrebbe sempre danneggiare la struttura del file system. Splittando i tuoi dati su file system multipli sarà più probabile che il sistema riparta, dandoti la possibilità di ripristinare un precedente backup se necessario.</p></li></ul></div><div class=ulist><div class=title>Benefici di un File system Singolo</div><ul><li><p>I file system sono a dimensione fissa. Se crei un solo file system quando installi FreeBSD e gli assegni una data dimensione, in futuro potresti scoprire che necessiti di creare una partizione più grande. Questo non è facilmente realizzabile se non effettuando un backup dei dati, ricreando il file system con la nuova dimensione, e quindi ripristinando il backup di dati.</p><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>FreeBSD ha il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=growfs&amp;sektion=8&amp;format=html">growfs(8)</a>, con il quale è possibile incrementare la dimensione del file system al volo, rimuovendo questa limitazione.</p></div></td></tr></tbody></table></div></li></ul></div><div class=paragraph><p>I file system sono contenuti all’interno di partizioni. Qui il significato del termine partizione si discosta dall’uso comune di questo termine (partizioni MS-DOS®, per esempio), a causa dell’eredità UNIX® di FreeBSD. Ogni partizione è identificata da una lettera partendo dalla <code>a</code> fino alla <code>h</code>. Ogni partizione può contenere solo un file system, il che significa che i file system sono spesso identificati sia dal loro punto di mount nella gerarchia del file system, sia dalla lettera della partizione nella quale sono contenuti.</p></div><div class=paragraph><p>Inoltre FreeBSD usa parte del disco per lo <em>spazio di swap</em>. Lo spazio di swap fornisce a FreeBSD la funzionalità di <em>memoria virtuale</em>. Questo permette al tuo computer di comportarsi come se avesse più memoria di quella che ha realmente. Quando FreeBSD esaurisce la memoria muove alcuni dati presenti in memoria che non sono utilizzati in quel momento nello spazio di swap, e li riporta in memoria (spostando nello spazio di swap qualche altro dato) non appena necessari.</p></div><div class=paragraph><p>Alcune partizioni hanno certe convenzioni a loro associate.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Partizione</th><th class="tableblock halign-left valign-top">Convenzione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>a</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>In genere contiene il file system root</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>b</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>In genere contiene lo spazio di swap</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>c</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Di solito rappresenta l’intera dimensione della slice. Questo permette a utility che necessitano di lavorare sull’intera slice (per esempio, uno scanner di blocchi difettosi) di lavorare sulla partizione <code>c</code>. Di norma non dovresti creare un file system su questa partizione.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>d</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La partizione <code>d</code> era utilizzata in passato con un significato speciale, caduto ormai in disuso e ora può essere utilizzata come una partizione normale.</p></td></tr></tbody></table><div class=paragraph><p>Ogni partizione contenente un file system è memorizzata in ciò che FreeBSD chiama <em>slice</em>. Slice è un termine di FreeBSD per identificare ciò che comunemente viene chiamato partizione, e di nuovo, questo è dovuto dal background UNIX® di FreeBSD. Le slice sono numerate, partendo da 1 e arrivando fino a 4.</p></div><div class=paragraph><p>I numeri di slice seguono il nome del dispositivo, preceduti da una <code>s</code>, e partendo da 1. Quindi "da0<em>s1</em>" è la prima slice sul primo disco SCSI. Ci possono essere solo quattro slice fisiche su un disco, ma puoi avere slice logiche all’interno di slice fisiche di un appropriato tipo. Queste slice estese sono numerate a partire da 5, quindi "ad0<em>s5</em>" è la prima slice estesa sul primo disco IDE. Questi stratagemmi sono usati per i file system che si aspettano di occupare una slice.</p></div><div class=paragraph><p>Le slice, i dispositivi fisici "pericolosamente dedicati", e altri dispositivi contengono <em>partizioni</em>, le quali sono rappresentate tramite lettere dalla <code>a</code> fino alla <code>h</code>. Queste lettere seguono il nome del dispositivo, quindi "da0<em>a</em>" è la partizione a sul primo dispositivo da, il quale è "pericolosamente dedicato". "ad1s3<em>e</em>" è la quinta partizione nel terza slice del secondo disco IDE.</p></div><div class=paragraph><p>In fine, ogni disco sul sistema è identificato. Un nome di un disco incomincia con un codice che indica il tipo di disco, seguito da un numero, che indica quale disco esso sia. A differenza delle slice, i numeri riferiti al disco incominciano da 0. Puoi vedere dei codici generici in <a href=#basics-dev-codes>Codici dei Dispositivi Disco</a>.</p></div><div class=paragraph><p>Quando fai riferimento a una partizione di FreeBSD devi specificare anche il nome della slice e del disco che contengono la partizione, e quando fai riferimento a una slice dovresti specificare anche il nome del disco. Per riferirti ad una partizione specifica quindi il nome del disco, il carattere <code>s</code>, il numero di slice, e infine la lettera della partizione. Alcuni esempi sono mostrati nell'<a href=#basics-disk-slice-part>Esempi di Nomi di Dischi, di Slice, e di Partizioni</a>.</p></div><div class=paragraph><p>L'<a href=#basics-concept-disk-model>Modello Concettuale di un Disco</a> mostra un modello concettuale di struttura di un disco che dovrebbe aiutare a chiarire le cose.</p></div><div class=paragraph><p>Per installare FreeBSD devi prima configurare le slice del disco, creare le partizioni all’interno della slice che vuoi usare per FreeBSD, e quindi creare un file system (o spazio di swap) in ogni partizione, e decidere dove il file system deve essere montato.</p></div><table id=basics-dev-codes class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 7. Codici dei Dispositivi Disco</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Codice</th><th class="tableblock halign-left valign-top">Significato</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>ad</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>disco ATAPI (IDE)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>da</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>disco ad accesso diretto SCSI</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>acd</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CDROM ATAPI (IDE)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>cd</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CDROM SCSI</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>fd</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Disco floppy</p></td></tr></tbody></table><div id=basics-disk-slice-part class=exampleblock><div class=title>Esempio 3. Esempi di Nomi di Dischi, di Slice, e di Partizioni</div><div class=content><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Nome</th><th class="tableblock halign-left valign-top">Significato</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ad0s1a</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La prima partizione (<code>a</code>) sulla prima slice (<code>s1</code>) sul primo disco IDE (<code>ad0</code>).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>da1s2e</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La quinta partizione (<code>e</code>) sulla seconda slice (<code>s2</code>) sul secondo disco SCSI (<code>da1</code>).</p></td></tr></tbody></table></div></div><div id=basics-concept-disk-model class=exampleblock><div class=title>Esempio 4. Modello Concettuale di un Disco</div><div class=content><div class=paragraph><p>Questo diagramma mostra come FreeBSD vede il primo disco IDE attaccato al sistema. Si assuma che il disco sia di 4 GB, e che contenga due slice da 2 GB (equivalenti come significato a due partizioni MS-DOS®). La prima slice contiene un disco MS-DOS®, <span class=filename>C:</span>, e la seconda slice contiene un’installazione di FreeBSD. In questo esempio l’installazione di FreeBSD ha tre partizioni dati più una di swap.</p></div><div class=paragraph><p>Le tre partizioni conterranno ognuna un file system. La partizione <code>a</code> sarà usata per il file system root, la <code>e</code> per la gerarchia di directory <span class=filename>/var</span>, e la partizione <code>f</code> per la gerarchia di directory <span class=filename>/usr</span>.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/basics/disk-layout.png alt="disk layout"></div></div></div></div></div><div class=sect2><h3 id=mount-unmount>3.6. Montaggio e Smontaggio dei File system<a class=anchor href=#mount-unmount></a></h3><div class=paragraph><p>Il file system è raffigurato in maniera ottimale da un albero, radicato, per così dire, in <span class=filename>/</span>. Le directory <span class=filename>/dev</span>, <span class=filename>/usr</span>, e le altre directory che stanno all’interno della directory root sono i rami, i quali possono essere a loro volta ramificati, come in <span class=filename>/usr/local</span>, e così via.</p></div><div class=paragraph><p>Esistono varie ragioni per mantenere alcune di queste directory su file system separati. La directory <span class=filename>/var</span> contiene le directory <span class=filename>log/</span>, <span class=filename>spool/</span>, e vari tipi di file temporanei, e come tale, può riempirsi. Riempire il file system root non è una buona idea, quindi scindere la directory <span class=filename>/var</span> da <span class=filename>/</span> è spesso vantaggioso.</p></div><div class=paragraph><p>Un’altra motivazione per mantenere certi alberi di directory su altri file system è quando questi alberi sono alloggiati su dischi fisici separati, o sono dischi virtuali separati, come avviene per i mount del <a href=./#network-nfs>Network File System</a>, o dei dispositivi CDROM.</p></div><div class=sect3><h4 id=disks-fstab>3.6.1. Il File <span class=filename>fstab</span><a class=anchor href=#disks-fstab></a></h4><div class=paragraph><p>Durante la <a href=./#boot>fase di avvio</a>, i file system elencati nel file <span class=filename>/etc/fstab</span> sono montati in modo automatico (a meno che siano specificati con l’opzione <code>noauto</code>).</p></div><div class=paragraph><p>Il file <span class=filename>/etc/fstab</span> contiene una serie di righe il cui formato è il seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>device       /mount-point fstype     options      dumpfreq     passno</pre></div></div><div class=dlist><dl><dt class=hdlist1><code>device</code></dt><dd><p>Il nome del dispositivo (che deve esistere), come spiegato nella <a href=./#disks-naming>Device Names</a>.</p></dd><dt class=hdlist1><code>mount-point</code></dt><dd><p>La directory (che deve esistere), sulla quale montare il file system.</p></dd><dt class=hdlist1><code>fstype</code></dt><dd><p>Il tipo di file system da passare a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a>. Il file system di default di FreeBSD è <code>ufs</code>.</p></dd><dt class=hdlist1><code>options</code></dt><dd><p><code>rw</code> per file system leggibili-scrivibili, oppure <code>ro</code> per file system solamente leggibili, seguite da altre opzioni che potrebbero essere necessarie. Un’opzione comune è <code>noauto</code> per i file system che normalmente non sono montati durante la sequenza di avvio. Altre opzioni sono elencate nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a>.</p></dd><dt class=hdlist1><code>dumpfreq</code></dt><dd><p>Viene usato da <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> per determinare quali file system richiedono un dump. Se non si specifica nulla, viene assunto il valore zero.</p></dd><dt class=hdlist1><code>passno</code></dt><dd><p>Determina l’ordine secondo il quale i file system vengono controllati. I file system che devono saltare il controllo devono avere i loro <code>passno</code> settati a zero. Il file system root (che deve essere controllato prima di qualsiasi altra cosa) deve avere il suo <code>passno</code> settato a uno, e i <code>passno</code> degli altri file system devono essere settati a valori maggiori di uno. Se più di un file system ha lo stesso <code>passno</code> allora <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> tenterà di controllare i file system in parallelo.</p></dd></dl></div><div class=paragraph><p>Per maggiori informazioni sul formato del file <span class=filename>/etc/fstab</span> e sulle opzioni che esso contiene consulta la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;format=html">fstab(5)</a>.</p></div></div><div class=sect3><h4 id=disks-mount>3.6.2. Il Comando <code>mount</code><a class=anchor href=#disks-mount></a></h4><div class=paragraph><p>Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> è ciò che in definitiva viene usato per montare i file system.</p></div><div class=paragraph><p>La sua forma di utilizzo elementare è:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount device mountpoint</span></code></pre></div></div><div class=paragraph><p>Esistono molte opzioni, come spiegato nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a>, ma le più comuni sono:</p></div><div class=dlist><div class=title>Opzioni di Mount</div><dl><dt class=hdlist1><code>-a</code></dt><dd><p>Monta tutti i file system elencati nel file <span class=filename>/etc/fstab</span>. Le eccezioni sono quei file system specificati come "noauto", quelli esclusi dalla flag <code>-t</code>, o quei file system che sono già montati.</p></dd><dt class=hdlist1><code>-d</code></dt><dd><p>Fà tutto ad eccezione della attuale system call di mount. Questa opzione risulta utile in congiunzione con la flag <code>-v</code> per determinare quello che <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> sta effettivamente tentando di fare.</p></dd><dt class=hdlist1><code>-f</code></dt><dd><p>Forza il mount di un file system non correttamente smontato (pericoloso), o forza la revoca di accesso in scrittura quando si declassa lo stato di mount di un file system da lettura-scrittura a lettura solamente.</p></dd><dt class=hdlist1><code>-r</code></dt><dd><p>Monta il file system in sola lettura. Questo è identico ad usare l’argomento <code>ro</code> (<code>rdonly</code> per versioni di FreeBSD dopo la 5.2) con l’opzione <code>-o</code>.</p></dd><dt class=hdlist1><code>-t</code> <em>fstype</em></dt><dd><p>Monta il dato file system secondo il tipo di file system specificato, oppure, se affiancato dall’opzione <code>-a</code>, monta solamente i file system di un dato tipo.</p><div class=paragraph><p>"ufs" è il tipo di file system di default.</p></div></dd><dt class=hdlist1><code>-u</code></dt><dd><p>Aggiorna le opzioni di mount sul file system.</p></dd><dt class=hdlist1><code>-v</code></dt><dd><p>Modalità verbosa.</p></dd><dt class=hdlist1><code>-w</code></dt><dd><p>Monta il file system in lettura-scrittura.</p></dd></dl></div><div class=paragraph><p>L’opzione <code>-o</code> accetta una lista di argomenti separati da una virgola, inclusi i seguenti:</p></div><div class=dlist><dl><dt class=hdlist1>noexec</dt><dd><p>Non permette l’esecuzione di binari su questo file system. Questa è un’altra utile opzione di sicurezza.</p></dd><dt class=hdlist1>nosuid</dt><dd><p>Non permette l’interpretazione delle flag setuid o setgid sul file system. Anche questa è un’utile opzione di sicurezza.</p></dd></dl></div></div><div class=sect3><h4 id=disks-umount>3.6.3. Il Comando <code>umount</code><a class=anchor href=#disks-umount></a></h4><div class=paragraph><p>Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=umount&amp;sektion=8&amp;format=html">umount(8)</a> accetta, come unico parametro, un punto di mount, un nome di dispositivo, l’opzione <code>-a</code> o l’opzione <code>-A</code>.</p></div><div class=paragraph><p>Tutte queste modalità accettano l’opzione <code>-f</code> per forzare la smontatura, e l’opzione <code>-v</code> per la modalità verbosa. Sei avvisato che l’opzione <code>-f</code> non è in generale un buona idea. Smontare in modo forzato i file system può mandare in crash il computer o danneggiare i dati sul file system.</p></div><div class=paragraph><p>Le opzioni <code>-a</code> e <code>-A</code> sono usate per smontare tutti i file system, con la possibilità di specificare i tipi di file system elencandoli dopo la flag <code>-t</code>. Tuttavia, l’opzione <code>-A</code> non tenta di smontare il file system root.</p></div></div></div><div class=sect2><h3 id=basics-processes>3.7. I Processi<a class=anchor href=#basics-processes></a></h3><div class=paragraph><p>FreeBSD è un sistema operativo multi-tasking. Con questa capacità il sistema è come se potesse eseguire più di un programma alla volta. Ogni programma in esecuzione in un dato istante è chiamato <em>processo</em>. Ogni volta che esegui un comando fai partire almeno un nuovo processo, e ci sono molti processi di sistema che sono sempre in esecuzione, che permettono il corretto funzionamento del sistema.</p></div><div class=paragraph><p>Ogni processo è identificato in modo univoco da un numero chiamato <em>process ID</em>, o <em>PID</em>, e, come avviene per i file, ogni processo ha un proprietario e un gruppo. Le informazioni sul proprietario e sul gruppo sono usate per determinare, tramite il meccanismo dei permessi dei file discusso precedentemente, quali file e quali dispositivi il processo può aprire. Inoltre molti processi hanno un processo padre. Tale processo è il processo che li ha generati. Per esempio, se stai digitando dei comandi in shell allora la shell è un processo, così come lo sono i comandi che esegui. Ogni processo che esegui in questo modo avrà come suo processo padre la tua shell. L’eccezione a questo meccanismo è un processo speciale chiamato <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a>. Il processo <code>init</code> è sempre il primo processo, quindi il suo PID è sempre 1. <code>init</code> viene avviato in modo automatico dal kernel quando si avvia FreeBSD.</p></div><div class=paragraph><p>Due comandi sono particolarmente utili per monitorare i processi sul sistema, <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a>. Il comando <code>ps</code> è usato per mostrare una lista statica dei processi che sono in esecuzione in quel momento, e può mostrare i loro PID, quanta memoria stanno usando, la linea di comando che li ha avviati, e altro ancora. Il comando <code>top</code> visualizza tutti i processi in esecuzione, e aggiorna queste informazioni ogni qualche secondo, in modo che puoi vedere interattivamente cosa sta facendo il tuo computer.</p></div><div class=paragraph><p>Di default, <code>ps</code> mostra solo i tuoi comandi che sono in quel momento in esecuzione. Per esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ps
  PID  TT  STAT      TIME COMMAND
  298  p0  Ss     0:01.10 tcsh
 7078  p0  S      2:40.88 xemacs mdoc.xsl <span class=o>(</span>xemacs-21.1.14<span class=o>)</span>
37393  p0  I      0:03.11 xemacs freebsd.dsl <span class=o>(</span>xemacs-21.1.14<span class=o>)</span>
48630  p0  S      2:50.89 /usr/local/lib/netscape-linux/navigator-linux-4.77.bi
48730  p0  IW     0:00.00 <span class=o>(</span>dns helper<span class=o>)</span> <span class=o>(</span>navigator-linux-<span class=o>)</span>
72210  p0  R+     0:00.00 ps
  390  p1  Is     0:01.14 tcsh
 7059  p2  Is+    1:36.18 /usr/local/bin/mutt <span class=nt>-y</span>
 6688  p3  IWs    0:00.00 tcsh
10735  p4  IWs    0:00.00 tcsh
20256  p5  IWs    0:00.00 tcsh
  262  v0  IWs    0:00.00 <span class=nt>-tcsh</span> <span class=o>(</span>tcsh<span class=o>)</span>
  270  v0  IW+    0:00.00 /bin/sh /usr/X11R6/bin/startx <span class=nt>--</span> <span class=nt>-bpp</span> 16
  280  v0  IW+    0:00.00 xinit /home/nik/.xinitrc <span class=nt>--</span> <span class=nt>-bpp</span> 16
  284  v0  IW     0:00.00 /bin/sh /home/nik/.xinitrc
  285  v0  S      0:38.45 /usr/X11R6/bin/sawfish</code></pre></div></div><div class=paragraph><p>Come puoi vedere in questo esempio, l’output di <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> è organizzato in molte colonne. La colonna <code>PID</code> si riferisce al process ID discusso poco fà. I PID sono assegnati partendo dal numero 1, andando fino al 99999, e ricominciando dall’inizio una volta esauriti (se disponibili). La colonna <code>TT</code> mostra su quale tty il programma è in esecuzione, e può essere benissimo ignorata per il momento. La colonna <code>STAT</code> mostra lo stato del programma, e di nuovo, può essere benissimo ignorata. La colonna <code>TIME</code> indica per quanto tempo il programma è stato in esecuzione sulla CPU-di solito non indica il tempo trascorso da quando hai avviato il programma, poichè la maggior parte dei programmi trascorrono molto tempo in attesa per faccende che accadono prima che questi possano trascorrere del tempo in CPU. Infine, la colonna <code>COMMAND</code> indica la riga di comando che è stata utilizzata per eseguire il programma.</p></div><div class=paragraph><p>Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> supporta varie opzioni per cambiare le informazioni da visualizzare. Uno dei gruppi di opzioni più utili è <code>auxww</code>. L’opzione <code>a</code> mostra le informazioni riguardo a tutti i processi in esecuzione, non solo quelli che ti appartengono. L’opzione <code>u</code> mostra il nome utente del proprietario del processo, come pure la memoria utilizzata dal processo. L’opzione <code>x</code> mostra le informazioni riguardo ai processi demoni, e l’opzione <code>ww</code> indica a <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> di visualizzare la linea di comando completa che ha avviato il processo, piuttosto che troncarla quando è troppo lunga per essere adattata sullo schermo.</p></div><div class=paragraph><p>L’output di <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a> è simile. Un esempio di esecuzione assomiglia a questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% top
last pid: 72257<span class=p>;</span>  load averages:  0.13,  0.09,  0.03    up 0+13:38:33  22:39:10
47 processes:  1 running, 46 sleeping
CPU states: 12.6% user,  0.0% <span class=nb>nice</span>,  7.8% system,  0.0% interrupt, 79.7% idle
Mem: 36M Active, 5256K Inact, 13M Wired, 6312K Cache, 15M Buf, 408K Free
Swap: 256M Total, 38M Used, 217M Free, 15% Inuse

  PID USERNAME PRI NICE  SIZE    RES STATE    TIME   WCPU    CPU COMMAND
72257 nik       28   0  1960K  1044K RUN      0:00 14.86%  1.42% top
 7078 nik        2   0 15280K 10960K <span class=k>select   </span>2:54  0.88%  0.88% xemacs-21.1.14
  281 nik        2   0 18636K  7112K <span class=k>select   </span>5:36  0.73%  0.73% XF86_SVGA
  296 nik        2   0  3240K  1644K <span class=k>select   </span>0:12  0.05%  0.05% xterm
48630 nik        2   0 29816K  9148K <span class=k>select   </span>3:18  0.00%  0.00% navigator-linu
  175 root       2   0   924K   252K <span class=k>select   </span>1:41  0.00%  0.00% syslogd
 7059 nik        2   0  7260K  4644K poll     1:38  0.00%  0.00% mutt
...</code></pre></div></div><div class=paragraph><p>L’output è diviso in due sezioni. La parte superiore (le prime cinque linee) mostra il PID dell’ultimo processo eseguito, il carico medio del sistema (che è un indice di quanto il sistema sia impegnato), il tempo di vita del sistema (il tempo passato dall’ultimo reboot) e l’ora corrente. I restanti numeri nella parte superiore riportano quanti processi sono in esecuzione (47 in questo caso), quanta memoria di sistema e quanta memoria di swap è stata utilizzata, e quanto tempo il sistema sta trascorrendo nei vari stati di CPU.</p></div><div class=paragraph><p>Sotto ci sono una serie di colonne che contengono simili informazioni a quelle contenute nell’output di <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a>. Come prima puoi vedere il PID, il nome utente, quanto tempo di CPU è stato utilizzato, e il comando che era stato eseguito. Inoltre il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a> di default ti mostra quanta memoria è stata concessa al processo. Questa informazione è suddivisa in due colonne, una per la dimensione totale, e l’altra per la dimensione attuale-la dimensione totale è la quantità di memoria che l’applicazione ha richiesto, e la dimensione attuale è la quantità di memoria che sta utilizzando in quel momento. In questo esempio puoi vedere che Netscape ha richiesto quasi 30 MB di RAM, ma al momento ne sta usando solo 9 MB.</p></div><div class=paragraph><p>Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a> aggiorna in modo automatico queste informazioni ogni due secondi; questo lasso temporale può essere modificato con l’opzione <code>s</code>.</p></div></div><div class=sect2><h3 id=basics-daemons>3.8. I Demoni, i Segnali, e come Uccidere i Processi<a class=anchor href=#basics-daemons></a></h3><div class=paragraph><p>Quando esegui un editor risulta semplice averne il controllo, dirgli di caricare file, e così via. Tutto questo può essere fatto poichè l’editor fornisce delle agevolazioni in questo senso, e anche perchè l’editor è collegato a un <em>terminale</em>. Alcuni programmi non sono stati progettati per essere eseguiti con un continuo input dell’utente, e perciò questi programmi si disconnettono dal terminale alla prima occasione. Per esempio, un server web trascorre tutto il giorno rispondendo a richieste web, e normalmente non necessita di alcun input da parte tua. I programmi che trasportano la posta elettronica da un sito a un altro sito sono un altro esempio di questa classe di applicazioni.</p></div><div class=paragraph><p>Chiamiamo questi programmi <em>demoni</em>. I demoni erano dei personaggi della mitologia greca: nè buoni nè cattivi, erano piccoli spiriti custodi che, nel complesso, risultavano essere utili per l’umanità, molto similmente i server web e quelli di posta elettronica di oggi fanno cose utili. Ecco il motivo per cui la mascotte di BSD è stata per molto tempo, e lo è ancora, l’allegro demone con le scarpe da tennis e con il forcone.</p></div><div class=paragraph><p>Esiste la convenzione di chiamare i programmi che normalmente sono eseguiti come demoni con una "d" finale. BIND sta per Berkeley Internet Name Domain, ma il nome effettivo del programma che viene eseguito è <code>named</code>; il nome del programma Apache, un server web, è <code>httpd</code>; il demone dello spool di stampa è <code>lpd</code> e così via. Questa è una convenzione, non è una regola ferrea; per esempio, il principale demone di posta elettronica per l’applicazione Sendmail è chiamato <code>sendmail</code>, e non <code>maild</code>, come potresti aspettarti.</p></div><div class=paragraph><p>A volte puoi aver bisogno di comunicare con un processo demone. Un modo per farlo è di mandare a esso (o ad altri processi in esecuzione), un <em>segnale</em>. Esistono svariati segnali che puoi inviare-alcuni di questi hanno un significato specifico, altri sono interpretabili dall’applicazione, e la documentazione dell’applicazione ti dirà come l’applicazione stessa interpreta i segnali. Puoi mandare un segnale solo ai processi che ti appartengono. Se mandi un segnale a un processo che non ti appartiene con il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kill&amp;sektion=1&amp;format=html">kill(1)</a> o <a href="https://man.freebsd.org/cgi/man.cgi?query=kill&amp;sektion=2&amp;format=html">kill(2)</a>, il permesso ti sarà negato. L’eccezione a questa regola riguarda l’utente <code>root</code>, che può mandare segnali a processi di chiunque.</p></div><div class=paragraph><p>Inoltre in alcune circostanze FreeBSD invia segnali alle applicazioni. Se un’applicazione è stata scritta malamente, e tenta di accedere alla memoria che non gli compete, FreeBSD manda al processo il segnale di <em>Violazione della Segmentazione</em> (<code>SIGSEGV</code>). Se un’applicazione ha utilizzato la system call <a href="https://man.freebsd.org/cgi/man.cgi?query=alarm&amp;sektion=3&amp;format=html">alarm(3)</a> in modo tale da essere avvisata dopo un certo periodo di tempo trascorso allora FreeBSD invierà a questa applicazione il segnale di Allarme (<code>SIGALRM</code>), e così via.</p></div><div class=paragraph><p>Per fermare un processo possono essere utilizzati due segnali, <code>SIGTERM</code> e <code>SIGKILL</code>. <code>SIGTERM</code> è il modo cortese di terminare un processo; il processo può <em>catturare</em> il segnale, capire che vuoi abbatterlo, chiudere i file di log che potrebbe avere aperto, e in genere terminare qualunque cosa che stava facendo prima dell’interruzione. Nei casi in cui un processo sia coinvolto in qualche compito che non può essere interrotto allora questo processo può persino ignorare <code>SIGTERM</code>.</p></div><div class=paragraph><p>Il segnale <code>SIGKILL</code> non può essere ignorato da un processo. Questo è il segnale che dice "Non mi interessa cosa stai facendo, fermati subito". Se mandi il segnale <code>SIGKILL</code> a un processo allora FreeBSD fermerà subito il processo.</p></div><div class=paragraph><p>Altri segnali che potresti aver bisogno di usare sono <code>SIGHUP</code>, <code>SIGUSR1</code>, e <code>SIGUSR2</code>. Questi sono segnali a scopo generico, e differenti applicazioni possono fare cose diverse quando catturano questi segnali.</p></div><div class=paragraph><p>Supponiamo che hai cambiato il file di configurazione del tuo server web-hai bisogno di dire al server web di rileggere la sua configurazione. Potresti fermare e riavviare <code>httpd</code>, ma questo porterebbe a un breve periodo di interruzione del tuo server web, che potrebbe non essere gradito. Molti demoni sono stati scritti per rispondere al segnale <code>SIGHUP</code> tramite la rilettura dei loro file di configurazione. In questo modo invece di terminare e riavviare <code>httpd</code> potresti inviare il segnale <code>SIGHUP</code>. Poichè non esiste un modo standard di trattare questi segnali, differenti demoni potrebbero avere un comportamento diverso, quindi assicurati di leggere la documentazione per il demone in questione.</p></div><div class=paragraph><p>I segnali sono inviati utilizzando il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kill&amp;sektion=1&amp;format=html">kill(1)</a>, come mostra questo esempio.</p></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Inviare un Segnale a un Processo</strong></p></div><div class=paragraph><p>Questo esempio mostra come inviare un segnale a <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a>. Il file di configurazione di <code>inetd</code> è <span class=filename>/etc/inetd.conf</span>, e <code>inetd</code> rilegge questo file di configurazione quando riceve il segnale <code>SIGHUP</code>.</p></div><div class="olist arabic"><ol class=arabic><li><p>Cerca il process ID del processo a cui vuoi mandare il segnale. Puoi utilizzare <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=grep&amp;sektion=1&amp;format=html">grep(1)</a> per farlo. Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=grep&amp;sektion=1&amp;format=html">grep(1)</a> viene utilizzato per perlustrare attraverso l’output, cercando la stringa da te specificata. Questo comando viene eseguito in modalità utente, e <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> viene eseguito in modalità <code>root</code>, quindi le opzioni da dare a <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> sono <code>ax</code>.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ps <span class=nt>-ax</span> | <span class=nb>grep </span>inetd
  198  ??  IWs    0:00.00 inetd <span class=nt>-wW</span></code></pre></div></div><div class=paragraph><p>Come puoi vedere il PID di <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> è 198. In alcuni casi potrebbe apparire nel risultato anche il comando <code>grep inetd</code>. Questo dipende dal modo utilizzato da <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> nell’elencare la lista dei processi in esecuzione.</p></div></li><li><p>Usa il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kill&amp;sektion=1&amp;format=html">kill(1)</a> per inviare il segnale. Poichè <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> viene eseguito in modalità <code>root</code> prima devi usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> per diventare <code>root</code>.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% su
Password:
<span class=c># /bin/kill -s HUP 198</span></code></pre></div></div><div class=paragraph><p>Come avviene per la maggior parte dei comandi UNIX®, il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kill&amp;sektion=1&amp;format=html">kill(1)</a> non stampa il risultato dell’operazione se questa ha avuto successo. Se mandi un segnale a un processo del quale non sei il proprietario allora vedrai il messaggio <code>kill: <em>PID</em>: Operation not permitted</code>. Se sbagli il PID invierai il segnale al processo sbagliato, il che potrebbe essere dannoso, o, se hai fortuna, manderai il segnale a un PID che in quel momento non è in uso, e in questo caso vedrai il messaggio <code>kill: <em>PID</em>: No such process</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=title>Perchè Usare <code>/bin/kill</code>?</div><div class=paragraph><p>Molte shell forniscono il comando <code>kill</code> come comando built-in; ossia, la shell invia il segnale in modo diretto, senza dover eseguire <span class=filename>/bin/kill</span>. Tutto ciò può essere molto utile, ma le diverse shell hanno una sintassi diversa per specificare il nome del segnale da inviare. Invece di cercare di imparare tutte queste sintassi, può essere più semplice usare direttamente il comando <code>/bin/kill …​</code>.</p></div></td></tr></tbody></table></div></li></ol></div></div></div><div class=paragraph><p>L’invio di altri segnali è analogo, basta sostituire all’occorrenza <code>TERM</code> o <code>KILL</code> nella linea di comando.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Terminare processi in modo random su un sistema può essere una cattiva idea. In particolare, il processo <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a>, con process ID 1, è un caso molto speciale. Eseguire <code>/bin/kill -s KILL 1</code> è un modo veloce per arrestare il tuo sistema. Controlla <em>sempre</em> due volte gli argomenti quando esegui <a href="https://man.freebsd.org/cgi/man.cgi?query=kill&amp;sektion=1&amp;format=html">kill(1)</a> <em>prima</em> di premere <kbd>Invio</kbd>.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=shells>3.9. Le Shell<a class=anchor href=#shells></a></h3><div class=paragraph><p>In FreeBSD, la maggior parte del lavoro di tutti i giorni viene svolto tramite un’interfaccia a riga di comando chiamata shell. Uno dei compiti principali di una shell è quello di prendere in input dei comandi ed eseguirli. Inoltre molte shell hanno delle funzioni built-in (incorporate) utili nei lavori ordinari come la gestione dei file, la sostituzione dei nomi dei file, la modifica della riga di comando, la creazione di macro di comandi, e la gestione delle variabili d’ambiente. FreeBSD si propone con una serie di shell, come la Shell Bourne, <code>sh</code>, e la versione successiva della C-shell, <code>tcsh</code>. Molte altre shell sono disponibili nella FreeBSD Ports Collection, come le shell <code>zsh</code> e <code>bash</code>.</p></div><div class=paragraph><p>Quale shell devi usare? È veramente una questione di gusti. Se sei un programmatore di C potresti sentirti a tuo agio con una shell C-like come la <code>tcsh</code>. Se vieni da Linux o non sei pratico dell’interfaccia a riga di comando di UNIX® potresti provare la <code>bash</code>. Il fatto è che ogni shell ha delle caratteristiche che possono o meno combaciare con il tuo ambiente di lavoro preferito, e quindi devi scegliere tu stesso quale shell utilizzare.</p></div><div class=paragraph><p>Una caratteristica comune in una shell è il completamento dei nomi dei file. Dopo aver digitato alcuni dei primi caratteri di un comando o di un nome di file, la shell di solito può completare in modo automatico il resto del comando o del nome del file tramite la pressione del tasto <kbd>Tab</kbd> sulla tastiera. Ecco un esempio. Supponiamo che hai due file chiamati <span class=filename>foobar</span> e <span class=filename>foo.bar</span>. Vuoi cancellare <span class=filename>foo.bar</span>. Quello che dovresti digitare sulla tastiera è: <code>rm fo[Tab].[Tab]</code>.</p></div><div class=paragraph><p>La shell dovrebbe visualizzare <code>rm foo[BEEP].bar</code>.</p></div><div class=paragraph><p>Il [BEEP] è la campanella della console, che mi segnala che la shell è incapace di completare interamente il nome del file poichè esiste più di una sola corrispondenza. Sia <span class=filename>foobar</span> che <span class=filename>foo.bar</span> iniziano con <code>fo</code>, tuttavia la shell è riuscita a completarlo in <code>foo</code>. A questo punto premendo <code>.</code>, e poi di nuovo <kbd>Tab</kbd>, la shell sarà in grado di completare da sola il resto del nome del file.</p></div><div class=paragraph><p>Un altro aspetto di una shell è l’uso delle variabili d’ambiente. Le variabili d’ambiente sono una coppia di valori mutevoli memorizzati nello spazio dell’ambiente della shell. Questo spazio può essere letto dai programmi invocati dalla shell, e di conseguenza questo spazio può contenere le configurazioni di molti programmi. Qui sotto c’è una lista delle variabili d’ambiente più comuni con il loro rispettivo significato:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variabile</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>USER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il nome dell’utente attualmente loggato.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PATH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lista di directory separate da due punti utilizzate per la ricerca dei binari.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>DISPLAY</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nome di rete del display X11 a cui connettersi, se disponibile.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>SHELL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La shell corrente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>TERM</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il nome del tipo di terminale dell’utente. Usato per determinare le capacità del terminale.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>TERMCAP</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Serie di elementi di codici di escape del terminale utilizzati per realizzare svariate funzioni del terminale.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>OSTYPE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il tipo di sistema operativo. FreeBSD, ad esempio.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MACHTYPE</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’architettura della CPU su cui il sistema gira.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>EDITOR</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’editor di testo preferito dall’utente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PAGER</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’impaginatore di testo preferito dall’utente.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>MANPATH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lista di directory separate da due punti utilizzate nella ricerca delle pagine man.</p></td></tr></tbody></table><div class=paragraph><p>Il modo di settare una variabile d’ambiente varia leggermente a seconda della shell utilizzata. Per esempio, nelle shell C-Style come <code>tcsh</code> e <code>csh</code>, puoi usare <code>setenv</code> per settare le variabili d’ambiente. Sotto le shell Bourne come <code>sh</code> e <code>bash</code>, puoi usare <code>export</code> per settare le tue variabili d’ambiente correnti. Per esempio, per settare o modificare la variabile d’ambiente <code>EDITOR</code> a <span class=filename>/usr/local/bin/emacs</span>, sotto <code>csh</code> o <code>tcsh</code> si può utilizzare il comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% setenv EDITOR /usr/local/bin/emacs</code></pre></div></div><div class=paragraph><p>Sotto le shell Bourne:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>export </span><span class=nv>EDITOR</span><span class=o>=</span><span class=s2>&#34;/usr/local/bin/emacs&#34;</span></code></pre></div></div><div class=paragraph><p>Con la maggior parte delle shell puoi inoltre creare un’espansione di una variabile d’ambiente mettendo sulla riga di comando il simbolo <code>$</code> davanti al nome della variabile stessa. Per esempio, <code>echo $TERM</code> visualizzerà ciò che corrisponde a <code>$TERM</code>, poichè la shell espande <code>$TERM</code> e passa il risultato a <code>echo</code>.</p></div><div class=paragraph><p>Le shell trattano molti caratteri speciali, chiamati meta-caratteri come rappresentazioni speciali di dati. Il più comune di questi è il simbolo <code>*</code>, che rappresenta diverse istanze di caratteri in un nome di file. Questi meta-caratteri possono essere usati per la sostituzione dei nomi di file. Per esempio, digitando <code>echo *</code> è quasi come aver digitato <code>ls</code> poichè la shell prende tutti i file che corrispondono a <code>*</code> e li mette sulla riga di comando con <code>echo</code> che quindi li visualizza.</p></div><div class=paragraph><p>Per impedire alla shell di interpretare questi caratteri speciali, questi possono essere messi in escape mettendo subito prima di essi un backslash (<code>\</code>). <code>echo $TERM</code> visualizza il tipo del tuo terminale. <code>echo \$TERM</code> visualizza <code>$TERM</code> così com’è.</p></div><div class=sect3><h4 id=changing-shells>3.9.1. Cambiare la Propria Shell<a class=anchor href=#changing-shells></a></h4><div class=paragraph><p>Il modo più semplice per cambiare la propria shell è quello di usare il comando <code>chsh</code>. Eseguendo <code>chsh</code> verrà invocato l’editor definito nella tua variabile d’ambiente <code>EDITOR</code>; nel caso in cui questa non sia stata settata, verrà invocato <code>vi</code>. Modifica la riga "Shell:" in base alle tue esigenze.</p></div><div class=paragraph><p>Puoi anche eseguire <code>chsh</code> con l’opzione <code>-s</code>; in questo modo verrà settata la shell in modo diretto, senza che sia necessario invocare l’editor. Per esempio, se vuoi cambiare la tua shell in <code>bash</code>, potresti digitare il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% chsh <span class=nt>-s</span> /usr/local/bin/bash</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>La shell che desideri utilizzare <em>deve</em> essere presente nel file <span class=filename>/etc/shells</span>. Se hai installato una shell dalla <a href=./#ports>collezione dei port</a>, allora la nuova shell dovrebbe essere già stata inserita nel suddetto file in modo automatico. Se installi una shell manualmente, questo lavoro lo devi fare tu.</p></div><div class=paragraph><p>Per esempio, se installi <code>bash</code> a mano e la metti sotto <span class=filename>/usr/local/bin</span>, dovresti fare questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#34;/usr/local/bin/bash&#34; &gt;&gt; /etc/shells</span></code></pre></div></div><div class=paragraph><p>Dopo averlo fatto riavvia <code>chsh</code>.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=editors>3.10. Editor di Testo<a class=anchor href=#editors></a></h3><div class=paragraph><p>La maggior parte del lavoro di configurazione in FreeBSD viene fatto tramite la modifica di file di testo. Perciò, è una buona idea familiarizzare con un editor di testo. FreeBSD si presenta con alcuni editor come parte base del sistema, e molti altri sono disponibili nella collezione dei port.</p></div><div class=paragraph><p>L’editor più semplice e più facile da imparare si chiama ee, che sta per easy editor. Per avviare ee, puoi digitare sulla riga di comando <code>ee filename</code> dove <code>filename</code> è il nome del file che deve essere modificato. Per esempio, per modificare <span class=filename>/etc/rc.conf</span>, devi digitare <code>ee /etc/rc.conf</code>. Una volta all’interno di <code>ee</code>, tutti i comandi per azionare le funzioni dell’editor sono elencati nella parte superiore del video. Il carattere <code>^</code> è il tasto <kbd>Ctrl</kbd> della tastiera, quindi <code>^e</code> si riferisce alla combinazione di tasti <span class=keyseq><kbd>Ctrl</kbd>+<kbd>e</kbd></span>. Per uscire da ee, premi il tasto <kbd>Esc</kbd>, quindi conferma l’uscita dall’editor. Se il file ha subito delle modifiche ti verrà chiesto se le vuoi salvare.</p></div><div class=paragraph><p>FreeBSD ha come parte base del sistema anche editor di testo più potenti come vi, mentre altri editor, come Emacs e vim, sono inclusi nella FreeBSD Ports Collection (<a class=package href=https://cgit.freebsd.org/ports/tree/editors/emacs/>editors/emacs</a> e <a class=package href=https://cgit.freebsd.org/ports/tree/editors/vim/>editors/vim</a>). Questi editor offrono molte più funzionalità e molta più potenza a costo di essere un poco più complicati da imparare ad utilizzare. Comunque se intendi utilizzare in modo intensivo un editor, imparando ad utilizzare un editor potente come vim o Emacs risparmierai a lungo andare un sacco di tempo.</p></div></div><div class=sect2><h3 id=basics-devices>3.11. Dispositivi e Nodi di Dispositivo<a class=anchor href=#basics-devices></a></h3><div class=paragraph><p>Il termine dispositivo viene usato prevalentemente per specificare le unità hardware all’interno di un sistema, come i dischi, le stampanti, le schede grafiche, e le tastiere. Durante la fase di avvio di FreeBSD, la maggior parte delle cose che vengono visualizzate da FreeBSD riguardano i dispositivi che sono stati rilevati. Puoi riesaminare questi messaggi di avvio guardando il file <span class=filename>/var/run/dmesg.boot</span>.</p></div><div class=paragraph><p>Per esempio, <span class=filename>acd0</span> è il primo drive CDROM IDE, mentre <span class=filename>kbd0</span> rappresenta la tastiera.</p></div><div class=paragraph><p>In un sistema operativo UNIX® la maggior parte di questi dispositivi sono accessibili tramite dei file speciali chiamati nodi di dispositivo, i quali sono posti nella directory <span class=filename>/dev</span>.</p></div><div class=sect3><h4 id=_creare_i_nodi_di_dispositivo>3.11.1. Creare i Nodi di Dispositivo<a class=anchor href=#_creare_i_nodi_di_dispositivo></a></h4><div class=paragraph><p>Quando aggiungi un nuovo dispositivo al tuo sistema, o ricompili il kernel per supportare dispositivi aggiuntivi, devono essere creati nuovi nodi di dispositivo.</p></div><div class=sect4><h5 id=_devfs_device_file_system>3.11.1.1. <code>DEVFS</code> (DEVice File System)<a class=anchor href=#_devfs_device_file_system></a></h5><div class=paragraph><p>Il file system device, o <code>DEVFS</code>, fornisce la disponibilità dello spazio dei nomi dei dispositivi del kernel allo spazio dei nomi globale del file system. Invece di dover creare o modificare i nodi di dispositivo, <code>DEVFS</code> mantiene in modo automatico questo particolare file system.</p></div><div class=paragraph><p>Guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;format=html">devfs(5)</a> per maggiori informazioni.</p></div></div></div></div><div class=sect2><h3 id=binary-formats>3.12. Formati dei Binari<a class=anchor href=#binary-formats></a></h3><div class=paragraph><p>Per comprendere il motivo per cui FreeBSD usa il formato <a href="https://man.freebsd.org/cgi/man.cgi?query=elf&amp;sektion=5&amp;format=html">elf(5)</a>, devi prima conoscere un pò i tre attuali formati eseguibili "dominanti" per UNIX®:</p></div><div class=ulist><ul><li><p><a href="https://man.freebsd.org/cgi/man.cgi?query=a.out&amp;sektion=5&amp;format=html">a.out(5)</a></p><div class=paragraph><p>Il più vecchio e "classico" formato oggetto di UNIX®. Usa un’intestazione corta e compatta con un numero magico all’inizio che è spesso usato per caratterizzare il formato (vedere <a href="https://man.freebsd.org/cgi/man.cgi?query=a.out&amp;sektion=5&amp;format=html">a.out(5)</a> per maggiori dettagli). Contiene tre segmenti caricabili: .text, .data, e .bss più una tabella di simboli e una di stringhe.</p></div></li><li><p>COFF</p><div class=paragraph><p>Il formato oggetto di SVR3. Poichè l’intestazione include una porzione di tabella, puoi avere molto di più delle sole sezioni .text, .data, e .bss.</p></div></li><li><p><a href="https://man.freebsd.org/cgi/man.cgi?query=elf&amp;sektion=5&amp;format=html">elf(5)</a></p><div class=paragraph><p>Il successore di COFF, caratterizzato da sezioni multiple e da possibili valori a 32-bit o 64-bit. Uno dei maggiori svantaggi: ELF fu progettato con l’assunzione che ci doveva essere solo un ABI per ogni tipo di architettura dei sistemi. Tale assunzione è in realtà piuttosto sbagliata, e non è vera nemmeno nel mondo commerciale di SYSV (che ha almeno tre ABI: SVR4, Solaris, SCO).</p></div><div class=paragraph><p>FreeBSD tenta di aggirare questo problema fornendo un utility per <em>marchiare</em> un eseguibile ELF con informazioni sull’ABI per il quale è stato costruito. Guarda la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=brandelf&amp;sektion=1&amp;format=html">brandelf(1)</a> per maggiori informazioni.</p></div></li></ul></div><div class=paragraph><p>FreeBSD proviene dalla scuola "classica" e ha usato il formato <a href="https://man.freebsd.org/cgi/man.cgi?query=a.out&amp;sektion=5&amp;format=html">a.out(5)</a>, una tecnologia sperimentata ed utilizzata attraverso molte generazioni delle release BSD, fino agli inizi del ramo 3.X. Sebbene fino ad allora era possibile costruire ed eseguire su un sistema FreeBSD binari (e kernel) del formato ELF, inizialmente FreeBSD si oppose al "salto" di cambiamento al formato ELF come formato di default. Per quale motivo? Dunque, quando la scuola Linux fece il suo doloroso passaggio a ELF, questo non era sufficiente per abbandonare il formato eseguibile <span class=filename>a.out</span> a causa del loro rigido meccanismo a salto-di-tabella basato sulla libreria condivisa, il quale rendeva la costruzione di librerie condivise un compito molto difficile tanto per i venditori che per gli sviluppatori. Tuttavia, quando gli strumenti di ELF furono in grado di offrire una soluzione al problema della libreria condivisa e quando furono visti come "la strada imminente", il costo della migrazione fu accettato poichè necessario e avvenne così la transizione. Il meccanismo di libreria condivisa di FreeBSD è basato sullo stile più restrittivo del meccanismo di libreria condivisa degli SunOS™ di Sun, e come tale, è molto facile da utilizzare.</p></div><div class=paragraph><p>Quindi, perchè ci sono così tanti formati differenti?</p></div><div class=paragraph><p>In passato l’hardware era semplice. Questo hardware semplice sosteneva un sistema semplice e piccolo. Il formato <span class=filename>a.out</span> era del tutto adatto per rappresentare i binari su questo semplice sistema (un PDP-11). Nonostante le persone fecero il port di UNIX® da questo semplice sistema, esse mantennero il formato <span class=filename>a.out</span> poichè era sufficiente per un primo port di UNIX® verso architetture come Motorola 68k, VAXen, ecc.</p></div><div class=paragraph><p>All’epoca alcuni ingegneri hardware di spicco stabilirono che se tale formato poteva forzare il software a fare alcuni trucchi sporchi, allora esso sarebbe stato in grado di abbattere alcune barriere di progettazione e permettere al core della CPU di andare più veloce. Benchè il formato <span class=filename>a.out</span> fu progettato per lavorare con questo nuovo tipo di hardware (conosciuto ai giorni d’oggi come RISC), esso fu appena sufficiente per questo hardware, quindi furono sviluppati altri formati per ottenere delle prestazioni da questo hardware migliori di quelle che il limitato e semplice formato <span class=filename>a.out</span> era in grado di offrire. Furono inventati formati come il COFF, l’ECOFF, e alcuni altri e furono esaminate le loro limitazioni prima che fu prodotto l’ELF.</p></div><div class=paragraph><p>Per di più, le dimensioni dei programmi stavano diventando enormi e i dischi (e la memoria fisica) erano ancora relativamente piccoli, e quindi il concetto di libreria condivisa prese piede. Inoltre il sistema di VM (Memoria Virtuale) divenne più sofisticato. Benchè ognuno di questi miglioramenti fu fatto utilizzando il formato <span class=filename>a.out</span>, la sua utilità si distese sempre più con ogni nuova caratteristica. In aggiunta, la gente voleva caricare alcune cose in modo dinamico al tempo di esecuzione, o anche scartare parte dei loro programmi dopo l’esecuzione del codice iniziale al fine di salvare memoria e spazio di swap. I linguaggi divennero più sofisticati e le persone desideravano che il codice venisse chiamato dopo il main in modo automatico. Furono apportati molte migliorie al formato <span class=filename>a.out</span> per permettere tutte queste cose, e sostanzialmente tutto funzionò per un dato periodo. Col passare del tempo, il formato <span class=filename>a.out</span> non fu più in grado di gestire tutti questi problemi senza apportare dei miglioramenti al codice con un conseguente aumento della complessità. Benchè il formato ELF risolveva molti di questi problemi, era doloroso migrare da un sistema che tutto sommato funzionava. Quindi il formato ELF attese fino a quando fu meno doloroso rimanere con il formato <span class=filename>a.out</span> piuttosto che migrare al formato ELF.</p></div><div class=paragraph><p>Tuttavia, il tempo passò, e gli strumenti di costruzione che FreeBSD derivò dai loro strumenti di costruzione (in particolare l’assemblatore ed il loader) evolsero in due tronconi paralleli. L’albero di FreeBSD aggiunse le librerie condivise e sistemò alcuni bug. Il popolo di GNU che in origine aveva scritto questi programmi li riscrisse e aggiunse un semplice supporto per la costruzione di compilatori cross, la possibilità di produrre formati diversi a piacimento, e così via. Da quando molte persone vollero costruire compilatori cross per FreeBSD, questi furono delusi poichè i vecchi sorgenti che FreeBSD aveva per as e ld non erano pronti per questo lavoro. La nuova serie di strumenti di GNU (binutils) supportavano la compilazione cross, ELF, le librerie condivise, le estensioni C++, ecc. Inoltre molti venditori stanno rilasciando binari ELF, ed è una buona cosa per FreeBSD eseguirli.</p></div><div class=paragraph><p>Il formato ELF è più espressivo di quello <span class=filename>a.out</span> e permette una maggiore estensibilità nel sistema base. Gli strumenti di ELF sono meglio mantenuti, e offrono un supporto alla compilazione cross, che sta a cuore a molte persone. ELF può essere un pò meno veloce di <span class=filename>a.out</span>, ma tentare di misurarne le prestazioni non è molto semplice. Ci sono anche numerosi dettagli che sono diversi tra i due formati nel modo in cui essi mappano le pagine, gestiscono il codice iniziale, ecc. Questi dettagli non sono molto importanti, ma tra i due esistono delle differenze. Nel tempo il supporto per il formato <span class=filename>a.out</span> verrà rimosso dal kernel <span class=filename>GENERIC</span>, e alla fine sarà rimosso completamente dal kernel non appena non ci sarà più la necessità di eseguire programmi con il formato <span class=filename>a.out</span>.</p></div></div><div class=sect2><h3 id=basics-more-information>3.13. Per Maggiori Informazioni<a class=anchor href=#basics-more-information></a></h3><div class=sect3><h4 id=basics-man>3.13.1. Le Pagine Man<a class=anchor href=#basics-man></a></h4><div class=paragraph><p>La documentazione più esauriente su FreeBSD è costituita dalle pagine man. Quasi tutti i programmi sul sistema hanno un piccolo manuale di riferimento che spiega il funzionamento di base e i vari argomenti del programma stesso. Questi manuali possono essere visualizzati con il comando <code>man</code>. L’uso del comando <code>man</code> è semplice:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% man comando</code></pre></div></div><div class=paragraph><p><code>comando</code> è il nome del comando di cui desideri maggiori informazioni. Per esempio, per sapere di più circa il comando <code>ls</code> digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% man <span class=nb>ls</span></code></pre></div></div><div class=paragraph><p>Il manuale in linea è diviso in sezione numerate:</p></div><div class="olist arabic"><ol class=arabic><li><p>Comandi utente.</p></li><li><p>System call e codici di errore.</p></li><li><p>Funzioni della libreria C.</p></li><li><p>Driver dei dispositivi.</p></li><li><p>Formati di file.</p></li><li><p>Giochi e altri passatempo.</p></li><li><p>Informazioni varie.</p></li><li><p>Comandi di mantenimento e di funzionamento del sistema.</p></li><li><p>Sviluppo del kernel.</p></li></ol></div><div class=paragraph><p>In qualche caso, lo stesso soggetto può apparire in più di una sezione del manuale in linea. Per esempio, esiste un comando utente <code>chmod</code> e una system call <code>chmod()</code>. In questo caso, puoi dire al comando <code>man</code> quale vuoi specificando la sezione:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% man 1 <span class=nb>chmod</span></code></pre></div></div><div class=paragraph><p>In questo caso verrà visualizzata la pagina man del comando utente <code>chmod</code>. I riferimenti di una sezione particolare del manuale in linea sono tradizionalmente posti tra parentesi all’interno della documentazione, quindi <a href="https://man.freebsd.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;format=html">chmod(1)</a> fa riferimento al comando utente <code>chmod</code> e <a href="https://man.freebsd.org/cgi/man.cgi?query=chmod&amp;sektion=2&amp;format=html">chmod(2)</a> fa riferimento alla system call.</p></div><div class=paragraph><p>Tutto questo va bene se conosci il nome del comando e desideri semplicemente sapere come usarlo, ma cosa succede se non ricordi il nome del comando? Puoi usare <code>man</code> con l’opzione <code>-k</code> per ricercare tramite parole chiavi nelle descrizioni dei comandi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% man <span class=nt>-k</span> mail</code></pre></div></div><div class=paragraph><p>Con questo comando ti verrà presentata una lista di comandi che hanno la parola chiave "mail" nella loro descrizione. Di fatto questo meccanismo funziona proprio come il comando <code>apropos</code>.</p></div><div class=paragraph><p>Stai dando un’occhiata a tutti quei comandi fantastici che si trovano in <span class=filename>/usr/bin</span> ma non hai la più pallida idea di cosa fanno la maggior parte di essi? Semplicemente digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> /usr/bin
% man <span class=nt>-f</span> <span class=k>*</span></code></pre></div></div><div class=paragraph><p>oppure</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> /usr/bin
% whatis <span class=k>*</span></code></pre></div></div><div class=paragraph><p>che è la stessa cosa.</p></div></div><div class=sect3><h4 id=basics-info>3.13.2. I File Info di GNU<a class=anchor href=#basics-info></a></h4><div class=paragraph><p>FreeBSD include molte applicazioni e utility prodotti dalla Free Software Foundation (FSF). Oltre alle pagine man, questi programmi hanno dei più ampi documenti in ipertesto chiamati file <code>info</code> che possono essere visualizzati con il comando <code>info</code>, o se hai installato emacs, con la modalità info di emacs.</p></div><div class=paragraph><p>Per usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=info&amp;sektion=1&amp;format=html">info(1)</a>, digita semplicemente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% info</code></pre></div></div><div class=paragraph><p>Per una breve introduzione, digita <code>h</code>. Per un rapido riferimento dei comandi, digita <code>?</code>.</p></div></div></div></div></div><div class=sect1><h2 id=ports>Capitolo 4. Installazione delle Applicazioni: Port e Package<a class=anchor href=#ports></a></h2><div class=sectionbody><div class=sect2><h3 id=ports-synopsis>4.1. Sinossi<a class=anchor href=#ports-synopsis></a></h3><div class=paragraph><p>FreeBSD è distribuito con una ricca collezione di strumenti di sistema come parte base del sistema. Comunque, c’è molto che si può fare prima che sia necessario installare un’applicazione aggiuntiva di terze parti. FreeBSD fornisce due tecnologie complementari per installare software di terze parti sul tuo sistema: la FreeBSD Ports Collection (per installare dai sorgenti), ed i package (per installare da binari pre-compilati). Puoi usare entrambi questi sistemi per installare l’ultima versione della tua applicazione preferita dai dispositivi locali o direttamente dalla rete.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come installare i package contenenti i binari delle applicazioni di terze parti.</p></li><li><p>Come compilare le applicazioni di terze parti dai sorgenti usando la collezione dei port.</p></li><li><p>Come rimuovere i package o i port installati in precedenza.</p></li><li><p>Come modificare i valori di default utilizzati dalla collezione dei port.</p></li><li><p>Come trovare un package specifico.</p></li><li><p>Come aggiornare le tue applicazioni.</p></li></ul></div></div><div class=sect2><h3 id=ports-overview>4.2. Uno Sguardo all’Installazione del Software<a class=anchor href=#ports-overview></a></h3><div class=paragraph><p>Se hai già usato un sistema UNIX® prima d’ora saprai che la procedura tipica per installare software di terze parti è simile a questa:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Scaricare il software, che potrebbe essere distribuito sotto forma di codice sorgente, o come binario.</p></li><li><p>Scompattare il software dal suo formato di distribuzione (tipicamente un tarball compresso con <a href="https://man.freebsd.org/cgi/man.cgi?query=compress&amp;sektion=1&amp;format=html">compress(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a>, o con <a href="https://man.freebsd.org/cgi/man.cgi?query=bzip2&amp;sektion=1&amp;format=html">bzip2(1)</a>).</p></li><li><p>Individuare la documentazione (probabilmente un file <span class=filename>INSTALL</span> o un file <span class=filename>README</span>, o qualche file nella sottodirectory <span class=filename>doc/</span>) e leggere come installare il software.</p></li><li><p>Se il software è stato distribuito sotto forma di sorgente, compilarlo. Questa fase può coinvolgere la modifica di un <span class=filename>Makefile</span>, oppure l’esecuzione di uno script <code>configure</code>, e qualche altro lavoro.</p></li><li><p>Installare e testare il software.</p></li></ol></div></div></div><div class=paragraph><p>E questo se tutto va bene. Se stai installando del software di cui non è stato deliberatamente effettuato il porting in FreeBSD potresti perfino dover modificare il codice per farlo funzionare correttamente.</p></div><div class=paragraph><p>Se vuoi, puoi continuare ad installare il software su FreeBSD nel modo "tradizionale". Comunque, FreeBSD fornisce due tecnologie che possono farti risparmiare molti sforzi: i package e i port. Nel momento in cui scrivo, sono disponibili più di FreeBSD.numports; applicazioni di terze parti tramite questi due metodi.</p></div><div class=paragraph><p>Per ogni applicazione, il package di FreeBSD per quella applicazione consiste in un singolo file che devi scaricare. Il package contiene una copia pre-compilata di tutti i comandi dell’applicazione, così come i file di configurazione e di documentazione. Una volta scaricato il package, questo può essere manipolato con i comandi di gestione dei package di FreeBSD, come <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a>, e così via. L’installazione di una nuova applicazione può essere fatta con un singolo comando.</p></div><div class=paragraph><p>In FreeBSD un port di un’applicazione è un insieme di file predisposti per automatizzare il processo di compilazione dell’applicazione partendo dal codice sorgente.</p></div><div class=paragraph><p>Ricorda che ci sono molte fasi che normalmente devi eseguire se vuoi compilare un programma autonomamente (scaricare, scompattare, correggere, compilare, installare). I file che costituiscono un port contengono tutte le informazioni necessarie per permettere al sistema di fare questo lavoro al posto tuo. Tu esegui una manciata di semplici comandi e il codice sorgente dell’applicazione viene automaticamente scaricato, estratto, corretto, compilato, ed installato.</p></div><div class=paragraph><p>Di fatto, il sistema dei port può anche essere usato per generare package che possono essere successivamente manipolati con <code>pkg_add</code> ed altri comandi di gestione dei package che saranno presentati tra poco.</p></div><div class=paragraph><p>Sia i package che i port comprendono il meccanismo delle <em>dipendenze</em>. Supponiamo che tu voglia installare un’applicazione che dipende da un specifica libreria. Sia l’applicazione che la libreria sono disponibili in FreeBSD come port o come package. Se usi il comando <code>pkg_add</code> o il sistema dei port per installare l’applicazione, entrambi noteranno che la libreria non è installata, e automaticamente la installeranno per prima.</p></div><div class=paragraph><p>Dato che le due tecnologie sono abbastanza simili, probabilmente vorrai sapere perché FreeBSD le usa entrambe. I package e i port hanno i loro punti forte, e l’utilizzo dell’uno o dell’altro dipende dalle proprie preferenze personali.</p></div><div class=ulist><div class=title>Benefici dei Package</div><ul><li><p>Il tarball compresso di un package è tipicamente più piccolo del tarball compresso contenente il codice sorgente della stessa applicazione.</p></li><li><p>I package non richiedono alcuna compilazione aggiuntiva. Per grandi applicazioni, come Mozilla, KDE, oppure GNOME questo può essere importante, sopra tutto se usi un sistema lento.</p></li><li><p>I package non richiedono la conoscenza del processo di compilazione del software su FreeBSD.</p></li></ul></div><div class=ulist><div class=title>Benefici dei Port</div><ul><li><p>I package sono normalmente compilati con opzioni conservative, poiché devono poter funzionare su un parco macchine il più ampio possibile. Con l’installazione dai port, puoi aggiustare le opzioni di compilazione per produrre (per esempio) del codice che sia specifico per un Pentium IV o un processore Athlon.</p></li><li><p>Alcune applicazioni hanno delle opzioni attivabili al tempo di compilazione che permettono di modificare il comportamento delle applicazioni stesse. Per esempio, Apache può essere configurato con un’ampia varietà di differenti opzioni built-in. Effettuando la compilazione dal port non sei costretto ad accettare le opzioni di default, e puoi settarle tu stesso.</p><div class=paragraph><p>In alcuni casi, ci possono essere più package per la stessa applicazione a seconda dei settaggi ivi contenuti. Per esempio, Ghostscript è disponibile come package <span class=filename>ghostscript</span> e come package <span class=filename>ghostscript-nox11</span>, a seconda che tu abbia o meno installato un server X11. Questa sorta di adattamento è possibile con i package, ma diviene impossibile nel caso in cui un’applicazione ha più di una o due diverse opzioni che si possono dare al tempo di compilazione.</p></div></li><li><p>Le condizioni di licenza di alcune distribuzioni di software proibiscono la distribuzione dei binari. Tali software devono essere distribuiti come codice sorgente.</p></li><li><p>Alcune persone non si fidano della distribuzione dei binari. Con il codice sorgente, puoi (in teoria) controllare il codice e cercare i suoi potenziali problemi.</p></li><li><p>Se hai delle patch, hai bisogno del sorgente per applicarle.</p></li><li><p>Ad alcune persone piace avere il codice sorgente, in modo tale da poterlo leggerlo se sono annoiati, hackerarlo, prenderne in prestito delle parti (licenza permettendo, naturalmente), e così via.</p></li></ul></div><div class=paragraph><p>Per tenersi al corrente sugli aggiornamenti dei port, iscriviti alla <a href=https://lists.FreeBSD.org/subscription/freebsd-ports>mailing list sui port di FreeBSD</a> e alla <a href=https://lists.FreeBSD.org/subscription/freebsd-ports-bugs>mailing list sui bug dei port di FreeBSD</a>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Prima di installare qualche applicazione, dovresti verificare <a href=http://vuxml.freebsd.org/>http://vuxml.freebsd.org/</a> per eventuali problemi di sicurezza relativi alla tua applicazione.</p></div><div class=paragraph><p>Inoltre puoi installare il port <a class=package href=https://cgit.freebsd.org/ports/tree/security/portaudit/>security/portaudit</a> che verificherà in modo automatico tutte le applicazioni installate a caccia di vulnerabilità note; una verifica verrà fatta anche prima della compilazione dei port. Puoi usare il comando <code>portaudit -F -a</code> dopo che hai installato qualche package.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Il resto del capitolo spiegherà come usare i package ed i port per installare e gestire il software di terze parti su FreeBSD.</p></div></div><div class=sect2><h3 id=ports-finding-applications>4.3. Ricerca della Propria Applicazione<a class=anchor href=#ports-finding-applications></a></h3><div class=paragraph><p>Prima di poter installare delle applicazioni devi sapere quale applicazione ti serve, e come viene chiamata.</p></div><div class=paragraph><p>La lista delle applicazioni disponibili su FreeBSD cresce continuamente. Fortunatamente, ci sono diversi sistemi per trovare quello che ti serve:</p></div><div class=ulist><ul><li><p>Il sito web di FreeBSD mantiene all’indirizzo <a href=https://www.FreeBSD.org/ports/>http://www.FreeBSD.org/ports/</a> una lista aggiornata in cui puoi cercare tutte le applicazioni correntemente disponibili. I port sono divisi in categorie, e puoi sia cercare un’applicazione in base al nome (se lo conosci), sia visionare tutte le applicazioni disponibili in una data categoria.</p></li><li><p>Dan Langille mantiene FreshPort, all’indirizzo <a href=http://www.FreshPorts.org/>http://www.FreshPorts.org/</a>. FreshPort segue in tempo reale i cambiamenti delle applicazioni nell’albero dei port, permettendoti di "controllare" uno o più port, e dandoti la possibilità di essere avvisato tramite email quando questi vengono aggiornati.</p></li><li><p>Se non conosci il nome dell’applicazione che desideri, prova ad usare un sito come FreshMeat (<a href=http://www.freshmeat.net/>http://www.freshmeat.net/</a>) per trovare l’applicazione, quindi controlla sul sito di FreeBSD per vedere se è già stato effettuato il porting.</p></li><li><p>Se sei a conoscenza del nome esatto del port, ma non sai in quale categoria esso sia, puoi usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=whereis&amp;sektion=1&amp;format=html">whereis(1)</a> Semplicemente digita <code>whereis file</code>, dove <em>file</em> è il programma che vuoi installare. Se viene trovato sul tuo sistema, ti verrà indicato dove si trova, in modo simile a quanto segue:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># whereis lsof</span>
lsof: /usr/ports/sysutils/lsof</code></pre></div></div><div class=paragraph><p>Questo ci dice che <code>lsof</code> (un’utility di sistema) si trova nella directory <span class=filename>/usr/ports/sysutils/lsof</span>.</p></div></li><li><p>Un altro modo per trovare un determinato port è quello di usare il meccanismo di ricerca contenuto nella collezione dei port. Per usare questo servizio di ricerca, devi posizionarti nella directory <span class=filename>/usr/ports</span>. Una volta in quella directory, lancia <code>make search name=nome-programma</code> dove <em>nome-programma</em> è il nome del programma che vuoi cercare. Per esempio, se vuoi cercare <code>lsof</code>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports</span>
<span class=c># make search name=lsof</span>
Port:   lsof-4.56.4
Path:   /usr/ports/sysutils/lsof
Info:   Elenca informazioni sui file aperti <span class=o>(</span>simile a fstat<span class=o>(</span>1<span class=o>))</span>
Maint:  obrien@FreeBSD.org
Index:  sysutils
B-deps:
R-deps:</code></pre></div></div><div class=paragraph><p>La parte di output sulla quale devi porre particolare attenzione è la riga "Path:", che ti dice dove puoi trovare il port. Le altre informazioni riportate non sono necessarie per installare il port, e quindi non saranno trattate in questa sede.</p></div><div class=paragraph><p>Inoltre per una ricerca più complessa puoi usare <code>make search key=stringa</code> dove <em>stringa</em> fa parte del testo da cercare. Questo ricerca nei nomi dei port, nei commenti, nelle descrizioni e nelle dipendenze e può essere usato per cercare port che si riferiscono ad un argomento particolare anche se non conosci il nome del programma che stai cercando.</p></div><div class=paragraph><p>In entrambi i casi, la stringa di ricerca è case-insensitive. La ricerca per "LSOF" produrrà gli stessi risultati della ricerca per "lsof".</p></div></li></ul></div></div><div class=sect2><h3 id=packages-using>4.4. Utilizzo del Sistema dei Package<a class=anchor href=#packages-using></a></h3><div class=sect3><h4 id=_installazione_di_un_package>4.4.1. Installazione di un Package<a class=anchor href=#_installazione_di_un_package></a></h4><div class=paragraph><p>Puoi usare l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> per installare un package di FreeBSD da un file locale o da un server sulla rete.</p></div><div class=exampleblock><div class=title>Esempio 5. Scaricare un Package Manualmente e Installarlo da Locale</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ftp -a ftp2.FreeBSD.org</span>
Connected to ftp2.FreeBSD.org.
220 ftp2.FreeBSD.org FTP server <span class=o>(</span>Version 6.00LS<span class=o>)</span> ready.
331 Guest login ok, send your email address as password.
230-
230-     This machine is <span class=k>in </span>Vienna, VA, USA, hosted by Verio.
230-         Questions? E-mail freebsd@vienna.verio.net.
230-
230-
230 Guest login ok, access restrictions apply.
Remote system <span class=nb>type </span>is UNIX.
Using binary mode to transfer files.
ftp&gt; <span class=nb>cd</span> /pub/FreeBSD/ports/packages/sysutils/
250 CWD <span class=nb>command </span>successful.
ftp&gt; get lsof-4.56.4.tgz
<span class=nb>local</span>: lsof-4.56.4.tgz remote: lsof-4.56.4.tgz
200 PORT <span class=nb>command </span>successful.
150 Opening BINARY mode data connection <span class=k>for</span> <span class=s1>&#39;lsof-4.56.4.tgz&#39;</span> <span class=o>(</span>92375 bytes<span class=o>)</span><span class=nb>.</span>
100% |<span class=k>**************************************************</span>| 92375       00:00 ETA
226 Transfer complete.
92375 bytes received <span class=k>in </span>5.60 seconds <span class=o>(</span>16.11 KB/s<span class=o>)</span>
ftp&gt; <span class=nb>exit</span>
<span class=c># pkg_add lsof-4.56.4.tgz</span></code></pre></div></div></div></div><div class=paragraph><p>Se non hai una raccolta di package locale (per esempio il set dei CDROM di FreeBSD) allora probabilmente ti risulterà più facile usare <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> con l’opzione <code>-r</code>. In questo modo <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> determina automaticamente la corretta release e il giusto formato dell’oggetto, quindi scarica il package da un sito FTP e lo installa.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r lsof</span></code></pre></div></div><div class=paragraph><p>L’esempio qui sopra scarica il giusto package e lo installa senza nessun ulteriore intervento. Se vuoi specificare un sito mirror dei package di FreeBSD alternativo, invece del sito di distibuzione principale, devi settare la variabile <code>PACKAGESITE</code> come desiderato, in modo tale da sovrascrivere i settaggi di default. <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> usa <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=3&amp;format=html">fetch(3)</a> per scaricare i file, il quale rispetta varie variabili d’ambiente, incluse <code>FTP_PASSIVE_MODE</code>, <code>FTP_PROXY</code>, e <code>FTP_PASSWORD</code>. Puoi aver bisogno di settarne qualcuna se la tua macchina è dietro un firewall, o se utilizzi un proxy FTP/HTTP. Leggi <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=3&amp;format=html">fetch(3)</a> per la lista completa. Nell’esempio precedente si può anche notare che viene usato <code>lsof</code> al posto di <code>lsof-4.56.4</code>. Quando viene usata la modalità di prelevamento da remoto, il numero di versione del package non deve essere specificato. <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> prenderà automaticamente l’ultima versione dell’applicazione.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> scaricherà la versione più recente della tua applicazione solo se stai usando FreeBSD.current; o FreeBSD.stable;. Se stai utilizzando una versione -RELEASE, allora verrà scaricata la versione del package che è stato costruito per la tua release. Tuttavia è possibile cambiare questo comportamento modificando la variabile di ambiente <code>PACKAGESITE</code> in modo opportuno. Per esempio, se hai un un sistema FreeBSD 5.4-RELEASE, di default <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> tenterà di scaricare i package da <code><a href=ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-5.4-release/Latest/ class=bare>ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-5.4-release/Latest/</a></code>. Se vuoi forzare <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> a scaricare i package di FreeBSD 5-STABLE, setta <code>PACKAGESITE</code> a <code><a href=ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-5-stable/Latest/ class=bare>ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-5-stable/Latest/</a></code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>I file dei package sono distribuiti nel formato <span class=filename>.tgz</span>. Puoi trovarli in <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/>ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/</a>, oppure sui CDROM della distribuzione di FreeBSD. Ogni CD contenuto nel set dei quattro CD (e nel PowerPak, ecc.) contiene i package nella directory <span class=filename>/packages</span>. La disposizione dei package è simile a quella dell’albero <span class=filename>/usr/ports</span>. Ogni categoria ha la propria directory, ed ogni package può essere trovato dentro la directory <span class=filename>All</span>.</p></div><div class=paragraph><p>La struttura delle directory del sistema dei package eguaglia quella dei port; questi due sistemi lavorano l’uno con l’altro per formare l’intero sistema dei package/port.</p></div></div><div class=sect3><h4 id=_gestione_dei_package>4.4.2. Gestione dei Package<a class=anchor href=#_gestione_dei_package></a></h4><div class=paragraph><p>L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> elenca e descrive i vari package installati.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info</span>
cvsup-16.1          Un comune sistema di distribuzione dei file <span class=k>in </span>rete ottimizzato per CVS
docbook-1.2         Meta-port delle varie versioni del DTD DocBook
...</code></pre></div></div><div class=paragraph><p>L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_version&amp;sektion=1&amp;format=html">pkg_version(1)</a> riassume le versioni di tutti i package installati. Paragona le versioni dei package con le versioni correnti trovate nell’albero dei port.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_version</span>
cvsup                       <span class=o>=</span>
docbook                     <span class=o>=</span>
...</code></pre></div></div><div class=paragraph><p>I simboli nella seconda colonna indicano il risultato del confronto tra la versione installata e quella disponibile in locale nell’albero dei port.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Simbolo</th><th class="tableblock halign-left valign-top">Significato</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>=</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Le versioni del package installato e di quello disponibile in locale nell’albero dei port sono uguali.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>&lt;</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La versione installata è precedente a quella disponibile nell’albero dei port.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La versione installata è più aggiornata di quella trovata in locale nell’albero dei port. (L’albero dei port locale è probabilmente da aggiornare)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>?</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il package installato non può essere trovato nell’indice dei port. (Questo può succedere, per esempio, se un port installato viene rimosso dalla collezione dei port oppure viene rinominato.)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>*</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ci sono più versioni del package.</p></td></tr></tbody></table></div><div class=sect3><h4 id=_cancellazione_di_un_package>4.4.3. Cancellazione di un Package<a class=anchor href=#_cancellazione_di_un_package></a></h4><div class=paragraph><p>Per rimuovere un package installato in precedenza, usa l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_delete xchat-1.7.1</span></code></pre></div></div></div><div class=sect3><h4 id=_miscellanea>4.4.4. Miscellanea<a class=anchor href=#_miscellanea></a></h4><div class=paragraph><p>Tutte le informazioni sui package sono memorizzate nella directory <span class=filename>/var/db/pkg</span>. La lista dei file installati e le descrizioni di ogni package possono essere trovate all’interno dei file di questa directory.</p></div></div></div><div class=sect2><h3 id=ports-using>4.5. Utilizzo della Collezione dei Port<a class=anchor href=#ports-using></a></h3><div class=paragraph><p>Le sezioni seguenti forniscono le istruzioni basilari sull’uso della collezione dei port per installare e rimuovere programmi dal tuo sistema.</p></div><div class=sect3><h4 id=ports-tree>4.5.1. Ottenimento della Collezione dei Port<a class=anchor href=#ports-tree></a></h4><div class=paragraph><p>Prima che tu possa installare i port, devi procurarti la collezione dei port-che essenzialmente è un set di <span class=filename>Makefiles</span>, patch, e file di descrizione collocati in <span class=filename>/usr/ports</span>.</p></div><div class=paragraph><p>Durante l’installazione del tuo sistema FreeBSD, sysinstall ti ha chiesto se volevi installare la collezione dei port. Se hai rifiutato, puoi seguire queste istruzioni per ottenerla:</p></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Il Metodo Sysinstall</strong></p></div><div class=paragraph><p>Questo metodo richiede ancora l’uso di sysinstall per installare manualmente la collezione dei port.</p></div><div class="olist arabic"><ol class=arabic><li><p>Esegui da <code>root sysinstall</code> (<code>/stand/sysinstall</code> nelle versioni di FreeBSD precedenti alla 5.2) come mostrato qui sotto:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysinstall</span></code></pre></div></div></li><li><p>Scorri verso il basso e seleziona <span class=guimenuitem>Configure</span>, premi <kbd>Invio</kbd>.</p></li><li><p>Scorri verso il basso e seleziona <span class=guimenuitem>Distributions</span>, premi <kbd>Invio</kbd>.</p></li><li><p>Scorri verso il basso fino a <span class=guimenuitem>ports</span>, premi <kbd>Spazio</kbd>.</p></li><li><p>Scorri verso l’alto fino a <span class=guimenuitem>Exit</span>, premi <kbd>Invio</kbd>.</p></li><li><p>Seleziona il modo di installazione desiderato, come CDROM, FTP, e così via.</p></li><li><p>Scorri verso l’alto fino a <span class=guimenuitem>Exit</span> e premi <kbd>Invio</kbd>.</p></li><li><p>Premi <kbd>X</kbd> per uscire da sysinstall.</p></li></ol></div></div></div><div class=paragraph><p>Un altro metodo per ottenere la tua collezione dei port e per mantenerla aggiornata consiste nell’utilizzo di CVSup. Dai un’occhiata al file di CVSup riguardante i port, <span class=filename>/usr/shared/examples/cvsup/ports-supfile</span>. Guarda <a href=./#cvsup>Usare CVSup</a> (<a href=./#cvsup>Uso di CVSup</a>) per maggiori informazioni sull’uso di CVSup e del file menzionato.</p></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Il Metodo CVSup</strong></p></div><div class=paragraph><p>Questo è un rapido metodo che utilizza CVSup per ottenere la collezione dei port. Se vuoi mantenere il tuo albero dei port aggiornato, o imparare di più su CVSup, leggi la sezione menzionata in precedenza.</p></div><div class="olist arabic"><ol class=arabic><li><p>Installa il package <a class=package href=https://cgit.freebsd.org/ports/tree/net/cvsup-without-gui/>net/cvsup-without-gui</a>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r cvsup-without-gui</span></code></pre></div></div><div class=paragraph><p>Guarda <a href=./#cvsup-install>Installazione di CVSup</a> (<a href=./#cvsup-install>Installazione</a>) per maggiori dettagli.</p></div></li><li><p>Esegui <code>cvsup</code>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cvsup -L 2 -h cvsup.FreeBSD.org /usr/shared/examples/cvsup/ports-supfile</span></code></pre></div></div><div class=paragraph><p>Cambia <em>cvsup.FreeBSD.org</em> in un server CVSup vicino a te. Guarda <a href=./#cvsup-mirrors>Mirror CVSup</a> (<a href=./#cvsup-mirrors>Siti CVSup</a>) per una lista completa dei siti mirror.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Qualcuno potrebbe voler usare il suo <span class=filename>ports-supfile</span>, per esempio per evitare di passare il server CVSup su linea di comando.</p></div><div class="olist loweralpha procedure"><ol class=loweralpha type=a><li><p>In questo caso, da <code>root</code>, copia <span class=filename>/usr/shared/examples/cvsup/ports-supfile</span> in una nuova locazione, come <span class=filename>/root</span> o la tua directory home.</p></li><li><p>Modifica <span class=filename>ports-supfile</span>.</p></li><li><p>Cambia <em>CHANGE_THIS.FreeBSD.org</em> in un server CVSup vicino a te. Guarda <a href=./#cvsup-mirrors>Mirror CVSup</a> (<a href=./#cvsup-mirrors>Siti CVSup</a>) per una lista completa di siti mirror.</p></li><li><p>E ora esegui <code>cvsup</code>, in questo modo:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cvsup -L 2 /root/ports-supfile</span></code></pre></div></div></li></ol></div></td></tr></tbody></table></div></li><li><p>Poco dopo aver eseguito il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=cvsup&amp;sektion=1&amp;format=html">cvsup(1)</a> verranno scaricate e applicate alla tua collezione dei port tutte le modifiche recenti, anche se di fatto i port già compilati sul tuo sistema non verranno aggiornati.</p></li></ol></div></div></div></div><div class=sect3><h4 id=ports-skeleton>4.5.2. Installazione dei Port<a class=anchor href=#ports-skeleton></a></h4><div class=paragraph><p>La prima cosa che dovrebbe essere chiara quando si ha a che fare con la collezione dei port è l’effettivo significato di "scheletro" di un port. Brevemente, lo scheletro di un port è un insieme minimo di file che dice al tuo sistema FreeBSD come compilare ed installare un programma in modo pulito. Ogni scheletro di un port include:</p></div><div class=ulist><ul><li><p>Un <span class=filename>Makefile</span>. Il <span class=filename>Makefile</span> contiene varie espressioni che specificano come l’applicazione deve essere compilata e dove deve essere installata sul tuo sistema.</p></li><li><p>Un file <span class=filename>distinfo</span>. Questo file contiene informazioni sui file che devono essere scaricati per la compilazione del port e sui loro checksum (somme di controllo), utilizzati per verificare che quei file non siano stati corrotti durante il download.</p></li><li><p>Una directory <span class=filename>files</span>. Questa directory contiene le patch utilizzate per la compilazione e per l’installazione del programma sul tuo sistema FreeBSD. Le patch sono sostanzialmente piccoli file che specificano come modificare alcuni file. Sono in puro formato di testo, e in modo grossolano dicono "Rimuovi la riga 10" o "Cambia la riga 26 in …​". Le patch sono anche conosciute con il termine "diff" poichè sono generate dal programma <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a>.</p><div class=paragraph><p>Questa directory può anche contenere altri file utilizzati per la costruzione del port.</p></div></li><li><p>Un file <span class=filename>pkg-descr</span>. Questo file contiene una descrizione del programma più dettagliata, spesso su più righe di testo.</p></li><li><p>Un file <span class=filename>pkg-plist</span>. Questo file contiene l’elenco di tutti i file che saranno installati dal port. Dice anche al sistema dei port quale file rimuovere durante la disinstallazione.</p></li></ul></div><div class=paragraph><p>Alcuni port hanno altri file, come <span class=filename>pkg-message</span>. Il sistema dei port li usa per affrontare speciali situazioni. Se vuoi maggiori dettagli su questi file, e sui port in generale, leggi attentamente il <a href=https://docs.freebsd.org/en/books/porters-handbook/>Manuale del Porter di FreeBSD</a>.</p></div><div class=paragraph><p>Il port include istruzioni su come compilare il codice sorgente, ma non include il codice sorgente stesso. Devi prendere il codice sorgente da un CDROM o da Internet. L’autore del codice sorgente può distribuirlo come desidera. Quasi sempre è un file di archivio tar compresso con gzip, ma potrebbe essere stato compresso con un altro tool o perfino potrebbe essere non compresso. Il codice sorgente del programma, in qualsiasi forma sia, è chiamato con il termine "distfile". I due metodi per installare un port di FreeBSD sono descritti qui sotto.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Devi essere <code>root</code> per installare i port.</p></div></td></tr></tbody></table></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Prima di installare qualche port, dovresti assicurarti di avere l’albero della collezione dei port aggiornato e dovresti verificare <a href=http://vuxml.freebsd.org/>http://vuxml.freebsd.org/</a> per eventuali problemi di sicurezza relativi alla tua applicazione.</p></div><div class=paragraph><p>Una verifica delle vulnerabilità di sicurezza può essere fatta in modo automatico con portaudit prima dell’installazione di nuove applicazioni. Questo strumento può essere trovato nella collezione dei port (<a class=package href=https://cgit.freebsd.org/ports/tree/security/portaudit/>security/portaudit</a>). Esegui <code>portaudit -F</code> prima di installare un nuovo port, per aggiornare la base di dati delle vulnerabilità. Durante la verifica giornaliera del sistema verrà fatto un controllo di integrità e un aggiornamento della base di dati delle vulnerabilità. Per maggiori informazioni leggi le pagine man <a href="https://man.freebsd.org/cgi/man.cgi?query=portaudit&amp;sektion=1&amp;format=html">portaudit(1)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a>.</p></div></td></tr></tbody></table></div><div class=sect4><h5 id=ports-cd>4.5.2.1. Installazione dei Port dal CDROM<a class=anchor href=#ports-cd></a></h5><div class=paragraph><p>Le immagini ufficiali su CDROM del progetto FreeBSD non includono più i distfile. Occupano molto spazio che è meglio utilizzato per i package precompilati. I prodotti su CDROM come il FreeBSD PowerPak includono i distfile, e puoi ordinare questi set da un venditore come <a href=http://www.freebsdmall.com/>FreeBSD Mall</a>. Questa sezione presuppone che tu abbia un simile set di CDROM di FreeBSD.</p></div><div class=paragraph><p>Metti il tuo CDROM di FreeBSD nell’apposito lettore. Montalo su <span class=filename>/cdrom</span>. (Se usi un punto di mount differente, setta la variabile make <code>CD_MOUNTPTS</code>.) Per prima cosa, vai nella directory del port che vuoi installare:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/sysutils/lsof</span></code></pre></div></div><div class=paragraph><p>Una volta dentro la directory <span class=filename>lsof</span>, vedrai lo scheletro del port. Il prossimo passo riguarda la compilazione, o "costruzione", del port. Questo viene fatto semplicemente digitando <code>make</code> al prompt. Una volta che hai fatto questo, dovresti vedere qualcosa simile a quanto segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make</span>
<span class=o>&gt;&gt;</span> lsof_4.57D.freebsd.tar.gz doesn<span class=s1>&#39;t seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from file:/cdrom/ports/distfiles/.
===&gt;  Extracting for lsof-4.57
...
[l&#39;</span>output dell<span class=s1>&#39;estrazione è stato tagliato]
...
&gt;&gt; Checksum OK for lsof_4.57D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.57
===&gt;  Applying FreeBSD patches for lsof-4.57
===&gt;  Configuring for lsof-4.57
...
[l&#39;</span>output della configurazione è stato tagliato]
...
<span class=o>===&gt;</span>  Building <span class=k>for </span>lsof-4.57
...
<span class=o>[</span>l<span class=s1>&#39;output della compilazione è stato tagliato]
...
#</span></code></pre></div></div><div class=paragraph><p>Nota che una volta terminata la compilazione ritornerai al tuo prompt. Il prossimo passo riguarda l’installazione del port. Per installarlo, devi semplicemente affiancare una parola al comando <code>make</code>, e questa parola è <code>install</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make install</span>
<span class=o>===&gt;</span>  Installing <span class=k>for </span>lsof-4.57
...
<span class=o>[</span>l<span class=s1>&#39;output dell&#39;</span>installazione è stato tagliato]
...
<span class=o>===&gt;</span>   Generating temporary packing list
<span class=o>===&gt;</span>   Compressing manual pages <span class=k>for </span>lsof-4.57
<span class=o>===&gt;</span>   Registering installation <span class=k>for </span>lsof-4.57
<span class=o>===&gt;</span>  SECURITY NOTE:
      I binari di questo port richiedono l<span class=s1>&#39;esecuzione con alti privilegi.
#</span></code></pre></div></div><div class=paragraph><p>Quando ritornerai al tuo prompt, dovresti essere in grado di eseguire l’applicazione che hai appena installato. Siccome <code>lsof</code> è un programma che lavora con alti privilegi, viene mostrato un avvertimento di sicurezza. Durante la compilazione e l’installazione dei port, dovresti fare attenzione ad ogni avvertimento che appare.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Potresti anche evitare un passaggio lanciando solamente <code>make install</code> invece dei due passi separati <code>make</code> e <code>make install</code>.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcune shell mantengono una cache dei comandi che sono disponibili nelle directory elencate nella variabile d’ambiente <code>PATH</code>, per velocizzare le operazioni di ricerca dei file eseguibili di questi comandi. Se stai usando una di queste shell, potresti dover usare il comando <code>rehash</code> dopo l’installazione di un port, prima di poter usare il nuovo comando. Questo comando funzionerà per le shell come <code>tcsh</code>. Usa il comando <code>hash -r</code> per le shell come <code>sh</code> o <a class=package href=https://cgit.freebsd.org/ports/tree/shells/bash/>shells/bash</a>. Per maggiori informazioni guarda la documentazione della tua shell.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per cortesia sii consapevole che le licenze di alcuni port non permettono l’inclusione degli stessi sul CDROM. Questa limitazione potrebbe essere dovuta dalla necessità di compilare un form di registrazione prima di scaricare il software, o perché la ridistribuzione non è permessa, o per altre ragioni. Se desideri installare un port non incluso nel CDROM, dovrai essere collegato ad Internet per farlo (vedi la <a href=#ports-inet>prossima sezione</a>).</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=ports-inet>4.5.2.2. Installazione dei Port da Internet<a class=anchor href=#ports-inet></a></h5><div class=paragraph><p>Questa sezione presuppone che tu abbia una connessione ad Internet funzionante. Se non ce l’hai, dovrai utilizzare <a href=#ports-cd>l’installazione da CDROM</a>, oppure dovrai copiare manualmente il distfile in <span class=filename>/usr/ports/distfiles</span>.</p></div><div class=paragraph><p>L’installazione di un port da Internet viene fatta nello stesso modo con cui viene fatta l’installazione da CDROM. L’unica differenza tra i due modi è che il distfile del port viene preso da Internet invece che dal CDROM.</p></div><div class=paragraph><p>I passi richiesti sono gli stessi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make install</span>
<span class=o>&gt;&gt;</span> lsof_4.57D.freebsd.tar.gz doesn<span class=s1>&#39;t seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/.
Receiving lsof_4.57D.freebsd.tar.gz (439860 bytes): 100%
439860 bytes transferred in 18.0 seconds (23.90 kBps)
===&gt;  Extracting for lsof-4.57
...
[l&#39;</span>output dell<span class=s1>&#39;estrazione è stato tagliato]
...
&gt;&gt; Checksum OK for lsof_4.57D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.57
===&gt;  Applying FreeBSD patches for lsof-4.57
===&gt;  Configuring for lsof-4.57
...
[l&#39;</span>output della configurazione è stato tagliato]
...
<span class=o>===&gt;</span>  Building <span class=k>for </span>lsof-4.57
...
<span class=o>[</span>l<span class=s1>&#39;output della compilazione è stato tagliato]
...
===&gt;  Installing for lsof-4.57
...
[l&#39;</span>output dell<span class=s1>&#39;installazione è stato tagliato]
...
===&gt;   Generating temporary packing list
===&gt;   Compressing manual pages for lsof-4.57
===&gt;   Registering installation for lsof-4.57
===&gt;  SECURITY NOTE:
      I binari di questo port richiedono l&#39;</span>esecuzione con alti privilegi.
<span class=c>#</span></code></pre></div></div><div class=paragraph><p>Come puoi vedere, la sola differenza sta nella riga che dice da dove il sistema sta ottenendo il distfile del port.</p></div><div class=paragraph><p>Il sistema dei port usa <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=1&amp;format=html">fetch(1)</a> per scaricare i file, il quale rispetta varie variabili d’ambiente, incluse <code>FTP_PASSIVE_MODE</code>, <code>FTP_PROXY</code>, e <code>FTP_PASSWORD</code>. Puoi aver bisogno di settarne qualcuna se sei dietro a un firewall, o se usi un proxy FTP/HTTP. Guarda <a href="https://man.freebsd.org/cgi/man.cgi?query=fetch&amp;sektion=3&amp;format=html">fetch(3)</a> per la lista completa.</p></div><div class=paragraph><p>Gli utenti che non possono essere sempre connessi ad Internet possono usare l’opzione <code>make fetch</code>. Esegui tale comando in cima alla directory (<span class=filename>/usr/ports</span>) e i file richiesti saranno scaricati. Questo comando funziona anche nelle categorie di livello inferiore, per esempio: <span class=filename>/usr/ports/net</span>. Nota che se un port dipende da una libreria o da altri port, quel comando <em>non</em> preleverà anche i distfile di questi port. Sostituisci <code>fetch</code> con <code>fetch-recursive</code> se vuoi prelevare anche tutte le dipendenze di un port.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Puoi compilare tutti i port di una categoria o perfino tutti i port eseguendo <code>make</code> in cima alla directory, in modo simile a quanto fatto per il suddetto metodo <code>make fetch</code>. Comunque, questo è rischioso poichè alcuni port non possono coesistere. Inoltre, alcuni port potrebbero richiedere di installare due diversi file con lo stesso nome.</p></div></td></tr></tbody></table></div><div class=paragraph><p>In alcuni casi rari, gli utenti potrebbero voler acquisire i tarball da un sito diverso dal <code>MASTER_SITES</code> (la locazione di default dove i file sono scaricati). Puoi sovrascrivere l’opzione <code>MASTER_SITES</code> con il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/directory</span>
<span class=c># make MASTER_SITE_OVERRIDE= \</span>
ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/ fetch</code></pre></div></div><div class=paragraph><p>In questo esempio abbiamo settato <code>MASTER_SITES</code> a <code>ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcuni port permettono (o perfino richiedono) l’impostazione di alcune opzioni di compilazione che abilitano/disabilitano parti dell’applicazione opzionali, settaggi di sicurezza, e altre personalizzazioni. Alcune applicazioni che mi vengono in mente sono <a class=package href=https://cgit.freebsd.org/ports/tree/www/mozilla/>www/mozilla</a>, <a class=package href=https://cgit.freebsd.org/ports/tree/security/gpgme/>security/gpgme</a>, e <a class=package href=https://cgit.freebsd.org/ports/tree/mail/sylpheed-claws/>mail/sylpheed-claws</a>. Quando sono disponibili simili opzioni viene visualizzato un messaggio.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=_cambiare_le_directory_dei_port_di_default>4.5.2.3. Cambiare le Directory dei Port di Default<a class=anchor href=#_cambiare_le_directory_dei_port_di_default></a></h5><div class=paragraph><p>Qualche volta è utile (o necessario) utilizzare directory per i distfile e i port diverse da quelle di default. Le variabili <code>PORTSDIR</code> e <code>PREFIX</code> possono sovrascrivere le directory di default. Per esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make PORTSDIR=/usr/home/example/ports install</span></code></pre></div></div><div class=paragraph><p>compilerà il port in <span class=filename>/usr/home/example/ports</span> e installerà ogni cosa sotto <span class=filename>/usr/local</span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make PREFIX=/usr/home/example/local install</span></code></pre></div></div><div class=paragraph><p>compilerà in <span class=filename>/usr/ports</span> ed installerà in <span class=filename>/usr/home/example/local</span>.</p></div><div class=paragraph><p>E naturalmente,</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make PORTSDIR=../ports PREFIX=../local install</span></code></pre></div></div><div class=paragraph><p>è una combinazione dei due (è troppo lungo da scrivere per intero su questa pagina, ma dovrebbe darti lo stesso un’idea generale).</p></div><div class=paragraph><p>Alternativamente, queste variabili potrebbero essere settate nel tuo ambiente. Leggi la pagina man della tua shell per sapere come fare.</p></div></div><div class=sect4><h5 id=_avere_a_che_fare_con_imake>4.5.2.4. Avere a che Fare con <code>imake</code><a class=anchor href=#_avere_a_che_fare_con_imake></a></h5><div class=paragraph><p>Alcuni port che usano <code>imake</code> (una parte dell’X Window System) non funzionano bene con <code>PREFIX</code>, e si ostinano ad installarsi sotto <span class=filename>/usr/X11R6</span>. In modo analogo, alcuni port di Perl ignorano <code>PREFIX</code> e si installano nell’albero del Perl. Far rispettare a questi port <code>PREFIX</code> è spesso un lavoro difficile o persino impossibile.</p></div></div></div><div class=sect3><h4 id=ports-removing>4.5.3. Rimozione dei Port Installati<a class=anchor href=#ports-removing></a></h4><div class=paragraph><p>Ora che sai come installare i port, probabilmente ti chiederai come rimuoverli, caso mai ne installassi uno e successivamente ti accorgessi che hai installato il port sbagliato. Rimuoveremo il port utilizzato nel nostro esempio precedente (che era <code>lsof</code> se non sei stato attento). Come con l’installazione dei port, la prima cosa che devi fare è andare nella directory del port, <span class=filename>/usr/ports/sysutils/lsof</span>. Dopo aver cambiato directory, sei pronto per disinstallare <code>lsof</code>. Questo viene fatto con il comando <code>make deinstall</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/sysutils/lsof</span>
<span class=c># make deinstall</span>
<span class=o>===&gt;</span>  Deinstalling <span class=k>for </span>lsof-4.57</code></pre></div></div><div class=paragraph><p>È stato abbastanza facile. In questo modo hai rimosso <code>lsof</code> dal tuo sistema. Se volessi reinstallarlo, puoi farlo lanciando <code>make reinstall</code> dalla directory <span class=filename>/usr/ports/sysutils/lsof</span>.</p></div><div class=paragraph><p>Le sequenze <code>make deinstall</code> e <code>make reinstall</code> non funzionano più una volta che hai dato un <code>make clean</code>. Se vuoi disinstallare un port dopo un <code>make clean</code>, usa <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_delete&amp;sektion=1&amp;format=html">pkg_delete(1)</a> come discusso nella <a href=#packages-using>sezione del Manuale riguardante i Package</a>.</p></div></div><div class=sect3><h4 id=ports-disk-space>4.5.4. Port e Spazio su Disco<a class=anchor href=#ports-disk-space></a></h4><div class=paragraph><p>Usando la collezione dei port con il passare del tempo puoi facilmente esaurire lo spazio del tuo disco. Infatti compilando ed installando software con i port, l’albero dei port tende ad aumentare in dimensioni, quindi dovresti sempre ricordarti di ripulire le directory temporanee <span class=filename>work</span> usando il comando <code>make clean</code>. Questo rimuoverà la directory <span class=filename>work</span> dopo che un port è stato compilato ed installato. Inoltre puoi rimuovere i file sorgenti della distribuzione dalla directory <span class=filename>distfiles</span>, e rimuovere i port installati che non sono più utilizzati.</p></div><div class=paragraph><p>Alcuni utenti limitano le categorie dei port disponibili mettendo un elemento nel file <span class=filename>refuse</span>. In questo modo, quando viene eseguita l’applicazione CVSup, questa non scaricherà i file delle categorie specificate nel file <span class=filename>refuse</span>. Maggiori informazioni riguardo il file <span class=filename>refuse</span> possono essere trovate nella <a href=./#cvsup-refuse-file>Il File refuse</a>.</p></div></div><div class=sect3><h4 id=ports-upgrading>4.5.5. Aggiornamento dei Port<a class=anchor href=#ports-upgrading></a></h4><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Dopo che hai aggiornato la tua collezione dei port, prima di tentare di aggiornare un port, dovresti verificare il file <span class=filename>/usr/ports/UPDATING</span>. Questo file riporta alcuni problemi che gli utenti potrebbero incontrare durante l’aggiornamento di un port con le relative soluzioni.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Mantenere i tuoi port aggiornati può essere un lavoro noioso. Per esempio, per aggiornare dovresti andare nella directory del port, compilare il port, disinstallare il vecchio port, installare quello nuovo, e quindi ripulire la directory di lavoro. Immagina di fare tutto ciò per cinque port, noioso vero? Questo era uno dei maggiori problemi per gli amministratori di sistema, e ora abbiamo strumenti che fanno questo lavoro per noi. Per esempio l’utility <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/portupgrade/>sysutils/portupgrade</a> fa tutto questo! Installalo come qualsiasi altro port, usando il comando <code>make install clean</code>.</p></div><div class=paragraph><p>Ora crea un database con il comando <code>pkgdb -F</code>. Verrà letta la lista dei port installati e verrà creato un file database nella directory <span class=filename>/var/db/pkg</span>. D’ora in avanti, quando esegui <code>portupgrade -a</code>, questo leggerà il database e il file dei port <span class=filename>INDEX</span>. Infine, portupgrade incomincerà a scaricare, compilare, effettuare backup, installare, e ripulire i port che devono essere aggiornati. portupgrade è fornito di molte opzioni a seconda dei casi di utilizzo, tra i quali uno è particolarmente importante.</p></div><div class=paragraph><p>Se vuoi aggiornare solo una determinata applicazione, e non il database completo, usa <code>portupgrade pkgname</code>, con l’opzione <code>-r</code> se portupgrade dovrebbe agire anche su tutti i package che dipendono dal dato package, o con l’opzione <code>-R</code> per agire su tutti i package richiesti dal dato package.</p></div><div class=paragraph><p>Per usare i package invece dei port nell’installazione, usa l’opzione <code>-P</code>. Con questa opzione portupgrade cerca nelle directory locali elencate in <code>PKG_PATH</code>, o, se non sono stati trovati localmente, scarica i package da un sito. Se i package non sono stati trovati localmente ne è stato possibile scaricarli in remoto, portupgrade userà i port. Per impedire l’uso dei port, usa l’opzione <code>-PP</code>.</p></div><div class=paragraph><p>Per scaricare solo i distfile (o i package, se è stata specificata l’opzione <code>-P</code>) senza compilare o installare nulla, usa l’opzione <code>-F</code>. Per maggiori informazioni guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=portupgrade&amp;sektion=1&amp;format=html">portupgrade(1)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>È importante aggiornare in modo regolare il database dei package usando il comando <code>pkgdb -F</code> per rattoppare eventuali incoerenze, specialmente quando portupgrade te lo chiede. Non interrompere portupgrade mentre sta aggiornando il database dei package, poichè ciò comporterà un database inconsistente.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Esistono altre utility che fanno simili lavori, controlla la directory <span class=filename>ports/sysutils</span> e guarda se ti viene qualche idea.</p></div></div></div><div class=sect2><h3 id=ports-nextsteps>4.6. Attività del Dopo Installazione<a class=anchor href=#ports-nextsteps></a></h3><div class=paragraph><p>Di solito dopo aver installato una nuova applicazione dovresti leggere la documentazione che potrebbe essere stata inclusa, modificare qualche file di configurazione, assicurarti che l’applicazione parta nella fase di avvio (se è un demone), e così via;.</p></div><div class=paragraph><p>I passi precisi che devi seguire per configurare un’applicazione sono ovviamente diversi da applicazione a applicazione. Comunque, se hai appena installato una nuova applicazione e ti stai chiedendo "Cosa faccio ora?" questi consigli potrebbero aiutarti:</p></div><div class=ulist><ul><li><p>Usa <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_info&amp;sektion=1&amp;format=html">pkg_info(1)</a> per scoprire quali file sono stati installati, e dove sono stati installati. Per esempio, se hai appena installato la versione 1.0.0 di FooPackage, allora questo comando</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info -L foopackage-1.0.0 | less</span></code></pre></div></div><div class=paragraph><p>mostrerà tutti i file installati dal package. Fai molta attenzione ai file nelle directory <span class=filename>man/</span>, che sono le pagine man, a quelli nella directory <span class=filename>etc/</span>, che sono i file di configurazione, e a quelli in <span class=filename>doc/</span>, che forniscono una documentazione più esauriente.</p></div><div class=paragraph><p>Se non sei sicuro della versione dell’applicazione che hai appena installato, questo comando</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info | grep foopackage</span></code></pre></div></div><div class=paragraph><p>troverà tutti i package installati che contengono nel nome <em>foopackage</em>. Rimpiazza <em>foopackage</em> nella tua riga di comando a seconda delle tue necessità.</p></div></li><li><p>Una volta che hai scoperto dove sono state posizionate le pagine man dell’applicazione, esaminale usando <a href="https://man.freebsd.org/cgi/man.cgi?query=man&amp;sektion=1&amp;format=html">man(1)</a>. Analogamente, esamina i file di configurazione d’esempio, ed ogni ulteriore documentazione che può essere stata fornita.</p></li><li><p>Se l’applicazione ha un sito web, cerca della documentazione aggiuntiva, le domande più frequenti (FAQ), ed altro ancora. Se non sei sicuro dell’indirizzo del sito web questo potrebbe essere presente nell’output di</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_info foopackage-1.0.0</span></code></pre></div></div><div class=paragraph><p>Una riga contenete <code>WWW:</code>, se presente, dovrebbe fornire l’URL del sito dell’applicazione.</p></div></li><li><p>I port che dovrebbero avviarsi in fase di avvio (come i server Internet) di solito installano uno script di esempio in <span class=filename>/usr/local/etc/rc.d</span>. Dovresti verificare questo script ed eventualmente modificarlo o rinominarlo. Vedi la sezione <a href=./#configtuning-starting-services>Avvio dei Servizi</a> per maggiori informazioni.</p></li></ul></div></div><div class=sect2><h3 id=ports-broken>4.7. Avere a che Fare con Port non Funzionanti<a class=anchor href=#ports-broken></a></h3><div class=paragraph><p>Se ti dovessi imbattere in un port che per te non funziona, ci sono alcune cose che puoi fare, tra le quali:</p></div><div class="olist arabic"><ol class=arabic><li><p>Scopri se c’è una soluzione pendente per il port nel <a href=https://www.FreeBSD.org/support/#gnats>database dei Report dei Problemi</a>. Se c’è, potresti usare la soluzione proposta.</p></li><li><p>Chiedi aiuto a colui che mantiene il port. Digita <code>make maintainer</code> o leggi il <span class=filename>Makefile</span> per trovare il suo indirizzo email. Ricorda di includere nel messaggio il nome e la versione del port (manda la riga <code>$FreeBSD:</code> del <span class=filename>Makefile</span>) e l’output che descrive l’errore.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcuni port non sono mantenuti da singole persone ma invece da una <a href=https://docs.freebsd.org/en/articles/mailing-list-faq/>mailing list</a>. La maggior parte di questi indirizzi sono simili a <a href=mailto:freebsd-listname@FreeBSD.org>freebsd-listname@FreeBSD.org</a>. Tieni conto di questo quando mandi le tue questioni.</p></div><div class=paragraph><p>In particolare, i port mantenuti da <a href=mailto:freebsd-ports@FreeBSD.org>freebsd-ports@FreeBSD.org</a> in realtà non sono mantenuti da nessuno. Il supporto e i fix, se ce ne sono, arrivano dalla comunità facente parte di quella mailing list. Sono necessari altri volontari!</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se non ottieni una risposta, puoi usare <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> per segnalare un bug report (guarda l’articolo <a href=https://docs.freebsd.org/en/articles/problem-reports/>Come Scrivere i Report dei Problemi per FreeBSD</a>).</p></div></li><li><p>Aggiustarlo! Il <a href=https://docs.freebsd.org/en/books/porters-handbook/>Manuale del Porter</a> contiene informazioni dettagliate sull’infrastruttura dei "Port" affinchè tu possa aggiustare quel port che occasionalmente non funziona o perfino proporne uno tutto tuo!</p></li><li><p>Prendi il package da un sito FTP vicino a te. La "principale" collezione dei package è su <code>ftp.FreeBSD.org</code> nella <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/>directory dei package</a>, ma <em>prima</em> assicurati di controllare il tuo <a href=http://mirrorlist.FreeBSD.org/>mirror locale</a>! È più probabile che funzionino i package rispetto alla compilazione dal sorgente e sono anche molto più sbrigativi. Usa il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> per installare i package sul tuo sistema.</p></li></ol></div></div></div></div><div class=sect1><h2 id=x11>Capitolo 5. L’X Window System<a class=anchor href=#x11></a></h2><div class=sectionbody><div class=sect2><h3 id=x11-synopsis>5.1. Sinossi<a class=anchor href=#x11-synopsis></a></h3><div class=paragraph><p>FreeBSD usa X11 per fornire agli utenti una potente interfaccia grafica. X11 è una implementazione gratuita dell’X Window System che è stata implementata sia in Xorg che in XFree86™ (ed altri pacchetti di software che qui non menzioneremo). Le versioni di FreeBSD fino alla FreeBSD 5.2.1-RELEASE inclusa troveranno come installazione di default XFree86™, il server X11 rilasciato dal Progetto XFree86™. A partire da FreeBSD 5.3-RELEASE, la versione di default ed ufficiale è stata cambiata in Xorg, il server X11 sviluppato dalla Fondazione X.Org sotto una licenza molto simile a quella usata da FreeBSD. Sono disponibili per FreeBSD anche X server commerciali.</p></div><div class=paragraph><p>Questo capitolo copre l’installazione e la configurazione di X11 con enfasi su Xorg release 7.7. Per ulteriori informazioni sulla configurazione di XFree86™ (ad esempio su vecchie release di FreeBSD dove XFree86™ era la distribuzione di default di X11) o release precedenti di Xorg è sempre possibile riferirsi alla versione archiviata del Manuale di FreeBSD consultabile a questo indirizzo <a href=http://docs.FreeBSD.org/doc/>http://docs.FreeBSD.org/doc/</a>.</p></div><div class=paragraph><p>Per maggiori informazioni sull’hardware video che X11 supporta, controlla il sito web <a href=http://www.x.org/>Xorg</a>.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, conoscerai:</p></div><div class=ulist><ul><li><p>I diversi componenti dell’X Window system, e come questi cooperano.</p></li><li><p>Come installare e configurare X11.</p></li><li><p>Come installare ed usare diversi window manager.</p></li><li><p>Come usare i font TrueType® in X11.</p></li><li><p>Come impostare il tuo sistema per il login grafico ( XDM).</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Sapere come installare del software di terze parti (<a href=./#ports>Installazione delle Applicazioni. Port e Package</a>).</p></li></ul></div></div><div class=sect2><h3 id=x-understanding>5.2. Capire X<a class=anchor href=#x-understanding></a></h3><div class=paragraph><p>Usare X per la prima volta può essere talvolta scioccante per quelli che hanno familiarità con altri ambienti grafici, come Microsoft® Windows® e Mac OS®.</p></div><div class=paragraph><p>Seppure non sia necessario capire tutti i dettagli dei diversi componenti di X e come interagiscono, tuttavia una qualche conoscenza di base rende possibile avvantaggiarsi delle funzionalità di X.</p></div><div class=sect3><h4 id=_perchè_x>5.2.1. Perchè X?<a class=anchor href=#_perchè_x></a></h4><div class=paragraph><p>X non è il primo window manager scritto per UNIX®, ma è il più popolare. Il gruppo di sviluppo originale di X aveva già lavorato ad un altro sistema grafico prima di scrivere X. Il nome di quel sistema era "W" (per "Window"). X era semplicemente la lettera seguente nell’alfabeto Romano.</p></div><div class=paragraph><p>X può essere chiamato "X", "X Window System", "X11", e in altri modi. Chiamare X11 "X Windows" potrebbe dare fastidio a della gente; per ulteriori dettagli su questo, consulta <a href="https://man.freebsd.org/cgi/man.cgi?query=X&amp;sektion=7&amp;format=html">X(7)</a>.</p></div></div><div class=sect3><h4 id=_il_modello_clientserver_di_x>5.2.2. Il modello client/server di X<a class=anchor href=#_il_modello_clientserver_di_x></a></h4><div class=paragraph><p>X è stato progettato fin dall’inizio per essere incentrato sulla rete ed adotta un modello "client-server".</p></div><div class=paragraph><p>Nel modello di X, il "server X" funziona sul computer che ha tastiera, monitor e mouse attaccati. Il server è responsabile di operazioni come il controllo del display, la gestione dell’input dalla tastiera e dal mouse, e di altri dispositivi di input o di output (es. una "tavoletta" può essere usata come dispositivo di input, e un proiettore video può essere un dispositivo di output alternativo). Ogni applicazione X (come XTerm, o <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a>) è un "client". Un client spedisce messaggi al server come "Per favore disegna una finestra a queste coordinate", e il server risponde con messaggi quali "L’utente ha appena premuto il bottone OK".</p></div><div class=paragraph><p>In una casa o in un piccolo ufficio, il server X e i client X di solito funzioneranno sullo stesso computer. Ad ogni modo, è perfettamente possibile far funzionare il server X su un desktop meno potente, e far funzionare le applicazioni X (i client) su di una potente e costosa macchina che serve l’ufficio. In questo scenario le comunicazioni tra il client X e il server hanno luogo attraverso la rete.</p></div><div class=paragraph><p>Questo confonde certa gente, perchè la terminologia di X è proprio l’opposto di quello che ci si possa aspettare di solito. Normalmente ci si aspetta che il "server X" sia la grossa e potente macchina in fondo alla sala, e il "client X" sia la macchina sulla propria scrivania.</p></div><div class=paragraph><p>È importante ricordare che il server X è la macchina con il monitor e la tastiera, e i client X sono i programmi che mostrano le finestre.</p></div><div class=paragraph><p>Non c’è nulla nel protocollo che obbliga la macchina client e quella server ad utilizzare lo stesso sistema operativo, oppure a funzionare sullo stesso tipo di computer. È certamente possibile far funzionare un server X su Microsoft® Windows® o Mac OS® di Apple, e ci sono diverse applicazioni free o commerciali che fanno esattamente questo.</p></div></div><div class=sect3><h4 id=_il_window_manager>5.2.3. Il Window Manager<a class=anchor href=#_il_window_manager></a></h4><div class=paragraph><p>La filosofia di design di X è molto simile a quella di UNIX® "strumenti, non regole". Questo significa che X non prova a dire come una azione debba essere compiuta. Invece, vengono forniti degli strumenti all’utente, ed è quindi responsabilità dell’utente decidere come usare questi strumenti.</p></div><div class=paragraph><p>Questa filosofia si estende al fatto che X non dice come le finestre debbano comparire sullo schermo, né come queste debbano essere spostate con il mouse, né quali tasti servano per muoversi attraverso le finestre (ad esempio, <span class=keyseq><kbd>Alt</kbd>+<kbd>Tab</kbd></span>, nel caso di Microsoft® Windows®), né che aspetto devono avere le barre sopra ogni finestra, se queste hanno o meno bottoni di chiusura, e così via.</p></div><div class=paragraph><p>Al contrario X delega questa responsabilità ad una applicazione chiamata "Window Manager". Ci sono dozzine di window manager disponibili per X; AfterStep, Blackbox, ctwm, Enlightenment, fvwm, Sawfish, twm, Window Maker, ed altri. Ciascuno di questi window manager fornisce un diverso aspetto ed ambiente; alcuni di questi supportano i "virtual desktop"; alcuni consentono di avere delle combinazioni di tasti predefinite per gestire il desktop; altri hanno un pulsante "Start" o simile; altri possono avere dei "temi", permettendo un cambio completo di aspetto e funzionalità applicando un nuovo tema. Questi window manager, e molti altri, sono disponibili nella categoria <span class=filename>x11-wm</span> dei Port.</p></div><div class=paragraph><p>Inoltre, i desktop environments KDE e GNOME hanno tutti e due il proprio window manager che si integra con il desktop.</p></div><div class=paragraph><p>Ciascun window manager inoltre ha a un proprio meccanismo di configurazione; alcuni si aspettano di avere un file di configurazione scritto a mano, altri hanno delle interfacce grafiche per molti dei compiti di configurazione; almeno uno (Sawfish) ha un file di configurazione scritto in un dialetto del linguaggio Lisp.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=title>Regole di fuoco</div><div class=paragraph><p>Un’altra caratteristica per la quale il window manager deve avere responsabilità è la cosiddetta "focus policy", o Regola di fuoco. Ogni sistema a finestre necessita di un modo per scegliere la finestra che deve essere attiva e che deve ricevere le comunicazioni da tastiera, e dovrebbe anche indicare in modo visibile quale finestra è attiva in un determinato momento.</p></div><div class=paragraph><p>Una Focus policy familiare è chiamata "click-to-focus". Questo è il modello utilizzato da Microsoft® Windows®, nel quale una finestra diventa attiva dopo aver ricevuto un click del mouse.</p></div><div class=paragraph><p>X non supporta alcuna focus policy particolare. È invece il Window Manager che controlla quale finestra è attiva in un determinato momento. Diversi Window manager supporteranno diversi metodi di focus. Tutti supportano il click-to-focus, e la maggioranza di questi ne supporta molti altri.</p></div><div class=paragraph><p>Le regole di fuoco più popolari sono:</p></div><div class=dlist><dl><dt class=hdlist1>focus-follows-mouse (o fuoco-segue-mouse)</dt><dd><p>La finestra su cui si trova il puntatore è quella che riceve il fuoco. Questa potrebbe non essere necessariamente la finestra che si trova davanti a tutte le altre. Il fuoco cambia se si punta un’altra finestra, e non c’è bisogno di fare click con il mouse.</p></dd><dt class=hdlist1>sloppy-focus</dt><dd><p>Questa policy è una piccola estensione della focus-follows-mouse. Con focus-follows-mouse, se il mouse viene mosso sulla finestra principale (o sullo sfondo), allora nessuna finestra avrà il fuoco, e la pressione di un tasto verrà semplicemente ignorata. Con sloppy-focus, il fuoco è solamente cambiato quando il cursore entra in una nuova finestra, e non quando si esce dalla finestra corrente.</p></dd><dt class=hdlist1>click-to-focus</dt><dd><p>La finestra attiva è scelta dal click del mouse. La finestra potrebbe essere allora "alzata", ed apparire davanti alle altre finestre. Tutte le pressioni dei tasti saranno da quel momento dirette a questa finestra, anche se il cursore viene spostato su un’altra finestra.</p></dd></dl></div><div class=paragraph><p>Molti window manager supportano altre policy, come possono avere variazioni sul tema. Per maggiori informazioni vi preghiamo di consultare la documentazione stessa del window manager.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_i_widget>5.2.4. I Widget<a class=anchor href=#_i_widget></a></h4><div class=paragraph><p>L’approccio di X di fornire strumenti e non regole si estende anche ai widget visti sullo schermo in ogni applicazione.</p></div><div class=paragraph><p>"Widget" è un termine usato per tutte quelle parti nell’interfaccia utente che possono essere cliccate o manipolate in un certo modo; bottoni, checkboxes, radio buttons, icone, liste, e così via. Microsoft® Windows® li chiama "controlli".</p></div><div class=paragraph><p>Sia Microsoft® Windows® che Apple Mac OS® hanno delle regole strette per i widget. Gli sviluppatori devono assicurarsi che tutte le loro applicazioni condividano lo stesso stile e lo stesso aspetto. Con X, non si è sentito un particolare bisogno di obbligare ad avere un particolare stile grafico, o settare widgets a cui aderire.</p></div><div class=paragraph><p>Come risultato, non aspettatevi che le applicazioni per X abbiano lo stesso stile e lo stesso aspetto. Ci sono alcuni widgets popolari e le loro variazioni, come l’originale Athena sviluppato dal MIT, Motif® (dal quale è stato modellato il widget presente su Microsoft® Windows®, tutti angoli a doppio livello e tre sfumature di grigio), OpenLook, ed altri.</p></div><div class=paragraph><p>Molte applicazioni nuove di X di oggi usano un widget con sembianze moderne, probabilmente Qt, usato da KDE, o GTK+, usato da GNOME. Rispetto a questo, c’è un accenno di convergenza nell’aspetto dei desktop UNIX, il che facilita le cose ai nuovi utenti.</p></div></div></div><div class=sect2><h3 id=x-install>5.3. Installazione di X11<a class=anchor href=#x-install></a></h3><div class=paragraph><p>Xorg è l’implementazione di default di X11 per FreeBSD. Xorg è l’implementazione dell’X server dell’X Window System rilasciato dalla Fondazione X.Org. Xorg è basato sul codice di XFree86™ 4.4RC2 e X11R6.6. La versione di Xorg disponibile al momento nella Collezione dei Ports è 7.7.</p></div><div class=paragraph><p>Per compilare ed installare Xorg dalla Collezione dei Ports digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11/xorg</span>
<span class=c># make install clean</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per compilare Xorg nella sua interezza, accertati di avere almeno 4 GB di spazio libero disponibile.</p></div></td></tr></tbody></table></div><div class=paragraph><p>In alternativa, X11 può essere installato direttamente dai pacchetti. Per X11 sono disponibili anche pacchetti binari da usare con <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>. Quando si usa il download da remoto di <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>, il numero di versione deve essere rimosso. <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> scaricherà automaticamente l’ultima versione dell’applicazione.</p></div><div class=paragraph><p>Quindi per scaricare ed installare il pacchetto di Xorg, semplicemente digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r xorg</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Gli esempi sopra riportati installeranno la distribuzione completa di X11 inclusi i server, i client, i font etc. Sono anche disponibili pacchetti e port separati di X11.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Il resto del capitolo spiegherà come configurare X11 e come impostare un desktop enviroment produttivo</p></div></div><div class=sect2><h3 id=x-config>5.4. La Configurazione di X11<a class=anchor href=#x-config></a></h3><div class=sect3><h4 id=_prima_di_partire>5.4.1. Prima di Partire<a class=anchor href=#_prima_di_partire></a></h4><div class=paragraph><p>Prima di configurare X11 è necessario avere le seguenti informazioni sul sistema:</p></div><div class=ulist><ul><li><p>Specifiche del Monitor</p></li><li><p>Chipset della Scheda Video</p></li><li><p>Memoria della Scheda Video</p></li></ul></div><div class=paragraph><p>Le specifiche del monitor sono usate da X11 per determinare la risoluzione ed il refresh rate ai quali girare. Queste specifiche possono essere di solito ottenute dalla documentazione che è arrivata con il monitor o dal sito web del produttore. Ci sono i due intervalli di numeri di cui è necessario conoscere il valore, l’horizontal scan rate ed il vertical scan rate.</p></div><div class=paragraph><p>Il chipset della scheda video determina quale modulo driver X11 usa per parlare con l’hardware grafico. Con la maggior parte dei chipset, questo può essere determinato automaticamente, ma è ancora utile conoscerlo caso mai la ricerca automatica non funzioni correttamente.</p></div><div class=paragraph><p>La memoria della scheda video determina la risoluzione e la profondità dei colori ai quali il sistema può funzionare. È importante conoscerlo cosicchè l’utente conosca i limiti del sistema.</p></div></div><div class=sect3><h4 id=_configurare_x11>5.4.2. Configurare X11<a class=anchor href=#_configurare_x11></a></h4><div class=paragraph><p>A partire dalla versione 7.3, Xorg può spesso lavorare senza un file di configurazione particolare semplicemnte digitando al prompt:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% startx</code></pre></div></div><div class=paragraph><p>Se non funziona, o se la configurazione di default non è accettabile, allora X11 deve essere configurato manualmente. La configurazione di X11 è un processo dai molti passi. Il primo passo è creare un file di configurazione iniziale. Come super utente digita semplicemente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># Xorg -configure</span></code></pre></div></div><div class=paragraph><p>Questo genererà uno scheletro di configurazione di X11 nella directory <span class=filename>/root</span> chiamato <span class=filename>xorg.conf.new</span> (il fatto che tu abbia fatto un <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> o che tu abbia fatto una login diretta determina la variabile ereditata <code>$HOME</code>). Il programma X11 cercherà di determinare l’hardware grafico usato sul sistema e scriverà un file di configurazione per caricare i driver corretti per l’hardware presente sul sistema.</p></div><div class=paragraph><p>Il prossimo passo è testare la configurazione esistente per verificare che Xorg possa funzionare con l’hardware grafico sul sistema. Per eseguire questo passo, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># Xorg -config xorg.conf.new</span></code></pre></div></div><div class=paragraph><p>Se appare una griglia bianca e nera con un cursore del mouse ad X, la configurazione ha avuto successo. Per uscire dal testo, premi <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Backspace</kbd></span> simultaneamente.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se il mouse non funziona, devi configurarlo prima di continuare. Leggi <a href=./#mouse>Configurazione del Mouse</a> nel capitolo di installazione di FreeBSD.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Quindi, fai il tuning di <span class=filename>xorg.conf.new</span> a piacere. Apri il file in un editor come <a href="https://man.freebsd.org/cgi/man.cgi?query=emacs&amp;sektion=1&amp;format=html">emacs(1)</a> o <a href="https://man.freebsd.org/cgi/man.cgi?query=ee&amp;sektion=1&amp;format=html">ee(1)</a>. Per prima cosa aggiungi le frequenze per il monitor del sistema. Queste sono di solito espresse come synchronization rate orizzontali e verticali. Questi valori sono aggiunti al file <span class=filename>xorg.conf.new</span> sotto la sezione <code>"Monitor"</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Monitor&#34;
        Identifier   &#34;Monitor0&#34;
        VendorName   &#34;Monitor Vendor&#34;
        ModelName    &#34;Monitor Model&#34;
        HorizSync    30-107
        VertRefresh  48-120
EndSection</pre></div></div><div class=paragraph><p>Le parole chiave <code>HorizSync</code> e <code>VerRefresh</code> possono mancare sul file di configurazione. Se mancano, è necessario aggiungerle con la corretta horizontal synchronization rate dopo la parola chiave <code>HorizSync</code> e la vertical synchronization rate dopo la parola chiave <code>VertRefresh</code>. Nell’esempio sopra sono stati immessi i valori corretti per il sistema di riferimento.</p></div><div class=paragraph><p>X permette che siano usate le feature di DPMS (Energy Star) con i monitor che ne dispongono. Il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=xset&amp;sektion=1&amp;format=html">xset(1)</a> controlla i timeout e può forzare lo standby, la sospensione o lo spegnimento. Se desideri abilitare features di DPMS per il tuo monitor, devi aggiungere le seguenti linee alla sezione del monitor:</p></div><div class="literalblock programlisting"><div class=content><pre>Option       &#34;DPMS&#34;</pre></div></div><div class=paragraph><p>Mentre il file di configurazione <span class=filename>xorg.conf.new</span> è ancora aperto in un editor, seleziona la risoluzione di default e la profondità del colore desiderata. Questa è definita nella sezione <code>"Screen"</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Screen&#34;
        Identifier &#34;Screen0&#34;
        Device     &#34;Card0&#34;
        Monitor    &#34;Monitor0&#34;
        DefaultDepth 24
        SubSection &#34;Display&#34;
                Viewport  0 0
                Depth     24
                Modes     &#34;1024x768&#34;
        EndSubSection
EndSection</pre></div></div><div class=paragraph><p>la parola chiave <code>DefaultDepth</code> descrive la profondità dei colori da usare di default. Questa opzione può essere sovrascritta con l’opzione da command line <code>-depth</code> di <a href="https://man.freebsd.org/cgi/man.cgi?query=Xorg&amp;sektion=1&amp;format=html">Xorg(1)</a>. La parola chiave <code>Modes</code> descrive la risoluzione sotto cui girare per una data profondità di colori. Nota che solo i modi standard VESA sono supportati come definito dall’hardware grafico del sistema. Nell’esempio di prima, la risoluzione accettata è 1024 per 768 pixels.</p></div><div class=paragraph><p>Alla fine, scrivi il file di configurazione e testalo usando la modalità test spiegata in precedenza.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Uno dei tool disponibili per assisterti durante la fase di risoluzione dei problemi sono i log file di X11, che contengono l’informazione su ogni device a cui il server X11 si collega. I nomi dei log file di Xorg sono nel formato <span class=filename>/var/log/Xorg.0.log</span>. Il nome esatto del log può variare da <span class=filename>Xorg.0.log</span> a <span class=filename>Xorg.8.log</span> e così via.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se è andato tutto bene, il file di configurazione deve essere installato in una directory dove <a href="https://man.freebsd.org/cgi/man.cgi?query=Xorg&amp;sektion=1&amp;format=html">Xorg(1)</a> possa trovarlo. Questa è tipicamente <span class=filename>/etc/X11/xorg.conf</span> o <span class=filename>/usr/local/etc/X11/xorg.conf</span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp xorg.conf.new /etc/X11/xorg.conf</span></code></pre></div></div><div class=paragraph><p>Il processo di configurazione di X11 è ora completo. Xorg può ora essere avviato con la utility <a href="https://man.freebsd.org/cgi/man.cgi?query=startx&amp;sektion=1&amp;format=html">startx(1)</a>. Il server X11 può essere anche avviato con l’uso di <a href="https://man.freebsd.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;format=html">xdm(1)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Esiste anche un tool di configurazione grafico, <a href="https://man.freebsd.org/cgi/man.cgi?query=xorgcfg&amp;sektion=1&amp;format=html">xorgcfg(1)</a> che viene distribuito con X11. Ti permette di di definire la tua configurazione scegliendo i driver appropriati e le impostazioni. Questo programma può essere invocato dalla console, digitando <code>xorgcfg -textmode</code>. Per ulteriori dettagli, consulta la pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=xorgcfg&amp;sektion=1&amp;format=html">xorgcfg(1)</a>.</p></div><div class=paragraph><p>In alternativa c’è anche un tool chiamato <a href="https://man.freebsd.org/cgi/man.cgi?query=xorgconfig&amp;sektion=1&amp;format=html">xorgconfig(1)</a>. Questo programma è una utility della console che è meno user friendly, ma potrebbe funzionare in situazioni nelle quali gli altri tool non funzionano.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_argomenti_di_configurazione_avanzati>5.4.3. Argomenti di Configurazione Avanzati<a class=anchor href=#_argomenti_di_configurazione_avanzati></a></h4><div class=sect4><h5 id=_configurazione_con_i_chipset_grafici_intel_i810>5.4.3.1. Configurazione con i Chipset Grafici Intel® i810<a class=anchor href=#_configurazione_con_i_chipset_grafici_intel_i810></a></h5><div class=paragraph><p>La configurazione dei chipset integrati Intel® i810 richiede l’interfaccia di programmazione AGP <span class=filename>agpgart</span> perchè X11 possa usare la scheda. Consulta la pagina di manuale del driver <a href="https://man.freebsd.org/cgi/man.cgi?query=agp&amp;sektion=4&amp;format=html">agp(4)</a> per maggiori informazioni.</p></div><div class=paragraph><p>Questo permetterà la configurazione dell’hardware come ogni altra scheda grafica. Nota che su sistemi senza il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=agp&amp;sektion=4&amp;format=html">agp(4)</a> compilato nel kernel, cercare di caricare il modulo con <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> non funzionerà. Questo driver deve essere nel kernel al momento del boot, o compilandolo nel kernel, o usando <span class=filename>/boot/loader.conf</span>.</p></div></div><div class=sect4><h5 id=_aggiungere_un_flatpanel_a_tutto_schermo_al_mix>5.4.3.2. Aggiungere un Flatpanel a Tutto Schermo al Mix.<a class=anchor href=#_aggiungere_un_flatpanel_a_tutto_schermo_al_mix></a></h5><div class=paragraph><p>Questa sezione assume una conoscenza della configurazione un pò avanzata. Se i tentativi di usare gli strumenti di configurazione standard descritti in precedenza non hanno avuto successo, ci sono abbastanza informazioni nei file di log utile per fare funzionare l’installazione. Sarà necessario un editor testuale.</p></div><div class=paragraph><p>Al momento i formati a tutto schermo (WSXGA, WSXGA+, WUXGA, WXGA, WXGA+, et.al.) supportano i formati 16:10 e 10:9 o frazioni dell’aspetto grafico che possono essere problematiche. Esempi di alcune risoluzioni del monitor comuni per la frazione dell’aspetto grafico sono:</p></div><div class=ulist><ul><li><p>2560x1600</p></li><li><p>1920x1200</p></li><li><p>1680x1050</p></li><li><p>1440x900</p></li><li><p>1280x800</p></li></ul></div><div class=paragraph><p>In futuro, questo compito sarà semplice come aggiungere una di queste risoluzioni come possibile <code>Mode</code> nella <code>Section "Screen"</code>, come viene mostrato di seguito:</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Screen&#34;
      Identifier &#34;Screen0&#34;
      Device     &#34;Card0&#34;
      Monitor    &#34;Monitor0&#34;
      DefaultDepth 24
      SubSection &#34;Display&#34;
            Viewport  0 0
            Depth     24
            Modes     &#34;1680x1050&#34;
      EndSubSection
EndSection</pre></div></div><div class=paragraph><p>Xorg è abbastanza furbo da ottenere le informazioni di risoluzione dal widescreen via I2C/DDC, così conosce quali formati il monitor possa gestire come frequenze e risoluzioni.</p></div><div class=paragraph><p>Se quelle <code>ModeLines</code> non esistono nei driver, uno potrebbe avere necessità di dare ad Xorg un piccolo aiuto. Usando <span class=filename>/var/log/Xorg.0.log</span> uno può estrarre abbastanza informazioni da creare manualmente una <code>Modeline</code> che funziona. Basta cercare linee che assomigliano a queste:</p></div><div class="literalblock programlisting"><div class=content><pre>(II) MGA(0): Supported additional Video Mode:
(II) MGA(0): clock: 146.2 MHz   Image Size:  433 x 271 mm
(II) MGA(0): h_active: 1680  h_sync: 1784  h_sync_end 1960 h_blank_end 2240 h_border: 0
(II) MGA(0): v_active: 1050  v_sync: 1053  v_sync_end 1059 v_blanking: 1089 v_border: 0
(II) MGA(0): Ranges: V min: 48  V max: 85 Hz, H min: 30  H max: 94 kHz, PixClock max 170 MHz</pre></div></div><div class=paragraph><p>Questa informazione è chiamata informazione EDID. Creare una <code>ModeLine</code> da questa è solo questione di mettere i numeri nell’ordine giusto:</p></div><div class="literalblock programlisting"><div class=content><pre>ModeLine &lt;name&gt; &lt;clock&gt; &lt;4 horiz. timings&gt; &lt;4 vert. timings&gt;</pre></div></div><div class=paragraph><p>Così la <code>ModeLine</code> nella sezione <code>"Monitor"</code> in questo esempio somiglierebbe a questa:</p></div><div class="literalblock programlisting"><div class=content><pre>Section &#34;Monitor&#34;
    Identifier      &#34;Monitor1&#34;
    VendorName      &#34;Bigname&#34;
    ModelName       &#34;BestModel&#34;
    ModeLine        &#34;1680x1050&#34; 146.2 1680 1784 1960 2240 1050 1053 1059 1089
    Option          &#34;DPMS&#34;
EndSection</pre></div></div><div class=paragraph><p>Adesso, dopo aver completato questi semplici passi con l’editor, X dovrebbe partire sul tuo monitor a tutto schermo.</p></div></div></div></div><div class=sect2><h3 id=x-fonts>5.5. Usare i Font in X11<a class=anchor href=#x-fonts></a></h3><div class=sect3><h4 id=type1>5.5.1. Font Type1<a class=anchor href=#type1></a></h4><div class=paragraph><p>I font di default che vengono distribuite con X11 non sono certo ideali per il tipico desktop di pubblicazione. I font grandi delle presentazioni appaiono confuse e non professionali, e i piccoli font in <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a> sono quasi illeggibili. Comunque, ci sono molti font Type1 gratis e di alta qualità (PostScript®) disponibili che possono essere usate subito con X11. Ad esempio la collezione dei font URW (<a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/urwfonts/>x11-fonts/urwfonts</a>) include versioni di alta qualità di font standard type1 (Times Roman™, Helvetica™, Palatino™ ed altre). La collezione Freefonts (<a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/freefonts/>x11-fonts/freefonts</a>) include molti altri font, ma la maggior parte di loro sono fatte per essere usate con software grafico come Gimp e non sono abbastanza complete per essere usate come font di schermo. Inoltre, X11 può essere configurato per usare i font TrueType® con un minimo sforzo. Per ulteriori dettagli leggi la pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=X&amp;sektion=7&amp;format=html">X(7)</a> o la <a href=#truetype>sezione sui font TrueType®</a>.</p></div><div class=paragraph><p>Per installare la collezione dei font Type1 sopra citate, esegui il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11-fonts/urwfonts</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>E in maniera analoga per freefont o altre collezioni. Per fare sì che l’X server usi questi font, aggiungi una linea appropriata al file di configurazione dell’X server (<span class=filename>/etc/X11/xorg.conf</span>), simile a questa:</p></div><div class="literalblock programlisting"><div class=content><pre>FontPath &#34;/usr/local/lib/X11/fonts/URW/&#34;</pre></div></div><div class=paragraph><p>Alternativamente, alla command line in una sessione di X esegui:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% xset fp+ /usr/local/lib/X11/fonts/URW
% xset fp rehash</code></pre></div></div><div class=paragraph><p>Questo funzionerà ma sarà perso quando la sessione X viene chiusa, a meno che non sia aggiunto al file di startup (<span class=filename>~/.xinitrc</span> per una normale sessione <code>startx</code>, o <span class=filename>~/.xsession</span> quando ci si logga attraverso un login manager grafico come XDM). Un terzo modo è usare il nuovo file <span class=filename>/usr/local/etc/fonts/local.conf</span>: consulta la sezione su <a href=#antialias>anti-aliasing</a>.</p></div></div><div class=sect3><h4 id=truetype>5.5.2. TrueType® Font<a class=anchor href=#truetype></a></h4><div class=paragraph><p>Xorg ha il supporto nativo per rendere i font TrueType®. Ci sono due differenti moduli che possono abilitare questa funzionalità. Il modulo freetype è usato in questo esempio perchè è più consistente con gli altri back-end di rendering degli altri font. Per abilitare il modulo freetype basta che aggiungi la seguente linea nella sezione <code>"Module"</code> del file <span class=filename>/etc/X11/xorg.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>Load &#34;freetype&#34;</pre></div></div><div class=paragraph><p>Adesso crea una directory per i font TrueType® (ad esempio <span class=filename>/usr/local/lib/X11/fonts/TrueType</span>) e copia tutte i font TrueType® in questa directory. Ricordati che i font TrueType® non possono essere prese direttamente da un Macintosh®, devono essere in formato UNIX®/MS-DOS®/Windows® per essere usate da X11. Una volta che i file sono stati copiati in questa directory, usa il comando ttmkfdir per creare un file <span class=filename>fonts.dir</span>, così che il renderer di font X sappia che questi nuovi file sono stati installati. <code>ttmkfdir</code> è disponibile dalla Collezione dei Ports di FreeBSD come <a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/ttmkfdir/>x11-fonts/ttmkfdir</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/local/lib/X11/fonts/TrueType</span>
<span class=c># ttmkfdir -o fonts.dir</span></code></pre></div></div><div class=paragraph><p>Adesso aggiungi la directory TrueType® al percorso dei font. È lo stesso procedimento seguito sopra per i font <a href=#type1>Type1</a>, ovvero usa</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% xset fp+ /usr/local/lib/X11/fonts/TrueType
% xset fp rehash</code></pre></div></div><div class=paragraph><p>o aggiungi una linea <code>FontPath</code> al file <span class=filename>xorg.conf</span>.</p></div><div class=paragraph><p>Questo è tutto. Adesso <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a>, Gimp, StarOffice™ e tutte le altre applicazioni X dovrebbero riconoscere i font TrueType® installate. I font molto piccoli (come del testo mostrato in alta risoluzione su una pagina web) e font estremamente grandi (all’interno di StarOffice™) avranno un’apparenza molto migliore.</p></div></div><div class=sect3><h4 id=antialias>5.5.3. Font Anti-Aliased<a class=anchor href=#antialias></a></h4><div class=paragraph><p>L’anti-aliasing dei font è stato disponibile per X11 a partire da XFree86™ 4.0.2. Tuttavia la configurazione dei font era complicata prima dell’introduzione di XFree86™ 4.3.0. A partire da XFree86™ 4.3.0, tutte i font in X11 che sono trovati sotto le directory <span class=filename>/usr/local/lib/X11/fonts/</span> e <span class=filename>~/.fonts/</span> sono automaticamente resi disponibili per l’anti aliasing ad applicazioni con supporto per Xft. Non tutte le applicazioni lo hanno, ma molte hanno ricevuto supporto per Xft. Esempi di applicazioni con supporto per Xft includono Qt 2.3 e successivi (il toolkit per il desktop KDE), GTK+ 2.0 e successivi (il toolkit per il desktop GNOME) e Mozilla 1.2 e successivi.</p></div><div class=paragraph><p>Per controllare quali font sono anti-aliased, o per configurare delle proprietà anti-alias, crea (o edita, se esiste già) il file <span class=filename>/usr/local/etc/fonts/local.conf</span>. Molte caratteristiche avanzate del sistema di font Xft possono essere configurate usando questo file; questa sezione descrive solo alcune semplici possibilità. Per ulteriori dettagli, consulta <a href="https://man.freebsd.org/cgi/man.cgi?query=fonts-conf&amp;sektion=5&amp;format=html">fonts-conf(5)</a>.</p></div><div class=paragraph><p>Questo file deve essere in formato XML. Presta particolare attenzione al case, e accertati che tutti i tag siano chiusi propriamente. Il file inizia con l’header usuale XML seguito da una definizione DOCTYPE, poi usa il tag <code>&lt;fontconfig></code>:</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;!DOCTYPE fontconfig SYSTEM &#34;fonts.dtd&#34;&gt;
&lt;fontconfig&gt;</pre></div></div><div class=paragraph><p>Come ricordato in precedenza, tutti i font in <span class=filename>/usr/local/lib/X11/fonts/</span> così come quelli in <span class=filename>~/.fonts/</span> sono già resi disponibili alle applicazioni pronte per Xft. Se desideri aggiungere un’altra directory fuori da queste due alberature di directory, aggiungi una linea simile a questa in <span class=filename>/usr/local/etc/fonts/local.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>&lt;dir&gt;/path/to/my/fonts&lt;/dir&gt;</pre></div></div><div class=paragraph><p>Dopo aver aggiunto i nuovi font, e specialmente nuove directory, dovresti eseguire questo comando per ricostruire la cache dei font:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fc-cache -f</span></code></pre></div></div><div class=paragraph><p>L’anti-aliasing rende i bordi un pò confusi, il che rende il testo piccolo più leggibile e rimuove le "scale" dal testo grande, ma può causare una cattiva visuale se applicato al testo normale. Per escludere i font di dimensione minore di 14 punti dall’anti-aliasing includi le seguenti linee:</p></div><div class="literalblock programlisting"><div class=content><pre>        &lt;match target=&#34;font&#34;&gt;
            &lt;test name=&#34;size&#34; compare=&#34;less&#34;&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit name=&#34;antialias&#34; mode=&#34;assign&#34;&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target=&#34;font&#34;&gt;
            &lt;test name=&#34;pixelsize&#34; compare=&#34;less&#34; qual=&#34;any&#34;&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit mode=&#34;assign&#34; name=&#34;antialias&#34;&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre></div></div><div class=paragraph><p>Anche lo spazio per alcuni font a spazio singolo potrebbe essere inappropriato con l’anti-aliasing. Questo pare che sia un problema in particolare con KDE. Una possibile soluzione a questo è forzare lo spazio di questi font a 100. Aggiungi le seguenti linee:</p></div><div class="literalblock programlisting"><div class=content><pre>       &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
           &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
               &lt;string&gt;fixed&lt;/string&gt;
           &lt;/test&gt;
           &lt;edit name=&#34;family&#34; mode=&#34;assign&#34;&gt;
               &lt;string&gt;mono&lt;/string&gt;
           &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
            &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
                &lt;string&gt;console&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name=&#34;family&#34; mode=&#34;assign&#34;&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</pre></div></div><div class=paragraph><p>(questo crea un alias per altri nomi comuni di font a dimensione fissa come <code>"mono"</code>), e poi aggiungi:</p></div><div class="literalblock programlisting"><div class=content><pre>         &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
             &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
                 &lt;string&gt;mono&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name=&#34;spacing&#34; mode=&#34;assign&#34;&gt;
                 &lt;int&gt;100&lt;/int&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</pre></div></div><div class=paragraph><p>Alcuni font, come Helvetica, potrebbero avere un problema quando sono resi anti-alias. In genere questo si manifesta come un font che sembra tagliato in verticale. Nella peggiore delle ipotesi, questo potrebbe causare il crash delle applicazioni come Mozilla. Per evitarlo, considera di aggiungere queste linee a <span class=filename>local.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>         &lt;match target=&#34;pattern&#34; name=&#34;family&#34;&gt;
             &lt;test qual=&#34;any&#34; name=&#34;family&#34;&gt;
                 &lt;string&gt;Helvetica&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name=&#34;family&#34; mode=&#34;assign&#34;&gt;
                 &lt;string&gt;sans-serif&lt;/string&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</pre></div></div><div class=paragraph><p>Quando hai finito di editare il file <span class=filename>local.conf</span> accertati di mettere alla fine del file il tag <code>&lt;/fontconfig></code>. Se non lo fai le tue modifiche saranno ignorate.</p></div><div class=paragraph><p>Il set di font che viene di default con X11 non è molto desiderabile quando viene reso sotto anti-alias. Un set molto migliore può essere trovato nel port <a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/bitstream-vera/>x11-fonts/bitstream-vera</a>. Questo port installerà un file <span class=filename>/usr/local/etc/fonts/local.conf</span> se non esiste già. Se il file esiste, il port creerà un file <span class=filename>/usr/local/etc/fonts/local.conf-vera</span>. Unisci il contenuto di questo file in <span class=filename>/usr/local/etc/fonts/local.conf</span> e i font Bitstream automaticamente rimpiazzeranno le X11 Serif di default, Sans Serif, e Monospaced.</p></div><div class=paragraph><p>Alla fine, gli utenti possono aggiungere le loro impostazioni attraverso i loro file personali <span class=filename>.fonts.conf</span>. Per farlo, ogni utente dovrebbe crearsi semplicemente un file <span class=filename>~/.fonts.conf</span>. Anche questo file dovrebbe essere in formato XML.</p></div><div class=paragraph><p>Un ultimo punto: con uno schermo LCD, potrebbe essere desiderabile una resa sub-pixel. In sostanza questo tratta le componenti rosse, verdi e blu in modo separato per migliorare la risoluzione orizzontale; il risultato è notevole. Per abilitarlo, aggiungi queste linee da qualche parte nel file <span class=filename>local.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>         &lt;match target=&#34;font&#34;&gt;
             &lt;test qual=&#34;all&#34; name=&#34;rgba&#34;&gt;
                 &lt;const&gt;unknown&lt;/const&gt;
             &lt;/test&gt;
             &lt;edit name=&#34;rgba&#34; mode=&#34;assign&#34;&gt;
                 &lt;const&gt;rgb&lt;/const&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A seconda del tipo di display, <code>rgb</code> potrebbe essere cambiato in <code>bgr</code>, <code>vrgb</code> o <code>vbgr</code>: sperimenta e vedi quale funziona meglio.</p></div></td></tr></tbody></table></div><div class=paragraph><p>L’anti-aliasing dovrebbe essere abilitato la prossima volta che il server X sarà avviato. Comunque, i programmi devono sapere come avvantaggiarsene. Al momento, il toolkit Qt lo sa, così l’intero ambiente KDE può usare font anti-aliased. GTK+ e GNOME possono essere rese compatibili con l’anti-aliasing attraverso il capplet "Font" (leggi <a href=#x11-wm-gnome-antialias>Font anti-aliased con GNOME</a> per dettagli). Di default Mozilla 1.2 e successivi sapranno come usare automaticamente l’anti-aliasing. Per disabilitarlo, ricompila Mozilla con il flag <code>DWITHOUT_XFT</code>.</p></div></div></div><div class=sect2><h3 id=x-xdm>5.6. L’X Display Manager<a class=anchor href=#x-xdm></a></h3><div class=sect3><h4 id=_overview>5.6.1. Overview<a class=anchor href=#_overview></a></h4><div class=paragraph><p>L’X Display Manager (XDM) è una parte opzionale dell’X Windows System che è usata per la gestione delle sessioni di login. Questo è utile in molte situazioni, inclusi desktop "X Terminal " minimali, e grandi reti di display server. Dato che l’X Window System è indipendente dalla rete e dal protocollo, c’è una grande moltitudine di configurazioni possibili per eseguire client X e server X su diverse macchine connesse da una rete. XDM fornisce un’interfaccia grafica per scegliere a quale display manager collegarsi, e digitare le informazioni di autenticazione come una combinazione di login e password.</p></div><div class=paragraph><p>Puoi pensare a XDM come a qualcosa che fornisce all’utente la stessa funzionalità dell’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;format=html">getty(8)</a> (vedi ad esempio <a href=./#term-config>Configurazione</a> per dettagli). In poche parole, gestisce login di sistema al display al quale si è collegati e quindi esegue un session manager per conto dell’utente (di solito un X Window Manager). XDM quindi attende che questo programma termini, segnalando che l’utente ha finito e che dovrebbe essere mandato fuori dal display. A questo punto XDM può mostrare lo schermo di login e di scelta degli schermi per il prossimo utente.</p></div></div><div class=sect3><h4 id=_usare_xdm>5.6.2. Usare XDM<a class=anchor href=#_usare_xdm></a></h4><div class=paragraph><p>Il programma demone è situato in <span class=filename>/usr/local/bin/xdm</span>. Questo programma può essere avviato in ogni istante come <code>root</code> e inizierà a gestire il display X sulla macchina locale. Se XDM deve essere eseguito ogni volta che la macchina fa il boot, un modo conveniente è quello di farlo aggiungendo una entry a <span class=filename>/etc/ttys</span>. Per maggiori informazioni sul formato e l’uso di questo file, consulta <a href=./#term-etcttys>Aggiunta di un Elemento in /etc/ttys</a>. C’è una linea nel file di default <span class=filename>/etc/ttys</span> per eseguire il demone XDM su un terminale virtuale:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ttyv8   <span class=s2>&#34;/usr/local/bin/xdm -nodaemon&#34;</span>  xterm   off secure</code></pre></div></div><div class=paragraph><p>Di default questa entry è disabilitata; al fine di abilitarla cambia il campo 5 da <code>off</code> ad <code>on</code> e riavvia <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> usando le direttive in <a href=./#term-hup>Come Forzare init a Rileggere /etc/ttys</a>. Il primo campo, il nome del terminale che questo programma gestirà, è <code>ttyv8</code>. Questo significa che XDM si avvierà sul nono terminale virtuale.</p></div></div><div class=sect3><h4 id=_configurare_xdm>5.6.3. Configurare XDM<a class=anchor href=#_configurare_xdm></a></h4><div class=paragraph><p>La directory di configurazione di XDM è situata in <span class=filename>/usr/local/lib/X11/xdm</span>. In questa directory ci sono molti file usati per cambiare il comportamento e l’aspetto di XDM. Tipicamente in questi file sarà trovato:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">File</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xaccess</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Regole di autorizzazione del client.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xresources</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Valori di default delle risorse X.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xservers</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lista dei display locali e remoti da gestire.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xsession</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Script di default delle sessioni di login.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>Xsetup_</span>*</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Script per lanciare applicazioni prima dell’interfaccia di login.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xdm-config</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Configurazione globale per tutti i display che girano su questa macchina.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xdm-errors</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Errori generati dal programma server.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>xdm-pid</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’id di processo dell’XDM che è in esecuzione al momento.</p></td></tr></tbody></table><div class=paragraph><p>In questa directory ci sono anche alcuni scripts e programmi usati per impostare il desktop quando XDM è in esecuzione. Lo scopo di ognuno di questi file sarà descritto brevemente. La sintassi esatta e l’uso di tutti questi file è descritto in <a href="https://man.freebsd.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;format=html">xdm(1)</a>.</p></div><div class=paragraph><p>La configurazione di default è una semplice finestra di login rettangolare con l’hostname della macchina mostrato in cima a grandi caratteri e sotto un prompt di "Login:" e "Password:". Questo è un buon punto di inizio per cambiare l’aspetto degli schermi XDM.</p></div><div class=sect4><h5 id=_xaccess>5.6.3.1. Xaccess<a class=anchor href=#_xaccess></a></h5><div class=paragraph><p>Il protocollo per connettersi ai display controllati da XDM è chiamato l’X Display Manager Connection Protocol (XDMCP). Questo file è un insieme di regole per controllare le connessioni XDMCP da remoto. È ignorato a meno che <span class=filename>xdm-config</span> sia cambiato per restare in ascolto di connessioni remote. Di default non permette a nessun client di connettersi.</p></div></div><div class=sect4><h5 id=_xresources>5.6.3.2. Xresources<a class=anchor href=#_xresources></a></h5><div class=paragraph><p>Questa è un file di default dell’applicazione per il selettore di display e schermate di login. In questo, l’apparenza del programma di login può essere modificata. Il formato è identico al file app-default descritto nella documentazione di X11.</p></div></div><div class=sect4><h5 id=_xservers>5.6.3.3. Xservers<a class=anchor href=#_xservers></a></h5><div class=paragraph><p>Questo è una lista dei display remoti che il programma di selezione dovrebbe fornire come scelta.</p></div></div><div class=sect4><h5 id=_xsession>5.6.3.4. Xsession<a class=anchor href=#_xsession></a></h5><div class=paragraph><p>Questo è lo script di default delle sessioni per XDM da eseguire dopo che un utente si è loggato. Normalmente ogni utente avrà uno script di sessione personalizzato in <span class=filename>~/.xsession</span> che sovrascriverà questo script.</p></div></div><div class=sect4><h5 id=_xsetup>5.6.3.5. Xsetup_*<a class=anchor href=#_xsetup></a></h5><div class=paragraph><p>Questi andranno automaticamente in esecuzione prima di mostrare il selettore o le interfacce di login. C’è uno script per ogni display in uso, chiamato <span class=filename>Xsetup_</span> seguito dal numero del display locale (per esempio <span class=filename>Xsetup_0</span>). Tipicamente questi script eseguirannno uno o due programmi in background come <code>xconsole</code>.</p></div></div><div class=sect4><h5 id=_xdm_config>5.6.3.6. xdm-config<a class=anchor href=#_xdm_config></a></h5><div class=paragraph><p>Questo contiene le impostazioni nella forma di default di applicazioni che sono applicabili ad ogni display che questa installazione gestisce.</p></div></div><div class=sect4><h5 id=_xdm_errors>5.6.3.7. xdm-errors<a class=anchor href=#_xdm_errors></a></h5><div class=paragraph><p>Questo contiene l’output di ogni X server che XDM cerca di eseguire. Se un display che XDM gestisce si blocca per qualche motivo, questo è un buon posto per cercare messaggi di errore. Questi stessi messaggi sono anche scritti nel file dell’utente <span class=filename>~/.xsession-errors</span> in base alla sessione.</p></div></div></div><div class=sect3><h4 id=_eseguire_un_network_display_server>5.6.4. Eseguire un Network Display Server<a class=anchor href=#_eseguire_un_network_display_server></a></h4><div class=paragraph><p>Affinchè gli altri clienti si connettano al server di display, devi editare le regole di controllo degli accessi ed abilitare il processo in ascolto di connessioni. Di default queste sono impostate a valori conservativi. Per far sì che XDM resti in ascolto in attesa di connessioni, per prima cosa decommenta una linea nel file <span class=filename>xdm-config</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>!</span> SECURITY: <span class=k>do </span>not listen <span class=k>for </span>XDMCP or Chooser requests
<span class=o>!</span> Comment out this line <span class=k>if </span>you want to manage X terminals with xdm
DisplayManager.requestPort:     0</code></pre></div></div><div class=paragraph><p>e poi riavvia XDM. Ricordati che i commenti nei file app-default iniziano con un carattere "!", non con l’usuale "#". Possono essere desiderabili controlli degli acccessi più stretti - guarda le entry di esempio in <span class=filename>Xaccess</span>, e fai riferimento alla pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;format=html">xdm(1)</a> per ulteriori informazioni.</p></div></div><div class=sect3><h4 id=_programmi_sostitutivi_per_xdm>5.6.5. Programmi sostitutivi per XDM<a class=anchor href=#_programmi_sostitutivi_per_xdm></a></h4><div class=paragraph><p>Ci sono molti programmi sostitutivi per il classico programma XDM. Uno di questi, kdm (distribuito con KDE) viene descritto successivamente in questo capitolo. Il display manager kdm offre molti miglioramenti visuali e rifiniture grafiche, come anche la possibilità di permettere agli utenti di scegliere il loro window manager al momento del login.</p></div></div></div><div class=sect2><h3 id=x11-wm>5.7. Desktop Environment<a class=anchor href=#x11-wm></a></h3><div class=paragraph><p>Questa sezione descrive alcuni diversi desktop environment disponibili per X su FreeBSD. Un "desktop environment" può significare tutto ciò che va da un semplice window manager ad una completa suite di applicazioni desktop, come KDE o GNOME.</p></div><div class=sect3><h4 id=x11-wm-gnome>5.7.1. GNOME<a class=anchor href=#x11-wm-gnome></a></h4><div class=sect4><h5 id=x11-wm-gnome-about>5.7.1.1. A proposito di GNOME<a class=anchor href=#x11-wm-gnome-about></a></h5><div class=paragraph><p>GNOME è un desktop environment user-friendly che permette agli utenti di usare semplicemente il loro computer e configurarlo. GNOME include un pannello (per avviare le applicazioni e mostrarne lo status), un desktop (dove dati ed applicazioni possono essere posti), un insieme di strumenti da desktop ed applicativi, ed un insieme di convenzioni che rendono semplice per le applicazioni la cooperazione e la consistenza reciproca. Gli utenti di altri sistemi operativi o environment dovrebbero sentirsi a casa loro usando il potente ambiente grafico che GNOME offre. Ulteriori informazioni a proposito di GNOME su FreeBSD possono essere trovate sul sito <a href=http://www.FreeBSD.org/gnome>FreeBSD GNOME Project</a>. Il sito web contiene anche delle FAQ abbastanza estese circa l’installazione, la configurazione, e la gestione di GNOME.</p></div></div><div class=sect4><h5 id=x11-vm-gnome-install>5.7.1.2. Installare GNOME<a class=anchor href=#x11-vm-gnome-install></a></h5><div class=paragraph><p>Il software può essere installato facilmente da un pacchetto o dalla collezione dei Ports:</p></div><div class=paragraph><p>Per installare il pacchetto GNOME dalla rete, semplicemente digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r gnome2</span></code></pre></div></div><div class=paragraph><p>Per compilare GNOME da sorgenti, usa l’albero dei ports:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11/gnome2</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Una volta che GNOME è installato, bisogna dire al server X di avviare GNOME invece del window manager di default.</p></div><div class=paragraph><p>Il modo più semplice per avviare GNOME è con GDM, il Display Manager di GNOME. GDM, che è installato come parte del desktop GNOME (ma è disabilitato di default) può essere abilitato aggiungendo <code>gdm_enable="YES"</code> a <span class=filename>/etc/rc.conf</span>. Una volta che hai rebootato, GNOME partirà automaticamente una volta che ti logghi - nessuna altra configurazione è necessaria.</p></div><div class=paragraph><p>GNOME può anche essere avviato dalla command-line configurando propriamente un file chiamato <span class=filename>.xinitrc</span>. Se un file personalizzato <span class=filename>.xinitrc</span> è già al suo posto, semplicemente sostituisci la linea che avvia il window manager corrente con una che invece avvia /usr/local/bin/gnome-session. Se invece non è stato fatto nulla di speciale al file di configurazione, dovrebbe essere sufficiente digitare:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;/usr/local/bin/gnome-session&#34;</span> <span class=o>&gt;</span> ~/.xinitrc</code></pre></div></div><div class=paragraph><p>Quindi, digita <code>startx</code> e il desktop environment GNOME sarà avviato.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se un precedente display manager, come XDM, è in uso, questo non funzionerà. Invece, crea un file eseguibile <span class=filename>.xsession</span> con lo stesso comando dentro. Per farlo edita il file e sostituisci il window manager esistente con /usr/local/bin/gnome-session:</p></div></td></tr></tbody></table></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;#!/bin/sh&#34;</span> <span class=o>&gt;</span> ~/.xsession
% <span class=nb>echo</span> <span class=s2>&#34;/usr/local/bin/gnome-session&#34;</span> <span class=o>&gt;&gt;</span> ~/.xsession
% <span class=nb>chmod</span> +x ~/.xsession</code></pre></div></div><div class=paragraph><p>Un’altra opzione è configurare il display manager per scegliere il window manager al momento di login; la sezione in <a href=#x11-wm-kde-details>KDE details</a> spiega come farlo per kdm, il display manager di KDE.</p></div></div><div class=sect4><h5 id=x11-wm-gnome-antialias>5.7.1.3. Font anti-aliased con GNOME<a class=anchor href=#x11-wm-gnome-antialias></a></h5><div class=paragraph><p>X11 supporta l’anti-aliasing attraverso l’estensione "RENDER". GTK+ 2.0 e successivi (il toolkit usato da GNOME) può fare uso di questa funzionalità. Configurare l’anti-aliasing è descritto in <a href=#antialias>Font Anti-Aliased</a>. Così, con software aggiornato, è possibile usare l’anti-aliasing all’interno del desktop GNOME. Basta che vai in <span class=menuseq><b class=menu>Applications</b> <i class="fa fa-angle-right caret"></i> <b class=submenu>Desktop Preferences</b> <i class="fa fa-angle-right caret"></i> <b class=menuitem>Font</b></span>, e selezioni <b class=button>Best shapes</b>, <b class=button>Best contrast</b>, o <b class=button>Subpixel smoothing (LCDs)</b>. Per una applicazione GTK+ che non è parte di GNOME, imposta la variabile di ambiente <code>GDK_USE_XFT</code> a <code>1</code> prima di avviare il programma.</p></div></div></div><div class=sect3><h4 id=x11-wm-kde>5.7.2. KDE<a class=anchor href=#x11-wm-kde></a></h4><div class=sect4><h5 id=x11-wm-kde-about>5.7.2.1. A proposito di KDE<a class=anchor href=#x11-wm-kde-about></a></h5><div class=paragraph><p>KDE è un desktop environment facila da usare. Alcune delle caratteristiche che KDE fornisce alll’utente sono:</p></div><div class=ulist><ul><li><p>Un bel desktop moderno</p></li><li><p>Un desktop che esibisce una totale trasparenza rispetto alla rete.</p></li><li><p>Un sistema di help integrato che permette accesso conveniente e consistente all’aiuto sull’uso del desktop KDE e le sue applicazioni</p></li><li><p>Un aspetto delle applicazioni KDE consistente fra loro</p></li><li><p>Menu e toolbars standardizzate, key-bindings, color-scheme etc.</p></li><li><p>Internazionalizzazione: KDE è disponibile in più di 40 linguaggi</p></li><li><p>Configurazione del desktop centralizzata, consistente e guidata da finestre dialog</p></li><li><p>Un gran numero di utili applicazioni KDE</p></li></ul></div><div class=paragraph><p>KDE viene installato con un browser chiamato Konqueror, che è un solido competitore di altri browser esistenti su sistemi UNIX®. Maggiori informazioni su KDE possono essere trovati al <a href=http://www.kde.org>sito di KDE</a>. Per informazioni specifiche su FreeBSD e risorse su KDE consulta il sito <a href=http://freebsd.kde.org/>KDE sul sito del team di FreeBSD</a>.</p></div></div><div class=sect4><h5 id=x11-wm-kde-install>5.7.2.2. Installare KDE<a class=anchor href=#x11-wm-kde-install></a></h5><div class=paragraph><p>Proprio come con GNOME o altri desktop environment, il software può essere installato facilmente da pacchetto o dalla Collezione dei Port:</p></div><div class=paragraph><p>Per installare il pacchetto KDE dalla rete, semplicemente digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r kde</span></code></pre></div></div><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> automaticamente scaricherà l’ultima versione dell’applicazione.</p></div><div class=paragraph><p>Per compilare KDE dai sorgenti, usa l’albero dei ports:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11/kde3</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Dopo che KDE è stato installato, bisogna dire al server X di avviarlo al posto del window manager di default. Questo si ottiene editando il file <span class=filename>.xinitrc</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;exec startkde&#34;</span> <span class=o>&gt;</span> ~/.xinitrc</code></pre></div></div><div class=paragraph><p>Adesso, ogni volta che l’X Window System è avviato con <code>startx</code>, KDE sarà il desktop.</p></div><div class=paragraph><p>Se si usa un display manager come XDM, la configurazione è leggermente differente. Devi infatti editare il file <span class=filename>.xsession</span>. Le istruzioni per kdm sono descritte di seguito in questo capitolo.</p></div></div></div><div class=sect3><h4 id=x11-wm-kde-details>5.7.3. Maggiori dettagli su KDE<a class=anchor href=#x11-wm-kde-details></a></h4><div class=paragraph><p>Adesso che KDE è installato sul tuo computer, la maggior parte delle cose le puoi scoprire attraverso le pagine dell’help, o semplicemente puntando e cliccando qualche menu. Gli utenti Windows® e Mac® si sentiranno abbastanza a loro agio.</p></div><div class=paragraph><p>Il migliore riferimento per KDE è la documentazione on-line. KDE arriva con il suo web browser, Konqueror, dozzine di utili applicazioni e documentazione estesa. Il resto di questa sezione discute dettagli tecnici che sono difficili da imparare da una esplorazione casuale.</p></div><div class=sect4><h5 id=x11-wm-kde-kdm>5.7.3.1. Il Display Manager KDE<a class=anchor href=#x11-wm-kde-kdm></a></h5><div class=paragraph><p>Un amministratore di un sistema multiutente può desiderare di avere uno schermo di login grafico per dare il benvenuto agli utenti. <a href=#x-xdm>XDM</a> può essere usato, come descritto in precedenza. In ogni caso, KDE include un’alternativa, kdm, che è disegnato per essere più attraente ed includere maggiori opzioni di login. In particolare, gli utenti possono facilmente scegliere (attraverso un menu) quale desktop environment (KDE, GNOME o qualcos’altro) avviare dopo essersi loggati.</p></div><div class=paragraph><p>Per abilitare kdm, la entry <code>ttyv8</code> in <span class=filename>/etc/ttys</span> deve essere adattata. La linea assomiglia a questa:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyv8 &#34;/usr/local/bin/kdm -nodaemon&#34; xterm on secure</pre></div></div></div></div><div class=sect3><h4 id=x11-wm-xfce>5.7.4. XFce<a class=anchor href=#x11-wm-xfce></a></h4><div class=sect4><h5 id=x11-wm-xfce-about>5.7.4.1. A proposito di XFce<a class=anchor href=#x11-wm-xfce-about></a></h5><div class=paragraph><p>XFce è un desktop environment basato sul toolkit GTK+ usato da GNOME, ma è molto più snello e disegnato per quelli che vogliono un semplice, efficiente desktop che sia non di meno facile da usare e configurare. Visivamente, assomiglia molto a CDE, il desktop che si trova su sistemi UNIX® commerciali. Alcune delle caratteristiche di XFce sono:</p></div><div class=ulist><ul><li><p>Un semplice desktop, facile da gestire</p></li><li><p>Interamente configurabile via mouse, con drag and drop, etc.</p></li><li><p>Pannelli principali simili a CDE, con menu, applets e lanciatori di applicazioni</p></li><li><p>Window manager integrato, file manager, sound manager, modulo di compatiblità GNOME e altro</p></li><li><p>I suoi temi si possono configurare (grazie a GTK+)</p></li><li><p>Veloce, snello ed efficiente: ideale per macchine vecchie/lente o macchine con poca memoria</p></li></ul></div><div class=paragraph><p>Maggiori informazioni su XFce possono essere trovate sul sito web <a href=http://www.xfce.org/>XFce</a>.</p></div></div><div class=sect4><h5 id=x11-wm-xfce-install>5.7.4.2. Installare XFce<a class=anchor href=#x11-wm-xfce-install></a></h5><div class=paragraph><p>Esiste un pacchetto binario per XFce al momento in cui scriviamo. Per installarlo, semplicemente digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r xfce4</span></code></pre></div></div><div class=paragraph><p>In alternativa, per compilare dai sorgenti, usa la collezione dei ports:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/x11-wm/xfce4</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Adesso devi dire all’X server di lanciare XFce la prossima volta che X è avviato. Digita semplicemente questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>echo</span> <span class=s2>&#34;/usr/local/bin/startxfce4&#34;</span> <span class=o>&gt;</span> ~/.xinitrc</code></pre></div></div><div class=paragraph><p>La prossima volta che X è avviato, XFce sarà il desktop. Come prima, se un display manager come XDM è in uso, crea un <span class=filename>.xsession</span>, come descritto nella sezione su <a href=#x11-wm-gnome>GNOME</a>, ma con il comando <span class=filename>/usr/local/bin/startxfce4</span>; o configura il display manager per permetterti di scegliere un desktop al momento del login, come spiegato su <a href=#x11-wm-kde-kdm>kdm</a>.</p></div></div></div></div></div></div><h1 id=common-tasks class=sect0>Parte II: Compiti Ordinari<a class=anchor href=#common-tasks></a></h1><div class="openblock partintro"><div class=content><div class=paragraph><p>Ora che sono stati trattati gli elementi di base, questa parte del Manuale di FreeBSD verterà su alcune funzionalità di FreeBSD che sono usate di frequente. Questi capitoli:</p></div><div class=ulist><ul><li><p>Ti introdurranno utili e conosciute applicazioni desktop: browser, strumenti produttivi, visualizzatori di documenti, ecc.</p></li><li><p>Ti mostreranno vari strumenti multimediali disponibili per FreeBSD.</p></li><li><p>Ti spiegheranno il processo di costruzione e di personalizzazione del kernel di FreeBSD, al fine di abilitare funzionalità extra sul tuo sistema.</p></li><li><p>Ti descriveranno in dettaglio il sistema di stampa, sia per setup di stampanti desktop che per quelle in rete.</p></li><li><p>Ti mostreranno come eseguire applicazioni Linux sul tuo sistema FreeBSD.</p></li></ul></div><div class=paragraph><p>Alcuni di questi capitoli raccomandano di leggere prima altri capitoli per una migliore comprensione degli stessi, e questo è segnalato nella sinossi all’inizio di ogni capitolo.</p></div></div></div><div class=sect1><h2 id=desktop>Capitolo 6. Applicazioni Desktop<a class=anchor href=#desktop></a></h2><div class=sectionbody><div class=sect2><h3 id=desktop-synopsis>6.1. Sinossi<a class=anchor href=#desktop-synopsis></a></h3><div class=paragraph><p>FreeBSD può far girare una gran varietà di applicazioni desktop, come ad esempio browser per la navigazione ed editor di testi. La maggior parte di questi sono disponibili in pacchetti o possono essere automaticamente installati dalla collezione di port. Molti nuovi utenti si aspettano di trovare questo tipo di applicazioni nei loro desktop. Questo capitolo ti mostrerà come installare alcune popolari applicazioni desktop, dai package o dalla collezione dei port.</p></div><div class=paragraph><p>Da notare che quando installiamo programmi dalla collezione dei port, questi sono compilati dai sorgenti. Questa operazione potrebbe durare molto tempo, dipende da cosa stai compilando e dalla potenza della tua macchina. Se per te compilare i sorgenti occupa un arco di tempo troppo lungo, puoi installare la maggior parte dei programmi della collezione dei port da pacchetti precompilati.</p></div><div class=paragraph><p>Visto che FreeBSD è compatibile con i binari di Linux, molte applicazione originariamente scritte per Linux sono disponibili per il tuo desktop. È fortemente raccomandata la lettura del <a href=./#linuxemu>Compatibilità con i Binari di Linux</a> prima di installare qualsiasi applicazione per Linux. La maggior parte dei port che sfruttano la compatibilità con Linux iniziano con "linux-". Ricordatelo quando cerchi un port in particolare, per esempio con <a href="https://man.freebsd.org/cgi/man.cgi?query=whereis&amp;sektion=1&amp;format=html">whereis(1)</a>. Nella parte seguente, si presuppone che tu abbia installato il supporto per la compatibilità con i binari di Linux prima di installare qualsiasi applicazione per Linux.</p></div><div class=paragraph><p>Queste sono le categorie software trattate in questo capitolo:</p></div><div class=ulist><ul><li><p>Browser (come ad es. Mozilla, Opera, Firefox, Konqueror)</p></li><li><p>Produttività (come ad es. KOffice, AbiWord, The GIMP, OpenOffice.org)</p></li><li><p>Visualizzatori di documenti (come ad es. Acrobat Reader®, gv, Xpdf, GQview)</p></li><li><p>Finance (come ad es. GnuCash, Gnumeric, Abacus)</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Essere in grado di installare altro software di terze parti (<a href=./#ports>Installazione delle Applicazioni. Port e Package</a>).</p></li><li><p>Essere in grado di installare altro software per Linux (<a href=./#linuxemu>Compatibilità con i Binari di Linux</a>).</p></li></ul></div><div class=paragraph><p>Per informazioni su come avere un ambiente multimediale, leggi il <a href=./#multimedia>Multimedia</a>. Se vuoi installare e usare l’e-mail, sono presenti riferimenti nel <a href=./#mail>Posta Elettronica</a>.</p></div></div><div class=sect2><h3 id=desktop-browsers>6.2. Browser<a class=anchor href=#desktop-browsers></a></h3><div class=paragraph><p>In FreeBSD non viene preinstallato nessun browser in particolare. Invece, la directory <a href=http://www.FreeBSD.org/ports/>www</a> della collezione dei port contiene molti browser pronti per essere installati. Se non hai il tempo di compilare tutto (in alcuni casi potrebbe occupare molto tempo) molti di questi sono disponibili come package.</p></div><div class=paragraph><p>KDE e anche GNOME hanno dei browser HTML. Guarda la <a href=./#x11-wm>Desktop Environment</a> per avere informazioni su come installare questi ambienti desktop.</p></div><div class=paragraph><p>Se stai cercando dei browser leggeri, dovresti controllare la collezione dei port per <a class=package href=https://cgit.freebsd.org/ports/tree/www/dillo/>www/dillo</a>, <a class=package href=https://cgit.freebsd.org/ports/tree/www/links/>www/links</a>, oppure <a class=package href=https://cgit.freebsd.org/ports/tree/www/w3m/>www/w3m</a>.</p></div><div class=paragraph><p>Questa sezione riguarda le seguenti applicazioni:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Nome dell’applicazione</th><th class="tableblock halign-left valign-top">Livello di risorse necessarie</th><th class="tableblock halign-left valign-top">Installazione dai port</th><th class="tableblock halign-left valign-top">Principali dipendenze</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gtk+</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Opera</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versione FreeBSD e versione per Linux. La versione per Linux ha come dipendenze la Compatibilità binaria con Linux e linux-openmotif</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Firefox</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>medio</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gtk+</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Konqueror</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>medio</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Librerie KDE</p></td></tr></tbody></table><div class=sect3><h4 id=_mozilla>6.2.1. Mozilla<a class=anchor href=#_mozilla></a></h4><div class=paragraph><p>Mozilla è un browser moderno, stabile, e completamente supportato da FreeBSD: tra le caratteristiche un motore di visualizzazione di pagine che segue completamente lo standard HTML; ha inoltre un lettore di mail e news. Presenta anche un editor HTML se vuoi comporre della pagine web. Gli utenti di <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a> riconosceranno le somiglianze con la suite Communicator, in quanto entrambi i browser condividono parte dello sviluppo.</p></div><div class=paragraph><p>Su macchine lente, con una velocità di CPU minore di 233MHz o con meno di 64MB di RAM, Mozilla potrebbe utilizzare troppe risorse per essere eseguito al meglio. Potresti invece dare un’occhiata al browser Opera descritto poco più avanti in questo capitolo.</p></div><div class=paragraph><p>Se non puoi o non vuoi compilare Mozilla, per qualsiasi ragione, il FreeBSD GNOME team l’ha già fatto per te. Devi solo installare il pacchetto dalla rete con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r mozilla</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile, e hai abbastanza tempo e spazio su disco, puoi prelevare i sorgenti di Mozilla, compilarli e installarli sul tuo sistema. Questo può essere fatto con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/www/mozilla</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Puoi assicurarti una corretta inizializzazione del port di Mozilla attraverso l’esecuzione dell’utility chrome registry setup con i privilegi di <code>root</code>. In ogni caso se vuoi prelevare alcuni add-ons come ad esempio gestori del mouse, dovresti eseguire Mozilla come <code>root</code> per installarli correttamente.</p></div><div class=paragraph><p>Una volta completata l’installazione di Mozilla, non necessiti di essere ancora <code>root</code>. Puoi avviare Mozilla come browser digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mozilla</code></pre></div></div><div class=paragraph><p>Puoi avviarlo direttamente come lettore di mail e news come mostrato qui sotto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mozilla <span class=nt>-mail</span></code></pre></div></div></div><div class=sect3><h4 id=_firefox>6.2.2. Firefox<a class=anchor href=#_firefox></a></h4><div class=paragraph><p>Firefox è il browser di nuova generazione basato sul codice di Mozilla. Mozilla è una suite di applicazioni completa, includendo un browser, un client di posta elettronica, un client per chat e altro ancora. Firefox è solo un browser, e ciò lo rende di piccole dimensioni e veloce.</p></div><div class=paragraph><p>Installa il package con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r firefox</span></code></pre></div></div><div class=paragraph><p>Puoi usare anche la collezione dei port se preferisci compilare il codice sorgente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/www/firefox</span>
<span class=c># make install clean</span></code></pre></div></div></div><div class=sect3><h4 id=moz-java-plugin>6.2.3. Firefox, Mozilla e il plugin Java™<a class=anchor href=#moz-java-plugin></a></h4><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In questa sezione e nella prossima, si presuppone che Firefox o Mozilla siano già installati.</p></div></td></tr></tbody></table></div><div class=paragraph><p>La FreeBSD Foundation ha una licenza con Sun Microsystems per distribuire i binari di FreeBSD relativi alla Java Runtime Environment (JRE™) e al Java Development Kit (JDK™). I package binari per FreeBSD sono disponibili sul sito web della <a href=http://www.freebsdfoundation.org/downloads/java.shtml>FreeBSD Foundation</a>.</p></div><div class=paragraph><p>Per aggiungere il supporto Java™ a Firefox o a Mozilla, devi prima installare il port <a class=package href=https://cgit.freebsd.org/ports/tree/java/javavmwrapper/>java/javavmwrapper</a>. Quindi, scarica il package Diablo JRE™ da <a href=http://www.freebsdfoundation.org/downloads/java.shtml>http://www.freebsdfoundation.org/downloads/java.shtml</a>, e installalo con <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a>.</p></div><div class=paragraph><p>Avvia il tuo browser, digita <code>about:plugins</code> nella barra degli indirizzi e premi <kbd>Invio</kbd>. Verrà visualizzata una pagina con un riepilogo dei plugin installati, tra i quali dovrebbe comparire il plugin di Java™. Se questo non accade, come <code>root</code>, dai il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -s /usr/local/diablo-jre1.5.0/plugin/i386/ns7/libjavaplugin_oji.so \</span>
  /usr/local/lib/browser_plugins/</code></pre></div></div><div class=paragraph><p>quindi riavvia il tuo browser.</p></div></div><div class=sect3><h4 id=moz-flash-plugin>6.2.4. Firefox, Mozilla e il plugin Flash™ della Macromedia®<a class=anchor href=#moz-flash-plugin></a></h4><div class=paragraph><p>Il plugin Flash™ della Macromedia® non è disponibile per FreeBSD. Tuttavia, esiste uno strato applicativo (wrapper) per eseguire una versione Linux del plugin. Questo wrapper inoltre supporta i plugin Adobe® Acrobat®, il plugin RealPlayer® e altri.</p></div><div class=paragraph><p>Installa il port <a class=package href=https://cgit.freebsd.org/ports/tree/www/linuxpluginwrapper/>www/linuxpluginwrapper</a>. Questo port richiede <a class=package href=https://cgit.freebsd.org/ports/tree/emulators/linux_base/>emulators/linux_base</a> che è un port di notevoli dimensioni. Segui le istruzioni a video per inizializzare correttamente il tuo <span class=filename>/etc/libmap.conf</span>! Esempi di configurazione sono installati nella directory <span class=filename>/usr/local/shared/examples/linuxpluginwrapper/</span>.</p></div><div class=paragraph><p>Il prossimo passo è installare il port <a class=package href=https://cgit.freebsd.org/ports/tree/www/linux-flashplugin7/>www/linux-flashplugin7</a>. Quando hai installato il plugin, avvia il tuo browser, digita <code>about:plugins</code> nella barra degli indirizzi e premi <kbd>Invio</kbd>. Dovrebbe comparire una lista con tutti i plugin disponibili.</p></div><div class=paragraph><p>Se il plugin di Flash™ non viene elencato, nella maggior parte dei casi si tratta di un link simbolico mancante. Digita i seguenti comandi come <code>root</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -s /usr/local/lib/npapi/linux-flashplugin/libflashplayer.so \</span>
 /usr/local/lib/browser_plugins/
<span class=c># ln -s /usr/local/lib/npapi/linux-flashplugin/flashplayer.xpt \</span>
 /usr/local/lib/browser_plugins/</code></pre></div></div><div class=paragraph><p>Se fai ripartire il browser il plugin dovrebbe ora comparire nella lista menzionata in precedenza.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>linuxpluginwrapper funziona solo su architetture i386™.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_opera>6.2.5. Opera<a class=anchor href=#_opera></a></h4><div class=paragraph><p>Opera è un browser pieno di funzionalità, basato sugli standard attuali. Tra le altre cose include un client di posta, di news, un client IRC e un lettore RSS/Atom. Opera è relativamente leggero e molto veloce. È disponibile in due versioni: una "nativa" per FreeBSD e una che gira sotto emulazione Linux.</p></div><div class=paragraph><p>Per navigare nel web con la versione per FreeBSD di Opera, installa il package:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r opera</span></code></pre></div></div><div class=paragraph><p>Alcuni siti FTP non hanno tutti i pacchetti, ma è possibile ottenere Opera con la collezione dei port digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/port/www/opera</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Per installare la versione Linux di Opera, sostituisci <code>linux-opera</code> al posto di <code>opera</code> nell’esempio sopra. La versione Linux è utile in situazioni che richiedono l’uso di plugin che sono disponibili solo per Linux, come ad esempio Adobe Acrobat Reader®. In tutti gli altri casi, le versioni per FreeBSD e Linux dovrebbero funzionare all stesso modo.</p></div></div><div class=sect3><h4 id=_konqueror>6.2.6. Konqueror<a class=anchor href=#_konqueror></a></h4><div class=paragraph><p>Konqueror fa parte di KDE ma è anche possibile usarlo senza KDE installando <a class=package href=https://cgit.freebsd.org/ports/tree/x11/kdebase3/>x11/kdebase3</a>. Konqueror è molto più che un browser, è anche un file manager e un lettore multimediale.</p></div><div class=paragraph><p>Esistono alcuni plugin per Konqueror, disponibili in <a class=package href=https://cgit.freebsd.org/ports/tree/misc/konq-plugins/>misc/konq-plugins</a>.</p></div><div class=paragraph><p>Konqueror supporta Flash™; un "How To" per ottenere supporto a Flash™ con Konqueror è disponibile al link <a href=http://freebsd.kde.org/howto.php>http://freebsd.kde.org/howto.php</a>.</p></div></div></div><div class=sect2><h3 id=desktop-productivity>6.3. Produttività<a class=anchor href=#desktop-productivity></a></h3><div class=paragraph><p>Quando si parla di produttività, i nuovi utenti spesso cercano un buon pacchetto office o un facile e completo editor di testi. Non ci sono applicativi di produttività di default, mentre alcuni <a href=./#x11-wm>ambienti desktop</a> come KDE sono muniti di un pacchetto office. FreeBSD dispone di tutto ciò che è necessario, indipendentemente dal tuo ambiente desktop.</p></div><div class=paragraph><p>Questa sezione riguarda le seguenti applicazioni:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Nome dell’applicazione</th><th class="tableblock halign-left valign-top">Livello di risorse necessarie</th><th class="tableblock halign-left valign-top">Installazione dai port</th><th class="tableblock halign-left valign-top">Principali dipendenze</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>KOffice</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>KDE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>AbiWord</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gtk+ o GNOME</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>The Gimp</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gtk+</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>OpenOffice.org</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>molto pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>JDK™ 1.4, Mozilla</p></td></tr></tbody></table><div class=sect3><h4 id=_koffice>6.3.1. KOffice<a class=anchor href=#_koffice></a></h4><div class=paragraph><p>La comunità KDE ha fornito il suo ambiente desktop di un pacchetto office che può essere usato all’esterno dell’ambiente KDE. Questo include le quattro principali componenti che sono presenti nelle altre principale suite di office. KWord è l’editor di testi, KSpread è il foglio di calcolo elettronico, KPresenter gestisce presentazioni a slide e Kontour ti permette di disegnare documenti grafici.</p></div><div class=paragraph><p>Prima di installare l’ultima release di KOffice, assicurati di avere una versione aggiornata di KDE.</p></div><div class=paragraph><p>Per installare KOffice come pacchetto, inserisci il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r koffice</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile puoi usare la collezione dei port. Per esempio, per installare KOffice per KDE3, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/editors/koffice-kde3</span>
<span class=c># make install clean</span></code></pre></div></div></div><div class=sect3><h4 id=_abiword>6.3.2. AbiWord<a class=anchor href=#_abiword></a></h4><div class=paragraph><p>AbiWord è un editor di testi gratuito simile in aspetto e non solo a Microsoft® Word. È adatto per la digitazione di documenti, lettere, reports, appunti e così via. È molto veloce, contiene molte funzioni, ed è molto facile da usare.</p></div><div class=paragraph><p>AbiWord può importare ed esportare file di molti tipi, compreso alcuni formati proprietari come i <span class=filename>.doc</span> di Microsoft®.</p></div><div class=paragraph><p>AbiWord è disponibile come package. Puoi installarlo digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r abiword</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile puoi recuperarlo dalla collezione dei port. La collezione dei port dovrebbe essere molto più aggiornata. Puoi fare come segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/editors/abiword</span>
<span class=c># make install clean</span></code></pre></div></div></div><div class=sect3><h4 id=_gimp>6.3.3. GIMP<a class=anchor href=#_gimp></a></h4><div class=paragraph><p>Per il disegno o il ritocco delle immagini, GIMP è un programma di manipolazione immagini molto sofisticato. Può essere usato come un semplice programma di disegno o come un programma di foto-ritocco professionale. Supporta un grande numero di plug-in, funzioni e un’interfaccia di scripting. GIMP può leggere e scrivere una enorme quantità di formati di file. Offre supporto di interfacce per scanner o tavolette.</p></div><div class=paragraph><p>Puoi installare il pacchetto con il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r gimp</span></code></pre></div></div><div class=paragraph><p>Se il tuo sito FTP non ha il pacchetto, puoi usare la collezione dei port. La directory <a href=http://www.FreeBSD.org/ports/>graphics</a> della collezione dei port contiene anche Il Manuale di Gimp. Di seguito riportiamo come installarli:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/graphics/gimp</span>
<span class=c># make install clean</span>
<span class=c># cd /usr/ports/graphics/gimp-manual-pdf</span>
<span class=c># make install clean</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>La directory <a href=http://www.FreeBSD.org/ports/>graphics</a> della collezione dei port contiene la versione di sviluppo di GIMP in <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/gimp-devel/>graphics/gimp-devel</a>. La versione in formato HTML del Manuale di Gimp è disponibile in <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/gimp-manual-html/>graphics/gimp-manual-html</a>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_openoffice_org>6.3.4. OpenOffice.org<a class=anchor href=#_openoffice_org></a></h4><div class=paragraph><p>OpenOffice.org unisce tutte le applicazioni necessarie in un completo pacchetto office di produttività personale: un editor di testi, un foglio di calcolo, un software per le presentazioni e uno di disegno. La sua interfaccia utente è molto simile alle altre suite di office, può inoltre importare ed esportare file in diversi popolari formati. È disponibile in un gran numero di differenti lingue - l’internazionalizzazione è stata estesa alle interfacce, ai correttori ortografici, e ai dizionari.</p></div><div class=paragraph><p>L’editor di testi di OpenOffice.org usa come formato di file nativo il formato XML per incrementare la portabilità e la flessibilità. Il foglio di calcolo elettronico incorpora un linguaggio per le macro che può essere interfacciato con un database esterno. OpenOffice.org è stabile e e gira nativamente sotto Windows®, Solaris™, Linux, FreeBSD, e Mac OS® X. Altre informazioni riguardo OpenOffice.org possono essere trovate sul <a href=http://www.openoffice.org/>sito web di OpenOffice.org</a>. Per informazioni specifiche su FreeBSD, e per scaricare direttamente i package, usa il sito web del <a href=http://porting.openoffice.org/freebsd/>FreeBSD OpenOffice.org Porting Team</a>.</p></div><div class=paragraph><p>Per installare OpenOffice.org, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r openoffice.org</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questo potrebbe funzionare quando hai una versione -RELEASE di FreeBSD. Altrimenti, dovresti dare un’occhiata al sito web del OpenOffice.org Porting Team per scaricare ed installare con <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg_add&amp;sektion=1&amp;format=html">pkg_add(1)</a> il package appropriato. Sul sito sono disponibili sia la release corrente che la versione di sviluppo.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Una volta installato il pacchetto, devi digitare il comando seguente per avviare OpenOffice.org:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% openoffice.org</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Al primo avvio ti verrano poste alcune questioni e verrà creata la cartella <span class=filename>.openoffice.org2</span> nella tua directory home.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se il pacchetto OpenOffice.org non è disponibile hai ancora la possibilità di compilare il port. Come sempre, devi tenere presente che necessiterai di molto spazio nel tuo hard disk e di molto tempo per la compilazione.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/editors/openoffice.org-2</span>
<span class=c># make install clean</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se vuoi compilare una versione localizzata, sostituisci la linea di comando precedente con questa:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make LOCALIZED_LANG=il_tuo_linguaggio install clean</span></code></pre></div></div><div class=paragraph><p>Sostituisci <em>il</em> tuo <em>linguaggio</em> con il codice ISO-code corretto. Una lista di codici di linguaggi supportati è disponibile nel file <span class=filename>files/Makefile.localized</span>, posto nella directory del port.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Fatto ciò, OpenOffice.org può essere avviato con il comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% openoffice.org</code></pre></div></div></div></div><div class=sect2><h3 id=desktop-viewers>6.4. Visualizzatori di Documenti<a class=anchor href=#desktop-viewers></a></h3><div class=paragraph><p>Alcuni nuovi formati di documenti hanno recentemente guadagnato popolarità dall’avvento di UNIX®; i visualizzatori standard che richiedono potrebbero non essere inclusi nel sistema base. Vedremo come installare questi visualizzatori in questa sezione.</p></div><div class=paragraph><p>Questa sezione riguarda le seguenti applicazioni:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Nome dell’applicazone</th><th class="tableblock halign-left valign-top">Livello di risorse necessarie</th><th class="tableblock halign-left valign-top">Installazione dai port</th><th class="tableblock halign-left valign-top">Maggiori dipendenze</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Acrobat Reader®</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Supporto per la compatibilità per i binari Linux</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>gv</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Xaw3d</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Xpdf</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FreeType</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>GQview</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gtk+ o GNOME</p></td></tr></tbody></table><div class=sect3><h4 id=_acrobat_reader>6.4.1. Acrobat Reader®<a class=anchor href=#_acrobat_reader></a></h4><div class=paragraph><p>Molti documenti sono ora distribuiti come documenti in PDF, che significa "Portable Document Format". Uno dei visualizzatori raccomandati per file di questo tipo è Acrobat Reader®, rilasciato da Adobe per Linux. Visto che FreeBSD può eseguire binari per Linux, è disponibile anche per FreeBSD.</p></div><div class=paragraph><p>Per installare Acrobat Reader® 7 dalla collezione dei port, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/print/acroread7</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Il package non è disponibile a causa di restrizioni di licenza.</p></div></div><div class=sect3><h4 id=_gv>6.4.2. gv<a class=anchor href=#_gv></a></h4><div class=paragraph><p>gv è un visualizzatore per file PostScript® e PDF. Era originariamente basato su ghostview ma ha un look più gradevole grazie alle librerie Xaw3d. È veloce e l’interfaccia è pulita. gv ha molte funzioni, come orientamento, dimensione del foglio, scala, o antialias. Molte di queste operazioni possono essere eseguite sia dalla tastiera che dal mouse.</p></div><div class=paragraph><p>Per installare gv come pacchetto, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r gv</span></code></pre></div></div><div class=paragraph><p>Se non puoi scaricare il pacchetto puoi utilizzare la collezione dei port:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/print/gv</span>
<span class=c># make install clean</span></code></pre></div></div></div><div class=sect3><h4 id=_xpdf>6.4.3. Xpdf<a class=anchor href=#_xpdf></a></h4><div class=paragraph><p>Se vuoi un piccolo visualizzatore di PDF per FreeBSD, Xpdf è un leggero ed efficiente visualizzatore. Ha bisogno di veramente poche risorse ed è molto stabile. Usa i font standard di X e non ha bisogno di Motif® o di altri toolkit di X.</p></div><div class=paragraph><p>Per installare il pacchetto Xpdf usa questo comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r xpdf</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile o preferisci usare la collezione dei port digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/graphics/xpdf</span>
<span class=c># make install clean</span></code></pre></div></div><div class=paragraph><p>Una volta completata l’installazione, puoi avviare Xpdf e puoi usare il tasto destro del mouse per visualizzare il menù.</p></div></div><div class=sect3><h4 id=_gqview>6.4.4. GQview<a class=anchor href=#_gqview></a></h4><div class=paragraph><p>GQview è un manager di immagini. Puoi visualizzare un file con un solo click, avviare un editor esterno, visualizzare l’anteprima e molto altro. Consente inoltre di visualizzare l’anteprima delle immagini come diapositive ed alcune basilari operazioni sui file. Puoi gestire le tue collezioni di immagini e trovare facilmente i duplicati. GQview può lavorare in modalità full-screen e ha il supporto internazionale.</p></div><div class=paragraph><p>Se vuoi installare il pacchetto GQview, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r gqview</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile o preferisci usare la collezione di port digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/graphics/gqview</span>
<span class=c># make install clean</span></code></pre></div></div></div></div><div class=sect2><h3 id=desktop-finance>6.5. Bilancio<a class=anchor href=#desktop-finance></a></h3><div class=paragraph><p>Se per qualsiasi ragione vorresti gestire il tuo bilancio personale sul tuo desktop FreeBSD, ci sono alcune applicazioni potenti e facili da usare pronti per essere installate. Alcuni di questi sono compatibili con i formati di file più utilizzati, come ad esempio i formati usati da Quicken o Excel per i documenti.</p></div><div class=paragraph><p>Questa sezione copre questi programmi:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Nome dell’applicazione</th><th class="tableblock halign-left valign-top">Livello di risorse necessarie</th><th class="tableblock halign-left valign-top">Installazione dai port</th><th class="tableblock halign-left valign-top">Maggiori dipendenze</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>GnuCash</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNOME</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Gnumeric</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>GNOME</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Abacus</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tcl/Tk</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>KMyMoney</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>leggero</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>pesante</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>KDE</p></td></tr></tbody></table><div class=sect3><h4 id=_gnucash>6.5.1. GnuCash<a class=anchor href=#_gnucash></a></h4><div class=paragraph><p>GnuCash è parte del progetto di GNOME per mettere a disposizione degli utenti finali applicazioni facili da usare e potenti. Con GnuCash, puoi tenere traccie delle tue spese e dei tuoi guadagni, del conto bancario, o delle tue attività. Dispone di una interfaccia intuitiva pur rimanendo molto professionale.</p></div><div class=paragraph><p>GnuCash dispone di un ottimo registro, un sistema di account gerarchico, molte combinazioni di scelta rapida e tecniche di auto completamento. Può dividere una transazione singola in molte parti più dettagliate. GnuCash può importare e unire i file QIF di Quicken. Gestisce inoltre diversi formati esteri di valuta e data.</p></div><div class=paragraph><p>Per installare GnuCash nel tuo sistema, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r gnucash</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile, puoi usare la collezione dei port:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/finance/gnucash</span>
<span class=c># make install clean</span></code></pre></div></div></div><div class=sect3><h4 id=_gnumeric>6.5.2. Gnumeric<a class=anchor href=#_gnumeric></a></h4><div class=paragraph><p>Gnumeric è un programma per foglio di calcolo elettronico, fa parte dell’ambiente desktop GNOME. Dispone di molti automatismi utili, "auto completamento" in base al formato della cella con un sistema di formattazione automatica per molte operazioni. Può importare i files in un gran numero di formati popolari come quelli di Excel, Lotus 1-2-3, o Quattro Pro. Gnumeric supporta l’utilizzo di grafici attraverso il programma di grafica <a class=package href=https://cgit.freebsd.org/ports/tree/math/guppi/>math/guppi</a>. Ha un gran numero di funzioni e permette l’utilizzo di celle formattate come ad esempio nel formato data, valuta, numero, ora, e molti altri.</p></div><div class=paragraph><p>Per installare Gnumeric come un un pacchetto, digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r gnumeric</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non risulta disponibile puoi usare la collezione dei port con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/math/gnumeric</span>
<span class=c># make install clean</span></code></pre></div></div></div><div class=sect3><h4 id=_abacus>6.5.3. Abacus<a class=anchor href=#_abacus></a></h4><div class=paragraph><p>Abacus è un programma per foglio di calcolo leggero e facile da usare. Include molte funzioni utili in molti campi diversi come ad esempio in statistica, finanza, e matematica. Può importare ed esportare i file in formato Excel. Abacus può esportare anche in formato PostScript®.</p></div><div class=paragraph><p>Per installare Abacus come pacchetto digitare:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r abacus</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile puoi utilizzare la collezione dei port digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/deskutils/abacus</span>
<span class=c># make install clean</span></code></pre></div></div></div><div class=sect3><h4 id=_kmymoney>6.5.4. KMyMoney<a class=anchor href=#_kmymoney></a></h4><div class=paragraph><p>KMyMoney è un gestore delle finanze personali sviluppato per KDE. KMyMoney intende fornire ed incorporare tutte quelle funzionalità importanti che si possono trovare nelle applicazioni commerciali di gestione delle finanze personali. Inoltre tra le sue caratteristiche pone in risalto la facilità di utilizzo e la caratteristica contabilità di credito e debito. KMyMoney importa file dello standard Quicken Interchange Format (QIF), traccia investimenti, gestisce valute multiple, e fornisce molti report. Tramite un plugin separato è anche possibile importare formati OFX.</p></div><div class=paragraph><p>Per installare KMyMoney come un pacchetto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pkg_add -r kmymoney2</span></code></pre></div></div><div class=paragraph><p>Se il pacchetto non è disponibile, puoi usare la collezione dei port:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/finance/kmymoney2</span>
<span class=c># make install clean</span></code></pre></div></div></div></div><div class=sect2><h3 id=desktop-summary>6.6. Sommario<a class=anchor href=#desktop-summary></a></h3><div class=paragraph><p>Anche se FreeBSD è molto popolare tra gli ISP per le sue performance e la sua stabilità, è completamente pronto ad essere usato come desktop per l’utilizzo quotidiano. Con diverse migliaia di applicazioni disponibili sotto forma di <a href=http://www.FreeBSD.org/where/>pacchetti</a> o <a href=http://www.FreeBSD.org/ports/>port</a>, puoi avere un desktop perfetto che soddisfi tutte le tue necessità.</p></div><div class=paragraph><p>Qui di seguito un piccolo riassunto delle applicazioni trattate in questo capitolo:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Nome dell’applicazione</th><th class="tableblock halign-left valign-top">Nome del pacchetto</th><th class="tableblock halign-left valign-top">Nome del port</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Mozilla</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>mozilla</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/www/mozilla/>www/mozilla</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Opera</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>opera</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/www/opera/>www/opera</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Firefox</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>firefox</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/www/firefox/>www/firefox</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>KOffice</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>koffice-kde3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/editors/koffice-kde3/>editors/koffice-kde3</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>AbiWord</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>abiword</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/editors/abiword/>editors/abiword</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>The GIMP</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>gimp</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/graphics/gimp/>graphics/gimp</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>OpenOffice.org</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>openoffice</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/editors/openoffice-1.1/>editors/openoffice-1.1</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Acrobat Reader®</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>acroread</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/print/acroread7/>print/acroread7</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>gv</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>gv</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/print/gv/>print/gv</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Xpdf</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>xpdf</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/graphics/xpdf/>graphics/xpdf</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>GQview</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>gqview</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/graphics/gqview/>graphics/gqview</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>GnuCash</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>gnucash</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/finance/gnucash/>finance/gnucash</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Gnumeric</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>gnumeric</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/math/gnumeric/>math/gnumeric</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Abacus</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>abacus</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/deskutils/abacus/>deskutils/abacus</a></p></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=multimedia>Capitolo 7. Multimedia<a class=anchor href=#multimedia></a></h2><div class=sectionbody><div class=sect2><h3 id=multimedia-synopsis>7.1. Sinossi<a class=anchor href=#multimedia-synopsis></a></h3><div class=paragraph><p>FreeBSD supporta una grande varietà di schede audio, permettendoti di apprezzare un output di alta fedeltà dal tuo computer. Questo include l’abilità di registrare e riprodurre suoni nei formati MPEG Audio Layer 3 (MP3), WAV, ed Ogg Vorbis così come in molti altri formati. La FreeBSD Ports Collection contiene inoltre applicazioni che ti permettono di modificare l’audio registrato, aggiungere effetti sonori, e controllare i dispositivi MIDI collegati.</p></div><div class=paragraph><p>Con un po' di sperimentazione, FreeBSD può supportare la riproduzione di file video e DVD. Il numero di applicazioni per codificare, convertire, e riprodurre i vari formati video è più limitato del numero delle applicazioni audio. Per esempio nel momento in cui sto scrivendo, non esiste nella FreeBSD Ports Collection una buona applicazione per ricodificare che potrebbe essere usata per la conversione tra diversi formati, come c’è con <a class=package href=https://cgit.freebsd.org/ports/tree/audio/sox/>audio/sox</a>. Tuttavia, il panorama software in quest’area sta rapidamente cambiando.</p></div><div class=paragraph><p>Questo capitolo descriverà i passi necessari per configurare la tua scheda audio. La configurazione e l’installazione di X11 (<a href=./#x11>L’X Window System</a>) si sono già prese cura dei problemi hardware della tua scheda video, sebbene ci possano essere delle ottimizzazioni da applicare per una migliore riproduzione.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come configurare il sistema in modo che la scheda audio venga riconosciuta.</p></li><li><p>Metodi per verificare che la tua scheda funzioni.</p></li><li><p>Come risolvere i problemi di configurazione audio.</p></li><li><p>Come riprodurre e codificare file MP3.</p></li><li><p>Come sono supportate le applicazioni video dal server X.</p></li><li><p>Alcuni port per riprodurre/codificare filmati che danno buoni risultati.</p></li><li><p>Come riprodurre i DVD e i file <span class=filename>.mpg</span> e <span class=filename>.avi</span>.</p></li><li><p>Come estrarre i contenuti da CD e DVD su file.</p></li><li><p>Come configurare una scheda TV.</p></li><li><p>Come configurare uno scanner di immagini.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Sapere come configurare e installare un nuovo kernel (<a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>).</p></li></ul></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Provare a montare CD audio con il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> produrrà un errore, come minimo, o un <em>kernel panic</em>, alla peggio. Questi formati hanno codifiche particolari che differiscono dal comune file system ISO.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=sound-setup>7.2. Configurazione della Scheda Audio<a class=anchor href=#sound-setup></a></h3><div class=sect3><h4 id=sound-device>7.2.1. Configurare il Sistema<a class=anchor href=#sound-device></a></h4><div class=paragraph><p>Prima di iniziare, dovresti conoscere il modello della scheda che possiedi, il chip che utilizza, e se è una scheda PCI o ISA. FreeBSD supporta diverse schede PCI e ISA. Verifica la lista dei dispositivi audio supportati nell' <a href=https://www.FreeBSD.org/releases/12.0R/hardware/>Hardware Notes</a> per vedere se la tua scheda è supportata. Inoltre tale documento ti indicherà quale driver supporta la tua scheda.</p></div><div class=paragraph><p>Per usare il tuo dispositivo audio, dovrai caricare i driver corretti. Il caricamento del driver del dispositivo può essere fatto in due modi. Il metodo più semplice consiste semplicemente nel caricare un modulo nel kernel per la tua scheda audio con <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> che può essere fatto sia da linea di comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload snd_emu10k1</span></code></pre></div></div><div class=paragraph><p>sia aggiungendo la riga appropriata al file <span class=filename>/boot/defaults/loader.conf</span> come questa:</p></div><div class="literalblock programlisting"><div class=content><pre>snd_emu10k1_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Questi esempi sono per la scheda audio Creative SoundBlaster® Live!. Altri moduli sonori disponibili sono elencati in <span class=filename>/boot/loader.conf</span>. Se hai dei dubbi su quale driver usare, potresti provare a caricare il modulo <span class=filename>snd_driver</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload snd_driver</span></code></pre></div></div><div class=paragraph><p>Questo è un metadriver che carica i driver dei dispositivi audio più comuni in un solo colpo. Ciò permette di trovare velocemente il driver corretto. È anche possibile caricare tutti i driver audio attraverso il file <span class=filename>/boot/loader.conf</span>.</p></div><div class=paragraph><p>Se desideri scoprire il driver selezionato per la tua scheda audio dopo aver caricato il metadriver <span class=filename>snd_driver</span>, puoi verificare il file <span class=filename>/dev/sndstat</span> con il comando <code>cat /dev/sndstat</code>.</p></div><div class=paragraph><p>Un altro metodo è quello di compilare staticamente il supporto per la tua scheda audio nel kernel. La sezione seguente fornisce le informazioni di cui hai bisogno per aggiungere il supporto al tuo hardware in questo metodo. Per informazioni aggiuntive su come ricompilare il kernel, guarda il <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>.</p></div><div class=sect4><h5 id=_configurare_un_kernel_custom_con_il_supporto_audio>7.2.1.1. Configurare un Kernel Custom con il Supporto Audio<a class=anchor href=#_configurare_un_kernel_custom_con_il_supporto_audio></a></h5><div class=paragraph><p>La prima cosa da fare è aggiungere al kernel il driver di framework audio <a href="https://man.freebsd.org/cgi/man.cgi?query=sound&amp;sektion=4&amp;format=html">sound(4)</a>; per fare ciò devi aggiungere la seguente riga al tuo file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>device sound</pre></div></div><div class=paragraph><p>Poi, devi aggiungere il supporto per la tua scheda audio. Di conseguenza, devi conoscere quale driver supporta la scheda. Controlla la lista dei dispositivi audio supportati nell’<a href=https://www.FreeBSD.org/releases/12.0R/hardware/>Hardware Notes</a>, per determinare il driver corretto per la tua scheda sonora. Per esempio, la scheda SoundBlaster® Live! della Creative è supportata dal driver <a href="https://man.freebsd.org/cgi/man.cgi?query=snd_emu10k1&amp;sektion=4&amp;format=html">snd_emu10k1(4)</a>. Per aggiungere il supporto per questa scheda, usiamo la seguente riga:</p></div><div class="literalblock programlisting"><div class=content><pre>device snd_emu10k1</pre></div></div><div class=paragraph><p>Per conoscere la corretta sintassi da usare assicurati di leggere la pagina man del driver. La sintassi corretta per la configurazione del kernel di ogni driver audio supportato può essere trovata nel file <span class=filename>/usr/src/sys/conf/NOTES</span>.</p></div><div class=paragraph><p>Schede ISA non-PnP possono obbligarti a fornire al kernel informazioni su alcuni settaggi della scheda audio (IRQ, porta di I/O, etc), tipico di tutte le scheda ISA non-PnP. Questo può essere realizzato attraverso il file <span class=filename>/boot/device.hints</span>. All’avvio del sistema, il <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> leggerà questo file e passerà i settaggi al kernel. Per esempio, una vecchia scheda audio SoundBlaster® 16 ISA non-PnP della Creative userà il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=snd_sbc&amp;sektion=4&amp;format=html">snd_sbc(4)</a> in congiunzione con <code>snd_sb16</code>. Per questa scheda le seguenti linee devono essere aggiunte al file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>device snd_sbc
device snd_sb16</pre></div></div><div class=paragraph><p>e queste nel <span class=filename>/boot/device.hints</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>hint.sbc.0.at=&#34;isa&#34;
hint.sbc.0.port=&#34;0x220&#34;
hint.sbc.0.irq=&#34;5&#34;
hint.sbc.0.drq=&#34;1&#34;
hint.sbc.0.flags=&#34;0x15&#34;</pre></div></div><div class=paragraph><p>In questo caso, la scheda usa la porta di I/O <code>0x220</code> e l’IRQ <code>5</code>.</p></div><div class=paragraph><p>La sintassi usata nel file <span class=filename>/boot/device.hints</span> è spiegata nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=sound&amp;sektion=4&amp;format=html">sound(4)</a> e nella pagina man del driver in questione.</p></div><div class=paragraph><p>Il settaggi qui sopra sono quelli di default. In alcuni casi, potresti avere la necesità di modificare l’IRQ o altri parametri per far funzionare la tua scheda audio. Guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=snd_sbc&amp;sektion=4&amp;format=html">snd_sbc(4)</a> per maggiori dettagli su questo driver.</p></div></div></div><div class=sect3><h4 id=sound-testing>7.2.2. Collaudo della Scheda Audio<a class=anchor href=#sound-testing></a></h4><div class=paragraph><p>Dopo aver riavviato con il nuovo kernel, o dopo aver caricato il modulo richiesto, la scheda audio dovrebbe apparire nel tuo buffer dei messaggi (<a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a>) in modo simile a quanto segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>pcm0: &lt;Intel ICH3 <span class=o>(</span>82801CA<span class=o>)&gt;</span> port 0xdc80-0xdcbf,0xd800-0xd8ff irq 5 at device 31.5 on pci0
pcm0: <span class=o>[</span>GIANT-LOCKED]
pcm0: &lt;Cirrus Logic CS4205 AC97 Codec&gt;</code></pre></div></div><div class=paragraph><p>Lo stato della scheda audio può essere verificato leggendo il file <span class=filename>/dev/sndstat</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cat /dev/sndstat</span>
FreeBSD Audio Driver <span class=o>(</span>newpcm<span class=o>)</span>
Installed devices:
pcm0: &lt;Intel ICH3 <span class=o>(</span>82801CA<span class=o>)&gt;</span> at io 0xd800, 0xdc80 irq 5 bufsz 16384
kld snd_ich <span class=o>(</span>1p/2r/0v channels duplex default<span class=o>)</span></code></pre></div></div><div class=paragraph><p>L’output del tuo sistema potrebbe essere diverso. Se nessun dispositivo <span class=filename>pcm</span> viene visualizzato, rivedi ciò che è stato fatto di recente. Ricontrolla ancora una volta il tuo file di configurazione del kernel e assicurati di aver scelto il driver corretto. Alcuni problemi comuni sono elencati nella <a href=#troubleshooting>Problemi Comuni</a>.</p></div><div class=paragraph><p>Se tutto va bene, ora dovresti avere una scheda audio funzionante. Se i pin di audio-out del tuo drive CD-ROM o DVD-ROM sono collegati correttamente alla scheda audio, puoi inserire un CD nel drive e riprodurlo con <a href="https://man.freebsd.org/cgi/man.cgi?query=cdcontrol&amp;sektion=1&amp;format=html">cdcontrol(1)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% cdcontrol <span class=nt>-f</span> /dev/acd0 play 1</code></pre></div></div><div class=paragraph><p>Varie applicazioni, come <a class=package href=https://cgit.freebsd.org/ports/tree/audio/workman/>audio/workman</a> possono offrire una migliore interfaccia. Potresti voler installare una applicazione come <a class=package href=https://cgit.freebsd.org/ports/tree/audio/mpg123/>audio/mpg123</a> per ascoltare i file audio MP3.</p></div><div class=paragraph><p>Un altro modo veloce per controllare se la scheda trasmette dati al nodo <span class=filename>/dev/dsp</span> è questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cat </span>filename <span class=o>&gt;</span> /dev/dsp</code></pre></div></div><div class=paragraph><p>dove <em>filename</em> può essere qualsiasi file. Questo comando dovrebbe produrre del rumore, confermando che la scheda sonora sta lavorando.</p></div><div class=paragraph><p>I livelli del mixer della scheda possono essere modificati attraverso il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mixer&amp;sektion=8&amp;format=html">mixer(8)</a>. Maggiori dettagli possono essere trovati nella pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=mixer&amp;sektion=8&amp;format=html">mixer(8)</a>.</p></div><div class=sect4><h5 id=troubleshooting>7.2.2.1. Problemi Comuni<a class=anchor href=#troubleshooting></a></h5><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Errore</th><th class="tableblock halign-left valign-top">Soluzione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>sb_dspwr(XX) timed out</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Non è stata impostata correttamente la porta di I/O.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bad irq XX</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>È stato configurato erroneamente l’IRQ. Assicurati che l’IRQ impostato e quello della scheda siano gli stessi.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>xxx: gus pcm not attached, out of memory</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Non c’è abbastanza memoria disponibile per usare il dispositivo.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>xxx: can’t open /dev/dsp!</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Controlla con <code>fstat | grep dsp</code> se un’altra applicazione sta usando il dispositivo. Esound e il supporto audio di KDE sono famosi per creare problemi.</p></td></tr></tbody></table></div></div><div class=sect3><h4 id=sound-multiple-sources>7.2.3. Utilizzo di Sorgenti Audio Multiple<a class=anchor href=#sound-multiple-sources></a></h4><div class=paragraph><p>È spesso desiderabile avere più sorgenti di audio che siano in grado di suonare contemporaneamente, per esempio quando esound o artsd non supportano la condivisione del dispositivo audio con una certa applicazione.</p></div><div class=paragraph><p>FreeBSD ti permette di fare questo attraverso i <em>Virtual Sound Channels</em>, che possono essere abilitati con <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>. I canali virtuali permettono di multiplexare i canali di riproduzione della tua scheda audio mixando l’audio nel kernel.</p></div><div class=paragraph><p>Per impostare il numero dei canali virtuali, ci sono due variabili sysctl che, se sei l’utente <code>root</code>, possono essere impostate così:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl hw.snd.pcm0.vchans=4</span>
<span class=c># sysctl hw.snd.maxautovchans=4</span></code></pre></div></div><div class=paragraph><p>L’esempio qui sopra alloca quattro canali virtuali, che è un numero adatto all’uso di ogni giorno. <code>hw.snd.pcm0.vchans</code> è il numero dei canali virtuali che ha <span class=filename>pcm0</span>, ed è configurabile una volta che il dispositivo è collegato. <code>hw.snd.maxautovchans</code> è il numero dei canali virtuali che vengono dati a un nuovo dispositivo audio quando viene collegato tramite <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a>. Visto che il modulo <span class=filename>pcm</span> può essere caricato indipendentemente dai driver dell’hardware, <code>hw.snd.maxautovchans</code> può contenere tanti canali virtuali quanti ne verranno allocati successivamente ad ogni dispositivo collegato.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Non puoi cambiare il numero di canali virtuali per un dispositivo mentre questo è in uso. Chiudi tutti i programmi che stanno usando quel dispositivo, come player di musica o demoni del suono.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se non stai usando <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;format=html">devfs(5)</a>, dovrai indirizzare la tua applicazione su <span class=filename>/dev/dsp0</span>.<em>x</em>, dove <em>x</em> va da 0 a 3 se <code>hw.snd.pcm.0.vchans</code> è impostato a 4 come nel precedente esempio. Su un sistema che usa <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;format=html">devfs(5)</a>, questo verrà fatto automaticamente in modo trasparente per un programma che richiede <span class=filename>/dev/dsp0</span>.</p></div></div><div class=sect3><h4 id=_settare_i_valori_di_default_per_i_canali_del_mixer>7.2.4. Settare i Valori di Default per i Canali del Mixer<a class=anchor href=#_settare_i_valori_di_default_per_i_canali_del_mixer></a></h4><div class=paragraph><p>I valori di default per i diversi canali del mixer sono rigidamente codificati nel codice sorgente del driver <a href="https://man.freebsd.org/cgi/man.cgi?query=pcm&amp;sektion=4&amp;format=html">pcm(4)</a>. Ci sono svariate applicazioni e demoni che ti permettono di settare i valori del mixer memorizzandoli per le successive invocazioni, ma questa non è una soluzione pulita. È possibile settare valori di default del mixer a livello del driver - questo è realizzabile definendo i valori desiderati nel file <span class=filename>/boot/device.hints</span>, per esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>hint.pcm.0.vol=&#34;50&#34;</pre></div></div><div class=paragraph><p>Questo imposterà il canale volume a un valore di default di 50 non appena il modulo <a href="https://man.freebsd.org/cgi/man.cgi?query=pcm&amp;sektion=4&amp;format=html">pcm(4)</a> sarà caricato.</p></div></div></div><div class=sect2><h3 id=sound-mp3>7.3. Audio MP3<a class=anchor href=#sound-mp3></a></h3><div class=paragraph><p>Il formato MP3 (Audio MPEG Livello 3) raggiunge una qualità audio vicina a quella dei CD, non lasciandoti motivi per non utilizzarlo sulla tua workstation FreeBSD.</p></div><div class=sect3><h4 id=mp3-players>7.3.1. Lettori MP3<a class=anchor href=#mp3-players></a></h4><div class=paragraph><p>Da tempo, il più famoso lettore MP3 per X11 è XMMS (X Multimedia System). Le skin per Winamp possono essere usate con XMMS visto che la GUI è praticamente identica a quella di Winamp della Nullsoft. XMMS ha inoltre supporto nativo ai plug-in.</p></div><div class=paragraph><p>XMMS può essere installato dal port o dal package <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/xmms/>multimedia/xmms</a>.</p></div><div class=paragraph><p>L’interfaccia di XMMS è intuitiva, comprende una lista di brani da eseguire, un equalizzatore grafico, ed altro. Coloro che sono familiari con Winamp troveranno XMMS semplice da usare.</p></div><div class=paragraph><p>Il port <a class=package href=https://cgit.freebsd.org/ports/tree/audio/mpg123/>audio/mpg123</a> è un lettore MP3 alternativo, da riga di comando.</p></div><div class=paragraph><p>mpg123 può essere eseguito specificando il dispositivo audio e il nome del file MP3 sulla riga di comando, come mostrato qui sotto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mpg123 -a /dev/dsp1.0 Foobar-GreatestHits.mp3</span>
High Performance MPEG 1.0/2.0/2.5 Audio Player <span class=k>for </span>Layer 1, 2 and 3.
Version 0.59r <span class=o>(</span>1999/Jun/15<span class=o>)</span><span class=nb>.</span> Written and copyrights by Michael Hipp.
Uses code from various people. See <span class=s1>&#39;README&#39;</span> <span class=k>for </span>more!
THIS SOFTWARE COMES WITH ABSOLUTELY NO WARRANTY! USE AT YOUR OWN RISK!

Playing MPEG stream from Foobar-GreatestHits.mp3 ...
MPEG 1.0 layer III, 128 kbit/s, 44100 Hz joint-stereo</code></pre></div></div><div class=paragraph><p><code>/dev/dsp1.0</code> deve essere sostituito con il dispositivo <span class=filename>dsp</span> presente sul tuo sistema.</p></div></div><div class=sect3><h4 id=rip-cd>7.3.2. Estrazione delle Tracce Audio dei CD<a class=anchor href=#rip-cd></a></h4><div class=paragraph><p>Prima di codificare un CD o una traccia di CD in MP3, i dati audio sul CD devono essere estratti sul disco fisso. Questo avviene copiando direttamente i dati CDDA (CD Digital Audio) in file WAV.</p></div><div class=paragraph><p>Il tool <code>cdda2wav</code>, che fa parte della suite <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrtools/>sysutils/cdrtools</a>, viene usato per estrarre le informazioni audio dai CD e i dati associati.</p></div><div class=paragraph><p>Mentre il CD audio è nel lettore, può essere eseguito il seguente comando (come <code>root</code>) per estrarre un intero CD in singoli (per traccia) file WAV:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cdda2wav -D 0,1,0 -B</span></code></pre></div></div><div class=paragraph><p>cdda2wav supporta anche i lettori CDROM ATAPI (IDE). Per estrarre da un lettore IDE, specifica il nome del dispositivo al posto nel numero dell’unità SCSI. Ad esempio, per estrarre la traccia 7 dal lettore IDE:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cdda2wav -D /dev/acd0 -t 7</span></code></pre></div></div><div class=paragraph><p>Il <code>-D <em>0,1,0</em></code> indica il dispositivo SCSI <span class=filename>0,1,0</span>, che corrisponde all’output di <code>cdrecord -scanbus</code>.</p></div><div class=paragraph><p>Per estrarre tracce singole, usa l’opzione <code>-t</code> come mostrato:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cdda2wav -D 0,1,0 -t 7</span></code></pre></div></div><div class=paragraph><p>Questo esempio estrae la settima traccia del CD audio. Per estrarre una serie di tracce, per esempio dalla traccia uno alla sette, specifica un intervallo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cdda2wav -D 0,1,0 -t 1+7</span></code></pre></div></div><div class=paragraph><p>L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=dd&amp;sektion=1&amp;format=html">dd(1)</a> può anche essere usata per estrarre le tracce audio dai drive ATAPI, leggi <a href=./#duplicating-audiocds>Duplicating Audio CDs</a> per maggiori informazioni su questa possibilità.</p></div></div><div class=sect3><h4 id=mp3-encoding>7.3.3. Codifica in MP3<a class=anchor href=#mp3-encoding></a></h4><div class=paragraph><p>Al giorno d’oggi, il programma di codifica in mp3 da scegliere è lame. Lame può essere trovato in <a class=package href=https://cgit.freebsd.org/ports/tree/audio/lame/>audio/lame</a> nell’albero dei port.</p></div><div class=paragraph><p>Usando i file WAV estratti, il seguente comando convertirà <span class=filename>audio01.wav</span> in <span class=filename>audio01.mp3</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># lame -h -b 128 \</span>
<span class=nt>--tt</span> <span class=s2>&#34;Titolo&#34;</span> <span class=se>\</span>
<span class=nt>--ta</span> <span class=s2>&#34;Artista&#34;</span> <span class=se>\</span>
<span class=nt>--tl</span> <span class=s2>&#34;Album&#34;</span> <span class=se>\</span>
<span class=nt>--ty</span> <span class=s2>&#34;2002&#34;</span> <span class=se>\</span>
<span class=nt>--tc</span> <span class=s2>&#34;Estratto e codificato da Blah&#34;</span> <span class=se>\</span>
<span class=nt>--tg</span> <span class=s2>&#34;Genere&#34;</span> <span class=se>\</span>
audio01.wav audio01.mp3</code></pre></div></div><div class=paragraph><p>128 kbits sembra essere il bitrate standard in uso per gli MP3. Molti preferiscono la qualità maggiore dei 160, o 192. Più alto è il bitrate, più spazio consumerà l’MP3 risultante—​ma la qualità sarà maggiore. L’opzione <code>-h</code> attiva il modo "qualità migliore ma un po' più lento"". Le opzioni che iniziano con <code>--t</code> indicano i tag ID3, che solitamente contengono le informazioni sulla canzone, da inserire all’interno del file MP3. Ulteriori opzioni di codifica possono essere trovate consultando la pagina man di lame.</p></div></div><div class=sect3><h4 id=mp3-decoding>7.3.4. Decodifica da MP3<a class=anchor href=#mp3-decoding></a></h4><div class=paragraph><p>Per masterizzare un CD audio partendo dagli MP3, questi ultimi devono essere convertiti in un formato WAV non compresso. Sia XMMS che mpg123 supportano l’output di un MP3 in un formato non compresso.</p></div><div class=paragraph><p>Scrittura su Disco con XMMS:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Avvia XMMS.</p></li><li><p>Clicca con il tasto destro sulla finestra per far comparire il menu di XMMS.</p></li><li><p>Seleziona <code>Preference</code> sotto <code>Options</code>.</p></li><li><p>Cambia l’Output Plugin in "Disk Writer Plugin".</p></li><li><p>Premi <code>Configure</code>.</p></li><li><p>Inserisci (o scegli browse) la directory in cui salvare i file decompressi.</p></li><li><p>Carica il file MP3 in XMMS come al solito, con il volume al 100% e le impostazioni dell’equalizzatore disattivate.</p></li><li><p>Premi <code>Play</code> - XMMS apparirà come se stesse riproducendo l’MP3, ma non si sentirà nessuna musica. Sta riproducendo la musica su un file.</p></li><li><p>Assicurati di reimpostare l’Output Plugin di default come prima per ascoltare nuovamente gli MP3.</p></li></ol></div></div></div><div class=paragraph><p>Scrittura su stdout con mpg123:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Esegui <code>mpg123 -s audio01.mp3 > audio01.pcm</code></p></li></ol></div></div></div><div class=paragraph><p>XMMS scrive un file nel formato WAV, mentre mpg123 converte l’MP3 direttamente in dati audio PCM. Entrambi questi formati possono essere usati con cdrecord per creare CD audio. Devi utilizzare PCM con <a href="https://man.freebsd.org/cgi/man.cgi?query=burncd&amp;sektion=8&amp;format=html">burncd(8)</a>. Se usi file WAV, noterai un breve ticchettio all’inizio di ogni traccia, questo suono è l’intestazione del file WAV. Puoi semplicemente rimuovere l’intestazione del file WAV con l’utility SoX (può essere installata dal port o dal package <a class=package href=https://cgit.freebsd.org/ports/tree/audio/sox/>audio/sox</a>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sox <span class=nt>-t</span> wav <span class=nt>-r</span> 44100 <span class=nt>-s</span> <span class=nt>-w</span> <span class=nt>-c</span> 2 track.wav track.raw</code></pre></div></div><div class=paragraph><p>Leggi <a href=./#creating-cds>Creating and Using Optical Media (CDs & DVDs)</a> per ulteriori informazioni su come usare un masterizzatore con FreeBSD.</p></div></div></div><div class=sect2><h3 id=video-playback>7.4. Riproduzione Video<a class=anchor href=#video-playback></a></h3><div class=paragraph><p>La riproduzione video è un’area applicativa molto recente e in rapido sviluppo. Sii paziente. Non tutto funzionerà così facilmente come è stato per l’audio.</p></div><div class=paragraph><p>Prima di iniziare, dovresti conoscere il modello della scheda video che possiedi e il chip che usa. Sebbene Xorg e XFree86™ supportino una vasta varietà di schede video, poche offrono buone prestazioni in riproduzione. Per ottenere una lista di estensioni supportate dall’X server con la tua scheda usa il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=xdpyinfo&amp;sektion=1&amp;format=html">xdpyinfo(1)</a> mentre X11 sta girando.</p></div><div class=paragraph><p>È una buona idea avere un piccolo file MPEG che possa essere trattato come un file di test per la valutazione di vari riproduttori e opzioni. Visto che alcuni riproduttori di DVD cercheranno di default i DVD in <span class=filename>/dev/dvd</span>, o hanno questo nome di dispositivo codificato permanentemente al loro interno, potresti trovare utile creare dei link simbolici al dispositivo corretto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -sf /dev/acd0 /dev/dvd</span>
<span class=c># ln -sf /dev/acd0 /dev/rdvd</span></code></pre></div></div><div class=paragraph><p>Nota che, data la natura del <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;format=html">devfs(5)</a>, i collegamenti creati a mano come questi non rimarranno se riavvii il sistema. Per creare i collegamenti simbolici automaticamente quando avvii il sistema, aggiungi le seguenti righe in <span class=filename>/etc/devfs.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -sf /dev/acd0c /dev/dvd</span>
<span class=c># ln -sf /dev/acd0c /dev/rdvd</span></code></pre></div></div><div class=paragraph><p>In aggiunta, la decrittazione dei DVD, che richiede l’invocazione di speciali funzioni dei DVD-ROM, richiede il permesso in scrittura sui dispositivi DVD.</p></div><div class=paragraph><p>Per migliorare l’interfaccia della memoria condivisa di X11, è consigliabile incrementare i valori di alcune variabili <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>kern.ipc.shmmax=67108864
kern.ipc.shmall=32768</pre></div></div><div class=sect3><h4 id=video-interface>7.4.1. Determinazione delle Capacità Video<a class=anchor href=#video-interface></a></h4><div class=paragraph><p>Ci sono molti modi possibili per visualizzare immagini e filmati con X11. Quello che funzionerà meglio in pratica dipende in gran parte dal tuo hardware. Ogni metodo descritto qui sotto avrà una qualità variabile su hardware differente. In secondo luogo, il rendering video in X11 è un argomento che sta ricevendo un sacco di attenzione ultimamente, e con ogni nuova versione di Xorg, o di XFree86™ ci possono essere notevoli miglioramenti.</p></div><div class=paragraph><p>Una lista di interfacce video comuni:</p></div><div class="olist arabic"><ol class=arabic><li><p>X11: normale output di X11 che usa la memoria condivisa.</p></li><li><p>XVideo: un’estensione all’interfaccia X11 che supporta grafica e filmati in ogni oggetto X11 disegnabile.</p></li><li><p>SDL: Simple Directmedia Layer.</p></li><li><p>DGA: Direct Graphics Access.</p></li><li><p>SVGAlib: interfaccia di basso livello per la grafica da console.</p></li></ol></div><div class=sect4><h5 id=video-interface-xvideo>7.4.1.1. XVideo<a class=anchor href=#video-interface-xvideo></a></h5><div class=paragraph><p>Xorg e XFree86™ 4.X hanno un’estensione chiamata <em>XVideo</em> (aka Xvideo, aka Xv, aka xv) che permette di visualizzare grafica e filmati direttamente negli oggetti disegnabili attraverso una speciale accelerazione. Questa estensione fornisce una riproduzione di ottima qualità anche su macchine poco potenti.</p></div><div class=paragraph><p>Per controllare se l’estensione sta girando, usa <code>xvinfo</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% xvinfo</code></pre></div></div><div class=paragraph><p>XVideo è supportato dalla tua scheda se il risultato è simile a:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>X-Video Extension version 2.2
screen <span class=c>#0</span>
  Adaptor <span class=c>#0: &#34;Savage Streams Engine&#34;</span>
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
      <span class=s2>&#34;XV_COLORKEY&#34;</span> <span class=o>(</span>range 0 to 16777215<span class=o>)</span>
              client settable attribute
              client gettable attribute <span class=o>(</span>current value is 2110<span class=o>)</span>
      <span class=s2>&#34;XV_BRIGHTNESS&#34;</span> <span class=o>(</span>range <span class=nt>-128</span> to 127<span class=o>)</span>
              client settable attribute
              client gettable attribute <span class=o>(</span>current value is 0<span class=o>)</span>
      <span class=s2>&#34;XV_CONTRAST&#34;</span> <span class=o>(</span>range 0 to 255<span class=o>)</span>
              client settable attribute
              client gettable attribute <span class=o>(</span>current value is 128<span class=o>)</span>
      <span class=s2>&#34;XV_SATURATION&#34;</span> <span class=o>(</span>range 0 to 255<span class=o>)</span>
              client settable attribute
              client gettable attribute <span class=o>(</span>current value is 128<span class=o>)</span>
      <span class=s2>&#34;XV_HUE&#34;</span> <span class=o>(</span>range <span class=nt>-180</span> to 180<span class=o>)</span>
              client settable attribute
              client gettable attribute <span class=o>(</span>current value is 0<span class=o>)</span>
    maximum XvImage size: 1024 x 1024
    Number of image formats: 7
      <span class=nb>id</span>: 0x32595559 <span class=o>(</span>YUY2<span class=o>)</span>
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        <span class=nb>type</span>: YUV <span class=o>(</span>packed<span class=o>)</span>
      <span class=nb>id</span>: 0x32315659 <span class=o>(</span>YV12<span class=o>)</span>
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        <span class=nb>type</span>: YUV <span class=o>(</span>planar<span class=o>)</span>
      <span class=nb>id</span>: 0x30323449 <span class=o>(</span>I420<span class=o>)</span>
        guid: 49343230-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        <span class=nb>type</span>: YUV <span class=o>(</span>planar<span class=o>)</span>
      <span class=nb>id</span>: 0x36315652 <span class=o>(</span>RV16<span class=o>)</span>
        guid: 52563135-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        <span class=nb>type</span>: RGB <span class=o>(</span>packed<span class=o>)</span>
        depth: 0
        red, green, blue masks: 0x1f, 0x3e0, 0x7c00
      <span class=nb>id</span>: 0x35315652 <span class=o>(</span>RV15<span class=o>)</span>
        guid: 52563136-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        <span class=nb>type</span>: RGB <span class=o>(</span>packed<span class=o>)</span>
        depth: 0
        red, green, blue masks: 0x1f, 0x7e0, 0xf800
      <span class=nb>id</span>: 0x31313259 <span class=o>(</span>Y211<span class=o>)</span>
        guid: 59323131-0000-0010-8000-00aa00389b71
        bits per pixel: 6
        number of planes: 3
        <span class=nb>type</span>: YUV <span class=o>(</span>packed<span class=o>)</span>
      <span class=nb>id</span>: 0x0
        guid: 00000000-0000-0000-0000-000000000000
        bits per pixel: 0
        number of planes: 0
        <span class=nb>type</span>: RGB <span class=o>(</span>packed<span class=o>)</span>
        depth: 1
        red, green, blue masks: 0x0, 0x0, 0x0</code></pre></div></div><div class=paragraph><p>Inoltre tieni presente che i formati elencati (YUV2, YUV12, ecc) non sono presenti in tutte le implementazioni di XVideo e la loro assenza può ostacolare alcuni programmi.</p></div><div class=paragraph><p>Se il risultato è:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>X-Video Extension version 2.2
screen <span class=c>#0</span>
no adaptors present</code></pre></div></div><div class=paragraph><p>Allora XVideo probabilmente non è supportato per la tua scheda.</p></div><div class=paragraph><p>Se XVideo non è supportato per la tua scheda, questo vuol dire solamente che sarà più difficile soddisfare le richieste computazionali per il rendering video. A seconda della tua scheda video e del tuo processore, comunque, potresti essere ancora in grado di avere un’esperienza soddisfacente. Dovrai probabilmente dare un occhio ai modi per migliorare le prestazioni nella lettura avanzata <a href=#video-further-reading>Ulteriori Letture</a>.</p></div></div><div class=sect4><h5 id=video-interface-SDL>7.4.1.2. Simple Directmedia Layer<a class=anchor href=#video-interface-SDL></a></h5><div class=paragraph><p>Il Simple Directmedia Layer, SDL, vuole essere un’interfaccia di portabilità tra Microsoft® Windows, BeOS, e UNIX®, che possa permettere di sviluppare applicazioni multi-piattaforma che facciano buon uso di suoni e grafica. L’interfaccia SDL fornisce una astrazione di basso livello all’hardware che può a volte essere più efficiente dell’interfaccia X11.</p></div><div class=paragraph><p>L’SDL può essere trovata in <a class=package href=https://cgit.freebsd.org/ports/tree/devel/sdl12/>devel/sdl12</a>.</p></div></div><div class=sect4><h5 id=video-interface-DGA>7.4.1.3. Direct Graphics Access<a class=anchor href=#video-interface-DGA></a></h5><div class=paragraph><p>Direct Graphics Access è un’estensione di X11 che permette a un programma di evitare il server X ed alterare direttamente il buffer video. Siccome si basa su una mappatura di memoria a basso livello per effettuare questa condivisione, i programmi che la usano devono essere avviati da <code>root</code>.</p></div><div class=paragraph><p>L’estensione DGA può essere testata con <a href="https://man.freebsd.org/cgi/man.cgi?query=dga&amp;sektion=1&amp;format=html">dga(1)</a>. Quando <code>dga</code> è in esecuzione, cambia i colori del display ogni volta che viene premuto un tasto. Per uscire, premi <kbd>q</kbd>.</p></div></div></div><div class=sect3><h4 id=video-ports>7.4.2. Port e Package che Riguardano il Video<a class=anchor href=#video-ports></a></h4><div class=paragraph><p>In questa sezione si discuterà del software disponibile nella FreeBSD Port Collection che possono essere usati per la riproduzione video. La sezione software sulla riproduzione video è in continuo sviluppo, per cui le caratteristiche delle varie applicazioni sono destinate a differire dalla descrizione che segue.</p></div><div class=paragraph><p>In primo luogo, è importante sapere che molte delle applicazioni video che girano su FreeBSD sono stati sviluppate come applicazioni Linux. Molte di queste applicazioni sono ancora in fase beta. Alcuni dei problemi che puoi incontrare con i package video su FreeBSD comprendono:</p></div><div class="olist arabic"><ol class=arabic><li><p>Un’applicazione non riesce a riprodurre un file generato da un’altra applicazione.</p></li><li><p>Un’applicazione non riesce a riprodurre un file che lei stessa ha prodotto.</p></li><li><p>Lo stesso applicativo posto su due computer diversi, ricompilato su ognuno dei due computer, riproduce lo stesso file in modo diverso.</p></li><li><p>Da un filtro apparentemente banale quale il ridimensionamento di un’immagine si ottenga un pessimo risultato derivato da una routine di ridimensionamento bacata.</p></li><li><p>Un’applicazione che genera frequentemente file "core".</p></li><li><p>La documentazione non viene installata con il port e può essere trovata sul web o nella directory <span class=filename>work</span> del port.</p></li></ol></div><div class=paragraph><p>Molte di queste applicazioni possono anche esibire "Linuxismi". Ovvero, ci possono essere problemi risultanti dal modo in cui le librerie standard sono state implementate nelle distribuzioni Linux, o alcune modifiche al kernel di Linux che sono state apportate dagli autori delle applicazioni. Questi problemi possono non essere stati notati e aggirati dal mantainer del port, e possono portare comunque a problemi come questi:</p></div><div class="olist arabic"><ol class=arabic><li><p>L’uso di <span class=filename>/proc/cpuinfo</span> per riconoscere le caratteristiche del processore.</p></li><li><p>Un uso errato dei thread che può portare un programma a bloccare la propria esecuzione piuttosto che terminare correttamente.</p></li><li><p>Software non ancora presente nella collezione dei port di FreeBSD che è comunemente usato unitamente all’applicazione.</p></li></ol></div><div class=paragraph><p>A questo punto, gli sviluppatori di queste applicazioni sono stati collaborativi con i maintainer dei port al fine di minimizzare la ricerca di soluzioni necessarie al processo di porting.</p></div><div class=sect4><h5 id=video-mplayer>7.4.2.1. MPlayer<a class=anchor href=#video-mplayer></a></h5><div class=paragraph><p>MPlayer è stata sviluppata di recente ed è un player in rapida evoluzione. Gli obbiettivi degli sviluppatori di MPlayer sono la velocità e la flessibilità su Linux e le altre famiglie di UNIX®. Il progetto è partito non appena il fondatore del gruppo si stancò delle prestazioni degli altri riproduttori. C’è chi dice che l’interfaccia grafica sia stata sacrificata per un design essenziale. Tuttavia, una volta che si sono imparate perfettamente le opzioni da riga di comando e le scorciatoie, funziona decisamente bene.</p></div><div class=sect5><h6 id=video-mplayer-building>7.4.2.1.1. Compilazione di MPlayer<a class=anchor href=#video-mplayer-building></a></h6><div class=paragraph><p>MPlayer è reperibile sotto <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/mplayer/>multimedia/mplayer</a>. MPlayer effettua una serie di controlli sull’hardware durante il processo di compilazione, che ha come risultato un binario che non potrà essere considerato portabile da una piattaforma ad un’altra. Questo è il motivo per cui risulta importante compilarlo usando il port piuttosto che il pacchetto contenente il binario. Inoltre, ulteriori opzioni possono essere specificate nella riga di comando di <code>make</code>, come descritto nel <span class=filename>Makefile</span> e all’inizio della compilazione.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/multimedia/mplayer</span>
<span class=c># make</span>
N - O - T - E
Take a careful look into the Makefile <span class=k>in </span>order
to learn how to tune mplayer towards you personal preferences!
<span class=k>for </span>example,
make WITH_GTK1
builds MPlayer with GTK1-GUI support.
<span class=k>if </span>you want to use the GUI, you can either <span class=nb>install</span>
/usr/ports/multimedia/mplayer-skins
or download official skin collections from
http://www.mplayerhq.hu/homepage/dload.html</code></pre></div></div><div class=paragraph><p>Le opzioni di default del port dovrebbero essere sufficienti per la maggior parte degli utenti. Tuttavia, se hai bisogno del codec XviD, devi specificare l’opzione <code>WITH_XVID</code> nella riga di comando. Inoltre puoi definire il dispositivo DVD di default con l’opzione <code>WITH_DVD_DEVICE</code>, altrimenti sarà utilizzato di default <span class=filename>/dev/acd0</span>.</p></div><div class=paragraph><p>Al momento, il port MPlayer creerà la sua documentazione in HTML e due eseguibili <code>mplayer</code>, e <code>mencoder</code>, che è uno strumento per la ri-codifica video.</p></div><div class=paragraph><p>La documentazione HTML di MPlayer è molto istruttiva. Qualora il lettore trovasse le informazioni sull’hardware e le interfacce video in questo capitolo scarne, la documentazione di MPlayer risulta essere un ottimo supplemento. Se si stanno cercando informazioni riguardo il supporto video sotto UNIX®, sarebbe utile trovare il tempo di leggere in modo preciso la documentazione di MPlayer.</p></div></div><div class=sect5><h6 id=video-mplayer-using>7.4.2.1.2. Utilizzo di MPlayer<a class=anchor href=#video-mplayer-using></a></h6><div class=paragraph><p>Ogni utente che voglia usare MPlayer deve creare la directory <span class=filename>.mplayer</span> sotto la propria home. Per creare questa directory necessaria, puoi digitare il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> /usr/ports/multimedia/mplayer
% make install-user</code></pre></div></div><div class=paragraph><p>Le opzioni del comando <code>mplayer</code> sono elencate nella pagina del manuale. Per qualunque altro dettaglio consulta la documentazione HTML. In questa sezione, descriveremo solamente alcuni degli usi più comuni.</p></div><div class=paragraph><p>Per riprodurre un file, ad esempio <span class=filename>testfile.avi</span>, usando una delle varie interfacce video usa l’opzione <code>-vo</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mplayer <span class=nt>-vo</span> xv testfile.avi</code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mplayer <span class=nt>-vo</span> sdl testfile.avi</code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mplayer <span class=nt>-vo</span> x11 testfile.avi</code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mplayer -vo dga testfile.avi</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mplayer -vo &#39;sdl:dga&#39; testfile.avi</span></code></pre></div></div><div class=paragraph><p>È utile provare tutte queste opzioni, considerando che le prestazioni dipendono da svariati fattori e variano in modo considerevole a seconda dell’hardware.</p></div><div class=paragraph><p>Per riprodurre un DVD, sostituisci <span class=filename>testfile.avi</span> con l’opzione <code>dvd://<em>N</em> -dvd-device <em>DISPOSITIVO</em></code> dove <em>N</em> corrisponde al numero del titolo da riprodurre e <span class=filename>DISPOSITIVO</span> al dispositivo che identifica il DVD-ROM. Per esempio, per riprodurre il terzo titolo da <span class=filename>/dev/dvd</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mplayer -vo xv dvd://3 -dvd-device /dev/dvd</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il dispositivo DVD di default può essere definito durante la compilazione del port MPlayer tramite l’opzione <code>WITH_DVD_DEVICE</code>. Di default, questo dispositivo è <span class=filename>/dev/acd0</span>. Maggiori dettagli posso essere trovati nel <span class=filename>Makefile</span> del port.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per interrompere, mettere in pausa, andare avanti e così via, leggi l’elenco delle associazioni dei tasti, che vengono elencati eseguendo <code>mplayer -h</code> o consulta la pagina man.</p></div><div class=paragraph><p>Ulteriori opzioni utili per la riproduzione sono: <code>-fs -zoom</code> che abilita la modalità schermo intero e <code>-framedrop</code> che aiuta le prestazioni.</p></div><div class=paragraph><p>Perchè la riga di comando di mplayer non diventi eccessivamente lunga, l’utente può creare il file <span class=filename>.mplayer/config</span> ed impostare lì i valori predefiniti:</p></div><div class="literalblock programlisting"><div class=content><pre>vo=xv
fs=yes
zoom=yes</pre></div></div><div class=paragraph><p>In ultimo, è possibile usare <code>mplayer</code> per estrarre una traccia DVD in un file <span class=filename>.vob</span>. Per estrarre la seconda traccia dal DVD, digita questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mplayer -dumpstream -dumpfile out.vob dvd://2 -dvd-device /dev/dvd</span></code></pre></div></div><div class=paragraph><p>Il file ottenuto, <span class=filename>out.vob</span>, sarà in formato MPEG e potrà manipolato da un’altro programma descritto in questa sezione.</p></div></div><div class=sect5><h6 id=video-mencoder>7.4.2.1.3. mencoder<a class=anchor href=#video-mencoder></a></h6><div class=paragraph><p>Prima di usare <code>mencoder</code> è una buona idea familiarizzare con le opzioni contenute nella documentazione HTML. Esiste anche una pagina man, ma non è utile senza la documentazione HTML. Esiste un numero considerevole di modi per migliorare la qualità, un bitrate più basso, cambiare codifica ed alcuni di questi trucchi può fare la differenza tra prestazioni più o meno accettabili. Di seguito un paio di esempi per cominciare. Prima di tutto, una semplice copia:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mencoder input.avi <span class=nt>-oac</span> copy <span class=nt>-ovc</span> copy <span class=nt>-o</span> output.avi</code></pre></div></div><div class=paragraph><p>Combinazioni errate di opzioni da riga di comando possono portare a file di output irriproducibili perfino con <code>mplayer</code>. Di conseguenza, se si vuole semplicemente estrarre una traccia, usare l’opzione <code>-dumpfile</code> eseguendo in <code>mplayer</code>.</p></div><div class=paragraph><p>Per convertire il file <span class=filename>input.avi</span> in formato MPEG4 con l’audio codificato in MPEG3 (è necessario <a class=package href=https://cgit.freebsd.org/ports/tree/audio/lame/>audio/lame</a>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mencoder input.avi <span class=nt>-oac</span> mp3lame <span class=nt>-lameopts</span> <span class=nv>br</span><span class=o>=</span>192 <span class=se>\</span>
  <span class=nt>-ovc</span> lavc <span class=nt>-lavcopts</span> <span class=nv>vcodec</span><span class=o>=</span>mpeg4:vhq <span class=nt>-o</span> output.avi</code></pre></div></div><div class=paragraph><p>Questo comando ha creato un file riproducibile con <code>mplayer</code> e <code>xine</code>.</p></div><div class=paragraph><p>Il parametro <span class=filename>input.avi</span> può essere sostituito con <code>dvd://1 -dvd-device /dev/dvd</code> ed eseguire il comando come <code>root</code> per ricodificare il capitolo DVD direttamente. Poichè si sarà certamente poco soddisfatti del risultato la prima volta, è consigliato eseguire il dump del capitolo e lavorare direttamente sul file.</p></div></div></div><div class=sect4><h5 id=video-xine>7.4.2.2. Il Riproduttore Video xine<a class=anchor href=#video-xine></a></h5><div class=paragraph><p>Il riproduttore video xine è un progetto dagli ampi obiettivi e non solo l’essere una soluzione unica per la riproduzione, ma anche una libreria di base riutilizzabile ed un eseguibile modulare che possa essere esteso con i plugin. È disponibile sia come pacchetto che come port, sotto <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/xine/>multimedia/xine</a>.</p></div><div class=paragraph><p>xine è ancora un pò rozzo, ma è chiaramente un buon inizio. In pratica, xine necessita sia di una CPU veloce che di una scheda video veloce o il supporto per l’estensione XVideo. L’interfaccia grafica è utilizzabile, ma ancora mal disegnata.</p></div><div class=paragraph><p>Allo stato attuale, non ci sono moduli distribuiti con xine che possano riprodurre DVD codificati in CSS. Esistono distribuzioni di terze parti che hanno moduli di questo genere già compilati, ma nessuno di questi esiste nella FreeBSD Ports Collection.</p></div><div class=paragraph><p>Comparato con MPlayer, xine offre maggiori caratteristiche all’utente ma, allo stesso tempo, non rende disponibile all’utente un controllo più accurato. Il riproduttore video xine funziona molto meglio sulle interfacce XVideo.</p></div><div class=paragraph><p>Di default, xine si avvierà con un’interfaccia grafica. Si possono quindi usare i menu per aprire per aprire un file specifico:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% xine</code></pre></div></div><div class=paragraph><p>Alternativamente, può essere invocato per aprire direttamente un file senza l’interfaccia grafica, con il comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% xine <span class=nt>-g</span> <span class=nt>-p</span> mymovie.avi</code></pre></div></div></div><div class=sect4><h5 id=video-ports-transcode>7.4.2.3. Le Utility transcode<a class=anchor href=#video-ports-transcode></a></h5><div class=paragraph><p>Il software transcode non è un riproduttore, piuttosto un insieme di strumenti per ricodificare file audio e video. Con transcode, si ha la possibilità di unire file video, riparare file corrotti ed utilizzare strumenti da riga di comando con interfaccie che utilizzano i flussi <span class=filename>stdin/stdout</span>.</p></div><div class=paragraph><p>Durante la compilazione del port <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/transcode/>multimedia/transcode</a> possono essere specificate diverse opzioni, noi ti consigliamo il comando seguente per compilare transcode:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make WITH_OPTIMIZED_CFLAGS=yes WITH_LIBA52=yes WITH_LAME=yes WITH_OGG=yes \</span>
<span class=nv>WITH_MJPEG</span><span class=o>=</span><span class=nb>yes</span> <span class=nt>-DWITH_XVID</span><span class=o>=</span><span class=nb>yes</span></code></pre></div></div><div class=paragraph><p>I settaggi proposti dovrebbero essere sufficienti per la maggior parte degli utenti.</p></div><div class=paragraph><p>Per illustrare le capacità di <code>transcode</code>, viene dato un esempio che mostra come convertire un file DivX in un file PAL MPEG-1 (PAL VCD):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% transcode <span class=nt>-i</span> input.avi <span class=nt>-V</span> <span class=nt>--export_prof</span> vcd-pal <span class=nt>-o</span> output_vcd
% mplex <span class=nt>-f</span> 1 <span class=nt>-o</span> output_vcd.mpg output_vcd.m1v output_vcd.mpa</code></pre></div></div><div class=paragraph><p>Il file MPEG risultante, <span class=filename>output_vcd.mpg</span>, è pronto per essere letto con MPlayer. Puoi perfino masterizzare il file su un CD-R per creare un Video CD, e in questo caso necessiti di installare ed usare i programmi <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/vcdimager/>multimedia/vcdimager</a> e <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cdrdao/>sysutils/cdrdao</a>.</p></div><div class=paragraph><p>Esiste una pagina man per <code>transcode</code>, ma dovresti anche consultare il <a href=http://www.transcoding.org/cgi-bin/transcode>wiki di transcode</a> per ulteriori informazioni ed esempi.</p></div></div></div><div class=sect3><h4 id=video-further-reading>7.4.3. Ulteriori Letture<a class=anchor href=#video-further-reading></a></h4><div class=paragraph><p>I vari package di applicazioni video per FreeBSD si stanno evolvendo rapidamente. È abbastanza possibile che in un futuro vicino molti dei problemi discussi qui saranno risolti. Nel frattempo, chiunque voglia ottenere il massimo dalle capacità A/V di FreeBSD, dovrà unire alla meglio la conoscenza che deriva dalle svariate FAQ e guide con l’uso di queste poche applicazioni. Questa sezione esiste per fornire al lettore indicazioni a queste informazioni aggiuntive.</p></div><div class=paragraph><p>La <a href=http://www.mplayerhq.hu/DOCS/>Documentazione di MPlayer</a> è molto istruttiva sul piano tecnico. Questa documentazione, probabilmente, dovrà essere consultata da chiunque voglia ottenere un alto grado di conoscenza del video sotto UNIX®. La mailing list di MPlayer risulta abbastanza ostile a chiunque non si sia preoccupato di leggere la documentazione, se si ha intenzione di segnalar loro un bug, RTFM.</p></div><div class=paragraph><p>L’<a href=http://dvd.sourceforge.net/xine-howto/en_GB/html/howto.html>HOWTO di xine</a> contiene un capitolo su come aumentare le prestazioni che è comune a tutti i riproduttori.</p></div><div class=paragraph><p>In ultimo, ci sono alcuni applicativi promettenti che il lettore può provare:</p></div><div class=ulist><ul><li><p><a href=http://avifile.sourceforge.net/>Avifile</a> che è anche un port <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/avifile/>multimedia/avifile</a>.</p></li><li><p><a href=http://www.dtek.chalmers.se/groups/dvd/>Ogle</a> che è anche un port <a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/ogle/>multimedia/ogle</a>.</p></li><li><p><a href=http://xtheater.sourceforge.net/>Xtheater</a></p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/dvdauthor/>multimedia/dvdauthor</a>, un package open source per la creazione di DVD.</p></li></ul></div></div></div><div class=sect2><h3 id=tvcard>7.5. Configurazione delle Schede TV<a class=anchor href=#tvcard></a></h3><div class=sect3><h4 id=_introduzione>7.5.1. Introduzione<a class=anchor href=#_introduzione></a></h4><div class=paragraph><p>Le schede TV permettono di visualizzare la TV via onde radio o via cavo sul tuo computer. La maggior parte di queste accettano in input video composito tramite connettori RCA o S-video e alcune di queste schede hanno un sintonizzatore radio FM.</p></div><div class=paragraph><p>FreeBSD fornisce supporto per le schede TV su bus PCI che usano un chip di acquisizione video Brooktree Bt848/849/878/879 o Conexant CN-878/Fusion 878a tramite il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=bktr&amp;sektion=4&amp;format=html">bktr(4)</a>. Devi anche assicurarti che la scheda abbia un sintonizzatore supportato, consulta la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=bktr&amp;sektion=4&amp;format=html">bktr(4)</a> per una lista dei sintonizzatori supportati.</p></div></div><div class=sect3><h4 id=_aggiunta_del_driver>7.5.2. Aggiunta del Driver<a class=anchor href=#_aggiunta_del_driver></a></h4><div class=paragraph><p>Per usare la scheda, devi caricare il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=bktr&amp;sektion=4&amp;format=html">bktr(4)</a>, e questo può essere fatto aggiungendo la seguente riga al file <span class=filename>/boot/loader.conf</span> in questo modo:</p></div><div class="literalblock programlisting"><div class=content><pre>bktr_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Alternativamente, puoi compilare staticamente il supporto per la scheda TV nel tuo kernel, in questo caso aggiungi le seguenti righe alla configurazione del tuo kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>device    bktr
device iicbus
device iicbb
device smbus</pre></div></div><div class=paragraph><p>Questi driver aggiuntivi sono necessari poiché le componenti della scheda sono interconnesse tramite un bus I2C. Quindi compila ed installa un nuovo kernel.</p></div><div class=paragraph><p>Una volta che hai aggiunto il supporto al tuo sistema, devi riavviare la macchina. Durante il processo di avvio, la tua scheda TV dovrebbe apparire, come in questo esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>bktr0: &lt;BrookTree 848A&gt; mem 0xd7000000-0xd7000fff irq 10 at device 10.0 on pci0
iicbb0: &lt;I2C bit-banging driver&gt; on bti2c0
iicbus0: &lt;Philips I2C bus&gt; on iicbb0 master-only
iicbus1: &lt;Philips I2C bus&gt; on iicbb0 master-only
smbus0: &lt;System Management Bus&gt; on bti2c0
bktr0: Pinnacle/Miro TV, Philips SECAM tuner.</pre></div></div><div class=paragraph><p>Ovviamente questi messaggi possono differire a seconda dell’hardware. Tuttavia dovresti controllare se il sintonizzatore viene rilevato correttamente; è sempre possibile modificare alcuni dei parametri rilevati tramite le MIB di <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> e le opzioni nel file di configurazione del kernel. Ad esempio, se vuoi imporre che il sintonizzatore sia un Philips SECAM, dovresti aggiungere la riga seguente al file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>options OVERRIDE_TUNER=6</pre></div></div><div class=paragraph><p>o puoi usare direttamente <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl hw.bt848.tuner=6</span></code></pre></div></div><div class=paragraph><p>Guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=bktr&amp;sektion=4&amp;format=html">bktr(4)</a> e il file <span class=filename>/usr/src/sys/conf/NOTES</span> per maggiori dettagli sulle opzioni disponibili.</p></div></div><div class=sect3><h4 id=_applicazioni_utili>7.5.3. Applicazioni Utili<a class=anchor href=#_applicazioni_utili></a></h4><div class=paragraph><p>Per usare la tua scheda TV devi installare una delle seguenti applicazioni:</p></div><div class=ulist><ul><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/fxtv/>multimedia/fxtv</a> fornisce capacità di TV-in-una-finestra e acquisizione di immagini/audio/video.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/multimedia/xawtv/>multimedia/xawtv</a> è anch’esso un’applicazione TV, con le stesse caratteristiche di fxtv.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/misc/alevt/>misc/alevt</a> decodifica e visualizza Videotext/Teletext.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/audio/xmradio/>audio/xmradio</a>, un’applicazione per usare il sintonizzatore radio FM che hanno alcune schede TV.</p></li><li><p><a class=package href=https://cgit.freebsd.org/ports/tree/audio/wmtune/>audio/wmtune</a>, un’applicazione desktop maneggevole per i sintonizzatori radio.</p></li></ul></div><div class=paragraph><p>Altre applicazioni sono disponibili nella FreeBSD Ports Collection.</p></div></div><div class=sect3><h4 id=_risoluzione_dei_problemi>7.5.4. Risoluzione dei Problemi<a class=anchor href=#_risoluzione_dei_problemi></a></h4><div class=paragraph><p>Se incontri qualche problema con la tua scheda TV, dovresti verificare dapprima se il chip di acquisizione video e il sintonizzatore sono realmente supportati dal driver <a href="https://man.freebsd.org/cgi/man.cgi?query=bktr&amp;sektion=4&amp;format=html">bktr(4)</a> e se hai usato le corrette opzioni di configurazione. Per maggiore supporto e varie domande sulla tua scheda video potresti voler leggere ed usare gli archivi della mailing list <a href=https://lists.FreeBSD.org/subscription/freebsd-multimedia>mailing list sulle applicazioni multimediali con FreeBSD</a>.</p></div></div></div><div class=sect2><h3 id=scanners>7.6. Scanner di immagini<a class=anchor href=#scanners></a></h3><div class=sect3><h4 id=_introduzione_2>7.6.1. Introduzione<a class=anchor href=#_introduzione_2></a></h4><div class=paragraph><p>In FreeBSD, l’accesso agli scanner è fornito dalle API di SANE (Scanner Access Now Easy) disponibili nella collezione dei port di FreeBSD. SANE usa anche alcuni driver dei dispositivi di FreeBSD per accedere all’hardware dello scanner.</p></div><div class=paragraph><p>FreeBSD supporta sia scanner SCSI che USB. Verifica che il tuo scanner sia supportato da SANE prima di effettuare ogni configurazione. SANE ha una lista di <a href=http://www.sane-project.org/sane-supported-devices.html>dispositivi supportati</a>, che può fornire informazioni riguardo il supporto per uno scanner ed il suo stato. La pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=uscanner&amp;sektion=4&amp;format=html">uscanner(4)</a> fornisce una lista di scanner USB supportati.</p></div></div><div class=sect3><h4 id=_configurazione_del_kernel>7.6.2. Configurazione del Kernel<a class=anchor href=#_configurazione_del_kernel></a></h4><div class=paragraph><p>Come già menzionato, sono supportati sia scanner USB che SCSI. A seconda dell’interfaccia del tuo scanner, sono richiesti diversi driver dei dispositivi.</p></div><div class=sect4><h5 id=scanners-kernel-usb>7.6.2.1. Interfaccia USB<a class=anchor href=#scanners-kernel-usb></a></h5><div class=paragraph><p>Il kernel <span class=filename>GENERIC</span> di default include i driver dei dispositivi necessari per il funzionamento degli scanner USB. In caso tu voglia usare un kernel custom, accertati che le linee seguenti siano presenti nel tuo file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>device usb
device uhci
device ohci
device uscanner</pre></div></div><div class=paragraph><p>A seconda del tipo di chipset USB sulla tua scheda madre, hai bisogno solo di una fra le opzioni <code>device uhci</code> e <code>device ohci</code>, comunque avere entrambe le linee nel proprio file di configurazione del kernel non crea problemi.</p></div><div class=paragraph><p>Se non intendi ricompilare un kernel custom ed il tuo kernel non è il <span class=filename>GENERIC</span>, puoi direttamente caricare il modulo del driver del dispositivo di <a href="https://man.freebsd.org/cgi/man.cgi?query=uscanner&amp;sektion=4&amp;format=html">uscanner(4)</a> con il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload uscanner</span></code></pre></div></div><div class=paragraph><p>Per caricare il modulo ad ogni avvio di sistema, aggiungi la seguente linea al file <span class=filename>/boot/loader.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>uscanner_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Dopo aver riavviato con il kernel corretto, o dopo aver caricato il modulo necessario, attacca il tuo scanner USB. Nel buffer dei messaggi di sistema (<a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a>) dovrebbe apparire una riga che mostra il riconoscimento dello scanner:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>uscanner0: EPSON EPSON Scanner, rev 1.10/3.02, addr 2</code></pre></div></div><div class=paragraph><p>Questo mostra che il nostro scanner usa il nodo del dispositivo <span class=filename>/dev/uscanner0</span>.</p></div></div><div class=sect4><h5 id=_interfaccia_scsi>7.6.2.2. Interfaccia SCSI<a class=anchor href=#_interfaccia_scsi></a></h5><div class=paragraph><p>Se il tuo scanner possiede un’interfaccia SCSI, è importante sapere quale controller SCSI usi. A seconda del chipset SCSI usato, dovrai modificare il tuo file di configurazione del kernel. Il kernel <span class=filename>GENERIC</span> supporta i più comuni controller SCSI. Accertati di leggere il file di <span class=filename>NOTES</span> e aggiungi la linea corretta al tuo file di configurazione del kernel. Oltre al driver dell’interfaccia SCSI, devi avere le seguenti linee nel tuo file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>device scbus
device pass</pre></div></div><div class=paragraph><p>Una volta che il kernel è stato correttamente compilato ed installato, dovresti vedere i dispositivi nel buffer dei messaggi di sistema, al momento del boot:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>pass2 at aic0 bus 0 target 2 lun 0
pass2: &lt;AGFA SNAPSCAN 600 1.10&gt; Fixed Scanner SCSI-2 device
pass2: 3.300MB/s transfers</code></pre></div></div><div class=paragraph><p>Se il tuo scanner non era acceso al momento dell’avvio, è ancora possibile forzare manualmente il riconoscimento attraverso uno scan del bus SCSI con il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=camcontrol&amp;sektion=8&amp;format=html">camcontrol(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># camcontrol rescan all</span>
Re-scan of bus 0 was successful
Re-scan of bus 1 was successful
Re-scan of bus 2 was successful
Re-scan of bus 3 was successful</code></pre></div></div><div class=paragraph><p>A questo punto lo scanner apparirà nella lista dei device SCSI:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># camcontrol devlist</span>
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 5 lun 0 <span class=o>(</span>pass0,da0<span class=o>)</span>
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 6 lun 0 <span class=o>(</span>pass1,da1<span class=o>)</span>
&lt;AGFA SNAPSCAN 600 1.10&gt;           at scbus1 target 2 lun 0 <span class=o>(</span>pass3<span class=o>)</span>
&lt;PHILIPS CDD3610 CD-R/RW 1.00&gt;     at scbus2 target 0 lun 0 <span class=o>(</span>pass2,cd0<span class=o>)</span></code></pre></div></div><div class=paragraph><p>Ulteriori dettagli sui dispositivi SCSI sono disponibili nelle pagine man <a href="https://man.freebsd.org/cgi/man.cgi?query=scsi&amp;sektion=4&amp;format=html">scsi(4)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=camcontrol&amp;sektion=8&amp;format=html">camcontrol(8)</a>.</p></div></div></div><div class=sect3><h4 id=_configurazione_di_sane>7.6.3. Configurazione di SANE<a class=anchor href=#_configurazione_di_sane></a></h4><div class=paragraph><p>Il sistema SANE è diviso in due parti: il backend (<a class=package href=https://cgit.freebsd.org/ports/tree/graphics/sane-backends/>graphics/sane-backends</a>) ed il frontend (<a class=package href=https://cgit.freebsd.org/ports/tree/graphics/sane-frontends/>graphics/sane-frontends</a>). La parte backend fornisce accesso allo scanner. La lista dei <a href=http://www.sane-project.org/sane-supported-devices.html>dispositivi supportati</a> da SANE specifica quale backend supporta il tuo scanner di immagini. È necessario determinare il corretto backend per il tuo scanner se intendi usare il tuo dispositivo. La parte frontend fornisce l’interfaccia grafica allo scanning (xscanimage).</p></div><div class=paragraph><p>La prima cosa da fare è installare il port o il pacchetto <a class=package href=https://cgit.freebsd.org/ports/tree/graphics/sane-backends/>graphics/sane-backends</a>. Quindi, usa il comando <code>sane-find-scanner</code> per verificare il riconoscimento dello scanner da parte del sistema SANE:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sane-find-scanner -q</span>
found SCSI scanner <span class=s2>&#34;AGFA SNAPSCAN 600 1.10&#34;</span> at /dev/pass3</code></pre></div></div><div class=paragraph><p>L’output mostrerà il tipo di interfaccia dello scanner ed il nodo del dispositivo usato per connettere lo scanner al sistema. La marca ed il nome del modello potrebbero non comparire, non è importante.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcuni scanner USB richiedono il caricamento di un firmware, ciò è spiegato nella pagina man del backend. È utile anche leggere le pagine man di <a href="https://man.freebsd.org/cgi/man.cgi?query=sane-find-scanner&amp;sektion=1&amp;format=html">sane-find-scanner(1)</a> e di <a href="https://man.freebsd.org/cgi/man.cgi?query=linprocfs&amp;sektion=7&amp;format=html">linprocfs(7)</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Adesso dobbiamo verificare se lo scanner sarà identificato da un frontend di scanning. Di default, il backend di SANE fornisce un programma da linea di comando chiamato <a href="https://man.freebsd.org/cgi/man.cgi?query=sane&amp;sektion=1&amp;format=html">sane(1)</a>. Questo comando ti permette di elencare i dispositivi ed effettuare un’acquisizione di immagini da linea di comando. L’opzione <code>-L</code> è usata per ottenere una lista di scanner:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># scanimage -L</span>
device <span class=sb>`</span>snapscan:/dev/pass3<span class=s1>&#39; is a AGFA SNAPSCAN 600 flatbed scanner</span></code></pre></div></div><div class=paragraph><p>Nessun output o un messaggio che dice che nessuno scanner è stato identificato indica che <a href="https://man.freebsd.org/cgi/man.cgi?query=sane&amp;sektion=1&amp;format=html">sane(1)</a> non è in grado di identificare lo scanner. Se ciò succede, dovrai editare il file di configurazione del backend ed indicare il driver del dispositivo usato dallo scanner. La directory <span class=filename>/usr/local/etc/sane.d/</span> contiene tutti i file di configurazione del backend. Questo problema di identificazione avviene con alcuni scanner USB.</p></div><div class=paragraph><p>Ad esempio, usando <a href=#scanners-kernel-usb>Interfaccia USB</a>, <code>sane-find-scanner</code> su uno scanner USB otteniamo la seguente informazione:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sane-find-scanner -q</span>
found USB scanner <span class=o>(</span>UNKNOWN vendor and product<span class=o>)</span> at device
/dev/uscanner0</code></pre></div></div><div class=paragraph><p>Lo scanner è stato riconosciuto correttamente, usa l’interfaccia USB ed è attaccato al nodo del dispositivo <span class=filename>/dev/uscanner0</span>. Ora possiamo testare se lo scanner è correttamente identificato:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># scanimage -L</span>

Nessun scanner è stato identificato. Se ti aspettavi qualcosa di diverso,
verifica che lo scanner sia collegato, accendilo e avvia il tool di
riconoscimento degli scanner di sane <span class=o>(</span>se adatto<span class=o>)</span><span class=nb>.</span> Per cortesia leggi la
documentazione fornita con questo software <span class=o>(</span>README, FAQ, pagine man<span class=o>)</span>.</code></pre></div></div><div class=paragraph><p>Dato che lo scanner non è stato identificato, dovremo editare il file <span class=filename>/usr/local/etc/sane.d/epson.conf</span>. Il modello di scanner usato è l’EPSON Perfection® 1650, così sappiamo che userà il backend <code>epson</code>. Accertati di leggere i commenti di aiuto nei file di configurazione del backend. Le modifiche alle linee sono abbastanza semplici: commenta tutte le linee che hanno un’interfaccia non adatta al tuo scanner (nel nostro caso, commenteremo tutte le linee che iniziano con la parola <code>scsi</code> dato che il nostro scanner usa l’interfaccia USB), quindi aggiungi alla fine del file una linea che specifica l’interfaccia ed il nodo di dispositivo usato. In questo caso, aggiungiamo la seguente linea:</p></div><div class="literalblock programlisting"><div class=content><pre>usb /dev/uscanner0</pre></div></div><div class=paragraph><p>Sei invitato a leggere i commenti presenti nel file di configurazione del backend così come le pagine man del backend per più dettagli e per la corretta sintassi da usare. Ora possiamo verificare se lo scanner è identificato:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># scanimage -L</span>
device <span class=sb>`</span>epson:/dev/uscanner0<span class=s1>&#39; is a Epson GT-8200 flatbed scanner</span></code></pre></div></div><div class=paragraph><p>Il nostro scanner USB è stato riconosciuto. Non è importante se la marca ed il modello non coincidono con il proprio scanner. Il punto principale a cui prestare attenzione è il campo <code>epson:/dev/uscanner0</code>, che ci dà il corretto nome del backend ed il corretto nodo del dispositvo.</p></div><div class=paragraph><p>Una volta che il comando <code>scanimage -L</code> è in grado di vedere lo scanner, la configurazione è completa. Il dispositivo ora è in grado di scannerizzare.</p></div><div class=paragraph><p>Mentre <a href="https://man.freebsd.org/cgi/man.cgi?query=sane&amp;sektion=1&amp;format=html">sane(1)</a> ci permette di effettuare l’acquisizione di un’immagine dalla linea di comando, è preferibile usare un’interfaccia grafica per effettuare scansioni di immagini. SANE offre una semplice ma efficace interfaccia grafica: xscanimage (<a class=package href=https://cgit.freebsd.org/ports/tree/graphics/sane-frontends/>graphics/sane-frontends</a>).</p></div><div class=paragraph><p>Xsane (<a class=package href=https://cgit.freebsd.org/ports/tree/graphics/xsane/>graphics/xsane</a>) è un altro comune frontend grafico di scanning. Questo frontend offre caratteristiche avanzate come varie tecniche di scanning (fotocopia, fax, etc.), correzione del colore, scans multipli, etc. Entrambe queste applicazioni sono fruibili come plugin di GIMP.</p></div></div><div class=sect3><h4 id=_permettere_ad_altri_utenti_laccesso_allo_scanner>7.6.4. Permettere ad Altri Utenti l’Accesso allo Scanner<a class=anchor href=#_permettere_ad_altri_utenti_laccesso_allo_scanner></a></h4><div class=paragraph><p>Tutte le operazioni precedenti sono state compiute con privilegi di <code>root</code>. Tuttavia potresti aver bisogno che altri utenti abbiano accesso allo scanner. L’utente necessiterà permessi di lettura e scrittura sul nodo di dispositivo usato dallo scanner. Per esempio, il nostro scanner USB usa il nodo di dispositivo <span class=filename>/dev/uscanner0</span> che appartiene al gruppo <code>operator</code>. Aggiungendo l’utente <code>joe</code> al gruppo <code>operator</code> gli permetterà di usare lo scanner:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pw groupmod operator -m joe</span></code></pre></div></div><div class=paragraph><p>Per maggiori informazioni consulta la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;format=html">pw(8)</a>. Inoltre devi settare corretamente i permessi di scrittura (0660 o 0664) per il nodo del dispositivo <span class=filename>/dev/uscanner0</span>; di default il gruppo <code>operator</code> può solo leggere questo nodo di dispositivo. Tale operazione può essere realizzata aggiungendo la seguente riga al file <span class=filename>/etc/devfs.rules</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>[system=5]
add path uscanner0 mode 660</pre></div></div><div class=paragraph><p>Quindi aggiungi la seguente riga al file <span class=filename>/etc/rc.conf</span> e riavvia la macchina:</p></div><div class="literalblock programlisting"><div class=content><pre>devfs_system_ruleset=&#34;system&#34;</pre></div></div><div class=paragraph><p>Ulteriori informazioni riguardo queste righe possono essere trovate nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Chiaramente, per ragioni di sicurezza, dovresti pensarci due volte prima di aggiungere un utente a qualsiasi gruppo, specialmente al gruppo <code>operator</code>.</p></div></td></tr></tbody></table></div></div></div></div></div><div class=sect1><h2 id=kernelconfig>Capitolo 8. Configurazione del Kernel di FreeBSD<a class=anchor href=#kernelconfig></a></h2><div class=sectionbody><div class=sect2><h3 id=kernelconfig-synopsis>8.1. Synopsis<a class=anchor href=#kernelconfig-synopsis></a></h3><div class=paragraph><p>Il kernel è una componente fondamentale del sistema operativo FreeBSD. È responsabile di gestire la memoria, applicare controlli di sicurezza, gestire la rete, accesso ai dischi e molto altro. Anche se sempre più parti di FreeBSD diventano configurabili dinamicamente, è ancora necessario talvolta riconfigurare e ricompilare il kernel.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Perchè potresti aver bisogno di ricompilare un kernel.</p></li><li><p>Come scrivere un file di configurazione del kernel, o come alterarne uno esistente.</p></li><li><p>Come usare il file di configurazione del kernel per creare un nuovo kernel.</p></li><li><p>Come installare il nuovo kernel.</p></li><li><p>Come fare del troubleshooting se qualcosa va storto.</p></li></ul></div><div class=paragraph><p>Tutti i comandi elencati in questo capitolo negli esempi dovrebbero essere eseguiti come <code>root</code> affinchè abbiano successo.</p></div></div><div class=sect2><h3 id=kernelconfig-custom-kernel>8.2. Perchè creare un kernel custom?<a class=anchor href=#kernelconfig-custom-kernel></a></h3><div class=paragraph><p>Tradizionalmente, FreeBSD ha sempre avuto quello che si chiama un kernel "monolitico". Questo significa che il kernel era un programma di grandi dimensioni, supportava una lista fissa di device, e se tu avessi voluto cambiare il comportamento del kernel avresti dovuto compilarne uno nuovo, quindi fare il reboot del tuo computer per caricare il nuovo kernel.</p></div><div class=paragraph><p>Oggi come oggi, FreeBSD si sta muovendo rapidamente verso un modello dove gran parte delle funzionalità del kernel sono contenute in moduli che possono essere caricati e scaricati dal kernel a seconda delle necessità. Questo permette al kernel di adattarsi a nuovo hardware appena questo diventa disponibile (come ad esempio le carte PCMCIA in un laptop), oppure fa sì che nuove funzionalità siano portate nel kernel, funzionalità che non erano necessarie quando il kernel fu compilato inizialmente. Questo è noto come kernel modulare.</p></div><div class=paragraph><p>Nonostante questo, è ancora necessario portare avanti delle compilazioni statiche del kernel. In alcuni casi questo è necessario perchè la funzionalità è così legata al kernel che non può essere resa caricabile dinamicamente. In altri casi può essere necessario semplicemente perchè nessuno si è ancora preso il tempo di scrivere un modulo caricabile dinamicamente per quella funzionalità.</p></div><div class=paragraph><p>Compilare un kernel custom è uno dei più comuni riti di passaggio che quasi ogni utente BSD deve superare. Questo processo, anche se è dispendioso di tempo, offrirà molti benefici al tuo sistema FreeBSD. A differenza del kernel <span class=filename>GENERIC</span>, che deve supportare un gran numero di dispositivi hardware, un kernel custom contiene supporto solo per l’hardware del <em>tuo</em> PC. Questo presenta dei vantaggi, fra cui:</p></div><div class=ulist><ul><li><p>Tempo di boot più veloce. Dato che il kernel cercherà di riconoscere solo l’hardware che hai sul tuo sistema, il tempo che ci vuole al tuo sistema per fare boot diminuirà drammaticamente.</p></li><li><p>Minore uso della memoria. Un kernel custom spesso usa meno memoria del kernel <span class=filename>GENERIC</span>, il che è importante dato che il kernel deve sempre essere presente nella memoria reale. Per questo motivo un kernel custom è particolarmente utile su sistemi con poca RAM.</p></li><li><p>Supporto per hardware addizionale. Un kernel custom ti permette di aggiungere supporto per device che non sono presenti nel kernel <span class=filename>GENERIC</span>, come ad esempio sound card.</p></li></ul></div></div><div class=sect2><h3 id=kernelconfig-building>8.3. Compilare ed installare un Kernel Custom<a class=anchor href=#kernelconfig-building></a></h3><div class=paragraph><p>Per prima cosa, facciamo un breve giro nella directory di compilazione del kernel. Tutte le directory menzionate saranno relative alla directory principale <span class=filename>/usr/src/sys</span>, che è accessibile attraverso il path <span class=filename>/sys</span>. Ci sono un certo numero di sottodirectory qua che rappresentano parti differenti del kernel, ma la più importante per i nostri scopi è <span class=filename>arch/conf</span>, dove editerai il tuo file di configurazione del kernel, e <span class=filename>compile</span>, che è l’area di passaggio dove il tuo kernel sarè compilato. <em>arch</em> rappresenta uno fra <span class=filename>i386</span>, <span class=filename>alpha</span>, <span class=filename>amd64</span>, <span class=filename>ia64</span>, <span class=filename>powerpc</span>, <span class=filename>sparc64</span>, o <span class=filename>pc98</span> (un tipo di sviluppo alternativo di hardware PC in Giappone). Tutto ciò che è all’interno di particolare directory di architettura ha a che fare solo con quell’architettura; il resto è codice indipendente dalla macchina, comune a tutte le piattaforme sulle quali FreeBSD potrebbe potenzialmente essere portato. Nota l’organizzazione logica della struttura dele directory, con ogni device supportato, file system e opzioni nelle proprie sottodirectory.</p></div><div class=paragraph><p>Questo capitolo assume che tu stia usando la architettura i386 negli esempi. Se questo non è il caso, fai gli appropriati aggiustamenti per correggere i percorsi alla tua architettura.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se <em>non</em> c’è una directory <span class=filename>/usr/src/sys</span> sul tuo sistema, significa che i sorgenti del kernel non sono stati installati. Il modo più semplice per farlo è eseguire <code>sysinstall</code> come <code>root</code>, scegliendo <span class=guimenuitem>Configure</span>, poi <span class=guimenuitem>Distributions</span>, poi <span class=guimenuitem>src</span>, poi <span class=guimenuitem>base</span> e <span class=guimenuitem>sys</span>. Se hai un’avversione verso sysinstall e hai accesso ad un CDROM "ufficiale" FreeBSD, allora puoi installare i sorgenti dalla linea di comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /cdrom</span>
<span class=c># mkdir -p /usr/src/sys</span>
<span class=c># ln -s /usr/src/sys /sys</span>
<span class=c># cat /cdrom/src/ssys.[a-d]* | tar -xzvf -</span>
<span class=c># cat /cdrom/src/sbase.[a-d]* | tar -xzvf -</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Quindi, entra nella directory <span class=filename>arch/conf</span> e copia il file di configurazione del kernel con il nome che vuoi dare al kernel. Ad esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/sys/i386/conf</span>
<span class=c># cp GENERIC MYKERNEL</span></code></pre></div></div><div class=paragraph><p>Tradizionalmente, questo nome è tutto in lettere maiuscole e, se stai mantenendo molte macchine FreeBSD con hardware differente, è una buona idea dargli il nome della macchina. Noi lo chiamemeremo <span class=filename>MYKERNEL</span> a titolo di esempio.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Conservare il tuo file di configurazione del kernel direttamente sotto <span class=filename>/usr/src</span> può essere una cattiva idea. Se stai incontrando problemi puoi essere tentato di cancellare <span class=filename>/usr/src</span> e partire da zero. Dopo averlo fatto, di solito ci vogliono pochi secondi per realizzare che hai appena cancellato il tuo file di configurazione del kernel. Inoltre, non editare <span class=filename>GENERIC</span> direttamente, dato che potrebbe essere sovrascritto la prossima volta che <a href=./#updating-upgrading>aggiorni i tuoi sorgenti</a>, e le tue modifiche andranno perse.</p></div><div class=paragraph><p>Piuttosto tieni il tuo file di configurazione del kernel da qualche altra parte, e crea un link simbolico al file nella directory <span class=filename>i386</span>.</p></div><div class=paragraph><p>Ad esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/sys/i386/conf</span>
<span class=c># mkdir /root/kernels</span>
<span class=c># cp GENERIC /root/kernels/MYKERNEL</span>
<span class=c># ln -s /root/kernels/MYKERNEL</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Ora edita <span class=filename>MYKERNEL</span> con il tuo editor favorito. Se stai partendo da zero, il solo editor disponibile sa` probabilmente vi, che è troppo complesso per essere spiegato in questa sede, ma è trattato estesamente in molti libri nella <a href=./#bibliography>bibliografia</a>. Comunque, FreeBSD offre un semplice editor chiamato ee che, se sei un principiante, dovrebbe essere il tuo editor favorito. Sentiti libero di cambiare le linee di commento in cima al file di configurazione per riflettere le tue configurazioni o i cambiamenti che hai fatto rispetto a <span class=filename>GENERIC</span>.</p></div><div class=paragraph><p>Se hai compilato un kernel sotto SunOS™ o qualche altro sistema BSD, gran parte di questo file ti sarà noto. Se stai arrivando da qualche altro sistema operativo tipo DOS, d’altro canto, il file di configurazione <span class=filename>GENERIC</span> ti potrebbe sembrare troppo complesso, così è meglio che segui le descrizioni della sezione <a href=#kernelconfig-config>File di Configurazione</a> attentamente.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se tu <a href=./#updating-upgrading>sincronizzi il tuo albero dei sorgenti</a> con i più recenti sorgenti del progetto FreeBSD, accertati sempre di controllare il file <span class=filename>/usr/src/UPDATING</span> prima di eseguire una qualsiasi operazione di aggiornamento. <span class=filename>/usr/src/UPDATING</span> viene aggiornato con ogni versione dei sorgenti di FreeBSD, e quindi è più aggiornato di questo manuale.</p></div></td></tr></tbody></table></div><div class=paragraph><p>A questo punto devi compilare i sorgenti del kernel.</p></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Compilare il Kernel</strong></p></div><div class="olist arabic"><ol class=arabic><li><p>Entra nella directory <span class=filename>/usr/src</span>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src</span></code></pre></div></div></li><li><p>Compila il kernel:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make buildkernel KERNCONF=MYKERNEL</span></code></pre></div></div></li><li><p>Installa il nuovo kernel:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make installkernel KERNCONF=MYKERNEL</span></code></pre></div></div></li></ol></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Si richede la presenza dell’intera struttura dei sorgenti di FreeBSD per compilare il kernel.</p></div></td></tr></tbody></table></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Di default, quando compili un kernel custom, anche <em>tutti</em> i moduli del kernel sono ricompilati. Se vuoi aggiornare il kernel in modo spiccio o se vuoi compilare solo alcuni moduli, dovresti editare <span class=filename>/etc/make.conf</span> prima di iniziare la compilazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>MODULES_OVERRIDE = linux acpi sound/sound sound/driver/ds1 ntfs</pre></div></div><div class=paragraph><p>Questa variabile contiene una lista dei moduli che saranno ricompilati.</p></div><div class="literalblock programlisting"><div class=content><pre>WITHOUT_MODULES = linux acpi sound/sound sound/driver/ds1 ntfs</pre></div></div><div class=paragraph><p>Questa variabile contiene una lista dei moduli che saranno esclusi dal processo di compilazione. Per altre variabili che potresti trovare utili per il processo di compilazione del kernel, consulta la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=make.conf&amp;sektion=5&amp;format=html">make.conf(5)</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Il nuovo kernel sarà copiato nella directory <span class=filename>/boot/kernel</span> come <span class=filename>/boot/kernel/kernel</span> e il kernel precedente sarà copiato in <span class=filename>/boot/kernel.old/kernel</span>. Ora, riavvia il sistema e riparti per usare il tuo nuovo kernel. Se qualcosa va storto, ci sono alcune istruzioni di <a href=#kernelconfig-trouble>troubleshooting</a> alla fine del capitolo che puoi trovare utili. Accertati di leggere la sezione in cui si spiega cosa fare in caso il tuo nuovo kernel <a href=#kernelconfig-noboot>non faccia il boot</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Altri file relativi al processo di boot, come il boot <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> e la configurazione sono conservati in <span class=filename>/boot/</span>. Moduli di terze parti o custom possono essere piazzati in <span class=filename>/boot/kernel/</span>, anche se gli utenti dovrebbero avere conoscenza del fatto che tenere i moduli sincronizzati col kernel compilato è molto importante. I moduli non creati per interagire col kernel compilato possono risultare in instabilità o comportamenti anomali.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=kernelconfig-config>8.4. Il File di Configurazione<a class=anchor href=#kernelconfig-config></a></h3><div class=paragraph><p>Il formato generale di un file di configurazione è abbastanza semplice. Ogni linea contiene una parola chiave ed uno o più argomenti. Per semplicità, la maggior parte delle linee contiene solo un argomento. Tutto quello che segue un <code>#</code> è considerato un commento ed ignorato. Le seguenti sezioni descrivono ogni parola chiave, nell’ordine di presenza in <span class=filename>GENERIC</span>. <a id=kernelconfig-options></a>Per una lista esaustiva delle opzioni dipendenti dall’architettura e dei devices, leggi il file <span class=filename>NOTES</span> nella stessa directory del file <span class=filename>GENERIC</span>. Per opzioni indipendenti dall’architettura, leggi <span class=filename>/usr/src/sys/conf/NOTES</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per creare un file che contenga tutte le opzioni disponibili, ad esempio per usi di testing, esegui il seguente comando come <code>root</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/sys/i386/conf &amp;&amp; make LINT</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Il seguente è un esempio del file di configurazione del kernel <span class=filename>GENERIC</span> con vari commenti addizionali ove necessari ai fini della chiarezza. Questo esempio dovrebbe corrispondere abbastanza da vicino alla tua copia in <span class=filename>/usr/src/sys/i386/conf/GENERIC</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>machine   i386</pre></div></div><div class=paragraph><p>Questa è la architettura della macchina. Deve essere una fra <code>alpha</code>, <code>amd64</code>, <code>i386</code>, <code>ia64</code>, <code>pc98</code>, <code>powerpc</code>, o <code>sparc64</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>cpu          I486_CPU
cpu          I586_CPU
cpu          I686_CPU</pre></div></div><div class=paragraph><p>Quanto riportato sopra specifica il tipo di CPU che hai nella tua macchina. Puoi avere molte istanze di linee di CPU (se, per esempio, non sei sicuro se devi usare la <code>I586_CPU</code> o la <code>I686_CPU</code>), ma per un kernel custom è meglio specificare solo la CPU che hai. Se non sei sicuro di quale sia il tipo della tua CPU, controlla il file <span class=filename>/var/run/dmesg.boot</span> per leggere i messaggi di boot.</p></div><div class="literalblock programlisting"><div class=content><pre>ident          GENERIC</pre></div></div><div class=paragraph><p>Questo è l’identificativo del kernel. Dovresti cambiarlo nel nome che hai dato al kernel, ad esempio <code>MYKERNEL</code> se hai seguito le istruzioni degli esempi precedenti. Il valore che poni nella stringa <code>ident</code>, sarà emesso a video quando fai il boot del kernel, così è utile dare al nuovo kernel un nome differente se vuoi tenerlo separato dal tuo kernel usuale (ad esempio se vuoi creare un kernel sperimentale).</p></div><div class="literalblock programlisting"><div class=content><pre>#To statically compile in device wiring instead of /boot/device.hints
#hints          &#34;GENERIC.hints&#34;         # Default places to look for devices.</pre></div></div><div class=paragraph><p>L’opzione <a href="https://man.freebsd.org/cgi/man.cgi?query=device.hints&amp;sektion=5&amp;format=html">device.hints(5)</a> è usato per configurare le opzioni dei device driver. La posizione di default che <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> cercherà al momento del boot è <span class=filename>/boot/device.hints</span>. Usando l’opzione <code>hints</code> puoi compilare queste direttive direttamente nel kernel. Se fai così non c’è bisogno di creare un file <span class=filename>device.hints</span> in <span class=filename>/boot</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>makeoptions     DEBUG=-g          # Build kernel with gdb(1) debug symbols</pre></div></div><div class=paragraph><p>Il processo normale di compilazione di FreeBSD include informazioni di debugging quando si compila il kernel con l’opzione <code>-g</code>, che abilita il debugging quando passato a <a href="https://man.freebsd.org/cgi/man.cgi?query=gcc&amp;sektion=1&amp;format=html">gcc(1)</a>.</p></div><div class="literalblock programlisting"><div class=content><pre>options          SCHED_4BSD         # 4BSD scheduler</pre></div></div><div class=paragraph><p>Lo schedulatore tradizionale per FreeBSD. Tienilo.</p></div><div class="literalblock programlisting"><div class=content><pre>options          PREEMPTION         # Enable kernel thread preemption</pre></div></div><div class=paragraph><p>Permette ai thread del kernel di essere interrotti da altri thread a priorità più alta. Aiuta con l’interattività e permette ai thread degli interrupt di essere eseguiti prima rispetto invece che attendere.</p></div><div class="literalblock programlisting"><div class=content><pre>options          INET              # InterNETworking</pre></div></div><div class=paragraph><p>Supporto per la rete. Lascia questa opzione, anche se non intendi connettere il computer ad una rete. La maggior parte dei programmi richiedono almeno rete di loopback (ad esempio fare connessioni di rete dal tuo pc al tuo pc stesso), così questa opzione in sostanza è obbligatoria.</p></div><div class="literalblock programlisting"><div class=content><pre>options          INET6             # IPv6 communications protocols</pre></div></div><div class=paragraph><p>Questo abilita il protocollo di comunicazione IPv6.</p></div><div class="literalblock programlisting"><div class=content><pre>options          FFS               # Berkeley Fast Filesystem</pre></div></div><div class=paragraph><p>Questo è il file system di dischi di base. Lascialo nel kernel se fai il boot da hard disk.</p></div><div class="literalblock programlisting"><div class=content><pre>options          SOFTUPDATES       # Enable FFS Soft Updates support</pre></div></div><div class=paragraph><p>Questa opzione abilita le Soft Updates nel kernel, aiuterà a velocizzare accesso di scrittura ai dischi. Anche quando questa funzionalità è fornita dal kernel, deve essere attivata per dischi specifici. Rileggi l’output da <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> per vedere se Soft Updates sono abilitate per i tuoi dischi di sistema. Se non vedi l’opzione <code>soft-updates</code> potrai abilitarla usando <a href="https://man.freebsd.org/cgi/man.cgi?query=tunefs&amp;sektion=8&amp;format=html">tunefs(8)</a> (per file system già esistenti) o <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> (per nuovi file system).</p></div><div class="literalblock programlisting"><div class=content><pre>options          UFS_ACL           # Support for access control lists</pre></div></div><div class=paragraph><p>Questa opzione abilita supporto nel kernel per le liste di controllo di accesso. Questo poggia sull’uso degli attributi estesi e UFS2, questa opzione viene descritta in dettaglio in <a href=./#security>Sicurezza</a>. ACL sono abilitate di default e non dovrebbero essere disabilitate nel kernel se sono state usate precedentemente su un file system, dato che questo rimuoverà le liste di controllo di accesso, cambiando il modo in cui i file sono protetti in modo non predicibile.</p></div><div class="literalblock programlisting"><div class=content><pre>options          UFS_DIRHASH       # Improve performance on big directories</pre></div></div><div class=paragraph><p>Quest’opzione include funzionalità per accelerare operazioni sui dischi su larghe directory, a costo di uso di memoria. Lo dovresti tenere per un server molto trafficato o workstation interattive, e rimuoverlo se stai usando FreeBSD su piccoli sistemi dove la memoria è scarsa e l’accesso ai dischi è meno importante, come un firewall.</p></div><div class="literalblock programlisting"><div class=content><pre>options          MD_ROOT           # MD is a potential root device</pre></div></div><div class=paragraph><p>Questa opzione abilita il supporto per un disco virtuale basato sulla memoria da usare come device di root.</p></div><div class="literalblock programlisting"><div class=content><pre>options          NFSCLIENT         # Network Filesystem Client
options          NFSSERVER         # Network Filesystem Server
options          NFS_ROOT          # NFS usable as /, requires NFSCLIENT</pre></div></div><div class=paragraph><p>Il file system di rete. A meno che tu non intenda montare partizioni da un file server UNIX® sopra TCP/IP, puoi commentare queste righe.</p></div><div class="literalblock programlisting"><div class=content><pre>options          MSDOSFS           # MSDOS Filesystem</pre></div></div><div class=paragraph><p>Il filesystem MS-DOS®. A meno che non intendi montare un disco formattato DOS al momento del boot, puoi tranquilamente commentare queste opzioni. Sarà automaticamente caricato la prima volta che monti una partizione DOS, come descritto in seguito. Inoltre, l’eccellente software <a class=package href=https://cgit.freebsd.org/ports/tree/emulators/mtools/>emulators/mtools</a> ti permette di accedere a floppy DOS senza dover montarli e smontarli (e non richiede assolutamente <code>MSDOSFS</code>).</p></div><div class="literalblock programlisting"><div class=content><pre>options          CD9660            # ISO 9660 Filesystem</pre></div></div><div class=paragraph><p>Il file system ISO 9660 per CDROM. Commentalo se non hai un drive CDROM o monti CD di dati solo occasionalmente (dato che sarà caricato dinamicamente la prima volta che monti un CD di dati). CD audio non necessitano di questo file system.</p></div><div class="literalblock programlisting"><div class=content><pre>options          PROCFS            # Process filesystem (requires PSUEDOFS)</pre></div></div><div class=paragraph><p>Il file system dei processi. Questo è un "fittizio" file system montato su <span class=filename>/proc</span> che permette a programmi come <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> di darti maggiori informazioni su quali processi sono in esecuzione. L’uso di <code>PROCFS</code> non è richiesto nella maggior parte dei casi, dato che la maggior parte dei tool di debugging e di monitoring è stato adattato per funzionare senza <code>PROCFS</code>: la procedura di installazione non monterà questo file system di default.</p></div><div class="literalblock programlisting"><div class=content><pre>options          PSEUDOFS          # Pseudo-filesystem framework</pre></div></div><div class=paragraph><p>I kernel 6.X che fanno uso del filesystem <code>PROCFS</code> devono anche includere supporto per <code>PSEUDOFS</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>options          GEOM_GPT          # GUID Partition Tables.</pre></div></div><div class=paragraph><p>Questa opzione fornisce la possibilità di avere un gran numero di partizioni su un singolo disco.</p></div><div class="literalblock programlisting"><div class=content><pre>options          COMPAT_43         # Compatible with BSD 4.3 [KEEP THIS!]</pre></div></div><div class=paragraph><p>Compatibilità con 4.3BSD. Lasciala; alcuni programmi si comporteranno in maniera strana se la commenti.</p></div><div class="literalblock programlisting"><div class=content><pre>options          COMPAT_FREEBSD4   # Compatible with FreeBSD4</pre></div></div><div class=paragraph><p>Questa opzione è richiesta su FreeBSD 5.X su sistemi i386™ e Alpha per supportare applicazioni compilate su versioni precedenti di FreeBSD che usano vecchie interfacce di system call. Si raccomanda che questa opzione sia usata su tutte le i386™ ed Alpha che possano eseguire vecchie applicazioni; piattaforme che hanno ottenuto supporto solo dall 5.X, come ia64 e sparc64 non richiedono questa opzione.</p></div><div class="literalblock programlisting"><div class=content><pre>options          COMPAT_FREEBSD5   # Compatible with FreeBSD5</pre></div></div><div class=paragraph><p>Questa opzione è richiesta per FreeBSD 6.X e superiori per supportare applicazioni compilate su os; 5.X che fanno uso di chiamate di sistema di FreeBSD 5.X.</p></div><div class="literalblock programlisting"><div class=content><pre>options          SCSI_DELAY=5000  # Delay (in ms) before probing SCSI</pre></div></div><div class=paragraph><p>Questa opzione fa sì che il kernel faccia una pausa di 5 secondi prima di controllare ogni device SCSI sul tuo sistema. Se hai solo dischi IDE, puoi ignorarla, altrimenti potresti voler diminuire il numero per accelerare il boot. Ovviamente, se fai ciò e FreeBSD ha problemi a riconoscere i tuoi device SCSI, dovrai alzarla di nuovo.</p></div><div class="literalblock programlisting"><div class=content><pre>options          KTRACE            # ktrace(1) support</pre></div></div><div class=paragraph><p>Questo abilita il tracciamento dei processi nel kernel, che è utile per il debugging.</p></div><div class="literalblock programlisting"><div class=content><pre>options          SYSVSHM           # SYSV-style shared memory</pre></div></div><div class=paragraph><p>Questa opzione fornisce memoria condivisa di tipo System V. L’uso più comune di questa opzione è l’estensione XSHM in X, grazie alla quale molti programmi ad alta intensità grafica ne trarranno vantaggio per maggior velocità. Se usi X, vorrai sicuramente includere questa opzione.</p></div><div class="literalblock programlisting"><div class=content><pre>options          SYSVMSG           # SYSV-style message queues</pre></div></div><div class=paragraph><p>Supporto per messaggi stile System V. Questa opzione aggiunge solo poche centinaia di byte al kernel.</p></div><div class="literalblock programlisting"><div class=content><pre>options          SYSVSEM           # SYSV-style semaphores</pre></div></div><div class=paragraph><p>Supporto per semafori stile System V. Usato meno di frequente ma aggiunge solo poche centinaia di byte al kernel.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>L’opzione <code>-p</code> del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=ipcs&amp;sektion=1&amp;format=html">ipcs(1)</a> mostrerà ogni processo che usa uno di queste opzione System V.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre>options        _KPOSIX_PRIORITY_SCHEDULING # POSIX P1003_1B real-time extensions</pre></div></div><div class=paragraph><p>Estensioni real-time aggiunte al POSIX® 1993. Alcune applicazioni nella collezione dei Ports usano questa opzione (come StarOffice™).</p></div><div class="literalblock programlisting"><div class=content><pre>options          KBD_INSTALL_CDEV  # install a CDEV entry in /dev</pre></div></div><div class=paragraph><p>Questa opzione è relativa ala tastiera. Aggiunge una entry CDEV nella directory <span class=filename>/dev</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>options          ADAPTIVE_GIANT    # Giant mutex is adaptive.</pre></div></div><div class=paragraph><p>Giant è il nome di un meccanismo di esclusione reciproca (uno sleep mutex) che protegge gran parte delle risorse del kernel. Al giorno d’oggi è un inaccettabile rallentamento delle performance che si sta attivamente sostituendo con locks che proteggono risorse individuali. L’opzione <code>ADAPTIVE_GIANT</code> fa sì che Giant sia incluso nell’insieme dei mutex da scegliere. Cioè quando un thread vuole fare un lock sul mutex Giant, ma è già bloccato da un thread su un’altra CPU, il primo thread continuerà a girare ed aspetterà che il lock sia rilasciato. Normalmente invece, il thread tornerebbe a dormire e aspetterà la sua prossima occasione per girare. Se non sei sicuro, lascialo dentro.</p></div><div class="literalblock programlisting"><div class=content><pre>device          apic               # I/O APIC</pre></div></div><div class=paragraph><p>Il device apic abilita l’uso dell’APIC I/O per inviare gli interrupt. Il device apic può essere usato sia su kernel UP che su SMP, ma è richiesto per kernel SMP. Aggiungi <code>option SMP</code> per includere supporto per processori multipli.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il dispositivo apic esiste sono per l’architettura i386, questa riga di configurazione non deve essere usata per altre architetture.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre>device          eisa</pre></div></div><div class=paragraph><p>Includilo se hai una motherboard EISA. Questo abilita supporto per l’auto-rilevazione e configurazione per tutti i device sul bus EISA.</p></div><div class="literalblock programlisting"><div class=content><pre>device          pci</pre></div></div><div class=paragraph><p>Includilo se hai una motherboard PCI. Questo abilita l’auto-rilevazione delle carte PCI e operazioni di gateway dal bus PCI al bus ISA.</p></div><div class="literalblock programlisting"><div class=content><pre># Floppy drives
device          fdc</pre></div></div><div class=paragraph><p>Questo abilita il supporto al controller del floppy drive.</p></div><div class="literalblock programlisting"><div class=content><pre># ATA and ATAPI devices
device          ata</pre></div></div><div class=paragraph><p>Questo driver supporta tutti i device ATA e ATAPI. Hai bisogno solo di una linea <code>device ata</code> per il kernel affinchè rilevi tutti i device PCI ATA/ATAPI su macchine moderne.</p></div><div class="literalblock programlisting"><div class=content><pre>device          atadisk                 # ATA disk drives</pre></div></div><div class=paragraph><p>Questo è necessario assieme a <code>device ata</code> per disk drive ATA.</p></div><div class="literalblock programlisting"><div class=content><pre>device          ataraid                 # ATA RAID drives</pre></div></div><div class=paragraph><p>Questo è necessario assieme a <code>device ata</code> per drive ATA RAID.</p></div><div class="literalblock programlisting"><div class=content><pre>device          atapicd                 # ATAPI CDROM drives</pre></div></div><div class=paragraph><p>Questo è necessario assieme a <code>device ata</code> per drive CDROM ATAPI.</p></div><div class="literalblock programlisting"><div class=content><pre>device          atapifd                 # ATAPI floppy drives</pre></div></div><div class=paragraph><p>Questo è necessario assieme a <code>device ata</code> per drive floppy ATAPI.</p></div><div class="literalblock programlisting"><div class=content><pre>device          atapist                 # ATAPI tape drives</pre></div></div><div class=paragraph><p>Questo è necessario assieme a <code>device ata</code> per drive tape ATAPI.</p></div><div class="literalblock programlisting"><div class=content><pre>options         ATA_STATIC_ID           # Static device numbering</pre></div></div><div class=paragraph><p>Questo rende il numero di controller statico; senza questo i numeri di device sono allocati dinamicamente.</p></div><div class="literalblock programlisting"><div class=content><pre># SCSI Controllers
device          ahb        # EISA AHA1742 family
device          ahc        # AHA2940 and onboard AIC7xxx devices
options         AHC_REG_PRETTY_PRINT    # Print register bitfields in debug
                                        # output.  Adds ~128k to driver.
device          ahd        # AHA39320/29320 and onboard AIC79xx devices
options         AHD_REG_PRETTY_PRINT    # Print register bitfields in debug
                                        # output.  Adds ~215k to driver.
device          amd        # AMD 53C974 (Teckram DC-390(T))
device          isp        # Qlogic family
#device         ispfw      # Firmware for QLogic HBAs- normally a module
device          mpt        # LSI-Logic MPT-Fusion
#device         ncr        # NCR/Symbios Logic
device          sym        # NCR/Symbios Logic (newer chipsets + those of `ncr&#39;)
device          trm        # Tekram DC395U/UW/F DC315U adapters

device          adv        # Advansys SCSI adapters
device          adw        # Advansys wide SCSI adapters
device          aha        # Adaptec 154x SCSI adapters
device          aic        # Adaptec 15[012]x SCSI adapters, AIC-6[23]60.
device          bt         # Buslogic/Mylex MultiMaster SCSI adapters

device          ncv        # NCR 53C500
device          nsp        # Workbit Ninja SCSI-3
device          stg        # TMC 18C30/18C50</pre></div></div><div class=paragraph><p>Controller SCSI. Commentali tutti se non ne hai nessuno sul tuo sistema. Se hai un sistema solo IDE, puoi rimuoverli tutti. Le righe <code>*_REG_PRETTY_PRINT</code> sono opzioni di debug per i loro rispettivi dispositivi.</p></div><div class="literalblock programlisting"><div class=content><pre># SCSI peripherals
device          scbus      # SCSI bus (required for SCSI)
device          ch         # SCSI media changers
device          da         # Direct Access (disks)
device          sa         # Sequential Access (tape etc)
device          cd         # CD
device          pass       # Passthrough device (direct SCSI access)
device          ses        # SCSI Environmental Services (and SAF-TE)</pre></div></div><div class=paragraph><p>Periferiche SCSI. Ancora, commentali se non ne hai nessuna o se il tuo sistema è solo IDE.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il driver USB <a href="https://man.freebsd.org/cgi/man.cgi?query=umass&amp;sektion=4&amp;format=html">umass(4)</a> e pochi altri driver usano il sottosistema SCSI anche se non sono veri device SCSI. Quindi accertati di non rimuovere il supporto a SCSI, se qualche driver del genere è incluso nella tua configurazione del kernel.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre># RAID controllers interfaced to the SCSI subsystem
device          amr        # AMI MegaRAID
device          arcmsr     # Areca SATA II RAID
device          asr        # DPT SmartRAID V, VI and Adaptec SCSI RAID
device          ciss       # Compaq Smart RAID 5*
device          dpt        # DPT Smartcache III, IV - See NOTES for options
device          hptmv      # Highpoint RocketRAID 182x
device          rr232x     # Highpoint RocketRAID 232x
device          iir        # Intel Integrated RAID
device          ips        # IBM (Adaptec) ServeRAID
device          mly        # Mylex AcceleRAID/eXtremeRAID
device          twa        # 3ware 9000 series PATA/SATA RAID

# RAID controllers
device          aac        # Adaptec FSA RAID
device          aacp       # SCSI passthrough for aac (requires CAM)
device          ida        # Compaq Smart RAID
device          mfi        # LSI MegaRAID SAS
device          mlx        # Mylex DAC960 family
device          pst        # Promise Supertrak SX6000
device          twe        # 3ware ATA RAID</pre></div></div><div class=paragraph><p>Controller RAID supportati. Se non ne hai nessuno, puoi commentarli o rimuoverli.</p></div><div class="literalblock programlisting"><div class=content><pre># atkbdc0 controls both the keyboard and the PS/2 mouse
device          atkbdc     # AT keyboard controller</pre></div></div><div class=paragraph><p>Il controller della tastiera (<code>atkbdc</code>) fornisce servizi I/O per la tastiera AT ed il device PS/2. Questo controller è richiesto dal driver della tastiera (<code>atkbd</code>) e dal driver del dispositivo di puntamento PS/2 (<code>psm</code>).</p></div><div class="literalblock programlisting"><div class=content><pre>device          atkbd      # AT keyboard</pre></div></div><div class=paragraph><p>Il driver <code>atkbd</code> assieme al controller <code>atkbdc</code>, fornisce accesso alla tastiera AT 84 o la tastiera AT migliorata che è connesso al controller della tastiera AT.</p></div><div class="literalblock programlisting"><div class=content><pre>device          psm        # PS/2 mouse</pre></div></div><div class=paragraph><p>Usa questo device se il tuo mouse si inserisce nella porta PS/2.</p></div><div class="literalblock programlisting"><div class=content><pre>device          kbdmux        # keyboard multiplexer</pre></div></div><div class=paragraph><p>Supporto base per il multiplexing della tastiera. Se non hai intenzione di usare più di una tastiera sul sistema, puoi tranquillamente rimuovere quella riga.</p></div><div class=paragraph><p>Supporto base per il multiplexing della tastiera.</p></div><div class="literalblock programlisting"><div class=content><pre>device          vga        # VGA video card driver</pre></div></div><div class=paragraph><p>Il driver della video card.</p></div><div class="literalblock programlisting"><div class=content><pre># splash screen/screen saver
device          splash     # Splash screen and screen saver support</pre></div></div><div class=paragraph><p>Schermata slapsh all’avvio! Anche gli screensaver lo richiedono.</p></div><div class="literalblock programlisting"><div class=content><pre># syscons is the default console driver, resembling an SCO console
device          sc</pre></div></div><div class=paragraph><p><code>sc</code> è il driver di default della console, assomiglia ad una console SCO. Dato che molti programmi a schermo intero accedono alla console attraverso una libreria di database di terminali come <span class=filename>termcap</span>, non dovrebbe fare differenza se usi questo o <code>vt</code>, il driver compatibile con una console <code>VT220</code>. Quando ti logghi, imposta la tua variabile d’ambiente <code>TERM</code> a <code>scoansi</code> se programmi a schermo intero hanno problemi a girare sotto questa console.</p></div><div class="literalblock programlisting"><div class=content><pre># Enable this for the pcvt (VT220 compatible) console driver
#device          vt
#options         XSERVER          # support for X server on a vt console
#options         FAT_CURSOR       # start with block cursor</pre></div></div><div class=paragraph><p>Questo è un driver di console compatibile con VT-220, compatibile all’indietro con VT100/102. Funziona bene su alcuni laptop che hanno incompatibilità hardware con <code>sc</code>. Inoltre imposta la tua variabile <code>TERM</code> a <code>vt100</code> o <code>vt220</code> quando ti logghi. Questo driver può essere utile quando ci si connette ad un grande numero di macchine diverse sulla rete, dove le entry <span class=filename>termcap</span> o <span class=filename>terminfo</span> per il device <code>sc</code> spesso non sono disponibili - <code>vt100</code> dovrebbe essere disponibile virtualmente su ogni piattaforma.</p></div><div class="literalblock programlisting"><div class=content><pre>device          agp</pre></div></div><div class=paragraph><p>Includilo se hai una scheda AGP nel tuo sistema. Questo abiliterà il supporto per AGP, e AGP GART per le motherboard che hanno queste caratteristiche.</p></div><div class="literalblock programlisting"><div class=content><pre># Power management support (see NOTES for more options)
#device          apm</pre></div></div><div class=paragraph><p>Supporto Advanced Power Management. Utile per laptop, anche se in FreeBSD 5.X e successivo questo è disabilitato in <span class=filename>GENERIC</span> di default.</p></div><div class="literalblock programlisting"><div class=content><pre># Add suspend/resume support for the i8254.
device           pmtimer</pre></div></div><div class=paragraph><p>Device driver per eventi di power management, come APM ed ACPI.</p></div><div class="literalblock programlisting"><div class=content><pre># PCCARD (PCMCIA) support
# PCMCIA and cardbus bridge support
device          cbb               # cardbus (yenta) bridge
device          pccard            # PC Card (16-bit) bus
device          cardbus           # CardBus (32-bit) bus</pre></div></div><div class=paragraph><p>Supporto PCMCIA. Includilo se usi un laptop.</p></div><div class="literalblock programlisting"><div class=content><pre># Serial (COM) ports
device          sio               # 8250, 16[45]50 based serial ports</pre></div></div><div class=paragraph><p>Queste sono le porte seriali chiamate <span class=filename>COM</span> nel mondo MS-DOS®/Windows®.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se hai un modem interno sulla <span class=filename>COM4</span> ed una porta seriale sulla <span class=filename>COM2</span>, dovrai cambiare l’IRQ del modem a 2 (per ragioni tecniche oscure IRQ 2=IRQ 9) affinchè tu ci possa accedere da FreeBSD. Se hai una carta seriale multiporta, controlla la pagina di manuale per <a href="https://man.freebsd.org/cgi/man.cgi?query=sio&amp;sektion=4&amp;format=html">sio(4)</a> per maggiori informazioni sui valori corretti da aggiungere al tuo <span class=filename>/boot/device.hints</span>. Alcune video card (in particolare quelle basate su chip S3) usano indirizzi IO della forma <code>0x*2e8</code> e dato che molte carte seriali non codificano l’intero spazio degli indirizzi IO a 16 bit, hanno conflitti con queste carte, rendendo la porta <code>COM4</code> praticamente non disponibile.</p></div><div class=paragraph><p>Ogni porta seriale deve avere un IRQ unico (a meno che non stia usando una delle carte multicard dove sono supportati interrupt condivisi), così gli IRQ di default per <span class=filename>COM3</span> e <span class=filename>COM4</span> non possono essere usati.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre># Parallel port
device          ppc</pre></div></div><div class=paragraph><p>Questo è l’interfaccia al bus ISA parallelo.</p></div><div class="literalblock programlisting"><div class=content><pre>device          ppbus      # Parallel port bus (required)</pre></div></div><div class=paragraph><p>Fornisce supporto per il bus della porta parallela.</p></div><div class="literalblock programlisting"><div class=content><pre>device          lpt        # Printer</pre></div></div><div class=paragraph><p>Supporto per la stampante a porta parallela.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Tutte quest tre sono necessarie per abilitare supporto alla stampante parallela.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre>device          plip       # TCP/IP over parallel</pre></div></div><div class=paragraph><p>Questo è il driver della interfaccia di rete parallela.</p></div><div class="literalblock programlisting"><div class=content><pre>device          ppi        # Parallel port interface device</pre></div></div><div class=paragraph><p>L’I/O a scopo generico ("geek port") + IEEE1284 I/O.</p></div><div class="literalblock programlisting"><div class=content><pre>#device         vpo        # Requires scbus and da</pre></div></div><div class=paragraph><p>Questo è per uno IOMEGA zip drive. Richiede supporto <code>scbus</code> e <code>da</code>. La migliore performance è raggiunta con porte in modo EPP 1.9.</p></div><div class="literalblock programlisting"><div class=content><pre>#device         puc</pre></div></div><div class=paragraph><p>Scommenta questo device se ha una seriale "dumb" o carta PCI parallela che è supportata dal driver glue <a href="https://man.freebsd.org/cgi/man.cgi?query=puc&amp;sektion=4&amp;format=html">puc(4)</a>.</p></div><div class="literalblock programlisting"><div class=content><pre># PCI Ethernet NICs.
device          de         # DEC/Intel DC21x4x (Tulip)
device          em         # Intel PRO/1000 adapter Gigabit Ethernet Card
device          ixgb       # Intel PRO/10GbE Ethernet Card
device          txp        # 3Com 3cR990 (Typhoon)
device          vx         # 3Com 3c590, 3c595 (Vortex)</pre></div></div><div class=paragraph><p>Vari driver di schede di rete PCI. Commentalo o rimuovilo se nessuno di questi è presente nel tuo sistema.</p></div><div class="literalblock programlisting"><div class=content><pre># PCI Ethernet NICs that use the common MII bus controller code.
# NOTE: Be sure to keep the &#39;device miibus&#39; line in order to use these NICs!
device          miibus     # MII bus support</pre></div></div><div class=paragraph><p>Supporto bus MII è richiesto per alcune NIC Ethernet 10/100 PCI, in particolare quelle che usano transricevitori compatibili con MII o implementano interfacce di controllo che operano su MII. Aggiungere <code>device miibus</code> al kernel porta con sè il supporto per la generica API miibus e tutti i driver PHY, incluso un generico per PHY che non è specificamente gestito da driver individuali.</p></div><div class="literalblock programlisting"><div class=content><pre>device          bce        # Broadcom BCM5706/BCM5708 Gigabit Ethernet
device          bfe        # Broadcom BCM440x 10/100 Ethernet
device          bge        # Broadcom BCM570xx Gigabit Ethernet
device          dc         # DEC/Intel 21143 and various workalikes
device          fxp        # Intel EtherExpress PRO/100B (82557, 82558)
device          lge        # Level 1 LXT1001 gigabit ethernet
device          msk        # Marvell/SysKonnect Yukon II Gigabit Ethernet
device          nge        # NatSemi DP83820 gigabit ethernet
device          nve        # nVidia nForce MCP on-board Ethernet Networking
device          pcn        # AMD Am79C97x PCI 10/100 (precedence over &#39;lnc&#39;)
device          re         # RealTek 8139C+/8169/8169S/8110S
device          rl         # RealTek 8129/8139
device          sf         # Adaptec AIC-6915 (Starfire)
device          sis        # Silicon Integrated Systems SiS 900/SiS 7016
device          sk         # SysKonnect SK-984x &amp; SK-982x gigabit Ethernet
device          ste        # Sundance ST201 (D-Link DFE-550TX)
device          stge       # Sundance/Tamarack TC9021 gigabit Ethernet
device          ti         # Alteon Networks Tigon I/II gigabit Ethernet
device          tl         # Texas Instruments ThunderLAN
device          tx         # SMC EtherPower II (83c170 EPIC)
device          vge        # VIA VT612x gigabit ethernet
device          vr         # VIA Rhine, Rhine II
device          wb         # Winbond W89C840F
device          xl         # 3Com 3c90x (Boomerang, Cyclone)</pre></div></div><div class=paragraph><p>Driver che usano il codice del controller MII.</p></div><div class="literalblock programlisting"><div class=content><pre># ISA Ethernet NICs.  pccard NICs included.
device          cs         # Crystal Semiconductor CS89x0 NIC
# &#39;device ed&#39; requires &#39;device miibus&#39;
device          ed         # NE[12]000, SMC Ultra, 3c503, DS8390 cards
device          ex         # Intel EtherExpress Pro/10 and Pro/10+
device          ep         # Etherlink III based cards
device          fe         # Fujitsu MB8696x based cards
device          ie         # EtherExpress 8/16, 3C507, StarLAN 10 etc.
device          lnc        # NE2100, NE32-VL Lance Ethernet cards
device          sn         # SMC&#39;s 9000 series of Ethernet chips
device          xe         # Xircom pccard Ethernet

# ISA devices that use the old ISA shims
#device         le</pre></div></div><div class=paragraph><p>Driver ISA Ethernet. Vedi <span class=filename>/usr/src/sys/i386/conf/NOTES</span> per dettagli su quali carte siano supportate da quali driver.</p></div><div class="literalblock programlisting"><div class=content><pre># Wireless NIC cards
device          wlan            # 802.11 support</pre></div></div><div class=paragraph><p>Supporto generico al 802.11. Questa riga è richiesta per la rete wireless.</p></div><div class="literalblock programlisting"><div class=content><pre>device          wlan_wep        # 802.11 WEP support
device          wlan_ccmp       # 802.11 CCMP support
device          wlan_tkip       # 802.11 TKIP support</pre></div></div><div class=paragraph><p>Supporto di crittografia per i dispositivi 802.11. Queste righe sono necessarie se intenti usare la codificazione e i protocolli di sicurezza 802.11i.</p></div><div class="literalblock programlisting"><div class=content><pre>device          an         # Aironet 4500/4800 802.11 wireless NICs.
device          ath             # Atheros pci/cardbus NIC&#39;s
device          ath_hal         # Atheros HAL (Hardware Access Layer)
device          ath_rate_sample # SampleRate tx rate control for ath
device          awi        # BayStack 660 and others
device          ral        # Ralink Technology RT2500 wireless NICs.
device          wi         # WaveLAN/Intersil/Symbol 802.11 wireless NICs.
#device         wl         # Older non 802.11 Wavelan wireless NIC.</pre></div></div><div class=paragraph><p>Supporto per varie carte wireless.</p></div><div class="literalblock programlisting"><div class=content><pre># Pseudo devices
device   loop          # Network loopback</pre></div></div><div class=paragraph><p>Questo è il generico device loopback per TCP/IP. Se fai telnet o FTP a <code>localhost</code> (anche conosciuto come <code>127.0.0.1</code>) la connessione ritornerà alla tua stessa macchina attraverso questo device. Questo è <em>obbligatorio</em>.</p></div><div class="literalblock programlisting"><div class=content><pre>device   random        # Entropy device</pre></div></div><div class=paragraph><p>Generatore casuale sicuro di numeri random.</p></div><div class="literalblock programlisting"><div class=content><pre>device   ether         # Ethernet support</pre></div></div><div class=paragraph><p><code>ether</code> è necessario solo se hai una carta Ethernet. Include un codice di protocollo Ethernet.</p></div><div class="literalblock programlisting"><div class=content><pre>device   sl            # Kernel SLIP</pre></div></div><div class=paragraph><p><code>sl</code> è per supporto slip. È stato interamente soppiantato da PPP, che è più semplice da installare, più adatto per connessioni modem-to-modem e più potente.</p></div><div class="literalblock programlisting"><div class=content><pre>device   ppp           # Kernel PPP</pre></div></div><div class=paragraph><p>Questo è per supporto kernel PPP per connessioni dial-up. C’è anche una versione di PPP implementata come applicazione userland che usa <code>tun</code> e offre più flessibilità e caratteristiche aggiuntive come dialing a domanda.</p></div><div class="literalblock programlisting"><div class=content><pre>device   tun           # Packet tunnel.</pre></div></div><div class=paragraph><p>Questo è usato per software userland PPP. Vedi la sezione <a href=./#userppp>PPP</a> di questo libro per maggiori informazioni.</p></div><div class="literalblock programlisting"><div class=content><pre>device   pty           # Pseudo-ttys (telnet etc)</pre></div></div><div class=paragraph><p>Questo è uno "pseudo-terminal" o porta di login simulato. È usato da sessioni <code>telnet</code> e <code>rlogin</code>, xterm e qualche altra applicazione come Emacs.</p></div><div class="literalblock programlisting"><div class=content><pre>device   md            # Memory disks</pre></div></div><div class=paragraph><p>Pseudo-device di disco di memoria.</p></div><div class="literalblock programlisting"><div class=content><pre>device   gif           # IPv6 and IPv4 tunneling</pre></div></div><div class=paragraph><p>Questo implementa il tunneling IPv6 su IPv4, IPv4 su IPv6, IPv4 su IPv4 e IPv6 su IPv6. Il device <code>gif</code> è "autoclonante", e creerà gli altri node come richiesto.</p></div><div class="literalblock programlisting"><div class=content><pre>device   faith         # IPv6-to-IPv4 relaying (translation)</pre></div></div><div class=paragraph><p>Questo pseudo-device cattura i pacchetti che sono inviati a lui e li distoglie verso il demone di traslazione IPv4/IPv6.</p></div><div class="literalblock programlisting"><div class=content><pre># The `bpf&#39; device enables the Berkeley Packet Filter.
# Be aware of the administrative consequences of enabling this!
# Note that &#39;bpf&#39; is required for DHCP.
device   bpf           # Berkeley packet filter</pre></div></div><div class=paragraph><p>Questo è il Berkeley Packet Filter. Questo pseduo-device permette alle interfacce di rete di essere configurate in modo promiscuo, catturando ogni pacchetto su una rete broadcast (ad esempio una Ethernet). Questi pacchetti possono essere catturati su disco e o esaminati con il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=tcpdump&amp;sektion=1&amp;format=html">tcpdump(1)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il device <a href="https://man.freebsd.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;format=html">bpf(4)</a> è anche usato da <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a> per ottenere l’indirizzo IP del default router (gateway) eccetera. Se usi DHCP, lascia questa riga scommentata.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre># USB support
device          uhci          # UHCI PCI-&gt;USB interface
device          ohci          # OHCI PCI-&gt;USB interface
device          ehci          # EHCI PCI-&gt;USB interface (USB 2.0)
device          usb           # USB Bus (required)
#device         udbp          # USB Double Bulk Pipe devices
device          ugen          # Generic
device          uhid          # Human Interface Devices
device          ukbd          # Keyboard
device          ulpt          # Printer
device          umass         # Disks/Mass storage - Requires scbus and da
device          ums           # Mouse
device          ural          # Ralink Technology RT2500USB wireless NICs
device          urio          # Diamond Rio 500 MP3 player
device          uscanner      # Scanners
# USB Ethernet, requires mii
device          aue           # ADMtek USB Ethernet
device          axe           # ASIX Electronics USB Ethernet
device          cdce          # Generic USB over Ethernet
device          cue           # CATC USB Ethernet
device          kue           # Kawasaki LSI USB Ethernet
device          rue           # RealTek RTL8150 USB Ethernet</pre></div></div><div class=paragraph><p>Supporto per vari device USB.</p></div><div class="literalblock programlisting"><div class=content><pre># FireWire support
device          firewire      # FireWire bus code
device          sbp           # SCSI over FireWire (Requires scbus and da)
device          fwe           # Ethernet over FireWire (non-standard!)</pre></div></div><div class=paragraph><p>Supporto per vari device FireWire.</p></div><div class=paragraph><p>Per maggiori informazioni e device addizionali supportati da FreeBSD, controlla <span class=filename>/usr/src/sys/i386/conf/NOTES</span>.</p></div><div class=sect3><h4 id=_configurazioni_a_memoria_estesa_pae>8.4.1. Configurazioni a Memoria Estesa (PAE)<a class=anchor href=#_configurazioni_a_memoria_estesa_pae></a></h4><div class=paragraph><p>Macchine con configurazione a memoria estesa richiedono più di 4 gigabyte di limite nello spazio degli indirizzi Virtuale User+Kernel (KVA). A causa di questa limitazione, Intel ha aggiunto supporto per lo spazio degli indirizzi fisico a 36-bit nel Pentium® Pro e linee successive di CPU.</p></div><div class=paragraph><p>La caratteristica di Physical Address Extension (PAE) dell' Intel® Pentium® Pro e CPU successive permette configurazioni della memoria fino a 64 gigabyte. FreeBSD fornisce supporto per questa caratteristica attraverso l’opzione di configurazione del kernel <code>PAE</code>, disponibile in tutte le versioni correnti di FreeBSD. A causa della limitazione della architettura della memoria Intel, nessuna distinzione è fatta per memorie sopra o sotto i 4 gigabyte. Memoria allocata oltre i 4 gigabyte è semplicemente aggiunta al pool della memoria disponibile.</p></div><div class=paragraph><p>Per abilitare il supporto PAE nel kernel, aggiungi semplicemente la seguente linea nel tuo file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>options       PAE</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il supporto PAE in FreeBSD è disponibile solo per processori Intel® IA-32. Bisogna notare inoltre che il supporto PAE non ha ricevuto test esteso, e dovrebbe essere considerato di qualità beta rispetto alle altre carateristiche stabili di FreeBSD.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Il supporto per PAE in FreeBSD ha qualche limitazione:</p></div><div class=ulist><ul><li><p>Un processo non è in grado di accedere a più di 4 gigabte di spazio VM.</p></li><li><p>I moduli KLD non possono essere caricati in un kernel con abilitato PAE, a causa delle differenze nell’ambiente di compilazione di un modulo e del kernel.</p></li><li><p>Device driver che non usano l’interfaccia <a href="https://man.freebsd.org/cgi/man.cgi?query=bus_dma&amp;sektion=9&amp;format=html">bus_dma(9)</a> causeranno corruzione dei dati in un kernel abilitato PAE, e non se ne raccomanda l’uso. Per questo motivo, viene fornito un file di configurazione del kernel <span class=filename>PAE</span>, che esclude tutti i driver per i quali non è stato testato il funzionamento in un kernel abilitato PAE.</p></li><li><p>Alcuni parametri che possono essere settati determinano l’uso delle risorse di memoria a partire dalla quantità di memoria fisica disponibile. Questi parametri possono allocare troppo spazio rispetto alle necessità a causa della dimensione della memoria di un sistema PAE. Un esempio simile è il sysctl <code>kern.maxvnodes</code>, che controlla il massimo numero di vnodes permessi nel kernel. È concesso di aggiustare questo ed altri parametri ad un valore ragionevole.</p></li><li><p>Può essere necessario aumentare lo spazio degli indirizzi di memoria virtuale del kernel (KVA) o ridurre la quantità di risorse specifiche che sono pesantemente usate (vedi oltre) per evitare esaurimenti di KVA. L’opzione del kernel KVA_PAGES può essere usata per aumentare lo spazio KVA.</p></li></ul></div><div class=paragraph><p>Per motivi di stabilità e di performance, si consiglia di consultare le pagine di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=tuning&amp;sektion=7&amp;format=html">tuning(7)</a>. La pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=pae&amp;sektion=4&amp;format=html">pae(4)</a> contiene informazioni aggiornate sul supporto PAE.</p></div></div></div><div class=sect2><h3 id=kernelconfig-trouble>8.5. Se Qualcosa Va Male<a class=anchor href=#kernelconfig-trouble></a></h3><div class=paragraph><p>Ci sono cinque categorie di problemi che si possono presentare quando si crea un nuovo kernel. Sono:</p></div><div class=dlist><dl><dt class=hdlist1><code>config</code> fallisce</dt><dd><p>Se il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a> fallisce quando gli passi la descrizione del tuo kernel, hai fatto probabilmente un semplice errore da qualche parte. Fortunatamente <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a> scriverà il numero della linea che ha dato errore, così puoi facilmente trovare la linea errata. Ad esempio, se vedi:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>config: line 17: syntax error</code></pre></div></div><div class=paragraph><p>Accertati che la parola chiave sia scritta correttamente confrontandola con quella del kernel <span class=filename>GENERIC</span> o un altro riferimento.</p></div></dd><dt class=hdlist1><code>make</code> fallisce</dt><dd><p>Se il comando <code>make</code> fallisce, di solito segnala un errore nella descrizione del kernel che non è abbastanza grave per <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a>. Ancora, controlla la tua configurazione e se ancora non riesci a risolvere il problema, invia una mail a <a href=https://lists.FreeBSD.org/subscription/freebsd-questions>mailing list per le domande generiche su FreeBSD</a> con la tua configurazione del kernel, e dovrebbe essere diagnosticato velocemente.</p><div class=dlist><dl><dt class=hdlist1>Il kernel non fa il boot:<a id=kernelconfig-noboot></a></dt><dd><p>Se il tuo kernel non fa il boot, o fallisce nel riconoscimento dei tuoi device, non andare in panico! Fortunatamente FreeBSD ha un ottimo meccanismo per ricominciare in questo caso. Semplicemente scegli il kernel da cui vuoi fare il boot dal boot loader FreeBSD. Puoi accedere ad esso quando appare il menu del boot. Seleziona l’opzione "Escape to a loader prompt", la numero sei. Al prompt digita <code>unload kernel</code> e poi digita <code>boot /boot/kernel.old/kernel</code> o il nome del file di un altro kernel da cui puoi bootare correttamente. Quando configuri un kernel, è sempre una buona idea tenere un kernel che si sa che funzioni a portata di mano.</p><div class=paragraph><p>Dopo aver fatto il boot con un kernel funzionante puoi controllare il tuo file di configurazione e cercare di ricompilarlo. Una risorsa utile è il file <span class=filename>/var/log/messages</span> che, fra le altre cose, registra tutti messaggi del kernel da ogni boot riuscito. Inoltre, il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> scriverà i messaggi del kernel dall’ultimo boot.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se hai problemi a compilare un kernel, accertati di tenere un kernel <span class=filename>GENERIC</span>, o qualche altro kernel che sai che funzioni a portata di mano,con un nome diverso cosichè non sia cancellato dalla successiva compilazione. Non puoi affidarti su <span class=filename>kernel.old</span> perchè quando installi un nuovo kernel, <span class=filename>kernel.old</span> viene cancellato dall’ultimo kernel installato, che poteva essere non funzionanante. Inoltre, appena possibile, sposta il kernel funzionanante nella directory corretta <span class=filename>/boot/kernel</span> o comandi come <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> potrebbero non funzionare bene. Per farlo, semplicemente rinomina la directory contenente il kernel funzionante:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mv /boot/kernel /boot/kernel.bad</span>
<span class=c># mv /boot/kernel.good /boot/kernel</span></code></pre></div></div></td></tr></tbody></table></div></dd><dt class=hdlist1>Il kernel funziona, ma <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> non funziona più.</dt><dd><p>Se hai installato una versione del kernel differente da quella delle utilities di sistema, per esempio un kernel -CURRENT ed un sistema -RELEASE, molti comandi di stato del sistema come <a href="https://man.freebsd.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;format=html">ps(1)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=vmstat&amp;sektion=8&amp;format=html">vmstat(8)</a> non funzioneranno più. Dovresti <a href=./#makeworld>ricompilare ed installare world</a> con la stessa versione dei sorgenti del tuo kernel. Questa è una ragione per non usare una versione del kernel diversa dal sistema operativo.</p></dd></dl></div></dd></dl></div></div></div></div><div class=sect1><h2 id=printing>Capitolo 9. Stampa<a class=anchor href=#printing></a></h2><div class=sectionbody><div class=sect2><h3 id=_sinossi>9.1. Sinossi<a class=anchor href=#_sinossi></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=printing-intro-spooler>9.2. Introduction<a class=anchor href=#printing-intro-spooler></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=printing-intro-setup>9.3. Basic Setup<a class=anchor href=#printing-intro-setup></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=printing-advanced>9.4. Advanced Printer Setup<a class=anchor href=#printing-advanced></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=printing-using>9.5. Using Printers<a class=anchor href=#printing-using></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=printing-lpd-alternatives>9.6. Alternatives to the Standard Spooler<a class=anchor href=#printing-lpd-alternatives></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=printing-troubleshooting>9.7. Troubleshooting<a class=anchor href=#printing-troubleshooting></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><div class=sect1><h2 id=linuxemu>Capitolo 10. Compatibilità con i Binari di Linux<a class=anchor href=#linuxemu></a></h2><div class=sectionbody><div class=sect2><h3 id=linuxemu-synopsis>10.1. Sinossi<a class=anchor href=#linuxemu-synopsis></a></h3><div class=paragraph><p>FreeBSD fornisce la compatibilità con molti altri sisitemi operativi di tipo UNIX®, compreso linux. A questo punto, potresti chiederti perché FreeBSD dovrebbe essere in grado di far girare binari linux. La risposta a questa domanda è piuttosto semplice. Molte aziende e sviluppatori sviluppano solo per Linux, dal momento che ` l’ultimo "disco caldo" nel mondo dell’informatica. Questo costringe il resto di noi utenti di FreeBSD a lamentarci con queste aziende e questi sviluppatori di distribuire versioni delle loro applicazioni native per FreeBSD. Il problema è che molte di queste aziende non realizzano quante persone userebbero il loro prodotto se ci fosse anche una versione per FreeBSD, e molte continuano a sviluppare solo per Linux. Allora cosa deve fare un utente FreeBSD? E qui entra in giocolo la compatibilità con i binari di Linux.</p></div><div class=paragraph><p>In breve, la compatibilità permette agli utenti FreeBSD di utilizzare circa il 90% di tutte le applicazioni Linux senza modifiche. Questo include applicazioni come StarOffice™ , la versione Linux di <a href="https://man.freebsd.org/cgi/man.cgi?query=getenv&amp;sektion=3&amp;format=html">getenv(3)</a>, Adobe® Acrobat®, RealPlayer®, VMware, Oracle®, WordPerfect®, Doom, Quake, e tanti altri. È stato riportato che in qualche situazione i binari per Linux sono più prestanti sotto FreeBSD che sotto Linux.</p></div><div class=paragraph><p>Nonostante questo, ci sono alcune caratteristiche specifiche del sistema operativo Linux che non sono supportate da FreeBSD. I binari di Linux non funzioneranno sotto FreeBSD se usano parecchie chiamate specifiche per i386™, come l’attivazione della modalità 8086 virtuale</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come abilitare la compatibilità con i binari Linux sul tuo sistema.</p></li><li><p>Come installare ulteriori librerie condivise per Linux.</p></li><li><p>Come installare gli applicativi di Linux sul tuo sistema FreeBSD.</p></li><li><p>I dettagli dell’implementazione della compatibilità Linux in FreeBSD.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Sapere come installare software di terzi (<a href=./#ports>Installazione delle Applicazioni. Port e Package</a>).</p></li></ul></div></div><div class=sect2><h3 id=linuxemu-lbc-install>10.2. Installazione<a class=anchor href=#linuxemu-lbc-install></a></h3><div class=paragraph><p>La compatibilità con i binari Linux non è normalmente attivata. Il modo più facile per abilitare questa funzionalità è caricare l’oggetto KLD ("Kernel LoaDable object") <code>linux</code>. Puoi caricare questo modulo digitando il comando seguente come <code>root</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload linux</span></code></pre></div></div><div class=paragraph><p>Se vuoi che la compatiblità sia sempre attivata, dovresti aggiungere questa linea a <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>linux_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kldstat&amp;sektion=8&amp;format=html">kldstat(8)</a> può essere usato per verificare se KLD sia stato caricato:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% kldstat
Id Refs Address    Size     Name
 1    2 0xc0100000 16bdb8   kernel
 7    1 0xc24db000 d000     linux.ko</code></pre></div></div><div class=paragraph><p>Se per qualche ragione non vuoi o non puoi caricare KLD, puoi collegare staticamente la compatibilità Linux nel kernel aggiungendo <code>options COMPAT_LINUX</code> al file di configurazione del kernel. Fatto questo puoi installare il nuovo kernel come descritto in <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>.</p></div><div class=sect3><h4 id=_installazione_delle_librerie_runtime_di_linux>10.2.1. Installazione delle Librerie Runtime di Linux<a class=anchor href=#_installazione_delle_librerie_runtime_di_linux></a></h4><div class=paragraph><p>Questo può essere fatto in due modi, o usando il port <a href=#linuxemu-libs-port>linux_base</a>, oppure installandole <a href=#linuxemu-libs-manually>manualmente</a>.</p></div><div class=sect4><h5 id=linuxemu-libs-port>10.2.1.1. Installazione Usando il Port linux_base<a class=anchor href=#linuxemu-libs-port></a></h5><div class=paragraph><p>Questo è di gran lunga il metodo più facile da usare per installare le librerie runtime. È proprio come installare qualunque altro port dalla <a href=file://localhost/usr/ports/>Collezione dei Port</a>. Semplicemente fai come segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/emulators/linux_base-fc4</span>
<span class=c># make install distclean</span></code></pre></div></div><div class=paragraph><p>In questo modo dovresti avere una compatibilità con i binari di Linux funzionante. Alcuni programmi potrebbero lamentarsi per qualche versione minore delle librerie di sistema. In generale, comunque, questo non dovrebbe essere un problema.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Potrebbero essere disponibili più versioni del port <a class=package href=https://cgit.freebsd.org/ports/tree/emulators/linux_base/>emulators/linux_base</a>, corrispondenti a differenti versioni di distribuzioni Linux. Dovresti installare il port che più soddisfa le richieste della applicazione Linux che vuoi installare.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=linuxemu-libs-manually>10.2.1.2. Installazione Manuale delle Librerie<a class=anchor href=#linuxemu-libs-manually></a></h5><div class=paragraph><p>Se non hai installata la collezione di "ports", puoi comunque installare le librerie manualmente. Hai bisogno delle librerie condivise di Linux da cui il programma dipende e del runtime linker. In più dovrai creare una directory "shadow root", <span class=filename>/compat/linux</span>, per le librerie Linux sul tuo sistema FreeBSD. Tutte le librerie condivise aperte da programmi Linux che girano sotto FreeBSD cercheranno prima in questo albero. Per cui, se un programma Linux carica, per esempio, <span class=filename>/lib/libc.so</span>, FreeBSD prima cercherà di aprire <span class=filename>/compat/linux/lib/libc.so</span>, e se questa non esiste, proverà con <span class=filename>/lib/libc.so</span>. Le librerie condivise dovrebbero essere installate nell’albero shadow <span class=filename>/compat/linux/lib</span> piuttosto che nei path che riporta <code>ld.so</code> di Linux.</p></div><div class=paragraph><p>Generalmente avrai bisogno di cercare le librerie condivise da cui dipendono i binari di Linux solo per le prime poche installazioni di programmi Linux sul tuo sistema FreeBSD. Dopo un po' avrai a disposizione sul tuo sistema un insieme sufficiente di librerie condivise per Linux da far girare nuovi binari Linux senza alcun sforzo ulteriore.</p></div></div><div class=sect4><h5 id=_come_installare_ulteriori_librerie_condivise>10.2.1.3. Come Installare Ulteriori Librerie Condivise<a class=anchor href=#_come_installare_ulteriori_librerie_condivise></a></h5><div class=paragraph><p>Cosa succede se installi il port <span class=filename>linux_base</span> e la tua applicazione si lamenta ancora di librerie condivise che mancano? Come fare a sapere quali librerie condivise necessita il binario di Linux e dove trovarle? Essenzialmente ci sono 2 possibilità (per seguire queste istruzioni dovrai essere <code>root</code> sul tuo sistema FreeBSD).</p></div><div class=paragraph><p>Se hai accesso ad un sistema Linux, guarda quali librerie condivise servono all’applicazione e copiale nel tuo sistema FreeBSD. Guarda all’esempio che segue:</p></div><div class=paragraph><p>Poniamo che tramite FTP tu abbia recuperato il binario per Linux di Doom, e l’abbia messo su un sistema Linux a cui hai accesso. Puoi controllare quali librerie condivise servono eseguendo <code>ldd linuxdoom</code>, così:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ldd linuxdoom
libXt.so.3 <span class=o>(</span>DLL Jump 3.1<span class=o>)</span> <span class=o>=&gt;</span> /usr/X11/lib/libXt.so.3.1.0
libX11.so.3 <span class=o>(</span>DLL Jump 3.1<span class=o>)</span> <span class=o>=&gt;</span> /usr/X11/lib/libX11.so.3.1.0
libc.so.4 <span class=o>(</span>DLL Jump 4.5pl26<span class=o>)</span> <span class=o>=&gt;</span> /lib/libc.so.4.6.29</code></pre></div></div><div class=paragraph><p>Potresti aver bisogno di recuperare tutti i file dall’ultima colonna, e di metterli sotto <span class=filename>/compat/linux</span>, con i nomi nella prima colonna come link simbolici che puntino ad essi. Questo significa che alla fine avrai questi file sul tuo sistema FreeBSD:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>/compat/linux/usr/X11/lib/libXt.so.3.1.0
/compat/linux/usr/X11/lib/libXt.so.3 -&gt; libXt.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3 -&gt; libX11.so.3.1.0
/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nota che se hai già una libreria condivisa di Linux con un numero di revisione maggiore di quello della prima colonna dell’output di <code>ldd</code>, non dovrai copiare nel tuo sistema il file elencato nell’ultima colonna, quello che hai dovrebbe funzionare. Si raccomanda di copiare comunque la libreria condivisa se è una versione più recente. Puoi rimuovere quella vecchia, dal momento che crei il link simbolico che punta a quella nuova. Quindi, se hai queste librerie sul tuo sistema:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>/compat/linux/lib/libc.so.4.6.27
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.27</code></pre></div></div><div class=paragraph><p>e vedi che un nuovo binario richiede una versione più recente in base all’output di <code>ldd</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>libc.so.4 <span class=o>(</span>DLL Jump 4.5pl26<span class=o>)</span> -&gt; libc.so.4.6.29</code></pre></div></div><div class=paragraph><p>Se si tratta solo di una o due versioni precedenti in base alla cifra finale allora non preoccuparti di copiare anche <span class=filename>/lib/libc.so.4.6.29</span>, perché il programma dovrebbe funzionare bene anche con una versione di poco più vecchia. In ogni caso, se vuoi, puoi decidere di rimpiazzare comunque <span class=filename>libc.so</span>, e dovrebbe lasciarti con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</code></pre></div></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il meccanismo dei link simbolici è richiesto <em>solo</em> per i binari di Linux. Il runtime linker di FreeBSD si occupa da solo di cercare corrispondenti numeri di revisione maggiori e non devi preoccuparti di questo.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=_installazione_di_binari_elf_di_linux>10.2.2. Installazione di Binari ELF di Linux<a class=anchor href=#_installazione_di_binari_elf_di_linux></a></h4><div class=paragraph><p>I binari ELF possono richiedere un ulteriore passo di "marchiatura". Se provi a far girare un binario ELF non marchiato, incorrerai in un messaggio come il seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ./my-linux-elf-binary
ELF binary <span class=nb>type </span>not known
Abort</code></pre></div></div><div class=paragraph><p>Per aiutare il kernel di FreeBSD a distinguere un binario ELF di FreeBSD da uno di Linux, usa l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=brandelf&amp;sektion=1&amp;format=html">brandelf(1)</a>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% brandelf <span class=nt>-t</span> Linux my-linux-elf-binary</code></pre></div></div><div class=paragraph><p>Oggi, la GNU toolchain inserisce automaticamente l’appropriata informazione di marchiatura nei binari ELF, così questo passo dovrebbe divenire sempre meno necessario nel futuro.</p></div></div><div class=sect3><h4 id=_configurazione_del_hostname_resolver>10.2.3. Configurazione del Hostname Resolver<a class=anchor href=#_configurazione_del_hostname_resolver></a></h4><div class=paragraph><p>Se il DNS non funziona o da questo messaggio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>resolv+: <span class=s2>&#34;bind&#34;</span> is an invalid keyword resolv+:
<span class=s2>&#34;hosts&#34;</span> is an invalid keyword</code></pre></div></div><div class=paragraph><p>Dovrai configurare un file <span class=filename>/compat/linux/etc/host.conf</span> contentente:</p></div><div class="literalblock programlisting"><div class=content><pre>order hosts, bind
multi on</pre></div></div><div class=paragraph><p>Qui, l’ordine specifica che <span class=filename>/etc/hosts</span> viene cercato per primo e il DNS per secondo. Quando <span class=filename>/compat/linux/etc/host.conf</span> non è installato, le applicazioni Linux trovano il <span class=filename>/etc/host.conf</span> di FreeBSD e si lamentano della sintassi incompatibile di FreeBSD. Dovresti rimuovere <code>bind</code> se non hai configurato un name server usando il file <span class=filename>/etc/resolv.conf</span>.</p></div></div></div><div class=sect2><h3 id=linuxemu-mathematica>10.3. Installazione di Mathematica®<a class=anchor href=#linuxemu-mathematica></a></h3><div class=paragraph><p>Questo documento descive il processo di installazione della versione Linux di Mathematica® 5.X su un sistema FreeBSD.</p></div><div class=paragraph><p>La versione Linux di Mathematica® o di Mathematica® for Students può essere ordinata direttamente da Wolfram all’indirizzo <a href=http://www.wolfram.com/>http://www.wolfram.com/</a>.</p></div><div class=sect3><h4 id=_avviare_linstaller_di_mathematica>10.3.1. Avviare l’Installer di Mathematica®<a class=anchor href=#_avviare_linstaller_di_mathematica></a></h4><div class=paragraph><p>Prima di tutto, devi indicare a FreeBSD che i binari Linux di Mathematica® usano le ABI di Linux. Il modo più facile di farlo è di settare il tipo di ELF a Linux per tutti i binari non marchiati con il comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl kern.fallback_elf_brand=3</span></code></pre></div></div><div class=paragraph><p>In questo modo FreeBSD assume che tutti i binari ELF non marchiati usino l’ABI di Linux e quindi dovresti essere in grado di eseguire l’installer direttamente dal CDROM.</p></div><div class=paragraph><p>Ora, copia il file <span class=filename>MathInstaller</span> sul tuo disco:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /cdrom</span>
<span class=c># cp /cdrom/Unix/Installers/Linux/MathInstaller /localdir/</span></code></pre></div></div><div class=paragraph><p>e in questo file, rimpiazza la prima riga <code>/bin/sh</code> con <code>/compat/linux/bin/sh</code>. Questo assicura che l’installer viene eseguito dalla versione Linux di <a href="https://man.freebsd.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;format=html">sh(1)</a>. Poi, rimpiazza tutte le occorrenze di <code>Linux)</code> con <code>FreeBSD)</code> utilizzando un editor di testo o lo script mostrato nella prossima sezione. Questo indica all’installer di Mathematica®, che chiama <code>uname -s</code> per determinare il sistema operativo, per trattare FreeBSD come un sistema operativo Linux-like. Invocando <code>MathInstaller</code> verrà installato Mathematica®.</p></div></div><div class=sect3><h4 id=_modifica_degli_eseguibili_di_mathematica>10.3.2. Modifica degli Eseguibili di Mathematica®<a class=anchor href=#_modifica_degli_eseguibili_di_mathematica></a></h4><div class=paragraph><p>Gli script di shell che Mathematica® crea durante l’installazione devono essere modificati prima di poterli usare. Se hai scelto di mettere gli eseguibili di Mathematica® nella directory <span class=filename>/usr/local/bin</span>, troverai in questa directory dei link simbolici chiamati <span class=filename>math</span>, <span class=filename>mathematica</span>, <span class=filename>Mathematica</span>, e <span class=filename>MathKernel</span>. In ognuno di questi, sostituisci <code>Linux)</code> con <code>FreeBSD)</code> usando un editor di testo o il seguente script di shell:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
cd /usr/local/bin
for i in math mathematica Mathematica MathKernel
  do sed &#39;s/Linux)/FreeBSD)/g&#39; $i &gt; $i.tmp
  sed &#39;s/\/bin\/sh/\/compat\/linux\/bin\/sh/g&#39; $i.tmp &gt; $i
  rm $i.tmp
  chmod a+x $i
done</pre></div></div></div><div class=sect3><h4 id=_ottenere_la_tua_password_per_mathematica>10.3.3. Ottenere la Tua Password per Mathematica®<a class=anchor href=#_ottenere_la_tua_password_per_mathematica></a></h4><div class=paragraph><p>Quando avvii Mathematica® per la prima volta, ti verrà richiesta una password. Se non hai ancora ottenuto una password da Wolfram, esegui il programma <code>mathinfo</code> nella directory di installazione per ottenere il tuo "ID di macchina". Questo ID è basato esclusivamente sull’indirizzo MAC della tua prima scheda di Ethernet, quindi non puoi eseguire la tua copia di Mathematica® su macchine diverse.</p></div><div class=paragraph><p>Quando ti registri alla Wolfram, sia per email, telefono o fax, gli darai il "machine ID" e loro ti restituiranno una password corrispondente che consiste di un gruppo di numeri.</p></div></div><div class=sect3><h4 id=_lancio_del_frontend_di_mathematica_in_una_rete>10.3.4. Lancio del Frontend di Mathematica® in una Rete<a class=anchor href=#_lancio_del_frontend_di_mathematica_in_una_rete></a></h4><div class=paragraph><p>Mathematica® usa alcuni font speciali per visualizzare caratteri non presenti in alcun insieme standard di font (integrali, sommatorie, lettere greche, ecc.). Il protocollo X necessita che questi font siano installati <em>localmente</em>. Questo significa che dovrai fare una copia di questi font sulla tua macchina locale dal CDROM o da un host con Mathematica® installato. Questi font si trovano normalmente in <span class=filename>/cdrom/Unix/Files/SystemFiles/Fonts</span> sul CDROM, oppure <span class=filename>/usr/local/mathematica/SystemFiles/Fonts</span> sul tuo disco rigido. I font sono nelle sottodirectory <span class=filename>Type1</span> e <span class=filename>X</span>. Ci sono molti modi di usarli, come descritto sotto.</p></div><div class=paragraph><p>Il primo modo è di copiarli dentro una delle directory di font esistenti in <span class=filename>/usr/X11R6/lib/X11/fonts</span>. Questo comporterà la modifica del file <span class=filename>fonts.dir</span>, aggiungendovi i nomi dei font e cambiando il numero di font nella prima riga. In alternativa, dovresti anche essere in grado di lanciare <a href="https://man.freebsd.org/cgi/man.cgi?query=mkfontdir&amp;sektion=1&amp;format=html">mkfontdir(1)</a> nella directory in cui li hai copiati.</p></div><div class=paragraph><p>Il secondo modo di farlo è copiare le directory in <span class=filename>/usr/X11R6/lib/X11/fonts</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/X11R6/lib/X11/fonts</span>
<span class=c># mkdir X</span>
<span class=c># mkdir MathType1</span>
<span class=c># cd /cdrom/Unix/Files/SystemFiles/Fonts</span>
<span class=c># cp X/* /usr/X11R6/lib/X11/fonts/X</span>
<span class=c># cp Type1/* /usr/X11R6/lib/X11/fonts/MathType1</span>
<span class=c># cd /usr/X11R6/lib/X11/fonts/X</span>
<span class=c># mkfontdir</span>
<span class=c># cd ../MathType1</span>
<span class=c># mkfontdir</span></code></pre></div></div><div class=paragraph><p>Poi aggiungi le nuove directory di font nel tuo path dei font:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># xset fp+ /usr/X11R6/lib/X11/fonts/X</span>
<span class=c># xset fp+ /usr/X11R6/lib/X11/fonts/MathType1</span>
<span class=c># xset fp rehash</span></code></pre></div></div><div class=paragraph><p>Se stai utilizzando il server Xorg, puoi caricare automaticamente queste directory di font aggiungendole nel file <span class=filename>xorg.conf</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per i server XFree86™, il file di configurazione è <span class=filename>XF86Config</span>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se ancora <em>non</em> hai una directory chiamata <span class=filename>/usr/X11R6/lib/X11/fonts/Type1</span>, puoi cambiare il nome della directory <span class=filename>MathType1</span> dell’esempio sopra in <span class=filename>Type1</span>.</p></div></div></div><div class=sect2><h3 id=linuxemu-maple>10.4. Installazione di Maple™<a class=anchor href=#linuxemu-maple></a></h3><div class=paragraph><p>Maple™ è un programma commerciale di matematica simile a Mathematica®. Devi acquistare questo software da <a href=http://www.maplesoft.com/>http://www.maplesoft.com/</a> e quindi registrarti per un file di licenza. Per installare questo software su FreeBSD, segui i passi seguenti.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Esegui lo script di shell <span class=filename>INSTALL</span> dalla distribuzione del prodotto. Scegli l’opzione "RedHat" quando richiesto dal programma di installazione. Una tipica directory di installazione potrebbe essere <span class=filename>/usr/local/maple</span>.</p></li><li><p>Se ancora non l’hai fatto, ordina una licenza per Maple™ dalla Maple Waterloo Software (<a href=http://register.maplesoft.com/>http://register.maplesoft.com/</a>) e copiala in <span class=filename>/usr/local/maple/license/license.dat</span>.</p></li><li><p>Installa il gestore della licenza FLEXlm lanciando lo shell script di installazione <span class=filename>INSTALL_LIC</span>, distribuito assieme a Maple™. Specifica l’hostname primario della la tua macchina per il server delle licenze.</p></li><li><p>Modifica il file <span class=filename>/usr/local/maple/bin/maple.system.type</span> aggiungendo:</p><div class="literalblock programlisting"><div class=content><pre>   ----- snip ------------------
*** maple.system.type.orig      Sun Jul  8 16:35:33 2001
--- maple.system.type   Sun Jul  8 16:35:51 2001
***************
*** 72,77 ****
--- 72,78 ----
          # the IBM RS/6000 AIX case
          MAPLE_BIN=&#34;bin.IBM_RISC_UNIX&#34;
          ;;
+     &#34;FreeBSD&#34;|\
      &#34;Linux&#34;)
          # the Linux/x86 case
        # We have two Linux implementations, one for Red Hat and
   ----- snip end of patch -----</pre></div></div><div class=paragraph><p>Nota che dopo <code>"FreeBSD"|\</code> non ci devono essere altri spazi bianchi.</p></div><div class=paragraph><p>Questa patch dice a Maple™ di riconoscere "FreeBSD" come un tipo di sistema Linux. Lo shell script <span class=filename>bin/maple</span> richiama lo shell script <span class=filename>bin/maple.system.type</span> che a sua volta chiama <code>uname -a</code> per determinare il nome del sistema operativo. A seconda del nome del SO capirà quali binari utilizzare.</p></div></li><li><p>Avviare il server delle licenze.</p><div class=paragraph><p>Lo script seguente, installato come <span class=filename>/usr/local/etc/rc.d/lmgrd.sh</span> è un modo facile per far partire <code>lmgrd</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>   ----- snip ------------

#! /bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin
PATH=${PATH}:/usr/local/maple/bin:/usr/local/maple/FLEXlm/UNIX/LINUX
export PATH

LICENSE_FILE=/usr/local/maple/license/license.dat
LOG=/var/log/lmgrd.log

case &#34;$1&#34; in
start)
        lmgrd -c ${LICENSE_FILE} 2&gt;&gt; ${LOG} 1&gt;&amp;2
        echo -n &#34; lmgrd&#34;
        ;;
stop)
        llmgrd -c ${LICENSE_FILE} -x lmdown 2&gt;&gt; ${LOG} 1&gt;&amp;2
        ;;
*)
        echo &#34;Usage: `basename $0` {start|stop}&#34; 1&gt;&amp;2
        exit 64
        ;;
esac

exit 0
   ----- snip ------------</pre></div></div></li><li><p>Fai un test di avvio di Maple™:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>cd</span> /usr/local/maple/bin
% ./xmaple</code></pre></div></div><div class=paragraph><p>Dovrebbe funzionare. Assicurati di scrivere alla Maplesoft per fargli sapere che vorresti avere una versione nativa per FreeBSD!</p></div></li></ol></div></div></div><div class=sect3><h4 id=_problemi_comuni>10.4.1. Problemi Comuni<a class=anchor href=#_problemi_comuni></a></h4><div class=ulist><ul><li><p>Il gestore della licenza FLEXlm può essere uno strumento difficile con cui lavorare. A questo riguardo si può trovare della documentazione in più a <a href=http://www.globetrotter.com/>http://www.globetrotter.com/</a>.</p></li><li><p>Si sa che <code>lmgrd</code> è molto esigente riguardo al file della licenza e che va in core dump per qualunque problema. Un buon file della licenza dovrebbe essere così:</p><div class="literalblock programlisting"><div class=content><pre># =======================================================
# License File for UNIX Installations (&#34;Pointer File&#34;)
# =======================================================
SERVER chillig ANY
#USE_SERVER
VENDOR maplelmg

FEATURE Maple maplelmg 2000.0831 permanent 1 XXXXXXXXXXXX \
         PLATFORMS=i86_r ISSUER=&#34;Waterloo Maple Inc.&#34; \
         ISSUED=11-may-2000 NOTICE=&#34; Technische Universitat Wien&#34; \
         SN=XXXXXXXXX</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il numero seriale e la chiave sono sostituiti dalle 'X'. <code>chillig</code> è un hostname.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Modificare il file della licenza funziona fino a quando non tocchi la linea "FEATURE" (che è protetta dalla chiave della licenza).</p></div></li></ul></div></div></div><div class=sect2><h3 id=linuxemu-matlab>10.5. Installazione di MATLAB®<a class=anchor href=#linuxemu-matlab></a></h3><div class=paragraph><p>Questo documento descrive il processo di installazione della versione Linux di MATLAB® versione 6.5 su un sistema FreeBSD. Funziona abbastanza bene, con l’eccezione per la Java Virtual Machine™ (vedi <a href=#matlab-jre>Collegare il Java™ Runtime Environment</a>).</p></div><div class=paragraph><p>La versione Linux di MATLAB® può essere ordinata direttamente dalla MathWorks all’indirizzo <a href=http://www.mathworks.com>http://www.mathworks.com</a>. Assicurati di avere il file della licenza o le istruzioni per crearlo. Già che ci sei, fagli sapere che vorresti una versione nativa per FreeBSD del loro software.</p></div><div class=sect3><h4 id=_installazione_di_matlab>10.5.1. Installazione di MATLAB®<a class=anchor href=#_installazione_di_matlab></a></h4><div class=paragraph><p>Per installare MATLAB®, fai come segue:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Inserisci il CD di installazione e montalo. Diventa <code>root</code>, come consigliato dallo script di installazione. Per avviare lo script di installazione scrivi:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /compat/linux/bin/sh /cdrom/install</span></code></pre></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>L’installer è grafico. Se ottieni errori riguardo all’impossibilità ad aprire un display, scrivi <code>setenv HOME ~USER</code>, dove <em>USER</em> è l’utente che hai fatto <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a>.</p></div></td></tr></tbody></table></div></li><li><p>Quando viene chiesta la directory root per MATLAB®, scrivi: <code>/compat/linux/usr/local/matlab</code>.</p><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Per una più facile scrittura nel resto del processo di installazione, scrivi questo nella linea di comando della shell: <code>set MATLAB=/compat/linux/usr/local/matlab</code></p></div></td></tr></tbody></table></div></li><li><p>Modifica il file della licenza secondo le istruzioni avute quando hai ottenuto la licenza di MATLAB®.</p><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Puoi preparare questo file in anticipo usando il tuo editor preferito, e copiarlo in <span class=filename>$MATLAB/license.dat</span> prima che l’installer ti chieda di modificarlo.</p></div></td></tr></tbody></table></div></li><li><p>Completare il processo di installazione.</p></li></ol></div></div></div><div class=paragraph><p>A questo punto la tua installazione di MATLAB® è completa. I punti seguenti applicano una "colla" per connetterlo al tuo sistema FreeBSD.</p></div></div><div class=sect3><h4 id=_avvio_del_license_manager>10.5.2. Avvio del License Manager<a class=anchor href=#_avvio_del_license_manager></a></h4><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Crea dei symlink per gli script del gestore della licenza:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -s $MATLAB/etc/lmboot /usr/local/etc/lmboot_TMW</span>
<span class=c># ln -s $MATLAB/etc/lmdown /usr/local/etc/lmdown_TMW</span></code></pre></div></div></li><li><p>Crea un file d’avvio in <span class=filename>/usr/local/etc/rc.d/flexlm.sh</span>. L’esempio qui sotto è una versione modificata del <span class=filename>$MATLAB/etc/rc.lm.glnx86</span> venduto. I cambiamenti sono le posizioni del file e l’avvio del license manager sotto l’emulazione Linux.</p><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
case &#34;$1&#34; in
  start)
        if [ -f /usr/local/etc/lmboot_TMW ]; then
              /compat/linux/bin/sh /usr/local/etc/lmboot_TMW -u username &amp;&amp; echo &#39;MATLAB_lmgrd&#39;
        fi
        ;;
  stop)
        if [ -f /usr/local/etc/lmdown_TMW ]; then
            /compat/linux/bin/sh /usr/local/etc/lmdown_TMW  &gt; /dev/null 2&gt;&amp;1
        fi
        ;;
  *)
        echo &#34;Usage: $0 {start|stop}&#34;
        exit 1
        ;;
esac

exit 0</pre></div></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Il file deve essere reso eseguibile:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chmod +x /usr/local/etc/rc.d/flexlm.sh</span></code></pre></div></div><div class=paragraph><p>In aggiunta sostituisci <em>username</em> sopra con il nome di un utente valido sul tuo sistema (e non <code>root</code>).</p></div></td></tr></tbody></table></div></li><li><p>Avvia il gestore della licenza con il comando:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/etc/rc.d/flexlm.sh start</span></code></pre></div></div></li></ol></div></div></div></div><div class=sect3><h4 id=matlab-jre>10.5.3. Collegare il Java™ Runtime Environment<a class=anchor href=#matlab-jre></a></h4><div class=paragraph><p>Cambia il link al Java™ Runtime Environment (JRE) con uno che funzioni sotto FreeBSD:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd $MATLAB/sys/java/jre/glnx86/</span>
<span class=c># unlink jre; ln -s ./jre1.1.8 ./jre</span></code></pre></div></div></div><div class=sect3><h4 id=_creazione_di_uno_script_di_avvio_per_matlab>10.5.4. Creazione di uno Script di Avvio per MATLAB®<a class=anchor href=#_creazione_di_uno_script_di_avvio_per_matlab></a></h4><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Poni il seguente script di avvio in <span class=filename>/usr/local/bin/matlab</span>:</p><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
/compat/linux/bin/sh /compat/linux/usr/local/matlab/bin/matlab &#34;$@&#34;</pre></div></div></li><li><p>Quindi scrivi il comando <code>chmod +x /usr/local/bin/matlab</code>.</p></li></ol></div></div></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>A seconda della tua versione di <a class=package href=https://cgit.freebsd.org/ports/tree/emulators/linux_base/>emulators/linux_base</a>, potresti incorrere in errori quando lanci questo script. Per evitarli, modifica il file <span class=filename>/compat/linux/usr/local/matlab/bin/matlab</span>, e cambia la riga che dice:</p></div><div class="literalblock programlisting"><div class=content><pre>if [ `expr &#34;$lscmd&#34; : &#39;.*-&gt;.*&#39;` -ne 0 ]; then</pre></div></div><div class=paragraph><p>(nella versione 13.0.1 è alla riga 410) con questa riga:</p></div><div class="literalblock programlisting"><div class=content><pre>if test -L $newbase; then</pre></div></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_creazione_di_uno_script_di_arresto_per_matlab>10.5.5. Creazione di uno script di arresto per MATLAB®<a class=anchor href=#_creazione_di_uno_script_di_arresto_per_matlab></a></h4><div class=paragraph><p>Quello che segue serve per risolvere un problema con MATLAB® quando non si chiude correttamente.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Crea un file <span class=filename>$MATLAB/toolbox/local/finish.m</span>, e scrivici l’unica riga:</p><div class="literalblock programlisting"><div class=content><pre>! $MATLAB/bin/finish.sh</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>$MATLAB</code> è letterale.</p></div></td></tr></tbody></table></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Nella stessa directory troverai i file <span class=filename>finishsav.m</span> e <span class=filename>finishdlg.m</span>, che permettono di salvare il tuo lavoro all’uscita. Se ne usi uno, inserisci la riga sopra immediatamente dopo il comando <code>save</code>.</p></div></td></tr></tbody></table></div></li><li><p>Crea un file <span class=filename>$MATLAB/bin/finish.sh</span>, che contiene ciò che segue:</p><div class="literalblock programlisting"><div class=content><pre>#!/usr/compat/linux/bin/sh
(sleep 5; killall -1 matlab_helper) &amp;
exit 0</pre></div></div></li><li><p>Rendi il file eseguibile:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chmod +x $MATLAB/bin/finish.sh</span></code></pre></div></div></li></ol></div></div></div></div><div class=sect3><h4 id=matlab-using>10.5.6. Uso di MATLAB®<a class=anchor href=#matlab-using></a></h4><div class=paragraph><p>A questo punto sei pronto per scrivere <code>matlab</code> e cominciare ad usarlo.</p></div></div></div><div class=sect2><h3 id=linuxemu-oracle>10.6. Installazione di Oracle®<a class=anchor href=#linuxemu-oracle></a></h3><div class=sect3><h4 id=_prefazione>10.6.1. Prefazione<a class=anchor href=#_prefazione></a></h4><div class=paragraph><p>Questo documento descrive il processo di installazione per Oracle® 8.0.5 e Oracle® 8.0.5.1 Enterprise Edition per Linux su una macchina FreeBSD.</p></div></div><div class=sect3><h4 id=_installazione_dellambiente_linux>10.6.2. Installazione dell’Ambiente Linux<a class=anchor href=#_installazione_dellambiente_linux></a></h4><div class=paragraph><p>Assicurati di avere installati sia <a class=package href=https://cgit.freebsd.org/ports/tree/emulators/linux_base/>emulators/linux_base</a> che <a class=package href=https://cgit.freebsd.org/ports/tree/devel/linux_devtools/>devel/linux_devtools</a> dalla collezione dei port. Se hai difficoltà con questi port, potresti dover usare i pacchetti o versioni più vecchie disponibili nella collezione dei port.</p></div><div class=paragraph><p>Se vuoi far girare l’intelligent agent, dovrai anche installare il pacchetto Tcl di Red Hat :<span class=filename>tcl-8.0.3-20.i386.rpm</span>. Il comando generale per l’installazione dei pacchetti con il port degli RPM ufficiali (<a class=package href=https://cgit.freebsd.org/ports/tree/archivers/rpm/>archivers/rpm</a>) è:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm pacchetto</span></code></pre></div></div><div class=paragraph><p>L’installazione del <em>pacchetto</em> non dovrebbe generare alcun errore.</p></div></div><div class=sect3><h4 id=_creazione_dellambiente_oracle>10.6.3. Creazione dell’ambiente Oracle®<a class=anchor href=#_creazione_dellambiente_oracle></a></h4><div class=paragraph><p>Prima di installare Oracle®, devi impostare un ambiente appropriato. Questo documento descrive solo cosa fare <em>in particolare</em> per far girare Oracle® per Linux su FreeBSD, non cosa è descritto nella guida di installazione di Oracle®.</p></div><div class=sect4><h5 id=linuxemu-kernel-tuning>10.6.3.1. Affinamento del Kernel<a class=anchor href=#linuxemu-kernel-tuning></a></h5><div class=paragraph><p>Come viene descritto nella guida di installazione di Oracle®, devi impostare la dimensione massima di memoria condivisa. Non usare <code>SHMMAX</code> sotto FreeBSD. <code>SHMMAX</code> è soltanto calcolato a partire da <code>SHMMAXPGS</code> e <code>PGSIZE</code>. Di conseguenza definisci <code>SHMMAXPGS</code>. Tutte le altre opzioni possono essere usate come descritte nella guida. Per esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</pre></div></div><div class=paragraph><p>Imposta queste opzioni per ottenere l’uso desiderato di Oracle®.</p></div><div class=paragraph><p>In più, assicurati di avere le seguenti opzioni nel file di configurazione del tuo kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>options SYSVSHM #SysV shared memory
options SYSVSEM #SysV semaphores
options SYSVMSG #SysV interprocess communication</pre></div></div></div><div class=sect4><h5 id=linuxemu-oracle-account>10.6.3.2. Account di Oracle®<a class=anchor href=#linuxemu-oracle-account></a></h5><div class=paragraph><p>Crea un account <code>oracle</code> proprio come faresti per creare qualunque altro account. L’account <code>oracle</code> è speciale solo se hai bisogno di usarlo in una shell di Linux. Aggiungi <code>/compat/linux/bin/bash</code> a <span class=filename>/etc/shells</span> e imposta la shell per l’account di <code>oracle</code> in <span class=filename>/compat/linux/bin/bash</span>.</p></div></div><div class=sect4><h5 id=linuxemu-environment>10.6.3.3. Ambiente<a class=anchor href=#linuxemu-environment></a></h5><div class=paragraph><p>A fianco dele normali variabili Oracle®, come <code>ORACLE_HOME</code> e <code>ORACLE_SID</code> devi impostare le seguenti variabili d’ambiente:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Variabile</th><th class="tableblock halign-left valign-top">Valore</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>LD_LIBRARY_PATH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>$ORACLE_HOME/lib</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>CLASSPATH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>$ORACLE_HOME/jdbc/lib/classes111.zip</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>PATH</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/compat/linux/bin /compat/linux/sbin /compat/linux/usr/bin /compat/linux/usr/sbin /bin /sbin /usr/bin /usr/sbin /usr/local/bin $ORACLE_HOME/bin</code></p></td></tr></tbody></table><div class=paragraph><p>Si raccomanda di impostare tutte le variabili d’ambiente in <span class=filename>.profile</span>. Un esempio completo:</p></div><div class="literalblock programlisting"><div class=content><pre>ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</pre></div></div></div></div><div class=sect3><h4 id=_installazione_di_oracle>10.6.4. Installazione di Oracle®<a class=anchor href=#_installazione_di_oracle></a></h4><div class=paragraph><p>A causa di una leggera inconsistenza nell’emulatore Linux, devi creare una directory chiamata <span class=filename>.oracle</span> in <span class=filename>/var/tmp</span> prima di avviare l’installer. Fallo appartenere dall’utente <code>oracle</code> e dovresti essere in grado di installare Oracle® senza alcun problema. Se hai problemi, controlla prima la tua distribuzione e/o configurazione di Oracle®! Dopo che hai installato Oracle®, applica le patch descritte nelle prossime due sottosezioni.</p></div><div class=paragraph><p>Un problema frequente è che l’adattatore del protocollo TCP non è installato corretamente. Di conseguenza non puoi avviare alcun listener TCP. Le seguenti azioni aiutano a risolvere questo problema:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd $ORACLE_HOME/network/lib</span>
<span class=c># make -f ins_network.mk ntcontab.o</span>
<span class=c># cd $ORACLE_HOME/lib</span>
<span class=c># ar r libnetwork.a ntcontab.o</span>
<span class=c># cd $ORACLE_HOME/network/lib</span>
<span class=c># make -f ins_network.mk install</span></code></pre></div></div><div class=paragraph><p>Non dimenticarti di eseguire <span class=filename>root.sh</span> ancora!</p></div><div class=sect4><h5 id=linuxemu-patch-root>10.6.4.1. Modifiche a root.sh<a class=anchor href=#linuxemu-patch-root></a></h5><div class=paragraph><p>Nell’installazione di Oracle®, alcune azioni, che vanno eseguite come <code>root</code>, sono registrate in uno script di shell chiamato <span class=filename>root.sh</span>. Questo script si trova nella directory <span class=filename>orainst</span>. Applica questa patch a <span class=filename>root.sh</span>, in modo che usi propriamente <code>chown</code> o, in alternativa, esegui lo script in una shell nativa di Linux.</p></div><div class="literalblock programlisting"><div class=content><pre>*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</pre></div></div><div class=paragraph><p>Se non installi Oracle® dal CD, puoi aggiungere la patch al sorgente di <span class=filename>root.sh</span>. Si chiama <span class=filename>rthd.sh</span> e si trova nella directory <span class=filename>orainst</span> nell’albero dei sorgenti.</p></div></div><div class=sect4><h5 id=linuxemu-patch-tcl>10.6.4.2. Modifiche a genclntsh<a class=anchor href=#linuxemu-patch-tcl></a></h5><div class=paragraph><p>Lo script <code>genclntsh</code> viene usato per creare una singola libreria condivisa del client. Si usa quando si compilano le demo. Applica la patch seguente per decommentare la definizione di <code>PATH</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we&#39;re using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we&#39;re using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</pre></div></div></div></div><div class=sect3><h4 id=_avvio_di_oracle>10.6.5. Avvio di Oracle®<a class=anchor href=#_avvio_di_oracle></a></h4><div class=paragraph><p>Se hai seguito le istruzioni, dovresti essere in grado di avviare Oracle® proprio come se fosse su Linux.</p></div></div></div><div class=sect2><h3 id=sapr3>10.7. Installazione di SAP® R/3®<a class=anchor href=#sapr3></a></h3><div class=paragraph><p>Le installazioni di sistemi SAP® usando FreeBSD non sono supportate dal team di supporto SAP® - offrono supporto solo per piattaforme certificate.</p></div><div class=sect3><h4 id=preface>10.7.1. Prefazione<a class=anchor href=#preface></a></h4><div class=paragraph><p>Questo documento descrive un modo possibile per installare un sistema SAP® R/3® con un database Oracle® per Linux su una macchina FreeBSD, inclusa l’installazione di FreeBSD e Oracle®. Sono descritte due diverse configurazioni:</p></div><div class=ulist><ul><li><p>SAP® R/3® 4.6B (IDES) con Oracle® 8.0.5 su FreeBSD 4.3-STABLE</p></li><li><p>SAP® R/3® 4.6C con Oracle® 8.1.7 su FreeBSD 4.5-STABLE</p></li></ul></div><div class=paragraph><p>Anche se questo documento tenta di descrivere tutti i passi importanti in dettaglio, non è insteso come un sostituto delle guide di installazione di Oracle® e SAP® R/3®.</p></div><div class=paragraph><p>Per favore, controlla la documentazione unita all’edizione Linux di SAP® R/3® per questioni specifiche su SAP® e Oracle®, e anche le risorse da Oracle® e SAP® OSS.</p></div></div><div class=sect3><h4 id=software>10.7.2. Software<a class=anchor href=#software></a></h4><div class=paragraph><p>Sono stati usati i seguenti CD-ROM per le installazioni di SAP®:</p></div><div class=sect4><h5 id=software-46b>10.7.2.1. SAP® R/3® 4.6B, Oracle® 8.0.5<a class=anchor href=#software-46b></a></h5><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Nome</th><th class="tableblock halign-left valign-top">Numero</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>KERNEL</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51009113</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SAP Kernel Oracle / Installation / AIX, Linux, Solaris</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RDBMS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51007558</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Oracle / RDBMS 8.0.5.X / Linux</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51010208</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IDES / DB-Export / Disco 1 di 6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51010209</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IDES / DB-Export / Disco 2 di 6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51010210</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IDES / DB-Export / Disco 3 di 6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51010211</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IDES / DB-Export / Disco 4 di 6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51010212</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IDES / DB-Export / Disco 5 di 6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51010213</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IDES / DB-Export / Disco 6 di 6</p></td></tr></tbody></table><div class=paragraph><p>Abbiamo usato anche il CD di Oracle® 8 Server (versione preproduzione 8.0.5 per Linux, versione del kernel 2.0.33) che non è non strettamente necessario, e FreeBSD 4.3-STABLE (uscita pochi giorni dopo 4.3 RELEASE).</p></div></div><div class=sect4><h5 id=software-46c>10.7.2.2. SAP® R/3® 4.6C SR2, Oracle® 8.1.7<a class=anchor href=#software-46c></a></h5><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Nome</th><th class="tableblock halign-left valign-top">Numero</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>KERNEL</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51014004</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SAP Kernel Oracle / SAP Kernel Version 4.6D / DEC, Linux</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RDBMS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51012930</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Oracle 8.1.7/ RDBMS / Linux</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51013953</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Release 4.6C SR2 / Export / Disco 1 di 4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51013953</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Release 4.6C SR2 / Export / Disco 2 di 4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51013953</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Release 4.6C SR2 / Export / Disco 3 di 4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>EXPORT1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51013953</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Release 4.6C SR2 / Export / Disco 4 di 4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>LANG1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>51013954</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Release 4.6C SR2 / Language / DE, EN, FR / Disco 1 di 3</p></td></tr></tbody></table><div class=paragraph><p>Dipendentemente dalle lingue che vuoi installare, potrebbero essere necessari altri CD per le lingue. Qui usiamo solo DE e EN, così da utilizzare solo il primo CD per le lingue. Come piccola nota, i numeri per tutti i quattro CD EXPORT sono uguali. Tutti e tre i CD per le lingue hanno pure lo stesso numero (diversamente dalla numerazione della release 4.6B IDES). Mentre stiamo scrivendo, questa installazione sta girando su FreeBSD 4.5-STABLE (20.03.2002).</p></div></div></div><div class=sect3><h4 id=sap-notes>10.7.3. Note di SAP®<a class=anchor href=#sap-notes></a></h4><div class=paragraph><p>Le seguenti note dovrebbero essere lette prima di installare SAP® R/3® e dovrebbero tornare utili durante l’installazione:</p></div><div class=sect4><h5 id=sap-notes-46b>10.7.3.1. SAP® R/3® 4.6B, Oracle® 8.0.5<a class=anchor href=#sap-notes-46b></a></h5><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Numero</th><th class="tableblock halign-left valign-top">Titolo</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0171356</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software SAP su Linux: Commenti Essenziali</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0201147</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>INST: 4.6C R/3 Inst. su UNIX - Oracle</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0373203</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Aggiornamento / Migrazione Oracle 8.0.5 -→ 8.0.6/8.1.6 LINUX</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0072984</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Rilascio di Digital UNIX 4.0B per Oracle</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0130581</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>R3SETUP passo DIPGNTAB termina</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0144978</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il tuo sistema non è stato installato correttamente</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0162266</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Domande e suggerimenti per R3SETUP su Windows NT / W2K</p></td></tr></tbody></table></div><div class=sect4><h5 id=sap-notes-46c>10.7.3.2. SAP® R/3® 4.6C, Oracle® 8.1.7<a class=anchor href=#sap-notes-46c></a></h5><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Numero</th><th class="tableblock halign-left valign-top">Titolo</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0015023</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Inizializzazione della tabella TCPDB (RSXP0004) (EBCDIC)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0045619</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>R/3 con molti linguaggi o caratteri</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0171356</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software SAP su Linux: Commenti Essenziali</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0195603</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RedHat 6.1 Enterprise version: Problemi Conosciuti</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0212876</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il nuovo strumento di archiviazione SAPCAR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0300900</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Linux: Hardware DELL Rilasciato</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0377187</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RedHat 6.2: Note importanti</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0387074</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>INST: R/3 4.6C SR2 Installazione su UNIX</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0387077</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>INST: R/3 4.6C SR2 Inst. su UNIX - Oracle</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>0387078</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Software SAP su UNIX: Dipendenze del SO per 4.6C SR2</p></td></tr></tbody></table></div></div><div class=sect3><h4 id=hardware-requirements>10.7.4. Requisiti Hardware<a class=anchor href=#hardware-requirements></a></h4><div class=paragraph><p>La strumentazione che segue è sufficiente per l’installazione di un sistema SAP® R/3®. Per un uso in produzione, è necessario un dimensionamento più preciso:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Componente</th><th class="tableblock halign-left valign-top">4.6B</th><th class="tableblock halign-left valign-top">4.6C</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Processore</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2 x 800MHz Pentium® III</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2 x 800MHz Pentium® III</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Memoria</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1GB ECC</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2GB ECC</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Spazio sul Disco Fisso</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>50-60GB (IDES)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>50-60GB (IDES)</p></td></tr></tbody></table><div class=paragraph><p>Per l’uso in produzione si raccomandano processori Xeon™, con una grande cache, dischi ad accesso ad alta velocità (SCSI, controller hardware RAID), sono raccomandati USV e ECC-RAM. La grande quantità di spazio sul disco fisso è dovuta al sistema IDES preconfigurato, che, durante l’installazione, crea 27 GB di file per il database. Questo spazio è sufficiente per sistemi in produzione e per i dati delle applicazioni iniziali.</p></div><div class=sect4><h5 id=hardware-46b>10.7.4.1. SAP® R/3® 4.6B, Oracle® 8.0.5<a class=anchor href=#hardware-46b></a></h5><div class=paragraph><p>È stato usato il seguente hardware in disuso: una scheda biprocessore con 2 processori Pentium® III da 800 MHz, adattatore SCSI Adaptec® 29160 Ultra160 (per accedere ad un unità nastro DLT da 40/80 GB e al CDROM), Mylex® AcceleRAID™ (2 canali, firmware 6.00-1-00 con 32 MB RAM). Al controller RAID Mylex® sono attaccati due dischi fissi da 17 GB (mirrored) e quattro dischi fissi da 36 GB (RAID 5).</p></div></div><div class=sect4><h5 id=hardware-46c>10.7.4.2. SAP® R/3® 4.6C, Oracle® 8.1.7<a class=anchor href=#hardware-46c></a></h5><div class=paragraph><p>Per questa installazione è stato usato un Dell™ PowerEdge™ 2500: una scheda biprocessore con due processori Pentium® III da 1000 MHz (256 kB di cache), 2 GB PC133 ECC SDRAM, controller RAID PERC/3 DC PCI con 128 MB, e un drive EIDE DVD-ROM. Al controller RAID controller sono attaccati due dischi fissi da 18 GB (mirrored) e quattro dischi fissi da 36 GB (RAID 5).</p></div></div></div><div class=sect3><h4 id=installation>10.7.5. Installazione di FreeBSD<a class=anchor href=#installation></a></h4><div class=paragraph><p>Prima devi installare FreeBSD. Ci sono molti modi per farlo, per maggiori informazioni leggi la <a href=./#install-diff-media>Preparare i Propri Media di Installazione</a>.</p></div><div class=sect4><h5 id=disk-layout>10.7.5.1. Layuot del Disco<a class=anchor href=#disk-layout></a></h5><div class=paragraph><p>Per farla semplice, abbiamo usato lo stesso layout del disco sia per l’installazione di SAP® R/3® 46B che di SAP® R/3® 46C SR2. Cambiano solo i nomi dei dispositivi, dal momento che le installazioni sono state eseguite su hardware differenti (rispettivamente <span class=filename>/dev/da</span> e <span class=filename>/dev/amr</span>, così se si usa un AMI MegaRAID®, si vedrà <span class=filename>/dev/amr0s1a</span> invece che <span class=filename>/dev/da0s1a</span>):</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">File system</th><th class="tableblock halign-left valign-top">Dimensione (1k-blocks)</th><th class="tableblock halign-left valign-top">Dimensione (GB)</th><th class="tableblock halign-left valign-top">Montato su</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/da0s1a</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1.016.303</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/</span></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/da0s1b</span></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>swap</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/da0s1e</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.032.623</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var</span></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/da0s1f</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8.205.339</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr</span></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/da1s1e</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>45.734.361</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>45</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/compat/linux/oracle</span></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/da1s1f</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.032.623</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/compat/linux/sapmnt</span></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/dev/da1s1g</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2.032.623</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/compat/linux/usr/sap</span></p></td></tr></tbody></table><div class=paragraph><p>Configura in anticipo e inizializza i due drive logici con il software Mylex® o PERC/3 RAID. Il software può essere lanciato durante la fase di avvio del BIOS.</p></div><div class=paragraph><p>Nota che il layout di questo disco differisce leggermente dalle raccomandazioni di SAP®, giacché SAP® suggerisce di montare le sottodirectory di Oracle® (e qualche altra) separatamente - abbiamo deciso di crearle come vere sottodirectory per semplicità.</p></div></div><div class=sect4><h5 id=makeworldandnewkernel>10.7.5.2. <code>make world</code> e il Nuovo Kernel<a class=anchor href=#makeworldandnewkernel></a></h5><div class=paragraph><p>Scarica gli ultimi sorgenti -STABLE. Ricompila world e il tuo kernel personalizzato dopo averne modificato il file di configurazione. In questo dovresti includere anche i <a href=#kerneltuning>parametri del kernel</a> che sono richiesti sia per SAP® R/3® che per Oracle®.</p></div></div></div><div class=sect3><h4 id=installingthelinuxenviornment>10.7.6. Installazione dell’Ambiente Linux<a class=anchor href=#installingthelinuxenviornment></a></h4><div class=sect4><h5 id=installinglinuxbase-system>10.7.6.1. Installazione del Sistema Linux di Base<a class=anchor href=#installinglinuxbase-system></a></h5><div class=paragraph><p>Per primo bisogna installare il port <a href=#linuxemu-libs-port>linux_base</a> (come <code>root</code>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/emulators/linux_base</span>
<span class=c># make install distclean</span></code></pre></div></div></div><div class=sect4><h5 id=installinglinuxdevelopment>10.7.6.2. Installazione dell’Ambiente di Sviluppo di Linux<a class=anchor href=#installinglinuxdevelopment></a></h5><div class=paragraph><p>È richiesto l’ambiente di sviluppo di linux, se vuoi installare Oracle® su FreeBSD secondo la <a href=#linuxemu-oracle>Installazione di Oracle®</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/devel/linux_devtools</span>
<span class=c># make install distclean</span></code></pre></div></div><div class=paragraph><p>L’ambiente di sviluppo di Linux è stato installato solo durante l’installazione di SAP® R/3® 46B IDES. Non è necessario, se Oracle® DB non è ricollegata sul sistema FreeBSD. Questo è il caso se stai usando il tarball di Oracle® da un sistema Linux.</p></div></div><div class=sect4><h5 id=installingnecessaryrpms>10.7.6.3. Installazione degli RPM necessari<a class=anchor href=#installingnecessaryrpms></a></h5><div class=paragraph><p>Per avviare il programma <code>R3SETUP</code>, c’è bisogno del supporto PAM. Durante la prima installazione di SAP® su FreeBSD 4.3-STABLE abbiamo tentato di installare PAM con tutti i pacchetti richiesti: alla fine abbiamo forzato l’installazione del pacchetto di PAM, ed ha funzionato. Per SAP® R/3® 4.6C SR2 abbiamo subito forzato l’installazione degli RPM di PAM, ed ha pure funzionato, sembra quindi che i pacchetti dipendenti non siano necessari:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rpm -i --ignoreos --nodeps --root /compat/linux --dbpath /var/lib/rpm \</span>
pam-0.68-7.i386.rpm</code></pre></div></div><div class=paragraph><p>Per fare in modo che Oracle® 8.0.5 avvii l’intelligent agent, dobbiamo anche installare il paccheto Tcl di RedHat <span class=filename>tcl-8.0.5-30.i386.rpm</span> (altrimenti il ricollegamento durante l’installazione di Oracle® non funzionerà). Ci sono altri punti riguardanti il ricollegamento di Oracle®, ma è un problema di Oracle® per Linux, non specifico di FreeBSD.</p></div></div><div class=sect4><h5 id=linuxprocandfallbackelfbrand>10.7.6.4. Alcuni Suggerimenti<a class=anchor href=#linuxprocandfallbackelfbrand></a></h5><div class=paragraph><p>Potrebbe essere una buona idea aggiungere <code>linprocfs</code> a <span class=filename>/etc/fstab</span>, per maggiori informazioni guarda la pagina del manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=linprocfs&amp;sektion=5&amp;format=html">linprocfs(5)</a>. Un altro parametro da impostare è <code>kern.fallback_elf_brand=3</code>, da fare nel file <span class=filename>/etc/sysctl.conf</span>.</p></div></div></div><div class=sect3><h4 id=creatingsapr3env>10.7.7. Creazione dell’Ambiente SAP® R/3®<a class=anchor href=#creatingsapr3env></a></h4><div class=sect4><h5 id=filesystemsandmountpoints>10.7.7.1. Creazione dei File System Necessari e dei Punti di Mount<a class=anchor href=#filesystemsandmountpoints></a></h5><div class=paragraph><p>Per una installazione semplice è sufficiente creare i seguenti file system:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">punto di mount</th><th class="tableblock halign-left valign-top">dimensione in GB</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/compat/linux/oracle</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>45 GB</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/compat/linux/sapmnt</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2 GB</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/compat/linux/usr/sap</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2 GB</p></td></tr></tbody></table><div class=paragraph><p>È necessario anche creare qualche collegamento, altrimenti l’installer di SAP® si lamenterà, perché controlla i collegamenti creati:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -s /compat/linux/oracle /oracle</span>
<span class=c># ln -s /compat/linux/sapmnt /sapmnt</span>
<span class=c># ln -s /compat/linux/usr/sap /usr/sap</span></code></pre></div></div><div class=paragraph><p>Possibili messaggi d’errore durante l’installazione (qui con il sistema <em>PRD</em> e l’installazione di SAP® R/3® 4.6C SR2):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>INFO 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:200
    Checking existence of symbolic <span class=nb>link</span> /usr/sap/PRD/SYS/exe/dbg to
    /sapmnt/PRD/exe. Creating <span class=k>if </span>it does not exist...

WARNING 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:400
    Link /usr/sap/PRD/SYS/exe/dbg exists but it points to file
    /compat/linux/sapmnt/PRD/exe instead of /sapmnt/PRD/exe. The
    program cannot go on as long as this <span class=nb>link </span>exists at this
    location. Move the <span class=nb>link </span>to another location.

ERROR 2002-03-19 16:45:36 R3LINKS_IND_IND Ins_SetupLinks:0
    can not setup <span class=nb>link</span> <span class=s1>&#39;/usr/sap/PRD/SYS/exe/dbg&#39;</span> with content
    <span class=s1>&#39;/sapmnt/PRD/exe&#39;</span></code></pre></div></div></div><div class=sect4><h5 id=creatingusersanddirectories>10.7.7.2. Creazione degli Utenti e delle Directory<a class=anchor href=#creatingusersanddirectories></a></h5><div class=paragraph><p>SAP® R/3® ha bisogno di due utenti e tre gruppi. I nomi degli utenti dipendono dal SAP® system ID (SID) che consta di tre lettere. Alcuni di questi SID sono riservati da SAP® (per esempio <code>SAP</code> e <code>NIX</code>. Per una lista completa controlla la documentazione SAP®). Per l’installazione di IDES abbiamo usato <code>IDS</code>, per l’installazione di 4.6C SR2 <code>PRD</code>, poiché quel sistema è inteso per l’uso in produzione. Abbiamo quindi i seguenti gruppi (gli ID dei gruppi potrebbero differire, questi sono solo i valori che abbiamo usato nella nostra installazione):</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">ID del gruppo</th><th class="tableblock halign-left valign-top">nome del gruppo</th><th class="tableblock halign-left valign-top">descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>100</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>dba</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Amministratore del Database</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>101</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>sapsys</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sistema SAP®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>102</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>oper</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Operatore del Database</p></td></tr></tbody></table><div class=paragraph><p>In una installazione normale di Oracle®, si usa solo il gruppo <code>dba</code>. Come gruppo <code>oper</code>, si usa anche il gruppo <code>dba</code> (per maggiori informazioni, vedi la documentazione di Oracle® e di SAP®).</p></div><div class=paragraph><p>Abbiamo bisogno anche dei seguenti utenti:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.6666%><col style=width:16.667%><thead><tr><th class="tableblock halign-left valign-top">ID utente</th><th class="tableblock halign-left valign-top">nome utente</th><th class="tableblock halign-left valign-top">nome generico</th><th class="tableblock halign-left valign-top">gruppo</th><th class="tableblock halign-left valign-top">gruppi addizionali</th><th class="tableblock halign-left valign-top">descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>1000</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>idsadm/prdadm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><em>sid</em>adm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>sapsys</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>oper</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Amministratore SAP®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>1002</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>oraids/oraprd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ora<em>sid</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>dba</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>oper</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Amministratore Oracle®</p></td></tr></tbody></table><div class=paragraph><p>Aggiungere gli utenti con <a href="https://man.freebsd.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;format=html">adduser(8)</a> richiede l’inserimento di questo per l'"Amministratore SAP®" (notare la shell e la directory home):</p></div><div class="literalblock programlisting"><div class=content><pre>Name: sidadm
Password: ******
Fullname: SAP Administrator SID
Uid: 1000
Gid: 101 (sapsys)
Class:
Groups: sapsys dba
HOME: /home/sidadm
Shell: bash  (/compat/linux/bin/bash)</pre></div></div><div class=paragraph><p>e per l'"Amministratore Oracle®":</p></div><div class="literalblock programlisting"><div class=content><pre>Name: orasid
Password: ******
Fullname: Oracle Administrator SID
Uid: 1002
Gid: 100 (dba)
Class:
Groups: dba
HOME: /oracle/sid
Shell: bash  (/compat/linux/bin/bash)</pre></div></div><div class=paragraph><p>Questo dovrebbe includere anche il gruppo <code>oper</code> nel caso tu stia usando entrambi i gruppi <code>dba</code> e <code>oper</code>.</p></div></div><div class=sect4><h5 id=creatingdirectories>10.7.7.3. Creazione delle Directory<a class=anchor href=#creatingdirectories></a></h5><div class=paragraph><p>Queste directory solitamente sono create come file system separati, dipende esclusivamente dalle tue necessità. Noi abbiamo scelto di crearle come semplici directory, dal momento che, comunque, si trovano sullo stesso RAID 5:</p></div><div class=paragraph><p>Prima impostiamo le appartenenze ed i diritti per alcune directory (come utente <code>root</code>):</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chmod 775 /oracle</span>
<span class=c># chmod 777 /sapmnt</span>
<span class=c># chown root:dba /oracle</span>
<span class=c># chown sidadm:sapsys /compat/linux/usr/sap</span>
<span class=c># chmod 775 /compat/linux/usr/sap</span></code></pre></div></div><div class=paragraph><p>Successivamente creiamo le directory come utente <code>ora<em>sid</em></code>. Queste saranno tutte le sottodirectory di <span class=filename>/oracle/SID</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># su - orasid</span>
<span class=c># cd /oracle/SID</span>
<span class=c># mkdir mirrlogA mirrlogB origlogA origlogB</span>
<span class=c># mkdir sapdata1 sapdata2 sapdata3 sapdata4 sapdata5 sapdata6</span>
<span class=c># mkdir saparch sapreorg</span>
<span class=c># exit</span></code></pre></div></div><div class=paragraph><p>Per l’installazione di Oracle® 8.1.7 sono necessarie alcune altre directory:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># su - orasid</span>
<span class=c># cd /oracle</span>
<span class=c># mkdir 805_32</span>
<span class=c># mkdir client stage</span>
<span class=c># mkdir client/80x_32</span>
<span class=c># mkdir stage/817_32</span>
<span class=c># cd /oracle/SID</span>
<span class=c># mkdir 817_32</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>La directory <span class=filename>client/80x_32</span> è usata esattamente con questo nome. Non rimpiazzare la <em>x</em> con dei numeri o altro.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Nel terzo passo creiamo le directory come <code><em>sid</em>adm</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># su - sidadm</span>
<span class=c># cd /usr/sap</span>
<span class=c># mkdir SID</span>
<span class=c># mkdir trans</span>
<span class=c># exit</span></code></pre></div></div></div><div class=sect4><h5 id=entriesinslashetcslashservices>10.7.7.4. Definizioni in <span class=filename>/etc/services</span><a class=anchor href=#entriesinslashetcslashservices></a></h5><div class=paragraph><p>SAP® R/3® richiede alcune definizioni nel file <span class=filename>/etc/services</span>, che non sono impostate correttamente durante l’installazione sotto FreeBSD. Aggiungi le seguenti righe (hai bisogno almeno di queste definizioni, corrispondenti al numero di istanza - in questo caso, <code>00</code>. Non fa danni aggiungere tutte le definizioni da <code>00</code> a <code>99</code> per <code>dp</code>, <code>gw</code>, <code>sp</code> e <code>ms</code>). Se userai un SAProuter o avrai bisogno di accedere a SAP® OSS, hai bisogno di <code>99</code>, dal momento che la porta 3299 è normalmente utilizzata per il processo SAProuter sul sistema target:</p></div><div class="literalblock programlisting"><div class=content><pre>sapdp00    3200/tcp # SAP Dispatcher.      3200 + Instance-Number
sapgw00  3300/tcp # SAP Gateway.         3300 + Instance-Number
sapsp00  3400/tcp #                      3400 + Instance-Number
sapms00  3500/tcp #                      3500 + Instance-Number
sapmsSID 3600/tcp # SAP Message Server.  3600 + Instance-Number
sapgw00s   4800/tcp # SAP Secure Gateway   4800 + Instance-Number</pre></div></div></div><div class=sect4><h5 id=necessarylocales>10.7.7.5. Internazionalizzazioni Necessarie<a class=anchor href=#necessarylocales></a></h5><div class=paragraph><p>SAP® richiede almeno due internazionalizzazioni che non fanno parte dell’installazione standard di RedHat. SAP® offre gli RPM richiesti, scaricabili dal loro server FTP (che è accessibile solo se sei un cliente con accesso OSS). Vedi la nota 0171356 per una lista degli RPM di cui hai bisogno.</p></div><div class=paragraph><p>È pure possibile creare solamente i collegamenti appropriati (per esempio da <em>de_DE</em> e <em>en_US</em> ), ma non lo raccomandiamo per un sistema in produzione (anche se ha funzionato con il sistema IDES senza alcun problema). Le seguenti internazionalizzazioni sono necessarie:</p></div><div class="literalblock programlisting"><div class=content><pre>de_DE.ISO-8859-1
en_US.ISO-8859-1</pre></div></div><div class=paragraph><p>Crea i collegamenti come questi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /compat/linux/usr/shared/locale</span>
<span class=c># ln -s de_DE de_DE.ISO-8859-1</span>
<span class=c># ln -s en_US en_US.ISO-8859-1</span></code></pre></div></div><div class=paragraph><p>Se non sono presenti, ci sarà qualche problema durante l’installazione. Se vengono ignorati (impostando <code>STATUS</code> dei punti con errore a <code>OK</code> nel file <span class=filename>CENTRDB.R3S</span>), sarà impossibile autenticarsi nel sistema SAP® senza qualche ulteriore sforzo.</p></div></div><div class=sect4><h5 id=kerneltuning>10.7.7.6. Affinamento del Kernel<a class=anchor href=#kerneltuning></a></h5><div class=paragraph><p>I sistemi SAP® R/3® necessitano di molte risorse. Di conseguenza abbiamo aggiunto i seguenti parametri al file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre># Set these for memory pigs (SAP and Oracle):
options MAXDSIZ=&#34;(1024*1024*1024)&#34;
options DFLDSIZ=&#34;(1024*1024*1024)&#34;
# System V options needed.
options SYSVSHM #SYSV-style shared memory
options SHMMAXPGS=262144 #max amount of shared mem. pages
#options SHMMAXPGS=393216 #use this for the 46C inst.parameters
options SHMMNI=256 #max number of shared memory ident if.
options SHMSEG=100 #max shared mem.segs per process
options SYSVMSG #SYSV-style message queues
options MSGSEG=32767 #max num. of mes.segments in system
options MSGSSZ=32 #size of msg-seg. MUST be power of 2
options MSGMNB=65535 #max char. per message queue
options MSGTQL=2046 #max amount of msgs in system
options SYSVSEM #SYSV-style semaphores
options SEMMNU=256 #number of semaphore UNDO structures
options SEMMNS=1024 #number of semaphores in system
options SEMMNI=520 #number of semaphore identifiers
options SEMUME=100       #number of UNDO keys</pre></div></div><div class=paragraph><p>I valori minimi sono specificati nella documentazione fornita con SAP®. Dal momento che non v’è alcuna descrizione per Linux, vedi nella sezione HP-UX (32-bit) per ulteriori informazioni. Siccome il sistema per l’installazione di 4.6C SR2 ha più memoria principale, il segmento condiviso può essere più grande sia per SAP® che per Oracle®, quindi scegli un numero maggiore di pagine di memoria condivisa.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Con l’installazione di default di FreeBSD su i386™, lascia <code>MAXDSIZ</code> e <code>DFLDSIZ</code> ad un massimo di 1 GB. In caso contrario potrebbero accadere strani errori, come <code>ORA-27102: out of memory</code> e <code>Linux Error: 12: Cannot allocate memory</code>.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=installingsapr3>10.7.8. Installazione di SAP® R/3®<a class=anchor href=#installingsapr3></a></h4><div class=sect4><h5 id=preparingsapcdroms>10.7.8.1. Preparazione dei CD-ROM di SAP®<a class=anchor href=#preparingsapcdroms></a></h5><div class=paragraph><p>Ci sono molti CD-ROM da montare e smontare durante l’installazione. Ad avere abbastanza drive CD-ROM, puoi montarli tutti. Abbiamo deciso di copiare i contenuti dei CD-ROM nelle directory corrispondenti:</p></div><div class="literalblock programlisting"><div class=content><pre>/oracle/SID/sapreorg/cd-name</pre></div></div><div class=paragraph><p>dove <em>cd-name</em> era uno tra <span class=filename>KERNEL</span>, <span class=filename>RDBMS</span>, <span class=filename>EXPORT1</span>, <span class=filename>EXPORT2</span>, <span class=filename>EXPORT3</span>, <span class=filename>EXPORT4</span>, <span class=filename>EXPORT5</span> e <span class=filename>EXPORT6</span> per l’installazione di 4.6B/IDES, e <span class=filename>KERNEL</span>, <span class=filename>RDBMS</span>, <span class=filename>DISK1</span>, <span class=filename>DISK2</span>, <span class=filename>DISK3</span>, <span class=filename>DISK4</span> e <span class=filename>LANG</span> per l’installazione di 4.6C SR2. Tutti i nomi dei file sui CD montati dovrebbero essere in lettere maiuscole. In caso contrario usa l’opzione <code>-g</code> per montare, cioè usa questi comandi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount_cd9660 -g /dev/cd0a /mnt</span>
<span class=c># cp -R /mnt/* /oracle/SID/sapreorg/cd-name</span>
<span class=c># umount /mnt</span></code></pre></div></div></div><div class=sect4><h5 id=runningtheinstall-script>10.7.8.2. Avvio dello Script di Installazione<a class=anchor href=#runningtheinstall-script></a></h5><div class=paragraph><p>Per prima cosa devi creare una directory <span class=filename>install</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /oracle/SID/sapreorg</span>
<span class=c># mkdir install</span>
<span class=c># cd install</span></code></pre></div></div><div class=paragraph><p>Quindi viene lanciato lo script di installazione, che copia quasi tutti i file rilevanti dentro alla directory <span class=filename>install</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /oracle/SID/sapreorg/KERNEL/UNIX/INSTTOOL.SH</span></code></pre></div></div><div class=paragraph><p>L’installazione (4.6B) è data con un sistema di dimostrazione SAP® R/3® completamente personalizzato, per questo ci sono sei CD EXPORT invece che tre. A questo punto il modello <span class=filename>CENTRDB.R3S</span> serve per l’installazione di una istanza centrale standard (R/3® e database), non l’instanza centrale IDES, quindi bisogna copiare il corrispondente <span class=filename>CENTRDB.R3S</span> dalla directory <span class=filename>EXPORT1</span>, altrimenti <code>R3SETUP</code> chiederà solo tre CD EXPORT.</p></div><div class=paragraph><p>La nuova distribuzione di SAP® 4.6C SR2 viene venduta con quattro CD EXPORT. Il file che controlla i passi dell’installazione è <span class=filename>CENTRAL.R3S</span>. Contrariamente alle versioni precedenti non ci sono modelli di installazione per una istanza centrale con o senza database. SAP® usa un modello diverso per l’installazione del database. Per riavviare l’installazione in un secondo momento, è comunque sufficiente riavviare con il file originale.</p></div><div class=paragraph><p>Durante e dopo l’installazione, SAP® richiede <code>hostname</code> per restituire solamente il nome del computer, non il nome completo del dominio. Quindi imposta l’hostname in questo modo, oppure imposta un alias con <code>alias hostname='hostname -s'</code> per entrambi <code>ora<em>sid</em></code> e <code><em>sid</em>adm</code> (e per <code>root</code> almeno per i punti eseguiti come <code>root</code>). È anche possibile modificare i file <span class=filename>.profile</span> e <span class=filename>.login</span> installati di entrambi gli utenti creati durante l’installazione di SAP®.</p></div></div><div class=sect4><h5 id=startr3setup-46B>10.7.8.3. Avviare <code>R3SETUP</code> 4.6B<a class=anchor href=#startr3setup-46B></a></h5><div class=paragraph><p>Assicurati che <code>LD_LIBRARY_PATH</code> sia impostato correttamente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># export LD_LIBRARY_PATH=/oracle/IDS/lib:/sapmnt/IDS/exe:/oracle/805_32/lib</span></code></pre></div></div><div class=paragraph><p>Avvia <code>R3SETUP</code> come <code>root</code> dalla directory di installazione:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /oracle/IDS/sapreorg/install</span>
<span class=c># ./R3SETUP -f CENTRDB.R3S</span></code></pre></div></div><div class=paragraph><p>Lo script, quindi, fa alcune domande (i default sono tra parentesi, seguite dal vero input):</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Domanda</th><th class="tableblock halign-left valign-top">Default</th><th class="tableblock halign-left valign-top">Input</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter SAP System ID</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[C11]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>IDS<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter SAP Instance Number</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[00]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter SAPMOUNT Directory</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapmnt]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter name of SAP central host</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[troubadix.domain.de]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter name of SAP db host</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[troubadix]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Select character set</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1] (WE8DEC)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Oracle server version (1) Oracle 8.0.5, (2) Oracle 8.0.6, (3) Oracle 8.1.5, (4) Oracle 8.1.6</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>1<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Extract Oracle Client archive</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1] (Yes, extract)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to KERNEL CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/KERNEL</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to RDBMS CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/RDBMS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to EXPORT1 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/EXPORT1</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Directory to copy EXPORT1 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/oracle/IDS/sapreorg/CD4_DIR]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to EXPORT2 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/EXPORT2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Directory to copy EXPORT2 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/oracle/IDS/sapreorg/CD5_DIR]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to EXPORT3 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/EXPORT3</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Directory to copy EXPORT3 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/oracle/IDS/sapreorg/CD6_DIR]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to EXPORT4 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/EXPORT4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Directory to copy EXPORT4 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/oracle/IDS/sapreorg/CD7_DIR]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to EXPORT5 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/EXPORT5</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Directory to copy EXPORT5 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/oracle/IDS/sapreorg/CD8_DIR]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to EXPORT6 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/IDS/sapreorg/EXPORT6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Directory to copy EXPORT6 CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/oracle/IDS/sapreorg/CD9_DIR]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter amount of RAM for SAP + DB</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>850<kbd>Enter</kbd> (in Megabytes)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Service Entry Message Server</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[3600]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Group-ID of sapsys</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[101]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Group-ID of oper</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[102]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Group-ID of dba</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[100]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter User-ID of <em>sid</em>adm</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1000]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter User-ID of ora<em>sid</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1002]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Number of parallel procs</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[2]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr></tbody></table><div class=paragraph><p>Se non hai copiato i CD in posizioni diverse, l’installer di SAP® non può tyrovare i CD necessari (identificati dal file <span class=filename>LABEL.ASC</span> sul CD) e quindi ti chiederà di inserire e montare il CD e di confermare o di inserire il path al mount.</p></div><div class=paragraph><p><span class=filename>CENTRDB.R3S</span> potrebbe non essere scevro di errori. Nel nostro caso, ha richiesto il CD EXPORT4 un’altra volta ma indicando la chiave corretta (6_LOCATION, quindi 7_LOCATION, ecc.), così bisogna continuare ad inserire i valori corretti.</p></div><div class=paragraph><p>A parte alcuni problemi sopra menzionati, ogni cosa dovrebbe andare bene fino al punto dove bisogna installare il database Oracle®.</p></div></div><div class=sect4><h5 id=startr3setup-46C>10.7.8.4. Avviare <code>R3SETUP</code> 4.6C SR2<a class=anchor href=#startr3setup-46C></a></h5><div class=paragraph><p>Assicurati che <code>LD_LIBRARY_PATH</code> sia impostato correttamente. Ha un valore diverso dall’installazione di 4.6B con Oracle® 8.0.5:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># export LD_LIBRARY_PATH=/sapmnt/PRD/exe:/oracle/PRD/817_32/lib</span></code></pre></div></div><div class=paragraph><p>Avvia <code>R3SETUP</code> come <code>root</code> dalla directory di installazione:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /oracle/PRD/sapreorg/install</span>
<span class=c># ./R3SETUP -f CENTRAL.R3S</span></code></pre></div></div><div class=paragraph><p>Lo script, quindi, fa alcune domande (i default sono tra parentesi, seguite dal vero input):</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Domanda</th><th class="tableblock halign-left valign-top">Default</th><th class="tableblock halign-left valign-top">Input</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter SAP System ID</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[C11]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PRD<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter SAP Instance Number</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[00]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter SAPMOUNT Directory</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapmnt]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter name of SAP central host</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[majestix]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Database System ID</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[PRD]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>PRD<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter name of SAP db host</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[majestix]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Select character set</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1] (WE8DEC)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Oracle server version (2) Oracle 8.1.7</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>2<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Extract Oracle Client archive</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1] (Yes, extract)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter path to KERNEL CD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[/sapcd]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>/oracle/PRD/sapreorg/KERNEL</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter amount of RAM for SAP + DB</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2044</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1800<kbd>Enter</kbd> (in Megabytes)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Service Entry Message Server</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[3600]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Group-ID of sapsys</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[100]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Group-ID of oper</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[101]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Group-ID of dba</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[102]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter User-ID of <code>oraprd</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1002]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter User-ID of <code>prdadm</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1000]</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>LDAP support</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock>3<kbd>Enter</kbd> (no support)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Installation step completed</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1] (continue)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Choose installation service</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>[1] (DB inst,file)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><kbd>Enter</kbd></p></td></tr></tbody></table><div class=paragraph><p>Al momento la creazione degli utenti genera un errore durante l’installazione nelle fasi OSUSERDBSID_IND_ORA (nel creare l’utente <code>ora<em>sid</em></code>) e OSUSERSIDADM_IND_ORA (nel creare l’utente <code><em>sid</em>adm</code>).</p></div><div class=paragraph><p>A parte qualche problema descritto sopra, tutto dovrebbe andare liscio fino al punto dove bisogna installare il database Oracle®.</p></div></div></div><div class=sect3><h4 id=installingoracle805>10.7.9. Installazione di Oracle® 8.0.5<a class=anchor href=#installingoracle805></a></h4><div class=paragraph><p>Per favore, leggi le corrispondenti note di SAP® e i <span class=filename>Readme</span> di Oracle® riguardanti Linux e Oracle® DB per possibili problemi. Molti, se non tutti, i problemi nascono da librerie incompatibili.</p></div><div class=paragraph><p>Per maggiori informazioni riguardo all’installazione di Oracle®, riferirsi al <a href=#linuxemu-oracle>capitolo Installare Oracle®</a>.</p></div><div class=sect4><h5 id=installingtheoracle805withorainst>10.7.9.1. Installazione di Oracle® 8.0.5 con <code>orainst</code><a class=anchor href=#installingtheoracle805withorainst></a></h5><div class=paragraph><p>Se bisogna usare Oracle® 8.0.5, sono richeste alcune librerie in più per un ricollegamento funzionante, perché Oracle® 8.0.5 è stata collegata con una vecchia glibc (RedHat 6.0), anche se RedHat 6.1 già usa una nuova glibc. Per questo devi installare i seguenti pacchetti per essere sicuro che il collegamento funzioni:</p></div><div class=paragraph><p><span class=filename>compat-libs-5.2-2.i386.rpm</span></p></div><div class=paragraph><p><span class=filename>compat-glibc-5.2-2.0.7.2.i386.rpm</span></p></div><div class=paragraph><p><span class=filename>compat-egcs-5.2-1.0.3a.1.i386.rpm</span></p></div><div class=paragraph><p><span class=filename>compat-egcs-c++-5.2-1.0.3a.1.i386.rpm</span></p></div><div class=paragraph><p><span class=filename>compat-binutils-5.2-2.9.1.0.23.1.i386.rpm</span></p></div><div class=paragraph><p>Per maggiori informazioni, leggi le corrispondenti note di SAP® o i <span class=filename>Readme</span> di Oracle®. Se non hai questa opzione (al momento dell’installazione non abbiamo avuto abbastanza tempo per controllare), si possono usare i binari originali, oppure usare i binari ricollegati da un sistema RedHat originale.</p></div><div class=paragraph><p>Per compilare l’intelligent agent, bisogna installare il pacchetto Tcl di RedHat. Se non puoi recuperare <span class=filename>tcl-8.0.3-20.i386.rpm</span>, dovrebbe funzionare uno più nuovo come <span class=filename>tcl-8.0.5-30.i386.rpm</span> da RedHat 6.1.</p></div><div class=paragraph><p>A parte il ricollegamento, l’installazione è diretta:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># su - oraids</span>
<span class=c># export TERM=xterm</span>
<span class=c># export ORACLE_TERM=xterm</span>
<span class=c># export ORACLE_HOME=/oracle/IDS</span>
<span class=c># cd $ORACLE_HOME/orainst_sap</span>
<span class=c># ./orainst</span></code></pre></div></div><div class=paragraph><p>Conferma tutti i comandi con <kbd>Enter</kbd> fino a che il software non è installato, a parte il <em>Oracle® On-Line Text Viewer</em>, che non è disponibile per Linux. Oracle®, quindi, si ricolleghi con <code>i386-glibc20-linux-gcc</code> invece dei disponibili <code>gcc</code>, <code>egcs</code> o <code>i386-redhat-linux-gcc</code>.</p></div><div class=paragraph><p>A causa di limitazioni di tempo, abbiamo deciso di usare i binari da una distribuzione di Oracle® 8.0.5 PreProduction, dopo il primo tentativo, fallito, di far funzionare la versione dal CD del RDBMS, e trovare e accedere agli RPM corretti era un incubo in quel momento.</p></div></div><div class=sect4><h5 id=installingtheoracle805preproduction>10.7.9.2. Installzione della Distribuzione Oracle® 8.0.5 Pre-production per Linux (Kernel 2.0.33)<a class=anchor href=#installingtheoracle805preproduction></a></h5><div class=paragraph><p>Questa installazione è piuttosto semplice. Monta il CD e avvia l’installer. Ti chiederà l’ubicazione della directory home di Oracle® e vi copierà i file. Noi, comunque, Non abbiamo cancellato ciò che è rimasto dei precedenti tentativi di installazione del RDBMS.</p></div><div class=paragraph><p>Subito dopo, il database Oracle® può essere lanciato senza problemi.</p></div></div></div><div class=sect3><h4 id=installingoracle817>10.7.10. Installazione del Tarball di Oracle® 8.1.7 per Linux<a class=anchor href=#installingoracle817></a></h4><div class=paragraph><p>Prendi il tarball <span class=filename>oracle81732.tgz</span> che hai prodotto dalla directory di installazione su un sistema Linux e estrailo in <span class=filename>/oracle/SID/817_32/</span>.</p></div></div><div class=sect3><h4 id=continuewithsapr4installation>10.7.11. Continuare con l’Installazione di SAP® R/3®<a class=anchor href=#continuewithsapr4installation></a></h4><div class=paragraph><p>Prima controlla le impostazioni d’ambiente degli utenti <code>idsamd</code> (<em>sid</em>adm) e <code>oraids</code> (ora<em>sid</em>). Ora dovrebbero avere i file <span class=filename>.profile</span>, <span class=filename>.login</span> e <span class=filename>.cshrc</span> che usano tutti <code>hostname</code>. Nel caso l’hostname del sistema sia il nome completamente qualificato, devi cambiare <code>hostname</code> in <code>hostname -s</code> dentro a tutti i file.</p></div><div class=sect4><h5 id=databaseload>10.7.11.1. Caricamento del Database<a class=anchor href=#databaseload></a></h5><div class=paragraph><p>Dopo di ciò, <code>R3SETUP</code> può essere riavviato o continuato (a seconda che se ne sia usciti o no). <code>R3SETUP</code>, quindi, crea le tabelle e carica i dati nel database con <code>R3load</code> (per 46B IDES, da EXPORT1 a EXPORT6, per 46C da DISK1 a DISK4).</p></div><div class=paragraph><p>Quando il caricamento del database è finito (potrebbe richiedere qualche ora), vengono richieste alcune password. Per installazioni di prova, si possono usare le ben note password di default (usane di diverse se la sicurezza è un problema!):</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Domanda</th><th class="tableblock halign-left valign-top">Input</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Password for sapr3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>sap<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Confirum Password for sapr3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>sap<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Password for sys</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>change_on_install<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Confirm Password for sys</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>change_on_install<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Enter Password for system</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>manager<kbd>Enter</kbd></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Confirm Password for system</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>manager<kbd>Enter</kbd></p></td></tr></tbody></table><div class=paragraph><p>A questo punto abbiamo avuto qualche problema con <code>dipgntab</code> durante l’installazione di 4.6B.</p></div></div><div class=sect4><h5 id=listener>10.7.11.2. Listener<a class=anchor href=#listener></a></h5><div class=paragraph><p>Avvia il listener di Oracle® come utente <code>ora<em>sid</em></code> come segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>umask </span>0<span class=p>;</span> lsnrctl start</code></pre></div></div><div class=paragraph><p>Altrimenti potresti incorrere nell’errore ORA-12546 poiché i socket non hanno i permessi giusti. Vedi la nota di SAP® 072984.</p></div></div><div class=sect4><h5 id=mnlstables>10.7.11.3. Aggiornare le Tabelle MNLS<a class=anchor href=#mnlstables></a></h5><div class=paragraph><p>Se pensi di importare le lingue non-Latin-1 nel sistema SAP®, devi aggiornare le tabelle Multi National Language Support. Questo è descritto nelle note di SAP® OSS 15023 e 45619. Altrimenti puoi saltare questa domanda durante l’installazione di SAP®.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se non hai bisogno del MNLS, è comunque necessario controllare la tabella TCPDB e inizializzarla se ancora non è stato fatto. Per maggiori informazioni, vedi le note di SAP® 0015023 e 0045619.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=postinstallationsteps>10.7.12. Dopo l’Installazione<a class=anchor href=#postinstallationsteps></a></h4><div class=sect4><h5 id=requestsapr3licensekey>10.7.12.1. Richiesta della Chiave di Licenza di SAP® R/3®<a class=anchor href=#requestsapr3licensekey></a></h5><div class=paragraph><p>Devi richiedere la tua chiave di licenza per SAP® R/3®. È necessaria, dal momento che la licenza temporanea che è stata usata durante l’installazione era valida solo per quattro settimane. Prima di tutto recupera la chiave hardware. Autenticati come utente <code>idsadm</code> e lancia <code>saplicense</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /sapmnt/IDS/exe/saplicense -get</span></code></pre></div></div><div class=paragraph><p>Lanciando <code>saplicense</code> senza paramentri, viene restituita una lista di opzioni. Quando si riceve la chiave di licenza, può essere installata usando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /sapmnt/IDS/exe/saplicense -install</span></code></pre></div></div><div class=paragraph><p>Ti viene richiesto di inserire i seguenti valori:</p></div><div class="literalblock programlisting"><div class=content><pre>SAP SYSTEM ID   = SID, 3 chars
CUSTOMER KEY    = hardware key, 11 chars
INSTALLATION NO = installation, 10 digits
EXPIRATION DATE = yyyymmdd, usually &#34;99991231&#34;
LICENSE KEY     = license key, 24 chars</pre></div></div></div><div class=sect4><h5 id=creatingusers>10.7.12.2. Creazione degli Utenti<a class=anchor href=#creatingusers></a></h5><div class=paragraph><p>Crea un utente dentro il client 000 (richiesto per qualche azione da eseguire dentro al client 000, ma con un utente diverso dagli utenti <code>sap*</code> e <code>ddic</code>). Come nome utente, noi solitamente scegliamo <code>wartung</code> (o <code>servizio</code> in italiano). I profili richiesti sono <code>sap_new</code> e <code>sap_all</code>. Per maggiore sicurezza, le password degli utenti di default dentro a tutti i client dovrebbero essere cambiate (compresi gli utenti <code>sap*</code> e <code>ddic</code>).</p></div></div><div class=sect4><h5 id=configtranssysprofileopermodesetc>10.7.12.3. Configurare il Sistema di Trasporto, il Profilo, i Modi di Operare, Ecc.<a class=anchor href=#configtranssysprofileopermodesetc></a></h5><div class=paragraph><p>Dentro al client 000, per gli utenti diversi da <code>ddic</code> e <code>sap*</code>, fai almeno questo:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Azione</th><th class="tableblock halign-left valign-top">Transazione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Configura il Sistema di Trasporto, p.e. come <em>Stand-Alone Transport Domain Entity</em></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>STMS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Crea / Modifica il Profilo per il Sistema</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RZ10</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Controlla le Istanze e i Modi di Operare</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RZ04</p></td></tr></tbody></table><div class=paragraph><p>Questi e tutti gli altri punti dopo l’installazione sono estesamente descritti nelle guide di installazione di SAP®.</p></div></div><div class=sect4><h5 id=editintsidsap>10.7.12.4. Modificare <span class=filename>initsid.sap</span> (<span class=filename>initIDS.sap</span>)<a class=anchor href=#editintsidsap></a></h5><div class=paragraph><p>Il file <span class=filename>/oracle/IDS/dbs/initIDS.sap</span> contiene il profilo di backup di SAP®. Qui la dimensione del nastro da usare, il tipo di compressione e tutto il resto sono da definire. Per farlo funzionare con <code>sapdba</code> / <code>brbackup</code>, abbiamo cambiato i seguenti valori:</p></div><div class="literalblock programlisting"><div class=content><pre>compress = hardware
archive_function = copy_delete_save
cpio_flags = &#34;-ov --format=newc --block-size=128 --quiet&#34;
cpio_in_flags = &#34;-iuv --block-size=128 --quiet&#34;
tape_size = 38000M
tape_address = /dev/nsa0
tape_address_rew = /dev/sa0</pre></div></div><div class=paragraph><p>Spiegazioni:</p></div><div class=paragraph><p><code>compress</code>: Il nastro che usiamo è un HP DLT1 che ha compressione hardware .</p></div><div class=paragraph><p><code>archive_function</code>: Questa definisce il comportamento normale per salvare i log dell’archivio di Oracle®: i nuovi file di log sono salvati sul nastro, quelli già salvati sono salvati ancora e poi cancellati. Questo previene molti problemi se devi recuperare il database e uno dei nastri d’archivio si è rovinato.</p></div><div class=paragraph><p><code>cpio_flags</code>: Di default si usa <code>-B</code> che imposta la dimensione dei blocchi a 5120 Bytes. Per i nastri DLT, HP raccomanda una dimensione dei blocchi di almeno 32 K, per cui abbiamo usato <code>--block-size=128</code> per 64 K. <code>--format=newc</code> è necessaria perché abbiamo un numero di inode maggiore di 65535. L’ultima opzione <code>--quiet</code> è necessaria perché altrimenti <code>brbackup</code> si lamenta non appena <code>cpio</code> restituisce il numero di blocchi salvato.</p></div><div class=paragraph><p><code>cpio_in_flags</code>: Etichetta necessaria per caricare i dati dal nastro. Il formato è riconosciuto automaticamente.</p></div><div class=paragraph><p><code>tape_size</code>: Solitamente questo indica la capacità di archiviazione del nastro. Per ragioni di sicurezza (usiamo la compressione hardware), il valore è leggermente più bassp del valore reale.</p></div><div class=paragraph><p><code>tape_address</code>: Il dispositivo non riavvolgibile da usare con <code>cpio</code>.</p></div><div class=paragraph><p><code>tape_address_rew</code>: Il dispositivo riavvolgibile da usare con <code>cpio</code>.</p></div></div><div class=sect4><h5 id=_configurazione_dopo_linstallazione>10.7.12.5. Configurazione dopo l’Installazione<a class=anchor href=#_configurazione_dopo_linstallazione></a></h5><div class=paragraph><p>I seguenti parametri di SAP® dovrebbero essere rivisti dopo l’installazione (esempi per IDES 46B, con 1 GB di memoria):</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Nome</th><th class="tableblock halign-left valign-top">Valore</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ztta/roll_extension</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>250000000</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>abap/heap_area_dia</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>300000000</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>abap/heap_area_nondia</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>400000000</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>em/initial_size_MB</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>256</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>em/blocksize_kB</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1024</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ipc/shm_psize_40</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>70000000</p></td></tr></tbody></table><div class=paragraph><p>Nota SAP® 0013026:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Nome</th><th class="tableblock halign-left valign-top">Valore</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ztta/dynpro_area</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2500000</p></td></tr></tbody></table><div class=paragraph><p>Nota SAP® 0157246:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Nome</th><th class="tableblock halign-left valign-top">Valore</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rdisp/ROLL_MAXFS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>16000</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rdisp/PG_MAXFS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>30000</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Con i parametri descritti, su un sistema con 1 gigabyte di memoria, si troverà un consumo di memoria simile a:</p></div><div class="literalblock programlisting"><div class=content><pre>Mem: 547M Active, 305M Inact, 109M Wired, 40M Cache, 112M Buf, 3492K Free</pre></div></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=problemsduringinstallation>10.7.13. Problemi Durante l’Installazione<a class=anchor href=#problemsduringinstallation></a></h4><div class=sect4><h5 id=restartr3setup>10.7.13.1. Riavviare <code>R3SETUP</code> dopo la Risoluzione di un Problema<a class=anchor href=#restartr3setup></a></h5><div class=paragraph><p><code>R3SETUP</code> si ferma se incorre in un errore. Se hai guardato al file di log corrispondente e corretto l’errore, devi riavviare <code>R3SETUP</code>, solitamente selezionando REPEAT come opzione per l’ultimo passo per cui <code>R3SETUP</code> si è lamentato.</p></div><div class=paragraph><p>Per riavviare <code>R3SETUP</code>, avvialo con il corrispondente file <span class=filename>R3S</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ./R3SETUP -f CENTRDB.R3S</span></code></pre></div></div><div class=paragraph><p>per 4.6B, oppure con</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ./R3SETUP -f CENTRAL.R3S</span></code></pre></div></div><div class=paragraph><p>per 4.6C, non importa che errore sia accaduto con <span class=filename>CENTRAL.R3S</span> o <span class=filename>DATABASE.R3S</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In alcuni punti, <code>R3SETUP</code> assume che sia il database che i processi di SAP® stiano girando (come fossero passi già completati). Se dovessero accadere errori e, per esempio, il database non fosse avviato, dovresti avviare sia il database che SAP® a mano, dopo aver corretto gli errori e prima di avviare ancora <code>R3SETUP</code>.</p></div><div class=paragraph><p>Non dimenticarti di avviare ancora il listener di Oracle® (come <code>ora<em>sid</em></code> con <code>umask 0; lsnrctl start</code>) se è stato fermato (per esempio a causa di un reboot necessario del sistema).</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=indoraduringduringr3setup>10.7.13.2. OSUSERSIDADM_IND_ORA Durante <code>R3SETUP</code><a class=anchor href=#indoraduringduringr3setup></a></h5><div class=paragraph><p>Se <code>R3SETUP</code> si lamentasse a questo punto, modifica il file modello <code>R3SETUP</code> usato prima (<span class=filename>CENTRDB.R3S</span> (4.6B) o anche <span class=filename>CENTRAL.R3S</span> o <span class=filename>DATABASE.R3S</span> (4.6C)). Individua <code>[OSUSERSIDADM_IND_ORA]</code> o cerca solo la definizione <code>STATUS=ERROR</code> e modificala con i seguenti valori:</p></div><div class="literalblock programlisting"><div class=content><pre>HOME=/home/sidadm (era vuota)
STATUS=OK (era uguale a ERROR)</pre></div></div><div class=paragraph><p>Quindi puoi riavviare ancora <code>R3SETUP</code>.</p></div></div><div class=sect4><h5 id=indoraduringr3setup>10.7.13.3. OSUSERDBSID_IND_ORA Durante <code>R3SETUP</code><a class=anchor href=#indoraduringr3setup></a></h5><div class=paragraph><p><code>R3SETUP</code> potrebbe anche lamentarsi a questo punto. L’errore, qui, è simile a quello nella fase OSUSERSIDADM_IND_ORA. Modifica il file modello <code>R3SETUP</code> usato allora (<span class=filename>CENTRDB.R3S</span> (4.6B) oppure <span class=filename>CENTRAL.R3S</span> o <span class=filename>DATABASE.R3S</span> (4.6C)). Individua <code>[OSUSERDBSID_IND_ORA]</code> o cerca solo la definizione <code>STATUS=ERROR</code> e modifica questi valori in quella sezione:</p></div><div class="literalblock programlisting"><div class=content><pre>STATUS=OK</pre></div></div><div class=paragraph><p>Riavvia, quindi, <code>R3SETUP</code>.</p></div></div><div class=sect4><h5 id=oraviewvrffilenotfound>10.7.13.4. <code>oraview.vrf FILE NOT FOUND</code> Durante l’Installazione di Oracle®<a class=anchor href=#oraviewvrffilenotfound></a></h5><div class=paragraph><p>Non hai deselezionato <em>Oracle® On-Line Text Viewer</em> prima di cominciare l’installazione. Questo è contrassegnato per l’installazine anche se l’opzione non è disponibile per Linux. Deseleziona questo prodotto nel menù di installazione di Oracle® e riavvia l’installazione.</p></div></div><div class=sect4><h5 id=textenvincalid>10.7.13.5. <code>TEXTENV_INVALID</code> Durante <code>R3SETUP</code>, RFC o l’Avvio di SAPgui<a class=anchor href=#textenvincalid></a></h5><div class=paragraph><p>Se si incorre in questo errore, allora manca la corretta internazionalizzazione. La nota di SAP® 0171356 elenca gli RPM necessari da installare (p.e. <span class=filename>saplocales-1.0-3</span>, <span class=filename>saposcheck-1.0-1</span> per RedHat 6.1). Nel caso tu abbia ignorato tutti i relativi errori ed impostato lo <code>STATUS</code> corrispondente da <code>ERROR</code> a <code>OK</code> (in <span class=filename>CENTRDB.R3S</span>) ogni volta che <code>R3SETUP</code> si è lamentato e riavviato <code>R3SETUP</code>, il sistema SAP® non sarà configurato correttamente e non sarai in grado di connetterti al sistema tramite una SAPgui, anche se il sistema può essere avviato. Provando a connetterci con la vecchia SAPgui abbiamo avuto questi messaggi:</p></div><div class="literalblock programlisting"><div class=content><pre>Sat May 5 14:23:14 2001
*** ERROR =&gt; no valid userarea given [trgmsgo. 0401]
Sat May 5 14:23:22 2001
*** ERROR =&gt; ERROR NR 24 occured [trgmsgi. 0410]
*** ERROR =&gt; Error when generating text environment. [trgmsgi. 0435]
*** ERROR =&gt; function failed [trgmsgi. 0447]
*** ERROR =&gt; no socket operation allowed [trxio.c 3363]
Speicherzugriffsfehler</pre></div></div><div class=paragraph><p>Questo comportamento è imputabile a SAP® R/3® che non è in grado di assegnare correttamente una internazionalizzazione e che non è ben configurato (definizioni mancanti in alcune tabelle del database). Per essere in grado di connettersi a SAP®, aggiungi queste definizioni nel file <span class=filename>DEFAULT.PFL</span> (vedi nota 0043288):</p></div><div class="literalblock programlisting"><div class=content><pre>abap/set_etct_env_at_new_mode = 0
install/collate/active = 0
rscp/TCP0B = TCP0B</pre></div></div><div class=paragraph><p>Riavvia il sistema SAP®. Ora puoi connetterti al sistema, anche se le impostazioni della lingua specifiche per il paese potrebbero non funzionare come desiderato. Dopo aver corretto le impostazioni del paese (e aver fornito le internazionalizzazioni esatte), queste definizioni possono essere riomsse da <span class=filename>DEFAULT.PFL</span> e il sistema SAP® può essere riavviato.</p></div></div><div class=sect4><h5 id=ora-00001>10.7.13.6. ORA-00001<a class=anchor href=#ora-00001></a></h5><div class=paragraph><p>Questo errore è accaduto solo con Oracle® 8.1.7 su FreeBSD. La ragione era che il database Oracle® non poteva inizializzarsi correttamente e andava in crash, lasciando i semafori e la memoria condivisa sul sistema. Il tentativo successivo di lanciare il database, ritornava ORA-00001.</p></div><div class=paragraph><p>Trovali con <code>ipcs -a</code> e rimuovili con <code>ipcrm</code>.</p></div></div><div class=sect4><h5 id=ora-00445pmon>10.7.13.7. ORA-00445 (Background Process PMON Did Not Start)<a class=anchor href=#ora-00445pmon></a></h5><div class=paragraph><p>Questo errore è accaduto con Oracle® 8.1.7. Viene riportato se il database è avviato con il solito script <code>startsap</code> (per esempio <code>startsap_majestix_00</code>) come utente <code>prdadm</code>.</p></div><div class=paragraph><p>Un modo per aggirarlo è lanciare il database come utente <code>oraprd</code>, con <code>svrmgrl</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% svrmgrl
SVRMGR&gt; connect internal<span class=p>;</span>
SVRMGR&gt; startup<span class=p>;</span>
SVRMGR&gt; <span class=nb>exit</span></code></pre></div></div></div><div class=sect4><h5 id=ora-12546>10.7.13.8. ORA-12546 (Start Listener with Correct Permissions)<a class=anchor href=#ora-12546></a></h5><div class=paragraph><p>Avvia il listener di Oracle® come utente <code>oraids</code> con i seguenti comandi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># umask 0; lsnrctl start</span></code></pre></div></div><div class=paragraph><p>Altrimenti potresti ottenere ORA-12546 poiché i socket non hanno i permessi corretti. Vedi la nota di SAP® 0072984.</p></div></div><div class=sect4><h5 id=ora-27102>10.7.13.9. ORA-27102 (Out of Memory)<a class=anchor href=#ora-27102></a></h5><div class=paragraph><p>Questo errore è accaduto mentre tentavamo di usare i valori per <code>MAXDSIZ</code> e <code>DFLDSIZ</code> maggiori di 1 GB (1024x1024x1024). In più ci siamo ritrovati <code>Linux Error 12: Cannot allocate memory</code>.</p></div></div><div class=sect4><h5 id=dipgntabindind>10.7.13.10. [DIPGNTAB_IND_IND] Durante <code>R3SETUP</code><a class=anchor href=#dipgntabindind></a></h5><div class=paragraph><p>In generale, vedi la nota di SAP® 0130581 (il punto <code>R3SETUP</code> termina <code>DIPGNTAB</code>). Per qualche ragione, durante l’installazione specifica per IDES, il processo di installazione non usava il giusto nome "IDS" del sistema SAP®, ma piuttosto la stringa vuota <code>""</code>. Questo porta a qualche piccolo problema con l’accesso alle directory, dal momento che i path sono generati dinamicamente usando <em>SID</em> (in questo caso IDS). Quindi, invece di accedere a:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/sap/IDS/SYS/...
/usr/sap/IDS/DVMGS00</pre></div></div><div class=paragraph><p>venivano usati questi path:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/sap//SYS/...
/usr/sap/D00</pre></div></div><div class=paragraph><p>Per continuare con l’installazione, abbiamo creato un collegamento e una direcotry addizionale:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pwd</span>
/compat/linux/usr/sap
<span class=c># ls -l</span>
total 4
drwxr-xr-x 3  idsadm sapsys 512 May 5 11:20 D00
drwxr-x--x 5  idsadm sapsys 512 May 5 11:35 IDS
lrwxr-xr-x 1  root   sapsys 7 May 5 11:35 SYS -&gt; IDS/SYS
drwxrwxr-x 2  idsadm sapsys 512 May 5 13:00 tmp
drwxrwxr-x 11 idsadm sapsys 512 May 4 14:20 trans</code></pre></div></div><div class=paragraph><p>Abbiamo trovato note di SAP® che descrivono questo comportamento (0029227 e 0008401). Non siamo incorsi in alcuno di questi problemi installando SAP® 4.6C.</p></div></div><div class=sect4><h5 id=rfcrswboiniindind>10.7.13.11. [RFCRSWBOINI_IND_IND] Durante <code>R3SETUP</code><a class=anchor href=#rfcrswboiniindind></a></h5><div class=paragraph><p>Durante l’installazione di SAP® 4.6C, questo errore era la conseguenza di un altro errore avvenuto in precedenza. In questo caso, controlla nei file di log e correggi il vero problema.</p></div><div class=paragraph><p>Se dopo aver guardato nei log questo errore è effettivamente quello corretto (controlla le note di SAP®), puoi impostare lo <code>STATUS</code> dei punti sbagliati da <code>ERROR</code> a <code>OK</code> (file <span class=filename>CENTRDB.R3S</span>) e riavviare <code>R3SETUP</code>. Dopo l’installazione, devi eseguire il rapporto <code>RSWBOINS</code> dalla transazione SE38. Per maggiori informazioni sulle fasi <code>RFCRSWBOINI</code> e <code>RFCRADDBDIF</code>, vedi la nota di SAP® 0162266.</p></div></div><div class=sect4><h5 id=rfcraddbdifindind>10.7.13.12. [RFCRADDBDIF_IND_IND] durante <code>R3SETUP</code><a class=anchor href=#rfcraddbdifindind></a></h5><div class=paragraph><p>Qui si applicano le stesse restrizioni: assicurati di controllare nei file di log che questo errore non sia causato da qualche problema precedente.</p></div><div class=paragraph><p>Se puoi confermare ciò che dice la nota 0162266 di SAP®, imposta lo <code>STATUS</code> del punto errato da <code>ERROR</code> a <code>OK</code> (file <span class=filename>CENTRDB.R3S</span>) e riavvia <code>R3SETUP</code>. Dopo l’installazione, devi eseguire il rapporto <code>RADDBDIF</code> dalla transazione SE38.</p></div></div><div class=sect4><h5 id=sigactionsig31>10.7.13.13. sigaction sig31: File size limit exceeded<a class=anchor href=#sigactionsig31></a></h5><div class=paragraph><p>Questo errore è avvenuto all’avvio dei processi SAP®<em>disp+work</em>. Se si sta avviando SAP® con lo script <code>startsap</code>, i sottoprocessi avviati si staccano e fanno il lavoro sporco di avviare tutti gli altri processi SAP®. Come risultato, lo script stesso non noterà se qualcosa sia andato storto.</p></div><div class=paragraph><p>Per controllare se i processi SAP® non sono partiti correttamente, dai un’occhiata al loro stato con <code>ps ax | grep SID</code>, che ti darà una lista di tutti i processi Oracle® e SAP®. Se ti sembra che qualche processo manchi o se non puoi connetterti al sistema SAP®, guarda nei log corrispondenti che possono essere trovati in <span class=filename>/usr/sap/SID/DVEBMGSnr/work/</span>. I file in cui guardare sono <span class=filename>dev_ms</span> e <span class=filename>dev_disp</span>.</p></div><div class=paragraph><p>Il segnale 31 avviene qui se la quantità di memoria condivisa utilizzata da Oracle® e SAP® supera quella definita nel file di configurazione del kernel e può essere risolto usando un valore maggiore:</p></div><div class="literalblock programlisting"><div class=content><pre># larger value for 46C production systems:
options SHMMAXPGS=393216
# smaller value sufficient for 46B:
#options SHMMAXPGS=262144</pre></div></div></div><div class=sect4><h5 id=saposcolfails>10.7.13.14. Fallimento dell’avvio di <code>saposcol</code><a class=anchor href=#saposcolfails></a></h5><div class=paragraph><p>Ci sono alcuni problemi con il programma <code>saposcol</code> (versione 4.6D). Il sistema SAP® usa <code>saposcol</code> per raccogliere dati a proposito delle prestazioni del sistema. Questo programma non è necessario per usare il sistema SAP®, quindi può essere considerato un problema minore. La versione più vecchia (4.6B) funziona, ma non raccoglie tutti i dati (molte chiamate ritorneranno 0, per esempio l’utilizzo della CPU).</p></div></div></div></div><div class=sect2><h3 id=linuxemu-advanced>10.8. Argomenti Avanzati<a class=anchor href=#linuxemu-advanced></a></h3><div class=paragraph><p>Se sei curioso di come funziona la compatibilità con i binari di Linux, questa è la sezione da leggere. Molto di ciò che segue è basato pesantemente su una email scritta a <a href=https://lists.FreeBSD.org/subscription/freebsd-chat>mailing list di chiacchiere su FreeBSD</a> da Terry Lambert <a href=mailto:tlambert@primenet.com>tlambert@primenet.com</a> (ID del messaggio: <code>&lt;<a href=mailto:199906020108.SAA07001@usr09.primenet.com>199906020108.SAA07001@usr09.primenet.com</a>></code>).</p></div><div class=sect3><h4 id=_come_funziona>10.8.1. Come Funziona?<a class=anchor href=#_come_funziona></a></h4><div class=paragraph><p>FreeBSD ha una astrazione chiamata un "loader della classe di esecuzione". Questo ` un cuneo nella chiamata di sistema <a href="https://man.freebsd.org/cgi/man.cgi?query=execve&amp;sektion=2&amp;format=html">execve(2)</a>.</p></div><div class=paragraph><p>Cosa succede è che FreeBSD ha una lista di loader, piuttosto che un singolo loader con un ritorno nel loader <code>#!</code>, per lanciare qualunque inteprete o script della shell.</p></div><div class=paragraph><p>Storicamente, l’unico loader nella piattaforma UNIX® esaminava il numero magico (generalmente i primi 4 o 8 byte del file) per vedere se il binario fosse conosciuto dal sistema e, nel caso, invocava il loader del binario.</p></div><div class=paragraph><p>Se non era un tipo di binario per il sistea, la chiamata <a href="https://man.freebsd.org/cgi/man.cgi?query=execve&amp;sektion=2&amp;format=html">execve(2)</a> ritornava un errore, e la shell tentava di avviare eseguendolo come comando della shell.</p></div><div class=paragraph><p>L’assunzione era un default, "qualunque fosse la shell".</p></div><div class=paragraph><p>Più tardi, è stato fatto un hack per <a href="https://man.freebsd.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;format=html">sh(1)</a> per esaminare i primi due caratteri. Se erano <code>:\n</code>, allora invocava la shell <a href="https://man.freebsd.org/cgi/man.cgi?query=csh&amp;sektion=1&amp;format=html">csh(1)</a> (crediamo sia stata SCO a fare per prima questo hack).</p></div><div class=paragraph><p>Ciò che ora fa FreeBSD è scorrere una lista di loader, con un loader <code>#!</code> generico che riconosce gli interpreti dai caratteri che seguono lo spazio successivo vicino alla fine, seguito da un ritorno a <span class=filename>/bin/sh</span>.</p></div><div class=paragraph><p>Per il supporto alle ABI di Linux, FreeBSD vede il numero magico come un binario ELF (a questo punto non fa distinzione tra FreeBSD, Solaris™, Linux, o qualunque altro SO che ha un tipo di immagine ELF).</p></div><div class=paragraph><p>Il loader di ELF cerca un <em>marchio</em> specializzato, che ` una sezione di commento nell’immagine ELF e che non è presente sui binari ELF SVR4/Solaris™.</p></div><div class=paragraph><p>I binari di Linux, per funzionare, devono essere <em>marchiati</em> come tipo <code>Linux</code> da <a href="https://man.freebsd.org/cgi/man.cgi?query=brandelf&amp;sektion=1&amp;format=html">brandelf(1)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># brandelf -t Linux file</span></code></pre></div></div><div class=paragraph><p>Quando viene fatto questo, il loader ELF vedrà il marchio di <code>Linux</code> sul file.</p></div><div class=paragraph><p>Quando il loader ELF vede il marchio di <code>Linux</code>, il loader sostituisce un puntatore nella struttura <code>proc</code>. Tutte le chiamate di sistema sono indicizzate attraverso questo puntatore (in un sistema UNIX® tradizionale questo sarebbe l’array di strutture <code>sysent[]</code>, contentente le chiamate di sistema). In aggiunta;, il processo è etichettato per un trattamento speciale del vettore trappola per il codice del segnale di lancio, e molti altri (minori) aggiustamenti che sono gestiti dal modulo Linux del kernel.</p></div><div class=paragraph><p>Il vettore delle chiamate di sistema di Linux contiene, tra le altre cose, una lista di valori <code>sysent[]</code> i cui indirizzi risiedono nel modulo del kernel.</p></div><div class=paragraph><p>Quando una chiamata di sistema è fatta dal binario di Linux, il codice trappola derefereizia il puntatore alla funzione della chiamata di sistema dalla struttura <code>proc</code>, e prende i punti di ingresso delle chiamate di sistema di Linux, non di FreeBSD.</p></div><div class=paragraph><p>In più, la modalità Linux <em>ridefinisce la root</em> dinamicamente; questo, in effetti, è quello che fa l’opzione <code>union</code> al montaggio del file system (<em>non</em> il tipo di file system <code>unionfs</code>!). Un tentativo viene prima fatto per cercare il file nella directory <span class=filename>/compat/linux/original-path</span>, <em>quindi</em>, solo se fallisce, la ricerca ` fatta nella directory <span class=filename>/original-path</span>. Questo assicura che possano funzionare i binari che per richiedono altri binari (p.e., la toolchain di Linux può funzionare tutta sotto il supporto ABI di Linux). Questo significa anche che i binari di Linux possono caricare ed eseguire binari di FreeBSD, se non sono presenti i corrispondenti binari di Linux, e che puoi mettere un comando <a href="https://man.freebsd.org/cgi/man.cgi?query=uname&amp;sektion=1&amp;format=html">uname(1)</a> nell’albero della directory <span class=filename>/compat/linux</span> per essere sicuro che i binari di Linux non possano capire che non stanno girando sotto Linux.</p></div><div class=paragraph><p>In effeti c’è un kernel Linux nel kernel FreeBSD le varie funzioni sottostanti che implementano tutti i servizi forniti dal kernel sono identiche sia nelle definizioni delle tabelle delle chiamate di sistema di FreeBSD che di Linux: le operazioni sul file system, le operazioni nella memoria virtuale, la consegna dei segnali, le IPC System V, ecc…​ L’unica differenza è che i binari di FreeBSD prendono le funzioni <em>colla</em> di FreeBSD, e i binari di Linux prendono le funzioni <em>colla</em> di Linux (molti dei vecchi SO hanno solo le loro funzioni <em>colla</em>: gli indirizzi delle funzioni in un array di strutture <code>sysent[]</code> statico globale, invece che indirizzi di funzioni dereferenziate da un puntatore inizializzato dinamicamente nella struttura <code>proc</code> del processo che fa la chiamata).</p></div><div class=paragraph><p>Qual è la ABI nativa per FreeBSD? Non importa. Essenzialmente l’unica differenza è che (attualmente: questo potrebbe facilmente essere cambiato in distribuzioni future, e probabilmente sarà fatto) le funzioni <em>colla</em> di FreeBSD sono collegate staticamente nel kernel, e le funzioni <em>colla</em> di Linux possono essere collegate staticamente o vi si può accedere attraverso un modulo del kernel.</p></div><div class=paragraph><p>Si, ma è davvero emulazione? No. è implementazione delle ABI, non emulazione. Non è coinvolto nessun emulatore (o simulatore, per evitare la prossima domanda).</p></div><div class=paragraph><p>Allora perché talvolta viene chiamata "emulazione Linux"? Per rendere difficile vendere FreeBSD! Seriamente, è perché l’implementazione storica è stata fatta in un momento in cui non c’era altro termine per descrivere ciò che stava succedendo; dire che FreeBSD lanciava i binari di Linux non era vero, se non compilavi il codice o caricavi un modulo, e c’era bisogno di un termine per descrivere cosa veniva caricato- da qui "l’emulatore Linux".</p></div></div></div></div></div><h1 id=system-administration class=sect0>Parte III: Amministrazione del Sistema<a class=anchor href=#system-administration></a></h1><div class="openblock partintro"><div class=content><div class=paragraph><p>I rimanenti capitoli del Manuale di FreeBSD coprono tutti gli aspetti dell’amministrazione di un sistema FreeBSD. Ogni capitolo inizia descrivendo quello che imparerai dopo aver letto il capitolo, e specifica anche quello che dovresti sapere prima di affrontare il materiale.</p></div><div class=paragraph><p>Questi capitoli sono studiati per essere letti quando si ha bisogno di un’informazione. Non devi leggerli in un ordine particolare, né devi leggerli tutti prima di poter usare FreeBSD.</p></div></div></div><div class=sect1><h2 id=config-tuning>Capitolo 11. Configurazione e Messa a Punto<a class=anchor href=#config-tuning></a></h2><div class=sectionbody><div class=sect2><h3 id=config-synopsis>11.1. Sinossi<a class=anchor href=#config-synopsis></a></h3><div class=paragraph><p>Uno degli aspetti importanti di FreeBSD è la configurazione del sistema. Una corretta configurazione del sistema aiuterà a prevenire mal di testa durante futuri aggiornamenti. Questo capitolo spiegherà molti dei processi di configurazione di FreeBSD, inclusi alcuni parametri che possono essere impostati per ottimizzare un sistema FreeBSD.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come lavorare in maniera efficiente con i file system e le partizioni di swap.</p></li><li><p>Le basi dei sistemi di configurazione <span class=filename>rc.conf</span> e di avvio <span class=filename>/usr/local/etc/rc.d</span>.</p></li><li><p>Come configurare e provare una scheda di rete.</p></li><li><p>Come configurare host virtuali sui dispositivi di rete.</p></li><li><p>Come usare i vari file di configurazione in <span class=filename>/etc</span>.</p></li><li><p>Come mettere a punto FreeBSD usando le variabili <code>sysctl</code>.</p></li><li><p>Come ottimizzare la prestazioni del disco e modificare le limitazioni del kernel.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Comprendere le basi di UNIX® e di FreeBSD (<a href=./#basics>Basi di UNIX</a>).</p></li><li><p>Avere dimestichezza nella configurazione/compilazione del kernel (<a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>).</p></li></ul></div></div><div class=sect2><h3 id=configtuning-initial>11.2. Configurazione Iniziale<a class=anchor href=#configtuning-initial></a></h3><div class=sect3><h4 id=_disposizione_delle_partizioni>11.2.1. Disposizione delle Partizioni<a class=anchor href=#_disposizione_delle_partizioni></a></h4><div class=sect4><h5 id=_partizioni_di_base>11.2.1.1. Partizioni di Base<a class=anchor href=#_partizioni_di_base></a></h5><div class=paragraph><p>Nel disegnare il tuo file system con <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> o <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a>, ricorda che i dischi rigidi possono trasferire dati ad un ritmo maggiore dalle tracce esterne rispetto a quelle interne. Quindi i file system più piccoli e con un gran numero di accessi dovrebbero essere più vicini alla parte esterna del disco, mentre le partizioni più ampie, come <span class=filename>/usr</span>, dovrebbero essere posizionate verso l’interno. È una buona idea creare le partizioni in un ordine simile al seguente: root, swap, <span class=filename>/var</span>, <span class=filename>/usr</span>.</p></div><div class=paragraph><p>Le dimensioni della partizione <span class=filename>/var</span> riflettono l’uso che intendi fare della macchina. <span class=filename>/var</span> viene usata per mantenere le caselle di posta, i file di log, e gli spool della stampante. Le caselle di posta e file di log potrebbero crescere in maniera imprevedibile in relazione al numero di utenti presenti sul tuo sistema e da quanto a lungo manterrai i file di log. La maggior parte degli utenti non avrà mai bisogno di un gigabyte, ma ricorda che <span class=filename>/var/tmp</span> deve essere abbastanza ampia da contenere tutti i pacchetti.</p></div><div class=paragraph><p>La partizione <span class=filename>/usr</span> contiene molti dei file richiesti per far funzionare il sistema, la collezioni dei <a href="https://man.freebsd.org/cgi/man.cgi?query=ports&amp;sektion=7&amp;format=html">ports(7)</a> (raccomandata) e il codice sorgente (opzionale). Entrambi sono opzionali al momento dell’installazione. Almeno 2 gigabyte sono raccomandati per questa partizione.</p></div><div class=paragraph><p>Quando decidi le dimensioni delle partizioni, tieni a mente le richieste di spazio. Esaurire lo spazio in una partizione mentre ne usi poco in un’altra può essere molto fastidioso.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcuni utenti hanno scoperto che il dimensionamento <code>auto-predefinito</code> di <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> a volte crea partizioni <span class=filename>/var</span> o <span class=filename>/</span> più piccole del necessario. Partiziona saggiamente e generosamente.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=swap-design>11.2.1.2. Partizione di Swap<a class=anchor href=#swap-design></a></h5><div class=paragraph><p>Come regola generale, la partizione di swap dovrebbe essere tipicamente il doppio della quantità di memoria principale (RAM). Ad esempio, se la macchina avesse 128 megabyte di memoria, il file di swap dovrebbe essere di 256 megabyte. Sistemi con meno memoria potrebbero funzionare meglio con uno swap maggiore. Meno di 256 megabyte di swap non è raccomandato e dovresti pensare ad una espansione della memoria. Gli algoritmi di paginazione sono ottimizzati per funzionare al meglio quando la partizione di swap è almeno due volte la dimensione della memoria principale. Configurare uno swap troppo piccolo potrebbe portare ad una inefficienza nel codice di scansione della VM e potrebbe creare problemi in seguito, nel caso di aggiunta di memoria alla macchina.</p></div><div class=paragraph><p>Su sistemi più grandi con dischi SCSI multipli (o dischi IDE multipli collegati a diversi controller) è consigliabile che ci sia uno swap per ogni disco (fino a quattro dischi). Le partizioni di swap dovrebbero avere approssimativamente le stesse dimensioni. Il kernel può gestire dimensioni arbitrarie ma internamente le strutture dati scalano meglio fino a quattro volte la dimensione della partizione di swap più ampia. Avere partizioni di swap con dimensioni simili permetterà al kernel di distribuire al meglio lo spazio di swap tra i dischi. Partizioni di swap grandi vanno bene, anche se non vengono usate molto. Potrebbe essere più semplice recuperare il sistema da un programma impazzito prima di essere costretti a riavviare.</p></div></div><div class=sect4><h5 id=_perchè_partizionare>11.2.1.3. Perchè Partizionare?<a class=anchor href=#_perchè_partizionare></a></h5><div class=paragraph><p>Molti utenti pensano che un’unica grande partizione vada bene, ma ci sono molte ragioni per cui questa è una cattiva idea. Primo, ogni partizione ha differenti caratteristiche operative e separarle permette ai file system di ottimizzare se stessi di conseguenza. Ad esempio, le partizioni root e <span class=filename>/usr</span> sono per lo più usate in lettura, senza molte operazioni di scrittura. Un sacco di letture e scritture potrebbero esserci in <span class=filename>/var</span> e <span class=filename>/var/tmp</span>.</p></div><div class=paragraph><p>Partizionando in maniera appropriata il sistema, la frammentazione introdotta nelle partizioni più piccole, con più carico in scrittura, non inciderà sulle partizioni per lo più di lettura. Mantenere le partizioni con maggiore carico in scrittura vicine al bordo del disco aumenterà le prestazioni di I/O nelle partizioni dove ne hai più bisogno. Ora, sebbene potresti avere bisogno di prestazioni di I/O anche nelle partizioni più ampie, spostarle verso il bordo del disco non porterebbe nessun miglioramento significativo delle prestazioni, al contrario dello spostamento di <span class=filename>/var</span> all’esterno. Infine, ci sono problemi riguardanti la sicurezza. Una piccola, simpatica partizione di root che è essenzialmente di sola lettura ha ottime possibilità di sopravvivere intatta a un brutto crash.</p></div></div></div></div><div class=sect2><h3 id=configtuning-core-configuration>11.3. Configurazione Principale<a class=anchor href=#configtuning-core-configuration></a></h3><div class=paragraph><p>Il posto principale per le informazioni di configurazione del sistema è in <span class=filename>/etc/rc.conf</span>. Questo file contiene un’ampia gamma di informazioni di configurazione, usate principalmente all’avvio della macchina per la configurazione del sistema. Il suo nome è autoesplicativo; si tratta di informazioni di configurazione per i file <span class=filename>rc*</span>.</p></div><div class=paragraph><p>Un amministratore dovrebbe aggiungere dei campi nel file <span class=filename>rc.conf</span> per cambiare le impostazioni predefinite di <span class=filename>/etc/defaults/rc.conf</span>. Il file predefinito non dovrebbe essere semplicemente copiato in <span class=filename>/etc</span> - esso contiene valori di default, non esempi. Tutti i cambiamenti specifici del sistema dovrebbero essere effettuati nel file <span class=filename>rc.conf</span> stesso.</p></div><div class=paragraph><p>Nelle applicazioni cluster possono essere adottate differenti strategie per separare le configurazioni generali da quelle specifiche del sistema in maniera da mantenere basso l’impegno di amministrazione. L’approccio raccomandato è di porre le configurazioni generali in un altro file, ad esempio <span class=filename>/etc/rc.conf.site</span>, e poi includerlo in <span class=filename>/etc/rc.conf</span>, che conterrà solo le informazioni specifiche del sistema.</p></div><div class=paragraph><p>Visto che <span class=filename>rc.conf</span> viene letto da <a href="https://man.freebsd.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;format=html">sh(1)</a> è semplice farlo. Ad esempio:</p></div><div class=ulist><ul><li><p>rc.conf:</p><div class="literalblock programlisting"><div class=content><pre>        . /etc/rc.conf.site
        hostname=&#34;node15.example.com&#34;
        network_interfaces=&#34;fxp0 lo0&#34;
        ifconfig_fxp0=&#34;inet 10.1.1.1&#34;</pre></div></div></li><li><p>rc.conf.site:</p><div class="literalblock programlisting"><div class=content><pre>        defaultrouter=&#34;10.1.1.254&#34;
        saver=&#34;daemon&#34;
        blanktime=&#34;100&#34;</pre></div></div></li></ul></div><div class=paragraph><p>Il file <span class=filename>rc.conf.site</span> potrà poi essere distribuito su ogni sistema usando <code>rsync</code> o un programma simile, mentre il file <span class=filename>rc.conf</span> rimarrà unico.</p></div><div class=paragraph><p>L’aggiornamento del sistema tramite <a href="https://man.freebsd.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;format=html">sysinstall(8)</a> o <code>make world</code> non sovrascriverà il file <span class=filename>rc.conf</span>, quindi le configurazioni del sistema non andranno perse.</p></div></div><div class=sect2><h3 id=configtuning-appconfig>11.4. Configurazione delle Applicazioni<a class=anchor href=#configtuning-appconfig></a></h3><div class=paragraph><p>Tipicamente, le applicazioni installate hanno i propri file di configurazione, con la loro sintassi, ecc. È importante che questi file siano tenuti separati dal sistema di base, in maniera da essere facilmente individuati e gestiti dagli strumenti di gestione dei pacchetti.</p></div><div class=paragraph><p>In genere, questi file vengono installati in <span class=filename>/usr/local/etc</span>. Nel caso in cui un’applicazione abbia un grande numero di file di configurazione, verrà creata una sottodirectory per contenerli.</p></div><div class=paragraph><p>Normalmente, quando viene installato un pacchetto, vengono installati anche file di configurazione d’esempio. In genere questi vengono identificati da un suffisso <span class=filename>.default</span>. Se non ci sono file di configurazione esistenti per l’applicazione, verranno creati copiando i file <span class=filename>.default</span>.</p></div><div class=paragraph><p>Ad esempio, considera il contenuto della directory <span class=filename>/usr/local/etc/apache</span>:</p></div><div class=literalblock><div class=content><pre>-rw-r--r--  1 root  wheel   2184 May 20  1998 access.conf
-rw-r--r--  1 root  wheel   2184 May 20  1998 access.conf.default
-rw-r--r--  1 root  wheel   9555 May 20  1998 httpd.conf
-rw-r--r--  1 root  wheel   9555 May 20  1998 httpd.conf.default
-rw-r--r--  1 root  wheel  12205 May 20  1998 magic
-rw-r--r--  1 root  wheel  12205 May 20  1998 magic.default
-rw-r--r--  1 root  wheel   2700 May 20  1998 mime.types
-rw-r--r--  1 root  wheel   2700 May 20  1998 mime.types.default
-rw-r--r--  1 root  wheel   7980 May 20  1998 srm.conf
-rw-r--r--  1 root  wheel   7933 May 20  1998 srm.conf.default</pre></div></div><div class=paragraph><p>Le differenze nelle dimensioni dei file mostrano che solo <span class=filename>srm.conf</span> è stato modificato. Una successiva installazione di Apache dai port non sovrascriverà questo file modificato.</p></div></div><div class=sect2><h3 id=configtuning-starting-services>11.5. Avvio dei Servizi<a class=anchor href=#configtuning-starting-services></a></h3><div class=paragraph><p>Molti utenti scelgono di installare software di terze parti in FreeBSD attraverso la collezione dei port. Nell magior parte dei casi potrebbe essere necessario configurare il software in un modo tale che sia avviato all’inizializzazione di sistema. Servizi, come <a class=package href=https://cgit.freebsd.org/ports/tree/mail/postfix/>mail/postfix</a> o <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache13/>www/apache13</a> sono solo due fra i molti pacchetti software che possono essere avviati durante l’inizializzazione di sistema. Questa sezione spiega le procedure disponibili per avviare software di terze parti.</p></div><div class=paragraph><p>In FreeBSD, molti servizi inclusi, come <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>, sono avviati attraverso gli script di startup. Questi script possono differire a seconda della verione di FreeBSD o del produttore; comunque il più importante aspetto da considerare è che la configurazione di startup può essere gestita tramite semplici script di inizializzazione.</p></div><div class=paragraph><p>Prima dell’avvento di <span class=filename>rc.d</span>, gli applicativi lasciavano un semplice script di avvio nella directory <span class=filename>/usr/local/etc/rc.d</span> che sarebbe stato poi letto dagli script di inizializzazione di sistema. Questi script sarebbero poi eseguiti durante la fase di avvio del sistema.</p></div><div class=paragraph><p>Mentre molti individui hanno speso ore cercando di integrare il vecchio stile di configurazione nel nuovo sistema, resta il fatto che qualche utility di terze parti necessita ancora di uno script semplicemente lasciato nella succitata directory. Le sottili differenze negli script dipendono dal fatto se <span class=filename>rc.d</span> sia usato o meno. Prima di FreeBSD 5.1 viene usato il vecchio metodo di configurazione ed in quasi tutti i casi uno script di nuovo tipo funzionerebbe perfettamente.</p></div><div class=paragraph><p>Mentre ogni script deve rispettare alcuni requisiti minimi, il più delle volte questi requisiti sono indipendenti dalla versioni di FreeBSD. Ogni script deve avere una estensione <span class=filename>.sh</span> appesa alla fine ed ogni script deve essere eseguibile dal sistema. L’ultima richiesta può essere soddisfatta usando il comando <code>chmod</code> e impostando i permessi a <code>755</code>. Ci dovrebbe essere, come minimo, un’opzione per fare lo <code>start</code> dell’applicativo ed un’opzione per farne lo <code>stop</code>.</p></div><div class=paragraph><p>Il più semplice script di avvio probabilmente sembrerebbe simile al seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
echo -n &#39; utility&#39;

case &#34;$1&#34; in
start)
        /usr/local/bin/utility
        ;;
stop)
        kill -9 `cat /var/run/utility.pid`
        ;;
*)
        echo &#34;Usage: `basename $0` {start|stop}&#34; &gt;&amp;2
        exit 64
        ;;
esac

exit 0</pre></div></div><div class=paragraph><p>Questo script fornisce un’opzione <code>stop</code> e <code>start</code> per l’applicazione a cui ci riferiamo semplicemente come <code>utility</code>.</p></div><div class=paragraph><p>Potrebbe essere avviata manualmente con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/etc/rc.d/utility.sh start</span></code></pre></div></div><div class=paragraph><p>Mentre non tutto il software di terze parti richiede la linea in <span class=filename>rc.conf</span>, quasi ogni giorno un nuovo port viene modificato per accettare questa configurazione. Controlla l’output finale dell’installazione per maggiori informazioni su un applicativo specifico. Ci sarà del software di terze parti che fornisce script di avvio che permettono all’applicativo di essere usato con <span class=filename>rc.d</span>; tuttavia, questo sarà discusso nella successiva sezione.</p></div><div class=sect3><h4 id=_configurazione_estesa_degli_applicativi>11.5.1. Configurazione Estesa degli Applicativi<a class=anchor href=#_configurazione_estesa_degli_applicativi></a></h4><div class=paragraph><p>Ora che FreeBSD include <span class=filename>rc.d</span>, la configurazione dell’avvio degli applicativi è diventata più semplice, e più flessibile. Usando le parole chiave discusse nella sezione <a href=#configtuning-rcd>rc.d</a>, gli applicativi ora possono essere configurati dopo certi altri servizi come ad esempio il DNS; possono permettere che siano passati flag extra nel codice attraverso <span class=filename>rc.conf</span> al posto di flag statici negli script di avvio, e molto altro. Uno script basilare potrebbe assomigliare al seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
#
# PROVIDE: utility
# REQUIRE: DAEMON
# KEYWORD: shutdown

. /etc/rc.subr

name=utility
rcvar=utility_enable

command=&#34;/usr/local/sbin/utility&#34;

load_rc_config $name

#
# DO NOT CHANGE THESE DEFAULT VALUES HERE
# SET THEM IN THE /etc/rc.conf FILE
#
utility_enable=${utility_enable-&#34;NO&#34;}
pidfile=${utility_pidfile-&#34;/var/run/utility.pid&#34;}

run_rc_command &#34;$1&#34;</pre></div></div><div class=paragraph><p>Questo script assicurerà che utility partirà dopo il servizio <code>daemon</code>. Fornisce inoltre un metodo per settare e tracciare il PID, o il file dell’ID di processo.</p></div><div class=paragraph><p>Questa applicazione potrebbe avere le seguenti linee piazzate in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>utility_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Questo metodo permette inoltre una semplice manipolazione degli argomenti di linea di comando, incluse le funzioni di default definite in <span class=filename>/etc/rc.subr</span>, compatibilità con l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> e fornisce una più semplice configurazione attraverso il file <span class=filename>rc.conf</span>.</p></div></div><div class=sect3><h4 id=_usare_i_servizi_per_avviare_i_servizi>11.5.2. Usare i Servizi per Avviare i Servizi<a class=anchor href=#_usare_i_servizi_per_avviare_i_servizi></a></h4><div class=paragraph><p>Altri servizi, come i demoni POP3, IMAP, etc. potrebbero essere avviati usando <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a>. Questo implica l’installazione del servizio dalla collezione dei port e l’aggiunta di una linea di configurazione al file <span class=filename>/etc/inetd.conf</span> o togliendo dei commenti in una delle linee di configurazione del file stesso. L’uso di inetd e la sua configurazione è descritto in dettaglio nella sezione <a href=./#network-inetd>inetd</a>.</p></div><div class=paragraph><p>In alcuni casi, potrebbe essere più plausibile usare il demone <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> per avviare i servizi di sistema. Questo approccio ha alcuni vantaggi poichè <code>cron</code> esegue questi processi come l’utente proprietario del file <span class=filename>crontab</span>. Questo permette ad utenti regolari di avviare e mantenere alcuni applicativi.</p></div><div class=paragraph><p>Il comando <code>cron</code> fornisce una caratteristica unica, <code>@reboot</code>, che potrebbe essere usato al posto della specifica del tempo. Questo farà sì che il job sia eseguito quando <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> è avviato, normalmente durante l’inizializzazione di sistema.</p></div></div></div><div class=sect2><h3 id=configtuning-cron>11.6. Configurare l’Utility <code>cron</code><a class=anchor href=#configtuning-cron></a></h3><div class=paragraph><p>Uno dei comandi più utili presenti in FreeBSD è <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>. L’utility <code>cron</code> viene eseguita in background e controlla costantemente il file <span class=filename>/etc/crontab</span>. <code>cron</code> controlla anche la directory <span class=filename>/var/cron/tabs</span>, alla ricerca di nuovi file <span class=filename>crontab</span>. Questi file <span class=filename>crontab</span> contengono informazioni sulle specifiche funzioni che ci si aspetta vengano compiute da <code>cron</code> a determinati intervalli temporali.</p></div><div class=paragraph><p>L’utility <code>cron</code> usa due differenti tipi di file di configurazione, il crontab di sistema ed il crontab utente. La sola differenza fra questi due file è nel sesto campo. Nel crontab di sistema, il sesto campo è il nome dell’utente sotto il quale viene eseguito il comando. Questo dà al crontab di sistema la capacità di eseguire comandi come ogni utente. Nel crontab utente, il sesto campo è il comando da eseguire, e tutti i comandi vengono eseguiti come l’utente che ha creato il crontab; questa è un’importante caratteristica di sicurezza.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>I crontab utenti permettono ad utenti individuali di schedulare task senza i privilegi di <code>root</code>. I comandi in un crontab utente vengono eseguiti con i permessi dell’utente che posseggono il file crontab.</p></div><div class=paragraph><p>L’utente <code>root</code> può possedere il crontab proprio come ogni altro utente. Qui c’è una differenza rispetto a <span class=filename>/etc/crontab</span> (il crontab di sistema). Per via del crontab di sistema, di solito non c’è bisogno di creare un crontab per <code>root</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Diamo un’occhiata al file <span class=filename>/etc/crontab</span> (il crontab di sistema):</p></div><div class="literalblock programlisting"><div class=content><pre># /etc/crontab - il crontab di root per FreeBSD
#
# $FreeBSD: src/etc/crontab,v 1.32 2002/11/22 16:13:39 tom Exp $
#<i class=conum data-value=1></i><b>(1)</b>
#
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin <i class=conum data-value=2></i><b>(2)</b>
HOME=/var/log
#
#
#minute    hour    mday    month   wday    who command <i class=conum data-value=3></i><b>(3)</b>
#
#
*/5    *   *   *   *   root    /usr/libexec/atrun <i class=conum data-value=4></i><b>(4)</b></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Come in molti file di configurazione di FreeBSD, il carattere <code>#</code> rappresenta un commento. Un commento può essere posto nel file come una nota su cosa si desidera fare con un certo comando. I commenti non possono essere nella stessa linea di un comando o saranno interpretati come parte di un comando; devono trovarsi su una linea a sè. Le linee vuote vengono ignorate.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Anzitutto, deve essere definito l’ambiente. I segni di uguale (<code>=</code>) vengono usati per definire ogni impostazione dell’ambiente, come viene fatto in questo esempio per <code>SHELL</code>, <code>PATH</code>, e <code>HOME</code>. Se la linea relativa alla shell viene omessa, <code>cron</code> userà quella di default, che è <code>sh</code>. Se si omette la variabile <code>PATH</code>, non verrà usato nessun default e le locazioni dei file dovranno essere assolute. Se viene omessa <code>HOME</code>, <code>cron</code> userà la home directory dello user che lo ha richiamato.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Questa linea definisce un totale di sette campi. Qui sono elencati i valori <code>minute</code>, <code>hour</code>, <code>mday</code>, <code>month</code>, <code>wday</code>, <code>who</code>, e <code>command</code>. Questi nomi sono più o meno autoesplicativi. <code>minute</code> è il tempo in minuti al quale dovrà essere eseguito il comando. <code>hour</code> è uguale, ma per le ore. <code>mday</code> rappresenta il giorno del mese. <code>month</code> è simile ad <code>hour</code> e <code>minute</code>, ma rappresenta il mese. L’opzione <code>wday</code> rappresenta il giorno della settimana. Tutti questi campi devono avere un valore numerico, e seguire l’orario di ventiquattro ore. Il campo <code>who</code> è speciale, ed esiste solo nel file <span class=filename>/etc/crontab</span>. Questo campo specifica l’utente con il quale deve essere eseguito il comando. Quando un utente installa il suo file <span class=filename>crontab</span>, non avrà a disposizione questa opzione. Infine, viene elencata l’opzione <code>command</code>. Questo è l’ultimo campo, e naturalmente indica il comando che deve essere eseguito.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Quest’ultima linea definirà i valori discussi prima. Notate che abbiamo un <code><strong>/5</strong></code><strong>, seguito da parecchi caratteri <code></code></strong>. Questi caratteri <code>*</code> significano "dalla prima all’ultima volta", e possono essere interpretati come <em>ogni</em> volta. Dunque, basandosi su questa linea, sembra che il comando <code>atrun</code> debba essere invocato da <code>root</code> ogni cinque minuti, prescindendo da quale giorno o mese sia. Per maggiori informazioni sul comando <code>atrun</code>, vedere la pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=atrun&amp;sektion=8&amp;format=html">atrun(8)</a>.I comandi possono essere richiamati con qualsiasi numero di flag; i comandi che si estendono per più righe potrebbero però avere bisogno di essere spezzati con il carattere di continuazione "\".</td></tr></tbody></table></div><div class=paragraph><p>Questa è l’impostazione di base per ogni file <span class=filename>crontab</span>, anche se c’è qualcosa di particolare in questo. Il sesto campo, dove abbiamo specificato il nome utente, esiste solo nel file di sistema <span class=filename>/etc/crontab</span>. Questo campo dovrebbe venire omesso nei <span class=filename>crontab</span> dei vari utenti.</p></div><div class=sect3><h4 id=configtuning-installcrontab>11.6.1. Installare un Crontab<a class=anchor href=#configtuning-installcrontab></a></h4><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Non devi usare la procedura descritta qui per editare/installare il crontab di sistema. Semplicemente usa il tuo editor favorito: l’utility <code>cron</code> noterà che il file è cambiato e immediatamente inizierà ad usare la versione aggiornata. Vedi <a href=https://docs.freebsd.org/en/books/faq/#ROOT-NOT-FOUND-CRON-ERRORS>queste FAQ</a> per maggiori informazioni.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per installare un <span class=filename>crontab</span> appena scritto, prima usa il tuo editor preferito per creare un file nel formato corretto, e poi usa l’utility <code>crontab</code>. L’uso più corretto è:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% crontab crontab-file</code></pre></div></div><div class=paragraph><p>In questo esempio, <span class=filename>crontab-file</span> è il nome di un file <span class=filename>crontab</span> che era stato creato in precedenza.</p></div><div class=paragraph><p>C’è anche un’opzione per elencare i file <span class=filename>crontab</span> già installati: passate semplicemente <code>-l</code> a <code>crontab</code> e date un’occhiata all’output.</p></div><div class=paragraph><p>Per gli utenti che desiderino scrivere il proprio file crontab da zero, senza usare un template, è disponibile <code>crontab -e</code>. Questa opzione permetterà loro di invocare l’editor prescelto su un file vuoto. Quando il file verrà salvato, esso verrà automaticamente installato dal comando <code>crontab</code>.</p></div><div class=paragraph><p>Se successivamente vuoi rimuovere il tuo <span class=filename>crontab</span> completamente, usa <code>crontab</code> con l’opzione <code>-r</code>.</p></div></div></div><div class=sect2><h3 id=configtuning-rcd>11.7. Usare rc con FreeBSD<a class=anchor href=#configtuning-rcd></a></h3><div class=paragraph><p>Nel 2002 FreeBSD ha integrato il sistema di inizializzazione <span class=filename>rc.d</span> di NetBSD. Gli utenti dovrebbero aver notato i file elencati nella cartella <span class=filename>/etc/rc.d</span>. Molti di questi file sono servizi di base che possono essere controllati con opzioni <code>start</code>, <code>stop</code>, e <code>restart</code>. Ad esempio, <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a> può essere riavviato con il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd restart</span></code></pre></div></div><div class=paragraph><p>Questa procedura è simile a quella per altri servizi. Naturalmente, i servizi in genere vengono avviati automaticamente in fase di avvio secondo quanto specificato in <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>. Ad esempio, per abilitare il demone per il NAT (Network Address Translation) all’avvio basta aggiungere la linea seguente a <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>natd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Se esiste già una linea <code>natd_enable="NO"</code>, allora basta cambiare il valore da <code>NO</code> a <code>YES</code>. Gli script rc caricheranno automaticamente ogni altro servizio durante il riavvio seguente, come descritto più avanti.</p></div><div class=paragraph><p>Poichè il sistema di <span class=filename>rc.d</span> è inteso prevalentemente per avviare/bloccare i servizi al momento dell’accensione/spegnimento, le opzioni standard <code>start</code>, <code>stop</code> e <code>restart</code> avranno il comportamento appropriato solo seè stata impostata la variabile appropriata in <span class=filename>/etc/rc.conf</span>. Ad esempio il comando precedente <code>sshd restart</code> funzionerà solo se in <span class=filename>/etc/rc.conf</span> è stata impostata l’opzione <code>sshd_enable</code> a <code>YES</code>. Per avviare (<code>start</code>), fermare (<code>stop</code>) o riavviare (<code>restart</code>) un servizio, ignorandole impostazioni in <span class=filename>/etc/rc.conf</span>, i comandi devono avere il prefisso "one". Ad esempio per riavviare <code>sshd</code> trascurando le impostazioni esistenti in <span class=filename>/etc/rc.conf</span>, impartite il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd onerestart</span></code></pre></div></div><div class=paragraph><p>È semplice controllare se un servizio è stato abilitato in <span class=filename>/etc/rc.conf</span> eseguendo lo script appropriato in <span class=filename>rc.d</span> con l’opzione <code>rcvar</code>. Dunque, un amministratore può controllare che <code>sshd</code> sia effettivamente abilitato in <span class=filename>/etc/rc.conf</span> eseguendo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd rcvar</span>
<span class=c># sshd</span>
<span class=nv>$sshd_enable</span><span class=o>=</span>YES</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>La seconda linea (<code># sshd</code>) è l’output del comando <code>sshd</code>; non una console di <code>root</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per determinare se un servizio è attivo, è disponibile l’opzione <code>status</code>. Ad esempio per verificare che <code>sshd</code> sia effettivamente avviato:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/sshd status</span>
sshd is running as pid 433.</code></pre></div></div><div class=paragraph><p>In alcuni case è anche possibile effettuare il <code>reload</code> di un servizio. Questo tenterà di inviare un segnale al servizio, per fargli ricaricare il suo file di configurazione. Nella maggior parte dei casi si tratterà del segnale <code>SIGHUP</code>. Il supporto per questa caratteristica non è garantito per tutti i servizi.</p></div><div class=paragraph><p>La struttura di <span class=filename>rc.d</span> non viene usata solo per i servizi di rete, ma contribuisce anche per buona parte all’inizializzazione del sistema. Ad esempio, considerate il file <span class=filename>bgfsck</span>. Quando lo script viene eseguito, esso stamperà il seguente messaggio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Starting background file system checks <span class=k>in </span>60 seconds.</code></pre></div></div><div class=paragraph><p>Dunque questo file viene usato per il controllo del file system in background, che avviene solo durante l’inizializzazione del sistema.</p></div><div class=paragraph><p>Molti servizi di sistema dipendono da altri servizi per poter funzionare in maniera appropriata. Ad esempio, il NIS ed altri servizi basati sulle RPC potrebbero non funzionare in assenza di <code>rpcbind</code> (portmapper). Per risolvere il problema, nei commenti all’inizio di ogni script di avvio ci sono informazioni sulle dipendenze ed altri metadati. Il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=rcorder&amp;sektion=8&amp;format=html">rcorder(8)</a> viene poi utilizzato per effettuare il parsing di questi commenti durante l’inizializzazione di sistema e per determinare l’ordine con il quale questi servizi devono essere avviati per avere le proprie dipendenze soddisfatte. In cima ad ogni file di avvio possono essere incluse le seguenti parole:</p></div><div class=ulist><ul><li><p>PROVIDE: Specifica i servizi forniti dal file.</p></li><li><p>REQUIRE: Elenca i servizi richiesti per far funzionare correttamente questo servizio. Questo file verrà eseguito <em>dopo</em> i tali servizi.</p></li><li><p>BEFORE: Elenca i servizi che dipendono da questo. Questo file verrà lanciato <em>prima</em> dei servizi specificati.</p></li></ul></div><div class=paragraph><p>Usando questo metodo, un amministratore può controllare facilmente i servizi di sistema senza il fastidio dei "runlevel" come alcuni altri sistemi operativi UNIX®.</p></div><div class=paragraph><p>Informazioni addizionali sul sistema <span class=filename>rc.d</span> possono essere trovate nelle pagine man di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.subr&amp;sektion=8&amp;format=html">rc.subr(8)</a>. Se sei interessato a scrivere un tuo script <span class=filename>rc.d</span> o a migliorarne uno esisente, ti può essere utile <a href=https://docs.freebsd.org/en/articles/rc-scripting/>questo articolo</a>.</p></div></div><div class=sect2><h3 id=config-network-setup>11.8. Configurazione delle Interfacce di Rete<a class=anchor href=#config-network-setup></a></h3><div class=paragraph><p>Al giorno d’oggi non riusciamo a pensare ad un computer senza pensare ad una connessione di rete. Aggiungere e configurare una scheda di rete è un compito comune per ogni amministratore di FreeBSD.</p></div><div class=sect3><h4 id=_individuazione_del_driver_corretto>11.8.1. Individuazione del Driver Corretto<a class=anchor href=#_individuazione_del_driver_corretto></a></h4><div class=paragraph><p>Prima di cominciare, dovresti conoscere il modello della scheda di rete che possiedi, il chip che usa, e se si tratta di una scheda PCI o ISA. FreeBSD supporta un’ampia varietà sia di schede PCI che ISA. Verifica l’Hardware Compatibility List della tua release per vedere se la scheda è supportata.</p></div><div class=paragraph><p>Una volta sicuro che la tua scheda sia supportata, hai bisogno di determinare il driver appropriato per la scheda. I file <span class=filename>/usr/src/conf/NOTES</span> e <span class=filename>/usr/src/sys/arch/conf/NOTES</span> ti forniranno un elenco di driver per le interfacce di rete con alcune informazioni su chipset/schede supportate. Se hai dubbi su quale sia il driver corretto, leggi la pagina man del driver. La pagina man fornirà ulteriori informazioni sull’hardware supportato ed anche sui possibili problemi che potrebbero capitare.</p></div><div class=paragraph><p>Se sei in possesso di una scheda comune, la maggior parte delle volte non dovrai cercare molto per trovare un driver. I driver per le schede di reti comuni sono presenti nel kernel <span class=filename>GENERIC</span>, quindi la tua scheda dovrebbe presentarsi durante l’avvio, in questo modo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>dc0: &lt;82c169 PNIC 10/100BaseTX&gt; port 0xa000-0xa0ff mem 0xd3800000-0xd38
000ff irq 15 at device 11.0 on pci0
dc0: Ethernet address: 00:a0:cc:da:da:da
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0:  10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
dc1: &lt;82c169 PNIC 10/100BaseTX&gt; port 0x9800-0x98ff mem 0xd3000000-0xd30
000ff irq 11 at device 12.0 on pci0
dc1: Ethernet address: 00:a0:cc:da:da:db
miibus1: &lt;MII bus&gt; on dc1
ukphy1: &lt;Generic IEEE 802.3u media interface&gt; on miibus1
ukphy1:  10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto</code></pre></div></div><div class=paragraph><p>In questo esempio, vediamo che nel sistema sono presenti due schede che usano il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=dc&amp;sektion=4&amp;format=html">dc(4)</a>.</p></div><div class=paragraph><p>Se il driver per la tua NIC non è presente in <span class=filename>GENERIC</span>, dovrai caricare i driver appropriati per usare la tua NIC. Questo dovrà essere fatto in uno di questi due modi:</p></div><div class=ulist><ul><li><p>Il modo più semplice è caricare un modulo del kernel con <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> o caricarlo automaticamente al momento del boot aggiungendo le linee appropriate a <span class=filename>/boot/loader.conf</span>. Non tutti i driver NIC sono disponibili come moduli; esempi notevoli di driver per i quali non esistono moduli sono schede ISA.</p></li><li><p>Alternativamente, puoi compilare staticamente il supporto per la tua scheda nel kernel. Controlla <span class=filename>/usr/src/sys/conf/NOTES</span>, <span class=filename>/usr/src/sys/arch/conf/NOTES</span> e la pagina di manuale del driver per sapere cosa aggiungere nel tuo file di configurazione del kernel. Per maggiori informazioni sul modo di ricompilare il kernel, per favore consulta il <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>. Se la tua scheda era riconosciuta al boot dal tuo kernel (<span class=filename>GENERIC</span>) non devi ricompilare un nuovo kernel.</p></li></ul></div><div class=sect4><h5 id=config-network-ndis>11.8.1.1. Usare driver NDIS Windows®<a class=anchor href=#config-network-ndis></a></h5><div class=paragraph><p>Sfortunatamente, ci sono ancora molti venditori di hardware che non forniscono specifiche dei loro driver alla comunità open source perchè ritengono che tale informazione sia un segreto commerciale. Conseguentemente, gli sviluppatori di FreeBSD e di altri sistemi operativi hanno due scelte: sviluppare i driver con un lungo ed arduo processo di reverse engineering o usare i driver binari disponibili per le piattaforme Microsoft® Windows®. La maggior parte degli sviluppatori, inclusi quelli coinvolti in FreeBSD, ha preso la seconda strada.</p></div><div class=paragraph><p>Grazie al contributo di Bill Paul (wpaul), a partire da FreeBSD 5.3-RELEASE c’è supporto "nativo" per Network Driver Interface Specification (NDIS). Il NDISulator di FreeBSD (anche noto come Progetto Evil) prende un driver binario per Windows® e sostanzialmente crea un inganno fingendo di eseguirlo in Windows®. Poichè il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=ndis&amp;sektion=4&amp;format=html">ndis(4)</a> sta usando un binario Windows®, è usabile solo su sistemi i386™ e amd64.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=ndis&amp;sektion=4&amp;format=html">ndis(4)</a> è designato per supportare principalmente device PCI, CardBus e PCMCIA, i device USB non sono ancora supportati.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per usare il NDISulator, hai bisogno sostanzialmente di tre cose:</p></div><div class="olist arabic"><ol class=arabic><li><p>Sorgenti del kernel</p></li><li><p>binari dei driver di Windows® XP (estensione <span class=filename>.SYS</span>)</p></li><li><p>file di configurazione dei driver per Windows® XP (estensione <span class=filename>.INF</span>)</p></li></ol></div><div class=paragraph><p>Localizza i file per la tua carta specifica. Generalmente, posso essere trovati nel CD incluso o sui siti web dei venditori. Nei seguenti esempi, useremo <span class=filename>W32DRIVER.SYS</span> e <span class=filename>W32DRIVER.INF</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Non puoi usare un driver Windows®/i386 con FreeBSD/amd64, devi trovare un driver Windows®/amd64 per farlo funzionare correttamente.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Il prossimo passo è compilare il binario del driver in un modulo caricabile dal kernel. Per fare questo, come <code>root</code>, usa <a href="https://man.freebsd.org/cgi/man.cgi?query=ndisgen&amp;sektion=8&amp;format=html">ndisgen(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ndisgen /path/to/W32DRIVER.INF /path/to/W32DRIVER.SYS</span></code></pre></div></div><div class=paragraph><p>L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=ndisgen&amp;sektion=8&amp;format=html">ndisgen(8)</a> è interattiva e chiederà altre informazioni di cui necessita; produrrà un modulo del kernel nella presente directory che può essere caricato in questo modo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload ./W32DRIVER.ko</span></code></pre></div></div><div class=paragraph><p>In aggiunta al modulo del kernel generato, devi caricare i moduli <span class=filename>ndis.ko</span> e <span class=filename>if_ndis.ko</span>. Questo dovrebbe avvenire automaticamente quando uno carica un modulo che dipende da <a href="https://man.freebsd.org/cgi/man.cgi?query=ndis&amp;sektion=4&amp;format=html">ndis(4)</a>. Se vuoi caricarli manualmente, usa il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload ndis</span>
<span class=c># kldload if_ndis</span></code></pre></div></div><div class=paragraph><p>Il primo comando carica il wrapper del driver miniport NDIS, il secondo carica l’interfaccia di rete in questione.</p></div><div class=paragraph><p>Ora controlla <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> per vedere se c’era qualche errore durante il caricamento. Se tutto è andato bene, dovresti ottenere dell’output che somiglia a questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ndis0: &lt;Wireless-G PCI Adapter&gt; mem 0xf4100000-0xf4101fff irq 3 at device 8.0 on pci1
ndis0: NDIS API version: 5.0
ndis0: Ethernet address: 0a:b1:2c:d3:4e:f5
ndis0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
ndis0: 11g rates: 6Mbps 9Mbps 12Mbps 18Mbps 36Mbps 48Mbps 54Mbps</code></pre></div></div><div class=paragraph><p>D’ora in poi, puoi trattare il device <span class=filename>ndis0</span> come ogni altra scheda di rete (ad esempio <span class=filename>dc0</span>).</p></div><div class=paragraph><p>Puoi configurare il sistema perché carichi il modulo NDIS al momento del boot nello stesso modo di ogni altro modulo. Per prima cosa, copia il modulo generato <span class=filename>W32DRIVER.ko</span>, nella directory <span class=filename>/boot/modules</span>. Quindi, aggiungi le seguenti linee a <span class=filename>/boot/loader.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>W32DRIVER_load=&#34;YES&#34;</pre></div></div></div></div><div class=sect3><h4 id=_configurazione_della_scheda_di_rete>11.8.2. Configurazione della Scheda di Rete<a class=anchor href=#_configurazione_della_scheda_di_rete></a></h4><div class=paragraph><p>Una volta che il driver giusto per la scheda di rete è stato caricato, la scheda ha bisogno di essere configurata. Come molte altre cose, la scheda di rete potrebbe essere già stata configurata al momento dell’installazione tramite sysinstall.</p></div><div class=paragraph><p>Per mostrare la configurazione delle interfacce di rete sul tuo sistema, immetti il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ifconfig
dc0: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 192.168.1.3 netmask 0xffffff00 broadcast 192.168.1.255
        ether 00:a0:cc:da:da:da
        media: Ethernet autoselect <span class=o>(</span>100baseTX &lt;full-duplex&gt;<span class=o>)</span>
        status: active
dc1: <span class=nv>flags</span><span class=o>=</span>8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 10.0.0.1 netmask 0xffffff00 broadcast 10.0.0.255
        ether 00:a0:cc:da:da:db
        media: Ethernet 10baseT/UTP
        status: no carrier
lp0: <span class=nv>flags</span><span class=o>=</span>8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500
lo0: <span class=nv>flags</span><span class=o>=</span>8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
        inet 127.0.0.1 netmask 0xff000000
tun0: <span class=nv>flags</span><span class=o>=</span>8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1500</code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Vecchie versioni di FreeBSD potrebbero richiedere l’opzione <code>-a</code> dopo <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a>, per maggiori dettagli sulla sintassi corretta di <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a>, fai riferimento alla pagina man. Nota anche che le voci relative all’IPv6 (<code>inet6</code> ecc.) sono state omesse in questo esempio.</p></div></td></tr></tbody></table></div><div class=paragraph><p>In questo esempio, vengono mostrati i seguenti dispositivi:</p></div><div class=ulist><ul><li><p><span class=filename>dc0</span>: La prima interfaccia Ethernet</p></li><li><p><span class=filename>dc1</span>: La seconda interfaccia Ethernet</p></li><li><p><span class=filename>lp0</span>: L’interfaccia della porta parallela</p></li><li><p><span class=filename>lo0</span>: Il dispositivo di loopback</p></li><li><p><span class=filename>tun0</span>: Il dispositivo tunnel usato da ppp</p></li></ul></div><div class=paragraph><p>FreeBSD usa il nome del driver seguito dall’ordine nel quale la scheda è stata rilevata all’avvio del kernel per dare un nome alla scheda di rete. Ad esempio <span class=filename>sis2</span> sarebbe la terza scheda di rete nel sistema che usa il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=sis&amp;sektion=4&amp;format=html">sis(4)</a>.</p></div><div class=paragraph><p>In questo esempio, il dispositivo <span class=filename>dc0</span> è attivo. Gli indicatori chiave sono:</p></div><div class="olist arabic"><ol class=arabic><li><p><code>UP</code> significa che la scheda è pronta e configurata.</p></li><li><p>La scheda ha un indirizzo Internet (<code>inet</code>) (in questo caso <code>192.168.1.3</code>).</p></li><li><p>Ha una maschera di sotto-rete valida (<code>netmask</code>; <code>0xffffff00</code> è lo stesso di <code>255.255.255.0</code>).</p></li><li><p>Ha un indirizzo di broadcast valido (in questo caso, <code>192.168.1.255</code>).</p></li><li><p>L’indirizzo MAC della scheda (<code>ether</code>) è <code>00:a0:cc:da:da:da</code>.</p></li><li><p>La selezione del mezzo fisico è in modalità auto selezione (<code>media: Ethernet autoselect (100baseTX &lt;full-duplex>)</code>). Vediamo che <span class=filename>dc1</span> è stata configurata con un mezzo fisico <code>10baseT/UTP</code>. Per ulteriori informazioni sui tipi di mezzi disponibili per un driver, fai riferimento alla sua pagina man.</p></li><li><p>Lo stato del collegamento (<code>status</code>) è <code>active</code>, ovvero è stata rilevata la portante. Per <span class=filename>dc1</span>, vediamo <code>status: no carrier</code>. Questo è normale quando un cavo Ethernet non è stato inserito nella scheda.</p></li></ol></div><div class=paragraph><p>Se l’output di <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> avesse mostrato qualcosa di simile a:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>dc0: <span class=nv>flags</span><span class=o>=</span>8843&lt;BROADCAST,SIMPLEX,MULTICAST&gt; mtu 1500
                ether 00:a0:cc:da:da:da</code></pre></div></div><div class=paragraph><p>ciò avrebbe indicato che la scheda non era stata ben configurata.</p></div><div class=paragraph><p>Per configurare la tua scheda, avrai bisogno dei privilegi di <code>root</code>. La configurazione della scheda di rete può essere effettuata da riga di comando con <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a>, ma avresti bisogno di farlo ad ogni riavvio del sistema. Il file <span class=filename>/etc/rc.conf</span> è il posto giusto dove scrivere la configurazione della scheda di rete.</p></div><div class=paragraph><p>Apri <span class=filename>/etc/rc.conf</span> con il tuo editor preferito. Avrai bisogno di aggiungere una riga per ogni scheda di rete presente nel sistema, ad esempio nel nostro caso, abbiamo aggiunto queste linee:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_dc0=&#34;inet 192.168.1.3 netmask 255.255.255.0&#34;
ifconfig_dc1=&#34;inet 10.0.0.1 netmask 255.255.255.0 media 10baseT/UTP&#34;</pre></div></div><div class=paragraph><p>Dovrai sostituire <span class=filename>dc0</span>, <span class=filename>dc1</span>, e così via, con i dispositivi corretti per la tua scheda, e gli indirizzi con quelli appropriati. Dovresti leggere le pagine man del driver e di <a href="https://man.freebsd.org/cgi/man.cgi?query=ifconfig&amp;sektion=8&amp;format=html">ifconfig(8)</a> per maggiori dettagli sulle opzioni permesse ed anche la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> per maggiori informazioni sulla sintassi di <span class=filename>/etc/rc.conf</span>.</p></div><div class=paragraph><p>Se hai configurato la rete durante l’installazione, alcune linee relative alle schede di rete potrebbero essere già presenti. Controlla due volte <span class=filename>/etc/rc.conf</span> prima di aggiungere ogni linea.</p></div><div class=paragraph><p>Avrai anche bisogno di modificare il file <span class=filename>/etc/hosts</span> per aggiungere i nomi e gli IP delle varie macchine della LAN, se non sono già lì. Per maggiori informazioni, fai riferimento a <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;format=html">hosts(5)</a> ed a <span class=filename>/usr/shared/examples/etc/hosts</span>.</p></div></div><div class=sect3><h4 id=_verifica_e_risoluzione_dei_problemi>11.8.3. Verifica e Risoluzione dei Problemi<a class=anchor href=#_verifica_e_risoluzione_dei_problemi></a></h4><div class=paragraph><p>Una volta che hai effettuato i cambiamenti necessari a <span class=filename>/etc/rc.conf</span>, dovresti riavviare la macchina. Ciò farà sì che i cambiamenti alle interfacce vengano applicati, e verificherà che il sistema si riavvii senza nessun errore di configurazione.</p></div><div class=paragraph><p>Una volta che il sistema è stato riavviato, dovresti testare le interfacce di rete.</p></div><div class=sect4><h5 id=_test_della_scheda_ethernet>11.8.3.1. Test della Scheda Ethernet<a class=anchor href=#_test_della_scheda_ethernet></a></h5><div class=paragraph><p>Per verificare che una scheda Ethernet sia configurata correttamente, si devono provare due cose. Prima, effettuare un ping verso l’interfaccia stessa, e poi un ping verso un’altra macchina sulla LAN.</p></div><div class=paragraph><p>Prima proviamo l’interfaccia:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ping <span class=nt>-c5</span> 192.168.1.3
PING 192.168.1.3 <span class=o>(</span>192.168.1.3<span class=o>)</span>: 56 data bytes
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>0 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.082 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>1 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.074 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>2 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.076 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>3 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.108 ms
64 bytes from 192.168.1.3: <span class=nv>icmp_seq</span><span class=o>=</span>4 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.076 ms

<span class=nt>---</span> 192.168.1.3 ping statistics <span class=nt>---</span>
5 packets transmitted, 5 packets received, 0% packet loss
round-trip min/avg/max/stddev <span class=o>=</span> 0.074/0.083/0.108/0.013 ms</code></pre></div></div><div class=paragraph><p>Ora dobbiamo effettuare un ping verso un’altra macchina della LAN:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ping <span class=nt>-c5</span> 192.168.1.2
PING 192.168.1.2 <span class=o>(</span>192.168.1.2<span class=o>)</span>: 56 data bytes
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>0 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.726 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>1 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.766 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>2 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.700 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>3 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.747 ms
64 bytes from 192.168.1.2: <span class=nv>icmp_seq</span><span class=o>=</span>4 <span class=nv>ttl</span><span class=o>=</span>64 <span class=nb>time</span><span class=o>=</span>0.704 ms

<span class=nt>---</span> 192.168.1.2 ping statistics <span class=nt>---</span>
5 packets transmitted, 5 packets received, 0% packet loss
round-trip min/avg/max/stddev <span class=o>=</span> 0.700/0.729/0.766/0.025 ms</code></pre></div></div><div class=paragraph><p>Puoi usare il nome della macchina invece di <code>192.168.1.2</code> se hai sistemato il file <span class=filename>/etc/hosts</span>.</p></div></div><div class=sect4><h5 id=_risoluzione_dei_problemi_2>11.8.3.2. Risoluzione dei Problemi<a class=anchor href=#_risoluzione_dei_problemi_2></a></h5><div class=paragraph><p>Risolvere i problemi delle varie configurazioni hardware e software è sempre una faticaccia, ma è una fatica che può essere diminuita controllando da subito le cose semplici. Avete collegato il cavo di rete? Avete configurato i servizi di rete? Avete configurato il firewall correttamente? La scheda di rete che state usando è supportata da FreeBSD? Controllate sempre le note sul vostro hardware prima di inviare un bug report. Aggiornate la vostra versione di FreeBSD all’ultima versione STABLE disponibile. Controllate gli archivi delle mailing list, o magari cercate su Internet.</p></div><div class=paragraph><p>Se la scheda funziona, ma le prestazioni sono scadenti, potrebbe esservi utile la lettura della pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=tuning&amp;sektion=7&amp;format=html">tuning(7)</a>. Potreste anche verificare la vostra configurazione della rete, poichè una configurazione scorretta può essere la causa di connessioni lente.</p></div><div class=paragraph><p>Alcuni utenti riscontrano dei <code>device timeouts</code>, il che è normale per alcune schede. Se questi continuano, o se sono fastidiosi, potreste voler ricontrollare che non ci siano conflitti con altri dispositivi. Controllate due volte la connessione di rete. Forse dovreste procurarvi un’altra scheda.</p></div><div class=paragraph><p>Alcune volte, gli utenti notano alcuni errori <code>watchdog timeout</code>. La prima cosa da fare è controllare il cavo di rete. Alcune schede di rete richiedono uno slot PCI che supporti il Bus Mastering. Su alcune vecchie schede madri, ciò è permesso solo per uno slot PCI (tipicamente lo slot 0). Controllate la documentazione della scheda di rete e della scheda madre per determinare se possa essere quello il problema.</p></div><div class=paragraph><p>Messaggi <code>No route to host</code> vengono generati se il sistema non è in grado di effettuare il routing di un pacchetto verso una certa destinazione. Ciò può accadere se non è specificata una route di default, o se il cavo è scollegato. Controllate l’output di <code>netstat -rn</code> ed assicuratevi che ci sia una route valida per l’host che state cercando di raggiungere. Se non c’è, leggete il <a href=./#advanced-networking>Networking Avanzato</a>.</p></div><div class=paragraph><p>I messaggi d’errore <code>ping: sendto: Permission denied</code> sono spessi causati da un firewall mal configurato. Se <code>ipfw</code> è abilitato nel kernel ma non ci sono regole definite, allora la politica di default è di negare tutto il traffico, comprese le richieste di ping! Leggete il <a href=./#firewalls>Firewall</a> per maggiori informazioni.</p></div><div class=paragraph><p>Talvolta le prestazioni della scheda di rete sono scadenti, o sotto la media. In questi casi è preferibile cambiare la selezione del media da <code>autoselect</code> ad una selezione corretta. Anche se questo sistema funziona con la maggior parte dell’hardware, potrebbe non risolvere il problema per tutti. Ancora una volta, controllate tutte le impostazioni di rete, e leggete la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=tuning&amp;sektion=7&amp;format=html">tuning(7)</a> .</p></div></div></div></div><div class=sect2><h3 id=configtuning-virtual-hosts>11.9. Host Virtuali<a class=anchor href=#configtuning-virtual-hosts></a></h3><div class=paragraph><p>Un uso piuttosto comune di FreeBSD è come hosting di siti virtuali, dove un solo server appare alla rete come molti server distinti. Ciò viene effettuato assegnando indirizzi di rete multipli ad una sola interfaccia.</p></div><div class=paragraph><p>Una data interfaccia di rete ha un solo indirizzo "reale", e può avere un numero qualsiasi di indirizzi "alias". Questi alias vengono normalmente aggiunti mettendo dei campi alias in <span class=filename>/etc/rc.conf</span>.</p></div><div class=paragraph><p>Un campo alias per l’interfaccia <span class=filename>fxp0</span> appare così:</p></div><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0_alias0=&#34;inet xxx.xxx.xxx.xxx netmask xxx.xxx.xxx.xxx&#34;</pre></div></div><div class=paragraph><p>Nota che il campo alias deve iniziare con <code>alias0</code> e aumentare in ordine, (ad esempio, <code>_alias1</code>, <code>_alias2</code>, e così via). Il processo di configurazione si fermerà al primo numero mancante.</p></div><div class=paragraph><p>Il calcolo delle maschere di sotto-rete degli alias è importante, ma, fortunatamente, è anche abbastanza semplice. Per una data interfaccia, deve esserci un indirizzo che rappresenta correttamente la maschera di sotto-rete. Ogni altro indirizzo che ricada in questa rete deve avere una maschera di sotto-rete con tutti <code>1</code> (espressi come <code>255.255.255.255</code> o <code>0xffffffff</code>).</p></div><div class=paragraph><p>Ad esempio, considera il caso in cui l’interfaccia <span class=filename>fxp0</span> sia connessa a due reti, la rete <code>10.1.1.0</code> con maschera di sotto-rete <code>255.255.255.0</code> e la rete <code>202.0.75.16</code> con maschera di sotto-rete <code>255.255.255.240</code>. Vogliamo che il sistema sia visibile come <code>10.1.1.1</code> fino a <code>10.1.1.5</code> e come <code>202.0.75.17</code> fino a <code>202.0.75.20</code>. Come notato sopra, solo il primo indirizzo in un dato range di sotto-rete (in questo caso, <code>10.0.1.1</code> e <code>202.0.75.17</code>) dovrebbe avere una vera netmask; tutto il resto ( <code>10.1.1.2</code> fino a <code>10.1.1.5</code> e <code>202.0.75.18</code> fino a <code>202.0.75.20</code>) dovrebbe essere configurato con una netmask di <code>255.255.255.255</code>.</p></div><div class=paragraph><p>Le seguenti righe configurano il dispositivo correttamente per questo scopo:</p></div><div class="literalblock programlisting"><div class=content><pre> ifconfig_fxp0=&#34;inet 10.1.1.1 netmask 255.255.255.0&#34;
 ifconfig_fxp0_alias0=&#34;inet 10.1.1.2 netmask 255.255.255.255&#34;
 ifconfig_fxp0_alias1=&#34;inet 10.1.1.3 netmask 255.255.255.255&#34;
 ifconfig_fxp0_alias2=&#34;inet 10.1.1.4 netmask 255.255.255.255&#34;
 ifconfig_fxp0_alias3=&#34;inet 10.1.1.5 netmask 255.255.255.255&#34;
 ifconfig_fxp0_alias4=&#34;inet 202.0.75.17 netmask 255.255.255.240&#34;
 ifconfig_fxp0_alias5=&#34;inet 202.0.75.18 netmask 255.255.255.255&#34;
 ifconfig_fxp0_alias6=&#34;inet 202.0.75.19 netmask 255.255.255.255&#34;
 ifconfig_fxp0_alias7=&#34;inet 202.0.75.20 netmask 255.255.255.255&#34;</pre></div></div></div><div class=sect2><h3 id=configtuning-configfiles>11.10. File di Configurazione<a class=anchor href=#configtuning-configfiles></a></h3><div class=sect3><h4 id=_struttura_di_etc>11.10.1. Struttura di <span class=filename>/etc</span><a class=anchor href=#_struttura_di_etc></a></h4><div class=paragraph><p>Ci sono molte directory nelle quali vengono tenute le informazioni di configurazione. Tra queste ci sono:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Informazioni generiche sulla configurazione del sistema; questi dati sono specifici del sistema.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/defaults</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Versioni di default dei file di configurazione del sistema.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Configurazioni extra di <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a>, o file di configurazione di altri MTA.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/ppp</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Configurazione ppp sia per i programmi a livello utente che a livello kernel.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/namedb</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Posizione predefinita per i dati di <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a>. Normalmente qui si trova <span class=filename>named.conf</span> insieme ai file di zona.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/local/etc</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione per le applicazioni installate. Può contenere sottodirectory.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/local/etc/rc.d</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Script start/stop per i programmi installati.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/var/db</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di dati specifici del sistema generati automaticamente, come il database dei package, il database di locate, e così via.</p></td></tr></tbody></table></div><div class=sect3><h4 id=_nomi_degli_host>11.10.2. Nomi degli Host<a class=anchor href=#_nomi_degli_host></a></h4><div class=sect4><h5 id=_etcresolv_conf>11.10.2.1. <span class=filename>/etc/resolv.conf</span><a class=anchor href=#_etcresolv_conf></a></h5><div class=paragraph><p><span class=filename>/etc/resolv.conf</span> detta il modo in cui il sistema di risoluzione dei nomi di FreeBSD accede al DNS (Internet Domain Name System).</p></div><div class=paragraph><p>I campi più comuni in <span class=filename>resolv.conf</span> sono:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>nameserver</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’indirizzo IP di un name server al quale dovrà rivolgersi il sistema di risoluzione. I server vengono interrogati nell’ordine in cui sono elencati, fino a un massimo di tre.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>search</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lista di ricerca per i nomi degli host. Normalmente questo viene determinato dal dominio dell’host locale.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>domain</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il nome del dominio locale.</p></td></tr></tbody></table><div class=paragraph><p>Un <span class=filename>resolv.conf</span> tipico:</p></div><div class="literalblock programlisting"><div class=content><pre>search example.com
nameserver 147.11.1.11
nameserver 147.11.100.30</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Si dovrebbe usare solo una tra le due opzioni <code>search</code> e <code>domain</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se stai usando DHCP, <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a> generalmente sovrascriverà <span class=filename>resolv.conf</span> con le informazioni ricevute dal server DHCP.</p></div></div><div class=sect4><h5 id=_etchosts>11.10.2.2. <span class=filename>/etc/hosts</span><a class=anchor href=#_etchosts></a></h5><div class=paragraph><p><span class=filename>/etc/hosts</span> è un semplice database testuale, reminiscenza della vecchia rete Internet. Esso lavora in congiunzione con DNS e NIS fornendo una mappatura da nome a indirizzo IP. Computer locali connessi ad una LAN possono essere messi in questo file per una gestione semplice dei nomi, invece di mettere su un server <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a>. Inoltre, <span class=filename>/etc/hosts</span> può essere usato per fornire un registro locale dei nomi di Internet, riducendo la necessità di effettuare richieste esternamente per i nomi ad accesso frequente.</p></div><div class="literalblock programlisting"><div class=content><pre># $FreeBSD$
#
# Host Database
# Questo file dovrebbe contenere gli indirizzi e gli alias
# per gli host locali che condividono questo file.
# In presenza di DNS o NIS, questo file potrebbe non essere consultato affatto;
# guarda /etc/nsswitch.conf per l&#39;ordine di risoluzione.
#
#
::1                     localhost localhost.my.domain myname.my.domain
127.0.0.1               localhost localhost.my.domain myname.my.domain

#
# Rete immaginaria.
#10.0.0.2               myname.my.domain myname
#10.0.0.3               myfriend.my.domain myfriend
#
# In accordo all&#39;RFC 1918, puoi usare le seguenti classi di IP per reti private
# che non verranno mai connesse ad Internet:
#
#       10.0.0.0        -   10.255.255.255
#       172.16.0.0      -   172.31.255.255
#       192.168.0.0     -   192.168.255.255
#
# In caso volessi essere in grado di collegarti ad Internet, avrai bisogno
# di veri numeri ufficiali assegnati.  PER FAVORE PER FAVORE PER FAVORE
# non tentare di inventarti i numeri della tua rete ma fattene assegnare
# uno dal tuo provider (se ne hai uno) o dall&#39;Internet Registry (ftp su
# rs.internic.net, directory `/templates&#39;).
#</pre></div></div><div class=paragraph><p><span class=filename>/etc/hosts</span> accetta il semplicissimo formato:</p></div><div class="literalblock programlisting"><div class=content><pre>[Indirizzo Internet ] [nome host ufficiale] [alias1] [alias2] ...</pre></div></div><div class=paragraph><p>Ad esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>10.0.0.1 myRealHostname.example.com myRealHostname foobar1 foobar2</pre></div></div><div class=paragraph><p>Consulta <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;format=html">hosts(5)</a> per maggiori informazioni.</p></div></div></div><div class=sect3><h4 id=_configurazione_dei_file_di_log>11.10.3. Configurazione dei File di Log<a class=anchor href=#_configurazione_dei_file_di_log></a></h4><div class=sect4><h5 id=_syslog_conf>11.10.3.1. <span class=filename>syslog.conf</span><a class=anchor href=#_syslog_conf></a></h5><div class=paragraph><p><span class=filename>syslog.conf</span> è il file di configurazione per il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=syslogd&amp;sektion=8&amp;format=html">syslogd(8)</a>. Indica quale tipo di messaggi <code>syslog</code> verranno scritti su ogni file di log.</p></div><div class="literalblock programlisting"><div class=content><pre># $FreeBSD$
#
#       Gli spazi SONO validi separatori dei campi in questo file. Ad ogni modo,
#       altri sistemi *nix-like insistono ancora nell&#39;usare tab come separatori
#       di campo. Se condividi questo file tra più sistemi, potresti
#       voler usare solo dei tab come separatori.
#       Consulta la pagina man di syslog.conf(5).
*.err;kern.debug;auth.notice;mail.crit          /dev/console
*.notice;kern.debug;lpr.info;mail.crit;news.err /var/log/messages
security.*                                      /var/log/security
mail.info                                       /var/log/maillog
lpr.info                                        /var/log/lpd-errs
cron.*                                          /var/log/cron
*.err                                           root
*.notice;news.err                               root
*.alert                                         root
*.emerg                                         *
# togli il commento a questo per loggare tutte le scritture su /dev/console
# in /var/log/console.log
#console.info                                   /var/log/console.log
# togli il commento a questo per abilitare il logging di tutti i messaggi di log
# su /var/log/all.log
#*.*                                            /var/log/all.log
# togli il commento a questo per abilitare il logging su un host remoto di nome
# loghost
#*.*                                            @loghost
# togli i commenti a questi se hai inn in funzione
# news.crit                                     /var/log/news/news.crit
# news.err                                      /var/log/news/news.err
# news.notice                                   /var/log/news/news.notice
!startslip
*.*                                             /var/log/slip.log
!ppp
*.*                                             /var/log/ppp.log</pre></div></div><div class=paragraph><p>Consulta la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5&amp;format=html">syslog.conf(5)</a> per maggiori informazioni.</p></div></div><div class=sect4><h5 id=_newsyslog_conf>11.10.3.2. <span class=filename>newsyslog.conf</span><a class=anchor href=#_newsyslog_conf></a></h5><div class=paragraph><p><span class=filename>newsyslog.conf</span> è il file di configurazione di <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a>, un programma che normalmente viene eseguito da <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>. <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a> determina quando i file di log richiedono un’archiviazione o un riordinamento. <span class=filename>logfile</span> viene rinominato in <span class=filename>logfile.0</span>, <span class=filename>logfile.0</span> in <span class=filename>logfile.1</span> e così via. Alternativamente, i file potranno essere archiviati in formato <a href="https://man.freebsd.org/cgi/man.cgi?query=gzip&amp;sektion=1&amp;format=html">gzip(1)</a>, e quindi diventeranno: <span class=filename>logfile.0.gz</span>, <span class=filename>logfile.1.gz</span>, e così via.</p></div><div class=paragraph><p><span class=filename>newsyslog.conf</span> indica quali file di log devono essere gestiti, quanti devono essere mantenuti, e quando devono essere toccati. I file di log possono essere riordinati e/o archiviati quando raggiungono una certa dimensione, o a una certa data/ora periodica.</p></div><div class="literalblock programlisting"><div class=content><pre># file di configurazione per newsyslog
# $FreeBSD$
#
# filename          [owner:group]    mode count size when [ZB] [/pid_file] [sig_num]
/var/log/cron                           600  3     100  *     Z
/var/log/amd.log                        644  7     100  *     Z
/var/log/kerberos.log                   644  7     100  *     Z
/var/log/lpd-errs                       644  7     100  *     Z
/var/log/maillog                        644  7     *    @T00  Z
/var/log/sendmail.st                    644  10    *    168   B
/var/log/messages                       644  5     100  *     Z
/var/log/all.log                        600  7     *    @T00  Z
/var/log/slip.log                       600  3     100  *     Z
/var/log/ppp.log                        600  3     100  *     Z
/var/log/security                       600  10    100  *     Z
/var/log/wtmp                           644  3     *    @01T05 B
/var/log/daily.log                      640  7     *    @T00  Z
/var/log/weekly.log                     640  5     1    $W6D0 Z
/var/log/monthly.log                    640  12    *    $M1D0 Z
/var/log/console.log                    640  5     100  *     Z</pre></div></div><div class=paragraph><p>Consulta la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;format=html">newsyslog(8)</a> per maggiori informazioni.</p></div></div></div><div class=sect3><h4 id=configtuning-sysctlconf>11.10.4. <span class=filename>sysctl.conf</span><a class=anchor href=#configtuning-sysctlconf></a></h4><div class=paragraph><p><span class=filename>sysctl.conf</span> assomiglia molto a <span class=filename>rc.conf</span>. I valori vengono impostati nella forma <code>variabile=valore</code>. I valori specificati vengono impostati dopo che il sistema è entrato in modalità multiutente. Non tutte le variabili sono gestibili in questo modo.</p></div><div class=paragraph><p>Per disabilitare il log sulle uscite dei processi per segnale fatale ed impedire agli utenti di vedere che i processi sono avviati con altre utenze, puoi settare in <span class=filename>sysctl.conf</span> la riga seguente:</p></div><div class="literalblock programlisting"><div class=content><pre># Do not log fatal signal exits (e.g. sig 11)
kern.logsigexit=0

# Prevent users from seeing information about processes that
# are being run under another UID.
security.bsd.see_other_uids=0</pre></div></div></div></div><div class=sect2><h3 id=configtuning-sysctl>11.11. Messa a Punto con sysctl<a class=anchor href=#configtuning-sysctl></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> è un’interfaccia che permette di effettuare cambiamenti ad un sistema FreeBSD già attivo. Questo include molte opzioni avanzate dello stack TCP/IP e del sistema di memoria virtuale che possono permettere di migliorare drammaticamente le prestazioni ad un sistemista che abbia esperienza. Più di cinquecento variabili di sistema possono essere lette e modificate usando <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>.</p></div><div class=paragraph><p>In sostanza, <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> serve a due cose: a leggere e a modificare le impostazioni di sistema.</p></div><div class=paragraph><p>Per visualizzare tutte le variabili leggibili:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sysctl <span class=nt>-a</span></code></pre></div></div><div class=paragraph><p>Per leggere una particolare variabile, ad esempio, <code>kern.maxproc</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sysctl kern.maxproc
kern.maxproc: 1044</code></pre></div></div><div class=paragraph><p>Per impostare una particolare variabile, usa l’intuitiva sintassi <em>variabile</em>=<em>valore</em>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl kern.maxfiles=5000</span>
kern.maxfiles: 2088 -&gt; 5000</code></pre></div></div><div class=paragraph><p>I valori validi per le variabili di sysctl sono generalmente o stringhe, o numeri, o valori booleani (un valore booleano può valere <code>1</code> per sì o <code>0</code> per no).</p></div><div class=paragraph><p>Se vuoi settare in modo automatico alcune variabile ad ogni avvio della macchina, usa il file <span class=filename>/etc/sysctl.conf</span>. Per maggiori informazioni guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl.conf&amp;sektion=5&amp;format=html">sysctl.conf(5)</a> e la <a href=#configtuning-sysctlconf><span class=filename>sysctl.conf</span></a>.</p></div><div class=sect3><h4 id=sysctl-readonly>11.11.1. <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> in sola lettura<a class=anchor href=#sysctl-readonly></a></h4><div class=paragraph><p>In alcuni casi può essere desiderabile modificare i valori di <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> in sola lettura. Anche se questo talvolta è inevitabile, può essere fatto solo con un riavvio.</p></div><div class=paragraph><p>Ad esempio in alcuni modelli di laptop il dispositivo <a href="https://man.freebsd.org/cgi/man.cgi?query=cardbus&amp;sektion=4&amp;format=html">cardbus(4)</a> non effettuerà il controllo sugli intervalli di memoria, e fallirà con errori che assomigliano a questi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>cbb0: Could not map register memory
device_probe_and_attach: cbb0 attach returned 12</code></pre></div></div><div class=paragraph><p>Casi come il precedente richiedono tipicamente la modifica di alcuni valori predefiniti di <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> che sono impostati come sola lettura. Per superare queste situazioni un utente può mettere degli "OID" di <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a> nel proprio <span class=filename>/boot/loader.conf.local</span>. I valori predefiniti sono indicati nel file <span class=filename>/boot/defaults/loader.conf</span>.</p></div><div class=paragraph><p>Per risolvere i problemi menzionati qui sopra sarà necessario modificare <code>hw.pci.allow_unsupported_io_range=1</code> nel file suddetto. Ora <a href="https://man.freebsd.org/cgi/man.cgi?query=cardbus&amp;sektion=4&amp;format=html">cardbus(4)</a> funzionerà correttamente.</p></div></div></div><div class=sect2><h3 id=configtuning-disk>11.12. Messa a Punto dei Dischi<a class=anchor href=#configtuning-disk></a></h3><div class=sect3><h4 id=_variabili_sysctl>11.12.1. Variabili Sysctl<a class=anchor href=#_variabili_sysctl></a></h4><div class=sect4><h5 id=_vfs_vmiodirenable>11.12.1.1. <code>vfs.vmiodirenable</code><a class=anchor href=#_vfs_vmiodirenable></a></h5><div class=paragraph><p>La variabile sysctl <code>vfs.vmiodirenable</code> può essere impostata a 0 (inattivo) o 1 (attivo); di default è 1. Questa variabile controlla il modo in cui le directory vengono messe nella cache dal sistema. La maggior parte delle directory sono piccole, e usano solo un singolo frammento (tipicamente 1 K) nel file system e meno (tipicamente 512 byte) nella cache. Con questa variabile impostata a 0, il buffer manterrà soltanto un numero fissato di directory nella cache anche se hai una quantità enorme di memoria. Attivando questa sysctl si permette al buffer di usare la VM Page Cache per immagazzinare le directory, rendendo disponibile tutta la memoria disponibile per il caching delle directory. In ogni caso, la minima quantità di memoria usata per memorizzare una directory sarà la dimensione della pagina fisica (in genere 4 K) invece di 512 byte. Noi consigliamo di attivare questa opzione se si hanno in esecuzione dei servizi che manipolano un grosso numero file. Servizi di questo tipo sono le cache web, i grandi sistemi di posta, e quelli di news. Attivare questa opzione in generale non ridurrà le prestazioni nonostante la memoria sprecata, ma dovresti sperimentare tu stesso per verificare.</p></div></div><div class=sect4><h5 id=_vfs_write_behind>11.12.1.2. <code>vfs.write_behind</code><a class=anchor href=#_vfs_write_behind></a></h5><div class=paragraph><p>La variabile sysctl <code>vfs.write_behind</code> ha il valore predefinito di <code>1</code> (attivo). Essa dice al file system di effettuare le scritture sul media quando vengono raccolti cluster completi, il che accade tipicamente quando si scrivono grossi file sequenziali. L’idea è di evitare la saturazione del buffer cache con buffer "sporchi" quando le prestazioni dell’I/O non ne trarrebbero giovamento. Ad ogni modo, questo può causare uno stallo dei processi, ed in alcune circostanze potreste desiderare di disabilitarlo.</p></div></div><div class=sect4><h5 id=_vfs_hirunningspace>11.12.1.3. <code>vfs.hirunningspace</code><a class=anchor href=#_vfs_hirunningspace></a></h5><div class=paragraph><p>La variabile sysctl <code>vfs.hirunningspace</code> determina quanto grande deve essere la coda I/O in tutti i controller dei dischi nel sistema in un dato momento. Il valore predefinito in genere è sufficiente ma su macchine con molti dischi potreste voler aumentarlo a quattro o cinque <em>megabyte</em>. Notate che impostandolo ad un valore troppo alto (superando i limiti della cache) potreste avere delle performance peggiori. Non impostate un valore troppo alto arbitrariamente! Valori più alti aumentano la latenza nelle letture contemporanee.</p></div><div class=paragraph><p>Ci sono altre sysctl relative alla buffer-cache ed alle cache delle pagine VM. Non vi consigliamo di cambiare questi valori, il sistema di VM fa già un ottimo lavoro di messa a punto automatica.</p></div></div><div class=sect4><h5 id=_vm_swap_idle_enabled>11.12.1.4. <code>vm.swap_idle_enabled</code><a class=anchor href=#_vm_swap_idle_enabled></a></h5><div class=paragraph><p>La variabile sysctl <code>vm.swap_idle_enabled</code> è utile in grossi sistemi multiutente dove si hanno molti utenti che entrano ed escono lasciando molti processi inattivi. Questi sistemi tendono a generare un grande pressione sulle riserve di memoria libera. Attivando questa caratteristica e manipolando l’isteresi di swap (in secondi di inattività) tramite <code>vm.swap_idle_threshold1</code> e <code>vm.swap_idle_threshold2</code> potete abbassare la priorità delle pagine di memoria associate con i processi inattivi più velocemente che con il normale algoritmo di paginazione. Ciò dà una mano al demone di paginazione. Non attivate questa opzione a meno che non ne abbiate bisogno, poichè il compromesso che state accettando è essenzialmente di pre-paginare la memoria in anticipo piuttosto che in ritardo, consumando dunque più swap e banda di trasmissione verso il disco. In un piccolo sistema questa opzione avrà un effetto ridotto ma in un grosso sistema che è già sottoposto a un moderato carico di paginazione questa opzione permette al sistema VM di spostare facilmente interi processi dentro e fuori la memoria.</p></div></div><div class=sect4><h5 id=_hw_ata_wc>11.12.1.5. <code>hw.ata.wc</code><a class=anchor href=#_hw_ata_wc></a></h5><div class=paragraph><p>FreeBSD 4.3 ha giocato un pò con l’idea di disattivare il caching IDE in scrittura. Questo ha ridotto la larghezza di banda in scrittura verso i dischi IDE ma è stato considerato necessario a causa di gravi problemi di consistenza dei dati introdotti dai venditori di dischi rigidi. Il problema è che il disco IDE rimane inattivo dopo che una scrittura è stata completata. Con il caching in scrittura attivo, i dischi IDE non scrivono soltanto i dati sui dischi in maniera disordinata, ma talvolta rimandano la scrittura indefinitamente sotto carichi di lavoro del disco pesanti. Un crash o un calo di tensione possono condurre a seri problemi di corruzione del file system. L’impostazione predefinita di FreeBSD fu cambiata in favore della sicurezza. Sfortunatamente, il risultato è stato una perdita di prestazioni talmente tremenda che abbiamo dovuto reinserire il caching in scrittura di default dopo quella release. Dovresti verificare il valore di default sul tuo sistema osservando la variabile sysctl <code>hw.ata.wc</code>. Se il caching IDE in scrittura è disattivato, potete attivarlo reimpostando la variabile del kernel a 1. Questo dovrebbe essere effettuato dal boot loader all’avvio. Tentare di effettuare questo cambiamento dopo che il kernel è stato avviato non avrà nessun effetto.</p></div><div class=paragraph><p>Per maggiori informazioni, guarda <a href="https://man.freebsd.org/cgi/man.cgi?query=ata&amp;sektion=4&amp;format=html">ata(4)</a>.</p></div></div><div class=sect4><h5 id=_scsi_delay_kern_cam_scsi_delay>11.12.1.6. <code>SCSI_DELAY</code> (<code>kern.cam.scsi_delay</code>)<a class=anchor href=#_scsi_delay_kern_cam_scsi_delay></a></h5><div class=paragraph><p>La configurazione del kernel <code>SCSI_DELAY</code> può ridurre il tempo di avvio del sistema. I valori di default sono piuttosto alti e possono essere responsabili anche di <code>15</code> secondi di ritardo nel processo di avvio. Ridurre il valore a <code>5</code> secondi funziona in molti casi (specialmente con i dispositivi moderni). Nuove versioni di FreeBSD (5.0 e superiori) dovrebbero essere in grado di usare <code>kern.cam.scsi_delay</code> come un’opzione da boot. Quest’ultima e l’opzione di configurazione del kernel accettano valori in <em>millisecondi</em> , e <em>non</em> in <em>secondi</em>.</p></div></div></div><div class=sect3><h4 id=soft-updates>11.12.2. Soft Update<a class=anchor href=#soft-updates></a></h4><div class=paragraph><p>Il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=tunefs&amp;sektion=8&amp;format=html">tunefs(8)</a> può essere usato per mettere a punto con accuratezza un file system. Questo programma ha molte opzioni differenti, ma per ora noi ci preoccuperemo solo di attivare e disattivare i Soft Update, che verrà effettuato tramite:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tunefs -n enable /filesystem</span>
<span class=c># tunefs -n disable /filesystem</span></code></pre></div></div><div class=paragraph><p>Un file system non potrà essere modificato con <a href="https://man.freebsd.org/cgi/man.cgi?query=tunefs&amp;sektion=8&amp;format=html">tunefs(8)</a> mentre è montato. Un buon momento per attivare i Soft Update è prima che le partizioni siano montate, in modalità singolo utente.</p></div><div class=paragraph><p>I Soft Update migliorano drasticamente le prestazioni dei meta-dati, principalmente la creazione e la cancellazione di file, attraverso l’uso di una memoria cache. Consigliamo di attivare i Soft Update su tutti i file system. Ci sono due lati negativi relativi ai Soft Update dei quali dovresti essere a conoscenza: primo, i Soft Update garantiscono la consistenza del file system in caso di crash ma è più che probabile che passino molti secondi (anche un minuto!) prima che venga aggiornato fisicamente il disco. Se il sistema va in crash potresti perdere molto più lavoro in questo modo. Secondo, i Soft Update rallentano la liberazione dei blocchi liberi del file system. Se hai un file system (come il file system root) che è quasi pieno, la realizzazione di un grosso aggiornamento, come un <code>make installworld</code>, potrebbe essere causa di un superamento dei limiti di spazio del file system e di un fallimento dell’aggiornamento.</p></div><div class=sect4><h5 id=_maggiori_dettagli_sui_soft_update>11.12.2.1. Maggiori Dettagli sui Soft Update<a class=anchor href=#_maggiori_dettagli_sui_soft_update></a></h5><div class=paragraph><p>Ci sono due approcci tradizionalmente nella scrittura dei meta-dati del file system su disco. (Gli aggiornamenti dei meta-dati sono aggiornamenti ai dati che non sono contenuto, come gli inode o le directory.)</p></div><div class=paragraph><p>Storicamente, il comportamento predefinito era di scrivere gli aggiornamenti dei meta-dati in maniera sincrona. Se una directory veniva modificata, il sistema attendeva finchè il cambiamento venisse effettivamente scritto su disco. I buffer con i dati dei file (i contenuti dei file) venivano passati attraverso la cache e salvati su disco in seguito, in maniera asincrona. Il vantaggio di questa implementazione è che avviene in maniera sicura. Se si verifica un problema durante un aggiornamento, i meta-dati sono sempre in uno stato consistente. Un file viene creato completamente o non viene creato affatto. Se i blocchi dati di un file non sono riusciti ad uscire dalla cache e arrivare al disco prima del crash, <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> è in grado di capirlo e riparare il file system impostando a zero la lunghezza del file. Inoltre, l’implementazione è chiara e semplice. Lo svantaggio è che i cambiamenti dei meta-dati sono lenti. Un <code>rm -r</code>, ad esempio, tocca tutti i file in una directory consecutivamente, ma ogni cambiamento della directory (la cancellazione del file) verrà scritto su disco in maniera sincrona. Questo include gli aggiornamenti alla directory stessa, alla tabella degli inode, e magari anche ai blocchi indiretti allocati dal file. Simili considerazioni si applicano nell’elenco di grosse gerarchie (<code>tar -x</code>).</p></div><div class=paragraph><p>Il secondo caso è l’aggiornamento asincrono dei meta-dati. Questo è il comportamento predefinito per Linux/ext2fs e <code>mount -o async</code> per *BSD/ufs. Anche tutti gli aggiornamenti dei meta-dati vengono semplicemente fatti passare attraverso la cache, cioè vengono mescolati con gli aggiornamenti dei dati contenuti nel file. Il vantaggio di questa implementazione è che non c’è bisogno di attendere che ogni aggiornamento dei meta-dati venga scritto su disco, dunque tutte le operazioni che causano enormi quantità di aggiornamenti dei meta-dati lavorano molto più velocemente che nel caso sincrono. Inoltre, l’implementazione è ancora semplice e chiara, dunque c’è un basso rischio che si annidino dei bug nel codice. Lo svantaggio è che non c’è nessuna garanzia di uno stato consistente del file system. Se si verifica un problema durante un’operazione che ha aggiornato grandi quantità di meta-dati (ad esempio un abbassamento di tensione, o qualcuno che preme il tasto reset), il file system verrà lasciato in uno stato imprevedibile. Non c’è opportunità di esaminare lo stato del file system quando il sistema viene riavviato; i blocchi dati di un file potrebbero essere già stati scritti sul disco mentre gli aggiornamenti della tabella degli inode o la directory associata non lo sono. È praticamente impossibile implementare un <code>fsck</code> che sia in grado di ripulire il caos risultante (perchè i dati necessari non sono disponibili sul disco). Se il file system è stato danneggiato più del riparabile, la sola scelta è di usare <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> per ricrearlo e recuperarlo da un backup.</p></div><div class=paragraph><p>La soluzione comune di questo problema era implementare <em>la registrazione delle regioni sporche</em>, a cui spesso si fa riferimento come <em>journaling</em>, anche se questo termine non viene usato coerentemente e talvolta viene applicato ad altre forme di logging delle transazioni. Gli aggiornamenti dei meta-dati sono ancora scritti in maniera sincrona, ma solo in una piccola regione del disco. In seguito vengono spostati nella posizione appropriata. Poichè l’area di registrazione è una piccola regione contigua sul disco, non ci sono lunghe distanze da percorrere per le testine del disco, anche durante le operazioni pesanti, dunque queste operazioni sono più veloci degli aggiornamenti sincroni. Inoltre la complessità dell’implementazione è piuttosto limitata, dunque il rischio che si presentino dei bug è basso. Uno svantaggio è che tutti i meta-dati vengono scritti due volte (una volta nella regione di logging ed un’altra nella posizione appropriata) e quindi per un lavoro normale si può avere un "peggioramento" delle prestazioni. D’altro canto, in caso di crash, tutte le operazioni sui meta-dati in sospeso possono essere velocemente annullate o recuperate dall’area di registrazione quando il sistema è di nuovo attivo, e come risultato si ha un avvio veloce del file system.</p></div><div class=paragraph><p>Kirk McKusick, lo sviluppatore del Berkeley FFS, ha risolto questo problema con i Soft Update: tutti gli aggiornamenti dei meta-dati vengono tenuti in memoria e vengono scritti su disco in sequenza ordinata ("aggiornamenti ordinati dei meta-dati"). Ciò porta all’effetto che, in caso di operazioni pesanti sui meta-dati, gli ultimi aggiornamenti ad un elemento "recuperano" i precedenti se questi sono ancora in memoria e non sono già stati scritti su disco. Dunque tutte le operazioni, diciamo su una directory, vengono effettuate principalmente in memoria prima che l’aggiornamento sia scritto su disco (i blocchi dei dati vengono ordinati in relazione alla loro posizione, in modo che non vengano scritti su disco prima dei loro meta-dati). Se il sistema va in crash, ciò causa un implicito "riavvolgimento del log": tutte le operazioni che non hanno ancora trovato posto sul disco appariranno come mai effettuate. Viene mantenuto uno stato consistente del file system che sarà quello di 30 o 60 secondi prima. L’algoritmo usato garantisce anche che tutte le risorse in uso siano marcate come tali nelle appropriate tabelle di bit: blocchi e inode. Dopo un crash, il solo errore di allocazione è che vengono marcate come "usate" anche risorse che sono effettivamente "libere". <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> riconosce questa situazione, e libera le risorse che non sono più in uso. Non c’è pericolo nell’ignorare lo stato di <em>sporcizia</em> del file system dopo un crash montandolo di forza con <code>mount -f</code>. Per poter liberare le risorse che potrebbero essere non usate, <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> ha bisogno di essere avviato in seguito. Questa è l’idea di un <em>fsck in background</em>: all’avvio del sistema, viene registrata solo una <em>immagine</em> del file system. <code>fsck</code> può essere eseguito in seguito. Tutti i file system possono essere montati "sporchi", quindi il processo di avvio del sistema procede in modalità multiutente. In seguito, <code>fsck</code> viene avviato in background su tutti i file system dove è necessario, per liberare le risorse che potrebbero essere inutilizzate. (I file system che non usano i Soft Updates hanno ancora bisogno del solito <code>fsck</code>, comunque.)</p></div><div class=paragraph><p>Il vantaggio è che le operazioni sui meta-dati sono veloci quasi come gli aggiornamenti asincroni (cioè più veloci che con il <em>logging</em>, che deve scrivere i meta-dati due volte). Gli svantaggi sono nella complessità del codice (che implica un maggiore rischio di trovare bug in un’area molto sensibile, essendo legata alla perdita dei dati degli utenti), ed un consumo di memoria maggiore. Inoltre ci sono alcune idiosincrasie alle quali ci si deve abituare. Dopo un crash, lo stato del file system appare in qualche modo "vecchio". In situazioni dove l’approccio sincrono avrebbe causato la permanenza di alcuni file di lunghezza zero dopo un <code>fsck</code>, questi file non esistono affatto con un file system con Soft Update, perchè nè i meta-dati nè i contenuti dei file sono mai stati scritti su disco. Lo spazio su disco non viene rilasciato finchè gli aggiornamenti non sono stati scritti su disco, il che può avvenire qualche tempo dopo che è stato eseguito <code>rm</code>. Questo potrebbe causare problemi durante l’installazione di grandi quantità di dati su un file system che non avesse abbastanza spazio per contenere tutti i file due volte.</p></div></div></div></div><div class=sect2><h3 id=configtuning-kernel-limits>11.13. Messa a Punto dei Limiti del Kernel<a class=anchor href=#configtuning-kernel-limits></a></h3><div class=sect3><h4 id=file-process-limits>11.13.1. Limiti dei File/Processi<a class=anchor href=#file-process-limits></a></h4><div class=sect4><h5 id=kern-maxfiles>11.13.1.1. <code>kern.maxfiles</code><a class=anchor href=#kern-maxfiles></a></h5><div class=paragraph><p><code>kern.maxfiles</code> può essere aumentato o abbassato a seconda dei requisiti del tuo sistema. Questa variabile indica il numero massimo di descrittori di file sul tuo sistema. Quando la tabella dei descrittori di file è piena, apparirà ripetutamente la scritta <code>file: table is full</code> nel buffer dei messaggi di sistema, che può essere visualizzato con il comando <code>dmesg</code>.</p></div><div class=paragraph><p>Ogni file, socket, o fifo aperta usa un descrittore di file. Un server di produzione di larga scala può richiedere facilmente molte migliaia di descrittori di file, in relazione al tipo e al numero di servizi in esecuzione insieme.</p></div><div class=paragraph><p>Nelle vecchie release di FreeBSD, il valore predefinito di <code>kern.maxfile</code> viene dettato dall’opzione <code>maxusers</code> nel file di configurazione del kernel. <code>kern.maxfiles</code> cresce proporzionalmente al valore di <code>maxusers</code>. Quando si compila un kernel personalizzato, è una buona idea impostare questa opzione di configurazione del kernel in base agli usi del proprio sistema. Da questo numero, dipendono molti dei limiti predefiniti del kernel. Anche se una macchina in produzione potrebbe non avere effettivamente 256 utenti connessi contemporaneamente, le risorse necessarie potrebbero essere simili a quelle di un server web su larga scala.</p></div><div class=paragraph><p>A partire da FreeBSD 4.5, <code>kern.maxusers</code> è automaticamente dimensionato sulla base della memoria disponibile nel sistema, e può essere determinato a run-time leggendo il valore del sysctl read-only <code>kern.maxusers</code>. Alcuni siti richiedono valori minori o maggiori di <code>kern.maxusers</code> e questo può essere impostato come un parametro modificabile dal loader; valori di 64, 128 o 256 non sono fuori dal comune. Non raccomandiamo di andare oltre i 256 a meno che non si necessiti di un numero esagerato di file descriptor; molti dei valori modificati nel loro default da <code>kern.maxusers</code> possono essere singolarmente sovrascritti a boot-time o a run-time in <span class=filename>/boot/loader.conf</span> (leggi la pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a> o il file <span class=filename>/boot/defaults/loader.conf</span> per alcuni suggerimenti) o come descritto altrove in questo documento. Sistemi precedenti a FreeBSD 4.4 devono invece impostare questo valore attraverso l’opzione di <a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a> <code>maxusers</code>.</p></div><div class=paragraph><p>Nelle release precedenti, il sistema setterà in modo automatico <code>maxusers</code> se lo imposti a <code>0</code>. Quando usi quest’opzione, impostalo almeno a 4, specialmente se stai usando il sistema a finestre X o se compili software. Questo è dovuto al fatto che la tabella più importante settata da <code>maxusers</code> è quella relativa al numero massimo di processi, risultato di <code>20 + 16 * maxusers</code>, e quindi se setti <code>maxusers</code> a 1, puoi avere solo 36 processi in modo simultaneo, inclusi i 18 o più di avvio del sistema e i 15 o più che verranno creati all’avvio del sistema a finestre X. Perfino una semplice attività come la lettura di una pagina man avvia fino a 9 processi per filtrare, decomprimere, e visualizzare la pagina. Settando <code>maxusers</code> a 64 avrai fino a 1044 processi simultanei, che dovrebbero essere sufficienti per quasi tutti gli utenti. Ad ogni modo, se vedi il temuto errore quando tenti di avviare un programma, o se stai usando un server con molti utenti simultanei (come <code>ftp.FreeBSD.org</code>), puoi sempre incrementare il numero e ricompilare.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>maxusers</code> <em>non</em> limita il numero degli utenti che possono loggarsi sulla tua macchina. Semplicemente setta la dimensione di alcune tabelle a un valore ragionevole considerando il numero massimo di utenti che probabilmente avrai sul tuo sistema e quanti processi ognuno di loro avranno in esecuzione. Un’opzione che limita il numero di login remoti simultanei e di terminali windows è <a href=./#kernelconfig-ptys><code>pseudo-device pty 16</code></a>. Con FreeBSD 5.X, non ti devi preoccupare di questo numero poichè il driver <a href="https://man.freebsd.org/cgi/man.cgi?query=pty&amp;sektion=4&amp;format=html">pty(4)</a> è "auto-cloning"; semplicemente usa la linea <code>device pty</code> nel tuo file di configurazione.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=_kern_ipc_somaxconn>11.13.1.2. <code>kern.ipc.somaxconn</code><a class=anchor href=#_kern_ipc_somaxconn></a></h5><div class=paragraph><p>La variabile sysctl <code>kern.ipc.somaxconn</code> limita la dimensione della coda in ascolto per le connessioni TCP. Il valore predefinito è di <code>128</code>, generalmente troppo basso per una gestione robusta di nuove connessioni in ambienti come i web server molto carichi. Per tali ambienti, è consigliato aumentare questo valore a <code>1024</code> o maggiore. Il demone di servizio può a sua volta limitare la dimensione della coda (e.g. <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a>, o Apache) ma spesso avrà una direttiva nel proprio file di configurazione per correggere la dimensione della coda. Grosse code di ascolto aiutano anche ad evitare attacchi di tipo Denial of Service ().</p></div></div></div><div class=sect3><h4 id=nmbclusters>11.13.2. Limiti di Rete<a class=anchor href=#nmbclusters></a></h4><div class=paragraph><p>L’opzione di configurazione del kernel <code>NMBCLUSTERS</code> decide la quantità di Mbuf di rete disponibili al sistema. Un server molto trafficato con un numero basso di Mbuf ostacolerebbe le possibilità di FreeBSD. Ogni cluster rappresenta approssimativamente 2 K di memoria, dunque un valore di 1024 rappresenta 2 megabyte di memoria del kernel riservata per i buffer di rete. Può essere effettuato un semplice calcolo per capire quanti ne siano necessari. Se hai un web server che arriva al massimo a 1000 connessioni simultanee, ed ogni connessione consuma un buffer di 16 K in ricezione e un altro di 16 K in trasmissione, avrai bisogno approssimativamente di 32 MB di buffer di rete per coprire il web server. Una buona regola generale è di moltiplicare per 2, dunque 2x32 MB / 2 KB = 64 MB / 2 KB = 32768. Consigliamo valori compresi tra 4096 e 32768 per macchine con grandi quantità di memoria. In nessun caso dovreste specificare un valore alto arbitrario per questo parametro, poichè potrebbe portare ad un crash all’avvio. L’opzione <code>-m</code> di <a href="https://man.freebsd.org/cgi/man.cgi?query=netstat&amp;sektion=1&amp;format=html">netstat(1)</a> può essere usata per osservare l’uso della rete.</p></div><div class=paragraph><p>L’opzione del loader <code>kern.ipc.nmbclusters</code> può essere usata per impostare questi valori all’avvio. Solo versioni vecchie di FreeBSD richiedono l’uso dell’opzione <code>NMBCLUSTERS</code> come configurazione del kernel (<a href="https://man.freebsd.org/cgi/man.cgi?query=config&amp;sektion=8&amp;format=html">config(8)</a>).</p></div><div class=paragraph><p>Per server sotto carico che fanno un uso massiccio della chiamata di sistema <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a>, potrebbe essere necessario aumentare il numero di buffer <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> tramite l’opzione di configurazione del kernel <code>NSFBUFS</code> o impostando il suo valore in <span class=filename>/boot/loader.conf</span> (vedere <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> per maggiori dettagli). Un indicatore comune che questo parametro deve essere corretto è la comparsa di processi nello stato <code>sfbufa</code>. La variabile sysctl <code>kern.ipc.nsfbufs</code> è solo un riferimento read-only alla variabile configurata nel kernel. Questo parametro aumenta nominalmente con <code>kern.maxusers</code>, in ogni caso potrebbe essere necessario effettuare piccole correzioni per farli concordare.</p></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Anche se un socket è stato segnalato come non-bloccante, richiamando <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> su di esso si potrebbe avere un blocco della chiamata <a href="https://man.freebsd.org/cgi/man.cgi?query=sendfile&amp;sektion=2&amp;format=html">sendfile(2)</a> fino a quando non sono disponibili delle <code>struct sf_buf</code>.</p></div></td></tr></tbody></table></div><div class=sect4><h5 id=_net_inet_ip_portrange>11.13.2.1. <code>net.inet.ip.portrange.*</code><a class=anchor href=#_net_inet_ip_portrange></a></h5><div class=paragraph><p>La variabili sysctl <code>net.inet.ip.portrange.*</code> controllano i numeri di porta automaticamente assegnate a socket TCP ed UDP. Ci sono tre intervalli: uno basso, uno predefinito, ed uno alto. La maggior parte dei programmi usa l’intervallo predefinito che è controllato da <code>net.inet.ip.portrange.first</code> e <code>net.inet.ip.portrange.last</code>, che hanno valori predefiniti di 1024 e 5000. Questi intervalli sono usati per le connessioni in uscita, ed è possibile che il sistema esaurisca le porte in alcune circostanze. Ciò accade per lo più quando avete un web proxy molto carico. L’intervallo di porte non è un problema quando si usano server che abbiano per lo più connessioni in ingresso, come i normali web server, o un numero limitato di connessioni in uscita, come i relay di posta. Per situazioni nelle quali potreste terminare le porte, è consigliato aumentare leggermente <code>net.inet.ip.portrange.last</code>. Un valore di <code>10000</code>, <code>20000</code> o <code>30000</code> può essere ragionevole. Dovreste anche considerare gli effetti relativi ad un firewall nel cambiare il range di porte. Alcuni firewall potrebbero bloccare grandi intervalli di porte (tipicamente le porte basse) ed aspettarsi che i sistemi usino porte più alte per le connessioni in uscita - per questa ragione si consiglia di non abbassare il valore di <code>net.inet.ip.portrange.first</code>.</p></div></div><div class=sect4><h5 id=_prodotto_del_ritardo_di_banda_tcp>11.13.2.2. Prodotto del Ritardo di Banda TCP<a class=anchor href=#_prodotto_del_ritardo_di_banda_tcp></a></h5><div class=paragraph><p>Il limite del Prodotto del Ritardo di Banda TCP è simile a TCP/Vegas in NetBSD. Può essere abilitato impostando la variabile sysctl <code>net.inet.tcp.inflight_enable</code> ad <code>1</code>. Il sistema tenterà di calcolare il prodotto del ritardo di banda per ogni connessione e limiterà l’ammontare di dati accodati per la trasmissione su rete al livello migliore per garantire il massimo throughput.</p></div><div class=paragraph><p>Questa funzionalità è utile quando si inviano dati su modem multipli, su Ethernet Gigabit, o su collegamenti WAN ad alta velocità (o qualsiasi altro collegamento con un alto prodotto a banda di ritardo), in particolar modo se state usando anche il window scaling o se avete configurato una finestra TCP molto ampia. Se abilitate questa opzione, dovreste anche assicurarvi di impostare a <code>0 net.inet.tcp.inflight_debug</code> (per disabilitare il debugging), e per un uso di produzione può essere utile impostare <code>net.inet.tcp.inflight_min</code> ad almeno <code>6144</code>. Notate comunque che impostando dei livelli minimi alti può in pratica disabilitare la limitazione di banda, su alcuni tipi di collegamento. La funzionalità di limitazione della banda riduce la quantità di dati creati in rotte intermedie e fa circolare le code di pacchetti così come riduce la quantità di dati creati nella coda di interfaccia dell’host locale. Con meno pacchetti accodati, le connessioni interattive, specialmente sopra modem lenti, opereranno con lenti <em>Round Trip Times</em> (tempi di andata e ritorno). Comunque, nota che questa feature ha effetto solo sulla trasmissione dati (uploading / lato server). Non ha effetto sulla ricezione (downloading).</p></div><div class=paragraph><p>Modificare <code>net.inet.tcp.inflight.stab</code> non è raccomandato. Questo parametro è di default a 20, rappresentando 2 pacchetti massimi aggiunti al ritardo del prodotto della banda della finestra. La finestra addizionale è richiesta per stabilizzare l’algoritmo e migliorare la risposta alle condizioni che cambiano ma può risultare in tempi lunghi sui ping sopra link lenti (anche se molto più lento di quello che otterresti senza l’algoritmo di inflight). In questi casi, puoi voler ridurre questo parametro a 15, 10 o 5; e puoi anche ridurre <code>net.inet.tcp.inflight.min</code> (per esempio, a 3500) per ottenere l’effetto desiderato. Ridurre questi parametri dovrebbe essere fatto solo come ultima spiaggia.</p></div></div></div><div class=sect3><h4 id=_memoria_virtuale>11.13.3. Memoria Virtuale<a class=anchor href=#_memoria_virtuale></a></h4><div class=sect4><h5 id=_kern_maxvnodes>11.13.3.1. <code>kern.maxvnodes</code><a class=anchor href=#_kern_maxvnodes></a></h5><div class=paragraph><p>Un vnode è la rappresentazione di un file o una directory. Aumentare il numero di vnodi disponibili sul sistema operativo aumenterà l’I/O di disco. Normalmente questo viene gestito dal sistema operativo e non deve essere cambiato. In pochi casi dove l’I/O di disco è un collo di bottiglia ed il sistema sta finendo i suoi vnodi, questo parametro sarà aumentato. L’aumento di RAM libera ed inattiva sarà tenuto in conto.</p></div><div class=paragraph><p>Per vedere il numero corrente di vnodi in uso:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl vfs.numvnodes</span>
vfs.numvnodes: 91349</code></pre></div></div><div class=paragraph><p>Per vedere il numero massimo di vnodi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sysctl kern.maxvnodes</span>
kern.maxvnodes: 100000</code></pre></div></div><div class=paragraph><p>Se l’uso del nodo corrente è vicino alla fine, aumentare <code>kern.maxvnodes</code> di un valore di 1.000 è probabilmente una buona idea. Tenete un occhio sul numero di <code>vfs.numvnodes</code>. Se scala al massimo, <code>kern.maxvnodes</code> dovrà essere incrementato ancora. Dovrebbe essere visibile con <a href="https://man.freebsd.org/cgi/man.cgi?query=top&amp;sektion=1&amp;format=html">top(1)</a> uno spostamento nell’uso della memoria. Molta memoria dovrebbe essere attiva.</p></div></div></div></div><div class=sect2><h3 id=adding-swap-space>11.14. Aggiunta di Spazio di Swap<a class=anchor href=#adding-swap-space></a></h3><div class=paragraph><p>Non importa con quanta cura pianifichi tutto, a volte un sistema non funziona come ti aspetti. Se ti trovi ad avere bisogno di maggiore spazio di swap, è abbastanza semplice aggiungerlo. Ci sono tre modi per aumentare lo spazio di swap: aggiungere un nuovo disco rigido, abilitare lo swap su NFS, e creare un file di swap su una partizione esistente.</p></div><div class=paragraph><p>Per informazioni su come criptare lo spazio di swap, quali opzioni esistono e perchè dovrebbe essere fatto, vedere la sezione swap-encrypting del Manuale.</p></div><div class=sect3><h4 id=new-drive-swap>11.14.1. Swap su un Nuovo Disco Rigido<a class=anchor href=#new-drive-swap></a></h4><div class=paragraph><p>Il modo migliore per aggiungere dello swap, ovviamente, è usare questa come scusa per aggiungere un altro disco rigido. Puoi sempre aggiungere un nuovo disco, dopo tutto. Se puoi fare così, vai a rileggere la discussione sullo spazio di swap nella <a href=#configtuning-initial>Configurazione Iniziale</a> del Manuale per alcuni suggerimenti su come organizzare al meglio lo spazio di swap.</p></div></div><div class=sect3><h4 id=nfs-swap>11.14.2. Swap su NFS<a class=anchor href=#nfs-swap></a></h4><div class=paragraph><p>Lo swap su NFS è consigliato solo se non hai un disco locale su cui realizzare lo swap. Lo swap via NFS è limitato dalla larghezza di banda disponibile sulla rete e aggiunge ulteriore lavoro per il server NFS.</p></div></div><div class=sect3><h4 id=create-swapfile>11.14.3. File di Swap<a class=anchor href=#create-swapfile></a></h4><div class=paragraph><p>Puoi creare un file delle dimensioni specifiche per usarlo come file di swap. In questo nostro esempio useremo un file di 64MB chiamato <span class=filename>/usr/swap0</span>. Puoi usare qualsiasi nome vuoi, ovviamente.</p></div><div class=exampleblock><div class=title>Esempio 6. Creare un file di Swap su FreeBSD</div><div class=content><div class="olist arabic"><ol class=arabic><li><p>Accertati che il tuo file di configurazione del kernel includa il memory disk driver (<a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a>). È di default nel kernel <span class=filename>GENERIC</span>.</p><div class="literalblock programlisting"><div class=content><pre>device   md   # Memory &#34;disks&#34;</pre></div></div></li><li><p>Crea un file di swap (<span class=filename>/usr/swap0</span>):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dd if=/dev/zero of=/usr/swap0 bs=1024k count=64</span></code></pre></div></div></li><li><p>Imposta i permessi appropriati su (<span class=filename>/usr/swap0</span>):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chmod 0600 /usr/swap0</span></code></pre></div></div></li><li><p>Riavvia la macchina o per abilitare il file di swap immediatamente scrivi:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mdconfig -a -t vnode -f /usr/swap0 -u 0 &amp;&amp; swapon /dev/md0</span></code></pre></div></div></li></ol></div></div></div></div></div><div class=sect2><h3 id=acpi-overview>11.15. Gestione dell’Energia e delle Risorse<a class=anchor href=#acpi-overview></a></h3><div class=paragraph><p>È importante utilizzare le risorse hardware in maniera efficiente. Prima che ACPI fosse introdotto era difficile e per nulla flessibile per il sistema operativo gestire l’energia e le proprietà termiche del sistema. L’hardware era controllato dal BIOS e quindi l’utente aveva meno controllo e visibilità per il settaggio della gestione dell’energia. Una configurazione limitata era disponibile tramite <em>Advanced Power Management (APM)</em>. La gestione dell’energia e delle risorse è uno dei concetti fondamentali di un moderno sistema operativo. Per esempio, puoi far sì che un sistema operativo faccia il monitoraggio dei limiti di sistema (e possibilmente ti avvisi) in caso la temperatura del sistema cresca in maniera incontrollata.</p></div><div class=paragraph><p>In questa sezione del Manuale di FreeBSD, ti forniremo informazioni esaustive circa ACPI. Alla fine saranno forniti maggiori riferimenti per ulteriori letture.</p></div><div class=sect3><h4 id=acpi-intro>11.15.1. Cos’è ACPI?<a class=anchor href=#acpi-intro></a></h4><div class=paragraph><p>ACPI (Advanced Configuration and Power Interface) è uno standard scritto da un gruppo di venditori per fornire un’interfaccia standard per risorse hardware e gestione dell’energia (da qui il nome). È un elemento centrale nella <em>configurazione diretta del sistema operativo e nella gestione dell’energia</em>, ad esempio: fornisce più controllo e flessibilità al sistema operativo (OS). I sistemi moderni "stressano" i limiti delle interfacce correnti Plug and Play, prima della introduzione di ACPI. ACPI è il diretto successore di APM (Advanced Power Management).</p></div></div><div class=sect3><h4 id=acpi-old-spec>11.15.2. Riassunto della Gestione Avanzata dell’Energia (APM)<a class=anchor href=#acpi-old-spec></a></h4><div class=paragraph><p>La tecnologia <em>Advanced Power Management (APM)</em> controlla l’uso dell’energia di un sistema basandosi sulla sua attività. Il BIOS APM è fornito dal venditore del sistema ed è specifico alla piattaforma hardware. Un driver APM nell’OS media l’accesso all'<em>Interfaccia Software APM</em> che permette la gestione dei livelli di energia. APM dovrebbe essere usato per sistemi prodotti nel o prima dell’anno 2000.</p></div><div class=paragraph><p>Ci sono quattro problemi maggiori in APM. Primo, la gestione dell’energia è fatta dal BIOS (specifico del venditore) e l’OS non ne ha conoscenza. Un esempio di questo è quando l’utente imposta i valori di pausa per un disco nell’APM BIOS, che quando vengono ecceduti, il BIOS rallenta il disco, senza il consenso dell’OS. Secondo, la logica di APM è integrata nel BIOS, e opera al di fuori lo scopo dell’OS. Questo significa che gli utenti possono riparare i problemi nel loro BIOS APM facendo un flash di una nuova memoria nel ROM; il che è una procedura molto difficile con il pericolo potenziale di lasciare il sistema in uno stato irrecuperabile se fallisce. Terzo, APM è una tecnologia specifica del venditore il che significa che c’è un sacco di duplicazione degli sforzi e bachi trovati nel BIOS di un venditore che non possono essere risolti in altri. In ultima analisi, il BIOS APM non ha abbastanza spazio per implementare una politica sofisticata, o una che può adattarsi molto bene allo scopo della macchina.</p></div><div class=paragraph><p><em>Plug and Play BIOS (PNPBIOS)</em> era inaffidabile in molte situazioni. PNPBIOS era una tecnologia a 16 bit, così il sistema operativo doveva usare l’emulazione a 16 bit per "interfacciarsi" con i metodi PNPBIOS.</p></div><div class=paragraph><p>Il driver APM di FreeBSD è documentato nella pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=apm&amp;sektion=4&amp;format=html">apm(4)</a>.</p></div></div><div class=sect3><h4 id=acpi-config>11.15.3. Configurare ACPI<a class=anchor href=#acpi-config></a></h4><div class=paragraph><p>Il driver <span class=filename>acpi.ko</span> è caricato di default all’avvio dal <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> e <em>non</em> dovrebbe essere compilato nel kernel. Il ragionamento dietro a questo è che è più facile lavorare coi moduli, ad esempio se si passa ad un altro <span class=filename>acpi.ko</span> senza fare un rebuild del kernel. Questo ha il vantaggio di rendere il testing più facile. Un altro motivo è che avviare ACPI dopo che un sistema è stato riavviato spesso non funziona bene. Se incontri dei problemi, puoi disabilitare completamente ACPI. Questo driver non dovrebbe e non può essere scaricato perchè il bus di sistema lo usa per diverse interazioni hardware. ACPI può essere disabilitato settando <code>hint.acpi.0.disabled="1"</code> in <span class=filename>/boot/loader.conf</span> o al prompt del <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>ACPI ed APM non possono coesistere e dovrebbero essere usati separatamente. L’ultimo ad essere caricato terminerà se il driver nota che l’altro è già in funzione.</p></div></td></tr></tbody></table></div><div class=paragraph><p>ACPI può essere usato per mettere il sistema in modalità sleep con <a href="https://man.freebsd.org/cgi/man.cgi?query=acpiconf&amp;sektion=8&amp;format=html">acpiconf(8)</a>, l’opzione <code>-s</code> ed un’opzione <code>1-5</code>. La maggior parte degli utenti avranno bisogno solo di <code>1</code> o <code>3</code> (sospensione della RAM). L’opzione <code>5</code> farà un morbido shutdown che è la stessa azione di:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># halt -p</span></code></pre></div></div><div class=paragraph><p>Sono disponibili altre opzioni via <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>. Controlla la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=acpiconf&amp;sektion=8&amp;format=html">acpiconf(8)</a> per maggiori informazioni.</p></div></div></div><div class=sect2><h3 id=ACPI-debug>11.16. Usare e Debuggare ACPI di FreeBSD<a class=anchor href=#ACPI-debug></a></h3><div class=paragraph><p>ACPI è un modo fondamentalmente nuovo di utilizzare dispositivi, gestire le risorse elettriche, e fornire accesso standardizzato all’hardware gestito precedentemente dal BIOS. Si stanno facendo progressi per far funzionare ACPI su tutti i sistemi, ma continuano ad apparire bachi nel codice del <em>Linguaggio Macchina ACPI</em> (AML), incompletezza nel sottosistema kernel di FreeBSD, e bachi nell’interprete ACPI-CA di Intel®.</p></div><div class=paragraph><p>Questo documento è creato per aiutarti ad assistere i manutentori di ACPI di FreeBSD nell’identificare le cause primarie dei problemi che riscontri e debuggare e sviluppare una soluzione. Grazie per l’attenzione e speriamo di poter risolvere i problemi del tuo sistema.</p></div><div class=sect3><h4 id=ACPI-submitdebug>11.16.1. Fornire Informazione di Debug<a class=anchor href=#ACPI-submitdebug></a></h4><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Prima di sottomettere un problema, accertati di avere in esecuzione l’ultima versione del BIOS e, se disponibile, la versione del firmware del controller integrato.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per quelli di voi che vogliono sottomettere un problema subito, per favore inviate la seguente informazione a <a href=mailto:freebsd-acpi@FreeBSD.org></a><a href=mailto:freebsd-acpi@FreeBSD.org>freebsd-acpi@FreeBSD.org</a>:</p></div><div class=ulist><ul><li><p>Descrizione del comportamento affetto da bachi, inclusi il tipo di sistema ed il modello e tutto quello che fa sì che il baco appaia. Inoltre, per favore annotati il più accuratamente possibile quando il baco è iniziato ad apparire se è nuovo per il tuo sistema.</p></li><li><p>L’output del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> dopo <code>boot -v</code>, incluso ogni messaggio di errore generato dal tuo sistema mentre investigavi questo baco.</p></li><li><p>L’output del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;format=html">dmesg(8)</a> dopo <code>boot -v</code> con ACPI disabilitato, se disabitarlo ti aiuta a rimettere a posto il sistema.</p></li><li><p>L’output di <code>sysctl hw.acpi</code>. Anche questo è un buon modo di figurarti quali caratteristiche il tuo sistema offre.</p></li><li><p>URL dove il tuo <em>ACPI Source Language</em> (ASL) risiede. <em>Non</em> inviare la ASL direttamente alla lista dato che può essere molto grande. Generate una copia della vostra ASL eseguendo questo comando:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># acpidump -dt &gt; name-system.asl</span></code></pre></div></div><div class=paragraph><p>(Sostituite <em>name</em> con la vostra login ed il modello/manifattura del <em>sistema</em>. Ad esempio <span class=filename>njl-FooCoo6000.asl</span>)</p></div></li></ul></div><div class=paragraph><p>Molti degli sviluppatori seguono la <a href=https://lists.FreeBSD.org/subscription/freebsd-current>mailing list su FreeBSD-CURRENT</a> ma per favore sottomettete i vostri problemi a <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>mailing list su ACPI in FreeBSD</a> per essere sicuri che siano visti. Per favore siate pazienti, abbiamo tutti lavori full-time altrove. Se i vostri bachi non sono chiarissimi, vi chiederemo di sottomettere un PR attraverso <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a>. Quando si invia un PR, per favore includete le stesse informazioni sopracitate. Questo aiuterà a tracciare il problema e risolverlo. Non inviare un PR senza prima inviare una email a <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>mailing list su ACPI in FreeBSD</a>, dato che noi usiamo PR come promemoria di problemi esistenti, non come meccanismo di reporting. È probabile che i vostri problemi siano stati riportati da qualcun altro prima.</p></div></div><div class=sect3><h4 id=ACPI-background>11.16.2. Background<a class=anchor href=#ACPI-background></a></h4><div class=paragraph><p>ACPI è presente su tutti i computer moderni che conformi all’architettura ia32(x86), ia64 (Itanium), e amd64 (AMD). L’intero standard ha molte caratteristiche che includono la gestione della performance della CPU, il controllo dei piani energetici, delle zone termiche, delle batterie del sistema, controller incorporati, ed enumerazione dei bus. Molti sistemi implementano meno dello standard completo. Per esempio, un sistema desktop di solito implementa le parti di enumerazione dei bus mentre un laptop potrebbe avere il raffreddamento ed anche il supporto alla gestione della batteria. I laptop hanno anche sospensioni e riavvii, con la loro complessità associata.</p></div><div class=paragraph><p>Un sistema ACPI-compliant ha molte componenti. Il BIOS ed i venditori di chipset forniscono varie tabelle fisse in memoria (ad esempio FADT) che specificano cose come la mappa APIC (usata per SMP), i registri di configurazione, e semplici valori di configurazione. Inoltre viene fornita una tabella di codici di byte (la <em>Differentiated System Description Table</em> DSDT) per specificare uno spazio dei nomi ad albero di dispositivi e metodi.</p></div><div class=paragraph><p>Il driver ACPI deve fare il parse delle tabelle fisse, implementare un interprete per il codice di byte, e modificare i device driver ed il kernel per accettare informazioni dal sottosistema ACPI. Per FreeBSD, Intel® ha fornito un interprete (ACPI-CA) che è condiviso fra Linux e NetBSD. Il path al codice sorgente ACPI-CA è <span class=filename>src/sys/contrib/dev/acpica</span>. Il codice che permette ad ACPI-CA di lavorare con FreeBSD è in <span class=filename>src/sys/dev/acpica/Osd</span>. Finalmente, i driver che implementano vari dispositivi ACPI si trovano in <span class=filename>src/sys/dev/acpica</span>.</p></div></div><div class=sect3><h4 id=ACPI-comprob>11.16.3. Problemi Comuni<a class=anchor href=#ACPI-comprob></a></h4><div class=paragraph><p>Affincè ACPI funzioni correttamente tutte le parti devono funzionare correttamente. Ci sono alcuni problemi comuni, in ordine di frequenza di apparizione, ed alcuni possibili workaround o mezzi per aggiustarli.</p></div><div class=sect4><h5 id=_questioni_di_mouse>11.16.3.1. Questioni di Mouse<a class=anchor href=#_questioni_di_mouse></a></h5><div class=paragraph><p>In alcuni casi, ripartire dopo una operazione di sospensione, fa sì che il mouse non riparta. Un noto workaround è aggiungere <code>hint.psm.0.flags="0x3000"</code> al file <span class=filename>/boot/loader.conf</span>. Se questo non funziona allora per favore considera l’invio di un report del baco come descritto in precedenza.</p></div></div><div class=sect4><h5 id=_sospensioneriavvio>11.16.3.2. Sospensione/Riavvio<a class=anchor href=#_sospensioneriavvio></a></h5><div class=paragraph><p>ACPI ha tre stati di sospensione RAM (STR), <code>S1</code>-<code>S3</code> ed un stato di sospensione disco (<code>STD</code>), chiamato <code>S4</code>. <code>S5</code> è il "soft off" ed è il normale stato in cui il tuo sistema si trova quando è collegato ma non acceso. <code>S4</code> può essere implementato in due modi separati. <code>S4</code>BIOS è una sospensione BIOS-assistita da disco. <code>S4</code>OS è implementato direttamente dal sistema operativo.</p></div><div class=paragraph><p>Inizia a controllare <code>sysctl hw.acpi</code> per le entry relative alla sospensione. Questi sono i risultati per un Thinkpad:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>hw.acpi.supported_sleep_state: S3 S4 S5
hw.acpi.s4bios: 0</code></pre></div></div><div class=paragraph><p>Questo significa che possiamo usare <code>acpiconf -s</code> per testare <code>S3</code>, <code>S4</code>OS, <code>S5</code>. Se <code>s4bios</code> fosse stato uno (<code>1</code>), avremmo supporto a <code>S4</code>BIOS invece di <code>S4</code>OS.</p></div><div class=paragraph><p>Quando si testa la sospensione/riavvio, inizia con <code>S1</code>, se supportato. È più probabile che funzioni questo stato dato che non richiede molto supporto dal driver. Nessuno ha implementato <code>S2</code>, ma se tu lo hai, è simile a <code>S1</code>. La prossima cosa da provare è <code>S3</code>. Questo è lo stato più profondo STR e richiede molto supporto dal driver per reinizializzare il tuo hardware. Se hai problemi a riavviarlo, sentiti libero di segnalarlo via mail alla lista <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>mailing list su ACPI in FreeBSD</a> ma non aspettarti che il problema sia risolto dato che ci sono molti driver/hardware che hanno bisogno di test e di lavoro aggiuntivo.</p></div><div class=paragraph><p>Per aiutare ad isolare il problema, rimuovi quanti più driver possibile dal tuo kernel. Se funziona, puoi scoprire quale driver causa il problema caricando dei driver fino a che il problema si ripresenta. Tipicamente i driver binari come <span class=filename>nvidia.ko</span>, i driver di display di X11, e USB avranno la maggior parte dei problemi mentre interfacce Ethernet funzioneranno bene. Se puoi caricare/scaricare driver correttamente, puoi automatizzare questo piazzando i comandi appropriati in <span class=filename>/etc/rc.suspend</span> e <span class=filename>/etc/rc.resume</span>. C’è un esempio commentato su come caricare e scaricare un driver. Prova a impostare <code>hw.acpi.reset_video</code> a zero (<code>0</code>) se il tuo display è confuso dopo il riavvio. Prova a impostare valori più lunghi o corti per <code>hw.acpi.sleep_delay</code> per vedere se aiuta.</p></div><div class=paragraph><p>Un’altra cosa da provare è caricare una distribuzione Linux recente con supporto ACPI e testare il loro supporto sospensione/riavvio sullo stesso hardware. Se funziona su Linux, è probabile che sia un problema driver relativo a FreeBSD e restringere il campo di indagine su quale driver causi il problema può aiutare a risolvere il problema. Notate che i manutentori di ACPI non mantengono altri driver (ad esempio suono, ATA, etc.) così ogni lavoro fatto sull’identificazione del problema del driver dovrebbe alla fine essere risolto dalla lista <a href=https://lists.FreeBSD.org/subscription/freebsd-current>mailing list su FreeBSD-CURRENT</a> e inviato via mail al manutentore del driver. Se ti senti avventuroso, vai avanti e inizia a porre qualche <a href="https://man.freebsd.org/cgi/man.cgi?query=printf&amp;sektion=3&amp;format=html">printf(3)</a> in un driver che dà problemi per tracciare in quale driver nella sua funzione di resume vada in palla.</p></div><div class=paragraph><p>Alla fine, cerca di disabilitare ACPI ed ad abilitare APM invece. Se la sospensione ed il riavvio funziona con APM, è meglio che tu continui con APM, specialmente su hardware vecchio (pre-2000). Ci vuole un pò di tempo per i venditori per ottenere un supporto corretto all’ACPI e l’hardware più vecchio è più probabile che abbia problemi BIOS con ACPI.</p></div></div><div class=sect4><h5 id=_blocco_del_sistema_temporanea_o_permanente>11.16.3.3. Blocco del Sistema (temporanea o permanente)<a class=anchor href=#_blocco_del_sistema_temporanea_o_permanente></a></h5><div class=paragraph><p>La maggior parte dei blocchisono causati da interrupt persi o da una tempesta di interrupt. I chipset hanno un sacco di problemi su come il BIOS configuri gli interrupt prima del boot, la correttezza delle tabelle ACPI (MADT) ed il routing del <em>System Control Interrupt</em> (SCI).</p></div><div class=paragraph><p>Le tempeste di interrupt possono essere distinte da interrupt persi controllando l’output di <code>vmstat -i</code> e guardando alla linea che riguarda <code>acpi0</code>. Se il contatore sta avanzando più di un paio di secondi per volta, hai una tempesta di interrupt. Se il sistema si blocca, cerca di di entrare in DDB (<span class=keyseq><kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>ESC</kbd></span> sulla console) e digita <code>show interrupts</code>.</p></div><div class=paragraph><p>Il modo migliore in caso di problemi di interrupt è provare a disabilitare il supporto APIC con <code>hint.apic.0.disabled="1"</code> in <span class=filename>loader.conf</span>.</p></div></div><div class=sect4><h5 id=_panici>11.16.3.4. Panici<a class=anchor href=#_panici></a></h5><div class=paragraph><p>I panici sono relativamente rari per ACPI e sono il primo problema ad essere corretto. Il primo passo da fare è riprodurre il panico (se possibile) ed ottenere un backtrace. Segui l’avvertimento per abilitare <code>options DDB</code> e imposta una console seriale (vedi la <a href=./#serialconsole-ddb>Accesso al Debugger DDB dalla Linea Seriale</a>) o imposta una partizione di <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a>. Puoi ottenere un backtrace in DDB con <code>tr</code>. Se hai scritto a mano il backtrace, accertati di ottenere le ultime cinque (5) e le prime cinque (5) linee nella traccia.</p></div><div class=paragraph><p>Poi, prova ad isolare il problema facendo boot con ACPI disabilitato. Se funziona, puoi isolare il sottosistema ACPI usando vari valori di <code>debug.acpi.disable</code>. Leggi la pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a> per alcuni esempi.</p></div></div><div class=sect4><h5 id=_riavvii_di_sistema_dopo_sospensioni_o_spegnimenti>11.16.3.5. Riavvii di sistema dopo Sospensioni o Spegnimenti<a class=anchor href=#_riavvii_di_sistema_dopo_sospensioni_o_spegnimenti></a></h5><div class=paragraph><p>Prima, cerca di impostare <code>hw.acpi.disable_on_poweroff="0"</code> in <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a>. Questo fa sì che ACPI abbia disabilitato alcuni eventi durante il processo di shutdown. Alcuni sistemi hanno bisogno di impostare questo valore a <code>1</code> (il default) per la stessa ragione. Questo di solito aggiusta il problema di un sistema che si accende spontaneamente dopo una sospensione o uno spegnimento.</p></div></div><div class=sect4><h5 id=_altri_problemi>11.16.3.6. Altri problemi<a class=anchor href=#_altri_problemi></a></h5><div class=paragraph><p>Se hai altri problemi con ACPI (lavorare con un docking station, dispositivi non trovati, ecc.), per favore invia via mail una descrizione anche alla mailing list; comunque, alcune di queste questioni possono essere correlate a parti del sottosistema ACPI così può volerci un pò prima che siano implementate. Per favore sii paziente e preparato a testare le patch che ti vengono inviate.</p></div></div></div><div class=sect3><h4 id=ACPI-aslanddump>11.16.4. ASL, <code>acpidump</code>, e IASL<a class=anchor href=#ACPI-aslanddump></a></h4><div class=paragraph><p>Il più comune problema è il BIOS di venditori che forniscono bytecode incorretto (o addirittura con bachi). Questo si deduce usualmente da messaggi del kernel come questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ACPI-1287: <span class=k>***</span> Error: Method execution failed <span class=o>[</span><span class=se>\\</span>_SB_.PCI0.LPC0.FIGD._STA] <span class=se>\\</span>
<span class=o>(</span>Node 0xc3f6d160<span class=o>)</span>, AE_NOT_FOUND</code></pre></div></div><div class=paragraph><p>Spesso puoi risolvere questi problemi aggiornando il tuo BIOS all’ultima versione. La maggior parte dei messaggi di console non indica nulla di notevole, ma se hai altri problemi come lo stato della batteria non funzionante, questi sono un buon inizio per iniziare a cercare problemi in AML. Il bytecode, noto come AML, è compilato da un insieme di codici sorgenti chiamato ASL. L’AML, è trovato nella tabella nota come come DSDT. Per trovare una copia del tuo ASL usa <a href="https://man.freebsd.org/cgi/man.cgi?query=acpidump&amp;sektion=8&amp;format=html">acpidump(8)</a>. Dovresti usare entrambe le opzioni <code>-t</code> (mostra i contenuti della tabella fissa) e la <code>-d</code> (disassembla AML ad ASL). Vedi la sezione <a href=#ACPI-submitdebug>Fornire Informazione di Debug</a> per un esempio della sintassi.</p></div><div class=paragraph><p>Il tuo primo controllo che puoi fare è ricompilare il tuo ASL per controllare errori. Possono essere ignorati i 'warning' ma gli errori sono bachi che impediranno all’ACPI di funzionare correttamente. Per ricompilare il tuo ASL, usa il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iasl your.asl</span></code></pre></div></div></div><div class=sect3><h4 id=ACPI-fixasl>11.16.5. Aggiustare il tuo ASL<a class=anchor href=#ACPI-fixasl></a></h4><div class=paragraph><p>Alla lunga, il nostro obiettivo è avere ACPI che funzioni per tutti senza intervento. A questo punto, comunque stiamo ancora sviluppando workaround per errori comuni fatti dal venditore del BIOS. L’interprete Microsoft® (<span class=filename>acpi.sys</span> e <span class=filename>acpiec.sys</span>) non è strettamente conforme agli standard, e così molti venditori BIOS che testano solo ACPI sotto Windows® non aggiustano mai il loro ASL. Vogliamo continuare a identificare e documentare esattamente quali comportamenti non standard sono concessi dall’interprete Microsoft® e replicarlo cosicchè FreeBSD può funzionare senza forzare gli utenti ad usare ASL. Come workaround e per aiutarci ad identificare il comportamento puoi fissare la ASL manualmente. Se questo funziona per favore invia un <a href="https://man.freebsd.org/cgi/man.cgi?query=diff&amp;sektion=1&amp;format=html">diff(1)</a> del vecchio e del nuovo ASL, cosicchè possiamo lavorare attorno al comportamento bacato di ACPI-CA e così rimettere a posto il necessario.</p></div><div class=paragraph><p>Qui c’è una lista di messaggi di errori comuni, le loro cause e come fissarli:</p></div><div class=sect4><h5 id=_dipendenze_os>11.16.5.1. Dipendenze OS<a class=anchor href=#_dipendenze_os></a></h5><div class=paragraph><p>Alcuni AML assumono che il mondo consiste di varie versioni Windows®. Puoi far sì che FreeBSD simuli qualsiasi OS per vedere se questo risolve il problema che hai. Un modo facile per sovrascrivere questo è porre <code>hw.acpi.osname="Windows 2001"</code> in <span class=filename>/boot/loader.conf</span> o altre stringhe simili che trovi nella ASL.</p></div></div><div class=sect4><h5 id=_valori_di_ritorno_mancanti>11.16.5.2. Valori di Ritorno Mancanti<a class=anchor href=#_valori_di_ritorno_mancanti></a></h5><div class=paragraph><p>Alcuni metodi non ritornano esplicitamente un valore come i requisiti standard. Mentre ACPI-CA non gestisce questo, FreeBSD ha un workaround che permette di ritornare i valori implicitamente. Puoi anche aggiungere espliciti Valori di Ritorno dove si richiede se sai quale valore dovrebbe essere ritornato. Per forzare <code>iasl</code> a compilare l’ASL usa il flag <code>-f</code>.</p></div></div><div class=sect4><h5 id=_sovrascrivere_il_default_aml>11.16.5.3. Sovrascrivere il Default AML<a class=anchor href=#_sovrascrivere_il_default_aml></a></h5><div class=paragraph><p>Dopo che personalizzi il tuo <span class=filename>your.asl</span>, potresti volerlo compilare, esegui:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># iasl your.asl</span></code></pre></div></div><div class=paragraph><p>Puoi aggiungere il flag <code>-f</code> per forzare la creazione dell’AML, anche se ci sono errori durante la compilazione. Ricorda che alcuni errori (ad esempio valori di Ritorno mancanti) sono automaticamente riaggiustati dall’interprete.</p></div><div class=paragraph><p><span class=filename>DSDT.aml</span> è il nome del file di default del comando <code>iasl</code>. Puoi caricare questo invece della copia difettosa del tuo BIOS (che è ancora presente in memoria) editando il file <span class=filename>/boot/loader.conf</span> come segue:</p></div><div class="literalblock programlisting"><div class=content><pre>acpi_dsdt_load=&#34;YES&#34;
acpi_dsdt_name=&#34;/boot/DSDT.aml&#34;</pre></div></div><div class=paragraph><p>Assicurati di copiare il tuo file <span class=filename>DSDT.aml</span> nella directory <span class=filename>/boot</span>.</p></div></div></div><div class=sect3><h4 id=ACPI-debugpoint>11.16.6. Ottenere Output di Debug da ACPI<a class=anchor href=#ACPI-debugpoint></a></h4><div class=paragraph><p>Il driver ACPI ha una facility di debug molto utile. Permette di specificare un insieme di sottosistemi come anche un livello di verbosità. I sottosistemi che desideri debuggare sono specificati come "strati" e sono divisi in componenti ACPI-CA (ACPI_ALL_COMPONENTS) e supporto hardware ACPI (ACPI_ALL_DRIVERS). La verbosità dell’output di debug è specificata come "livello" e varia da ACPI_LV_ERROR (riporta solo gli errori) ad ACIP_LV_VERBOSE (tutto). Il "livello" è una bitmask che fa sì che molte opzioni possano essere impostate una alla volta, separate da spazi. In pratica, puoi usare una console seriale per loggare l’output se è così lungo da riempire il buffer di messaggi della console. Una lista completa degli strati individuali e dei livelli è disponibile nella pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a>.</p></div><div class=paragraph><p>L’output di debug non è abilitato di default. Per abilitarlo, aggiungi <code>options ACPI_DEBUG</code> al tuo file di configurazione del kernel se ACPI è compilato nel kernel. Puoi aggiungere <code>ACPI_DEBUG=1</code> al tuo <span class=filename>/etc/make.conf</span> per abilitarlo in modo globale. Se è un modulo, puoi ricompilare soltanto il tuo modulo <span class=filename>acpi.ko</span> come segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /sys/modules/acpi/acpi</span>
<span class=o>&amp;&amp;</span> make clean <span class=o>&amp;&amp;</span>
make <span class=nv>ACPI_DEBUG</span><span class=o>=</span>1</code></pre></div></div><div class=paragraph><p>Installa <span class=filename>acpi.ko</span> in <span class=filename>/boot/kernel</span> ed aggiungi il tuo livello desiderato e gli strati in <span class=filename>loader.conf</span>. Questo esempio abilita i messaggi per tutti i componenti ACPI-CA e tutti i driver hardware ACPI (CPU, LID, etc.). Produrrà solo messaggi di errore, i meno verbosi.</p></div><div class="literalblock programlisting"><div class=content><pre>debug.acpi.layer=&#34;ACPI_ALL_COMPONENENTS ACPI_ALL_DRIVERS&#34;
debug.acpi.level=&#34;ACPI_LV_ERROR&#34;</pre></div></div><div class=paragraph><p>Se l’informazione che vuoi ottenere è prodotta da un evento specifico (ad esempio, una sospensione ed un riavvio), puoi tralasciare i cambiamenti di <span class=filename>loader.conf</span> ed invece usare <code>sysctl</code> per specificare lo strato ed il livello dopo il boot e preparare il tuo sistema per l’evento specifico. I <code>sysctl</code> sono nominati allo stesso modo dei parametri in <span class=filename>loader.conf</span>.</p></div></div><div class=sect3><h4 id=ACPI-References>11.16.7. Riferimenti<a class=anchor href=#ACPI-References></a></h4><div class=paragraph><p>Maggiori informazioni su ACPI possono essere trovate nei seguenti posti:</p></div><div class=ulist><ul><li><p>La <a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>mailing list su ACPI in FreeBSD</a></p></li><li><p>Gli archivi della mailing list ACPI <a href=http://lists.freebsd.org/pipermail/freebsd-acpi/>http://lists.freebsd.org/pipermail/freebsd-acpi/</a></p></li><li><p>I vecchi archivi della mailing list ACPI <a href=http://home.jp.FreeBSD.org/mail-list/acpi-jp/>http://home.jp.FreeBSD.org/mail-list/acpi-jp/</a></p></li><li><p>La <a href=https://uefi.org/specifications#ACPI>specificazione ACPI</a></p></li><li><p>Le pagine man di FreeBSD: <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi_thermal&amp;sektion=4&amp;format=html">acpi_thermal(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=acpidump&amp;sektion=8&amp;format=html">acpidump(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=iasl&amp;sektion=8&amp;format=html">iasl(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=acpidb&amp;sektion=8&amp;format=html">acpidb(8)</a></p></li><li><p><a href=http://www.cpqlinux.com/acpi-howto.html#fix_broken_dsdt>Le risorse di debugging di DSDT</a>. (Usa Compaq come esempio ma è sempre utile.)</p></li></ul></div></div></div></div></div><div class=sect1><h2 id=boot>Capitolo 12. La Procedura di Avvio di FreeBSD<a class=anchor href=#boot></a></h2><div class=sectionbody><div class=sect2><h3 id=boot-synopsis>12.1. Sinossi<a class=anchor href=#boot-synopsis></a></h3><div class=paragraph><p>Il processo di accensione di un computer e caricamento del sistema operativo viene detto "processo di avviamento", o semplicemente "avvio". La procedura di avvio di FreeBSD fornisce un alto grado di flessibilità nel personalizzare quello che succede quando avvii il sistema, dandoti la possibilità di scegliere tra diversi sistemi operativi installati sullo stesso computer, o anche tra diverse versioni dello stesso sistema operativo o tra diversi kernel installati.</p></div><div class=paragraph><p>Questo capitolo fornisce i dettagli sulle opzioni di configurazione che puoi impostare per personalizzare il processo di avvio di FreeBSD. Ciò comprende tutto quello che avviene fino a quando il kernel viene lanciato, vengono controllate le periferiche, e viene avviato <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a>. Se non sei sicuro di sapere quando tutto questo accada, si tratta del momento in cui il colore del testo a video cambia da bianco brillante a grigio.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Quali sono i componenti del sistema di avvio di FreeBSD, e come interagiscono.</p></li><li><p>Le opzioni che puoi impostare per i componenti durante l’avviamento di FreeBSD per controllare il processo di avvio.</p></li><li><p>Le basi dei <a href="https://man.freebsd.org/cgi/man.cgi?query=device.hints&amp;sektion=5&amp;format=html">device.hints(5)</a>.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=title>Solo per x86</div><div class=paragraph><p>Questo capitolo descrive la procedura di avvio di FreeBSD su sistemi Intel x86.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=boot-introduction>12.2. Il Problema dell’Avvio<a class=anchor href=#boot-introduction></a></h3><div class=paragraph><p>Accendere un computer e far partire il sistema operativo pone un dilemma interessante. Per definizione, il computer non sa fare nulla finché non viene avviato il sistema operativo. Questo include anche l’esecuzione dei programmi dal disco. Dunque se il computer non può eseguire un programma da disco senza il sistema operativo, ed i programmi del sistema operativo sono sul disco, come viene avviato il sistema operativo?</p></div><div class=paragraph><p>Questo è un problema analogo a quello descritto nel libro Le Avventure del Barone di Munchausen. Un personaggio era caduto in una botola, e ne era uscito tirandosi su da sé (in inglese "bootstrap"), riuscendo nell’intento solo con i propri sforzi. Nei primi giorni dei calcolatori al meccanismo usato per caricare il sistema operativo fu applicato il termine <em>bootstrap</em>, ed in seguito venne abbreviato in "booting" (in italiano "avvio").</p></div><div class=paragraph><p>Su sistemi con hardware x86 il BIOS (Basic Input/Output System) è il responsabile del caricamento del sistema operativo. Per fare ciò, il BIOS cerca nel disco rigido il Master Boot Record (MBR), che deve essere in una specifica posizione sul disco. Il BIOS ha abbastanza conoscenze per caricare ed eseguire l’MBR, ed assume che l’MBR possa portare avanti il resto dei compiti relativi al caricamento del sistema operativo, possibilmente con l’aiuto del BIOS.</p></div><div class=paragraph><p>Il codice all’interno del MBR è di solito riferito come <em>boot manager</em>, specialmente quando interagisce con l’utente. In questo caso la maggior parte del suo codice è nella prima <em>traccia</em> del disco o direttamente nel file system dell’OS. (Il boot manager qualche volta viene chiamato anche <em>boot loader</em>, ma gli utenti di FreeBSD usano questo termine per una successiva fase di avvio.) Boot manager popolari sono boot0 (a.k.a. Boot Easy, il boot manager standard di FreeBSD), Grub, GAG, e LILO. (Solo boot0 è all’interno del MBR.)</p></div><div class=paragraph><p>Se hai solo un sistema operativo installato sui tuoi dischi allora sarà sufficiente il MBR standard del PC. Questo MBR cerca la prima slice avviabile (a.k.a. attiva) sul disco, e quindi esegue il codice in quella slice per caricare il resto del sistema operativo. Il MBR installato da <a href="https://man.freebsd.org/cgi/man.cgi?query=fdisk&amp;sektion=8&amp;format=html">fdisk(8)</a>, di default, è come un MBR. È basato su <span class=filename>/boot/mbr</span>.</p></div><div class=paragraph><p>Se hai installato più sistemi operativi sui tuoi dischi allora puoi installare un boot manager diverso, che mostra una lista dei diversi sistemi operativi, e ti permette di scegliere quale avviare. Nella prossima sezione ne vengono presentati due.</p></div><div class=paragraph><p>Il resto del sistema di avvio di FreeBSD è diviso in tre stadi. Il primo stadio viene eseguito dall’MBR, che sa solo il necessario per mettere il computer in un certo stato ed eseguire il secondo stadio. Quest’ultimo può fare poco di più, prima di eseguire il terzo. Il terzo stadio esaurisce il compito di caricare il sistema operativo. Il lavoro è diviso in queste tre parti perché gli standard dei PC pongono dei limiti alla dimensione dei programmi che possono essere eseguiti nei primi due stadi. Concatenando i compiti si permette a FreeBSD di fornire un loader più flessibile.</p></div><div class=paragraph><p>A questo punto viene avviato il kernel ed esso comincia a verificare i dispositivi e ad inizializzarli. Una volta che la procedura di avvio del kernel è finita, il kernel passa il controllo al processo utente <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a>, che si assicura che i dischi siano in uno stato usabile. Poi <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> avvia la configurazione delle risorse a livello utente che monta i file system, imposta le schede di rete per comunicare via rete, ed in generale fa partire tutti i processi che generalmente sono in esecuzione su un sistema FreeBSD all’avvio.</p></div></div><div class=sect2><h3 id=boot-blocks>12.3. Il Boot Manager e le Fasi di Boot<a class=anchor href=#boot-blocks></a></h3><div class=sect3><h4 id=boot-boot0>12.3.1. Il Boot Manager<a class=anchor href=#boot-boot0></a></h4><div class=paragraph><p>Il codice nel MBR o nel boot manager è solitamente riferito alla <em>fase zero</em> del processo di boot. Questa sezione discute dei due boot manager menzionati in precedenza: boot0 e LILO.</p></div><div class=paragraph><p><strong>Il Boot Manager boot0:</strong> Il MBR installato dall’installer di FreeBSD o da <a href="https://man.freebsd.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8&amp;format=html">boot0cfg(8)</a>, di default, si basa su <span class=filename>/boot/boot0</span>. (Il programma boot0 è molto semplice, poichè il programma nel può essere al più di 446 byte a causa della tabella della slice e dell’identificatore <code>0x55AA</code> alla fine del MBR.) Se hai installato boot0 e hai più di un sistema operativo sui tuoi dischi, allora vedrai una schermata simile alla seguente nella fase di avvio:</p></div><div id=boot-boot0-example class=exampleblock><div class=title>Esempio 7. Screenshot di <span class=filename>boot0</span></div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>F1 DOS
F2 FreeBSD
F3 Linux
F4 ??
F5 Drive 1

Default: F2</code></pre></div></div></div></div><div class=paragraph><p>Altri sistemi operativi, in particolare Windows®, sono noti per l’abitudine di sovrascrivere l’MBR esistente con il proprio. Se accade questo, o se vuoi rimpiazzare l’MBR pre-esistente con quello di FreeBSD puoi usare il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fdisk -B -b /boot/boot0 dispositivo</span></code></pre></div></div><div class=paragraph><p>dove <em>dispositivo</em> è il dispositivo dal quale vuoi avviare, come <span class=filename>ad0</span> per il primo disco IDE, <span class=filename>ad2</span> per il primo disco ide sul secondo canale, <span class=filename>da0</span> per il primo disco SCSI, e così via. Se vuoi una configurazione ad hoc dell’MBR, usa <a href="https://man.freebsd.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8&amp;format=html">boot0cfg(8)</a>.</p></div><div class=paragraph><p><strong>Il Boot Manager LILO:</strong> Per installare questo boot manager affinchè possa avviare anche FreeBSD, avvia Linux e aggiungi le seguenti cose nel tuo file di configurazione <span class=filename>/etc/lilo.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>other=/dev/hdXY
table=/dev/hdX
loader=/boot/chain.b
label=FreeBSD</pre></div></div><div class=paragraph><p>Specifica la partizione primaria di FreeBSD e il disco usando le direttive di Linux, rimpiazzando <em>X</em> con la lettera del dispositivo di Linux e <em>Y</em> con il numero della partizione primaria di Linux. Se stai usando un dispositivo SCSI, devi modificare <em>/dev/hd</em> in qualcosa simile a <em>/dev/sd</em>. La linea <code>loader=/boot/chain.b</code> può essere omessa se hai entrambi i sistemi operativi sullo stesso disco. Esegui <code>/sbin/lilo -v</code> per apportare le modifiche al sistema; verificando il relativo messaggio a video.</p></div></div><div class=sect3><h4 id=boot-boot1>12.3.2. Stadio Uno, <span class=filename>/boot/boot1</span>, e Stadio Due, <span class=filename>/boot/boot2</span><a class=anchor href=#boot-boot1></a></h4><div class=paragraph><p>Concettualmente il primo ed il secondo stadio sono parte dello stesso programma, sulla stessa area del disco. Per limitazioni di spazio sono stati divisi in due, ma li installerai sempre insieme. Sono copiati dal file <span class=filename>/boot/boot</span> dall’installer o da bsdlabel (vedi sotto).</p></div><div class=paragraph><p>Questi sono posizionati fuori dai file system, nella prima traccia della slice di boot, a partire dal primo settore. Questo è il posto dove <a href=#boot-boot0>boot0</a>, o qualsiasi altro boot manager, si aspetta di trovare un programma da avviare per continuare il processo di boot. Il numero di settori usati è facilmente determinabile dalla dimensione di <span class=filename>/boot/boot</span>.</p></div><div class=paragraph><p><span class=filename>boot1</span> è molto semplice, poiché può essere lungo solo 512 byte, e conosce solo lo stretto necessario del <em>bsdlabel</em> di FreeBSD, il quale memorizza le informazioni sulle slice, per trovare ed eseguire <span class=filename>boot2</span>.</p></div><div class=paragraph><p><span class=filename>boot2</span> è leggermente più sofisticato, e conosce il file system di FreeBSD abbastanza da potervi trovare dei file, e può fornire una semplice interfaccia per scegliere quale kernel o loader eseguire.</p></div><div class=paragraph><p>Poiché il <a href=#boot-loader>loader</a> è molto più complesso, e fornisce una gradevole interfaccia di facile utilizzo alla configurazione di avvio, <span class=filename>boot2</span> in genere lo esegue, ma in precedenza era incaricato di lanciare il kernel direttamente.</p></div><div id=boot-boot2-example class=exampleblock><div class=title>Esempio 8. Screenshot di <span class=filename>boot2</span></div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>&gt;&gt;</span> FreeBSD/i386 BOOT
Default: 0:ad<span class=o>(</span>0,a<span class=o>)</span>/boot/loader
boot:</code></pre></div></div></div></div><div class=paragraph><p>Se mai avrai bisogno di rimpiazzare il <span class=filename>boot1</span> ed il <span class=filename>boot2</span> installati, usa <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># bsdlabel -B discoslice</span></code></pre></div></div><div class=paragraph><p>dove <em>discoslice</em> sono il disco e la slice dal quale vuoi effettuare l’avvio, come ad esempio <span class=filename>ad0s1</span> per la prima slice sul primo disco IDE.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=title>Modalità Pericolosamente Dedicata</div><div class=paragraph><p>Se nella sintassi del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> usi solo il nome del disco, come <span class=filename>ad0</span>, creerai un disco pericolosamente dedicato, senza slice. Quasi sicuramente non è questo quello che vuoi fare, quindi controlla due volte il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> prima di premere <kbd>Invio</kbd>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=boot-loader>12.3.3. Stadio Tre, <span class=filename>/boot/loader</span><a class=anchor href=#boot-loader></a></h4><div class=paragraph><p>Il loader è l’ultimo stadio della procedura di avvio divisa in tre, e si trova sul file system, generalmente come <span class=filename>/boot/loader</span>.</p></div><div class=paragraph><p>Il loader deve essere inteso come un metodo user-friendly per la configurazione di avvio, tramite l’uso di un insieme di comandi integrati facili da usare, sostenuto da un potente interprete, con un insieme di comandi più complessi.</p></div><div class=sect4><h5 id=boot-loader-flow>12.3.3.1. Sequenza di Operazioni del Loader<a class=anchor href=#boot-loader-flow></a></h5><div class=paragraph><p>Durante l’inizializzazione, il loader controllerà la console e i dischi, e cercherà di capire da quale disco si stia avviando. Imposterà le variabili di conseguenza, ed avvierà un interprete al quale potranno essere passati i comandi dell’utente in maniera interattiva o attraverso uno script.</p></div><div class=paragraph><p>Poi il loader leggerà <span class=filename>/boot/loader.rc</span>, che di default legge i settaggi di <span class=filename>/boot/defaults/loader.conf</span> il quale imposta dei valori di default ragionevoli per le variabili e inoltre <span class=filename>/boot/loader.rc</span> legge <span class=filename>/boot/loader.conf</span> per i cambiamenti locali a quelle variabili. In base a queste variabili <span class=filename>loader.rc</span> carica i moduli ed il kernel prescelti.</p></div><div class=paragraph><p>Infine, di default, il loader attende per 10 secondi la pressione di un tasto, ed avvia il kernel se non viene interrotto. Se invece viene interrotto, viene presentato all’utente un prompt in grado di comprendere un semplice insieme di comandi, dal quale l’utente può impostare precisamente le variabili, scaricare dalla memoria tutti i moduli, o caricarli, ed infine avviare o ri-avviare.</p></div></div><div class=sect4><h5 id=boot-loader-commands>12.3.3.2. Comandi Integrati nel Loader<a class=anchor href=#boot-loader-commands></a></h5><div class=paragraph><p>Questi sono i comandi usati più comunemente. Per una discussione completa su tutti i comandi disponibili, guarda <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a>.</p></div><div class=dlist><dl><dt class=hdlist1>autoboot <em>secondi</em></dt><dd><p>Procede all’avvio del kernel se non viene interrotto nell’intervallo di tempo specificato, in secondi. Mostra un conto alla rovescia, e l’intervallo predefinito è di 10 secondi.</p></dd><dt class=hdlist1>boot [-opzioni] [nomekernel]</dt><dd><p>Procede immediatamente all’avvio del kernel, con le opzioni date, se ce ne sono, e con il nome del kernel specificato, se fornito.</p></dd><dt class=hdlist1>boot-conf</dt><dd><p>Va avanti con la stessa configurazione automatica di moduli basati sulle variabili come accade al boot. Questo ha senso solo se prima usi <code>unload</code>, e cambi delle variabili, in generale <code>kernel</code>.</p></dd><dt class=hdlist1>help [argomento]</dt><dd><p>Mostra un messaggio d’aiuto letto da <span class=filename>/boot/loader.help</span>. Se l’argomento dato è <code>index</code>, allora elenca tutti gli argomenti disponibili.</p></dd><dt class=hdlist1>include <em>nomefile</em> …​</dt><dd><p>Processa il file specificato. Il file viene letto, e interpretato riga per riga. Un errore blocca il comando include immediatamente.</p></dd><dt class=hdlist1>load [-t tipo] <em>nomefile</em></dt><dd><p>Carica il kernel, il modulo del kernel, o il file del tipo specificato, con il nome specificato. Ogni argomento dopo <em>nomefile</em> viene passato al file.</p></dd><dt class=hdlist1>ls [-l] [percorso]</dt><dd><p>Mostra un elenco dei file nel percorso dato, o nella directory root, se non ne viene specificato uno. Se è specificato <code>-l</code>, verranno mostrate anche le dimensioni dei file.</p></dd><dt class=hdlist1>lsdev [-v]</dt><dd><p>Elenca tutti i dispositivi dai quali potrebbe essere possibile caricare moduli. Se viene specificata l’opzione <code>-v</code>, verranno stampati dettagli maggiori.</p></dd><dt class=hdlist1>lsmod [-v]</dt><dd><p>Mostra i moduli caricati. Se viene specificato <code>-v</code>, verranno stampati dettagli maggiori.</p></dd><dt class=hdlist1>more <em>nomefile</em></dt><dd><p>Mostra i file specificati, con una pausa ad ogni pagina visualizzata.</p></dd><dt class=hdlist1>reboot</dt><dd><p>Riavvia immediatamente il sistema.</p></dd><dt class=hdlist1>set <em>variabile</em></dt><dd><p>Imposta le variabili di ambiente del loader.</p></dd><dt class=hdlist1>unload</dt><dd><p>Rimuove tutti i moduli caricati.</p></dd></dl></div></div><div class=sect4><h5 id=boot-loader-examples>12.3.3.3. Esempi sul Loader<a class=anchor href=#boot-loader-examples></a></h5><div class=paragraph><p>Qui ci sono alcuni esempi pratici sull’uso del loader:</p></div><div class=ulist><ul><li><p>Per avviare semplicemente il vostro kernel abituale, ma in modalità singolo utente:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell> boot <span class=nt>-s</span></code></pre></div></div></li><li><p>Per scaricare dalla memoria i moduli e il kernel usuali, e poi caricare solo il vecchio (o un altro) kernel:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell> unload
 load kernel.old</code></pre></div></div><div class=paragraph><p>Puoi usare <span class=filename>kernel.GENERIC</span> per riferirti al kernel generico che viene fornito nel disco d’installazione, o <span class=filename>kernel.old</span> per riferirti al kernel installato precedentemente (quando hai aggiornato o configurato il kernel, ad esempio).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Usa il comando seguente per caricare i tuoi soliti moduli con un altro kernel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell> unload
 <span class=nb>set </span><span class=nv>kernel</span><span class=o>=</span><span class=s2>&#34;kernel.old&#34;</span>
 boot-conf</code></pre></div></div></td></tr></tbody></table></div></li><li><p>Per caricare uno script di configurazione del kernel (uno script automatizzato che faccia le cose che faresti tu normalmente configurando il kernel all’avvio):</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell> load <span class=nt>-t</span> userconfig_script /boot/kernel.conf</code></pre></div></div></li></ul></div></div></div></div><div class=sect2><h3 id=boot-kernel>12.4. Interazione con il Kernel Durante l’Avvio<a class=anchor href=#boot-kernel></a></h3><div class=paragraph><p>Una volta che il kernel è stato caricato dal <a href=#boot-loader>loader</a> (come di consueto) o da <a href=#boot-boot1>boot2</a> (scavalcando il loader), esso esamina i suoi flag di avvio, se ce ne sono, e aggiusta il suo comportamento come necessario.</p></div><div class=sect3><h4 id=boot-kernel-bootflags>12.4.1. I Flag di Avvio del Kernel<a class=anchor href=#boot-kernel-bootflags></a></h4><div class=paragraph><p>Qui ci sono alcuni dei più comuni flag di avvio:</p></div><div class=dlist><dl><dt class=hdlist1><code>-a</code></dt><dd><p>durante l’inizializzazione del kernel, chiede il dispositivo da montare come file system di root.</p></dd><dt class=hdlist1><code>-C</code></dt><dd><p>avvia da CDROM.</p></dd><dt class=hdlist1><code>-c</code></dt><dd><p>esegue UserConfig, il programma di configurazione del kernel all’avvio</p></dd><dt class=hdlist1><code>-s</code></dt><dd><p>avvia in modalità singolo utente</p></dd><dt class=hdlist1><code>-v</code></dt><dd><p>aumenta la verbosità durante l’avvio del kernel</p></dd></dl></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Ci sono altri flag di avvio, leggi <a href="https://man.freebsd.org/cgi/man.cgi?query=boot&amp;sektion=8&amp;format=html">boot(8)</a> per maggiori informazioni su di essi.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=device-hints>12.5. Device Hints<a class=anchor href=#device-hints></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questa è una caratteristica di FreeBSD 5.0 e successive che non esiste nelle versioni precedenti.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Durante l’avvio iniziale del sistema, il boot <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> leggerà il file <a href="https://man.freebsd.org/cgi/man.cgi?query=device.hints&amp;sektion=5&amp;format=html">device.hints(5)</a>. Questo file contiene informazioni di avvio per il kernel dette variabili, e talvolta indicate come "device hints", suggerimenti per i dispositivi. Questi "device hints" vengono usati dai driver per la configurazione delle varie periferiche.</p></div><div class=paragraph><p>I device hints possono essere specificati anche nel prompt del terzo stadio <a href=#boot-loader>del boot loader</a>. Le variabili possono essere aggiunte usando il comando <code>set</code>, rimosse con <code>unset</code>, e visualizzate con <code>show</code>. Inoltre, in questo modo, le variabili impostate nel file <span class=filename>/boot/device.hints</span> possono essere scavalcate. I device hint inseriti in questo modo non sono permanenti e verranno dimenticati al riavvio seguente.</p></div><div class=paragraph><p>Una volta che il sistema è stato avviato, può essere usato il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kenv&amp;sektion=1&amp;format=html">kenv(1)</a> per mostrare tutte le variabili.</p></div><div class=paragraph><p>La sintassi per il file <span class=filename>/boot/device.hints</span> è una variabile per riga, usando il solito cancelletto "#" per indicare i commenti. Le linee sono costruite come segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell> hint.driver.unit.keyword<span class=o>=</span><span class=s2>&#34;valore&#34;</span></code></pre></div></div><div class=paragraph><p>La sintassi nel terzo stadio del boot loader è:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell> <span class=nb>set </span>hint.driver.unit.keyword<span class=o>=</span>valore</code></pre></div></div><div class=paragraph><p><code>driver</code> è il nome del driver per il dispositivo, <code>unit</code> è il numero di unità per quel driver, e <code>keyword</code> è la parola chiave per quell’hint. La parola chiave può essere:</p></div><div class=ulist><ul><li><p><code>at</code>: specifica il bus sul quale è collegato il dispositivo.</p></li><li><p><code>port</code>: specifica l’indirizzo iniziale di I/O che deve essere usato.</p></li><li><p><code>irq</code>: specifica il numero di interrupt request che deve essere usato.</p></li><li><p><code>drq</code>: specifica il numero del canale DMA.</p></li><li><p><code>maddr</code>: specifica l’indirizzo di memoria fisico occupato dal dispositivo.</p></li><li><p><code>flags</code>: imposta vari bit di flag per il dispositivo.</p></li><li><p><code>disabled</code>: se impostato a "1" il dispositivo è disabilitato.</p></li></ul></div><div class=paragraph><p>I driver possono accettare (o richiedere) più hints di quelli elencati qui, si raccomanda quindi di verificare la loro pagina di manuale. Per maggiori informazioni, consulta le pagine man <a href="https://man.freebsd.org/cgi/man.cgi?query=device.hints&amp;sektion=5&amp;format=html">device.hints(5)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=kenv&amp;sektion=1&amp;format=html">kenv(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a>, e <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a>.</p></div></div><div class=sect2><h3 id=boot-init>12.6. Init: Inizializzazione del Controllo dei Processi<a class=anchor href=#boot-init></a></h3><div class=paragraph><p>Una volta che il kernel ha finito di avviarsi, trasferisce il controllo al processo utente <code>init</code>, che si trova in <span class=filename>/sbin/init</span>, o al programma specificato nella variabile <code>init_path</code> nel <code>loader</code>.</p></div><div class=sect3><h4 id=boot-autoreboot>12.6.1. Sequenza di Riavvio Automatica<a class=anchor href=#boot-autoreboot></a></h4><div class=paragraph><p>La sequenza di riavvio automatica assicura che i file system disponibili sul sistema siano consistenti. Se qualcuno non lo è, e <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> non può risolvere le inconsistenze, <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> abbandona il sistema in <a href=#boot-singleuser>modalità singolo utente</a> per permettere all’amministratore di sistema di occuparsi dei problemi direttamente.</p></div></div><div class=sect3><h4 id=boot-singleuser>12.6.2. Modalità Singolo Utente<a class=anchor href=#boot-singleuser></a></h4><div class=paragraph><p>Questa modalità può essere raggiunta attraverso la <a href=#boot-autoreboot>sequenza di riavvio automatica</a>, o tramite l’avvio da parte dell’utente con l’opzione <code>-s</code> o impostando la variabile <code>boot_single</code> nel <code>loader</code>.</p></div><div class=paragraph><p>Si può arrivare ad essa anche richiamando <a href="https://man.freebsd.org/cgi/man.cgi?query=shutdown&amp;sektion=8&amp;format=html">shutdown(8)</a> senza l’opzione per il riavvio (<code>-r</code>) o per l’arresto (<code>-h</code>), dalla <a href=#boot-multiuser>modalità multi utente</a>.</p></div><div class=paragraph><p>Se la <code>console</code> del sistema è settata come <code>insecure</code> in <span class=filename>/etc/ttys</span>, allora il sistema richiede la password di <code>root</code> prima di entrare in modalità singolo utente.</p></div><div id=boot-insecure-console class=exampleblock><div class=title>Esempio 9. Una Console Insicura in <span class=filename>/etc/ttys</span></div><div class=content><div class="literalblock programlisting"><div class=content><pre># name  getty                           type    status          comments
#
# Se la console è settata come  &#34;insecure&#34;, allora init chiederà
# la password di root per andare in modalità singolo utente .
console none                            unknown off insecure</pre></div></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Avere una console <code>insecure</code> significa ritenere insicura la sicurezza fisica della console, ed assicurarsi che solo chi conosce la password di <code>root</code> possa usare la modalità singolo utente, non significa voler eseguire la console in maniera insicura. Dunque, se vuoi avere sicurezza, scegli <code>insecure</code>, non <code>secure</code>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=boot-multiuser>12.6.3. Modalità Multi Utente<a class=anchor href=#boot-multiuser></a></h4><div class=paragraph><p>Se <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> ritiene che i tuoi file system siano in ordine, o quando l’utente ha terminato il lavoro in <a href=#boot-singleuser>modalità singolo utente</a>, il sistema entra in modalità multi utente, nella quale inizia la configurazione delle risorse del sistema.</p></div><div class=sect4><h5 id=boot-rc>12.6.3.1. Configurazione delle Risorse (rc)<a class=anchor href=#boot-rc></a></h5><div class=paragraph><p>Il sistema di configurazione delle risorse legge i valori predefiniti della configurazione da <span class=filename>/etc/defaults/rc.conf</span>, e i dettagli specifici del sistema da <span class=filename>/etc/rc.conf</span>, e poi procede al montaggio dei file system del sistema elencati in <span class=filename>/etc/fstab</span>, avvia i servizi di rete, avvia vari demoni di sistema, ed infine esegue gli script di avvio dei pacchetti installati localmente.</p></div><div class=paragraph><p>La pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> è un buon riferimento per la configurazione delle risorse del sistema, poiché esamina gli script stessi.</p></div></div></div></div><div class=sect2><h3 id=boot-shutdown>12.7. Sequenza di Spegnimento<a class=anchor href=#boot-shutdown></a></h3><div class=paragraph><p>Al momento di uno spegnimento controllato, tramite <a href="https://man.freebsd.org/cgi/man.cgi?query=shutdown&amp;sektion=8&amp;format=html">shutdown(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=init&amp;sektion=8&amp;format=html">init(8)</a> cercherà di eseguire lo script <span class=filename>/etc/rc.shutdown</span>, e poi procederà ad inviare a tutti i processi il segnale <code>TERM</code>, e successivamente il segnale <code>KILL</code> a quelli che non sono terminati in tempo.</p></div><div class=paragraph><p>Per spegnere una macchina FreeBSD su architetture e sistemi che supportano la gestione dell’energia, usa semplicemente il comando <code>shutdown -p now</code> per disattivare immediatamente l’alimentazione. Per riavviare semplicemente un sistema FreeBSD, usa solo <code>shutdown -r now</code>. Avrai bisogno di essere <code>root</code> o un membro del gruppo <code>operator</code> per eseguire <a href="https://man.freebsd.org/cgi/man.cgi?query=shutdown&amp;sektion=8&amp;format=html">shutdown(8)</a>. Possono essere usati anche i comandi <a href="https://man.freebsd.org/cgi/man.cgi?query=halt&amp;sektion=8&amp;format=html">halt(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=reboot&amp;sektion=8&amp;format=html">reboot(8)</a>, fai riferimento alle loro pagine di man ed a quella di <a href="https://man.freebsd.org/cgi/man.cgi?query=shutdown&amp;sektion=8&amp;format=html">shutdown(8)</a> per maggiori informazioni.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>La gestione dell’energia richiede il supporto <a href="https://man.freebsd.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;format=html">acpi(4)</a> nel kernel o caricato come modulo.</p></div></td></tr></tbody></table></div></div></div></div><div class=sect1><h2 id=users>Capitolo 13. Gestione degli Utenti e degli Account di Base<a class=anchor href=#users></a></h2><div class=sectionbody><div class=sect2><h3 id=users-synopsis>13.1. Sinossi<a class=anchor href=#users-synopsis></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-introduction>13.2. Introduction<a class=anchor href=#users-introduction></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-superuser>13.3. The Superuser Account<a class=anchor href=#users-superuser></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-system>13.4. System Accounts<a class=anchor href=#users-system></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-user>13.5. User Accounts<a class=anchor href=#users-user></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-modifying>13.6. Modifying Accounts<a class=anchor href=#users-modifying></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-limiting>13.7. Limiting Users<a class=anchor href=#users-limiting></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-personalizing>13.8. Personalizing Users<a class=anchor href=#users-personalizing></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=users-groups>13.9. Groups<a class=anchor href=#users-groups></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><div class=sect1><h2 id=security>Capitolo 14. Sicurezza<a class=anchor href=#security></a></h2><div class=sectionbody><div class=sect2><h3 id=security-synopsis>14.1. Sinossi<a class=anchor href=#security-synopsis></a></h3><div class=paragraph><p>Questo capitolo dà un’introduzione di base sui concetti dei sistemi di sicurezza, alcune buone regole di comportamento e alcuni argomenti avanzati per FreeBSD. Molti degli argomenti qua trattati possono essere applicati anche ai sistemi e alla sicurezza su Internet in generale. Internet non è più il luogo "amichevole" dove ognuno vuole essere il tuo gentile vicino. Mettere in sicurezza il tuo sistema è un imperativo per la protezione dei tuoi dati, della tua proprietà intelletuale, del tuo tempo e molto altro dalla mano di hacker e simili.</p></div><div class=paragraph><p>FreeBSD dà un insieme di utility e di meccanismi per assicurare l’integrità e la sicurezza del tuo sistema e della tua rete.</p></div><div class=paragraph><p>Dopo la lettura di questo capitolo, conoscerai:</p></div><div class=ulist><ul><li><p>Concetti di base dei sistemi di sicurezza, rispetto a FreeBSD.</p></li><li><p>Vari meccanismi di crittografia disponibili in FreeBSD, come DES e MD5.</p></li><li><p>Come configurare l’autenticazione OTP (password a singolo uso).</p></li><li><p>Come configurare i TCP Wrapper per l’uso con <code>inetd</code>.</p></li><li><p>Come configurare KerberosIV su FreeBSD.</p></li><li><p>Come configurare Kerberos5 su FreeBSD 5.0 o successivi.</p></li><li><p>Come configurare IPsec e creare una VPN tra macchine FreeBSD/Windows®.</p></li><li><p>Come configurare e usare OpenSSH, l’implementaizone SSH usata da FreeBSD.</p></li><li><p>Cosa sono le ACL del file system e come usarle.</p></li><li><p>Come usare l’utility Portaudit per monitorare i pacchetti software di terze parti installati dalla Ports Collection.</p></li><li><p>Come utilizzare le pubblicazioni sugli avvisi di sicurezza di FreeBSD.</p></li><li><p>Avere un’idea di cosa sia il Process Accounting e come abilitarlo su FreeBSD.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo dovresti:</p></div><div class=ulist><ul><li><p>Capire concetti base di FreeBSD e Internet.</p></li></ul></div><div class=paragraph><p>Altri argomenti inerenti la sicurezza sono trattati in altre parti di questo libro. Ad esempio i meccanismy di MAC sono discussi in <a href=./#mac>Controllo di Accesso Vincolato</a> e la gestione dei firewall in <a href=./#firewalls>Firewall</a>.</p></div></div><div class=sect2><h3 id=security-intro>14.2. Introduzione<a class=anchor href=#security-intro></a></h3><div class=paragraph><p>La sicurezza è una funzione che inizia e finisce con l’amministratore di sistema. Nonostante ogni sistema multi-utente UNIX® BSD abbia della sicurezza insita, il lavoro di costruire e mantenere meccanismi di sicurezza aggiuntivi in modo da mantenere "onesti" gli utenti è probabilmente uno dei maggiori lavori di un amministratore di sistema. La macchine sono sicure solo quanto le si rende e le richieste di sicurezza si scontrano sempre con l’umana necessità per la comodità. I sistemi UNIX®, in generale, sono capaci di eseguire un gran numero di processi contemporanei e ognuno di questi processi opera come server - nel senso che entità esterne possono connettersi e parlarci. Mentre i mini e i mainframe di ieri diventano i desktop di oggi, mentre i computer diventano interconnessi e internet-connessi, la sicurezza diventa un problema sempre maggiore.</p></div><div class=paragraph><p>La sicurezza di un sistema riguarda anche il gestire varie forme di attacco, compresi attacchi che tentano di bloccare, o comunque rendere inusabile, il sistema, anche se non necessariamente cercano di compromettere l’account di root <code>root</code> ("rompere root"). I problemi di sicurezza possono essere suddivisi in svariate categorie:</p></div><div class="olist arabic"><ol class=arabic><li><p>Attacchi che limitano la disponibilità dei servizi ("Denial of service" o, in breve, DoS).</p></li><li><p>Compromissione degli account utente.</p></li><li><p>Compromissione di root tramite server accessibili.</p></li><li><p>Compromissione di root tramite gli account utente.</p></li><li><p>Crazione di backdoor (letteralmente "porte sul retro", ovvero accessi secondari personalizzati).</p></li></ol></div><div class=paragraph><p>Un attacco DoS è un’azione che priva la macchina di risorse. Tipicamente un attacco DoS è un meccanismo a forza-bruta che tenta di bloccare e comunque rendere inusabile una macchina travolgendo di richieste i server che rende disponibili o direttamente lo stack di rete. Alcuni attacchi DoS tentano di trarre vantaggio da bug nello stack di rete per bloccare la macchina con un singolo pacchetto. Questo genere di attacchi può evitato solo mettendo a posto il bug direttamente nel kernel. Gli attacchi sui server possono spesso essere evitati specificando con attenzione dei limiti sul carico che i server stessi devono accettare in caso che il sistema lavori in condizioni avverse. Gli attacchi a forza-bruta generati da un’intera rete di attaccanti sono più difficili da gestire. Ad esempio un attacco con pacchetti in spoof (ovvero con il campo mittente falsato) è praticamente impossibile da fermare, a meno di staccare del tutto il sistema da Internet. Potrà anche non fermare la tua macchina, ma sicuramente può saturare la tua connessione Internet.</p></div><div class=paragraph><p>La compromissione di un account utente è ancora più comune di un attacco DoS. Molti sysadmin usano ancora i server standard telnetd, rlogind, rshd e ftpd sulle loro macchine. Questi programmi, normalmente, non usano connessioni crittate. Il risultato è che quando hai una base utenti di medie dimensioni, uno o più degli utenti connessi al tuo sistema da remoto (il modo più comune e conveniente per collegarsi a un sisetma) avrà una password compromessa da un’operaizone di sniffing. Gli amministratori di sistema attenti controllano i registri degli accessi remoto cercando indirizzi sospetti anche tra gli accessi permessi.</p></div><div class=paragraph><p>Bisogna sempre dare per scontato che una volta che un attaccante ha accesso ad un account utente, può rompere anche <code>root</code>. In realtà, comunque, in un sistema ben configurato e mantenuto, questo non è necessariamente vero. La distinzione è importante perché senza accesso a <code>root</code> l’attaccante in genere non può nascondere le proprie tracce e può, alla peggio, rovinare i file dell’utente o mandare la macchina in crash. La compromissione degli account utente è molto comune dato che gli utenti tendono a non prendere precauzioni tanto quanto gli amministratori di sistema.</p></div><div class=paragraph><p>Gli amministratori di sistema devono ricordare che su una macchina ci sono potenzialmente molti modi per rompere <code>root</code>. L’attaccante potrebbe conoscere la password di <code>root</code>, potrebbe trovare un bug in un programma server in esecuzione con diritti di <code>root</code> e sfruttarlo per entrare da remoto, oppure una volta ottenuto un account utente potrebbe fare lo stesso con un bug in un programma con suid <code>root</code>. Se un attaccante rompe <code>root</code> su una macchina, potrebbe non aver bisogno di installare una backdoor. Molti dei buchi per l’accesso come <code>root</code> trovati (e chiusi) fino ad oggi richiedono un considerevole lavoro da parte dell’attaccante per pulire le tracce lasciate, quindi molti attaccanti installano delle backdoor. Una backdoor dà all’attaccante un modo semplice per riottenere accesso <code>root</code> al sistema, ma danno anche un modo semplice per individuare l’intrusione, all’amministratore di sistema furbo. Rendere impossibile installare backdoor all’attaccante potrebbe in realtà diminuire la sicurezza del sistema, dato che comunque non chiuderà il buco che l’attaccante ha trovato la prima volta.</p></div><div class=paragraph><p>Le soluzioni di sicurezza devono sempre essere implementate con un approccio multi-strato a "cipolla" e possono essere categorizzate come segue:</p></div><div class="olist arabic"><ol class=arabic><li><p>Rendere sicuro <code>root</code> e gli account dello staff.</p></li><li><p>Rendere sicuri i server e i binari suid/sgid in esecuzione come <code>root</code>.</p></li><li><p>Rendere sicuri gli account utente.</p></li><li><p>Rendere sicuro il file delle password.</p></li><li><p>Rendere sicuro il nucleo del kernel, i device raw e il file system.</p></li><li><p>Individuazione rapida delle modifiche non appropriate fatte al sistema.</p></li><li><p>Paranoia.</p></li></ol></div><div class=paragraph><p>La prossima sezione di questo capitolo coprirà questi punti in maggior dettaglio.</p></div></div><div class=sect2><h3 id=securing-freebsd>14.3. Rendere sicuro FreeBSD<a class=anchor href=#securing-freebsd></a></h3><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=title>Comandi o Protocolli</div><div class=paragraph><p>In questo documento useremo testo grassetto per riferirci ad applicazioni e testo <code>a spaziatura fissa</code> per riferirci a specifici comandi. I protocolli useranno un font normale. Questa distinzione tipografica è utile per casi come ssh, che è un protocollo oltre che un comando.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Le sezioni seguenti descrivono i metodi per rendere sicuro il vostro sistema FreeBSD che sono stati menzionati nella <a href=#security-intro>sezione precedente</a> di questo capitolo.</p></div><div class=sect3><h4 id=securing-root-and-staff>14.3.1. Rendere sicuro <code>root</code> e gli account dello staff.<a class=anchor href=#securing-root-and-staff></a></h4><div class=paragraph><p>Innanzitutto, non preoccuparti di rendere sicuri gli account di staff se non hai reso sicuro l’account <code>root</code>. La maggior parte dei sistemi hanno una password assegnata per l’account <code>root</code>. La prima cosa che devi dare per assunta è che la password è <em>sempre</em> compromessa. Questo non significa che devi togliere la password; la password è quasi sempre necessaria per l’accesso dalla console della macchina. Quello che questo significa è che non dovresti render possibile l’uso di questa password tranne che da console e possibilmente neanche dal comando <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a>. Per esempio, assicurati che le tue pty siano specificate come <code>insecure</code> nel file <span class=filename>/etc/ttys</span> in modo che accessi diretti <code>root</code> tramite <code>telnet</code> o <code>rlogin</code> non siano permessi. Se usi altri servizi di login come ad esempio sshd, fai in modo che accessi diretti come <code>root</code> siano vietati anche per questi. Puoi farlo modificando il file <span class=filename>/etc/ssh/sshd_config</span> e assicurandoti che <code>PermitRootLogin</code> sia impostato a <code>NO</code>. Tieni conto di tutti i modi di accesso - servizi come ad esempio FTP vengono spesso trascurati. Login <code>root</code> diretti dovrebbero essere permessi solo tramite la console di sistema.</p></div><div class=paragraph><p>Ovviamente, come sysadmin (amministratore di sistema) hai bisogno di accesso a <code>root</code>, quindi apriremo alcuni passaggi; ci assicureremo però che questi passaggi richiedano ulteriori verifiche di password per funzionare. Un modo per accedere a <code>root</code> è aggiungere gli appropriati account di staff al gruppo <code>wheel</code> (in <span class=filename>/etc/group</span>). I membri del gruppo <code>wheel</code> possono accedere a <code>root</code> tramite <code>su</code>. Non dovresti mai dare ai membri dello staff accesso nativo al gruppo <code>wheel</code> mettendoli in quel gruppo nel file <span class=filename>/etc/passwd</span>; dovresti metterli nel gruppo <code>staff</code> e quindi aggiungerli al gruppo <code>wheel</code> tramite il file <span class=filename>/etc/group</span>. Solo i membri dello staff che hanno effettivo bisogno di accesso a <code>root</code> dovrebbero essere nel gruppo <code>wheel</code> group. Altra possibilità, quando si utilizzi Kerberos come metodo di autenticazione, ` quella di utilizzare il file <span class=filename>.k5login</span> dell’account <code>root</code> in modo da permettere l’accesso a <code>root</code> tramite <a href="https://man.freebsd.org/cgi/man.cgi?query=ksu&amp;sektion=1&amp;format=html">ksu(1)</a> senza bisogno di mettere nessuno nel gruppo <code>wheel</code>. Questa potrebbe essere la soluzione migliore dato che il meccanismo <code>wheel</code> permette all’attaccante di diventare <code>root</code> se è riuscito ad ottenere accesso ad un account di staff. Benché il meccanismo <code>wheel</code> sia meglio di niente, non è necessariamente la soluzione più sicura.</p></div><div class=paragraph><p>Un metodo indiretto per rendere sicuri gli account di staff e quindi l’accesso a <code>root</code> è quello di eseguire l’operazione nota come "starring" delle password cifrate. password for the staff accounts: utilizzando il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=vipw&amp;sektion=8&amp;format=html">vipw(8)</a> si può rimpiazzare ogni password cifrata con un singolo carattere “*” (asterisco, in inglese "star"). Questo comando aggiorna il file <span class=filename>/etc/master.passwd</span> e il database utenti/password in modo da disabilitare i login autenticati da password.</p></div><div class=paragraph><p>Un account di staff come il seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>foobar:R9DT/Fa1/LV9U:1000:1000::0:0:Foo Bar:/home/foobar:/usr/local/bin/tcsh</pre></div></div><div class=paragraph><p>Andrebbe modificato così:</p></div><div class="literalblock programlisting"><div class=content><pre>foobar:*:1000:1000::0:0:Foo Bar:/home/foobar:/usr/local/bin/tcsh</pre></div></div><div class=paragraph><p>Questo previene i normali login dato che la password cifrata non sarà mai “*”. Fatto questo i membri dello staff dovranno utilizzare un diverso meccanismo di autenticazione come ad esempio <a href="https://man.freebsd.org/cgi/man.cgi?query=kerberos&amp;sektion=1&amp;format=html">kerberos(1)</a> o <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> utilizzando una coppia di chiavi pubblica/privata. Utilizzando Kerberos bisogna generalmente rendere sicure sia le macchine su cui viene eseguito il server Kerberos che la propria workstation. Utilizzando una coppia di chiavi bisogna in generale rendere sicura la macchina <em>da cui</em> ci si sta collegando (in genere la propria workstation); si può aggiungere un ulteriore strato di protezione proteggendo la coppia di chiavi con una password all’atto della creazione con <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1&amp;format=html">ssh-keygen(1)</a>. Eseguire lo "starring" degli account dello staff garantisce che questi possano eseguire il login solo tramite i metodi di accesso sicuri che sono stati configutati. Quest forze l’intero staff all’uso di connessioni sicure e cifrate in tutte le loro sessioni, chiudendo un importante falla di sicurezza utilizzata da molti attaccanti: ascoltare il traffico di rete da un’altra macchina meno sicura.</p></div><div class=paragraph><p>I meccanismi di sicurezza più indiretti assumono anche che ci si colleghi da un server più restrittivo a uno che lo è di meno; per esempio se il tuo server primario ha in esecuzione una grande varietà di servizi, la tua workstation non dovrebbe averne in esecuzione nessuno. Per fare in modo che la tua workstation sia ragionevolmente sicura dovresti eseguire meno servizi possibile, o perfino nessuno del tutto, e dovresti utilizzare uno screen saver protetto da password. Ovviamente, avendo accesso fisico alla workstation un attaccante può rompere qualsiasi protezione che tu possa aver importato, ma bisogna sempre considerare che la magior parte degli attacchi avviene remotamente, tramite una rete, da parte di persone che non hanno accesso fisico alle tue workstation o ai tuoi server.</p></div><div class=paragraph><p>L’uso di sistemi come Kerberos permette di disabilitare o cambiare la pasword ad un account di staff in un solo posto ed avere effeto immediato su tutte le macchine in cui il membro dello staff ha un account. Nel caso l’account di un membro dello staff venga compromesso, la possibilità di poter cambiare la sua password su tutte le macchine non ` cosa di poco conto. Con password separate, cambiare una password su molte macchine può essere un bel problema. Con Kerberos puoi anche imporre restrizioni di cambio password: non solo un ticket Kerberos può essere fatto per scadere dopo un tempo predeterminato, ma il sistema Kerberos può richiedere all’utente di scegliere una nuova passsword dopo un certo periodo di tempo (per esempio, una volta al mese).</p></div></div><div class=sect3><h4 id=_rendere_sicuri_i_server_root_e_i_binari_suidsgid>14.3.2. Rendere sicuri i server Root e i binari SUID/SGID<a class=anchor href=#_rendere_sicuri_i_server_root_e_i_binari_suidsgid></a></h4><div class=paragraph><p>Il sysadmin prudente esegue soltanto i server che gli sono necessari, ná di più né di meno. Bisogna tenere conto del fatto che i server di terze parti sono generalmente i più affetti da bug. Per esempio, utilizzare una versione obsoleta di imapd o popper è equivalente a dare accesso <code>root</code> al mondo intero. Non eseguire mai un server senza controllarlo accuratamente. Molti server non hanno bisogno di essere eseguiti come <code>root</code>. Per esempio i demoni ntalk, comsat e finger possono essere eseguiti in speciali <em>sandbox</em> utente. Difficilmente una sandbox sarà una soluzione completa del problema, a meno di dedicarci parecchio tempo, ma resta valido l’approccio a cipolla alla sicurezza: se qualcuno riesce ad irrompere in un server eseguito in una sandbox, deve ancora riuscire ad evadere da quest’ultima. Più strati l’attaccante deve superare, minore la sua probabilità di successo. Storicamente sono state trovate falle di accesso a root in virtualmente ogni server mai eseguito come <code>root</code>, inclusi i server del sistema base. Se hai una macchina alla quale la gente accede solamente tramite sshd e mai tramite telnetd o rshd o rlogind, allora disattiva questi servizi!</p></div><div class=paragraph><p>FreeBSD attualmente esegue per default ntalkd, comsat e finger in una sandbox. Un altro programma candidato ad essere eseguito in una sandbox è <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a>. <span class=filename>/etc/defaults/rc.conf</span> comprende le opzioni necessarie per eseguire named in una sandbox in forma comentata. A seconda se state installando un nuovo sistema o aggiornando un sistema esistente, gli speciali account utente utilizzati da queste sandbox potrebbero non essere presenti. Il sysadmin prudente dovrebbe cercar di utilizzare delle sandbox per i server ogniqualvolta possibile.</p></div><div class=paragraph><p>Esiste un certo numero di altri servizi che generalmente non vengono eseguiti in una sandbox: sendmail, popper, imapd, ftpd e altri. Ci sono software alternativi ad alcuni di questi ma installarli potrebbe richiedere più lavoro di quello che si intende dedicargli (il fattore convenienza colpisce ancora). Potresti dover eseguire questi servizi come <code>root</code> ed affidarti ad altri meccanismi per individuare le intrusioni che potrebbero essere fatte attraverso questi.</p></div><div class=paragraph><p>L’altra grande potenziale fonte di falle per l’accesso a <code>root</code> sono i binari suid-root e sgid installati nel sistema, come ad esempio rlogin, nelle directory <span class=filename>/bin</span>, <span class=filename>/sbin</span>, <span class=filename>/usr/bin</span> o <span class=filename>/usr/sbin</span>. Benché niente sia sicuro al 100%, i binari suid e sgid presenti nel sistema per default possono essere considerati ragionevolmente sicuri. In ogni caso, delle falle da <code>root</code> sono occasionalmente trovate anche in questi. Nel 1998 è stata trovata una falla da <code>root</code> in <code>Xlib</code> che rendeva vulnerabile xterm (che tipicamente è suid). It is better to be safe than sorry and the prudent sysadmin will restrict suid binaries, that only staff should run, to a special group that only staff can access, and get rid of (<code>chmod 000</code>) any suid binaries that nobody uses. A server with no display generally does not need an xterm binary. Sgid binaries can be almost as dangerous. If an intruder can break an sgid-kmem binary, the intruder might be able to read <span class=filename>/dev/kmem</span> and thus read the encrypted password file, potentially compromising any passworded account. Alternatively an intruder who breaks group <code>kmem</code> can monitor keystrokes sent through ptys, including ptys used by users who login through secure methods. An intruder that breaks the <code>tty</code> group can write to almost any user’s tty. If a user is running a terminal program or emulator with a keyboard-simulation feature, the intruder can potentially generate a data stream that causes the user’s terminal to echo a command, which is then run as that user.</p></div></div><div class=sect3><h4 id=secure-users>14.3.3. Rendere sicuri gli account utente<a class=anchor href=#secure-users></a></h4><div class=paragraph><p>Gli account utente sono generalmente i più difficili da rendere sicuri. Bench*eacute; tu possa imporre restrizioni d’accesso allo staff ed eseguire lo "starring" delle loro password, potresti non poter farlo con l’account di un generico utente. Se hai sufficiente controllo potesti farcela e rendere gli account utente sufficientemente sicuri, altrimenti dovrai essere più vigile nel controllo di questi account. L’uso di ssh e Kerberos per gli account utente è più problematico, a causa del maggiore supporto amministrativo e tecnico richiesto, ma è sempre un’ottima soluzione se confrontata all’uso di un file password cifrato.</p></div></div><div class=sect3><h4 id=_rendere_sicuro_il_file_password>14.3.4. Rendere sicuro il file password<a class=anchor href=#_rendere_sicuro_il_file_password></a></h4><div class=paragraph><p>L’unica strada sicura è quella di eseguire lo starring so più password possibile e utilizzare ssh o Kerberos per accedere a quegli account. Anche se il file di password cifrato (<span class=filename>/etc/spwd.db</span>) può essere letto solo da <code>root</code>, potrebbe essere possibile per un attaccante ottenere accesso in lettura a quel file anche senza aver ottenuto accesso in scrittura.</p></div><div class=paragraph><p>I tuoi script di sicurezza dovrebbero sempre verificare che il file password non venga modificato e in caso riportarlo ad un amministratore (cfr. la sezione <a href=#security-integrity>Verifica dell’integrità dei file</a> sottostante).</p></div></div><div class=sect3><h4 id=_rendere_sicuri_il_kernel_i_raw_device_e_i_file_system>14.3.5. Rendere sicuri il kernel, i raw device e i file system<a class=anchor href=#_rendere_sicuri_il_kernel_i_raw_device_e_i_file_system></a></h4><div class=paragraph><p>Quando un attaccante irrompe nell’account di <code>root</code> può fare qualsiasi cosa, ma alcune cose sono più comode di altre. Per esempio, la maggior parte dei kernel moderni comprende un device per l’ascolto dei pacchetti di rete. In FreeBSD questo device si chiama <span class=filename>bpf</span>. Un intrusore generalmente cercherà di ascoltare i pacchetti delle reti a cui la macchina compromessa è collegata. Non ò obbligatorio dare all’intrusore questa possibilità e d’altro canto la maggior parte dei sistemi non ha bisogno di avere il device <span class=filename>bpf</span>.</p></div><div class=paragraph><p>Anche nel caso di aver disattivato il device <span class=filename>bpf</span>, bisogna comunque preoccuparsi di <span class=filename>/dev/mem</span> e <span class=filename>/dev/kmem</span>; tra l’altro l’intrusore ha anche la possibilità di scrivere sui device disco raw o utilizzare il comando di caricamento moduli del kernel, <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a>. Un intrusore intraprendente può utilizzare un proprio modulo del kernel per l’ascolto dei pacchetti e caricarlo su un kernel in esecuzione. Per evitare questi problemi bisogna eseguire il kernel ad un livello di sicurezza più alto, almeno al livello 1. Il livello di sicurezza può essere impostato con <code>sysctl</code> modificando la variabile <code>kern.securelevel</code>. Se il livello di sicurezza è impostato ad 1, l’accesso in scrittura ai device raw sarà negato e alcuni <code>chflags</code> speciali, come ad esempio <code>schg</code>, verranno verificati. Devi anche verificare che il flag <code>schg</code> sia impostato sui binari, cartelle e script utilizzati all’avvio prima dell’impostazione del livello di sicurezza. L’uso di un livello di sicurezza superiore potrebbe essere una misura eccesiva, dato che rende l aggiornamento del sistema molto più complesso. You may compromise and run the system at a higher secure level but not set the <code>schg</code> flag for every system file and directory under the sun. Another possibility is to simply mount <span class=filename>/</span> and <span class=filename>/usr</span> read-only. It should be noted that being too draconian in what you attempt to protect may prevent the all-important detection of an intrusion.</p></div></div><div class=sect3><h4 id=security-integrity>14.3.6. Verifica dell’integrità dei file: binari, file di configurazione, etc.<a class=anchor href=#security-integrity></a></h4><div class=paragraph><p>TODO:When it comes right down to it, you can only protect your core system configuration and control files so much before the convenience factor rears its ugly head. For example, using <code>chflags</code> to set the <code>schg</code> bit on most of the files in <span class=filename>/</span> and <span class=filename>/usr</span> is probably counterproductive, because while it may protect the files, it also closes a detection window. The last layer of your security onion is perhaps the most important - detection. The rest of your security is pretty much useless (or, worse, presents you with a false sense of security) if you cannot detect potential intrusions. Half the job of the onion is to slow down the attacker, rather than stop him, in order to be able to catch him in the act.</p></div><div class=paragraph><p>The best way to detect an intrusion is to look for modified, missing, or unexpected files. The best way to look for modified files is from another (often centralized) limited-access system. Writing your security scripts on the extra-secure limited-access system makes them mostly invisible to potential attackers, and this is important. In order to take maximum advantage you generally have to give the limited-access box significant access to the other machines in the business, usually either by doing a read-only NFS export of the other machines to the limited-access box, or by setting up ssh key-pairs to allow the limited-access box to ssh to the other machines. Except for its network traffic, NFS is the least visible method - allowing you to monitor the file systems on each client box virtually undetected. If your limited-access server is connected to the client boxes through a switch, the NFS method is often the better choice. If your limited-access server is connected to the client boxes through a hub, or through several layers of routing, the NFS method may be too insecure (network-wise) and using ssh may be the better choice even with the audit-trail tracks that ssh lays.</p></div><div class=paragraph><p>Once you have given a limited-access box at least read access to the client systems it is supposed to monitor, you must write scripts to do the actual monitoring. Given an NFS mount, you can write scripts out of simple system utilities such as <a href="https://man.freebsd.org/cgi/man.cgi?query=find&amp;sektion=1&amp;format=html">find(1)</a> and <a href="https://man.freebsd.org/cgi/man.cgi?query=md5&amp;sektion=1&amp;format=html">md5(1)</a>. It is best to physically md5 the client-box files at least once a day, and to test control files such as those found in <span class=filename>/etc</span> and <span class=filename>/usr/local/etc</span> even more often. When mismatches are found, relative to the base md5 information the limited-access machine knows is valid, it should scream at a sysadmin to go check it out. A good security script will also check for inappropriate suid binaries and for new or deleted files on system partitions such as <span class=filename>/</span> and <span class=filename>/usr</span>.</p></div><div class=paragraph><p>When using ssh rather than NFS, writing the security script is much more difficult. You essentially have to <code>scp</code> the scripts to the client box in order to run them, making them visible, and for safety you also need to <code>scp</code> the binaries (such as find) that those scripts use. The ssh client on the client box may already be compromised. All in all, using ssh may be necessary when running over insecure links, but it is also a lot harder to deal with.</p></div><div class=paragraph><p>A good security script will also check for changes to user and staff members access configuration files: <span class=filename>.rhosts</span>, <span class=filename>.shosts</span>, <span class=filename>.ssh/authorized_keys</span> and so forth, files that might fall outside the purview of the <code>MD5</code> check.</p></div><div class=paragraph><p>If you have a huge amount of user disk space, it may take too long to run through every file on those partitions. In this case, setting mount flags to disallow suid binaries and devices on those partitions is a good idea. The <code>nodev</code> and <code>nosuid</code> options (see <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a>) are what you want to look into. You should probably scan them anyway, at least once a week, since the object of this layer is to detect a break-in attempt, whether or not the attempt succeeds.</p></div><div class=paragraph><p>Process accounting (see <a href="https://man.freebsd.org/cgi/man.cgi?query=accton&amp;sektion=8&amp;format=html">accton(8)</a>) is a relatively low-overhead feature of the operating system which might help as a post-break-in evaluation mechanism. It is especially useful in tracking down how an intruder has actually broken into a system, assuming the file is still intact after the break-in has occurred.</p></div><div class=paragraph><p>Finally, security scripts should process the log files, and the logs themselves should be generated in as secure a manner as possible - remote syslog can be very useful. An intruder will try to cover his tracks, and log files are critical to the sysadmin trying to track down the time and method of the initial break-in. One way to keep a permanent record of the log files is to run the system console to a serial port and collect the information to a secure machine monitoring the consoles.</p></div></div><div class=sect3><h4 id=_paranoia>14.3.7. Paranoia<a class=anchor href=#_paranoia></a></h4><div class=paragraph><p>Un po' di paranoia non fa mai male. Come regola, un sysadmin può aggiungere qualsiasi feature di sicurezza fintantoché non impattano la comodità e può aggiungerne altre <em>che la</em> impattano, ma solo dopo averci pensato bene. Even more importantly, a security administrator should mix it up a bit - if you use recommendations such as those given by this document verbatim, you give away your methodologies to the prospective attacker who also has access to this document.</p></div></div><div class=sect3><h4 id=_attacchi_denial_of_service>14.3.8. Attacchi Denial of Service<a class=anchor href=#_attacchi_denial_of_service></a></h4><div class=paragraph><p>Questa sezione parla degli attacchi Denial of Service, ovvero quelli atti ad interrompere i servizi in esecuzione su una macchina. Tipicamente un attacco DoS è un attacco a pacchetto; benché non si possa fare molto riguardo ad un attacco moderno che satura la vostra rete con pacchetti , si può cercare di limitare il danno assicurandosi che l’attacco non blocchi i vostri servizi, utilizzando le seguenti tecniche:</p></div><div class="olist arabic"><ol class=arabic><li><p>Limitare le fork dei server.</p></li><li><p>TODO:Limiting springboard attacks (ICMP response attacks, ping broadcast, etc.).</p></li><li><p>Sovraccaricare la Kernel Route Cache.</p></li></ol></div><div class=paragraph><p>Un comune scenario è l’attacco di un server che fa fork e fargli creare così tanti processi figli da esaurire le risorse della macchina, come ad esempio la memoria, i file descriptor o altri e costringerlo quindi a fermarsi. inetd (cfr. <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a>) ha molte opzioni per limitare questo tipo di attacchi. Si deve notare che benché sia possibile evitare che la macchina si fermi, non è generalmente possibile evitare che i servizi vengano resi non disponibili dall’attacco. Leggete attentamente la pagina del manuale di inetd, con particolare attenzione alle opzioni <code>-c</code>, <code>-C</code> e <code>-R</code>. Un attacco con IP aggira l’opzione <code>-C</code> quindi è bene utilizzare una combinazione di opzioni. Alcuni server indipendenti hanno meccanismi interni per la limitazione delle fork.</p></div><div class=paragraph><p>Sendmail ha l’opzione <code>-OMaxDaemonChildren</code> che generalmente funziona molto meglio che cercare di utilizzare le funzioni di limitazione basate sul carico della macchina, a causa del ritardo di aggiornamento del valore di carico. Quando lanci sendmail dovresti specificare un parametro <code>MaxDaemonChildren</code> abbastanza alto da gestire il carico previsto , ma non così alto da non essere gestibile dal computer. È anche prudente eseguire Sendmail in modalità queued (<code>-ODeliveryMode=queued</code>) ed eseguire il demone (<code>sendmail -bd</code>) separatamente dalla gestione code (<code>sendmail -q15m</code>). Se vuoi che i messaggi vengano consegnati in tempo reale puoi utilizzare un intervallo molto più breve, come ad esempio <code>-q1m</code>, ma assicurati di utilizzare un valore <code>MaxDaemonChildren</code> adatto per <em>quel</em> Sendmail, in modo da prevenire problemi a catena.</p></div><div class=paragraph><p>Syslogd può essere attaccato direttamente ed è fortemente consigliato l’uso dell’opzione <code>-s</code> quando possibile, o al limite l’opzione <code>-a</code>.</p></div><div class=paragraph><p>You should also be fairly careful with connect-back services such as TCP Wrapper’s reverse-identd, which can be attacked directly. You generally do not want to use the reverse-ident feature of TCP Wrapper for this reason.</p></div><div class=paragraph><p>È un’ottima idea quella di proteggere i servizi interni dall’accesso esterno chiudendoli tramite regole del firewall ai bordi della vostra rete. L’idea è di prevenire gli attacchi a saturazione provenienti dall’esterno della vostra rete, non tanto di proteggere i servizi da attacchi di rete atti a compromettere <code>root</code>. Utilizza sempre un firewall , ovvero "blocca tutto <em>tranne</em> le porte A, B, C, D e M-Z"; puoi bloccare tutte le porte basse ad eccezione di specifici servizi quali named (se sei primario per una zona), ntalkd, sendmail e altri servizi accessibili da Internet. Se tu cercassi di configurare il firewall in maniera opposta (inclusivo o permissivo) c’è una buona probabilità che tu ti scordi di "chiudere" qualche servizio o che tu aggiunga un nuovo servizio interno e dimentichi di aggiornare il firewall. Puoi comunque lasciare aperte tutte le porte , permettendo un uso permissivo, senza però compromettere le porte . Nota anche che FreeBSD ti permette di controllare l’intervallo di porte utilizzate per il binding dinamico tramite vari <code>sysctl net.inet.ip.portrange</code> (<code>sysctl -a | fgrep portrange</code>), che possono semplificare la complessità di configurazione del tuo firewall.</p></div><div class=paragraph><p>Another common DoS attack is called a springboard attack - to attack a server in a manner that causes the server to generate responses which overloads the server, the local network, or some other machine. The most common attack of this nature is the <em>ICMP ping broadcast attack</em>. The attacker spoofs ping packets sent to your LAN’s broadcast address with the source IP address set to the actual machine they wish to attack. If your border routers are not configured to stomp on ping packets to broadcast addresses, your LAN winds up generating sufficient responses to the spoofed source address to saturate the victim, especially when the attacker uses the same trick on several dozen broadcast addresses over several dozen different networks at once. Broadcast attacks of over a hundred and twenty megabits have been measured. A second common springboard attack is against the ICMP error reporting system. By constructing packets that generate ICMP error responses, an attacker can saturate a server’s incoming network and cause the server to saturate its outgoing network with ICMP responses. This type of attack can also crash the server by running it out of memory, especially if the server cannot drain the ICMP responses it generates fast enough. Use the sysctl variable <code>net.inet.icmp.icmplim</code> to limit these attacks. The last major class of springboard attacks is related to certain internal inetd services such as the udp echo service. An attacker simply spoofs a UDP packet with the source address being server A’s echo port, and the destination address being server B’s echo port, where server A and B are both on your LAN. The two servers then bounce this one packet back and forth between each other. The attacker can overload both servers and their LANs simply by injecting a few packets in this manner. Similar problems exist with the internal chargen port. A competent sysadmin will turn off all of these inetd-internal test services.</p></div><div class=paragraph><p>Spoofed packet attacks may also be used to overload the kernel route cache. Refer to the <code>net.inet.ip.rtexpire</code>, <code>rtminexpire</code>, and <code>rtmaxcache sysctl</code> parameters. A spoofed packet attack that uses a random source IP will cause the kernel to generate a temporary cached route in the route table, viewable with <code>netstat -rna | fgrep W3</code>. These routes typically timeout in 1600 seconds or so. If the kernel detects that the cached route table has gotten too big it will dynamically reduce the <code>rtexpire</code> but will never decrease it to less than <code>rtminexpire</code>. There are two problems:</p></div><div class="olist arabic"><ol class=arabic><li><p>The kernel does not react quickly enough when a lightly loaded server is suddenly attacked.</p></li><li><p>The <code>rtminexpire</code> is not low enough for the kernel to survive a sustained attack.</p></li></ol></div><div class=paragraph><p>If your servers are connected to the Internet via a T3 or better, it may be prudent to manually override both <code>rtexpire</code> and <code>rtminexpire</code> via <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>. Never set either parameter to zero (unless you want to crash the machine). Setting both parameters to 2 seconds should be sufficient to protect the route table from attack.</p></div></div><div class=sect3><h4 id=_access_issues_with_kerberos_and_ssh>14.3.9. Access Issues with Kerberos and SSH<a class=anchor href=#_access_issues_with_kerberos_and_ssh></a></h4><div class=paragraph><p>There are a few issues with both Kerberos and ssh that need to be addressed if you intend to use them. Kerberos 5 is an excellent authentication protocol, but there are bugs in the kerberized telnet and rlogin applications that make them unsuitable for dealing with binary streams. Also, by default Kerberos does not encrypt a session unless you use the <code>-x</code> option. ssh encrypts everything by default.</p></div><div class=paragraph><p>Ssh works quite well in every respect except that it forwards encryption keys by default. What this means is that if you have a secure workstation holding keys that give you access to the rest of the system, and you ssh to an insecure machine, your keys are usable. The actual keys themselves are not exposed, but ssh installs a forwarding port for the duration of your login, and if an attacker has broken <code>root</code> on the insecure machine he can utilize that port to use your keys to gain access to any other machine that your keys unlock.</p></div><div class=paragraph><p>We recommend that you use ssh in combination with Kerberos whenever possible for staff logins. Ssh can be compiled with Kerberos support. This reduces your reliance on potentially exposed ssh keys while at the same time protecting passwords via Kerberos. Ssh keys should only be used for automated tasks from secure machines (something that Kerberos is unsuited to do). We also recommend that you either turn off key-forwarding in the ssh configuration, or that you make use of the <code>from=IP/DOMAIN</code> option that ssh allows in its <span class=filename>authorized_keys</span> file to make the key only usable to entities logging in from specific machines.</p></div></div></div><div class=sect2><h3 id=crypt>14.4. DES, MD5 e Crypt<a class=anchor href=#crypt></a></h3><div class=paragraph><p>Ogni utente su un sistema UNIX® ha una password associata con il proprio account. È pvviamente necessario che queste password siano note solamente all’utente e al sistema operativo vero e proprio. Per poter mantenere segrete queste password, sono cifrate con quello che si chiama un "one-way hash", ovvero possono essere facilmente cifrate ma non decifrate. In altre parole, quel che poco fa abbiamo dato per ovvio non è neanche vero: il sistema operativo in sé non conosce <em>realmente</em> la password, conosce soltanto la forma <em>cifrata</em> della password. L’unico modo per ricavare la password <em>in chiaro</em> è una brutale ricerca nell’intero spazio delle password possibili.</p></div><div class=paragraph><p>Sfortunatamente l’unico modo sicuro di cifrare le password quando UNIX® è nato era di utilizzare DES (Data Encryption Standard). Questo non era un grosso problema per gli utenti residenti in USA, ma dato che il codice sorgente riguardante DES non poteva essere esportato al di fuori degli USA, FreeBSD ha dovuto cercare un modo per poter contemporaneamente essere in regola con la legge USA e mantenere la compatibilità con tutte le altre varianti UNIX® che ancora utilizzavano DES.</p></div><div class=paragraph><p>La soluzione è stata quella di suddividere le librerie di cifratura in modo tale che gli utenti USA potessero installare le librerie DES ed utilizzarlo ma gli utenti internazionali avessero comunque a disposizioni metodi crittografici che potessero essere esportati all’estero. Questo è il modo in cui FreeBSD adottò MD5 come metodo di cifratura di default. MD5 è considerato più sicuro di DES, quindi installare DES è una possibilità pensata principalmente per motivi di compatibilià.</p></div><div class=sect3><h4 id=_riconoscere_il_funzionamento_del_tuo_crypt>14.4.1. Riconoscere il funzionamento del tuo crypt<a class=anchor href=#_riconoscere_il_funzionamento_del_tuo_crypt></a></h4><div class=paragraph><p>Attualmente la libreria supporta gli algoritmi DES, MD5 e Blowfish. Per default FreeBSD utilizza MD5 per cifrare le password.</p></div><div class=paragraph><p>È piuttosto semplice identificare il tipo di cifratura utilizzato; ad esempio uno dei metodi è di leggere il file <span class=filename>/etc/master.passwd</span>. Le password cifrate con l’hash MD5 sono più lunghe e iniziano con i caratteri <code>$1$</code>. Le password che iniziano con <code>$2a$</code> sono cifrate con Blowfish. Le password DES non hanno alcun carattere identificativo particolare, ma sono più corte e sono codificate in un alfabeto di 64 caratteri che non include il <code>$</code>, quindi una stringa relativamente corta che non inizia con un simbolo di dollaro è molto probabilmente una password DES.</p></div><div class=paragraph><p>Il formato utilizzato per le nuove password è deciso dal valore del campo <code>passwd_format</code> nel file <span class=filename>/etc/login.conf</span>, che può avere i valori di <code>des</code>, <code>md5</code> oo <code>blf</code>. Fai riferimento alla pagina del manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=login.conf&amp;sektion=5&amp;format=html">login.conf(5)</a> per avere ulteriori informazioni sulle configurazioni di login.</p></div></div></div><div class=sect2><h3 id=one-time-passwords>14.5. Password One-time<a class=anchor href=#one-time-passwords></a></h3><div class=paragraph><p>Per default FreeBSD include il supporto per OPIE (One-time Passwords In Everything), configurato per utilizzare l’hash MD5.</p></div><div class=paragraph><p>Ci sono tre tipi di diverse password di cui parleremo in seguito. Le prime sono le normali pasword UNIX® o Kerberos, che verranno chiamate "password UNIX®". Il secondo tipo sono le password one-time generate dal programma OPIE <a href="https://man.freebsd.org/cgi/man.cgi?query=opiekey&amp;sektion=1&amp;format=html">opiekey(1)</a> e accettate dal programma <a href="https://man.freebsd.org/cgi/man.cgi?query=opiepasswd&amp;sektion=1&amp;format=html">opiepasswd(1)</a> e dal prompt di login, che chiameremo "password one-time". L’ultimo tipo di password è la password segreta che darai al programma <code>opiekey</code> (e qualche volte al programma <code>opiepasswd</code>) e che viene utilizzata per generare le password one-time, che chiameremo "password segreta" o più semplicemente "password".</p></div><div class=paragraph><p>La password segreta non ha niente a che vedere con la password UNIX®; possono essere uguali ma questo è sconsigliato. Le password segrete di OPIE non sono limitate a 8 caratteri come le vecchie password UNIX®, possono essere lunghe quanto ti pare. Sono abbastana diffuse password composte da frasi di sei o sette parole. Per la maggior parte, il sistema OPIE funziona in modo totalmente indipendente dal sistema di password UNIX®.</p></div><div class=paragraph><p>Oltre alla password, ci sono altre due informazioni utili a OPIE. Una è nota come "seme" o "chiave" e consiste di due lettere e cinque numeri. L’altra è nota come "numero di iterazioni" ed è un valore tra 1 e 100. OPIE crea la password one-time concatenando il seme e la password segreta ed applicandovi l’hash MD5 tante volte quanto specificate dal numero di iterazioni, trasformando poi il risultato in sei corte parole inglesi, che saranno la tua password one-time. Il sistema di autenticazione (principalmente PAM) mantiene traccia dell’ultima password one-time usata e autentica l’utente se l’hash della password fornita dall’utente è uguale alla password precedente. Dato che viene usato un hash, ovvero una funzione matematica a senso unico è impossibile generare password one-time future se viene catturata una password durante il suo utilizzo; il numero di iterazioni viene decrementato dopo un login avvenuto con successo per mantenere l’utente e il programma di login in sincrono. Quando il numero di iterazioni scende a 1, OPIE deve essere reinizializzato.</p></div><div class=paragraph><p>Nelle seguenti spiegazioni si farà riferimento a vari programmi: il programma <code>opiekey</code> richiede un numero di iterazioni, un seme e una password segreta e genera una password one-time o una lista di password one-time consecutive; il programma <code>opiepasswd</code> viene utilizzato per inizializzzare OPIE e per cambiare password, numeri di iterazioni, semi e password one-time; il programma <code>opieinfo</code> analizza i file di credenziali (<span class=filename>/etc/opiekeys</span>) e stampa il numero di iterazioni e il seme correnti dell’utente che lo richiama.</p></div><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=tcpwrappers>14.6. TCP Wrappers<a class=anchor href=#tcpwrappers></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=kerberosIV>14.7. KerberosIV<a class=anchor href=#kerberosIV></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=kerberos5>14.8. Kerberos5<a class=anchor href=#kerberos5></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=openssl>14.9. OpenSSL<a class=anchor href=#openssl></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=ipsec>14.10. IPsec<a class=anchor href=#ipsec></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=openssh>14.11. OpenSSH<a class=anchor href=#openssh></a></h3><div class=sect3><h4 id=security-ssh-tunneling>14.11.1. SSH Tunneling<a class=anchor href=#security-ssh-tunneling></a></h4><div class=paragraph><p>Traduzione in corso</p></div></div></div><div class=sect2><h3 id=fs-acl>14.12. File System Access Control Lists<a class=anchor href=#fs-acl></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=security-portaudit>14.13. Monitoring Third Party Security Issues<a class=anchor href=#security-portaudit></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=security-advisories>14.14. FreeBSD Security Advisories<a class=anchor href=#security-advisories></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=security-accounting>14.15. Process Accounting<a class=anchor href=#security-accounting></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><div class=sect1><h2 id=jails>Capitolo 15. Jail<a class=anchor href=#jails></a></h2><div class=sectionbody><div class=sect2><h3 id=jails-synopsis>15.1. Sinossi<a class=anchor href=#jails-synopsis></a></h3><div class=paragraph><p>Questo capitolo fornirà una spiegazione di cosa siano le jail in FreeBSD e di come usarle. Le jail, definite a volte come una miglioria dell'<em>ambiente chroot</em>, sono un strumento molto potente per amministratori di sistema, ma il loro uso può essere utile anche per utenti avanzati.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Cosa è una jail e a quale scopi può servire nelle installazioni di FreeBSD.</p></li><li><p>Come creare, avviare e fermare una jail.</p></li><li><p>Le basi per l’amministrazione delle jail, sia dall’interno che dall’esterno di una jail.</p></li></ul></div><div class=paragraph><p>Altre fonti di informazioni utili a proposito delle jail sono:</p></div><div class=ulist><ul><li><p>La pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>. Questo è un riferimento completo dell’utility <code>jail</code> - il tool di amministrazione che può essere usato in FreeBSD per avviare, fermare e controllare le jail in FreeBSD.</p></li><li><p>Le mailing list ed i loro archivi. Gli archivi della <a href=https://lists.FreeBSD.org/subscription/freebsd-questions>mailing list per le domande generiche su FreeBSD</a> ed altre mailing list ospitate sul <a href=https://lists.freebsd.org>server delle liste di FreeBSD</a> contengono già una varietà di materiale per le jail. Si dovrebbe sempre cercare negli archivi, o inviare una nuova domanda alla mailing list <a href=https://lists.FreeBSD.org/subscription/freebsd-questions>freebsd-questions</a>.</p></li></ul></div></div><div class=sect2><h3 id=jails-terms>15.2. Termini Relativi alle Jail<a class=anchor href=#jails-terms></a></h3><div class=paragraph><p>Per facilitare una migliore comprensione delle parti di FreeBSD relative alle jail, i loro meandri ed il modo in cui interagiscono con il resto di FreeBSD, i seguenti termini saranno usati più avanti in questo capitolo:</p></div><div class=dlist><dl><dt class=hdlist1><a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> (comando)</dt><dd><p>Una chiamata di sistema di FreeBSD, che cambia la directory root di un processo e di tutti i suoi discendenti.</p></dd><dt class=hdlist1><a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> (ambiente)</dt><dd><p>L’ambiente di un processo eseguito con "chroot". Sono incluse le risorse come la parte del file system visibile, ID di utenti e di gruppi che sono disponibili, interfacce di rete, altri meccanismi di IPC, ecc.</p></dd><dt class=hdlist1><a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> (comando)</dt><dd><p>L’utility di amministrazione di sistema che permette di eseguire processi all’interno di una jail.</p></dd><dt class=hdlist1>host (sistema, processo, utente, ecc.)</dt><dd><p>Il sistema di controllo di una jail. Il sistema host ha accesso a tutte le risorse hardware disponibili, e può controllare processi sia all’interno che al di fuori di una jail. Una delle differenze importanti di un sistema host rispetto a una jail è che le limitazioni applicate ai processi superuser dentro una jail non sono valide per i processi del sistema host.</p></dd><dt class=hdlist1>hosted (sistema, processo, utente, ecc.)</dt><dd><p>Un processo, utente o altra entità, che abbia l’accesso alle risorse, limitato da una jail di FreeBSD.</p></dd></dl></div></div><div class=sect2><h3 id=jails-intro>15.3. Introduzione<a class=anchor href=#jails-intro></a></h3><div class=paragraph><p>Dato che l’amministrazione di sistema è un compito difficile e gravoso, sono stati sviluppati molti strumenti potenti per rendere la vita più semplice per l’amministratore. Questi strumenti forniscono aiuti di vario genere nel modo in cui i sistemi sono installati, configurati e quindi manutenuti. Parte dei compiti che un amministratore dovrebbe fare riguarda la corretta configurazione nell’ambito della sicurezza di un sistema, in modo tale da continuare a servire il suo vero intento, senza permettere violazioni di sistema.</p></div><div class=paragraph><p>Uno degli strumenti che possono essere usati per migliorare la sicurezza di FreeBSD sono le <em>jail</em>. Le jail furono introdotte con FreeBSD 4.X da Poul-Henning Kamp &lt;<a href=mailto:phk@FreeBSD.org>phk@FreeBSD.org</a>>, ma furono notevolmente migliorate in FreeBSD 5.X per renderle un sottosistema potente e flessibile. Il loro sviluppo continua per migliorare la loro utilità, le prestazioni e la sicurezza.</p></div><div class=sect3><h4 id=jails-what>15.3.1. Cosa è una Jail<a class=anchor href=#jails-what></a></h4><div class=paragraph><p>I sistemi operativi BSD-like hanno avuto il <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> dai tempi di 4.2BSD. L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> può essere usata per cambiare la directory root di un insieme di processi, creando un ambiente sicuro e separato dal resto del sistema. I processi creati nell’ambiente chroot non possono accedere a file o risorse fuori da questo. Per questa ragione, compromettere un servizio che viene eseguito in un ambiente chroot non dovrebbe permettere all’attaccante di compromettere l’intero sistema. L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> è utile per compiti semplici, che non richiedono molta flessibilità o caratteristiche complesse e avanzate. Tuttavia, dall’inizio del concetto di chroot, sono stati trovati diversi modi per uscire da un ambiente chroot, e, benchè siano stati fixati nelle versioni moderne del kernel di FreeBSD, è diventato chiaro che <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> non era la soluzione ideale per rendere sicuri i servizi. Un nuovo sottosistema doveva essere implementato.</p></div><div class=paragraph><p>Queste sono alcune delle ragioni principali per cui le <em>jail</em> sono state sviluppate.</p></div><div class=paragraph><p>Le jail migliorano il concetto dell’ambiente <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> tradizionale, in molti modi. In un ambiente <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> tradizionale, i processi sono limitati solo nella porzione di file system che possono accedere. Il resto delle risorse di sistema (come l’insieme di utenti di sistema, i processi in esecuzione, o il sotto-sistema di rete) sono condivise dai processi in chroot e dai processi del sistema host (quelli non inseriti in un ambiente chroot). Le jail espandono questo modello virtualizzando non solo l’accesso al file system, ma anche l’insieme di utenti, il sotto-sistema di rete del kernel di FreeBSD e alcune altre cose. Un più completo insieme di controlli disponibili per calibrare l’accesso ad un ambiente jail è descritto nella <a href=#jails-tuning>Messa a Punto ed Amministrazione</a>.</p></div><div class=paragraph><p>Una jail è caratterizzata da quattro elementi:</p></div><div class=ulist><ul><li><p>Un sotto-ramo di una directory - il punto di partenza da cui si entra nella jail. Una volta all’interno della jail, ad un processo non è permesso di uscire da questo sotto-ramo. Le questioni tradizionali di sicurezza che colpiscono il design di <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> originale non affliggono le jail di FreeBSD.</p></li><li><p>Un hostname - l’hostname che sarà usato all’interno della jail. Le jail sono principalmente usate per ospitare servizi di rete, quindi avere un nome host descrittivo per ogni jail può veramente aiutare l’amministratore di sistema.</p></li><li><p>Un indirizzo IP - questo sarà assegnato alla jail e non può essere cambiato in alcun modo durante l’arco di vita della jail. L’indirizzo IP di una jail è in genere un indirizzo alias di un’interfaccia di rete esistente, anche se questo non è strettamente necessario.</p></li><li><p>Un comando - il percorso di un eseguibile da avviare all’interno della jail. Questo è relativo alla directory root dell’ambiente della jail, e può variare molto, a seconda del tipo specifico di ambiente della jail.</p></li></ul></div><div class=paragraph><p>Oltre a queste caratteristiche, le jail possono avere il loro insieme di utenti ed il loro utente <code>root</code>. Naturalmente, i poteri dell’utente <code>root</code> sono limitati all’interno dell’ambiente jail e, dal punto di vista del sistema host, l’utente <code>root</code> della jail non è il superuser. Inoltre, l’utente <code>root</code> di una jail non potrà eseguire operazioni critiche sul sistema al di fuori del suo ambiente <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>. Altre informazioni sui poteri e sulle restrizioni dell’utente <code>root</code> saranno discusse nella <a href=#jails-tuning>Messa a Punto ed Amministrazione</a>.</p></div></div></div><div class=sect2><h3 id=jails-build>15.4. Creare e Controllare la Jail<a class=anchor href=#jails-build></a></h3><div class=paragraph><p>Alcuni amministratori dividono le jail nei seguenti due tipi: jail "complete", che sono simili ad un sistema FreeBSD reale, e jail "di servizio", dedicate ad un’unica applicazione o servizio, possibilmente in esecuzione con privilegi. Questa è solo una divisione concettuale ed il processo di creazione della jail non viene modificato da ciò. La pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> è abbastanza chiara a riguardo della procedura di creazione di una jail:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># setenv D /qui/c&#39;e&#39;/la/jail</span>
<span class=c># mkdir -p $D </span><i class=conum data-value=1></i><b>(1)</b>
<span class=c># cd /usr/src</span>
<span class=c># make world DESTDIR=$D </span><i class=conum data-value=2></i><b>(2)</b>
<span class=c># cd etc/ [7]</span>
<span class=c># make distribution DESTDIR=$D </span><i class=conum data-value=3></i><b>(3)</b>
<span class=c># mount_devfs devfs $D/dev </span><i class=conum data-value=4></i><b>(4)</b></code></pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Selezionare una directory per la jail è il miglior punto in cui iniziare. Questo sarà il punto in cui la jail risiederà fisicamente nel file system del sistema host. Una buona scelta può essere <span class=filename>/usr/jail/nomejail</span>, dove <em>nomejail</em> è il nome host che identifica la jail. Il file system <span class=filename>/usr/</span> in genere ha abbastanza spazio vuoto per il file system delle jail, che per una jail "completa" è, in pratica, una replica di ogni file presente in una installazione base di FreeBSD</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Questo comando popolerà la sotto-directory scelta come locazione fisica della jail con i binari necessari, le librerie, le pagine man e cosí via. Tutto è fatto nello stile tipico di FreeBSD - prima tutto viene creato/compilato, poi installato nel percorso di destinazione.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>Il target <code>distribution</code> per make installa ogni file di configuazione richiesto. In parole povere, installa ogni file di <span class=filename>/usr/src/etc/</span> nella directory <span class=filename>/etc</span> dell’ambiente jail: <span class=filename>$D/etc/</span>.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Non è richiesto di montare il file system <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a> all’interno della jail. D’altro lato, ogni applicazione o quasi ha bisogno di accedere ad almeno un dispositivo, a seconda dello scopo dell’applicazione stessa. È molto importante controllare l’accesso ai dispositivi dall’interno della jail, dato che con dei settaggi impropri un attaccante potrebbe compiere azioni dannose nella jail. Il controllo su <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a> è gestito attraverso le regole che sono descritte nelle pagine man di <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs.conf&amp;sektion=5&amp;format=html">devfs.conf(5)</a>.</td></tr></tbody></table></div><div class=paragraph><p>Una volta che una jail è installata, può essere avviata usando l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>. L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> prende quattro argomenti obbligatori che sono descritti nella <a href=#jails-what>Cosa è una Jail</a>. Possono essere specificati altri argomenti, ad esempio, per eseguire il programma nella jail con le credenziali di un utente specifico. L’argomento <code><em>comando</em></code> dipende dal tipo di jail; per un <em>sistema virtuale</em>, <span class=filename>/etc/rc</span> è una buona scelta, dato che replicherà la sequenza di avvio di un sistema FreeBSD reale. Per una jail <em>di servizio</em>, dipenderà dal servizio o dalla applicazione che sarà eseguita all’interno della jail.</p></div><div class=paragraph><p>Le jail spesso sono avviate al momento di boot e il meccanismo <span class=filename>rc</span> di FreeBSD fornisce un modo semplice per farlo.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Una lista delle jail che sono abilitate al boot dovrebbe essere aggiunta al file <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>:</p><div class="literalblock programlisting"><div class=content><pre>jail_enable=&#34;YES&#34;   # NO per disabilitare l&#39;avvio delle jail
jail_list=&#34;www&#34;  # Lista dei nomi delle jail separati da spazi</pre></div></div></li><li><p>Per ogni jail elencata in <code>jail_list</code>, dovrebbe essere aggiunto un gruppo di impostazioni di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>, che descrive la jail:</p><div class="literalblock programlisting"><div class=content><pre>jail_www_rootdir=&#34;/usr/jail/www&#34;     # directory root della jail
jail_www_hostname=&#34;www.example.org&#34;  # nome-host della jail
jail_www_ip=&#34;192.168.0.10&#34;           # indirizzo IP della jail
jail_www_devfs_enable=&#34;YES&#34;          # dispositivi di mount devfs nella jail
jail_www_devfs_ruleset=&#34;www_ruleset&#34; # regole devfs da applicare alla jail</pre></div></div><div class=paragraph><p>L’avvio di default delle jail configurate in <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a> eseguirà lo script della jail in <span class=filename>/etc/rc</span>, che assume che la jail sia un completo sistema virtuale. Per jail di servizio, il comando di default di avvio della jail dovrebbe essere cambiato, impostando l’opzione <code>jail<em>nomejail</em>exec_start</code> in modo appropriato.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per una lista completa delle opzioni disponibili, per favore consulta la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>.</p></div></td></tr></tbody></table></div></li></ol></div></div></div><div class=paragraph><p>Lo script <span class=filename>/etc/rc.d/jail</span> può essere usato per avviare o fermare una jail a mano, se esiste una entry in <span class=filename>rc.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/jail start www</span>
<span class=c># /etc/rc.d/jail stop www</span></code></pre></div></div><div class=paragraph><p>Un modo pulito per spegnere una <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> non è disponibile al momento. Questo perchè i comandi usati normalmente per fare uno shutdown pulito non possono essere usati all’interno della jail. Il modo migliore per spegnere una jail è eseguire il seguente comando all’interno della jail stessa o usando l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;sektion=8&amp;format=html">jexec(8)</a> da fuori della jail:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sh /etc/rc.shutdown</span></code></pre></div></div><div class=paragraph><p>Maggiori informazioni al riguardo possono essere trovate nella pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>.</p></div></div><div class=sect2><h3 id=jails-tuning>15.5. Messa a Punto ed Amministrazione<a class=anchor href=#jails-tuning></a></h3><div class=paragraph><p>Ci sono molte opzioni che possono essere impostate per ogni jail, e molti modi di combinare un sistema FreeBSD con le jail, per produrre applicazioni di alto livello. Questa sezione presenta:</p></div><div class=ulist><ul><li><p>Alcune delle opzioni disponibili per impostare il comportamento e le restrizioni di sicurezza implementate da una installazione di una jail.</p></li><li><p>Alcune degli applicativi di alto livello per la gestione delle jail, che sono disponibili attraverso la Collezione dei Port di FreeBSD, e possono essere usate per implementare soluzioni complete basate sulle jail.</p></li></ul></div><div class=sect3><h4 id=jails-tuning-utilities>15.5.1. Strumenti di sistema per mettere a punto una jail in FreeBSD<a class=anchor href=#jails-tuning-utilities></a></h4><div class=paragraph><p>La messa a punto di una configurazione di una jail è principalmente fatta settando variabili <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>. Esiste un sotto-ramo speciale di sysctl con tutte le opzioni del caso: la gerarchia <code>security.jail.*</code> delle opzioni del kernel di FreeBSD. Qui c’è una lista delle principali opzioni di sysctl relative alle jail, con il loro valori di default. I nomi dovrebbero essere auto esplicativi, ma per maggiori informazioni riguardo questi, per favore fai riferimento alle pagine man <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;format=html">sysctl(8)</a>.</p></div><div class=ulist><ul><li><p><code>security.jail.set_hostname_allowed: 1</code></p></li><li><p><code>security.jail.socket_unixiproute_only: 1</code></p></li><li><p><code>security.jail.sysvipc_allowed: 0</code></p></li><li><p><code>security.jail.enforce_statfs: 2</code></p></li><li><p><code>security.jail.allow_raw_sockets: 0</code></p></li><li><p><code>security.jail.chflags_allowed: 0</code></p></li><li><p><code>security.jail.jailed: 0</code></p></li></ul></div><div class=paragraph><p>Queste variabili possono essere usate dall’amministratore di sistema del <em>sistema host</em> per aggiungere o rimuovere alcune delle limitazioni imposte di default all’utente <code>root</code>. Nota che ci sono alcune limitazioni che non possono essere rimosse. L’utente <code>root</code> non ha il permesso di montare o smontare file system all’interno della <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>. L’utente <code>root</code> all’interno della jail non può caricare o scaricare regole di <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=8&amp;format=html">devfs(8)</a>, impostare regole del firewall, o compiere molti altri compiti di amministrazione che richiedono modifiche in kernel, come impostare il <code>securelevel</code> del kernel.</p></div><div class=paragraph><p>Il sistema base di FreeBSD contiene un insieme di base di strumenti per vedere informazioni a proposito delle jail attive, e per attaccarsi ad una jail per eseguire compiti amministrativi. Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;sektion=8&amp;format=html">jexec(8)</a> sono parte del sistema base di FreeBSD, e possono essere usati per eseguire i seguenti semplici compiti:</p></div><div class=ulist><ul><li><p>Stampa una lista di jail attive e i loro corrispondenti identificativi di jail (JID), indirizzo IP, nome host e percorso.</p></li><li><p>Attaccarsi ad una jail in esecuzione, dal suo sistema host, ed eseguire un comando o compiti amministrativi dall’interno della jail stessa. Questo è specialmente utile quando l’utente <code>root</code> vuole spegnere in modo pulito una jail. L’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=jexec&amp;sektion=8&amp;format=html">jexec(8)</a> può anche essere usata per avviare una shell in una jail per fare dell’amministrazione; ad esempio:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># jexec 1 tcsh</span></code></pre></div></div></li></ul></div></div><div class=sect3><h4 id=jails-tuning-admintools>15.5.2. Strumenti di amministrazione di alto livello nella Collezione dei Ports di FreeBSD<a class=anchor href=#jails-tuning-admintools></a></h4><div class=paragraph><p>Fra le tante utility di terze parti per l’amministrazione delle jail, uno dei più completi ed utili è <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/jailutils/>sysutils/jailutils</a>. È un insieme di piccoli applicativi che contribuiscono alla gestione delle <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>. Per favore fai riferimento alla corrispondente pagina web per maggiori informazioni.</p></div></div></div><div class=sect2><h3 id=jails-application>15.6. Applicazioni di Jail<a class=anchor href=#jails-application></a></h3><div class=sect3><h4 id=jails-service-jails>15.6.1. Servizi Jail<a class=anchor href=#jails-service-jails></a></h4><div class=paragraph><p>Questa sezione è basata su un’idea di Simon L. B. Nielsen &lt;<a href=mailto:simon@FreeBSD.org>simon@FreeBSD.org</a>> (<a href=http://simon.nitro.dk/service-jails.html>http://simon.nitro.dk/service-jails.html</a>), e su un articolo scritto da by Ken Tom <a href=mailto:locals@gmail.com>locals@gmail.com</a>. Questa sezione illustra come configurare un sistema FreeBSD aggiungendo uno strato di sicurezza addizionale, usando le funzionalità delle <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a>. Inoltre questa sezione assume che la versione FreeBSD del sistema sia almeno la RELENG_6_0 e che siano state capite le informazioni fornite precedentemente nel capitolo.</p></div><div class=sect4><h5 id=jails-service-jails-design>15.6.1.1. Progetto<a class=anchor href=#jails-service-jails-design></a></h5><div class=paragraph><p>Uno dei maggiori problemi delle jail è la gestione del loro processo di aggiornamento. Questo tende a essere un problema poichè ciascuna jail deve essere ricostruita da zero ogni volta che deve essere aggiornata. Di solito questo non è un problema per una jail singola, poichè il processo di aggiornamento è abbastanza semplice, ma se sono create tante jail può diventare un processo lungo e tedioso.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Questa configurazione richiede una esperienza avanzata con FreeBSD. Se i procedimenti seguenti risultano troppo complicati, si consiglia di dare un’occhiata a un sistema più intuitivo come <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/ezjail/>sysutils/ezjail</a>, che fornisce un modo semplice di amministrare le jail in FreeBSD e non è sofisticato come questa configurazione.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Questa idea è stata presentata per risolvere il problema di condividere quanto più possibile tra le jail, in modo sicuro - usando <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nullfs&amp;sektion=8&amp;format=html">mount_nullfs(8)</a> in sola lettura, affinchè l’aggiornamento sia semplice, e per fare diventare più allettante mettere singoli servizi in jail individuali. Inoltre, si fornisce un modo per creare, aggiornare e rimuovere jail.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Esempi di servizi in questo contesto sono: un server HTTP, un server DNS, un server SMTP, e via dicendo.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Gli scopi di configurazione descritti in questa sezione sono:</p></div><div class=ulist><ul><li><p>Comprendere la struttura jail. Questo implica di <em>not</em> dovere eseguire un installworld completo per ogni jail.</p></li><li><p>Semplificare l’aggiunta di una nuova jail o la rimozione di una esistente.</p></li><li><p>Semplificare l’aggiornamento o la modifica di una jail esistente.</p></li><li><p>Rende possibile l’esecuzione di un FreeBSD su misura.</p></li><li><p>Essere paranoici sulla sicurezza, riducendo quanto più possibile la possibilità di mettere a repentaglio il sistema.</p></li><li><p>Salvare spazio e inode, quanto più possibile.</p></li></ul></div><div class=paragraph><p>Come già menzionato, questa configurazione si basa pesantemente nell’avere un unico template master che è in sola lettura (conosciuto come nullfs) montato in ogni jail e un dispositivo in lettura-scrittura per jail. Il dispositivo può essere un disco fisico separato, una partizione, o un dispositivo vnode <a href="https://man.freebsd.org/cgi/man.cgi?query=md&amp;sektion=4&amp;format=html">md(4)</a>. In questo esempio, useremo un nullfs in lettura e scrittura.</p></div><div class=paragraph><p>Viene qui descritto il layout del file system:</p></div><div class=ulist><ul><li><p>Ogni jail sarà montata sotto la directory <span class=filename>/home/j</span>.</p></li><li><p><span class=filename>/home/j/mroot</span> è il template per ogni jail e la partizione in sola lettura per tutte le jail.</p></li><li><p>Una directory vuota sarà creata per ogni jail sotto la directory <span class=filename>/home/j</span>.</p></li><li><p>Ogni jail avrà una directory <span class=filename>/s</span>, che sarà linkata alla porzione del sistema in lettura e scrittura.</p></li><li><p>Ogni jail ha il suo sistema in lettura e scrittura in <span class=filename>/home/j/skel</span>.</p></li><li><p>Ogni spazio di jail (la porzione in lettura e scrittura di ogni jail) sarà creato in <span class=filename>/home/js</span>.</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Si assume che le jail siano posizionate sotto la partizione <span class=filename>/home</span>. Di sicuro, questo può essere modificato con qualcosa di diverso, ma questo cambiamento dovrà essere tenuto in considerazione negli esempi più avanti.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=jails-service-jails-template>15.6.1.2. Creare il Template<a class=anchor href=#jails-service-jails-template></a></h5><div class=paragraph><p>Questa sezione descrive le fasi necessarie per creare il template di riferimento che sarà la parte in sola lettura utilizzate dalle jail.</p></div><div class=paragraph><p>È sempre una buona idea aggiornare FreeBSD al branch -RELEASE più recente. Per farlo, consulta il <a href=./#makeworld>capitolo</a> di riferimento dell’Handbook. Nel caso che l’aggiornamento non sia fattibile, sarà necessaria la procedura di buildworld per poter procedere. Inoltre, è richiesto il pacchetto <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cpdup/>sysutils/cpdup</a>. Useremo l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> per scaricare la FreeBSD Ports Collection. Il <a href=./#portsnap>Capitolo Portsnap</a> dell’handbook è sempre una buona lettura per i nuovi arrivati.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Primo, creiamo la struttura della directory per il file system in sola lettura che conterrà i binari di FreeBSD per le nostre jail, quindi portiamoci nel ramo della directory dei sorgenti di FreeBSD e installiamo il file system in sola lettura per il template delle jail:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j /home/j/mroot</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld DESTDIR=/home/j/mroot</span></code></pre></div></div></li><li><p>Quindi, prepariamo la FreeBSD Ports Collection per le jail così come abbiamo fatto per l’alberatura dei sorgenti, richiesta per mergemaster:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /home/j/mroot</span>
<span class=c># mkdir usr/ports</span>
<span class=c># portsnap -p /home/j/mroot/usr/ports fetch extract</span>
<span class=c># cpdup /usr/src /home/j/mroot/usr/src</span></code></pre></div></div></li><li><p>Creiamo lo scheletro per la parte del sistema in lettura e scrittura:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j/skel /home/j/skel/home /home/j/skel/usr-X11R6 /home/j/skel/distfiles</span>
<span class=c># mv etc /home/j/skel</span>
<span class=c># mv usr/local /home/j/skel/usr-local</span>
<span class=c># mv tmp /home/j/skel</span>
<span class=c># mv var /home/j/skel</span>
<span class=c># mv root /home/j/skel</span></code></pre></div></div></li><li><p>Usiamo mergemaster per installare i file di configurazione mancanti. Quindi liberiamoci delle directory extra che mergemaster ha creato:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mergemaster -t /home/j/skel/var/tmp/temproot -D /home/j/skel -i</span>
<span class=c># cd /home/j/skel</span>
<span class=c># rm -R bin boot lib libexec mnt proc rescue sbin sys usr dev</span></code></pre></div></div></li><li><p>Ora, linkiamo in modo simbolico il file system in lettura e scrittura nel file system di sola lettura. Assicuriamoci che i link simbolici siano creati nelle posizioni corrette in <span class=filename>s/</span>. La creazione di directory in posti sbagliati causerà un fallimento durante l’installazione.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /home/j/mroot</span>
<span class=c># mkdir s</span>
<span class=c># ln -s s/etc etc</span>
<span class=c># ln -s s/home home</span>
<span class=c># ln -s s/root root</span>
<span class=c># ln -s ../s/usr-local usr/local</span>
<span class=c># ln -s ../s/usr-X11R6 usr/X11R6</span>
<span class=c># ln -s ../../s/distfiles usr/ports/distfiles</span>
<span class=c># ln -s s/tmp tmp</span>
<span class=c># ln -s s/var var</span></code></pre></div></div></li><li><p>Come ultima fase, creiamo un generico <span class=filename>/home/j/skel/etc/make.conf</span> con il seguente contenuto:</p><div class="literalblock programlisting"><div class=content><pre>WRKDIRPREFIX?=  /s/portbuild</pre></div></div><div class=paragraph><p>Avendo settato <code>WRKDIRPREFIX</code> in questo modo sarà possibile compilare i port di FreeBSD all’interno di ogni jail. Ricordati che la directory dei port è parte del sistema in sola lettura. Il percorso ad doc di <code>WRKDIRPREFIX</code> permette di compilare nella porzione in lettura e scrittura di ogni jail.</p></div></li></ol></div></div></div></div><div class=sect4><h5 id=jails-service-jails-creating>15.6.1.3. Creazione di Jail<a class=anchor href=#jails-service-jails-creating></a></h5><div class=paragraph><p>Ora che abbiamo completato il template della jail, possiamo configurare le jail in <span class=filename>/etc/rc.conf</span>. Questo esempio mostra la creazione di 3 jail: "NS", "MAIL" e "WWW".</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Inseriamo le seguenti righe nel file <span class=filename>/etc/fstab</span>, in modo tale che il template in sola lettura per le jail e lo spazio in lettura e scrittura sarà disponibile nella rispettive jail:</p><div class="literalblock programlisting"><div class=content><pre>/home/j/mroot   /home/j/ns     nullfs  ro  0   0
/home/j/mroot   /home/j/mail   nullfs  ro  0   0
/home/j/mroot   /home/j/www    nullfs  ro  0   0
/home/js/ns     /home/j/ns/s   nullfs  rw  0   0
/home/js/mail   /home/j/mail/s nullfs  rw  0   0
/home/js/www    /home/j/www/s  nullfs  rw  0   0</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Le partizioni con uno 0 come numero di pass non sono verificate da <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> durante il boot, e le partizioni con uno 0 come numero di dump non sono prese in considerazione da <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a>. Non si vuole che fsck verifichi i mount nullfs o che dump faccia un backup dei mount nullfs in sola lettura delle jail. Ecco perchè queste partizioni hanno "0 0" nelle ultime due colonne di ogni riga di <span class=filename>fstab</span> sopra mosrate.</p></div></td></tr></tbody></table></div></li><li><p>Configuriamo le jail in <span class=filename>/etc/rc.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>jail_enable=&#34;YES&#34;
jail_set_hostname_allow=&#34;NO&#34;
jail_list=&#34;ns mail www&#34;
jail_ns_hostname=&#34;ns.example.org&#34;
jail_ns_ip=&#34;192.168.3.17&#34;
jail_ns_rootdir=&#34;/usr/home/j/ns&#34;
jail_ns_devfs_enable=&#34;YES&#34;
jail_mail_hostname=&#34;mail.example.org&#34;
jail_mail_ip=&#34;192.168.3.18&#34;
jail_mail_rootdir=&#34;/usr/home/j/mail&#34;
jail_mail_devfs_enable=&#34;YES&#34;
jail_www_hostname=&#34;www.example.org&#34;
jail_www_ip=&#34;62.123.43.14&#34;
jail_www_rootdir=&#34;/usr/home/j/www&#34;
jail_www_devfs_enable=&#34;YES&#34;</pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>La ragione del perchè la variabile <code>jail_nome_rootdir</code> è settata a <span class=filename>/usr/home</span> invece di <span class=filename>/home</span> è che il percorso reale della directory <span class=filename>/home</span> in una installazione standard di FreeBSD è <span class=filename>/usr/home</span>. La variabile `jail_nome_rootdir`<em>non</em> deve essere settata a un percorso che include link simbolici, altrimenti la jail rifiuterà di partire. Usa l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=realpath&amp;sektion=1&amp;format=html">realpath(1)</a> per determinare il valore che questa variabile dovrebbe assumere. Per favore da un occhio al Security Advisory FreeBSD-SA-07:01.jail per maggiorni informazioni.</p></div></td></tr></tbody></table></div></li><li><p>Creiamo i punti di mount richiesti per il file system in sola lettura di ogni jail:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j/ns /home/j/mail /home/j/www</span></code></pre></div></div></li><li><p>Installiamo il template in lettura e scrittura in ciascuna jail. Notare l’utilizzo di <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/cpdup/>sysutils/cpdup</a>, che assicura una corretta copia di ogni directory:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/js</span>
<span class=c># cpdup /home/j/skel /home/js/ns</span>
<span class=c># cpdup /home/j/skel /home/js/mail</span>
<span class=c># cpdup /home/j/skel /home/js/www</span></code></pre></div></div></li><li><p>In questa fase, le jail sono preparate per essere eseguite. Montiamo il file system richiesto per ogni jail, e quindi avviamole con lo script <span class=filename>/etc/rc.d/jail</span>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -a</span>
<span class=c># /etc/rc.d/jail start</span></code></pre></div></div></li></ol></div></div></div><div class=paragraph><p>Le jail dovrebbero essere in esecuzione. Per verificare che siano state avviate correttamente, usiamo il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=jls&amp;sektion=8&amp;format=html">jls(8)</a>. Il suo output dovrebbe essere simile al seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># jls</span>
   JID  IP Address      Hostname                      Path
     3  192.168.3.17    ns.example.org                /home/j/ns
     2  192.168.3.18    mail.example.org              /home/j/mail
     1  62.123.43.14    www.example.org               /home/j/www</code></pre></div></div><div class=paragraph><p>A questo punto, dovrebbe essere possibile entrare in ciascuna jail, aggiungere nuovi utenti o configurare demoni. La colonna <code>JID</code> indica il numero identificativo di ciascuna jail in esecuzione. Usa il comando seguente per effettuare compiti amministrativi nella jail con <code>JID</code> 3:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># jexec 3 tcsh</span></code></pre></div></div></div><div class=sect4><h5 id=jails-service-jails-upgrading>15.6.1.4. Aggiornamento<a class=anchor href=#jails-service-jails-upgrading></a></h5><div class=paragraph><p>Il tempo passa, e sarà necessario aggiornare il sistema a una nuova versione di FreeBSD, vuoi per questioni di sicurezza, o perchè sono state implementate nuove funzionalità che ritornano utili per le jail esistenti. Di seguito si fornisce un modo semplice per effettuare l’aggiornamento delle jail esistenti. Inoltre, questo metodo minimizza il tempo in cui le jail non sono in esecuzione, poichè le jail saranno disattivate solo per un breve periodo. Questa procedura fornisce un modo per ritornare indietro alle vecchie versioni nel caso qualcosa vada storto.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Il primo passo è aggiornare il sistema host nella maniera usuale. Quindi creiamo un template temporaneo in sola lettura in <span class=filename>/home/j/mroot2</span>.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /home/j/mroot2</span>
<span class=c># cd /usr/src</span>
<span class=c># make installworld DESTDIR=/home/j/mroot2</span>
<span class=c># cd /home/j/mroot2</span>
<span class=c># cpdup /usr/src usr/src</span>
<span class=c># mkdir s</span></code></pre></div></div><div class=paragraph><p>Il processo di <code>installworld</code> crea alcune directory non necessarie, che possono essere rimosse:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># chflags -R 0 var</span>
<span class=c># rm -R etc var root usr/local tmp</span></code></pre></div></div></li><li><p>Ricreiamo i link simbolici in lettura e scrittura per il file system di riferimento:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ln -s s/etc etc</span>
<span class=c># ln -s s/root root</span>
<span class=c># ln -s s/home home</span>
<span class=c># ln -s ../s/usr-local usr/local</span>
<span class=c># ln -s ../s/usr-X11R6 usr/X11R6</span>
<span class=c># ln -s s/tmp tmp</span>
<span class=c># ln -s s/var var</span></code></pre></div></div></li><li><p>È questo il momento per fermare le jail:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/jail stop</span></code></pre></div></div></li><li><p>Smontiamo il file system originale:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># umount /home/j/ns/s</span>
<span class=c># umount /home/j/ns</span>
<span class=c># umount /home/j/mail/s</span>
<span class=c># umount /home/j/mail</span>
<span class=c># umount /home/j/www/s</span>
<span class=c># umount /home/j/www</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>I sistemi in lettura e scrittura sono attaccati al sistema in sola lettura (<span class=filename>/s</span>) e devono essere smontati.</p></div></td></tr></tbody></table></div></li><li><p>Muovi il file system in sola lettura e rimpiazzalo con quello nuovo. Il vecchio file system in sola lettura servirà da backup in caso qualcosa dovesse andare storto. La convenzione dei nomi qui utilizzata corrisponde a quella utilizzata quando fu creato il file system in sola lettura. Muovi la FreeBSD Ports Collection originale nel nuovo file system per risparmiare spazio e inode:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /home/j</span>
<span class=c># mv mroot mroot.20060601</span>
<span class=c># mv mroot2 mroot</span>
<span class=c># mv mroot.20060601/usr/ports mroot/usr</span></code></pre></div></div></li><li><p>A questo punto il nuovo template in sola lettura è pronto, quindi ci rimare di rimontare il file system e avviare le jail:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -a</span>
<span class=c># /etc/rc.d/jail start</span></code></pre></div></div></li></ol></div></div></div><div class=paragraph><p>Usa <a href="https://man.freebsd.org/cgi/man.cgi?query=jls&amp;sektion=8&amp;format=html">jls(8)</a> per verificare che le jail sono state avviate correttamente. Non dimenticare di eseguire mergemaster in ciascuna jail. I file di configurazione dovranno essere aggiornati così come gli script rc.d.</p></div></div></div></div></div></div><div class=sect1><h2 id=mac>Capitolo 16. Mandatory Access Control<a class=anchor href=#mac></a></h2><div class=sectionbody><div class=sect2><h3 id=mac-synopsis>16.1. Sinossi<a class=anchor href=#mac-synopsis></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-inline-glossary>16.2. Key Terms in this Chapter<a class=anchor href=#mac-inline-glossary></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-initial>16.3. Explanation of MAC<a class=anchor href=#mac-initial></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-understandlabel>16.4. Understanding MAC Labels<a class=anchor href=#mac-understandlabel></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-modules>16.5. Module Configuration<a class=anchor href=#mac-modules></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-bsdextended>16.6. The MAC bsdextended Module<a class=anchor href=#mac-bsdextended></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-ifoff>16.7. The MAC ifoff Module<a class=anchor href=#mac-ifoff></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-portacl>16.8. The MAC portacl Module<a class=anchor href=#mac-portacl></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-labelingpolicies>16.9. MAC Policies with Labeling Features<a class=anchor href=#mac-labelingpolicies></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-partition>16.10. The MAC partition Module<a class=anchor href=#mac-partition></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-mls>16.11. The MAC Multi-Level Security Module<a class=anchor href=#mac-mls></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-biba>16.12. The MAC Biba Module<a class=anchor href=#mac-biba></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-lomac>16.13. The MAC LOMAC Module<a class=anchor href=#mac-lomac></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-implementing>16.14. Implementing a Secure Environment with MAC<a class=anchor href=#mac-implementing></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=MAC-examplehttpd>16.15. Another Example: Using MAC to Constrain A Web Server<a class=anchor href=#MAC-examplehttpd></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-examplesandbox>16.16. An Example of a MAC Sandbox<a class=anchor href=#mac-examplesandbox></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=mac-troubleshoot>16.17. Troubleshooting the MAC Framework<a class=anchor href=#mac-troubleshoot></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><div class=sect1><h2 id=audit>Capitolo 17. Auditing degli Eventi di Sicurezza<a class=anchor href=#audit></a></h2><div class=sectionbody><div class=sect2><h3 id=audit-synopsis>17.1. Sinossi<a class=anchor href=#audit-synopsis></a></h3><div class=paragraph><p>FreeBSD 6.2-RELEASE e i successivi includono supporto per audit di eventi relativi alla sicurezza. L’audit degli eventi permette di tener traccia attraverso i log in modo affidabile, preciso e configurabile di una varietà di eventi rilevanti per la sicurezza del sistema, inclusi i login, i cambiamenti della configurazione e l’accesso ai file ed alla rete. Questi dati loggati possono essere molto preziosi per il monitoraggio di sistemi in produzione, ricerca di intrusioni ed analisi post mortem. FreeBSD implementa le API di BSM di Sun™ e i suoi formati di file, ed è interoperabile sia con le implementazioni di audit di Sun™ Solaris™ che con quelle di Apple® Mac OS® X.</p></div><div class=paragraph><p>Questo capitolo si focalizza sull’installazione e la configurazione dell’Auditing degli Eventi. Spiega politiche di auditing e fornisce come esempio una configurazione di audit.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Cosa è l’Auditing di Eventi e come funziona.</p></li><li><p>Come configurare l’Auditing di Eventi su FreeBSD per utenti e processi.</p></li><li><p>Come rivedere la traccia di audit usando la riduzione dell’audit e i tool per studiarla.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Comprendere le basi di UNIX® e FreeBSD (<a href=./#basics>Basi di UNIX</a>).</p></li><li><p>Essere familiare con le basi di configurazione e compilazione del kernel (<a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>).</p></li><li><p>Avere una certa familiarità con la sicurezza e come si applica a FreeBSD (<a href=./#security>Sicurezza</a>).</p></li></ul></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>La funzione di audit in FreeBSD 6.<em>X</em> è sperimentale e la messa in produzione dovrebbe avvenire solo dopo aver ben ponderato i rischi connessi al software sperimentale. Le limitazioni note includono che non tutti gli eventi relativi alla sicurezza al momento posso essere tracciati con l’audit, e che alcuni meccanismi di login, come display manager basati su X11 e demoni di terze parti, non sono correttamente configurabili per tracciare sotto audit le sessioni di login degli utenti.</p></div><div class=paragraph><p>La funzione di audit di sicurezza può generare log molto dettagliati dell’attività di sistema: su un sistema carico, i file di traccia possono essere molto grandi quando sono configurati in dettaglio, oltre i gigabytes per settimana. Gli amministratori dovrebbero tenere in conto le richieste di spazio associate alla configurazione dell’audit di grandi dimensioni. Ad esempio, potrebbe essere desiderabile dedicare un intero file system alle directory sotto <span class=filename>/var/audit</span> in modo che gli altri file system non siano toccati se il file system di audit si riempie completamente.</p></div></td></tr></tbody></table></div></div><div class=sect2><h3 id=audit-inline-glossary>17.2. Termini chiave - Parole da conoscere<a class=anchor href=#audit-inline-glossary></a></h3><div class=paragraph><p>Prima di leggere questo capitolo, dobbiamo chiarire alcuni termini relativi all’audit:</p></div><div class=ulist><ul><li><p><em>event</em>: Un event tracciabile da audit è ogni evento che può essere tenuto sotto osservazione dal sottosistema di audit. Esempi di eventi rilevanti per la sicurezza includono la creazione di un file, lo stabilire una connessione di rete, o il loggarsi di un utente. Gli event sono o "attribuibili", ovvero possono essere riferiti ad un utente autenticato, o "non attribuibili" se non possono esserlo. Esempi di eventi non attribuibili sono tutti gli eventi che occorrono prima dell’autenticazione nel processo di login, come tentativi di login con password errata.</p></li><li><p><em>class</em>: Le class di eventi sono insiemi di eventi correlati fra loro, e sono usati nelle espressioni di selezione. Class di eventi usate spesso includono " la creazione di file" (fc), "esecuzione" (ex) e "login_logout" (lo).</p></li><li><p><em>record</em>: Un record è una voce nel log di audit che descrive un evento di sicurezza. I record contengono il tipo di evento, informazione sul soggetto che ha causato l’evento, informazione sulla data e sull’ora dell’evento, informazione su ogni oggetto o argomento, ed una condizione di successo o fallimento.</p></li><li><p><em>trail</em>: Una traccia di audit, o file di log, consiste in una serie di record di eventi che descrivono eventi di sicurezza. Tipicamente le tracce sono in qualche modo in ordine cronologico rispetto all’istante in cui l’evento si è realizzato. Solo processi autorizzati hanno il permesso di tracciare record nella traccia di audit.</p></li><li><p><em>selection expression</em>: Una espressione di selezione è una stringa che contiene una lista di prefissi e nomi di classi di eventi usati per catalogare eventi.</p></li><li><p><em>preselection</em>: Il processo attraverso il quale il sistema identifica quali eventi sono di interesse per l’amministratore al fine di evitare di generare record di audit per eventi che non siano di interesse. La configurazione della preselezione usa una serie di espressioni di selezioni per identificare quali classi di eventi siano da tracciare per quale utente, come anche impostazioni globali che si applicano sia a processi autenticati che nono autenticati.</p></li><li><p><em>reduction</em>: Il processo attraverso il quale i record di un audit esistente sono selezionati per il salvataggio, la stampa, l’analisi. Ovvero, il processo attraverso il quale record di audit non desiderati siano rimossi dalla traccia di audit. Usando la riduzione, gli amministratori sono in grado di implementare politiche per il salvataggio di dati di audit. Per esempio, tracce di audit dettagliate possono essere tenute per un mese, dopodichè le tracce possono essere ridotte al fine di preservare solo le informazioni di login.</p></li></ul></div></div><div class=sect2><h3 id=audit-install>17.3. Installare il Supporto Audit<a class=anchor href=#audit-install></a></h3><div class=paragraph><p>Il supporto in user space per l’Audit degli Eventi è installato come parte del sistema operativo FreeBSD. In FreeBSD 7.0 e successivi, il supporto kernel all’Audit degli eventi è compilato di default. In FreeBSD 6.<em>X</em>, il supporto all’Audit degli eventi deve essere compilato esplicitamente nel kernel aggiungendo le seguenti righe al file di configurazione del kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>options  AUDIT</pre></div></div><div class=paragraph><p>Ricompila e reinstalla il kernel attraverso il normale processo spiegato in <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>.</p></div><div class=paragraph><p>Una volta che il kernel è stato compilato ed installato con l’audit abilitato, ed il sistema è stato rebootato, abilita il demone audit aggiungendo la seguente riga in <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>auditd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Il supporto all’audit a questo punto deve essere avviato al reboot, o manualmente avviando il demone:</p></div><div class="literalblock programlisting"><div class=content><pre>/etc/rc.d/auditd start</pre></div></div></div><div class=sect2><h3 id=audit-config>17.4. Configurazione dell’Audit<a class=anchor href=#audit-config></a></h3><div class=paragraph><p>Tutti i file di configurazione per l’audit di sicurezza si trovano in <span class=filename>/etc/security</span>. I seguenti file devono essere presenti prima dell’avvio del demone audit:</p></div><div class=ulist><ul><li><p><span class=filename>audit_class</span> - Contiene le definizioni delle classi di audit.</p></li><li><p><span class=filename>audit_control</span> - Controlla aspetti del sottosistema dell’audit, come le classi audit di default, il minimo spazio su disco da lasciare al log di audit, la massima dimensione della traccia di audit, etc.</p></li><li><p><span class=filename>audit_event</span> - Nomi testuali e descrizioni degli eventi di audit di sistema, cosí come una lista di quali classi contengano quali eventi.</p></li><li><p><span class=filename>audit_user</span> - Requisiti specifici dell’audit per l’utente, combinati con i default globali al login.</p></li><li><p><span class=filename>audit_warn</span> - Uno script customizzabile usato da auditd per generare messaggi di warning in situazioni eccezionali, come ad esempio quando sta finendo lo spazio per i record o quando le tracce dell’audit sono ruotate.</p></li></ul></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>I file di configurazione dell’audit dovrebbero essere editati e manotenuti con attenzione, dato che errori nella configurazione possono risultare in un tracciamento improprio degli eventi.</p></div></td></tr></tbody></table></div><div class=sect3><h4 id=_espressioni_per_la_selezione_degli_eventi>17.4.1. Espressioni per la Selezione degli Eventi<a class=anchor href=#_espressioni_per_la_selezione_degli_eventi></a></h4><div class=paragraph><p>Le espressioni per la selezione sono usate in un certo numero di posti nella configurazione dell’audit per determinare quali eventi dovrebbero essere sotto audit. Le espressioni contengono una serie di classi di eventi, ognuna con un prefisso che indica se i record che sono indicati debbano essere accettati o ignorati, ed opzionalmente ad indicare se i record che vengono individuati siano da tracciare ad un successo o ad un fallimento. Le espressioni di selezione sono valutate da sinistra a destra, e due espressioni sono combinate aggiungendo una all’altra.</p></div><div class=paragraph><p>La seguente lista contiene le classi di eventi di default presenti in <span class=filename>audit_class</span>:</p></div><div class=ulist><ul><li><p><code>all</code> - <em>all</em> - Indica tutte le classi di eventi.</p></li><li><p><code>ad</code> - <em>administrative</em> - Le azioni amministrative eseguite su un sistema nel suo complesso.</p></li><li><p><code>ap</code> - <em>application</em> - Azioni definite dall’applicazione.</p></li><li><p><code>cl</code> - <em>file close</em> - Chiamate audit alla system call <code>close</code>.</p></li><li><p><code>ex</code> - <em>exec</em> - Fa l’audit delle esecuzioni di un programma. L’audit degli argomenti della command line e delle variabili di ambiente è controllato da <a href="https://man.freebsd.org/cgi/man.cgi?query=audit_control&amp;sektion=5&amp;format=html">audit_control(5)</a> usando i parametri <code>argv</code> e <code>envv</code> nelle impostazioni della <code>policy</code>.</p></li><li><p><code>fa</code> - <em>file attribute access</em> - Fa l’audit dell’accesso ad attributi di accesso come <a href="https://man.freebsd.org/cgi/man.cgi?query=stat&amp;sektion=1&amp;format=html">stat(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=pathconf&amp;sektion=2&amp;format=html">pathconf(2)</a> ed eventi simili.</p></li><li><p><code>fc</code> - <em>file create</em> - Fa l’audit di eventi che hanno come risultato la creazione di un file.</p></li><li><p><code>fd</code> - <em>file delete</em> - Fa l’audit di eventi in cui avvenga una cancellazione di file.</p></li><li><p><code>fm</code> - <em>file attribute modify</em> - Fa l’audit di eventi in cui avvenga una modifica degli attributi dei file, come <a href="https://man.freebsd.org/cgi/man.cgi?query=chown&amp;sektion=8&amp;format=html">chown(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=flock&amp;sektion=2&amp;format=html">flock(2)</a>, etc.</p></li><li><p><code>fr</code> - <em>file read</em> - Fa l’audit di eventi nei quali dei dati siano letti, file siano aperti in lettura, etc.</p></li><li><p><code>fw</code> - <em>file write</em> - Fa l’audit di eventi in cui dati siano scritti, file siano scritti o modificati, etc.</p></li><li><p><code>io</code> - <em>ioctl</em> - Fa l’audit dell’uso della system call <a href="https://man.freebsd.org/cgi/man.cgi?query=ioctl&amp;sektion=2&amp;format=html">ioctl(2)</a>.</p></li><li><p><code>ip</code> - <em>ipc</em> - Fa l’audit di varie forme di Inter-Process Communication, incluse pipe POSIX e operazioni IPC System V.</p></li><li><p><code>lo</code> - <em>login_logout</em> - Fa l’audit di eventi di <a href="https://man.freebsd.org/cgi/man.cgi?query=login&amp;sektion=1&amp;format=html">login(1)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=logout&amp;sektion=1&amp;format=html">logout(1)</a> che occorrano nel sistema.</p></li><li><p><code>na</code> - <em>non attributable</em> - Fa l’audit di eventi non attribuibili.</p></li><li><p><code>no</code> - <em>invalid class</em> - Indica nessun evento di audit.</p></li><li><p><code>nt</code> - <em>network</em> - Fa l’audit di eventi relativi ad azioni di rete, come <a href="https://man.freebsd.org/cgi/man.cgi?query=connect&amp;sektion=2&amp;format=html">connect(2)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=accept&amp;sektion=2&amp;format=html">accept(2)</a>.</p></li><li><p><code>ot</code> - <em>other</em> - Fa l’audit di eventi miscellanei.</p></li><li><p><code>pc</code> - <em>process</em> - Fa l’audit di operazioni dei processi, come <a href="https://man.freebsd.org/cgi/man.cgi?query=exec&amp;sektion=3&amp;format=html">exec(3)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=exit&amp;sektion=3&amp;format=html">exit(3)</a>.</p></li></ul></div><div class=paragraph><p>Queste classi di eventi audit possono essere personalizzate modificando i file di configurazione <span class=filename>audit_class</span> e <span class=filename>audit_event</span>.</p></div><div class=paragraph><p>Ogni classe di audit nella lista è combinata con un prefisso che indica se le operazione di successo o andate in fallimento siano intercettate, e se la entry sta aggiungendo o togliendo delle regole di intercettazione per la classe ed il tipo.</p></div><div class=ulist><ul><li><p>(none) Fa l’audit di istanze dell’evento sia di successo che fallite.</p></li><li><p><code>+</code> Fa l’audit di eventi di successo in questa classe.</p></li><li><p><code>-</code> fa l’audit di eventi falliti in questa classe.</p></li><li><p><code>^</code> Non fa l’audit di eventi nè di successo nè falliti in questa classe.</p></li><li><p><code>^+</code> Non fa l’audit di eventi di successo in questa classe.</p></li><li><p><code>^-</code> Non fa l’audit di eventi falliti in questa classe.</p></li></ul></div><div class=paragraph><p>Il seguente esempio di selezione indica eventi di login/logout sia di successo che non, ma solo eventi di successo di esecuzione:</p></div><div class="literalblock programlisting"><div class=content><pre>lo,+ex</pre></div></div></div><div class=sect3><h4 id=_file_di_configurazione>17.4.2. File di Configurazione<a class=anchor href=#_file_di_configurazione></a></h4><div class=paragraph><p>Nella maggior parte dei casi, gli amministratori dovranno solo modificare due file quando configurano il sistema audit: <span class=filename>audit_control</span> ed <span class=filename>audit_user</span>. Il primo controlla le proprietà e le politiche di tutto il sistema, il secondo può essere usato per fare del fine tuning iper il singolo utente.</p></div><div class=sect4><h5 id=audit-auditcontrol>17.4.2.1. Il File <span class=filename>audit_control</span><a class=anchor href=#audit-auditcontrol></a></h5><div class=paragraph><p>Il file <span class=filename>audit_control</span> specifica un certo numero di valori di default per il sottosistema audit. Leggendo i contenuti di questo file, notiamo le seguenti righe:</p></div><div class="literalblock programlisting"><div class=content><pre>dir:/var/audit
flags:lo
minfree:20
naflags:lo
policy:cnt
filesz:0</pre></div></div><div class=paragraph><p>L’opzione <code>dir</code> viene usata per impostare una o più directory dove i file di log dell’audit vengono salvati. Se appare più di una directory, saranno usati in ordine uno dopo l’altro, dopo che uno si riempie. È comune configurare audit cosicchè i log siano tenuti in un filesystem dedicato, per prevenire interferenze fra il sottosistema audit ed altri sottosistemi se il filesystem si riempie.</p></div><div class=paragraph><p>Il campo <code>flags</code> imposta la maschera di preselzione per gli eventi attribuibili per tutto il sistema. Nell’esempio sopra, i login ed i logout di successo e quelli falliti sono tenuti sotto audit per tutto il sistema.</p></div><div class=paragraph><p>L’opzione <code>minfree</code> definisce la minima percentuale di spazio libero per i file system dove vengono conservate le tracce dell’audit. Quando questo limite viene superato, sarà generato un warning. L’esempio sopra imposta il minimo spazio libero al venti per cento.</p></div><div class=paragraph><p>L’opzione <code>naflags</code> specifica le classi di audit da tenere sotto audit per gli eventi non attribuibili, come il processo di login ed i demoni di sistema.</p></div><div class=paragraph><p>L’opzione <code>policy</code> specifica una lista separata da virgole di flag per le politiche che controllano vari aspetti del comportamento dell’audit. Il flag di default <code>cnt</code> indica che il sistema dovrebbe continuare a funzionare nonostante un errore dell’audit (questa flag è altamente consigliato). Un altro flag usato di comune è <code>argv</code>, che fa sì che gli argomenti di command line della sistema call <a href="https://man.freebsd.org/cgi/man.cgi?query=execve&amp;sektion=2&amp;format=html">execve(2)</a> siano tenuti sotto audit come parte dell’esecuzione del comando.</p></div><div class=paragraph><p>L’opzione <code>filesz</code> specifica la massima dimensione in bytes da tenere per le tracce di audit, prima di terminarli automaticamente e routarli. Il default, 0, disabilita la rotazione dei file di log. Se la dimensione è diversa di zero ma minore del minimo, 512k, sarà ignorata ed un messaggio di log sarà generato.</p></div></div><div class=sect4><h5 id=audit-audituser>17.4.2.2. Il File <span class=filename>audit_user</span><a class=anchor href=#audit-audituser></a></h5><div class=paragraph><p>Il file <span class=filename>audit_user</span> permette all’amministratore di specificare ulteriori requisiti dell’audit per utenti specifici. Ogni linea configura l’audit per un utente attraverso due campi: il primo campo è <code>alwaysaudit</code>, che specifica un insieme di eventi che dovrebbero sempre essere tenuti sotto audit per l’utente, ed il secondo è il campo <code>neveraudit</code>, che specifica un insieme di eventi che non dovrebbero mai essere tenuti sotto audit per l’utente.</p></div><div class=paragraph><p>Il seguente esempio di file <span class=filename>audit_user</span> fa l’audit di eventi di login/logout e delle esecuzioni di successo per l’utente <code>root</code>, e fa l’audit della creazione e dell’esecuzione di successo per l’utente <code>www</code>. Se usato con il file di esempio <span class=filename>audit_control</span> sopra riportato, l’entry <code>lo</code> per <code>root</code> è ridondante, e gli eventi di login/logout sarano tenuti sotto audit anche per l’utente <code>www</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>root:lo,+ex:no
www:fc,+ex:no</pre></div></div></div></div></div><div class=sect2><h3 id=audit-administration>17.5. Amministrare il Sottosistema Audit<a class=anchor href=#audit-administration></a></h3><div class=sect3><h4 id=_leggere_le_tracce_di_audit>17.5.1. Leggere le Tracce di Audit<a class=anchor href=#_leggere_le_tracce_di_audit></a></h4><div class=paragraph><p>Le tracce di audit sono conservate nel formato binario BSM, così devono essere usati degli strumenti appositi per modificare o convertirli a testo. Il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=praudit&amp;sektion=1&amp;format=html">praudit(1)</a> converte file di traccia a semplice formato testo; il comando <code>auditreduce</code> può essere usato per ridurre file di traccia per analisi, archiviazione o stampa. <a href="https://man.freebsd.org/cgi/man.cgi?query=auditreduce&amp;sektion=1&amp;format=html">auditreduce(1)</a> supporta una varietà di parametri di selezione, incluso il tipo di evento, la classe dell’evento, l’utente, la data o l’ora dell’evento, ed il percorso del file o l’oggetto su cui si opera.</p></div><div class=paragraph><p>Per esempio, l’utility <code>praudit</code> farà il dump dell’intero contenuto di uno specifico file di log di audit in semplice formato testuale:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># praudit /var/audit/AUDITFILE</span></code></pre></div></div><div class=paragraph><p>Dove <span class=filename>AUDITFILE</span> è il nome del file di log di cui fare il dump.</p></div><div class=paragraph><p>Le tracce di audit consistono in una serie di record di audit composti da token, che <code>praudit</code> scrive sequenzialmente uno per linea. Ogni token è per un tipo specifico, come <code>header</code> che tiene un header di un record audit, o <code>path</code> che tiene un percorso di file da una ricerca del nome. Il seguente è un esempio di un evento <code>execve</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>header,133,10,execve(2),0,Mon Sep 25 15:58:03 2006, + 384 msec
exec arg,finger,doug
path,/usr/bin/finger
attribute,555,root,wheel,90,24918,104944
subject,robert,root,wheel,root,wheel,38439,38032,42086,128.232.9.100
return,success,0
trailer,133</pre></div></div><div class=paragraph><p>Questo audit rappresenta una chiamata di successo a <code>execve</code>, in cui il comando <code>finger doug</code> è stato eseguito. Il token degli argomenti contiene la riga di comando presentata dalla shell al kernel. Il token <code>path</code> contiene il percorso dell’eseguibile usato dal kernel. Il token <code>attribute</code> descrive il binario, ed in particolare include i permessi del file che possono essere usato per determinare se l’applicazione era setuid. Il token <code>subject</code> descrive il processo in oggetto e conserva in sequenza l’id utente dell’audit, l’id effettivo dell’utente, il group id, lo user id reale ed il group id reale, il process id, l’id della sessione, l’id della porta e l’indirizzo di login. Nota che l’audit user id ed il real user id sono diversi: l’utente <code>robert</code> è diventato <code>root</code> prima di eseguire questo comando, ma questo viene tenuto sotto audit usando lo user id originale. Infine, il token <code>return</code> indica l’esecuzione andata a buon fine, ed il <code>trailer</code> chiude il record.</p></div><div class=paragraph><p>In FreeBSD 6.3 e successive, <code>praudit</code> supporta anche il formato di output XML, che può essere selezionato usando l’argomento <code>-x</code>.</p></div></div><div class=sect3><h4 id=_ridurre_le_tracce_di_audit>17.5.2. Ridurre le Tracce di Audit<a class=anchor href=#_ridurre_le_tracce_di_audit></a></h4><div class=paragraph><p>Dato che i log dell’audit possono essere molto grandi, un amministratore probabilmente vorrà selezionarne solo un sottoinsieme utile, ad esempio i record associati con un utente specifico:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># auditreduce -u trhodes /var/audit/AUDITFILE | praudit</span></code></pre></div></div><div class=paragraph><p>Questo selezionerà tutti i record di audit per l’utente <code>trhodes</code> conservati nel file <span class=filename>AUDITFILE</span>.</p></div></div><div class=sect3><h4 id=_delegare_diritti_di_ispezionare_laudit>17.5.3. Delegare Diritti di Ispezionare l’Audit<a class=anchor href=#_delegare_diritti_di_ispezionare_laudit></a></h4><div class=paragraph><p>I membri del gruppo <code>audit</code> hanno il permesso di leggere tracce di audit in <span class=filename>/var/audit</span>; di default questo gruppo e' vuoto, così solo <code>root</code> può leggere le tracce di audit. Utenti possono essere aggiunti al gruppo <code>audit</code> per delegare diritti di lettura sull’audit. Dato che l’abilità di tracciare contenuti del log di audit fornisce significative informazioni sul comportamento di utenti e processi, si raccomanda che la delega di lettura sia fatta con cautela.</p></div></div><div class=sect3><h4 id=_monitoraggio_dal_vivo_usando_pipe_di_audit>17.5.4. Monitoraggio dal Vivo Usando Pipe di Audit<a class=anchor href=#_monitoraggio_dal_vivo_usando_pipe_di_audit></a></h4><div class=paragraph><p>Le pipe di audit sono degli pseudo-device clonanti nel file system dei device che permettono alle applicazioni di intercettare lo stream dei record di audit in tempo reale. Questo è di primario interesse per i creatori di applicativi di intrusion detection e di monitoraggio di sistemi. In ogni caso, per l’amministratore il device della pipe dell’audit è un modo conveniente per permettere il monitaraggio dal vivo senza incontrare problemi con i permessi della traccia audit o la rotazione dei log che interrompono lo stream degli eventi. Per tracciare lo stream degli eventi dell’audit, usa la seguente linea di comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># praudit /dev/auditpipe</span></code></pre></div></div><div class=paragraph><p>Di default, i nodi di device delle pipe dell’audit sono accessibili solo dall’utente <code>root</code>. Per renderlo accessibile ai membri del gruppo <code>audit</code>, aggiungi una regola <code>devfs</code> al file <span class=filename>devfs.rules</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>add path &#39;auditpipe*&#39; mode 0440 group audit</pre></div></div><div class=paragraph><p>Leggi <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs.rules&amp;sektion=5&amp;format=html">devfs.rules(5)</a> per altre informazioni su come configurare il filesystem devfs.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>È facile produrre cicli di feedback di eventi audit, in cui il semplice osservare ogni evento di audit risulta nella creazione di più eventi di audit. Per esempio, se tutto il traffico di rete viene tenuto sotto audit, e <a href="https://man.freebsd.org/cgi/man.cgi?query=praudit&amp;sektion=1&amp;format=html">praudit(1)</a> viene eseguito da una sessione SSH, un flusso continuo di notevoli dimensioni di eventi audit sarà generato, dato che ogni evento scritto genererà un altro evento. È consigliabile eseguire <code>praudit</code> su un device pipe di audit da sessioni senza audit I/O in grande dettaglio, per evitare fenomeni come questo.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_ruotare_file_di_traccia_di_audit>17.5.5. Ruotare File di Traccia di Audit<a class=anchor href=#_ruotare_file_di_traccia_di_audit></a></h4><div class=paragraph><p>Le tracce di audit sono scritte solo dal kernel, e gestite solo dal demone dell’audit, auditd. Gli amministratori non dovrebbero cercare di usare <a href="https://man.freebsd.org/cgi/man.cgi?query=newsyslog.conf&amp;sektion=5&amp;format=html">newsyslog.conf(5)</a> o altri tool per ruotare direttamente i log di audit. Invece, il tool di gestione <code>audit</code> può essere usato per interrompere l’audit, riconfigurare il sistema di audit, ed eseguire la rotazione dei log. Il seguente comando fa sì che il demone audit crei un nuovo log di audit e segnali al kernel di usare il nuovo log. I vecchio log sarà terminato e rinominato, ed a questo punto potrà essere manipolato dall’amministratore.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># audit -n</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Se il demone auditd non sta girando al momento, questo comando fallirà e sarà prodotto un messaggio di errore.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Aggiungendo la seguente linea a <span class=filename>/etc/crontab</span> forzerà la rotazione ogni dodici ore da parte di <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>0     */12       *       *       *       root    /usr/sbin/audit -n</pre></div></div><div class=paragraph><p>Il cambiamento prenderà effetto dopo che hai salvato il nuovo <span class=filename>/etc/crontab</span>.</p></div><div class=paragraph><p>La rotazione automatica della traccia dell’audit basata sulla dimensione del file è possibile attraverso l’opzione <code>filesz</code> in <a href="https://man.freebsd.org/cgi/man.cgi?query=audit_control&amp;sektion=5&amp;format=html">audit_control(5)</a>, ed è descritta nella sezione sui file di configurazione di questo capitolo.</p></div></div><div class=sect3><h4 id=_comprimere_le_tracce_di_audit>17.5.6. Comprimere le Tracce di Audit<a class=anchor href=#_comprimere_le_tracce_di_audit></a></h4><div class=paragraph><p>Man mano che i file di traccia dell’audit diventano di grandi dimensioni, è spesso desiderabile comprimerli o in qualche modo archiviarli dopo che sono stati chiusi dal demone audit. Lo script <span class=filename>audit_warn</span> può essere usato per eseguire operazioni personalizzate per una varietà di eventi relativi all’audit, incluse la chiusura pulita delle tracce di audit quando sono ruotate. Ad esempio, il seguente comando può essere aggiunto allo script <span class=filename>audit_warn</span> per comprimere le tracce di audit alla chiusura:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# Compress audit trail files on close.
#
if [ &#34;$1&#34; = closefile ]; then
        gzip -9 $2
fi</pre></div></div><div class=paragraph><p>Altre attività di archiviazione possono includere copiare i file di traccia su di un server centralizzato, cancellare file di traccia vecchi, o ridurre la traccia di audit per rimuovere i record non voluti. Lo script sarà eseguito solo quando i file di traccia sono chiusi in maniera pulita, così non sarà eseguito su tracce lasciate non terminate a seguito di uno shutdown improprio.</p></div></div></div></div></div><div class=sect1><h2 id=disks>Capitolo 18. Archiviazione dei Dati<a class=anchor href=#disks></a></h2><div class=sectionbody><div class=sect2><h3 id=disks-synopsis>18.1. Sinossi<a class=anchor href=#disks-synopsis></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=disks-naming>18.2. Device Names<a class=anchor href=#disks-naming></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=disks-adding>18.3. Adding Disks<a class=anchor href=#disks-adding></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=raid>18.4. RAID<a class=anchor href=#raid></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=creating-cds>18.5. Creating and Using Optical Media (CDs & DVDs)<a class=anchor href=#creating-cds></a></h3><div class=sect3><h4 id=burncd>18.5.1. burncd<a class=anchor href=#burncd></a></h4><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect3><h4 id=cdrecord>18.5.2. cdrecord<a class=anchor href=#cdrecord></a></h4><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect3><h4 id=duplicating-audiocds>18.5.3. Duplicating Audio CDs<a class=anchor href=#duplicating-audiocds></a></h4><div class=paragraph><p>Traduzione in corso</p></div></div></div><div class=sect2><h3 id=floppies>18.6. Creating and Using Floppy Disks<a class=anchor href=#floppies></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=backups-tapebackups>18.7. Creating and Using Data Tapes<a class=anchor href=#backups-tapebackups></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=backups-floppybackups>18.8. Backups to Floppies<a class=anchor href=#backups-floppybackups></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=backup-basics>18.9. Backup Basics<a class=anchor href=#backup-basics></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=disks-virtual>18.10. Network, Memory, and File-Based File Systems<a class=anchor href=#disks-virtual></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=snapshots>18.11. File System Snapshots<a class=anchor href=#snapshots></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=quotas>18.12. File System Quotas<a class=anchor href=#quotas></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=disks-encrypting>18.13. Encrypting Disk Partitions<a class=anchor href=#disks-encrypting></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=swap-encrypting>18.14. Encrypting Swap Space<a class=anchor href=#swap-encrypting></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><div class=sect1><h2 id=geom>Capitolo 19. GEOM: Framework modulare per la trasformazione del disco<a class=anchor href=#geom></a></h2><div class=sectionbody><div class=sect2><h3 id=GEOM-synopsis>19.1. Sinossi<a class=anchor href=#GEOM-synopsis></a></h3><div class=paragraph><p>Questo articolo tratta l’utilizzo dei dischi attraverso la struttura GEOM implementata in FreeBSD. Questo include le più importanti utility di controllo RAID che utilizzano la suddetta struttura per la loro configurazione. Questo capitolo non si soffermerà in discussioni approfondite su come la struttura GEOM utilizza o controlla gli I/O, il suo sottosistema di funzionamento o il codice. Queste informazioni sono fornite dalla manpage <a href="https://man.freebsd.org/cgi/man.cgi?query=geom&amp;sektion=4&amp;format=html">geom(4)</a> e nei suoi vari riferimenti SEE ALSO. Questo capitolo non è nemmeno la guida definitiva alla configurazione del RAID Soltanto i dischiRAID classificati come "supportati da GEOM" saranno discussi.</p></div><div class=paragraph><p>Dopo la lettura di questo capitolo saprai:</p></div><div class=ulist><ul><li><p>Quale genere di supportoRAID è disponibile attraverso GEOM.</p></li><li><p>Come usare le utilities di base per configurare, manutenere, e manipolare i vari livelli di RAID.</p></li><li><p>Come creare dei mirror, degli stripe, criptare e connettere dischi remoti attraverso l’utilizzo di GEOM.</p></li><li><p>Come sbrogliare problematiche relative ai dischi connessi attraverso GEOM.</p></li></ul></div><div class=paragraph><p>Prima di procedere alla lettura di questo capitolo dovresti:</p></div><div class=ulist><ul><li><p>Sapere la meccanica di utilizzo dei dischi da parte di FreeBSD. (<a href=./#disks>Archiviazione dei Dati</a>).</p></li><li><p>Sapere come configurare e installare un kernel personalizzato sotto FreeBSD (<a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>).</p></li></ul></div></div><div class=sect2><h3 id=GEOM-intro>19.2. Introduzione a GEOM<a class=anchor href=#GEOM-intro></a></h3><div class=paragraph><p>GEOM permette l’accesso e il controllo alle classi - Master Boot Records, BSD labels, ecc - attraverso l’uso di forniture o di di files speciali in <span class=filename>/dev</span>. Mediante il supporto di vari software di configurazioneRAID , GEOM fornisce un accesso "trasparente" al sistema operativo e alle utilità di sistema.</p></div></div><div class=sect2><h3 id=GEOM-striping>19.3. RAID0 - Striping<a class=anchor href=#GEOM-striping></a></h3><div class=paragraph><p>Lo striping è un metodo utilizzato per unire gli hard disks in un singolo volume. In molti casi, questo si ottiene attraverso dei controllers hardware. Il sottosistema GEOM fornisce il supporto software per il RAID0, conosciuto anche come disk striping.</p></div><div class=paragraph><p>In un sistema RAID0, i dati sono tagliati in blocchi che vengono "spalmati" su tutti i dischi della catena RAID. Invece di aspettare che il sistema scriva un blocco di 256kb su un disco, il RAID0 può scrivere blocchi di 64k ciascuno su quattro differenti dischi, offrendo performances I/O migliori. Queste performances possono essere ulteriormente migliorate utilizzando più controllers per dischi.</p></div><div class=paragraph><p>In ogni "stripe" RAID0 ogni disco deve essere della stessa grandezza degli altri, dal momento che le chiamate I/O sono inframezzate per leggere e scrivere su più dischi in parallelo.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/geom/striping.png alt="Disk Striping Illustration"></div></div><div class="exampleblock procedure"><div class=content><div class=paragraph><p><strong>Procedure: Creazione di uno stripe di dischi ATA non formattati</strong></p></div><div class="olist arabic"><ol class=arabic><li><p>Caricare il modulo <span class=filename>geom_stripe</span>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kldload geom_stripe.ko</span></code></pre></div></div></li><li><p>Assicurati che esiste una appropriato mount point. Se il volume in questione diventerà una partizione di root, allora usa temporaneamente un mount point diverso,ad esempio <span class=filename>/mnt</span>:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /mnt</span></code></pre></div></div></li><li><p>Determina i nomi dei devices per i dischi che verranno configurati in stripe e creali. Ad esempio per configurare in modalità stripe 2 dischi ATA <span class=filename>/dev/ad2</span> e <span class=filename>/dev/ad3</span> non ancora partizionati potresti usare il seguente comando.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gstripe label -v st0 /dev/ad2 /dev/ad3</span></code></pre></div></div></li><li><p>Se questo volume sarà utilizzato come dispositivo di root da cui effettuare il boot, allora prima di creare il filesystem devi utilizzare il seguente comando:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fdisk -vBI /dev/stripe/st0</span></code></pre></div></div></li><li><p>Crea una tabella delle partizioni sul nuovo volume con in seguente comando:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># bsdlabel -wB /dev/stripe/st0</span></code></pre></div></div></li><li><p>Questa procedura dovrebbe aver creato altri due device in <span class=filename>/dev/stripe</span> in aggiunta a <span class=filename>st0</span>. Nella fattispecie <span class=filename>st0a</span> e <span class=filename>st0c</span>. Ora bisogna creare un filesystem nel device <span class=filename>st0a</span> utilizzando il comando <code>newfs</code> come segue:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -U /dev/stripe/st0a</span></code></pre></div></div><div class=paragraph><p>Dopo che per qualche secondo vedrete parecchi numeri scorrere sullo schermo, la procedura sarà completa. Il volume è stato creato ed è pronto per essere montato.</p></div></li></ol></div></div></div><div class=paragraph><p>Per montare manualmente il dispositivo stripe appena creato usa il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/stripe/st0a /mnt</span></code></pre></div></div><div class=paragraph><p>Per montare il filesystem stripe automaticamente all’avvio del sistema, inserisci le informazioni del volume nel file <span class=filename>/etc/fstab</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#34;/dev/stripe/st0a /mnt ufs rw 2 2&#34; \</span>
      <span class=o>&gt;&gt;</span> /etc/fstab</code></pre></div></div><div class=paragraph><p>Il modulo <span class=filename>geom</span> deve essere caricato contestualmente all’avvio del sistema; questo lo si ottiene semplicemente inserendo la seguente linea nel file <span class=filename>/boot/loader.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#39;geom_stripe_load=&#34;YES&#34;&#39; &gt;&gt; /boot/loader.conf</span></code></pre></div></div></div><div class=sect2><h3 id=GEOM-mirror>19.4. RAID1 - Mirroring<a class=anchor href=#GEOM-mirror></a></h3><div class=paragraph><p>Il mirroring è una tecnologia utilizzata da molte aziende e utenti casalinghi per il salvataggio dei dati senza interruzioni. La presenza di un "mirror" significa semplicemente che il disco B replica il disco A;oppure che i dischi C e D replicano i dischi A e B. Indipendentemente dalla configurazione del disco, l’aspetto importante è che le informazioni presenti su un disco o una partizione sono letteralmente "replicati". Successivamente queste informazioni possono essere facilmente ripristinate,salvate senza che si verifichino disservizi o interruzioni nel loro accesso e, addirittura, conservate fisicamente in cassaforte.</p></div><div class=paragraph><p>Per cominciare assicurati che il sistema disponga di due dischi di identica capacità. Questo esercizio si riferisce a dischi SCSIad accesso diretto (<a href="https://man.freebsd.org/cgi/man.cgi?query=da&amp;sektion=4&amp;format=html">da(4)</a>),</p></div><div class=paragraph><p>Comincia installando FreeBSD sul primo disco creando solamente due partizioni. Una dovrebbe essere una partizione di swap, pari al doppio della RAM presente nel sistema e il resto dello spazio dedicato al filesystem di root (<span class=filename>/</span>). È possibile creare partizioni separate per gli altri mount points, aumentando parecchio la difficoltà di realizzazione del progetto; questo è dovuto alla necessità di alterare manualmente i settaggi di <a href="https://man.freebsd.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8&amp;format=html">bsdlabel(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=fdisk&amp;sektion=8&amp;format=html">fdisk(8)</a>.</p></div><div class=paragraph><p>Riavvia e aspetta che il sistema sia completamente attivo. Non appena il boot è completato effettua il login come <code>root</code>.</p></div><div class=paragraph><p>Crea il device <span class=filename>/dev/mirror/gm</span> e fai un link dello stesso a <span class=filename>/dev/da1</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror label -vnb round-robin gm0 /dev/da1</span></code></pre></div></div><div class=paragraph><p>Il sistema dovrebbe rispondere con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Metadata value stored on /dev/da1.
Done.</code></pre></div></div><div class=paragraph><p>Avvia GEOM,questa procedura caricherà nel kernel il modulo <span class=filename>/boot/kernel/geom_mirror.ko</span></p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror load</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questo comando dovrebbe ora avere creato i nodi di device <span class=filename>gm0</span>, <span class=filename>gm0s1</span>, <span class=filename>gm0s1a</span> e <span class=filename>gm0s1c</span> nella directory <span class=filename>/dev/mirror</span>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Crea una label generica e un codice di boot nel device <span class=filename>gm0</span> appena creato utilizzando il comando <code>fdisk</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fdisk -vBI /dev/mirror/gm0</span></code></pre></div></div><div class=paragraph><p>Ora crea una label di informazioni generica con <code>bsdlabel</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># bsdlabel -wB /dev/mirror/gm0s1</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se sono presenti più slices e partizioni, i flags dei due comandi precedenti richiederanno delle modifiche. Queste modifiche devono combaciare con la grandezza delle slices e delle partizioni dell’altro disco.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Utilizza l’utility <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> per creare un filesystem di default sul nodo di device <span class=filename>gm0s1a</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -U /dev/mirror/gm0s1a</span></code></pre></div></div><div class=paragraph><p>Questo dovrebbe causare la visualizzazione di un bel pò di numeri e informazioni varie da parte del sistema. È corretto. Esamina bene lo schermo per vedere se ci sono messaggi di errore e monta il device in <span class=filename>/mnt</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount /dev/mirror/gm0s1a /mnt</span></code></pre></div></div><div class=paragraph><p>Ora sposta tutti i dati presenti sul tuo disco di boot nel nuovo filesystem. Questo esempio usa i comandi <a href="https://man.freebsd.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;format=html">dump(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=restore&amp;sektion=8&amp;format=html">restore(8)</a> comunque anche <a href="https://man.freebsd.org/cgi/man.cgi?query=dd&amp;sektion=1&amp;format=html">dd(1)</a> dovrebbe funzionare nel contesto che stiamo trattando. Evita di utilizzare <a href="https://man.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;format=html">tar(1)</a> dal momento che non copia il codice di boot. In caso contrario il fallimento è garantito.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># dump -L -0 -f- / |(cd /mnt &amp;&amp; restore -r -v -f-)</span></code></pre></div></div><div class=paragraph><p>Questo deve essere fatto per ciascun filesystem. Disponi semplicemente il filesystem appropriato nella posizione corretta quando digiti il suddetto comando.</p></div><div class=paragraph><p>Ora edita il file <span class=filename>/mnt/etc/fstab</span> "replicato" e rimuovi,o commenta (#) la riga relativa al file di swap. Per utilizzare il nuovo disco cambia le altre informazioni di filesystem. Dai un' occhiata al seguente esempio:</p></div><div class="literalblock programlisting"><div class=content><pre># Device                Mountpoint      FStype  Options         Dump    Pass#
#/dev/da0s2b             none            swap    sw              0       0
/dev/mirror/gm0s1a       /               ufs     rw              1       1</pre></div></div><div class=paragraph><p>Ora crea un file <span class=filename>boot.conf</span> in entrambe le partizioni di root; quella corrente e quella nuova. Questo file aiuterà il BIOS di sistema ad effettuare il boot dal drive corretto.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#34;1:da(1,a)/boot/loader&#34; &gt; /boot.config</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#34;1:da(1,a)/boot/loader&#34; &gt; /mnt/boot.config</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Lo abbiamo inserito in entrambe le partizioni di root per assicurarci un boot corretto. Se per qualche ragione il sistema non potesse leggere la nuova partizione di root, è disponibile una procedura di recupero.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Adesso aggiungi la seguente linea al nuovo file <span class=filename>/boot/loader.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#39;geom_mirror_load=&#34;YES&#34;&#39; &gt;&gt; /mnt/boot/loader.conf</span></code></pre></div></div><div class=paragraph><p>Questo indicherà a <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> come caricare il modulo <span class=filename>geom_mirror.ko</span> durante l’inizializzazione del sistema.</p></div><div class=paragraph><p>Riavvia il sistema:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># shutdown -r now</span></code></pre></div></div><div class=paragraph><p>Se tutto è andato liscio il sistema dovrebbe aver effettuato il boot di device <span class=filename>gm0s1a</span> e il prompt di <code>login</code> dovrebbe essere in attesa. Se qualcosa è andato storto fai riferimento alla sezione successiva "risoluzione dei problemi". Ora aggiungi al disco <span class=filename>da0</span> al device <span class=filename>gm0</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># gmirror configure -a gm0</span>
<span class=c># gmirror insert gm0 /dev/da0</span></code></pre></div></div><div class=paragraph><p>Il flag <code>-a</code> dice a <a href="https://man.freebsd.org/cgi/man.cgi?query=gmirror&amp;sektion=8&amp;format=html">gmirror(8)</a> di usare la sincronizzazione automatica; ovvero mirrorare automaticamente le scritture sul disco. La manpage descrive come ricostruire o rimpiazzare i dischi, utilizzando <span class=filename>data</span> al posto di <span class=filename>gm0</span>.</p></div><div class=sect3><h4 id=_risoluzione_dei_problemi_3>19.4.1. Risoluzione dei problemi<a class=anchor href=#_risoluzione_dei_problemi_3></a></h4><div class=sect4><h5 id=_il_sistema_non_effettua_il_boot>19.4.1.1. Il sistema non effettua il boot<a class=anchor href=#_il_sistema_non_effettua_il_boot></a></h5><div class=paragraph><p>Se al boot il sistema mostra un prompt simile a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>ffs_mountroot: can&#39;t find rootvp
Root mount failed: 6 mountroot&gt;</pre></div></div><div class=paragraph><p>Riavvia la macchina utilizzando il tasto di reset o il pulsante di accensione. Arrivato al menu del boot, scegli l’opzione sei (6). Questo forzerà il sistema al prompt di <a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a>. Carica manualmente il modulo del kernel:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>OK? load geom_mirror.ko
OK? boot</code></pre></div></div><div class=paragraph><p>Se funziona significa che per qualche ragione il modulo non era stato caricato correttamente. Inserisci:</p></div><div class="literalblock programlisting"><div class=content><pre>options	GEOM_MIRROR</pre></div></div><div class=paragraph><p>nel file di configurazione del kernek,ricompilalo e reinstallalo. Questo dovrebbe risolvere il problema.</p></div></div></div></div></div></div><div class=sect1><h2 id=vinum-vinum>Capitolo 20. Il Gestore di Volumi Vinum<a class=anchor href=#vinum-vinum></a></h2><div class=sectionbody><div class=sect2><h3 id=vinum-synopsis>20.1. Sinossi<a class=anchor href=#vinum-synopsis></a></h3><div class=paragraph><p>Qualunque siano i dischi che hai, ci sono sempre dei problemi potenziali:</p></div><div class=ulist><ul><li><p>Potrebbero essere troppo piccoli.</p></li><li><p>Potrebbero essere troppo lenti.</p></li><li><p>Potrebbero essere troppo inaffidabili.</p></li></ul></div><div class=paragraph><p>Un modo in cui alcuni utenti salvaguardano sè stessi contro questi problemi è attraverso l’uso di dischi multipli, e talvolta ridondanti.</p></div><div class=paragraph><p>In aggiunta a supportare diverse schede e controller per sistemi RAID hardware, il sistema FreeBSD base include il gestore di volumi Vinum, un driver di dispositivo a blocchi che implementa dischi virtuali.</p></div><div class=paragraph><p>Vinum fornisce più flessibilità, prestazioni, e affidabilità rispetto all’archiviazione su disco tradizionale e implementa i modelli RAID-0, RAID-1, e RAID-5 sia singolarmente che in combinazione.</p></div><div class=paragraph><p>Questo capitolo fornisce una panoramica sui potenziali problemi dell’archiviazione su disco tradizionale e un’introduzione al gestore di volumi Vinum.</p></div></div><div class=sect2><h3 id=vinum-intro>20.2. Dischi Troppo Piccoli<a class=anchor href=#vinum-intro></a></h3><div class=paragraph><p><em>Vinum</em> è un <em>Volume Manager</em>, ovvero un driver virtuale di disco che si occupa dei tre problemi indicati nella sinossi. Diamo un’occhiata in dettaglio a questi problemi, per i quali sono state proposte e implementate varie soluzioni.</p></div><div class=paragraph><p>I dischi stanno diventando sempre più grandi, ma questo è vero anche per le necessità di spazio per i dati. Spesso sentirai il bisogno di avere un file system più grande dei dischi che possiedi. Effettivamente questo problema non è così grave come lo era dieci anni fa, ma è sempre presente. Alcuni sistemi risolvono la questione creando un dispositivo astratto che ripartisce i suoi dati su vari dischi.</p></div></div><div class=sect2><h3 id=vinum-access-bottlenecks>20.3. Colli di Bottiglia nell’Accesso<a class=anchor href=#vinum-access-bottlenecks></a></h3><div class=paragraph><p>I moderni sistemi hanno frequentemente la necessità di accedere ai dati in modo concorrente. Ad esempio, un grande server FTP o HTTP può avere migliaia di sessioni concorrenti e molteplici connessioni da 100 Mbit/s verso il mondo esterno, ben oltre il transfer rate (velocità di trasferimento) che la maggior parte dei dischi può sostenere.</p></div><div class=paragraph><p>I dischi odierni possono trasferire sequenzialmente dati fino a 70 MB/s, ma questo valore ha poca importanza in un ambiente dove molti processi indipendenti accedono al disco, in quanto raggiungerebbero solo una frazione di quella velocità. In questi casi è più interessante vedere il problema dal punto di vista del sottosistema dischi: il parametro importante è il carico che il trasferimento pone sul sottosistema, in altre parole il tempo per cui il trasferimento occupa i dischi necessari per lo stesso.</p></div><div class=paragraph><p>In ogni trasferimento da disco il drive deve prima posizionare le testine, poi aspettare che il primo settore passi sotto la testina di lettura e solo dopo può effettuare il trasferimento. Queste azioni possono essere considerate atomiche: non ha alcun senso interromperle.</p></div><div class=paragraph><p><a id=vinum-latency></a>Considera un tipico trasferimento di circa 10 kB: l’attuale generazione di dischi ad alte prestazioni può posizionare le testine in circa 3,5 ms. I dischi più veloci ruotano a 15.000 rpm, quindi la latenza media rotazionale (mezzo giro) è di 2 ms. A 70 MB/s, il trasferimento in sé occupa circa 150 μs, quasi nulla in confronto al tempo di posizionamento. In questo caso il transfer rate effettivo può scendere fino a poco oltre 1 MB/s e questo è chiaramente molto dipendente dalla dimensione del trasferimento.</p></div><div class=paragraph><p>La tradizionale e ovvia soluzione a questo collo di bottiglia è "più assi": invece di usare un grande disco si usano molti piccoli dischi con la stessa dimensione totale. Ogni disco è capace di posizionarsi e trasferire dati indipendentemente quindi la velocità effettiva aumenta di un fattore vicino al numero di dischi usati.</p></div><div class=paragraph><p>L’esatto fattore di miglioramento è, ovviamente, più piccolo del numero di dischi: benché ogni disco sia capace di trasferire in parallelo non c’è modo di assicurare che le richieste siano distribuite uniformemente tra tutti i dischi. Inevitabilmente il carico su uno dei dischi è più alto che sugli altri.</p></div><div class=paragraph><p>L’uniformità della distribuzione del carico sui dischi è fortemente dipendente dal modo in cui i dati sono condivisi tra i dischi stessi. Nella seguente discussione è conveniente pensare allo spazio di immagazzinamento come se fosse diviso in un gran numero di settori identificati da un indirizzo numerico, come pagine in un libro. Il metodo più ovvio è di dividere il disco virtuale in gruppi di settori consecutivi della dimensione dei dischi fisici e immagazzinarli in questa maniera, come strappare un grosso libro in piccole sezioni. Questo metodo è chiamato <em>concatenazione</em> e ha il vantaggio di non avere particolari richieste sulla dimensione degli specifici dischi. Funziona bene quando l’accesso al disco virtuale è ben ripartito tra tutto il suo spazio di indirizzamento. Quando l’accesso è concentrato in una piccola area il miglioramento è meno marcato. La <a href=#vinum-concat>Organizzazione Concatenata</a> illustra la sequenza in cui le unità di immagazzinamento sono allocate nell’organizzazione concatenata.</p></div><div id=vinum-concat class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-concat.png alt="vinum concat"></div><div class=title>Figura 59. Organizzazione Concatenata</div></div><div class=paragraph><p>Un metodo alternativo è dividere lo spazio di indirizzamento in più piccole componenti di egual dimensione e immagazzinarle sequenzialmente su differenti dispositivi. Per esempio i primi 256 settori potrebbero essere immagazzinati sul primo disco, i seguenti 256 settori sul disco seguente e così via. Dopo aver immagazzinato i dati sull’ultimo disco il processo si ripete finché i dischi non sono pieni. Questo mappamento è chiamato <em>striping</em> (letteralmente "a bande") o RAID-0. Lo striping richiede qualche sforzo aggiuntivo per localizzare i dati e può causare carico di I/O aggiuntivo quando il trasferimento è distribuito tra vari dischi, ma aiuta il carico a essere ben distribuito tra i vari dischi. La <a href=#vinum-striped>Organizzazione in Striping</a> illustra la sequenza in cui i blocchi di dati sono allocati nell’organizzazione in striping.</p></div><div id=vinum-striped class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-striped.png alt="vinum striped"></div><div class=title>Figura 60. Organizzazione in Striping</div></div></div><div class=sect2><h3 id=vinum-data-integrity>20.4. Integrità dei Dati<a class=anchor href=#vinum-data-integrity></a></h3><div class=paragraph><p>L’ultimo problema dei dischi attuali è che sono inaffidabili. Benché la loro affidabilità sia aumentata tremendamente durante gli ultimi anni sono tuttora il componente di un server che ha la maggior probabilità di rompersi. Quando succede i risultati possono essere catastrofici: rimpiazzare un disco rotto e riempirlo dei dati originari può richiedere giorni.</p></div><div class=paragraph><p>Il metodo tradizionale per affrontare questo problema si chiama <em>mirroring</em> (letteralmente "specchiatura") e consiste nel tenere due copie dei dati su hardware fisici differenti. Con l’avvento dei livelli RAID questa tecnica è stata chiamata RAID di livello 1 o RAID-1. Ogni scrittura su disco scrive in entrambe le locazioni; una lettura può essere soddisfatta da entrambi quindi se un disco si rompe i dati sono sempre disponibili sull’altro disco.</p></div><div class=paragraph><p>Il mirroring ha due problemi:</p></div><div class=ulist><ul><li><p>Il prezzo. Richiede il doppio dello spazio di immagazzinamento delle soluzioni non ridondanti.</p></li><li><p>L’impatto sulle prestazioni. La scrittura deve essere compiuta su entrambi i dischi quindi la banda occupata raddoppia. Le letture non soffrono di problemi sulle prestazioni: possono perfino essere più veloci.</p></li></ul></div><div class=paragraph><p>Una soluzione alternativa è la <em>parità</em>, implementata nel RAID di livello 2, 3, 4 e 5. Di questi, il RAID-5 è il più interessante. La sua implementazione in Vinum è una variante dell’organizzazione in striping che dedica un blocco di ogni banda alla parità degli altri blocchi. Per come è implementato in Vinum, ogni blocco RAID-5 è simile a un blocco in striping, con la differenza che implementa il RAID-5 includendo un blocco di parità per ogni banda. Come richiesto dal RAID-5 la locazione di questi blocchi di parità cambia da ogni banda alla successiva. I numeri nei blocchi dati indicano il numero dei blocchi relativi.</p></div><div id=vinum-raid5-org class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-raid5-org.png alt="vinum raid5 org"></div><div class=title>Figura 61. Organizzazione RAID-5</div></div><div class=paragraph><p>Comparandolo al mirroring, il RAID-5 ha il vantaggio di richiedere molto meno spazio di immagazzinamento. La velocità di lettura è simile all’organizzazione in striping, ma in scrittura l’accesso è significativamente più lento, circa il 25% della performance di lettura. Se uno dei dischi si rompe l’aggregato continua a lavorare con performance peggiorate: la lettura da uno dei dischi rimanenti continua normalmente, ma la lettura dal disco rotto è ricalcolata dai corrispondenti blocchi dei dischi rimanenti.</p></div></div><div class=sect2><h3 id=vinum-objects>20.5. Oggetti Vinum<a class=anchor href=#vinum-objects></a></h3><div class=paragraph><p>Per risolvere questi problemi Vinum implementa una categoria di oggetti a quattro livelli:</p></div><div class=ulist><ul><li><p>L’oggetto più visibile è il disco virtuale, chiamato <em>volume</em>. I volumi hanno essenzialmente le stesse proprietà di un disco UNIX®, benché ci sia qualche differenza minore. Non hanno limiti di dimensione.</p></li><li><p>I volumi sono composti da <em>plex</em>, ognuno dei quali rappresenta il completo spazio di indirizzamento del volume. È quindi questo il livello della gerarchia che gestisce la ridondanza dei dati. Pensa ai plex come a singoli dischi collegati tra loro in mirroring, ognuno contenente gli stessi dati.</p></li><li><p>Dato che Vinum vive all’interno del framework UNIX® di immagazzinamento dei dati sarebbe possibile utilizzare le partizioni UNIX® come blocchi basilari per costruire i plex multidisco, ma questo approccio sarebbe in effetti troppo poco flessibile: i dischi UNIX® possono avere solo un limitato numero di partizioni; al contrario Vinum suddivide le singole partizioni UNIX® (<em>drive</em>, ovvero dischi) in aree contigue chiamate <em>subdisks</em> (sottodischi), che sono a loro volta utilizzati come elementi per costruire i plex.</p></li><li><p>I sottodischi risiedono su <em>drive</em> Vinum, che attualmente sono partizioni UNIX®. I drive Vinum possono contenere qualsiasi quantità di sottodischi. Con l’eccezione di una piccola area all’inizio del drive, che è usata per immagazzinare informazioni sulla configurazione e sullo stato, l’intero drive è disponibile per l’immagazzinamento dei dati.</p></li></ul></div><div class=paragraph><p>La sezione seguente descrive come gli oggetti sopra discussi possano dare le funzionalità richieste.</p></div><div class=sect3><h4 id=_considerazioni_sulle_dimensioni_dei_volumi>20.5.1. Considerazioni sulle Dimensioni dei Volumi<a class=anchor href=#_considerazioni_sulle_dimensioni_dei_volumi></a></h4><div class=paragraph><p>I plex possono contenere molteplici sottodischi distribuiti tra tutti i drive presenti nella configurazione di Vinum, questo permette alla dimensione dei plex, e quindi anche dei volumi, di non essere limitata dalla dimensione dei singoli dischi.</p></div></div><div class=sect3><h4 id=_immagazzinamento_ridondante_dei_dati>20.5.2. Immagazzinamento Ridondante dei Dati<a class=anchor href=#_immagazzinamento_ridondante_dei_dati></a></h4><div class=paragraph><p>Vinum implementa il mirroring collegando più plex allo stesso volume, ogni plex contiene la rappresentazione di tutti i dati del volume. Un volume può contenere da uno ad otto plex.</p></div><div class=paragraph><p>Nonostante un plex rappresenti i dati di un volume per intero, è possibile che parti di questa rappresentazione vengano a mancare o per scelta (non definendo dei sottodischi per alcune parti del plex) o per accidente (come risultato della rottura del disco che le conteneva). Finché almeno un plex contiene i dati di tutto lo spazio d’indirizzamento del volume, il volume stesso è completamente funzionale.</p></div></div><div class=sect3><h4 id=_considerazioni_sulle_prestazioni>20.5.3. Considerazioni sulle Prestazioni<a class=anchor href=#_considerazioni_sulle_prestazioni></a></h4><div class=paragraph><p>Vinum implementa sia la concatenazione che lo striping al livello di plex:</p></div><div class=ulist><ul><li><p>Un <em>plex concatenato</em> usa lo spazio di indirizzamento di ogni sottodisco a turno.</p></li><li><p>Un <em>plex in striping</em> suddivide i dati tra ogni sottodisco. I sottodischi devono tutti avere la stessa dimensione e devono essere presenti almeno due sottodischi perché esista differenza da un plex concatenato.</p></li></ul></div></div><div class=sect3><h4 id=_quale_organizzazione_per_i_plex>20.5.4. Quale Organizzazione per i Plex?<a class=anchor href=#_quale_organizzazione_per_i_plex></a></h4><div class=paragraph><p>La versione di Vinum distribuita con FreeBSD 12.0 implementa due tipi di plex:</p></div><div class=ulist><ul><li><p>I plex concatenati, che sono i più flessibili: possono contenere qualsiasi numero di sottodischi e questi possono avere qualsiasi dimensione. Il plex può essere esteso aggiungendo sottodischi. Richiede meno tempo di CPU di un plex in striping, benché la differenza in carico di CPU non sia misurabile. D’altro canto sono più suscettibili agli hot spot (letteralmente "zona calda"): ovvero situazioni in cui un disco è molto attivo mentre gli altri sono fermi.</p></li><li><p>Il più grande vantaggio dei plex in striping (RAID-0) è la loro capacità di ridurre gli hot spot: scegliendo una dimensione di striping ottimale (circa 256 kB) si può ridistribuire il carico sui drive. Gli svantaggi di questo approccio sono codice più complesso e restrizioni sui sottodischi: devono essere tutti della stessa dimensione, inoltre estendere il plex aggiungendo sottodischi è così complicato che attualmente Vinum non lo implementa. Vinum aggiunge anche un’ulteriore restrizione elementare: un plex in striping deve contenere almeno due sottodischi, dato che sarebbe altrimenti indistinguibile da un plex concatenato.</p></li></ul></div><div class=paragraph><p>La <a href=#vinum-comparison>Organizzazione dei Plex Vinum</a> riassume vantaggi e svantaggi di ogni tipo di organizzazione dei plex.</p></div><table id=vinum-comparison class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 8. Organizzazione dei Plex Vinum</caption><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><thead><tr><th class="tableblock halign-left valign-top">Tipo di plex</th><th class="tableblock halign-left valign-top">Sottodischi minimi</th><th class="tableblock halign-left valign-top">Sottodischi aggiungibili</th><th class="tableblock halign-left valign-top">Dimensioni forzatamente uguali</th><th class="tableblock halign-left valign-top">Applicazione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>concatenato</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>sì</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>no</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Immagazzinamento di grandi moli di dati con la massima flessibilità e prestazioni moderate</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>striping</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>no</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>sì</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Alte prestazioni in casi di accessi altamente concorrenti</p></td></tr></tbody></table></div></div><div class=sect2><h3 id=vinum-examples>20.6. Alcuni Esempi<a class=anchor href=#vinum-examples></a></h3><div class=paragraph><p>Vinum mantiene un <em>database della configurazione</em> che descrive gli oggetti del sistema conosciuti. Inizialmente l’utente crea il database della configurazione da uno o più file di configurazione, con l’aiuto del programma <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a>. Vinum immagazzina una copia del database di configurazione in ogni slice del disco (che Vinum chiama <em>device</em>, ovvero "dispositivo") sotto il suo controllo. Questo database è aggiornato a ogni cambio di stato in modo che un riavvio possa recuperare accuratamente lo stato di ogni oggetto Vinum.</p></div><div class=sect3><h4 id=_il_file_di_configurazione>20.6.1. Il File di Configurazione<a class=anchor href=#_il_file_di_configurazione></a></h4><div class=paragraph><p>Il file di configurazione descrive singoli oggetti Vinum. La definizione di un semplice volume potrebbe essere:</p></div><div class="literalblock programlisting"><div class=content><pre>    drive a device /dev/da3h
    volume myvol
      plex org concat
        sd length 512m drive a</pre></div></div><div class=paragraph><p>Questo file descrive quattro oggetti Vinum:</p></div><div class=ulist><ul><li><p>La linea <em>drive</em> descrive la partizione del disco (<em>drive</em>) e la sua locazione relativa all’hardware sottostante. Gli viene assegnato il nome simbolico <em>a</em>. Questa separazione dei nomi simbolici dai nomi di dispositivo permette di muovere i dischi da una locazione ad un’altra senza confusione.</p></li><li><p>La linea <em>volume</em> descrive un volume. L’unico attributo richiesto è il nome, in questo caso <em>myvol</em>.</p></li><li><p>La linea <em>plex</em> definisce un plex. L’unico parametro richiesto è il tipo di organizzazione, in questo caso <em>concat</em>. Non è necessario un nome: il sistema genera un nome automaticamente a partire dal nome del volume, aggiungendo un suffisso <em>.px</em>, dove <em>x</em> indica il numero del plex nel volume. Il plex verrà quindi chiamato <em>myvol.p0</em>.</p></li><li><p>La linea <em>sd</em> descrive un sottodisco. Le specifiche minime sono il nome del drive su cui immagazzinarlo e la lunghezza del sottodisco. Come per i plex non è necessario un nome: il sistema assegna automaticamente nomi derivati dal nome del plex, aggiungendo il suffisso <em>.sx</em>, dove <em>x</em> indica il numero del sottodisco nel plex, quindi Vinum darà a questo sottodisco il nome di <em>myvol.p0.s0</em>.</p></li></ul></div><div class=paragraph><p>Dopo aver elaborato questo file, <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a> produce il seguente output:</p></div><div class="literalblock programlisting"><div class=content><pre>      #  vinum -&gt; create config1
      Configuration summary
      Drives:         1 (4 configured)
      Volumes:        1 (4 configured)
      Plexes:         1 (8 configured)
      Subdisks:       1 (16 configured)

    D a                     State: up       Device /dev/da3h        Avail: 2061/2573 MB (80%)

    V myvol                 State: up       Plexes:       1 Size:        512 MB

    P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB

    S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB</pre></div></div><div class=paragraph><p>Questo output mostra il formato di elenco breve di <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a>, che è rappresentato graficamente nella <a href=#vinum-simple-vol>Un Semplice Volume Vinum</a>.</p></div><div id=vinum-simple-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-simple-vol.png alt="vinum simple vol"></div><div class=title>Figura 62. Un Semplice Volume Vinum</div></div><div class=paragraph><p>Questa figura e quelle che seguono rappresentano un volume contenente dei plex che a loro volta contengono dei sottodischi. In questo semplice esempio il volume contiene un plex e il plex contiene un sottodisco.</p></div><div class=paragraph><p>Questo particolare volume non ha specifici vantaggi su una convenzionale partizione di disco. Contiene un singolo plex, quindi non è ridondante. Il plex contiene un solo sottodisco, quindi non c’è differenza nell’immagazzinamento dei dati. Le sezioni seguenti mostrano vari metodi di configurazione più interessanti.</p></div></div><div class=sect3><h4 id=_aumentare_la_resistenza_alle_rotture_il_mirroring>20.6.2. Aumentare la Resistenza alle Rotture: il Mirroring<a class=anchor href=#_aumentare_la_resistenza_alle_rotture_il_mirroring></a></h4><div class=paragraph><p>Il mirroring può aumentare, in un volume, la resistenza alle rotture. Quando si definisce un volume in mirroring è importante assicurarsi che i sottodischi di ogni plex siano su dischi differenti, in modo che la rottura di un drive non blocchi entrambi i plex. La seguente configurazione mostra un volume in mirroring:</p></div><div class="literalblock programlisting"><div class=content><pre>    drive b device /dev/da4h
    volume mirror
      plex org concat
        sd length 512m drive a
          plex org concat
            sd length 512m drive b</pre></div></div><div class=paragraph><p>In questo esempio non è necessario specificare nuovamente la definizione del drive <em>a</em>, dato che Vinum mantiene traccia di tutti gli oggetti nel suo database di configurazione. Dopo aver elaborato questa definizione, la configurazione appare così:</p></div><div class="literalblock programlisting"><div class=content><pre>    Drives:         2 (4 configured)
    Volumes:        2 (4 configured)
    Plexes:         3 (8 configured)
    Subdisks:       3 (16 configured)

    D a                     State: up       Device /dev/da3h        Avail: 1549/2573 MB (60%)
    D b                     State: up       Device /dev/da4h        Avail: 2061/2573 MB (80%)

    V myvol                 State: up       Plexes:       1 Size:        512 MB
    V mirror                State: up       Plexes:       2 Size:        512 MB

    P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p0           C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p1           C State: initializing     Subdisks:     1 Size:        512 MB

    S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB
    S mirror.p0.s0          State: up       PO:        0  B Size:        512 MB
    S mirror.p1.s0          State: empty    PO:        0  B Size:        512 MB</pre></div></div><div class=paragraph><p><a href=#vinum-mirrored-vol>Un Volume Vinum in Mirroring</a> mostra la struttura graficamente.</p></div><div id=vinum-mirrored-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-mirrored-vol.png alt="vinum mirrored vol"></div><div class=title>Figura 63. Un Volume Vinum in Mirroring</div></div><div class=paragraph><p>In questo esempio ogni plex contiene l’intero spazio di indirizzamento di 512 MB. Come nel precedente esempio ogni plex contiene un solo sottodisco.</p></div></div><div class=sect3><h4 id=_ottimizzazione_delle_prestazioni>20.6.3. Ottimizzazione delle Prestazioni<a class=anchor href=#_ottimizzazione_delle_prestazioni></a></h4><div class=paragraph><p>Il volume in mirroring dell’esempio precedente è più resistente alle rotture di un volume non in mirroring, ma le sue prestazioni sono inferiori: ogni scrittura sul volume richiede una scrittura su ognuno dei drive, utilizzando quindi una maggior frazione della banda passante totale dei dischi. Considerazioni sulle prestazioni portano ad un differente approccio: al posto del mirroring, i dati vengono posti sul maggior numero di dischi possibile utilizzando lo striping. La seguente configurazione mostra un volume con un plex in striping su quattro dischi:</p></div><div class="literalblock programlisting"><div class=content><pre>        drive c device /dev/da5h
        drive d device /dev/da6h
        volume stripe
        plex org striped 512k
          sd length 128m drive a
          sd length 128m drive b
          sd length 128m drive c
          sd length 128m drive d</pre></div></div><div class=paragraph><p>Come prima non è necessario definire i drive che Vinum già conosce. Dopo aver elaborato queste definizioni la configurazione appare così:</p></div><div class="literalblock programlisting"><div class=content><pre>    Drives:         4 (4 configured)
    Volumes:        3 (4 configured)
    Plexes:         4 (8 configured)
    Subdisks:       7 (16 configured)

    D a                     State: up       Device /dev/da3h        Avail: 1421/2573 MB (55%)
    D b                     State: up       Device /dev/da4h        Avail: 1933/2573 MB (75%)
    D c                     State: up       Device /dev/da5h        Avail: 2445/2573 MB (95%)
    D d                     State: up       Device /dev/da6h        Avail: 2445/2573 MB (95%)

    V myvol                 State: up       Plexes:       1 Size:        512 MB
    V mirror                State: up       Plexes:       2 Size:        512 MB
    V striped               State: up       Plexes:       1 Size:        512 MB

    P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p0           C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p1           C State: initializing     Subdisks:     1 Size:        512 MB
    P striped.p1            State: up       Subdisks:     1 Size:        512 MB

    S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB
    S mirror.p0.s0          State: up       PO:        0  B Size:        512 MB
    S mirror.p1.s0          State: empty    PO:        0  B Size:        512 MB
    S striped.p0.s0         State: up       PO:        0  B Size:        128 MB
    S striped.p0.s1         State: up       PO:      512 kB Size:        128 MB
    S striped.p0.s2         State: up       PO:     1024 kB Size:        128 MB
    S striped.p0.s3         State: up       PO:     1536 kB Size:        128 MB</pre></div></div><div id=vinum-striped-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-striped-vol.png alt="vinum striped vol"></div><div class=title>Figura 64. Un Volume Vinum in Striping</div></div><div class=paragraph><p>Questo volume è rappresentato nella <a href=#vinum-striped-vol>Un Volume Vinum in Striping</a>. L’intensità del colore delle strisce indica la posizione all’interno dello spazio di indirizzamento del plex: le più chiare all’inizio, le più scure alla fine.</p></div></div><div class=sect3><h4 id=_resistenza_alle_rotture_e_prestazioni>20.6.4. Resistenza alle Rotture e Prestazioni<a class=anchor href=#_resistenza_alle_rotture_e_prestazioni></a></h4><div class=paragraph><p><a id=vinum-resilience></a>Con hardware a sufficenza è possibile creare volumi con miglioramenti sia nella resistenza alle rotture che nelle prestazioni, comparati alle normali partizioni UNIX®. Una tipica configurazione potrebbe essere:</p></div><div class="literalblock programlisting"><div class=content><pre>    volume raid10
      plex org striped 512k
        sd length 102480k drive a
        sd length 102480k drive b
        sd length 102480k drive c
        sd length 102480k drive d
        sd length 102480k drive e
      plex org striped 512k
        sd length 102480k drive c
        sd length 102480k drive d
        sd length 102480k drive e
        sd length 102480k drive a
        sd length 102480k drive b</pre></div></div><div class=paragraph><p>I sottodischi del secondo plex sono spostati di due posti rispetto a quelli del primo plex: questo aumenta le probabilità che le scritture non utilizzino lo stesso sottodisco anche nel caso in cui un trasferimento utilizzi entrambi i drive.</p></div><div class=paragraph><p>La <a href=#vinum-raid10-vol>Un Volume Vinum in Mirroring e Striping</a> rappresenta la struttura di questo volume.</p></div><div id=vinum-raid10-vol class=imageblock><div class=content><img src=../../../../images/books/handbook/vinum/vinum-raid10-vol.png alt="vinum raid10 vol"></div><div class=title>Figura 65. Un Volume Vinum in Mirroring e Striping</div></div></div></div><div class=sect2><h3 id=vinum-object-naming>20.7. Nomenclatura degli Oggetti<a class=anchor href=#vinum-object-naming></a></h3><div class=paragraph><p>Come descritto sopra, Vinum assegna nomi di default a plex e sottodischi, benché questi possano essere cambiati. Cambiare il nome di default non è raccomandato: l’esperienza con il VERITAS volume manager, che permette la nomenclatura arbitraria degli oggetti, ha mostrato che questa flessibilità non porta vantaggi significativi e può causare confusione.</p></div><div class=paragraph><p>I nomi possono contenere ogni carattere non blank (i caratteri di spazio, tabulazione, cambio riga) ma è consigliato limitarsi a lettere, cifre e il carattere di underscore. I nomi di volumi, plex e sottodischi possono essere lunghi fino a 64 caratteri, i nomi di drive invece hanno un massimo di 32 caratteri.</p></div><div class=paragraph><p>I nomi assegnati agli oggetti Vinum sono nella gerarchia <span class=filename>/dev/vinum</span>. La configurazione di Vinum mostrata sopra creerebbe i seguenti dispositivi:</p></div><div class=ulist><ul><li><p>I dispositivi di controllo <span class=filename>/dev/vinum/control</span> e <span class=filename>/dev/vinum/controld</span>, utilizzati rispettivamente da <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a> e dal demone Vinum.</p></li><li><p>Voci di dispositivi a blocchi e a caratteri per ogni volume. Questi sono i principali dispositivi utilizzati da Vinum. I dispositivi a blocchi hanno il nome dei relativi volumi, quelli a caratteri, seguendo la tradizione BSD, hanno una lettera <em>r</em> all’inizio del nome. Quindi la configurazione vista sopra genererebbe i dispositivi a blocchi <span class=filename>/dev/vinum/myvol</span>, <span class=filename>/dev/vinum/mirror</span>, <span class=filename>/dev/vinum/striped</span>, <span class=filename>/dev/vinum/raid5</span> e <span class=filename>/dev/vinum/raid10</span>, e i dispositivi a caratteri <span class=filename>/dev/vinum/rmyvol</span>, <span class=filename>/dev/vinum/rmirror</span>, <span class=filename>/dev/vinum/rstriped</span>, <span class=filename>/dev/vinum/rraid5</span> e <span class=filename>/dev/vinum/rraid10</span>. In questo c’è un ovvio problema: è possibile avere due volumi chiamati <em>r</em> e <em>rr</em> che avrebbero un conflitto nel creare il nodo <span class=filename>/dev/vinum/rr</span>: sarebbe il dispositivo a caratteri per il volume <em>r</em> o il dispositivo a blocchi per il volume <em>rr</em>? Attualmente Vinum non si interessa di questo conflitto: il volume definito per primo prende il nome.</p></li><li><p>Una directory <span class=filename>/dev/vinum/drive</span> con voci per ogni disco. Queste voci sono in effetti dei collegamenti simbolici ai rispettivi nodi di disco.</p></li><li><p>Una directory <span class=filename>/dev/vinum/volume</span> con voci per ogni volume. Contiene sottodirectory per ogni plex, che a loro volta contengono sottodirectory per ogni sottodisco.</p></li><li><p>Le directory <span class=filename>/dev/vinum/plex</span>, <span class=filename>/dev/vinum/sd</span> e <span class=filename>/dev/vinum/rsd</span> contengono i dispositivi a blocchi per ogni plex, dispositivo a blocchi e dispositivo a caratteri per ogni sottodisco rispettivamente.</p></li></ul></div><div class=paragraph><p>Ad esempio, considera il seguente file di configurazione:</p></div><div class="literalblock programlisting"><div class=content><pre>    drive drive1 device /dev/sd1h
    drive drive2 device /dev/sd2h
    drive drive3 device /dev/sd3h
    drive drive4 device /dev/sd4h
    volume s64 setupstate
      plex org striped 64k
        sd length 100m drive drive1
        sd length 100m drive drive2
        sd length 100m drive drive3
        sd length 100m drive drive4</pre></div></div><div class=paragraph><p>Dopo aver elaborato questo file, <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a> crea la seguente struttura in <span class=filename>/dev/vinum</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>    brwx------  1 root  wheel   25, 0x40000001 Apr 13 16:46 Control
    brwx------  1 root  wheel   25, 0x40000002 Apr 13 16:46 control
    brwx------  1 root  wheel   25, 0x40000000 Apr 13 16:46 controld
    drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 drive
    drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 plex
    crwxr-xr--  1 root  wheel   91,   2 Apr 13 16:46 rs64
    drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 rsd
    drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 rvol
    brwxr-xr--  1 root  wheel   25,   2 Apr 13 16:46 s64
    drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 sd
    drwxr-xr-x  3 root  wheel       512 Apr 13 16:46 vol

        /dev/vinum/drive:
    total 0
    lrwxr-xr-x  1 root  wheel  9 Apr 13 16:46 drive1 -&gt; /dev/sd1h
    lrwxr-xr-x  1 root  wheel  9 Apr 13 16:46 drive2 -&gt; /dev/sd2h
    lrwxr-xr-x  1 root  wheel  9 Apr 13 16:46 drive3 -&gt; /dev/sd3h
    lrwxr-xr-x  1 root  wheel  9 Apr 13 16:46 drive4 -&gt; /dev/sd4h

    /dev/vinum/plex:
    total 0
    brwxr-xr--  1 root  wheel   25, 0x10000002 Apr 13 16:46 s64.p0

    /dev/vinum/rsd:
    total 0
    crwxr-xr--  1 root  wheel   91, 0x20000002 Apr 13 16:46 s64.p0.s0
    crwxr-xr--  1 root  wheel   91, 0x20100002 Apr 13 16:46 s64.p0.s1
    crwxr-xr--  1 root  wheel   91, 0x20200002 Apr 13 16:46 s64.p0.s2
    crwxr-xr--  1 root  wheel   91, 0x20300002 Apr 13 16:46 s64.p0.s3

    /dev/vinum/rvol:
    total 0
    crwxr-xr--  1 root  wheel   91,   2 Apr 13 16:46 s64

    /dev/vinum/sd:
    total 0
    brwxr-xr--  1 root  wheel   25, 0x20000002 Apr 13 16:46 s64.p0.s0
    brwxr-xr--  1 root  wheel   25, 0x20100002 Apr 13 16:46 s64.p0.s1
    brwxr-xr--  1 root  wheel   25, 0x20200002 Apr 13 16:46 s64.p0.s2
    brwxr-xr--  1 root  wheel   25, 0x20300002 Apr 13 16:46 s64.p0.s3

    /dev/vinum/vol:
    total 1
    brwxr-xr--  1 root  wheel   25,   2 Apr 13 16:46 s64
    drwxr-xr-x  3 root  wheel       512 Apr 13 16:46 s64.plex

    /dev/vinum/vol/s64.plex:
    total 1
    brwxr-xr--  1 root  wheel   25, 0x10000002 Apr 13 16:46 s64.p0
    drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 s64.p0.sd

    /dev/vinum/vol/s64.plex/s64.p0.sd:
    total 0
    brwxr-xr--  1 root  wheel   25, 0x20000002 Apr 13 16:46 s64.p0.s0
    brwxr-xr--  1 root  wheel   25, 0x20100002 Apr 13 16:46 s64.p0.s1
    brwxr-xr--  1 root  wheel   25, 0x20200002 Apr 13 16:46 s64.p0.s2
    brwxr-xr--  1 root  wheel   25, 0x20300002 Apr 13 16:46 s64.p0.s3</pre></div></div><div class=paragraph><p>Benché sia raccomandato non allocare nomi specifici a plex e sottodischi, i drive di Vinum devono avere un nome. Questo permette di spostare un disco in una differente locazione e continuare a riconoscerlo automaticamente. I nomi di drive possono essere lunghi fino a 32 caratteri.</p></div><div class=sect3><h4 id=_creare_i_file_system>20.7.1. Creare i File System<a class=anchor href=#_creare_i_file_system></a></h4><div class=paragraph><p>I volumi appaiono al sistema identici ai dischi, con un’eccezione. Differentemente dai dischi UNIX®, Vinum non partiziona i volumi, che quindi non contengono una tabella delle partizioni. Questo ha reso necessario modificare alcuni programmi di utilità del disco, tra cui <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a>, che precedentemente cercava di interpretare l’ultima lettera di un volume Vinum come un identificatore di partizione. Ad esempio un disco potrebbe avere un nome come <span class=filename>/dev/ad0a</span> o <span class=filename>/dev/da2h</span>. Questi nomi rappresentano la prima partizione (<span class=filename>a</span>) del primo (0) disco IDE (<span class=filename>ad</span>) e l’ottava partizione (<span class=filename>h</span>) del terzo (2) disco SCSI (<span class=filename>da</span>), rispettivamente. Al contrario un volume Vinum potrebbe essere chiamato <span class=filename>/dev/vinum/concat</span>, un nome che non ha alcuna relazione con nomi di partizione.</p></div><div class=paragraph><p>Normalmente <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> interpreta il nome del disco e si lamenta se non riesce a comprenderlo. Per esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs /dev/vinum/concat</span>
newfs: /dev/vinum/concat: can<span class=s1>&#39;t figure out file system partition</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Queste informazioni sono valide solo per versioni di FreeBSD precedenti alla 5.0:</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per poter creare un file system su questo volume usa <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a> con l’opzione <code>-v</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># newfs -v /dev/vinum/concat</span></code></pre></div></div></div></div><div class=sect2><h3 id=vinum-config>20.8. Configurare Vinum<a class=anchor href=#vinum-config></a></h3><div class=paragraph><p>Il kernel <span class=filename>GENERIC</span> non contiene Vinum. È possibile creare un kernel speciale che lo contenga, ma questo non è raccomandato: il metodo standard per lanciare Vinum è come modulo del kernel (kld). Non è neanche necessario usare <a href="https://man.freebsd.org/cgi/man.cgi?query=kldload&amp;sektion=8&amp;format=html">kldload(8)</a> per Vinum: quando lanci <a href="https://man.freebsd.org/cgi/man.cgi?query=vinum&amp;sektion=8&amp;format=html">vinum(8)</a> il programma controlla se il modulo è stato caricato e, in caso non sia caricato, lo carica automaticamente.</p></div><div class=sect3><h4 id=_avvio>20.8.1. Avvio<a class=anchor href=#_avvio></a></h4><div class=paragraph><p>Vinum immagazzina le informazioni sulla configurazione dei dischi essenzialmente nella stessa forma dei file di configurazione. Quando legge il database di configurazione Vinum riconosce un numero di parole chiave che non sono permesse nei file di configurazione, ad esempio un file di configurazione del disco potrebbe contenere il seguente testo:</p></div><div class="literalblock programlisting"><div class=content><pre>volume myvol state up
volume bigraid state down
plex name myvol.p0 state up org concat vol myvol
plex name myvol.p1 state up org concat vol myvol
plex name myvol.p2 state init org striped 512b vol myvol
plex name bigraid.p0 state initializing org raid5 512b vol bigraid
sd name myvol.p0.s0 drive a plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p0.s1 drive b plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p1.s0 drive c plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p1.s1 drive d plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p2.s0 drive a plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 0b
sd name myvol.p2.s1 drive b plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 524288b
sd name myvol.p2.s2 drive c plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1048576b
sd name myvol.p2.s3 drive d plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1572864b
sd name bigraid.p0.s0 drive a plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 0b
sd name bigraid.p0.s1 drive b plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 4194304b
sd name bigraid.p0.s2 drive c plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 8388608b
sd name bigraid.p0.s3 drive d plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 12582912b
sd name bigraid.p0.s4 drive e plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 16777216b</pre></div></div><div class=paragraph><p>Le ovvie differenze sono qua la presenza di informazioni esplicite sulle locazioni e sulla nomenclatura (entrambe permesse, ma scoraggiate, all’utente) e le informazioni sugli stati (che non sono disponibili all’utente). Vinum non immagazzina informazioni sui drive tra le informazioni della configurazione: trova i drive scandendo le partizioni dei dischi configurati alla ricerca di un’etichetta Vinum. Questo permette a Vinum di identificare i drive correttamente anche se gli è stato assegnato un differente codice identificativo di drive UNIX®.</p></div><div class=sect4><h5 id=vinum-rc-startup>20.8.1.1. Avvio Automatico<a class=anchor href=#vinum-rc-startup></a></h5><div class=paragraph><p>Per poter lanciare Vinum automaticamente all’avvio del sistema assicuratevi che le seguenti linee siano nel vostro <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>start_vinum=&#34;YES&#34;               # set to YES to start vinum</pre></div></div><div class=paragraph><p>Se non hai un file <span class=filename>/etc/rc.conf</span>, creane uno con questo contenuto. Questo ordinerà al sistema di caricare il Vinum kld all’avvio, inizializzando ogni oggetto menzionato nella configurazione. Questo viene fatto prima del mount dei file system quindi è possibile fare automaticamente <a href="https://man.freebsd.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;format=html">fsck(8)</a> e mount dei file system su volumi Vinum.</p></div><div class=paragraph><p>Quando esegui Vinum con il comando <code>vinum start</code> Vinum legge il database di configurazione da uno dei drive Vinum. In circostanze normali ogni drive contiene una copia identica del database di configurazione quindi non conta da quale disco viene letto. Dopo un crash, tuttavia, Vinum deve determinare quale drive è stato aggiornato più recentemente e leggere la configurazione da questo drive. Quindi aggiorna la configurazione, se necessario, sui drive progressivamente più vecchi.</p></div></div></div></div><div class=sect2><h3 id=vinum-root>20.9. Usare Vinum nel Filesystem Root<a class=anchor href=#vinum-root></a></h3><div class=paragraph><p>Per una macchina con filesystem completamente in mirroring con Vinum è desiderabile mettere in mirroring anche il filesystem di root; fare questo è meno semplice che non per un filesystem arbitrario, dato che:</p></div><div class=ulist><ul><li><p>Il filesystem root deve essere disponibile nella parte iniziale del processo di boot, quindi l’infrastruttura di Vinum deve essere già disponibile in quel momento.</p></li><li><p>Il volume contenente il filesystem root contiene anche il sistema di avvio e il kernel, che devono essere letti usando le funzioni native del sistema (ovvero il BIOS, sui PC) che spesso non conoscono i dettagli di Vinum.</p></li></ul></div><div class=paragraph><p>Nelle sezioni seguenti, il termine "volume root" è usato generalmente per descrivere il volume Vinum che contiene il filesystem root. È probabilmente una buona idea usare il nome <code>"root"</code> per questo volume, ma non è necessario. Tutti gli esempi nelle prossime sezioni usano questo nome.</p></div><div class=sect3><h4 id=_lanciare_vinum_abbastanza_presto_per_il_filesystem_root>20.9.1. Lanciare Vinum abbastanza presto per il Filesystem Root<a class=anchor href=#_lanciare_vinum_abbastanza_presto_per_il_filesystem_root></a></h4><div class=paragraph><p>Ci sono varie misure da prendere per fare in modo che questo accada:</p></div><div class=ulist><ul><li><p>Vinum deve essere disponibile nel kernel già all’avvio, quindi il metodo per lanciare Vinum automaticamente descritto in <a href=#vinum-rc-startup>Avvio Automatico</a> non può essere utilizzato e il parametro <code>start_vinum</code> in realtà <em>non</em> va impostato in questo tipo di configurazione. La prima possibilità è di compilare Vinum staticamente dentro al kernel, in modo che sia sempre disponibile, ma questo non è normalmente desiderabile. Un’altra opportunità à di fare in modo che <span class=filename>/boot/loader</span> (<a href=./#boot-loader>Stadio Tre</a>) carichi il modulo kernel di Vinum prima di lanciare il kernel. Questo può essere fatto utilizzando la riga:</p><div class="literalblock programlisting"><div class=content><pre>vinum_load=&#34;YES&#34;</pre></div></div><div class=paragraph><p>nel file <span class=filename>/boot/loader.conf</span>.</p></div></li><li><p>Vinum deve essere inizializzato subito in modo da poter fornire il volume per il filesystem root. Per default la porzione kernel di Vinum non cerca dischi che contengano informazioni sui volumi Vinum fino a quando un amministratore (o uno degli script di partenza) non esegue un comando di <code>vinum start</code>.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>I seguenti paragrafi spiegano i passi necessari per FreeBSD 5.X e superiori. L’impostazione richiesta da FreeBSD 4.X è diversa ed è descritta dopo, in <a href=#vinum-root-4x>Differenze per FreeBSD 4.X</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Inserendo la linea:</p></div><div class="literalblock programlisting"><div class=content><pre>vinum.autostart=&#34;YES&#34;</pre></div></div><div class=paragraph><p>dentro a <span class=filename>/boot/loader.conf</span>, Vinum viene istruito, alla partenza del kernel, di controllare automaticamente tutti i dischi alla ricerca di informazioni sui volumi Vinum.</p></div><div class=paragraph><p>Da notare il fatto che non è necessario istruire il kernel sulla locazione del filesystem root. <span class=filename>/boot/loader</span> cerca il nome del device di root in <span class=filename>/etc/fstab</span> e passa l’informazione al kernel. Quando è necessario montare il filesystem root, il kernel, tramite il nome di device fornitogli, capisce a quale driver deve chiedere la conversione di tale nome in ID interno di device (numero maggiore/minore).</p></div></li></ul></div></div><div class=sect3><h4 id=_rendere_un_volume_di_root_basato_su_vinum_accessibile_dallavvio>20.9.2. Rendere un volume di root basato su Vinum accessibile dall’avvio<a class=anchor href=#_rendere_un_volume_di_root_basato_su_vinum_accessibile_dallavvio></a></h4><div class=paragraph><p>Dato che il codice di avvio di FreeBSD è attualmente di soli 7.5 KB ed è già appesantito dalla lettura di file (come <span class=filename>/boot/loader</span>) da un filesystem UFS, è semplicemente impossibile insegnargli anche a leggere le strutture interne di Vinum in modo da fargli leggere i dati della configurazione di Vinum per ricavarne gli elementi del volume di boot stesso. Sono quindi necessari alcuni trucchi per dare al codice di avvio l’illusione di una partizione <code>"a"</code> standard contenente il filesystem di root.</p></div><div class=paragraph><p>Perché questo sia anche solo possibile, il volume di root deve rispondere ai seguenti requisiti:</p></div><div class=ulist><ul><li><p>Il volume di root non deve essere in striping o in RAID-5.</p></li><li><p>Il volume di root non deve contenere la concatenazione di più di un sottodisco per ogni plex.</p></li></ul></div><div class=paragraph><p>Da notare che è desiderabile e possibile avere plex multipli, contenente ognuno una replica del filesystem root. Il processo di avvio, però, usa solo una di queste repliche per trovare i file necessario all’avvio, fino a quando il kernel monta il filesystem di root stesso. Ogni singolo sottodisco in questi plex avrà quindi bisogno di una propria partizione <code>"a"</code> illusoria, affinché la periferica relativa possa essere avviabile. Non è strettamente necessario che ognuna di queste finte partizioni <code>"a"</code> sia locato con lo stesso spiazzamento all’interno della propria periferica, rispetto alle periferiche contenenti gli altri plex del volume. È comunque probabilmente una buona idea creare i volumi Vinum in modo che le periferiche in mirror siano simmetriche, per evitare confusione.</p></div><div class=paragraph><p>Per poter configurare queste partizioni <code>"a"</code>, in ogni periferica contenente parte del volume di root, bisogna fare le seguenti cose:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>La locazione (spiazzamento dall’inizio della periferica) e la dimensione del sottodisco che è parte del volume di root deve essere esaminato, usando il comando:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># vinum l -rv root</span></code></pre></div></div><div class=paragraph><p>Da notare che gli spiazzamenti e le dimensioni in Vinum sono misurati in byte. Devono essere divisi per 512 per ottenere il numero di blocchi necessari nel comando <code>disklabel</code>.</p></div></li><li><p>Esegui il comando:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># disklabel -e devname</span></code></pre></div></div><div class=paragraph><p>per ogni periferica che partecipa al volume di root. <em>devname</em> deve essere o il nome della slice (ad esempio <span class=filename>ad0s1</span>) o il nome del disco (ad esempio <span class=filename>da0</span>) per dischi senza tabella delle slice (ovvero i nomi che si usano anche con fdisk).</p></div><div class=paragraph><p>Se c’è già una partizione <code>"a"</code> sulla periferica (presumibilmente contenente un filesystem root precedente all’uso di Vinum), dovrebbe essere rinominata in altro modo, in modo da restare accessibile (non si sa mai), ma non essere usata più per default per avviare il sistema. Da notare che le partizioni attive (ad esempio un filesystem root attualmente montato) non possono essere rinominati, quindi questo deve essere eseguito o avviando da un disco "Fixit" o (in caso di mirror) in un processo a due passi dove il disco non di avvio viene modificato per primo.</p></div><div class=paragraph><p>Infine, lo spiazzamento della partizione Vinum sulla periferica va aggiunto allo spiazzamento del rispettivo sottodisco di root rispetto alla periferica stessa. Il risultato sarà il valore di <code>"offset"</code> (spiazzamento) per la nuova partizione <code>"a"</code>. Il valore <code>"size"</code> (dimensione) per questa partizione può essere copiato pari pari dal calcolo fatto sopra. Il valore <code>"fstype"</code> deve essere <code>4.2BSD</code>. I valori <code>"fsize"</code>, <code>"bsize"</code> e <code>"cpg"</code> devono preferibilmente essere scelti per corrispondere al vero e proprio filesystem, anche se in questo contesto non sono molto importanti.</p></div><div class=paragraph><p>In questo modo una nuova partizione <code>"a"</code> sarà creata ricoprendo le partizioni Vinum su questa periferica. Da notare che <code>disklabel</code> permetterà questa ricopertura solo se la partizione Vinum è stata appropriatamente marcata usando un <code>"fstype"</code> pari a <code>"vinum"</code> fstype.</p></div></li><li><p>È tutto! Ora una falsa partizione <code>"a"</code> esiste su ogni periferica che abbia una replica del volume di root. È altamente raccomandabile verificare nuovamente i risultati, usando un comando come:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># fsck -n /dev/devnamea</span></code></pre></div></div></li></ol></div></div></div><div class=paragraph><p>Bisogna ricordarsi che tutte le informazioni contenute nei file di controllo devono essere relative al filesystem di root nel volume Vinum che, quando si imposta un nuovo volume di root Vinum, potrebbe non coincidere con quello del filesystem root attualmente attivo. In particolare bisogna stare attenti ai file <span class=filename>/etc/fstab</span> e <span class=filename>/boot/loader.conf</span>.</p></div><div class=paragraph><p>Al seguente riavvio il sistema dovrebbe ricavare le informazioni di controllo appropriate dal filesystem di root Vinum e agire di consequenza. Alla fine del processo di inizializzazione del kernel, dopo che tutte le periferiche sono state annunciate, l’avvertimento principale che conferma il successo dell’avvio è un messaggio simile a questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Mounting root from ufs:/dev/vinum/root</code></pre></div></div></div><div class=sect3><h4 id=_esempi_di_configurazioni_con_root_basata_su_vinum>20.9.3. Esempi di configurazioni con root basata su Vinum<a class=anchor href=#_esempi_di_configurazioni_con_root_basata_su_vinum></a></h4><div class=paragraph><p>Dopo aver creato il volume di root Vinum, <code>vinum l -rv root</code> dovrebbe produrre qualcosa di simile a:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>...
Subdisk root.p0.s0:
                Size:        125829120 bytes <span class=o>(</span>120 MB<span class=o>)</span>
                State: up
                Plex root.p0 at offset 0 <span class=o>(</span>0  B<span class=o>)</span>
                Drive disk0 <span class=o>(</span>/dev/da0h<span class=o>)</span> at offset 135680 <span class=o>(</span>132 kB<span class=o>)</span>

Subdisk root.p1.s0:
                Size:        125829120 bytes <span class=o>(</span>120 MB<span class=o>)</span>
                State: up
                Plex root.p1 at offset 0 <span class=o>(</span>0  B<span class=o>)</span>
                Drive disk1 <span class=o>(</span>/dev/da1h<span class=o>)</span> at offset 135680 <span class=o>(</span>132 kB<span class=o>)</span></code></pre></div></div><div class=paragraph><p>I valori su cui fare caso sono il <code>135680</code> dello spiazzamento (relativo alla partizione <span class=filename>/dev/da0h</span>). Questo si traduce in 265 blocchi da 512 byte nei termini di <code>disklabel</code>. <span class=filename>/dev/da1h</span>, contenente la seconda replica del volume di root, ha una configurazione simmetrica.</p></div><div class=paragraph><p>La <code>disklabel</code> per queste periferiche dovrebbe essere simile a questa:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>...
8 partitions:
<span class=c>#        size   offset    fstype   [fsize bsize bps/cpg]</span>
  a:   245760      281    4.2BSD     2048 16384     0   <span class=c># (Cyl.    0*- 15*)</span>
  c: 71771688        0    unused        0     0         <span class=c># (Cyl.    0 - 4467*)</span>
  h: 71771672       16     vinum                        <span class=c># (Cyl.    0*- 4467*)</span></code></pre></div></div><div class=paragraph><p>Si può notare che il parametro <code>"size"</code> per la finta partizione <code>"a"</code> corrisponde al valore di cui abbiamo parlato prima, mentre il parametro <code>"offset"</code> è la somma dello spiazzamento all’interno della partizione Vinum <code>"h"</code> e lo spiazzamento all’interno della periferica (o slice). Questa è una tipica configurazione necessaria per evitare il problema descritto in <a href=#vinum-root-panic>Non si Carica Niente, l’Avvio va in Panico</a>. Si può anche notare che l’intera partizione <code>"a"</code> è completamente contenuta dalla partizione <code>"h"</code>, che contiene tutti i dati Vinum per questa periferica.</p></div><div class=paragraph><p>Notate che in questo esempio l’intera periferica è dedicata a Vinum e non c’è spazio per partizioni pre-Vinum, dato che questo disco è stato configurato da nuovo per il solo scopo di far parte di una configurazione Vinum.</p></div></div><div class=sect3><h4 id=_risoluzione_problemi>20.9.4. Risoluzione Problemi<a class=anchor href=#_risoluzione_problemi></a></h4><div class=paragraph><p>Se qualcosa va storto, serve un modo per tornare in una situazione di normalità. Segue una lista di alcuni tipici problemi, completi di soluzione.</p></div><div class=sect4><h5 id=_il_codice_di_avvio_si_carica_ma_il_sistema_non_si_avvia>20.9.4.1. Il Codice di Avvio si Carica, ma il Sistema non si Avvia<a class=anchor href=#_il_codice_di_avvio_si_carica_ma_il_sistema_non_si_avvia></a></h5><div class=paragraph><p>Se per qualsiasi ragione in sistema non prosegue nell’avvio, si può interrompere il processo di avvio premendo il tasto <kbd>spazio</kbd> all’avviso dei 10 secondi. Le variabili di avvio potranno quindi essere esaminate usando il comando <code>show</code> e manipolate con <code>set</code> e <code>unset</code>.</p></div><div class=paragraph><p>Se l’unico problema è che il modulo kernel di Vinum non è ancora presente nella lista dei moduli da caricare automaticamente, un semplice <code>load vinum</code> aiuterà.</p></div><div class=paragraph><p>Quando pronti, il processo di avvio può continuare con un <code>boot -as</code>. Le opzioni <code>-as</code> comunicano al kernel di montare il filesystem di root (<code>-a</code>) e di interrompere il processo di avvio in modalità singolo utente (<code>-s</code>), quando il filesystem di root è montato a sola lettura. In questo modo benché uno solo dei plex do un volume multi-plex sia stato montato, non si rischia inconsistenza dei dati tra i vari plex.</p></div><div class=paragraph><p>Alla richiesta di un filesystem di root da montare, ogni periferica che contenga un filesystem di root valido può essere usata. Se <span class=filename>/etc/fstab</span> è stato impostato correttamente, il default dovrebbe essere <code>ufs:/dev/vinum/root</code> o simile. Una tipica alternativa potrebbe essere <code>ufs:da0d</code>, una ipotetica partizione contenente un filesystem root pre-Vinum. Bisogna fare attenzione quando si sceglie una delle partizioni <code>"a"</code> alias di un sottodisco della periferica root di Vinum, perché in una configurazione in mirror questo monterebbe solo un pezzo della root in mirror. Se questo filesystem deve poi essere montato in lettura/scrittura è necessario rimuovere gli altri plex del volume root di Vinum dato che conterrebbero comunque dati non consistenti.</p></div></div><div class=sect4><h5 id=_si_carica_solo_lavvio_primario>20.9.4.2. Si Carica Solo l’Avvio Primario<a class=anchor href=#_si_carica_solo_lavvio_primario></a></h5><div class=paragraph><p>Se <span class=filename>/boot/loader</span> non si carica, ma l’avvio primario si carica comunque (si capisce dal singolo trattino nella colonna di sinistra dello schermo subito dopo l’inizio dell’avvio), si può tentare di fermare l’avvio primario in questo punto, premendo il tasto <kbd>spazio</kbd>. Questo fermerà l’avvio nella seconda fase, vedi <a href=./#boot-boot1>Stadio Uno</a>. Qua si può fare un tentativo di caricare una differente partizione, ad esempio la partizione contenente il precedente filesystem di root <code>"a"</code>, prima di sostituirlo come sopra indicato.</p></div></div><div class=sect4><h5 id=vinum-root-panic>20.9.4.3. Non si Carica Niente, l’Avvio va in Panico<a class=anchor href=#vinum-root-panic></a></h5><div class=paragraph><p>Questa situazione accade quando l’installazione di Vinum ha distrutto il codice di avvio. Sfortunatamente Vinum lascia solo 4 KB liberi all’inizio della sua partizione prima di scrivere il proprio header. Purtroppo le due fasi dell’avvio e la disklabel compresa tra le due attualmente occupa 8 KB, quindi se la partizione Vinum è creata con spiazzamento 0 in una slice o disco che dovrebbe essere avviabile, la configurazione di Vinum distruggerà il codice di avvio.</p></div><div class=paragraph><p>Similmente, se la situazione sopra descritta è stata risolta avviando da un disco di "Fixit", e il codice di avvio re-installato usando <code>disklabel -B</code> come descritto in <a href=./#boot-boot1>Stadio Uno</a>, il codice di avvio distruggerà l’header di Vinum, che non saprà più trovare i propri dischi. Benché nessun dato, di configurazione o contenuto, sia distrutto da questo processo, che risulta quindi recuperabile reinserendo la stessa configurazione di Vinum, la situazione è in realtà di difficile risoluzione: sarebbe necessario spostare l’intera partizione Vinum di almeno 4 KB, in modo da lasciare abbastanza spazio sia per il codice di avvio che per l’header Vinum.</p></div></div></div><div class=sect3><h4 id=vinum-root-4x>20.9.5. Differenze per FreeBSD 4.X<a class=anchor href=#vinum-root-4x></a></h4><div class=paragraph><p>In FreeBSD 4.X alcune funzioni interne necessarie a Vinum per poter trovare automaticamente tutti i dischi non sono presenti e il codice che ricava l’ID interno della periferica di root non è abbastanza intelligente da gestire automaticamente nomi come <span class=filename>/dev/vinum/root</span>, quindi le cose vengono fatte in modo un po' diverso.</p></div><div class=paragraph><p>Bisogna dire esplicitamente a Vinum quali dischi controllare, usando una riga di <span class=filename>/boot/loader.conf</span> come la seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>vinum.drives=&#34;/dev/da0 /dev/da1&#34;</pre></div></div><div class=paragraph><p>È importante indicare tutti i drive che possono contenere dati Vinum. Non è un problema indicare drive <em>di troppo</em>, non è neanche necessario aggiungere esplicitamente ogni slice e/o partizione, dato che Vinum cercherà header Vinum in tutte le slice e partizioni dei drive nominati.</p></div><div class=paragraph><p>Dato che le procedure utilizzate per interpretare il nome del filesystem di root e derivarne l’ID di periferica (numeri maggiore e minore) sono adatte per gestire solo nomi "classici" di periferica come <span class=filename>/dev/ad0s1a</span>, non riescono a capire nomi di volumi root come <span class=filename>/dev/vinum/root</span>. Per questo motivo Vinum ha bisogno di pre-impostare durante la propria inzializzazione il parametro kernel interno che contiene l’ID della periferica di root. Questo viene fatto indicando il nome del volume di root nella variabile di avvio <code>vinum.root</code>. La riga di <span class=filename>/boot/loader.conf</span> adatta per fare questo è simile alla seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>vinum.root=&#34;root&#34;</pre></div></div><div class=paragraph><p>Quando l’inizializzazione del kernel cerca di trovare la periferica root da montare controlla se qualche modulo del kernel ha già pre-inizializzato il parametro kernel apposito; se questo è il caso <em>e</em> la periferica che dice di essere la periferica di root ha il numero maggiore e minore corrispondenti al driver come trovato dal nome della periferica di root passata (ovvero <code>"vinum"</code>, nel nostro caso), userà l’ID di periferica pre-allocato, anziché cercar di trovarne uno da solo. In tal modo durante l’usuale avvio automatico può continuare a montare il volume di root Vinum per il filesystem di root.</p></div><div class=paragraph><p>Bisogna comunque notare che anche quando <code>boot -a</code> richiede di inserire manualmente il nome della periferica di root tale nome non può essere intepretato nel caso sia un nome riferito a un volume Vinum. Se è inserito un nome di periferica non riferito a una periferica Vinum, la non corrispondenza col numero maggiore pre-allocato del parametro di root e del driver ricavato dal nome farà sì che la procedura utilizzi il normale interprete, quindi una stringa come <code>ufs:da0d</code> funzionerà come previsto. Da notare che se questo fallisce non si può più provare una stringa come <code>ufs:vinum/root</code>, dato che non verrebbe interpretata; l’unica via di uscita è riavviare e ripartire da zero. (Alla richiesta di "askroot", la parte iniziale <span class=filename>/dev/</span> può sempre essere omessa.)</p></div></div></div></div></div><div class=sect1><h2 id=virtualization>Capitolo 21. Virtualizzazione<a class=anchor href=#virtualization></a></h2><div class=sectionbody><div class=sect2><h3 id=virtualization-synopsis>21.1. Sinossi<a class=anchor href=#virtualization-synopsis></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=virtualization-guest>21.2. FreeBSD as a Guest OS<a class=anchor href=#virtualization-guest></a></h3><div class=sect3><h4 id=virtualization-guest-parallels>21.2.1. Parallels on MacOS<a class=anchor href=#virtualization-guest-parallels></a></h4><div class=paragraph><p>Traduzione in corso</p></div><div class=sect4><h5 id=virtualization-guest-parallels-install>21.2.1.1. Installing FreeBSD on Parallels/Mac OS® X<a class=anchor href=#virtualization-guest-parallels-install></a></h5><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect4><h5 id=virtualization-guest-parallels-configure>21.2.1.2. Configuring FreeBSD on Mac OS® X/Parallels<a class=anchor href=#virtualization-guest-parallels-configure></a></h5><div class=paragraph><p>Traduzione in corso</p></div></div></div><div class=sect3><h4 id=virtualization-guest-xen>21.2.2. FreeBSD with Xen™ on Linux<a class=anchor href=#virtualization-guest-xen></a></h4><div class=paragraph><p>Traduzione in corso</p></div><div class=sect4><h5 id=xen-slackware-dom0>21.2.2.1. Setup Xen™ 3 on Linux dom0<a class=anchor href=#xen-slackware-dom0></a></h5><div class=paragraph><p>Traduzione in corso</p></div></div></div><div class=sect3><h4 id=virtualization-guest-vmware>21.2.3. VMware on Windows®/Mac®/Linux®<a class=anchor href=#virtualization-guest-vmware></a></h4><div class=paragraph><p>Traduzione in corso</p></div></div></div><div class=sect2><h3 id=virtualization-host>21.3. FreeBSD as a Host OS<a class=anchor href=#virtualization-host></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><div class=sect1><h2 id=l10n>Capitolo 22. Localizzazione - Uso e Impostazione dell’I18N/L10N<a class=anchor href=#l10n></a></h2><div class=sectionbody><div class=sect2><h3 id=l10n-synopsys>22.1. Sinossi<a class=anchor href=#l10n-synopsys></a></h3><div class=paragraph><p>FreeBSD è un progetto di larga diffusione con utenti e collaboratori in ogni parte del mondo. Questo capitolo affronta quegli aspetti tipici di FreeBSD relativi all’internazionalizzazione e localizzazione del sistema che permettono agli utenti non di lingua inglese di operare in maniera più confortevole. Ci sono molti aspetti da considerare dell’implementazione I18N sia a livello utente che di sistema, perciò, ove necessario, si rinvierà il lettore a fonti di informazione più specifiche.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come i vari linguaggi e nazioni sono codificati nei moderni sistemi operativi.</p></li><li><p>Come impostare la localizzazione per la tua shell di login.</p></li><li><p>Come configurare la tua console per una lingua che non sia l’inglese.</p></li><li><p>Come usare concretamente X Window System con differenti lingue.</p></li><li><p>Dove reperire ulteriori informazioni su come scrivere applicazioni I18N compatibili.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Sapere come installare applicazioni aggiuntive di terze parti (<a href=./#ports>Installazione delle Applicazioni. Port e Package</a>).</p></li></ul></div></div><div class=sect2><h3 id=l10n-basics>22.2. Principi di Base<a class=anchor href=#l10n-basics></a></h3><div class=sect3><h4 id=_cosa_significano_le_sigle_i18nl10n>22.2.1. Cosa significano le sigle I18N/L10N?<a class=anchor href=#_cosa_significano_le_sigle_i18nl10n></a></h4><div class=paragraph><p>Gli sviluppatori hanno abbreviato la parola "internationalization" in I18N, contando il numero di lettere che costituiscono la parola "internationalization", escludendo la prima e l’ultima. Lo stesso è stato fatto per l’acronimo L10N, che deriva appunto da "localization". Combinando insieme i metodi, i protocolli e le applicazioni che rispettano gli standard I18N/L10N si permette agli utenti di utilizzare una qualsiasi lingua di propria scelta.</p></div><div class=paragraph><p>Le applicazioni I18N sono realizzate mediante appositi kit, disponibili tramite specifiche librerie. Questo permette agli sviluppatori di scrivere in un normale file di testo i menù e i messaggi da visualizzare nel programma e di tradurlo poi nelle varie lingue. Si raccomandano vivamente i programmatori di seguire questa convenzione.</p></div></div><div class=sect3><h4 id=_perché_dovrei_usare_i18nl10n>22.2.2. Perché Dovrei Usare I18N/L10N?<a class=anchor href=#_perché_dovrei_usare_i18nl10n></a></h4><div class=paragraph><p>I18N/L10N è usato ogni qualvolta desideri visualizzare, immettere o processare dati in lingue diverse da quella inglese.</p></div></div><div class=sect3><h4 id=_quali_lingue_sono_disponibili_nel_lavoro_i18n>22.2.3. Quali Lingue sono Disponibili nel Lavoro I18N?<a class=anchor href=#_quali_lingue_sono_disponibili_nel_lavoro_i18n></a></h4><div class=paragraph><p>I18N e L10N non sono caratteristiche specifiche di FreeBSD. Al momento, è possibile scegliere fra la maggior parte delle lingue più diffuse nel mondo, tra le quali: cinese, tedesco, giapponese, francese, russo, italiano e altre ancora.</p></div></div></div><div class=sect2><h3 id=using-localization>22.3. Come Utilizzare la Localizzazione<a class=anchor href=#using-localization></a></h3><div class=paragraph><p>Vista la sua importanza, I18N non è specifico del sistema FreeBSD ed è una convenzione. Siete invitati ad aiutare il progetto FreeBSD per sostenere questa convenzione.</p></div><div class=paragraph><p>Le impostazioni per la localizzazione o nazionalizzazione sono basate su tre termini principali: Codice Lingua, Codice Nazione e Codifica. I nomi che contraddistinguono una localizzazione sono formati utilizzando questi termini nel modo seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>CodiceLingua_CodiceNazione.Codifica</pre></div></div><div class=sect3><h4 id=_i_codici_per_la_lingua_e_la_nazione>22.3.1. I Codici per la Lingua e la Nazione<a class=anchor href=#_i_codici_per_la_lingua_e_la_nazione></a></h4><div class=paragraph><p>Al fine di localizzare un sistema FreeBSD (o qualsiasi altro sistema UNIX® che gestisca I18N) in una specifica lingua, l’utente deve innanzitutto conoscere i codici della nazione e della lingua desiderati (i codici delle nazioni segnalano alle applicazioni quali convenzioni adottare all’interno di un dato linguaggio). Inoltre, i browser web, i server SMTP/POP, i server web, ecc. possono operare in base ad essi. I seguenti sono esempi di codici lingua/nazione:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Codice Lingua/Nazione</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>en_US</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>inglese - Stati Uniti d’America</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ru_RU</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>russo - Russia</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>zh_TW</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>cinese tradizionale - Taiwan</p></td></tr></tbody></table></div><div class=sect3><h4 id=_codifiche>22.3.2. Codifiche<a class=anchor href=#_codifiche></a></h4><div class=paragraph><p>Alcune lingue utilizzano codifiche non ASCII, cioè caratteri a 8 bit, estesi o multibyte, vedere <a href="https://man.freebsd.org/cgi/man.cgi?query=multibyte&amp;sektion=3&amp;format=html">multibyte(3)</a> per maggiori dettagli. Le applicazioni più vecchie, non riconoscendoli, li interpretano come caratteri di controllo. Quelle più recenti invece riconoscono di solito i caratteri a 8 bit. A seconda dell’implementazione, è possibile che gli utenti debbano ricompilare un’applicazione con il supporto ai caratteri estesi o multibyte, o debbano configurare l’applicazione in modo corretto. Per essere in grado di immettere e di elaborare caratteri estesi o multibyte, la <a href=https://www.FreeBSD.org/ports/>FreeBSD Ports Collection</a> fornisce vari programmi in differenti linguaggi. Si faccia riferimento alla relativa documentazione I18N del port di FreeBSD.</p></div><div class=paragraph><p>Precisamente, l’utente deve consultare la documentazione propria dell’applicazione per conoscere come configurarla correttamente o come passare i giusti valori al configuratore/Makefile/compilatore.</p></div><div class=paragraph><p>Alcune cose da tener presente sono:</p></div><div class=ulist><ul><li><p>Gli insiemi di caratteri rappresentabili dal tipo char del linguaggio C, specifici della lingua (vedere <a href="https://man.freebsd.org/cgi/man.cgi?query=multibyte&amp;sektion=3&amp;format=html">multibyte(3)</a>), cioè ISO8859-1, ISO8859-15, KOI8-R, CP437.</p></li><li><p>Codifiche estese o multibyte, cioè EUC, Big5.</p></li></ul></div><div class=paragraph><p>Puoi consultare l’elenco corrente degli insiemi di caratteri nel <a href=ftp://ftp.isi.edu/in-notes/iana/assignments/character-sets>Registro IANA</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>FreeBSD usa le codifiche per la localizzazione compatibili con X11.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_applicazioni_i18n>22.3.3. Applicazioni I18N<a class=anchor href=#_applicazioni_i18n></a></h4><div class=paragraph><p>Nel sistema dei port e dei pacchetti precompilati di FreeBSD, le applicazioni I18N sono facilmente riconoscibili, perché il loro nome include la sigla <code>I18N</code>. Tuttavia, non sempre queste potrebbero supportare la lingua desiderata.</p></div></div><div class=sect3><h4 id=setting-locale>22.3.4. Impostazione del Locale<a class=anchor href=#setting-locale></a></h4><div class=paragraph><p>Di solito è sufficiente esportare il valore del nome del locale posto nella variabile <code>LANG</code> all’interno della shell di login. Questo può essere fatto utilizzando il file dell’utente <span class=filename>~/.login_conf</span> oppure il file di configurazione della shell di login dell’utente (<span class=filename>~/.profile</span>, <span class=filename>~/.bashrc</span>, <span class=filename>~/.cshrc</span>). Non c’è bisogno di impostare le altre variabili del locale, come <code>LC_CTYPE</code>, <code>LC_CTIME</code>. Per maggiori informazioni si faccia riferimento alla documentazione di FreeBSD specifica per la data lingua.</p></div><div class=paragraph><p>Puoi settare le due variabili d’ambiente seguenti nei tuoi file di configurazione:</p></div><div class=ulist><ul><li><p><code>LANG</code> per le funzioni appartenenti alla famiglia POSIX®, <a href="https://man.freebsd.org/cgi/man.cgi?query=setlocale&amp;sektion=3&amp;format=html">setlocale(3)</a></p></li><li><p><code>MM_CHARSET</code> per l’insieme dei caratteri che dovranno usare le applicazioni che supportano lo standard MIME</p></li></ul></div><div class=paragraph><p>Ciò va fatto per la configurazione della shell dell’utente, di un’applicazione specifica e per quella di X11.</p></div><div class=sect4><h5 id=_metodi_di_localizzazione>22.3.4.1. Metodi di Localizzazione<a class=anchor href=#_metodi_di_localizzazione></a></h5><div class=paragraph><p>Ci sono due metodi per impostare il locale, entrambi descritti qui di seguito. Il primo (raccomandato) consiste nell’impostare le variabili d’ambiente in una <a href=#login-class>classe di login</a>, mentre il secondo consiste nell’aggiungere i valori delle variabili d’ambiente al <a href=#startup-file>file d’avvio</a> della shell di sistema.</p></div><div class=sect5><h6 id=login-class>22.3.4.1.1. Metodo delle Classi di Login<a class=anchor href=#login-class></a></h6><div class=paragraph><p>Questo metodo fa sì che le variabili d’ambiente necessarie per il nome del locale e per gli insiemi dei caratteri MIME vengano inizializzate una volta sola per ogni possibile shell di sistema invece di aggiungere specifici assegnamenti per ogni file d’avvio di shell. Il <a href=#usr-setup>Setup a Livello Utente</a> può essere fatto dall’utente stesso e il <a href=#adm-setup>Setup a Livello Amministratore</a> richiede i privilegi del superuser.</p></div><div class=sect6><h7 id=usr-setup>22.3.4.1.1.1. Setup a Livello Utente<a class=anchor href=#usr-setup></a></h7><div class=paragraph><p>Ecco un breve esempio di un file <span class=filename>.login_conf</span> posto nella directory home di un utente che ha entrambe le variabili impostate alla codifica Latin-1:</p></div><div class="literalblock programlisting"><div class=content><pre>me:\
:charset=ISO-8859-1:\
:lang=de_DE.ISO8859-1:</pre></div></div><div class=paragraph><p>Ecco invece un esempio di un file <span class=filename>.login_conf</span> che imposta le variabili per il cinese tradizionale con codifica BIG-5. Si noti che sono state impostate molte variabili perchè alcuni programmi non rispettano come dovrebbero le variabili di localizzazione per il cinese, giapponese e il coreano.</p></div><div class="literalblock programlisting"><div class=content><pre>#Gli utenti che non vogliono usare l&#39;unità monetaria o i formati temporali
#di Taiwan possono modificare manualmente ogni variabile
me:\
        :lang=zh_TW.Big5:\
        :setenv=LC_ALL=zh_TW.Big:\
        :setenv=LC_COLLATE=zh_TW.Big5:\
        :setenv=LC_CTYPE=zh_TW.Big5:\
        :setenv=LC_MESSAGES=zh_TW.Big5:\
        :setenv=LC_MONETARY=zh_TW.Big5:\
        :setenv=LC_NUMERIC=zh_TW.Big5:\
        :setenv=LC_TIME=zh_TW.Big5:\
        :charset=big5:\
        :xmodifiers=&#34;@im=gcin&#34;: #Set gcin as the XIM Input Server</pre></div></div><div class=paragraph><p>Vedere il paragrafo <a href=#adm-setup>Setup a Livello Amministratore</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=login.conf&amp;sektion=5&amp;format=html">login.conf(5)</a> per maggiori dettagli.</p></div></div></div><div class=sect5><h6 id=adm-setup>22.3.4.1.2. Setup a Livello Amministratore<a class=anchor href=#adm-setup></a></h6><div class=paragraph><p>Controlla che la classe di login dell’utente in <span class=filename>/etc/login.conf</span> selezioni la lingua corretta. Assicurati che queste impostazioni appaiano in <span class=filename>/etc/login.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>nome_lingua:titolo_account:\
:charset=MIME_charset:\
:lang=nome_locale:\
:tc=default:</pre></div></div><div class=paragraph><p>Ritornando quindi all’esempio di prima che utilizzava Latin-1, si dovrebbe avere una cosa simile a questa:</p></div><div class="literalblock programlisting"><div class=content><pre>tedesco:Account Utenti Tedeschi:\
:charset=ISO-8859-1:\
:lang=de_DE.ISO8859-1:\
:tc=default:</pre></div></div><div class=paragraph><p>Dopo aver modificato le Classi di Login degli utenti esegui il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cap_mkdb /etc/login.conf</span></code></pre></div></div><div class=paragraph><p>per creare una nuova configurazione in <span class=filename>/etc/login.conf</span> visibile al sistema.</p></div></div><div class=sect5><h6 id=_modifica_delle_classi_di_login_con_vipw8>22.3.4.1.3. Modifica delle Classi di Login con <a href="https://man.freebsd.org/cgi/man.cgi?query=vipw&amp;sektion=8&amp;format=html">vipw(8)</a><a class=anchor href=#_modifica_delle_classi_di_login_con_vipw8></a></h6><div class=paragraph><p>Usa <code>vipw</code> per aggiungere nuovi utenti, e crea qualcosa di simile a quanto segue:</p></div><div class="literalblock programlisting"><div class=content><pre>utente:password:1111:11:lingua:0:0:Nome Utente:/home/user:/bin/sh</pre></div></div></div><div class=sect5><h6 id=_modifica_delle_classi_di_login_con_adduser8>22.3.4.1.4. Modifica delle Classi di Login con <a href="https://man.freebsd.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;format=html">adduser(8)</a><a class=anchor href=#_modifica_delle_classi_di_login_con_adduser8></a></h6><div class=paragraph><p>Usa <code>adduser</code> per aggiungere nuovi utenti, in questo modo:</p></div><div class=ulist><ul><li><p>Imposta <code>defaultclass = lingua</code> in <span class=filename>/etc/adduser.conf</span>. Tieni presente che in questo modo dovrai inserire una classe <code>default</code> per tutti gli utenti di altre lingue.</p></li><li><p>In alternativa si può specificare la lingua desiderata ogni volta che appare il prompt</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Enter login class: default <span class=o>[]</span>:</code></pre></div></div></li></ul></div><div class=paragraph><p>durante l’esecuzione di <a href="https://man.freebsd.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;format=html">adduser(8)</a></p></div><div class=ulist><ul><li><p>Un’altra alternativa è utilizzare il comando nel modo seguente per ogni utente di una diversa lingua che si desidera aggiungere:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># adduser -class lingua</span></code></pre></div></div></li></ul></div></div><div class=sect5><h6 id=_cambiare_le_classi_di_login_con_pw8>22.3.4.1.5. Cambiare le Classi di Login con <a href="https://man.freebsd.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;format=html">pw(8)</a><a class=anchor href=#_cambiare_le_classi_di_login_con_pw8></a></h6><div class=paragraph><p>Se utilizzi il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;format=html">pw(8)</a> per aggiungere nuovi utenti, invocalo in questo modo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pw useradd nome_utente -L  lingua</span></code></pre></div></div></div><div class=sect5><h6 id=startup-file>22.3.4.1.6. Metodo del File di Avvio della Shell<a class=anchor href=#startup-file></a></h6><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questo metodo è sconsigliato perché richiede una inizializzazione diversa per ogni possibile shell. Usa invece il <a href=#login-class>Metodo delle Classi di Login</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per aggiungere il nome del locale e l’insieme dei caratteri per lo standard MIME, bisogna semplicemente settare le due variabili d’ambiente mostrate di seguito nei file d’avvio della shell <span class=filename>/etc/profile</span> e/o <span class=filename>/etc/csh.login</span>. Nell’esempio che segue viene utilizzata la lingua tedesca:</p></div><div class=paragraph><p>In <span class=filename>/etc/profile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>LANG=de_DE.ISO8859-1; export LANG
MM_CHARSET=ISO8859-1; export MM_CHARSET</pre></div></div><div class=paragraph><p>Oppure in <span class=filename>/etc/csh.login</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>setenv LANG de_DE.ISO8859-1
setenv MM_CHARSET ISO8859-1</pre></div></div><div class=paragraph><p>Lo stesso risultato si ottiene aggiungendo i precedenti comandi al file <span class=filename>/usr/shared/skel/dot.profile</span> (per i comandi usati in <span class=filename>/etc/profile</span>), oppure al file <span class=filename>/usr/shared/skel/dot.login</span> (per quelli in <span class=filename>/etc/csh.login</span>).</p></div><div class=paragraph><p>Per l’ambiente X11:</p></div><div class=paragraph><p>Nel file <span class=filename>$HOME/.xinitrc</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>LANG=de_DE.ISO8859-1; export LANG</pre></div></div><div class=paragraph><p>Oppure:</p></div><div class="literalblock programlisting"><div class=content><pre>setenv LANG de_DE.ISO8859-1</pre></div></div><div class=paragraph><p>a seconda della shell utilizzata (vedi sopra).</p></div></div></div></div><div class=sect3><h4 id=setting-console>22.3.5. Settaggio della Console<a class=anchor href=#setting-console></a></h4><div class=paragraph><p>Per tutti gli insiemi di caratteri che sono rappresentabili con il tipo char in C, imposta i font della console adatti alla lingua prescelta in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>font8x16=nome_font
font8x14=nome_font
font8x8=nome_font</pre></div></div><div class=paragraph><p><em>nome_font</em> è il nome di uno dei file di font presenti nella directory <span class=filename>/usr/shared/syscons/fonts</span>, privato del suffisso <span class=filename>.fnt</span>.</p></div><div class=paragraph><p>Assicurati anche di impostare la giusta mappatura della tastiera e del video per il proprio set di caratteri usando <code>sysinstall</code> (<code>/stand/sysinstall</code> nelle versioni di FreeBSD precedenti alla 5.2). Una volta all’interno di sysinstall, seleziona <span class=guimenuitem>Configure</span>, quindi <span class=guimenuitem>Console</span>. In alternativa, aggiungi le seguenti righe in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>scrnmap=nome_screenmap
keymap=nome_keymap
keychange=&#34;numero_tasto_funzione sequenza&#34;</pre></div></div><div class=paragraph><p><em>nome_screenmap</em> viene preso dalla directory <span class=filename>/usr/shared/syscons/scrnmaps</span>, privato del suffisso <span class=filename>.scm</span>. Una <em>screenmap</em> assieme ad una corrispondente mappa dei font è solitamente necessaria nel caso la scheda grafica non gestisca i font via software, ma li abbia codificati internamente; la screenmap serve appunto a rimappare tali font interni nel font prescelto.</p></div><div class=paragraph><p>Se hai abilitato il demone moused inserendo la seguente riga in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>moused_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>allora leggi quanto riportato nel prossimo paragrafo sul cursore del mouse.</p></div><div class=paragraph><p>Di default il cursore del mouse del driver <a href="https://man.freebsd.org/cgi/man.cgi?query=syscons&amp;sektion=4&amp;format=html">syscons(4)</a> occupa l’intervallo da 0xd0 a 0xd3 nel set di caratteri in uso. Se la tua lingua utilizza tali caratteri, devi spostare l’intervallo occupato dal cursore. Per far questo con FreeBSD, inserisci la seguente riga in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>mousechar_start=3</pre></div></div><div class=paragraph><p><em>nome_keymap</em> deve invece corrispondere a uno dei file presenti nella directory <span class=filename>/usr/shared/syscons/keymaps</span>, privato del suffisso <span class=filename>.kbd</span>. Se sei indeciso su quale <em>keymap</em> scegliere, puoi usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=kbdmap&amp;sektion=1&amp;format=html">kbdmap(1)</a> per testare le varie mappature senza dover riavviare il sistema.</p></div><div class=paragraph><p>La variabile <code>keychange</code> è di solito richiesta per programmare i tasti funzione in relazione al tipo di terminale in uso, poiché le sequenze generate da un tasto funzione non possono essere definite in una mappa di tasti.</p></div><div class=paragraph><p>Assicurati inoltre di impostare il corretto tipo di terminale in <span class=filename>/etc/ttys</span> per tutte le voci del tipo <code>ttyv*</code>. Attualmente, le corrispondenze predefinite sono:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Insieme di Caratteri</th><th class="tableblock halign-left valign-top">Tipo di Terminale</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ISO8859-1 o ISO8859-15</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cons25l1</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ISO8859-2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cons25l2</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ISO8859-7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cons25l7</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>KOI8-R</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cons25r</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>KOI8-U</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cons25u</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>CP437 (di default per VGA)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cons25</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>US-ASCII</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>cons25w</code></p></td></tr></tbody></table><div class=paragraph><p>Per i linguaggi che usano caratteri estesi o multibyte, è bene servirsi del corretto port di FreeBSD nella directory <span class=filename>/usr/ports/linguaggio</span>. Poichè alcuni port che si presentano come console sono riconosciuti dal sistema come terminali seriali virtuali (vtty), devi riservare abbastanza vtty sia per X11 che per la console pseudo-seriale. Ecco una lista parziale di applicazioni con cui si possono utilizzare altri linguaggi in console:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Linguaggio</th><th class="tableblock halign-left valign-top">Ubicazione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>cinese tradizionale (BIG-5)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree//usr/ports/chinese/big5con/>/usr/ports/chinese/big5con</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>giapponese</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/japanese/kon2-16dot/>japanese/kon2-16dot</a> oppure <a class=package href=https://cgit.freebsd.org/ports/tree/japanese/mule-freewnn/>japanese/mule-freewnn</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>coreano</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a class=package href=https://cgit.freebsd.org/ports/tree/korean/han/>korean/han</a></p></td></tr></tbody></table></div><div class=sect3><h4 id=_impostazione_di_x11>22.3.6. Impostazione di X11<a class=anchor href=#_impostazione_di_x11></a></h4><div class=paragraph><p>Sebbene X11 non faccia parte del progetto FreeBSD, vengono qui fornite alcune informazioni per gli utenti di FreeBSD. Per maggiori dettagli, si faccia riferimento al sito web <a href=http://www.x.org/>Xorg</a> o a quello del Server X11 utilizzato.</p></div><div class=paragraph><p>Nel file <span class=filename>~/.Xresources</span>, puoi mettere a punto le impostazioni per I18N specifiche di un’applicazione (ad esempio, i font, i menu, ecc.).</p></div><div class=sect4><h5 id=_visualizzazione_dei_font>22.3.6.1. Visualizzazione dei Font<a class=anchor href=#_visualizzazione_dei_font></a></h5><div class=paragraph><p>Installa il server Xorg (<a class=package href=https://cgit.freebsd.org/ports/tree/x11-servers/xorg-server/>x11-servers/xorg-server</a>) o XFree86™ (<a class=package href=https://cgit.freebsd.org/ports/tree/x11-servers/XFree86-4-Server/>x11-servers/XFree86-4-Server</a>), quindi installa i font TrueType® propri della lingua prescelta. L’impostazione del corretto locale dovrebbe permetterti di visualizzare tale lingua nei vari menu, ecc.</p></div></div><div class=sect4><h5 id=_immissione_di_caratteri_non_inglesi>22.3.6.2. Immissione di Caratteri Non Inglesi<a class=anchor href=#_immissione_di_caratteri_non_inglesi></a></h5><div class=paragraph><p>Il protocollo X11 Input Method (XIM) è un nuovo standard per tutti i client X11. Tutte le applicazioni X11 dovrebbero essere scritte come client XIM che ricevono l’input dai server XIM. Vi sono parecchi server XIM disponibili per le differenti lingue.</p></div></div></div><div class=sect3><h4 id=_configurazione_della_stampante>22.3.7. Configurazione della Stampante<a class=anchor href=#_configurazione_della_stampante></a></h4><div class=paragraph><p>Alcuni set di caratteri del tipo char del C sono solitamente codificati a livello hardware all’interno delle stampanti stesse. Gli insiemi di caratteri estesi o multibyte richiedono invece una speciale configurazione e si raccomanda l’utilizzo di apsfilter. Puoi anche convertire documenti nei formati PostScript® o PDF utilizzando convertitori specifici per una data lingua.</p></div></div><div class=sect3><h4 id=_il_kernel_e_i_file_system>22.3.8. Il Kernel e i File System<a class=anchor href=#_il_kernel_e_i_file_system></a></h4><div class=paragraph><p>Il file system di FreeBSD FFS (Fast File System) è completamente a 8-bit, perciò può essere utilizzato con qualsiasi insieme di caratteri del tipo char del C (vedere <a href="https://man.freebsd.org/cgi/man.cgi?query=multibyte&amp;sektion=3&amp;format=html">multibyte(3)</a>), ma non vi è un nome particolare di un insieme di caratteri memorizzato nel file system; cioè, il file system è a 8 bit senza alcuna codifica interna e ignora un’eventuale codifica. Ufficialmente, FFS non supporta ancora alcuna forma degli insiemi di caratteri estesi o multibyte. Tuttavia, esistono per alcuni di questi delle patch indipendenti per il FFS che abilitano tale supporto. Sono solo soluzioni temporanee, non portabili ed si è deciso di non includerle nell’albero dei sorgenti. Si faccia riferimento ai rispettivi siti web della lingua desiderata per ulteriori informazioni e per i file di patch.</p></div><div class=paragraph><p>Il supporto per il file system di MS-DOS® in FreeBSD offre la possibilità di configurare la modalità di conversione tra gli insiemi di caratteri MS-DOS®, Unicode e quelli scelti per il file system di FreeBSD. Consultare <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8&amp;format=html">mount_msdosfs(8)</a> per i dettagli.</p></div></div></div><div class=sect2><h3 id=l10n-compiling>22.4. Compilazione dei Programmi con Supporto I18N<a class=anchor href=#l10n-compiling></a></h3><div class=paragraph><p>Molti dei port di FreeBSD includono il supporto I18N. Alcuni di essi sono contrassegnati dal suffisso -I18N nel loro nome. Questi e molti altri programmi hanno il supporto per I18N già incluso e non necessitano perciò di speciali considerazioni.</p></div><div class=paragraph><p>Tuttavia, alcune applicazioni come ad esempio MySQL richiedono che venga specificato nel <span class=filename>Makefile</span> l’insieme dei caratteri che si utilizzeranno. Questa operazione viene fatta o modificando direttamente il suddetto file oppure passando un opportuno valore al programma <code>configure</code> nella directory dei sorgenti.</p></div></div><div class=sect2><h3 id=lang-setup>22.5. Localizzazione di FreeBSD con Lingue Particolari<a class=anchor href=#lang-setup></a></h3><div class=sect3><h4 id=ru-localize>22.5.1. Lingua Russa (Codifica KOI8-R)<a class=anchor href=#ru-localize></a></h4><div class=paragraph><p>Per maggiori informazioni sulla codifica KOI8-R, si veda la <a href=http://koi.pp.ru/>fonte di riferimento per il KOI8-R (Russian Net Character Set)</a>.</p></div><div class=sect4><h5 id=_impostazione_del_locale>22.5.1.1. Impostazione del Locale<a class=anchor href=#_impostazione_del_locale></a></h5><div class=paragraph><p>Metti le seguenti righe nel tuo file <span class=filename>~/.login_conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>me:My Account:\
:charset=KOI8-R:\
:lang=ru_RU.KOI8-R:</pre></div></div><div class=paragraph><p>Si veda quanto esposto precedentemente in questo capitolo per degli esempi di impostazione del <a href=#setting-locale>locale</a>.</p></div></div><div class=sect4><h5 id=_configurazione_della_console>22.5.1.2. Configurazione della Console<a class=anchor href=#_configurazione_della_console></a></h5><div class=ulist><ul><li><p>Aggiungi la riga seguente al tuo file <span class=filename>/etc/rc.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>mousechar_start=3</pre></div></div></li><li><p>Utilizza inoltre le seguenti impostazioni nel file <span class=filename>/etc/rc.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>keymap=&#34;ru.utf-8&#34;
scrnmap=&#34;utf-82cp866&#34;
font8x16=&#34;cp866b-8x16&#34;
font8x14=&#34;cp866-8x14&#34;
font8x8=&#34;cp866-8x8&#34;</pre></div></div></li><li><p>Per ogni voce <code>ttyv*</code> nel file <span class=filename>/etc/ttys</span>, usa <code>cons25r</code> come tipo di terminale.</p></li></ul></div><div class=paragraph><p>Si veda quanto esposto in precedenza in questo capitolo per degli esempi su come impostare la <a href=#setting-console>console</a>.</p></div></div><div class=sect4><h5 id=_configurazione_della_stampante_2>22.5.1.3. Configurazione della Stampante<a class=anchor href=#_configurazione_della_stampante_2></a></h5><div class=paragraph><p>Dal momento che la maggior parte delle stampanti con caratteri russi hanno a livello hardware la codifica codepage CP866, è necessario utilizzare uno speciale filtro di conversione da KOI8-R a CP866. Tale filtro viene installato di default come <span class=filename>/usr/libexec/lpr/ru/koi2alt</span>. La voce per una stampante russa dovrebbe apparire perciò così in <span class=filename>/etc/printcap</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>lp|Russian local line printer:\
:sh:of=/usr/libexec/lpr/ru/koi2alt:\
:lp=/dev/lpt0:sd=/var/spool/output/lpd:lf=/var/log/lpd-errs:</pre></div></div><div class=paragraph><p>Si veda <a href="https://man.freebsd.org/cgi/man.cgi?query=printcap&amp;sektion=5&amp;format=html">printcap(5)</a> per una spiegazione dettagliata del significato dei vari campi.</p></div></div><div class=sect4><h5 id=_nomi_di_file_russo_e_file_system_ms_dos>22.5.1.4. Nomi di File Russo e File System MS-DOS®<a class=anchor href=#_nomi_di_file_russo_e_file_system_ms_dos></a></h5><div class=paragraph><p>La seguente voce d’esempio di <a href="https://man.freebsd.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;format=html">fstab(5)</a> abilita il supporto per i nomi di file in russo su file system MS-DOS®:</p></div><div class="literalblock programlisting"><div class=content><pre>/dev/ad0s2      /dos/c  msdos   rw,-W=koi2dos,-L=ru_RU.KOI8-R 0 0</pre></div></div><div class=paragraph><p>L’opzione <code>-L</code> seleziona il nome locale usato, e <code>-W</code> imposta la tabella di conversione dei caratteri. Per usare l’opzione <code>-W</code>, assicurati di montare <span class=filename>/usr</span> prima della partizione MS-DOS® perché le tabelle di conversione sono posizionate in <span class=filename>/usr/libdata/msdosfs</span>. Per maggiori informazioni, guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8&amp;format=html">mount_msdosfs(8)</a>.</p></div></div><div class=sect4><h5 id=_configurazione_di_x11>22.5.1.5. Configurazione di X11<a class=anchor href=#_configurazione_di_x11></a></h5><div class="olist arabic"><ol class=arabic><li><p>Segui innanzitutto la configurazione del <a href=#setting-locale>locale in console</a> come descritto in precedenza.</p></li><li><p>Se usi Xorg, installa il package <a class=package href=https://cgit.freebsd.org/ports/tree/x11-fonts/xorg-fonts-cyrillic/>x11-fonts/xorg-fonts-cyrillic</a>.</p><div class=paragraph><p>Controlla la sezione <code>"Files"</code> nel tuo file <span class=filename>/etc/X11/xorg.conf</span>. Le seguenti righe devono essere aggiunte <em>prima</em> di qualsiasi altra voce <code>FontPath</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>FontPath   &#34;/usr/X11R6/lib/X11/fonts/cyrillic/misc&#34;
FontPath   &#34;/usr/X11R6/lib/X11/fonts/cyrillic/75dpi&#34;
FontPath   &#34;/usr/X11R6/lib/X11/fonts/cyrillic/100dpi&#34;</pre></div></div><div class=paragraph><p>Se utilizzi una modalità video ad alta risoluzione, scambia le righe 75 dpi e 100 dpi.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Cerca nei port per altri font cirillici.</p></div></td></tr></tbody></table></div></li><li><p>Per attivare la tastiera russa, aggiungi alla sezione <code>"Keyboard"</code> del tuo file <span class=filename>xorg.conf</span> queste cose:</p><div class="literalblock programlisting"><div class=content><pre>Option &#34;XkbLayout&#34;   &#34;us,ru&#34;
Option &#34;XkbOptions&#34;  &#34;grp:toggle&#34;</pre></div></div><div class=paragraph><p>Verifica inoltre che la riga <code>XkbDisable</code> sia commentata.</p></div><div class=paragraph><p>Per <code>grp:caps_toggle</code> il cambio RUS/LAT si usa <kbd>Right Alt</kbd>, per <code>grp:ctrl_shift_toggle</code> si usa <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Shift</kbd></span>. La vecchia funzione di <kbd>CapsLock</kbd> à ancora disponibile via <span class=keyseq><kbd>Shift</kbd>+<kbd>CapsLock</kbd></span> (solamente in modalità LAT). Per <code>grp:toggle</code> il cambio RUS/LAT si usa <kbd>Right Alt</kbd>. <code>grp:caps_toggle</code> non funziona in Xorg per ragioni sconosciute.</p></div><div class=paragraph><p>Se hai i tasti "Windows®" sulla tua tastiera, e noti che alcuni tasti non alfabetici sono mappati non correttamente in modalità RUS, aggiungi in <span class=filename>xorg.conf</span> la seguente riga:</p></div><div class="literalblock programlisting"><div class=content><pre>Option &#34;XkbVariant&#34; &#34;,winkeys&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>La tastiera russa XKB potrebbe non lavorare con applicazioni non localizzate.</p></div></td></tr></tbody></table></div></li></ol></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Di base le applicazioni localizzate dovrebbe chiamare la funzione <code>XtSetLanguageProc (NULL, NULL, NULL);</code> all’inizio del programma.</p></div><div class=paragraph><p>Guarda <a href=http://koi8.pp.ru/xwin.html>KOI8-R per X Window</a> per maggiori istruzioni sulle applicazioni di X11 localizzate.</p></div></td></tr></tbody></table></div></div></div><div class=sect3><h4 id=_localizzazione_del_cinese_tradizionale_per_taiwan>22.5.2. Localizzazione del Cinese Tradizionale per Taiwan<a class=anchor href=#_localizzazione_del_cinese_tradizionale_per_taiwan></a></h4><div class=paragraph><p>Il FreeBSD-Taiwan Project fornisce un Chinese HOWTO per FreeBSD all’indirizzo <a href=http://freebsd.sinica.edu.tw/~statue/freebsd/zh-tut/>http://freebsd.sinica.edu.tw/~statue/freebsd/zh-tut/</a> per l’utilizzo di gran parte delle applicazioni in cinese. L’attuale autore del <code>FreeBSD Chinese HOWTO</code> è Shen Chuan-Hsing <a href=mailto:statue@freebsd.sinica.edu.tw>statue@freebsd.sinica.edu.tw</a>.</p></div><div class=paragraph><p>Chuan-Hsing Shen <a href=mailto:statue@freebsd.sinica.edu.tw>statue@freebsd.sinica.edu.tw</a> ha creato la <a href=http://netlab.cse.yzu.edu.tw/\~statue/cfc/>Chinese FreeBSD Collection (CFC)</a> utilizzando <code>zh-l10n-tut</code> del FreeBSD-Taiwan Project. I pacchetti e i file di script sono disponibili all’url <a href=ftp://freebsd.csie.nctu.edu.tw/pub/taiwan/CFC/>ftp://freebsd.csie.nctu.edu.tw/pub/taiwan/CFC/</a>.</p></div></div><div class=sect3><h4 id=_localizzazione_della_lingua_tedesca_per_tutte_le_lingue_iso_8859_1>22.5.3. Localizzazione della Lingua Tedesca (per Tutte le Lingue ISO 8859-1)<a class=anchor href=#_localizzazione_della_lingua_tedesca_per_tutte_le_lingue_iso_8859_1></a></h4><div class=paragraph><p>Slaven Rezic <a href=mailto:eserte@cs.tu-berlin.de>eserte@cs.tu-berlin.de</a> ha scritto un tutorial su come utilizzare le lettere con l'<em>umlaut</em> su una macchina FreeBSD. Il tutorial è scritto in tedesco e disponibile all’indirizzo <a href=http://user.cs.tu-berlin.de/~eserte/FreeBSD/doc/umlaute/umlaute.html>http://user.cs.tu-berlin.de/~eserte/FreeBSD/doc/umlaute/umlaute.html</a>.</p></div></div><div class=sect3><h4 id=_localizzazione_della_lingua_giapponese_e_coreana>22.5.4. Localizzazione della Lingua Giapponese e Coreana<a class=anchor href=#_localizzazione_della_lingua_giapponese_e_coreana></a></h4><div class=paragraph><p>Per il giapponese, vedere l’url <a href=http://www.jp.FreeBSD.org/>http://www.jp.FreeBSD.org/</a>, per il coreano, l’url <a href=http://www.kr.FreeBSD.org/>http://www.kr.FreeBSD.org/</a>.</p></div></div><div class=sect3><h4 id=_documentazione_non_inglese_per_freebsd>22.5.5. Documentazione Non Inglese per FreeBSD<a class=anchor href=#_documentazione_non_inglese_per_freebsd></a></h4><div class=paragraph><p>Alcuni volontari hanno tradotto parte della documentazione di FreeBSD in altre lingue. Questo materiale è raggiungibile seguendo i link segnalati sul <a href=https://www.FreeBSD.org/it/>sito ufficiale di FreeBSD</a> oppure sotto la directory <span class=filename>/usr/shared/doc</span>.</p></div></div></div></div></div><div class=sect1><h2 id=updating-upgrading>Capitolo 23. Lo Stato dell’Arte<a class=anchor href=#updating-upgrading></a></h2><div class=sectionbody><div class=sect2><h3 id=_sinossi_2>23.1. Sinossi<a class=anchor href=#_sinossi_2></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=current-stable>23.2. FreeBSD-CURRENT vs. FreeBSD-STABLE<a class=anchor href=#current-stable></a></h3><div class=sect3><h4 id=current>23.2.1. Staying Current with FreeBSD<a class=anchor href=#current></a></h4><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect3><h4 id=stable>23.2.2. Staying Stable with FreeBSD<a class=anchor href=#stable></a></h4><div class=paragraph><p>Traduzione in corso</p></div></div></div><div class=sect2><h3 id=synching>23.3. Synchronizing Your Source<a class=anchor href=#synching></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=makeworld>23.4. Using <code>make world</code><a class=anchor href=#makeworld></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=small-lan>23.5. Tracking for multiple machines<a class=anchor href=#small-lan></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><h1 id=network-communication class=sect0>Parte IV: Comunicazione di Rete<a class=anchor href=#network-communication></a></h1><div class="openblock partintro"><div class=content><div class=paragraph><p>FreeBSD è uno dei maggiori sistemi operativi schierati verso alte performance dei servizi di rete. I capitoli di questa parte trattano:</p></div><div class=ulist><ul><li><p>Comunicazioni Seriali</p></li><li><p>PPP e PPP over Ethernet</p></li><li><p>Posta Elettronica</p></li><li><p>Esecuzione di Servizi di Rete</p></li><li><p>Firewall</p></li><li><p>Altri Argomenti di Networking Avanzato</p></li></ul></div><div class=paragraph><p>Questi capitoli sono studiati per essere letti quando si ha bisogno di un’informazione. Non devi leggerli in un ordine particolare, né devi leggerli tutti prima di poter usare FreeBSD in rete.</p></div></div></div><div class=sect1><h2 id=serialcomms>Capitolo 24. Comunicazioni Seriali<a class=anchor href=#serialcomms></a></h2><div class=sectionbody><div class=sect2><h3 id=serial-synopsis>24.1. Sinossi<a class=anchor href=#serial-synopsis></a></h3><div class=paragraph><p>UNIX® ha sempre avuto un supporto per le comunicazioni seriali. In effetti, le prime vere macchine UNIX® si appoggiavano a linee seriali per l’input e l’output da e verso l’utente. Le cose sono cambiate molto dai giorni in cui un "terminale" consisteva in una stampante da 10 caratteri al secondo o in una tastiera. Questo capitolo coprirà alcuni dei modi nei quali FreeBSD usa le comunicazioni seriali.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Come connettere terminali al tuo sistema FreeBSD.</p></li><li><p>Come usare un modem per collegarti telefonicamente ad una macchina remota.</p></li><li><p>Come permettere a utenti remoti di effettuare login sul tuo sistema via modem.</p></li><li><p>Come avviare il tuo sistema da una console seriale.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Sapere come configurare ed installare un nuovo kernel (<a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>).</p></li><li><p>Comprendere i permessi ed i processi UNIX® (<a href=./#basics>Basi di UNIX</a>).</p></li><li><p>Avere accesso al manuale tecnico per l’hardware seriale (modem o scheda multiporta) che vuoi usare con FreeBSD.</p></li></ul></div></div><div class=sect2><h3 id=serial>24.2. Introduzione<a class=anchor href=#serial></a></h3><div class=sect3><h4 id=serial-terminology>24.2.1. Terminologia<a class=anchor href=#serial-terminology></a></h4><div class=dlist><dl><dt class=hdlist1>bps</dt><dd><p>Bits per Second (Bit per Secondo) - la frequenza alla quale vengono trasmessi i dati</p></dd><dt class=hdlist1>DTE</dt><dd><p>Data Terminal Equipment (Attrezzatura per il Terminale Dati) - ad esempio, il tuo computer</p></dd><dt class=hdlist1>DCE</dt><dd><p>Data Communications Equipment (Attrezzatura per le Comunicazioni Dati) - il tuo modem</p></dd><dt class=hdlist1>RS-232</dt><dd><p>Standard EIA per le comunicazioni tra hardware seriale</p></dd></dl></div><div class=paragraph><p>Nel parlare della velocità di comunicazione, questa sezione non usa il termine "baud". Il baud si riferisce al numero di transizioni degli stati elettrici che possono essere effettuati in un periodo di tempo, mentre i "bps" (bit per secondo) sono il termine <em>corretto</em> da usare (o almeno non sembra irritare troppo i perfezionisti).</p></div></div><div class=sect3><h4 id=serial-cables-ports>24.2.2. Cavi e Porte<a class=anchor href=#serial-cables-ports></a></h4><div class=paragraph><p>Per collegare un modem o un terminale alla tua macchina FreeBSD, avrai bisogno di una porta seriale sul tuo computer e del cavo appropriato per il tuo dispositivo seriale. Se sei già pratico con l’hardware ed i cavi necessari, puoi saltare tranquillamente questa sezione.</p></div><div class=sect4><h5 id=term-cables>24.2.2.1. Cavi<a class=anchor href=#term-cables></a></h5><div class=paragraph><p>Ci sono parecchi tipi diversi di cavi seriali. I due tipi più comuni per i nostri scopi sono i cavi null-modem ed i cavi standard ("dritti") RS-232. La documentazione per il tuo hardware dovrebbe descrivere il tipo di cavi necessari.</p></div><div class=sect5><h6 id=term-cables-null>24.2.2.1.1. Cavi null-modem<a class=anchor href=#term-cables-null></a></h6><div class=paragraph><p>Un cavo null-modem porta segnali dritti, come il "Segnale di Massa", e segnali incrociati. Per esempio, il pin di "Trasmissione Dati" su un capo è il pin di "Ricezione Dati" sull’altro capo.</p></div><div class=paragraph><p>Puoi costruirti un cavo null-modem da usare con i terminali (es., se vuoi una migliore qualità). Questa tabella mostra i <a href=#serialcomms-signal-names>segnali</a> dell’RS-232C e i numeri dei pin su un connettore DB-25. Nota che lo standard richiede il segnale dritto sul pin 1 chiamato <em>Massa di Protezione</em>, anche se questo è spesso omesso. Alcuni terminali funzionano usando solo i pin 2, 3 e 7, mentre altri richiedono configurazioni diverse come mostrate negli esempi qui sotto.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 9. Cavo Null-Modem DB-25 / DB-25</caption><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><thead><tr><th class="tableblock halign-left valign-top">Segnale</th><th class="tableblock halign-left valign-top">Pin #</th><th class="tableblock halign-left valign-top"></th><th class="tableblock halign-left valign-top">Pin #</th><th class="tableblock halign-left valign-top">Segnale</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>SG</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SG</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>TD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CTS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>CTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RTS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DSR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connesso a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DCD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DSR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DCD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td></tr></tbody></table><div class=paragraph><p>Ecco altri due comuni schemi.</p></div><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 10. Cavo Null-Modem DB-9 / DB-9</caption><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><thead><tr><th class="tableblock halign-left valign-top">Segnale</th><th class="tableblock halign-left valign-top">Pin #</th><th class="tableblock halign-left valign-top"></th><th class="tableblock halign-left valign-top">Pin #</th><th class="tableblock halign-left valign-top">Segnale</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>TD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DSR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DCD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>SG</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SG</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DSR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DCD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CTS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>CTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RTS</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 11. Cavo Null-Modem DB-9 / DB-25</caption><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><col style=width:20%><thead><tr><th class="tableblock halign-left valign-top">Segnale</th><th class="tableblock halign-left valign-top">Pin #</th><th class="tableblock halign-left valign-top"></th><th class="tableblock halign-left valign-top">Pin #</th><th class="tableblock halign-left valign-top">Segnale</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>2</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>TD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DSR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DCD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>SG</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>SG</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DSR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DCD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>1</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>20</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>7</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>5</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CTS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>CTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>8</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>si connette a</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>RTS</p></td></tr></tbody></table><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Quando un pin di un capo si connette a una coppia di pin dell’altro capo, questo è solitamente fatto ponendo un cavetto tra la coppia di pin nel loro connettore e collegando questi con un altro cavo al singolo pin dell’altro capo.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Queste sembrano essere le implementazioni più popolari. In altre varianti (spiegate nel libro <em>RS-232 Made Easy</em>) SG è connesso a SG, TD a RD, RTS e CTS a DCD, DTR a DSR, e vice-versa.</p></div></div><div class=sect5><h6 id=term-cables-std>24.2.2.1.2. Cavi Standard RS-232C<a class=anchor href=#term-cables-std></a></h6><div class=paragraph><p>Un cavo seriale standard ha tutti i segnali RS-232C diritti. Cioè, il pin di "Trasmissione Dati" su un capo del cavo va nel pin di "Trasmissione Dati" sull’altro capo. Questo è il tipo di cavo da usare per collegare un modem al tuo sistema FreeBSD, ed è anche appropriato per alcuni terminali.</p></div></div></div><div class=sect4><h5 id=term-ports>24.2.2.2. Porte<a class=anchor href=#term-ports></a></h5><div class=paragraph><p>Le porte seriali sono i dispositivi attraverso i quali vengono trasferiti i dati tra il computer FreeBSD ed il terminale. Questa sezione descrive il tipo di porte che esistono e come vengono indicate in FreeBSD.</p></div><div class=sect5><h6 id=term-portkinds>24.2.2.2.1. Tipi di Porte<a class=anchor href=#term-portkinds></a></h6><div class=paragraph><p>Esistono parecchi tipi di porte seriali. Prima di comprare o costruire un cavo, avrai bisogno di assicurarti che sia adatto alle porte sul terminale e sul sistema FreeBSD.</p></div><div class=paragraph><p>La maggior parte dei terminali avrà porte DB-25. I personal computer, compresi i PC con FreeBSD, avranno porte DB-25 o DB-9. Se hai una scheda seriale multiporta nel tuo PC, potresti avere porte RJ-12 o RJ-45.</p></div><div class=paragraph><p>Guarda la documentazione fornita con l’hardware per le specifiche del tipo di porta usata. Spesso basta anche un’ispezione visiva della porta.</p></div></div><div class=sect5><h6 id=term-portnames>24.2.2.2.2. Nomi delle Porte<a class=anchor href=#term-portnames></a></h6><div class=paragraph><p>In FreeBSD, si accede ad ogni porta seriale attraverso una voce nella directory <span class=filename>/dev</span>. Ci sono due differenti tipi di voci:</p></div><div class=ulist><ul><li><p>Le porte di ingresso vengono dette <span class=filename>/dev/ttydN</span> dove <em>N</em> è il numero di porta, cominciando da zero. Generalmente, puoi usare la porta di ingresso per i terminali. Le porte di ingresso richiedono che la linea fornisca un segnale detto data carrier detect (DCD) per funzionare correttamente.</p></li><li><p>Le porte di uscita vengono dette <span class=filename>/dev/cuadN</span>. In genere non si usano porte di uscita per i terminali, ma solo per i modem. Puoi usare la porta di uscita se il cavo seriale o il terminale non supportano il segnale di carrier detect.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Le porte di uscita sono chiamate <span class=filename>/dev/cuaaN</span> in FreeBSD 5.X e precedenti.</p></div></td></tr></tbody></table></div></li></ul></div><div class=paragraph><p>Se hai connesso un terminale sulla prima porta seriale (<span class=filename>COM1</span> in MS-DOS®), allora userai <span class=filename>/dev/ttyd0</span> per riferirti al terminale. Se il terminale è sulla seconda porta seriale (anche nota come <span class=filename>COM2</span>), usa <span class=filename>/dev/ttyd1</span>, e così via.</p></div></div></div></div><div class=sect3><h4 id=_configurazione_del_kernel_2>24.2.3. Configurazione del Kernel<a class=anchor href=#_configurazione_del_kernel_2></a></h4><div class=paragraph><p>FreeBSD supporta quattro porte seriali di default. Nel mondo MS-DOS®, queste sono note come <span class=filename>COM1</span>, <span class=filename>COM2</span>, <span class=filename>COM3</span>, e <span class=filename>COM4</span>. FreeBSD attualmente supporta schede d’interfaccia seriale multiporta "stupide", come le BocaBoard 1008 e 2016, così come le schede multiporta intelligenti come quelle fatte dalla Digiboard e dalla Stallion Technologies. Ad ogni modo, il kernel di default usa solo le porte COM standard.</p></div><div class=paragraph><p>Per vedere se il tuo kernel riconosce una delle tue porte seriali, guarda i messaggi mentre il kernel viene avviato, o usa il comando <code>/sbin/dmesg</code> per far scorrere di nuovo i messaggi di avvio del kernel. In particolare, cerca dei messaggi che inizino con i caratteri <code>sio</code>.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Per vedere solo i messaggi che hanno la parola <code>sio</code>, usa il comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /sbin/dmesg | grep &#39;sio&#39;</span></code></pre></div></div></td></tr></tbody></table></div><div class=paragraph><p>Ad esempio, su un sistema con quattro porte seriali, questi sono i messaggi dati dall’avvio del kernel specifici delle porte seriali:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>sio0 at 0x3f8-0x3ff irq 4 on isa
sio0: <span class=nb>type </span>16550A
sio1 at 0x2f8-0x2ff irq 3 on isa
sio1: <span class=nb>type </span>16550A
sio2 at 0x3e8-0x3ef irq 5 on isa
sio2: <span class=nb>type </span>16550A
sio3 at 0x2e8-0x2ef irq 9 on isa
sio3: <span class=nb>type </span>16550A</code></pre></div></div><div class=paragraph><p>Se il tuo kernel non riconosce tutte le tue porte seriali, probabilmente devi configurare il kernel sistemando il file <span class=filename>/boot/device.hints</span>. Inoltre puoi commentare o rimuovere completamente le righe dei dispositivi che non hai.</p></div><div class=paragraph><p>Su FreeBSD 4.X devi editare il tuo file di configurazione del kernel. Per informazioni dettagliate sulla configurazione del kernel, guarda <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>. Le righe dei dispositivi interessati dovrebbero essere simili a queste:</p></div><div class="literalblock programlisting"><div class=content><pre>device            sio0    at isa? port IO_COM1 irq 4
device          sio1    at isa? port IO_COM2 irq 3
device          sio2    at isa? port IO_COM3 irq 5
device          sio3    at isa? port IO_COM4 irq 9</pre></div></div><div class=paragraph><p>Guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=sio&amp;sektion=4&amp;format=html">sio(4)</a> per informazioni aggiuntive sulla configurazione delle porte seriali e delle schede multiporta. Stai attento se stai usando un file di configurazione già usato per una versione differente di FreeBSD, poiché i flag dei dispositivi e la sintassi sono cambiati tra una versione e l’altra.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>port IO_COM1</code> è una sostituzione per <code>port 0x3f8</code>, <code>IO_COM2</code> è <code>0x2f8</code>, <code>IO_COM3</code> è <code>0x3e8</code>, e <code>IO_COM4</code> è <code>0x2e8</code>, che sono indirizzi comuni per le rispettive porte seriali; gli interrupt 4, 3, 5, e 9 sono linee di richiesta di interrupt piuttosto comuni. Da notare anche che le normali porte seriali <em>non possono</em> condividere degli interrupt sui bus ISA dei PC (le schede multiporta hanno dell’elettronica integrata che permette a tutte le 16550A sulla scheda di condividere uno o due linee di richiesta dell’interrupt).</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_file_speciali_di_dispositivo>24.2.4. File Speciali di Dispositivo<a class=anchor href=#_file_speciali_di_dispositivo></a></h4><div class=paragraph><p>Alla maggior parte dei dispositivi nel kernel si accede attraverso "file speciali di dispositivo", che si trovano nella directory <span class=filename>/dev</span>. Ai dispositivi <span class=filename>sio</span> si accede attraverso i <span class=filename>/dev/ttydN</span> (ingresso) e <span class=filename>/dev/cuadN</span> (uscita). FreeBSD fornisce anche dei dispositivi di inizializzazione (<span class=filename>/dev/ttydN.init</span> e <span class=filename>/dev/cuadN.init</span> su FreeBSD 6.X, <span class=filename>/dev/ttyidN</span> e <span class=filename>/dev/cuaidN</span> su FreeBSD 5.X e precedenti) e dispositivi di blocco (<span class=filename>/dev/ttydN.lock</span> e <span class=filename>/dev/cuadN.lock</span> su FreeBSD 6.X, <span class=filename>/dev/ttyldN</span> e <span class=filename>/dev/cualdN</span> su FreeBSD 5.X e precedenti). I dispositivi di inizializzazione vengono usati per inizializzare i parametri delle porte di comunicazione ogni volta che una porta viene aperta, come <code>crtscts</code> per i modem che usano le segnalazioni <code>RTS/CTS</code> per il controllo di flusso. I dispositivi di blocco vengono usati per fissare i flag sulle porte ed evitare che altri utenti o programmi cambino certi parametri; guarda le pagine man di <a href="https://man.freebsd.org/cgi/man.cgi?query=termios&amp;sektion=4&amp;format=html">termios(4)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=sio&amp;sektion=4&amp;format=html">sio(4)</a>, e <a href="https://man.freebsd.org/cgi/man.cgi?query=stty&amp;sektion=1&amp;format=html">stty(1)</a> per maggiori informazioni sulle impostazioni dei terminali, sui dispositivi di blocco ed inizializzazione, e sull’impostazione delle opzioni del terminale, rispettivamente.</p></div><div class=sect4><h5 id=_creazione_dei_file_speciali_di_dispositivo>24.2.4.1. Creazione dei File Speciali di Dispositivo<a class=anchor href=#_creazione_dei_file_speciali_di_dispositivo></a></h5><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>FreeBSD 5.0 include il file system <a href="https://man.freebsd.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;format=html">devfs(5)</a> che crea automaticamente nodi per i dispositivi necessari. Se stai usando una versione di FreeBSD con il <code>devfs</code> abilitato puoi saltare tranquillamente questa sezione.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Uno script di shell di nome <code>MAKEDEV</code> nella directory <span class=filename>/dev</span> gestisce i file di dispositivo. Per usare <code>MAKEDEV</code> nella creazione del file di dispositivo per <span class=filename>COM1</span> (porta 0), fai <code>cd</code> su <span class=filename>/dev</span> e dai il comando <code>MAKEDEV ttyd0</code>. Allo stesso modo, per creare il file di dispositivo per <span class=filename>COM2</span> (porta 1), usa <code>MAKEDEV ttyd1</code>.</p></div><div class=paragraph><p><code>MAKEDEV</code> non crea solo i file speciali <span class=filename>/dev/ttydN</span>, ma anche i nodi <span class=filename>/dev/cuaaN</span>, <span class=filename>/dev/cuaiaN</span>, <span class=filename>/dev/cualaN</span>, <span class=filename>/dev/ttyldN</span>, e <span class=filename>/dev/ttyidN</span>.</p></div><div class=paragraph><p>Dopo aver creato i nuovi file di dispositivo, fa attenzione nel controllare i permessi sui file (specialmente sui file <span class=filename>/dev/cua*</span>) per assicurarti che solo gli utenti che dovrebbero effettivamente avere accesso a questi dispositivi possano leggerli e scriverli - magari non vorrai permettere al tuo utente medio di usare il tuo modem per chiamare verso l’esterno. I permessi predefiniti su <span class=filename>/dev/cua*</span> dovrebbero essere adatti:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>crw-rw----    1 uucp     dialer    28, 129 Feb 15 14:38 /dev/cuaa1
crw-rw----    1 uucp     dialer    28, 161 Feb 15 14:38 /dev/cuaia1
crw-rw----    1 uucp     dialer    28, 193 Feb 15 14:38 /dev/cuala1</code></pre></div></div><div class=paragraph><p>Questi permessi permettono all’utente <code>uucp</code> e agli utenti nel gruppo <code>dialer</code> di usare i dispositivi di uscita.</p></div></div></div><div class=sect3><h4 id=serial-hw-config>24.2.5. Configurazione della Porta Seriale<a class=anchor href=#serial-hw-config></a></h4><div class=paragraph><p>Il dispositivo <span class=filename>ttydN</span> (o <span class=filename>cuadN</span>) è il normale dispositivo che si apre per le proprie applicazioni. Quando un processo apre il dispositivo, avrà un insieme di impostazioni di I/O predefinite per il terminale. Puoi visualizzare queste impostazioni con il comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># stty -a -f /dev/ttyd1</span></code></pre></div></div><div class=paragraph><p>Quando cambi le impostazioni per questo dispositivo, queste rimangono efficaci finché il dispositivo non viene chiuso. Quando viene riaperto, ritorna all’insieme di default. Per effettuare dei cambiamenti all’insieme predefinito, modifica le impostazioni per il dispositivo di "stato iniziale". Ad esempio, per attivare di default modalità <code>CLOCAL</code>, comunicazione a 8 bit, e controllo di flusso <code>XON/XOFF</code> per <span class=filename>ttyd5</span>, scrivi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># stty -f /dev/ttyd5.init clocal cs8 ixon ixoff</span></code></pre></div></div><div class=paragraph><p>Le inizializzazioni di sistema per i dispositivi seriali sono controllate in <span class=filename>/etc/rc.d/serial</span>. Questo file influisce sui valori predefiniti dei dispositivi seriali.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Su FreeBSD 4.X, l’inizializzazione globale dei dispositivi seriali è controllata in <span class=filename>/etc/rc.serial</span>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per evitare cambiamenti da parte di qualche applicazione, modifica il dispositivo di "blocco dello stato". Ad esempio, per bloccare la velocità di <span class=filename>ttyd5</span> a 57600 bps, scrivi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># stty -f /dev/ttyd5.lock 57600</span></code></pre></div></div><div class=paragraph><p>Ora, un applicazione che apra <span class=filename>ttyd5</span> e cerchi di cambiare la velocità della porta resterà bloccata a 57600 bps.</p></div><div class=paragraph><p>Naturalmente, dovresti rendere i dispositivi di stato iniziale e stato di blocco scrivibili solo da <code>root</code>.</p></div></div></div><div class=sect2><h3 id=term>24.3. Terminali<a class=anchor href=#term></a></h3><div class=paragraph><p>I terminali forniscono un sistema di accesso conveniente ed a basso costo al tuo sistema FreeBSD quando non sei davanti alla console del computer o connesso ad una rete. Questa sezione descrive l’uso dei terminali con FreeBSD.</p></div><div class=sect3><h4 id=term-uses>24.3.1. Uso e Tipi di Terminali<a class=anchor href=#term-uses></a></h4><div class=paragraph><p>I sistemi UNIX® originali non avevano console. Invece, la gente effettuava il login ed avviava programmi attraverso terminali connessi alle porte seriali del computer. Ciò era abbastanza simile all’uso di modem e programmi terminale per collegarsi telefonicamente ad un sistema remoto e lavorare da riga di comando.</p></div><div class=paragraph><p>I PC di oggi hanno console capaci di grafica di alta qualità, ma l’abilità di stabilire una sessione di login su una porta seriale esiste ancora in quasi ogni sistema operativo in stile UNIX® di oggi; FreeBSD non fa eccezione. Usando un terminale attaccato ad una porta seriale inutilizzata, puoi effettuare il login ed eseguire qualsiasi programma testuale che potresti lanciare normalmente dalla console o da una finestra <code>xterm</code> in X Window.</p></div><div class=paragraph><p>Un utente aziendale può connettere molti terminali ad un sistema FreeBSD e porli sulle scrivanie dei propri impiegati. Un utente casalingo può usare qualcosa come un vecchio PC IBM o un Macintosh® come terminale connesso a un computer più potente che faccia girare FreeBSD. Puoi anche trasformare quello che sarebbe un computer singolo utente in un potente sistema per utenti multipli.</p></div><div class=paragraph><p>Per FreeBSD, esistono tre tipi di terminali:</p></div><div class=ulist><ul><li><p><a href=#term-dumb>terminali "stupidi"</a></p></li><li><p><a href=#term-pcs>PC che interpretano terminali</a></p></li><li><p><a href=#term-x>terminali X</a></p></li></ul></div><div class=paragraph><p>Le sottosezioni rimanenti descrivono ognuno di questi tipi.</p></div><div class=sect4><h5 id=term-dumb>24.3.1.1. Terminali "Stupidi"<a class=anchor href=#term-dumb></a></h5><div class=paragraph><p>Questi terminali sono oggetti hardware specializzati che permettono di connettere dei computer tramite linee seriali. Essi vengono detti "stupidi" poiché hanno solo la potenza di calcolo necessaria per mostrare, inviare, e ricevere testo. Non potete eseguire nessun programma su di essi. È il computer al quale vi collegate che ha la potenza per eseguire editor di testo, compilatori, email, giochi, e così via.</p></div><div class=paragraph><p>Ci sono centinaia di tipi di terminali di questo tipo, venduti da molti produttori, incluso il VT-100 della Digital Equipment Corporation e il WY-75 della Wyse. Quasi tutti funzioneranno con FreeBSD. Alcuni terminali di alto livello possono anche mostrare della grafica, ma solo alcuni pacchetti software possono avvalersi di queste caratteristiche.</p></div><div class=paragraph><p>I terminali stupidi sono popolari negli ambienti di lavoro nei quali i lavoratori non hanno bisogno di accedere ad applicazioni grafiche come quelle fornite dal sistema X Window.</p></div></div><div class=sect4><h5 id=term-pcs>24.3.1.2. PC che Emulano Terminali<a class=anchor href=#term-pcs></a></h5><div class=paragraph><p>Se un <a href=#term-dumb>terminale stupido</a> ha appena le capacità per mostrare, inviare, e ricevere testo, allora di certo un qualunque personal computer può funzionare come un terminale stupido. Tutto ciò di cui hai bisogno è il cavo appropriato ed un qualche programma per l'<em>emulazione di terminale</em> sul tuo computer.</p></div><div class=paragraph><p>Una simile configurazione è comune in molte case. Ad esempio, se il tuo coniuge sta lavorando alla console del sistema FreeBSD, tu puoi fare del lavoro testuale allo stesso momento da un PC meno potente connesso come terminale al sistema FreeBSD.</p></div></div><div class=sect4><h5 id=term-x>24.3.1.3. Terminali X<a class=anchor href=#term-x></a></h5><div class=paragraph><p>I terminali X sono i terminali più sofisticati tra quelli disponibili. Invece di collegarsi alla porta seriale, in genere ci si collega ad essi tramite un rete come Ethernet. Invece di essere relegati alle applicazioni testuali, essi possono mostrare applicazioni X.</p></div><div class=paragraph><p>Introduciamo i terminali X solo per una questione di completezza. Ad ogni modo, questo capitolo <em>non</em> affronta in modo completo l’installazione, la configurazione, o l’uso dei terminali X.</p></div></div></div><div class=sect3><h4 id=term-config>24.3.2. Configurazione<a class=anchor href=#term-config></a></h4><div class=paragraph><p>Questa sezione descrive quello che hai bisogno di configurare sul tuo sistema FreeBSD per abilitare una sessione di login via terminale. Si assume che tu abbia già configurato il kernel con il supporto per la porta seriale alla quale è connesso il terminale - e che questo sia già connesso.</p></div><div class=paragraph><p>Dovresti ricordare dal <a href=./#boot>La Procedura di Avvio</a> che il processo <code>init</code> è responsabile del controllo di tutti i processi e dell’inizializzazione del sistema all’avvio. Uno dei compiti svolti da <code>init</code> è la lettura del file <span class=filename>/etc/ttys</span> e l’avvio di un processo <code>getty</code> sui terminali disponibili. Il processo <code>getty</code> è responsabile della lettura di un nome di login e dell’avvio del programma <code>login</code>.</p></div><div class=paragraph><p>Dunque, per configurare i terminali per il tuo sistema FreeBSD devono essere effettuati come <code>root</code> i seguenti passi:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Aggiungi una linea a <span class=filename>/etc/ttys</span> relativa al file in <span class=filename>/dev</span> per la porta seriale, se non è già presente.</p></li><li><p>Specifica che <code>/usr/libexec/getty</code> deve essere eseguito sulla porta, e specifica il tipo appropriato di <em>getty</em> dal file <span class=filename>/etc/gettytab</span>.</p></li><li><p>Specifica il tipo di terminale predefinito.</p></li><li><p>Imposta la porta su "on".</p></li><li><p>Specifica se la porta deve essere "sicura".</p></li><li><p>Forza <code>init</code> alla rilettura del file <span class=filename>/etc/ttys</span>.</p></li></ol></div></div></div><div class=paragraph><p>Come passo opzionale, potresti desiderare di creare un tipo di <em>getty</em> personale da usare nel secondo passo aggiungendo una linea in <span class=filename>/etc/gettytab</span>. Questo capitolo non spiega come fare ciò; sei incoraggiato a leggere le pagine man di <a href="https://man.freebsd.org/cgi/man.cgi?query=gettytab&amp;sektion=5&amp;format=html">gettytab(5)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;format=html">getty(8)</a> per maggiori informazioni.</p></div><div class=sect4><h5 id=term-etcttys>24.3.2.1. Aggiunta di un Elemento in <span class=filename>/etc/ttys</span><a class=anchor href=#term-etcttys></a></h5><div class=paragraph><p>Il file <span class=filename>/etc/ttys</span> elenca tutte le porte del tuo sistema FreeBSD dalle quali vuoi permettere un login. Ad esempio, la prima console virtuale <span class=filename>ttyv0</span> è elencata in questo file. Si può accedere al sistema dalla console grazie a questa voce. Questo file contiene anche delle voci per altre console virtuali, porte seriali, e pseudo-tty. Per un terminale connesso fisicamente, basta copiare l’elenco delle porte seriali in <span class=filename>/dev</span> senza la parte <span class=filename>/dev</span> (ad esempio, <span class=filename>/dev/ttyv0</span> verrà scritta come <span class=filename>ttyv0</span>).</p></div><div class=paragraph><p>Un’installazione predefinita di FreeBSD include un file <span class=filename>/etc/ttys</span> con supporto per le prime quattro porte seriali: da <span class=filename>ttyd0</span> a <span class=filename>ttyd3</span>. Se vuoi collegare un terminale a una di queste porte, non hai bisogno di aggiungere un’altra voce.</p></div><div id=ex-etc-ttys class=exampleblock><div class=title>Esempio 10. Aggiunta di Voci per Altri Terminali a <span class=filename>/etc/ttys</span></div><div class=content><div class=paragraph><p>Supponiamo che si vogliano collegare due terminali ad un sistema: un Wyse-50 ed un vecchio PC IBM 286 con Procomm come programma di emulazione di terminale VT-100. Colleghiamo il Wyse alla seconda porta seriale ed il 286 alla sesta (una porta su scheda seriale multiporta). Le voci corrispondenti nel file <span class=filename>/etc/ttys</span> apparirebbero così:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyd1  &#34;/usr/libexec/getty std.38400&#34;  wy50  on  insecure
ttyd5   &#34;/usr/libexec/getty std.19200&#34;  vt100  on  insecure</pre></div></div><div class=ulist><ul><li><p>Il primo campo in genere specifica il nome del file speciale per il terminale, come si trova in <span class=filename>/dev</span>.</p></li><li><p>Il secondo campo è il comando da eseguire per questa linea, generalmente <a href="https://man.freebsd.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;format=html">getty(8)</a>. <code>getty</code> inizializza ed apre la linea, imposta la velocità, richiede all’utente un nome di login e poi esegue il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=login&amp;sektion=1&amp;format=html">login(1)</a>.Il programma <code>getty</code> accetta un parametro (opzionale) da riga di comando, il tipo di <em>getty</em>. Un tipo di <em>getty</em> configura le caratteristiche della linea del terminale, come la frequenza di bit per secondo e la parità. Il programma <code>getty</code> legge questa caratteristiche dal file <span class=filename>/etc/gettytab</span>.Il file <span class=filename>/etc/gettytab</span> contiene molte voci per le linee di terminale sia vecchie che nuove. In quasi tutti i casi, le voci che cominciano per <code>std</code> funzioneranno con i terminali connessi fisicamente. Queste voci ignorano la parità. C’è una voce <code>std</code> per ogni frequenza di bps da 110 a 115200. Naturalmente, puoi aggiungere le tue voci a questo file. La pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=gettytab&amp;sektion=5&amp;format=html">gettytab(5)</a> fornisce maggiori informazioni.Nell’impostare il tipo di <em>getty</em> nel file <span class=filename>/etc/ttys</span>, assicurati che le impostazioni di comunicazione sul terminale corrispondano.Nel nostro esempio, il Wyse-50 non usa parità e si connette a 38400 bps. Il PC 286 non usa parità e si connette a 19200 bps.</p></li><li><p>Il terzo campo è il tipo di terminale generalmente collegato alla linea tty. Per le porte dial-up, viene usato tipicamente <code>unknown</code> o <code>dialup</code> poiché gli utenti possono collegarsi con praticamente qualunque tipo di terminale o programma. Per i terminali connessi direttamente, il tipo di terminale non cambia, quindi puoi mettere un vero tipo di terminale preso dal file database di <a href="https://man.freebsd.org/cgi/man.cgi?query=termcap&amp;sektion=5&amp;format=html">termcap(5)</a> in questo campo.Per il nostro esempio, il Wyse-50 usa il tipo per il vero terminale mentre il PC 286 con Procomm in esecuzione verrà impostato per emulare un VT-100.</p></li><li><p>Il quarto campo specifica se la porta deve essere abilitata. Scrivere <code>on</code> qui farà sì che il processo <code>init</code> avvii il programma nel secondo campo, <code>getty</code>. Se metti <code>off</code> in questo campo, non ci sarà nessun <code>getty</code>, e dunque nessun login sulla porta.</p></li><li><p>Il campo finale è usato per specificare se la porta è sicura. Segnare una porta come sicura significa confidare nel fatto che non ci sia rischio nel permettere all’account di <code>root</code> (o ad un altro con user ID uguale a 0) di effettuare il login da quella porta. Porte insicure non permettono il login a <code>root</code>. Su una porta insicura, gli utenti devono effettuare un login con accesso non privilegiato, e poi usare <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> o un meccanismo simile per ottenere privilegi superiori.È fortemente consigliato l’uso di "insecure" anche per i terminali che si trovano dietro porte chiuse a chiave. È abbastanza semplice effettuare il login e usare <code>su</code> se si ha bisogno di privilegi da superutente.</p></li></ul></div></div></div></div><div class=sect4><h5 id=term-hup>24.3.2.2. Come Forzare <code>init</code> a Rileggere <span class=filename>/etc/ttys</span><a class=anchor href=#term-hup></a></h5><div class=paragraph><p>Dopo aver effettuato i cambiamenti necessari al file <span class=filename>/etc/ttys</span> si deve mandare un segnale SIGHUP (hangup) al processo <code>init</code> affinché sia costretto a rileggere il suo file di configurazione. Ad esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kill -HUP 1</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><code>init</code> è sempre il primo processo eseguito su un sistema dunque avrà sempre PID 1.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se tutto è stato impostato correttamente, tutti i cavi sono collegati, ed i terminali sono accesi, allora un processo <code>getty</code> dovrebbe essere in esecuzione su ogni terminale e a questo punto dovresti vedere dei prompt per il login sui tuoi terminali.</p></div></div></div><div class=sect3><h4 id=term-debug>24.3.3. Risoluzione dei Problemi di Connessione<a class=anchor href=#term-debug></a></h4><div class=paragraph><p>Anche con la più meticolosa attenzione ai dettagli, qualcosa potrebbe comunque andare storto nell’impostazione di un terminale. Questa è una lista dei sintomi e di alcuni suggerimenti per risolverli.</p></div><div class=sect4><h5 id=_non_appare_nessun_prompt_per_il_login>24.3.3.1. Non Appare Nessun Prompt per il Login<a class=anchor href=#_non_appare_nessun_prompt_per_il_login></a></h5><div class=paragraph><p>Assicurati che il terminale sia connesso e acceso. Se è un personal computer che funziona da terminale, assicurati che il programma di emulazione di terminale sia attivo sulla porta seriale giusta.</p></div><div class=paragraph><p>Assicurati che il cavo sia ben connesso sia al terminale che al computer FreeBSD. Assicurati che sia il giusto tipo di cavo.</p></div><div class=paragraph><p>Assicurati che il terminale e FreeBSD siano concordi sul valore di bps e sulle impostazioni di parità. Se hai un terminale con un display video, assicurati che il contrasto e la luminosità siano giusti. Se è un terminale di stampa, assicurati che ci siano carta e inchiostro sufficienti.</p></div><div class=paragraph><p>Assicurati che il processo <code>getty</code> sia attivo per quel terminale. Ad esempio, per avere una lista dei processi <code>getty</code> con <code>ps</code>, scrivi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ps -axww | grep getty</span></code></pre></div></div><div class=paragraph><p>dovresti vedere una voce per il terminale. Ad esempio, la schermata seguente mostra che <code>getty</code> è in esecuzione sulla seconda porta seriale <code>ttyd1</code> e sta usando la voce <code>std.38400</code> in <span class=filename>/etc/gettytab</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>22189  d1  Is+    0:00.03 /usr/libexec/getty std.38400 ttyd1</code></pre></div></div><div class=paragraph><p>Se non c’è nessun processo <code>getty</code> in esecuzione, assicurati di aver abilitato la porta in <span class=filename>/etc/ttys</span>. Ricordati anche di eseguire <code>kill -HUP 1</code> dopo aver modificato il file <span class=filename>ttys</span>.</p></div><div class=paragraph><p>Se il processo <code>getty</code> è attivo ma il terminale non mostra ancora un prompt di login, o se mostra un prompt ma non ti permette di digitare nulla, il tuo terminale o il tuo cavo potrebbero non supportare la transazione hardware. Prova a cambiare il valore in <span class=filename>/etc/ttys</span> da <code>std.38400</code> a <code>3wire.38400</code> (e ricordati di dare un <code>kill -HUP 1</code> dopo aver modificato <span class=filename>/etc/ttys</span>). La voce <code>3wire</code> è simile a <code>std</code>, ma ignora l’handshake hardware. Potresti aver bisogno di ridurre i baud o di abilitare un controllo di flusso software usando <code>3wire</code> per evitare dei buffer overflow.</p></div></div><div class=sect4><h5 id=_compaiono_caratteri_strani_invece_di_un_prompt_di_login>24.3.3.2. Compaiono Caratteri Strani Invece di un Prompt di Login<a class=anchor href=#_compaiono_caratteri_strani_invece_di_un_prompt_di_login></a></h5><div class=paragraph><p>Assicurati che il terminale e FreeBSD siano concordi sui bps e sulle impostazioni di parità. Verifica i processi <code>getty</code> per assicurarti che sia in funzione il tipo corretto di <em>getty</em>. Se non è così, modifica <span class=filename>/etc/ttys</span> ed esegui <code>kill -HUP 1</code>.</p></div></div><div class=sect4><h5 id=_i_caratteri_appaiono_duplicati_la_password_viene_visualizzata_quando_la_scrivo>24.3.3.3. I Caratteri Appaiono Duplicati; la Password Viene Visualizzata Quando la Scrivo<a class=anchor href=#_i_caratteri_appaiono_duplicati_la_password_viene_visualizzata_quando_la_scrivo></a></h5><div class=paragraph><p>Cambia l’impostazione del terminale (o del programma di emulazione) da "half duplex" o "local echo" a "full duplex".</p></div></div></div></div><div class=sect2><h3 id=dialup>24.4. Servizio di Ricezione Chiamate<a class=anchor href=#dialup></a></h3><div class=paragraph><p>La configurazione del sistema FreeBSD per il servizio di ricezione chiamate è molto simile alla connessione di terminali tranne per il fatto che si ha a che fare con dei modem invece che con dei terminali.</p></div><div class=sect3><h4 id=_modem_esterni_contro_modem_interni>24.4.1. Modem Esterni contro Modem Interni<a class=anchor href=#_modem_esterni_contro_modem_interni></a></h4><div class=paragraph><p>I modem esterni sembrerebbero migliori per chiamare, poiché i modem esterni spesso possono essere configurati in maniera semipermanente tramite dei parametri immagazzinati in RAM non volatile e generalmente forniscono degli indicatori luminosi che mostrano lo stato degli importanti segnali RS-232. Le lucine lampeggianti impressionano gli ospiti, ma sono anche molto utili per vedere se un modem sta funzionando in maniera appropriata.</p></div><div class=paragraph><p>I modem interni in genere mancano della RAM non-volatile, quindi la loro configurazione può essere limitata solo impostando i DIP switch. Se il tuo modem interno ha delle luci indicatrici di segnale, probabilmente è difficile vederle quando il case del sistema è al suo posto.</p></div><div class=sect4><h5 id=_modem_e_cavi>24.4.1.1. Modem e Cavi<a class=anchor href=#_modem_e_cavi></a></h5><div class=paragraph><p>Se stai usando un modem esterno, allora avrai bisogno del cavo appropriato. Un cavo seriale standard RS-232C dovrebbe essere sufficiente, posto che tutti i normali segnali siano connessi:</p></div><table id=serialcomms-signal-names class="tableblock frame-none grid-all stretch"><caption class=title>Tabella 12. Nomi dei Segnali</caption><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Acronimi</th><th class="tableblock halign-left valign-top">Nomi</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Ricezione Dati</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>TD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Trasmissione Dati</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DTR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Terminale di Dati Disponibile</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DSR</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Pronto alla Trasmissione</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DCD</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Data Carrier Detect (scopre il Segnale di Linea di Ricezione di RS-232)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>SG</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Segnale di Massa</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>RTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Richiesta alla Trasmissione</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>CTS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Disponibile all’Invio</p></td></tr></tbody></table><div class=paragraph><p>FreeBSD necessita dei segnali RTS e CTS per il controllo di flusso a velocità superiori a 2400 bps, del segnale CD per identificare quando c’è stata una risposta alla chiamata o quando una linea è stata scollegata, e del segnale DTR per dare il reset al modem dopo che una sessione è terminata. Alcuni cavi sono connessi senza alcuni dei segnali necessari, dunque se hai dei problemi, come una sessione di login che non scompare quando la linea è sconnessa, potresti avere un problema col cavo.</p></div><div class=paragraph><p>Come altri sistemi operativi UNIX®, FreeBSD usa i segnali hardware per scoprire quando una chiamata è stata accettata o quando una linea è stata scollegata e per scollegare e resettare il modem dopo una chiamata. FreeBSD evita di mandare comandi al modem o di leggere i valori riportati dal modem. Se hai familiarità con la connessione dei modem a BBS di PC, questo potrebbe sembrarti scomodo.</p></div></div></div><div class=sect3><h4 id=_considerazioni_sullinterfaccia_seriale>24.4.2. Considerazioni sull’Interfaccia Seriale<a class=anchor href=#_considerazioni_sullinterfaccia_seriale></a></h4><div class=paragraph><p>FreeBSD supporta interfacce di comunicazione EIA RS-232C (CCITT V.24) basate su NS8250, NS16450, NS16550, e NS16550A. I dispositivi 8250 e 16450 hanno buffer di un singolo carattere. Il dispositivo 16550 fornisce un buffer di 16 caratteri, che permette prestazioni del sistema migliori. (Dei bug nel normale 16550 impediscono l’uso del buffer di 16 caratteri, quindi usate 16550A se possibile). A causa del buffer a singolo carattere questi dispositivi richiedono un lavoro maggiore da parte del sistema operativo rispetto ai dispositivi a 16 caratteri di buffer, le schede d’interfaccia seriale basate su 16550A sono preferibili. Se il sistema ha molte porte seriali attive o dovrà sopportare un grosso carico, le schede basate su 16550A sono migliori per comunicazioni a basso tasso d’errore.</p></div></div><div class=sect3><h4 id=_breve_panoramica>24.4.3. Breve Panoramica<a class=anchor href=#_breve_panoramica></a></h4><div class=paragraph><p>Come con i terminali, <code>init</code> lancia un processo <code>getty</code> per ogni porta seriale configurata per connessioni in ingresso. Ad esempio, se un modem è connesso a <span class=filename>/dev/ttyd0</span>, il comando <code>ps ax</code> mostrerà questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>4850 ??  I      0:00.09 /usr/libexec/getty V19200 ttyd0</code></pre></div></div><div class=paragraph><p>Quando un utente chiama la linea del modem e questo si collega, il modem riporterà la linea CD (Carrier Detect). Il kernel nota che la portante è stata rilevata e completa l’apertura della porta con <code>getty</code>. <code>getty</code> invia un prompt <code>login:</code> alla velocità iniziale di linea specificata. <code>getty</code> aspetta per verificare che vengano ricevuti caratteri legittimi, e, in una tipica configurazione, se trova dei caratteri strani (probabilmente perché la velocità del modem è differente da quella di <code>getty</code>), <code>getty</code> cerca di calibrare la velocità di linea fino a ricevere dei caratteri ragionevoli.</p></div><div class=paragraph><p>Dopo che l’utente ha inserito il suo nome di login, <code>getty</code> esegue <span class=filename>/usr/bin/login</span>, che completa il login richiedendo la password per l’utente ed avviandone la shell.</p></div></div><div class=sect3><h4 id=_file_di_configurazione_2>24.4.4. File di Configurazione<a class=anchor href=#_file_di_configurazione_2></a></h4><div class=paragraph><p>Ci sono tre file di configurazione di sistema nella directory <span class=filename>/etc</span> che avrai probabilmente bisogno di modificare per permettere chiamate in ingresso sul tuo sistema FreeBSD. Il primo, <span class=filename>/etc/gettytab</span>, contiene le informazioni di configurazione per il demone <span class=filename>/usr/libexec/getty</span>. Il secondo, <span class=filename>/etc/ttys</span> contiene le informazioni che dicono a <span class=filename>/sbin/init</span> quali dispositivi <span class=filename>tty</span> devono avere processi <code>getty</code> in esecuzione. Infine, si possono mettere comandi di inizializzazione nello script <span class=filename>/etc/rc.d/serial</span>.</p></div><div class=paragraph><p>Ci sono due scuole di pensiero riguardo i modem su UNIX®. Un gruppo preferisce configurare i propri modem in maniera che qualunque sia la velocità con la quale un utente remoto si collega, l’interfaccia locale RS-232 computer-modem funzioni ad una velocità fissa. Il beneficio di questa configurazione è che l’utente remoto vede sempre un prompt di login immediato. Il lato negativo è che il sistema non sa quale sia la vera velocità di trasmissione dati di un utente, quindi programmi a tutto schermo come Emacs non modificheranno i loro metodi di rappresentazione dello schermo per ottimizzare la risposta su connessioni lente.</p></div><div class=paragraph><p>L’altra scuola di pensiero configura le proprie interfacce RS-232 verso il modem per variare la propria velocità rispetto a quella di connessione dell’utente remoto. Ad esempio, le connessioni V.32bis (14.4 Kbps) faranno sì che il modem faccia funzionare la propria interfaccia RS-232 a 19.2 Kbps, mentre le connessioni a 2400 bps faranno sì che funzioni a 2400 bps. Poiché <code>getty</code> non comprende nessun valore restituito dal modem riguardo la velocità di connessione, <code>getty</code> darà un messaggio <code>login:</code> ad una velocità iniziale fissata e aspetterà i caratteri in risposta. Se l’utente vede caratteri strani, si assume che sappia che dovrà premere Invio finché non vedrà un prompt riconoscibile. Se le frequenze di trasmissione non concordano, <code>getty</code> vedrà tutto ciò che l’utente preme come "spazzatura", cercherà di passare alla velocità seguente e invierà il prompt <code>login:</code> di nuovo. Questa procedura potrebbe continuare ad nauseam, ma normalmente ci vogliono solo una o due pressioni sui tasti prima che l’utente veda un buon prompt. Ovviamente, questa sequenza di login non è pulita come la precedente a "velocità fissata", ma un utente su una connessione a bassa velocità dovrebbe ricevere una risposta interattiva migliore da programmi a tutto schermo.</p></div><div class=paragraph><p>Questa sezione cercherà di fornire informazioni di configurazione bilanciate, ma è indirizzata verso l’approccio di avere la frequenza di trasmissione del modem che segue la velocità della connessione.</p></div><div class=sect4><h5 id=_etcgettytab>24.4.4.1. <span class=filename>/etc/gettytab</span><a class=anchor href=#_etcgettytab></a></h5><div class=paragraph><p><span class=filename>/etc/gettytab</span> è un file di configurazione sul modello di <a href="https://man.freebsd.org/cgi/man.cgi?query=termcap&amp;sektion=5&amp;format=html">termcap(5)</a> per <a href="https://man.freebsd.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;format=html">getty(8)</a>. Si prega di vedere la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=gettytab&amp;sektion=5&amp;format=html">gettytab(5)</a> per le informazioni complete sul formato del file e la lista delle sue possibilità.</p></div><div class=sect5><h6 id=_configurazione_a_velocità_fissa>24.4.4.1.1. Configurazione a Velocità Fissa<a class=anchor href=#_configurazione_a_velocità_fissa></a></h6><div class=paragraph><p>Se stai fissando la frequenza di comunicazione del modem ad una velocità particolare, probabilmente non avrai bisogno di effettuare nessun cambiamento a <span class=filename>/etc/gettytab</span>.</p></div></div><div class=sect5><h6 id=_configurazione_a_velocità_concordata>24.4.4.1.2. Configurazione a Velocità Concordata<a class=anchor href=#_configurazione_a_velocità_concordata></a></h6><div class=paragraph><p>C’è bisogno di impostare una voce in <span class=filename>/etc/gettytab</span> per dare a <code>getty</code> le informazioni sulla velocità che si vuole usare per il modem. Se si possiede un modem a 2400 bps, probabilmente è possibile usare la voce <code>D2400</code> già esistente.</p></div><div class="literalblock programlisting"><div class=content><pre>#
# Terminali chiamanti veloci, a rotazione 2400/1200/300
# (può impostarsi in tutti i modi)
#
D2400|d2400|Fast-Dial-2400:\
        :nx=D1200:tc=2400-baud:
3|D1200|Fast-Dial-1200:\
        :nx=D300:tc=1200-baud:
5|D300|Fast-Dial-300:\
        :nx=D2400:tc=300-baud:</pre></div></div><div class=paragraph><p>Se si possiede un modem con velocità maggiore, probabilmente sarà necessario aggiungere una voce in <span class=filename>/etc/gettytab</span>; qui c’è un esempio per modem a 14.4 Kbps modem con una velocità massima d’interfaccia di 19.2 Kbps:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# Aggiunte per un modem V.32bis
#
um|V300|High Speed Modem at 300,8-bit:\
        :nx=V19200:tc=std.300:
un|V1200|High Speed Modem at 1200,8-bit:\
        :nx=V300:tc=std.1200:
uo|V2400|High Speed Modem at 2400,8-bit:\
        :nx=V1200:tc=std.2400:
up|V9600|High Speed Modem at 9600,8-bit:\
        :nx=V2400:tc=std.9600:
uq|V19200|High Speed Modem at 19200,8-bit:\
        :nx=V9600:tc=std.19200:</pre></div></div><div class=paragraph><p>Questo risulterà in una connessione a 8-bit, senza parità.</p></div><div class=paragraph><p>L’esempio precedente avvia la comunicazione a 19.2 Kbps (per una connessione V.32bis), poi cicla tra 9600 bps (per V.32), 2400 bps, 1200 bps, 300 bps, e poi ancora a 19.2 Kbps. Il ciclo sulle frequenze di comunicazione è implementato con <code>nx=</code> ("next table"). Ogni linea usa una voce <code>tc=</code> ("table continuation") per continuare a leggere le impostazioni "standard" per una frequenza particolare.</p></div><div class=paragraph><p>Se hai un modem a 28.8 Kbps e/o vuoi avvantaggiarti della compressione su un modem a 14.4 Kbps, hai bisogno di usare una frequenza di comunicazione più alta di 19.2 Kbps. Qui c’è un esempio di voce per <span class=filename>gettytab</span> che imposta la velocità a 57.6 Kbps:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# Aggiunte per modem  V.32bis o V.34 Modem
# Impostazione a 57.6 Kbps
#
vm|VH300|Very High Speed Modem at 300,8-bit:\
        :nx=VH57600:tc=std.300:
vn|VH1200|Very High Speed Modem at 1200,8-bit:\
        :nx=VH300:tc=std.1200:
vo|VH2400|Very High Speed Modem at 2400,8-bit:\
        :nx=VH1200:tc=std.2400:
vp|VH9600|Very High Speed Modem at 9600,8-bit:\
        :nx=VH2400:tc=std.9600:
vq|VH57600|Very High Speed Modem at 57600,8-bit:\
        :nx=VH9600:tc=std.57600:</pre></div></div><div class=paragraph><p>Se hai una CPU lenta o un carico di sistema pesante e non hai porte seriale 16550A, potresti ricevere errori `sio`"silo" a 57.6 Kbps.</p></div></div></div><div class=sect4><h5 id=dialup-ttys>24.4.4.2. <span class=filename>/etc/ttys</span><a class=anchor href=#dialup-ttys></a></h5><div class=paragraph><p>La configurazione del file <span class=filename>/etc/ttys</span> è stata affrontata nella <a href=#ex-etc-ttys>Aggiunta di Voci per Altri Terminali a <span class=filename>/etc/ttys</span></a>. La configurazione dei modem è simile ma dobbiamo passare un argomento differente a <code>getty</code> e specificare un tipo di terminale differente. Il formato generale per la configurazione sia a velocità fissata che per quella concordata è:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyd0   &#34;/usr/libexec/getty xxx&#34;   dialup on</pre></div></div><div class=paragraph><p>Il primo elemento nella linea precedente è il file di dispositivo per questa voce - <code>ttyd0</code> significa che <span class=filename>/dev/ttyd0</span> è il file che verrà tenuto d’occhio da <code>getty</code>. Il secondo elemento, <code>"/usr/libexec/getty xxx"</code> (<em>xxx</em> verrà rimpiazzato dalla capacità iniziale di <span class=filename>gettytab</span>) è il processo che <code>init</code> eseguirà sul dispositivo. Il terzo elemento, <code>dialup</code>, è il tipo predefinito di terminale. Il quarto parametro, <code>on</code>, indica a <code>init</code> che quella linea è operativa. Potrebbe esserci un quinto parametro, <code>secure</code>, ma dovrebbe essere usato solo per i terminali che siano fisicamente sicuri (come la console di sistema).</p></div><div class=paragraph><p>Il tipo di terminale predefinito (<code>dialup</code> nell’esempio precedente) potrebbe dipendere dalle preferenze locali. <code>dialup</code> è il terminale tradizionale predefinito sulle linee di ingresso in maniera che gli utenti possano personalizzare i loro script di login per notare quando il terminale è <code>dialup</code> e modificare automaticamente il loro tipo di terminale. Ad ogni modo, l’autore ritiene più semplice specificare <code>vt102</code> come tipo di terminale predefinito, poiché l’utente può usare semplicemente un’emulazione VT102 sul suo sistema remoto.</p></div><div class=paragraph><p>Dopo aver effettuato i cambiamenti a <span class=filename>/etc/ttys</span>, puoi inviare un segnale HUP a <code>init</code> per fargli rileggere il file. Puoi usare il comando</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kill -HUP 1</span></code></pre></div></div><div class=paragraph><p>per inviare il segnale. Se questa è la prima volta che cambi le impostazioni del sistema, puoi aspettare finché il modem non sia configurato in maniera appropriata e connesso, prima di inviare il segnale a <code>init</code>.</p></div><div class=sect5><h6 id=_configurazione_a_velocità_fissa_2>24.4.4.2.1. Configurazione a Velocità Fissa<a class=anchor href=#_configurazione_a_velocità_fissa_2></a></h6><div class=paragraph><p>Per una configurazione a velocità fissa, la voce in <span class=filename>ttys</span> ha bisogno di una voce che gestisca la velocità fissa anche per <code>getty</code>. Per un modem la cui velocità sulla porta sia bloccata a 19.2 Kbps, la voce in <span class=filename>ttys</span> potrebbe essere così:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyd0   &#34;/usr/libexec/getty std.19200&#34;   dialup on</pre></div></div><div class=paragraph><p>Se il tuo modem è bloccato su una frequenza di trasmissione differente, sostituisci il valore appropriato per <code>std.velocità</code> al posto di <code>std.19200</code>. Assicurati di usare un tipo valido elencato in <span class=filename>/etc/gettytab</span>.</p></div></div><div class=sect5><h6 id=_configurazione_a_velocità_concordata_2>24.4.4.2.2. Configurazione a Velocità Concordata<a class=anchor href=#_configurazione_a_velocità_concordata_2></a></h6><div class=paragraph><p>In una configurazione a velocità concordata, la voce in <span class=filename>ttys</span> deve fare riferimento alla voce iniziale "auto-baud" (sic) in <span class=filename>/etc/gettytab</span>. Ad esempio, se hai aggiunto la riga suggerita precedentemente per un modem con velocità variabile che inizi a 19.2 Kbps (la riga in <span class=filename>gettytab</span> contenente il punto d’avvio <code>V19200</code>), la riga in <span class=filename>ttys</span> potrebbe essere questa:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyd0   &#34;/usr/libexec/getty V19200&#34;   dialup on</pre></div></div></div></div><div class=sect4><h5 id=_etcrc_dserial>24.4.4.3. <span class=filename>/etc/rc.d/serial</span><a class=anchor href=#_etcrc_dserial></a></h5><div class=paragraph><p>I modem ad alta velocità, come i V.32, i V.32bis, e i V.34, necessitano di un controllo di flusso hardware (<code>RTS/CTS</code>). Puoi aggiungere dei comandi <code>stty</code> al file <span class=filename>/etc/rc.d/serial</span> per impostare i flag di controllo di flusso nel kernel FreeBSD per le porte del modem.</p></div><div class=paragraph><p>Ad esempio per impostare il flag <code>termios``crtscts</code> sui dispositivi di inizializzazione di ingresso e uscita della porta seriale numero 1 (<span class=filename>COM2</span>), si possono aggiungere le seguenti linee a <span class=filename>/etc/rc.d/serial</span>:</p></div><div class="literalblock programlisting"><div class=content><pre># Configurazione iniziale della porta seriale
stty -f /dev/ttyd1.init crtscts
stty -f /dev/cuad1.init crtscts</pre></div></div></div></div><div class=sect3><h4 id=_impostazioni_del_modem>24.4.5. Impostazioni del Modem<a class=anchor href=#_impostazioni_del_modem></a></h4><div class=paragraph><p>Se hai uno di quei modem i cui parametri possono essere impostati in maniera permanente in RAM non volatile, avrai bisogno di usare un programma terminale (come Telix su MS-DOS® o <code>tip</code> sotto FreeBSD) per impostare i parametri. Collegati al modem usando le stesse velocità iniziali e di comunicazione che userebbe <code>getty</code> e configura la RAM non volatile secondo queste necessità:</p></div><div class=ulist><ul><li><p>CD attivo per la connessione</p></li><li><p>DTR attivo per l’operazione; l’assenza del DTR porta allo scollegamento della linea e al reset del modem</p></li><li><p>CTS controllo di flusso dei dati trasmessi</p></li><li><p>Disabilita il controllo di flusso XON/XOFF</p></li><li><p>RTS controllo di flusso dei dati ricevuti</p></li><li><p>Modalità silenziosa (nessun codice di risposta)</p></li><li><p>Nessun echo dei comandi</p></li></ul></div><div class=paragraph><p>Leggi la documentazione del tuo modem per capire quali comandi e/o impostazioni per i DIP switch sia necessario fornirgli.</p></div><div class=paragraph><p>Ad esempio, per impostare i parametri precedenti su un U.S. Robotics® Sportster® 14.400 esterno, si potrebbero dare questi comandi al modem:</p></div><div class="literalblock programlisting"><div class=content><pre>ATZ
AT&amp;C1&amp;D2&amp;H1&amp;I0&amp;R2&amp;W</pre></div></div><div class=paragraph><p>Potresti anche sfruttare questa opportunità per raffinare le impostazioni del modem, ad esempio per decidere se dovrà usare V.42bis e/o la compressione MNP5.</p></div><div class=paragraph><p>Il modem esterno U.S. Robotics® Sportster® 14.400 ha anche dei DIP switch che devono essere impostati; per altri modem, forse potrai usare queste impostazioni come esempio:</p></div><div class=ulist><ul><li><p>Switch 1: SU - DTR Normale</p></li><li><p>Switch 2: N/D (Codici di Risposta Verbali/Codici di Risposta Numerici</p></li><li><p>Switch 3: SU - Sopprime i Codici di Risposta</p></li><li><p>Switch 4: GIÙ - Nessun echo, comandi offline</p></li><li><p>Switch 5: SU - Auto risposta</p></li><li><p>Switch 6: SU - Carrier Detect Normale</p></li><li><p>Switch 7: SU - Carica i valori predefiniti dall’NVRAM</p></li><li><p>Switch 8: N/D (Modalità intelligente/modalità stupida)</p></li></ul></div><div class=paragraph><p>I codici di risposta dovrebbero essere disabilitati/soppressi per i modem chiamanti per evitare i problemi che possono capitare se <code>getty</code> dà incidentalmente un prompt <code>login:</code> ad un modem che si trova in modalità di comando ed il modem restituisce l’eco del comando o un codice di risposta. Questa sequenza può portare ad una lunga, stupida conversazione tra <code>getty</code> ed il modem.</p></div><div class=sect4><h5 id=_configurazione_a_velocità_fissa_3>24.4.5.1. Configurazione a Velocità Fissa<a class=anchor href=#_configurazione_a_velocità_fissa_3></a></h5><div class=paragraph><p>Per una configurazione a velocità fissa, avrai bisogno di configurare il modem affinché mantenga una frequenza dati da modem a computer indipendente dalla frequenza di comunicazione. Su un modem esterno U.S. Robotics® Sportster® 14.400 questi comandi bloccheranno la velocità dati tra modem e computer alla velocità con la quale i comandi sono stati inviati:</p></div><div class="literalblock programlisting"><div class=content><pre>ATZ
AT&amp;B1&amp;W</pre></div></div></div><div class=sect4><h5 id=_configurazione_a_velocità_concordata_3>24.4.5.2. Configurazione a Velocità Concordata<a class=anchor href=#_configurazione_a_velocità_concordata_3></a></h5><div class=paragraph><p>Per una configurazione a velocità concordata, sarà necessario configurare il modem affinché modifichi la frequenza dei dati della porta seriale relativamente alla velocità di arrivo. Su un modem esterno U.S. Robotics® Sportster® 14.400, questi comandi causeranno il blocco della frequenza di trasmissione dati con correzione d’errore del modem sulla velocità con il quale è stato inviato il comando, ma permetteranno variazioni della velocità della porta seriale per le connessioni senza correzione d’errore:</p></div><div class="literalblock programlisting"><div class=content><pre>ATZ
AT&amp;B2&amp;W</pre></div></div></div><div class=sect4><h5 id=_verifica_della_configurazione_del_modem>24.4.5.3. Verifica della Configurazione del Modem<a class=anchor href=#_verifica_della_configurazione_del_modem></a></h5><div class=paragraph><p>La maggior parte dei modem ad alta velocità fornisce comandi per verificare i parametri funzionali usati dal modem in maniera più o meno comprensibile. Sui modem esterni U.S. Robotics® Sportster® 14.400, il comando <code>ATI5</code> mostra le impostazioni che sono immagazzinate nella RAM non volatile. Per vedere i veri parametri operativi del modem (così come vengono influenzati dai DIP switch del modem), usa i comandi <code>ATZ</code> e <code>ATI4</code>.</p></div><div class=paragraph><p>Se hai modem di marche differenti, verifica il manuale del tuo modem per vedere come sia possibile un ulteriore controllo sui parametri di configurazione del modem.</p></div></div></div><div class=sect3><h4 id=_risoluzione_dei_problemi_4>24.4.6. Risoluzione dei Problemi<a class=anchor href=#_risoluzione_dei_problemi_4></a></h4><div class=paragraph><p>Questi sono un po' di passi che è possibile seguire per verificare il funzionamento del modem sul tuo sistema.</p></div><div class=sect4><h5 id=_verifica_del_sistema_freebsd>24.4.6.1. Verifica del Sistema FreeBSD<a class=anchor href=#_verifica_del_sistema_freebsd></a></h5><div class=paragraph><p>Collega il modem al sistema FreeBSD, avvia il sistema, e, se il tuo modem ha luci di indicazione dello stato, guarda se la luce DTR del modem si accende quando appare il prompt <code>login:</code> sulla console del sistema - se si accende, dovrebbe significare che FreeBSD ha avviato un processo <code>getty</code> sulla porta di comunicazione appropriata e sta aspettando una chiamata dal modem.</p></div><div class=paragraph><p>Se l’indicatore DTR non lampeggia, effettua il login sul sistema FreeBSD dalla console e dai il comando <code>ps ax</code> per verificare se FreeBSD sta cercando di eseguire un processo <code>getty</code> sulla porta corretta. Dovresti vedere linee come queste tra i processi mostrati:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>114 ??  I      0:00.10 /usr/libexec/getty V19200 ttyd0
115 ??  I      0:00.10 /usr/libexec/getty V19200 ttyd1</code></pre></div></div><div class=paragraph><p>Se vedi qualcosa di diverso, come questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>114 d0  I      0:00.10 /usr/libexec/getty V19200 ttyd0</code></pre></div></div><div class=paragraph><p>ed il modem non ha ancora accettato chiamate, ciò significa che <code>getty</code> ha completato l’apertura della porta di comunicazione. Questo potrebbe indicare un problema nei cavi o un modem mal configurato, poiché <code>getty</code> non dovrebbe completare l’apertura della porta fino al rilevamento del segnale CD (carrier detect).</p></div><div class=paragraph><p>Se non vedi nessun processo <code>getty</code> in attesa sulla porta <span class=filename>ttydN</span> scelta, ricontrolla le voci in <span class=filename>/etc/ttys</span> per vedere se ci sono errori lì. Inoltre, controlla il file di log <span class=filename>/var/log/messages</span> per vedere se ci sono messaggi di <code>init</code> o <code>getty</code> riguardo i loro problemi. Se ci sono messaggi, ri-ricontrolla i file di configurazione <span class=filename>/etc/ttys</span> e <span class=filename>/etc/gettytab</span>, ed anche i file speciali di dispositivo <span class=filename>/dev/ttydN</span>, cercando ogni errore, voce mancante, o file di dispositivo mancante.</p></div></div><div class=sect4><h5 id=_tentativo_di_connessione_in_ingresso>24.4.6.2. Tentativo di Connessione in Ingresso<a class=anchor href=#_tentativo_di_connessione_in_ingresso></a></h5><div class=paragraph><p>Cerca di collegarti dall’esterno al sistema; assicurati di usare 8 bit, nessuna parità, e 1 bit di stop sul sistema remoto. Se non ottieni un prompt, o vengono visualizzati caratteri strani, prova a premere Invio circa una volta per secondo. Se dopo un po' ancora non vedi un prompt <code>login:</code>, prova inviare un'`INTERRUZIONE`. Se stai usando un modem ad alta velocità per effettuare la chiamata, prova a richiamare dopo aver bloccato la velocità dell’interfaccia del modem (tramite <code>AT&amp;B1</code> su un U.S. Robotics® Sportster®, ad esempio).</p></div><div class=paragraph><p>Se ancora non ottieni alcun prompt <code>login:</code>, verifica <span class=filename>/etc/gettytab</span> ancora e ricontrolla che:</p></div><div class=ulist><ul><li><p>La capacità iniziale specificata in <span class=filename>/etc/ttys</span> per quella linea corrisponda a quella in <span class=filename>/etc/gettytab</span></p></li><li><p>Ogni campo <code>nx=</code> corrisponda ad un valore in <span class=filename>gettytab</span></p></li><li><p>Ogni campo <code>tc=</code> corrisponda a un altro nome di capacità in <span class=filename>gettytab</span></p></li></ul></div><div class=paragraph><p>Se chiami ma il modem su FreeBSD non risponde, assicurati che il modem sia configurato per rispondere alla chiamata quando viene fornito un segnale DTR. Se il modem sembra essere configurato correttamente, verifica che la linea DTR sia attiva controllando gli indicatori luminosi del modem (se ne ha).</p></div><div class=paragraph><p>Se hai già controllato tutto quanto più volte ed ancora non funziona, fai una pausa e riprova in seguito. Se ancora non funziona puoi provare a inviare un messaggio di posta elettronica alla <a href=https://lists.FreeBSD.org/subscription/freebsd-questions>mailing list per le domande generiche su FreeBSD</a> descrivendo il tuo modem ed il tuo problema, e i bravi ragazzi della lista cercheranno di darti una mano.</p></div></div></div></div><div class=sect2><h3 id=dialout>24.5. Servizio di Effettuazione Chiamate<a class=anchor href=#dialout></a></h3><div class=paragraph><p>I seguenti sono consigli per far sì che la tua macchina sia in grado di connettersi tramite modem ad un altro computer. Questo è appropriato per stabilire una sessione terminale con un host remoto.</p></div><div class=paragraph><p>Questo è utile per collegarsi ad una BBS.</p></div><div class=paragraph><p>Questo tipo di connessione può essere estremamente utile per ottenere un file da Internet se hai problemi con il PPP. Se hai bisogno di usare l’FTP ed il PPP non funziona, usa la sessione terminale per eseguire l’FTP. Poi usa zmodem per trasferire il file sulla tua macchina.</p></div><div class=sect3><h4 id=_il_mio_modem_hayes_stock_non_è_supportato_cosa_posso_fare>24.5.1. Il Mio Modem Hayes Stock Non È Supportato, Cosa Posso Fare?<a class=anchor href=#_il_mio_modem_hayes_stock_non_è_supportato_cosa_posso_fare></a></h4><div class=paragraph><p>Effettivamente, la pagina man di <code>tip</code> è un po' datata. C’è un compositore Hayes generico già integrato. Usa semplicemente <code>at=hayes</code> nel tuo <span class=filename>/etc/remote</span> file.</p></div><div class=paragraph><p>Il driver Hayes non è abbastanza intelligente da riconoscere alcune delle caratteristiche avanzate dei nuovi modem-messaggi come <code>BUSY</code>, <code>NO DIALTONE</code>, o <code>CONNECT 115200</code> lo confonderanno e basta. Dovrai disattivare questi messaggi quando usate <code>tip</code> (usando <code>ATX0&amp;W</code>).</p></div><div class=paragraph><p>Inoltre, il timeout di composizione per <code>tip</code> è di 60 secondi. Il tuo modem dovrebbe usare qualcosa di meno, altrimenti tip penserà che ci sia un problema di comunicazione. Prova <code>ATS7=45&amp;W</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Come viene fornito, <code>tip</code> non supporta ancora i modem Hayes completamente. La soluzione è modificare il file <span class=filename>tipconf.h</span> nella directory <span class=filename>/usr/src/usr.bin/tip/tip</span>. Ovviamente avrai bisogno della distribuzione con i sorgenti per fare ciò.</p></div><div class=paragraph><p>Modifica la linea <code>#define HAYES 0</code> a <code>#define HAYES 1</code>. Poi dai i comandi <code>make</code> e <code>make install</code>. Tutto funziona bene dopo aver fatto questo.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=direct-at>24.5.2. Come Dovrei Inserire Questi Comandi AT?<a class=anchor href=#direct-at></a></h4><div class=paragraph><p>Inserisci quella che viene definita una voce "diretta" nel file <span class=filename>/etc/remote</span>. Ad esempio, se il tuo modem è collegato alla prima porta seriale, <span class=filename>/dev/cuad0</span>, allora inserisci la riga seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>cuad0:dv=/dev/cuad0:br#19200:pa=none</pre></div></div><div class=paragraph><p>Usa la frequenza di bps più alta supportata dal tuo modem per il valore di br. Poi, digita <code>tip cuad0</code> e verrai connesso al tuo modem.</p></div><div class=paragraph><p>O usa <code>cu</code> come <code>root</code> con il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cu -llinea -s velocità</span></code></pre></div></div><div class=paragraph><p><em>linea</em> è la porta seriale (es. <span class=filename>/dev/cuad0</span>) e <em>velocità</em> è la velocità (es. <code>57600</code>). Quando hai finito di inserire i comandi AT premi <kbd>~.</kbd> per uscire.</p></div></div><div class=sect3><h4 id=_il_simbolo_per_il_valore_pn_non_funziona>24.5.3. Il Simbolo <code>@</code> per il Valore pn Non Funziona!<a class=anchor href=#_il_simbolo_per_il_valore_pn_non_funziona></a></h4><div class=paragraph><p>Il simbolo <code>@</code> come valore del numero telefonico dice a tip di andare a cercare un numero telefonico in <span class=filename>/etc/phones</span>. Ma il segno <code>@</code> è anche un carattere speciale nei file come <span class=filename>/etc/remote</span>. Devi farne l’escape con un backslash:</p></div><div class="literalblock programlisting"><div class=content><pre>pn=\@</pre></div></div></div><div class=sect3><h4 id=_come_posso_chiamare_un_numero_telefonico_da_riga_di_comando>24.5.4. Come Posso Chiamare Un Numero Telefonico Da Riga di Comando?<a class=anchor href=#_come_posso_chiamare_un_numero_telefonico_da_riga_di_comando></a></h4><div class=paragraph><p>Metti una cosiddetta voce "generica" in <span class=filename>/etc/remote</span>. Ad Esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>tip115200|Chiama un qualunque numero a 115200 bps:\
        :dv=/dev/cuad0:br#115200:at=hayes:pa=none:du:
tip57600|Chiama un qualunque numero a 57600 bps:\
        :dv=/dev/cuad0:br#57600:at=hayes:pa=none:du:</pre></div></div><div class=paragraph><p>Poi puoi fare una cosa simile:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># tip -115200 5551234</span></code></pre></div></div><div class=paragraph><p>Se preferisci <code>cu</code> a <code>tip</code>, usa una voce generica per <code>cu</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>cu115200|Usa cu per chiamare un numero qualsiasi a 115200bps:\
        :dv=/dev/cuad1:br#57600:at=hayes:pa=none:du:</pre></div></div><div class=paragraph><p>e digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cu 5551234 -s 115200</span></code></pre></div></div></div><div class=sect3><h4 id=_devo_digitare_la_frequenza_di_bps_ogni_volta_che_lo_faccio>24.5.5. Devo Digitare La Frequenza di bps Ogni Volta Che lo Faccio?<a class=anchor href=#_devo_digitare_la_frequenza_di_bps_ogni_volta_che_lo_faccio></a></h4><div class=paragraph><p>Metti una voce per <code>tip1200</code> o <code>cu1200</code>, ma vai avanti e inserisci una qualunque frequenza di bps appropriata per il valore di br. <code>tip</code> pensa che un buon valore predefinito sia 1200 bps, motivo per cui cerca una voce per <code>tip1200</code>. Non sei obbligato a usare 1200 bps, comunque.</p></div></div><div class=sect3><h4 id=_accedo_ad_un_grande_numero_di_host_attraverso_un_server_di_terminali>24.5.6. Accedo ad un Grande Numero di Host attraverso un Server di Terminali<a class=anchor href=#_accedo_ad_un_grande_numero_di_host_attraverso_un_server_di_terminali></a></h4><div class=paragraph><p>Invece di aspettare fino ad essere connesso e poi digitare <code>CONNECT &lt;host></code> ogni volta, usa la funzionalità <code>cm</code> di tip. Ad esempio, queste voci in <span class=filename>/etc/remote</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>pain|pain.deep13.com|La macchina di Forrester:\
        :cm=CONNECT pain\n:tc=deep13:
muffin|muffin.deep13.com|La macchina di Frank:\
        :cm=CONNECT muffin\n:tc=deep13:
deep13:Server di terminali del Gizmonics Institute:\
        :dv=/dev/cuad2:br#38400:at=hayes:du:pa=none:pn=5551234:</pre></div></div><div class=paragraph><p>ti permetteranno di digitare <code>tip pain</code> o <code>tip muffin</code> per collegarti agli host pain o muffin, e <code>tip deep13</code> per il server di terminali.</p></div></div><div class=sect3><h4 id=_tip_può_provare_più_di_una_linea_per_ogni_sito>24.5.7. Tip Può Provare Più di una Linea per ogni Sito?<a class=anchor href=#_tip_può_provare_più_di_una_linea_per_ogni_sito></a></h4><div class=paragraph><p>Questo è spesso un problema quando una università ha molte linee di modem e molte migliaia di studenti cercano di usarle.</p></div><div class=paragraph><p>Inserisci una voce per la tua università in <span class=filename>/etc/remote</span> e usa <code>@</code> per il campo <code>pn</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>big-university:\
        :pn=\@:tc=dialout
dialout:\
        :dv=/dev/cuad3:br#9600:at=courier:du:pa=none:</pre></div></div><div class=paragraph><p>Poi, elenca i numeri di telefono dell’università in <span class=filename>/etc/phones</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>big-university 5551111
big-university 5551112
big-university 5551113
big-university 5551114</pre></div></div><div class=paragraph><p><code>tip</code> proverà ognuno di questi secondo l’ordine, poi smetterà. Se vuoi continuare a riprovare, esegui <code>tip</code> in un ciclo while.</p></div></div><div class=sect3><h4 id=_perché_devo_premere_ctrlp_due_volte_per_inviare_un_solo_ctrlp>24.5.8. Perché Devo Premere <span class=keyseq><kbd>Ctrl</kbd>+<kbd>P</kbd></span> Due Volte per Inviare Un Solo <span class=keyseq><kbd>Ctrl</kbd>+<kbd>P</kbd></span>?<a class=anchor href=#_perché_devo_premere_ctrlp_due_volte_per_inviare_un_solo_ctrlp></a></h4><div class=paragraph><p><span class=keyseq><kbd>Ctrl</kbd>+<kbd>P</kbd></span> è il carattere predefinito per "forzare", usato per dire a <code>tip</code> che il prossimo carattere è un dato letterale. Puoi impostare il carattere per forzare a qualsiasi altro carattere con il comando di escape <code>~s</code>, che significa "imposta una variabile".</p></div><div class=paragraph><p>Digita <code>~sforce=singolo-carattere</code> seguito da un ritorno a capo. <em>singolo-carattere</em> è un qualsiasi carattere singolo. Se non date nessun <em>singolo-carattere</em>, allora il carattere per forzare sarà il carattere nullo, che è possibile ottenere premendo <span class=keyseq><kbd>Ctrl</kbd>+<kbd>2</kbd></span> o <span class=keyseq><kbd>Ctrl</kbd>+<kbd>Spazio</kbd></span>. Un valore abbastanza buono per il <em>singolo-carattere</em> è <span class=keyseq><kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>6</kbd></span>, che è usato solo da alcuni server di terminali.</p></div><div class=paragraph><p>Potete far sì che il carattere per forzare sia un qualsiasi carattere vogliate specificando la riga seguente nel file <span class=filename>$HOME/.tiprc</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>force=&lt;singolo-carattere&gt;</pre></div></div></div><div class=sect3><h4 id=_improvvisamente_tutto_quello_che_digito_è_in_maiuscolo>24.5.9. Improvvisamente Tutto Quello che Digito È in Maiuscolo??<a class=anchor href=#_improvvisamente_tutto_quello_che_digito_è_in_maiuscolo></a></h4><div class=paragraph><p>Devi aver premuto <span class=keyseq><kbd>Ctrl</kbd>+<kbd>A</kbd></span>, il "raise character", di <code>tip</code> progettato specificamente per le persone con il tasto caps-lock rotto. Usa <code>~s</code> come mostrato prima per impostare la variabile <code>raisechar</code> a qualcosa di ragionevole. In pratica, puoi impostarla allo stesso valore del carattere per forzare, se pensi di non usare mai queste due caratteristiche.</p></div><div class=paragraph><p>Qui c’è un file .tiprc di esempio per gli utenti Emacs che hanno bisogno di premere <span class=keyseq><kbd>Ctrl</kbd>+<kbd>2</kbd></span> e <span class=keyseq><kbd>Ctrl</kbd>+<kbd>A</kbd></span> molto spesso:</p></div><div class="literalblock programlisting"><div class=content><pre>force=^^
raisechar=^^</pre></div></div><div class=paragraph><p>Il carattere ^^ è <span class=keyseq><kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>6</kbd></span>.</p></div></div><div class=sect3><h4 id=_come_posso_trasferire_file_con_tip>24.5.10. Come Posso Trasferire File con <code>tip</code>?<a class=anchor href=#_come_posso_trasferire_file_con_tip></a></h4><div class=paragraph><p>Se stai parlando ad altri sistemi UNIX®, puoi mandare e ricevere file con <code>~p</code> (put) e <code>~t</code> (take). Questi comandi eseguono <code>cat</code> ed <code>echo</code> sul sistema remoto per accettare e inviare file. La sintassi è:</p></div><div class=paragraph><p><code>~p</code> file-locale [ file-remoto ]</p></div><div class=paragraph><p><code>~t</code> file-remoto [ file-locale ]</p></div><div class=paragraph><p>non c’è controllo d’errore, quindi probabilmente dovresti usare un altro protocollo, come zmodem.</p></div></div><div class=sect3><h4 id=_come_posso_eseguire_zmodem_con_tip>24.5.11. Come Posso Eseguire zmodem con <code>tip</code>?<a class=anchor href=#_come_posso_eseguire_zmodem_con_tip></a></h4><div class=paragraph><p>Per ricevere file, avvia il programma di invio sul lato remoto. Poi, digita <code>~C rz</code> per iniziare a ricevere in locale.</p></div><div class=paragraph><p>Per inviare file, avvia il programma di ricezione sul lato remoto. Poi, digita <code>~C sz files</code> per inviarli sul sistema remoto.</p></div></div></div><div class=sect2><h3 id=serialconsole-setup>24.6. Impostazione della Console Seriale<a class=anchor href=#serialconsole-setup></a></h3><div class=sect3><h4 id=serialconsole-intro>24.6.1. Introduzione<a class=anchor href=#serialconsole-intro></a></h4><div class=paragraph><p>FreeBSD ha la capacità di avviare un sistema con soltanto un terminale stupido su porta seriale come console. Una configurazione simile dovrebbe essere utile per due tipi di persone: amministratori di sistema che desiderano installare FreeBSD su macchine che non hanno tastiera o monitor connesso, e sviluppatori che vogliono effettuare il debug del kernel o dei driver.</p></div><div class=paragraph><p>Come descritto nel <a href=./#boot>La Procedura di Avvio</a>, FreeBSD implementa un avviamento composto da tre stadi. I primi due stadi sono nel blocco di avvio che viene immagazzinato all’inizio della slice di FreeBSD sul disco d’avvio. Il blocco di avvio poi carica ed avvia il loader (<span class=filename>/boot/loader</span>) come terzo stadio.</p></div><div class=paragraph><p>Per poter impostare la console seriale devi configurare il codice del blocco di avvio, il codice del loader ed il kernel.</p></div></div><div class=sect3><h4 id=serialconsole-howto-fast>24.6.2. Configurazione della Console Seriale, Versione Essenziale<a class=anchor href=#serialconsole-howto-fast></a></h4><div class=paragraph><p>Questa sezione presuppone che stai usando una configurazione di default e vuoi solamente una veloce panoramica su come abilitare una console seriale.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Connetti il cavo seriale alla COM1 e al terminale.</p></li><li><p>Per vedere tutti i messaggi di boot sulla console seriale, dai il comando seguente mentre sei loggato come superuser:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#39;console=&#34;comconsole&#34;&#39; &gt;&gt; /boot/loader.conf</span></code></pre></div></div></li><li><p>Modifica il file <span class=filename>/etc/ttys</span> e cambia <code>off</code> in <code>on</code> e <code>dialup</code> in <code>vt100</code> per l’entry <code>ttyd0</code>. Altrimenti non verrà chiesta la password per connettersi via console seriale, con il risultato di creare un potenziale buco di sicurezza.</p></li><li><p>Riavvia il sistema per vedere se i cambiamenti funzionano.</p></li></ol></div></div></div><div class=paragraph><p>Se si necessita di una diversa configurazione, esiste una spiegazione maggiormente dettagliata nella sezione <a href=#serialconsole-howto>Configurazione della Console Seriale</a>.</p></div></div><div class=sect3><h4 id=serialconsole-howto>24.6.3. Configurazione della Console Seriale<a class=anchor href=#serialconsole-howto></a></h4><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Preparazione di un cavo seriale.</p><div class=paragraph><p>Avrai bisogno di un cavo null-modem o di un cavo seriale standard ed un adattatore null-modem. Guarda <a href=#serial-cables-ports>Cavi e Porte</a> per una discussione sui cavi seriali.</p></div></li><li><p>Scollegamento della tastiera.</p><div class=paragraph><p>La maggior parte dei sistemi PC verifica la presenza di una tastiera durante il Power-On Self-Test (POST) e dà un errore se la tastiera non viene rilevata. Alcune macchine si lamentano parecchio per la mancanza della tastiera e non proseguono l’avvio finché non viene collegata.</p></div><div class=paragraph><p>Se il tuo computer si lamenta per questo errore, ma si avvia lo stesso, allora non devi fare nulla di speciale. (Alcune macchine con BIOS Phoenix semplicemente dicono <code>Keyboard failed</code> e continuano ad avviarsi normalmente).</p></div><div class=paragraph><p>Se il tuo computer rifiuta di avviarsi senza la tastiera allora dovrai configurare il BIOS affinché ignori questo errore (se possibile). Consulta il manuale della tua scheda madre per maggiori dettagli su come fare ciò.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Imposta la tastiera su "Non installata" nel setup del BIOS. Sarai ancora in grado di usare la tastiera. Tutto quel che fa è dire al BIOS di non verificare la presenza di una tastiera all’accensione. Il tuo BIOS non dovrebbe segnalare che la tastiera non è collegata. Puoi lasciare la tastiera collegata anche con questa opzione impostata a "Non installata" e la tastiera funzionerà lo stesso.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se il tuo sistema ha un mouse PS/2®, le possibilità di dover scollegare il mouse allo stesso modo della tastiera sono alte. Questo perché i mouse PS/2® condividono dell’hardware con la tastiera e lasciando il mouse collegato potresti ingannare la verifica della tastiera facendogli credere che sia ancora presente. Si dice che il sistema Gateway 2000 Pentium 90 MHz con BIOS AMI funzioni così. In generale, questo non è un problema perché il mouse non è comunque particolarmente utile senza la tastiera.</p></div></td></tr></tbody></table></div></li><li><p>Collegamento di un terminale stupido alla <span class=filename>COM1</span> (<span class=filename>sio0</span>).</p><div class=paragraph><p>Se non possiedi un terminale stupido, puoi usare un vecchio PC/XT con un programma per modem, o la porta seriale di un altra macchina UNIX®. Se non hai una <span class=filename>COM1</span> (<span class=filename>sio0</span>), trovane una. Attualmente, non c’è altro modo di scegliere una porta diversa dalla <span class=filename>COM1</span> per i blocco di avvio senza doverlo ricompilare. Se stai già usando la <span class=filename>COM1</span> per un altro dispositivo, dovrai rimuoverlo temporaneamente ed installare un nuovo blocco di avvio ed un nuovo kernel una volta che FreeBSD sia funzionante. (Si assume che la <span class=filename>COM1</span> sia sempre disponibile su un server di file/calcolo/terminali; se davvero hai bisogno della <span class=filename>COM1</span> per qualcos’altro (e non puoi passare quel qualcosa alla <span class=filename>COM2</span> (<span class=filename>sio1</span>)), allora probabilmente non dovresti nemmeno avere a che fare con tutto questo in primo luogo).</p></div></li><li><p>Assicurati che il file di configurazione del tuo kernel abbia i parametri appropriati impostati per la <span class=filename>COM1</span> (<span class=filename>sio0</span>).</p><div class=paragraph><p>I parametri rilevanti sono:</p></div><div class=dlist><dl><dt class=hdlist1><code>0x10</code></dt><dd><p>Abilita il supporto alla console per questa unità. Gli altri parametri di console sono ignorati se non è fissato questo. Attualmente, al massimo un’unità può avere il supporto alla console; verrà preferita la prima (secondo l’ordine nel file di configurazione) con questo parametro. Questa opzione non renderà la porta seriale la console. Imposta il parametro seguente o usa l’opzione <code>-h</code> descritta più in basso, insieme a questa impostazione.</p></dd><dt class=hdlist1><code>0x20</code></dt><dd><p>Forza questa unità ad essere la console (a meno che sia presente un’altra console con priorità più alta), trascurando l’opzione <code>-h</code> discussa precedentemente. Il parametro <code>0x20</code> deve essere usato insieme al <code>0x10</code>.</p></dd><dt class=hdlist1><code>0x40</code></dt><dd><p>Riserva questa unità (insieme a <code>0x10</code>) e rende l’unità indisponibile per l’accesso normale. Non dovresti impostare questo parametro sull’unità della porta seriale che desideri usare come console seriale. L’unico uso di questo parametro è per designare l’unità per il debug remoto del kernel. Guarda il <a href=https://docs.freebsd.org/en/books/developers-handbook/>Developer’s Handbook</a> per maggiori informazioni sul debugging remoto.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In FreeBSD 4.0 o successivo, la semantica del parametro <code>0x40</code> è leggermente differente e c’è un altro parametro per specificare una porta seriale per il debug remoto.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>device sio0 at isa? port IO_COM1 flags 0x10 irq 4</pre></div></div><div class=paragraph><p>Guarda la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=sio&amp;sektion=4&amp;format=html">sio(4)</a> per maggiori dettagli.</p></div><div class=paragraph><p>Se i parametri non sono stati impostati, sarà necessario eseguire UserConfig (su una console differente) o ricompilare il kernel.</p></div></dd></dl></div></li><li><p>Creazione di <span class=filename>boot.config</span> nella directory radice della partizione <code>a</code> nel disco di avvio.</p><div class=paragraph><p>Questo file istruirà il codice del blocco di avvio su come vuoi avviare il sistema. Per poter attivare la console seriale, avrai bisogno di una o più delle seguenti opzioni-se vuoi opzioni multiple, includile tutte sulla stessa linea:</p></div><div class=dlist><dl><dt class=hdlist1><code>-h</code></dt><dd><p>Passa dalla console interna a quella seriale. Puoi usarla per cambiare i dispositivi console. Ad esempio, se avvii dalla console interna (video), puoi usare <code>-h</code> per dirigere il loader ed il kernel in modo che usino la porta seriale come dispositivo per la console. Alternativamente, se avvii da porta seriale, puoi usare l’opzione <code>-h</code> per dire al loader ed al kernel di usare lo schermo come console.</p></dd><dt class=hdlist1><code>-D</code></dt><dd><p>Passa da una configurazione singola a una duplice. Nella configurazione singola la console sarà o quella interna (il display video) o la porta seriale, a seconda dello stato dell’opzione <code>-h</code> già descritta. Nella configurazione duplice, sia il display video che la porta seriale diventeranno la console allo stesso momento, senza curarsi dello stato dell’opzione <code>-h</code>. Ad ogni modo, nota che questa configurazione duplice ha effetto solo durante l’esecuzione del blocco di avvio. Una volta che il loader ha assunto il controllo, la console specificata da <code>-h</code> diventa l’unica.</p></dd><dt class=hdlist1><code>-P</code></dt><dd><p>Fa sì che il blocco di avvio verifichi la presenza della tastiera. Se non ne viene rilevata nessuna, le opzioni <code>-D</code> e <code>-h</code> vengono impostate automaticamente.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A causa delle costrizioni relative allo spazio nelle versioni attuali del blocco di avvio, l’opzione <code>-P</code> è in grado di riconoscere solo le tastiere estese. Le tastiere con meno di 101 tasti (e senza i tasti F11 e F12) potrebbero non essere rilevate. Le tastiere su alcuni computer portatili potrebbero non essere rilevate a causa di questa limitazione. Se questo è il caso del tuo sistema, devi abbandonare l’opzione <code>-P</code>. Sfortunatamente non c’è nessun metodo per aggirare questo problema.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Usa l’opzione <code>-P</code> per selezionare la console automaticamente, o l’opzione <code>-h</code> per attivare la console seriale.</p></div><div class=paragraph><p>Puoi includere altre opzioni come descritte in <a href="https://man.freebsd.org/cgi/man.cgi?query=boot&amp;sektion=8&amp;format=html">boot(8)</a>.</p></div><div class=paragraph><p>Le opzioni, eccetto <code>-P</code>, verranno passate al loader (<span class=filename>/boot/loader</span>). Il loader determinerà quale tra il video interno o la console seriale debba diventare la console esaminando lo stato dell’opzione <code>-h</code>. Ciò significa che se specifichi l’opzione <code>-D</code> ma non la <code>-h</code> in <span class=filename>/boot.config</span>, puoi usare la porta seriale come console soltanto durante l’esecuzione del blocco di avvio; il loader userà il video interno come console.</p></div></dd></dl></div></li><li><p>Avviamento della macchina.</p><div class=paragraph><p>Quando avvii la tua macchina FreeBSD, il blocco di avvio scriverà il contenuto di <span class=filename>/boot.config</span> sulla console. Ad esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>/boot.config: <span class=nt>-P</span>
Keyboard: no</code></pre></div></div><div class=paragraph><p>La seconda linea appare solo se metti l’opzione <code>-P</code> in <span class=filename>/boot.config</span> ed indichi la presenza/assenza della tastiera. Questo messaggio va alla console seriale o a quella interna, o a entrambe, a seconda dell’opzione in <span class=filename>/boot.config</span>.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Opzioni</th><th class="tableblock halign-left valign-top">I messaggi vanno a</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>nessuna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>console interna</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-h</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>console seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-D</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>console seriale ed interna</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-Dh</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>console seriale ed interna</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-P</code>, tastiera presente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>console interna</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-P</code>, tastiera assente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>console seriale</p></td></tr></tbody></table><div class=paragraph><p>Dopo i messaggi precedenti, ci sarà una piccola pausa prima che il blocco di avvio continui nel caricamento del loader e prima che ulteriori messaggi vengano scritti sulla console. In circostanze normali, non hai necessità di interrompere il blocco di avvio, ma potresti volerlo fare per verificare che tutto sia impostato correttamente.</p></div><div class=paragraph><p>Premi un tasto qualsiasi, differente da Invio, alla console per interrompere il processo di avvio. Il blocco di avvio aspetterà ulteriori azioni. Dovresti vedere qualcosa del genere:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=o>&gt;&gt;</span> FreeBSD/i386 BOOT
Default: 0:ad<span class=o>(</span>0,a<span class=o>)</span>/boot/loader
boot:</code></pre></div></div><div class=paragraph><p>Verifica se il messaggio precedente appare sulla console seriale o su quella interna o su entrambe, secondo le opzioni poste in <span class=filename>/boot.config</span>. Se il messaggio appare nella console corretta, premi Invio per continuare il processo di avvio.</p></div><div class=paragraph><p>Se vuoi la console seriale ma non riesci a vedere il prompt sul terminale seriale, qualcosa è sbagliato nelle tue impostazioni. Nel frattempo, scrivi <code>-h</code> e premi Invio (se possibile) per dire al blocco di avvio (e al loader e al kernel) di scegliere la porta seriale per la console. Una volta che il sistema è attivo, torna indietro e verifica cosa è andato storto.</p></div></li></ol></div></div></div><div class=paragraph><p>Dopo che il loader è stato caricato e ti trovi nel terzo stadio del processo di avvio puoi ancora passare dalla console interna alla console seriale impostando le variabili d’ambiente appropriate nel loader. Guarda la <a href=#serialconsole-loader>Cambiamento della Console dal Loader</a>.</p></div></div><div class=sect3><h4 id=serialconsole-summary>24.6.4. Sommario<a class=anchor href=#serialconsole-summary></a></h4><div class=paragraph><p>Qui c’è il sommario delle varie impostazioni discusse in questa sezione e la console eventualmente selezionata.</p></div><div class=sect4><h5 id=_caso_1_imposti_il_flag_0x10_per_sio0>24.6.4.1. Caso 1: Imposti il Flag 0x10 per <span class=filename>sio0</span><a class=anchor href=#_caso_1_imposti_il_flag_0x10_per_sio0></a></h5><div class="literalblock programlisting"><div class=content><pre>device sio0 at isa? port IO_COM1 flags 0x10 irq 4</pre></div></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Opzioni in /boot.config</th><th class="tableblock halign-left valign-top">Console durante i blocco di avvio</th><th class="tableblock halign-left valign-top">Console durante il loader</th><th class="tableblock halign-left valign-top">Console nel kernel</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>niente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-h</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-D</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale ed interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-Dh</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale ed interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-P</code>, tastiera presente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-P</code>, tastiera assente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale ed interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr></tbody></table></div><div class=sect4><h5 id=_caso_2_imposti_il_flag_0x30_per_sio0>24.6.4.2. Caso 2: Imposti il Flag 0x30 per sio0<a class=anchor href=#_caso_2_imposti_il_flag_0x30_per_sio0></a></h5><div class="literalblock programlisting"><div class=content><pre>device sio0 at isa? port IO_COM1 flags 0x30 irq 4</pre></div></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Opzioni in /boot.config</th><th class="tableblock halign-left valign-top">Console durante i blocco di avvio</th><th class="tableblock halign-left valign-top">Console durante il loader</th><th class="tableblock halign-left valign-top">Console nel kernel</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>niente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-h</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-D</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale ed interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-Dh</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale ed interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-P</code>, tastiera presente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>-P</code>, tastiera assente</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale ed interna</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>seriale</p></td></tr></tbody></table></div></div><div class=sect3><h4 id=serialconsole-tips>24.6.5. Consigli per una Console Seriale<a class=anchor href=#serialconsole-tips></a></h4><div class=sect4><h5 id=_impostazione_di_una_velocità_maggiore_della_porta_seriale>24.6.5.1. Impostazione di una Velocità Maggiore della Porta Seriale<a class=anchor href=#_impostazione_di_una_velocità_maggiore_della_porta_seriale></a></h5><div class=paragraph><p>Di default, le impostazioni della porta seriale sono: 9600 baud, 8 bit, nessuna parità, ed 1 bit di stop. Se desideri cambiare la velocità, avrai bisogno di ricompilare almeno il blocco di avvio. Aggiungi la linea seguente a <span class=filename>/etc/make.conf</span> e compila il nuovo blocco di avvio:</p></div><div class="literalblock programlisting"><div class=content><pre>BOOT_COMCONSOLE_SPEED=19200</pre></div></div><div class=paragraph><p>Guarda <a href=#serialconsole-com2>Utilizzo di una Porta Seriale Differente da <span class=filename>sio0</span> per la Console</a> per istruzioni dettagliate su come costruire e installare nuovi blocchi di avvio.</p></div><div class=paragraph><p>Se la console seriale è configurata in qualche altra maniera invece di essere selezionata all’avvio con <code>-h</code>, o se la console seriale usata dal kernel è differente da quella usata dal blocco di avvio, allora dovrai aggiungere anche le opzioni seguenti al file di configurazione del kernel e compilare un nuovo kernel:</p></div><div class="literalblock programlisting"><div class=content><pre>options CONSPEED=19200</pre></div></div></div><div class=sect4><h5 id=serialconsole-com2>24.6.5.2. Utilizzo di una Porta Seriale Differente da <span class=filename>sio0</span> per la Console<a class=anchor href=#serialconsole-com2></a></h5><div class=paragraph><p>Usare una porta seriale differente da <span class=filename>sio0</span> come console richiede un po' di ricompilazione. Se vuoi usare un’altra porta seriale per qualche motivo, ricompila il blocco di avvio, il loader ed il kernel come segue.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Ottieni i sorgenti del kernel. (Guarda il <a href=./#cutting-edge>Lo Stato dell’Arte</a>)</p></li><li><p>Modifica <span class=filename>/etc/make.conf</span> e imposta <code>BOOT_COMCONSOLE_PORT</code> all’indirizzo della porta che vuoi usare (0x3F8, 0x2F8, 0x3E8 o 0x2E8). Solo i dispositivi da <span class=filename>sio0</span> a <span class=filename>sio3</span> (<span class=filename>COM1</span> a <span class=filename>COM4</span>) possono essere usati; le schede seriali multiporta non funzioneranno. Non sono necessarie impostazioni per gli interrupt.</p></li><li><p>Crea un file di configurazione del kernel personalizzato e aggiungi i flag appropriati per la porta seriale che intendi usare. Ad esempio, se vuoi fare di <span class=filename>sio1</span> (<span class=filename>COM2</span>) la console:</p><div class="literalblock programlisting"><div class=content><pre>device sio1 at isa? port IO_COM2 flags 0x10 irq 3</pre></div></div><div class=paragraph><p>o</p></div><div class="literalblock programlisting"><div class=content><pre>device sio1 at isa? port IO_COM2 flags 0x30 irq 3</pre></div></div><div class=paragraph><p>I flag di console per le altre porte seriali non dovrebbero essere impostati.</p></div></li><li><p>Ricompila ed installa il blocco di avvio ed il loader:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /sys/boot</span>
<span class=c># make clean</span>
<span class=c># make</span>
<span class=c># make install</span></code></pre></div></div></li><li><p>Ricompila ed installa il kernel.</p></li><li><p>Scrivi il blocco di avvio sul disco di avvio con <a href="https://man.freebsd.org/cgi/man.cgi?query=disklabel&amp;sektion=8&amp;format=html">disklabel(8)</a> ed avvia con il nuovo kernel.</p></li></ol></div></div></div></div><div class=sect4><h5 id=serialconsole-ddb>24.6.5.3. Accesso al Debugger DDB dalla Linea Seriale<a class=anchor href=#serialconsole-ddb></a></h5><div class=paragraph><p>Se desideri entrare nel debugger del kernel dalla console seriale (utile per diagnostiche remote, ma anche molto pericoloso se generi un BREAK spurio sulla porta seriale!) allora dovrai compilare il tuo kernel con le opzioni seguenti:</p></div><div class="literalblock programlisting"><div class=content><pre>options BREAK_TO_DEBUGGER
options DDB</pre></div></div></div><div class=sect4><h5 id=_come_ottenere_un_prompt_di_login_sulla_console_seriale>24.6.5.4. Come Ottenere un Prompt di Login sulla Console Seriale<a class=anchor href=#_come_ottenere_un_prompt_di_login_sulla_console_seriale></a></h5><div class=paragraph><p>Anche se questo non è necessario, potresti desiderare un prompt di <em>login</em> sulla linea seriale, ora che puoi vedere i messaggi di avvio e puoi accedere a sessioni di debug del kernel attraverso la console seriale. Qui è spiegato come fare.</p></div><div class=paragraph><p>Apri il file <span class=filename>/etc/ttys</span> con un editor e trova queste linee:</p></div><div class="literalblock programlisting"><div class=content><pre>ttyd0 &#34;/usr/libexec/getty std.9600&#34; unknown off secure
ttyd1 &#34;/usr/libexec/getty std.9600&#34; unknown off secure
ttyd2 &#34;/usr/libexec/getty std.9600&#34; unknown off secure
ttyd3 &#34;/usr/libexec/getty std.9600&#34; unknown off secure</pre></div></div><div class=paragraph><p>I dispositivi da <code>ttyd0</code> a <code>ttyd3</code> corrispondono a <span class=filename>COM1</span> fino a <span class=filename>COM4</span>. Cambia <code>off</code> a <code>on</code> per la porta desiderata. Se hai cambiato la velocità della porta seriale, dovrai cambiare <code>std.9600</code> affinché corrisponda all’impostazione corrente, ad es. <code>std.19200</code>.</p></div><div class=paragraph><p>Potresti anche desiderare cambiare il tipo di terminale da <code>unknown</code> al tipo effettivo del tuo terminale seriale.</p></div><div class=paragraph><p>Dopo avere modificato il file, devi dare un <code>kill -HUP 1</code> affinché i cambiamenti abbiano effetto.</p></div></div></div><div class=sect3><h4 id=serialconsole-loader>24.6.6. Cambiamento della Console dal Loader<a class=anchor href=#serialconsole-loader></a></h4><div class=paragraph><p>Le sezioni precedenti hanno descritto come impostare la console seriale lavorando sul blocco di avvio. Questa sezione mostra come specificare a console inserendo alcuni comandi ed alcune variabili di ambiente nel loader. Quando il loader verrà invocato al terzo stadio del processo di avvio, dopo il blocco di avvio, le impostazioni nel loader prenderanno il posto di quelle nel blocco di avvio.</p></div><div class=sect4><h5 id=_impostazione_della_console_seriale>24.6.6.1. Impostazione della Console Seriale<a class=anchor href=#_impostazione_della_console_seriale></a></h5><div class=paragraph><p>Puoi facilmente specificare al loader ed al kernel di usare la console seriale scrivendo una sola riga in <span class=filename>/boot/loader.rc</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>set console=&#34;comconsole&#34;</pre></div></div><div class=paragraph><p>Ciò sarà efficace in ogni caso, qualunque siano le impostazioni nel blocco di avvio discusse nella sezione precedente.</p></div><div class=paragraph><p>Sarebbe meglio mettere la linea precedente come prima linea di <span class=filename>/boot/loader.rc</span> in modo da vedere i messaggi sulla console seriale il prima possibile.</p></div><div class=paragraph><p>Altrimenti, puoi specificare la console interna come:</p></div><div class="literalblock programlisting"><div class=content><pre>set console=&#34;vidconsole&#34;</pre></div></div><div class=paragraph><p>Se non imposti la variabile di ambiente <code>console</code> del loader, quest’ultimo, e conseguentemente anche il kernel, useranno una console qualunque indicata dall’opzione <code>-h</code> nel blocco di avvio.</p></div><div class=paragraph><p>Nelle versioni 3.2 o successive, è possibile specificare la console in <span class=filename>/boot/loader.conf.local</span> o <span class=filename>/boot/loader.conf</span>, piuttosto che in <span class=filename>/boot/loader.rc</span>. Con questo metodo il tuo <span class=filename>/boot/loader.rc</span> dovrebbe apparire così:</p></div><div class="literalblock programlisting"><div class=content><pre>include /boot/loader.4th
start</pre></div></div><div class=paragraph><p>Poi, crea <span class=filename>/boot/loader.conf.local</span> ed aggiungi lì la linea seguente.</p></div><div class="literalblock programlisting"><div class=content><pre>console=comconsole</pre></div></div><div class=paragraph><p>o</p></div><div class="literalblock programlisting"><div class=content><pre>console=vidconsole</pre></div></div><div class=paragraph><p>Guarda <a href="https://man.freebsd.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;format=html">loader.conf(5)</a> per maggiori informazioni.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Al momento il loader non ha un’opzione equivalente alla <code>-P</code> del blocco di avvio, e non c’è possibilità di scegliere automaticamente la console interna e la console seriale basandosi sulla presenza di una tastiera.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=_utilizzo_di_una_porta_seriale_diversa_da_sio0_per_la_console>24.6.6.2. Utilizzo di una Porta Seriale Diversa da <span class=filename>sio0</span> per la Console<a class=anchor href=#_utilizzo_di_una_porta_seriale_diversa_da_sio0_per_la_console></a></h5><div class=paragraph><p>Sarà necessario ricompilare il loader per usare una porta seriale differente da <span class=filename>sio0</span> per la console seriale. Segui la procedura descritta nella <a href=#serialconsole-com2>Utilizzo di una Porta Seriale Differente da <span class=filename>sio0</span> per la Console</a>.</p></div></div></div><div class=sect3><h4 id=serialconsole-caveats>24.6.7. Avvertimento<a class=anchor href=#serialconsole-caveats></a></h4><div class=paragraph><p>L’idea di tutto questo è di permettere alla gente di mettere su server dedicati che non abbiano bisogno di hardware grafico o di tastiere. Sfortunatamente, mentre la maggior parte dei sistemi ti permetteranno di avviare senza tastiera, ce ne sono alcuni che non ti permetteranno di partire senza un adattatore grafico. Le macchine con BIOS AMI possono essere configurate per partire senza adattatori grafici cambiando semplicemente il valore di "graphics adapter" nella configurazione CMOS a "Not installed".</p></div><div class=paragraph><p>Ad ogni modo, molte macchine non supportano questa opzione e si rifiuteranno di avviarsi se non si ha hardware grafico nel sistema. Con queste macchine, avrai bisogno di lasciare un qualche tipo di scheda grafica attaccata, (anche una scheda monocromatica di recupero) sebbene non avrai necessità di collegare un monitor. Potresti anche tentare di installare un BIOS AMI.</p></div></div></div></div></div><div class=sect1><h2 id=ppp-and-slip>Capitolo 25. PPP e SLIP<a class=anchor href=#ppp-and-slip></a></h2><div class=sectionbody><div class=sect2><h3 id=_sinossi_3>25.1. Sinossi<a class=anchor href=#_sinossi_3></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=userppp>25.2. Using User PPP<a class=anchor href=#userppp></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=ppp>25.3. Using Kernel PPP<a class=anchor href=#ppp></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=pppoe>25.4. Using PPP over Ethernet (PPPoE)<a class=anchor href=#pppoe></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=pppoa>25.5. Using PPP over ATM (PPPoA)<a class=anchor href=#pppoa></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=slip>25.6. Using SLIP<a class=anchor href=#slip></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><div class=sect1><h2 id=mail>Capitolo 26. Posta Elettronica<a class=anchor href=#mail></a></h2><div class=sectionbody><div class=sect2><h3 id=mail-synopsis>26.1. Sinossi<a class=anchor href=#mail-synopsis></a></h3><div class=paragraph><p>La "Posta Elettronica", meglio conosciuta come email, è una delle forme di comunicazione maggiormente utilizzate tutt’oggi. Questo capitolo fornisce un’introduzione di base per eseguire un server di posta su FreeBSD, come pure un’introduzione per inviare e ricevere la posta elettronica usando FreeBSD comunque, questo non è un riferimento completo e infatti molte considerazioni importanti sono omesse. Per coprire questo argomento in modo più completo, si rimanda il lettore alla moltitudine di eccellenti libri elencati nell’<a href=./#bibliography>Bibliografia</a>.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, saprai:</p></div><div class=ulist><ul><li><p>Quali componenti software vengono coinvolti nell’invio e nella ricezione della posta elettronica.</p></li><li><p>Dove sono collocati in FreeBSD i file di configurazione fondamentali di sendmail.</p></li><li><p>Le differenze tra casella di posta remota e locale.</p></li><li><p>Come impedire agli spammer di usare illegalmente il tuo server di posta come un relay.</p></li><li><p>Come installare e configurare un mail transfer agent alternativo sul tuo sistema, sostituendo sendmail.</p></li><li><p>Come risolvere i problemi più frequenti legati al server di posta.</p></li><li><p>Come usare SMTP con UCCP.</p></li><li><p>Come configurare il sistema solo per inviare la posta.</p></li><li><p>Come usare la posta con una connessione dialup.</p></li><li><p>Come configurare l’Autenticazione SMTP per aumentare la sicurezza.</p></li><li><p>Come installare e usare un Mail User Agent (MUA), come mutt per inviare e ricevere la posta.</p></li><li><p>Come scaricare la tua posta da un server remoto POP o IMAP.</p></li><li><p>Come applicare in modo automatico filtri e regole sulla posta in entrata.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Aver configurato correttamente la tua connessione di rete (<a href=./#advanced-networking>Networking Avanzato</a>).</p></li><li><p>Aver configurato correttamente le informazioni DNS relative alla tua macchina server di posta (<a href=./#network-servers>Servizi di Rete</a>).</p></li><li><p>Sapere come installare software aggiuntivo di terze parti (<a href=./#ports>Installazione delle Applicazioni. Port e Package</a>).</p></li></ul></div></div><div class=sect2><h3 id=mail-using>26.2. Utilizzo della Posta Elettronica<a class=anchor href=#mail-using></a></h3><div class=paragraph><p>Ci sono cinque parti principali impegnate in uno scambio di email. Queste sono: <a href=#mail-mua>il programma client</a>, <a href=#mail-mta>quello server</a>, <a href=#mail-dns>il DNS</a>, <a href=#mail-receive>una casella di posta remota o locale</a>, e naturalmente <a href=#mail-host>la macchina server di posta</a>.</p></div><div class=sect3><h4 id=mail-mua>26.2.1. Il Programma Client<a class=anchor href=#mail-mua></a></h4><div class=paragraph><p>Questo include programmi a riga di comando quali mutt, pine, elm, e mail, e programmi con un’interfaccia grafica (GUI) quali balsa, xfmail per citarne alcuni, e qualcosa di più "raffinato" simile a un browser WWW. Questi programmi semplicemente fanno passare le transazioni email alla <a href=#mail-host>"macchina server di posta"</a> locale, chiamando uno dei <a href=#mail-mta>programmi server</a> disponibili o inoltrando queste transazioni via TCP.</p></div></div><div class=sect3><h4 id=mail-mta>26.2.2. Il Programma Server<a class=anchor href=#mail-mta></a></h4><div class=paragraph><p>FreeBSD incorpora di default sendmail, ma supporta anche altri programmi server di posta elettronica, alcuni dei quali sono:</p></div><div class=ulist><ul><li><p>exim;</p></li><li><p>postfix;</p></li><li><p>qmail.</p></li></ul></div><div class=paragraph><p>Di solito il programma server svolge due funzioni-si occupa di ricevere la posta in arrivo e di consegnare quella in partenza. Questo programma <em>non</em> permette di prelevare la posta usando protocolli come POP o IMAP, ne tanto meno di "collegarsi" alle caselle di posta locali <span class=filename>mbox</span> o di tipo Maildir. Per far questo hai bisogno di un altro <a href=#mail-receive>demone</a>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Vecchie versioni di sendmail contengono alcuni seri problemi di sicurezza che possono dare la possibilità ad un attaccante di guadagnarsi un accesso locale e/o remote sulla tua macchina. Assicurati di eseguire una versione aggiornata per evitare questi problemi. In alternativa, installa un altro MTA dalla <a href=./#ports>FreeBSD Ports Collection</a>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=mail-dns>26.2.3. Email e DNS<a class=anchor href=#mail-dns></a></h4><div class=paragraph><p>Il DNS (Domain Name System) e il suo demone <code>named</code> giocano un ruolo fondamentale nella consegna della posta. Per consegnare la posta dal tuo host a un altro, il programma server cercherà l’host remoto nel DNS per determinare la macchina server che riceverà la posta per il destinatario. Lo stesso processo avviene quando un host remoto invia dei messaggi di posta alla tua macchina server di posta.</p></div><div class=paragraph><p>Il DNS è responsabile della corrispondenza tra nomi host ed indirizzi IP, e memorizza anche informazioni specifiche per la consegna della posta, informazioni conosciute come record MX. Il record MX (Mail eXchanger) specifica quale/i host dovranno ricevere la posta per un particolare dominio. Se non hai un record MX per il tuo nome host o per il tuo dominio, la posta sarà consegnata direttamente al tuo host a condizione di avere un record A che mappa il tuo nome host al tuo indirizzo IP.</p></div><div class=paragraph><p>Puoi vedere i record MX per un dominio usando il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=host&amp;sektion=1&amp;format=html">host(1)</a>, come mostrato nel seguente esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% host <span class=nt>-t</span> mx FreeBSD.org
FreeBSD.org mail is handled <span class=o>(</span><span class=nv>pri</span><span class=o>=</span>10<span class=o>)</span> by mx1.FreeBSD.org</code></pre></div></div></div><div class=sect3><h4 id=mail-receive>26.2.4. Ricezione della Posta<a class=anchor href=#mail-receive></a></h4><div class=paragraph><p>La ricezione della posta per il tuo dominio viene gestita dalla macchina server di posta. Questa raccoglierà la posta indirizzata al tuo dominio e la salverà nel formato <span class=filename>mbox</span> (metodo per la memorizzazione della posta di default) o Maildir, a seconda delle tua configurazione. Una volta memorizzata, la posta può essere sia letta in modo locale usando applicazioni come <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> o mutt, sia prelevata in modo remoto usando protocolli come POP e IMAP. Ciò significa che se vuoi solo leggere la posta localmente, non hai bisogno di installare un server POP o IMAP.</p></div><div class=sect4><h5 id=pop-and-imap>26.2.4.1. Accedere a caselle di posta remote usando POP o IMAP<a class=anchor href=#pop-and-imap></a></h5><div class=paragraph><p>Per accedere a caselle di posta in modo remoto, devi avere l’accesso a un server POP o IMAP. Questi protocolli permettono agli utenti di collegarsi con facilità alle loro caselle di posta da locazioni remote. Benchè sia POP che IMAP permettono agli utenti di accedere alle caselle di posta in modo remoto, IMAP offre alcuni vantaggi, alcuni dei quali sono:</p></div><div class=ulist><ul><li><p>IMAP può memorizzare e prelevare i messaggi di posta su un server remoto.</p></li><li><p>IMAP supporta aggiornamenti simultanei.</p></li><li><p>IMAP può essere estremamente utile con connessioni lente poichè permette agli utenti di prelevare la struttura dei messaggi senza scaricarli completamente; può inoltre realizzare compiti come la ricerca su un server al fine di minimizzare il trasferimento dei dati tra client e server.</p></li></ul></div><div class=paragraph><p>Per installare un server POP o IMAP, devi seguire i seguenti passi:</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Scegli un server IMAP o POP che meglio soddisfa le tue necessità. I seguenti server POP e IMAP sono ben noti e si prestano come degli ottimi esempi:</p><div class=ulist><ul><li><p>qpopper;</p></li><li><p>teapop;</p></li><li><p>imap-uw;</p></li><li><p>courier-imap;</p></li></ul></div></li><li><p>Installa il demone POP o IMAP di tua scelta dalla collezione dei port.</p></li><li><p>Se necessario, modifica il file <span class=filename>/etc/inetd.conf</span> per avviare il server POP o IMAP.</p></li></ol></div></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Nota che sia POP che IMAP trasmettono informazioni, inclusi il nome utente e la password in chiaro. Ciò significa che se vuoi mettere al sicuro la trasmissione di informazioni su questi protocolli, potresti considerare di effettuare tunnel di sessioni con <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a>. La creazione di tunnel di sessioni è descritta nella <a href=./#security-ssh-tunneling>SSH Tunneling</a>.</p></div></td></tr></tbody></table></div></div><div class=sect4><h5 id=local>26.2.4.2. Accesso alle caselle di posta locali<a class=anchor href=#local></a></h5><div class=paragraph><p>Si può accedere localmente alla casella di posta utilizzando un MUA sul server nel quale risiede la casella di posta. Questo può essere fatto usando applicazioni come mutt o <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a>.</p></div></div></div><div class=sect3><h4 id=mail-host>26.2.5. La Macchina Server di Posta<a class=anchor href=#mail-host></a></h4><div class=paragraph><p>La macchina server di posta è il nome del server che è responsabile della consegna e del ricevimento della posta per il tuo host, ed eventualmente per la tua rete.</p></div></div></div><div class=sect2><h3 id=sendmail>26.3. Configurazione di sendmail<a class=anchor href=#sendmail></a></h3><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> è il Mail Transfer Agent (MTA) di default su FreeBSD. Il compito di sendmail è di accettare posta dai Mail User Agent (MUA), e consegnarla al server di posta appropriato come definito nel suo file di configurazione. Inoltre sendmail può accettare connessioni via rete e consegnare i messaggi a caselle di posta locali o ad un altro programma.</p></div><div class=paragraph><p>sendmail utilizza i seguenti file di configurazione:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">File</th><th class="tableblock halign-left valign-top">Funzione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/access</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File database di accesso di sendmail</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/aliases</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Alias delle caselle di posta</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/local-host-names</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lista di host per i quali sendmail accetta posta</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/mailer.conf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione del programma di posta</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/mailertable</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tabella di consegna del programma di posta</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/sendmail.cf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione principale di sendmail</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/mail/virtusertable</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tabelle degli utenti e dei domini virtuali</p></td></tr></tbody></table><div class=sect3><h4 id=_etcmailaccess>26.3.1. <span class=filename>/etc/mail/access</span><a class=anchor href=#_etcmailaccess></a></h4><div class=paragraph><p>Il database di accesso definisce quali host o indirizzi IP hanno accesso al server di posta locale e quale tipo di accesso hanno. Gli host possono essere catalogati come <code>OK</code>, <code>REJECT</code>, <code>RELAY</code> o possono semplicemente essere passati alla procedura di gestione degli errori di sendmail con un preciso errore. Gli host che sono definiti <code>OK</code>, che è il valore di default, possono spedire posta a questo host sempre che la destinazione finale della posta sia la macchina locale. Gli host che sono definiti <code>REJECT</code> vengono rifiutati per qualsiasi connessione di posta. Gli host che hanno l’opzione <code>RELAY</code> per i loro nomi host possono utilizzare questo server per spedire posta verso qualsiasi destinazione.</p></div><div class=exampleblock><div class=title>Esempio 11. Configurazione del Database di Accesso di sendmail</div><div class=content><div class="literalblock programlisting"><div class=content><pre>cyberspammer.com                550 Non accettiamo posta dagli spammer
FREE.STEALTH.MAILER@            550 Non accettiamo posta dagli spammer
altra.sorgente.di.spam          REJECT
okay.cyberspammer.com           OK
128.32                          RELAY</pre></div></div></div></div><div class=paragraph><p>In questo esempio abbiamo cinque elementi. Gli host mittenti che corrispondono a quelli posti sul lato sinistro della tabella sono condizionati dall’azione posta sul lato destro della tabella. I primi due esempi passano un codice di errore alla procedura di sendmail che gestisce gli errori. Il messaggio viene restituito all’host remoto quando viene trovata una corrispondenza sul lato sinistro della tabella. Il terzo esempio rifiuta la posta da un host specifico su Internet, <code>altra.sorgente.di.spam</code>. Il quarto esempio accetta connessioni di posta da un host, <code>okay.cyberspammer.com</code>, che è più preciso rispetto a <code>cyberspammer.com</code> della prima linea. Le corrispondenze più precise sovrascrivono quelle meno precise. L’ultimo esempio permette il relay della posta elettronica agli host che hanno un indirizzo IP che inizia con <code>128.32</code>. Questi host possono spedire messaggi destinati ad altri server di posta attraverso questo server.</p></div><div class=paragraph><p>Quando modifichi questo file, devi eseguire <code>make</code> in <span class=filename>/etc/mail/</span> per aggiornare il database.</p></div></div><div class=sect3><h4 id=_etcmailaliases>26.3.2. <span class=filename>/etc/mail/aliases</span><a class=anchor href=#_etcmailaliases></a></h4><div class=paragraph><p>Il database degli alias contiene una lista di caselle di posta virtuali che sono espanse in altri utenti, file, programmi o in altri alias. Seguono alcuni esempi che possono essere usati in <span class=filename>/etc/mail/aliases</span>:</p></div><div class=exampleblock><div class=title>Esempio 12. Alias di Posta</div><div class=content><div class="literalblock programlisting"><div class=content><pre>root: utentelocale
ftp-bugs: joe,eric,paul
bit.bucket: /dev/null
procmail: &#34;|/usr/local/bin/procmail&#34;</pre></div></div></div></div><div class=paragraph><p>Il formato del file è semplice: il nome della casella di posta che si trova a sinistra dei due punti viene espanso negli elementi posti a destra dei due punti. Il primo esempio semplicemente espande la casella di posta <code>root</code> nella casella di posta <code>utentelocale</code>, che è di nuovo ricercata nel database degli alias. Se non viene trovata, allora il messaggio viene consegnato all’utente locale <code>utentelocale</code>. L’esempio successivo mostra una mailing list. La posta indirizzata alla casella di posta <code>ftp-bugs</code> viene espansa nelle tre caselle di posta locali <code>joe</code>, <code>eric</code>, e <code>paul</code>. Nota che una casella di posta remota può essere specificata come <a href=mailto:user@example.com>user@example.com</a>. Il terzo esempio mostra come scrivere la posta su un file, in questo caso <span class=filename>/dev/null</span>. L’ultimo esempio mostra come mandare la posta a un programma, in questo caso il messaggio di posta diventa lo standard input di <span class=filename>/usr/local/bin/procmail</span> tramite una pipe UNIX®.</p></div><div class=paragraph><p>Quando modifichi questo file, devi eseguire <code>make</code> in <span class=filename>/etc/mail/</span> per aggiornare il database.</p></div></div><div class=sect3><h4 id=_etcmaillocal_host_names>26.3.3. <span class=filename>/etc/mail/local-host-names</span><a class=anchor href=#_etcmaillocal_host_names></a></h4><div class=paragraph><p>Questo file è una lista di nomi host che <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> accetta come se fossero l’host locale. Metti i domini o gli host per i quali sendmail deve ricevere posta. Per esempio, se questo server di posta dovesse essere in grado di accettare posta per il dominio <code>example.com</code> e per l’host <code>mail.example.com</code>, il suo <span class=filename>local-host-names</span> potrebbe assomigliare a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>example.com
mail.example.com</pre></div></div><div class=paragraph><p>Quando modifichi questo file, devi riavviare <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> per attivare i cambiamenti.</p></div></div><div class=sect3><h4 id=_etcmailsendmail_cf>26.3.4. <span class=filename>/etc/mail/sendmail.cf</span><a class=anchor href=#_etcmailsendmail_cf></a></h4><div class=paragraph><p>Il file di configurazione principale di sendmail, <span class=filename>sendmail.cf</span> controlla l’intero comportamento di sendmail, inclusa ogni cosa, dalla rielaborazione degli indirizzi e-mail alla stampa del messaggio di rifiuto per i server di posta remoti. Naturalmente, avendo svariati compiti, questo file di configurazione è alquanto complesso e i suoi dettagli vanno oltre lo scopo di questa sezione. Fortunatamente, questo file necessita raramente di essere modificato per server di posta standard.</p></div><div class=paragraph><p>Il file di configurazione principale di sendmail può essere costruito a partire da macro <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a> che definiscono le caratteristiche e il comportamento di sendmail. Guarda <span class=filename>/usr/src/contrib/sendmail/cf/README</span> per ulteriori dettagli.</p></div><div class=paragraph><p>Quando modifichi questo file, devi riavviare <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> per attivare i cambiamenti.</p></div></div><div class=sect3><h4 id=_etcmailvirtusertable>26.3.5. <span class=filename>/etc/mail/virtusertable</span><a class=anchor href=#_etcmailvirtusertable></a></h4><div class=paragraph><p>Il file <span class=filename>virtusertable</span> mappa indirizzi di posta relativi a domini e caselle di posta virtuali in caselle di posta reali. Queste caselle di posta possono essere locali, remote, alias definiti in <span class=filename>/etc/mail/aliases</span> o file.</p></div><div class=exampleblock><div class=title>Esempio 13. Esempio di Mappatura per la Posta di un Dominio Virtuale</div><div class=content><div class="literalblock programlisting"><div class=content><pre>root@example.com                root
postmaster@example.com          postmaster@noc.example.net
@example.com                    joe</pre></div></div></div></div><div class=paragraph><p>Nell’esempio precedente, abbiamo una mappatura per il dominio <code>example.com</code>. Questo file viene processato dall’alto verso il basso fermandosi alla prima corrispondenza trovata. Il primo elemento mappa <a href=mailto:root@example.com>root@example.com</a> nella casella di posta locale <code>root</code>. Il secondo elemento mappa <a href=mailto:postmaster@example.com>postmaster@example.com</a> nella casella di posta <code>postmaster</code> sull’host <code>noc.example.net</code>. Infine, se non sono state trovate corrispondenze per <code>example.com</code> fino a questo punto, verrà verificata l’ultima mappatura, che corrisponde a tutti gli altri messaggi di posta indirizzati a qualche utente di <code>example.com</code>. Questo verrà mappato nella casella di posta locale <code>joe</code>.</p></div></div></div><div class=sect2><h3 id=mail-changingmta>26.4. Sostituzione del proprio Mail Transfer Agent<a class=anchor href=#mail-changingmta></a></h3><div class=paragraph><p>Come già menzionato, l’MTA (Mail Transfer Agent, agente di trasferimento della posta elettronica) installato di default su FreeBSD è sendmail. Di conseguenza sendmail è responsabile della tua posta in partenza e di quella in arrivo.</p></div><div class=paragraph><p>Comunque, per vari motivi, alcuni amministratori necessitano di cambiare l’MTA dei loro sistemi. Questi motivi spaziano dal voler semplicemente provare un altro MTA all’aver bisogno di una caratteristica o di un pacchetto specifico ritrovabile in un altro MTA. Fortunatamente, per qualsiasi motivo, FreeBSD semplifica il processo di sostituzione.</p></div><div class=sect3><h4 id=_installazione_di_un_nuovo_mta>26.4.1. Installazione di un nuovo MTA<a class=anchor href=#_installazione_di_un_nuovo_mta></a></h4><div class=paragraph><p>Hai un’ampia scelta di MTA utilizzabili. Un buon punto di partenza è la <a href=#ports>FreeBSD Ports Collection</a> dove puoi trovarne molti. Naturalmente sei libero di usare qualunque MTA proveniente da qualche sito, a condizione che tu riesca ad eseguirlo sotto FreeBSD.</p></div><div class=paragraph><p>Inizia installando il tuo nuovo MTA. Una volta installato devi valutare se realmente soddisfa le tue necessità, inoltre devi avere la possibilità di configurare il tuo nuovo programma prima che subentri a sendmail. Valutato questo, devi essere sicuro che durante l’installazione del nuovo programma non ci siano stati tentativi di sovrascrivere binari di sistema come <span class=filename>/usr/bin/sendmail</span>. Altrimenti, il tuo nuovo programma di posta è stato essenzialmente messo in attività prima che tu l’abbia configurato.</p></div><div class=paragraph><p>Per cortesia fai riferimento alla documentazione dell’MTA che hai scelto per informazioni su come configurarlo.</p></div></div><div class=sect3><h4 id=mail-disable-sendmail>26.4.2. Disabilitazione di sendmail<a class=anchor href=#mail-disable-sendmail></a></h4><div class=paragraph><p>La procedura usata per avviare sendmail cambia significativamente tra la 4.5-RELEASE e la 4.6-RELEASE. Di conseguenza, la procedura usata per disabilitarlo è leggermente differente a seconda della versione di FreeBSD utilizzata.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Se disabiliti il servizio di consegna della posta di sendmail in questo modo, è importante che questo venga rimpiazzato con un altro sistema di consegna della posta. Se non lo farai, le funzioni di sistema come <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a> saranno incapaci di inviare i loro risultati tramite e-mail come normalmente prevedono di fare. Molte parti del tuo sistema potrebbero presupporre di avere un sistema funzionante compatibile con sendmail. Se le applicazioni continuano a usare i binari di sendmail per tentare di spedire e-mail dopo che tu l’hai disabilitato, la posta potrebbe finire in una coda inattiva di sendmail, senza che venga mai consegnata.</p></div></td></tr></tbody></table></div><div class=sect4><h5 id=_freebsd_4_5_stable_prima_del_442002_e_precedenti_inclusa_4_5_release_e_precedenti>26.4.2.1. FreeBSD 4.5-STABLE prima del 4/4/2002 e precedenti (inclusa 4.5-RELEASE e precedenti)<a class=anchor href=#_freebsd_4_5_stable_prima_del_442002_e_precedenti_inclusa_4_5_release_e_precedenti></a></h5><div class=paragraph><p>Metti:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>in <span class=filename>/etc/rc.conf</span>. In questo modo si disabiliterà il servizio di ricezione della posta di sendmail, ma se <span class=filename>/etc/mail/mailer.conf</span> (vedi sotto) non viene modificato, sendmail verrà ancora usato per spedire e-mail.</p></div></div><div class=sect4><h5 id=_freebsd_4_5_stable_dopo_il_442002_inclusa_4_6_release_e_successive>26.4.2.2. FreeBSD 4.5-STABLE dopo il 4/4/2002 (inclusa 4.6-RELEASE e successive)<a class=anchor href=#_freebsd_4_5_stable_dopo_il_442002_inclusa_4_6_release_e_successive></a></h5><div class=paragraph><p>Per disabilitare completamente sendmail, incluso il servizio della posta in uscita, devi mettere</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NONE&#34;</pre></div></div><div class=paragraph><p>in <span class=filename>/etc/rc.conf.</span></p></div><div class=paragraph><p>Se vuoi solamente disabilitare il servizio di ricezione della posta di sendmail, devi mettere</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>in <span class=filename>/etc/rc.conf</span>. Comunque, se la ricezione della posta è disabilitata, la consegna locale funzionerà ancora. Maggiori informazioni sulle opzioni di avvio di sendmail sono disponibili nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.sendmail&amp;sektion=8&amp;format=html">rc.sendmail(8)</a>.</p></div></div><div class=sect4><h5 id=_freebsd_5_0_stable_e_successive>26.4.2.3. FreeBSD 5.0-STABLE e Successive<a class=anchor href=#_freebsd_5_0_stable_e_successive></a></h5><div class=paragraph><p>Per disabilitare completamente sendmail, servizi di posta in ingresso e in uscita inclusi, devi usare</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NO&#34;
sendmail_submit_enable=&#34;NO&#34;
sendmail_outbound_enable=&#34;NO&#34;
sendmail_msp_queue_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>in <span class=filename>/etc/rc.conf.</span></p></div><div class=paragraph><p>Se vuoi solamente disabilitare il servizio di ricezione della posta di sendmail, devi mettere</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>in <span class=filename>/etc/rc.conf</span>. Molte informazioni sulle opzioni di avvio di sendmail sono disponibili nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.sendmail&amp;sektion=8&amp;format=html">rc.sendmail(8)</a>.</p></div></div></div><div class=sect3><h4 id=_esecuzione_del_nuovo_mta_allavvio>26.4.3. Esecuzione del nuovo MTA all’avvio<a class=anchor href=#_esecuzione_del_nuovo_mta_allavvio></a></h4><div class=paragraph><p>Hai due possibili metodi per eseguire il tuo nuovo MTA all’avvio, a seconda della versione di FreeBSD utilizzata.</p></div><div class=sect4><h5 id=_freebsd_4_5_stable_prima_del_1142002_inclusa_4_5_release_e_precedenti>26.4.3.1. FreeBSD 4.5-STABLE prima del 11/4/2002 (inclusa 4.5-RELEASE e precedenti)<a class=anchor href=#_freebsd_4_5_stable_prima_del_1142002_inclusa_4_5_release_e_precedenti></a></h5><div class=paragraph><p>Posiziona uno script in <span class=filename>/usr/local/etc/rc.d/</span> con estensione <span class=filename>.sh</span> ed eseguibile da <code>root</code>. Lo script deve accettare i parametri <code>start</code> e <code>stop</code>. Nella fase di avvio di FreeBSD gli script di sistema eseguiranno il comando</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/local/etc/rc.d/supermailer.sh start</pre></div></div><div class=paragraph><p>che puoi anche usare per avviare manualmente il server. Nella fase di chiusura di FreeBSD, gli script di sistema useranno l’opzione <code>stop</code>, eseguendo il comando</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/local/etc/rc.d/supermailer.sh stop</pre></div></div><div class=paragraph><p>che puoi anche usare per arrestare manualmente il server mentre il sistema è in funzione.</p></div></div><div class=sect4><h5 id=_freebsd_4_5_stable_dopo_il_1142002_inclusa_4_6_release_e_successive>26.4.3.2. FreeBSD 4.5-STABLE dopo il 11/4/2002 (inclusa 4.6-RELEASE e successive)<a class=anchor href=#_freebsd_4_5_stable_dopo_il_1142002_inclusa_4_6_release_e_successive></a></h5><div class=paragraph><p>Con le versioni recenti di FreeBSD, puoi usare il metodo precedente oppure puoi mettere</p></div><div class="literalblock programlisting"><div class=content><pre>mta_start_script=&#34;nomefile&#34;</pre></div></div><div class=paragraph><p>in <span class=filename>/etc/rc.conf</span>, dove <em>nomefile</em> è il nome dello script che vuoi eseguire all’avvio per avviare il tuo MTA.</p></div></div></div><div class=sect3><h4 id=_sostituzione_di_sendmail_come_programma_di_posta_di_default_del_sistema>26.4.4. Sostituzione di sendmail come programma di posta di default del sistema<a class=anchor href=#_sostituzione_di_sendmail_come_programma_di_posta_di_default_del_sistema></a></h4><div class=paragraph><p>sendmail è così onnipresente come programma standard su sistemi UNIX® che alcuni programmi lo suppongono già installato e configurato. Per questa ragione, molti degli altri MTA forniscono la loro compatibile implementazione dell’interfaccia a riga di comando di sendmail; questo agevola il loro utilizzo come sostituti "drop-in" di sendmail.</p></div><div class=paragraph><p>Quindi, se usi un altro programma di posta, dovrai assicurarti che i programmi che tentano di eseguire i binari standard di sendmail come <span class=filename>/usr/bin/sendmail</span> in realtà eseguano il programma di posta da te scelto. Fortunatamente, FreeBSD fornisce un meccanismo chiamato <a href="https://man.freebsd.org/cgi/man.cgi?query=mailwrapper&amp;sektion=8&amp;format=html">mailwrapper(8)</a> che fa questo lavoro per te.</p></div><div class=paragraph><p>Quando sendmail è operativo, dovresti vedere in <span class=filename>/etc/mail/mailer.conf</span> qualcosa di simile a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail    /usr/libexec/sendmail/sendmail
send-mail   /usr/libexec/sendmail/sendmail
mailq       /usr/libexec/sendmail/sendmail
newaliases  /usr/libexec/sendmail/sendmail
hoststat    /usr/libexec/sendmail/sendmail
purgestat   /usr/libexec/sendmail/sendmail</pre></div></div><div class=paragraph><p>Questo significa che quando uno di questi comandi (come <span class=filename>sendmail</span> stesso) viene eseguito, in realtà il sistema invoca una copia di mailwrapper di nome <span class=filename>sendmail</span>, la quale esamina <span class=filename>mailer.conf</span> ed esegue <span class=filename>/usr/libexec/sendmail/sendmail</span>. Questo meccanismo facilita la sostituzione dei binari che sono realmente eseguiti quando vengono invocate queste funzioni di default di <span class=filename>sendmail</span>.</p></div><div class=paragraph><p>Quindi se vuoi che <span class=filename>/usr/local/supermailer/bin/sendmail-compat</span> sia eseguito al posto di sendmail, devi modificare <span class=filename>/etc/mail/mailer.conf</span> in questo modo:</p></div><div class="literalblock programlisting"><div class=content><pre>sendmail    /usr/local/supermailer/bin/sendmail-compat
send-mail   /usr/local/supermailer/bin/sendmail-compat
mailq       /usr/local/supermailer/bin/mailq-compat
newaliases  /usr/local/supermailer/bin/newaliases-compat
hoststat    /usr/local/supermailer/bin/hoststat-compat
purgestat   /usr/local/supermailer/bin/purgestat-compat</pre></div></div></div><div class=sect3><h4 id=_conclusione>26.4.5. Conclusione<a class=anchor href=#_conclusione></a></h4><div class=paragraph><p>Una volta che hai configurato ogni cosa a tuo piacimento, devi terminare i processi di sendmail di cui non hai più bisogno e avviare i processi appartenenti al tuo nuovo programma, oppure puoi semplicemente riavviare il sistema. Riavviando il sistema avrai la possibilità di verificare se il sistema sia stato configurato correttamente per eseguire il tuo nuovo MTA in modo automatico all’avvio.</p></div></div></div><div class=sect2><h3 id=mail-trouble>26.5. Risoluzione dei Problemi<a class=anchor href=#mail-trouble></a></h3><div class=sect3><h4 id=_perché_devo_usare_nomi_di_dominio_completi_fqdn_per_gli_host_del_mio_dominio>26.5.1. Perché devo usare nomi di dominio completi (FQDN) per gli host del mio dominio?<a class=anchor href=#_perché_devo_usare_nomi_di_dominio_completi_fqdn_per_gli_host_del_mio_dominio></a></h4><div class=paragraph><p>Probabilmente ti accorgerai che l’host è effettivamente in un dominio differente; per esempio, se sei in <code>foo.bar.edu</code> e desideri raggiungere un host chiamato <code>mumble</code> appartenente al dominio <code>bar.edu</code>, dovrai riferirti a questo tramite un nome di dominio completo, <code>mumble.bar.edu</code>, invece del solo <code>mumble</code>.</p></div><div class=paragraph><p>Tradizionalmente, questo era permesso dai resolver BIND di BSD. Tuttavia la versione corrente di BIND equipaggiata con FreeBSD non prevede più l’abbreviazione di default per nomi di dominio non completi all’infuori del dominio in cui sei. Quindi l’host <code>mumble</code> sarà giudicato come <code>mumble.foo.bar.edu</code>, oppure sarà ricercato per il dominio radice.</p></div><div class=paragraph><p>Questo differisce dal comportamento precedente, dove la ricerca continuava attraverso <code>mumble.bar.edu</code>, e <code>mumble.edu</code>. Dai un’occhiata all’RFC 1535 per i motivi per cui questa sia considerata una cattiva pratica, o persino un buco di sicurezza.</p></div><div class=paragraph><p>Come buona soluzione al problema, puoi mettere la linea:</p></div><div class="literalblock programlisting"><div class=content><pre>search foo.bar.edu bar.edu</pre></div></div><div class=paragraph><p>al posto della precedente:</p></div><div class="literalblock programlisting"><div class=content><pre>domain foo.bar.edu</pre></div></div><div class=paragraph><p>nel tuo <span class=filename>/etc/resolv.conf</span>. Comunque, assicurati che l’ordine di ricerca non oltrepassi il "confine tra amministrazione locale e pubblica", come definito nell’RFC 1535.</p></div></div><div class=sect3><h4 id=_sendmail_riporta_lerrore_mail_loops_back_to_myself>26.5.2. sendmail riporta l’errore mail loops back to myself<a class=anchor href=#_sendmail_riporta_lerrore_mail_loops_back_to_myself></a></h4><div class=paragraph><p>La risposta è contenuta nelle FAQ di sendmail come segue:</p></div><div class="literalblock programlisting"><div class=content><pre>Ottengo messaggi di errore, come questo:

553 MX list for domain.net points back to relay.domain.net
554 &lt;user@domain.net&gt;... Local configuration error

Come posso risolvere questo problema?

Hai chiesto che la posta per il dominio (es., domain.net) sia inoltrata
a un host specifico (in questo caso, relay.domain.net) attraverso l&#39;uso di
un record MXrecord MX,
ma la macchina di inoltro non si riconosce appartenente a
domain.net. Aggiungi domain.net in /etc/mail/local-host-names
[chiamato /etc/sendmail.cw nelle versioni precedenti alla 8.10]
(se stai usando FEATURE(use_cw_file)) oppure aggiungi Cw domain.net
in /etc/mail/sendmail.cf.</pre></div></div><div class=paragraph><p>Le FAQ di sendmail possono essere trovate su <a href=http://www.sendmail.org/faq/>http://www.sendmail.org/faq/</a> ed è raccomandato leggerle se vuoi "perfezionare" la tua configurazione di posta.</p></div></div><div class=sect3><h4 id=_come_posso_eseguire_un_server_di_posta_su_un_host_connesso_in_dial_up_tramite_ppp>26.5.3. Come posso eseguire un server di posta su un host connesso in dial-up tramite PPP ?<a class=anchor href=#_come_posso_eseguire_un_server_di_posta_su_un_host_connesso_in_dial_up_tramite_ppp></a></h4><div class=paragraph><p>Vuoi collegare ad Internet una macchina FreeBSD posta sulla tua LAN. La macchina FreeBSD sarà un gateway di posta per la LAN. La connessione PPP non è molto indicata per questo scopo.</p></div><div class=paragraph><p>Esistono almeno due modi per far questo. Un modo è usare UUCP.</p></div><div class=paragraph><p>L’altro è trovare un server Internet a tempo pieno che fornisca un servizio MX secondario per il tuo dominio. Per esempio, se il dominio della tua società è <code>example.com</code> e il tuo fornitore di servizi Internet ha attivato <code>example.net</code> per fornire il servizio MX secondario al tuo dominio, allora:</p></div><div class="literalblock programlisting"><div class=content><pre>example.com.         MX        10      example.com.
                     MX        20      example.net.</pre></div></div><div class=paragraph><p>Solo un host deve essere specificato come ultimo ricevente (aggiungi <code>Cw example.com</code> in <span class=filename>/etc/mail/sendmail.cf</span> su <code>example.com</code>).</p></div><div class=paragraph><p>Quando <code>sendmail</code> tenterà di consegnare la posta proverà a connettersi alla tua connessione modem (<code>example.com</code>). Molto probabilmente finirà in time out poiché non sei online. In modo automatico <code>sendmail</code> consegnerà la posta al server MX secondario, ad esempio il tuo provider Internet (<code>example.net</code>). Il server MX secondario tenterà periodicamente di collegarsi al tuo host per consegnare la posta all’host MX primario (<code>example.com</code>).</p></div><div class=paragraph><p>Come script di login potresti usare qualcosa di simile a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>#!/bin/sh
# Mettimi in /usr/local/bin/pppmyisp
( sleep 60 ; /usr/sbin/sendmail -q ) &amp;
/usr/sbin/ppp -direct pppmyisp</pre></div></div><div class=paragraph><p>Se hai intenzione di creare uno script di login separato per un utente potresti usare <code>sendmail -qRexample.com</code> nello script precedente. Questo forzerà a processare immediatamente tutta la posta per <code>example.com</code> situata nella tua coda.</p></div><div class=paragraph><p>Segue un’ulteriore sottigliezza della situazione:</p></div><div class=paragraph><p>Messaggio rubato dalla <a href=https://lists.FreeBSD.org/subscription/freebsd-isp>mailing list degli Internet Service Provider che usano FreeBSD</a>.</p></div><div class="literalblock programlisting"><div class=content><pre>&gt; forniamo l&#39;MX secondario per un cliente. Il cliente si connette
&gt; automaticamente ai nostri servizi molte volte al giorno per ottenere la
&gt; posta per il suo MX primario (non chiamiamo il suo server quando arriva
&gt; posta per il suo dominio). Il nostro sendmail processa la posta in coda
&gt; ogni 30 minuti. Attualmente il cliente sta 30 minuti online per assicurarsi
&gt; che tutta la posta vada all&#39;MX primario.
&gt;
&gt; Esiste un comando che permetta di configurare sendmail in modo tale da
&gt; spedire tutta la posta in quel momento? Naturalmente l&#39;utente non ha
&gt; privilegi di root sulla nostra macchina.

Nella sezione privacy flags di sendmail.cf, c&#39;è una
definizione Opgoaway,restrictqrun

Rimuovi restrictqrun per permettere a utenti non root di avviare l&#39;elaborazione
della coda. Inoltre potresti risistemare gli MX. Noi siamo l&#39;MX primario per i
nostri clienti come questo, e abbiamo definito:

# Se siamo il miglior MX per un host, prova direttamente invece di generare
# errori di configurazione locale.
OwTrue

In questo modo un server remoto consegnerà direttamente a te, senza
tentare di connettersi al cliente. Dopodiché tu spedisci al tuo cliente.
Funziona solamente con gli host, quindi hai bisogno che il tuo
cliente chiami la sua macchina di posta customer.com così come
nomehost.customer.com nel DNS.
Basta mettere un record A nel DNS per customer.com.</pre></div></div></div><div class=sect3><h4 id=_perché_continuo_a_ottenere_lerrore_relaying_denied_quando_spedisco_posta_da_altri_host>26.5.4. Perché continuo a ottenere l’errore Relaying Denied quando spedisco posta da altri host?<a class=anchor href=#_perché_continuo_a_ottenere_lerrore_relaying_denied_quando_spedisco_posta_da_altri_host></a></h4><div class=paragraph><p>Con l’installazione di default di FreeBSD, sendmail viene configurato in modo tale da permettere di spedire posta solamente dall’host sul quale è in esecuzione. Per esempio, se c’è installato un server POP, allora gli utenti saranno in grado di controllare la posta da scuola, dal lavoro, o da altre postazioni remote ma tuttavia non potranno inviare messaggi di posta all’esterno da postazioni esterne. Tipicamente, pochi istanti dopo il tentativo, verrà spedita una email da MAILER-DAEMON con il messaggio di errore <code>5.7 Relaying Denied</code>.</p></div><div class=paragraph><p>Esistono diversi modi per aggirare questo problema. La soluzione più semplice è mettere il proprio indirizzo assegnato dall’ISP nel file che contiene i domini a cui viene permesso di effettuare il relay, <span class=filename>/etc/mail/relay-domains</span>. Un modo veloce per far questo può essere:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># echo &#34;your.isp.example.com&#34; &gt; /etc/mail/relay-domains</span></code></pre></div></div><div class=paragraph><p>Dopo aver creato o modificato questo file devi riavviare sendmail. Questa soluzione è ideale se sei un amministratore del server e non desideri spedire posta localmente, o se vorresti usare un client/sistema punta e clicca su un’altra macchina o perfino su un altro ISP. Inoltre è molto utile se hai solo uno o due account di posta configurati. Se ci sono molti indirizzi da aggiungere, puoi semplicemente aprire questo file con il tuo editor di testo preferito e aggiungere i domini, uno per riga:</p></div><div class="literalblock programlisting"><div class=content><pre>your.isp.example.com
other.isp.example.net
users-isp.example.org
www.example.org</pre></div></div><div class=paragraph><p>Ora l’invio della posta tramite il tuo sistema, da parte di qualche host in lista (a condizione che l’utente abbia un account sul tuo sistema), avrà successo. Questo è un buon metodo per permettere agli utenti di spedire posta dal tuo sistema in modo remoto senza dare la possibilità a qualcuno di spedire SPAM tramite il tuo sistema.</p></div></div></div><div class=sect2><h3 id=mail-advanced>26.6. Argomenti Avanzati<a class=anchor href=#mail-advanced></a></h3><div class=paragraph><p>La seguente sezione tratta argomenti più complicati come l’organizzazione e la configurazione della posta per tutto il tuo dominio.</p></div><div class=sect3><h4 id=mail-config>26.6.1. Configurazione di Base<a class=anchor href=#mail-config></a></h4><div class=paragraph><p>Dalla macchina FreeBSD, dovresti essere in grado di spedire posta a host esterni a condizione di aver sistemato <span class=filename>/etc/resolv.conf</span> o di avere in esecuzione un proprio server dei nomi. Se vuoi che la posta per il tuo host sia consegnata all’MTA (es., sendmail) in esecuzione sul tuo host FreeBSD, esistono due metodi per farlo:</p></div><div class=ulist><ul><li><p>Eseguire un proprio server dei nomi e avere un proprio dominio. Per esempio, <code>FreeBSD.org</code></p></li><li><p>Ricevere la posta direttamente sul tuo host. Questo viene fatto consegnando la posta direttamente al nome DNS corrente della tua macchina. Per esempio, <code>example.FreeBSD.org</code>.</p></li></ul></div><div class=paragraph><p>Indipendentemente dal metodo scelto, affinché la posta possa essere consegnata direttamente al tuo host, devi avere un indirizzo IP statico permanente (non un indirizzo dinamico, come avviene nella maggior parte delle configurazioni dial-up di PPP). Se sei dietro a un firewall, devi abilitare il traffico SMTP in entrata. Se vuoi ricevere la posta direttamente sul tuo host, devi verificare una di queste due cose:</p></div><div class=ulist><ul><li><p>Assicurati che il record MX (con il numero più basso) relativo al tuo host nel tuo DNS punti all’indirizzo IP del tuo host.</p></li><li><p>Assicurati che non ci siano record MX nel tuo DNS per il tuo host.</p></li></ul></div><div class=paragraph><p>Entrambi questi due metodi ti permettono di ricevere posta direttamente sul tuo host.</p></div><div class=paragraph><p>Prova questi comandi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># hostname</span>
example.FreeBSD.org
<span class=c># host example.FreeBSD.org</span>
example.FreeBSD.org has address 204.216.27.XX</code></pre></div></div><div class=paragraph><p>Se ottieni un risultato simile, l’invio diretto a <a href=mailto:yourlogin@example.FreeBSD.org>yourlogin@example.FreeBSD.org</a> dovrebbe funzionare senza problemi (assumendo che sendmail sia correttamente in esecuzione su <code>example.FreeBSD.org</code>).</p></div><div class=paragraph><p>Se invece vedi qualcosa di simile a questo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># host example.FreeBSD.org</span>
example.FreeBSD.org has address 204.216.27.XX
example.FreeBSD.org mail is handled <span class=o>(</span><span class=nv>pri</span><span class=o>=</span>10<span class=o>)</span> by hub.FreeBSD.org</code></pre></div></div><div class=paragraph><p>Tutta la posta spedita al tuo host (<code>example.FreeBSD.org</code>) finirà per essere raccolta su <code>hub</code> sotto lo stesso nome utente invece di essere spedita direttamente al tuo host.</p></div><div class=paragraph><p>L’informazione precedente viene gestita dal tuo server DNS. Il record DNS che riporta l’informazione di instradamento della posta è l’elemento <em>M</em>ail e<em>X</em>change. Se non esistono record MX, la posta sarà consegnata direttamente all’host attraverso il suo indirizzo IP.</p></div><div class=paragraph><p>L’elemento MX per <code>freefall.FreeBSD.org</code> in passato assomigliava a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>freefall        MX  30  mail.crl.net
freefall        MX  40  agora.rdrop.com
freefall        MX  10  freefall.FreeBSD.org
freefall        MX  20  who.cdrom.com</pre></div></div><div class=paragraph><p>Come puoi vedere, <code>freefall</code> aveva molti elementi MX. Il numero MX più basso è l’host che, se disponibile, riceve direttamente la posta; se per qualche ragione questo non è accessibile, gli altri (qualche volta chiamati "MX di backup") accettano i messaggi temporaneamente, e li passano all’host attivo con numero inferiore, fino all’host con il numero più basso.</p></div><div class=paragraph><p>I server MX alternativi dovrebbero avere connessioni Internet indipendenti dalla propria al fine di risultare più utili. Il tuo ISP o un tuo amico non dovrebbero avere problemi a darti questo servizio.</p></div></div><div class=sect3><h4 id=mail-domain>26.6.2. Posta per il Tuo Dominio<a class=anchor href=#mail-domain></a></h4><div class=paragraph><p>Per organizzare un server di posta hai bisogno che la posta inviata alle stazioni di lavoro sia ricevuta direttamente sul server di posta. Sostanzialmente, hai bisogno di "richiedere" che la posta per i nomi host del tuo dominio (in questo caso <code>*.FreeBSD.org</code>) sia deviata al server di posta in modo tale che i tuoi utenti possono raccogliere la loro posta sul server di posta principale.</p></div><div class=paragraph><p>Per rendere la vita più facile, dovrebbe esistere su entrambe le macchine un account utente con lo stesso <em>nome utente</em>. Usa <a href="https://man.freebsd.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;format=html">adduser(8)</a> per farlo.</p></div><div class=paragraph><p>La macchina server di posta che utilizzerai deve essere designata come la macchina che scambia la posta per tutte le postazioni sulla rete. Questo viene realizzato attraverso la configurazione del DNS in modo simile a quanto segue:</p></div><div class="literalblock programlisting"><div class=content><pre>example.FreeBSD.org   A   204.216.27.XX       ; Stazione di lavoro
                      MX  10 hub.FreeBSD.org  ; Server di posta</pre></div></div><div class=paragraph><p>In questo modo la posta per la stazione di lavoro sarà reindirizzata al server di posta senza preoccuparsi dove punti il record A. La posta viene inviata all’host MX.</p></div><div class=paragraph><p>Non puoi effettuare queste modifiche da solo a meno che non hai in esecuzione un tuo server DNS. Se non puoi eseguire un server DNS, consulta il tuo ISP o chiunque ti fornisca il servizio DNS.</p></div><div class=paragraph><p>Se stai facendo dell’hosting di posta elettronica virtuale, le seguenti informazioni ti torneranno utili. In questo esempio, assumiamo che hai un cliente con un proprio dominio, in questo caso <code>customer1.org</code>, e vuoi che tutta la posta per <code>customer1.org</code> sia spedita alla tua macchina server di posta <code>mail.myhost.com</code>. L’elemento nel tuo DNS dovrebbe assomigliare a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>customer1.org     MX  10  mail.myhost.com</pre></div></div><div class=paragraph><p><em>Non</em> hai bisogno di un record A per <code>customer1.org</code> se vuoi solamente gestire la posta per tale dominio</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Sii consapevole che un ping su <code>customer1.org</code> non funzionerà se non esiste un record A per tale dominio.</p></div></td></tr></tbody></table></div><div class=paragraph><p>L’ultima cosa che devi fare è indicare a sendmail, posto sulla tua macchina server, per quali domini e/o host deve accettare posta. Esistono differenti modi per farlo. I seguenti due funzionano entrambi:</p></div><div class=ulist><ul><li><p>Se usi <code>FEATURE(use_cw_file)</code> aggiungi gli host al tuo file <span class=filename>/etc/mail/local-host-names</span>. Se usi una versione di sendmail precedente alla 8.10, il file da usare è <span class=filename>/etc/sendmail.cw</span>.</p></li><li><p>Se usi la versione di sendmail 8.10 o superiore aggiungi la riga <code>Cwyour.host.com</code> al tuo <span class=filename>/etc/sendmail.cf</span> o <span class=filename>/etc/mail/sendmail.cf</span>.</p></li></ul></div></div></div><div class=sect2><h3 id=SMTP-UUCP>26.7. SMTP con UUCP<a class=anchor href=#SMTP-UUCP></a></h3><div class=paragraph><p>La configurazione di sendmail di default su FreeBSD è designata per siti che si collegano direttamente a Internet. I siti che vogliono scambiarsi lo loro posta tramite UUCP devono installare un altro file di configurazione di sendmail.</p></div><div class=paragraph><p>Editare a mano il file <span class=filename>/etc/mail/sendmail.cf</span> è materia da esperti. La versione 8 di sendmail genera file di configurazione tramite la preelaborazione di <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a>, dove l’attuale configurazione avviene su un livello di astrazione più alto. I file di configurazione di <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a> possono essere trovati sotto <span class=filename>/usr/shared/sendmail/cf</span>. Il file <span class=filename>README</span> nella directory <span class=filename>cf</span> può servire come introduzione di base alla configurazione di <a href="https://man.freebsd.org/cgi/man.cgi?query=m4&amp;sektion=1&amp;format=html">m4(1)</a>.</p></div><div class=paragraph><p>Il miglior modo per supportare la consegna UUCP è usare la caratteristica <code>mailertable</code>. Questa crea un database che sendmail può usare per prendere le decisioni di instradamento.</p></div><div class=paragraph><p>Prima di tutto, devi creare il tuo file <span class=filename>.mc</span>. La directory <span class=filename>/usr/shared/sendmail/cf/cf</span> contiene alcuni esempi. Assumendo che tu abbia chiamato il tuo file <span class=filename>foo.mc</span>, tutto quello che devi fare per convertirlo in un valido <span class=filename>sendmail.cf</span> è:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /etc/mail</span>
<span class=c># make foo.cf</span>
<span class=c># cp foo.cf /etc/mail/sendmail.cf</span></code></pre></div></div><div class=paragraph><p>Un tipico file <span class=filename>.mc</span> potrebbe assomigliare a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>VERSIONID(`Il tuo numero di versione&#39;) OSTYPE(bsd4.4)

FEATURE(accept_unresolvable_domains)
FEATURE(nocanonify)
FEATURE(mailertable, `hash -o /etc/mail/mailertable&#39;)

define(`UUCP_RELAY&#39;, il.tuo.relay.uucp)
define(`UUCP_MAX_SIZE&#39;, 200000)
define(`confDONT_PROBE_INTERFACES&#39;)

MAILER(local)
MAILER(smtp)
MAILER(uucp)

Cw    il.tuo.nome.host.alias
Cw    iltuonodouucp.UUCP</pre></div></div><div class=paragraph><p>Le righe contenenti le caratteristiche <code>accept_unresolvable_domains</code>, <code>nocanonify</code>, and <code>confDONT_PROBE_INTERFACES</code> impediscono l’uso del DNS durante la consegna della posta. La clausola <code>UUCP_RELAY</code> è necessaria per supportare la consegna UUCP. Metti semplicemente un nome host di Internet che è in grado di gestire indirizzi di pseudo-domini .UUCP; molto probabilmente, metterai il relay del tuo ISP.</p></div><div class=paragraph><p>Una volta fatto questo, hai bisogno del file <span class=filename>/etc/mail/mailertable</span>. Se hai solo un collegamento per l’esterno che viene usato per tutta la tua posta, la seguente riga sarà sufficiente:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
.                             uucp-dom:il.tuo.relay.uucp</pre></div></div><div class=paragraph><p>Un esempio più complesso potrebbe essere simile a questo:</p></div><div class="literalblock programlisting"><div class=content><pre>#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
#
horus.interface-business.de   uucp-dom:horus
.interface-business.de        uucp-dom:if-bus
interface-business.de         uucp-dom:if-bus
.heep.sax.de                  smtp8:%1
horus.UUCP                    uucp-dom:horus
if-bus.UUCP                   uucp-dom:if-bus
.                             uucp-dom:</pre></div></div><div class=paragraph><p>Le prime tre righe gestiscono dei casi speciali dove la posta indirizzata a quel dominio non dovrebbe essere spedita tramite l’instradamento di default, ma piuttosto tramite alcuni UUCP di confine al fine di "accorciare" il percorso di consegna. La quarta riga gestisce la posta per il dominio Ethernet locale la quale può essere consegnata usando SMTP. Infine, gli UUCP di confine sono menzionati con la notazione a pseudo-dominio .UUCP, per permettere a un <code>uucp-diconfine !destinatario</code> di sovrascrivere le regole di default. L’ultima riga è sempre un singolo punto, a cui corrisponde ogni altra cosa e che rappresenta la consegna UUCP tramite l’UUCP di confine che viene usato come il tuo gateway di posta universale verso il mondo. Tutti i nomi dei nodi dietro alla parola <code>uucp-dom:</code> devono essere validi UUCP di confine, come puoi verificare usando il comando <code>uuname</code>.</p></div><div class=paragraph><p>Si ricorda che questo file deve essere convertito in un file database DBM prima di essere usato. La riga di comando che realizza ciò è messa come un commento in cima al file <span class=filename>mailertable</span>. Devi sempre eseguire quel comando ogni volta che modifichi il file <span class=filename>mailertable</span>.</p></div><div class=paragraph><p>Ultimo suggerimento: se non sei sicuro che alcuni instradamenti di posta potrebbero funzionare, ricordati l’opzione <code>-bt</code> di sendmail. Questa avvia sendmail in <em>modalità test indirizzo</em>; digita semplicemente <code>3,0</code>, seguito dall’indirizzo su cui vuoi verificare l’instradamento della posta. L’ultima riga ti informa quale agente di posta interno è stato utilizzato, quale host di destinazione questo agente contatterà, e l’indirizzo (molto probabilmente tradotto). Lascia questa modalità digitando <span class=keyseq><kbd>Ctrl</kbd>+<kbd>D</kbd></span>.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% sendmail <span class=nt>-bt</span>
ADDRESS TEST MODE <span class=o>(</span>ruleset 3 NOT automatically invoked<span class=o>)</span>
Enter &lt;ruleset&gt; &lt;address&gt;
<span class=o>&gt;</span> 3,0 foo@example.com
canonify           input: foo @ example <span class=nb>.</span> com
...
parse            returns: <span class=nv>$# </span>uucp-dom <span class=nv>$@</span> your.uucp.relay <span class=nv>$:</span> foo &lt; @ example <span class=nb>.</span> com <span class=nb>.</span> <span class=o>&gt;</span>
<span class=o>&gt;</span> ^D</code></pre></div></div></div><div class=sect2><h3 id=outgoing-only>26.8. Configurazione del Sistema di Posta solo per l’Invio<a class=anchor href=#outgoing-only></a></h3><div class=paragraph><p>Esistono molti casi in cui vorresti avere la possibilità di inviare la posta attraverso un relay. Alcuni esempi sono:</p></div><div class=ulist><ul><li><p>Il tuo computer è una macchina desktop, tuttavia vorresti essere in grado di usare programmi come <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a>. Per fare ciò, dovresti usare il relay di posta del tuo ISP.</p></li><li><p>Il computer è un server che non gestisce localmente la posta, ma demanda la gestione di tutta la posta ad un relay inoltrandola in modo opportuno.</p></li></ul></div><div class=paragraph><p>La maggior parte degli MTA sono in grado di soddisfare questa particolare richiesta. Sfortunatamente, configurare in modo opportuno un MTA standard affinchè permetta solo l’inoltro della posta può essere un compito molto oneroso. Usare applicazioni come sendmail e postfix per questo fine risulta spesso troppo eccessivo.</p></div><div class=paragraph><p>Inoltre, alcuni servizi di accesso a Internet prevedono nel contratto l’impossibilità da parte del cliente di usare un "server di posta".</p></div><div class=paragraph><p>Il modo più facile per colmare questa necessità è installare il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/ssmtp/>mail/ssmtp</a>. Esegui i seguenti comandi come <code>root</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/ports/mail/ssmtp</span>
<span class=c># make install replace clean</span></code></pre></div></div><div class=paragraph><p>Una volta installato, il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/ssmtp/>mail/ssmtp</a> può essere configurato con quattro righe nel file <span class=filename>/usr/local/etc/ssmtp/ssmtp.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>root=il_tuo_indirizzo_di_posta_reale
mailhub=mail.esempio.com
rewriteDomain=esempio.com
hostname=_HOSTNAME_</pre></div></div><div class=paragraph><p>Assicurati di usare il tuo indirizzo di posta per la variabile <code>root</code>. Inserisci il server di posta di inoltro del tuo ISP al posto di <code>mail.esempio.com</code> (alcuni ISP lo chiamano come il "server di posta in uscita" o il "server SMTP").</p></div><div class=paragraph><p>Assicurati di disabilitare sendmail, incluso il servizio di posta in uscita. Guarda la <a href=#mail-disable-sendmail>Disabilitazione di sendmail</a> per maggiori dettagli.</p></div><div class=paragraph><p>Il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/ssmtp/>mail/ssmtp</a> ha altre opzioni disponibili. Guarda il file di configurazione di esempio <span class=filename>/usr/local/etc/ssmtp</span> e la pagina man di ssmtp per alcuni esempi e maggiori informazioni.</p></div><div class=paragraph><p>Configurando ssmtp in questo modo permetterai ai programmi sul tuo computer che necessitano di spedire posta di funzionare correttamente, senza violare le politiche del tuo ISP e senza permettere che il tuo computer sia utilizzato per l’inoltro di spam.</p></div></div><div class=sect2><h3 id=SMTP-dialup>26.9. Uso della Posta con una Connessione Dialup<a class=anchor href=#SMTP-dialup></a></h3><div class=paragraph><p>Se hai un indirizzo IP statico, non hai bisogno di adattare nulla alla configurazione di default. Imposta come nome host il nome Internet che ti è stato assegnato e sendmail farà il resto.</p></div><div class=paragraph><p>Se hai un indirizzo IP assegnato in modo dinamico e usi una connessione PPP dialup per Internet, allora probabilmente avrai una casella di posta sul server di posta del tuo ISP. Assumiamo che il dominio del tuo ISP sia <code>example.net</code>, che il tuo nome utente sia <code>user</code>, che hai chiamato la tua macchina <code>bsd.home</code>, e che il tuo ISP ti ha detto che puoi usare <code>relay.example.net</code> come relay per la posta.</p></div><div class=paragraph><p>Per ricevere la posta dalla tua casella, devi installare un agente di ricupero. L’utility fetchmail è una buona scelta poichè supporta diversi tipi di protocolli. Questo programma è disponibile come package o dalla collezione dei port (<a class=package href=https://cgit.freebsd.org/ports/tree/mail/fetchmail/>mail/fetchmail</a>). Di solito, il tuo ISP fornirà POP. Se stai usando PPP a livello utente, puoi prelevare automaticamente la tua posta quando viene stabilita una connessione a Internet mettendo la seguente riga in <span class=filename>/etc/ppp/ppp.linkup</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>MYADDR:
!bg su user -c fetchmail</pre></div></div><div class=paragraph><p>Se stai usando sendmail (come mostrato sotto) per consegnare posta ad account non locali, probabilmente vorrai che sendmail processi la tua coda di posta non appena viene stabilita una connessione ad Internet. Per far questo, metti il seguente comando dopo il comando <code>fetchmail</code> in <span class=filename>/etc/ppp/ppp.linkup</span>.</p></div><div class="literalblock programlisting"><div class=content><pre>!bg su user -c &#34;sendmail -q&#34;</pre></div></div><div class=paragraph><p>Assumiamo che tu abbia un account per <code>user</code> su <code>bsd.home</code>. Nella directory home di <code>user</code> su <code>bsd.home</code>, crea il file <span class=filename>.fetchmailrc</span> così composto:</p></div><div class="literalblock programlisting"><div class=content><pre>poll example.net protocol pop3 fetchall pass MySecret</pre></div></div><div class=paragraph><p>Questo file non dovrebbe essere leggibile da nessuno ad eccezione di <code>user</code> poichè contiene la password <code>MySecret</code>.</p></div><div class=paragraph><p>Per spedire la posta con il corretto header <code>from:</code>, devi indicare a sendmail di usare <a href=mailto:user@example.net>user@example.net</a> piuttosto che <a href=mailto:user@bsd.home>user@bsd.home</a>. Inoltre vorrai indicare a sendmail di spedire tutta la posta tramite <code>relay.example.net</code>, permettendo una veloce trasmissione della posta.</p></div><div class=paragraph><p>Il seguente file <span class=filename>.mc</span> dovrebbe essere sufficiente:</p></div><div class="literalblock programlisting"><div class=content><pre>VERSIONID(`bsd.home.mc version 1.0&#39;)
OSTYPE(bsd4.4)dnl
FEATURE(nouucp)dnl
MAILER(local)dnl
MAILER(smtp)dnl
Cwlocalhost
Cwbsd.home
MASQUERADE_AS(`example.net&#39;)dnl
FEATURE(allmasquerade)dnl
FEATURE(masquerade_envelope)dnl
FEATURE(nocanonify)dnl
FEATURE(nodns)dnl
define(`SMART_HOST&#39;, `relay.example.net&#39;)
Dmbsd.home
define(`confDOMAIN_NAME&#39;,`bsd.home&#39;)dnl
define(`confDELIVERY_MODE&#39;,`deferred&#39;)dnl</pre></div></div><div class=paragraph><p>Fai riferimento alla precedente sezione per i dettagli su come trasformare questo file <span class=filename>.mc</span> nel file <span class=filename>sendmail.cf</span>. Inoltre, non dimenticarti di riavviare sendmail dopo aver aggiornato il file <span class=filename>sendmail.cf</span>.</p></div></div><div class=sect2><h3 id=SMTP-Auth>26.10. Autenticazione SMTP<a class=anchor href=#SMTP-Auth></a></h3><div class=paragraph><p>Avere un’Autenticazione SMTP operativa sul tuo server di posta porta numerosi benefici. L’Autenticazione SMTP aggiunge un ulteriore strato di sicurezza a sendmail, e ha il vantaggio di dare agli utenti mobili che cambiano host la possibilità di usare lo stesso server di posta senza avere la necessità di riconfigurare ogni volta i settaggi dei loro programmi client di posta.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Installa dai port <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl2/>security/cyrus-sasl2</a>. Puoi trovare questo port in <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl2/>security/cyrus-sasl2</a>. Il port <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl2/>security/cyrus-sasl2</a> ha diverse opzioni di compilazione. Per il metodo di autenticazione SMTP che useremo, assicurati che l’opzione <code>LOGIN</code> non sia disabilitata.</p></li><li><p>Dopo aver installato <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl2/>security/cyrus-sasl2</a>, edita <span class=filename>/usr/local/lib/sasl2/Sendmail.conf</span> (o crealo se non esiste) e aggiungi la seguente riga:</p><div class="literalblock programlisting"><div class=content><pre>pwcheck_method: saslauthd</pre></div></div></li><li><p>Quindi, installa <a class=package href=https://cgit.freebsd.org/ports/tree/security/cyrus-sasl2-saslauthd/>security/cyrus-sasl2-saslauthd</a>, edita <span class=filename>/etc/rc.conf</span> aggiungendo la riga seguente:</p><div class="literalblock programlisting"><div class=content><pre>saslauthd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>ed infine avvia il demone saslauthd:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/etc/rc.d/saslauthd start</span></code></pre></div></div><div class=paragraph><p>Questo demone serve come mediatore con sendmail per autenticare gli utenti tramite il proprio database <span class=filename>passwd</span> di FreeBSD. Questo procedimento evita di creare un nuovo set di nomi utenti e password per ogni utente che necessita di usare l’autenticazione SMTP, mantenendo la password di login uguale alla password di posta.</p></div></li><li><p>Ora aggiungi le seguenti righe in <span class=filename>/etc/make.conf</span>:</p><div class="literalblock programlisting"><div class=content><pre>SENDMAIL_CFLAGS=-I/usr/local/include/sasl -DSASL
SENDMAIL_LDFLAGS=-L/usr/local/lib
SENDMAIL_LDADD=-lsasl2</pre></div></div><div class=paragraph><p>Queste righe daranno, in fase di compilazione di sendmail, le giuste opzioni di configurazione per linkare a <a class=package href=https://cgit.freebsd.org/ports/tree/cyrus-sasl2/>cyrus-sasl2</a>. Assicurati che <a class=package href=https://cgit.freebsd.org/ports/tree/cyrus-sasl2/>cyrus-sasl2</a> sia installato prima di ricompilare sendmail.</p></div></li><li><p>Ricompila sendmail eseguendo i seguenti comandi:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/src/lib/libsmutil</span>
<span class=c># make cleandir &amp;&amp; make obj &amp;&amp; make</span>
<span class=c># cd /usr/src/lib/libsm</span>
<span class=c># make cleandir &amp;&amp; make obj &amp;&amp; make</span>
<span class=c># cd /usr/src/usr.sbin/sendmail</span>
<span class=c># make cleandir &amp;&amp; make obj &amp;&amp; make &amp;&amp; make install</span></code></pre></div></div><div class=paragraph><p>Se <span class=filename>/usr/src</span> non ha subito enormi cambiamenti e se le librerie condivise di cui si ha bisogno sono disponibili, la compilazione di sendmail non dovrebbe avere problemi.</p></div></li><li><p>Dopo aver compilato e reinstallato sendmail, edita il tuo file <span class=filename>/etc/mail/freebsd.mc</span> (o qualunque altro file che usi come file <span class=filename>.mc</span>. Molti amministratori preferiscono usare, per unicità, l’output di <a href="https://man.freebsd.org/cgi/man.cgi?query=hostname&amp;sektion=1&amp;format=html">hostname(1)</a> come nome del file <span class=filename>.mc</span>). Aggiungi le seguenti righe:</p><div class="literalblock programlisting"><div class=content><pre>dnl set SASL options
TRUST_AUTH_MECH(`GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN&#39;)dnl
define(`confAUTH_MECHANISMS&#39;, `GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN&#39;)dnl</pre></div></div><div class=paragraph><p>Queste opzioni configurano i vari metodi che sendmail ha a disposizione per autenticare gli utenti. Se vuoi usare un metodo diverso da pwcheck, guarda la documentazione inclusa nel package.</p></div></li><li><p>Per finire, esegui <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> in <span class=filename>/etc/mail</span>. Questo eseguirà il tuo nuovo file <span class=filename>.mc</span> e creerà un file <span class=filename>.cf</span> di nome <span class=filename>freebsd.cf</span> (o con il nome che hai usato per il file <span class=filename>.mc</span>). Quindi esegui il comando <code>make install restart</code>, che copierà il file in <span class=filename>sendmail.cf</span>, e riavvierà correttamente sendmail. Per maggiori informazioni su questa procedura, dovresti prendere come riferimento <span class=filename>/etc/mail/Makefile</span>.</p></li></ol></div></div></div><div class=paragraph><p>Se tutto è andato per il verso giusto, dovresti essere in grado di inviare un messaggio di prova dopo aver inserito le informazioni di login nel programma client di posta. Per ulteriori indagini, setta il <code>LogLevel</code> di sendmail a 13 e guarda il file <span class=filename>/var/log/maillog</span> per eventuali errori.</p></div><div class=paragraph><p>Per ulteriori informazioni, guarda la pagina riguardante <a href=http://www.sendmail.org/\~ca/email/auth.html>l’autenticazione SMTP</a> di sendmail.</p></div></div><div class=sect2><h3 id=mail-agents>26.11. Mail User Agent<a class=anchor href=#mail-agents></a></h3><div class=paragraph><p>Un Mail User Agent (MUA) è un’applicazione che viene usata per inviare e ricevere la posta elettronica. Man mano che la posta "evolve" e diventa più complessa, gli MUA diventano sempre più potenti nel modo in cui essi interagiscono con la posta elettronica; ciò fornisce agli utenti maggiori funzionalità e flessibilità. FreeBSD supporta svariati mail user agent, che possono essere facilmente installati usando la <a href=./#ports>FreeBSD Ports Collection</a>. Gli utenti possono scegliere tra client di posta con un’interfaccia grafica come evolution o balsa, client basati sulla console come mutt, pine e <code>mail</code>, oppure interfacce web utilizzate da alcune grandi organizzazioni.</p></div><div class=sect3><h4 id=mail-command>26.11.1. mail<a class=anchor href=#mail-command></a></h4><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> è il Mail User Agent (MUA) di default su FreeBSD. Si tratta di un MUA basato sulla console che offre tutte le funzionalità di base richieste per inviare e ricevere messaggi di posta testuali, anche se è limitato nelle capacità di gestione degli allegati, e può solo supportare caselle di posta locali.</p></div><div class=paragraph><p>Sebbene <code>mail</code> non supporta in modo nativo interazioni con server POP o IMAP, queste caselle di posta possono essere scaricate nel file <span class=filename>mbox</span> locale usando un’applicazione come fetchmail, che verrà discussa più tardi in questo capitolo (<a href=#mail-fetchmail>Usare fetchmail</a>).</p></div><div class=paragraph><p>Al fine di inviare o ricevere la posta, invoca semplicemente il comando <code>mail</code> come nel seguente esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mail</code></pre></div></div><div class=paragraph><p>I contenuti delle caselle di posta degli utenti in <span class=filename>/var/mail</span> sono letti automaticamente dall’utility <code>mail</code>. Se la casella di posta è vuota, l’utility esce con un messaggio che indica che non è stato trovato nessun messaggio di posta. Una volta che la casella di posta è stata letta, viene avviata l’interfaccia dell’applicazione, e vengono visualizzati una lista di messaggi. I messaggi sono numerati in modo automatico, come nel seguente esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>Mail version 8.1 6/6/93.  Type ? <span class=k>for </span>help.
<span class=s2>&#34;/var/mail/marcs&#34;</span>: 3 messages 3 new
<span class=o>&gt;</span>N  1 root@localhost        Mon Mar  8 14:05  14/510   <span class=s2>&#34;test&#34;</span>
 N  2 root@localhost        Mon Mar  8 14:05  14/509   <span class=s2>&#34;user account&#34;</span>
 N  3 root@localhost        Mon Mar  8 14:05  14/509   <span class=s2>&#34;sample&#34;</span></code></pre></div></div><div class=paragraph><p>I messaggi possono ora essere letti usando il comando <kbd>t</kbd> di <code>mail</code>, seguito dal numero del messaggio che si vuole visualizzare. In questo esempio, leggeremo il primo messaggio di posta:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>&amp; t 1
Message 1:
From root@localhost  Mon Mar  8 14:05:52 2004
X-Original-To: marcs@localhost
Delivered-To: marcs@localhost
To: marcs@localhost
Subject: <span class=nb>test
</span>Date: Mon,  8 Mar 2004 14:05:52 +0200 <span class=o>(</span>SAST<span class=o>)</span>
From: root@localhost <span class=o>(</span>Charlie Root<span class=o>)</span>

Questo è un messaggio di prova, per favore rispondi se lo ricevi.</code></pre></div></div><div class=paragraph><p>Come puoi vedere nell’esempio precedente, il tasto <kbd>t</kbd> visualizza il messaggio completo di tutte le sue intestazioni (header). Per visualizzare ancora la lista dei messaggi, puoi usare il tasto <kbd>h</kbd>.</p></div><div class=paragraph><p>Se il messaggio di posta richiede una replica, puoi usare <code>mail</code> per rispondere, usando il tasto <kbd>R</kbd> o <kbd>r</kbd> di <code>mail</code>. Il tasto <kbd>R</kbd> dice a <code>mail</code> di rispondere solamente al mittente del messaggio, mentre <kbd>r</kbd> replica non solo al mittente, ma anche agli altri eventuali destinatari del messaggio originario. Puoi anche impartire quei comandi con un suffisso relativo al numero di messaggio per il quale intendi rispondere. Fatto ciò, inserisci la tua risposta, segnalando la fine del messaggio con un singolo punto (<kbd>.</kbd>) su una nuova linea. Ecco un esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>&amp; R 1
To: root@localhost
Subject: Re: <span class=nb>test

</span>Thank you, I did get your email.
<span class=nb>.</span>
EOT</code></pre></div></div><div class=paragraph><p>Per inviare un nuovo messaggio, puoi usare il tasto <kbd>m</kbd>, seguito dall’indirizzo di posta elettronica del destinatario. Puoi specificare più destinatari separando ogni indirizzo da una virgola (<kbd>,</kbd>). Quindi si inserisce il soggetto del messaggio (il subject), seguito dal contenuto del messaggio stesso. La fine del messaggio deve essere specificata da un singolo punto (<kbd>.</kbd>) su una nuova linea.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>&amp; mail root@localhost
Subject: Ho imparato ad usare mail

Ora posso inviare e ricevere posta usando mail ... :<span class=o>)</span>
<span class=nb>.</span>
EOT</code></pre></div></div><div class=paragraph><p>Anche se in <code>mail</code>, il comando <kbd>?</kbd> può essere usato per invocare l’help in linea, la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> dovrebbe essere consultata per ottenere maggiori informazioni.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Come menzionato in precedenza, il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> non è stato originariamente progettato per gestire gli allegati, e quindi il supporto per essi è proprio misero. Nuovi MUA come mutt gestiscono gli allegati in un modo più intelligente. Tuttavia se desideri comunque usare il comando <code>mail</code>, dovresti considerare l’uso del port <a class=package href=https://cgit.freebsd.org/ports/tree/converters/mpack/>converters/mpack</a>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=mutt-command>26.11.2. mutt<a class=anchor href=#mutt-command></a></h4><div class=paragraph><p>mutt è un Mail User Agent leggero ma molto potente, con caratteristiche eccellenti, alcune delle quali sono:</p></div><div class=ulist><ul><li><p>Abilità nella gestione di thread di messaggi;</p></li><li><p>Supporto PGP per la firma digitale e per criptare i messaggi di posta;</p></li><li><p>Supporto al MIME;</p></li><li><p>Supporto del formato Maildir;</p></li><li><p>Altamente personalizzabile.</p></li></ul></div><div class=paragraph><p>Tutte queste caratteristiche fanno di mutt uno dei maggiori user agent avanzati oggi disponibili. Guarda <a href=http://www.mutt.org>http://www.mutt.org</a> per maggiori informazioni su mutt.</p></div><div class=paragraph><p>La versione stabile di mutt può essere installata usando il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/mutt/>mail/mutt</a>, mentre la versione corrente di sviluppo può essere installata tramite il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/mutt-devel/>mail/mutt-devel</a>. Una volta che il port è stato installato, mutt può essere avviato usando il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% mutt</code></pre></div></div><div class=paragraph><p>mutt in modo automatico legge il contenuto della casella di posta dell’utente in <span class=filename>/var/mail/</span> e ne visualizza il contenuto. Se non ci sono messaggi nella casella di posta dell’utente, allora mutt si mette in attesa di comandi da parte dell’utente. L’esempio qui sotto mostra mutt che visualizza una lista di messaggi:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/mutt1.png alt=mutt1></div></div><div class=paragraph><p>Per leggere un messaggio, selezionalo usando i tasti cursore, e premi il tasto <kbd>Invio</kbd>. Segue un esempio di come mutt visualizza un messaggio:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/mutt2.png alt=mutt2></div></div><div class=paragraph><p>Come con il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a>, mutt permette agli utenti di rispondere al solo mittente del messaggio come pure a tutti i suoi destinatari. Per rispondere solo al mittente del messaggio, usa il tasto <kbd>r</kbd>. Per inviare una risposta di gruppo, che invierà la risposta sia al mittente originario sia a tutti i destinatari del messaggio, usa il tasto <kbd>g</kbd>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>mutt si serve del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> come editor per la creazione o risposta dei messaggi di posta elettronica. Il tipo di editor può essere personalizzato dall’utente creando o editando il proprio file di configurazione <span class=filename>.muttrc</span> nella propria directory home e settando in modo opportuno la variabile <code>editor</code> o impostando la variabile di ambiente <code>EDITOR</code>. Guarda <a href=http://www.mutt.org/>http://www.mutt.org/</a> per ulteriori informazioni sulla configurazione di mutt.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per comporre un nuovo messaggio, premi il tasto <kbd>m</kbd>. Dopo aver digitato un valido soggetto, mutt avvierà <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> con il quale comporre il corpo del messaggio. Fatto ciò, salvando e uscendo da <code>vi</code>, mutt visualizzarà una schermata riassuntiva del messaggio che sta per essere consegnato. Per inviare il messaggio, premi il tasto <kbd>y</kbd>. Segue un esempio di una schermata riassuntiva di un messaggio:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/mutt3.png alt=mutt3></div></div><div class=paragraph><p>mutt contiene un ottimo help in linea, che può essere accessibile nella maggior parte dei menù digitando il tasto <kbd>?</kbd>. Inoltre, in alcuni casi, nella parte superiore delle finestra vengono elencati i tasti funzioni principali.</p></div></div><div class=sect3><h4 id=pine-command>26.11.3. pine<a class=anchor href=#pine-command></a></h4><div class=paragraph><p>pine è rivolto agli utenti novizi, tuttavia include alcune caratteristiche avanzate.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Il software pine ha avuto svariate vulnerabilità remote scoperte in passato, che permettevano ad attaccanti remoti di eseguire del codice arbitrario come se fossero degli utenti locali del sistema, tramite l’invio di un messaggio di posta preparato ad doc. Tutti questi <em>noti</em> problemi sono stati rattoppati, ma il codice di pine è stato scritto in un modo insicuro e il Servizio di Sicurezza di FreeBSD crede che probabilmente esistono altre vulnerabilità non ancora scoperte o divulgate. Installa pine a tuo rischio e pericolo.</p></div></td></tr></tbody></table></div><div class=paragraph><p>L’attuale versione di pine può essere installata usando il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/pine4/>mail/pine4</a>. Una volta che il port è stato installato, pine può essere avviato con il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% pine</code></pre></div></div><div class=paragraph><p>La prima volta che pine viene avviato viene visualizza una pagina di presentazione con una breve introduzione, e un sollecito del team di sviluppo di pine ad inviare un messaggio anonimo che permette di constatare quanti sono gli utenti che usano la loro applicazione. Per inviare questo messaggio anonimo, premi <kbd>Invio</kbd>, oppure premi il tasto <kbd>E</kbd> per uscire dalla presentazione senza inviare il messaggio anonimo. Ecco un esempio della pagina di presentazione:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine1.png alt=pine1></div></div><div class=paragraph><p>All’utente viene quindi presentato il menù principale, che può essere facilmente esplorato con i tasti cursore. Questo menù principale fornisce le scorciatoie per comporre nuovi messaggi di posta, per esplorare le directory di posta e perfino per amministrare l’agenda degli indirizzi. Sotto al menù principale, sono mostrati i tasti funzione utili per realizzare azioni specifiche, attinenti all’attuale contesto d’uso.</p></div><div class=paragraph><p>La directory di default aperta da pine è <span class=filename>inbox</span>. Per visualizzare l’indice dei messaggi, premi il tasto <kbd>I</kbd>, o seleziona l’opzione <span class=guimenuitem>MESSAGE INDEX</span> come da esempio:</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine2.png alt=pine2></div></div><div class=paragraph><p>L’indice dei messaggi mostra i messaggi nella directory corrente, e può essere esplorato con i tasti cursore. I messaggi selezionati possono essere letti premendo il tasto <kbd>Invio</kbd>.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine3.png alt=pine3></div></div><div class=paragraph><p>Nello screenshot seguente, viene visualizzato un semplice messaggio in pine. I tasti funzione sono visualizzati come riferimento nella parte superiore della finestra. Un esempio di uno di questi tasti funzioni è il tasto <kbd>r</kbd>, che dice al MUA di rispondere al messaggio attualmente visualizzato.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine4.png alt=pine4></div></div><div class=paragraph><p>In pine la risposta ad un messaggio viene realizzata con l’editor pico, che è installato di default con pine. L’utility pico permette una semplice esplorazione del messaggio ed è più permissivo con i nuovi utenti rispetto a <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> o <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a>. Una volta completata la risposta, il messaggio può essere inviato con <span class=keyseq><kbd>Ctrl</kbd>+<kbd>X</kbd></span>. L’applicazione pine chiederà una conferma.</p></div><div class=imageblock><div class=content><img src=../../../../images/books/handbook/mail/pine5.png alt=pine5></div></div><div class=paragraph><p>pine può essere personalizzato usando l’opzione <span class=guimenuitem>SETUP</span> del menù principale. Consulta <a href=http://www.washington.edu/pine/>http://www.washington.edu/pine/</a> per maggiori informazioni.</p></div></div></div><div class=sect2><h3 id=mail-fetchmail>26.12. Usare fetchmail<a class=anchor href=#mail-fetchmail></a></h3><div class=paragraph><p>fetchmail è un client IMAP e POP super attrezzato che da la possibilità agli utenti di scaricare automaticamente la posta da server remoti IMAP e POP e di salvarla nelle proprie caselle di posta locali; in questo modo la posta è più accessibile. fetchmail può essere installato usando il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/fetchmail/>mail/fetchmail</a>, e offre diverse caratteristiche, alcune delle quali sono:</p></div><div class=ulist><ul><li><p>Supporto dei protocolli POP3, APOP, KPOP, IMAP, ETRN e ODMR.</p></li><li><p>Capacità di inoltrare la posta usando SMTP, permettendo di filtrare, inoltrare, e usare la funzionalità alias come di consueto.</p></li><li><p>Può essere eseguito in modalità demone per verificare in modo periodico la presenza di nuovi messaggi.</p></li><li><p>Può recuperare più caselle di posta e inoltrare i relativi messaggi a diversi utenti locali, a seconda della sua configurazione.</p></li></ul></div><div class=paragraph><p>Benchè la spiegazione di tutte le caratteristiche di fetchmail vada oltre lo scopo di questo documento, verranno presentate alcune funzionalità di base. fetchmail richiede un file di configurazione <span class=filename>.fetchmailrc</span>, al fine di poter essere avviato in modo corretto. Questo file include informazioni sui server come pure le credenziali per il login. Data la natura sensibile del contenuto di questo file, è consigliabile renderlo accessibile in sola lettura dal proprietario, usando il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% <span class=nb>chmod </span>600 .fetchmailrc</code></pre></div></div><div class=paragraph><p>La seguente configurazione di <span class=filename>.fetchmailrc</span> serve come esempio per scaricare una singola casella di posta usando POP. Essa indica a fetchmail di connettersi a <code>example.com</code> usando come nome utente <code>joesoap</code> e come password <code>XXX</code>. Questo esempio assume che l’utente <code>joesoap</code> è anche un utente del sistema locale.</p></div><div class="literalblock programlisting"><div class=content><pre>poll example.com protocol pop3 username &#34;joesoap&#34; password &#34;XXX&#34;</pre></div></div><div class=paragraph><p>Il prossimo esempio si connette a più server POP e IMAP e redirige i vari messaggi a diversi nomi utenti locali quando necessario:</p></div><div class="literalblock programlisting"><div class=content><pre>poll example.com proto pop3:
user &#34;joesoap&#34;, with password &#34;XXX&#34;, is &#34;jsoap&#34; here;
user &#34;andrea&#34;, with password &#34;XXXX&#34;;
poll example2.net proto imap:
user &#34;john&#34;, with password &#34;XXXXX&#34;, is &#34;myth&#34; here;</pre></div></div><div class=paragraph><p>L’utility fetchmail può essere eseguita in modalità demone con l’opzione <code>-d</code>, seguita da un intervallo (in secondi) in base al quale fetchmail sonderà i server elencati nel file <span class=filename>.fetchmailrc</span>. Il seguente esempio indica a fetchmail di sondare i server ogni 600 secondi:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% fetchmail <span class=nt>-d</span> 600</code></pre></div></div><div class=paragraph><p>Maggiori informazioni su fetchmail possono essere trovate all’indirizzo <a href=http://fetchmail.berlios.de/>http://fetchmail.berlios.de/</a>.</p></div></div><div class=sect2><h3 id=mail-procmail>26.13. Usare procmail<a class=anchor href=#mail-procmail></a></h3><div class=paragraph><p>L’utility procmail è un’applicazione molto potente usata per filtrare la posta in ingresso. Permette agli utenti di definire delle "regole" che sono confrontate con la posta in ingresso per realizzare funzioni specifiche o per inoltrare la posta ad una casella di posta alternativa e/o ad altri indirizzi di posta. procmail può essere installato usando il port <a class=package href=https://cgit.freebsd.org/ports/tree/mail/procmail/>mail/procmail</a>. Una volta installato, può essere integrato direttamente nella maggior parte degli MTA; consulta la documentazione del tuo MTA per maggiori informazioni. Altrimenti, procmail può essere integrato aggiungendo la seguente linea nel file <span class=filename>.forward</span> nella home directory dell’utente, potendo così utilizzare le funzionalità di procmail:</p></div><div class="literalblock programlisting"><div class=content><pre>&#34;|exec /usr/local/bin/procmail || exit 75&#34;</pre></div></div><div class=paragraph><p>La seguente sezione mostra alcune regole base di procmail, così come una breve descrizione di ciò che fanno. Queste ed eventualmente altre regole, devono essere inserite nel file <span class=filename>.procmailrc</span>, posto nella home directory dell’utente.</p></div><div class=paragraph><p>La maggior parte di queste regole possono essere trovate anche nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=procmailex&amp;sektion=5&amp;format=html">procmailex(5)</a>.</p></div><div class=paragraph><p>Per inoltrare la posta inviata da <a href=mailto:user@example.com>user@example.com</a> all’indirizzo di posta <a href=mailto:goodmail@example2.com>goodmail@example2.com</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* ^From.*user@example.com
! goodmail@example2.com</pre></div></div><div class=paragraph><p>Per inoltrare tutti i messaggi di posta con dimensioni inferiori a 1000 bytes verso l’indirizzo di posta esterno <a href=mailto:goodmail@example2.com>goodmail@example2.com</a>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* &lt; 1000
! goodmail@example2.com</pre></div></div><div class=paragraph><p>Per inoltrare tutta la posta inviata a <a href=mailto:alternate@example.com>alternate@example.com</a> in una casella di posta chiamata <span class=filename>alternate</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* ^TOalternate@example.com
alternate</pre></div></div><div class=paragraph><p>Per inviare tutti messaggi di posta con soggetto "Spam" in <span class=filename>/dev/null</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
^Subject:.*Spam
/dev/null</pre></div></div><div class=paragraph><p>Ecco una ricetta utile che analizza i messaggi di posta in ingresso delle liste di <code>FreeBSD.org</code> e li posiziona in base alla lista in una opportuna casella di posta:</p></div><div class="literalblock programlisting"><div class=content><pre>:0
* ^Sender:.owner-freebsd-\/[^@]+@FreeBSD.ORG
{
  LISTNAME=${MATCH}
  :0
  * LISTNAME??^\/[^@]+
  FreeBSD-${MATCH}
}</pre></div></div></div></div></div><div class=sect1><h2 id=network-servers>Capitolo 27. Server di rete<a class=anchor href=#network-servers></a></h2><div class=sectionbody><div class=sect2><h3 id=network-servers-synopsis>27.1. Sinossi<a class=anchor href=#network-servers-synopsis></a></h3><div class=paragraph><p>Questo capitolo coprirà alcuni dei servizi di rete usati più di frequente sui sistemi UNIX®. Fra gli argomenti toccati, ci saranno l’installazione, la configurazione, il test ed la manutenzione di molti tipi diversi di servizi di rete. Per vostro beneficio in tutto il capitolo saranno inclusi file di configurazione di esempio.</p></div><div class=paragraph><p>Dopo aver letto questo capitolo, sarai in grado di:</p></div><div class=ulist><ul><li><p>Gestire il demone inetd.</p></li><li><p>Installare un file system di rete.</p></li><li><p>Installare un server NIS per condividere account utenti.</p></li><li><p>Installare impostazioni automatiche di rete usando DHCP.</p></li><li><p>Installare un server di risoluzione dei nomi.</p></li><li><p>Installare il server HTTP Apache.</p></li><li><p>Installare un File Transfer Protocol (FTP) Server.</p></li><li><p>Installare un file server e server di stampa per client Windows® usando Samba.</p></li><li><p>Sincronizzare la data e l’ora ed installare un time server, col protocollo NTP.</p></li></ul></div><div class=paragraph><p>Prima di leggere questo capitolo, dovresti:</p></div><div class=ulist><ul><li><p>Comprendere le basi dell’organizzazione degli scripts <span class=filename>/etc/rc</span>.</p></li><li><p>Avere familiarità con la terminologia di rete di base.</p></li><li><p>Sapere come installare software aggiuntivo di terze parti (<a href=./#ports>Installazione delle Applicazioni. Port e Package</a>).</p></li></ul></div></div><div class=sect2><h3 id=network-inetd>27.2. Il "Super-Server"inetd<a class=anchor href=#network-inetd></a></h3><div class=sect3><h4 id=network-inetd-overview>27.2.1. Uno sguardo d’insieme<a class=anchor href=#network-inetd-overview></a></h4><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> viene talvolta definito l'"Internet Super-Server" perchè gestisce le connessioni verso molti servizi. Quando una connessione viene ricevuta da inetd, questo determina per quale programma la connessione sia destinata, esegue quel particolare processo e affida a lui la socket (il programma è invocato con la socket del servizio come descrittore di standard input, output ed error). Eseguire inetd per server dal carico non troppo alto può ridurre il carico complessivo di sistema, rispetto all’esecuzione individuale di ogni demone in modalità stand-alone.</p></div><div class=paragraph><p>Principalmente, inetd è usato per lanciare altri demoni, ma molti protocolli triviali sono gestiti direttamente, come ad esempio i protocolli chargen, auth, e daytime.</p></div><div class=paragraph><p>Questa sezione coprirà le basi della configurazione di inetd attraverso le opzioni da linea di comando ed il suo file di configurazione, <span class=filename>/etc/inetd.conf</span>.</p></div></div><div class=sect3><h4 id=network-inetd-settings>27.2.2. Impostazioni<a class=anchor href=#network-inetd-settings></a></h4><div class=paragraph><p>inetd viene inizializzato attraverso il sistema <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a>. L’opzione <code>inetd_enable</code> è impostata a <code>NO</code> di default, ma può essere attivata da sysinstall durante l’installazione, a seconda della configurazione scelta dall’utente. Inserendo:</p></div><div class="literalblock programlisting"><div class=content><pre>inetd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>o</p></div><div class="literalblock programlisting"><div class=content><pre>inetd_enable=&#34;NO&#34;</pre></div></div><div class=paragraph><p>in <span class=filename>/etc/rc.conf</span> si abiliterà o meno la partenza di inetd al boot. Il comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/inetd rcvar</span></code></pre></div></div><div class=paragraph><p>può essere utilizzato per mostrare le impostazioni attive al momento.</p></div><div class=paragraph><p>Inoltre, diverse opzioni di linea di comando possono essere passate a inetd attraverso l’opzione <code>inetd_flags</code>.</p></div></div><div class=sect3><h4 id=network-inetd-cmdline>27.2.3. Opzioni su linea di comando<a class=anchor href=#network-inetd-cmdline></a></h4><div class=paragraph><p>Come molti server di rete, inetd ha un numero di opzioni che possono essergli passate per modificare il suo comportamento. La lista di tutte le opzioni è:</p></div><div class=paragraph><p>inetd synopsis:</p></div><div class=paragraph><p><code>inetd [-d] [-l] [-w] [-W] [-c maximum] [-C rate] [-a address | hostname] [-p filename] [-R rate] [configuration file]</code></p></div><div class=paragraph><p>Si possono passare opzioni ad inetd usando l’opzione <code>inetd_flags</code> in <span class=filename>/etc/rc.conf</span>. Di default, <code>inetd_flags</code> è impostato a <code>-wW -C 60</code>, il che attiva il TCP wrapping per i servizi di inetd, ed impedisce ad ogni singolo indirizzo IP di richiedere qualsiasi servizio piùdi 60 volte al minuto.</p></div><div class=paragraph><p>Gli utenti novizi possono notare con piacere che questi parametri di solito non devono essere modificati, anche se bisogna menzionare il fatto che le opzioni di limitazione delle connessioni sono utili solo se ci si accorge di ricevere un numero eccessivo di connessioni. L’intera lista delle opzioni di <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> può essere trovata nel manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a>.</p></div><div class=dlist><dl><dt class=hdlist1>-c maximum</dt><dd><p>Specifica il numero massimo di invocazioni simultanee per ogni servizio; il default è illimitato. Può essere sovrascritto per ogni servizio dal parametro <code>max-child</code>.</p></dd><dt class=hdlist1>-C rate</dt><dd><p>Specifica un numero massimo di volte in cui un servizio può essere invocato da un singolo indirizzo IP in un minuto; il default è illimitato. Può essere sovrascritto per ogni servizio con il parametro <code>max-connections-per-ip-per-minute</code>.</p></dd><dt class=hdlist1>-R rate</dt><dd><p>Specifica il numero massimo di volte che un servizio può essere invocato in un minuto; il default è 256. L’impostazione 0 permette un numero illimitato di invocazioni.</p></dd><dt class=hdlist1>-s maximum</dt><dd><p>Specifica il numero massimo di volte che un servizio può essere invocato per ogni periodo di tempo; il default è illimitato. Può essere sovrascritto per ogni singolo servizio con il parametro <code>max-child-per-ip</code>.</p></dd></dl></div></div><div class=sect3><h4 id=network-inetd-conf>27.2.4. <span class=filename>inetd.conf</span><a class=anchor href=#network-inetd-conf></a></h4><div class=paragraph><p>La configurazione di inetd è fatta attraverso il file <span class=filename>/etc/inetd.conf</span>.</p></div><div class=paragraph><p>Quando viene apportata una modifica a <span class=filename>/etc/inetd.conf</span>, si può forzare inetd a rileggere il suo file di configurazione eseguendo il comando:</p></div><div id=network-inetd-reread class=exampleblock><div class=title>Esempio 14. Ricaricare il file di configurazione di inetd</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/inetd reload</span></code></pre></div></div></div></div><div class=paragraph><p>Ogni linea del file di configurazione specifica un singolo demone. I commenti nel file sono preceduti da un "#". Il formato di ogni riga del file <span class=filename>/etc/inetd.conf</span> è il seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>nome del servizio
tipo della socket
protocollo
{wait|nowait}[/max-child[/max-connections-per-ip-per-minute]]
utente[:gruppo][/classe-di-login]
programma-server
argomenti-del-programma-server</pre></div></div><div class=paragraph><p>Un esempio di linea per il demone <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpd&amp;sektion=8&amp;format=html">ftpd(8)</a> usando l’IPv4:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp     stream  tcp     nowait  root /usr/libexec/ftpd       ftpd -l</pre></div></div><div class=dlist><dl><dt class=hdlist1>nome-del-servizio</dt><dd><p>È il nome del servizio per il demone. Deve corrispondere ad un servizio elencato in <span class=filename>/etc/services</span>. Questo determina su quale porta inetd deve restare in ascolto. Se viene creato un nuovo servizio, deve essere messo prima in <span class=filename>/etc/services</span>.</p></dd><dt class=hdlist1>tipo-di-socket</dt><dd><p>Una a scelta fra <code>stream</code>, <code>dgram</code>, <code>raw</code>, o <code>seqpacket</code>. <code>stream</code> deve essere usata per demoni basati sulla connessione, tipo TCP, mentre <code>dgram</code> è usato per demoni che usano il protocollo di trasporto UDP.</p></dd><dt class=hdlist1>protocollo</dt><dd><p>Uno dei seguenti:</p><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Protocollo</th><th class="tableblock halign-left valign-top">Spiegazione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp, tcp4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP IPv4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp, udp4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP IPv4</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>TCP IPv6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp6</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>UDP IPv6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>tcp46</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Entrambi TCP IPv4 e v6</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>udp46</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Entrambi UDP IPv4 e v6</p></td></tr></tbody></table></dd><dt class=hdlist1>{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-ip]]]</dt><dd><p><code>wait|nowait</code> indica se il demone invocato da inetd è in grado di gestire la sua socket o meno. Il tipo di socket <code>dgram</code> deve usare l’opzione <code>wait</code>, mentre i demoni con socket stream, che sono in genere multi-thread, devono usare <code>nowait</code>. <code>wait</code> in genere fornisce socket multiple ad un singolo demone, mentre <code>nowait</code> lancia un demone figlio per ogni nuova socket.</p><div class=paragraph><p>Il massimo numero di demoni figli che inetd può lanciare si imposta attraverso l’opzione <code>max-child</code>. Se è richiesto un limite di dieci istanze per un particolare demone, un <code>/10</code> dovrebbe essere inserito dopo l’opzione <code>nowait</code>. Specificando <code>/0</code> si lascia un numero illimitato di figli.</p></div><div class=paragraph><p>Oltre all’opzione <code>max-child</code>, possono essere attivate due altre opzioni che limitano il massimo numero di connessioni da un singolo ip verso un particolare demone. <code>max-connections-per-ip-per-minute</code> limita il numero di connessioni da un particolare indirizzo IP per minuto, ad esempio un valore di dieci limiterebbe ogni singolo indirizzo IP a connettersi verso un certo servizio a dieci connessioni al minuto. <code>max-child-per-ip</code> limita il numero di figli che possono essere avviati su richiesta di un singolo indirizzo IP in ogni momento. Queste opzioni sono utili per prevenire eccessivo consumo delle risorse intenzionale o non intenzionale e attacchi Denial of Service (DoS) ad una macchina.</p></div><div class=paragraph><p>In questo campo, <code>wait</code> o <code>nowait</code> sono obbligatorie. <code>max-child</code> e <code>max-connections-per-ip-per-minute</code> e <code>max-child-per-ip</code> sono opzionali.</p></div><div class=paragraph><p>Un demone tipo-stream multi-thread senza i limiti <code>max-child</code> o <code>max-connections-per-ip-per-minute</code> dovrebbe essere semplicemente: <code>nowait</code>.</p></div><div class=paragraph><p>Lo stesso demone con un limite massimo di dieci demoni dovrebbe avere: <code>nowait/10</code>.</p></div><div class=paragraph><p>In aggiunta, la stessa impostazione con un limite di venti connessioni per IP al minuto ed un limite massimo di dieci demoni figli avrebbe: <code>nowait/10/20</code>.</p></div><div class=paragraph><p>Queste opzioni sono tutte utilizzate di default nelle impostazioni del demone <a href="https://man.freebsd.org/cgi/man.cgi?query=fingerd&amp;sektion=8&amp;format=html">fingerd(8)</a> come si vede di seguito:</p></div><div class="literalblock programlisting"><div class=content><pre>finger stream  tcp     nowait/3/10 nobody /usr/libexec/fingerd fingerd -s</pre></div></div><div class=paragraph><p>Alla fine, un esempio di questo campo con 100 figli in tutto, con un massimo di 5 per singolo indirizzo IP sarebbe: <code>nowait/100/0/5</code>.</p></div></dd><dt class=hdlist1>user</dt><dd><p>Questo è lo username sotto il quale un particolare demone dovrebbe girare. Di frequente, i demoni girano come utente <code>root</code>. Per motivi di sicurezza, è normale trovare alcuni server che girano con l’utente <code>daemon</code>, o il meno privilegiato utente <code>nobody</code>.</p></dd><dt class=hdlist1>server-program</dt><dd><p>Il percorso assoluto del demone che deve essere eseguito quando è ricevuta una connessione . Se il demone è un servizio offerto da inetd internamente, bisogna usare <code>internal</code>.</p></dd><dt class=hdlist1>server-program-arguments</dt><dd><p>Questa opzione funziona in congiunzione con <code>server-program</code> specificando gli argomenti, cominciando con <code>argv[0]</code>, passati al demone al momento dell’invocazione. Se <code>mydaemon -d</code> è la linea di comando, <code>mydaemon -d</code> sarà il valore dell’opzione <code>server-program-arguments</code>. Ancora, se un demone è un servizio interno, usa <code>internal</code>.</p></dd></dl></div></div><div class=sect3><h4 id=network-inetd-security>27.2.5. Sicurezza<a class=anchor href=#network-inetd-security></a></h4><div class=paragraph><p>A seconda delle scelte fatte all’installazione, molti servizi di inetd potrebbero essere attivi di default. Se non c’è necessità apparente per un particolare demone, considera di disabilitarlo. Usa un "#" a capo della riga del demone in questione in <span class=filename>/etc/inetd.conf</span>, e quindi <a href=#network-inetd-reread>ricarica la configurazione di inetd</a>. Alcuni demoni, come fingerd, potrebbero non essere assolutamente desiderati, poichè forniscono all’attaccante informazioni che gli potrebbero risultare utili.</p></div><div class=paragraph><p>Alcuni demoni non sono stati creati coll’obiettivo della sicurezza ed hanno timeout lunghi, o non esistenti. Questo permette ad un attaccante di inviare lentamente connessioni ad un particolare demone, saturando in questo modo le risorse disponibile. Può essere una buona idea impostare le limitazioni <code>max-connections-per-ip-per-minute</code> e <code>max-child</code> o <code>max-child-per-ip</code> su certi demoni se scopri di avere troppe connessioni.</p></div><div class=paragraph><p>Di default, il TCP wrapping è attivo. Consulta la pagina del manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts_access&amp;sektion=5&amp;format=html">hosts_access(5)</a> per impostare delle restrizioni TCP su certi demoni invocati da inetd.</p></div></div><div class=sect3><h4 id=network-inetd-misc>27.2.6. Miscellanei<a class=anchor href=#network-inetd-misc></a></h4><div class=paragraph><p>daytime, time, echo, discard, chargen, e auth sono tutti servizi interni di inetd.</p></div><div class=paragraph><p>Il servizio auth fornisce servizi di rete di identificazione ed è configurabile fino ad un certo punto, mentre gli altri possono solo essere accesi o spenti.</p></div><div class=paragraph><p>Consulta la paigna di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> per dettagli più approfonditi.</p></div></div></div><div class=sect2><h3 id=network-nfs>27.3. Network File System (NFS)<a class=anchor href=#network-nfs></a></h3><div class=paragraph><p>Fra i molti differenti file system che FreeBSD supporta c’è il Network File System, conosciuto anche come NFS. NFS permette ad un sistema di condividere directory e file con altri sistemi in rete. Usando NFS, utenti e programmi possono accedere a file su sistemi remoti quasi come se fossero files locali.</p></div><div class=paragraph><p>Alcuni dei più notevoli benefici che NFS ci fornisce sono:</p></div><div class=ulist><ul><li><p>Workstation locali usano meno spazio su disco perchè i dati usati in locale possono essere conservati su una singola macchina e restano accessibili agli altri sulla rete.</p></li><li><p>Non c’è bisogno per gli utenti di avere home directory separate su ogni macchina in rete. Le home directory possono essere poste sul server NFS e rese disponibili attraverso la rete.</p></li><li><p>Device di storage come floppy disk, drive CDROM, e drive Zip® possono essere usati da altre macchine sulla rete. Questo può ridurre il numero di device di storage rimuovibili sulla rete.</p></li></ul></div><div class=sect3><h4 id=_come_funziona_nfs>27.3.1. Come Funziona NFS<a class=anchor href=#_come_funziona_nfs></a></h4><div class=paragraph><p>NFS consiste di almeno due parti: un server ed uno o più client. Il client accede da remoto ai dati conservati sulla macchina server. Affinchè questo funzioni, alcuni processi devono essere configurati e devono essere attivi.</p></div><div class=paragraph><p>Il server deve avere attivi i seguenti demoni:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Demone</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>nfsd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il demone NFS che serve richieste da client NFS.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>mountd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il demone di mount NFS che serve le richieste che <a href="https://man.freebsd.org/cgi/man.cgi?query=nfsd&amp;sektion=8&amp;format=html">nfsd(8)</a> gli passa.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rpcbind</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Questo demone permette ai client NFS di scoprire quali porte il server NFS sta usando.</p></td></tr></tbody></table><div class=paragraph><p>Il client può anche eseguire un demone, noto come nfsiod. Il demone nfsiod serve le richieste dal server NFS. E' opzionale, aiuta a migliorare le prestazioni ma non è indispensabile per operazioni corrette. Consultare la pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=nfsiod&amp;sektion=8&amp;format=html">nfsiod(8)</a> per più informazioni.</p></div></div><div class=sect3><h4 id=network-configuring-nfs>27.3.2. Configurare NFS<a class=anchor href=#network-configuring-nfs></a></h4><div class=paragraph><p>La configurazione di NFS è un processo relativamente semplice. I processi che devono essere attivi possono essere tutti avviati al boot della macchina con poche modifiche al tuo file <span class=filename>/etc/rc.conf</span>.</p></div><div class=paragraph><p>Sul server NFS assicurati che le seguenti opzioni sono configurati nel file <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>rpcbind_enable=&#34;YES&#34;
nfs_server_enable=&#34;YES&#34;
mountd_flags=&#34;-r&#34;</pre></div></div><div class=paragraph><p>mountd viene eseguito automaticamente in caso il server NFS sia abilitato.</p></div><div class=paragraph><p>Sul client, accertati che questa riga sia attiva nel file <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>nfs_client_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Il file <span class=filename>/etc/exports</span> specifica quali file system NFS dovrebbe esportare (talora chiamate anche "share"). Ogni linea di <span class=filename>/etc/exports</span> specifica un file system che deve essere esportato e quali macchine hanno accesso a quel file system. Assieme alle macchine che hanno accesso a quel file system, possono esserci specificate anche opzioni. Ci sono molte opzioni di questo tipo che possono essere usate in questo file ma solo poche saranno menzionate qui. Puoi facilmente scoprire le altre opzioni leggendo la pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=exports&amp;sektion=5&amp;format=html">exports(5)</a>.</p></div><div class=paragraph><p>Queste sono alcune linee di esempio del file <span class=filename>/etc/exports</span>:</p></div><div class=paragraph><p>I seguenti esempi danno un’idea di come esportare file system, anche se le impostazioni possono essere diverse a seconda del tuo ambiente e della tua configurazione di rete. Ad esempio, per esportare la directory <span class=filename>/cdrom</span> a tre macchine di esempio che hanno lo stesso nome di dominio del server (da qui la mancanza di nome dominio per ognuno) o hanno delle linee nel vostro file <span class=filename>/etc/hosts</span>. L’opzione <code>-ro</code> rende il file system esportato read-only. Con questo flag, il sistema remoto non sarà in grado di scrivere alcun cambiamento sul file system esportato.</p></div><div class="literalblock programlisting"><div class=content><pre>/cdrom -ro host1 host2 host3</pre></div></div><div class=paragraph><p>La seguente linea esporta la directory <span class=filename>/home</span> a tre host identificati da indirizzo IP. E' una impostazione utile in caso tu abbia una rete privata senza un DNS server configurato. Opzionalmente il file <span class=filename>/etc/hosts</span> può essere configurato per hostname interni. Per favore rileggi <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;format=html">hosts(5)</a> per più informazioni. Il flag <code>-alldirs</code> permette alle sottodirectory di fungere da mount point. In altre parole, non monterà le sottodirectory ma permetterà ai client di montare solo le directory che necessita o di cui ha bisogno.</p></div><div class="literalblock programlisting"><div class=content><pre>/home  -alldirs  10.0.0.2 10.0.0.3 10.0.0.4</pre></div></div><div class=paragraph><p>La linea seguente esporta <span class=filename>/a</span> cosicchè due client da diversi domini possono accedere al file system. L’opzione <code>-maproot=root</code> permette all’utente <code>root</code> sul sistema remoto di scrivere dati sul file system esportato come utente <code>root</code>. Se il flag <code>-maproot=root</code> non è specificato, anche se l’utente ha accesso come <code>root</code> sul file system remoto, non sarà in grado di modificare files sul file system esportato.</p></div><div class="literalblock programlisting"><div class=content><pre>/a  -maproot=root  host.example.com box.example.org</pre></div></div><div class=paragraph><p>Affinchè un client abbia accesso ad un file system, questo deve avere permessi adeguati. Assicurati che il client sia elencato nel file <span class=filename>/etc/exports</span>.</p></div><div class=paragraph><p>In <span class=filename>/etc/exports</span>, ogni linea rappresenta le informazioni per un file system esportato ad un host. Un host remoto può essere specificato solo una volta per file system, e può avere solo una entry di default. Ad esempio, supponi che <span class=filename>/usr</span> sia un singolo file system. Il seguente <span class=filename>/etc/exports</span> sarebbe invalido:</p></div><div class="literalblock programlisting"><div class=content><pre># Invalid when /usr is one file system
/usr/src   client
/usr/ports client</pre></div></div><div class=paragraph><p>Un file system, <span class=filename>/usr</span>, ha due linee che specificano exports verso lo stesso host, <code>client</code>. Il formato corretto per questa situazione è:</p></div><div class="literalblock programlisting"><div class=content><pre>/usr/src /usr/ports  client</pre></div></div><div class=paragraph><p>Le proprietà di un file system esportato ad un dato host devono essere tutte su una riga. Linee senza un cliente specificato sono trattate come un singolo host. Questo limita il modo di esportare file system, ma per la maggior parte delle persone non è un problema.</p></div><div class=paragraph><p>Il seguente è un esempio di valida lista di esportazione, dove <span class=filename>/usr</span> e <span class=filename>/exports</span> <span class=filename>/usr</span> and <span class=filename>/exports</span> sono file system locali:</p></div><div class="literalblock programlisting"><div class=content><pre># Export src and ports to client01 and client02, but
only
# client01 has root privileges on it
/usr/src /usr/ports -maproot=root    client01
/usr/src /usr/ports               client02
# The client machines have root and can mount anywhere
# on /exports. Anyone in the world can mount /exports/obj read-only
/exports -alldirs -maproot=root      client01 client02
/exports/obj -ro</pre></div></div><div class=paragraph><p>Il demone mountd deve essere forzato a rileggere il file <span class=filename>/etc/exports</span> ogni volta che lo modifichi, cosicchè i cambiamenti abbiano effetto. Questo può essere ottenuto inviando un segnale HUP al processo <code>mountd</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># kill -HUP `cat /var/run/mountd.pid`</span></code></pre></div></div><div class=paragraph><p>o invocando lo script <code>mountd</code> <a href="https://man.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">rc(8)</a> con i parametri appropriati:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/mountd onereload</span></code></pre></div></div><div class=paragraph><p>Sei invitato a far riferimento a <a href=./#configtuning-initial>Configurazione Iniziale</a> per maggiori informazioni sugli script rc.</p></div><div class=paragraph><p>Alternativamente, un reboot farà sì che FreeBSD imposti tutto correttamente. Non è necessario tuttavia effettuare un reboot. L’esecuzione del seguente comando da utente <code>root</code> dovrebbe avviare tutto.</p></div><div class=paragraph><p>Sul server NFS:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># rpcbind</span>
<span class=c># nfsd -u -t -n 4</span>
<span class=c># mountd -r</span></code></pre></div></div><div class=paragraph><p>Sul client NFS:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># nfsiod -n 4</span></code></pre></div></div><div class=paragraph><p>Ora dovrebbe essere tutto pronto per montare un file system remoto. In questi esempi il nome del server sarà <code>server</code> e quello del client sarà <code>client</code>. Se vuoi solo temporaneamente montare un file system remoto o anche testare la configurazione, basta che esegui un comando come questo come utente <code>root</code> sul client:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount server:/home</span>
/mnt</code></pre></div></div><div class=paragraph><p>Questo monterà la directory <span class=filename>/home</span> del server sopra <span class=filename>/mnt</span> sul client. Se tutto è impostato correttamente dovresti essere in grado di entrare nella directory <span class=filename>/mnt</span> sul client e vedere tutti i file che sono sul server.</p></div><div class=paragraph><p>Se vuoi montare automaticamente un file system remoto ogni volta che il computer fa boot, aggiungi il file system al file <span class=filename>/etc/fstab</span>. Questo è un esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>server:/home /mnt nfs rw 0 0</pre></div></div><div class=paragraph><p>La pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;format=html">fstab(5)</a> elenca tutte le possibili opzioni.</p></div></div><div class=sect3><h4 id=_locking>27.3.3. Locking<a class=anchor href=#_locking></a></h4><div class=paragraph><p>Alcune applicazioni (es. mutt) richiedono il lock dei file per operare in modo corretto. In caso di NFS, può essere utilizzato rpc.lockd per il lock dei file. Per abilitarlo, aggiungi la seguente riga al file <span class=filename>/etc/rc.conf</span> sia sul client che sul server (assumendo che il client e server NFS siano già configurati):</p></div><div class="literalblock programlisting"><div class=content><pre>rpc_lockd_enable=&#34;YES&#34;
rpc_statd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Avvia l’applicazione con:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/nfslocking start</span></code></pre></div></div><div class=paragraph><p>Se non è richiesto un lock reale tra il server e il client NFS, è possibile dire al client NFS di fare un lock locale passando l’opzione <code>-L</code> a <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nfs&amp;sektion=8&amp;format=html">mount_nfs(8)</a>. Ulteriori dettagli possono essere trovati nella pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=mount_nfs&amp;sektion=8&amp;format=html">mount_nfs(8)</a>.</p></div></div><div class=sect3><h4 id=_usi_pratici>27.3.4. Usi Pratici<a class=anchor href=#_usi_pratici></a></h4><div class=paragraph><p>NFS ha molti usi pratici. Alcuni dei più usati sono elencati di seguito:</p></div><div class=ulist><ul><li><p>Fa sì che alcune macchine condividano un CDROM o un altro media fra di loro. Questo è un metodo più economico e spesso più convieniente di installare software su molte macchine.</p></li><li><p>Su grandi reti, potrebbe essere più conveniente configurare un server NFS centrale in cui conservare tutte le home directory degi utenti. Queste home directory possono essere esportate sulla rete cosicchè gli utenti abbiano sempre la stessa directory, indipendentemente dalla workstation dalla quale effettuino il login.</p></li><li><p>Molte macchine potrebbero avere una directory comune <span class=filename>/usr/ports/distfiles</span>. In questo modo, quando hai bisogno di installare un port su molte macchine, puoi velocemente accedere al sorgente senza scaricarlo su ogni macchina.</p></li></ul></div></div><div class=sect3><h4 id=network-amd>27.3.5. Mount automatici con amd<a class=anchor href=#network-amd></a></h4><div class=paragraph><p><a href="https://man.freebsd.org/cgi/man.cgi?query=amd&amp;sektion=8&amp;format=html">amd(8)</a> (il demone di mount automatico) monta automaticamente un file system remoto ogni volta che un file o una directory in quel file system viene acceduto. I file system che sono inattivi per un certo periodo di tempo possono anche essere smontati automaticamente da amd. L’uso di amd fornisce una semplice alternativa a mount permanenti, dato che i mount permanenti sono di solito elencati in <span class=filename>/etc/fstab</span>.</p></div><div class=paragraph><p>amd opera connettendosi ad un server NFS sulle directory <span class=filename>/host</span> e <span class=filename>/net</span>. Quando si accede ad un file all’interno di una di queste directory, amd fa una ricerca del mount remoto corrispondente e lo monta automaticamente. <span class=filename>/net</span> è usato per montare un file system esportato da un indirizzo IP, mentre <span class=filename>/host</span> è usato per montare un export da un hostname remoto.</p></div><div class=paragraph><p>Un accesso ad un file in <span class=filename>/host/foobar/usr</span> dovrebbe comunicare a amd di cercare di montare l’export <span class=filename>/usr</span> sull’host <code>foobar</code>.</p></div><div class=exampleblock><div class=title>Esempio 15. Montare un export con amd</div><div class=content><div class=paragraph><p>Puoi osservare i mount disponibili di un host remoto con il comando <code>showmount</code>. Ad esempio, per vedere i mounts di un host chiamato <code>foobar</code>, puoi usare:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% showmount <span class=nt>-e</span> foobar
Exports list on foobar:
/usr                               10.10.10.0
/a                                 10.10.10.0
% <span class=nb>cd</span> /host/foobar/usr</code></pre></div></div></div></div><div class=paragraph><p>Come si vede nell’esempio, il comando <code>showmount</code> mostra <span class=filename>/usr</span> come un export. Quando si cambia directory in <span class=filename>/host/foobar/usr</span>, amd cerca di risolvere <code>foobar</code> e automaticamente monta l’export desiderato.</p></div><div class=paragraph><p>amd può essere avviato dagli scripts di startup inserendo le seguenti linee in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>amd_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Inoltre, altri flags personalizzati possono essere ad amd con le opzioni <code>amd_flags</code>. Di default, <code>amd_flags</code> è impostato a:</p></div><div class="literalblock programlisting"><div class=content><pre>amd_flags=&#34;-a /.amd_mnt -l syslog /host /etc/amd.map
/net /etc/amd.map&#34;</pre></div></div><div class=paragraph><p>Il file <span class=filename>/etc/amd.map</span> definisce le opzioni di default con le quali gli export sono montati. Il file <span class=filename>/etc/amd.conf</span> definisce alcune delle più avanzate caratteristiche di amd.</p></div><div class=paragraph><p>Consulta le pagine di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=amd&amp;sektion=8&amp;format=html">amd(8)</a> e <a href="https://man.freebsd.org/cgi/man.cgi?query=amd.conf&amp;sektion=8&amp;format=html">amd.conf(8)</a> per maggiori informazioni.</p></div></div><div class=sect3><h4 id=network-nfs-integration>27.3.6. Problemi nell’integrazione con altri sistemi<a class=anchor href=#network-nfs-integration></a></h4><div class=paragraph><p>Alcuni adapter Ethernet per sistemi PC hanno limitazioni che possono portare a seri problemi seri di rete, in particolare con NFS. Questa difficoltà non è specifica a FreeBSD, ma i sistemi FreeBSD ne sono affetti.</p></div><div class=paragraph><p>I problemi avvengono quasi sempre quando sistemi PC (FreeBSD) sono connessi in rete con workstation ad alta performance, tipo quelli di Silicon Graphics, Inc., e Sun Microsystems, Inc. Il mount NFS funziona, ed alcune operazioni possono avere successo, ma d’improvviso sembra che il server non dia più risposte al client, anche se le richieste da e verso altri sistemi continuano ad essere processate. Questo avviene sul sistema client, sia che il client sia il sistema FreeBSD sia che sia la workstation. Su molti sistemi, non c’è modo di effettuare lo shutdown del client in modo pulito una volta che questo problema si sia manifestato. L’unica soluzione è spesso quella di resettare il client, poichè la situazione NFS non può essere risolta.</p></div><div class=paragraph><p>Anche se la soluzione "corretta" è usare un adapter Ethernet dalle migliori prestazioni e capacità , c’è un semplice workaround che permetterà operazioni soddisfacenti. Se il sistem FreeBSD è il <em>server</em>, includi le opzioni <code>-w=1024</code> al mount dal client. Se il sistema FreeBSD è il <em>client</em>, allora monta il file system NFS con l’opzione <code>-r=1024</code>. Queste opzioni possono essere specificate usando il quarto campo della linea di <span class=filename>fstab</span> sul client per mount automatici, o usa il parametro <code>-o</code> del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;format=html">mount(8)</a> per mount manuali.</p></div><div class=paragraph><p>Bisognerebbe notare che c’è un problema diverso, a volte confuso con questo, quando il server NFS ed il client sono su reti diverse. Se è questo il caso, <em>accertatevi</em> che i vostri router indirizzino correttamente l’informazione necessaria su UDP, o non andrai da nessuna parte, indipendentemente da cosa tu stia cercando di fare.</p></div><div class=paragraph><p>Nei seguenti esempi, <code>fastws</code> è il nome host (interfaccia) di una workstation ad alte prestazioni, e <code>freebox</code> è il nome host (interfaccia) di un sistema FreeBSD con un adapter Ethernet a basse prestazioni. Inoltre, <span class=filename>/sharedfs</span> sarà il file system esportato (vedi <a href="https://man.freebsd.org/cgi/man.cgi?query=exports&amp;sektion=5&amp;format=html">exports(5)</a>), e <span class=filename>/project</span> sarà il mount point sul client per il file system montato. In tutti i casi, nota che le opzioni <code>hard</code> o <code>soft</code> e <code>bg</code> possono essere utili nella tua applicazione.</p></div><div class=paragraph><p>Esempi dal sistema FreeBSD (<code>freebox</code>) come client da <span class=filename>/etc/fstab</span> su <code>freebox</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>fastws:/sharedfs /project nfs rw,-r=1024 0 0</pre></div></div><div class=paragraph><p>Come comando manuale di mount da <code>freebox</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -t nfs -o -r=1024 fastws:/sharedfs /project</span></code></pre></div></div><div class=paragraph><p>Esempi dal sistema FreeBSD come server in <span class=filename>/etc/fstab</span> su <code>fastws</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>freebox:/sharedfs /project nfs rw,-w=1024 0 0</pre></div></div><div class=paragraph><p>Come comando di mount manuale su <code>fastws</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mount -t nfs -o -w=1024 freebox:/sharedfs /project</span></code></pre></div></div><div class=paragraph><p>Praticamente ogni Ethernet adapter a 16-bit permetterà operazioni senza le succitate restrizioni sulla dimensione di lettura e scrittura.</p></div><div class=paragraph><p>Per chiunque è interessato, ecco cosa succede quando occorre il problema, il che spiega anche perchè sia non riparabile. NFS tipicamente lavora con una dimensione di "block" di 8 K (anche se può creare frammenti di dimensione minore). Dal momento che la massima dimensione dei pacchetti Ethernet è attorno a 1500 bytes, il "block" NFS sarà diviso in molti pacchetti Ethernet anche se è pur sempre una singola unità per il codice di più alto livello e deve essere ricevuto, assemblato e <em>riconosciuto</em> come una unità . La workstation ad alta performance può inviare pacchetti che comprendono le unità NFS una dietro l’altra, l’una vicino all’altra come permette lo standard.i Sulla scheda a minore capacità , gli ultimi pacchetti sovrascrivono i precedenti pacchetti della stessa unità prima che possano essere trasferiti all’host e l’unità nella sua interezza non può essere ricostruita o riconosciuta. Come risultato, la workstation andrà in timeout e cercherà ancora di ripetere l’operazione, ma cercherà con la stessa unità da 8 K, ed il processo sarà ripetuto ancora, all’infinito.</p></div><div class=paragraph><p>Mantenendo la dimensione dell’unità al di sotto della limitazione dei pacchetti Ethernet, ci assicuriamo che ogni completo pacchetto Ethernet ricevuto possa essere ricono sciuto individualmente, evitando così la situazione deadlock.</p></div><div class=paragraph><p>Sovrascritture possono anche capitare quando una workstation ad alte prestazioni riversi dati verso un sistema PC, ma con la scheda di rete migliore, sovrascritture di questo tipo non sono garantite su "unità " NFS. Quando una sovrascrittura avviene, le unità affette saranno ritrasmesse, e c’è una buona probabilità che saranno ricevute, assemblate, e riconosciute.</p></div></div></div><div class=sect2><h3 id=network-nis>27.4. Network Information System (NIS/YP)<a class=anchor href=#network-nis></a></h3><div class=sect3><h4 id=_cosè>27.4.1. Cos’è?<a class=anchor href=#_cosè></a></h4><div class=paragraph><p>NIS, che sta per Network Information Services, fu sviluppato da Sun Microsystems per centralizzare l’amministrazione di sistemi UNIX® (in origine SunOS™). Ora in sostanza è diventato uno standard di settore; tutti i sistemi UNIX® like (Solaris™, HP-UX, AIX®, Linux, NetBSD, OpenBSD, FreeBSD, etc) supportano NIS.</p></div><div class=paragraph><p>NIS in precedenza era noto come Yellow Pages, ma per una questione di marchi, Sun ha cambiato il nome. Il vecchio termine (e yp) è ancora si incontra ancora spesso.</p></div><div class=paragraph><p>E' un sistema client/server basato su RPC che permette ad un gruppo di macchine in un dominio NIS di condividere un insieme comune di file di configurazione. Questo permette ad un amministratore di sistema di installare sistemi client NIS con il minimo di dati di configurazione e di aggiungere, rimuovere o modificare dati di configurazione da una singola macchina.</p></div><div class=paragraph><p>E' simile al sistema di domini di Windows NT®; anche se le implementazioni interne dei due sistemi sono del tutto diverse, le funzionalità base possono essere paragonate.</p></div></div><div class=sect3><h4 id=_terminiprocessi_che_dovresti_conoscere>27.4.2. Termini/Processi che Dovresti Conoscere<a class=anchor href=#_terminiprocessi_che_dovresti_conoscere></a></h4><div class=paragraph><p>Ci sono parecchi termini e molti importanti processi utente che incontrerai quando cercherai di implementare NIS su FreeBSD, sia che cerchi di creare un server NIS sia che cerchi di installare un client NIS:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Termine</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Nome dominio NIS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Un server NIS master e tutti i suoi client (inclusi i suoi server slave) hanno un nome dominio NIS. Analogamente al nome dominio di Windows NT®, il nome dominio NIS non ha nulla a che fare con il DNS.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rpcbind</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Deve essere in esecuzione al fine di abilitare RPC (Remote Procedure Call, un protocollo di rete usato da NIS). Se rpcbind non è attivo, sarà impossibile portare in esecuzione un server NIS o fungere da client NIS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ypbind</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Esegue il "bind" di un client NIS al suo server. Prenderà il nome dominio NIS dal sistema, e, usando RPC, si connetterà al server. ypbind è il fulcro di una comunicazione client-server in ambiente NIS; se ypbind muore su un client, questo non sarà in grado di accedere il server NIS.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ypserv</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dovrebbe essere in esecuzione solo sui server NIS;è il processo NIS vero e proprio. Se <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> muore, il server non sarà più in grado di rispondere a richieste NIS (si spera ci sia un server slave per sostituirlo). Ci sono alcune implementazioni di NIS (ma non quello di FreeBSD) che non cerca di ricollegarsi ad un altro server se il server che stava usando muore. Spesso, l’unica cosa che aiuta in questo caso è riavviare il processo server (o anche l’intero server o il processo ypbind sul client).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>rpc.yppasswdd</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Un altro processo che dovrebbe essere in esecuzione solo sui server master NIS; è un demone che permette a client NIS di cambiare le proprie password NIS. Se questo demone non è attivo, gli utenti dovranno loggarsi al server master NIS e cambiare le proprie password da lì.</p></td></tr></tbody></table></div><div class=sect3><h4 id=_come_funziona_2>27.4.3. Come funziona?<a class=anchor href=#_come_funziona_2></a></h4><div class=paragraph><p>Ci sono tre tipi di host in ambiente NIS: master server, slave server e client. I server fungono da magazzino centralizzato per le informazioni sulla configurazione degli host. I server master mantengono la copia "ufficiale" di queste informazioni, mentre i server slave effettuano il mirror di queste informazioni per ridondanza. I client si affidano al server per ottenere queste informazioni.</p></div><div class=paragraph><p>Le informazioni in molti file possono essere condivise in questo modo. I file <span class=filename>master.passwd</span> ,<span class=filename>group</span> e <span class=filename>hosts</span> sono in genere condivisi in questo modo via NIS. Qualora un processo su un client necessiti di informazioni che normalmente sarebbero trovate in questi file in locale, fa una query al server NIS a cui è legato.</p></div><div class=sect4><h5 id=_tipi_di_macchine>27.4.3.1. Tipi di macchine<a class=anchor href=#_tipi_di_macchine></a></h5><div class=ulist><ul><li><p>Un <em>server master NIS</em>. Questo server, analogamente a primary domain controller Windows NT® , mantiene i file usati da tutti i client NIS. Il file <span class=filename>passwd</span>, il file <span class=filename>group</span>, e vari altri file usati da client NIS vivono sul server master.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>E' possibile per una macchina agire da master server NIS per più di un dominio NIS. Comunque, questo caso non sarà coperto in questa introduzione, che presuppone un ambiente NIS relativamente piccolo.</p></div></td></tr></tbody></table></div></li><li><p><em>NIS slave server</em>. Analogamente a backup domain controller Windows NT®, i server slave NIS mantengono copie dei file di dati del server master NIS. I server slave NIS garantiscono la ridondanza che viene richiesta in ambienti importanti. Inoltre aiutano a bilanciare il carico del server master: i client NIS si legano sempre al NIS server che risponde per primo alla loro richiesta, compresi i server slave.</p></li><li><p><em>NIS client</em>. I client NIS, come la maggior parte delle workstation Windows NT® , si autenticano nei confronti del NIS server (o del domain controller Windows NT® nel caso di workstation Windows NT®) per effettuare il login.</p></li></ul></div></div></div><div class=sect3><h4 id=_usare_nisyp>27.4.4. Usare NIS/YP<a class=anchor href=#_usare_nisyp></a></h4><div class=paragraph><p>Questa sezione riguarderà l’installazione di un ambiente di esempio NIS.</p></div><div class=sect4><h5 id=_il_piano>27.4.4.1. Il Piano<a class=anchor href=#_il_piano></a></h5><div class=paragraph><p>Supponiamo che tu sia l’amministratore di un piccolo laboratorio universitario. Questo laboratorio, che consiste di 15 macchine FreeBSD, al momento non ha un sistema centralizzato di amministrazione; ogni macchina ha il suo <span class=filename>/etc/passwd</span> e <span class=filename>/etc/master.passwd</span>. Questi file sono tenuti sincronizzati fra di loro attraverso intervento manuale; al momento, quando aggiungi un utente al laboratorio, devi eseguire <code>adduser</code> su tutte e 15 le macchine. Chiaramente, questa situazione è provvisoria, così hai deciso di convertire il laboratorio a NIS, usando due delle macchine come server.</p></div><div class=paragraph><p>Così la configurazione del laboratorio adesso sembra questa:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Nome della macchina</th><th class="tableblock halign-left valign-top">Indirizzo IP</th><th class="tableblock halign-left valign-top">Ruolo della macchina</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ellington</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.2</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS master</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>coltrane</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.3</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>NIS slave</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>basie</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.4</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Workstation della facoltà</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bird</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.5</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Macchina client</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cli[1-11]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>10.0.0.[6-17]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Altre macchine client</p></td></tr></tbody></table><div class=paragraph><p>Se stai installando uno schema NIS per la prima volta, è una buona idea riflettere su come affrontarlo. Indipendemente dalla dimensione della rete, ci sono alcune decisioni che devono essere prese.</p></div><div class=sect5><h6 id=_scegliere_un_nome_dominio_nis>27.4.4.1.1. Scegliere un nome dominio NIS<a class=anchor href=#_scegliere_un_nome_dominio_nis></a></h6><div class=paragraph><p>Questo può non essere il "nome dominio" a cui sei abituato. Per la precisione viene chiamato "nome dominio NIS". Quando un client fa il broadcast della sua richiesta per informazioni, include il nome del dominio NIS di cui fa parte. In questo modo molti server su una rete possono distinguere a quale server la richiesta è riferita. Considerate il nome dominio NIS come il nome per un gruppo di host che sono collegati per qualche motivo.</p></div><div class=paragraph><p>Alcune organizzazioni scelgono di usare il loro nome dominio Internet come nome dominio NIS. Questo non è raccomandabile in quanto può causare confusione quando si cerchi di debuggare problemi di rete. Il nome dominio NIS dovrebbe essere unico all’interno della tua rete ed è utile che sia descrittivo del gruppo di macchine che rappresenta. Per esempio, il dipartimento di Arte della Acme Inc. può essere nel dominio "acme-art". Per questo esempio, si presume tu abbia scelto il nome <code>test-domain</code>.</p></div><div class=paragraph><p>Comunque, alcuni sistemi operativi (principalmente SunOS™) usano il loro nome dominio NIS come loro nome dominio Internet. Se una o più macchine sulla tua rete hanno questa restrizione, tu <em>devi</em> usare il nome dominio Internet come il tuo nome dominio NIS.</p></div></div><div class=sect5><h6 id=_requisiti_fisici_dei_server>27.4.4.1.2. Requisiti fisici dei server<a class=anchor href=#_requisiti_fisici_dei_server></a></h6><div class=paragraph><p>Ci sono molte cose da tener in mente quando si sceglie quale macchina usare come server NIS. Una delle caratteristiche più sfortunate di NIS è il livello di dipendenza che i client hanno verso il server. Se un client non riesce a contattare il server per il suo dominio NIS, molto spesso la macchina risulta inutilizzabile. La mancanza di informazioni utente e di gruppo fa sì che molti sistemi si blocchino. Tenendo questo in mente dovresti accertati di scegliere una macchina che non sia soggetta a reboot frequenti o una che non sia usata per sviluppo. Il server NIS dovrebbe essere in teoria una macchina stand alone il cui unico scopo di esistenza è essere un server NIS. Se hai una rete non pesantemente trafficata, è accettabile installare il server NIS su una macchina che esegue altri servizi, basta ricordarsi che se il server NIS diventa irrangiungibile, <em>tutti</em> i tuoi client NIS ne saranno affetti in modo negativo.</p></div></div></div><div class=sect4><h5 id=_server_nis>27.4.4.2. Server NIS<a class=anchor href=#_server_nis></a></h5><div class=paragraph><p>Le copie canoniche di tutte le informazioni NIS sono conservate su una singola macchina chiamata il server master NIS. I database usati per conservare le informazioni sono chiamate mappe NIS. In FreeBSD, queste mappe sono conservate in <span class=filename>/var/yp/[nome-dominio]</span> dove <span class=filename>[nome-dominio]</span> è il nome del dominio NIS che si server. Un singolo server NIS può supportare molti domini al tempo stesso, di conseguenza è possibile avere molte directory di questo tipo, una per ogni dominio supportato. Ogni dominio avrà il suo insieme indipendente di mappe.</p></div><div class=paragraph><p>I server NIS master e slave gestiscono tutte le richieste NIS col demone <code>ypserv</code>. <code>ypserv</code> è responsabile per la ricezione delle richieste in entrata dai client NIS, traducendo il dominio richiesto e il nome mappa ad un percorso verso il file di database e trasmettendo i dati indietro al client.</p></div><div class=sect5><h6 id=_installare_un_server_master_nis>27.4.4.2.1. Installare un server master NIS<a class=anchor href=#_installare_un_server_master_nis></a></h6><div class=paragraph><p>Installare un server master NIS può essere relativamente semplice, a seconda delle tue necessità . FreeBSD presenta un supporto nativo per NIS. Tutto quello che devi fare è aggiungere le seguenti linee a <span class=filename>/etc/rc.conf</span>, e FreeBSD farà il resto.</p></div><div class="exampleblock procedure"><div class=content><div class="literalblock programlisting"><div class=content><pre>nisdomainname=&#34;test-domain&#34;</pre></div></div><div class="olist arabic"><ol class=arabic><li><p>Questa linea imposterà il nome domino NIS a <code>test-domain</code> al momento della configurazione di rete (ad esempio dopo il reboot).</p><div class="literalblock programlisting"><div class=content><pre>nis_server_enable=&#34;YES&#34;</pre></div></div></li><li><p>Questa linea dirà a FreeBSD di avviare i processi NIS server la prossima volta che la rete è riavviata.</p><div class="literalblock programlisting"><div class=content><pre>nis_yppasswdd_enable=&#34;YES&#34;</pre></div></div></li><li><p>Questo avvierà il demone <code>rpc.yppasswd</code> che, come accennato prima, permetterà agli utenti di cambiare la loro password NIS dalle macchine client.</p></li></ol></div></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>A seconda delle tue impostazioni NIS, potresti aver bisogno di aggiungere altre linee. Leggi la <a href=#network-nis-server-is-client>sezione sui NIS server che sono anche NIS client </a>, di seguito, per dettagli.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Ora, tutto quello che devi fare è eseguire il comando <code>/etc/netstart</code> come super-utente. Questo imposterà il sistema, usando i valori che hai specificato in <span class=filename>/etc/rc.conf</span>.</p></div></div><div class=sect5><h6 id=_inizializzare_le_mappe_nis>27.4.4.2.2. Inizializzare le mappe NIS<a class=anchor href=#_inizializzare_le_mappe_nis></a></h6><div class=paragraph><p>Le <em>mappe NIS</em> sono file di database, che sono conservati nella directory <span class=filename>/var/yp</span>. Sono generati da file di configurazione nella directory <span class=filename>/etc</span> del NIS master, con una eccezione: il file <span class=filename>/etc/master.passwd</span>. C’è un buon motivo per questo, infatti normalmente non vuoi che siano propagate le password a <code>root</code> e ad altri account amministrativi a tutti gli altri server nel dominio NIS. Così prima di inizializzare le mappe NIS, dovresti:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cp /etc/master.passwd /var/yp/master.passwd</span>
<span class=c># cd /var/yp</span>
<span class=c># vi master.passwd</span></code></pre></div></div><div class=paragraph><p>Dovresti rimuovere tutte le linee che riguardano account di sistema (<code>bin</code>, <code>tty</code>, <code>kmem</code>, <code>games</code>, etc.), così come altri account che non vuoi siano propagate ai client NIS (per esempio <code>root</code> ed ogni altro account con UID 0 (super-utente)).</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Accertati che il file <span class=filename>/var/yp/master.passwd</span> non sia nè leggibile dal gruppo nè dal resto del mondo (modo 600)! Usa il comando <code>chmod</code>, se appropriato.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Quando hai finito, è il momento di inizializzare le mappe NIS! FreeBSD include uno script chiamato <code>ypinit</code> che lo fa per te (leggi la sua pagina di manuale per dettagli). Nota che questo script è disponibile sulla maggior parte dei sistemi operativi UNIX® ma non su tutti. Su Digital Unix/Compaq Tru64 UNIX è chiamato <code>ypsetup</code>. Poichè stiamo generando mappe per un NIS master, passeremo l’opzione <code>-m</code> al comando <code>ypinit</code>. Per generare le mappe NIS, supponendo che tu abbia già eseguito i passi di cui sopra, esegui:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# ypinit <span class=nt>-m</span> test-domain
Server Type: MASTER Domain: test-domain
Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.
Do you want this procedure to quit on non-fatal errors? <span class=o>[</span>y/n: n]
n
Ok, please remember to go back and redo manually whatever fails.
If you don<span class=s1>&#39;t, something might not work.
At this point, we have to construct a list of this domains YP servers.
rod.darktech.org is already known as master server.
Please continue to add any slave servers, one per line. When you are
done with the list, type a &lt;control D&gt;.
master server   :  ellington
next host to add:  coltrane
next host to add:  ^D
The current list of NIS servers looks like this:
ellington
coltrane
Is this correct?  [y/n: y] y

[..output from map generation..]

NIS Map update completed.
ellington has been setup as an YP master server without any errors.</span></code></pre></div></div><div class=paragraph><p><code>ypinit</code> dovrebbe aver creato <span class=filename>/var/yp/Makefile</span> da <span class=filename>/var/yp/Makefile.dist</span>. Quando creato, questo file assume che tu stia operando su un ambiente NIS a server singolo con solo macchine FreeBSD. Dal momento che <code>test-domain</code> ha anche un server slave, devi editare <span class=filename>/var/yp/Makefile</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# vi /var/yp/Makefile</code></pre></div></div><div class=paragraph><p>Dovresti commentare la linea che dice</p></div><div class="literalblock programlisting"><div class=content><pre>NOPUSH = &#34;True&#34;</pre></div></div><div class=paragraph><p>(se non è già commentata).</p></div></div><div class=sect5><h6 id=_impostare_un_server_slave_nis>27.4.4.2.3. Impostare un server slave NIS<a class=anchor href=#_impostare_un_server_slave_nis></a></h6><div class=paragraph><p>Impostare un server NIS slave è anche più semplice che impostare il master. Loggati al server slave ed edita il file <span class=filename>/etc/rc.conf</span> esattamente come hai fatto col server master. L’unica differenza è che ora dobbiamo usare l’opzione <code>-s</code> quando eseguiamo <code>ypinit</code>. L’opzione <code>-s</code> richiede che il nome del server NIS sia passato, così la nostra linea di comando assomiglia alla seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>coltrane# ypinit <span class=nt>-s</span> ellington
test-domain

Server Type: SLAVE Domain: test-domain Master: ellington

Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.

Do you want this procedure to quit on non-fatal errors? <span class=o>[</span>y/n: n]
n

Ok, please remember to go back and redo manually whatever fails.
If you don<span class=s1>&#39;t, something might not work.
There will be no further questions. The remainder of the procedure
should take a few minutes, to copy the databases from ellington.
Transferring netgroup...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byuser...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byhost...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring group.bygid...
ypxfr: Exiting: Map successfully transferred
Transferring group.byname...
ypxfr: Exiting: Map successfully transferred
Transferring services.byname...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.byname...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.byname...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring netid.byname...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring ypservers...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byname...
ypxfr: Exiting: Map successfully transferred

coltrane has been setup as an YP slave server without any errors.
Don&#39;</span>t forget to update map ypservers on ellington.</code></pre></div></div><div class=paragraph><p>Ora dovresti avere una directory chiamata <span class=filename>/var/yp/test-domain</span>. Copie delle mappe NIS del master server dovrebbero risiedere in questa directory. Dovresti accertarti che siano aggiornate. La seguente linea di <span class=filename>/etc/crontab</span> sul tuo server slave dovrebbe far ciò:</p></div><div class="literalblock programlisting"><div class=content><pre>20      *       *       *       *       root /usr/libexec/ypxfr passwd.byname
21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid</pre></div></div><div class=paragraph><p>Queste due linee forzano lo slave a sincronizzare le sue mappe con le mappe del server master. Anche se queste entry non sono obbligatorie, dal momento che il server master cerca di assicurarsi che tutte le modifiche alle sue mappe NIS siano comunicate ad i suoi slave e perchè le informazioni sulle password sono vitali per i sistemi che dipendono dal server, è una buona idea forzare gli aggiornamenti. Questo è ancora più importante su reti trafficate dove gli aggiornamenti delle mappe potrebbero non essere completi.</p></div><div class=paragraph><p>Adesso, esegui il comando <code>/etc/netstart</code> anche sullo slave, per avviare il server NIS.</p></div></div></div><div class=sect4><h5 id=_client_nis>27.4.4.3. Client NIS<a class=anchor href=#_client_nis></a></h5><div class=paragraph><p>Un client NIS stabilisce quello che è chiamato un binding ad un particolare NIS server usando il demone <code>ypbind</code>. <code>ypbind</code> controlla il dominio di default del sistema (impostato dal comando <code>domainname</code>), ed inizia a fare broadcast di richieste RPC sulla rete locale. Queste richieste specificano il nome del dominio per il quale <code>ypbind</code> sta cercando di stabilire un binding. Se un server è stato configurato a servire il dominio richiesto, risponderà a <code>ypbind</code>, che registrerà l’indirizzo del server. Se ci sono molti server disponibili (ad esempio un master e molti slave), <code>ypbind</code> userà l’indirizzo del primo che risponde. Da quel momento in poi, il sistema client dirigerà tutte le sue richieste NIS a quel server. <code>ypbind</code> occasionalmente farà un "ping" del server per accertarsi che sia su ed attivo. Se non riceve una risposta di uno dei suoi ping in un tempo accettabile, <code>ypbind</code> segnerà il dominio come non connesso e inizierà di nuovo a fare broadcasting nella speranza di localizzare un altro server.</p></div><div class=sect5><h6 id=_impostare_un_client_nis>27.4.4.3.1. Impostare un client NIS<a class=anchor href=#_impostare_un_client_nis></a></h6><div class=paragraph><p>Impostare una macchina FreeBSD perchè sia un client NIS è abbastanza semplice.</p></div><div class="exampleblock procedure"><div class=content><div class="olist arabic"><ol class=arabic><li><p>Edita il file <span class=filename>/etc/rc.conf</span> e aggiungi le seguenti linee per impostare il nome dominio NIS ed avviare <code>ypbind</code> all’avvio della rete:</p><div class="literalblock programlisting"><div class=content><pre>nisdomainname=&#34;test-domain&#34;
nis_client_enable=&#34;YES&#34;</pre></div></div></li><li><p>Per importare tutte le possibili linee di password dal server NIS, rimuovi tutti gli account utente dal tuo <span class=filename>/etc/master.passwd</span> ed usa <code>vipw</code> per aggiungere la seguente linea alla fine del file:</p><div class="literalblock programlisting"><div class=content><pre>+:::::::::</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questa linea permetterà a chiunque con un valido account nella mappa delle password del server NIS di loggarsi sul client. Ci sono molti modi per configurare il tuo client NIS cambiando questa linea. Leggi la <a href=#network-netgroups>sezione sui netgroups</a> di seguito per maggiori informazioni. Per letture più dettagliate vedere il libro della O’Reilly <code>Managing NFS and NIS</code>.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Dovresti tenere almeno un account locale (non importato via NIS) nel tuo file <span class=filename>/etc/master.passwd</span> e questo account dovrebbe essere anche un membro del gruppo <code>wheel</code>. Se c’è qualche problema con NIS, questo account può essere usato per loggarsi da remoto, diventare <code>root</code> e riparare le cose.</p></div></td></tr></tbody></table></div></li><li><p>Per impostare tutte le possibili linee dei gruppi dal server NIS, aggiungi questa linea al tuo file <span class=filename>/etc/group</span>:</p><div class="literalblock programlisting"><div class=content><pre>+:*::</pre></div></div></li></ol></div></div></div><div class=paragraph><p>Dopo aver completato questi passi, dovresti essere in grado di eseguire <code>ypcat passwd</code> e vedere la mappa delle password del NIS server.</p></div></div></div></div><div class=sect3><h4 id=_sicurezza_di_nis>27.4.5. Sicurezza di NIS<a class=anchor href=#_sicurezza_di_nis></a></h4><div class=paragraph><p>In generale, ogni utente remoto può eseguire una RPC a <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> ed ottenere i contenuti delle tue mappe NIS, ammesso che l’utente remoto conosca il tuo nome dominio. Per prevenire tali transazioni non autorizzate, <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> supporta una caratteristica chiamata "securenets" che può essere usata per restringere l’accesso ad un dato insieme di host. All’avvio <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> cercherà di caricare le informazioni delle securenets da un file chiamato <span class=filename>/var/yp/securenets</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questo percorso varia a secondo del percorso specificato con l’opzione <code>-p</code>. Questo file contiene linee che consistono di una specificazione della rete e di una maschera di rete separate da spazi vuoti. Le linee che cominciano con "#" sono considerati commenti. Un esempio di file securenets può assomigliare al seguente:</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre># allow connections from local host -- mandatory
127.0.0.1     255.255.255.255
# allow connections from any host
# on the 192.168.128.0 network
192.168.128.0 255.255.255.0
# allow connections from any host
# between 10.0.0.0 to 10.0.15.255
# this includes the machines in the testlab
10.0.0.0      255.255.240.0</pre></div></div><div class=paragraph><p>Se <a href="https://man.freebsd.org/cgi/man.cgi?query=ypserv&amp;sektion=8&amp;format=html">ypserv(8)</a> riceve una richiesta da un indirizzo che coincide con una di queste regole, processerà la richiesta normalmente. Se l’indirizzo non coincide la richiesta sarà ignorata ed un messaggio di warning sarà loggato. Se il file <span class=filename>/var/yp/securenets</span> non esiste, <code>ypserv</code> permetterà connessioni da ogni host.</p></div><div class=paragraph><p>Il programma <code>ypserv</code> ha anche supporto per il pacchetto di Wietse Venema TCP Wrapper. Questo permette all’amministratore di usare i file di configurazione di TCP Wrapper per controlli sull’accesso al posto di <span class=filename>/var/yp/securenets</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Pur essendo entrambi questi meccanismi di accesso di controllo abbastanza sicuri, questi, come il test di porta privilegiata, sono vulnerabili agli attacchi "IP spoofing". Tutto il traffico relativo a NIS dovrebbe essere bloccato al firewall.</p></div><div class=paragraph><p>I server che usano <span class=filename>/var/yp/securenets</span> possono non riuscire a servire client NIS legittimi che abbiano implementazioni TCP/IP obsolete. Alcune di queste implementazioni impostano a zero tutti i bit degli host quando fanno broadcast e/o non riescono a osservare la maschera di sotto-rete quando calcolano l’indirizzo broadcast. Mentre alcuni di questi problemi possono essere corretti cambiando la configurazione del client, altri problemi possono causare il ritiro dei client in questione o l’abbandono di <span class=filename>/var/yp/securenets</span>.</p></div><div class=paragraph><p>Usando <span class=filename>/var/yp/securenets</span> su un server con una tale obsoleta implementazione del TCP/IP è sicuramente una cattiva idea e causerà alla perdita della funzionalità NIS per gran parte della tua rete.</p></div><div class=paragraph><p>L’uso del pacchetto TCP Wrapper aumenta la latenza del tuo server NIS. Il ritardo addizionale può essere lungo a sufficienza tanto da causare dei timeout in programmi client, specialmente su reti trafficate o con server NIS lenti. Se uno o più client soffre di questi sintomi, dovresti convertire il sistema dei client in questione a server NIS slave e forzarli a non fare il binding a loro stessi.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_impedire_ad_alcuni_utenti_di_loggarsi>27.4.6. Impedire ad Alcuni Utenti di Loggarsi<a class=anchor href=#_impedire_ad_alcuni_utenti_di_loggarsi></a></h4><div class=paragraph><p>Nel nostro laboratorio c’è una macchina <code>basie</code> che si suppone sia una workstation solo della facoltà . Non vogliamo togliere questa macchina dal dominio NIS, tuttavia il file <span class=filename>passwd</span> sul server NIS master contiene account che sono sia della facoltà sia degli studenti. Cosa possiamo fare?</p></div><div class=paragraph><p>C’è un modo di impedire a specifici utenti di loggarsi ad una macchina, anche se sono presenti nel database NIS. Per farlo, tutto quello che devi fare è aggiungere <code>-username</code> alla fine del file <span class=filename>/etc/master.passwd</span> sulla macchina client, dove <em>username</em> è lo username dell’utente di cui vuoi impedire l’accesso. E' meglio fare questo con <code>vipw</code> dato che <code>vipw</code> farà un controllo di correttezza dei tuoi cambiamenti a <span class=filename>/etc/master.passwd</span>, e ricostruirà automaticamente il database delle password quando hai finito di editarlo. Ad esempio, se vogliamo impedire l’accesso all’utente <code>bill</code> verso l’host <code>basie</code> faremmo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>basie# vipw
<span class=o>[</span>aggiungi <span class=nt>-bill</span> alla fine del file, poi esci]
vipw: rebuilding the database...
vipw: <span class=k>done

</span>basie# <span class=nb>cat</span> /etc/master.passwd

root:[password]:0:0::0:0:The super-user:/root:/bin/csh
toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh
daemon:<span class=k>*</span>:1:1::0:0:Owner of many system processes:/root:/sbin/nologin
operator:<span class=k>*</span>:2:5::0:0:System &amp;:/:/sbin/nologin
bin:<span class=k>*</span>:3:7::0:0:Binaries Commands and Source,,,:/:/sbin/nologin
<span class=nb>tty</span>:<span class=k>*</span>:4:65533::0:0:Tty Sandbox:/:/sbin/nologin
kmem:<span class=k>*</span>:5:65533::0:0:KMem Sandbox:/:/sbin/nologin
games:<span class=k>*</span>:7:13::0:0:Games pseudo-user:/usr/games:/sbin/nologin
news:<span class=k>*</span>:8:8::0:0:News Subsystem:/:/sbin/nologin
man:<span class=k>*</span>:9:9::0:0:Mister Man Pages:/usr/shared/man:/sbin/nologin
<span class=nb>bind</span>:<span class=k>*</span>:53:53::0:0:Bind Sandbox:/:/sbin/nologin
uucp:<span class=k>*</span>:66:66::0:0:UUCP
pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico
xten:<span class=k>*</span>:67:67::0:0:X-10 daemon:/usr/local/xten:/sbin/nologin
pop:<span class=k>*</span>:68:6::0:0:Post Office Owner:/nonexistent:/sbin/nologin
nobody:<span class=k>*</span>:65534:65534::0:0:Unprivileged user:/nonexistent:/sbin/nologin
+:::::::::
<span class=nt>-bill</span>

basie#</code></pre></div></div></div><div class=sect3><h4 id=network-netgroups>27.4.7. Usare i Netgroups<a class=anchor href=#network-netgroups></a></h4><div class=paragraph><p>Il metodo mostrato nella sezione precedente funziona ragionevolmente bene se hai bisogno di regole speciali per un numero molto piccolo di utenti e/o macchine. Su reti più grandi, <em>certamente</em> ti dimenticherai di impedire l’accesso di certi utenti a macchine dal ruolo critico, oppure potresti perfino finire a modificare ogni macchina separatamente, in questo modo perdendo il beneficio centrale di NIS: l’amministrazione <em>centralizzata</em>.</p></div><div class=paragraph><p>La soluzione degli sviluppatori NIS a questo problema è chiamata <em>netgroups</em>. Il loro scopo e la loro semantica possono essere paragonate ai normali gruppi utenti usati dal file system UNIX®. L’unica differenza è la mancanza di un ID numerico e l’abilità di definire un netgroup che includa sia gruppi utenti che altri netgroup.</p></div><div class=paragraph><p>I netgroup furono sviluppati per gestire grandi reti complesse con centinaia di utenti e macchine. Da un lato questa è una Buona Cosa se sei obbligato a gestire una simile situazione. Dall’altro, questa complessità rende praticamente impossibile spiegare i netgroup con esempi relativamente semplici. L’esempio usato nel resto di questa sezione dimostra questo problema.</p></div><div class=paragraph><p>Assumiamo che la favorevole introduzione di NIS nei tuoi laboratori catturi l’interesse dei tuoi superiori. Il tuo prossimo compito è di estendere il tuo dominio NIS per coprire alcune altre macchine del campo. Le due tabelle contengono i nomi dei nuovi utenti e delle nuove macchine, con una breve descrizione.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">User Name(s)</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>alpha</code>, <code>beta</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Impiegato normale del dipartimento IT</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>charlie</code>, <code>delta</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il nuovo apprendista del dipartimento IT</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>echo</code>, <code>foxtrott</code>, <code>golf</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Impiegato ordinario</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>able</code>, <code>baker</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Gli interni correnti</p></td></tr></tbody></table><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Machine Name(s)</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>war</code>, <code>death</code>, <code>famine</code>, <code>pollution</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il tuoi server più importanti. Solo gli impiegati IT hanno il permesso di loggarsi in queste macchine.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>pride</code>, <code>greed</code>, <code>envy</code>, <code>wrath</code>, <code>lust</code>, <code>sloth</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Server meno importanti. Tutti i membri del dipartimento IT hanno il permesso di loggarsi a queste macchine.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>one</code>, <code>two</code>, <code>three</code>, <code>four</code>, …​</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Workstation normali. Solo <em>veri</em> impiegati hanno permesso di accedere a queste macchine.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>trashcan</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Una macchina molto vecchia senza alcun dato critico. Anche gli interni hanno permesso di usare questa macchina.</p></td></tr></tbody></table><div class=paragraph><p>Se provi ad implementare queste restrizioni bloccando separatamente ogni utente, dovresti aggiungere una linea <code>-user</code> ad ogni <span class=filename>passwd</span> per ogni utente che non ha il permesso di loggarsi in quel sistema. Se ti dimentichi anche solo di una linea, potresti essere nei pasticci. Può essere ragionevole fare ciò correttamente durante l’installazione iniziale, comunque <em>certamente</em> ti dimenticherai alla fine di aggiungere le linee per i nuovi utenti durante le operazioni giornaliere. Dopo tutto, Murphy era un ottimista.</p></div><div class=paragraph><p>Gestire questa situazione con i netgroup offre molti vantaggi. Non c’è bisogno di gestire separatamente ogni utente; basta assegnare un utente ad uno o più netgroup e permettere o impedire il login a tutti i membri del netgroup. Se aggiungi una nuova macchina, dovrai solo definire restrizioni di login per i netgroup. Se un nuovo utente viene aggiunto, dovrai solo aggiungere l’utente ad uno o più netgroup. Questi cambiamenti sono indipendenti l’uno dall’altro: non più "per ogni combinazione di utenti e macchine fai …​"Se la tua installazione NIS è pianificata con attenzione, dovrai solo modificare esattamente un file centrale di configurazione per garantire o negare l’accesso alle macchine.</p></div><div class=paragraph><p>Il primo passo è l’inizializzazione della mappa NIS netgroup. <a href="https://man.freebsd.org/cgi/man.cgi?query=ypinit&amp;sektion=8&amp;format=html">ypinit(8)</a> di FreeBSD non crea questa mappa di default, ma la sua implementazione NIS la supporterà una volta che è stata creata. Per aggiungere una linea alla mappa, semplicemente usa il comando</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# vi /var/yp/netgroup</code></pre></div></div><div class=paragraph><p>e poi inizia ad aggiungere contenuti. Per i nostri esempi abbiamo bisogno di almeno quattro netgroup: impiegati IT, apprendisti IT, impiegati normali ed interni.</p></div><div class="literalblock programlisting"><div class=content><pre>IT_EMP  (,alpha,test-domain)    (,beta,test-domain)
IT_APP  (,charlie,test-domain)  (,delta,test-domain)
USERS   (,echo,test-domain)     (,foxtrott,test-domain) \
        (,golf,test-domain)
INTERNS (,able,test-domain)     (,baker,test-domain)</pre></div></div><div class=paragraph><p><code>IT_EMP</code>, <code>IT_APP</code> etc. sono i nomi dei netgroup. Ogni gruppo fra parentesi tonde aggiunge uno o più account utente. I tre campi dentro il gruppo sono:</p></div><div class="olist arabic"><ol class=arabic><li><p>Il nome degli host dove le seguenti caratteristiche sono valide. Se non specifichi un nome host, la linea è valida per tutti gli host. Se specifichi un nome host, entrerai nel regno dell’oscurità , dell’orrore e della confusione assoluta.</p></li><li><p>Il nome dell’account che appartiene a questo netgroup.</p></li><li><p>Il dominio NIS per l’account. Puoi importare account da altri domini NIS nel tuo netgroup se sei uno di quei ragazzi sfortunati con più di un dominio NIS.</p></li></ol></div><div class=paragraph><p>Ognuno di questi campi può contenere wildcards. Leggi <a href="https://man.freebsd.org/cgi/man.cgi?query=netgroup&amp;sektion=5&amp;format=html">netgroup(5)</a> per dettagli.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nomi netgroup più lunghi di 8 caratteri non dovrebbero essere usati, specialmente se hai macchine che eseguono altri sistemi operativi all’interno del tuo dominio NIS. I nomi sono case sensitive; usare le lettere maiuscole per il tuo netgroup è un modo semplice per distinguere fra utenti, macchine e nomi di netgroup.</p></div><div class=paragraph><p>Alcuni client NIS (non FreeBSD) non possono gestire netgroup con un numero troppo grande di linee. Ad esempio, alcune vecchie versioni di SunOS™ iniziano ad avere problemi se un netgroup contiene più di 15 <em>linee</em>. Puoi superare questo limite creando molti sotto-netgroup con 15 o meno utenti ed un vero netgroup che consiste dei sotto-netgroup:</p></div><div class="literalblock programlisting"><div class=content><pre>BIGGRP1  (,joe1,domain)  (,joe2,domain)
(,joe3,domain) [...]
BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]
BIGGRP3  (,joe31,domain)  (,joe32,domain)
BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3</pre></div></div><div class=paragraph><p>Puoi ripetere questo processo se hai bisogno di più di 225 utenti all’interno di un singolo netgroup.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Attivare e distribuire la tua nuova mappa NIS è facile:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington# <span class=nb>cd</span> /var/yp
ellington# make</code></pre></div></div><div class=paragraph><p>Questo genererà le tre mappe NIS <span class=filename>netgroup</span>, <span class=filename>netgroup.byhost</span> e <span class=filename>netgroup.byuser</span>. Usa <a href="https://man.freebsd.org/cgi/man.cgi?query=ypcat&amp;sektion=1&amp;format=html">ypcat(1)</a> per controllare che le tue nuove mappe NIS siano disponibili:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>ellington% ypcat <span class=nt>-k</span>
netgroup
ellington% ypcat <span class=nt>-k</span> netgroup.byhost
ellington% ypcat <span class=nt>-k</span>
netgroup.byuser</code></pre></div></div><div class=paragraph><p>L’output del tuo primo comando dovrebbe assomigliare a <span class=filename>/var/yp/netgroup</span>. Il secondo comando non produrrà output se non hai specificato netgroup specifici agli host. Il terzo comando può essere usato per ottenere una lista dei netgroup di un utente.</p></div><div class=paragraph><p>L’installazione del client è abbastanza semplice. Per configurare il server <code>war</code>, devi solo eseguire <a href="https://man.freebsd.org/cgi/man.cgi?query=vipw&amp;sektion=8&amp;format=html">vipw(8)</a> e sostituire la linea</p></div><div class="literalblock programlisting"><div class=content><pre>+:::::::::</pre></div></div><div class=paragraph><p>con</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::</pre></div></div><div class=paragraph><p>Ora, solo i dati per l’utente definito nel netgroup <code>IT_EMP</code> sono importati nel database delle password di <code>war</code> e solo questi utenti hanno permesso di accesso.</p></div><div class=paragraph><p>Sfortunatamente, questa limitazione si applica anche alla funzione della shell <code>~</code> ed a tutte le routine che convertono fra nomi utenti e user ID numerici. In altre parole,<code>cd ~user ` non funzionerà , `ls -l</code> mostrerà gli ID numerici invece dello username e <code>find . -user joe -print</code> darà l’errore <code>No such user</code>. Per riparare questo, dovrai importare tutte le linee dell’utente <em>senza permettere a loro di loggarsi sui tuoi server</em>.</p></div><div class=paragraph><p>Questo può essere ottenuto aggiungendo un’altra linea a <span class=filename>/etc/master.passwd</span>. Questo dovrebbe contenere:</p></div><div class=paragraph><p><code>+:::::::::/sbin/nologin</code>, dal significato "Importa tutte le entry ma imposta la shell di login a <span class=filename>/sbin/nologin</span> nelle linee importate". Puoi sostituire ogni campo nella linea <code>passwd</code> piazzando un valore di default nel tuo <span class=filename>/etc/master.passwd</span>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Accertati che la linea <code>:::::::::/sbin/nologin` sia piazzata dopo `@IT_EMP:::::::::</code>. Altrimenti tutti gli account utente importati da NIS avranno <span class=filename>/sbin/nologin</span> come loro shell di login.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Dopo questo cambiamento, dovrai solo cambiare una mappa NIS se un nuovo impiegato si unisce al dipartimento IT. Puoi usare un simile approccio per i server meno importanti sostituendo <code>+:::::::::</code> nella tua versione locale di <span class=filename>/etc/master.passwd</span> con qualcosa del tipo:</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::
+@IT_APP:::::::::
+:::::::::/sbin/nologin</pre></div></div><div class=paragraph><p>Le linee corrispondenti per le workstation normali potrebbero essere:</p></div><div class="literalblock programlisting"><div class=content><pre>+@IT_EMP:::::::::
+@USERS:::::::::
+:::::::::/sbin/nologin</pre></div></div><div class=paragraph><p>E tutto sarebbe a posto fino a che non c’è un cambiamento di policy dopo poche settimane: il dipartimento IT inizia ad assumere interni. Gli interni IT hanno permesso di usare le normali workstation ed i server meno importanti; e gli apprendisti IT hanno permesso di loggarsi ai server principali. Aggiungi un nuovo netgroup <code>IT_INTERN</code>, aggiungi i nuovi interni IT a questo nuovo netgroup <code>IT_INTERN</code>, e inizia a cambiare la configurazione su ogni nuova macchina…​ Come il vecchio adagio dice:"Errori nella pianificazione centralizzata porta a caos globale".</p></div><div class=paragraph><p>L’abilità NIS di creare netgroup da altri netgroup può essere usata per prevenire situazioni come queste. Una possibilità è la creazione di netgroup basati sul ruolo. Per esempio, potresti creare un netgroup chiamato <code>BIGSRV</code> per definire le restrizioni di login per i server importanti, un altro netgroup chiamato <code>SMALLSRV</code> per i server meno importanti ed un terzo netgroup chiamato <code>USERBOX</code> per le workstation normali. Ognuna di questi netgroup contiene i netgroup che hanno permesso di accesso a queste macchine. Le nuove linee della tua mappa NIS dovrebbero assomigliare a questa:</p></div><div class="literalblock programlisting"><div class=content><pre>BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP  ITINTERN
USERBOX   IT_EMP  ITINTERN USERS</pre></div></div><div class=paragraph><p>Questo metodo di definire restrizioni di login funziona ragionevolmente bene se puoi definire gruppi di macchine con restrizioni identiche. Sfortunatamente questa è l’eccezione, non la regola. La maggior parte del tempo, avrai necessità di definire restrizioni di login macchina per macchina.</p></div><div class=paragraph><p>Definizioni di netgroup specifiche per ogni macchina sono l’altra possibilità per gestire il cambiamento di policy delineato sopra. In questo scenario il <span class=filename>/etc/master.passwd</span> di ogni macchina deve contenere due linee che iniziano con "+". La prima di queste aggiunge un netgroup con l’account che ha il permesso di loggarsi alla macchina, il secondo aggiunge tutti gli altri account con <span class=filename>/sbin/nologin</span> come shell. E' buona norma usare la versione "MAIUSCOLA" del nome macchina come nome del netgroup. In altre parole, le linee dovrebbero assomigliare a questa:</p></div><div class="literalblock programlisting"><div class=content><pre>+@BOXNAME:::::::::
+:::::::::/sbin/nologin</pre></div></div><div class=paragraph><p>Una volta che hai completato questo task per tutte le macchine, non dovrai mai più modificare la versione locale di <span class=filename>/etc/master.passwd</span>. Tutti gli ulteriori cambiamenti possono essere gestiti modificando la mappa NIS. Di seguito un esempio di una possibile mappa netgroup per questo scenario con altri vantaggi addizionali:</p></div><div class="literalblock programlisting"><div class=content><pre># Define groups of users first
IT_EMP    (,alpha,test-domain)    (,beta,test-domain)
IT_APP    (,charlie,test-domain)  (,delta,test-domain)
DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)
DEPT2     (,golf,test-domain)     (,hotel,test-domain)
DEPT3     (,india,test-domain)    (,juliet,test-domain)
ITINTERN  (,kilo,test-domain)     (,lima,test-domain)
D_INTERNS (,able,test-domain)     (,baker,test-domain)
#
# Now, define some groups based on roles
USERS     DEPT1   DEPT2     DEPT3
BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP    ITINTERN
USERBOX   IT_EMP  ITINTERN  USERS
#
# And a groups for a special tasks
# Allow echo and golf to access our anti-virus-machine
SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)
#
# machine-based netgroups
# Our main servers
WAR       BIGSRV
FAMINE    BIGSRV
# User india needs access to this server
POLLUTION  BIGSRV  (,india,test-domain)
#
# This one is really important and needs more access restrictions
DEATH     IT_EMP
#
# The anti-virus-machine mentioned above
ONE       SECURITY
#
# Restrict a machine to a single user
TWO       (,hotel,test-domain)
# [...more groups to follow]</pre></div></div><div class=paragraph><p>Se stai usando qualche tipo di database per gestire i tuoi account utente, dovresti essere in grado di creare la prima parte della mappa con i tuoi tool di report del database. In questo modo, i nuovi utenti avranno accesso automaticamente alle macchine.</p></div><div class=paragraph><p>Un ultima nota di avvertimento: può non essere sempre consigliabile usare netgroup basati sulle macchine. Se stai per mettere in produzione qualche dozzina o perfino qualche centinaia di macchine identiche per laboratori studente, dovresti usare netgroup basati sul ruolo invece che netgroup basati sulla macchina, per tenere la dimensione della mappa NIS al di sotto di un limite ragionevole.</p></div></div><div class=sect3><h4 id=_cose_importanti_da_ricordare>27.4.8. Cose Importanti da Ricordare<a class=anchor href=#_cose_importanti_da_ricordare></a></h4><div class=paragraph><p>Ci sono ancora un paio di cose che dovrai cambiare ora che operi in ambiente NIS.</p></div><div class=ulist><ul><li><p>Ogni volta che devi aggiungere un utente al laboratorio devi aggiungerlo <em>solo</em> al server master NIS e <em>devi ricordarti di ricostruire le mappe NIS</em>. Se ti dimentichi di farlo il nuovo utente non sarà in grado di loggarsi in alcuna macchina eccetto che sul server NIS master. Per esempio, se abbiamo bisogno di aggiungere un nuovo utente <code>jsmith</code> al laboratorio, faremmo:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># pw useradd jsmith</span>
<span class=c># cd /var/yp</span>
<span class=c># make test-domain</span></code></pre></div></div><div class=paragraph><p>Puoi anche eseguire <code>adduser jsmith</code> invece di <code>pw useradd jsmith</code>.</p></div></li><li><p><em>Tieni gli account amministrativi fuori dalle mappe NIS</em>. Normalmente non vuoi che gli account amministrativ e le password si propaghino a macchine che avranno utenti che non dovrebbero avere accesso a quegli account.</p></li><li><p><em>Tieni al sicuro il NIS master e slave, e minimizza il tempo in cui sono giù</em>. Se qualcuno hackera o semplicemente spegne queste macchine riesce a privare molte persone della possibilità di loggarsi al laboratorio.</p><div class=paragraph><p>Questa è la principale debolezza di ogni sistema centralizzato di amministrazione. Se non proteggi il tuo server NIS, avrai un mucchio di utenti arrabbiati!</p></div></li></ul></div></div><div class=sect3><h4 id=_compatibilità_con_nis_v1>27.4.9. Compatibilità con NIS v1<a class=anchor href=#_compatibilità_con_nis_v1></a></h4><div class=paragraph><p>ypserv di FreeBSD supporta fino ad un certo punto client NIS v1. L’implementazione di NIS di FreeBSD usa solo il protocollo NIS v2, comunque altre implementazioni includono supporto per il protocollo v1 per compatibilità all’indietro coi vecchi sistemi. Il demone ypbind fornito con questi sistemi proverà a stabilire un binding con un server NIS v1 anche se potrebbero non averne mai bisogno (e possono continuare a fare broadcast in ricerca di uno anche dopo che hanno ricevuto risposta da un server v2). Nota che mentre il supporto per i client normali viene garantito, questa versione di ypserv non gestisce richieste di trasferimento di mappe v1; di conseguenza, non può essere usato come master o slave in congiunzione con server NIS più vecchi che supportano solo il protocollo v1. Fortunatamente, probabilmente non ci sono server del genere in uso oggi.</p></div></div><div class=sect3><h4 id=network-nis-server-is-client>27.4.10. Server NIS che Sono Anche Client<a class=anchor href=#network-nis-server-is-client></a></h4><div class=paragraph><p>Bisogna prestare molta attenzione quando si esegue ypserv in un dominio multi-server dove le macchine server sono anche client NIS. E' generalmente una buona idea forzare i server ad effettuare il binding a sè stessi piuttosto che permettere loro di effettuare il broadcast delle richieste binding e potenzialmente possono fare il bind una all’altra. Possono risultare strani errori quando un server va giù e gli altri sono dipendenti da lui. Alla fine, tutti i client andranno in timeout e cercheranno di effettuare il bind ad altri server, ma il ritardo di questa operazione può essere considerevole e l’uscita di errore è ancora presente dato che i server possono fare il binding fra di loro di nuovo.</p></div><div class=paragraph><p>Puoi forzare un host a fare il binding ad un server in particolare usando <code>ypbind</code> con l’opzione <code>-S</code>. Se non vuoi fare questa azione a mano ogni volta che fai il reboot del tuo server NIS, puoi aggiungere queste linee al tuo <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>nis_client_enable=&#34;YES&#34;  # run client stuff as well
nis_client_flags=&#34;-S NIS
domain,server&#34;</pre></div></div><div class=paragraph><p>Consulta <a href="https://man.freebsd.org/cgi/man.cgi?query=ypbind&amp;sektion=8&amp;format=html">ypbind(8)</a> per ulteriori informazioni.</p></div></div><div class=sect3><h4 id=_formato_delle_password>27.4.11. Formato delle Password<a class=anchor href=#_formato_delle_password></a></h4><div class=paragraph><p>Uno dei problemi più comuni in cui la gente incappa quando tenta di implementare NIS è la compatibilità del formato delle password. Se il tuo server NIS usa password criptate con DES, supporterà solo client che usano anche loro DES. Ad esempio, se hai client NIS Solaris™ nella rete, dovrai quasi certamente usare password criptate con DES.</p></div><div class=paragraph><p>Per controllare quale formato il tuo server e client usano, dai un’occhiata a <span class=filename>/etc/login.conf</span>. Se l’host è configurato per usare password criptate DES, la classe <code>default</code> conterrà una linea simile a questa:</p></div><div class="literalblock programlisting"><div class=content><pre>default:\
:passwd_format=des:\
:copyright=/etc/COPYRIGHT:\
[Further entries elided]</pre></div></div><div class=paragraph><p>Altri valori possibili per l’opzione <code>passwd_format</code> includono <code>blf</code> e <code>md5</code> (per password criptate con Blowfish e con MD5, rispettivamente).</p></div><div class=paragraph><p>Se hai fatto modifiche a <span class=filename>/etc/login.conf</span>, dovrai anche ricostruire il database delle possibilità di login, il che si ottiene eseguendo il seguente comando come <code>root</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cap_mkdb /etc/login.conf</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il formato delle password che sono già in <span class=filename>/etc/master.passwd</span> non sarà aggiornato finchè un utente cambia la sua password per la prima volta <em>dopo</em> che il database delle possibilità di login è ricostruito.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Dopodichè per assicurarti che le password siano criptate con il formato che hai scelto, dovresti anche controllare che <code>crypt_default</code> in <span class=filename>/etc/auth.conf</span> dia precedenza al formato delle password scelto. Per farlo, inserisci il formato che hai scelto per primo nella lista. Ad esempio, quando usi password criptate DES, la linea dovrebbe essere:</p></div><div class="literalblock programlisting"><div class=content><pre>crypt_default  =  des blf md5</pre></div></div><div class=paragraph><p>Seguendo i passi sopra citati su ognuno dei FreeBSD basati su NIS server e client, puoi star sicuro che tutti siano d’accordo su quale formato delle password sia usato all’interno della rete. Se hai problemi nell’identificazione su un client NIS, questo è un buon punto di partenza per cercare possibili problemi. Ricordati: se vuoi mettere in produzione un server NIS per una rete eterogenea, dovrai probabilmente usare DES su tutti i sistemi poichè questo è il minimo standard comune.</p></div></div></div><div class=sect2><h3 id=network-dhcp>27.5. Configurazione Automatica della Rete (DHCP)<a class=anchor href=#network-dhcp></a></h3><div class=sect3><h4 id=_cosè_il_dhcp>27.5.1. Cos’è il DHCP?<a class=anchor href=#_cosè_il_dhcp></a></h4><div class=paragraph><p>DHCP, il Protocollo di Configurazione Host Dinamico, descrive i passi attraverso i quali un sistema si può connettere ad una rete ed ottenere l’informazione necessaria per comunicare attraverso quella rete. Le versioni di FreeBSD prima della 6.0 usano l’implementazione DHCP client (<a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a>) dell’ISC (Internet Software Consortium). Le ultime versioni usano il <code>dhclient</code> di OpenBSD preso da OpenBSD 3.7. Tutte le informazioni specifiche all’implementazione di <code>dhclient</code> in questa sede sono riferite all’uso dei client DHCP sia di ISC che di OpenBSD. Il server DHCP è quello incluso nella distribuzione ISC.</p></div></div><div class=sect3><h4 id=_cosa_copre_questa_sezione>27.5.2. Cosa Copre Questa Sezione<a class=anchor href=#_cosa_copre_questa_sezione></a></h4><div class=paragraph><p>Questa sezione descrive sia il lato client del sistema DHCP di ISC e di OpenBSD che il lato server del sistema DHCP ISC. Il programma client, <code>dhclient</code>, è già integrato con FreeBSD, e la parte server è disponibile nel port <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp3-server/>net/isc-dhcp3-server</a>. Le pagine di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a>, <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5&amp;format=html">dhcp-options(5)</a>, e <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5&amp;format=html">dhclient.conf(5)</a>, oltre ai riferimenti elencati oltre, sono risorse utili.</p></div></div><div class=sect3><h4 id=_come_funziona_3>27.5.3. Come Funziona<a class=anchor href=#_come_funziona_3></a></h4><div class=paragraph><p>Quando <code>dhclient</code>, il client DHCP, viene eseguito sulla macchina client, inizia a fare broadcasting di richieste per informazioni di configurazione. Di default queste richieste sono sulla porta UDP 68. Il server risponde sulla porta UDP 67, dando al client un indirizzo IP ed altre informazioni rilevanti di rete come la netmask, il router ed il DNS server. Tutte queste informazioni arrivano sotto forma di un "rilascio" DHCP e sono valide sono per un certo periodo di tempo (configurato dall’amministratore del server DHCP). In questo modo, gli indirizzi IP bloccati da client che non sono più connessi alla rete possono essere riutilizzati automaticamente.</p></div><div class=paragraph><p>I client DHCP possono ottenere molti tipi di informazione dal server. Una lista esauriente può essere trovata in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcp-options&amp;sektion=5&amp;format=html">dhcp-options(5)</a>.</p></div></div><div class=sect3><h4 id=_lintegrazione_con_freebsd>27.5.4. L’Integrazione con FreeBSD<a class=anchor href=#_lintegrazione_con_freebsd></a></h4><div class=paragraph><p>FreeBSD integra completamente il client DHCP ISC o OpenBSD, <code>dhclient</code> (a seconda della versione di FreeBSD utilizzata). Viene fornito supporto al client DHCP sia con l’installazione sia con il sistema base, rendendo inutile il bisogno di una conoscenza dettagliata della configurazione di rete su ogni rete che abbia un server DHCP. <code>dhclient</code> è stato incluso in tutte le distribuzioni FreeBSD a partire dalla 3.2.</p></div><div class=paragraph><p>DHCP è supportato da sysinstall. Quando configuri una interfaccia di rete con sysinstall, la seconda domanda che ti pone è: " Vuoi provare a configurare l’interfaccia via DHCP?". Una risposta affermativa eseguirà <code>dhclient</code>, e, se ha successo, riempirà le informazioni di configurazione della rete in automatico.</p></div><div class=paragraph><p>Ci sono due cose che devi fare per far sì che il tuo sistema usi il DHCP all’avvio:</p></div><div class=ulist><ul><li><p>Accertati che il device <span class=filename>bpf</span> sia compilato nel tuo kernel. Per fare ciò, aggiungi <code>device bpf</code> al tuo file di configurazione del kernel, e ricompilalo. Per maggiori informazioni su come ricompilare i kernel, vedi <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>.</p><div class=paragraph><p>Il device <span class=filename>bpf</span> è già parte del kernel <span class=filename>GENERIC</span> che è fornito con FreeBSD, così se non hai un kernel custom, non dovresti aver bisogno di crearne uno al fine di far funzionare il DHCP.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Quelli di voi che sono particolarmente attenti alla sicurezza, dovrebbero sapere che il device <span class=filename>bpf</span> è anche il device che permette agli sniffer di pacchetti di funzionare correttamente (anche se devono sempre essere eseguiti come <code>root</code>). <span class=filename>bpf</span><em>è</em> richiesto per l’uso del DHCP, ma se siete molto attenti alla sicurezza, non dovreste probabilmente aggiungere <span class=filename>bpf</span> al vostro kernel in previsione di un uso futuro del DHCP.</p></div></td></tr></tbody></table></div></li><li><p>Edita il tuo <span class=filename>/etc/rc.conf</span> per includere la seguente linea:</p><div class="literalblock programlisting"><div class=content><pre>ifconfig_fxp0=&#34;DHCP&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Accertati di sostituire <code>fxp0</code> con il nome dell’interfaccia che intendi configurare dinamicamente, come descritto in .</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se stai usando una locazione diversa per <code>dhclient</code>, o se desideri passare flags addizionali a <code>dhclient</code> includi anche le linee seguenti (editandole come necessario):</p></div><div class="literalblock programlisting"><div class=content><pre>dhcp_program=&#34;/sbin/dhclient&#34;
dhcp_flags=&#34;&#34;</pre></div></div></li></ul></div><div class=paragraph><p>Il server DHCP, dhcpd, è incluso come parte del port <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp3-server/>net/isc-dhcp3-server</a> nella collezione dei ports. Questo port contiene il server DHCP ISC e la documentazione.</p></div></div><div class=sect3><h4 id=_files>27.5.5. Files<a class=anchor href=#_files></a></h4><div class=ulist><ul><li><p><span class=filename>/etc/dhclient.conf</span></p><div class=paragraph><p><code>dhclient</code> richiede un file di configurazione, <span class=filename>/etc/dhclient.conf</span>. Tipicamente il file contiene solo commenti, essendo i default ragionevolmente corretti. Questo file di configurazione è descritto dalla pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.conf&amp;sektion=5&amp;format=html">dhclient.conf(5)</a>.</p></div></li><li><p><span class=filename>/sbin/dhclient</span></p><div class=paragraph><p><code>dhclient</code> è linkato staticamente e risiede in <span class=filename>/sbin</span>. Le pagine di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient&amp;sektion=8&amp;format=html">dhclient(8)</a> danno maggiori informazioni su <code>dhclient</code>.</p></div></li><li><p><span class=filename>/sbin/dhclient-script</span></p><div class=paragraph><p><code>dhclient-script</code> è lo script di configurazione del client DHCP specifico di FreeBSD. Viene descritto in <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient-script&amp;sektion=8&amp;format=html">dhclient-script(8)</a> ma non dovrebbe aver bisogno di nessuna modifica utente per funzionare correttamente.</p></div></li><li><p><span class=filename>/var/db/dhclient.leases</span></p><div class=paragraph><p>Il client DHCP mantiene un database di validi rilasci in questo file, che viene scritto come un log. <a href="https://man.freebsd.org/cgi/man.cgi?query=dhclient.leases&amp;sektion=5&amp;format=html">dhclient.leases(5)</a> ne dàuna descrizione leggermente più estesa.</p></div></li></ul></div></div><div class=sect3><h4 id=_ulteriori_letture>27.5.6. Ulteriori Letture<a class=anchor href=#_ulteriori_letture></a></h4><div class=paragraph><p>Il protocollo DHCP è descritto in maniera estesa in <a href=http://www.freesoft.org/CIE/RFC/2131/>RFC 2131</a>. Informazioni aggiuntive sono presenti a questo URL: <a href=http://www.dhcp.org/>http://www.dhcp.org/</a>.</p></div></div><div class=sect3><h4 id=network-dhcp-server>27.5.7. Installare e Configurare un Server DHCP<a class=anchor href=#network-dhcp-server></a></h4><div class=sect4><h5 id=_cosa_copre_questa_sezione_2>27.5.7.1. Cosa Copre Questa Sezione<a class=anchor href=#_cosa_copre_questa_sezione_2></a></h5><div class=paragraph><p>Questa sezione fornisce informazioni su come configurare un sistema FreeBSD che funzioni come un server DHCP usando l’implementazione del server DHCP dell’ISC (Internet Software Consortium).</p></div><div class=paragraph><p>Il server non viene fornito come parte di FreeBSD, così dovrai installare il port <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp3-server/>net/isc-dhcp3-server</a> per fornire questo servizio. Vedi <a href=./#ports>Installazione delle Applicazioni. Port e Package</a> per più informazioni su come usare la Collezione dei Port.</p></div></div><div class=sect4><h5 id=_installazione_del_dhcp_server>27.5.7.2. Installazione del DHCP Server<a class=anchor href=#_installazione_del_dhcp_server></a></h5><div class=paragraph><p>Per configurare il tuo sistema FreeBSD come un server DHCP, assicurati che il device <a href="https://man.freebsd.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;format=html">bpf(4)</a> sia compilato nel kernel. Per farlo, aggiungi <code>device bpf</code> al file di configurazione del kernel, e ricompilalo. Per maggiori informazioni su come compilare un kernel, vedi <a href=./#kernelconfig>Configurazione del Kernel di FreeBSD</a>.</p></div><div class=paragraph><p>Il device <span class=filename>bpf</span> è già parte del kernel <span class=filename>GENERIC</span> che viene fornito con FreeBSD, così non hai bisogno di creare un kernel custom per far funzionare il DHCP.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Quelli di voi che sono particolarmente attenti alla sicurezza, dovrebbero notare che <span class=filename>bpf</span> è anche il device che permette agli sniffer di pacchetti di funzionare correttamente (anche se tali programmi hanno bisogno di accesso privilegiato). <span class=filename>bpf</span> _è _ richiesto per il funzionamento del DHCP, ma se siete molto attenti alla sicurezza, probabilmente non dovreste includere <span class=filename>bpf</span> nel vostro kernel semplicemente perchè vi aspettate di usare il DHCP in qualche momento.</p></div></td></tr></tbody></table></div><div class=paragraph><p>La prossima cosa che devi fare è editare il file <span class=filename>dhcpd.conf</span> che è stato installato dal port <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp3-server/>net/isc-dhcp3-server</a>. Di default, questo sarà <span class=filename>/usr/local/etc/dhcpd.conf.sample</span> e dovresti copiare questo file in <span class=filename>/usr/local/etc/dhcpd.conf</span> prima di procedere con i cambiamenti.</p></div></div><div class=sect4><h5 id=_configurare_il_server_dhcp>27.5.7.3. Configurare il Server DHCP<a class=anchor href=#_configurare_il_server_dhcp></a></h5><div class=paragraph><p><span class=filename>dhcpd.conf</span> è composto di dichiarazioni riguardanti sottoreti ed host, e forse lo si spiega meglio con un esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>option domain-name &#34;example.com&#34;;<i class=conum data-value=1></i><b>(1)</b>
option domain-name-servers 192.168.4.100;<i class=conum data-value=2></i><b>(2)</b>
option subnet-mask 255.255.255.0;<i class=conum data-value=3></i><b>(3)</b>

default-lease-time 3600;<i class=conum data-value=4></i><b>(4)</b>
max-lease-time 86400;<i class=conum data-value=5></i><b>(5)</b>
ddns-update-style none;<i class=conum data-value=6></i><b>(6)</b>

subnet 192.168.4.0 netmask 255.255.255.0 {
  range 192.168.4.129 192.168.4.254;<i class=conum data-value=7></i><b>(7)</b>
  option routers 192.168.4.1;<i class=conum data-value=8></i><b>(8)</b>
}

host mailhost {
  hardware ethernet 02:03:04:05:06:07;<i class=conum data-value=9></i><b>(9)</b>
  fixed-address mailhost.example.com;<i class=conum data-value=10></i><b>(10)</b>
}</pre></div></div><div class="colist arabic"><table><tbody><tr><td><i class=conum data-value=1></i><b>1</b></td><td>Questa opzione specifica il dominio che verrà servito ai client come il dominio di default di ricerca. Si veda <a href="https://man.freebsd.org/cgi/man.cgi?query=resolv.conf&amp;sektion=5&amp;format=html">resolv.conf(5)</a> per più informazioni.</td></tr><tr><td><i class=conum data-value=2></i><b>2</b></td><td>Questa opzione specifica una lista di server DNS separata da virgole, che i client dovrebbero usare.</td></tr><tr><td><i class=conum data-value=3></i><b>3</b></td><td>La netmask che sarà fornita ai client.</td></tr><tr><td><i class=conum data-value=4></i><b>4</b></td><td>Un client potrebbe richiedere una lunghezza di tempo specifica per la quale il rilascio sarà valido. Altrimenti il server assegnerà un tempo di rilascio con questa durata (in secondi).</td></tr><tr><td><i class=conum data-value=5></i><b>5</b></td><td>Questa è la lunghezza massima di tempo per la quale un server effettuerà un rilascio. Se un client dovesse richiedere un rilascio più lungo, sarà effettuato un rilascio, anche se sarà valido solo per <code>max-lease-time</code> secondi.</td></tr><tr><td><i class=conum data-value=6></i><b>6</b></td><td>Questa opzione specifica se il server DHCP dovrà cercare di modificare il DNS quando un rilascio è accettato o liberato. Nella implementazione ISC questa opzione è <em>richiesta</em>.</td></tr><tr><td><i class=conum data-value=7></i><b>7</b></td><td>Questo identifica quale indirizzo IP dovrà essere usato nel pool riservato per l’allocazione ad i client. Gli indirizzi IP fra, ed inclusi, quelli dichiarati sono assegnabili agli utenti.</td></tr><tr><td><i class=conum data-value=8></i><b>8</b></td><td>Dichiara il default gateway che sarà assegnato ad i client.</td></tr><tr><td><i class=conum data-value=9></i><b>9</b></td><td>L’indirizzo hardware MAC di un host (cosicchè il server DHCP possa riconoscere un host quando fa una richiesta).</td></tr><tr><td><i class=conum data-value=10></i><b>10</b></td><td>Specifica che all’host dovrebbe sempre essere fornito lo stesso indirizzo IP. Nota che usare un hostname è corretto in questo caso, dato che il DHCP server risolverà l’hostname stesso prima di restituire l’informazione sul rilascio.</td></tr></tbody></table></div><div class=paragraph><p>Una volta che hai finito di scrivere il tuo <span class=filename>dhcpd.conf</span>, puoi abilitare il server DHCP in <span class=filename>/etc/rc.conf</span>, aggiungendo:</p></div><div class="literalblock programlisting"><div class=content><pre>dhcpd_enable=&#34;YES&#34;
dhcpd_ifaces=&#34;dc0&#34;</pre></div></div><div class=paragraph><p>Sostituisci il nome dell’interfaccia <code>dc0</code> con l’interfaccia (o le interfacce, separate da spazi) su cui il tuo server DHCP dovrebbe stare in ascolto per le richieste DHCP dei client.</p></div><div class=paragraph><p>Quindi, puoi procedere ad avviare il server con il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/etc/rc.d/isc-dhcpd.sh start</span></code></pre></div></div><div class=paragraph><p>Se hai bisogno di fare altri cambiamenti alla configurazione del server in futuro, è importante notare che l’invio di un segnale <code>SIGHUP</code> a dhcpd_non_ fa sì che il file di configurazione sia ricaricato, come avviene con la maggior parte dei demoni. Dovrai inviare un segnale <code>SIGTERM</code> per fermare il processo, e poi riavviarlo usando il comando sopracitato.</p></div></div><div class=sect4><h5 id=_files_2>27.5.7.4. Files<a class=anchor href=#_files_2></a></h5><div class=ulist><ul><li><p><span class=filename>/usr/local/sbin/dhcpd</span></p><div class=paragraph><p>dhcpd è linkato staticamente e risiede in <span class=filename>/usr/local/sbin</span>. La pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd&amp;sektion=8&amp;format=html">dhcpd(8)</a> installata con il port dà più informazioni su dhcpd.</p></div></li><li><p><span class=filename>/usr/local/etc/dhcpd.conf</span></p><div class=paragraph><p>dhcpd richiede un file di configurazione, <span class=filename>/usr/local/etc/dhcpd.conf</span>, prima che possa iniziare a fornire il servizio ai client. Questo file deve contenere tutte le informazioni che devono essere fornite ai client che sono serviti, oltre alle informazioni riguardanti le operazioni del server. Questo file di configurazione è descritto dalla pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd.conf&amp;sektion=5&amp;format=html">dhcpd.conf(5)</a> installata dal port.</p></div></li><li><p><span class=filename>/var/db/dhcpd.leases</span></p><div class=paragraph><p>Il server DHCP mantiene un database dei rilasci che ha effettuato in questo file, che viene scritto come un log. La pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcpd.leases&amp;sektion=5&amp;format=html">dhcpd.leases(5)</a>, installata dal port ne dà una descrizione leggermente pi` lunga.</p></div></li><li><p><span class=filename>/usr/local/sbin/dhcrelay</span></p><div class=paragraph><p>dhcrelay è usata in ambienti avanzati dove un server DHCP reinvia le richieste da un client ad un altro server DHCP su una rete separata. Se hai bisogno di questa funzionalità, installa il port <a class=package href=https://cgit.freebsd.org/ports/tree/net/isc-dhcp3-relay/>net/isc-dhcp3-relay</a>. La pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=dhcrelay&amp;sektion=8&amp;format=html">dhcrelay(8)</a> fornita col port contiene più dettagli.</p></div></li></ul></div></div></div></div><div class=sect2><h3 id=network-dns>27.6. Domain Name System (DNS)<a class=anchor href=#network-dns></a></h3><div class=sect3><h4 id=_uno_sguardo_dinsieme>27.6.1. Uno sguardo d’insieme<a class=anchor href=#_uno_sguardo_dinsieme></a></h4><div class=paragraph><p>FreeBSD utilizza, di default, una versione di BIND (Berkeley Internet Name Domain), che è la più completa implementazione del protocollo DNS. DNS è il protocollo attraverso il quale nomi sono mappati ad indirizzi IP, e viceversa. Per esempio, una query per <code>www.FreeBSD.org ` riceverà una replica con l’indirizzo IP del web server del The FreeBSD Project, mentre una query per `ftp.FreeBSD.org</code> ritornerà l’indirizzo IP della corrispondente macchina FTP. Allo stesso modo, può avvenire l’opposto. Una query per un indirizzo IP può risolvere il suo nome host. Non è necessario avere in esecuzione un name server per fare DNS lookups su un sistema.</p></div><div class=paragraph><p>FreeBSD al momento viene distribuito con software DNSBIND9 di default. La nostra installazione fornisce caratteristiche di sicurezza migliorate, un nuovo layout del file system e configurazione <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a> automatica.</p></div><div class=paragraph><p>DNS è coordinato su Internet attraverso un sistema alquanto complesso di name server autoritativi, ed altri name server di più piccola scala che ospitano e gestiscono cache di informazioni individuali sui domini.</p></div><div class=paragraph><p>Al momento corrente, BIND è mantenuto dall’Internet Software Consortium <a href=http://www.isc.org/>http://www.isc.org/</a>.</p></div></div><div class=sect3><h4 id=_terminologia>27.6.2. Terminologia<a class=anchor href=#_terminologia></a></h4><div class=paragraph><p>Per comprendere questo documento, alcuni termini relativi al DNS devono essere capiti.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Termine</th><th class="tableblock halign-left valign-top">Definizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Forward DNS</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La mappa da hostname ad indirizzi IP.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Origine</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Si riferisce al dominio coperto in un particolare file di zona.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>named, BIND, name server</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Nomi comuni per il pacchetto name server BIND all’interno di FreeBSD.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Risolutore</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Un processo di sistema attraverso il quale una macchina fa query su un name server per informazioni di zona.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>DNS inverso</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’opposto del forward DNS; mappare indirizzi IP su nomi host.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Zona root</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’inizio della gerarchia della zona Internet. Tutte le zone cadono sotto la zona root, analogamente a come tutti i file nel file system cadono sotto la directory root.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Zona</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Un dominio individuale, sottodominio, o porzione del DNS amministrato dalla stessa autorità</p></td></tr></tbody></table><div class=paragraph><p>Esempi di zone:</p></div><div class=ulist><ul><li><p><code>.</code> è la zona root</p></li><li><p><code>org.</code> è una zona Top Level Domain (TLD) sotto la zona root</p></li><li><p><code>example.org.</code> è una zona sotto la zona `org.`TLD</p></li><li><p><code>1.168.192.in-addr.arpa</code> è una zona che referenzia tutti gli indirizzi IP che cadono sotto lo spazio IP`192.168.1.*`.</p></li></ul></div><div class=paragraph><p>Come si può vedere, la parte più specifica di un nome host appare a sinistra. Per esempio <code>example.org.</code> è più specifico di <code>org.</code>, come <code>org.</code> è più specifico della zona root. La disposizione di ogni parte di un nome host è analoga ad un file system: la directory <span class=filename>/dev</span> cade all’interno della root, e così via.</p></div></div><div class=sect3><h4 id=_ragioni_per_avere_in_esecuzione_un_name_server>27.6.3. Ragioni per Avere in Esecuzione un Name Server<a class=anchor href=#_ragioni_per_avere_in_esecuzione_un_name_server></a></h4><div class=paragraph><p>Attualmente vengono usati due tipi di name server: un name server autoritativo, ed un name server cache.</p></div><div class=paragraph><p>Un name server autoritativo è necessario quando:</p></div><div class=ulist><ul><li><p>uno vuole servire informazioni DNS a tutto il mondo, rispondendo in maniera autoritativa alle query.</p></li><li><p>un dominio, tipo <code>example.org</code>, è registrato e gli indirizzi IP devono essere assegnati ad hostname sotto questo.</p></li><li><p>un blocco di indirizzi IP richiede entry di DNS inverso (da IP ad hostname).</p></li><li><p>un name server di backup, chiamato uno slave, deve rispondere alle query.</p></li></ul></div><div class=paragraph><p>Un name server cache è necessario quando:</p></div><div class=ulist><ul><li><p>un server locale DNS può tenere in cache e rispondere più velocemente rispetto ad effettuare query ad un name server all’esterno.</p></li><li><p>una riduzione nel traffico complessivo di rete è desiderato (è stato calcolato che il traffico DNS conta più del 5% sul traffico totale di Internet).</p></li></ul></div><div class=paragraph><p>Quando uno fa una query per risolvere <code>www.FreeBSD.org</code>, il risolutore di solito fa una query al name server dell’ISP a cui si è connessi, ed ottiene una risposta. Con un server DNS locale, che fa cache, la query deve essere effettuata una volta sola dal server DNS che fa cache. Ogni query aggiuntiva non dovrà cercare all’esterno della rete locale, dato che l’informazione è tenuta in cache localmente.</p></div></div><div class=sect3><h4 id=_come_funziona_4>27.6.4. Come Funziona<a class=anchor href=#_come_funziona_4></a></h4><div class=paragraph><p>In FreeBSD, il demone BIND è chiamato named per ovvie ragioni.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">File</th><th class="tableblock halign-left valign-top">Descrizione</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il demone BIND.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href="https://man.freebsd.org/cgi/man.cgi?query=rndc&amp;sektion=8&amp;format=html">rndc(8)</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Programma di controllo del name server.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/namedb</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Directory dove risiedono le informazioni di zona di BIND.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/etc/namedb/named.conf</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File di configurazione del demone.</p></td></tr></tbody></table><div class=paragraph><p>A seconda di come certe zone sono configurate sul server, i file relativi a quelle zone possono essere trovate nelle sottodirectory <span class=filename>master</span>, <span class=filename>slave</span>, or <span class=filename>dynamic</span> della directory <span class=filename>/etc/namedb</span>. Questi file contengono le informazioni DNS che saranno distribuite dal name server in risposta alle query.</p></div></div><div class=sect3><h4 id=_avviare_bind>27.6.5. Avviare BIND<a class=anchor href=#_avviare_bind></a></h4><div class=paragraph><p>Dato che BIND è installato di default, configurarlo è relativamente semplice.</p></div><div class=paragraph><p>La configurazione di default di named è quella di un name server basilare, eseguito in ambiente <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a>. Per avviare il server una volta con questa configurazione, usa il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /etc/rc.d/named forcestart</span></code></pre></div></div><div class=paragraph><p>Per assicurarsi che il demone named sia avviato alla partenza, metti la seguente riga in <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>named_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Ci sono ovviamente molte opzioni di configurazione per <span class=filename>/etc/namedb/named.conf</span> che sono al di là dello scopo di questo documento. Comunque, se siete interessati nelle opzioni di avvio per named su FreeBSD, dai un’occhiata ai flags <code>named_</code> in <span class=filename>/etc/defaults/rc.conf</span> e consulta la pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">rc.conf(5)</a>. Anche la sezione <a href=./#configtuning-initial>Configurazione Iniziale</a> è una buona base di partenza.</p></div></div><div class=sect3><h4 id=_file_di_configurazione_3>27.6.6. File di Configurazione<a class=anchor href=#_file_di_configurazione_3></a></h4><div class=paragraph><p>I file di configurazione per named al corrente risiedono nella directory <span class=filename>/etc/named</span> e necessiteranno di modifiche prima dell’uso, a meno che non si voglia un semplice resolver. Qui è dove la maggior pare della configurazione viene effettuata.</p></div><div class=sect4><h5 id=_usando_make_localhost>27.6.6.1. Usando <code>make-localhost</code><a class=anchor href=#_usando_make_localhost></a></h5><div class=paragraph><p>Per configurare una zona master per il localhost visita la directory <span class=filename>/etc/namedb</span> ed esegui il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># sh make-localhost</span></code></pre></div></div><div class=paragraph><p>Se tutto è andato bene, un nuovo file dovrebbe esistere nella sottodirectory <span class=filename>master</span>. I nomi dei file dovrebbero essere <span class=filename>localhost.rev</span> per il local domain name e <span class=filename>localhost-v6.rev</span> per le configurazioni IPv6. Come il file di configurazione di default, l’informazione richiesta sarà presente nel file <span class=filename>named.conf</span>.</p></div></div><div class=sect4><h5 id=_etcnamedbnamed_conf>27.6.6.2. <span class=filename>/etc/namedb/named.conf</span><a class=anchor href=#_etcnamedbnamed_conf></a></h5><div class="literalblock programlisting"><div class=content><pre>// $FreeBSD$
//
// Refer to the named.conf(5) and named(8) man pages, and the documentation
// in /usr/shared/doc/bind9 for more details.
//
// If you are going to set up an authoritative server, make sure you
// understand the hairy details of how DNS works.  Even with
// simple mistakes, you can break connectivity for affected parties,
// or cause huge amounts of useless Internet traffic.

options {
  directory &#34;/etc/namedb&#34;;
  pid-file  &#34;/var/run/named/pid&#34;;
  dump-file &#34;/var/dump/named_dump.db&#34;;
  statistics-file &#34;/var/stats/named.stats&#34;;

// If named is being used only as a local resolver, this is a safe default.
// For named to be accessible to the network, comment this option, specify
// the proper IP address, or delete this option.
  listen-on { 127.0.0.1; };

// If you have IPv6 enabled on this system, uncomment this option for
// use as a local resolver.  To give access to the network, specify
// an IPv6 address, or the keyword &#34;any&#34;.
//  listen-on-v6  { ::1; };

// In addition to the &#34;forwarders&#34; clause, you can force your name
// server to never initiate queries of its own, but always ask its
// forwarders only, by enabling the following line:
//
//  forward only;

// If you&#39;ve got a DNS server around at your upstream provider, enter
// its IP address here, and enable the line below.  This will make you
// benefit from its cache, thus reduce overall DNS traffic in the Internet.
/*
  forwarders {
    127.0.0.1;
  };
*/</pre></div></div><div class=paragraph><p>Proprio come dicono i commenti, per beneficiare di una cache di un server superiore, può essere abilitato <code>forwarders</code>. Sotto circostanze normali, un name server farà query ricorsive attraverso Internet cercando certi name server fino a chè non trova la risposta che sta cercando. Averlo abilitato farà sì che sarà fatta prima una query verso il name server superiore (o il name server fornito), avvantaggiandosi della sua cache. Se il name server superiore è un name server molto trafficato e veloce, può valere la pena di abilitarlo.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p><code>127.0.0.1</code> <em>non</em> funzionerà qui. Cambia questo indirizzo IP in un name server superiore.</p></div></td></tr></tbody></table></div><div class="literalblock programlisting"><div class=content><pre>  /*
   * If there is a firewall between you and nameservers you want
   * to talk to, you might need to uncomment the query-source
   * directive below.  Previous versions of BIND always asked
   * questions using port 53, but BIND versions 8 and later
   * use a pseudo-random unprivileged UDP port by default.
   */
   // query-source address * port 53;
};

// If you enable a local name server, don&#39;t forget to enter 127.0.0.1
// first in your /etc/resolv.conf so this server will be queried.
// Also, make sure to enable it in /etc/rc.conf.

zone &#34;.&#34; {
  type hint;
  file &#34;named.root&#34;;
};

zone &#34;0.0.127.IN-ADDR.ARPA&#34; {
  type master;
  file &#34;master/localhost.rev&#34;;
};

// RFC 3152
zone &#34;1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA&#34; {
  type master;
  file &#34;master/localhost-v6.rev&#34;;
};

// NB: Do not use the IP addresses below, they are faked, and only
// serve demonstration/documentation purposes!
//
// Example slave zone config entries.  It can be convenient to become
// a slave at least for the zone your own domain is in.  Ask
// your network administrator for the IP address of the responsible
// primary.
//
// Never forget to include the reverse lookup (IN-ADDR.ARPA) zone!
// (This is named after the first bytes of the IP address, in reverse
// order, with &#34;.IN-ADDR.ARPA&#34; appended.)
//
// Before starting to set up a primary zone, make sure you fully
// understand how DNS and BIND works.  There are sometimes
// non-obvious pitfalls.  Setting up a slave zone is simpler.
//
// NB: Don&#39;t blindly enable the examples below. :-)  Use actual names
// and addresses instead.

/* An example master zone
zone &#34;example.net&#34; {
  type master;
  file &#34;master/example.net&#34;;
};
*/

/* An example dynamic zone
key &#34;exampleorgkey&#34; {
  algorithm hmac-md5;
  secret &#34;sf87HJqjkqh8ac87a02lla==&#34;;
};

zone &#34;example.org&#34; {
  type master;
  allow-update {
    key &#34;exampleorgkey&#34;;
  };
  file &#34;dynamic/example.org&#34;;
};
*/

/* Examples of forward and reverse slave zones
zone &#34;example.com&#34; {
  type slave;
  file &#34;slave/example.com&#34;;
  masters {
    192.168.1.1;
  };
};
zone &#34;1.168.192.in-addr.arpa&#34; {
  type slave;
  file &#34;slave/1.168.192.in-addr.arpa&#34;;
  masters {
    192.168.1.1;
  };
};
*/</pre></div></div><div class=paragraph><p>In <span class=filename>named.conf</span>, ci sono esempi di linee slave per zone di forward ed inverse.</p></div><div class=paragraph><p>Per ogni nuova zona servita, una nuova linea di zona deve essere aggiunta a <span class=filename>named.conf</span>.</p></div><div class=paragraph><p>Per esempio, la più semplice entry per <code>example.org</code> può assomigliare a:</p></div><div class="literalblock programlisting"><div class=content><pre>zone &#34;example.org&#34; {
   type master;
   file &#34;master/example.org&#34;;
};</pre></div></div><div class=paragraph><p>La zona è una master, come indicato dall’entry <code>type</code>, e conserva le informazioni di zona su <span class=filename>/etc/namedb/master/example.org</span> indicata dalla entry <code>file</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>zone &#34;example.org&#34; {
   type slave;
   file &#34;slave/example.org&#34;;
};</pre></div></div><div class=paragraph><p>Nel caso slave, l’informazione di zona è trasferita dal name server master per quella zona particolare, e salvata nel file specificato. Se e quando il master muore o è irraggiungibile, il name server slave avrà le informazioni di zona trasferite e sarà in grado di servirlo.</p></div></div><div class=sect4><h5 id=_file_di_zona>27.6.6.3. File di Zona<a class=anchor href=#_file_di_zona></a></h5><div class=paragraph><p>Un esempio di file di zona master per <code>example.org</code> (che esiste all’interno di <span class=filename>/etc/namedb/master/example.org</span>) è la seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>$TTL 3600        ; 1 hour
example.org.    IN      SOA      ns1.example.org. admin.example.org. (
                                2006051501      ; Serial
                                10800           ; Refresh
                                3600            ; Retry
                                604800          ; Expire
                                86400           ; Minimum TTL
                        )

; DNS Servers
                IN      NS      ns1.example.org.
                IN      NS      ns2.example.org.

; MX Records
                IN      MX 10   mx.example.org.
                IN      MX 20   mail.example.org.

                IN      A       192.168.1.1

; Machine Names
localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5

; Aliases
www             IN      CNAME   @</pre></div></div><div class=paragraph><p>Nota che ogni hostname che finisce in un "." è un nome esatto, mentre ogni entità senza un "." è referenziato all’origine. Per esempio <code>www</code> è trasformato in <code>www.origin</code>. Nel nostro file di zone fittizio, la nostra origine è <code>example.org</code>, così <code>www</code> si trasformerebbe in <code>www.example.org</code>.</p></div><div class=paragraph><p>Il formato di un file di zona è il seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>recordname      IN recordtype
value</pre></div></div><div class=paragraph><p>I record DNS usati più di frequente:</p></div><div class=dlist><dl><dt class=hdlist1>SOA</dt><dd><p>inizio di una zona di autorità</p></dd><dt class=hdlist1>NS</dt><dd><p>un name server autoritativo</p></dd><dt class=hdlist1>A</dt><dd><p>un indirizzo host</p></dd><dt class=hdlist1>CNAME</dt><dd><p>il nome canonico per un alias</p></dd><dt class=hdlist1>MX</dt><dd><p>mail exchanger</p></dd><dt class=hdlist1>PTR</dt><dd><p>un puntatore a nome di dominio (usato nel DNS inverso)</p></dd></dl></div><div class="literalblock programlisting"><div class=content><pre>example.org. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh after 3 hours
                        3600            ; Retry after 1 hour
                        604800          ; Expire after 1 week
                        86400 )         ; Minimum TTL of 1
day</pre></div></div><div class=dlist><dl><dt class=hdlist1><code>example.org.</code></dt><dd><p>il nome di dominio, inoltre è l’origine per questo file di zona.</p></dd><dt class=hdlist1><code>ns1.example.org.</code></dt><dd><p>il name server primario/autoritativo per questa zona.</p></dd><dt class=hdlist1><code>admin.example.org.</code></dt><dd><p>la persona responsabile per questa zona, un indirizzo email con "@" sostituito. (<a href=mailto:admin@example.org>admin@example.org</a> diventa <code>admin.example.org</code>)</p></dd><dt class=hdlist1><code>2006051501</code></dt><dd><p>il numero di serie del file. Questo deve essere aumentato ogni volta che il file di zona è modificato. Al giorno d’oggi molti amministratori preferiscono un formato <code>yyyymmddrr</code> per il numero di serie. <code>2006051501</code> significherebbe modificato l’ultima volta il 05/15/2006, l’ultimo <code>01</code> essendo la prima volta che il file di zona è stato modificato in questo giorno. Il numero di serie è importante dato che avverte name server slave per una zona quando questa ` modificata.</p></dd></dl></div><div class="literalblock programlisting"><div class=content><pre>       IN NS           ns1.example.org.</pre></div></div><div class=paragraph><p>Questa è una linea NS. Ogni name server che replicherà in maniera autoritativa la zona deve avere una di queste linee. Il <code>@</code> come visto potrebbe essere stato ` example.org.` Il <code>@</code> si traduce nell’origine.</p></div><div class="literalblock programlisting"><div class=content><pre>localhost       IN      A       127.0.0.1
ns1             IN      A       192.168.1.2
ns2             IN      A       192.168.1.3
mx              IN      A       192.168.1.4
mail            IN      A       192.168.1.5</pre></div></div><div class=paragraph><p>Il record A indica un nome macchina. Come visto sopra, <code>ns1.example.org</code> risolverebbe in <code>192.168.1.2</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>                IN      A       192.168.1.1</pre></div></div><div class=paragraph><p>Questa linea assegna l’indirizzo IP <code>192.168.1.1</code> alla corrente origine, in questo caso <code>example.org</code>.</p></div><div class="literalblock programlisting"><div class=content><pre>www             IN CNAME        @</pre></div></div><div class=paragraph><p>Il record nome canonico è usato per dare alias ad una macchina. Nell’esempio, <code>www</code> è tramutato in alias nella macchina "master" che corrisponde al domain name <code>example.org ` (`192.168.1.1</code>). CNAME possono essere usati per fornire alias ad hostname o distribuire in round robin un hostname fra molte macchine.</p></div><div class="literalblock programlisting"><div class=content><pre>               IN MX   10      mail.example.org.</pre></div></div><div class=paragraph><p>Il record MX ` usato per specificare quali mail server sono responsabili per gestire mail entranti per la zona. `mail.example.org ` è l’hostname del mail server, e 10 è la priorità di quel mail server.</p></div><div class=paragraph><p>Uno può avere molti mail server, con priorità di 10, 20 e così via. Un mail server che cerca di consegnare una mail a <code>example.org</code> proverà prima l’MX con la più alta priorità (il record con il numero di priorita' minimo) poi il secondo, etc., fino a chè la mail non sia consegnata correttamente.</p></div><div class=paragraph><p>Per file di zona in-addr.arpa (DNS inverso), lo stesso formato è usato, eccetto con linee PTR al posto di A o CNAME.</p></div><div class="literalblock programlisting"><div class=content><pre>$TTL 3600
1.168.192.in-addr.arpa. IN SOA ns1.example.org. admin.example.org. (
                        2006051501      ; Serial
                        10800           ; Refresh
                        3600            ; Retry
                        604800          ; Expire
                        3600 )          ; Minimum

        IN      NS      ns1.example.org.
        IN      NS      ns2.example.org.

1       IN      PTR     example.org.
2       IN      PTR     ns1.example.org.
3       IN      PTR     ns2.example.org.
4       IN      PTR     mx.example.org.
5       IN      PTR     mail.example.org.</pre></div></div><div class=paragraph><p>Questo file da la corretta mappa da indirizzi IP ad hostname per il nostro dominio fittizio.</p></div></div></div><div class=sect3><h4 id=_caching_name_server>27.6.7. Caching Name Server<a class=anchor href=#_caching_name_server></a></h4><div class=paragraph><p>Un name server caching è un name server che non è autoritativo per nessuna zona. Fa semplicemente query, e ne memorizza le risposte per uso successivo. Per impostarne uno, configura il name server come al solito, omettendo ogni inclusione di zona.</p></div></div><div class=sect3><h4 id=_sicurezza>27.6.8. Sicurezza<a class=anchor href=#_sicurezza></a></h4><div class=paragraph><p>Anche se BIND è la più comune implementazione del DNS, c’è sempre la questione della sicurezza. Talvolta vengono trovati possibili e sfruttabili buchi di sicurezza.</p></div><div class=paragraph><p>Mentre FreeBSD tiene named automaticamente in un ambiente <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">chroot(8)</a>, ci sono molti altri meccanismi di sicurezza che potrebbero essere sfruttati per attacchi al servizio DNS.</p></div><div class=paragraph><p>È una buona idea leggere gli avvisi sulla sicurezza di <a href=http://www.cert.org/>CERT</a> e sottoscrivere le <a href=https://lists.FreeBSD.org/subscription/freebsd-security-notifications>mailing list sugli avvisi di sicurezza su FreeBSD</a> per stare aggiornato con le questioni correnti di sicurezza di Internet e FreeBSD.</p></div><div class="admonitionblock tip"><table><tbody><tr><td class=icon><i class="fa icon-tip" title=Tip></i></td><td class=content><div class=paragraph><p>Se sorge un problema, tenere i sorgenti aggiornati e fare una compilazione al volo di named non farebbe male.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_ulteriori_letture_2>27.6.9. Ulteriori letture<a class=anchor href=#_ulteriori_letture_2></a></h4><div class=paragraph><p>Pagine di manuale di BIND/named: <a href="https://man.freebsd.org/cgi/man.cgi?query=rndc&amp;sektion=8&amp;format=html">rndc(8)</a> <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a> <a href="https://man.freebsd.org/cgi/man.cgi?query=named.conf&amp;sektion=8&amp;format=html">named.conf(8)</a></p></div><div class=ulist><ul><li><p><a href=http://www.isc.org/products/BIND/>Official ISC BIND Page</a></p></li><li><p><a href=http://www.isc.org/sw/guild/bf/>Official ISC BIND Forum</a></p></li><li><p><a href="http://www.nominum.com/getOpenSourceResource.php?id=6">BIND FAQ</a></p></li><li><p><a href=http://www.oreilly.com/catalog/dns4/>O’Reilly DNS and BIND 4th Edition</a></p></li><li><p><a href=ftp://ftp.isi.edu/in-notes/rfc1034.txt>RFC1034 - Domain Names - Concepts and Facilities</a></p></li><li><p><a href=ftp://ftp.isi.edu/in-notes/rfc1035.txt>RFC1035 - Domain Names - Implementation and Specification</a></p></li></ul></div></div></div><div class=sect2><h3 id=network-apache>27.7. Apache HTTP Server<a class=anchor href=#network-apache></a></h3><div class=sect3><h4 id=_uno_sguardo_dinsieme_2>27.7.1. Uno sguardo d’insieme<a class=anchor href=#_uno_sguardo_dinsieme_2></a></h4><div class=paragraph><p>FreeBSD è usato per far girare alcuni dei siti web più trafficati al mondo. La maggioranza dei web server su Internet usano attualmene Apache HTTP Server. Il pacchetto software di Apache dovrebbe essere incluso nel tuo media di installazione di FreeBSD. Se non hai installato Apache quando hai installato FreeBSD per la prima volta, lo puoi installare dal port <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache13/>www/apache13</a> o <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache22/>www/apache22</a>.</p></div><div class=paragraph><p>Una volta che Apache è stato installato con successo, deve essere configurato.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questa sezione copre la versione 1.3.X di Apache HTTP Server dato che è la versione più usata per FreeBSD. Apache 2.X introduce molte nuove tecnologie ma queste non saranno discusse in questa sede. Per maggiori informazioni su Apache 2.X, per favore consulta <a href=httpd://httpd.apache.org/>httpd://httpd.apache.org/</a>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_configurazione>27.7.2. Configurazione<a class=anchor href=#_configurazione></a></h4><div class=paragraph><p>Il principale file di configurazione di Apache HTTP Server è installato in <span class=filename>/usr/local/etc/apache/httpd.conf</span> su FreeBSD. Questo file è un tipico file di testo di configurazione di UNIX® con linee di commento che cominciano col carattere <code>#</code>. Una descrizione comprensiva di tutte le possibili opzioni di configurazione è al di fuori dello scopo di questo libro, così solo le direttive usate più di frequente saranno descritte di seguito.</p></div><div class=dlist><dl><dt class=hdlist1><code>ServerRoot "/usr/local"</code></dt><dd><p>Questo specifica la gerachia di directory di default per l’installazione di Apache. I binari sono conservati nelle sottodirectory <span class=filename>bin</span> e <span class=filename>sbin</span> sotto la server root, ed i file di configurazione sono conservati sotto <span class=filename>etc/apache</span>.</p></dd><dt class=hdlist1><code>ServerAdmin you@your.address</code></dt><dd><p>L’indirizzo email al quale i problemi riguardanti il server dovrebbero essere inviati. Questo indirizzo appare su alcune pagine generate dal server, come alcuni documenti di errore.</p></dd><dt class=hdlist1><code>ServerName www.example.com</code></dt><dd><p><code>ServerName</code> ti permette di impostare un nome host che viene inviato ai client per il tuo server, se questo è differente da quello per il quale l’host è configurato (ad esempio usi `www ` invece del vero nome host).</p></dd><dt class=hdlist1><code>DocumentRoot "/usr/local/www/data"</code></dt><dd><p><code>DocumentRoot</code>: La directory dalla quale servirai documenti. Di default tutte le richieste sono girate a questa directory, ma link simbolici ed alias possono essere usati per puntare ad altre locazioni.</p></dd></dl></div><div class=paragraph><p>È sempre una buona idea fare copie di backup del tuo file di configurazione di Apache prima di modificarlo. Una volta che sei soddisfatto dalla tua configurazione iniziale sei pronto per iniziare ad eseguire Apache.</p></div></div><div class=sect3><h4 id=_eseguire_apache>27.7.3. Eseguire Apache<a class=anchor href=#_eseguire_apache></a></h4><div class=paragraph><p>Apache non viene eseguito dal super server inetd a differenza di molti altri server di rete. È configurato per girare standalone per migliori performance per gestire le richieste HTTP in entrata dai client web browser. Un wrapper shell script è incluso per rendere il più semplice possibile lo start, lo stop ed il restart del server. Per avviare Apache per la prima volta, esegui:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/sbin/apachectl start</span></code></pre></div></div><div class=paragraph><p>Puoi fermare il server in ogni istante digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/sbin/apachectl stop</span></code></pre></div></div><div class=paragraph><p>Dopo aver fatto modifiche al file di configurazione per una qualsiasi ragione, avrai bisogno di riavviare il server:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/sbin/apachectl restart</span></code></pre></div></div><div class=paragraph><p>Per riavviare Apache senza mandare in abort le connessioni correnti, esegui.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/sbin/apachectl graceful</span></code></pre></div></div><div class=paragraph><p>Informazioni addizionali sono disponibili sulla pagina di manuale di <a href="https://man.freebsd.org/cgi/man.cgi?query=apachectl&amp;sektion=8&amp;format=html">apachectl(8)</a>.</p></div><div class=paragraph><p>Per eseguire Apache all’avvio del sistema, aggiungi la seguente linea ad <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>apache_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>o per Apache 2.2:</p></div><div class="literalblock programlisting"><div class=content><pre>apache22_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Se volessi fornire opzioni addizionali di linea di comando al programma Apache`httpd` avviato al boot di sistema, puoi specificarle con una linea addizionale in <span class=filename>rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>apache_flags=&#34;&#34;</pre></div></div><div class=paragraph><p>Ora che il web server è in esecuzione puoi navigare il tuo sito web puntando il tuo web browser ad <code><a href=http://localhost/ class=bare>http://localhost/</a></code>. La pagina di default che viene mostrata è <span class=filename>/usr/local/www/data/index.html</span>.</p></div></div><div class=sect3><h4 id=_virtual_hosting>27.7.4. Virtual Hosting<a class=anchor href=#_virtual_hosting></a></h4><div class=paragraph><p>Apache supporta due tipi diversi di Virtual Hosting. Il primo metodo è Virtual Hosting basato sul nome. Il Virtual Hosting basato sul nome usa gli header HTTP/1.1 per scoprire l’hostname. Questo permette a molti domini diversi di condividere lo stesso indirizzo IP.</p></div><div class=paragraph><p>Per fare sì che Apache usi Virtual Hosting basato sui nomi aggiungi una entry come la seguente al tuo file <span class=filename>httpd.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>NameVirtualHost *</pre></div></div><div class=paragraph><p>Se il tuo webserver era nominato <code>www.domain.tld</code> e tu avessi voluto installare un dominio virtuale per `www.someotherdomain.tld ` avresti dovuto aggiungere le seguenti entry a <span class=filename>httpd.conf</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>&lt;VirtualHost <span class=k>*</span><span class=o>&gt;</span>
ServerName www.domain.tld
DocumentRoot /www/domain.tld
&lt;/VirtualHost&gt;

&lt;VirtualHost <span class=k>*</span><span class=o>&gt;</span>
ServerName www.someotherdomain.tld
DocumentRoot /www/someotherdomain.tld
&lt;/VirtualHost&gt;</code></pre></div></div><div class=paragraph><p>Sostituisci gli indirizzi con gli indirizzi che vuoi usare ed i percorsi dei documenti con quelli che usi.</p></div><div class=paragraph><p>Per maggiori informazioni sull’impostazione dei virtual host, per favore consulta la documentazione ufficiale a <a href=http://httpd.apache.org/docs/vhosts/>http://httpd.apache.org/docs/vhosts/</a>.</p></div></div><div class=sect3><h4 id=_moduli_apache>27.7.5. Moduli Apache<a class=anchor href=#_moduli_apache></a></h4><div class=paragraph><p>Ci sono molti diversi moduli Apache disponibili per aggiungere funzionalità al server base. La Collezione Port di FreeBSD fornisce un modo semplice di installare Apache assieme ad alcuni dei più popolari moduli aggiuntivi.</p></div><div class=sect4><h5 id=_mod_ssl>27.7.5.1. mod_ssl<a class=anchor href=#_mod_ssl></a></h5><div class=paragraph><p>Il modulo mod_ssl usa la libreria OpenSSL per fornire una forte crittografia attraverso i protocolli Secure Sockets Layer (SSL v2/v3) e Transport Layer Security (TLS v1). Questo modulo fornisce tutto il necessario per richiedere un certificato firmato da un’autorità fidata che emette certificati, cosicchè puoi eseguire un web server sicuro su FreeBSD.</p></div><div class=paragraph><p>Se non hai ancora installato Apache, una versione di Apache 1.3.X che includa mod_ssl può essere installata con il port <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache13-modssl/>www/apache13-modssl</a>. Il supporto ad SSL è anche disponibile per Apache 2.X nel port <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache22/>www/apache22</a>, dove viene abilitato di default.</p></div></div><div class=sect4><h5 id=_siti_web_dinamici_con_perl_php>27.7.5.2. Siti web dinamici con Perl & PHP<a class=anchor href=#_siti_web_dinamici_con_perl_php></a></h5><div class=paragraph><p>Negli ultimi anni, molte aziende si sono rivolte a Internet per migliorare i loro ricavi e aumentare la loro esposizione. Questo ha anche aumentato il bisogno di contenuti interattivi web. Mentre alcune società come Microsoft® hanno introdotto soluzioni nei loro prodotti proprietari, la comunità open source ha risposto all’appello. Due opzioni per contenuti web dinamici includono mod_perl & mod_php.</p></div><div class=sect5><h6 id=_mod_perl>27.7.5.2.1. mod_perl<a class=anchor href=#_mod_perl></a></h6><div class=paragraph><p>Il progetto di integrazione Apache/Perl mette assieme la grande potenza del linguaggio di programmazione Perl e l’Apache HTTP Server. Con il modulo mod_perl è possibile scrivere moduli Apache interamente in Perl. In aggiunta l’interprete persistente integrato nel server evita l’overhead di avviare un interprete esterno e la penalizzazione del tempo di caricamento Perl.</p></div><div class=paragraph><p>mod_perl è disponibile in alcuni modi diversi. Per usare mod_perl ricorda che mod_perl 1.0 funziona solo con Apache 1.3 e mod_perl 2.0 funziona solo con Apache 2.X. mod_perl 1.0 è disponibile in <a class=package href=https://cgit.freebsd.org/ports/tree/www/mod_perl/>www/mod_perl</a> ed una versione compilata staticamente è disponibile in <a class=package href=https://cgit.freebsd.org/ports/tree/www/apache13-modperl/>www/apache13-modperl</a>. mod_perl 2.0 è disponibile in <a class=package href=https://cgit.freebsd.org/ports/tree/www/mod_perl2/>www/mod_perl2</a>.</p></div></div><div class=sect5><h6 id=_mod_php>27.7.5.2.2. mod_php<a class=anchor href=#_mod_php></a></h6><div class=paragraph><p>PHP, anche noto come "Hypertext Prepocessor" è un linguaggio di scripting di scopo generale che è particolarmente adatto per lo sviluppo Web. Adatto ad essere usato all’interno dell’HTML, la sua sintassi deriva dal C, Java™, e Perl con l’intenzione di permettere agli sviluppatori web di scrivere pagine web generate dinamicamente in modo veloce.</p></div><div class=paragraph><p>Per integrare supporto a PHP5 per il web server Apache, inizia con l’installare il port <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a>.</p></div><div class=paragraph><p>Se il port <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a> viene installato per la prima volta, le <code>OPTIONS</code> disponibili saranno mostrate automaticamente. Se non viene mostrato un menu, ad esempio perché il port <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a> è stato installato qualche volta in passato, è sempre possibile rivedere il menu a dialogo con le opzioni eseguendo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># make config</span></code></pre></div></div><div class=paragraph><p>nella directory dei port.</p></div><div class=paragraph><p>Nel menu a dialogo delle opzioni, flagga l’opzione <code>APACHE</code> per compilare mod_php5 come modulo caricabile per il web server Apache.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Molti siti stanno ancora usando PHP4 per varie ragioni (ad esempio questioni di compatibilità o applicativi web già costruiti). Se si necessita del modulo mod_php4 invece che di mod_php5, siete pregati di usare il port <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php4/>lang/php4</a>. Il port <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php4/>lang/php4</a> supporta molte delle configurazioni e delle opzioni di build-time del port <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5/>lang/php5</a>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Questo installerà e configurerà i moduli richiesti per supportare applicazioni web dinamiche PHP. Controlla che le seguenti linee siano state aggiunte al file <span class=filename>/usr/local/etc/apache/httpd.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>LoadModule php5_module        libexec/apache/libphp5.so
AddModule mod_php5.c
    &lt;IfModule mod_php5.c&gt;
        DirectoryIndex index.php index.html
    &lt;/IfModule&gt;

    &lt;IfModule mod_php5.c&gt;
        AddType application/x-httpd-php .php
        AddType application/x-httpd-php-source .phps
    &lt;/IfModule&gt;</pre></div></div><div class=paragraph><p>Una volta completato, una semplice chiamata al comando <code>apachectl</code> per un tranquillo restart è richiesto per caricare il modulo PHP:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># apachectl graceful</span></code></pre></div></div><div class=paragraph><p>Per upgrade futuri di PHP, il comando <code>make config</code> non sarà richiesto; le <code>OPTIONS</code> selezionate sono salvate automaticamente dal sistema dei Ports di FreeBSD.</p></div><div class=paragraph><p>Il supporto a PHP in FreeBSD è estremamente modulare così l’installazione base è molto limitata. È molto facile aggiungere supporto usando il port <a class=package href=https://cgit.freebsd.org/ports/tree/lang/php5-extensions/>lang/php5-extensions</a>. Questo port fornisce un interfaccia a menu per l’installazione di estensioni a PHP. Alternativamente le singole estensioni possono essere installate usando il port appropriato.</p></div><div class=paragraph><p>Ad esempio, per aggiungere supporto al database MySQL a PHP5, semplicemente installa <a class=package href=https://cgit.freebsd.org/ports/tree/databases/php5-mysql/>databases/php5-mysql</a>.</p></div><div class=paragraph><p>Dopo aver installato un’estensione, il server Apache deve essere riavviato per caricare i cambiamenti della nuova configurazione:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># apachectl graceful</span></code></pre></div></div></div></div></div></div><div class=sect2><h3 id=network-ftp>27.8. File Transfer Protocol (FTP)<a class=anchor href=#network-ftp></a></h3><div class=sect3><h4 id=_uno_sguardo_dinsieme_3>27.8.1. Uno sguardo d’insieme<a class=anchor href=#_uno_sguardo_dinsieme_3></a></h4><div class=paragraph><p>Il File Transfer Protocol (FTP) fornisce agli utenti un semplice modo di trasferire file da e verso un server FTP. FreeBSD include software per server FTP nel sistema base. Questo rende l’installazione e l’ammininistrazione di un server FTP molto semplice.</p></div></div><div class=sect3><h4 id=_configurazione_2>27.8.2. Configurazione<a class=anchor href=#_configurazione_2></a></h4><div class=paragraph><p>Il più importante passo di configurazione è decidere a quali account saraà permesso accedere al server FTP. Un sistema normale FreeBSD ha un certo numero di account di sistema usati per vari demoni, ma agli utenti estranei non dovrebbe essere permesso di loggarsi con questi account. Il file <span class=filename>/etc/ftpusers</span> è una lista di utenti a cui è negato l’accesso FTP. Di default include gli account di sistema sopra citati ma è possibile aggiungere utenti specifici che non dovrebbero avere accesso FTP.</p></div><div class=paragraph><p>Può essere che tu voglia restringere l’accesso ad alcuni utenti senza impedir loro di usare completamente FTP. Ciò può essere ottenuto con il file <span class=filename>/etc/ftpchroot</span>. Questo file elenca utenti e gruppi soggetti a restrizioni di accesso FTP. La pagina di manuale <a href="https://man.freebsd.org/cgi/man.cgi?query=ftpchroot&amp;sektion=5&amp;format=html">ftpchroot(5)</a> ha tutti i dettagli così non sarà descritta qui.</p></div><div class=paragraph><p>Se tu volessi abilitare accesso anonimo FTP al tuo server, devi creare un utente chiamato <code>ftp</code> sul tuo sistema FreeBSD. Gli utenti allora potranno loggarsi al tuo server FTP con uno username di <code>ftp</code> o <code>anonymous</code> e con una password qualsiasi (di norma dovrebbe essere usato un indirizzo email dell’utente come password). Il server FTP chiamerà <a href="https://man.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=2&amp;format=html">chroot(2)</a> quando un utente anonimo si logga, per restringere l’accesso solo alla home directory di <code>ftp</code>.</p></div><div class=paragraph><p>Ci sono due file di testo che specificano messaggi di benvenuto per i client FTP. Il contenuto del file <span class=filename>/etc/ftpwelcome</span> sarà mostrato agli utenti prima che raggiungano il prompt del login. Dopo un login di successo, il contenuto del file <span class=filename>/etc/ftpmotd</span> sarà mostrato. Nota che il percorso di questo file è relativo all’ambiente di login, così saraà mostrato il file <span class=filename>~ftp/etc/ftpmotd</span>.</p></div><div class=paragraph><p>Una volta che il server FTP è stato configurato correttamente, deve essere abilitato in <span class=filename>/etc/inetd.conf</span>. Tutto ciò che viene richiesto è rimuovere il simbolo di commento "#" dall’inizio della linea relativa a ftpd:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp  stream  tcp  nowait  root  /usr/libexec/ftpd ftpd -l</pre></div></div><div class=paragraph><p>Come spiegato in <a href=#network-inetd-reread>Ricaricare il file di configurazione di inetd</a>, la configurazione di inetd deve essere ricaricata dopo che che questo file di configurazione è stato cambiato.</p></div><div class=paragraph><p>Ora puoi loggarti al tuo server FTP digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% ftp localhost</code></pre></div></div></div><div class=sect3><h4 id=_manutenzione>27.8.3. Manutenzione<a class=anchor href=#_manutenzione></a></h4><div class=paragraph><p>Il demone ftpd usa <a href="https://man.freebsd.org/cgi/man.cgi?query=syslog&amp;sektion=3&amp;format=html">syslog(3)</a> per loggare i mesaggi. Di default il demone dei log di sistema girerà i messaggi relativi a FTP nel file <span class=filename>/var/log/xferlog</span>. La posizione del log FTP può essere modificata cambiando la seguente linea in <span class=filename>/etc/syslog.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>ftp.info      /var/log/xferlog</pre></div></div><div class=paragraph><p>Presta attenzione ai problemi potenziali correlati all’esecuzione di un server FTP anonimo. In particolare, dovresti pensarci due volte prima di permettere agli utenti anonimi di fare upload di file. Potresti scoprire che il tuo sito FTP è diventato un forum per il commercio di software commerciale senza licenza o anche peggio. Se hai veramente bisogno di permettere upload FTP anonimi, allora dovresti impostare i permessi in modo che questi file non possano essere letti da altri utenti fino a che non siano stati revisionati.</p></div></div></div><div class=sect2><h3 id=network-samba>27.9. Servizi di File e Stampa per client Microsoft® Windows® (Samba)<a class=anchor href=#network-samba></a></h3><div class=sect3><h4 id=_uno_sguardo_dinsieme_4>27.9.1. Uno sguardo d’insieme<a class=anchor href=#_uno_sguardo_dinsieme_4></a></h4><div class=paragraph><p>Samba è un popolare pacchetto software open source che fornisce servizi di file e stampa per client Microsoft® Windows®. Tali client possono connettersi ed usare un file system FreeBSD come se fosse un disco locale, o stampanti FreeBSD come se fossero stampanti locali.</p></div><div class=paragraph><p>Il pacchetto software Samba dovrebbe essere incluso nel tuo media di installazione FreeBSD. Se non hai installato Samba quando hai installato per la prima volta FreeBSD, puoi sempre installarlo dal port o pacchetto <a class=package href=https://cgit.freebsd.org/ports/tree/net/samba3/>net/samba3</a>.</p></div></div><div class=sect3><h4 id=_configurazione_3>27.9.2. Configurazione<a class=anchor href=#_configurazione_3></a></h4><div class=paragraph><p>Un file di configurazione di Samba di default è installato in <span class=filename>/usr/local/shared/examples/smb.conf.default</span>. Questo file deve essere copiato in <span class=filename>/usr/local/etc/smb.conf</span> e personalizzato prima che Samba possa essere usato.</p></div><div class=paragraph><p>Il file <span class=filename>smb.conf</span> contiene informazione di configurazione runtime per Samba, come le definizioni delle stampanti e "share di file system" che vorresti condividere con Windows® client. Il pacchetto Samba include un tool basato sul web chiamato swat che fornisce un modo semplice di configurare il file <span class=filename>smb.conf</span>.</p></div><div class=sect4><h5 id=_usare_il_samba_web_administration_tool_swat>27.9.2.1. Usare il Samba Web Administration Tool (SWAT)<a class=anchor href=#_usare_il_samba_web_administration_tool_swat></a></h5><div class=paragraph><p>Il Samba Web Administration Tool (SWAT) viene eseguito come demone da inetd. Quindi, dovresti togliere i commenti alla seguente linea in <span class=filename>/etc/inetd.conf</span> prima che swat possa essere usato per configurare Samba:</p></div><div class="literalblock programlisting"><div class=content><pre>swat   stream  tcp     nowait/400      root    /usr/local/sbin/swat    swat</pre></div></div><div class=paragraph><p>Come spiegato in <a href=#network-inetd-reread>Ricaricare il file di configurazione di inetd</a>, la configurazione di inetd deve essere ricaricata dopo che questo file di configurazione è stato cambiato.</p></div><div class=paragraph><p>Una volta che swat è stato abilitato in <span class=filename>inetd.conf</span>, puoi usare un browser per connetterti a <a href=http://localhost:901>http://localhost:901</a>. Dovrai prima loggarti con l’account di sistema <code>root</code>.</p></div><div class=paragraph><p>Una volta che ti sei loggato con successo alla pagina principale di configurazione di Samba, puoi navigare la documentazione di sistema, o iniziare cliccando sul tab <b class=menuref>Globals</b>. La sezione <b class=menuref>Globals</b> corrisponde alle variabili che sono impostate nella sezione <code>[global]</code> di <span class=filename>/usr/local/etc/smb.conf</span>.</p></div></div><div class=sect4><h5 id=_impostazioni_globali>27.9.2.2. Impostazioni Globali<a class=anchor href=#_impostazioni_globali></a></h5><div class=paragraph><p>Sia che tu stia usando swat o che tu stia editando direttamente <span class=filename>/usr/local/etc/smb.conf</span>, le prime direttive che tu puoi incontrare quando configuri Samba sono:</p></div><div class=dlist><dl><dt class=hdlist1><code>workgroup</code></dt><dd><p>Nome dominio NT o nome Workgroup per i computer che accedono a questo server.</p></dd><dt class=hdlist1><code>netbios name</code></dt><dd><p>Questo imposta il nome NetBIOS attraverso il quale un Samba è conosciuto. Di default è lo stesso della prima parte del nome host DNS.</p></dd><dt class=hdlist1><code>server string</code></dt><dd><p>Questo imposta la stringa che sarà mostrata con il comando <code>net view</code> e con alcuni altri strumenti di rete che cercano di mostrare testo descrittivo sul server.</p></dd></dl></div></div><div class=sect4><h5 id=_impostazioni_di_sicurezza>27.9.2.3. Impostazioni di Sicurezza<a class=anchor href=#_impostazioni_di_sicurezza></a></h5><div class=paragraph><p>Due delle più importanti impostazioni in <span class=filename>/usr/local/etc/smb.conf</span> sono i modelli di sicurezza usati, ed il formato delle password di backend per utenti client. Le seguenti direttive controllano queste opzioni:</p></div><div class=dlist><dl><dt class=hdlist1><code>security</code></dt><dd><p>Le due più comuni opzioni in questo caso sono <code>security = share</code> e <code>security = user</code>. Se i tuoi client usano nomi utente che sono gli stessi dei nomi utenti sulla tua macchina FreeBSD, allora vorrai sicurezza di tipo user. Questa è la policy di sicurezza di default e richiede ai client prima di loggarsi prima che possano accedere a risorse condivise.</p><div class=paragraph><p>Nel modello di sicurezza di tipo share, i client non hanno bisogno di loggarsi al server con una valida coppia username e password prima che provino a connettersi a risorse condivise. Questo è il modello di sicurezza di default per versioni precedenti di Samba.</p></div></dd><dt class=hdlist1><code>passdb backend</code></dt><dd><p>Samba ha molti modelli diversi di backend di autenticazione. Puoi autenticare i client con LDAP, NIS+, un database SQL, o un file di password modificato. Il metodo di autenticazione di default è <code>smbpasswd</code>, e questo sarà l’unico coperto qui.</p></dd></dl></div><div class=paragraph><p>Assumendo che il backend usato sia quello di default, <code>smbpasswd</code>, il file <span class=filename>/usr/local/private/smbpasswd</span> deve essere creato per permettere a Samba di autenticare i client. Se tu volessi dare ai tuoi account UNIX® accesso da client Windows®, usa il seguente comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># smbpasswd -a username</span></code></pre></div></div><div class=paragraph><p>Per favore consulta l' <a href=http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/>Official Samba HOWTO</a> <a href=http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/>HOWTO Ufficiale di Samba</a> per informazioni addizionali sulle opzioni di configurazione. Con le basi delineate qui, dovresti avere tutto ciò di cui hai bisogno per avviare Samba.</p></div></div></div><div class=sect3><h4 id=_avviare_samba>27.9.3. Avviare Samba<a class=anchor href=#_avviare_samba></a></h4><div class=paragraph><p>Il port <a class=package href=https://cgit.freebsd.org/ports/tree/net/samba3/>net/samba3</a> aggiunge un nuovo script di avvio, che può essere usato per controllare Samba. Per abilitare questo script, in modo tale da essere usato per esempio per avviare fermare o far ripartire Samba, aggiungi la riga seguente al file <span class=filename>/etc/rc.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>samba_enable=&#34;YES&#34;</pre></div></div><div class=paragraph><p>Oppure, per un controllo più accurato:</p></div><div class="literalblock programlisting"><div class=content><pre>nmbd_enable=&#34;YES&#34;</pre></div></div><div class="literalblock programlisting"><div class=content><pre>smbd_enable=&#34;YES&#34;</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In questo modo Samba viene avviato automaticamente ad ogni avvio del sistema.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Per avviare Samba digita:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/etc/rc.d/samba start</span>
Starting SAMBA: removing stale tdbs :
Starting nmbd.
Starting smbd.</code></pre></div></div><div class=paragraph><p>Fai riferimento alla <a href=./#configtuning-rcd>Usare rc con FreeBSD</a> per ulteriori informazioni sull’uso degli script rc.</p></div><div class=paragraph><p>Samba attualmente consiste di tre demoni separati. Dovresti osservare che entrambi nmbd e smbd siano avviati dallo script <span class=filename>samba</span>. Se hai abilitato servizi di risoluzione di nomi winbind in <span class=filename>smb.conf</span>, allora osserverai che anche il demone winbindd è avviato.</p></div><div class=paragraph><p>Puoi anche fermare Samba in ogni istante digitando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># /usr/local/etc/rc.d/samba stop</span></code></pre></div></div><div class=paragraph><p>Samba è una suite complessa di software con funzionalità che permette una larga integrazione con reti Microsoft® Windows®. Per maggiori informazioni sulle funzionalità al di là dell’installazione di base descritta qui per favore consulta <a href=http://www.samba.org>http://www.samba.org</a>.</p></div></div></div><div class=sect2><h3 id=network-ntp>27.10. Sincronizzazione del Clock con NTP<a class=anchor href=#network-ntp></a></h3><div class=sect3><h4 id=_uno_sguardo_dinsieme_5>27.10.1. Uno sguardo d’insieme<a class=anchor href=#_uno_sguardo_dinsieme_5></a></h4><div class=paragraph><p>Al passare del tempo, il clock di un computer tende a perdere la sincronizzazione. Il Network Time Protocol (NTP) fornisce un modo per assicurarti che il tuo clock sia accurato.</p></div><div class=paragraph><p>Molti servizi Internet si basano sul fatto che il clock del computer sia accurato, o comunque traggono notevole beneficio da questo fatto. Per esempio, un web server può ricevere richieste di inviare un file se questo è stato modificato da una certa data. In un ambiente locale di rete, è essenziale che i computer che condividono i file dallo stesso file server abbiano clock sincronizzati cosicchè i timestamp dei file siano consistenti. Anche servizi come <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> si basano su un clock di sistema accurato per eseguire comandi al momento specificato.</p></div><div class=paragraph><p>FreeBSD è dotato del server <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> NTP che può essere usato per interrogare altri server NTP per impostare il clock sulla tua macchina o fornire servizi di time ad altri.</p></div></div><div class=sect3><h4 id=_scegliere_server_ntp_appropriati>27.10.2. Scegliere Server NTP Appropriati<a class=anchor href=#_scegliere_server_ntp_appropriati></a></h4><div class=paragraph><p>Per sincronizzare il tuo clock, avrai bisogno di scegliere uno o più server NTP da usare. Il tuo amministratore di rete o ISP potrebbe aver impostato un server NTP, a questo scopo - controlla la loro documentazione per vedere se questo è il caso. C’è una <a href=http://ntp.isc.org/bin/view/Servers/WebHome>lista online di server NTP pubblicamente accessibili </a>che tu puoi usare per trovare un server NTP vicino a te. Accertati di essere al corrente della politica di ogni server che scegli, e chiedi il permesso se necessario.</p></div><div class=paragraph><p>Scegliere molti server NTP non connessi fra loro è una buona idea in caso uno dei server che stai usando diventa irraggiungibile o il suo clock è inaffidabile. <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> usa le risposte che riceve da altri server in modo intelligente; favorirà server inaffidabili meno di quelli affidabili.</p></div></div><div class=sect3><h4 id=_configurare_la_tua_macchina>27.10.3. Configurare la tua Macchina<a class=anchor href=#_configurare_la_tua_macchina></a></h4><div class=sect4><h5 id=_configurazione_base>27.10.3.1. Configurazione Base<a class=anchor href=#_configurazione_base></a></h5><div class=paragraph><p>Se desideri solo sincronizzare il tuo clock al momento del boot della macchina, puoi usare <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a>. Questo può essere appropriato per alcune macchine desktop che sono rebootate di frequente e richiedono sincronizzazione non frequente, ma le altre macchine dovrebbero eseguire <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a>.</p></div><div class=paragraph><p>Usare <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a> al momento del boot è una buona idea per le macchine che eseguono <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a>. Il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> cambia il clock gradualmente, mentre <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a> imposta il clock, indipentemente da quanto grande sia la differenza fra l’impostazione di clock corrente di una macchina e l’ora corretta.</p></div><div class=paragraph><p>Per abilitare <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a> al momento del boot, aggiungi <code>ntpdate_enable="YES"</code> a <span class=filename>/etc/rc.conf</span>. Avrai anche bisogno di specificare tutti i server con i quali ti desideri sincronizzare ed ogni flags passato a <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpdate&amp;sektion=8&amp;format=html">ntpdate(8)</a> in <code>ntpdate_flags</code>.</p></div></div><div class=sect4><h5 id=_configurazione_generale>27.10.3.2. Configurazione Generale<a class=anchor href=#_configurazione_generale></a></h5><div class=paragraph><p>NTP è configurato dal file <span class=filename>/etc/ntp.conf</span> nel formato descritto da <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a>. Questo è un semplice esempio:</p></div><div class="literalblock programlisting"><div class=content><pre>server ntplocal.example.com prefer
server timeserver.example.org
server ntp2a.example.net

driftfile /var/db/ntp.drift</pre></div></div><div class=paragraph><p>L’opzione <code>server</code> specifica quali server siano da usare, con un server elencato su ogni linea. Se un server è specificato con l’argomento <code>prefer</code>, come con <code>ntplocal.example.com</code>, quel server saraà preferito rispetto ad altri. Una risposta da un server preferito sarà scartata se differisce in modo significativo dalle risposte di altri server, altrimenti sarà usata senza nessuna considerazione delle altre risposte. L’argomento <code>prefer</code> è normalmente usato per server NTP che sono noti per essere molto accurati, come quelli con hardware a monitoraggio speciale del tempo.</p></div><div class=paragraph><p>L’opzione <code>driftfile</code> specifica quale file sia usato per conservare la frequenza di scostamento dal clock di sistema. Il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> usa questo dato per compensare automaticamente le imprecisioni naturali del clock, permettendo di mantenere una impostazione ragionevolmente corretta anche se gli è impedito di accedere a tutte le sorgenti di sincronizzazione tempo esterne per un certo periodo di tempo.</p></div><div class=paragraph><p>L’opzione <code>driftfile</code> specifica quale file sia usato per conservare informazioni sulle risposte precedenti dai server NTP che usi. Questo file contiene informazioni interne per NTP. Non dovrebbe essere modificato da altri processi.</p></div></div><div class=sect4><h5 id=_controllare_laccesso_ad_i_tuoi_server>27.10.3.3. Controllare l’Accesso ad i tuoi Server<a class=anchor href=#_controllare_laccesso_ad_i_tuoi_server></a></h5><div class=paragraph><p>Di default, il tuo server NTP sarà accessibile a tutti gli host su Internet. L’opzione <code>restrict</code> in <span class=filename>/etc/ntp.conf</span> ti permette di controllare quali macchine possano accedere al tuo server.</p></div><div class=paragraph><p>Se vuoi negare a tutte le macchine accesso al tuo server NTP, aggiungi la seguente linea a <span class=filename>/etc/ntp.conf</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>restrict default ignore</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Inoltre questo settaggio vieta l’accesso al tuo server dai server elencati nella tua configurazione locale. Se hai bisogno di sincronizzare il tuo server NTP con un server NTP esterno devi permettere il server che vuoi usare. Guada la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a> per ulteriori dettagli.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se vuoi permettere solo alle macchine della tua rete di sincronizzare il loro clock con il tuo server, ma assicurarti che non gli sia permesso configurare il server o che non sianousate come punto di riferimento per sincronizzarsi, aggiungi</p></div><div class="literalblock programlisting"><div class=content><pre>restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</pre></div></div><div class=paragraph><p>invece, dove`192.168.1.0` è un indirizzo IP sulla tua rete e <code>255.255.255.0</code> è la netmask della tua rete.</p></div><div class=paragraph><p><span class=filename>/etc/ntp.conf</span> può contenere molte opzioni <code>restrict</code>. Per maggiori dettagli, consulta la sezione <code>Access Control Support</code> di <a href="https://man.freebsd.org/cgi/man.cgi?query=ntp.conf&amp;sektion=5&amp;format=html">ntp.conf(5)</a>.</p></div></div></div><div class=sect3><h4 id=_eseguire_il_server_ntp>27.10.4. Eseguire il Server NTP<a class=anchor href=#_eseguire_il_server_ntp></a></h4><div class=paragraph><p>Per assicurarsi che il server NTP sia avviato al momento del boot, aggiungi la linea <code>ntpd_enable="YES"</code> a <span class=filename>/etc/rc.conf</span>. Se desideri passare flag addizionali a <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a>, edita il parametro <code>ntpd_flags</code> in <span class=filename>/etc/rc.conf</span>.</p></div><div class=paragraph><p>Per avviare il server senza riavviare la tua macchina, esegui <code>ntpd</code> accertandoti di specificare ogni parametro addizionale in <code>ntpd_flags</code> presente in <span class=filename>/etc/rc.conf</span>. Per esempio:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># ntpd -p /var/run/ntpd.pid</span></code></pre></div></div></div><div class=sect3><h4 id=_usare_ntpd_con_una_connessione_temporanea_ad_internet>27.10.5. Usare ntpd con una Connessione Temporanea ad Internet<a class=anchor href=#_usare_ntpd_con_una_connessione_temporanea_ad_internet></a></h4><div class=paragraph><p>Il programma <a href="https://man.freebsd.org/cgi/man.cgi?query=ntpd&amp;sektion=8&amp;format=html">ntpd(8)</a> non necessita di una connessione permanente ad Internet per funzionnare correttamente. Comunque, se hai una connessione temporanea che è configurata per effettuare una chiamata su richiesta, è una buona idea evitare che il traffico NTP causi la chiamata o mantenga la connessione attiva. Se stai usando PPP utente, puoi usare le direttive <code>filter</code> in <span class=filename>/etc/ppp/ppp.conf</span>. Per esempio:</p></div><div class="literalblock programlisting"><div class=content><pre> set filter dial 0 deny udp src eq 123
# Prevent NTP traffic from initiating dial out
set filter dial 1 permit 0 0
set filter alive 0 deny udp src eq 123
# Prevent incoming NTP traffic from keeping the connection open
set filter alive 1 deny udp dst eq 123
# Prevent outgoing NTP traffic from keeping the connection open
set filter alive 2 permit 0/0 0/0</pre></div></div><div class=paragraph><p>Pre maggiori dettagli consulta la sezione <code>PACKET FILTERING</code> in <a href="https://man.freebsd.org/cgi/man.cgi?query=ppp&amp;sektion=8&amp;format=html">ppp(8)</a> e gli esempi in <span class=filename>/usr/shared/examples/ppp/</span>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcuni provider di accesso ad Internet bloccano le porte dal numero basso, impedendo ad NTP di funzionare dato che le repliche non raggiungono mai la tua macchina.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_informazioni_ulteriori>27.10.6. Informazioni Ulteriori<a class=anchor href=#_informazioni_ulteriori></a></h4><div class=paragraph><p>La documentazione per il server NTP può essere trovata in formato HTML in <span class=filename>/usr/shared/doc/ntp/</span>.</p></div></div></div></div></div><div class=sect1><h2 id=firewalls>Capitolo 28. Firewall<a class=anchor href=#firewalls></a></h2><div class=sectionbody><div class=sect2><h3 id=firewalls-intro>28.1. Introduzione<a class=anchor href=#firewalls-intro></a></h3><div class=paragraph><p>Traduzione in corso.</p></div></div><div class=sect2><h3 id=firewalls-concepts>28.2. Concetti sui Firewall<a class=anchor href=#firewalls-concepts></a></h3><div class=paragraph><p>Traduzione in corso.</p></div></div><div class=sect2><h3 id=firewalls-apps>28.3. Firewall come Applicaizoni Software<a class=anchor href=#firewalls-apps></a></h3><div class=paragraph><p>Traduzione in corso.</p></div></div><div class=sect2><h3 id=firewalls-pf>28.4. Il Firewall PF (Packet Filter)<a class=anchor href=#firewalls-pf></a></h3><div class=paragraph><p>Traduzione in corso.</p></div></div><div class=sect2><h3 id=firewalls-ipf>28.5. Il Firewall IPF (IPFILTER)<a class=anchor href=#firewalls-ipf></a></h3><div class=paragraph><p>Traduzione in corso.</p></div></div><div class=sect2><h3 id=firewalls-ipfw>28.6. IPFW<a class=anchor href=#firewalls-ipfw></a></h3><div class=paragraph><p>Traduzione in corso.</p></div></div></div></div><div class=sect1><h2 id=advanced-networking>Capitolo 29. Networking Avanzato<a class=anchor href=#advanced-networking></a></h2><div class=sectionbody><div class=sect2><h3 id=advanced-networking-synopsis>29.1. Sinossi<a class=anchor href=#advanced-networking-synopsis></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-routing>29.2. Gateways e Routes<a class=anchor href=#network-routing></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-wireless>29.3. Wireless<a class=anchor href=#network-wireless></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-bluetooth>29.4. Bluetooth<a class=anchor href=#network-bluetooth></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-bridging>29.5. Bridging<a class=anchor href=#network-bridging></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-diskless>29.6. Modalità senza dischi<a class=anchor href=#network-diskless></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-isdn>29.7. ISDN<a class=anchor href=#network-isdn></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-natd>29.8. NAT<a class=anchor href=#network-natd></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-plip>29.9. PLIP<a class=anchor href=#network-plip></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-ipv6>29.10. IPv6<a class=anchor href=#network-ipv6></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div><div class=sect2><h3 id=network-atm>29.11. ATM<a class=anchor href=#network-atm></a></h3><div class=paragraph><p>Traduzione in corso</p></div></div></div></div><h1 id=appendices class=sect0>Parte V: Appendici<a class=anchor href=#appendices></a></h1><div class=sect1><h2 id=mirrors>Appendice A: Ottenere FreeBSD<a class=anchor href=#mirrors></a></h2><div class=sectionbody><div class=sect2><h3 id=mirrors-cdrom>A.1. Editori di CDROM e DVD<a class=anchor href=#mirrors-cdrom></a></h3><div class=sect3><h4 id=_prodotti_al_dettaglio_confezionati>A.1.1. Prodotti al Dettaglio Confezionati<a class=anchor href=#_prodotti_al_dettaglio_confezionati></a></h4><div class=paragraph><p>FreeBSD è disponibile in confezioni (i CD di FreeBSD, del software aggiuntivo, e la documentazione cartacea) presso svariati rivenditori:</p></div><div class=ulist><ul><li><p>CompUSA<br>WWW: <a href=http://www.compusa.com/ class=bare>http://www.compusa.com/</a></p></li><li><p>Frys Electronics<br>WWW: <a href=http://www.frys.com/ class=bare>http://www.frys.com/</a></p></li></ul></div></div><div class=sect3><h4 id=_set_di_cd_e_dvd>A.1.2. Set di CD e DVD<a class=anchor href=#_set_di_cd_e_dvd></a></h4><div class=paragraph><p>I set di CD e DVD di FreeBSD sono disponibili presso molti rivenditori on-line:</p></div><div class=ulist><ul><li><p>BSD Mall by Daemon News<br>PO Box 161<br>Nauvoo, IL 62354<br>Stati Uniti d’America<br>Telefono: +1 866 273-6255<br>Fax: +1 217 453-9956<br>Email: &lt;<a href=mailto:sales@bsdmall.com>sales@bsdmall.com</a>><br>WWW: <a href=http://www.bsdmall.com/freebsd1.html class=bare>http://www.bsdmall.com/freebsd1.html</a></p></li><li><p>BSD-Systems<br>Email: &lt;<a href=mailto:info@bsd-systems.co.uk>info@bsd-systems.co.uk</a>><br>WWW: <a href=http://www.bsd-systems.co.uk class=bare>http://www.bsd-systems.co.uk</a></p></li><li><p>FreeBSD Mall, Inc.<br>3623 Sanford Street<br>Concord, CA 94520-1405<br>Stati Uniti d’America<br>Telefono: +1 925 674-0783<br>Fax: +1 925 674-0821<br>Email: &lt;<a href=mailto:info@freebsdmall.com>info@freebsdmall.com</a>><br>WWW: <a href=http://www.freebsdmall.com/ class=bare>http://www.freebsdmall.com/</a></p></li><li><p>Hinner EDV<br>St. Augustinus-Str. 10<br>D-81825 München<br>Germania<br>Telefono: (089) 428 419<br>WWW: <a href=http://www.hinner.de/linux/freebsd.html class=bare>http://www.hinner.de/linux/freebsd.html</a></p></li><li><p>Ikarios<br>22-24 rue Voltaire<br>92000 Nanterre<br>Francia<br>WWW: <a href=http://ikarios.com/form/#freebsd class=bare>http://ikarios.com/form/#freebsd</a></p></li><li><p>JMC Software<br>Irlanda<br>Telefono: 353 1 6291282<br>WWW: <a href=http://www.thelinuxmall.com class=bare>http://www.thelinuxmall.com</a></p></li><li><p>Linux CD Mall<br>Private Bag MBE N348<br>Auckland 1030<br>Nuova Zelanda<br>Telefono: +64 21 866529<br>WWW: <a href=http://www.linuxcdmall.co.nz/ class=bare>http://www.linuxcdmall.co.nz/</a></p></li><li><p>The Linux Emporium<br>Hilliard House, Lester Way<br>Wallingford<br>OX10 9TA<br>Regno Unito<br>Telefono: +44 1491 837010<br>Fax: +44 1491 837016<br>WWW: <a href=http://www.linuxemporium.co.uk/products/freebsd/ class=bare>http://www.linuxemporium.co.uk/products/freebsd/</a></p></li><li><p>Linux+ DVD Magazine<br>Lewartowskiego 6<br>Warsaw<br>00-190<br>Polonia<br>Telefono: +48 22 860 18 18<br>Email: &lt;<a href=mailto:editors@lpmagazine.org>editors@lpmagazine.org</a>><br>WWW: <a href=http://www.lpmagazine.org/ class=bare>http://www.lpmagazine.org/</a></p></li><li><p>Linux System Labs Australia<br>21 Ray Drive<br>Balwyn North<br>VIC - 3104<br>Australia<br>Telefono: +61 3 9857 5918<br>Fax: +61 3 9857 8974<br>WWW: <a href=http://www.lsl.com.au class=bare>http://www.lsl.com.au</a></p></li><li><p>LinuxCenter.Ru<br>Galernaya Street, 55<br>Saint-Petersburg<br>190000<br>Russia<br>Telefono: +7-812-3125208<br>Email: &lt;<a href=mailto:info@linuxcenter.ru>info@linuxcenter.ru</a>><br>WWW: <a href=http://linuxcenter.ru/freebsd class=bare>http://linuxcenter.ru/freebsd</a></p></li></ul></div></div><div class=sect3><h4 id=_distributori>A.1.3. Distributori<a class=anchor href=#_distributori></a></h4><div class=paragraph><p>Se sei un rivenditore e vuoi vendere i CDROM di FreeBSD, contatta uno dei distributori seguenti:</p></div><div class=ulist><ul><li><p>Cylogistics<br>809B Cuesta Dr., #2149<br>Mountain View, CA 94040<br>Stati Uniti d’America<br>Telefono: +1 650 694-4949<br>Fax: +1 650 694-4953<br>Email: &lt;<a href=mailto:sales@cylogistics.com>sales@cylogistics.com</a>><br>WWW: <a href=http://www.cylogistics.com/ class=bare>http://www.cylogistics.com/</a></p></li><li><p>Ingram Micro<br>1600 E. St. Andrew Place<br>Santa Ana, CA 92705-4926<br>Stati Uniti d’America<br>Telefono: 1 (800) 456-8000<br>WWW: <a href=http://www.ingrammicro.com/ class=bare>http://www.ingrammicro.com/</a></p></li><li><p>Kudzu, LLC<br>7375 Washington Ave. S.<br>Edina, MN 55439<br>Stati Uniti d’America<br>Telefono: +1 952 947-0822<br>Fax: +1 952 947-0876<br>Email: &lt;<a href=mailto:sales@kudzuenterprises.com>sales@kudzuenterprises.com</a>></p></li><li><p>LinuxCenter.Ru<br>Galernaya Street, 55<br>Saint-Petersburg<br>190000<br>Russia<br>Phone: +7-812-3125208<br>Email: &lt;<a href=mailto:info@linuxcenter.ru>info@linuxcenter.ru</a>><br>WWW: <a href=http://linuxcenter.ru/freebsd class=bare>http://linuxcenter.ru/freebsd</a></p></li><li><p>Navarre Corp<br>7400 49th Ave South<br>New Hope, MN 55428<br>Stati Uniti d’America<br>Telefono: +1 763 535-8333<br>Fax: +1 763 535-0341<br>WWW: <a href=http://www.navarre.com/ class=bare>http://www.navarre.com/</a></p></li></ul></div></div></div><div class=sect2><h3 id=mirrors-ftp>A.2. Siti FTP<a class=anchor href=#mirrors-ftp></a></h3><div class=paragraph><p>I sorgenti ufficiali di FreeBSD sono disponibili via FTP anonimo da una serie di siti mirror sparsi in tutto il mondo. Il sito <a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/>ftp://ftp.FreeBSD.org/pub/FreeBSD/</a> è ben gestito e permette un gran numero di connessioni, ma ti conviene probabilmente trovare un sito mirror a te "più vicino" (soprattutto se decidi di configurare una sorta di sito mirror).</p></div><div class=paragraph><p>Il <a href=http://mirrorlist.FreeBSD.org/>database dei siti mirror di FreeBSD</a> è più preciso della lista contenuta in questo manuale, poichè ottiene le informazioni direttamente dal DNS anziché affidarsi a una lista statica di host.</p></div><div class=paragraph><p>Inoltre, FreeBSD è disponibile via FTP anonimo dai seguenti siti mirror. Se decidi di procurarti FreeBSD via FTP anonimo, usa per favore un sito a te vicino. I siti mirror elencati come "Siti Mirror Primari" hanno tipicamente l’intero archivio di FreeBSD (tutte le versioni oggi disponibili per ognuna delle architetture) ma probabilmente scaricherai più velocemente da un sito che è nel tuo stato o regione. I siti di ogni stato contengono le versioni più recenti per le architetture più popolari ma potrebbero non contenere l’intero archivio di FreeBSD. Tutti i siti permettono l’accesso tramite FTP anonimo e alcuni permettono l’accesso anche con altri metodi. I metodi di accesso disponibili per ogni sito sono elencati fra parentesi dopo il nome dell’host.</p></div><div class=paragraph><p><a href=#central>Central Servers</a>, <a href=#primary>Primary Mirror Sites</a>, <a href=#armenia>Armenia</a>, <a href=#australia>Australia</a>, <a href=#austria>Austria</a>, <a href=#brazil>Brazil</a>, <a href=#czech-republic>Czech Republic</a>, <a href=#denmark>Denmark</a>, <a href=#estonia>Estonia</a>, <a href=#finland>Finland</a>, <a href=#france>France</a>, <a href=#germany>Germany</a>, <a href=#greece>Greece</a>, <a href=#hong-kong>Hong Kong</a>, <a href=#ireland>Ireland</a>, <a href=#japan>Japan</a>, <a href=#korea>Korea</a>, <a href=#latvia>Latvia</a>, <a href=#lithuania>Lithuania</a>, <a href=#netherlands>Netherlands</a>, <a href=#new-zealand>New Zealand</a>, <a href=#norway>Norway</a>, <a href=#poland>Poland</a>, <a href=#russia>Russia</a>, <a href=#saudi-arabia>Saudi Arabia</a>, <a href=#slovenia>Slovenia</a>, <a href=#south-africa>South Africa</a>, <a href=#spain>Spain</a>, <a href=#sweden>Sweden</a>, <a href=#switzerland>Switzerland</a>, <a href=#taiwan>Taiwan</a>, <a href=#ukraine>Ukraine</a>, <a href=#uk>United Kingdom</a>, <a href=#usa>United States of America</a>.</p></div><div class=paragraph><p>(aggiornato al UTC)</p></div><div id=central class=paragraph><p><strong>Central Servers</strong></p></div><div class=paragraph><p><a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.FreeBSD.org/pub/FreeBSD/</a> (ftp / ftpv6 / <a href=http://ftp.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.FreeBSD.org/pub/FreeBSD/</a>)</p></div><div id=primary class=paragraph><p><strong>Primary Mirror Sites</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:mirror-admin@FreeBSD.org>mirror-admin@FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp1.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp1.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp3.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp4.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.FreeBSD.org/pub/FreeBSD/</a> (ftp / ftpv6 / <a href=http://ftp4.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp4.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp4.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp4.FreeBSD.org/pub/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp5.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp5.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp6.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp7.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp7.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp10.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp10.FreeBSD.org/pub/FreeBSD/</a> (ftp / ftpv6 / <a href=http://ftp10.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp10.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp10.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp10.FreeBSD.org/pub/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp11.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp11.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp13.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp13.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp14.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp14.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp14.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp14.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=armenia class=paragraph><p><strong>Armenia</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@am.FreeBSD.org>hostmaster@am.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp1.am.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp1.am.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp1.am.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp1.am.FreeBSD.org/pub/FreeBSD/</a> / rsync)</p></li></ul></div><div id=australia class=paragraph><p><strong>Australia</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@au.FreeBSD.org>hostmaster@au.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.au.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.au.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.au.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.au.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp3.au.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.au.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=austria class=paragraph><p><strong>Austria</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@at.FreeBSD.org>hostmaster@at.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.at.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.at.FreeBSD.org/pub/FreeBSD/</a> (ftp / ftpv6 / <a href=http://ftp.at.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.at.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp.at.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.at.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=brazil class=paragraph><p><strong>Brazil</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@br.FreeBSD.org>hostmaster@br.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp2.br.FreeBSD.org/FreeBSD/ class=bare>ftp://ftp2.br.FreeBSD.org/FreeBSD/</a> (ftp / <a href=http://ftp2.br.FreeBSD.org/ class=bare>http://ftp2.br.FreeBSD.org/</a>)</p></li><li><p><a href=ftp://ftp3.br.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.br.FreeBSD.org/pub/FreeBSD/</a> (ftp / rsync)</p></li><li><p><a href=ftp://ftp4.br.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.br.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=czech-republic class=paragraph><p><strong>Czech Republic</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@cz.FreeBSD.org>hostmaster@cz.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp.cz.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.cz.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp.cz.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.cz.FreeBSD.org/pub/FreeBSD/</a> / rsync / rsyncv6)</p></li><li><p><a href=ftp://ftp2.cz.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.cz.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp2.cz.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp2.cz.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=denmark class=paragraph><p><strong>Denmark</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:staff@dotsrc.org>staff@dotsrc.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.dk.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.dk.FreeBSD.org/pub/FreeBSD/</a> (ftp / ftpv6 / <a href=http://ftp.dk.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.dk.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp.dk.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.dk.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=estonia class=paragraph><p><strong>Estonia</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@ee.FreeBSD.org>hostmaster@ee.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.ee.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.ee.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=finland class=paragraph><p><strong>Finland</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@fi.FreeBSD.org>hostmaster@fi.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.fi.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.fi.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=france class=paragraph><p><strong>France</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@fr.FreeBSD.org>hostmaster@fr.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.fr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.fr.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp1.fr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp1.fr.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp1.fr.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp1.fr.FreeBSD.org/pub/FreeBSD/</a> / rsync)</p></li><li><p><a href=ftp://ftp3.fr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.fr.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp6.fr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.fr.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp6.fr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.fr.FreeBSD.org/pub/FreeBSD/</a> (ftp / rsync)</p></li><li><p><a href=ftp://ftp7.fr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp7.fr.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp8.fr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp8.fr.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=germany class=paragraph><p><strong>Germany</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:de-bsd-hubs@de.FreeBSD.org>de-bsd-hubs@de.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.de.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.de.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp1.de.FreeBSD.org/freebsd/ class=bare>ftp://ftp1.de.FreeBSD.org/freebsd/</a> (ftp / <a href=http://www1.de.FreeBSD.org/freebsd/ class=bare>http://www1.de.FreeBSD.org/freebsd/</a> / rsync://rsync3.de.FreeBSD.org/freebsd/)</p></li><li><p><a href=ftp://ftp2.de.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.de.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp2.de.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp2.de.FreeBSD.org/pub/FreeBSD/</a> / rsync)</p></li><li><p><a href=ftp://ftp4.de.FreeBSD.org/FreeBSD/ class=bare>ftp://ftp4.de.FreeBSD.org/FreeBSD/</a> (ftp / <a href=http://ftp4.de.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp4.de.FreeBSD.org/pub/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp5.de.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp5.de.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp7.de.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp7.de.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp7.de.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp7.de.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=greece class=paragraph><p><strong>Greece</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@gr.FreeBSD.org>hostmaster@gr.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.gr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.gr.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.gr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.gr.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=hong-kong class=paragraph><p><strong>Hong Kong</strong></p></div><div class=paragraph><p><a href=ftp://ftp.hk.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.hk.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></div><div id=ireland class=paragraph><p><strong>Ireland</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@ie.FreeBSD.org>hostmaster@ie.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp3.ie.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.ie.FreeBSD.org/pub/FreeBSD/</a> (ftp / rsync)</p></li></ul></div><div id=japan class=paragraph><p><strong>Japan</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@jp.FreeBSD.org>hostmaster@jp.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp3.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp4.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp5.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp5.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp6.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp7.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp7.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp8.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp8.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp9.jp.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp9.jp.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=korea class=paragraph><p><strong>Korea</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@kr.FreeBSD.org>hostmaster@kr.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.kr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.kr.FreeBSD.org/pub/FreeBSD/</a> (ftp / rsync)</p></li><li><p><a href=ftp://ftp2.kr.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.kr.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp2.kr.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp2.kr.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=latvia class=paragraph><p><strong>Latvia</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@lv.FreeBSD.org>hostmaster@lv.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.lv.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.lv.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.lv.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.lv.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=lithuania class=paragraph><p><strong>Lithuania</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@lt.FreeBSD.org>hostmaster@lt.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.lt.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.lt.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.lt.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.lt.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=netherlands class=paragraph><p><strong>Netherlands</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@nl.FreeBSD.org>hostmaster@nl.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.nl.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.nl.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.nl.FreeBSD.org/os/FreeBSD/ class=bare>http://ftp.nl.FreeBSD.org/os/FreeBSD/</a> / rsync)</p></li><li><p><a href=ftp://ftp2.nl.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.nl.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=new-zealand class=paragraph><p><strong>New Zealand</strong></p></div><div class=ulist><ul><li><p><a href=ftp://ftp.nz.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.nz.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.nz.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.nz.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=norway class=paragraph><p><strong>Norway</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@no.FreeBSD.org>hostmaster@no.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.no.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.no.FreeBSD.org/pub/FreeBSD/</a> (ftp / rsync)</p></li></ul></div><div id=poland class=paragraph><p><strong>Poland</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@pl.FreeBSD.org>hostmaster@pl.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.pl.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.pl.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p>ftp2.pl.FreeBSD.org</p></li></ul></div><div id=russia class=paragraph><p><strong>Russia</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@ru.FreeBSD.org>hostmaster@ru.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.ru.FreeBSD.org/FreeBSD/ class=bare>http://ftp.ru.FreeBSD.org/FreeBSD/</a> / rsync)</p></li><li><p><a href=ftp://ftp2.ru.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.ru.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp2.ru.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp2.ru.FreeBSD.org/pub/FreeBSD/</a> / rsync)</p></li><li><p><a href=ftp://ftp5.ru.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp5.ru.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp5.ru.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp5.ru.FreeBSD.org/pub/FreeBSD/</a> / rsync)</p></li><li><p><a href=ftp://ftp6.ru.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.ru.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=saudi-arabia class=paragraph><p><strong>Saudi Arabia</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:ftpadmin@isu.net.sa>ftpadmin@isu.net.sa</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.isu.net.sa/pub/ftp.freebsd.org class=bare>ftp://ftp.isu.net.sa/pub/ftp.freebsd.org</a> (ftp)</p></li></ul></div><div id=slovenia class=paragraph><p><strong>Slovenia</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@si.FreeBSD.org>hostmaster@si.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.si.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.si.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=south-africa class=paragraph><p><strong>South Africa</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@za.FreeBSD.org>hostmaster@za.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.za.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.za.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.za.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.za.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp4.za.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.za.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=spain class=paragraph><p><strong>Spain</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@es.FreeBSD.org>hostmaster@es.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.es.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.es.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.es.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.es.FreeBSD.org/pub/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp3.es.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.es.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=sweden class=paragraph><p><strong>Sweden</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@se.FreeBSD.org>hostmaster@se.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.se.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.se.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.se.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.se.FreeBSD.org/pub/FreeBSD/</a> (ftp / rsync://ftp2.se.FreeBSD.org/)</p></li><li><p><a href=ftp://ftp3.se.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.se.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp4.se.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp4.se.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp4.se.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp4.se.FreeBSD.org/pub/FreeBSD/</a> / rsync://ftp4.se.FreeBSD.org/pub/FreeBSD/ / rsync://ftp4.se.FreeBSD.org/pub/FreeBSD/)</p></li><li><p><a href=ftp://ftp6.se.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.se.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp6.se.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp6.se.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=switzerland class=paragraph><p><strong>Switzerland</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@ch.FreeBSD.org>hostmaster@ch.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.ch.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.ch.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.ch.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.ch.FreeBSD.org/pub/FreeBSD/</a>)</p></li></ul></div><div id=taiwan class=paragraph><p><strong>Taiwan</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@tw.FreeBSD.org>hostmaster@tw.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.ch.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.ch.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=ftp://ftp.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.tw.FreeBSD.org/pub/FreeBSD/</a> / rsync / rsyncv6)</p></li><li><p><a href=ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp2.tw.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp2.tw.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp2.tw.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp2.tw.FreeBSD.org/pub/FreeBSD/</a> / rsync / rsyncv6)</p></li><li><p><a href=ftp://ftp4.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp5.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp5.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp6.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp6.tw.FreeBSD.org/ class=bare>http://ftp6.tw.FreeBSD.org/</a> / rsync)</p></li><li><p><a href=ftp://ftp7.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp7.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp8.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp8.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp11.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp11.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp11.tw.FreeBSD.org/FreeBSD/ class=bare>http://ftp11.tw.FreeBSD.org/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp12.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp12.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp13.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp13.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp14.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp14.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp15.tw.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp15.tw.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=ukraine class=paragraph><p><strong>Ukraine</strong></p></div><div class=ulist><ul><li><p><a href=ftp://ftp.ua.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.ua.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp.ua.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp.ua.FreeBSD.org/pub/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp6.ua.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.ua.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp6.ua.FreeBSD.org/pub/FreeBSD class=bare>http://ftp6.ua.FreeBSD.org/pub/FreeBSD</a> / rsync://ftp6.ua.FreeBSD.org/FreeBSD/)</p></li><li><p><a href=ftp://ftp7.ua.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp7.ua.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=uk class=paragraph><p><strong>United Kingdom</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@uk.FreeBSD.org>hostmaster@uk.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp.uk.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp.uk.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.uk.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.uk.FreeBSD.org/pub/FreeBSD/</a> (ftp / rsync://ftp2.uk.FreeBSD.org/ftp.freebsd.org/pub/FreeBSD/)</p></li><li><p><a href=ftp://ftp3.uk.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.uk.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp4.uk.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.uk.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp5.uk.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp5.uk.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div><div id=usa class=paragraph><p><strong>United States of America</strong></p></div><div class=paragraph><p>In case of problems, please contact the hostmaster <code>&lt;<a href=mailto:hostmaster@us.FreeBSD.org>hostmaster@us.FreeBSD.org</a>></code> for this domain.</p></div><div class=ulist><ul><li><p><a href=ftp://ftp1.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp1.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp2.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp2.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp3.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp3.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp4.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp4.us.FreeBSD.org/pub/FreeBSD/</a> (ftp / ftpv6 / <a href=http://ftp4.us.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp4.us.FreeBSD.org/pub/FreeBSD/</a> / <a href=http://ftp4.us.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp4.us.FreeBSD.org/pub/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp5.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp5.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp6.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp6.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp8.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp8.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp10.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp10.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp11.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp11.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li><li><p><a href=ftp://ftp13.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp13.us.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp13.us.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp13.us.FreeBSD.org/pub/FreeBSD/</a> / rsync)</p></li><li><p><a href=ftp://ftp14.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp14.us.FreeBSD.org/pub/FreeBSD/</a> (ftp / <a href=http://ftp14.us.FreeBSD.org/pub/FreeBSD/ class=bare>http://ftp14.us.FreeBSD.org/pub/FreeBSD/</a>)</p></li><li><p><a href=ftp://ftp15.us.FreeBSD.org/pub/FreeBSD/ class=bare>ftp://ftp15.us.FreeBSD.org/pub/FreeBSD/</a> (ftp)</p></li></ul></div></div><div class=sect2><h3 id=anoncvs>A.3. CVS Anonimo<a class=anchor href=#anoncvs></a></h3><div class=sect3><h4 id=anoncvs-intro>A.3.1. Introduzione<a class=anchor href=#anoncvs-intro></a></h4><div class=paragraph><p>Il CVS Anonimo (anche conosciuto come <em>anoncvs</em>) è una caratteristica del programma di utilità CVS contenuto in FreeBSD che serve per sincronizzarsi con un deposito CVS remoto (in gergo repository CVS). Tra le altre cose, permette agli utenti di FreeBSD di realizzare, senza avere particolari permessi, operazioni CVS in sola lettura su uno dei server anoncvs ufficiali del progetto FreeBSD. Per utilizzarlo è sufficiente impostare la variabile di ambiente <code>CVSROOT</code> facendola puntare al server anoncvs appropriato, immettere la password "anoncvs" con il comando <code>cvs login</code>, e poi usare il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a> per accederci come se fosse un deposito locale.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Il comando <code>cvs login</code> memorizza le password utilizzate per l’autenticazione con il server CVS in un file chiamato <span class=filename>.cvspass</span> nella tua directory <code>HOME</code>. Se questo file non esiste, potresti ricevere un errore alla prima esecuzione di <code>cvs login</code>. Crea un file <span class=filename>.cvspass</span> vuoto e riprova il login.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Benché si possa dire che i servizi <a href=#cvsup>CVSup</a> e <em>anoncvs</em> realizzino sostanzialmente le stesse funzioni, ci sono vari particolari che possono influenzare la scelta di un metodo di sincronizzazione piuttosto dell’altro. Per dirla in breve, CVSup è più efficiente nell’uso delle risorse di rete ed è il più avanzato tecnicamente tra i due, ma tutto questo ha un prezzo. Per usare CVSup, bisogna installare e configurare un client speciale prima di poter scaricare qualcosa, e si può scaricare solo blocchi piuttosto grossi che CVSup chiama <em>collezioni</em>.</p></div><div class=paragraph><p>Anoncvs, al contrario, può essere usato per esaminare qualunque cosa a partire da un singolo file fino a uno specifico programma (come <code>ls</code> o <code>grep</code>) specificando il nome del modulo CVS. Ovviamente, anoncvs è adatto solo per operazioni di sola lettura sul deposito CVS, quindi se hai intenzione di supportare lo sviluppo locale in uno dei depositi condivisi del progetto FreeBSD allora CVSup è in realtà l’unica opzione.</p></div></div><div class=sect3><h4 id=anoncvs-usage>A.3.2. Uso del CVS Anonimo<a class=anchor href=#anoncvs-usage></a></h4><div class=paragraph><p>La configurazione di <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a> per usare un deposito CVS Anonimo è semplicemente una questione di impostare la variabile di ambiente <code>CVSROOT</code> affinché punti a uno dei server <em>anoncvs</em> del progetto FreeBSD. Al momento della stesura di questo testo sono disponibili i seguenti server:</p></div><div class=ulist><ul><li><p><em>Austria</em>: :pserver:anoncvs@anoncvs.at.FreeBSD.org:/home/ncvs (Usa <code>cvs login</code> ed inserisci qualunque password quando richiesta.)</p></li><li><p><em>Francia</em>: :pserver:anoncvs@anoncvs.fr.FreeBSD.org:/home/ncvs (pserver (password "anoncvs"), ssh (nessuna password))</p></li><li><p><em>Germania</em>: :pserver:anoncvs@anoncvs.de.FreeBSD.org:/home/ncvs (Usa <code>cvs login</code> ed inserisci la password "anoncvs" quando richiesta.)</p></li><li><p><em>Germania</em>: :pserver:anoncvs@anoncvs2.de.FreeBSD.org:/home/ncvs (rsh, pserver, ssh, ssh/2022)</p></li><li><p><em>Giappone</em>: :pserver:anoncvs@anoncvs.jp.FreeBSD.org:/home/ncvs (Usa <code>cvs login</code> ed inserisci la password "anoncvs" quando richiesta.)</p></li><li><p><em>USA</em>: <a href=mailto:freebsdanoncvs@anoncvs.FreeBSD.org>freebsdanoncvs@anoncvs.FreeBSD.org</a>:/home/ncvs (solo ssh - nessuna password)</p><div class="literalblock programlisting"><div class=content><pre>SSH HostKey: 1024 a1:e7:46:de:fb:56:ef:05:bc:73:aa:91:09:da:f7:f4 root@sanmateo.ecn.purdue.edu
SSH2 HostKey: 1024 52:02:38:1a:2f:a8:71:d3:f5:83:93:8d:aa:00:6f:65 ssh_host_dsa_key.pub</pre></div></div></li><li><p><em>USA</em>: <a href=mailto:anoncvs@anoncvs1.FreeBSD.org>anoncvs@anoncvs1.FreeBSD.org</a>:/home/ncvs (solo ssh - nessuna password)</p><div class="literalblock programlisting"><div class=content><pre>SSH HostKey: 1024 8b:c4:6f:9a:7e:65:8a:eb:50:50:29:7c:a1:47:03:bc root@ender.liquidneon.com
SSH2 HostKey: 2048 4d:59:19:7b:ea:9b:76:0b:ca:ee:da:26:e2:3a:83:b8 ssh_host_dsa_key.pub</pre></div></div></li></ul></div><div class=paragraph><p>Dato che CVS permette di estrarre (nel suo gergo: "check out") qualsiasi versione dei sorgenti di FreeBSD che sia mai esistita (o, in alcuni casi, che esisterà), è bene familiarizzare con il parametro revisione (<code>-r</code>) di <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a> e sapere quali valori può assumere nel deposito del progetto FreeBSD.</p></div><div class=paragraph><p>Ci sono due tipi di tag, i tag di revisione e i tag di ramo. Un tag di revisione fa riferimento ad una revisione specifica. Il suo significato rimane lo stesso di giorno in giorno. Un tag di ramo, d’altro canto, si riferisce sempre all’ultima revisione relativa a una specifica linea di sviluppo. Dato che un tag di ramo non si riferisce ad una revisione specifica, esso potrebbe avere un significato diverso da un giorno con l’altro.</p></div><div class=paragraph><p>La <a href=#cvs-tags>Tag CVS</a> contiene i tag di revisione che possono essere interessanti per gli utenti. Tuttavia, nessuno di questi tag è valido per la collezione dei port poichè questa non ha revisioni multiple.</p></div><div class=paragraph><p>Quando specifichi un tag di ramo, normalmente ricevi l’ultima versione dei file relativa a quella linea di sviluppo. Se vuoi ricevere una versione precedente, puoi farlo specificando la data con il parametro <code>-D date</code>. Si rimanda alla pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a> per ulteriori dettagli.</p></div></div><div class=sect3><h4 id=_esempi>A.3.3. Esempi<a class=anchor href=#_esempi></a></h4><div class=paragraph><p>Benché sia consigliata un’attenta lettura della pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=cvs&amp;sektion=1&amp;format=html">cvs(1)</a> prima di fare qualsiasi cosa, seguono alcuni veloci esempi che spiegano in modo essenziale l’uso del CVS Anonimo:</p></div><div class=exampleblock><div class=title>Esempio 16. Estrazione di Qualcosa dalla -CURRENT (<a href="https://man.freebsd.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;format=html">ls(1)</a>):</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% setenv CVSROOT :pserver:anoncvs@anoncvs.jp.FreeBSD.org:/home/ncvs
% cvs login
Alla richiesta, inserire la password «anoncvs».
% cvs co <span class=nb>ls</span></code></pre></div></div></div></div><div class=exampleblock><div class=title>Esempio 17. Utilizzo di SSH per estrarre il ramo <span class=filename>src/</span>:</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% cvs <span class=nt>-d</span> freebsdanoncvs@anoncvs.FreeBSD.org:/home/ncvs co src
The authenticity of host <span class=s1>&#39;anoncvs.freebsd.org (128.46.156.46)&#39;</span> can<span class=s1>&#39;t be established.
DSA key fingerprint is 52:02:38:1a:2f:a8:71:d3:f5:83:93:8d:aa:00:6f:65.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added &#39;</span>anoncvs.freebsd.org<span class=s1>&#39; (DSA) to the list of known hosts.</span></code></pre></div></div></div></div><div class=exampleblock><div class=title>Esempio 18. Estrazione della Versione di <a href="https://man.freebsd.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;format=html">ls(1)</a> dal Ramo 6-STABLE:</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% setenv CVSROOT :pserver:anoncvs@anoncvs.jp.FreeBSD.org:/home/ncvs
% cvs login
Alla richiesta, inserire la password «anoncvs».
% cvs co <span class=nt>-rRELENG_6</span> <span class=nb>ls</span></code></pre></div></div></div></div><div class=exampleblock><div class=title>Esempio 19. Creazione di una Lista di Cambiamenti (come Diff Unificate) di <a href="https://man.freebsd.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;format=html">ls(1)</a></div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% setenv CVSROOT :pserver:anoncvs@anoncvs.jp.FreeBSD.org:/home/ncvs
% cvs login
Alla richiesta, inserire la password «anoncvs».
% cvs rdiff <span class=nt>-u</span> <span class=nt>-rRELENG_5_3_0_RELEASE</span> <span class=nt>-rRELENG_5_4_0_RELEASE</span> <span class=nb>ls</span></code></pre></div></div></div></div><div class=exampleblock><div class=title>Esempio 20. Scoperta di Quali Altri Nomi di Moduli Possono Essere Usati</div><div class=content><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>% setenv CVSROOT :pserver:anoncvs@anoncvs.jp.FreeBSD.org:/home/ncvs
% cvs login
Alla richiesta, inserire la password «anoncvs».
% cvs co modules
% more modules/modules</code></pre></div></div></div></div></div><div class=sect3><h4 id=_altre_risorse>A.3.4. Altre Risorse<a class=anchor href=#_altre_risorse></a></h4><div class=paragraph><p>Le seguenti risorse addizionali possono essere utili nell’apprendimento del CVS:</p></div><div class=ulist><ul><li><p><a href=http://www.csc.calpoly.edu/~dbutler/tutorials/winter96/cvs/>CVS Tutorial</a> dal Cal Poly.</p></li><li><p><a href=http://ximbiot.com/cvs/wiki/>CVS Home</a>, la comunità di sviluppo e supporto del CVS.</p></li><li><p><a href=http://www.FreeBSD.org/cgi/cvsweb.cgi>CVSWeb</a> è l’interfaccia web di CVS relativa al progetto FreeBSD.</p></li></ul></div></div></div><div class=sect2><h3 id=ctm>A.4. Uso di CTM<a class=anchor href=#ctm></a></h3><div class=paragraph><p>CTM è un metodo per mantenere sincronizzati un albero di directory remoto e uno centralizzato. È stato sviluppato per l’albero dei sorgenti di FreeBSD, anche se con il passare del tempo, altre persone lo hanno trovano utile per altri scopi. A tutt’oggi esiste pochissima documentazione sul processo della creazione delle delta, quindi contattate la mailing list <a href=https://lists.FreeBSD.org/subscription/ctm-users>ctm-users-desc</a> per avere più informazioni e nel caso voleste usare CTM per altri scopi.</p></div><div class=sect3><h4 id=_perché_dovrei_usare_ctm>A.4.1. Perché Dovrei Usare CTM?<a class=anchor href=#_perché_dovrei_usare_ctm></a></h4><div class=paragraph><p>CTM fornisce una copia locale dell’albero dei sorgenti di FreeBSD. Ci sono molte "varietà" di alberi disponibili. Che tu voglia seguire l’intero albero CVS o solo uno dei rami, CTM può fornirti i dati che ti servono. Se sei uno sviluppatore attivo di FreeBSD, ma hai una connettività TCP/IP di bassa qualità o non esistente, o semplicemente desideri ricevere le modifiche in modo automatico, CTM fa al caso tuo. Riceverai fino a tre delta giornaliere per i rami più attivi. Tuttavia, puoi considerare che li puoi avere attraverso l’invio automatico di email. Le dimensioni degli aggiornamenti sono sempre più piccole possibile. Questi sono in genere meno di 5K, con occasionali (uno su dieci) aggiornamenti da 10-50K e qualcuno più grande (100K o più) di tanto in tanto.</p></div><div class=paragraph><p>Devi anche essere cosciente delle varie insidie relativi all’uso di sorgenti in via di sviluppo e non provenienti da release pronte. Questo è vero in particolare per i sorgenti "current" (correnti). È raccomandata la lettura di <a href=./#current>Restare in "current" con FreeBSD</a>.</p></div></div><div class=sect3><h4 id=_cosa_serve_per_luso_di_ctm>A.4.2. Cosa Serve per l’Uso di CTM?<a class=anchor href=#_cosa_serve_per_luso_di_ctm></a></h4><div class=paragraph><p>Ti servono due cose: il programma CTM, e le delta iniziali da dargli in pasto (per arrivare ai livelli della "current").</p></div><div class=paragraph><p>Il programma CTM fa parte di FreeBSD fin dalla release della versione 2.0 e, se hai una copia dei sorgenti disponibile, risiede in <span class=filename>/usr/src/usr.sbin/ctm</span>.</p></div><div class=paragraph><p>Le "delta" da dare in pasto a CTM si possono avere in due modi: tramite FTP o email. Se puoi utilizzare FTP via Internet allora i seguenti siti supportano l’accesso a CTM:</p></div><div class=paragraph><p><a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/>ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/</a></p></div><div class=paragraph><p>vedi anche la sezione <a href=#mirrors-ctm>mirror</a>.</p></div><div class=paragraph><p>Entra via FTP nella directory giusta e, da lì, inizia col trasferire il file <span class=filename>README</span>.</p></div><div class=paragraph><p>Se invece desideri ricevere le delta per email:</p></div><div class=paragraph><p>Iscriviti ad una delle liste di distribuzione di CTM. <a href=https://lists.FreeBSD.org/subscription/ctm-cvs-cur>ctm-cvs-cur-desc</a> supporta l’interno albero CVS. <a href=https://lists.FreeBSD.org/subscription/ctm-src-cur>ctm-src-cur-desc</a> supporta il ramo di sviluppo current. <a href=https://lists.FreeBSD.org/subscription/ctm-src-4>mailing list di distribuzione CTM del ramo src 4-STABLE</a> supporta il ramo della release 4.X, ecc. (Se non sai come iscriverti a una lista, clicca sul nome della lista o raggiungi la pagina <a href=https://lists.freebsd.org class=bare>https://lists.freebsd.org</a> e clicca sulla lista a cui ti vuoi iscrivere. La pagina della lista dovrebbe contenere tutte le informazioni necessarie per l’iscrizione.)</p></div><div class=paragraph><p>Quando inizierai a ricevere gli aggiornamenti CTM via email, puoi usare il programma <code>ctm_rmail</code> per scompattarli e per applicarli. In realtà, se vuoi avere un processo completamente automatizzato, puoi usare il programma <code>ctm_rmail</code> direttamente in un elemento di <span class=filename>/etc/aliases</span>. Esamina la pagina man di <code>ctm_rmail</code> per maggiori dettagli.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Indipendentemente dal metodo che utilizzi per ricevere le delta di CTM, dovresti iscriverti alla mailing list <a href=https://lists.FreeBSD.org/subscription/ctm-announce>ctm-announce-desc</a>. In futuro, questo sarà l’unico posto dove saranno postati gli annunci riguardanti il funzionamento del sistema CTM. Clicca sul nome della lista e segui le istruzioni per iscriverti.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_uso_di_ctm_per_la_prima_volta>A.4.3. Uso di CTM per la Prima Volta<a class=anchor href=#_uso_di_ctm_per_la_prima_volta></a></h4><div class=paragraph><p>Prima che tu possa servirti delle delta di CTM, hai bisogno di un punto di partenza dal quale successivamente costruire le delta.</p></div><div class=paragraph><p>Innanzitutto dovresti determinare ciò che hai. Si può iniziare da un directory "vuota". Devi usare una delta iniziale "Empty" per iniziare il tuo albero CTM. Qualche volta può succedere che una di queste delta "iniziali" sia distribuita su un CD per tua convenienza, ma comunque, questo generalmente non avviene.</p></div><div class=paragraph><p>Poichè gli alberi sono molte decine di megabyte, puoi iniziare da qualcosa che hai a portata di mano. Se hai un CD di una release, puoi copiare o estrarre i sorgenti da lì. Questo salverà un significativo trasferimento di dati.</p></div><div class=paragraph><p>Puoi riconoscere queste delta "iniziali" dalla lettera <code>X</code> preceduta da un numero (per esempio <span class=filename>src-cur.3210XEmpty.gz</span>). Il nome che segue la lettera <code>X</code> corrisponde all’origine del tuo "seme" iniziale. <span class=filename>Empty</span> è una directory vuota. Di solito una transizione base a partire da <code>Empty</code> è prodotta ogni 100 delta. Strada facendo, queste avranno grandi dimensioni! Le dimensioni comuni per le delta <span class=filename>XEmpty</span> vanno dai 70 a 80 Megabyte di dati compressi con <code>gzip</code>.</p></div><div class=paragraph><p>Una volta che ti sei procurato una delta base come punto di partenza, avrai bisogno anche di tutte le delta successive aventi un numero maggiore.</p></div></div><div class=sect3><h4 id=_uso_di_ctm_nella_tua_vita_quotidiana>A.4.4. Uso di CTM nella Tua Vita Quotidiana<a class=anchor href=#_uso_di_ctm_nella_tua_vita_quotidiana></a></h4><div class=paragraph><p>Per applicare le delta, fai come segue:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /where/ever/you/want/the/stuff</span>
<span class=c># ctm -v -v /where/you/store/your/deltas/src-xxx.*</span></code></pre></div></div><div class=paragraph><p>CTM decifra le delta compresse tramite il comando <code>gzip</code>, quindi non hai bisogno di decomprimerle con <code>gunzip</code>, e ciò salva spazio su disco.</p></div><div class=paragraph><p>Tranne in alcune circostanze, CTM non toccherà il tuo albero. Per verificare una delta puoi usare l’opzione <code>-c</code> e di fatto CTM non toccherà il tuo albero; verificherà soltanto l’integrità della delta e se questa può essere applicata in modo pulito al tuo albero attuale.</p></div><div class=paragraph><p>Ci sono altre opzioni di CTM, guarda la pagina man o ispeziona i sorgenti per maggiori dettagli.</p></div><div class=paragraph><p>Questo è davvero tutto ciò che devi sapere. Ogni volta che ottieni una delta, esegui CTM per aggiornare i tuoi sorgenti.</p></div><div class=paragraph><p>È meglio non rimuovere le delta che richiedono grandi tempi di scaricamento. Nel caso succeda qualche disgrazia non dovrai riscaricarle. Anche se hai solo dischetti floppy, considera l’uso di <code>fdwrite</code> per crearne una copia.</p></div></div><div class=sect3><h4 id=_mantenimento_delle_tue_modifiche_locali>A.4.5. Mantenimento delle Tue Modifiche Locali<a class=anchor href=#_mantenimento_delle_tue_modifiche_locali></a></h4><div class=paragraph><p>Allo stesso modo di uno sviluppatore potresti voler sperimentare delle modifiche nell’albero dei sorgenti. CTM supporta le modifiche locali in modo limitato: prima di verificare la presenza di un file <span class=filename>foo</span>, esso cerca <span class=filename>foo.ctm</span>. Se questo file esiste, CTM opererà su di esso piuttosto che su <span class=filename>foo</span>.</p></div><div class=paragraph><p>Questo comportamento offre un semplice modo per mantenere le modifiche locali: copia semplicemente il file che desideri modificare in un file con lo stesso nome e suffisso <span class=filename>.ctm</span>. Quindi puoi liberamente hackerare il codice, e CTM manterrà aggiornato il file <span class=filename>.ctm</span>.</p></div></div><div class=sect3><h4 id=_altre_opzioni_interessanti_di_ctm>A.4.6. Altre Opzioni Interessanti di CTM<a class=anchor href=#_altre_opzioni_interessanti_di_ctm></a></h4><div class=sect4><h5 id=_scoprire_con_precisione_ciò_che_dovrebbe_essere_aggiornato>A.4.6.1. Scoprire con Precisione Ciò che Dovrebbe Essere Aggiornato<a class=anchor href=#_scoprire_con_precisione_ciò_che_dovrebbe_essere_aggiornato></a></h5><div class=paragraph><p>Puoi determinare la lista delle modifiche che CTM apporterà ai tuoi sorgenti usando l’opzione <code>-l</code> di CTM.</p></div><div class=paragraph><p>Questo è utile se vuoi mantenere dei log delle modifiche, prima o dopo aver modificato in qualche modo i file, o solo perchè ti senti un pò paranoico.</p></div></div><div class=sect4><h5 id=_creare_dei_backup_prima_di_aggiornare>A.4.6.2. Creare dei Backup Prima di Aggiornare<a class=anchor href=#_creare_dei_backup_prima_di_aggiornare></a></h5><div class=paragraph><p>Qualche volta potresti voler creare dei backup di tutti i file che saranno modificati da un aggiornamento di CTM.</p></div><div class=paragraph><p>Specificando l’opzione <code>-B backup-file</code>, CTM effettuerà il backup di tutti i file che saranno modificati da una certa delta CTM nel file <span class=filename>backup-file</span>.</p></div></div><div class=sect4><h5 id=_limitare_i_file_che_devono_essere_aggiornati>A.4.6.3. Limitare i File che Devono Essere Aggiornati<a class=anchor href=#_limitare_i_file_che_devono_essere_aggiornati></a></h5><div class=paragraph><p>Qualche volta potresti volere restringere la portata di un certo aggiornamento CTM, o potresti essere interessato ad estrarre solo pochi file da una serie di delta.</p></div><div class=paragraph><p>Puoi controllare la lista dei file sui quali CTM opererà specificando un’espressione regolare usando le opzioni <code>-e</code> e <code>-x</code>.</p></div><div class=paragraph><p>Per esempio, per estrarre una copia aggiornata del file <span class=filename>lib/libc/Makefile</span> dalla tua collezione di delta CTM, esegui i comandi seguenti:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /dove/vuoi/estrarre/</span>
<span class=c># ctm -e &#39;^lib/libc/Makefile&#39; ~ctm/src-xxx.*</span></code></pre></div></div><div class=paragraph><p>Per ogni file specificato in una delta CTM, le opzioni <code>-e</code> e <code>-x</code> sono applicate nello stesso ordine in cui compaiono sulla riga di comando. Il file è processato da CTM solo se risulta idoneo a tutte le opzioni <code>-e</code> e <code>-x</code> ad esso applicate.</p></div></div></div><div class=sect3><h4 id=_piani_futuri_per_ctm>A.4.7. Piani Futuri per CTM<a class=anchor href=#_piani_futuri_per_ctm></a></h4><div class=paragraph><p>I più importanti:</p></div><div class=ulist><ul><li><p>Usare qualche tipo di autenticazione nel sistema CTM, in modo tale da permette l’identificazione di aggiornamenti CTM contraffatti.</p></li><li><p>Ripulire le opzioni di CTM, che confondono e sono tutt’altro che intuitive.</p></li></ul></div></div><div class=sect3><h4 id=_materiale_vario>A.4.8. Materiale Vario<a class=anchor href=#_materiale_vario></a></h4><div class=paragraph><p>Esiste una serie di delta per la collezione dei <code>ports</code>, ma è ancora di poco interesse.</p></div></div><div class=sect3><h4 id=mirrors-ctm>A.4.9. Mirror CTM<a class=anchor href=#mirrors-ctm></a></h4><div class=paragraph><p><a href=#ctm>CTM</a>/FreeBSD è disponibile via FTP anonimo dai siti mirror seguenti. Se decidi di procurarti CTM via FTP anonimo, per favore usa un sito a te vicino.</p></div><div class=paragraph><p>In caso di problemi, contatta la mailing list <a href=https://lists.FreeBSD.org/subscription/ctm-users>ctm-users-desc</a>.</p></div><div class=dlist><dl><dt class=hdlist1>California, Bay Area, sorgenti ufficiali</dt><dd><div class=ulist><ul><li><p><a href=ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/>ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/</a></p></li></ul></div></dd><dt class=hdlist1>Sudafrica, server di backup per vecchie delta</dt><dd><div class=ulist><ul><li><p><a href=ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/>ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/</a></p></li></ul></div></dd><dt class=hdlist1>Taiwan/R.O.C.</dt><dd><div class=ulist><ul><li><p><a href=ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/>ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></p></li><li><p><a href=ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/>ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></p></li><li><p><a href=ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/>ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</a></p></li></ul></div></dd></dl></div><div class=paragraph><p>Se non trovi un mirror a te vicino o se il mirror è incompleto, prova ad usare qualche motore di ricerca come <a href=http://www.alltheweb.com/>alltheweb</a>.</p></div></div></div><div class=sect2><h3 id=cvsup>A.5. Uso di CVSup<a class=anchor href=#cvsup></a></h3><div class=sect3><h4 id=cvsup-intro>A.5.1. Introduzione<a class=anchor href=#cvsup-intro></a></h4><div class=paragraph><p>CVSup è un pacchetto di software per distribuire ed aggiornare alberi di sorgenti da un deposito centrale CVS posto su un server remoto. I sorgenti di FreeBSD sono mantenuti in un deposito CVS su una macchina centrale di sviluppo situata in California. Con CVSup, gli utenti di FreeBSD possono facilmente mantenere aggiornati i loro alberi di sorgenti.</p></div><div class=paragraph><p>CVSup usa il cosiddetto modello ad <em>estrazione</em> per aggiornare. In questo modello, è compito del client chiedere al server gli aggiornamenti. Il server attente passivamente le richieste di aggiornamento dai suoi client. In questo modo tutti gli aggiornamenti sono incitati dal client. Il server non invia mai degli aggiornamenti che non sono stati richiesti. Gli utenti devono eseguire il client CVSup manualmente per ottenere un aggiornamento, oppure possono usare <code>cron</code> per eseguire automaticamente queste operazioni secondo stabilite regole.</p></div><div class=paragraph><p>Il termine CVSup, scritto in quel modo, si riferisce all’intero pacchetto di software. I suoi componenti principali sono il client <code>cvsup</code> che viene eseguito su ogni macchina degli utenti, e il server <code>cvsupd</code> che viene eseguito su ogni sito mirror di FreeBSD.</p></div><div class=paragraph><p>Leggendo la documentazione di FreeBSD e le mailling list, potresti notare dei riferimenti a sup. Sup è il predecessore di CVSup, e serviva per un simile scopo. CVSup sostanzialmente è usato allo stesso modo di sup e, di fatto, i suoi file di configurazione sono compatibili con <code>sup</code>. Sup non viene più utilizzato nel progetto FreeBSD, poichè CVSup è più veloce e più flessibile.</p></div></div><div class=sect3><h4 id=cvsup-install>A.5.2. Installazione<a class=anchor href=#cvsup-install></a></h4><div class=paragraph><p>Il modo più semplice per installare CVSup è usare il package precompilato <a class=package href=https://cgit.freebsd.org/ports/tree/net/cvsup/>net/cvsup</a> della <a href=./#ports>collezione dei package</a> di FreeBSD. Se preferisci costruire CVSup partendo dal sorgente, allora puoi usare il port <a class=package href=https://cgit.freebsd.org/ports/tree/net/cvsup/>net/cvsup</a>. Ma sei avvisato: il port <a class=package href=https://cgit.freebsd.org/ports/tree/net/cvsup/>net/cvsup</a> dipende dal sistema Modula-3, che richiede una consistente quantità di tempo e di spazio su disco per scaricarlo e costruirlo.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se hai intenzione di usare CVSup su una macchina sulla quale non sarà installato XFree86™ o Xorg, come su un server, assicurati di usare il port che non include la GUI di CVSup, ossia <a class=package href=https://cgit.freebsd.org/ports/tree/net/cvsup-without-gui/>net/cvsup-without-gui</a>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=cvsup-config>A.5.3. Configurazione di CVSup<a class=anchor href=#cvsup-config></a></h4><div class=paragraph><p>Il funzionamento di CVSup è controllato da un file di configurazione chiamato <span class=filename>supfile</span>. Esistono alcuni esempi di <span class=filename>supfile</span> nella directory <a href=file://localhost/usr/shared/examples/cvsup/>/usr/shared/examples/cvsup/</a>.</p></div><div class=paragraph><p>Le informazioni contenute in un <span class=filename>supfile</span> rispondono alle seguenti questioni relative a CVSup:</p></div><div class=ulist><ul><li><p><a href=#cvsup-config-files>Quali file vuoi ricevere?</a></p></li><li><p><a href=#cvsup-config-vers>Quali versioni dei file vuoi?</a></p></li><li><p><a href=#cvsup-config-where>Da dove li vuoi prelevare?</a></p></li><li><p><a href=#cvsup-config-dest>Dove li vuoi mettere sulla tua macchina?</a></p></li><li><p><a href=#cvsup-config-status>Dove vuoi memorizzare gli stati dei file?</a></p></li></ul></div><div class=paragraph><p>Nelle seguenti sezioni, costruiremo un tipico <span class=filename>supfile</span> per rispondere a turno ad ognuna di queste questioni. Incominciamo però col descrivere la struttura globale di un <span class=filename>supfile</span>.</p></div><div class=paragraph><p>Un <span class=filename>supfile</span> è un file di testo. I commenti iniziano con un <code>#</code> e si estendono fino alle fine della riga. Le righe bianche e le righe che contengono solo commenti sono ignorate.</p></div><div class=paragraph><p>Ogni altra riga descrive un insieme di file che l’utente vuole ricevere. Una riga inizia con il nome di una "collezione", un nome di un gruppo logico di file definiti dal server. Il nome della collezione indica al server i file che vuoi ricevere. Dopo il nome della collezione seguono zero o più campi, separati da spazi bianchi. Questi campi rispondono alle questioni citate in precedenza. Ci sono due tipi di campi: campo opzione e campo valore. Un campo opzione consiste di una parola chiave a se stante, es. <code>delete</code> o <code>compress</code>. Anche un campo valore inizia con una parola chiave, ma questa è seguita dal simbolo <code>=</code>, senza spazi bianchi intermedi, e da un seconda parola. Ad esempio, <code>release=cvs</code> è un campo valore.</p></div><div class=paragraph><p>Un <span class=filename>supfile</span> tipicamente specifica più di un’unica collezione da ricevere. Un modo di strutturare un <span class=filename>supfile</span> è specificare esplicitamente tutti i campi rilevanti per ogni collezione. Tuttavia, ciò tende a creare <span class=filename>supfile</span> troppo lunghi, e ciò è scomodo poichè in un <span class=filename>supfile</span> la maggior parte dei campi sono gli stessi per tutte le collezioni. CVSup fornisce un meccanismo per aggirare questi problemi. Le linee che iniziano con il nome speciale di pseudo-collezione <code>*default</code> possono essere usate per inizializzare opzioni e valori che saranno utilizzati come default per le successive collezioni definite nel <span class=filename>supfile</span>. Un valore di default può essere sovrascritto da una singola collezione, specificando un valore diverso per la collezione stessa. Inoltre i valori di default possono essere modificati in mezzo al supfile tramite linee <code>*default</code> aggiuntive.</p></div><div class=paragraph><p>Con queste conoscenze, possiamo ora procedere alla costruzione di un <span class=filename>supfile</span> per ricevere ed aggiornare l’albero dei sorgenti della <a href=./#current>FreeBSD-CURRENT</a>.</p></div><div class=ulist><ul><li><p><a id=cvsup-config-files></a>Quali file vuoi ricevere?</p><div class=paragraph><p>I file disponibili via CVSup sono organizzati in gruppi chiamati "collezioni". Le collezioni che sono disponibili sono descritte nella <a href=#cvsup-collec>prossima sezione</a>. In questo esempio, desideriamo ricevere per intero l’albero corrente dei sorgenti del sistema FreeBSD. C’è un’unica e vasta collezione <code>src-all</code> che ci permette di ricevere tutto ciò. Come prima fase nella costruzione del nostro <span class=filename>supfile</span>, dobbiamo semplicemente elencare le collezioni, una per riga (in questo caso, c’è un’unica riga):</p></div><div class="literalblock programlisting"><div class=content><pre>src-all</pre></div></div></li><li><p><a id=cvsup-config-vers></a>Quali versioni dei file vuoi?</p><div class=paragraph><p>Con CVSup, hai la possibilità di ricevere qualsiasi versione dei sorgenti che sia mai esistita. Questo è possibile poichè il server cvsupd lavora direttamente sul deposito CVS, che contiene tutte le versioni. Puoi specificare la versione che vuoi usando i campi valori <code>tag=</code> e <code>date=</code>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Stai molto attento a specificare i campi <code>tag=</code> in modo corretto. Alcuni tag sono validi solo per certe collezioni di file. Se specifichi un tag non corretto, CVSup cancellerà file che tu non vorresti eliminare. In particolare, usa <em>solamente</em> <code>tag=.</code> per le collezioni <code>ports-*</code>.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Il campo <code>tag=</code> richiama un tag simbolico nel deposito. Ci sono due tipi di tag, i tag di revisione e i tag di ramo. Un tag di revisione fa riferimento ad una revisione specifica. Il suo significato rimane lo stesso di giorno in giorno. Un tag di ramo, d’altro canto, si riferisce sempre all’ultima revisione relativa ad una specifica linea di sviluppo. Dato che un tag di ramo non si riferisce ad una revisione specifica, esso potrebbe avere un significato diverso da un giorno con l’altro.</p></div><div class=paragraph><p>La <a href=#cvs-tags>Tag CVS</a> contiene tag di ramo che potrebbero interessare gli utenti. Quando si specifica un tag in un file di configurazione di CVSup, esso dovrebbe essere preceduto da <code>tag=</code> (<code>RELENG_4</code> diviene <code>tag=RELENG_4</code>). Tieni presente che per la collezione dei port è rilevante solo <code>tag=.</code>.</p></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Sii molto attento a digitare il nome del tag nel modo esatto. CVSup non è in grado di riconoscere tag errati. Se digiti in modo sbagliato un tag, CVSup si comporterà come se tu avessi specificato un tag valido che non riguarda nessun file. In questo caso i tuoi sorgenti saranno eliminati.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Quando specifichi un tag di ramo, normalmente ricevi le ultime versioni dei file di quella linea di sviluppo. Se vuoi ricevere versioni precedenti, puoi specificare una data con il campo valore <code>date=</code>. La pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=cvsup&amp;sektion=1&amp;format=html">cvsup(1)</a> spiega come farlo.</p></div><div class=paragraph><p>Nel nostro esempio, desideriamo ricevere FreeBSD-CURRENT. Aggiungiamo questa riga all’inizio del nostro <span class=filename>supfile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>*default tag=.</pre></div></div><div class=paragraph><p>C’è un importante caso speciale che entra in gioco se non specifichi ne un campo <code>tag=</code> ne un campo <code>date=</code>. In questo caso, ricevi i file RCS attuali direttamente dal deposito CVS del server, invece di ricevere una versione particolare. Gli sviluppatori in genere preferiscono questa modalità di funzionamento. Mantenendo una copia del deposito stesso sui loro sistemi, essi sono in grado di navigare attraverso la storia delle revisioni e di esaminare le versioni precedenti dei file. Comunque questo vantaggio è realizzabile al costo di un ingente quantità di spazio su disco.</p></div></li><li><p><a id=cvsup-config-where></a>Da dove li vuoi prelevare?</p><div class=paragraph><p>Il campo <code>host=</code> indica a <code>cvsup</code> da dove prelevare i suoi aggiornamenti. Va bene uno qualunque dei <a href=#cvsup-mirrors>siti mirror di CVSup</a>, anche se dovresti provare a selezionarne uno che sia a te vicino nel ciberspazio. In questo esempio useremo un sito di distribuzione di FreeBSD fittizio, <code>cvsup99.FreeBSD.org</code>:</p></div><div class="literalblock programlisting"><div class=content><pre>*default host=cvsup99.FreeBSD.org</pre></div></div><div class=paragraph><p>Devi cambiare l’host in uno che esiste realmente prima di eseguire CVSup. Il settaggio dell’host può essere sovrascritto su riga di comando eseguendo <code>cvsup</code> con l’opzione <code>-h <em>hostname</em></code>.</p></div></li><li><p><a id=cvsup-config-dest></a>Dove li vuoi mettere sulla tua macchina?</p><div class=paragraph><p>Il campo <code>prefix=</code> indica a <code>cvsup</code> dove mettere i file che riceve. In questo esempio, metteremo i file sorgenti direttamente nel nostro albero dei sorgenti, <span class=filename>/usr/src</span>. La directory <span class=filename>src</span> è già implicita nelle collezioni che vogliamo ricevere, quindi la corretta specifica è questa:</p></div><div class="literalblock programlisting"><div class=content><pre>*default prefix=/usr</pre></div></div></li><li><p><a id=cvsup-config-status></a>Dove <code>cvsup</code> dovrebbe mantenere i suoi file di stato?</p><div class=paragraph><p>Il client di CVSup mantiene certi file di stato in ciò che è chiamata directory "base". Questi file aiutano CVSup a lavorare in modo più efficace, mantenendo traccia di quali aggiornamenti sono stati già ricevuti. Useremo la directory base standard, <span class=filename>/var/db</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>*default base=/var/db</pre></div></div><div class=paragraph><p>Se la tua directory base non esiste, potrebbe essere una buona idea crearla subito. Il client <code>cvsup</code> interrompe l’esecuzione se la tua directory base non esiste.</p></div></li><li><p>Settaggi vari di <span class=filename>supfile</span>:</p><div class=paragraph><p>C’è un altro settaggio che normalmente deve essere presente in un <span class=filename>supfile</span>:</p></div><div class="literalblock programlisting"><div class=content><pre>*default release=cvs delete use-rel-suffix compress</pre></div></div><div class=paragraph><p><code>release=cvs</code> indica che il server dovrebbe prendere le sue informazioni dal deposito CVS principale di FreeBSD. In genere questa è la normalità, ma esistono altre possibilità che vanno oltre lo scopo di questa sezione.</p></div><div class=paragraph><p><code>delete</code> dà a CVSup il permesso di cancellare file. Dovresti sempre specificare questa opzione, in modo che CVSup possa mantenere il tuo albero dei sorgenti del tutto aggiornato. CVSup è attento nel cancellare solamente quei file dei quali è responsabile. Altri file extra verranno lasciati intatti.</p></div><div class=paragraph><p><code>use-rel-suffix</code> è …​ arcano. Se vuoi realmente saperne di più, guarda la pagina man di <a href="https://man.freebsd.org/cgi/man.cgi?query=cvsup&amp;sektion=1&amp;format=html">cvsup(1)</a>. Altrimenti, specificala senza preoccupartene troppo.</p></div><div class=paragraph><p><code>compress</code> abilita l’uso di una compressione stile gzip sul canale di comunicazione. Se hai una connessione T1 o più veloce, non dovresti usare la compressione. Diversamente, può essere veramente d’aiuto.</p></div></li><li><p>Ricapitolazione di tutti settaggi:</p><div class=paragraph><p>Il <span class=filename>supfile</span> completo per il nostro esempio è il seguente:</p></div><div class="literalblock programlisting"><div class=content><pre>*default tag=.
*default host=cvsup99.FreeBSD.org
*default prefix=/usr
*default base=/var/db
*default release=cvs delete use-rel-suffix compress

src-all</pre></div></div></li></ul></div><div class=sect4><h5 id=cvsup-refuse-file>A.5.3.1. Il File <span class=filename>refuse</span><a class=anchor href=#cvsup-refuse-file></a></h5><div class=paragraph><p>Come menzionato in precedenza, CVSup usa un <em>modello ad estrazione</em>. Sostanzialmente, questo significa che ti connetti al server CVSup, lui dice, "Ecco ciò che puoi scaricare …​", ed il tuo client risponde "OK, prenderò questo, questo, questo e questo." Nella configurazione di default, il client CVSup prenderà ogni file associato alla collezione e al tag che hai specificato nel file di configurazione. Tuttavia, questo non è sempre ciò che vuoi, specialmente se stai sincronizzando gli alberi <span class=filename>doc</span>, <span class=filename>ports</span>, o <span class=filename>www</span> - molte persone non sono in grado di leggere quattro o cinque lingue, e quindi esse non hanno bisogno di scaricare i file di certe lingue. Se stai sincronizzando con CVSup la collezione dei port, puoi specificare collezioni individuali (es., <em>ports-astrology</em>, <em>ports-biology</em>, ecc. invece di specificare semplicemente <em>ports-all</em>). Tuttavia, poichè gli alberi <span class=filename>doc</span> e <span class=filename>www</span> non hanno collezioni per specifiche lingue, devi usare una delle molte abili caratteristiche di CVSup: il file <span class=filename>refuse</span>.</p></div><div class=paragraph><p>Il file <span class=filename>refuse</span> sostanzialmente indica a CVSup che non dovrebbe prendere ogni singolo file da una collezione; in altre parole, esso dice al client di <em>rifiutare</em> certi file dal server. Il file <span class=filename>refuse</span> può essere trovato (o, se non ne hai ancora uno, dovrebbe essere messo) in <span class=filename>base/sup/</span>. <em>base</em> è definita nel tuo <span class=filename>supfile</span>; la nostra <em>base</em> è <span class=filename>/var/db</span>, e quindi di default il file <span class=filename>refuse</span> è <span class=filename>/var/db/sup/refuse</span>.</p></div><div class=paragraph><p>Il file <span class=filename>refuse</span> ha veramente un formato molto semplice; esso contiene semplicemente i nomi dei file o delle directory che non desideri scaricare. Per esempio, se non parli altre lingue oltre all’inglese e al tedesco, e non hai la necessità di leggere la traduzione in tedesco della documentazione, puoi mettere le seguenti righe nel tuo file <span class=filename>refuse</span>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell>doc/bn_<span class=k>*</span>
doc/da_<span class=k>*</span>
doc/de_<span class=k>*</span>
doc/el_<span class=k>*</span>
doc/es_<span class=k>*</span>
doc/fr_<span class=k>*</span>
doc/it_<span class=k>*</span>
doc/ja_<span class=k>*</span>
doc/nl_<span class=k>*</span>
doc/no_<span class=k>*</span>
doc/pl_<span class=k>*</span>
doc/pt_<span class=k>*</span>
doc/ru_<span class=k>*</span>
doc/sr_<span class=k>*</span>
doc/tr_<span class=k>*</span>
doc/zh_<span class=k>*</span></code></pre></div></div><div class=paragraph><p>e così via per altre lingue (puoi ottenere la lista completa esplorando il <a href=http://www.FreeBSD.org/cgi/cvsweb.cgi/>deposito CVS di FreeBSD</a>).</p></div><div class=paragraph><p>Con questa utile funzionalità, quegli utenti che hanno una connessione lenta o pagano ogni minuto di connessione Internet potranno risparmiare tempo prezioso poichè non dovranno più scaricare file che non usano mai. Per maggiori dettagli sul file <span class=filename>refuse</span> e su altre utili caratteristiche di CVSup, guarda la sua pagina man.</p></div></div></div><div class=sect3><h4 id=_eseguire_cvsup>A.5.4. Eseguire CVSup<a class=anchor href=#_eseguire_cvsup></a></h4><div class=paragraph><p>Sei ora pronto per provare un aggiornamento. La riga di comando per farlo è molto semplice:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cvsup supfile</span></code></pre></div></div><div class=paragraph><p>dove <span class=filename>supfile</span> è naturalmente il nome del <span class=filename>supfile</span> che hai creato. Assumendo che stai lavorando sotto X11, <code>cvsup</code> visualizzarà una GUI con alcuni bottoni adibiti ad operazioni usuali. Premi il bottone <b class=button>go</b>, e stai a guardare l’esecuzione.</p></div><div class=paragraph><p>Poichè in questo esempio stai aggiornando il tuo albero dei sorgenti <span class=filename>/usr/src</span>, avrai bisogno di eseguire il programma come <code>root</code> affinchè <code>cvsup</code> abbia i permessi necessari per aggiornare i tuoi file. Avendo appena creato il tuo file di configurazione, e non avendo mai usato questo programma prima ad ora, tutto ciò potrebbe renderti un pò nervoso. Esiste un semplice modo per provare la sincronizzazione senza toccare i tuoi preziosi file. Crea una directory vuota in qualche posto, e richiamala come argomento sulla riga di comando:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># mkdir /var/tmp/dest</span>
<span class=c># cvsup supfile /var/tmp/dest</span></code></pre></div></div><div class=paragraph><p>La directory che hai specificato sarà usata come directory di destinazione per tutti gli aggiornamenti dei file. CVSup esaminerà i tuoi file usuali in <span class=filename>/usr/src</span>, ma non modificherà o cencellerà alcuno di essi. Gli aggiornamenti dei file finiranno invece in <span class=filename>/var/tmp/dest/usr/src</span>. Inoltre CVSup lascerà intatta la sua directory base contenente gli stati dei file quando viene eseguito in questo modo. Le nuove versioni di questi file saranno scritte nella directory specificata. A condizione che tu abbia l’accesso di lettura in <span class=filename>/usr/src</span>, non hai bisogno di essere <code>root</code> per realizzare questo tipo di giro di prova.</p></div><div class=paragraph><p>Se non stai utilizzando X11 o se non ti piacciono le GUI, dovresti aggiungere un paio di opzioni alla riga di comando quando esegui <code>cvsup</code>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cvsup -g -L 2 supfile</span></code></pre></div></div><div class=paragraph><p>L’opzione <code>-g</code> indica a CVSup di non usare la sua GUI. Ciò è automatico se non stai utilizzando X11, ma se lo stai facendo allora la devi specificare.</p></div><div class=paragraph><p>L’opzione <code>-L 2</code> indica a CVSup di visualizzare i dettagli di tutti gli aggiornamenti dei file che avvengono. Esistono tre livelli di verbosità, da <code>-L 0</code> a <code>-L 2</code>. Il default è 0, che significa silenzio totale eccetto per i messaggi di errore.</p></div><div class=paragraph><p>Ci sono molte altre opzione disponibili. Per una breve lista di esse, digita <code>cvsup -H</code>. Per una descrizione più dettagliata, guarda la relativa pagina man.</p></div><div class=paragraph><p>Una volta che sei soddisfatto di come avvengono gli aggiornamenti, puoi organizzare esecuzioni regolari di CVSup usando <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>. Ovviamente, non dovresti lasciare che CVSup usi la sua GUI quando lo esegui tramite <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>.</p></div></div><div class=sect3><h4 id=cvsup-collec>A.5.5. Collezioni di File di CVSup<a class=anchor href=#cvsup-collec></a></h4><div class=paragraph><p>Le collezioni di file disponibili via CVSup sono organizzate gerarchicamente. Ci sono poche collezioni grandi, le quali sono divise in piccole sotto-collezioni. Ricevere una grande collezione è equivalente a ricevere ogni sua sotto-collezione. Le relazioni gerarchiche tra le collezioni riflettono l’uso dell’identazione nella lista qui sotto.</p></div><div class=paragraph><p>Le collezioni maggiormente usate sono <code>src-all</code>, e <code>ports-all</code>. Le altre collezioni sono usate solo da piccoli gruppi di persone per scopi speciali, e alcuni siti mirror potrebbero non contenerle tutte.</p></div><div class=dlist><dl><dt class=hdlist1><code>cvs-all release=cvs</code></dt><dd><p>Il deposito CVS maestro di FreeBSD, incluso il codice di crittografia.</p><div class=dlist><dl><dt class=hdlist1><code>distrib release=cvs</code></dt><dd><p>File relativi alla distribuzione e al mirroring di FreeBSD.</p></dd><dt class=hdlist1><code>doc-all release=cvs</code></dt><dd><p>Sorgenti del Manuale di FreeBSD e altra documentazione. Questa collezione non include i file per il sito web di FreeBSD.</p></dd><dt class=hdlist1><code>ports-all release=cvs</code></dt><dd><p>La FreeBSD Ports Collection.</p><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Se non vuoi aggiornare per intero <code>ports-all</code> (l’interno albero dei port), ma usare una delle sotto-collezioni listate qui sotto, assicurati di aggiornare <em>sempre</em> la sotto-collezione <code>ports-base</code>! Ogni volta che qualcosa cambia nell’infrastruttura della costruzione dei port rappresentata da <code>ports-base</code>, è praticamente certo che quei cambiamenti saranno usati dai port "reali" in un brevissimo arco di tempo. Quindi, se aggiorni solo i port "reali" e questi usano alcune delle nuove caratteristiche, c’è un’alta probabilità che la loro costruzione fallirà con alcuni misteriosi messaggi di errore. La <em>primissima</em> cosa da fare in questi casi è assicurarsi che la propria sotto-collezione <code>ports-base</code> sia aggiornata.</p></div></td></tr></tbody></table></div><div class="admonitionblock important"><table><tbody><tr><td class=icon><i class="fa icon-important" title=Important></i></td><td class=content><div class=paragraph><p>Se hai intenzione di creare localmente una copia di <span class=filename>ports/INDEX</span>, <em>devi</em> includere <code>ports-all</code> (l’intero albero dei port). Costruire <span class=filename>ports/INDEX</span> con un albero non completo non è supportato. Consulta la <a href=https://docs.freebsd.org/en/books/faq/#make-index>FAQ</a>.</p></div></td></tr></tbody></table></div><div class=dlist><dl><dt class=hdlist1><code>ports-accessibility release=cvs</code></dt><dd><p>Software per aiutare gli utenti disabili.</p></dd><dt class=hdlist1><code>ports-arabic release=cvs</code></dt><dd><p>Supporto per la lingua araba.</p></dd><dt class=hdlist1><code>ports-archivers release=cvs</code></dt><dd><p>Applicazioni per l’archiviazione.</p></dd><dt class=hdlist1><code>ports-astro release=cvs</code></dt><dd><p>Applicazioni riguardanti l’astronomia.</p></dd><dt class=hdlist1><code>ports-audio release=cvs</code></dt><dd><p>Applicazioni di supporto all’audio.</p></dd><dt class=hdlist1><code>ports-base release=cvs</code></dt><dd><p>L’infrastruttura della costruzione della collezione dei port - vari file posti nelle sottodirectory <span class=filename>Mk/</span> e <span class=filename>Tools/</span> della directory <span class=filename>/usr/ports</span>.</p><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Per favore vedi l'<a href=#cvsup-collec-pbase-warn>importante avvertimento qui sopra</a>: dovresti <em>sempre</em> aggiornare questa sotto-collezione ogni volta che aggiorni qualche pezzo della FreeBSD Ports Collection!</p></div></td></tr></tbody></table></div></dd><dt class=hdlist1><code>ports-benchmarks release=cvs</code></dt><dd><p>Benchmark (applicazioni per valutare le prestazioni del computer).</p></dd><dt class=hdlist1><code>ports-biology release=cvs</code></dt><dd><p>Biologia.</p></dd><dt class=hdlist1><code>ports-cad release=cvs</code></dt><dd><p>Applicazioni per la grafica computerizzata.</p></dd><dt class=hdlist1><code>ports-chinese release=cvs</code></dt><dd><p>Supporto alla lingua cinese.</p></dd><dt class=hdlist1><code>ports-comms release=cvs</code></dt><dd><p>Software per la comunicazione.</p></dd><dt class=hdlist1><code>ports-converters release=cvs</code></dt><dd><p>Convertitori di codici di caratteri.</p></dd><dt class=hdlist1><code>ports-databases release=cvs</code></dt><dd><p>Database.</p></dd><dt class=hdlist1><code>ports-deskutils release=cvs</code></dt><dd><p>Cose che erano utilizzate sulla scrivania prima che i computer furono inventati.</p></dd><dt class=hdlist1><code>ports-devel release=cvs</code></dt><dd><p>Utility per il development.</p></dd><dt class=hdlist1><code>ports-dns release=cvs</code></dt><dd><p>Software relativo al DNS.</p></dd><dt class=hdlist1><code>ports-editors release=cvs</code></dt><dd><p>Editor.</p></dd><dt class=hdlist1><code>ports-emulators release=cvs</code></dt><dd><p>Emulatori per altri sistemi operativi.</p></dd><dt class=hdlist1><code>ports-finance release=cvs</code></dt><dd><p>Applicazioni finanziarie, di gestione delle spese e simili.</p></dd><dt class=hdlist1><code>ports-ftp release=cvs</code></dt><dd><p>Server e client FTP.</p></dd><dt class=hdlist1><code>ports-games release=cvs</code></dt><dd><p>Giochi.</p></dd><dt class=hdlist1><code>ports-german release=cvs</code></dt><dd><p>Supporto alla lingua tedesca.</p></dd><dt class=hdlist1><code>ports-graphics release=cvs</code></dt><dd><p>Utilità per la grafica.</p></dd><dt class=hdlist1><code>ports-hebrew release=cvs</code></dt><dd><p>Supporto per la lingua ebraica.</p></dd><dt class=hdlist1><code>ports-hungarian release=cvs</code></dt><dd><p>Supporto alla lingua ungherese.</p></dd><dt class=hdlist1><code>ports-irc release=cvs</code></dt><dd><p>Utilità IRC (Internet Relay Chat).</p></dd><dt class=hdlist1><code>ports-japanese release=cvs</code></dt><dd><p>Supporto alla lingua giapponese.</p></dd><dt class=hdlist1><code>ports-java release=cvs</code></dt><dd><p>Utility Java™.</p></dd><dt class=hdlist1><code>ports-korean release=cvs</code></dt><dd><p>Supporto alla lingua coreana.</p></dd><dt class=hdlist1><code>ports-lang release=cvs</code></dt><dd><p>Linguaggi di programmazione.</p></dd><dt class=hdlist1><code>ports-mail release=cvs</code></dt><dd><p>Software di posta.</p></dd><dt class=hdlist1><code>ports-math release=cvs</code></dt><dd><p>Software per la computazione numerica.</p></dd><dt class=hdlist1><code>ports-mbone release=cvs</code></dt><dd><p>Applicazioni MBone.</p></dd><dt class=hdlist1><code>ports-misc release=cvs</code></dt><dd><p>Utility varie.</p></dd><dt class=hdlist1><code>ports-multimedia release=cvs</code></dt><dd><p>Software multimediale.</p></dd><dt class=hdlist1><code>ports-net release=cvs</code></dt><dd><p>Software di rete.</p></dd><dt class=hdlist1><code>ports-net-im release=cvs</code></dt><dd><p>Software per messaggeria istantanea.</p></dd><dt class=hdlist1><code>ports-net-mgmt release=cvs</code></dt><dd><p>Software di gestione del network.</p></dd><dt class=hdlist1><code>ports-net-p2p release=cvs</code></dt><dd><p>Rete peer to peer.</p></dd><dt class=hdlist1><code>ports-news release=cvs</code></dt><dd><p>Software per USENET.</p></dd><dt class=hdlist1><code>ports-palm release=cvs</code></dt><dd><p>Software di supporto per i vari Palm™.</p></dd><dt class=hdlist1><code>ports-polish release=cvs</code></dt><dd><p>Supporto alla lingua polacca.</p></dd><dt class=hdlist1><code>ports-portuguese release=cvs</code></dt><dd><p>Supporto alla lingua portoghese.</p></dd><dt class=hdlist1><code>ports-print release=cvs</code></dt><dd><p>Software per la stampa.</p></dd><dt class=hdlist1><code>ports-russian release=cvs</code></dt><dd><p>Supporto alla lingua russa.</p></dd><dt class=hdlist1><code>ports-science release=cvs</code></dt><dd><p>Scienzia.</p></dd><dt class=hdlist1><code>ports-security release=cvs</code></dt><dd><p>Utility per la sicurezza.</p></dd><dt class=hdlist1><code>ports-shells release=cvs</code></dt><dd><p>Shell a riga di comando.</p></dd><dt class=hdlist1><code>ports-sysutils release=cvs</code></dt><dd><p>Utility di sistema.</p></dd><dt class=hdlist1><code>ports-textproc release=cvs</code></dt><dd><p>Utility per la manipolazione del testo (non include utility per la pubblicazione computerizzata).</p></dd><dt class=hdlist1><code>ports-ukrainian release=cvs</code></dt><dd><p>Supporto per la lingua ucraina.</p></dd><dt class=hdlist1><code>ports-vietnamese release=cvs</code></dt><dd><p>Supporto alla lingua vietnamite.</p></dd><dt class=hdlist1><code>ports-www release=cvs</code></dt><dd><p>Software relativo al World Wide Web.</p></dd><dt class=hdlist1><code>ports-x11 release=cvs</code></dt><dd><p>Port per il supporto al sistema a finestre X.</p></dd><dt class=hdlist1><code>ports-x11-clocks release=cvs</code></dt><dd><p>Orologi per X11.</p></dd><dt class=hdlist1><code>ports-x11-fm release=cvs</code></dt><dd><p>Gestori di file per X11.</p></dd><dt class=hdlist1><code>ports-x11-fonts release=cvs</code></dt><dd><p>Font per X11 e relative utility.</p></dd><dt class=hdlist1><code>ports-x11-toolkits release=cvs</code></dt><dd><p>Cassette degli attrezzi per X11.</p></dd><dt class=hdlist1><code>ports-x11-servers release=cvs</code></dt><dd><p>Server X11.</p></dd><dt class=hdlist1><code>ports-x11-themes release=cvs</code></dt><dd><p>Temi per X11.</p></dd><dt class=hdlist1><code>ports-x11-wm release=cvs</code></dt><dd><p>Gestori di finestre per X11.</p></dd></dl></div></dd><dt class=hdlist1><code>projects-all release=cvs</code></dt><dd><p>Sorgenti per i progetti di FreeBSD.</p></dd><dt class=hdlist1><code>src-all release=cvs</code></dt><dd><p>I sorgenti correnti di FreeBSD, incluso il codice di crittografia.</p><div class=dlist><dl><dt class=hdlist1><code>src-base release=cvs</code></dt><dd><p>Vari file posti in <span class=filename>/usr/src</span>.</p></dd><dt class=hdlist1><code>src-bin release=cvs</code></dt><dd><p>Utility per l’utente in ambiente mono-utente (<span class=filename>/usr/src/bin</span>).</p></dd><dt class=hdlist1><code>src-contrib release=cvs</code></dt><dd><p>Utility e librerie al di fuori del progetto FreeBSD, sostanzialmente utilizzati senza modifiche (<span class=filename>/usr/src/contrib</span>).</p></dd><dt class=hdlist1><code>src-crypto release=cvs</code></dt><dd><p>Utility e librerie per la crittografia al di fuori del progetto FreeBSD, sostanzialmente utilizzati senza modifiche (<span class=filename>/usr/src/crypto</span>).</p></dd><dt class=hdlist1><code>src-eBones release=cvs</code></dt><dd><p>Kerberos e DES (<span class=filename>/usr/src/eBones</span>). Non usati nell’attuale release di FreeBSD.</p></dd><dt class=hdlist1><code>src-etc release=cvs</code></dt><dd><p>File di configurazione del sistema (<span class=filename>/usr/src/etc</span>).</p></dd><dt class=hdlist1><code>src-games release=cvs</code></dt><dd><p>Giochi (<span class=filename>/usr/src/games</span>).</p></dd><dt class=hdlist1><code>src-gnu release=cvs</code></dt><dd><p>Utility protette dalla licenza pubblica di GNU (<span class=filename>/usr/src/gnu</span>).</p></dd><dt class=hdlist1><code>src-include release=cvs</code></dt><dd><p>File header (<span class=filename>/usr/src/include</span>).</p></dd><dt class=hdlist1><code>src-kerberos5 release=cvs</code></dt><dd><p>Pacchetto di sicurezza Kerberos5 (<span class=filename>/usr/src/kerberos5</span>).</p></dd><dt class=hdlist1><code>src-kerberosIV release=cvs</code></dt><dd><p>Pacchetto di sicurezza KerberosIV (<span class=filename>/usr/src/kerberosIV</span>).</p></dd><dt class=hdlist1><code>src-lib release=cvs</code></dt><dd><p>Librerie (<span class=filename>/usr/src/lib</span>).</p></dd><dt class=hdlist1><code>src-libexec release=cvs</code></dt><dd><p>Programmi di sistema normalmente eseguiti da altri programmi (<span class=filename>/usr/src/libexec</span>).</p></dd><dt class=hdlist1><code>src-release release=cvs</code></dt><dd><p>File richiesti per produrre una release di FreeBSD (<span class=filename>/usr/src/release</span>).</p></dd><dt class=hdlist1><code>src-sbin release=cvs</code></dt><dd><p>Utility di sistema per la modalità mono-utente (<span class=filename>/usr/src/sbin</span>).</p></dd><dt class=hdlist1><code>src-secure release=cvs</code></dt><dd><p>Librerie e comandi per la crittografia (<span class=filename>/usr/src/secure</span>).</p></dd><dt class=hdlist1><code>src-share release=cvs</code></dt><dd><p>File che possono essere condivisi tra sistemi multipli (<span class=filename>/usr/src/share</span>).</p></dd><dt class=hdlist1><code>src-sys release=cvs</code></dt><dd><p>Il kernel (<span class=filename>/usr/src/sys</span>).</p></dd><dt class=hdlist1><code>src-sys-crypto release=cvs</code></dt><dd><p>Codice di crittografia del kernel (<span class=filename>/usr/src/sys/crypto</span>).</p></dd><dt class=hdlist1><code>src-tools release=cvs</code></dt><dd><p>Vari strumenti per il mantenimento di FreeBSD (<span class=filename>/usr/src/tools</span>).</p></dd><dt class=hdlist1><code>src-usrbin release=cvs</code></dt><dd><p>Utility per l’utente (<span class=filename>/usr/src/usr.bin</span>).</p></dd><dt class=hdlist1><code>src-usrsbin release=cvs</code></dt><dd><p>Utility di sistema (<span class=filename>/usr/src/usr.sbin</span>).</p></dd></dl></div></dd><dt class=hdlist1><code>www release=cvs</code></dt><dd><p>I sorgenti per il sito web di FreeBSD.</p></dd></dl></div></dd><dt class=hdlist1><code>distrib release=self</code></dt><dd><p>I file di configurazione del server CVSup. Usati dai siti mirror CVSup.</p></dd><dt class=hdlist1><code>gnats release=current</code></dt><dd><p>Il database GNATS per tener traccia dei bug.</p></dd><dt class=hdlist1><code>mail-archive release=current</code></dt><dd><p>Archivio delle mailing list di FreeBSD.</p></dd><dt class=hdlist1><code>www release=current</code></dt><dd><p>I file pre-processati del sito web di FreeBSD (non i file sorgenti). Usati dai siti mirror WWW.</p></dd></dl></div></div><div class=sect3><h4 id=_per_maggiori_informazioni>A.5.6. Per Maggiori Informazioni<a class=anchor href=#_per_maggiori_informazioni></a></h4><div class=paragraph><p>Per le FAQ ed altre informazioni di CVSup vedere <a href=http://www.polstra.com/projects/freeware/CVSup/>la pagina home di CVSup</a>.</p></div><div class=paragraph><p>La maggior parte delle discussioni su CVSup inerenti a FreeBSD si svolgono sulla <a href=https://lists.FreeBSD.org/subscription/freebsd-hackers>mailing list di discussioni tecniche su FreeBSD</a>. In questa mailling list inoltre sono anche annunciate nuove versioni del software, come pure sulla <a href=https://lists.FreeBSD.org/subscription/freebsd-announce>mailing list di annunci su FreeBSD</a>.</p></div><div class=paragraph><p>Questioni e resoconti di bug dovrebbero essere indirizzati all’autore del programma <a href=mailto:cvsup-bugs@polstra.com>cvsup-bugs@polstra.com</a>.</p></div></div><div class=sect3><h4 id=cvsup-mirrors>A.5.7. Siti CVSup<a class=anchor href=#cvsup-mirrors></a></h4><div class=paragraph><p>I server <a href=#cvsup>CVSup</a> per FreeBSD si trovano ai seguenti siti:</p></div></div></div><div class=sect2><h3 id=portsnap>A.6. Usare Portsnap<a class=anchor href=#portsnap></a></h3><div class=sect3><h4 id=portsnap-intro>A.6.1. Introduzione<a class=anchor href=#portsnap-intro></a></h4><div class=paragraph><p>Portsnap è un sistema per distribuire in modo sicuro l’albero dei port di FreeBSD. Circa ogni ora, viene generata una "snapshot" dell’albero dei port, che viene impacchettata e firmata criptograficamente. I file risultanti sono quindi distribuiti via HTTP.</p></div><div class=paragraph><p>Come CVSup, Portsnap usa un modello di aggiornamento a <em>rchiesta</em>: gli alberi dei port impacchettati e firmati sono messi sul server web che attende in modo passivo le richieste dei client. Gli utenti devono eseguire <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> manualmente o schedulare il job con <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a> per scaricare periodicamente gli aggiornamenti in modo automatico.</p></div><div class=paragraph><p>Per ragioni tecniche, Portsnap non aggiorna direttamente il "reale" albero dei port in <span class=filename>/usr/ports/</span>; invece, lavora con una copia compressa dell’albero dei port memorizzata di default in <span class=filename>/var/db/portsnap/</span>. Questa copia compressa viene quindi usata per aggiornare l’albero dei port effettivo.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se Portsnap è installato dalla collezione dei port di FreeBSD, la locazione di default per la sua snapshot compressa è <span class=filename>/usr/local/portsnap/</span> invece di <span class=filename>/var/db/portsnap/</span>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=portsnap-install>A.6.2. Instalazione<a class=anchor href=#portsnap-install></a></h4><div class=paragraph><p>Su FreeBSD 6.0 e versioni più recenti, Portsnap è contenuto nel sistema base. Su versioni di FreeBSD più datate, può essere installato usando il port <a class=package href=https://cgit.freebsd.org/ports/tree/sysutils/portsnap/>sysutils/portsnap</a>.</p></div></div><div class=sect3><h4 id=portsnap-config>A.6.3. Configurazione di Portsnap<a class=anchor href=#portsnap-config></a></h4><div class=paragraph><p>Il funzionamento di Portsnap è controllato dal file di configurazione <span class=filename>/etc/portsnap.conf</span>. Per la maggior parte degli utenti, la configurazione di default sarà sufficiente; per maggiori dettagli, consultare la pagina man <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap.conf&amp;sektion=5&amp;format=html">portsnap.conf(5)</a>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se Portsnap è installato dalla collezione dei port di FreeBSD, userà il file di configurazione posto in <span class=filename>/usr/local/etc/portsnap.conf</span> invece di <span class=filename>/etc/portsnap.conf</span>. Questo file di configurazione non viene creato quando viene installato il port, ma viene dato un file di configurazione di base; per copiarlo nella giusta posizione, esegui il comando seguente:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># cd /usr/local/etc &amp;&amp; cp portsnap.conf.sample portsnap.conf</span></code></pre></div></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_eseguire_portsnap_per_la_prima_volta>A.6.4. Eseguire Portsnap per la Prima Volta<a class=anchor href=#_eseguire_portsnap_per_la_prima_volta></a></h4><div class=paragraph><p>La prima volta che <a href="https://man.freebsd.org/cgi/man.cgi?query=portsnap&amp;sektion=8&amp;format=html">portsnap(8)</a> viene eseguito, ha bisogno di scaricare una snapshot compressa dell’intero albero dei port in <span class=filename>/var/db/portsnap/</span> (o <span class=filename>/usr/local/portsnap/</span> se Portsnap è stato installato dalla collezione dei port). Dall’inizio del 2006 la sua dimensione è di circa 41 MB.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch</span></code></pre></div></div><div class=paragraph><p>Una volta che la snapshot compressa è stata scaricata, una copia dell’albero dei port può estratta in <span class=filename>/usr/ports/</span>. Questo è necessario perfino se l’albero dei port è già stato creato in quella directory (es., usando CVSup), poichè stabilisce un punto di inizio dal qualche <code>portsnap</code> può determinare quale parte dell’albero dei port necessita di essere aggiornata.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap extract</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Nell’installazione di default la directory <span class=filename>/usr/ports</span> non viene creata. Se usi FreeBSD 6.0-RELEASE, la directory dovrebbe essere creata prima di usare <code>portsnap</code>. Su versioni di FreeBSD e Portsnap più recenti questa operazione viene fatta in automatico al primo utilizzo del comando <code>portsnap</code>.</p></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_aggiornare_lalbero_dei_port>A.6.5. Aggiornare l’Albero dei Port<a class=anchor href=#_aggiornare_lalbero_dei_port></a></h4><div class=paragraph><p>Dopo che una prima snapshot compressa dell’albero dei port è stata scaricata ed estratta in <span class=filename>/usr/ports/</span>, l’aggiornamento dell’albero dei port consiste in due passi: <em>scaricando</em> gli aggiornamenti della snapshot compressa, e usare questi per <em>aggiornare</em> l’albero dei port effettivo. Questi due passi possono essere specificati a <code>portsnap</code> con un comando singolo.</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch update</span></code></pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcune versioni vecchie di <code>portsnap</code> non supportano questa sintassi; se fallisce, prova in questo modo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=shell><span class=c># portsnap fetch</span>
<span class=c># portsnap update</span></code></pre></div></div></td></tr></tbody></table></div></div><div class=sect3><h4 id=_avviare_portsnap_tramite_cron>A.6.6. Avviare Portsnap tramite cron<a class=anchor href=#_avviare_portsnap_tramite_cron></a></h4><div class=paragraph><p>Al fine di evitare problemi di "affollamenti istantanei" accedendo ai server di Portsnap, <code>portsnap fetch</code> non funziona da un job <a href="https://man.freebsd.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;format=html">cron(8)</a>. Esiste invece un comando apposito <code>portsnap cron</code>, che attende una durata random fino a 3600 secondi prima di scaricare gli aggiornamenti.</p></div><div class=paragraph><p>Inoltre, è fortemente racomandato che <code>portsnap update</code> non sia eseguito da un job <code>cron</code>, poichè è soggetto a causare problemi se viene avviato allo stesso tempo di compilazione o installazione di un port. Ad ogni modo, è possibile aggiornare i file <span class=filename>INDEX</span> dei port, e può essere fatto passando il flag <code>-I</code> a <code>portsnap</code>. (Ovviamente, se <code>portsnap -I update</code> viene eseguito da <code>cron</code>, sarà necessario eseguire successivamnte <code>portsnap update</code> senza la flag <code>-I</code> al fine di aggiornare il resto dell’albero.)</p></div><div class=paragraph><p>Aggiungendo la riga seguente in <span class=filename>/etc/crontab</span>, <code>portsnap</code> aggiornerà la snapshot compressa e i file <span class=filename>INDEX</span> in <span class=filename>/usr/ports/</span>, e manderà una email se qualche port installato non è aggiornato:</p></div><div class="literalblock programlisting"><div class=content><pre>0 3 * * * root portsnap -I cron update  pkg_version -vIL=</pre></div></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Se l’ora di sistema non è settata all’ora locale, sostituisci <code>3</code> con un valore random tra 0 e 23, al fine di disporre il carico sui server Portsnap in modo uniforme.</p></div></td></tr></tbody></table></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcune versioni datate di <code>portsnap</code> non supportano l’elenco di comandi multipli (es., <code>cron update</code>) nella stessa invocazione di <code>portsnap</code>. Se la riga di comando precedente fallisce, prova a sostituire <code>portsnap -I cron update</code> con <code>portsnap cron portsnap -I update</code>.</p></div></td></tr></tbody></table></div></div></div><div class=sect2><h3 id=cvs-tags>A.7. Tag CVS<a class=anchor href=#cvs-tags></a></h3><div class=paragraph><p>Quando ricevi o aggiorni dei sorgenti usando cvs o CVSup, devi specificare un tag di revisione. Un tag di revisione si riferisce sia ad una particolare linea di sviluppo di FreeBSD, sia ad un specifico periodo di tempo. I primi tipi sono chiamati "tag di ramo", mentre i secondi "tag di release".</p></div><div class=sect3><h4 id=_tag_di_ramo>A.7.1. Tag di Ramo<a class=anchor href=#_tag_di_ramo></a></h4><div class=paragraph><p>Tutti, con l’eccezione di <code>HEAD</code> (che è sempre un valido tag), sono relativi all’albero <span class=filename>src/</span>. Gli alberi <span class=filename>ports/</span>, <span class=filename>doc/</span>, e <span class=filename>www/</span> non sono ramificati.</p></div><div class=dlist><dl><dt class=hdlist1>HEAD</dt><dd><p>Nome simbolico per la linea di sviluppo corrente, FreeBSD-CURRENT. È anche il tag di default se nessun tag di revisione è specificato.</p><div class=paragraph><p>In CVSup, questo tag è rappresentato dal simbolo <code>.</code>.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>In CVS, questo è il settaggio di default se nessun tag di revisione è stato specificato. In genere <em>non</em> è una buona idea aggiornare i sorgenti a CURRENT su una macchina STABLE, a meno che sai cosa stai facendo.</p></div></td></tr></tbody></table></div></dd><dt class=hdlist1>RELENG_6</dt><dd><p>La linea di sviluppo per FreeBSD-6.X, anche conosciuta come FreeBSD 6-STABLE.</p></dd><dt class=hdlist1>RELENG_6_1</dt><dd><p>Il ramo di release per FreeBSD-6.1, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_6_0</dt><dd><p>Il ramo di release per FreeBSD-6.0, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_5</dt><dd><p>La linea di sviluppo per FreeBSD-5.X, anche conosciuta come FreeBSD-STABLE.</p></dd><dt class=hdlist1>RELENG_5_5</dt><dd><p>Il ramo di release per FreeBSD-5.5, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_5_4</dt><dd><p>Il ramo di release per FreeBSD-5.4, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_5_3</dt><dd><p>Il ramo di release per FreeBSD-5.3, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_5_2</dt><dd><p>Il ramo di release per FreeBSD-5.2 e FreeBSD-5.2.1, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_5_1</dt><dd><p>Il ramo di release per FreeBSD-5.1, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_5_0</dt><dd><p>Il ramo di release per FreeBSD-5.0, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4</dt><dd><p>La linea di sviluppo per FreeBSD-4.X, anche conosciuta come FreeBSD 4-STABLE.</p></dd><dt class=hdlist1>RELENG_4_11</dt><dd><p>Il ramo di release per FreeBSD-4.11, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_10</dt><dd><p>Il ramo di release per FreeBSD-4.10, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_9</dt><dd><p>Il ramo di release per FreeBSD-4.9, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_8</dt><dd><p>Il ramo di release per FreeBSD-4.8, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_7</dt><dd><p>Il ramo di release per FreeBSD-4.7, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_6</dt><dd><p>Il ramo di release per FreeBSD-4.6 e FreeBSD-4.6.2, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_5</dt><dd><p>Il ramo di release per FreeBSD-4.5, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_4</dt><dd><p>Il ramo di release per FreeBSD-4.4, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_4_3</dt><dd><p>Il ramo di release per FreeBSD-4.3, usato solo per aggiornamenti relativi alla sicurezza e per altri fix cruciali.</p></dd><dt class=hdlist1>RELENG_3</dt><dd><p>La line di sviluppo per FreeBSD-3.X, anche conosciuta come 3.X-STABLE.</p></dd><dt class=hdlist1>RELENG_2_2</dt><dd><p>La linea di sviluppo per FreeBSD-2.2.X, anche conosciuta come 2.2-STABLE. Questo ramo è per la maggior parte obsoleto.</p></dd></dl></div></div><div class=sect3><h4 id=_tag_di_release>A.7.2. Tag di Release<a class=anchor href=#_tag_di_release></a></h4><div class=paragraph><p>Questi tag si riferiscono a un preciso istante di tempo quando una versione di FreeBSD è stata rilasciata. Il processo di release engineering è documentato in dettaglio dai documenti <a href=https://www.FreeBSD.org/releng/>Release Engineering Information</a> e <a href=https://docs.freebsd.org/en/articles/releng/#release-proc>Release Process</a>. L’albero <span class=filename>src</span> usa nomi di tag che iniziano con <code>RELENG_</code>. Gli alberi <span class=filename>ports</span> e <span class=filename>doc</span> usano tag il cui nome inizia con <code>RELEASE</code>. Infine, l’albero <span class=filename>www</span> non viene taggato con alcun nome particolare per le release.</p></div><div class=dlist><dl><dt class=hdlist1>RELENG_6_1_0_RELEASE</dt><dd><p>FreeBSD 6.1</p></dd><dt class=hdlist1>RELENG_6_0_0_RELEASE</dt><dd><p>FreeBSD 6.0</p></dd><dt class=hdlist1>RELENG_5_5_0_RELEASE</dt><dd><p>FreeBSD 5.5</p></dd><dt class=hdlist1>RELENG_5_4_0_RELEASE</dt><dd><p>FreeBSD 5.4</p></dd><dt class=hdlist1>RELENG_4_11_0_RELEASE</dt><dd><p>FreeBSD 4.11</p></dd><dt class=hdlist1>RELENG_5_3_0_RELEASE</dt><dd><p>FreeBSD 5.3</p></dd><dt class=hdlist1>RELENG_4_10_0_RELEASE</dt><dd><p>FreeBSD 4.10</p></dd><dt class=hdlist1>RELENG_5_2_1_RELEASE</dt><dd><p>FreeBSD 5.2.1</p></dd><dt class=hdlist1>RELENG_5_2_0_RELEASE</dt><dd><p>FreeBSD 5.2</p></dd><dt class=hdlist1>RELENG_4_9_0_RELEASE</dt><dd><p>FreeBSD 4.9</p></dd><dt class=hdlist1>RELENG_5_1_0_RELEASE</dt><dd><p>FreeBSD 5.1</p></dd><dt class=hdlist1>RELENG_4_8_0_RELEASE</dt><dd><p>FreeBSD 4.8</p></dd><dt class=hdlist1>RELENG_5_0_0_RELEASE</dt><dd><p>FreeBSD 5.0</p></dd><dt class=hdlist1>RELENG_4_7_0_RELEASE</dt><dd><p>FreeBSD 4.7</p></dd><dt class=hdlist1>RELENG_4_6_2_RELEASE</dt><dd><p>FreeBSD 4.6.2</p></dd><dt class=hdlist1>RELENG_4_6_1_RELEASE</dt><dd><p>FreeBSD 4.6.1</p></dd><dt class=hdlist1>RELENG_4_6_0_RELEASE</dt><dd><p>FreeBSD 4.6</p></dd><dt class=hdlist1>RELENG_4_5_0_RELEASE</dt><dd><p>FreeBSD 4.5</p></dd><dt class=hdlist1>RELENG_4_4_0_RELEASE</dt><dd><p>FreeBSD 4.4</p></dd><dt class=hdlist1>RELENG_4_3_0_RELEASE</dt><dd><p>FreeBSD 4.3</p></dd><dt class=hdlist1>RELENG_4_2_0_RELEASE</dt><dd><p>FreeBSD 4.2</p></dd><dt class=hdlist1>RELENG_4_1_1_RELEASE</dt><dd><p>FreeBSD 4.1.1</p></dd><dt class=hdlist1>RELENG_4_1_0_RELEASE</dt><dd><p>FreeBSD 4.1</p></dd><dt class=hdlist1>RELENG_4_0_0_RELEASE</dt><dd><p>FreeBSD 4.0</p></dd><dt class=hdlist1>RELENG_3_5_0_RELEASE</dt><dd><p>FreeBSD-3.5</p></dd><dt class=hdlist1>RELENG_3_4_0_RELEASE</dt><dd><p>FreeBSD-3.4</p></dd><dt class=hdlist1>RELENG_3_3_0_RELEASE</dt><dd><p>FreeBSD-3.3</p></dd><dt class=hdlist1>RELENG_3_2_0_RELEASE</dt><dd><p>FreeBSD-3.2</p></dd><dt class=hdlist1>RELENG_3_1_0_RELEASE</dt><dd><p>FreeBSD-3.1</p></dd><dt class=hdlist1>RELENG_3_0_0_RELEASE</dt><dd><p>FreeBSD-3.0</p></dd><dt class=hdlist1>RELENG_2_2_8_RELEASE</dt><dd><p>FreeBSD-2.2.8</p></dd><dt class=hdlist1>RELENG_2_2_7_RELEASE</dt><dd><p>FreeBSD-2.2.7</p></dd><dt class=hdlist1>RELENG_2_2_6_RELEASE</dt><dd><p>FreeBSD-2.2.6</p></dd><dt class=hdlist1>RELENG_2_2_5_RELEASE</dt><dd><p>FreeBSD-2.2.5</p></dd><dt class=hdlist1>RELENG_2_2_2_RELEASE</dt><dd><p>FreeBSD-2.2.2</p></dd><dt class=hdlist1>RELENG_2_2_1_RELEASE</dt><dd><p>FreeBSD-2.2.1</p></dd><dt class=hdlist1>RELENG_2_2_0_RELEASE</dt><dd><p>FreeBSD-2.2.0</p></dd></dl></div></div></div><div class=sect2><h3 id=mirrors-afs>A.8. Siti AFS<a class=anchor href=#mirrors-afs></a></h3><div class=paragraph><p>I server AFS per FreeBSD sono in esecuzione nei seguenti siti:</p></div><div class=dlist><dl><dt class=hdlist1>Svezia</dt><dd><p>Il percorso dei file è: <span class=filename>/afs/stacken.kth.se/ftp/pub/FreeBSD/</span></p><div class="literalblock programlisting"><div class=content><pre>stacken.kth.se         # Stacken Computer Club, KTH, Svezia
130.237.234.43         #hot.stacken.kth.se
130.237.237.230        #fishburger.stacken.kth.se
130.237.234.3          #milko.stacken.kth.se</pre></div></div><div class=paragraph><p>Il maintainer <a href=mailto:ftp@stacken.kth.se>ftp@stacken.kth.se</a></p></div></dd></dl></div></div><div class=sect2><h3 id=mirrors-rsync>A.9. Siti rsync<a class=anchor href=#mirrors-rsync></a></h3><div class=paragraph><p>I seguenti siti rendono disponibile FreeBSD tramite il protocollo rsync. L’utility rsync lavora nello stesso modo del comando <a href="https://man.freebsd.org/cgi/man.cgi?query=rcp&amp;sektion=1&amp;format=html">rcp(1)</a>, ma ha più opzioni e usa il protocollo rsync per aggiornamenti remoti il quale trasferisce solo le differenze tra i due set di file, e di conseguenza accelera fortemente la sincronizzazione su rete. Questo è molto utile se hai un sito mirror del server FTP di FreeBSD, o del deposito CVS. La suite rsync è disponibile per molti sistemi operativi e, su FreeBSD, puoi usare il port <a class=package href=https://cgit.freebsd.org/ports/tree/net/rsync/>net/rsync</a> o il rispettivo package.</p></div><div class=dlist><dl><dt class=hdlist1>Repubblica Ceca</dt><dd><p>rsync://ftp.cz.FreeBSD.org/</p><div class=paragraph><p>Collezioni disponibili:</p></div><div class=ulist><ul><li><p>ftp: Un mirror parziale del server FTP di FreeBSD.</p></li><li><p>FreeBSD: Un mirror completo del server FTP di FreeBSD.</p></li></ul></div></dd><dt class=hdlist1>Germania</dt><dd><p>rsync://grappa.unix-ag.uni-kl.de/</p><div class=paragraph><p>Collezioni disponibili:</p></div><div class=ulist><ul><li><p>freebsd-cvs: Il completo deposito CVS di FreeBSD.</p></li></ul></div><div class=paragraph><p>Questa macchina fa da mirror anche per il deposito CVS dei progetti NetBSD e OpenBSD, tra gli altri.</p></div></dd><dt class=hdlist1>Olanda</dt><dd><p>rsync://ftp.nl.FreeBSD.org/</p><div class=paragraph><p>Collezioni disponibili:</p></div><div class=ulist><ul><li><p>vol/4/freebsd-core: Un completo mirror del server FTP di FreeBSD.</p></li></ul></div></dd><dt class=hdlist1>Regno Unito</dt><dd><p>rsync://rsync.mirror.ac.uk/</p><div class=paragraph><p>Collezioni disponibili:</p></div><div class=ulist><ul><li><p>ftp.FreeBSD.org: Un completo mirror del server FTP di FreeBSD.</p></li></ul></div></dd><dt class=hdlist1>Stati Uniti d’America</dt><dd><p>rsync://ftp-master.FreeBSD.org/</p><div class=paragraph><p>Questo server può essere usato solo dai siti mirror primari di FreeBSD.</p></div><div class=paragraph><p>Collezioni disponibili:</p></div><div class=ulist><ul><li><p>FreeBSD: L’archivio master del server FTP di FreeBSD.</p></li><li><p>acl: La lista master delle ACL di FreeBSD.</p><div class=paragraph><p>rsync://ftp13.FreeBSD.org/</p></div><div class=paragraph><p>Collezioni disponibili:</p></div></li><li><p>FreeBSD: Un completo mirror del server FTP di FreeBSD.</p></li></ul></div></dd></dl></div></div></div></div><div class=sect1><h2 id=bibliography>Appendice B: Bibliografia<a class=anchor href=#bibliography></a></h2><div class=sectionbody><div class=paragraph><p>Sebbene le pagine man forniscano la documentazione di riferimento definitiva per le singole parti del sistema operativo FreeBSD, sono famose per non illustrare come mettere insieme i pezzi per far andare uniformemente l’intero sistema operativo. Per questo, non esiste sostituto a un buon libro sull’amministrazione di un sistema UNIX® e a un buon manuale per gli utenti.</p></div><div class=sect2><h3 id=bibliography-freebsd>B.1. Libri & Riviste Specifiche su FreeBSD<a class=anchor href=#bibliography-freebsd></a></h3><div class=paragraph><p><em>Libri & Riviste internazionali:</em></p></div><div class=ulist><ul><li><p><a href=http://jdli.tw.FreeBSD.org/publication/book/freebsd2/index.htm>Using FreeBSD</a> (in Cinese), pubblicato da <a href=http://www.drmaster.com.tw/>Drmaster</a>, 1997. ISBN 9-578-39435-7.</p></li><li><p>FreeBSD Unleashed (traduzione cinese semplificata), pubblicato da <a href=http://www.hzbook.com/>China Machine Press</a>. ISBN 7-111-10201-0.</p></li><li><p>FreeBSD From Scratch First Edition (in cinese semplificato), pubblicato da China Machine Press. ISBN 7-111-07482-3.</p></li><li><p>FreeBSD From Scratch Second Edition (in cinese semplificato), pubblicato da China Machine Press. ISBN 7-111-10286-X.</p></li><li><p>FreeBSD Handbook Second Edition (traduzione cinese semplificata), pubblicato da <a href=http://www.ptpress.com.cn/>Posts & Telecom Press</a>. ISBN 7-115-10541-3.</p></li><li><p>FreeBSD 3.x Internet (in cinese semplificato), pubblicato da <a href=http://www.tup.tsinghua.edu.cn/>Tsinghua University Press</a>. ISBN 7-900625-66-6.</p></li><li><p>FreeBSD & Windows (in cinese semplificato), pubblicato da <a href=http://www.tdpress.com/>China Railway Publishing House</a>. ISBN 7-113-03845-X</p></li><li><p>FreeBSD Internet Services HOWTO (in cinese semplificato), pubblicato da China Railway Publishing House. ISBN 7-113-03423-3</p></li><li><p>FreeBSD for PC 98’ers (in giapponese), pubblicato da SHUWA System Co, LTD. ISBN 4-87966-468-5 C3055 P2900E.</p></li><li><p>FreeBSD (in giapponese), pubblicato da CUTT. ISBN 4-906391-22-2 C3055 P2400E.</p></li><li><p><a href="http://www.shoeisha.com/book/Detail.asp?bid=650">Complete Introduction to FreeBSD</a> (in giapponese), pubblicato da <a href=http://www.shoeisha.co.jp/>Shoeisha Co., Ltd</a>. ISBN 4-88135-473-6 P3600E.</p></li><li><p><a href=http://www.ascii.co.jp/pb/book1/shinkan/detail/1322785.html>Personal UNIX Starter Kit FreeBSD</a> (in giapponese), pubblicato da <a href=http://www.ascii.co.jp/>ASCII</a>. ISBN 4-7561-1733-3 P3000E.</p></li><li><p>FreeBSD Handbook (traduzione giapponese), pubblicato da <a href=http://www.ascii.co.jp/>ASCII</a>. ISBN 4-7561-1580-2 P3800E.</p></li><li><p>FreeBSD mit Methode (in tedesco), pubblicato da <a href=http://www.cul.de>Computer und Literatur Verlag</a>/Vertrieb Hanser, 1998. ISBN 3-932311-31-0.</p></li><li><p><a href=http://www.cul.de/freebsd.html>FreeBSD 4 - Installieren, Konfigurieren, Administrieren</a> (in tedesco), pubblicato da <a href=http://www.cul.de>Computer und Literatur Verlag</a>, 2001. ISBN 3-932311-88-4.</p></li><li><p><a href=http://www.cul.de/freebsd.html>FreeBSD 5 - Installieren, Konfigurieren, Administrieren</a> (in tedesco), pubblicato da <a href=http://www.cul.de>Computer und Literatur Verlag</a>, 2003. ISBN 3-936546-06-1.</p></li><li><p><a href=http://www.mitp.de/vmi/mitp/detail/pWert/1343/>FreeBSD de Luxe</a> (in tedesco), pubblicato da <a href=http://www.mitp.de>Verlag Modere Industrie</a>, 2003. ISBN 3-8266-1343-0.</p></li><li><p><a href=http://www.pc.mycom.co.jp/FreeBSD/install-manual.html>FreeBSD Install and Utilization Manual</a> (in giapponese), pubblicato da <a href=http://www.pc.mycom.co.jp/>Mainichi Communications Inc.</a>, 1998. ISBN 4-8399-0112-0.</p></li><li><p>Onno W Purbo, Dodi Maryanto, Syahrial Hubbany, Widjil Widodo <em><a href=http://maxwell.itb.ac.id/>Building Internet Server with FreeBSD</a></em> (in indonesiano), pubblicato da <a href=http://www.elexmedia.co.id/>Elex Media Komputindo</a>.</p></li><li><p>Absolute BSD: The Ultimate Guide to FreeBSD (traduzione cinese), pubblicato da <a href=http://www.grandtech.com.tw/>GrandTech Press</a>, 2003. ISBN 986-7944-92-5.</p></li><li><p><a href=http://www.twbsd.org/cht/book/>The FreeBSD 6.0 Book</a> (in cinese), pubblicato da Drmaster, 2006. ISBN 9-575-27878-X.</p></li></ul></div><div class=paragraph><p><em>Libri & Riviste in lingua inglese:</em></p></div><div class=ulist><ul><li><p><a href=http://www.AbsoluteBSD.com/>Absolute BSD: The Ultimate Guide to FreeBSD</a>, pubblicato da <a href=http://www.nostarch.com/>No Starch Press</a>, 2002. ISBN 1886411743.</p></li><li><p><a href=http://www.freebsdmall.com/cgi-bin/fm/bsdcomp>The Complete FreeBSD</a>, pubblicato da <a href=http://www.oreilly.com/>O’Reilly</a>, 2003. ISBN 0596005164.</p></li><li><p><a href=http://www.freebsd-corp-net-guide.com/>The FreeBSD Corporate Networker’s Guide</a>, pubblicato da <a href=http://www.awl.com/aw/>Addison-Wesley</a>, 2000. ISBN 0201704811.</p></li><li><p><a href=http://andrsn.stanford.edu/FreeBSD/introbook/>FreeBSD: An Open-Source Operating System for Your Personal Computer</a>, pubblicato da The Bit Tree Press, 2001. ISBN 0971204500.</p></li><li><p>Teach Yourself FreeBSD in 24 Hours, pubblicato da <a href=http://www.samspublishing.com/>Sams</a>, 2002. ISBN 0672324245.</p></li><li><p>FreeBSD 6 Unleashed, pubblicato da <a href=http://www.samspublishing.com/>Sams</a>, 2006. ISBN: 0672328755</p></li><li><p>FreeBSD: The Complete Reference, pubblicato da <a href=http://books.mcgraw-hill.com>McGrawHill</a>, 2003. ISBN 0072224096.</p></li></ul></div></div><div class=sect2><h3 id=bibliography-userguides>B.2. Guide per gli Utenti<a class=anchor href=#bibliography-userguides></a></h3><div class=ulist><ul><li><p>Computer Systems Research Group, UC Berkeley. <em>4.4BSD User’s Reference Manual</em>. O’Reilly & Associates, Inc., 1994. ISBN 1-56592-075-9</p></li><li><p>Computer Systems Research Group, UC Berkeley. <em>4.4BSD User’s Supplementary Documents</em>. O’Reilly & Associates, Inc., 1994. ISBN 1-56592-076-7</p></li><li><p><em>UNIX in a Nutshell</em>. O’Reilly & Associates, Inc., 1990. ISBN 093717520X</p></li><li><p>Mui, Linda. <em>What You Need To Know When You Can’t Find Your UNIX System Administrator</em>. O’Reilly & Associates, Inc., 1995. ISBN 1-56592-104-6</p></li><li><p><a href=http://www-wks.acs.ohio-state.edu/>Ohio State University</a> ha scritto un <a href=http://www-wks.acs.ohio-state.edu/unix_course/unix.html>Corso Introduttivo a UNIX</a> che è disponibile online in formato HTML e PostScript.</p><div class=paragraph><p>Una <a href=https://www.FreeBSD.org/doc/it/books/unix-introduction/book.html>traduzione</a> in italiano di questo documento è disponibile come parte del FreeBSD Italian Documentation Project.</p></div></li><li><p><a href=http://www.jp.FreeBSD.org/>Jpman Project, Japan FreeBSD Users Group</a>. <a href=http://www.pc.mycom.co.jp/FreeBSD/urm.html>FreeBSD User’s Reference Manual</a> (traduzione giapponese). <a href=http://www.pc.mycom.co.jp/>Mainichi Communications Inc.</a>, 1998. ISBN 4-8399-0088-4 P3800E.</p></li><li><p><a href=http://www.ed.ac.uk/>Edinburgh University</a> ha scritto una <a href=http://unixhelp.ed.ac.uk/>Guida Online</a> per i nuovi arrivati nell’ambiente UNIX.</p></li></ul></div></div><div class=sect2><h3 id=bibliography-adminguides>B.3. Guide per gli Amministratori<a class=anchor href=#bibliography-adminguides></a></h3><div class=ulist><ul><li><p>Albitz, Paul e Liu, Cricket. <em>DNS and BIND</em>, 4a Ed. O’Reilly & Associates, Inc., 2001. ISBN 1-59600-158-4</p></li><li><p>Computer Systems Research Group, UC Berkeley. <em>4.4BSD System Manager’s Manual</em>. O’Reilly & Associates, Inc., 1994. ISBN 1-56592-080-5</p></li><li><p>Costales, Brian, et al. <em>Sendmail</em>, 2a Ed. O’Reilly & Associates, Inc., 1997. ISBN 1-56592-222-0</p></li><li><p>Frisch, Æleen. <em>Essential System Administration</em>, 2a Ed. O’Reilly & Associates, Inc., 1995. ISBN 1-56592-127-5</p></li><li><p>Hunt, Craig. <em>TCP/IP Network Administration</em>, 2a Ed. O’Reilly & Associates, Inc., 1997. ISBN 1-56592-322-7</p></li><li><p>Nemeth, Evi. <em>UNIX System Administration Handbook</em>. 3a Ed. Prentice Hall, 2000. ISBN 0-13-020601-6</p></li><li><p>Stern, Hal <em>Managing NFS and NIS</em> O’Reilly & Associates, Inc., 1991. ISBN 0-937175-75-7</p></li><li><p><a href=http://www.jp.FreeBSD.org/>Jpman Project, Japan FreeBSD Users Group</a>. <a href=http://www.pc.mycom.co.jp/FreeBSD/sam.html>FreeBSD System Administrator’s Manual</a> (traduzione giapponese). <a href=http://www.pc.mycom.co.jp/>Mainichi Communications Inc.</a>, 1998. ISBN 4-8399-0109-0 P3300E.</p></li><li><p>Dreyfus, Emmanuel. <a href=http://www.eyrolles.com/Informatique/Livre/9782212114638/>Cahiers de l’Admin: BSD</a> 2nd Ed. (in French), Eyrolles, 2004. ISBN 2-212-11463-X</p></li></ul></div></div><div class=sect2><h3 id=bibliography-programmers>B.4. Guide per i Programmatori<a class=anchor href=#bibliography-programmers></a></h3><div class=ulist><ul><li><p>Asente, Paul, Converse, Diana, e Swick, Ralph. <em>X Window System Toolkit</em>. Digital Press, 1998. ISBN 1-55558-178-1</p></li><li><p>Computer Systems Research Group, UC Berkeley. <em>4.4BSD Programmer’s Reference Manual</em>. O’Reilly & Associates, Inc., 1994. ISBN 1-56592-078-3</p></li><li><p>Computer Systems Research Group, UC Berkeley. <em>4.4BSD Programmer’s Supplementary Documents</em>. O’Reilly & Associates, Inc., 1994. ISBN 1-56592-079-1</p></li><li><p>Harbison, Samuel P. e Steele, Guy L. Jr. <em>C: A Reference Manual</em>. 4a ed. Prentice Hall, 1995. ISBN 0-13-326224-3</p></li><li><p>Kernighan, Brian e Dennis M. Ritchie. <em>The C Programming Language</em>. 2nd Ed. PTR Prentice Hall, 1988. ISBN 0-13-110362-8</p></li><li><p>Lehey, Greg. <em>Porting UNIX Software</em>. O’Reilly & Associates, Inc., 1995. ISBN 1-56592-126-7</p></li><li><p>Plauger, P. J. <em>The Standard C Library</em>. Prentice Hall, 1992. ISBN 0-13-131509-9</p></li><li><p>Spinellis, Diomidis. <a href=http://www.spinellis.gr/codereading/>Code Reading: The Open Source Perspective</a>. Addison-Wesley, 2003. ISBN 0-201-79940-5</p></li><li><p>Spinellis, Diomidis. <a href=http://www.spinellis.gr/codequality/>Code Quality: The Open Source Perspective</a>. Addison-Wesley, 2006. ISBN 0-321-16607-8</p></li><li><p>Stevens, W. Richard and Stephen A. Rago. <em>Advanced Programming in the UNIX Environment</em>. 2nd Ed. Reading, Mass. : Addison-Wesley, 2005. ISBN 0-201-43307-9</p></li><li><p>Stevens, W. Richard. <em>UNIX Network Programming</em>. 2a Ed, PTR Prentice Hall, 1998. ISBN 0-13-490012-X</p></li><li><p>Wells, Bill. "Writing Serial Drivers for UNIX". <em>Dr. Dobb’s Journal</em>. 19(15), Dicembre 1994. pp68-71, 97-99.</p></li></ul></div></div><div class=sect2><h3 id=bibliography-osinternals>B.5. Architettura del Sistema Operativo<a class=anchor href=#bibliography-osinternals></a></h3><div class=ulist><ul><li><p>Andleigh, Prabhat K. <em>UNIX System Architecture</em>. Prentice-Hall, Inc., 1990. ISBN 0-13-949843-5</p></li><li><p>Jolitz, William. "Porting UNIX to the 386". <em>Dr. Dobb’s Journal</em>. Gennaio 1991-Luglio 1992.</p></li><li><p>Leffler, Samuel J., Marshall Kirk McKusick, Michael J Karels e John Quarterman <em>The Design and Implementation of the 4.3BSD UNIX Operating System</em>. Reading, Mass. : Addison-Wesley, 1989. ISBN 0-201-06196-1</p></li><li><p>Leffler, Samuel J., Marshall Kirk McKusick, <em>The Design and Implementation of the 4.3BSD UNIX Operating System: Answer Book</em>. Reading, Mass. : Addison-Wesley, 1991. ISBN 0-201-54629-9</p></li><li><p>McKusick, Marshall Kirk, Keith Bostic, Michael J Karels, e John Quarterman. <em>The Design and Implementation of the 4.4BSD Operating System</em>. Reading, Mass. : Addison-Wesley, 1996. ISBN 0-201-54979-4</p><div class=paragraph><p>(Il capitolo 2 di questo libro è disponibile <a href=https://docs.freebsd.org/en/books/design-44bsd/>online</a> come parte del FreeBSD Documentation Project, mentre il capitolo 9 è consultabile <a href=http://www.netapp.com/tech_library/nfsbook.html>qui</a>.)</p></div></li><li><p>Marshall Kirk McKusick, George V. Neville-Neil <em>The Design and Implementation of the FreeBSD Operating System</em>. Boston, Mass. : Addison-Wesley, 2004. ISBN 0-201-70245-2</p></li><li><p>Stevens, W. Richard. <em>TCP/IP Illustrated, Volume 1: The Protocols</em>. Reading, Mass. : Addison-Wesley, 1996. ISBN 0-201-63346-9</p></li><li><p>Schimmel, Curt. <em>Unix Systems for Modern Architectures</em>. Reading, Mass. : Addison-Wesley, 1994. ISBN 0-201-63338-8</p></li><li><p>Stevens, W. Richard. <em>TCP/IP Illustrated, Volume 3: TCP for Transactions, HTTP, NNTP and the UNIX Domain Protocols</em>. Reading, Mass. : Addison-Wesley, 1996. ISBN 0-201-63495-3</p></li><li><p>Vahalia, Uresh. <em>UNIX Internals — The New Frontiers</em>. Prentice Hall, 1996. ISBN 0-13-101908-2</p></li><li><p>Wright, Gary R. and W. Richard Stevens. <em>TCP/IP Illustrated, Volume 2: The Implementation</em>. Reading, Mass. : Addison-Wesley, 1995. ISBN 0-201-63354-X</p></li></ul></div></div><div class=sect2><h3 id=bibliography-security>B.6. Riferimenti sulla Sicurezza<a class=anchor href=#bibliography-security></a></h3><div class=ulist><ul><li><p>Cheswick, William R. e Steven M. Bellovin. <em>Firewalls and Internet Security: Repelling the Wily Hacker</em>. Reading, Mass. : Addison-Wesley, 1995. ISBN 0-201-63357-4</p></li><li><p>Garfinkel, Simson e Gene Spafford. <em>Practical UNIX & Internet Security</em>. 2a Ed. O’Reilly & Associates, Inc., 1996. ISBN 1-56592-148-8</p></li><li><p>Garfinkel, Simson. <em>PGP Pretty Good Privacy</em> O’Reilly & Associates, Inc., 1995. ISBN 1-56592-098-8</p></li></ul></div></div><div class=sect2><h3 id=bibliography-hardware>B.7. Riferimenti sull’Hardware<a class=anchor href=#bibliography-hardware></a></h3><div class=ulist><ul><li><p>Anderson, Don e Tom Shanley. <em>Pentium Processor System Architecture</em>. 2a Ed. Reading, Mass. : Addison-Wesley, 1995. ISBN 0-201-40992-5</p></li><li><p>Ferraro, Richard F. <em>Programmer’s Guide to the EGA, VGA, and Super VGA Cards</em>. 3a ed. Reading, Mass. : Addison-Wesley, 1995. ISBN 0-201-62490-7</p></li><li><p>Intel Corporation pubblica la documentazione sulle sue CPU, chipsets e standards sul suo <a href=http://developer.intel.com/>sito web per gli sviluppatori</a>, solitamente come files PDF.</p></li><li><p>Shanley, Tom. <em>80486 System Architecture</em>. 3a ed. Reading, Mass. : Addison-Wesley, 1995. ISBN 0-201-40994-1</p></li><li><p>Shanley, Tom. <em>ISA System Architecture</em>. 3a ed. Reading, Mass. : Addison-Wesley, 1995. ISBN 0-201-40996-8</p></li><li><p>Shanley, Tom. <em>PCI System Architecture</em>. 4a ed. Reading, Mass. : Addison-Wesley, 1999. ISBN 0-201-30974-2</p></li><li><p>Van Gilluwe, Frank. <em>The Undocumented PC</em>, 2a Ed. Reading, Mass: Addison-Wesley Pub. Co., 1996. ISBN 0-201-47950-8</p></li><li><p>Messmer, Hans-Peter. <em>The Indispensable PC Hardware Book</em>, 4a Ed. Reading, Mass: Addison-Wesley Pub. Co., 2002. ISBN 0-201-59616-4</p></li></ul></div></div><div class=sect2><h3 id=bibliography-history>B.8. Storia di UNIX®<a class=anchor href=#bibliography-history></a></h3><div class=ulist><ul><li><p>Lion, John <em>Lion’s Commentary on UNIX, 6th Ed. With Source Code</em>. ITP Media Group, 1996. ISBN 1573980137</p></li><li><p>Raymond, Eric S. <em>The New Hacker’s Dictionary, 3rd edition</em>. MIT Press, 1996. ISBN 0-262-68092-0. Conosciuto anche come il <a href=http://www.catb.org/~esr/jargon/html/index.html>Jargon File</a></p></li><li><p>Salus, Peter H. <em>A quarter century of UNIX</em>. Addison-Wesley Publishing Company, Inc., 1994. ISBN 0-201-54777-5</p></li><li><p>Simon Garfinkel, Daniel Weise, Steven Strassmann. <em>The UNIX-HATERS Handbook</em>. IDG Books Worldwide, Inc., 1994. ISBN 1-56884-203-1. Fuori stampa, ma disponibile <a href=http://research.microsoft.com/~daniel/unix-haters.html>online</a>.</p></li><li><p>Don Libes, Sandy Ressler <em>Life with UNIX</em> - edizione speciale. Prentice-Hall, Inc., 1989. ISBN 0-13-536657-7</p></li><li><p><em>The BSD family tree</em>. <a href=http://www.FreeBSD.org/cgi/cvsweb.cgi/src/shared/misc/bsd-family-tree>http://www.FreeBSD.org/cgi/cvsweb.cgi/src/shared/misc/bsd-family-tree</a> o <a href=file://localhost/usr/shared/misc/bsd-family-tree>/usr/shared/misc/bsd-family-tree</a> su una macchina FreeBSD.</p></li><li><p><em>The BSD Release Announcements collection</em>. 1997. <a href=http://www.de.FreeBSD.org/de/ftp/releases/>http://www.de.FreeBSD.org/de/ftp/releases/</a></p></li><li><p><em>Networked Computer Science Technical Reports Library</em>. <a href=http://www.ncstrl.org/>http://www.ncstrl.org/</a></p></li><li><p><em>Old BSD releases from the Computer Systems Research group (CSRG)</em>. <a href=http://www.mckusick.com/csrg/>http://www.mckusick.com/csrg/</a>: Il set di 4 CD comprende tutte le versioni di BSD dalla 1BSD alla 4.4BSD e 4.4BSD-Lite2 (ma non la 2.11BSD, sfortunatamente). Inoltre, l’ultimo disco contiene i sorgenti finali più i file SCCS.</p></li></ul></div></div><div class=sect2><h3 id=bibliography-journals>B.9. Riviste e Giornali<a class=anchor href=#bibliography-journals></a></h3><div class=ulist><ul><li><p><em>The C/C++ Users Journal</em>. R&amp;D Publications Inc. ISSN 1075-2838</p></li><li><p><em>Sys Admin - The Journal for UNIX System Administrators</em> Miller Freeman, Inc., ISSN 1061-2688</p></li><li><p><em>freeX - Das Magazin für Linux - BSD - UNIX</em> (in tedesco) Computer- und Literaturverlag GmbH, ISSN 1436-7033</p></li></ul></div></div></div></div><div class=sect1><h2 id=eresources>Appendice C: Risorse su Internet<a class=anchor href=#eresources></a></h2><div class=sectionbody><div class=paragraph><p>Il rapido sviluppo di FreeBSD rende la carta stampata un mezzo non pratico per poterne seguire l’evoluzione. Le risorse in rete sono il migliore, se non l’unico, modo per tenersi informati sulle novità di questo sistema. Dal momento che FreeBSD è il prodotto del lavoro di volontari, la comunità degli utenti generalmente si presta anche ad una funzione di "supporto tecnico" di varia natura, con l’email e le news USENET come il mezzo più efficace per entrare in contatto con queste comunità.</p></div><div class=paragraph><p>I più frequentati punti di ritrovo della comunità FreeBSD sono esposti di seguito. Se aveste conoscenza di altre risorse non menzionate in questa sede, vi preghiamo di darne informazione a <a href=https://lists.FreeBSD.org/subscription/freebsd-doc>mailing list sul progetto di documentazione di FreeBSD</a> cosicchè possano essere incluse.</p></div><div class=sect2><h3 id=eresources-mail>C.1. Mailing Lists<a class=anchor href=#eresources-mail></a></h3><div class=paragraph><p>Anche se molti sviluppatori di FreeBSD leggono USENET, non può esservi garanzia di ottenere risposta alle proprie domande in tempi brevi (e in generale non può esservi garanzia di ottenere alcuna risposta) semplicemente scrivendo ad uno dei mail-group di <code>comp.unix.bsd.freebsd.*</code>. Indirizzando i propri messaggi alla mailing list appropriata si raggiungerà una audience più concentrata ed informata, permettendo risposte più precise (o quanto meno più sollecite).</p></div><div class=paragraph><p>Gli argomenti delle varie liste sono elencati all’inizio del documento. <em>Si prega di leggere gli argomenti</em> prima di unirsi o scrivere ad una lista. La maggior parte dei sottoscrittori di liste ricevono ogni giorno svariate centinaia di messaggi, e mantenendo argomenti e regole di comportamento cerchiamo di tenere alto il rapporto segnale/rumore della lista. Venir meno a queste regole vorrebbe dire il fallimento della mailing list come mezzo efficace di comunicazione per il progetto.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p><em>Se vuoi verificare la tua abilità nel spedire alle liste di FreeBSD, manda un messaggio testuale a <a href=https://lists.FreeBSD.org/subscription/freebsd-test>mailing list di prova di FreeBSD</a>.</em> Per favore non mandare messaggi di prova a altre liste.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se hai alcuni dubbi su quale lista postare una questione, leggi <a href=https://docs.freebsd.org/en/articles/freebsd-questions/>Come ottenere i migliori risultati dalla mailing list FreeBSD-questions</a>.</p></div><div class=paragraph><p>Prima di postare su qualsiasi lista, per favore impara a come usare al meglio le mailing list, ad esempio come evitare discussioni che vengono richieste di frequente, leggendo il documento (FAQ) <a href=https://docs.freebsd.org/en/articles/mailing-list-faq/>Le Questioni Maggiormente Richieste sulle Mailing List</a>.</p></div><div class=paragraph><p>Vengono tenuti archivi per tutte le mailing list, e questi possono essere esplorati usando il <a href=https://www.FreeBSD.org/search/>FreeBSD World Wide Web server</a>. L’archivio esplorabile per parole chiave costituisce un mezzo eccellente per trovare risposte a domande poste di frequente e dovrebbe essere consultato prima di spedire una domanda.</p></div><div class=sect3><h4 id=eresources-summary>C.1.1. Sommario delle liste<a class=anchor href=#eresources-summary></a></h4><div class=paragraph><p><em>Liste generiche:</em> Le seguenti sono liste generiche a cui tutti sono invitati (e incoraggiati) a partecipare:</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Lista</th><th class="tableblock halign-left valign-top">Argomento</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/cvs-all>cvs-all</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Cambiamenti apportati all’albero dei sorgenti di FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-advocacy>freebsd-advocacy</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Evangelismo FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-announce>mailing list di annunci su FreeBSD</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Eventi importanti e annunci di progetti</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-arch>freebsd-arch</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sull’architettura ed il design</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-bugbusters>freebsd-bugbusters</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni incentrate sul mantenimento del database dei report dei problemi di FreeBSD e progetti correlati</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-bugs>freebsd-bugs</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Report sui bug</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-chat>freebsd-chat</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Argomenti non-tecnici di interesse della comunità FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-current>mailing list su FreeBSD-CURRENT</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sull’utilizzo di FreeBSD.current;</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-isp>freebsd-isp</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Argomenti di interesse degli Internet Service Providers che usano FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-jobs>freebsd-jobs</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Opportunità di lavoro e consulenza relative a FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-policy>freebsd-policy</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Le decisioni sulla politica da adottare del core degli sviluppatori FreeBSD. Toni pacati e sola lettura</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-questions>freebsd-questions</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Domande degli utenti e assistenza tecnica</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-security-notifications>mailing list sugli avvisi di sicurezza su FreeBSD</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Notifiche sulla sicurezza</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-stable>mailing list su FreeBSD-STABLE;</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sull’uso di FreeBSD.stable;</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-test>mailing list di prova di FreeBSD</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Dove spedire i tuoi messaggi di test, lasciando in pace le altre liste</p></td></tr></tbody></table><div class=paragraph><p><em>Liste tecniche:</em> le seguenti liste sono a carattere tecnico. Dovreste leggere attentamente gli argomenti elencati di seguito prima di unirvi o spedirvi mail, poichè ci sono strette linee di condotta per il loro uso ed il loro contenuto.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Lista</th><th class="tableblock halign-left valign-top">Argomento</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>mailing list su ACPI in FreeBSD</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sviluppo di ACPI e della gestione dell’energia</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-afs>freebsd-afs</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di AFS su FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/aic7xxx>freebsd-aic7xxx</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sviluppare drivers per Adaptec® AIC 7xxx</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href={alpha-url}>alpha</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD su Alpha</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-amd64>freebsd-amd64</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD sui sistemi AMD64</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-apache>freebsd-apache</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sui port relativi ad Apache</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-arm>freebsd-arm</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD su processori ARM®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-atm>freebsd-atm</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Usare reti ATM con FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-audit>freebsd-audit</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il progetto di audit del codice sorgente</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-binup>freebsd-binup</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il design e lo sviluppo del sistema di aggiornamento dei binari</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-bluetooth>freebsd-bluetooth</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Usare la tecnologia Bluetooth® su FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-cluster>freebsd-cluster</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Usare FreeBSD in cluster</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-cvsweb>freebsd-cvsweb</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il mantenimento di CVSweb</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-database>freebsd-database</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sull’uso e lo sviluppo di database sotto FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-doc>freebsd-doc</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Creare documenti su FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-drivers>freebsd-drivers</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Scrivere driver di dispositivi per FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-eclipse>freebsd-eclipse</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Utenti FreeBSD di Eclipse IDE, strumenti, applicazioni client e port.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-embedded>freebsd-embedded</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Come usare FreeBSD in applicazioni embedded</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-emulation>freebsd-emulation</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’emulazione di altri sistemi operativi come Linux/MS-DOS®/Windows®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-eol>freebsd-eol</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Supporto per il software relativo a FreeBSD che non è più supportato dal progetto FreeBSD.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-firewire>freebsd-firewire</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni tecniche sui FreeBSD FireWire® (iLink, IEEE 1394)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-fs>freebsd-fs</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>I file system</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-geom>freebsd-geom</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni e implementazioni riguardanti GEOM</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-gnome>freebsd-gnome</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di GNOME e delle applicazioni GNOME</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-hackers>freebsd-hackers</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni tecniche generiche</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-hardware>freebsd-hardware</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni tecniche generiche sull’hardware e FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-i18n>freebsd-i18n</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’internazionalizzazione di FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-ia32>freebsd-ia32</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>FreeBSD sulla piattaforma IA-32 (Intel® x86)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-ia64>freebsd-ia64</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD ai futuri sistemi Intel® IA64</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-ipfw>freebsd-ipfw</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni tecniche sul redesign del codice del firewall</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-isdn>freebsd-isdn</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sviluppatori ISDN</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-jail>freebsd-jail</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sul metodo <a href="https://man.freebsd.org/cgi/man.cgi?query=jail&amp;sektion=8&amp;format=html">jail(8)</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-java>freebsd-java</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sviluppatori Java™ e persone coinvolte nel port delle JDK™ sotto FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://mail.kde.org/mailman/listinfo/kde-freebsd>freebsd-kde</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di KDE e delle applicazioni KDE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-lfs>freebsd-lfs</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di LFS sotto FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-libh>freebsd-libh</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il sistema di installazione e di gestione dei pacchetti di seconda generazione</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-mips>freebsd-mips</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD su MIPS®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-mobile>freebsd-mobile</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sui portatili</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-mozilla>freebsd-mozilla</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di Mozilla sotto FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-multimedia>mailing list sulle applicazioni multimediali con FreeBSD</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Applicazioni multimediali</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-new-bus>freebsd-new-bus</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni tecniche sull’architettura bus</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-net>freebsd-net</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussione sul networking e codice sorgente TCP/IP</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-openoffice>freebsd-openoffice</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di OpenOffice.org e StarOffice™ su FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-performance>freebsd-performance</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Questioni relative alla calibrazione delle prestazioni per installazioni a ad alta performance o carico elevato</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-perl>freebsd-perl</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mantenimento di un numero di port relativi a perl</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-pf>freebsd-pf</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sul sistema di firewall packet filter</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-platforms>freebsd-platforms</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Riguardo al porting di FreeBSD su architetture non Intel®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-ports>freebsd-ports</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussione sulla collezione dei port</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-ports-bugs>freebsd-ports-bugs</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussione sui bug/PR relativi ai port</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-ppc>freebsd-ppc</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD su PowerPC®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-proliant>freebsd-proliant</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni tecniche di FreeBSD su piattaforme server HP ProLiant</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-python>freebsd-python</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni riguardo Python su FreeBSD.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href={qa-url}>qa</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussione su certificati di qualità, solitamente sotto una release</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-rc>freebsd-rc</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussione sul sistema <span class=filename>rc.d</span> e relativo sviluppo</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-realtime>freebsd-realtime</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Sviluppo di estensioni realtime su FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-scsi>freebsd-scsi</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il sottosistema SCSI</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-security>mailing list sulla sicurezza in FreeBSD</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Questioni relative alla sicurezza di FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-small>freebsd-small</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>L’uso di FreeBSD in applicazioni embedded (obsoleto; usare al suo posto <a href=https://lists.FreeBSD.org/subscription/freebsd-embedded>freebsd-embedded</a>)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href={smp-url}>smp</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni di design per sistemi a multiprocessore [a]simmetrico</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-sparc64>freebsd-sparc64</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD su architetture SPARC®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-standards>freebsd-standards</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>La coerenza di FreeBSD agli standards C99 e POSIX®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-sun4v>freebsd-sun4v</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Il porting di FreeBSD su sistemi T1 UltraSPARC®</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-testing>freebsd-testing</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Test di stabilità e performance di FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-threads>freebsd-threads</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Threading in FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-tokenring>freebsd-tokenring</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Supporto per il token-ring in FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-usb>freebsd-usb</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Supporto USB in FreeBSD</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-vuxml>freebsd-vuxml</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Discussioni sull’infrastruttura VuXML</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-x11>freebsd-x11</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Mantenimento e supporto di X11 su FreeBSD</p></td></tr></tbody></table><div class=paragraph><p><em>Liste limitate:</em> Le seguenti liste sono adatte ad un audience più specializzata (ed esigente) e probabilmente non sono di interesse del pubblico generico. È inoltre buona norma frequentare le liste tecniche prima di unirsi ad una di queste liste così da comprendere l’etichetta di comunicazione richiesta.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:50%><col style=width:50%><thead><tr><th class="tableblock halign-left valign-top">Lista</th><th class="tableblock halign-left valign-top">Argomento</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>freebsd-hubs</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Per coloro che gestiscono mirrors (supporto infrastrutturale)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-user-groups>freebsd-user-groups</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Coordinamento dei gruppi utenti</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-vendors>freebsd-vendors</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Coordinamento dei venditori pre-release</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/freebsd-www>freebsd-www</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Coloro che mantengono il sito <a href=https://www.FreeBSD.org/it/>www.FreeBSD.org</a></p></td></tr></tbody></table><div class=paragraph><p><em>Liste digest:</em> Tutte le liste sopracitate sono anche consultabili come digest. Una volta iscritto a una lista, puoi cambiare le tue opzioni digest nella sezione delle opzioni del tuo account.</p></div><div class=paragraph><p><em>Liste CVS:</em> Le liste seguenti sono per le persone interessate a vedere i messaggi di log delle modifiche alle varie aree dell’albero dei sorgenti. Sono liste a <em>Sola Lettura</em> e non si dovrebbero inviare messaggi ad esse.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:33.3333%><col style=width:33.3333%><col style=width:33.3334%><thead><tr><th class="tableblock halign-left valign-top">Lista</th><th class="tableblock halign-left valign-top">Area dei sorgenti</th><th class="tableblock halign-left valign-top">Descrizione dell’area</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/cvs-all>cvs-all</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/(CVSROOT|doc|ports|projects|src)</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutte le modifiche in ogni parte dell’albero (unione di tutte le altre liste di commit CVS)</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/cvs-doc>cvs-doc</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/(doc|www)</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutte le modifiche all’albero doc e www</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/cvs-ports>cvs-ports</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/ports</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutte le modifiche all’albero ports</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/cvs-projects>cvs-projects</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/projects</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutte le modifiche all’albero projects</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><a href=https://lists.FreeBSD.org/subscription/cvs-src>cvs-src</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><span class=filename>/usr/src</span></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tutte le modifiche all’albero src</p></td></tr></tbody></table></div><div class=sect3><h4 id=eresources-subscribe>C.1.2. Come iscriversi<a class=anchor href=#eresources-subscribe></a></h4><div class=paragraph><p>Per iscriverti ad una lista, clicca sul nome della lista qui sopra o vai su <a href=https://lists.freebsd.org class=bare>https://lists.freebsd.org</a> e clicca sulla lista a cui sei interessato. La pagina delle liste dovrebbe contenere tutte le informazioni necessarie all’iscrizione.</p></div><div class=paragraph><p>Per mandare un messaggio ad una lista basta inviare una mail a <a href=mailto:listname@FreeBSD.org>listname@FreeBSD.org</a>. Sarà poi redisribuita a tutti i membri della lista.</p></div><div class=paragraph><p>Per disiscriverti da una lista, clicca sull’URL che trovi in fondo a ogni email ricevuta dalla lista. È anche possibile inviare un’email a <a href=mailto:listname-unsubscribe@FreeBSD.org>listname-unsubscribe@FreeBSD.org</a> per disiscriverti.</p></div><div class=paragraph><p>A costo di ripeterci, vorremmo che i membri della lista tecnica tenessero la discussione su un tono tecnico. Se sei solo interessato ad annunci importanti, allora è preferibile che ti iscrivi alla <a href=https://lists.FreeBSD.org/subscription/freebsd-announce>mailing list di annunci su FreeBSD</a>, creata apposta per traffico non frequente.</p></div></div><div class=sect3><h4 id=eresources-charters>C.1.3. Argomenti delle liste<a class=anchor href=#eresources-charters></a></h4><div class=paragraph><p><em>Tutte</em> le mailing list FreeBSD hanno alcune regole base che tutti gli utenti devono seguire. La mancata aderenza a queste regole comporterà due (2) avvisi scritti dal PostMaster FreeBSD <a href=mailto:postmaster@FreeBSD.org>postmaster@FreeBSD.org</a>, dopo dei quali, ad una terza trasgressione, il membro sarà espulso da tutte le mailing list di FreeBSD e gli sarà impedita qualsiasi futura iscrizione. Siamo mortificati del fatto che queste regole e misure siano necessarie, ma al giorno d’oggi Internet è diventato, a quanto pare, un’ambiente alquanto disordinato, e molti paiono scordarsi di quanto siano fragili alcuni suoi meccanismi.</p></div><div class=paragraph><p>Regole della strada:</p></div><div class=ulist><ul><li><p>L’argomento di ogni messaaggio dovrebbe aderire all’argomento della lista a cui è inviato, ad esempio se la lista è a carattere tecnico, i vostri messaggi dovrebbero contenere discussioni tecniche. Chiacchiericci continui ed irrilevanti vanno a discapito del valore della lista per tutti i suoi membri e non saranno tollerati. Per discussioni libere senza restrizioni sull’argomento, la <a href=https://lists.FreeBSD.org/subscription/freebsd-chat>mailing list di chiacchiere su FreeBSD</a> è liberamente fruibile e dovrebbe essere usata per questo.</p></li><li><p>Non bisognerebbe scrivere a più di due mailing list, ed anche a due solo e soltanto se un motivo reale e concreto esiste. Per molte liste, esiste già un grande traffico di messaggi che si sovrappongono ed eccetto per i mix più esoterici (ad esempio "-stable & -scsi"), non c’è alcun motivo di scrivere a più di una lista alla volta. Se un messaggio è inviato in modo tale che molte mailing list appaiono nella linea <code>Cc</code>, allora la linea <code>Cc</code> dovrebbe essere suddivisa prima di inviare nuovi messaggi. <em>Voi siete del tutto responsabili per i vostri messaggi inviati in modo errato, non importa di chi sia la causa.</em></p></li><li><p>Attacchi personali ed insulti (nel contesto di una discussione) non sono permessi, e questa regola comprende membri e sviluppatori. Gravi violazioni della netiquette, come citare o inviare messaggi altrui quando il permesso a farlo non c’era e non sarebbe giunto sono altamente disapprovate ma non sanzionate direttamente. <em>Comunque</em>, ci sono pochissimi casi in cui questi messaggi sarebbero pertinenti all’argomento della lista, quindi tali comportamenti probabilmente otterrebbero un avviso (o un espulsione) del Postmaster, solo per quel motivo.</p></li><li><p>Pubblicità di prodotti non-FreeBSD è altamente proibita e comportertà un’espulsione immediata se è chiaro che il trasgressore sta inviando pubblicità spam.</p></li></ul></div><div class=paragraph><p><em>Argomenti delle singole liste:</em></p></div><div class=dlist><dl><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-acpi>mailing list su ACPI in FreeBSD</a></dt><dd><p><em>Sviluppo di ACPI e della gestione dell’energia</em></p></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-afs>freebsd-afs</a></dt><dd><p><em>Andrew File System</em></p><div class=paragraph><p>Questa è la lista per le discussioni sul porting e l’uso dell' AFS da CMU/Transarc.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-announce>mailing list di annunci su FreeBSD</a></dt><dd><p><em>Eventi importanti/pietre miliari</em></p><div class=paragraph><p>Questa è la mailing list per le persone interessate soltanto in annunci occasionali di eventi significativi riguardanti FreeBSD. Contiene annunci riguardo snapshots e altre release. Contiene annunci su nuove potenzialità di FreeBSD. Può contenere richieste di volontari etc. È una mailing list dal poco traffico, strettamente regolata.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-arch>freebsd-arch</a></dt><dd><p><em>Discussione sull’architettura e la progettazione</em></p><div class=paragraph><p>Questa lista è per la discussione dell’architettura FreeBSD. I messaggi saranno mantenuti strettamente tecnici di natura. Esempi di possibili argomenti:</p></div><div class=ulist><ul><li><p>Come modificare il processo di build per avere molti build personalizzati in funzione allo stesso tempo.</p></li><li><p>Cosa deve essere modificato nel VFS per far funzionare i layers Heimann.</p></li><li><p>Come modificare l’interfaccia dei device driver per poter usare gli stessi driver senza problemi su molti buses e architetture.</p></li><li><p>Come scrivere un driver di rete.</p></li></ul></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-audit>freebsd-audit</a></dt><dd><p><em>Progetto di audit del sorgente</em></p><div class=paragraph><p>Questa è la mailing list per il progetto di audit del codice FreeBSD. Anche se in origine era intesa per cambiamenti relativi alla sicurezza, le sue caratteristiche sono state estese per includere ogni cambiamento al codice.</p></div><div class=paragraph><p>Questa lista è piena di discussioni di patch, e probabilmente di non grandissimo interesse per l’utente medio FreeBSD. Discussioni sulla sicurezza non relative ad una particolare modifica del codice si tengono in FreeBSD-security. Nel frattempo tutti gli svilupatori sono incoraggiati a spedire le proprie patch a questa lista per correzioni, specialmente se toccano parte del sistema dove un bug può influenzare negativamente l’integrità del sistema.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-binup>freebsd-binup</a></dt><dd><p><em>Aggiornamento dei binari FreeBSD</em></p><div class=paragraph><p>Questa lista esiste per fornire un terreno di discussione per il sistema di aggiornamento dei binari, o binup. Sono consentite questioni di design, dettagli di implementazione, patch, report di bug, report di status, richieste di feature, log delle modifiche, e tutto ciò che riguardi binup.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-bluetooth>freebsd-bluetooth</a></dt><dd><p><em>Bluetooth® su FreeBSD</em></p><div class=paragraph><p>Questo è il forum dove si riuniscono gli utenti Bluetooth® di FreeBSD. Sono consentite aromentazioni su problemi di progettazione, dettagli implementativi, patch, report di bug, lo stato attuale, nuove caratteristiche, e altro materiale relativo a Bluetooth®.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-bugbusters>freebsd-bugbusters</a></dt><dd><p><em>Coordinamento dello sforzo di gestione dei Problem Report</em></p><div class=paragraph><p>Lo scopo di questa lista è di servire come forum di coordinamento e discussione per il Bugmeister, i suoi Bugbuster, e ogni altra parte che abbia un genuino interesse nel database PR. Questa lista non è per la discussione di bug specifici, patch, o PR.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-bugs>freebsd-bugs</a></dt><dd><p><em>Report di bug</em></p><div class=paragraph><p>Questa è la lista per i report dei bug di FreeBSD. Quando possibile, i bug dovrebbero essere indicati usando il comando <a href="https://man.freebsd.org/cgi/man.cgi?query=send-pr&amp;sektion=1&amp;format=html">send-pr(1)</a> o tramite la sua <a href=https://www.FreeBSD.org/send-pr/>interfaccia WEB</a>.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-chat>freebsd-chat</a></dt><dd><p><em>Argomenti non tecnici relativi alla comunità FreeBSD</em></p><div class=paragraph><p>Questa lista contiene ciò che resta dalle altre liste riguardo ad informazioni non tecniche, sociali. Include discussioni sul fatto che Jordan sembri o meno un toon ferret, se scrivere o meno in maiuscolo, chi sta bevendo troppo caffè, dove spillano la migliore birra, chi spilla birra in cantina, e così via. Annunci occasionali di eventi importanti (party a venire, celebrazioni di matrimoni, nascite, nuovi lavori etc.) possono essere fatti alle liste non tecniche, ma i suddetti argomenti dovrebbero essere diretti a questa lista.</p></div></dd><dt class=hdlist1>core team di FreeBSD</dt><dd><p><em>Il core team di FreeBSD</em></p><div class=paragraph><p>Questa è una lista interna ad uso dei membri core. Messaggi possono esservi spediti quando una seria questione relativa a FreeBSD richiede un arbitrato da un alto scrutinio.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-current>mailing list su FreeBSD-CURRENT</a></dt><dd><p><em>Discussioni sull’uso di FreeBSD.current;</em></p><div class=paragraph><p>Questa è la mailing list di discussione di FreeBSD.current;. Contiene avvertimenti su nuove features in arrivo in -CURRENT che toccheranno gli utenti, ed istruzioni su passi che devono restare -CURRENT. Chiunque usi "CURRENT" deve sottoscrivere questa lista. È una mailing list tecnica per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-cvsweb>freebsd-cvsweb</a></dt><dd><p><em>Progetto CVSweb di FreeBSD</em></p><div class=paragraph><p>Discussioni tecniche sull’uso, sviluppo e mantenimento di FreeBSD-CVSweb</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-doc>freebsd-doc</a></dt><dd><p><em>Progetto di documentazione</em></p><div class=paragraph><p>Questa mailing list è per la discussione di argomenti e progetti riguardanti la creazione della documentazione FreeBSD. I membri di questa mailing list sono noti in genere come "The FreeBSD Documentation Project". È una lista aperta, sentitevi liberi di unirla e contribuirvi.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-drivers>freebsd-drivers</a></dt><dd><p><em>Scrivere driver di dispositivi per FreeBSD</em></p><div class=paragraph><p>Questo è un forum per discussioni tecniche relative ai driver di dispositivi su FreeBSD. È sostanzialmente un posto per gli sviluppatori di driver di dispositivi su questioni su come scrivere driver di dispositivi usando le API del kernel di FreeBSD.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-eclipse>freebsd-eclipse</a></dt><dd><p><em>Utenti FreeBSD di Eclipse IDE, strumenti, applicazioni client e port.</em></p><div class=paragraph><p>L’intenzione di questa lista è di fornire un supporto reciproco per tutto ciò che concerne la scelta, l’installazione, l’uso, lo sviluppo e il mantenimento di Eclipse IDE, gli strumenti, le applicazioni client sulla piattaforma FreeBSD e l’assistenza al porting di Eclipse IDE nonchè i plugin per l’ambiente di FreeBSD.</p></div><div class=paragraph><p>L’intenzione è anche quella di facilitare lo scambio di informazioni tra la comunità di Eclipse e la comunità di FreeBSD per un reciproco beneficio.</p></div><div class=paragraph><p>Benchè questa lista si focalizzi principalmente sulle necessità degli utenti di Eclipse essa fornisce anche un forum per quelli ai quali piace sviluppare applicaizoni specifiche per FreeBSD usando il framework Eclipse.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-embedded>freebsd-embedded</a></dt><dd><p><em>Come usare FreeBSD in applicazioni embedded.</em></p><div class=paragraph><p>In questa lista sono affrontati argomenti relativi all’uso di FreeBSD in sistemi embedded. Essendo questa una mailing list tecnica ci si aspetta contenuti tecnici. Per l’intento di questa lista definiamo i sistemi embedded come quei calcolatori che non sono desktop e che in genere sono utilizzati per un singolo fine al contrario dell’usuale concezione dei sistemi calcolatori. Esempi includono, senza limitazione alcuna, tutti i tipi di telefonini, strumenti di networking come i router, gli switch, i PBX, strumenti di misurazione remota, PDA, sistemi di punti vendita, e altri ancora.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-emulation>freebsd-emulation</a></dt><dd><p><em>Emulazione di altri sistemi come Linux/MS-DOS®/Windows®</em></p><div class=paragraph><p>Questo è un forum per discussioni tecniche relative all’esecuzione su FreeBSD di programmi scritti per altri sistemi operativi.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-eol>freebsd-eol</a></dt><dd><p><em>Supporto per il software relativo a FreeBSD che non è più supportato dal progetto FreeBSD.</em></p><div class=paragraph><p>Questa lista è rivolta a coloro che sono interessati a fornire o usufruire del supporto per software relativo a FreeBSD per il quale il progetto FreeBSD non fornisce più un supporto ufficiale (es. avvisi di sicurezza e patch).</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-firewire>freebsd-firewire</a></dt><dd><p><em>FireWire® (iLink, IEEE 1394)</em></p><div class=paragraph><p>Questa è la mailing list per la discussione del design e l’implementazione di un sottosistema FireWire® (anche noto come IEEE 1394 o iLink) per FreeBSD. Argomenti rilevanti includono nello specifico gli standards, i bus devices, i loro protocolli, insiemi di adapter boards/cards/chips, e l’architettura e implementazione del codice per il loro pieno supporto.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-fs>freebsd-fs</a></dt><dd><p><em>File system</em></p><div class=paragraph><p>Discussioni riguardanti i file system FreeBSD. Questa è una lista dalle caratteristiche tecniche per la quale ci si attende contenuto strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-geom>freebsd-geom</a></dt><dd><p><em>GEOM</em></p><div class=paragraph><p>Discussioni riguardanti GEOM e relative implementazioni. Questa è una mailing list tecnica per la quale ci si attente contenuto strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-gnome>freebsd-gnome</a></dt><dd><p><em>GNOME</em></p><div class=paragraph><p>Discussioni riguardanti The Gnome Desktop Environment per sistemi FreeBSD. Questa è una mailing list tecnica per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-ipfw>freebsd-ipfw</a></dt><dd><p><em>Firewall IP</em></p><div class=paragraph><p>Questo è il forum di discussione riguardante il redesign del codice IP firewall di FreeBSD. Questa è una mailing list tecnica per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-ia64>freebsd-ia64</a></dt><dd><p><em>Il porting di FreeBSD su IA64</em></p><div class=paragraph><p>Questa è una mailing list tecnica per individui impegnati attivamente nel porting di FreeBSD alla piattaforma IA-64 dall’Intel®, nel sollevare problemi e nel proporre soluzioni. Individui interessati nel seguire le discussioni tecniche sono comunque benvenuti.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-isdn>freebsd-isdn</a></dt><dd><p><em>Sistema di comunicazione ISDN</em></p><div class=paragraph><p>Questa è la mailing list per le persone che discutono lo sviluppo del supporto ISDN per FreeBSD.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-java>freebsd-java</a></dt><dd><p><em>Sviluppo Java™</em></p><div class=paragraph><p>Questa è la mailing list per le persone impegnate nello sviluppo di applicazioni Java™ significative per FreeBSD ed il porting ed il mantenimento delle JDK™.</p></div></dd></dl></div><div id=eresources-charters-jobs class=dlist><dl><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-jobs>freebsd-jobs</a></dt><dd><p><em>Cercasi e offresi opportunità di lavoro</em></p><div class=paragraph><p>Questo è un forum dove inviare avvisi di impiego e curriculum vitae relativi specificatamente a FreeBSD, ad esempio se stai cercando un impiego relativo a FreeBSD o hai un posto di lavoro da pubblicizzare che coinvolge FreeBSD allora questo è il posto giusto. Questa <em>non</em> è una mailing list sui problemi di occupazione in generale visto che forum appropriati esistono già da altre parti.</p></div><div class=paragraph><p>Nota che questa lista, come le altre mailing list di <code>FreeBSD.org</code>, è distribuita in tutto il mondo. Di conseguenza, devi essere chiaro sul luogo e sulle possibiltà di telelavoro o assistenza nel cambiare abitazione, se disponibili.</p></div><div class=paragraph><p>Le email dovrebbero usare solo formati aperti - preferibilmente testo semplice, ma molti lettori accettano anche Portable Document Format (PDF), HTML, e alcuni altri. Formati chiusi come Microsoft® Word (<span class=filename>.doc</span>) saranno respinti dal server delle mailing list.</p></div></dd><dt class=hdlist1><a href=https://mail.kde.org/mailman/listinfo/kde-freebsd>freebsd-kde</a></dt><dd><p><em>KDE</em></p><div class=paragraph><p>Discussioni concernenti KDE su sistemi FreeBSD. È una mailing list a carattere tecnico per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-hackers>freebsd-hackers</a></dt><dd><p><em>Discussioni tecniche</em></p><div class=paragraph><p>Questo è un forum per discussioni tecniche relative a FreeBSD. Questa è la mailing list tecnica principale. È per individui che lavorano attivamente a FreeBSD per sollevare problemi o discutere soluzioni alternative. Individui interessati nel seguire le discussioni tecniche sono comunque benvenuti. È una mailing list tecnica per la quale ci si attende contenuto strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-hardware>freebsd-hardware</a></dt><dd><p><em>Discussione generale sull’hardware e FreeBSD</em></p><div class=paragraph><p>Discussione generica sui vari tipi di hardware che FreeBSD supporta, vari problemi e suggerimenti riguardo a cosa convenga acquistare e cosa evitare.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-hubs>freebsd-hubs</a></dt><dd><p><em>Siti mirror</em></p><div class=paragraph><p>Annunci e discussioni per persone che mantengono siti mirror FreeBSD.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-isp>freebsd-isp</a></dt><dd><p><em>Questioni riguardanti gli Internet Service Provider</em></p><div class=paragraph><p>Questa mailing list è per la discussione di argomenti riguardanti gli Internet Service Provider (ISP) che usano FreeBSD. È una mailing list tecnica per a quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-openoffice>freebsd-openoffice</a></dt><dd><p><em>OpenOffice.org</em></p><div class=paragraph><p>Questione concernenti il porting ed il mantenimento di OpenOffice.org e StarOffice™.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-performance>freebsd-performance</a></dt><dd><p><em>Discussioni riguardo la calibrazione o la velocizzazione di FreeBSD</em></p><div class=paragraph><p>Questa mailing list esiste per procurare ad hackers, amministratori di sistema, e/o parti interessate un luogo dove discutere argomenti legati alla performance di FreeBSD. Argomenti accettabili includono installazioni di FreeBSD ad alto carico, con problemi di performance o che stanno spingendo ai limiti delle sue possibilità FreeBSD. Le parti interessate che sono disposte a lavorare per un miglioramento delle prestazioni di FreeBSD sono altamente incoraggiate a sottoscrivere questa lista. Questa è una lista estremamente tecnica, idealmente adatta per utenti FreeBSD esperti, hackers o amministratori intenzionati a mantenere FreeBSD veloce, robusto e scalabile. Questa lista non è una lista domanda-e-risposta che sostituisce l’uso della documentazione, quanto piuttosto un luogo dove apportare i propri contributi o porre domande che non hanno avuto risposta altrove riguardo a tematiche di prestazione.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-pf>freebsd-pf</a></dt><dd><p><em>Discussioni sul sistema di firewall packet filter</em></p><div class=paragraph><p>Discussioni concernenti il sistema di firewall packet filter (pf) su FreeBSD. Saranno ben accolte sia discussioni tecniche che questioni generiche. Inoltre su questa lista si discute anche del framework ALTQ Qos.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-platforms>freebsd-platforms</a></dt><dd><p><em>Il porting sulle piattaforme non Intel®</em></p><div class=paragraph><p>Questione concernenti FreeBSD fra le varie piattaforme, discussioni generiche e proposte per ports ad architetture non Intel®. È una maliling list tecnica per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-policy>freebsd-policy</a></dt><dd><p><em>Le decisioni della politica del Core Team</em></p><div class=paragraph><p>Questa è una mailing list a scarso traffico, di sola lettura, per le decisioni politiche del Core Team.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-ports>freebsd-ports</a></dt><dd><p><em>Discussioni sui "port"</em></p><div class=paragraph><p>Discussioni riguardanti la collezione dei "port" di FreeBSD (<span class=filename>/usr/ports</span>), l’infrastruttura dei port, e sforzi generali per la coordinazione dei port. È una mailing list a carattere tecnico per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-ports-bugs>freebsd-ports-bugs</a></dt><dd><p><em>Discussione dei bug dei "port"</em></p><div class=paragraph><p>Discussioni concernenti report di problemi sulla "collezione dei port" di FreeBSD (<span class=filename>/usr/ports</span>), proposte di nuovi port, o modifiche ai port. È una mailing list a carattere tecnico per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-proliant>freebsd-proliant</a></dt><dd><p><em>Discussioni tecniche di FreeBSD su piattaforme server HP ProLiant</em></p><div class=paragraph><p>Questa mailing list è usata per discussioni tecniche sull’uso di FreeBSD su server HP ProLiant, includendo discussioni su driver ProLiant, software di gestione, strumenti di configurazione, ed aggiornamenti del BIOS. Come tale, questo è il posto adatto per discutere circa hpasmd, hpasmcli, e hpacucli.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-python>freebsd-python</a></dt><dd><p><em>Python su FreeBSD</em></p><div class=paragraph><p>Questa è una lista di discussioni relative al miglioramento del supporto di Python su FreeBSD. Questa è una mailing list tecnica. È per coloro che lavorano sul porting di Python, sui suoi moduli di terze parti e sul materiale di Zopein FreeBSD. Inoltre sono benvenute persone interessate alle discussioni tecniche.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-questions>freebsd-questions</a></dt><dd><p><em>Domande degli utenti</em></p><div class=paragraph><p>Questa è una mailing list per domande riguardanti FreeBSD. Non dovreste porre domande del tipo "how to" alle liste tecniche a meno che stiate considerando le questioni come molto tecniche.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-scsi>freebsd-scsi</a></dt><dd><p><em>Sottosistema SCSI</em></p><div class=paragraph><p>Questa è la mailing list per le persone impegnate nel sottosistema SCSI di FreeBSD. È una mailing list tecnica per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-security>mailing list sulla sicurezza in FreeBSD</a></dt><dd><p><em>Questioni di sicurezza</em></p><div class=paragraph><p>Argomenti relativi alla sicurezza dei sistemi FreeBSD (DES, Kerberos, buchi di sicurezza noti e fixes, etc.). Questa è una mailing list tecnica per la quale ci si attende materiale strettamente tecnico. Notate che questa non è una lista domanda e risposta, ma che i contributi (SIA domande SIA risposte) alle FAQ sono benvenute.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-security-notifications>mailing list sugli avvisi di sicurezza su FreeBSD</a></dt><dd><p><em>Notifiche riguardanti la sicurezza</em></p><div class=paragraph><p>Notifiche riguardanti problemi di sicurezza di FreeBSD e fix. Non è una lista di discussione. La relativa lista di discussione è FreeBSD-security.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-small>freebsd-small</a></dt><dd><p><em>Utilizzo di FreeBSD in applicazioni embedded</em></p><div class=paragraph><p>Questa lista discute argomenti relativi ad installazioni di FreeBSD su macchine dalle risorse estremamente limitate e sistemi embedded.</p></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Questa lista è stata resa obsoleta da <a href=https://lists.FreeBSD.org/subscription/freebsd-embedded>freebsd-embedded</a>.</p></div></td></tr></tbody></table></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-stable>mailing list su FreeBSD-STABLE;</a></dt><dd><p><em>Discussioni riguardo l’uso di FreeBSD.stable;</em></p><div class=paragraph><p>Questa è la mailing list degli utenti di FreeBSD.stable;. Include avvertimenti su nuove caratteristiche in arrivo nella -STABLE che toccheranno gli utenti, e istruzioni sui passi da compiere per tenere aggiornata la -STABLE. Chiunque usi la "STABLE" dovrebbe sottoscrivere questa lista. È una lista di carattere tecnico per la quale ci si attende materiale strettamente tecnico.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-standards>freebsd-standards</a></dt><dd><p><em>Rispetto degli standards C99 & POSIX</em></p><div class=paragraph><p>Questo è un forum di discussioni tecniche relative al rispetto degli standards C99 e POSIX da parte di FreeBSD.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-usb>freebsd-usb</a></dt><dd><p><em>Discussioni per il supporto USB in FreeBSD</em></p><div class=paragraph><p>Questa è la mailing list per discussioni tecniche relative al supporto USB in FreeBSD.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-user-groups>freebsd-user-groups</a></dt><dd><p><em>Lista di coordinamento dei gruppi utenti</em></p><div class=paragraph><p>Questa è la mailing list per i coordinatori di ogni Gruppo Utenti locale, in cui discutere questioni fra di loro e un membro designato del Core Team. Questa mailing list dovrebbe essere limitata a discussioni su meeting e coordinamento di progetti che riguardano molti Gruppi Utenti.</p></div></dd><dt class=hdlist1><a href=https://lists.FreeBSD.org/subscription/freebsd-vendors>freebsd-vendors</a></dt><dd><p><em>I venditori</em></p><div class=paragraph><p>Discussioni di coordinamento fra il FreeBSD Project e venditori di software e hardware per FreeBSD.</p></div></dd></dl></div></div><div class=sect3><h4 id=eresources-mailfiltering>C.1.4. Filtraggio sulle Mailing List<a class=anchor href=#eresources-mailfiltering></a></h4><div class=paragraph><p>Le mailing list di FreeBSD sono filtrate in molti modi per evitare la distribuzione di spam, virus, e altre email non volute. Le azioni di filtraggio descritte in questa sezione non includono tutte quelle usate per proteggere le mailing list.</p></div><div class=paragraph><p>Solo certi tipi di allegati sono ammessi sulle mailing list. Tutti gli allegati con un tipo di contenuto MIME non presente nella lista seguente saranno eliminati prima che l’email sia distribuita sulla mailing list.</p></div><div class=ulist><ul><li><p>application/octet-stream</p></li><li><p>application/pdf</p></li><li><p>application/pgp-signature</p></li><li><p>application/x-pkcs7-signature</p></li><li><p>message/rfc822</p></li><li><p>multipart/alternative</p></li><li><p>multipart/related</p></li><li><p>multipart/signed</p></li><li><p>text/html</p></li><li><p>text/plain</p></li><li><p>text/x-diff</p></li><li><p>text/x-patch</p></li></ul></div><div class="admonitionblock note"><table><tbody><tr><td class=icon><i class="fa icon-note" title=Note></i></td><td class=content><div class=paragraph><p>Alcune mailing list potrebbero ammettere allegati di altri tipi di contenuto MIME, ma la lista qui sopra dovrebbe essere corretta per la maggior parte delle mailing list.</p></div></td></tr></tbody></table></div><div class=paragraph><p>Se un’email contiene sia una versione HTML che una versione testo, quella HTML verrà rimossa. Se un’email contiene solo una versione HTML, sarà convertita in semplice testo.</p></div></div></div><div class=sect2><h3 id=eresources-news>C.2. Newsgroup Usenet<a class=anchor href=#eresources-news></a></h3><div class=paragraph><p>Oltre ai due newsgroup specificamente designati per FreeBSD, ve ne sono molti altri in cui FreeBSD è discusso o che sono comunque rilevanti per gli utenti FreeBSD. Sono disponibili degli <a href=http://minnie.tuhs.org/BSD-info/bsdnews_search.html>archivi interrogabili attraverso parole chiave</a> su questi newsgroup per gentile concessione di Warren Toomey <a href=mailto:wkt@cs.adfa.edu.au>wkt@cs.adfa.edu.au</a>.</p></div><div class=sect3><h4 id=_newsgroup_specifici_bsd>C.2.1. Newsgroup specifici BSD<a class=anchor href=#_newsgroup_specifici_bsd></a></h4><div class=ulist><ul><li><p><a href=news:comp.unix.bsd.freebsd.announce>comp.unix.bsd.freebsd.announce</a></p></li><li><p><a href=news:comp.unix.bsd.freebsd.misc>comp.unix.bsd.freebsd.misc</a></p></li><li><p><a href=news:de.comp.os.unix.bsd>de.comp.os.unix.bsd</a> (Tedesco)</p></li><li><p><a href=news:fr.comp.os.bsd>fr.comp.os.bsd</a> (Francese)</p></li><li><p><a href=news:it.comp.os.freebsd>it.comp.os.freebsd</a> (Italiano)</p></li><li><p><a href=news:tw.bbs.comp.386bsd>tw.bbs.comp.386bsd</a> (Cinese Tradizionale)</p></li></ul></div></div><div class=sect3><h4 id=_altri_newsgroup_unix_di_interesse>C.2.2. Altri newsgroup UNIX® di interesse<a class=anchor href=#_altri_newsgroup_unix_di_interesse></a></h4><div class=ulist><ul><li><p><a href=news:comp.unix>comp.unix</a></p></li><li><p><a href=news:comp.unix.questions>comp.unix.questions</a></p></li><li><p><a href=news:comp.unix.admin>comp.unix.admin</a></p></li><li><p><a href=news:comp.unix.programmer>comp.unix.programmer</a></p></li><li><p><a href=news:comp.unix.shell>comp.unix.shell</a></p></li><li><p><a href=news:comp.unix.user-friendly>comp.unix.user-friendly</a></p></li><li><p><a href=news:comp.security.unix>comp.security.unix</a></p></li><li><p><a href=news:comp.sources.unix>comp.sources.unix</a></p></li><li><p><a href=news:comp.unix.advocacy>comp.unix.advocacy</a></p></li><li><p><a href=news:comp.unix.misc>comp.unix.misc</a></p></li><li><p><a href=news:comp.bugs.4bsd>comp.bugs.4bsd</a></p></li><li><p><a href=news:comp.bugs.4bsd.ucb-fixes>comp.bugs.4bsd.ucb-fixes</a></p></li><li><p><a href=news:comp.unix.bsd>comp.unix.bsd</a></p></li></ul></div></div><div class=sect3><h4 id=_x_windows_system>C.2.3. X Windows System<a class=anchor href=#_x_windows_system></a></h4><div class=ulist><ul><li><p><a href=news:comp.windows.x.i386unix>comp.windows.x.i386unix</a></p></li><li><p><a href=news:comp.windows.x>comp.windows.x</a></p></li><li><p><a href=news:comp.windows.x.apps>comp.windows.x.apps</a></p></li><li><p><a href=news:comp.windows.x.announce>comp.windows.x.announce</a></p></li><li><p><a href=news:comp.windows.x.intrinsics>comp.windows.x.intrinsics</a></p></li><li><p><a href=news:comp.windows.x.motif>comp.windows.x.motif</a></p></li><li><p><a href=news:comp.windows.x.pex>comp.windows.x.pex</a></p></li><li><p><a href=news:comp.emulators.ms-windows.wine>comp.emulators.ms-windows.wine</a></p></li></ul></div></div></div><div class=sect2><h3 id=eresources-web>C.3. Server World Wide Web<a class=anchor href=#eresources-web></a></h3><div class=paragraph><p><a href=#central-mirrors>Central Servers</a>, <a href=#armenia-mirrors>Armenia</a>, <a href=#australia-mirrors>Australia</a>, <a href=#austria-mirrors>Austria</a>, <a href=#czech-republic-mirrors>Czech Republic</a>, <a href=#denmark-mirrors>Denmark</a>, <a href=#finland-mirrors>Finland</a>, <a href=#france-mirrors>France</a>, <a href=#germany-mirrors>Germany</a>, <a href=#hong-kong-mirrors>Hong Kong</a>, <a href=#ireland-mirrors>Ireland</a>, <a href=#japan-mirrors>Japan</a>, <a href=#latvia-mirrors>Latvia</a>, <a href=#lithuania-mirrors>Lithuania</a>, <a href=#netherlands-mirrors>Netherlands</a>, <a href=#norway-mirrors>Norway</a>, <a href=#russia-mirrors>Russia</a>, <a href=#slovenia-mirrors>Slovenia</a>, <a href=#south-africa-mirrors>South Africa</a>, <a href=#spain-mirrors>Spain</a>, <a href=#sweden-mirrors>Sweden</a>, <a href=#switzerland-mirrors>Switzerland</a>, <a href=#taiwan-mirrors>Taiwan</a>, <a href=#uk-mirrors>United Kingdom</a>, <a href=#usa-mirrors>United States of America</a>.</p></div><div class=paragraph><p>(as of UTC)</p></div><div id=central-mirrors class=paragraph><p><strong>Central Servers</strong></p></div><div class=ulist><ul><li><p><a href=https://www.FreeBSD.org/ class=bare>https://www.FreeBSD.org/</a></p></li></ul></div><div id=armenia-mirrors class=paragraph><p><strong>Armenia</strong></p></div><div class=ulist><ul><li><p><a href=http://www.at.FreeBSD.org/ class=bare>http://www.at.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=australia-mirrors class=paragraph><p><strong>Australia</strong></p></div><div class=ulist><ul><li><p><a href=http://www.au.FreeBSD.org/ class=bare>http://www.au.FreeBSD.org/</a></p></li><li><p><a href=http://www2.au.FreeBSD.org/ class=bare>http://www2.au.FreeBSD.org/</a></p></li></ul></div><div id=austria-mirrors class=paragraph><p><strong>Austria</strong></p></div><div class=ulist><ul><li><p><a href=http://www.at.FreeBSD.org/ class=bare>http://www.at.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=czech-republic-mirrors class=paragraph><p><strong>Czech Republic</strong></p></div><div class=ulist><ul><li><p><a href=http://www.cz.FreeBSD.org/ class=bare>http://www.cz.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=denmark-mirrors class=paragraph><p><strong>Denmark</strong></p></div><div class=ulist><ul><li><p><a href=http://www.dk.FreeBSD.org/ class=bare>http://www.dk.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=finland-mirrors class=paragraph><p><strong>Finland</strong></p></div><div class=ulist><ul><li><p><a href=http://www.fi.FreeBSD.org/ class=bare>http://www.fi.FreeBSD.org/</a></p></li></ul></div><div id=france-mirrors class=paragraph><p><strong>France</strong></p></div><div class=ulist><ul><li><p><a href=http://www1.fr.FreeBSD.org/ class=bare>http://www1.fr.FreeBSD.org/</a></p></li></ul></div><div id=germany-mirrors class=paragraph><p><strong>Germany</strong></p></div><div class=ulist><ul><li><p><a href=http://www.de.FreeBSD.org/ class=bare>http://www.de.FreeBSD.org/</a></p></li></ul></div><div id=hong-kong-mirrors class=paragraph><p><strong>Hong Kong</strong></p></div><div class=ulist><ul><li><p><a href=http://www.hk.FreeBSD.org/ class=bare>http://www.hk.FreeBSD.org/</a></p></li></ul></div><div id=ireland-mirrors class=paragraph><p><strong>Ireland</strong></p></div><div class=ulist><ul><li><p><a href=http://www.ie.FreeBSD.org/ class=bare>http://www.ie.FreeBSD.org/</a></p></li></ul></div><div id=japan-mirrors class=paragraph><p><strong>Japan</strong></p></div><div class=ulist><ul><li><p><a href=http://www.jp.FreeBSD.org/www.FreeBSD.org/ class=bare>http://www.jp.FreeBSD.org/www.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=latvia-mirrors class=paragraph><p><strong>Latvia</strong></p></div><div class=ulist><ul><li><p><a href=http://www.lv.FreeBSD.org/ class=bare>http://www.lv.FreeBSD.org/</a></p></li></ul></div><div id=lithuania-mirrors class=paragraph><p><strong>Lithuania</strong></p></div><div class=ulist><ul><li><p><a href=http://www.lt.FreeBSD.org/ class=bare>http://www.lt.FreeBSD.org/</a></p></li></ul></div><div id=netherlands-mirrors class=paragraph><p><strong>Netherlands</strong></p></div><div class=ulist><ul><li><p><a href=http://www.nl.FreeBSD.org/ class=bare>http://www.nl.FreeBSD.org/</a></p></li></ul></div><div id=norway-mirrors class=paragraph><p><strong>Norway</strong></p></div><div class=ulist><ul><li><p><a href=http://www.no.FreeBSD.org/ class=bare>http://www.no.FreeBSD.org/</a></p></li></ul></div><div id=russia-mirrors class=paragraph><p><strong>Russia</strong></p></div><div class=ulist><ul><li><p><a href=http://www.ru.FreeBSD.org/ class=bare>http://www.ru.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=slovenia-mirrors class=paragraph><p><strong>Slovenia</strong></p></div><div class=ulist><ul><li><p><a href=http://www.si.FreeBSD.org/ class=bare>http://www.si.FreeBSD.org/</a></p></li></ul></div><div id=south-africa-mirrors class=paragraph><p><strong>South Africa</strong></p></div><div class=ulist><ul><li><p><a href=http://www.za.FreeBSD.org/ class=bare>http://www.za.FreeBSD.org/</a></p></li></ul></div><div id=spain-mirrors class=paragraph><p><strong>Spain</strong></p></div><div class=ulist><ul><li><p><a href=http://www.es.FreeBSD.org/ class=bare>http://www.es.FreeBSD.org/</a></p></li><li><p><a href=http://www2.es.FreeBSD.org/ class=bare>http://www2.es.FreeBSD.org/</a></p></li></ul></div><div id=sweden-mirrors class=paragraph><p><strong>Sweden</strong></p></div><div class=ulist><ul><li><p><a href=http://www.se.FreeBSD.org/ class=bare>http://www.se.FreeBSD.org/</a></p></li></ul></div><div id=switzerland-mirrors class=paragraph><p><strong>Switzerland</strong></p></div><div class=ulist><ul><li><p><a href=http://www.ch.FreeBSD.org/ class=bare>http://www.ch.FreeBSD.org/</a> (IPv6)</p></li><li><p><a href=http://www2.ch.FreeBSD.org/ class=bare>http://www2.ch.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=taiwan-mirrors class=paragraph><p><strong>Taiwan</strong></p></div><div class=ulist><ul><li><p><a href=http://www.tw.FreeBSD.org/ class=bare>http://www.tw.FreeBSD.org/</a></p></li><li><p><a href=http://www2.tw.FreeBSD.org/ class=bare>http://www2.tw.FreeBSD.org/</a></p></li><li><p><a href=http://www4.tw.FreeBSD.org/ class=bare>http://www4.tw.FreeBSD.org/</a></p></li><li><p><a href=http://www5.tw.FreeBSD.org/ class=bare>http://www5.tw.FreeBSD.org/</a> (IPv6)</p></li></ul></div><div id=uk-mirrors class=paragraph><p><strong>United Kingdom</strong></p></div><div class=ulist><ul><li><p><a href=http://www1.uk.FreeBSD.org class=bare>http://www1.uk.FreeBSD.org</a></p></li><li><p><a href=http://www3.uk.FreeBSD.org/ class=bare>http://www3.uk.FreeBSD.org/</a></p></li></ul></div><div id=usa-mirrors class=paragraph><p><strong>United States of America</strong></p></div><div class=ulist><ul><li><p><a href=http://www5.us.FreeBSD.org/ class=bare>http://www5.us.FreeBSD.org/</a> (IPv6)</p></li></ul></div></div><div class=sect2><h3 id=eresources-email>C.4. Indirizzi Email<a class=anchor href=#eresources-email></a></h3><div class=paragraph><p>I seguenti Gruppi Utenti forniscono indirizzi email per i propri membri. Gli amministratori di lista si riservano il diritto di revocare l’indirizzo assegnato se in alcun modo se ne fa cattivo uso.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Dominio</th><th class="tableblock halign-left valign-top">Offerta</th><th class="tableblock halign-left valign-top">Gruppo utente</th><th class="tableblock halign-left valign-top">Amministratore</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>ukug.uk.FreeBSD.org</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Solo forwarding</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><a href=mailto:freebsd-users@uk.FreeBSD.org>freebsd-users@uk.FreeBSD.org</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lee Johnston <a href=mailto:lee@uk.FreeBSD.org>lee@uk.FreeBSD.org</a></p></td></tr></tbody></table></div><div class=sect2><h3 id=eresources-shell>C.5. Shell Accounts<a class=anchor href=#eresources-shell></a></h3><div class=paragraph><p>I seguenti Gruppi utenti forniscono account di shell a persone che supportano attivamente il progetto FreeBSD. Gli amministratori elencati si riservano il diritto di cancellare l’account se viene in alcun modo usato male.</p></div><table class="tableblock frame-none grid-all stretch informaltable"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Host</th><th class="tableblock halign-left valign-top">Accesso</th><th class="tableblock halign-left valign-top">Offerta</th><th class="tableblock halign-left valign-top">Amministratore</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>dogma.freebsd-uk.eu.org</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Telnet/FTP/SSH</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Email, spazio Web, FTP anonimo</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Lee Johnston <a href=mailto:lee@uk.FreeBSD.org>lee@uk.FreeBSD.org</a></p></td></tr></tbody></table></div></div></div><div class=sect1><h2 id=pgpkeys>Appendice D: Chiavi PGP<a class=anchor href=#pgpkeys></a></h2><div class=sectionbody><div class=paragraph><p>Nel caso tu debba verificare una firma o inviare un messaggio cifrato a una delle cariche ufficiali o a uno degli sviluppatori, qui puoi trovare per tua comodità una serie di chiavi. Un portachiavi completo degli utenti <code>FreeBSD.org</code> è disponibile per il download da <a href=https://docs.FreeBSD.org/pgpkeys/pgpkeys.txt>pgpkeyring.txt</a>.</p></div><div class=sect2><h3 id=pgpkeys-officers>D.1. Cariche Ufficiali<a class=anchor href=#pgpkeys-officers></a></h3><div class=sect3><h4 id=_security_officer_team_security_officerfreebsd_org>D.1.1. Security Officer Team <code>&lt;<a href=mailto:security-officer@FreeBSD.org>security-officer@FreeBSD.org</a>></code><a class=anchor href=#_security_officer_team_security_officerfreebsd_org></a></h4><div class="literalblock literal-block-margin"><div class=content><pre>pub   rsa4096/D9AD2A18057474CB 2022-12-11 [C] [expires: 2026-01-24]
      Key fingerprint = 0BE3 3275 D74C 953C 79F8  1107 D9AD 2A18 0574 74CB
uid                            FreeBSD Security Officer &lt;security-officer@freebsd.org&gt;
sub   rsa4096/6E58DE901F001AEF 2022-12-11 [S] [expires: 2025-01-15]
sub   rsa4096/46DB26D62F6039B7 2022-12-11 [E] [expires: 2025-01-15]</pre></div></div><div class="literalblock literal-block-margin"><div class=content><pre>-----BEGIN PGP PUBLIC KEY BLOCK-----

mQINBGOVdeUBEADHF5VGg1iPbACB+7lomX6aDytUf0k2k2Yc/Kp6lfYv7JKU+1nr
TcNF7Gt1YkajPSeWRKNZw/X94g4w5TEOHbJ6QQWx9g+N7RjEq75actQ/r2N5zY4S
ujfFTepbvgR55mLTxlxGKFBmNrfNbpHRyh4GwFRgPlxf5Jy9SB+0m54yFS4QlSd0
pIzO0CLkjHUFy/8S93oSK2zUkgok5gLWruBXom+8VC3OtBElkWswPkE1pKZvMQCv
VyM+7BS+MCFXSdZczDZZoEzpQJGhUYFsdg0KqlLv6z1rP+HsgUYKTkRpcrumDQV0
MMuCE4ECU6nFDDTnbR8Wn3LF5oTt0GtwS0nWf+nZ1SFTDURcSPR4Lp/PKjuDAkOS
P8BaruCNx1ItHSwcnXw0gS4+h8FjtWNZpsawtzjjgApcl+m9KP6dkBcbN+i1DHm6
NG6YQVtVWyN8aOKmoC/FEm1CWh1bv+ri9XOkF2EqT/ktbjbT1hFoFGBkS9/35y1G
3KKyWtwKcyF4OXcArl6sQwGgiYnZEG3sUMaGrwQovRtMf7le3cAYsMkXyiAnEufa
deuabYLD8qp9L/eNo+9aZmhJqQg4EQb+ePH7bGPNDZ+M5oGUwReX857FoWaPhs4L
dAKQ1YwASxdKKh8wnaamjIeZSGP5TCjurH7pADAIaB3/D+ZNl2a7od+C1wARAQAB
tDdGcmVlQlNEIFNlY3VyaXR5IE9mZmljZXIgPHNlY3VyaXR5LW9mZmljZXJAZnJl
ZWJzZC5vcmc+iQJSBBMBCgA8AhsBBAsJCAcEFQoJCAUWAgMBAAIeBQIXgBYhBAvj
MnXXTJU8efgRB9mtKhgFdHTLBQJjlXeQBQkF3u+rAAoJENmtKhgFdHTLOVoQALS3
cj7rqYkHiV4zDYrgPEp9O1kAyGI8VdfGAMkDVTqr+wP4v/o7LIUrgwZl5qxesVFB
VknFr0Wp5g9h0iAjasoI5sDd6tH2SmumhBHXFVdftzDQhrugxH6fWRhHs0SaFYCk
Qt5nFbcpUfWgtQ35XTbsL8iENdYpjKXsSFQrJneGSwxIjWYTFn6ps/AI3gwR8+Bn
OffEFdYugJ049O6Vu6YBFJHrnMO7NbF4v95dVYuLtpMIaXWM+V9KITmhaBzFz5fM
Q7UOzcLlbxOYKNIWcp8QQk429mayKW5VUeUExUD1ZzBHn+P6ZG7QTMDu/RmBqiHo
ewCMVz4n9uXT5BiOngE4CvS0WQwHzK+k9MLpG2u/Bo9+LT0Ceh9Ou1rfU5+0tRwl
GyOFFjf3INS7I7gkcAwxQ7dzDItN/UQPZpg8y9mABU2x4enz0AvTnb61d/1dnTEr
tdNgU433he0ZnD1HurZCjBEWC656wv6iMdWcD8gjhMbmEpPmjvXcYlTO6zhEygSM
DiwdQCWK2W4++YJerA6ULBi3niNWBpofOFH8XylV56ruhjtHCo7+/3carcMoPOJv
lVZ1zCKxLro3TRBT15JTFBGqblRyTopFK3PuxW//GTnZOtpQEOV6yL4RAXcWeC1d
1hb5k/YxUmRF6XsDNEH4b08T8ZO8dV3dAV43Wh1oiQEzBBABCAAdFiEEuyjUCzYO
7pNq7RVv5fe8y6O93fgFAmObXVYACgkQ5fe8y6O93fiBlwf/W8y1XXJIx1ZA3n6u
f7aS70rbP9KFPr4U0dixwKE/gbtIQ9ckeNXrDDWz0v0NCz4qS+33IPiJg1WcY3vR
W90e7QgAueCo5TdZPImPbCs42vadpa5byMXS4Pw+xyT+d/yp2oLKYbj3En4bg1GM
w71DezIjvV+e01UR++u1t9yZ8LOWM5Kumz1zyQLZDZ8qIKt1bBfpa+E0cEqtNQWu
iGhQE3AHI8eWV+jBkg5y2zHRIevbWb1UPsj43lgkFtAGHk9rrM8Rmgr4AXr531iD
srBwauKZ/MElcF3MINuLH+gkPPaFHw/YIpLRLaZXZVsw3Xi1RNXI2n2ea29dvs/C
Lcf1vYkCMwQQAQgAHRYhBPwOh4rlr+eIAo1jVdOXkvSep+XCBQJjm14FAAoJENOX
kvSep+XC0DcP/1ZB7k9p1T+9QbbZZE1PJiHby3815ccH3XKexbNmmakHIn3L6Cet
F891Kqt9ssbhFRMNtyZ/k/8y8Hv5bKxVep5/HMyK+8aqfDFN0WMrqZh0/CiR6DJh
gnAmPNw/hAVHMHaYGII9kCrFfPFJ02FKoc81g9F08odb7TV+UlvRjkErhRxF+dGS
wQoO0RCbf0Z1cs7nd0Vb2z4IJh4XMxBjWc/uQ2Q9dH/0uRzwpAnR4YX+MG5YrX7Z
zBvDyR0r76iQwRSDKgioNgkr6R3rq1NZGdaj+8b0LzdOqtzKJ/eupDe3+H67e/EN
qymtreGjrubpiU9bKvYArisUqhE5KtguryvR6Qz9bj87nPg33DT3WWGVrwFRxBox
dbWzjQFv0wug8m4GAwVF7fPR5/eW7IHw8zvgn0vSPcZz7MZ4e6Y5jN4kA5/xWJYZ
Sps54qQWB+FA30unIXN68KqdIzONIbtaY3W4/JjJUCm4T+wEjKaH+wJX8w1DMjlg
mkTmGh/UrTyC1vXbPgk9Sy3cRTICR1T9z7W8UlmTtnKrUklrjlFR7SXzrEXzLGOX
Fm+NEHpHNXqzcm6c3QfzY/yQ9HSAQ/t7SUQ9caRePbDz3/msyPxtGFor9roQv6VN
wRXCyRgkH4Y5tPhJAQ8G/FxX+VXFb93QL0lfelb23/BBu6cUwW63SRn5uQINBGOV
dskBEADqo8z6TFAhrvHhJV5wHdj67guoYvpXP8gvdCqos8SLluqi0AWgJEwlqu7L
mKQ6qMoJ+2DN6y+dEtvOVgBAgF63LLf3FQKq9FB/3uqeIiQlCIl3H43f8KttEZzf
/lbry4Y6QhS2OXM31Ut9Q+1IfTGwvs1E8/J1U4jQrAGqNKknXyQyMweJ0jvvcSLJ
nv3S7COUJVOT3cTgVeh3RIQlFzqK2rSQmygDpS8bT8MjCsZr+KGezKpbddKXio4a
QW/e6nCMyYR8bo0GQ9DpsyAOsaENnkghncQhA7GdPZK9xLMNQMCp0OdcZlqRVjRZ
OutuzNW6PPoczs/NQq02YWK4BPtSV7+ldS9gPZTLIpnRNQRzcnA0vnQTqSAfasVw
sAGm+MpH7zcaMf2Tw1K08u7+5gyObgzUzQmGLCgo9VIncnDis0s4gfTmtrr5jCeV
7LYDQX+2fApMtXbVXeKJem1PS+Z6LPbW2HklxYuG5nFgewCYlQjKujfiwW1Clhi4
JQeE1Naobbaar99V/VeoHrOYAEWP0bkUyrFcocLJ+0g3KpjSkctIptgGGpMBKe4U
9O7pWoTki8Yz/uYQn/p0iZcG8SfKM8I4283jdsi5SUiNNJJZCBQTVA7d8MxUVv5+
qpX/v5XqYM3pHza2DLXzwfAE9O2dgN1OMZYIld+OnWcpm2PxIwARAQABiQRyBBgB
CgAmFiEEC+MydddMlTx5+BEH2a0qGAV0dMsFAmOVdskCGwIFCQICKQACQAkQ2a0q
GAV0dMvBdCAEGQEKAB0WIQS2FSd+gQh991yBgztuWN6QHwAa7wUCY5V2yQAKCRBu
WN6QHwAa77gbEADpUBT14cesITuMsOWYsyEtNmB4UlTFWCktk/YzyCotasZxIhMP
Xih9G1tDo9ExIWT8jNjSSA+w0Viua/PirDLvI8JtX1JiK3nwMenwlXwlkRAk9TJW
y944YegHF/5ytntwZ/L4BMYc3MztyZbw+sDwnNBZKYmO8gwfYobtfoGxOR4Onb37
bbUVw62xHQIn2zafSmMQ4oMXZTm9EteIYwgcrC1h+Urv5IXCJZHrqmXCPE5g5XZ1
G9jqkwlaRYWjcLD0qxwc5m9LNrF6OBS9N6S7DncIYt9VupI5OCr1uRSqzqaBMFDC
lTTH+dAx3b6J1KFB0UiHP3FeTalFh8L3NE+dN9apNAgkUWv/v4oo/6dkRu3NZse2
RAo/o2X5r40qk/lhydQRZTSTFsiuH3VUWVsgmqAHnHW7pMMw8FAlKhyRSFnhbW7r
e0jj8XMIO7G5yjQKQCnYuPdXbx++bP1PzsEWDv9j/sph5arcosdo6tEXklWHED17
MEPIton1+NRfsU0peEVggQXlwdTcZN/h7FeCZ56dcwCWdCpSlv6CcWzRXSNUyJpK
a9qfIqBX/monjy7w5IHmhvLwAYI6IoT11h1QDEfGfhrwWPwOjnXsaYm5E7wv8w69
PxMbOJbMpWSg8L7xW3LXKR1VwXggUC1+b3y67E5Ggi1hf0lfTnTMpL2ClO2QD/oC
hMIafhzxbjh2WzgYahVHZH3gpHc1/0Bnc07s9+Pa6EYYM9r0XzezLW7bswOjVloR
FreQ3FIF/2OSN0OGdm7dyYl0OliTIDDDlwK/l8bcckUcpHNR1dw0P3KvDlmLmzZy
G4HmzzSBa9jiFirEfcg2rnGc6Zi382jGVALuYVplPXyMOUiChp0AAQZzTIYpXw/g
pBE6em2k740yuK6WqG4yXXgk67FoH10TQvMd4Q73K4zw+9DMpThlUHcfBmAoViZw
il7C0xl+ysHX8ZI3JU8s1r3XAnpqdHi4Wpixm/ctXbVnTSA3FQr2SctJYqR1VHRW
GMW+Ii2SQDS+t9bZTzOgAPLDtfy+JqhBpwCB1a1EHftkJEojpfZipaYGkf3yc+vN
wUeUHp/csF9CT7Qbqaj1t7fVWzv7jcVKpRwngIT4vTSzqbo6WC34FuUAH0t7tJ5K
eZ625AqEFLmtqtDo+ydJhZrVrXBNXPfkx5hSVW/I9hvckMNwA3t0KfQC2sz+Z1Q1
a4vDWQYRytfyrgZkWGbXMn6l1JyqIolgJZuax2kYs7Vu3t8KptqCbv0ZBAGoMm7r
RLgVodhI9voA8YxCirSChrueJYn+JKk8MIyk3DdXpBoocMIAjFJAUgXjV5NQpZMy
xR8BEiQnBcHRIKVWEEyhbLtHpmCEsnKNyKVGoxs31IkEcgQYAQoAJgIbAhYhBAvj
MnXXTJU8efgRB9mtKhgFdHTLBQJlhctvBQkD8n2mAkDBdCAEGQEKAB0WIQS2FSd+
gQh991yBgztuWN6QHwAa7wUCY5V2yQAKCRBuWN6QHwAa77gbEADpUBT14cesITuM
sOWYsyEtNmB4UlTFWCktk/YzyCotasZxIhMPXih9G1tDo9ExIWT8jNjSSA+w0Viu
a/PirDLvI8JtX1JiK3nwMenwlXwlkRAk9TJWy944YegHF/5ytntwZ/L4BMYc3Mzt
yZbw+sDwnNBZKYmO8gwfYobtfoGxOR4Onb37bbUVw62xHQIn2zafSmMQ4oMXZTm9
EteIYwgcrC1h+Urv5IXCJZHrqmXCPE5g5XZ1G9jqkwlaRYWjcLD0qxwc5m9LNrF6
OBS9N6S7DncIYt9VupI5OCr1uRSqzqaBMFDClTTH+dAx3b6J1KFB0UiHP3FeTalF
h8L3NE+dN9apNAgkUWv/v4oo/6dkRu3NZse2RAo/o2X5r40qk/lhydQRZTSTFsiu
H3VUWVsgmqAHnHW7pMMw8FAlKhyRSFnhbW7re0jj8XMIO7G5yjQKQCnYuPdXbx++
bP1PzsEWDv9j/sph5arcosdo6tEXklWHED17MEPIton1+NRfsU0peEVggQXlwdTc
ZN/h7FeCZ56dcwCWdCpSlv6CcWzRXSNUyJpKa9qfIqBX/monjy7w5IHmhvLwAYI6
IoT11h1QDEfGfhrwWPwOjnXsaYm5E7wv8w69PxMbOJbMpWSg8L7xW3LXKR1VwXgg
UC1+b3y67E5Ggi1hf0lfTnTMpL2ClAkQ2a0qGAV0dMsjqhAAorQ725G342raJ+os
6+E/EFNsr4SR5H+AeinlQ2ymNSeO/ODsV6dmyYD3hed0mAXvIJt2B46fFC4eAP9f
VOIbMMhPMpnJuZyLPDi8gXcZLgWSRhJ88R98KIsmKlh+/fdZM4RI1JLjICi7kyNR
4jtKCzLj0DYVBzp1mn0lTwtFzv7SC9djpqFLnO5YoGPWfQHHhY02Trh2posRwAHO
oacXSFvsoQv6k6XNlStJ4lnrkH6t+Od4kU3/TJ0eQXs7Zd2WEVnMe1IhbihsGcAY
mzZzZlLOhskHCeVE2taHiXC6h4tC3/69I16N8ICauxGY41clPhiNmVaAzmkunOPz
ry5utl6HkpZ5/3UMVHI1JIvsfJW+vSMUhdcQILAv6DbRWWHeax3ZZ6iAVGCtJS7U
glwZM1Xor0okGtIS+aJ/Cw7tZ8Nm18lutcrf2MVW+BWpzMQKnWFQYTn1NEWjzYnx
9Na22+E8AvW02TdS0NSiP0sG/0q7lBNEck9vH4WEbbEXktj51Dg4ISUhQyW8BWwW
X+kSiNeqtcaikUb8SFj5vpTDotTSzikfT/jisvR5goTMNFCVHFZdXCdsbUZd8Iub
egAOh6Db/06y3mFYDEfcGJipab400OY03a2xw9Vz+YxrKfELCTBo2tZv+3K8kXgq
XFcbyJnkXmjnYM/sw5kKqtzuc7i5Ag0EY5V3BwEQAMpFVczZo9ZPNsgW791UW5o6
wnrnd1nIO+S4rc37q2TEz8KGHCuxo5NwffZ2t6Ln04BI54pbapg17b7a0hPka37H
FkL28n4VyMdx0CsAm3QEfUsdK6xwKV2SucYeVcrV1upcN4PdXD7su1I7/A4CWXFJ
G047zJ0Z89lJZiQEiAq7ghvEoinC0sm+0a6ao/ocqCgWCKM1yCPOyzJXleRrv29S
RnYziMR+q2U0x9xg9Xl6GMwUmFwbJc9nORVvLH7fbU6/du8EgoAYrglFOFZG/TSo
lSGWRSMiavz0JSD/i+rEN4aIT4WfBe+L9Wy1AmrNxiAO+zKmzHQu3JSxDncr+y+h
cd+W0gqw10FoI9jWLcL7kR+6a0iOjuJSXSopq2l3DafiPxtCFmr4CGQhzBHM6e4/
v/NNd3F0XpVbJ6RQph7lkfvfz8q2lvUlHhezJ0p1xXmhff9CHjdVMhmAmz5+imBA
Xk2mottNfKb0pFEen1xY3K/UPA4g+oPsSj495MsvIg9eIMCcC3/z0SEUMWH/styy
JzPqfpyfGwZeTcIj9vg2o+RnGvmcLVYA/EGToPk905kv/cK73oy8bZyOB0zMg7T9
PaWgLUO0sqjqo0Mw3knFySg3oRXlcilPQvfPdX0JvwLpc9DWlr1+1GkCXJ08lWug
Jc96CJQupKRb1IbC0oUXABEBAAGJAjwEGAEKACYWIQQL4zJ110yVPHn4EQfZrSoY
BXR0ywUCY5V3BwIbDAUJAgIpAAAKCRDZrSoYBXR0ywwtD/wIDmEcHdFlyFRTomUB
jbeK2uzcZIhkkgL58lc63UPle5iJ2FBvmYS+0rQS53sVEsccn5KfkOwTryKllvWb
l0IzuiqfawxALcfWpfZJHzTMSnDHfgXvOOyFMQruqRDAHAr7PNC0CnbT0sEF2ZFz
ad8M9fLqtkXUx4mgECNGJ4CVqg75KY8uUzv/BmRwEf587FT5/iAIed5MjFB2VFDX
9GABcvTTbHxCZIxnxl3cs15SxT0lAofZ2ueU6kWYWZSXFeaEM/4ymPJws2mmV0Ak
bJghLXCn9Mx3nX6NTZZ9Harbru+RzW3/Hg3DZd0J9vko8PafP0l1NWtgyX74CqvT
gjzTxXTnqrRXzcczK7fhcC2u4i0prPtXXcyyi7SwpoLikaZCLFFhUmOx+mS5Tjtg
FyFZBNxnO7iAwkzfcTcC9sPoWaFmiQf6q5EIYzG+WQpncj80mxl3HWOP6oFj/hZJ
RYseKeMkvJzLTo87rFdM6CsMrLwETR6e+aWM0btPFil1rXVACNOjsy0bxTV8OJEf
yxnYmyjvnBvB0kdiaVEDdVhxgSqzLAX4mgXa49/V6M/uzMr+n3/A1Jdk4V6fVm8S
5cFIXxoUat3cB4xGaT9OWD3o1NPr6eS9Vo0EsJlRl81SG68fS+Qtk2fX27T68YG4
Aa3zMfZxUsVuFLtTuQbRC+fJpIkCPAQYAQoAJgIbDBYhBAvjMnXXTJU8efgRB9mt
KhgFdHTLBQJlhcuqBQkD8n1oAAoJENmtKhgFdHTLoO0QAJsTE9fkleb7YzPEuP9G
J3jx8PGdWm7n+8UNdr24kS6gOXVUfPZrWa5So21hcIwZb4PZDqHSVSQnRciKhSnG
7gplYPNGZ4+FWbLr/mBRYarjkVFLUuCPexSIjxV1KSGJnWs9YTVAKZAz75GpCML6
jD6biCOQCQ86wqOdWvZIZR8YvurrxR64ABB0rjbsaG8cNOUX1cwAfdLwthf64dS+
2m3lqNGDHkP5eNL0RIxC5gXYEp0lvmlMH3ZuO5WrfH73PTDg89bxXeuhrFmSEwf4
xWm603oi8/2qQvR9/7jb0o+t71NQuWrWIFONZWWgZBUGso+uyT3XgY4YqKGR3z2Q
zKHYnJ6M7SvSYpqS7RtcxcCXF0HGNfES8cAgtKVpFtbtSwXXp8O8oLyjmVIO/NjU
pbLOGdFIsarsezLFV9f2fqZ63J34hyUSg8LrYVV1fA5DJUpebbX4hLpdk0MMtgG4
3BwKIGlJTpL5RkQ/uQU3YW2kairy7o+1imDD0TRzQxtdjVOI5vnlTNcfJZIIfLx4
drABA12OvpX3dfPV62R+8BAlJFT430CG6AISJIBqJRFvuikmnZGUvEHmOUs/FLbb
aXTPkKc7tR2WIwljRvMV+Qk84cWcX6YchMslMuiDM1mtlQZig34WHGSE+zCWnXAs
lIHlSwox7qfdO0Kz2XncSbIA
=QvUh
-----END PGP PUBLIC KEY BLOCK-----</pre></div></div></div><div class=sect3><h4 id=_core_team_secretary_core_secretaryfreebsd_org>D.1.2. Core Team Secretary <code>&lt;<a href=mailto:core-secretary@FreeBSD.org>core-secretary@FreeBSD.org</a>></code><a class=anchor href=#_core_team_secretary_core_secretaryfreebsd_org></a></h4><div class="literalblock literal-block-margin"><div class=content><pre>pub   rsa4096/4D632518C3546B05 2024-02-17 [SC] [expires: 2025-02-16]
      Key fingerprint = 1A23 6A92 528D 00DD 7965  76FE 4D63 2518 C354 6B05
uid                            FreeBSD Core Team Secretary &lt;core-secretary@FreeBSD.org&gt;
sub   rsa4096/CABFDE12CA516ED2 2024-02-17 [E] [expires: 2025-02-16]</pre></div></div><div class="literalblock literal-block-margin"><div class=content><pre>-----BEGIN PGP PUBLIC KEY BLOCK-----

mQINBGXQ1o8BEAC+Rcg8cmVxuP17Vu+q5KgCx/XiulQuqKXAqqBlYCH2jqk6DINP
yFrREGBhzd/qNmlAYEahQ4Zgl0bUZNTrZVDyzicOvPP0jH+KSTQwRs7NOawEdlVO
cyHrwDCPEqf5ZzD4NhfTriEOw+j0pEH/onitUGvoQRtx15xWyaJQxDEBMTYMLewE
86D1bltwnTNczE3UZb7oQLJXkAX5hcLtou70XJGgZITvJkK+kp/xot2eFjnqRz/u
WeXnKhYAmC07EKwZ1uw047eHKwMMRBYqzApLwoQtfE430Kxf2q8de64x8zDbi6YM
1J4r8OAxOtHVyfJ0j7Q23DEZz0VVb4b1Tx5OG2Re/KSNvqI0awJO4TcRmOR88OyY
dzyXgnX6Sa7GVQY1FXvn7vtFuDAt7egZOzeomSHL9bdX07LTQ4UtM88EV9wm3q4q
smoatV9jsvPQ1zxCU3aQD/5eWTJH2/kz1LIuBL/Qi5XQpJn91lBtUWJrCgkHWPGu
f//rnnXmsG7DAChW+yZ7cFO8lfNa8sFhPqSxCYphWmJTrvadyQtDngB8JakWdnmK
pfGS6y5lel+181vw38ZZKt04AKM+nDY8051lBM7Q9Q6kTLI33UZeImndx5xYukVD
kV6aQ31HYfEark15c7iEz+OAcwFnM2ntXMt7kKGd40CqzusiPcQkPqPbAQARAQAB
tDhGcmVlQlNEIENvcmUgVGVhbSBTZWNyZXRhcnkgPGNvcmUtc2VjcmV0YXJ5QEZy
ZWVCU0Qub3JnPokCVwQTAQoAQRYhBBojapJSjQDdeWV2/k1jJRjDVGsFBQJl0NaP
AhsDBQkB4TOACAsJDQgMBwsDBRUKCQgLBRYDAgEAAh4FAheAAAoJEE1jJRjDVGsF
nacP/3PSg8JPmWoBfWrgT287NZ7OAU16/uGpDxlBUoVeEtkEDqZVW8yBFzrMhbwj
bJs3CZ+L85HMUDLZoxSwVnPM8PLVRzHTybYV7agYYzMox5C/jp2aeAgy9KYVd0Tk
07GMTYrSh4fhHWpxXz7IBOxk0RXvQxTHlg1u0DASkibYb2UTDcUNG5Q9kP/8jaIZ
kVDX8a5LDdOCgWaYdKPg4blv/UMjkegJz+Ayp7gXTcux6koW5F6ysSw9sgLBWb2D
b/KNIi4MBMe46xyXB/dqGAR4ibrUXTcQ4OAZNq1L6uWG1A49XuSgykdIwr00MzQw
wfVpKT31ww4ayVHLgj7NuqPlab9S5/fPfJ4MAvGE4GqWQFgsPKgKImUMgnnxTGpv
l7Dqk2MnWqn+wEi0bRES0PVBG96G+sZJQeaxBhoB+HwUSFqoZQg166AJIl//4t2w
bx0a1aWQSS0DZt3wsQW3NW9AE6L+FnFfIc2pQVoLjmvcGalDuvnemRmEOgotiZmt
32bi2aWxg0/Qio2rjLS2LpV+fhwDSN3Agvtnu53yUdD1TFFjTSMloM4SKhiXoPbI
XgfCLiBLNMsZL0AvO7wQfSePzPYxDLyEcwsfPJ8be+eGG1L62RUyad+MdfyXMH/S
m0sgqW/MW6Nv10RyPQOq3Jbgmp2laRMzKTOvQt5WwQf2FEl9uQINBGXQ1o8BEAC9
1cBYn6Z0QmM0OFWdXQI6fMOeNokaa6ngPgt7bzW5NjryqTdwyHOPZdm4DWf1SO/0
+fJRCqxbICyuMAFrb9fDle8bodALjm5ZquTL3D61HpZD4+RwOzOjYP6wLm7h38HT
/yIyK882Ovlw4Xz/TeSiL/VUSWE9twW7yz3oreCeLUBAfzacS9y+syO+aquEd0/x
JBz+mPQbrqfS64rCZXMZEivgsjkQoE6RM+n1rF4kw4Eu3E2kPevVwsoAaY+MEUM8
JAXaJMaNcLIhbeMy7dO/z6z2I3h5bUw5KxfVwzYSzSeRpYh53dNaB4NY+f5/vTrL
4dZmqBcLgcV0zZ02dj/u0SiwWlUFUpFGuSiW16DN7+2zG1zOWi7Nl44JawM62Tlf
mO8zruVGEHaV3e8fFwBLRKM0Sc7e3aLECISsfYeC5ZbRRbpQ1KX+VQr3FBKAMzG4
l9Go7vZ+UcLKpQx2rVPTJt1vDnRV49X6CF2Q/lV9iafQ4MTy6ACdAloT1yfH/lhU
iWQo1qDyRCSlmNBDsYl8gLrwMp4gGQAv3imZHxnJF5ru3nUYGG0U08D5mf2sWv5P
Wh7By8Jm8bmaP8cUF86lO9BJXh2d9QN5jqrAtXqYzenZ+ABSoL1XrD/yv3270rH7
H4gAUtgP+vJ3uMyRu9055OC+ie/b613NojCW5nYN2QARAQABiQI8BBgBCgAmFiEE
GiNqklKNAN15ZXb+TWMlGMNUawUFAmXQ1o8CGwwFCQHhM4AACgkQTWMlGMNUawXh
7w/+KjbEWTwAhjm2HJ3w4tXtPC5URg+A+BzYYVH/q0+956c1QeD0LYafHBw4LEMI
lhRvHQnmzwjtY8v/DgmLOVDMiMWVHo0Q2iQyMvOT1WyEPcgOTJLhvyVzDqRZx7AS
B4G8uNVkKAdBZ7OSXAP27lR/2SEoG05esw8b7Y39pVtucC3aeiua+19PLJWadBjj
XuvXuSCho0km+nk4IgadYmxIDyiMeyKZ8wCl7CJkzECm83q2OtNsMe3k8lgEXybt
KlQxnYApZmhqLMV5ob8WOk3AgAVsif1m332CiEIb1Sfx6wt3nXy/410CXdDDucuj
ndJVfJ6Un33tn0irZ5scPA2HmzK1PGMfgOGtkM8B3LE/x8kEKeWKb3l9boB32Unm
iTfKgEna+JISEab3bzOPWdCQFB8LyGXuWlhtvqmRoX8GtiMRy/F4mzh+l3lYHjj3
4EvPVyippO5zwU+S9HElJ2G37K6zrOmd5cGBrw4aBDoO70QVrMN4O86uvC9kChDb
qyFF5UgXg29QxJjiSCv98ksDMqpJ5AFYrmrsBtwU64OANrxxJ4AZLQ1apYmG9RWD
VHZgfeI60FNBLfKwix9UffFT7piQ/MLrjSde8gPH5S6ezBMrYpfGEopaI9A5qXe3
LnHz88gfdmaBM77YDZM/p23nmCrUxlE3kkbgjTY8NRjYyF8=
=MkAH
-----END PGP PUBLIC KEY BLOCK-----</pre></div></div></div><div class=sect3><h4 id=_ports_management_team_secretary_portmgr_secretaryfreebsd_org>D.1.3. Ports Management Team Secretary <code>&lt;<a href=mailto:portmgr-secretary@FreeBSD.org>portmgr-secretary@FreeBSD.org</a>></code><a class=anchor href=#_ports_management_team_secretary_portmgr_secretaryfreebsd_org></a></h4><div class="literalblock literal-block-margin"><div class=content><pre>pub   ed25519/E3C401F60D709D59 2023-03-06 [SC] [expires: 2027-03-05]
      Key fingerprint = BED4 A1D3 6555 B681 2E9F  ABDA E3C4 01F6 0D70 9D59
uid                            FreeBSD Ports Management Team Secretary &lt;portmgr-secretary@FreeBSD.org&gt;
sub   cv25519/2C92B55E27A641C3 2023-03-06 [E] [expires: 2027-03-05]</pre></div></div><div class="literalblock literal-block-margin"><div class=content><pre>-----BEGIN PGP PUBLIC KEY BLOCK-----

mDMEZAXJvxYJKwYBBAHaRw8BAQdASFAC20WL3R1T6uNyGMZbfJCxDkcP4C5vi3Op
tcZ2fbq0R0ZyZWVCU0QgUG9ydHMgTWFuYWdlbWVudCBUZWFtIFNlY3JldGFyeSA8
cG9ydG1nci1zZWNyZXRhcnlARnJlZUJTRC5vcmc+iJYEExYKAD4WIQS+1KHTZVW2
gS6fq9rjxAH2DXCdWQUCZAXJvwIbAwUJB4TOAAULCQgHAwUVCgkICwUWAwIBAAIe
BQIXgAAKCRDjxAH2DXCdWYN1AP43TjyfZtZ3DLYT++g0+SuPsoO/3yWVybA+UmFL
zb8MngEA+LLNUfvEwCuXS/soh+ww5bpfmi3UUmeGiQEAXug3iA+JATMEEAEKAB0W
IQT7N0XIbxXo7ayBMvzYKU7Du8TX1QUCZAXLkwAKCRDYKU7Du8TX1XHMB/9R1MX4
6zMgpKqPPt76GOI+eGEdBK6bY8aJZjQGdqTh9f6VtXVoTGIG7cvhc9X8tDBoB0PT
2KZWheF51AV1+NHU4HwLAQ1BMebrFvWSfkw4xg4fBGwDhz9/GN85No+Js772V5ey
8lRiL6meRVWxMlLyWcxGd8JjcC5yX/iAUQ3SBGCLqW7unWjjg7CTd+AMBwcqPGrv
ax8q6eFVguJcHJAjMnKf6HAy4cpK3s+uMoUBCGnszSN12B3ysKfyC4pNO/pix5tA
Q5v8aRqTeFPh5zmNhWo0KGPzplTPqRQSHDl7GDQC8Ru3MhzFkeWzHsexjZVwS6W2
DPcYpuuAsA0XOZIZiQIzBBABCgAdFiEEEBpxaxYrAOVb7eoFrbv4YQo3ibcFAmQF
0u0ACgkQrbv4YQo3ibccwg/9F2Xuic3nhKxRbB3mJeDo6SYQETa/Gh1qQ34+8zlt
8UMazOx67gnYQfy+pXjro6eQ2up0a4eUYezcNOudqAQD21nRz3HA6EQVNcE/TzEA
xl5CJntTaLOt7S+EDXFW5BuQIvhhoMGgm8+WNVgA0EJ7tfL0OcYBSvr19fqwChEn
9c14cSk6mgHSsleP5NvskYN053pxHwy0LTSb8YBBv52th37t/CRFC1363rS5q+D7
JixFopd1O5pKpA5ipvE4gGgRjPtwjx0SjjepwK/3fuhEJQQyKzTIKlMfu2Dj/iR2
Li1Sfccau5LQXOj9fUITU3u1YG7yrm8VGzT7ao4d+KRwgMLjd2pLqiGIbbJwGBiP
FRmtilWQoeIlmSlFX4obAA517DOK0pW1mH8+eEn4EJd3SekT3yzFyKTASv0J48Z8
3F928xg+eZvHxVC0t1J+J5IG0gt3EEncuWKIPQGR7PiQbti6R3FQVTz6WfMWOebP
Qi0E9F/Aqakr6Vj2sKGrDq+ebpaF5G8Yw1YrUl2IDiPzkCegp3ZbI0wh11Xvzhi8
LXPQGK4jBQas4G8cegfitzmtdGRHYrbMv0R9I4mvaL+WlOuD2AvyVG28lguqVhnN
AZP+ohdquYyX2CNCVvbKWAtXo6Ur0vWG8BL8m6defAtEkIwVBALaOHQOSI3aNUz4
lwy4OARkBcm/EgorBgEEAZdVAQUBAQdAsefmSfxEOdOr02+K/6noYCuJ1FeAWVz6
jFYQ+9w6jggDAQgHiH4EGBYKACYWIQS+1KHTZVW2gS6fq9rjxAH2DXCdWQUCZAXJ
vwIbDAUJB4TOAAAKCRDjxAH2DXCdWRl4AP9h5ot212BK29S6ZcMBhHvmtF5PG1oD
c7LnZycSRmbFiwEAndCMpAGOhDW8iVgDd0wLQq/ZMPe+xccfG1b3zFH2EgE=
=iiAT
-----END PGP PUBLIC KEY BLOCK-----</pre></div></div></div><div class=sect3><h4 id=_doceng_secretaryfreebsd_org>D.1.4. <code>&lt;<a href=mailto:doceng-secretary@FreeBSD.org>doceng-secretary@FreeBSD.org</a>></code><a class=anchor href=#_doceng_secretaryfreebsd_org></a></h4><div class="literalblock literal-block-margin"><div class=content><pre>pub   rsa2048/E1C03580AEB45E58 2019-10-31 [SC] [expires: 2022-10-30]
      Key fingerprint = F24D 7B32 B864 625E 5541  A0E4 E1C0 3580 AEB4 5E58
uid                            FreeBSD Doceng Team Secretary &lt;doceng-secretary@freebsd.org&gt;
sub   rsa2048/9EA8D713509472FC 2019-10-31 [E] [expires: 2022-10-30]</pre></div></div><div class="literalblock literal-block-margin"><div class=content><pre>-----BEGIN PGP PUBLIC KEY BLOCK-----

mQENBF27FFcBCADeoSsIgyQUY8vREwkTikwFFlNg31MVy5s/Nq1cNK1PRfRMnprS
yfB62KqbYuz16bmQKaA9zHN4FGfiTvR6tl66LVHm1s/5HPiLv8sP14GsruLro9zN
v72dO7a9i68bMw+jarPOnu9dGiDFEI0dACOkdCGEYKEUapQeNpmWRrQ46BeXyFwF
JcNx76bJJUkwk6fWC0W63D762e6lCEX6ndoaPjjLBnFvtx13heNGUc8RukBwe2mA
U5pSGHj47J05bdWiRSwZaXa8PcW+20zTWaP755w7zWe4h60GANY7OsT9nuOqsioJ
QonxTrJuZweKRV8fNQ1EfDws3HZr7/7iXvO3ABEBAAG0PEZyZWVCU0QgRG9jZW5n
IFRlYW0gU2VjcmV0YXJ5IDxkb2Nlbmctc2VjcmV0YXJ5QGZyZWVic2Qub3JnPokB
VAQTAQoAPhYhBPJNezK4ZGJeVUGg5OHANYCutF5YBQJduxRXAhsDBQkFo5qABQsJ
CAcDBRUKCQgLBRYDAgEAAh4BAheAAAoJEOHANYCutF5YB2IIALw+EPYmOz9qlqIn
oTFmk/5MrcdzC5iLEfxubbF6TopDWsWPiOh5mAuvfEmROSGf6ctvdYe9UtQV3VNY
KeeyskeFrIBOFo2KG/dFqKPAWef6IfhbW3HWDWo5uOBg01jHzQ/pB1n6SMKiXfsM
idL9wN+UQKxF3Y7S/bVrZTV0isRUolO9+8kQeSYT/NMojVM0H2fWrTP/TaNEW4fY
JBDAl5hsktzdl8sdbNqdC0GiX3xb4GvgVzGGQELagsxjfuXk6PfOyn6Wx2d+yRcI
FrKojmhihBp5VGFQkntBIXQkaW0xhW+WBGxwXdaAl0drQlZ3W+edgdOl705x73kf
Uw3Fh2a5AQ0EXbsUVwEIANEPAsltM4vFj2pi5xEuHEcZIrIX/ZJhoaBtZkqvkB+H
4pu3/eQHK5hg0Dw12ugffPMz8mi57iGNI9TXd8ZYMJxAdvEZSDHCKZTX9G+FcxWa
/AzKNiG25uSISzz7rMB/lV1gofCdGtpHFRFTiNxFcoacugTdlYDiscgJZMJSg/hC
GXBdEKXR5WRAgAGandcL8llCToOt1lZEOkd5vJM861w6evgDhAZ2HGhRuG8/NDxG
r4UtlnYGUCFof/Q4oPNbDJzmZXF+8OQyTNcEpVD3leEOWG1Uv5XWS2XKVHcHZZ++
ISo/B5Q6Oi3SJFCVV9f+g09YF+PgfP/mVMBgif2fT20AEQEAAYkBPAQYAQoAJhYh
BPJNezK4ZGJeVUGg5OHANYCutF5YBQJduxRXAhsMBQkFo5qAAAoJEOHANYCutF5Y
kecIAMTh2VHQqjXHTszQMsy3NjiTVVITI3z+pzY0u2EYmLytXQ2pZMzLHMcklmub
5po0X4EvL6bZiJcLMI2mSrOs0Gp8P3hyMI40IkqoLMp7VA2LFlPgIJ7K5W4oVwf8
khY6lw7qg2l69APm/MM3xAyiL4p6MU8tpvWg5AncZ6lxyy27rxVflzEtCrKQuG/a
oVaOlMjH3uxvOK6IIxlhvWD0nKs/e2h2HIAZ+ILE6ytS5ZEg2GXuigoQZdEnv71L
xyvE9JANwGZLkDxnS5pgN2ikfkQYlFpJEkrNTQleCOHIIIp8vgJngEaP51xOIbQM
CiG/y3cmKQ/ZfH7BBvlZVtZKQsI=
=MQKT
-----END PGP PUBLIC KEY BLOCK-----</pre></div></div></div></div></div></div></div><hr><div class=last-modified><p><strong>Ultima modifica</strong>: 11 dicembre 2021 da <a href="https://cgit.freebsd.org/doc/commit/?id=2b027dd017" target=_blank>Sergio Carlavilla Delgado</a></p></div><div class=buttons><div class=home><i class="fa fa-home" aria-hidden=true title=Home></i><div class=container><a href=../ class=direction>Home</a></div></div></div><label class="hidden book-menu-overlay" for=menu-control></label></div><aside class=toc><div class=toc-content><h3>Indice</h3><nav id=TableOfContents><ul><li><a href=#book-preface>Prefazione</a><ul><li><a href=#preface-audience>A chi si rivolge</a></li><li><a href=#italian-notes>Note alla Edizione Italiana</a></li><li><a href=#preface-overview>Organizzazione di Questo Libro</a></li><li><a href=#preface-conv>Convenzioni usate in questo libro</a></li><li><a href=#preface-acknowledgements>Riconoscimenti</a></li></ul></li><li><a href=#getting-started>Parte I: Per Cominciare</a><ul><li><a href=#introduction>Capitolo 1. Introduzione</a></li><li><a href=#install>Capitolo 2. Installazione di FreeBSD</a></li><li><a href=#basics>Capitolo 3. Basi di Unix</a></li><li><a href=#ports>Capitolo 4. Installazione delle Applicazioni: Port e Package</a></li><li><a href=#x11>Capitolo 5. L’X Window System</a></li></ul></li><li><a href=#common-tasks>Parte II: Compiti Ordinari</a><ul><li><a href=#desktop>Capitolo 6. Applicazioni Desktop</a></li><li><a href=#multimedia>Capitolo 7. Multimedia</a></li><li><a href=#kernelconfig>Capitolo 8. Configurazione del Kernel di FreeBSD</a></li><li><a href=#printing>Capitolo 9. Stampa</a></li><li><a href=#linuxemu>Capitolo 10. Compatibilità con i Binari di Linux</a></li></ul></li><li><a href=#system-administration>Parte III: Amministrazione del Sistema</a><ul><li><a href=#config-tuning>Capitolo 11. Configurazione e Messa a Punto</a></li><li><a href=#boot>Capitolo 12. La Procedura di Avvio di FreeBSD</a></li><li><a href=#users>Capitolo 13. Gestione degli Utenti e degli Account di Base</a></li><li><a href=#security>Capitolo 14. Sicurezza</a></li><li><a href=#jails>Capitolo 15. Jail</a></li><li><a href=#mac>Capitolo 16. Mandatory Access Control</a></li><li><a href=#audit>Capitolo 17. Auditing degli Eventi di Sicurezza</a></li><li><a href=#disks>Capitolo 18. Archiviazione dei Dati</a></li><li><a href=#geom>Capitolo 19. GEOM: Framework modulare per la trasformazione del disco</a></li><li><a href=#vinum-vinum>Capitolo 20. Il Gestore di Volumi Vinum</a></li><li><a href=#virtualization>Capitolo 21. Virtualizzazione</a></li><li><a href=#l10n>Capitolo 22. Localizzazione - Uso e Impostazione dell’I18N/L10N</a></li><li><a href=#updating-upgrading>Capitolo 23. Lo Stato dell’Arte</a></li></ul></li><li><a href=#network-communication>Parte IV: Comunicazione di Rete</a><ul><li><a href=#serialcomms>Capitolo 24. Comunicazioni Seriali</a></li><li><a href=#ppp-and-slip>Capitolo 25. PPP e SLIP</a></li><li><a href=#mail>Capitolo 26. Posta Elettronica</a></li><li><a href=#network-servers>Capitolo 27. Server di rete</a></li><li><a href=#firewalls>Capitolo 28. Firewall</a></li><li><a href=#advanced-networking>Capitolo 29. Networking Avanzato</a></li></ul></li><li><a href=#appendices>Parte V: Appendici</a><ul><li><a href=#mirrors>Appendice A: Ottenere FreeBSD</a></li><li><a href=#bibliography>Appendice B: Bibliografia</a></li><li><a href=#eresources>Appendice C: Risorse su Internet</a></li><li><a href=#pgpkeys>Appendice D: Chiavi PGP</a></li></ul></li></ul></nav><hr><div class=resources><h3>Risorse</h3><ul class=contents><li><i class="fa fa-file-pdf-o" aria-hidden=true title="Scarica PDF"></i><a href=https://download.freebsd.org/doc/it/books/handbook/handbook_it.pdf>Scarica PDF</a></li><li><i class="fa fa-pencil-square-o" aria-hidden=true title="Modifica questa pagina"></i><a href=https://github.com/freebsd/freebsd-doc/blob/main/documentation/content/it/book target=_blank>Modifica questa pagina</a></li></ul></div></div></aside><a class=to-top href=#top><i class="fa fa-arrow-circle-up" aria-hidden=true></i></a></main><footer><div class=footer-container><section class=logo-column><img src=https://docs.freebsd.org/images/FreeBSD-colors.svg width=160 height=50 alt="FreeBSD logo"><div class=options-container><div class=language-container><a id=languages href=https://docs.freebsd.org/it/languages><img src=https://docs.freebsd.org/images/language.png class=language-image alt="Scegli una lingua">
<span>Italian</span></a></div><div class=theme-container><select id=theme-chooser><option value=theme-system>System</option><option value=theme-light>Light</option><option value=theme-dark>Dark</option><option value=theme-high-contrast>Alto contrasto</option></select></div></div></section><section class=about-column><h3 class=column-title>About</h3><ul class=column-elements-container><li><a href=https://www.freebsd.org/about/ target=_blank class=column-element>FreeBSD</a></li><li><a href=https://freebsdfoundation.org/ target=_blank class=column-element>FreeBSD Foundation</a></li><li><a href=https://www.freebsd.org/where/ target=_blank class=column-element>Get FreeBSD</a></li><li><a href=https://www.freebsd.org/internal/code-of-conduct target=_blank class=column-element>Code of Conduct</a></li><li><a href=https://www.freebsd.org/security/ target=_blank class=column-element>Security Advisories</a></li></ul></section><section class=documentation-column><h3 class=column-title>Documentation</h3><ul class=column-elements-container><li><a href=/it class=column-element>Documentation portal</a></li><li><a href=https://man.FreeBSD.org target=_blank class=column-element>Manual pages</a></li><li><a href=https://papers.FreeBSD.org target=_blank class=column-element>Presentations and papers</a></li><li><a href=https://docs-archive.freebsd.org/doc/ target=_blank class=column-element>Previous versions</a></li><li><a href=https://docs-archive.freebsd.org/44doc/ target=_blank class=column-element>4.4BSD Documents</a></li><li><a href=https://wiki.freebsd.org/ target=_blank class=column-element>Wiki</a></li></ul></section><section class=community-column><h3 class=column-title>Community</h3><ul class=column-elements-container><li><a href=https://docs.freebsd.org/it/articles/contributing class=column-element>Get involved</a></li><li><a href=https://forums.freebsd.org/ target=_blank class=column-element>Community forum</a></li><li><a href=https://lists.freebsd.org/ target=_blank class=column-element>Mailing lists</a></li><li><a href=https://wiki.freebsd.org/IRC/Channels target=_blank class=column-element>IRC Channels</a></li><li><a href=https://bugs.freebsd.org/bugzilla/ target=_blank class=column-element>Bug Tracker</a></li></ul></section><section class=legal-column><h3 class=column-title>Legal</h3><ul class=column-elements-container><li><a href=https://freebsdfoundation.org/donate/ target=_blank class=column-element>Donations</a></li><li><a href=https://www.freebsd.org/copyright/freebsd-license/ target=_blank class=column-element>Licensing</a></li><li><a href=https://www.freebsd.org/privacy/ target=_blank class=column-element>Privacy Policy</a></li><li><a href=https://www.freebsd.org/copyright/ target=_blank class=column-element>Legal notices</a></li></ul></section><section class=copyright-column><p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p><span>Made with <span class=heart>♥</span> by the FreeBSD Community</span></section></div></footer></body></html>